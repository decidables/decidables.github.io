var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},check=function(t){return t&&t.Math===Math&&t},globalThis_1=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||check("object"==typeof globalThis_1&&globalThis_1)||function(){return this}()||Function("return this")(),globalThis$H=globalThis_1,path$1=globalThis$H,fails$t=function(t){try{return!!t()}catch(t){return!0}},fails$s=fails$t,functionBindNative=!fails$s(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),NATIVE_BIND$3=functionBindNative,FunctionPrototype$2=Function.prototype,call$v=FunctionPrototype$2.call,uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$2.bind.bind(call$v,call$v),functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(t){return function(){return call$v.apply(t,arguments)}},isNullOrUndefined$5=function(t){return null==t},isNullOrUndefined$4=isNullOrUndefined$5,$TypeError$o=TypeError,requireObjectCoercible$9=function(t){if(isNullOrUndefined$4(t))throw new $TypeError$o("Can't call method on "+t);return t},requireObjectCoercible$8=requireObjectCoercible$9,$Object$4=Object,toObject$5=function(t){return $Object$4(requireObjectCoercible$8(t))},uncurryThis$B=functionUncurryThis,toObject$4=toObject$5,hasOwnProperty=uncurryThis$B({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(t,e){return hasOwnProperty(toObject$4(t),e)},wellKnownSymbolWrapped={},sharedStore={exports:{}},isPure=!1,globalThis$G=globalThis_1,defineProperty$6=Object.defineProperty,defineGlobalProperty$3=function(t,e){try{defineProperty$6(globalThis$G,t,{value:e,configurable:!0,writable:!0})}catch(s){globalThis$G[t]=e}return e},globalThis$F=globalThis_1,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=sharedStore.exports=globalThis$F[SHARED]||defineGlobalProperty$2(SHARED,{});(store$3.versions||(store$3.versions=[])).push({version:"3.47.0",mode:"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var match,version,sharedStoreExports=sharedStore.exports,store$2=sharedStoreExports,shared$4=function(t,e){return store$2[t]||(store$2[t]=e||{})},uncurryThis$A=functionUncurryThis,id$1=0,postfix=Math.random(),toString$b=uncurryThis$A(1.1.toString),uid$4=function(t){return"Symbol("+(void 0===t?"":t)+")_"+toString$b(++id$1+postfix,36)},globalThis$E=globalThis_1,navigator$1=globalThis$E.navigator,userAgent$3=navigator$1&&navigator$1.userAgent,environmentUserAgent=userAgent$3?String(userAgent$3):"",globalThis$D=globalThis_1,userAgent$2=environmentUserAgent,process$1=globalThis$D.process,Deno$1=globalThis$D.Deno,versions=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8;v8&&(version=(match=v8.split("."))[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent$2&&(!(match=userAgent$2.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent$2.match(/Chrome\/(\d+)/))&&(version=+match[1]);var environmentV8Version=version,V8_VERSION$1=environmentV8Version,fails$r=fails$t,globalThis$C=globalThis_1,$String$6=globalThis$C.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$r(function(){var t=Symbol("symbol detection");return!$String$6(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41}),NATIVE_SYMBOL$1=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,globalThis$B=globalThis_1,shared$3=shared$4,hasOwn$i=hasOwnProperty_1,uid$3=uid$4,NATIVE_SYMBOL=symbolConstructorDetection,USE_SYMBOL_AS_UID$1=useSymbolAsUid,Symbol$3=globalThis$B.Symbol,WellKnownSymbolsStore=shared$3("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID$1?Symbol$3.for||Symbol$3:Symbol$3&&Symbol$3.withoutSetter||uid$3,wellKnownSymbol$k=function(t){return hasOwn$i(WellKnownSymbolsStore,t)||(WellKnownSymbolsStore[t]=NATIVE_SYMBOL&&hasOwn$i(Symbol$3,t)?Symbol$3[t]:createWellKnownSymbol("Symbol."+t)),WellKnownSymbolsStore[t]},wellKnownSymbol$j=wellKnownSymbol$k;wellKnownSymbolWrapped.f=wellKnownSymbol$j;var objectDefineProperty={},fails$q=fails$t,descriptors=!fails$q(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),documentAll="object"==typeof document&&document.all,isCallable$l=void 0===documentAll&&void 0!==documentAll?function(t){return"function"==typeof t||t===documentAll}:function(t){return"function"==typeof t},isCallable$k=isCallable$l,isObject$f=function(t){return"object"==typeof t?null!==t:isCallable$k(t)},globalThis$A=globalThis_1,isObject$e=isObject$f,document$1=globalThis$A.document,EXISTS$1=isObject$e(document$1)&&isObject$e(document$1.createElement),documentCreateElement$1=function(t){return EXISTS$1?document$1.createElement(t):{}},DESCRIPTORS$h=descriptors,fails$p=fails$t,createElement$1=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$h&&!fails$p(function(){return 7!==Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a}),DESCRIPTORS$g=descriptors,fails$o=fails$t,v8PrototypeDefineBug=DESCRIPTORS$g&&fails$o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),isObject$d=isObject$f,$String$5=String,$TypeError$n=TypeError,anObject$s=function(t){if(isObject$d(t))return t;throw new $TypeError$n($String$5(t)+" is not an object")},NATIVE_BIND$2=functionBindNative,call$u=Function.prototype.call,functionCall=NATIVE_BIND$2?call$u.bind(call$u):function(){return call$u.apply(call$u,arguments)},globalThis$z=globalThis_1,isCallable$j=isCallable$l,aFunction=function(t){return isCallable$j(t)?t:void 0},getBuiltIn$j=function(t,e){return arguments.length<2?aFunction(globalThis$z[t]):globalThis$z[t]&&globalThis$z[t][e]},uncurryThis$z=functionUncurryThis,objectIsPrototypeOf=uncurryThis$z({}.isPrototypeOf),getBuiltIn$i=getBuiltIn$j,isCallable$i=isCallable$l,isPrototypeOf$5=objectIsPrototypeOf,USE_SYMBOL_AS_UID=useSymbolAsUid,$Object$3=Object,isSymbol$4=USE_SYMBOL_AS_UID?function(t){return"symbol"==typeof t}:function(t){var e=getBuiltIn$i("Symbol");return isCallable$i(e)&&isPrototypeOf$5(e.prototype,$Object$3(t))},$String$4=String,tryToString$3=function(t){try{return $String$4(t)}catch(t){return"Object"}},isCallable$h=isCallable$l,tryToString$2=tryToString$3,$TypeError$m=TypeError,aCallable$l=function(t){if(isCallable$h(t))return t;throw new $TypeError$m(tryToString$2(t)+" is not a function")},aCallable$k=aCallable$l,isNullOrUndefined$3=isNullOrUndefined$5,getMethod$b=function(t,e){var s=t[e];return isNullOrUndefined$3(s)?void 0:aCallable$k(s)},call$t=functionCall,isCallable$g=isCallable$l,isObject$c=isObject$f,$TypeError$l=TypeError,ordinaryToPrimitive$1=function(t,e){var s,i;if("string"===e&&isCallable$g(s=t.toString)&&!isObject$c(i=call$t(s,t)))return i;if(isCallable$g(s=t.valueOf)&&!isObject$c(i=call$t(s,t)))return i;if("string"!==e&&isCallable$g(s=t.toString)&&!isObject$c(i=call$t(s,t)))return i;throw new $TypeError$l("Can't convert object to primitive value")},call$s=functionCall,isObject$b=isObject$f,isSymbol$3=isSymbol$4,getMethod$a=getMethod$b,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$i=wellKnownSymbol$k,$TypeError$k=TypeError,TO_PRIMITIVE=wellKnownSymbol$i("toPrimitive"),toPrimitive$2=function(t,e){if(!isObject$b(t)||isSymbol$3(t))return t;var s,i=getMethod$a(t,TO_PRIMITIVE);if(i){if(void 0===e&&(e="default"),s=call$s(i,t,e),!isObject$b(s)||isSymbol$3(s))return s;throw new $TypeError$k("Can't convert object to primitive value")}return void 0===e&&(e="number"),ordinaryToPrimitive(t,e)},toPrimitive$1=toPrimitive$2,isSymbol$2=isSymbol$4,toPropertyKey$3=function(t){var e=toPrimitive$1(t,"string");return isSymbol$2(e)?e:e+""},DESCRIPTORS$f=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$r=anObject$s,toPropertyKey$2=toPropertyKey$3,$TypeError$j=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$f?V8_PROTOTYPE_DEFINE_BUG$1?function(t,e,s){if(anObject$r(t),e=toPropertyKey$2(e),anObject$r(s),"function"==typeof t&&"prototype"===e&&"value"in s&&WRITABLE in s&&!s[WRITABLE]){var i=$getOwnPropertyDescriptor$1(t,e);i&&i[WRITABLE]&&(t[e]=s.value,s={configurable:CONFIGURABLE$1 in s?s[CONFIGURABLE$1]:i[CONFIGURABLE$1],enumerable:ENUMERABLE in s?s[ENUMERABLE]:i[ENUMERABLE],writable:!1})}return $defineProperty(t,e,s)}:$defineProperty:function(t,e,s){if(anObject$r(t),e=toPropertyKey$2(e),anObject$r(s),IE8_DOM_DEFINE$1)try{return $defineProperty(t,e,s)}catch(t){}if("get"in s||"set"in s)throw new $TypeError$j("Accessors not supported");return"value"in s&&(t[e]=s.value),t};var path=path$1,hasOwn$h=hasOwnProperty_1,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineProperty$5=objectDefineProperty.f,wellKnownSymbolDefine=function(t){var e=path.Symbol||(path.Symbol={});hasOwn$h(e,t)||defineProperty$5(e,t,{value:wrappedWellKnownSymbolModule.f(t)})},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$4=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$4&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(t){var e=getOwnPropertyDescriptor$4(this,t);return!!e&&e.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$6=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},uncurryThis$y=functionUncurryThis,toString$a=uncurryThis$y({}.toString),stringSlice$3=uncurryThis$y("".slice),classofRaw$2=function(t){return stringSlice$3(toString$a(t),8,-1)},uncurryThis$x=functionUncurryThis,fails$n=fails$t,classof$d=classofRaw$2,$Object$2=Object,split=uncurryThis$x("".split),indexedObject=fails$n(function(){return!$Object$2("z").propertyIsEnumerable(0)})?function(t){return"String"===classof$d(t)?split(t,""):$Object$2(t)}:$Object$2,IndexedObject=indexedObject,requireObjectCoercible$7=requireObjectCoercible$9,toIndexedObject$5=function(t){return IndexedObject(requireObjectCoercible$7(t))},DESCRIPTORS$e=descriptors,call$r=functionCall,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$5=createPropertyDescriptor$6,toIndexedObject$4=toIndexedObject$5,toPropertyKey$1=toPropertyKey$3,hasOwn$g=hasOwnProperty_1,IE8_DOM_DEFINE=ie8DomDefine,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$e?$getOwnPropertyDescriptor:function(t,e){if(t=toIndexedObject$4(t),e=toPropertyKey$1(e),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(t,e)}catch(t){}if(hasOwn$g(t,e))return createPropertyDescriptor$5(!call$r(propertyIsEnumerableModule.f,t,e),t[e])};var globalThis$y=globalThis_1,defineWellKnownSymbol$1=wellKnownSymbolDefine,defineProperty$4=objectDefineProperty.f,getOwnPropertyDescriptor$3=objectGetOwnPropertyDescriptor.f,Symbol$2=globalThis$y.Symbol;if(defineWellKnownSymbol$1("asyncDispose"),Symbol$2){var descriptor$2=getOwnPropertyDescriptor$3(Symbol$2,"asyncDispose");descriptor$2.enumerable&&descriptor$2.configurable&&descriptor$2.writable&&defineProperty$4(Symbol$2,"asyncDispose",{value:descriptor$2.value,enumerable:!1,configurable:!1,writable:!1})}var globalThis$x=globalThis_1,defineWellKnownSymbol=wellKnownSymbolDefine,defineProperty$3=objectDefineProperty.f,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,Symbol$1=globalThis$x.Symbol;if(defineWellKnownSymbol("dispose"),Symbol$1){var descriptor$1=getOwnPropertyDescriptor$2(Symbol$1,"dispose");descriptor$1.enumerable&&descriptor$1.configurable&&descriptor$1.writable&&defineProperty$3(Symbol$1,"dispose",{value:descriptor$1.value,enumerable:!1,configurable:!1,writable:!1})}var DESCRIPTORS$d=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$4=createPropertyDescriptor$6,createNonEnumerableProperty$7=DESCRIPTORS$d?function(t,e,s){return definePropertyModule$4.f(t,e,createPropertyDescriptor$4(1,s))}:function(t,e,s){return t[e]=s,t},makeBuiltIn$3={exports:{}},DESCRIPTORS$c=descriptors,hasOwn$f=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$c&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$f(FunctionPrototype$1,"name"),CONFIGURABLE=EXISTS&&(!DESCRIPTORS$c||DESCRIPTORS$c&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={CONFIGURABLE:CONFIGURABLE},uncurryThis$w=functionUncurryThis,isCallable$f=isCallable$l,store$1=sharedStoreExports,functionToString=uncurryThis$w(Function.toString);isCallable$f(store$1.inspectSource)||(store$1.inspectSource=function(t){return functionToString(t)});var set$4,get$3,has$7,inspectSource$2=store$1.inspectSource,globalThis$w=globalThis_1,isCallable$e=isCallable$l,WeakMap$2=globalThis$w.WeakMap,weakMapBasicDetection=isCallable$e(WeakMap$2)&&/native code/.test(String(WeakMap$2)),shared$2=shared$4,uid$2=uid$4,keys$1=shared$2("keys"),sharedKey$3=function(t){return keys$1[t]||(keys$1[t]=uid$2(t))},hiddenKeys$4={},NATIVE_WEAK_MAP=weakMapBasicDetection,globalThis$v=globalThis_1,isObject$a=isObject$f,createNonEnumerableProperty$6=createNonEnumerableProperty$7,hasOwn$e=hasOwnProperty_1,shared$1=sharedStoreExports,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$5=globalThis$v.TypeError,WeakMap$1=globalThis$v.WeakMap,enforce=function(t){return has$7(t)?get$3(t):set$4(t,{})},getterFor=function(t){return function(e){var s;if(!isObject$a(e)||(s=get$3(e)).type!==t)throw new TypeError$5("Incompatible receiver, "+t+" required");return s}};if(NATIVE_WEAK_MAP||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$1);store.get=store.get,store.has=store.has,store.set=store.set,set$4=function(t,e){if(store.has(t))throw new TypeError$5(OBJECT_ALREADY_INITIALIZED);return e.facade=t,store.set(t,e),e},get$3=function(t){return store.get(t)||{}},has$7=function(t){return store.has(t)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$4=function(t,e){if(hasOwn$e(t,STATE))throw new TypeError$5(OBJECT_ALREADY_INITIALIZED);return e.facade=t,createNonEnumerableProperty$6(t,STATE,e),e},get$3=function(t){return hasOwn$e(t,STATE)?t[STATE]:{}},has$7=function(t){return hasOwn$e(t,STATE)}}var internalState={set:set$4,get:get$3,has:has$7,enforce:enforce,getterFor:getterFor},uncurryThis$v=functionUncurryThis,fails$m=fails$t,isCallable$d=isCallable$l,hasOwn$d=hasOwnProperty_1,DESCRIPTORS$b=descriptors,CONFIGURABLE_FUNCTION_NAME=functionName.CONFIGURABLE,inspectSource$1=inspectSource$2,InternalStateModule$5=internalState,enforceInternalState$1=InternalStateModule$5.enforce,getInternalState$2=InternalStateModule$5.get,$String$3=String,defineProperty$2=Object.defineProperty,stringSlice$2=uncurryThis$v("".slice),replace$1=uncurryThis$v("".replace),join$2=uncurryThis$v([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$b&&!fails$m(function(){return 8!==defineProperty$2(function(){},"length",{value:8}).length}),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(t,e,s){"Symbol("===stringSlice$2($String$3(e),0,7)&&(e="["+replace$1($String$3(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),s&&s.getter&&(e="get "+e),s&&s.setter&&(e="set "+e),(!hasOwn$d(t,"name")||CONFIGURABLE_FUNCTION_NAME&&t.name!==e)&&(DESCRIPTORS$b?defineProperty$2(t,"name",{value:e,configurable:!0}):t.name=e),CONFIGURABLE_LENGTH&&s&&hasOwn$d(s,"arity")&&t.length!==s.arity&&defineProperty$2(t,"length",{value:s.arity});try{s&&hasOwn$d(s,"constructor")&&s.constructor?DESCRIPTORS$b&&defineProperty$2(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=enforceInternalState$1(t);return hasOwn$d(i,"source")||(i.source=join$2(TEMPLATE,"string"==typeof e?e:"")),t};Function.prototype.toString=makeBuiltIn$2(function(){return isCallable$d(this)&&getInternalState$2(this).source||inspectSource$1(this)},"toString");var makeBuiltInExports=makeBuiltIn$3.exports,isCallable$c=isCallable$l,definePropertyModule$3=objectDefineProperty,makeBuiltIn$1=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$b=function(t,e,s,i){i||(i={});var n=i.enumerable,a=void 0!==i.name?i.name:e;if(isCallable$c(s)&&makeBuiltIn$1(s,a,i),i.global)n?t[e]=s:defineGlobalProperty$1(e,s);else{try{i.unsafe?t[e]&&(n=!0):delete t[e]}catch(t){}n?t[e]=s:definePropertyModule$3.f(t,e,{value:s,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t},objectGetOwnPropertyNames={},ceil$1=Math.ceil,floor=Math.floor,mathTrunc=Math.trunc||function(t){var e=+t;return(e>0?floor:ceil$1)(e)},trunc=mathTrunc,toIntegerOrInfinity$8=function(t){var e=+t;return e!=e||0===e?0:trunc(e)},toIntegerOrInfinity$7=toIntegerOrInfinity$8,max$3=Math.max,min$5=Math.min,toAbsoluteIndex$1=function(t,e){var s=toIntegerOrInfinity$7(t);return s<0?max$3(s+e,0):min$5(s,e)},toIntegerOrInfinity$6=toIntegerOrInfinity$8,min$4=Math.min,toLength$3=function(t){var e=toIntegerOrInfinity$6(t);return e>0?min$4(e,9007199254740991):0},toLength$2=toLength$3,lengthOfArrayLike$6=function(t){return toLength$2(t.length)},toIndexedObject$3=toIndexedObject$5,toAbsoluteIndex=toAbsoluteIndex$1,lengthOfArrayLike$5=lengthOfArrayLike$6,createMethod$2=function(t){return function(e,s,i){var n=toIndexedObject$3(e),a=lengthOfArrayLike$5(n);if(0===a)return!t&&-1;var l,r=toAbsoluteIndex(i,a);if(t&&s!=s){for(;a>r;)if((l=n[r++])!=l)return!0}else for(;a>r;r++)if((t||r in n)&&n[r]===s)return t||r||0;return!t&&-1}},arrayIncludes={indexOf:createMethod$2(!1)},uncurryThis$u=functionUncurryThis,hasOwn$c=hasOwnProperty_1,toIndexedObject$2=toIndexedObject$5,indexOf$1=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$7=uncurryThis$u([].push),objectKeysInternal=function(t,e){var s,i=toIndexedObject$2(t),n=0,a=[];for(s in i)!hasOwn$c(hiddenKeys$2,s)&&hasOwn$c(i,s)&&push$7(a,s);for(;e.length>n;)hasOwn$c(i,s=e[n++])&&(~indexOf$1(a,s)||push$7(a,s));return a},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(t){return internalObjectKeys$1(t,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$h=getBuiltIn$j,uncurryThis$t=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$q=anObject$s,concat=uncurryThis$t([].concat),ownKeys$1=getBuiltIn$h("Reflect","ownKeys")||function(t){var e=getOwnPropertyNamesModule.f(anObject$q(t)),s=getOwnPropertySymbolsModule.f;return s?concat(e,s(t)):e},hasOwn$b=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$2=objectDefineProperty,copyConstructorProperties$2=function(t,e,s){for(var i=ownKeys(e),n=definePropertyModule$2.f,a=getOwnPropertyDescriptorModule.f,l=0;l<i.length;l++){var r=i[l];hasOwn$b(t,r)||s&&hasOwn$b(s,r)||n(t,r,a(e,r))}},fails$l=fails$t,isCallable$b=isCallable$l,replacement=/#|\.prototype\./,isForced$1=function(t,e){var s=data$1[normalize$1(t)];return s===POLYFILL||s!==NATIVE&&(isCallable$b(e)?fails$l(e):!!e)},normalize$1=isForced$1.normalize=function(t){return String(t).replace(replacement,".").toLowerCase()},data$1=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,globalThis$u=globalThis_1,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$5=createNonEnumerableProperty$7,defineBuiltIn$a=defineBuiltIn$b,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$1=copyConstructorProperties$2,isForced=isForced_1,_export=function(t,e){var s,i,n,a,l,r=t.target,c=t.global,B=t.stat;if(s=c?globalThis$u:B?globalThis$u[r]||defineGlobalProperty(r,{}):globalThis$u[r]&&globalThis$u[r].prototype)for(i in e){if(a=e[i],n=t.dontCallGetSet?(l=getOwnPropertyDescriptor$1(s,i))&&l.value:s[i],!isForced(c?i:r+(B?".":"#")+i,t.forced)&&void 0!==n){if(typeof a==typeof n)continue;copyConstructorProperties$1(a,n)}(t.sham||n&&n.sham)&&createNonEnumerableProperty$5(a,"sham",!0),defineBuiltIn$a(s,i,a,t)}},wellKnownSymbol$h=wellKnownSymbol$k,TO_STRING_TAG$7=wellKnownSymbol$h("toStringTag"),test={};test[TO_STRING_TAG$7]="z";var toStringTagSupport="[object z]"===String(test),TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$a=isCallable$l,classofRaw$1=classofRaw$2,wellKnownSymbol$g=wellKnownSymbol$k,TO_STRING_TAG$6=wellKnownSymbol$g("toStringTag"),$Object$1=Object,CORRECT_ARGUMENTS="Arguments"===classofRaw$1(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}},classof$c=TO_STRING_TAG_SUPPORT?classofRaw$1:function(t){var e,s,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=tryGet(e=$Object$1(t),TO_STRING_TAG$6))?s:CORRECT_ARGUMENTS?classofRaw$1(e):"Object"===(i=classofRaw$1(e))&&isCallable$a(e.callee)?"Arguments":i},$$Q=_export,getBuiltIn$g=getBuiltIn$j,isObject$9=isObject$f,classof$b=classof$c,fails$k=fails$t,ERROR="Error",DOM_EXCEPTION$1="DOMException",PROTOTYPE_SETTING_AVAILABLE=Object.setPrototypeOf||{}.__proto__,DOMException$1=getBuiltIn$g(DOM_EXCEPTION$1),$Error$2=Error,$isError=$Error$2.isError,FORCED$c=!$isError||!PROTOTYPE_SETTING_AVAILABLE||fails$k(function(){return DOMException$1&&!$isError(new DOMException$1(DOM_EXCEPTION$1))||!$isError(new $Error$2(ERROR,{cause:function(){}}))||$isError(getBuiltIn$g("Object","create")($Error$2.prototype))});$$Q({target:"Error",stat:!0,sham:!0,forced:FORCED$c},{isError:function(t){if(!isObject$9(t))return!1;var e=classof$b(t);return e===ERROR||e===DOM_EXCEPTION$1}});var fails$j=fails$t,correctPrototypeGetter=!fails$j(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),hasOwn$a=hasOwnProperty_1,isCallable$9=isCallable$l,toObject$3=toObject$5,sharedKey$1=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO$1=sharedKey$1("IE_PROTO"),$Object=Object,ObjectPrototype$1=$Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(t){var e=toObject$3(t);if(hasOwn$a(e,IE_PROTO$1))return e[IE_PROTO$1];var s=e.constructor;return isCallable$9(s)&&e instanceof s?s.prototype:e instanceof $Object?ObjectPrototype$1:null},uncurryThis$s=functionUncurryThis,aCallable$j=aCallable$l,functionUncurryThisAccessor=function(t,e,s){try{return uncurryThis$s(aCallable$j(Object.getOwnPropertyDescriptor(t,e)[s]))}catch(t){}},isObject$8=isObject$f,isPossiblePrototype$1=function(t){return isObject$8(t)||null===t},isPossiblePrototype=isPossiblePrototype$1,$String$2=String,$TypeError$i=TypeError,aPossiblePrototype$1=function(t){if(isPossiblePrototype(t))return t;throw new $TypeError$i("Can't set "+$String$2(t)+" as a prototype")},uncurryThisAccessor$3=functionUncurryThisAccessor,isObject$7=isObject$f,requireObjectCoercible$6=requireObjectCoercible$9,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,s={};try{(t=uncurryThisAccessor$3(Object.prototype,"__proto__","set"))(s,[]),e=s instanceof Array}catch(t){}return function(s,i){return requireObjectCoercible$6(s),aPossiblePrototype(i),isObject$7(s)?(e?t(s,i):s.__proto__=i,s):s}}():void 0),objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$2=Object.keys||function(t){return internalObjectKeys(t,enumBugKeys$1)},DESCRIPTORS$a=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$1=objectDefineProperty,anObject$p=anObject$s,toIndexedObject$1=toIndexedObject$5,objectKeys$1=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$a&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(t,e){anObject$p(t);for(var s,i=toIndexedObject$1(e),n=objectKeys$1(e),a=n.length,l=0;a>l;)definePropertyModule$1.f(t,s=n[l++],i[s]);return t};var activeXDocument,getBuiltIn$f=getBuiltIn$j,html$2=getBuiltIn$f("document","documentElement"),anObject$o=anObject$s,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement=documentCreateElement$1,sharedKey=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return LT+SCRIPT+GT+t+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e},NullProtoObjectViaIFrame=function(){var t,e=documentCreateElement("iframe"),s="java"+SCRIPT+":";return e.style.display="none",html$1.appendChild(e),e.src=String(s),(t=e.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(t){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var t=enumBugKeys.length;t--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[t]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0;var objectCreate=Object.create||function(t,e){var s;return null!==t?(EmptyConstructor[PROTOTYPE]=anObject$o(t),s=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,s[IE_PROTO]=t):s=NullProtoObject(),void 0===e?s:definePropertiesModule.f(s,e)},uncurryThis$r=functionUncurryThis,$Error$1=Error,replace=uncurryThis$r("".replace),TEST=String(new $Error$1("zxcasd").stack),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(t,e){if(IS_V8_OR_CHAKRA_STACK&&"string"==typeof t&&!$Error$1.prepareStackTrace)for(;e--;)t=replace(t,V8_OR_CHAKRA_STACK_ENTRY,"");return t},fails$i=fails$t,createPropertyDescriptor$3=createPropertyDescriptor$6,errorStackInstallable=!fails$i(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",createPropertyDescriptor$3(1,7)),7!==t.stack)}),createNonEnumerableProperty$4=createNonEnumerableProperty$7,clearErrorStack$1=errorStackClear,ERROR_STACK_INSTALLABLE$1=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(t,e,s,i){ERROR_STACK_INSTALLABLE$1&&(captureStackTrace?captureStackTrace(t,e):createNonEnumerableProperty$4(t,"stack",clearErrorStack$1(s,i)))},classof$a=classof$c,$String$1=String,toString$9=function(t){if("Symbol"===classof$a(t))throw new TypeError("Cannot convert a Symbol value to a string");return $String$1(t)},toString$8=toString$9,normalizeStringArgument$2=function(t,e){return void 0===t?arguments.length<2?"":e:toString$8(t)},$$P=_export,globalThis$t=globalThis_1,isPrototypeOf$4=objectIsPrototypeOf,getPrototypeOf$4=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,copyConstructorProperties=copyConstructorProperties$2,create$5=objectCreate,createNonEnumerableProperty$3=createNonEnumerableProperty$7,createPropertyDescriptor$2=createPropertyDescriptor$6,installErrorStack=errorStackInstall,normalizeStringArgument$1=normalizeStringArgument$2,wellKnownSymbol$f=wellKnownSymbol$k,fails$h=fails$t,NativeSuppressedError=globalThis$t.SuppressedError,TO_STRING_TAG$5=wellKnownSymbol$f("toStringTag"),$Error=Error,WRONG_ARITY$1=!!NativeSuppressedError&&3!==NativeSuppressedError.length,EXTRA_ARGS_SUPPORT=!!NativeSuppressedError&&fails$h(function(){return 4===new NativeSuppressedError(1,2,3,{cause:4}).cause}),PATCH=WRONG_ARITY$1||EXTRA_ARGS_SUPPORT,$SuppressedError=function(t,e,s){var i,n=isPrototypeOf$4(SuppressedErrorPrototype,this);return setPrototypeOf$2?i=!PATCH||n&&getPrototypeOf$4(this)!==SuppressedErrorPrototype?setPrototypeOf$2(new $Error,n?getPrototypeOf$4(this):SuppressedErrorPrototype):new NativeSuppressedError:(i=n?this:create$5(SuppressedErrorPrototype),createNonEnumerableProperty$3(i,TO_STRING_TAG$5,"Error")),void 0!==s&&createNonEnumerableProperty$3(i,"message",normalizeStringArgument$1(s)),installErrorStack(i,$SuppressedError,i.stack,1),createNonEnumerableProperty$3(i,"error",t),createNonEnumerableProperty$3(i,"suppressed",e),i};setPrototypeOf$2?setPrototypeOf$2($SuppressedError,$Error):copyConstructorProperties($SuppressedError,$Error,{name:!0});var SuppressedErrorPrototype=$SuppressedError.prototype=PATCH?NativeSuppressedError.prototype:create$5($Error.prototype,{constructor:createPropertyDescriptor$2(1,$SuppressedError),message:createPropertyDescriptor$2(1,""),name:createPropertyDescriptor$2(1,"SuppressedError")});PATCH&&(SuppressedErrorPrototype.constructor=$SuppressedError),$$P({global:!0,constructor:!0,arity:3,forced:PATCH},{SuppressedError:$SuppressedError});var classof$9=classofRaw$2,isArray$2=Array.isArray||function(t){return"Array"===classof$9(t)},DESCRIPTORS$9=descriptors,isArray$1=isArray$2,$TypeError$h=TypeError,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$9&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(t,e){if(isArray$1(t)&&!getOwnPropertyDescriptor(t,"length").writable)throw new $TypeError$h("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},$TypeError$g=TypeError,MAX_SAFE_INTEGER$1=9007199254740991,doesNotExceedSafeInteger$2=function(t){if(t>MAX_SAFE_INTEGER$1)throw $TypeError$g("Maximum allowed index exceeded");return t},$$O=_export,toObject$2=toObject$5,lengthOfArrayLike$4=lengthOfArrayLike$6,setArrayLength=arraySetLength,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$2,fails$g=fails$t,INCORRECT_TO_LENGTH=fails$g(function(){return 4294967297!==[].push.call({length:4294967296},1)}),properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},FORCED$b=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength();$$O({target:"Array",proto:!0,arity:1,forced:FORCED$b},{push:function(t){var e=toObject$2(this),s=lengthOfArrayLike$4(e),i=arguments.length;doesNotExceedSafeInteger$1(s+i);for(var n=0;n<i;n++)e[s]=arguments[n],s++;return setArrayLength(e,s),s}});var lengthOfArrayLike$3=lengthOfArrayLike$6,toIntegerOrInfinity$5=toIntegerOrInfinity$8,$RangeError$6=RangeError,arrayWith$2=function(t,e,s,i){var n=lengthOfArrayLike$3(t),a=toIntegerOrInfinity$5(s),l=a<0?n+a:a;if(l>=n||l<0)throw new $RangeError$6("Incorrect index");for(var r=new e(n),c=0;c<n;c++)r[c]=c===l?i:t[c];return r},$$N=_export,arrayWith$1=arrayWith$2,toIndexedObject=toIndexedObject$5,$Array$2=Array,INCORRECT_EXCEPTION_ON_COERCION_FAIL=function(){try{[].with({valueOf:function(){throw 4}},null)}catch(t){return 4!==t}}();$$N({target:"Array",proto:!0,forced:INCORRECT_EXCEPTION_ON_COERCION_FAIL},{with:function(t,e){return arrayWith$1(toIndexedObject(this),$Array$2,t,e)}});var $$M=_export,uncurryThis$q=functionUncurryThis,pow$4=Math.pow,EXP_MASK16=31,SIGNIFICAND_MASK16=1023,MIN_SUBNORMAL16=pow$4(2,-24),SIGNIFICAND_DENOM16=.0009765625,unpackFloat16=function(t){var e=t>>>15,s=t>>>10&EXP_MASK16,i=t&SIGNIFICAND_MASK16;return s===EXP_MASK16?0===i?0===e?1/0:-1/0:NaN:0===s?i*(0===e?MIN_SUBNORMAL16:-MIN_SUBNORMAL16):pow$4(2,s-15)*(0===e?1+i*SIGNIFICAND_DENOM16:-1-i*SIGNIFICAND_DENOM16)},getUint16=uncurryThis$q(DataView.prototype.getUint16);$$M({target:"DataView",proto:!0},{getFloat16:function(t){return unpackFloat16(getUint16(this,t,arguments.length>1&&arguments[1]))}});var classof$8=classof$c,$TypeError$f=TypeError,aDataView$1=function(t){if("DataView"===classof$8(t))return t;throw new $TypeError$f("Argument is not a DataView")},toIntegerOrInfinity$4=toIntegerOrInfinity$8,toLength$1=toLength$3,$RangeError$5=RangeError,toIndex$2=function(t){if(void 0===t)return 0;var e=toIntegerOrInfinity$4(t),s=toLength$1(e);if(e!==s)throw new $RangeError$5("Wrong length or index");return s},log$2=Math.log,LN2=Math.LN2,mathLog2=Math.log2||function(t){return log$2(t)/LN2},EPSILON$1=2220446049250313e-31,INVERSE_EPSILON=1/EPSILON$1,mathRoundTiesToEven=function(t){return t+INVERSE_EPSILON-INVERSE_EPSILON},$$L=_export,uncurryThis$p=functionUncurryThis,aDataView=aDataView$1,toIndex$1=toIndex$2,log2=mathLog2,roundTiesToEven$1=mathRoundTiesToEven,pow$3=Math.pow,MIN_INFINITY16=65520,MIN_NORMAL16=61005353927612305e-21,REC_MIN_SUBNORMAL16=16777216,REC_SIGNIFICAND_DENOM16=1024,packFloat16=function(t){if(t!=t)return 32256;if(0===t)return(1/t==-1/0)<<15;var e=t<0;if(e&&(t=-t),t>=MIN_INFINITY16)return e<<15|31744;if(t<MIN_NORMAL16)return e<<15|roundTiesToEven$1(t*REC_MIN_SUBNORMAL16);var s=0|log2(t);if(-15===s)return e<<15|REC_SIGNIFICAND_DENOM16;var i=roundTiesToEven$1((t*pow$3(2,-s)-1)*REC_SIGNIFICAND_DENOM16);return i===REC_SIGNIFICAND_DENOM16?e<<15|s+16<<10:e<<15|s+15<<10|i},setUint16=uncurryThis$p(DataView.prototype.setUint16);$$L({target:"DataView",proto:!0},{setFloat16:function(t,e){setUint16(aDataView(this),toIndex$1(t),packFloat16(+e),arguments.length>2&&arguments[2])}});var makeBuiltIn=makeBuiltInExports,defineProperty$1=objectDefineProperty,defineBuiltInAccessor$6=function(t,e,s){return s.get&&makeBuiltIn(s.get,e,{getter:!0}),s.set&&makeBuiltIn(s.set,e,{setter:!0}),defineProperty$1.f(t,e,s)},arrayBufferBasicDetection="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,globalThis$s=globalThis_1,uncurryThisAccessor$2=functionUncurryThisAccessor,classof$7=classofRaw$2,ArrayBuffer$2=globalThis$s.ArrayBuffer,TypeError$4=globalThis$s.TypeError,arrayBufferByteLength$2=ArrayBuffer$2&&uncurryThisAccessor$2(ArrayBuffer$2.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==classof$7(t))throw new TypeError$4("ArrayBuffer expected");return t.byteLength},globalThis$r=globalThis_1,NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,arrayBufferByteLength$1=arrayBufferByteLength$2,DataView$2=globalThis$r.DataView,arrayBufferIsDetached=function(t){if(!NATIVE_ARRAY_BUFFER$1||0!==arrayBufferByteLength$1(t))return!1;try{return new DataView$2(t),!1}catch(t){return!0}},DESCRIPTORS$8=descriptors,defineBuiltInAccessor$5=defineBuiltInAccessor$6,isDetached$1=arrayBufferIsDetached,ArrayBufferPrototype$1=ArrayBuffer.prototype;DESCRIPTORS$8&&!("detached"in ArrayBufferPrototype$1)&&defineBuiltInAccessor$5(ArrayBufferPrototype$1,"detached",{configurable:!0,get:function(){return isDetached$1(this)}});var WorkerThreads,channel$1,buffer,$detach,isDetached=arrayBufferIsDetached,$TypeError$e=TypeError,arrayBufferNotDetached=function(t){if(isDetached(t))throw new $TypeError$e("ArrayBuffer is detached");return t},globalThis$q=globalThis_1,userAgent$1=environmentUserAgent,classof$6=classofRaw$2,userAgentStartsWith=function(t){return userAgent$1.slice(0,t.length)===t},environment=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":globalThis$q.Bun&&"string"==typeof Bun.version?"BUN":globalThis$q.Deno&&"object"==typeof Deno.version?"DENO":"process"===classof$6(globalThis$q.process)?"NODE":globalThis$q.window&&globalThis$q.document?"BROWSER":"REST",ENVIRONMENT$2=environment,environmentIsNode="NODE"===ENVIRONMENT$2,globalThis$p=globalThis_1,IS_NODE$1=environmentIsNode,getBuiltInNodeModule$1=function(t){if(IS_NODE$1){try{return globalThis$p.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}},globalThis$o=globalThis_1,fails$f=fails$t,V8=environmentV8Version,ENVIRONMENT$1=environment,structuredClone$2=globalThis$o.structuredClone,structuredCloneProperTransfer=!!structuredClone$2&&!fails$f(function(){if("DENO"===ENVIRONMENT$1&&V8>92||"NODE"===ENVIRONMENT$1&&V8>94||"BROWSER"===ENVIRONMENT$1&&V8>97)return!1;var t=new ArrayBuffer(8),e=structuredClone$2(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}),globalThis$n=globalThis_1,getBuiltInNodeModule=getBuiltInNodeModule$1,PROPER_STRUCTURED_CLONE_TRANSFER$2=structuredCloneProperTransfer,structuredClone$1=globalThis$n.structuredClone,$ArrayBuffer=globalThis$n.ArrayBuffer,$MessageChannel=globalThis$n.MessageChannel,detach=!1;if(PROPER_STRUCTURED_CLONE_TRANSFER$2)detach=function(t){structuredClone$1(t,{transfer:[t]})};else if($ArrayBuffer)try{$MessageChannel||(WorkerThreads=getBuiltInNodeModule("worker_threads"))&&($MessageChannel=WorkerThreads.MessageChannel),$MessageChannel&&(channel$1=new $MessageChannel,buffer=new $ArrayBuffer(2),$detach=function(t){channel$1.port1.postMessage(null,[t])},2===buffer.byteLength&&($detach(buffer),0===buffer.byteLength&&(detach=$detach)))}catch(t){}var detachTransferable$2=detach,globalThis$m=globalThis_1,uncurryThis$o=functionUncurryThis,uncurryThisAccessor$1=functionUncurryThisAccessor,toIndex=toIndex$2,notDetached$4=arrayBufferNotDetached,arrayBufferByteLength=arrayBufferByteLength$2,detachTransferable$1=detachTransferable$2,PROPER_STRUCTURED_CLONE_TRANSFER$1=structuredCloneProperTransfer,structuredClone=globalThis$m.structuredClone,ArrayBuffer$1=globalThis$m.ArrayBuffer,DataView$1=globalThis$m.DataView,min$3=Math.min,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataViewPrototype=DataView$1.prototype,slice$2=uncurryThis$o(ArrayBufferPrototype.slice),isResizable=uncurryThisAccessor$1(ArrayBufferPrototype,"resizable","get"),maxByteLength=uncurryThisAccessor$1(ArrayBufferPrototype,"maxByteLength","get"),getInt8=uncurryThis$o(DataViewPrototype.getInt8),setInt8=uncurryThis$o(DataViewPrototype.setInt8),arrayBufferTransfer=(PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1)&&function(t,e,s){var i,n=arrayBufferByteLength(t),a=void 0===e?n:toIndex(e),l=!isResizable||!isResizable(t);if(notDetached$4(t),PROPER_STRUCTURED_CLONE_TRANSFER$1&&(t=structuredClone(t,{transfer:[t]}),n===a&&(s||l)))return t;if(n>=a&&(!s||l))i=slice$2(t,0,a);else{var r=s&&!l&&maxByteLength?{maxByteLength:maxByteLength(t)}:void 0;i=new ArrayBuffer$1(a,r);for(var c=new DataView$1(t),B=new DataView$1(i),g=min$3(a,n),o=0;o<g;o++)setInt8(B,o,getInt8(c,o))}return PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1(t),i},$$K=_export,$transfer$1=arrayBufferTransfer;$transfer$1&&$$K({target:"ArrayBuffer",proto:!0},{transfer:function(){return $transfer$1(this,arguments.length?arguments[0]:void 0,!0)}});var $$J=_export,$transfer=arrayBufferTransfer;$transfer&&$$J({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return $transfer(this,arguments.length?arguments[0]:void 0,!1)}});var isPrototypeOf$3=objectIsPrototypeOf,$TypeError$d=TypeError,anInstance$4=function(t,e){if(isPrototypeOf$3(e,t))return t;throw new $TypeError$d("Incorrect invocation")},defineBuiltIn$9=defineBuiltIn$b,defineBuiltIns$4=function(t,e,s){for(var i in e)defineBuiltIn$9(t,i,e[i],s);return t},classofRaw=classofRaw$2,uncurryThis$n=functionUncurryThis,functionUncurryThisClause=function(t){if("Function"===classofRaw(t))return uncurryThis$n(t)},uncurryThis$m=functionUncurryThisClause,aCallable$i=aCallable$l,NATIVE_BIND$1=functionBindNative,bind$4=functionUncurryThisClause(functionUncurryThisClause.bind),functionBindContext=function(t,e){return aCallable$i(t),void 0===e?t:NATIVE_BIND$1?bind$4(t,e):function(){return t.apply(e,arguments)}},getBuiltIn$e=getBuiltIn$j,call$q=functionCall,uncurryThis$l=functionUncurryThis,bind$3=functionBindContext,anObject$n=anObject$s,aCallable$h=aCallable$l,isNullOrUndefined$2=isNullOrUndefined$5,getMethod$9=getMethod$b,wellKnownSymbol$e=wellKnownSymbol$k,ASYNC_DISPOSE$2=wellKnownSymbol$e("asyncDispose"),DISPOSE$2=wellKnownSymbol$e("dispose"),push$6=uncurryThis$l([].push),getDisposeMethod=function(t,e){if("async-dispose"===e){var s=getMethod$9(t,ASYNC_DISPOSE$2);return void 0!==s||void 0===(s=getMethod$9(t,DISPOSE$2))?s:function(){var t=this;return new(getBuiltIn$e("Promise"))(function(e){call$q(s,t),e(void 0)})}}return getMethod$9(t,DISPOSE$2)},createDisposableResource=function(t,e,s){return arguments.length<3&&!isNullOrUndefined$2(t)&&(s=aCallable$h(getDisposeMethod(anObject$n(t),e))),void 0===s?function(){}:bind$3(s,t)},addDisposableResource$2=function(t,e,s,i){var n;if(arguments.length<4){if(isNullOrUndefined$2(e)&&"sync-dispose"===s)return;n=createDisposableResource(e,s)}else n=createDisposableResource(void 0,s,i);push$6(t.stack,n)},$$I=_export,DESCRIPTORS$7=descriptors,getBuiltIn$d=getBuiltIn$j,aCallable$g=aCallable$l,anInstance$3=anInstance$4,defineBuiltIn$8=defineBuiltIn$b,defineBuiltIns$3=defineBuiltIns$4,defineBuiltInAccessor$4=defineBuiltInAccessor$6,wellKnownSymbol$d=wellKnownSymbol$k,InternalStateModule$4=internalState,addDisposableResource$1=addDisposableResource$2,SuppressedError$1=getBuiltIn$d("SuppressedError"),$ReferenceError$1=ReferenceError,DISPOSE$1=wellKnownSymbol$d("dispose"),TO_STRING_TAG$4=wellKnownSymbol$d("toStringTag"),DISPOSABLE_STACK="DisposableStack",setInternalState$3=InternalStateModule$4.set,getDisposableStackInternalState=InternalStateModule$4.getterFor(DISPOSABLE_STACK),HINT$1="sync-dispose",DISPOSED$1="disposed",PENDING$1="pending",getPendingDisposableStackInternalState=function(t){var e=getDisposableStackInternalState(t);if(e.state===DISPOSED$1)throw new $ReferenceError$1(DISPOSABLE_STACK+" already disposed");return e},$DisposableStack=function(){setInternalState$3(anInstance$3(this,DisposableStackPrototype),{type:DISPOSABLE_STACK,state:PENDING$1,stack:[]}),DESCRIPTORS$7||(this.disposed=!1)},DisposableStackPrototype=$DisposableStack.prototype;defineBuiltIns$3(DisposableStackPrototype,{dispose:function(){var t=getDisposableStackInternalState(this);if(t.state!==DISPOSED$1){t.state=DISPOSED$1,DESCRIPTORS$7||(this.disposed=!0);for(var e,s=t.stack,i=s.length,n=!1;i;){var a=s[--i];s[i]=null;try{a()}catch(t){n?e=new SuppressedError$1(t,e):(n=!0,e=t)}}if(t.stack=null,n)throw e}},use:function(t){return addDisposableResource$1(getPendingDisposableStackInternalState(this),t,HINT$1),t},adopt:function(t,e){var s=getPendingDisposableStackInternalState(this);return aCallable$g(e),addDisposableResource$1(s,void 0,HINT$1,function(){e(t)}),t},defer:function(t){var e=getPendingDisposableStackInternalState(this);aCallable$g(t),addDisposableResource$1(e,void 0,HINT$1,t)},move:function(){var t=getPendingDisposableStackInternalState(this),e=new $DisposableStack;return getDisposableStackInternalState(e).stack=t.stack,t.stack=[],t.state=DISPOSED$1,DESCRIPTORS$7||(this.disposed=!0),e}}),DESCRIPTORS$7&&defineBuiltInAccessor$4(DisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getDisposableStackInternalState(this).state===DISPOSED$1}}),defineBuiltIn$8(DisposableStackPrototype,DISPOSE$1,DisposableStackPrototype.dispose,{name:"dispose"}),defineBuiltIn$8(DisposableStackPrototype,TO_STRING_TAG$4,DISPOSABLE_STACK,{nonWritable:!0}),$$I({global:!0,constructor:!0},{DisposableStack:$DisposableStack});var IteratorPrototype$4,PrototypeOfArrayIteratorPrototype,arrayIterator$1,DESCRIPTORS$6=descriptors,definePropertyModule=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$6,createProperty$3=function(t,e,s){DESCRIPTORS$6?definePropertyModule.f(t,e,createPropertyDescriptor$1(0,s)):t[e]=s},fails$e=fails$t,isCallable$8=isCallable$l,isObject$6=isObject$f,getPrototypeOf$3=objectGetPrototypeOf,defineBuiltIn$7=defineBuiltIn$b,wellKnownSymbol$c=wellKnownSymbol$k,ITERATOR$4=wellKnownSymbol$c("iterator");[].keys&&"next"in(arrayIterator$1=[].keys())&&(PrototypeOfArrayIteratorPrototype=getPrototypeOf$3(getPrototypeOf$3(arrayIterator$1)))!==Object.prototype&&(IteratorPrototype$4=PrototypeOfArrayIteratorPrototype);var NEW_ITERATOR_PROTOTYPE=!isObject$6(IteratorPrototype$4)||fails$e(function(){var t={};return IteratorPrototype$4[ITERATOR$4].call(t)!==t});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$4={}),isCallable$8(IteratorPrototype$4[ITERATOR$4])||defineBuiltIn$7(IteratorPrototype$4,ITERATOR$4,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$4},$$H=_export,globalThis$l=globalThis_1,anInstance$2=anInstance$4,anObject$m=anObject$s,isCallable$7=isCallable$l,getPrototypeOf$2=objectGetPrototypeOf,defineBuiltInAccessor$3=defineBuiltInAccessor$6,createProperty$2=createProperty$3,fails$d=fails$t,hasOwn$9=hasOwnProperty_1,wellKnownSymbol$b=wellKnownSymbol$k,IteratorPrototype$3=iteratorsCore.IteratorPrototype,DESCRIPTORS$5=descriptors,CONSTRUCTOR="constructor",ITERATOR$3="Iterator",TO_STRING_TAG$3=wellKnownSymbol$b("toStringTag"),$TypeError$c=TypeError,NativeIterator=globalThis$l[ITERATOR$3],FORCED$a=!isCallable$7(NativeIterator)||NativeIterator.prototype!==IteratorPrototype$3||!fails$d(function(){NativeIterator({})}),IteratorConstructor=function(){if(anInstance$2(this,IteratorPrototype$3),getPrototypeOf$2(this)===IteratorPrototype$3)throw new $TypeError$c("Abstract class Iterator not directly constructable")},defineIteratorPrototypeAccessor=function(t,e){DESCRIPTORS$5?defineBuiltInAccessor$3(IteratorPrototype$3,t,{configurable:!0,get:function(){return e},set:function(e){if(anObject$m(this),this===IteratorPrototype$3)throw new $TypeError$c("You can't redefine this property");hasOwn$9(this,t)?this[t]=e:createProperty$2(this,t,e)}}):IteratorPrototype$3[t]=e};hasOwn$9(IteratorPrototype$3,TO_STRING_TAG$3)||defineIteratorPrototypeAccessor(TO_STRING_TAG$3,ITERATOR$3),!FORCED$a&&hasOwn$9(IteratorPrototype$3,CONSTRUCTOR)&&IteratorPrototype$3[CONSTRUCTOR]!==Object||defineIteratorPrototypeAccessor(CONSTRUCTOR,IteratorConstructor),IteratorConstructor.prototype=IteratorPrototype$3,$$H({global:!0,constructor:!0,forced:FORCED$a},{Iterator:IteratorConstructor});var call$p=functionCall,defineBuiltIn$6=defineBuiltIn$b,getMethod$8=getMethod$b,hasOwn$8=hasOwnProperty_1,wellKnownSymbol$a=wellKnownSymbol$k,IteratorPrototype$2=iteratorsCore.IteratorPrototype,DISPOSE=wellKnownSymbol$a("dispose");hasOwn$8(IteratorPrototype$2,DISPOSE)||defineBuiltIn$6(IteratorPrototype$2,DISPOSE,function(){var t=getMethod$8(this,"return");t&&call$p(t,this)});var getIteratorDirect$g=function(t){return{iterator:t,next:t.next,done:!1}},$RangeError$4=RangeError,notANan=function(t){if(t==t)return t;throw new $RangeError$4("NaN is not allowed")},toIntegerOrInfinity$3=toIntegerOrInfinity$8,$RangeError$3=RangeError,toPositiveInteger$2=function(t){var e=toIntegerOrInfinity$3(t);if(e<0)throw new $RangeError$3("The argument can't be less than 0");return e},call$o=functionCall,anObject$l=anObject$s,getMethod$7=getMethod$b,iteratorClose$h=function(t,e,s){var i,n;anObject$l(t);try{if(!(i=getMethod$7(t,"return"))){if("throw"===e)throw s;return s}i=call$o(i,t)}catch(t){n=!0,i=t}if("throw"===e)throw s;if(n)throw i;return anObject$l(i),s},createIterResultObject$2=function(t,e){return{value:t,done:e}},iteratorClose$g=iteratorClose$h,iteratorCloseAll$1=function(t,e,s){for(var i=t.length-1;i>=0;i--)if(void 0!==t[i])try{s=iteratorClose$g(t[i].iterator,e,s)}catch(t){e="throw",s=t}if("throw"===e)throw s;return s},call$n=functionCall,create$4=objectCreate,createNonEnumerableProperty$2=createNonEnumerableProperty$7,defineBuiltIns$2=defineBuiltIns$4,wellKnownSymbol$9=wellKnownSymbol$k,InternalStateModule$3=internalState,getMethod$6=getMethod$b,IteratorPrototype$1=iteratorsCore.IteratorPrototype,createIterResultObject$1=createIterResultObject$2,iteratorClose$f=iteratorClose$h,iteratorCloseAll=iteratorCloseAll$1,TO_STRING_TAG$2=wellKnownSymbol$9("toStringTag"),ITERATOR_HELPER="IteratorHelper",WRAP_FOR_VALID_ITERATOR="WrapForValidIterator",NORMAL="normal",THROW="throw",setInternalState$2=InternalStateModule$3.set,createIteratorProxyPrototype=function(t){var e=InternalStateModule$3.getterFor(t?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER);return defineBuiltIns$2(create$4(IteratorPrototype$1),{next:function(){var s=e(this);if(t)return s.nextHandler();if(s.done)return createIterResultObject$1(void 0,!0);try{var i=s.nextHandler();return s.returnHandlerResult?i:createIterResultObject$1(i,s.done)}catch(t){throw s.done=!0,t}},return:function(){var s=e(this),i=s.iterator;if(s.done=!0,t){var n=getMethod$6(i,"return");return n?call$n(n,i):createIterResultObject$1(void 0,!0)}if(s.inner)try{iteratorClose$f(s.inner.iterator,NORMAL)}catch(t){return iteratorClose$f(i,THROW,t)}if(s.openIters)try{iteratorCloseAll(s.openIters,NORMAL)}catch(t){return iteratorClose$f(i,THROW,t)}return i&&iteratorClose$f(i,NORMAL),createIterResultObject$1(void 0,!0)}})},WrapForValidIteratorPrototype=createIteratorProxyPrototype(!0),IteratorHelperPrototype=createIteratorProxyPrototype(!1);createNonEnumerableProperty$2(IteratorHelperPrototype,TO_STRING_TAG$2,"Iterator Helper");var iteratorCreateProxy=function(t,e,s){var i=function(i,n){n?(n.iterator=i.iterator,n.next=i.next):n=i,n.type=e?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER,n.returnHandlerResult=!!s,n.nextHandler=t,n.counter=0,n.done=!1,setInternalState$2(this,n)};return i.prototype=e?WrapForValidIteratorPrototype:IteratorHelperPrototype,i},iteratorHelperThrowsOnInvalidIterator$4=function(t,e){var s="function"==typeof Iterator&&Iterator.prototype[t];if(s)try{s.call({next:null},e).next()}catch(t){return!0}},globalThis$k=globalThis_1,iteratorHelperWithoutClosingOnEarlyError$a=function(t,e){var s=globalThis$k.Iterator,i=s&&s.prototype,n=i&&i[t],a=!1;if(n)try{n.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(t){t instanceof e||(a=!1)}if(!a)return n},$$G=_export,call$m=functionCall,anObject$k=anObject$s,getIteratorDirect$f=getIteratorDirect$g,notANaN$1=notANan,toPositiveInteger$1=toPositiveInteger$2,iteratorClose$e=iteratorClose$h,createIteratorProxy$5=iteratorCreateProxy,iteratorHelperThrowsOnInvalidIterator$3=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$9=iteratorHelperWithoutClosingOnEarlyError$a,DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$3("drop",0),dropWithoutClosingOnEarlyError=!DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$9("drop",RangeError),FORCED$9=DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR||dropWithoutClosingOnEarlyError,IteratorProxy$5=createIteratorProxy$5(function(){for(var t,e=this.iterator,s=this.next;this.remaining;)if(this.remaining--,t=anObject$k(call$m(s,e)),this.done=!!t.done)return;if(t=anObject$k(call$m(s,e)),!(this.done=!!t.done))return t.value});$$G({target:"Iterator",proto:!0,real:!0,forced:FORCED$9},{drop:function(t){var e;anObject$k(this);try{e=toPositiveInteger$1(notANaN$1(+t))}catch(t){iteratorClose$e(this,"throw",t)}return dropWithoutClosingOnEarlyError?call$m(dropWithoutClosingOnEarlyError,this,e):new IteratorProxy$5(getIteratorDirect$f(this),{remaining:e})}});var iterators={},wellKnownSymbol$8=wellKnownSymbol$k,Iterators$1=iterators,ITERATOR$2=wellKnownSymbol$8("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(t){return void 0!==t&&(Iterators$1.Array===t||ArrayPrototype[ITERATOR$2]===t)},classof$5=classof$c,getMethod$5=getMethod$b,isNullOrUndefined$1=isNullOrUndefined$5,Iterators=iterators,wellKnownSymbol$7=wellKnownSymbol$k,ITERATOR$1=wellKnownSymbol$7("iterator"),getIteratorMethod$4=function(t){if(!isNullOrUndefined$1(t))return getMethod$5(t,ITERATOR$1)||getMethod$5(t,"@@iterator")||Iterators[classof$5(t)]},call$l=functionCall,aCallable$f=aCallable$l,anObject$j=anObject$s,tryToString$1=tryToString$3,getIteratorMethod$3=getIteratorMethod$4,$TypeError$b=TypeError,getIterator$3=function(t,e){var s=arguments.length<2?getIteratorMethod$3(t):e;if(aCallable$f(s))return anObject$j(call$l(s,t));throw new $TypeError$b(tryToString$1(t)+" is not iterable")},bind$2=functionBindContext,call$k=functionCall,anObject$i=anObject$s,tryToString=tryToString$3,isArrayIteratorMethod=isArrayIteratorMethod$1,lengthOfArrayLike$2=lengthOfArrayLike$6,isPrototypeOf$2=objectIsPrototypeOf,getIterator$2=getIterator$3,getIteratorMethod$2=getIteratorMethod$4,iteratorClose$d=iteratorClose$h,$TypeError$a=TypeError,Result=function(t,e){this.stopped=t,this.result=e},ResultPrototype=Result.prototype,iterate$c=function(t,e,s){var i,n,a,l,r,c,B,g=s&&s.that,o=!(!s||!s.AS_ENTRIES),F=!(!s||!s.IS_RECORD),Q=!(!s||!s.IS_ITERATOR),U=!(!s||!s.INTERRUPTED),I=bind$2(e,g),d=function(t){return i&&iteratorClose$d(i,"normal"),new Result(!0,t)},b=function(t){return o?(anObject$i(t),U?I(t[0],t[1],d):I(t[0],t[1])):U?I(t,d):I(t)};if(F)i=t.iterator;else if(Q)i=t;else{if(!(n=getIteratorMethod$2(t)))throw new $TypeError$a(tryToString(t)+" is not iterable");if(isArrayIteratorMethod(n)){for(a=0,l=lengthOfArrayLike$2(t);l>a;a++)if((r=b(t[a]))&&isPrototypeOf$2(ResultPrototype,r))return r;return new Result(!1)}i=getIterator$2(t,n)}for(c=F?t.next:i.next;!(B=call$k(c,i)).done;){try{r=b(B.value)}catch(t){iteratorClose$d(i,"throw",t)}if("object"==typeof r&&r&&isPrototypeOf$2(ResultPrototype,r))return r}return new Result(!1)},$$F=_export,call$j=functionCall,iterate$b=iterate$c,aCallable$e=aCallable$l,anObject$h=anObject$s,getIteratorDirect$e=getIteratorDirect$g,iteratorClose$c=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$8=iteratorHelperWithoutClosingOnEarlyError$a,everyWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$8("every",TypeError);$$F({target:"Iterator",proto:!0,real:!0,forced:everyWithoutClosingOnEarlyError},{every:function(t){anObject$h(this);try{aCallable$e(t)}catch(t){iteratorClose$c(this,"throw",t)}if(everyWithoutClosingOnEarlyError)return call$j(everyWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$e(this),s=0;return!iterate$b(e,function(e,i){if(!t(e,s++))return i()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var anObject$g=anObject$s,iteratorClose$b=iteratorClose$h,callWithSafeIterationClosing$2=function(t,e,s,i){try{return i?e(anObject$g(s)[0],s[1]):e(s)}catch(e){iteratorClose$b(t,"throw",e)}},$$E=_export,call$i=functionCall,aCallable$d=aCallable$l,anObject$f=anObject$s,getIteratorDirect$d=getIteratorDirect$g,createIteratorProxy$4=iteratorCreateProxy,callWithSafeIterationClosing$1=callWithSafeIterationClosing$2,iteratorClose$a=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator$2=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$7=iteratorHelperWithoutClosingOnEarlyError$a,FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$2("filter",function(){}),filterWithoutClosingOnEarlyError=!FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$7("filter",TypeError),FORCED$8=FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR||filterWithoutClosingOnEarlyError,IteratorProxy$4=createIteratorProxy$4(function(){for(var t,e,s=this.iterator,i=this.predicate,n=this.next;;){if(t=anObject$f(call$i(n,s)),this.done=!!t.done)return;if(e=t.value,callWithSafeIterationClosing$1(s,i,[e,this.counter++],!0))return e}});$$E({target:"Iterator",proto:!0,real:!0,forced:FORCED$8},{filter:function(t){anObject$f(this);try{aCallable$d(t)}catch(t){iteratorClose$a(this,"throw",t)}return filterWithoutClosingOnEarlyError?call$i(filterWithoutClosingOnEarlyError,this,t):new IteratorProxy$4(getIteratorDirect$d(this),{predicate:t})}});var $$D=_export,call$h=functionCall,iterate$a=iterate$c,aCallable$c=aCallable$l,anObject$e=anObject$s,getIteratorDirect$c=getIteratorDirect$g,iteratorClose$9=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$6=iteratorHelperWithoutClosingOnEarlyError$a,findWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$6("find",TypeError);$$D({target:"Iterator",proto:!0,real:!0,forced:findWithoutClosingOnEarlyError},{find:function(t){anObject$e(this);try{aCallable$c(t)}catch(t){iteratorClose$9(this,"throw",t)}if(findWithoutClosingOnEarlyError)return call$h(findWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$c(this),s=0;return iterate$a(e,function(e,i){if(t(e,s++))return i(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var call$g=functionCall,anObject$d=anObject$s,getIteratorDirect$b=getIteratorDirect$g,getIteratorMethod$1=getIteratorMethod$4,getIteratorFlattenable$2=function(t,e){e&&"string"==typeof t||anObject$d(t);var s=getIteratorMethod$1(t);return getIteratorDirect$b(anObject$d(void 0!==s?call$g(s,t):t))},$$C=_export,call$f=functionCall,aCallable$b=aCallable$l,anObject$c=anObject$s,getIteratorDirect$a=getIteratorDirect$g,getIteratorFlattenable$1=getIteratorFlattenable$2,createIteratorProxy$3=iteratorCreateProxy,iteratorClose$8=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator$1=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$5=iteratorHelperWithoutClosingOnEarlyError$a,FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$1("flatMap",function(){}),flatMapWithoutClosingOnEarlyError=!FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$5("flatMap",TypeError),FORCED$7=FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR||flatMapWithoutClosingOnEarlyError,IteratorProxy$3=createIteratorProxy$3(function(){for(var t,e,s=this.iterator,i=this.mapper;;){if(e=this.inner)try{if(!(t=anObject$c(call$f(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){iteratorClose$8(s,"throw",t)}if(t=anObject$c(call$f(this.next,s)),this.done=!!t.done)return;try{this.inner=getIteratorFlattenable$1(i(t.value,this.counter++),!1)}catch(t){iteratorClose$8(s,"throw",t)}}});$$C({target:"Iterator",proto:!0,real:!0,forced:FORCED$7},{flatMap:function(t){anObject$c(this);try{aCallable$b(t)}catch(t){iteratorClose$8(this,"throw",t)}return flatMapWithoutClosingOnEarlyError?call$f(flatMapWithoutClosingOnEarlyError,this,t):new IteratorProxy$3(getIteratorDirect$a(this),{mapper:t,inner:null})}});var $$B=_export,call$e=functionCall,iterate$9=iterate$c,aCallable$a=aCallable$l,anObject$b=anObject$s,getIteratorDirect$9=getIteratorDirect$g,iteratorClose$7=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$4=iteratorHelperWithoutClosingOnEarlyError$a,forEachWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$4("forEach",TypeError);$$B({target:"Iterator",proto:!0,real:!0,forced:forEachWithoutClosingOnEarlyError},{forEach:function(t){anObject$b(this);try{aCallable$a(t)}catch(t){iteratorClose$7(this,"throw",t)}if(forEachWithoutClosingOnEarlyError)return call$e(forEachWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$9(this),s=0;iterate$9(e,function(e){t(e,s++)},{IS_RECORD:!0})}});var $$A=_export,call$d=functionCall,toObject$1=toObject$5,isPrototypeOf$1=objectIsPrototypeOf,IteratorPrototype=iteratorsCore.IteratorPrototype,createIteratorProxy$2=iteratorCreateProxy,getIteratorFlattenable=getIteratorFlattenable$2,FORCED$6=function(){try{Iterator.from({return:null}).return()}catch(t){return!0}}(),IteratorProxy$2=createIteratorProxy$2(function(){return call$d(this.next,this.iterator)},!0);$$A({target:"Iterator",stat:!0,forced:FORCED$6},{from:function(t){var e=getIteratorFlattenable("string"==typeof t?toObject$1(t):t,!0);return isPrototypeOf$1(IteratorPrototype,e.iterator)?e.iterator:new IteratorProxy$2(e)}});var $$z=_export,call$c=functionCall,aCallable$9=aCallable$l,anObject$a=anObject$s,getIteratorDirect$8=getIteratorDirect$g,createIteratorProxy$1=iteratorCreateProxy,callWithSafeIterationClosing=callWithSafeIterationClosing$2,iteratorClose$6=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$3=iteratorHelperWithoutClosingOnEarlyError$a,MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator("map",function(){}),mapWithoutClosingOnEarlyError=!MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$3("map",TypeError),FORCED$5=MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR||mapWithoutClosingOnEarlyError,IteratorProxy$1=createIteratorProxy$1(function(){var t=this.iterator,e=anObject$a(call$c(this.next,t));if(!(this.done=!!e.done))return callWithSafeIterationClosing(t,this.mapper,[e.value,this.counter++],!0)});$$z({target:"Iterator",proto:!0,real:!0,forced:FORCED$5},{map:function(t){anObject$a(this);try{aCallable$9(t)}catch(t){iteratorClose$6(this,"throw",t)}return mapWithoutClosingOnEarlyError?call$c(mapWithoutClosingOnEarlyError,this,t):new IteratorProxy$1(getIteratorDirect$8(this),{mapper:t})}});var NATIVE_BIND=functionBindNative,FunctionPrototype=Function.prototype,apply$5=FunctionPrototype.apply,call$b=FunctionPrototype.call,functionApply="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND?call$b.bind(apply$5):function(){return call$b.apply(apply$5,arguments)}),$$y=_export,iterate$8=iterate$c,aCallable$8=aCallable$l,anObject$9=anObject$s,getIteratorDirect$7=getIteratorDirect$g,iteratorClose$5=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$2=iteratorHelperWithoutClosingOnEarlyError$a,apply$4=functionApply,fails$c=fails$t,$TypeError$9=TypeError,FAILS_ON_INITIAL_UNDEFINED=fails$c(function(){[].keys().reduce(function(){},void 0)}),reduceWithoutClosingOnEarlyError=!FAILS_ON_INITIAL_UNDEFINED&&iteratorHelperWithoutClosingOnEarlyError$2("reduce",$TypeError$9);$$y({target:"Iterator",proto:!0,real:!0,forced:FAILS_ON_INITIAL_UNDEFINED||reduceWithoutClosingOnEarlyError},{reduce:function(t){anObject$9(this);try{aCallable$8(t)}catch(t){iteratorClose$5(this,"throw",t)}var e=arguments.length<2,s=e?void 0:arguments[1];if(reduceWithoutClosingOnEarlyError)return apply$4(reduceWithoutClosingOnEarlyError,this,e?[t]:[t,s]);var i=getIteratorDirect$7(this),n=0;if(iterate$8(i,function(i){e?(e=!1,s=i):s=t(s,i,n),n++},{IS_RECORD:!0}),e)throw new $TypeError$9("Reduce of empty iterator with no initial value");return s}});var $$x=_export,call$a=functionCall,iterate$7=iterate$c,aCallable$7=aCallable$l,anObject$8=anObject$s,getIteratorDirect$6=getIteratorDirect$g,iteratorClose$4=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$1=iteratorHelperWithoutClosingOnEarlyError$a,someWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$1("some",TypeError);$$x({target:"Iterator",proto:!0,real:!0,forced:someWithoutClosingOnEarlyError},{some:function(t){anObject$8(this);try{aCallable$7(t)}catch(t){iteratorClose$4(this,"throw",t)}if(someWithoutClosingOnEarlyError)return call$a(someWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$6(this),s=0;return iterate$7(e,function(e,i){if(t(e,s++))return i()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var $$w=_export,call$9=functionCall,anObject$7=anObject$s,getIteratorDirect$5=getIteratorDirect$g,notANaN=notANan,toPositiveInteger=toPositiveInteger$2,createIteratorProxy=iteratorCreateProxy,iteratorClose$3=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$a,takeWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError("take",RangeError),IteratorProxy=createIteratorProxy(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,iteratorClose$3(t,"normal",void 0);var e=anObject$7(call$9(this.next,t));return(this.done=!!e.done)?void 0:e.value});$$w({target:"Iterator",proto:!0,real:!0,forced:takeWithoutClosingOnEarlyError},{take:function(t){var e;anObject$7(this);try{e=toPositiveInteger(notANaN(+t))}catch(t){iteratorClose$3(this,"throw",t)}return takeWithoutClosingOnEarlyError?call$9(takeWithoutClosingOnEarlyError,this,e):new IteratorProxy(getIteratorDirect$5(this),{remaining:e})}});var $$v=_export,anObject$6=anObject$s,iterate$6=iterate$c,getIteratorDirect$4=getIteratorDirect$g,push$5=[].push;$$v({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return iterate$6(getIteratorDirect$4(anObject$6(this)),push$5,{that:t,IS_RECORD:!0}),t}});var uncurryThis$k=functionUncurryThis,MapPrototype=Map.prototype,mapHelpers={Map:Map,set:uncurryThis$k(MapPrototype.set),get:uncurryThis$k(MapPrototype.get),has:uncurryThis$k(MapPrototype.has),remove:uncurryThis$k(MapPrototype.delete)},$$u=_export,uncurryThis$j=functionUncurryThis,aCallable$6=aCallable$l,requireObjectCoercible$5=requireObjectCoercible$9,iterate$5=iterate$c,MapHelpers$1=mapHelpers,fails$b=fails$t,Map$2=MapHelpers$1.Map,has$6=MapHelpers$1.has,get$2=MapHelpers$1.get,set$3=MapHelpers$1.set,push$4=uncurryThis$j([].push),DOES_NOT_WORK_WITH_PRIMITIVES$1=fails$b(function(){return 1!==Map$2.groupBy("ab",function(t){return t}).get("a").length});$$u({target:"Map",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES$1},{groupBy:function(t,e){requireObjectCoercible$5(t),aCallable$6(e);var s=new Map$2,i=0;return iterate$5(t,function(t){var n=e(t,i++);has$6(s,n)?push$4(get$2(s,n),t):set$3(s,n,[t])}),s}});var mathSign=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1},sign$2=mathSign,roundTiesToEven=mathRoundTiesToEven,abs$3=Math.abs,EPSILON=2220446049250313e-31,mathFloatRound=function(t,e,s,i){var n=+t,a=abs$3(n),l=sign$2(n);if(a<i)return l*roundTiesToEven(a/i/e)*i*e;var r=(1+e/EPSILON)*a,c=r-(r-a);return c>s||c!=c?l*(1/0):l*c},$$t=_export,floatRound=mathFloatRound,FLOAT16_EPSILON=.0009765625,FLOAT16_MAX_VALUE=65504,FLOAT16_MIN_VALUE=6103515625e-14;$$t({target:"Math",stat:!0},{f16round:function(t){return floatRound(t,FLOAT16_EPSILON,FLOAT16_MAX_VALUE,FLOAT16_MIN_VALUE)}});var $$s=_export,uncurryThis$i=functionUncurryThis,iterate$4=iterate$c,$RangeError$2=RangeError,$TypeError$8=TypeError,$Infinity=1/0,$NaN=NaN,abs$2=Math.abs,pow$2=Math.pow,push$3=uncurryThis$i([].push),POW_2_1023=pow$2(2,1023),MAX_SAFE_INTEGER=pow$2(2,53)-1,MAX_DOUBLE=Number.MAX_VALUE,MAX_ULP=pow$2(2,971),NOT_A_NUMBER={},MINUS_INFINITY={},PLUS_INFINITY={},MINUS_ZERO={},FINITE={},twosum=function(t,e){var s=t+e;return{hi:s,lo:e-(s-t)}};$$s({target:"Math",stat:!0},{sumPrecise:function(t){var e=[],s=0,i=MINUS_ZERO;switch(iterate$4(t,function(t){if(++s>=MAX_SAFE_INTEGER)throw new $RangeError$2("Maximum allowed index exceeded");if("number"!=typeof t)throw new $TypeError$8("Value is not a number");i!==NOT_A_NUMBER&&(t!=t?i=NOT_A_NUMBER:t===$Infinity?i=i===MINUS_INFINITY?NOT_A_NUMBER:PLUS_INFINITY:t===-$Infinity?i=i===PLUS_INFINITY?NOT_A_NUMBER:MINUS_INFINITY:0===t&&1/t!==$Infinity||i!==MINUS_ZERO&&i!==FINITE||(i=FINITE,push$3(e,t)))}),i){case NOT_A_NUMBER:return $NaN;case MINUS_INFINITY:return-$Infinity;case PLUS_INFINITY:return $Infinity;case MINUS_ZERO:return-0}for(var n,a,l,r,c,B,g=[],o=0,F=0;F<e.length;F++){n=e[F];for(var Q=0,U=0;U<g.length;U++){if(a=g[U],abs$2(n)<abs$2(a)&&(B=n,n=a,a=B),r=(l=twosum(n,a)).hi,c=l.lo,abs$2(r)===$Infinity){var I=r===$Infinity?1:-1;o+=I,abs$2(n=n-I*POW_2_1023-I*POW_2_1023)<abs$2(a)&&(B=n,n=a,a=B),r=(l=twosum(n,a)).hi,c=l.lo}0!==c&&(g[Q++]=c),n=r}g.length=Q,0!==n&&push$3(g,n)}var d=g.length-1;if(r=0,c=0,0!==o){var b=d>=0?g[d]:0;if(d--,abs$2(o)>1||o>0&&b>0||o<0&&b<0)return o>0?$Infinity:-$Infinity;if(r=(l=twosum(o*POW_2_1023,b/2)).hi,c=l.lo,c*=2,abs$2(2*r)===$Infinity)return r>0?r===POW_2_1023&&c===-MAX_ULP/2&&d>=0&&g[d]<0?MAX_DOUBLE:$Infinity:r===-POW_2_1023&&c===MAX_ULP/2&&d>=0&&g[d]>0?-MAX_DOUBLE:-$Infinity;0!==c&&(g[++d]=c,c=0),r*=2}for(;d>=0&&(r=(l=twosum(r,g[d--])).hi,0===(c=l.lo)););return d>=0&&(c<0&&g[d]<0||c>0&&g[d]>0)&&(a=2*c)===(n=r+a)-r&&(r=n),r}});var $$r=_export,createProperty$1=createProperty$3,getBuiltIn$c=getBuiltIn$j,uncurryThis$h=functionUncurryThis,aCallable$5=aCallable$l,requireObjectCoercible$4=requireObjectCoercible$9,toPropertyKey=toPropertyKey$3,iterate$3=iterate$c,fails$a=fails$t,nativeGroupBy=Object.groupBy,create$3=getBuiltIn$c("Object","create"),push$2=uncurryThis$h([].push),DOES_NOT_WORK_WITH_PRIMITIVES=!nativeGroupBy||fails$a(function(){return 1!==nativeGroupBy("ab",function(t){return t}).a.length});$$r({target:"Object",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES},{groupBy:function(t,e){requireObjectCoercible$4(t),aCallable$5(e);var s=create$3(null),i=0;return iterate$3(t,function(t){var n=toPropertyKey(e(t,i++));n in s?push$2(s[n],t):createProperty$1(s,n,[t])}),s}});var uncurryThis$g=functionUncurryThis,arraySlice$2=uncurryThis$g([].slice),newPromiseCapability={},aCallable$4=aCallable$l,$TypeError$7=TypeError,PromiseCapability=function(t){var e,s;this.promise=new t(function(t,i){if(void 0!==e||void 0!==s)throw new $TypeError$7("Bad Promise constructor");e=t,s=i}),this.resolve=aCallable$4(e),this.reject=aCallable$4(s)};newPromiseCapability.f=function(t){return new PromiseCapability(t)};var perform$1=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},$$q=_export,globalThis$j=globalThis_1,apply$3=functionApply,slice$1=arraySlice$2,newPromiseCapabilityModule$1=newPromiseCapability,aCallable$3=aCallable$l,perform=perform$1,Promise$4=globalThis$j.Promise,ACCEPT_ARGUMENTS=!1,FORCED$4=!Promise$4||!Promise$4.try||perform(function(){Promise$4.try(function(t){ACCEPT_ARGUMENTS=8===t},8)}).error||!ACCEPT_ARGUMENTS;$$q({target:"Promise",stat:!0,forced:FORCED$4},{try:function(t){var e=arguments.length>1?slice$1(arguments,1):[],s=newPromiseCapabilityModule$1.f(this),i=perform(function(){return apply$3(aCallable$3(t),void 0,e)});return(i.error?s.reject:s.resolve)(i.value),s.promise}});var $$p=_export,newPromiseCapabilityModule=newPromiseCapability;$$p({target:"Promise",stat:!0},{withResolvers:function(){var t=newPromiseCapabilityModule.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var uncurryThis$f=functionUncurryThis,fails$9=fails$t,isCallable$6=isCallable$l,classof$4=classof$c,getBuiltIn$b=getBuiltIn$j,inspectSource=inspectSource$2,noop$3=function(){},construct=getBuiltIn$b("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$f(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop$3),isConstructorModern=function(t){if(!isCallable$6(t))return!1;try{return construct(noop$3,[],t),!0}catch(t){return!1}},isConstructorLegacy=function(t){if(!isCallable$6(t))return!1;switch(classof$4(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(t))}catch(t){return!0}};isConstructorLegacy.sham=!0;var AsyncIteratorPrototype$2,prototype,isConstructor$2=!construct||fails$9(function(){var t;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){t=!0})||t})?isConstructorLegacy:isConstructorModern,globalThis$i=globalThis_1,shared=sharedStoreExports,isCallable$5=isCallable$l,getPrototypeOf$1=objectGetPrototypeOf,defineBuiltIn$5=defineBuiltIn$b,wellKnownSymbol$6=wellKnownSymbol$k,USE_FUNCTION_CONSTRUCTOR="USE_FUNCTION_CONSTRUCTOR",ASYNC_ITERATOR$2=wellKnownSymbol$6("asyncIterator"),AsyncIterator=globalThis$i.AsyncIterator,PassedAsyncIteratorPrototype=shared.AsyncIteratorPrototype;if(PassedAsyncIteratorPrototype)AsyncIteratorPrototype$2=PassedAsyncIteratorPrototype;else if(isCallable$5(AsyncIterator))AsyncIteratorPrototype$2=AsyncIterator.prototype;else if(shared[USE_FUNCTION_CONSTRUCTOR]||globalThis$i[USE_FUNCTION_CONSTRUCTOR])try{prototype=getPrototypeOf$1(getPrototypeOf$1(getPrototypeOf$1(Function("return async function*(){}()")()))),getPrototypeOf$1(prototype)===Object.prototype&&(AsyncIteratorPrototype$2=prototype)}catch(t){}AsyncIteratorPrototype$2||(AsyncIteratorPrototype$2={}),isCallable$5(AsyncIteratorPrototype$2[ASYNC_ITERATOR$2])||defineBuiltIn$5(AsyncIteratorPrototype$2,ASYNC_ITERATOR$2,function(){return this});var asyncIteratorPrototype=AsyncIteratorPrototype$2,call$8=functionCall,anObject$5=anObject$s,create$2=objectCreate,getMethod$4=getMethod$b,defineBuiltIns$1=defineBuiltIns$4,InternalStateModule$2=internalState,iteratorClose$2=iteratorClose$h,getBuiltIn$a=getBuiltIn$j,AsyncIteratorPrototype$1=asyncIteratorPrototype,createIterResultObject=createIterResultObject$2,Promise$3=getBuiltIn$a("Promise"),ASYNC_FROM_SYNC_ITERATOR="AsyncFromSyncIterator",setInternalState$1=InternalStateModule$2.set,getInternalState$1=InternalStateModule$2.getterFor(ASYNC_FROM_SYNC_ITERATOR),asyncFromSyncIteratorContinuation=function(t,e,s,i,n){var a=t.done;Promise$3.resolve(t.value).then(function(t){e(createIterResultObject(t,a))},function(t){if(!a&&n)try{iteratorClose$2(i,"throw",t)}catch(e){t=e}s(t)})},AsyncFromSyncIterator$2=function(t){t.type=ASYNC_FROM_SYNC_ITERATOR,setInternalState$1(this,t)};AsyncFromSyncIterator$2.prototype=defineBuiltIns$1(create$2(AsyncIteratorPrototype$1),{next:function(){var t=getInternalState$1(this);return new Promise$3(function(e,s){var i=anObject$5(call$8(t.next,t.iterator));asyncFromSyncIteratorContinuation(i,e,s,t.iterator,!0)})},return:function(){var t=getInternalState$1(this).iterator;return new Promise$3(function(e,s){var i=getMethod$4(t,"return");if(void 0===i)return e(createIterResultObject(void 0,!0));var n=anObject$5(call$8(i,t));asyncFromSyncIteratorContinuation(n,e,s,t)})}});var asyncFromSyncIterator=AsyncFromSyncIterator$2,call$7=functionCall,AsyncFromSyncIterator$1=asyncFromSyncIterator,anObject$4=anObject$s,getIterator$1=getIterator$3,getIteratorDirect$3=getIteratorDirect$g,getMethod$3=getMethod$b,wellKnownSymbol$5=wellKnownSymbol$k,ASYNC_ITERATOR$1=wellKnownSymbol$5("asyncIterator"),getAsyncIterator$1=function(t,e){var s=arguments.length<2?getMethod$3(t,ASYNC_ITERATOR$1):e;return s?anObject$4(call$7(s,t)):new AsyncFromSyncIterator$1(getIteratorDirect$3(getIterator$1(t)))},globalThis$h=globalThis_1,getBuiltInPrototypeMethod$1=function(t,e){var s=globalThis$h[t],i=s&&s.prototype;return i&&i[e]},call$6=functionCall,getBuiltIn$9=getBuiltIn$j,getMethod$2=getMethod$b,asyncIteratorClose=function(t,e,s,i){try{var n=getMethod$2(t,"return");if(n)return getBuiltIn$9("Promise").resolve(call$6(n,t)).then(function(){e(s)},function(t){i(t)})}catch(t){return i(t)}e(s)},call$5=functionCall,aCallable$2=aCallable$l,anObject$3=anObject$s,isObject$5=isObject$f,doesNotExceedSafeInteger=doesNotExceedSafeInteger$2,getBuiltIn$8=getBuiltIn$j,getIteratorDirect$2=getIteratorDirect$g,closeAsyncIteration=asyncIteratorClose,createMethod$1=function(t){var e=0===t,s=1===t,i=2===t,n=3===t;return function(t,a,l){anObject$3(t);var r=void 0!==a;!r&&e||aCallable$2(a);var c=getIteratorDirect$2(t),B=getBuiltIn$8("Promise"),g=c.iterator,o=c.next,F=0;return new B(function(t,c){var Q=function(t){closeAsyncIteration(g,c,t,c)},U=function(){try{if(r)try{doesNotExceedSafeInteger(F)}catch(t){Q(t)}B.resolve(anObject$3(call$5(o,g))).then(function(o){try{if(anObject$3(o).done)e?(l.length=F,t(l)):t(!n&&(i||void 0));else{var I=o.value;try{if(r){var d=a(I,F),b=function(a){if(s)U();else if(i)a?U():closeAsyncIteration(g,t,!1,c);else if(e)try{l[F++]=a,U()}catch(t){Q(t)}else a?closeAsyncIteration(g,t,n||I,c):U()};isObject$5(d)?B.resolve(d).then(b,Q):b(d)}else l[F++]=I,U()}catch(t){Q(t)}}}catch(t){c(t)}},c)}catch(t){c(t)}};U()})}},asyncIteratorIteration={toArray:createMethod$1(0)},bind$1=functionBindContext,uncurryThis$e=functionUncurryThis,toObject=toObject$5,isConstructor$1=isConstructor$2,getAsyncIterator=getAsyncIterator$1,getIterator=getIterator$3,getIteratorDirect$1=getIteratorDirect$g,getIteratorMethod=getIteratorMethod$4,getMethod$1=getMethod$b,getBuiltIn$7=getBuiltIn$j,getBuiltInPrototypeMethod=getBuiltInPrototypeMethod$1,wellKnownSymbol$4=wellKnownSymbol$k,AsyncFromSyncIterator=asyncFromSyncIterator,toArray=asyncIteratorIteration.toArray,ASYNC_ITERATOR=wellKnownSymbol$4("asyncIterator"),arrayIterator=uncurryThis$e(getBuiltInPrototypeMethod("Array","values")),arrayIteratorNext=uncurryThis$e(arrayIterator([]).next),safeArrayIterator=function(){return new SafeArrayIterator(this)},SafeArrayIterator=function(t){this.iterator=arrayIterator(t)};SafeArrayIterator.prototype.next=function(){return arrayIteratorNext(this.iterator)};var arrayFromAsync=function(t){var e=this,s=arguments.length,i=s>1?arguments[1]:void 0,n=s>2?arguments[2]:void 0;return new(getBuiltIn$7("Promise"))(function(s){var a=toObject(t);void 0!==i&&(i=bind$1(i,n));var l=getMethod$1(a,ASYNC_ITERATOR),r=l?void 0:getIteratorMethod(a)||safeArrayIterator,c=isConstructor$1(e)?new e:[],B=l?getAsyncIterator(a,l):new AsyncFromSyncIterator(getIteratorDirect$1(getIterator(a,r)));s(toArray(B,i,c))})},$$o=_export,fromAsync=arrayFromAsync,fails$8=fails$t,nativeFromAsync=Array.fromAsync,INCORRECT_CONSTRUCTURING=!nativeFromAsync||fails$8(function(){var t=0;return nativeFromAsync.call(function(){return t++,[]},{length:0}),1!==t});$$o({target:"Array",stat:!0,forced:INCORRECT_CONSTRUCTURING},{fromAsync:fromAsync});var $$n=_export,DESCRIPTORS$4=descriptors,getBuiltIn$6=getBuiltIn$j,aCallable$1=aCallable$l,anInstance$1=anInstance$4,defineBuiltIn$4=defineBuiltIn$b,defineBuiltIns=defineBuiltIns$4,defineBuiltInAccessor$2=defineBuiltInAccessor$6,wellKnownSymbol$3=wellKnownSymbol$k,InternalStateModule$1=internalState,addDisposableResource=addDisposableResource$2,V8_VERSION=environmentV8Version,Promise$2=getBuiltIn$6("Promise"),SuppressedError=getBuiltIn$6("SuppressedError"),$ReferenceError=ReferenceError,ASYNC_DISPOSE$1=wellKnownSymbol$3("asyncDispose"),TO_STRING_TAG$1=wellKnownSymbol$3("toStringTag"),ASYNC_DISPOSABLE_STACK="AsyncDisposableStack",setInternalState=InternalStateModule$1.set,getAsyncDisposableStackInternalState=InternalStateModule$1.getterFor(ASYNC_DISPOSABLE_STACK),HINT="async-dispose",DISPOSED="disposed",PENDING="pending",getPendingAsyncDisposableStackInternalState=function(t){var e=getAsyncDisposableStackInternalState(t);if(e.state===DISPOSED)throw new $ReferenceError(ASYNC_DISPOSABLE_STACK+" already disposed");return e},$AsyncDisposableStack=function(){setInternalState(anInstance$1(this,AsyncDisposableStackPrototype),{type:ASYNC_DISPOSABLE_STACK,state:PENDING,stack:[]}),DESCRIPTORS$4||(this.disposed=!1)},AsyncDisposableStackPrototype=$AsyncDisposableStack.prototype;defineBuiltIns(AsyncDisposableStackPrototype,{disposeAsync:function(){var t=this;return new Promise$2(function(e,s){var i=getAsyncDisposableStackInternalState(t);if(i.state===DISPOSED)return e(void 0);i.state=DISPOSED,DESCRIPTORS$4||(t.disposed=!0);var n,a=i.stack,l=a.length,r=!1,c=function(t){r?n=new SuppressedError(t,n):(r=!0,n=t),B()},B=function(){if(l){var t=a[--l];a[l]=null;try{Promise$2.resolve(t()).then(B,c)}catch(t){c(t)}}else i.stack=null,r?s(n):e(void 0)};B()})},use:function(t){return addDisposableResource(getPendingAsyncDisposableStackInternalState(this),t,HINT),t},adopt:function(t,e){var s=getPendingAsyncDisposableStackInternalState(this);return aCallable$1(e),addDisposableResource(s,void 0,HINT,function(){return e(t)}),t},defer:function(t){var e=getPendingAsyncDisposableStackInternalState(this);aCallable$1(t),addDisposableResource(e,void 0,HINT,t)},move:function(){var t=getPendingAsyncDisposableStackInternalState(this),e=new $AsyncDisposableStack;return getAsyncDisposableStackInternalState(e).stack=t.stack,t.stack=[],t.state=DISPOSED,DESCRIPTORS$4||(this.disposed=!0),e}}),DESCRIPTORS$4&&defineBuiltInAccessor$2(AsyncDisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getAsyncDisposableStackInternalState(this).state===DISPOSED}}),defineBuiltIn$4(AsyncDisposableStackPrototype,ASYNC_DISPOSE$1,AsyncDisposableStackPrototype.disposeAsync,{name:"disposeAsync"}),defineBuiltIn$4(AsyncDisposableStackPrototype,TO_STRING_TAG$1,ASYNC_DISPOSABLE_STACK,{nonWritable:!0});var SYNC_DISPOSE_RETURNING_PROMISE_RESOLUTION_BUG=V8_VERSION&&V8_VERSION<136;$$n({global:!0,constructor:!0,forced:SYNC_DISPOSE_RETURNING_PROMISE_RESOLUTION_BUG},{AsyncDisposableStack:$AsyncDisposableStack});var call$4=functionCall,defineBuiltIn$3=defineBuiltIn$b,getBuiltIn$5=getBuiltIn$j,getMethod=getMethod$b,hasOwn$7=hasOwnProperty_1,wellKnownSymbol$2=wellKnownSymbol$k,AsyncIteratorPrototype=asyncIteratorPrototype,ASYNC_DISPOSE=wellKnownSymbol$2("asyncDispose"),Promise$1=getBuiltIn$5("Promise");hasOwn$7(AsyncIteratorPrototype,ASYNC_DISPOSE)||defineBuiltIn$3(AsyncIteratorPrototype,ASYNC_DISPOSE,function(){var t=this;return new Promise$1(function(e,s){var i=getMethod(t,"return");i?Promise$1.resolve(call$4(i,t)).then(function(){e(void 0)},s):e(void 0)})});var $TypeError$6=TypeError,aString$4=function(t){if("string"==typeof t)return t;throw new $TypeError$6("Argument is not a string")},toIntegerOrInfinity$2=toIntegerOrInfinity$8,toString$7=toString$9,requireObjectCoercible$3=requireObjectCoercible$9,$RangeError$1=RangeError,stringRepeat=function(t){var e=toString$7(requireObjectCoercible$3(this)),s="",i=toIntegerOrInfinity$2(t);if(i<0||i===1/0)throw new $RangeError$1("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(s+=e);return s},uncurryThis$d=functionUncurryThis,toLength=toLength$3,toString$6=toString$9,$repeat=stringRepeat,requireObjectCoercible$2=requireObjectCoercible$9,repeat=uncurryThis$d($repeat),stringSlice$1=uncurryThis$d("".slice),ceil=Math.ceil,createMethod=function(t){return function(e,s,i){var n,a,l=toString$6(requireObjectCoercible$2(e)),r=toLength(s),c=l.length,B=void 0===i?" ":toString$6(i);return r<=c||""===B?l:((a=repeat(B,ceil((n=r-c)/B.length))).length>n&&(a=stringSlice$1(a,0,n)),t?l+a:a+l)}},stringPad={start:createMethod(!1)},whitespaces="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",$$m=_export,uncurryThis$c=functionUncurryThis,aString$3=aString$4,hasOwn$6=hasOwnProperty_1,padStart=stringPad.start,WHITESPACES=whitespaces,$Array$1=Array,$escape=RegExp.escape,charAt$2=uncurryThis$c("".charAt),charCodeAt$2=uncurryThis$c("".charCodeAt),numberToString$1=uncurryThis$c(1.1.toString),join$1=uncurryThis$c([].join),FIRST_DIGIT_OR_ASCII=/^[0-9a-z]/i,SYNTAX_SOLIDUS=/^[$()*+./?[\\\]^{|}]/,OTHER_PUNCTUATORS_AND_WHITESPACES=RegExp("^[!\"#%&',\\-:;<=>@`~"+WHITESPACES+"]"),exec$1=uncurryThis$c(FIRST_DIGIT_OR_ASCII.exec),ControlEscape={"\t":"t","\n":"n","\v":"v","\f":"f","\r":"r"},escapeChar=function(t){var e=numberToString$1(charCodeAt$2(t,0),16);return e.length<3?"\\x"+padStart(e,2,"0"):"\\u"+padStart(e,4,"0")},FORCED$3=!$escape||"\\x61b"!==$escape("ab");$$m({target:"RegExp",stat:!0,forced:FORCED$3},{escape:function(t){aString$3(t);for(var e=t.length,s=$Array$1(e),i=0;i<e;i++){var n=charAt$2(t,i);if(0===i&&exec$1(FIRST_DIGIT_OR_ASCII,n))s[i]=escapeChar(n);else if(hasOwn$6(ControlEscape,n))s[i]="\\"+ControlEscape[n];else if(exec$1(SYNTAX_SOLIDUS,n))s[i]="\\"+n;else if(exec$1(OTHER_PUNCTUATORS_AND_WHITESPACES,n))s[i]=escapeChar(n);else{var a=charCodeAt$2(n,0);55296!=(63488&a)?s[i]=n:a>=56320||i+1>=e||56320!=(64512&charCodeAt$2(t,i+1))?s[i]=escapeChar(n):(s[i]=n,s[++i]=charAt$2(t,i))}}return join$1(s,"")}});var uncurryThis$b=functionUncurryThis,SetPrototype$1=Set.prototype,setHelpers={Set:Set,add:uncurryThis$b(SetPrototype$1.add),has:uncurryThis$b(SetPrototype$1.has),remove:uncurryThis$b(SetPrototype$1.delete),proto:SetPrototype$1},has$5=setHelpers.has,aSet$7=function(t){return has$5(t),t},call$3=functionCall,iterateSimple$7=function(t,e,s){for(var i,n,a=s?t:t.iterator,l=t.next;!(i=call$3(l,a)).done;)if(void 0!==(n=e(i.value)))return n},uncurryThis$a=functionUncurryThis,iterateSimple$6=iterateSimple$7,SetHelpers$6=setHelpers,Set$4=SetHelpers$6.Set,SetPrototype=SetHelpers$6.proto,forEach$2=uncurryThis$a(SetPrototype.forEach),keys=uncurryThis$a(SetPrototype.keys),next=keys(new Set$4).next,setIterate$1=function(t,e,s){return s?iterateSimple$6({iterator:keys(t),next:next},e):forEach$2(t,e)},SetHelpers$5=setHelpers,iterate$2=setIterate$1,Set$3=SetHelpers$5.Set,add$3=SetHelpers$5.add,setClone=function(t){var e=new Set$3;return iterate$2(t,function(t){add$3(e,t)}),e},uncurryThisAccessor=functionUncurryThisAccessor,SetHelpers$4=setHelpers,setSize=uncurryThisAccessor(SetHelpers$4.proto,"size","get")||function(t){return t.size},aCallable=aCallable$l,anObject$2=anObject$s,call$2=functionCall,toIntegerOrInfinity$1=toIntegerOrInfinity$8,getIteratorDirect=getIteratorDirect$g,INVALID_SIZE="Invalid size",$RangeError=RangeError,$TypeError$5=TypeError,max$2=Math.max,SetRecord=function(t,e){this.set=t,this.size=max$2(e,0),this.has=aCallable(t.has),this.keys=aCallable(t.keys)};SetRecord.prototype={getIterator:function(){return getIteratorDirect(anObject$2(call$2(this.keys,this.set)))},includes:function(t){return call$2(this.has,this.set,t)}};var getSetRecord$7=function(t){anObject$2(t);var e=+t.size;if(e!=e)throw new $TypeError$5(INVALID_SIZE);var s=toIntegerOrInfinity$1(e);if(s<0)throw new $RangeError(INVALID_SIZE);return new SetRecord(t,s)},aSet$6=aSet$7,SetHelpers$3=setHelpers,clone$2=setClone,size$4=setSize,getSetRecord$6=getSetRecord$7,iterateSet$2=setIterate$1,iterateSimple$5=iterateSimple$7,has$4=SetHelpers$3.has,remove$2=SetHelpers$3.remove,setDifference=function(t){var e=aSet$6(this),s=getSetRecord$6(t),i=clone$2(e);return size$4(e)<=s.size?iterateSet$2(e,function(t){s.includes(t)&&remove$2(i,t)}):iterateSimple$5(s.getIterator(),function(t){has$4(i,t)&&remove$2(i,t)}),i},getBuiltIn$4=getBuiltIn$j,createSetLike=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},createSetLikeWithInfinitySize=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}},setMethodAcceptSetLike$7=function(t,e){var s=getBuiltIn$4("Set");try{(new s)[t](createSetLike(0));try{return(new s)[t](createSetLike(-1)),!1}catch(i){if(!e)return!0;try{return(new s)[t](createSetLikeWithInfinitySize(-1/0)),!1}catch(i){return e(new s([1,2])[t](createSetLikeWithInfinitySize(1/0)))}}}catch(t){return!1}},$$l=_export,difference$1=setDifference,fails$7=fails$t,setMethodAcceptSetLike$6=setMethodAcceptSetLike$7,SET_LIKE_INCORRECT_BEHAVIOR=!setMethodAcceptSetLike$6("difference",function(t){return 0===t.size}),FORCED$2=SET_LIKE_INCORRECT_BEHAVIOR||fails$7(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var s=t++>1;return e.has(1)&&e.clear(),{done:s,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size});$$l({target:"Set",proto:!0,real:!0,forced:FORCED$2},{difference:difference$1});var aSet$5=aSet$7,SetHelpers$2=setHelpers,size$3=setSize,getSetRecord$5=getSetRecord$7,iterateSet$1=setIterate$1,iterateSimple$4=iterateSimple$7,Set$2=SetHelpers$2.Set,add$2=SetHelpers$2.add,has$3=SetHelpers$2.has,setIntersection=function(t){var e=aSet$5(this),s=getSetRecord$5(t),i=new Set$2;return size$3(e)>s.size?iterateSimple$4(s.getIterator(),function(t){has$3(e,t)&&add$2(i,t)}):iterateSet$1(e,function(t){s.includes(t)&&add$2(i,t)}),i},$$k=_export,fails$6=fails$t,intersection=setIntersection,setMethodAcceptSetLike$5=setMethodAcceptSetLike$7,INCORRECT$3=!setMethodAcceptSetLike$5("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||fails$6(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))});$$k({target:"Set",proto:!0,real:!0,forced:INCORRECT$3},{intersection:intersection});var aSet$4=aSet$7,has$2=setHelpers.has,size$2=setSize,getSetRecord$4=getSetRecord$7,iterateSet=setIterate$1,iterateSimple$3=iterateSimple$7,iteratorClose$1=iteratorClose$h,setIsDisjointFrom=function(t){var e=aSet$4(this),s=getSetRecord$4(t);if(size$2(e)<=s.size)return!1!==iterateSet(e,function(t){if(s.includes(t))return!1},!0);var i=s.getIterator();return!1!==iterateSimple$3(i,function(t){if(has$2(e,t))return iteratorClose$1(i,"normal",!1)})},$$j=_export,isDisjointFrom=setIsDisjointFrom,setMethodAcceptSetLike$4=setMethodAcceptSetLike$7,INCORRECT$2=!setMethodAcceptSetLike$4("isDisjointFrom",function(t){return!t});$$j({target:"Set",proto:!0,real:!0,forced:INCORRECT$2},{isDisjointFrom:isDisjointFrom});var aSet$3=aSet$7,size$1=setSize,iterate$1=setIterate$1,getSetRecord$3=getSetRecord$7,setIsSubsetOf=function(t){var e=aSet$3(this),s=getSetRecord$3(t);return!(size$1(e)>s.size)&&!1!==iterate$1(e,function(t){if(!s.includes(t))return!1},!0)},$$i=_export,isSubsetOf=setIsSubsetOf,setMethodAcceptSetLike$3=setMethodAcceptSetLike$7,INCORRECT$1=!setMethodAcceptSetLike$3("isSubsetOf",function(t){return t});$$i({target:"Set",proto:!0,real:!0,forced:INCORRECT$1},{isSubsetOf:isSubsetOf});var aSet$2=aSet$7,has$1=setHelpers.has,size=setSize,getSetRecord$2=getSetRecord$7,iterateSimple$2=iterateSimple$7,iteratorClose=iteratorClose$h,setIsSupersetOf=function(t){var e=aSet$2(this),s=getSetRecord$2(t);if(size(e)<s.size)return!1;var i=s.getIterator();return!1!==iterateSimple$2(i,function(t){if(!has$1(e,t))return iteratorClose(i,"normal",!1)})},$$h=_export,isSupersetOf=setIsSupersetOf,setMethodAcceptSetLike$2=setMethodAcceptSetLike$7,INCORRECT=!setMethodAcceptSetLike$2("isSupersetOf",function(t){return!t});$$h({target:"Set",proto:!0,real:!0,forced:INCORRECT},{isSupersetOf:isSupersetOf});var aSet$1=aSet$7,SetHelpers$1=setHelpers,clone$1=setClone,getSetRecord$1=getSetRecord$7,iterateSimple$1=iterateSimple$7,add$1=SetHelpers$1.add,has=SetHelpers$1.has,remove$1=SetHelpers$1.remove,setSymmetricDifference=function(t){var e=aSet$1(this),s=getSetRecord$1(t).getIterator(),i=clone$1(e);return iterateSimple$1(s,function(t){has(e,t)?remove$1(i,t):add$1(i,t)}),i},setMethodGetKeysBeforeCloningDetection=function(t){try{var e=new Set,s={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},i=e[t](s);return 1===i.size&&4===i.values().next().value}catch(t){return!1}},$$g=_export,symmetricDifference=setSymmetricDifference,setMethodGetKeysBeforeCloning$1=setMethodGetKeysBeforeCloningDetection,setMethodAcceptSetLike$1=setMethodAcceptSetLike$7,FORCED$1=!setMethodAcceptSetLike$1("symmetricDifference")||!setMethodGetKeysBeforeCloning$1("symmetricDifference");$$g({target:"Set",proto:!0,real:!0,forced:FORCED$1},{symmetricDifference:symmetricDifference});var aSet=aSet$7,add=setHelpers.add,clone=setClone,getSetRecord=getSetRecord$7,iterateSimple=iterateSimple$7,setUnion=function(t){var e=aSet(this),s=getSetRecord(t).getIterator(),i=clone(e);return iterateSimple(s,function(t){add(i,t)}),i},$$f=_export,union=setUnion,setMethodGetKeysBeforeCloning=setMethodGetKeysBeforeCloningDetection,setMethodAcceptSetLike=setMethodAcceptSetLike$7,FORCED=!setMethodAcceptSetLike("union")||!setMethodGetKeysBeforeCloning("union");$$f({target:"Set",proto:!0,real:!0,forced:FORCED},{union:union});var $$e=_export,uncurryThis$9=functionUncurryThis,requireObjectCoercible$1=requireObjectCoercible$9,toString$5=toString$9,charCodeAt$1=uncurryThis$9("".charCodeAt);$$e({target:"String",proto:!0},{isWellFormed:function(){for(var t=toString$5(requireObjectCoercible$1(this)),e=t.length,s=0;s<e;s++){var i=charCodeAt$1(t,s);if(55296==(63488&i)&&(i>=56320||++s>=e||56320!=(64512&charCodeAt$1(t,s))))return!1}return!0}});var $$d=_export,call$1=functionCall,uncurryThis$8=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$9,toString$4=toString$9,fails$5=fails$t,$Array=Array,charAt$1=uncurryThis$8("".charAt),charCodeAt=uncurryThis$8("".charCodeAt),join=uncurryThis$8([].join),$toWellFormed="".toWellFormed,REPLACEMENT_CHARACTER="ï¿½",TO_STRING_CONVERSION_BUG=$toWellFormed&&fails$5(function(){return"1"!==call$1($toWellFormed,1)});$$d({target:"String",proto:!0,forced:TO_STRING_CONVERSION_BUG},{toWellFormed:function(){var t=toString$4(requireObjectCoercible(this));if(TO_STRING_CONVERSION_BUG)return call$1($toWellFormed,t);for(var e=t.length,s=$Array(e),i=0;i<e;i++){var n=charCodeAt(t,i);55296!=(63488&n)?s[i]=charAt$1(t,i):n>=56320||i+1>=e||56320!=(64512&charCodeAt(t,i+1))?s[i]=REPLACEMENT_CHARACTER:(s[i]=charAt$1(t,i),s[++i]=charAt$1(t,i))}return join(s,"")}});var NAME$2,Constructor,Prototype,NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection,DESCRIPTORS$3=descriptors,globalThis$g=globalThis_1,isCallable$4=isCallable$l,isObject$4=isObject$f,hasOwn$5=hasOwnProperty_1,classof$3=classof$c,createNonEnumerableProperty$1=createNonEnumerableProperty$7,defineBuiltIn$2=defineBuiltIn$b,defineBuiltInAccessor$1=defineBuiltInAccessor$6,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,wellKnownSymbol$1=wellKnownSymbol$k,uid$1=uid$4,InternalStateModule=internalState,enforceInternalState=InternalStateModule.enforce,getInternalState=InternalStateModule.get,Int8Array$1=globalThis$g.Int8Array,Int8ArrayPrototype=Int8Array$1&&Int8Array$1.prototype,Uint8ClampedArray=globalThis$g.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray&&Uint8ClampedArray.prototype,TypedArray$1=Int8Array$1&&getPrototypeOf(Int8Array$1),TypedArrayPrototype=Int8ArrayPrototype&&getPrototypeOf(Int8ArrayPrototype),ObjectPrototype=Object.prototype,TypeError$3=globalThis$g.TypeError,TO_STRING_TAG=wellKnownSymbol$1("toStringTag"),TYPED_ARRAY_TAG=uid$1("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS=NATIVE_ARRAY_BUFFER&&!!setPrototypeOf$1&&"Opera"!==classof$3(globalThis$g.opera),TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},getTypedArrayConstructor$1=function(t){var e=getPrototypeOf(t);if(isObject$4(e)){var s=getInternalState(e);return s&&hasOwn$5(s,TYPED_ARRAY_CONSTRUCTOR)?s[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor$1(e)}},isTypedArray=function(t){if(!isObject$4(t))return!1;var e=classof$3(t);return hasOwn$5(TypedArrayConstructorsList,e)||hasOwn$5(BigIntArrayConstructorsList,e)},aTypedArray$1=function(t){if(isTypedArray(t))return t;throw new TypeError$3("Target is not a typed array")},exportTypedArrayMethod$1=function(t,e,s,i){if(DESCRIPTORS$3){if(s)for(var n in TypedArrayConstructorsList){var a=globalThis$g[n];if(a&&hasOwn$5(a.prototype,t))try{delete a.prototype[t]}catch(s){try{a.prototype[t]=e}catch(t){}}}TypedArrayPrototype[t]&&!s||defineBuiltIn$2(TypedArrayPrototype,t,s?e:NATIVE_ARRAY_BUFFER_VIEWS&&Int8ArrayPrototype[t]||e,i)}};for(NAME$2 in TypedArrayConstructorsList)(Prototype=(Constructor=globalThis$g[NAME$2])&&Constructor.prototype)?enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS=!1;for(NAME$2 in BigIntArrayConstructorsList)(Prototype=(Constructor=globalThis$g[NAME$2])&&Constructor.prototype)&&(enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS||!isCallable$4(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw new TypeError$3("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$2 in TypedArrayConstructorsList)globalThis$g[NAME$2]&&setPrototypeOf$1(globalThis$g[NAME$2],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS||!TypedArrayPrototype||TypedArrayPrototype===ObjectPrototype)&&(TypedArrayPrototype=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$2 in TypedArrayConstructorsList)globalThis$g[NAME$2]&&setPrototypeOf$1(globalThis$g[NAME$2].prototype,TypedArrayPrototype);if(NATIVE_ARRAY_BUFFER_VIEWS&&getPrototypeOf(Uint8ClampedArrayPrototype)!==TypedArrayPrototype&&setPrototypeOf$1(Uint8ClampedArrayPrototype,TypedArrayPrototype),DESCRIPTORS$3&&!hasOwn$5(TypedArrayPrototype,TO_STRING_TAG))for(NAME$2 in defineBuiltInAccessor$1(TypedArrayPrototype,TO_STRING_TAG,{configurable:!0,get:function(){return isObject$4(this)?this[TYPED_ARRAY_TAG]:void 0}}),TypedArrayConstructorsList)globalThis$g[NAME$2]&&createNonEnumerableProperty$1(globalThis$g[NAME$2],TYPED_ARRAY_TAG,NAME$2);var arrayBufferViewCore={aTypedArray:aTypedArray$1,exportTypedArrayMethod:exportTypedArrayMethod$1,getTypedArrayConstructor:getTypedArrayConstructor$1},classof$2=classof$c,isBigIntArray$2=function(t){var e=classof$2(t);return"BigInt64Array"===e||"BigUint64Array"===e},toPrimitive=toPrimitive$2,$TypeError$4=TypeError,toBigInt$1=function(t){var e=toPrimitive(t,"number");if("number"==typeof e)throw new $TypeError$4("Can't convert number to bigint");return BigInt(e)},arrayWith=arrayWith$2,ArrayBufferViewCore=arrayBufferViewCore,isBigIntArray$1=isBigIntArray$2,toIntegerOrInfinity=toIntegerOrInfinity$8,toBigInt=toBigInt$1,aTypedArray=ArrayBufferViewCore.aTypedArray,getTypedArrayConstructor=ArrayBufferViewCore.getTypedArrayConstructor,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,PROPER_ORDER=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),THROW_ON_NEGATIVE_FRACTIONAL_INDEX=PROPER_ORDER&&function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}}();exportTypedArrayMethod("with",{with:function(t,e){var s=aTypedArray(this),i=toIntegerOrInfinity(t),n=isBigIntArray$1(s)?toBigInt(e):+e;return arrayWith(s,getTypedArrayConstructor(s),i,n)}}.with,!PROPER_ORDER||THROW_ON_NEGATIVE_FRACTIONAL_INDEX);var lengthOfArrayLike$1=lengthOfArrayLike$6,arrayFromConstructorAndList$1=function(t,e,s){for(var i=0,n=arguments.length>2?s:lengthOfArrayLike$1(e),a=new t(n);n>i;)a[i]=e[i++];return a},isObject$3=isObject$f,$String=String,$TypeError$3=TypeError,anObjectOrUndefined$2=function(t){if(void 0===t||isObject$3(t))return t;throw new $TypeError$3($String(t)+" is not an object or undefined")},commonAlphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",base64Alphabet$2=commonAlphabet+"+/",base64UrlAlphabet$2=commonAlphabet+"-_",inverse=function(t){for(var e={},s=0;s<64;s++)e[t.charAt(s)]=s;return e},base64Map$2={i2c:base64Alphabet$2,c2i:inverse(base64Alphabet$2),i2cUrl:base64UrlAlphabet$2,c2iUrl:inverse(base64UrlAlphabet$2)},$TypeError$2=TypeError,getAlphabetOption$2=function(t){var e=t&&t.alphabet;if(void 0===e||"base64"===e||"base64url"===e)return e||"base64";throw new $TypeError$2("Incorrect `alphabet` option")},globalThis$f=globalThis_1,uncurryThis$7=functionUncurryThis,anObjectOrUndefined$1=anObjectOrUndefined$2,aString$2=aString$4,hasOwn$4=hasOwnProperty_1,base64Map$1=base64Map$2,getAlphabetOption$1=getAlphabetOption$2,notDetached$3=arrayBufferNotDetached,base64Alphabet$1=base64Map$1.c2i,base64UrlAlphabet$1=base64Map$1.c2iUrl,SyntaxError$1=globalThis$f.SyntaxError,TypeError$2=globalThis$f.TypeError,at=uncurryThis$7("".charAt),skipAsciiWhitespace=function(t,e){for(var s=t.length;e<s;e++){var i=at(t,e);if(" "!==i&&"\t"!==i&&"\n"!==i&&"\f"!==i&&"\r"!==i)break}return e},decodeBase64Chunk=function(t,e,s){var i=t.length;i<4&&(t+=2===i?"AA":"A");var n=(e[at(t,0)]<<18)+(e[at(t,1)]<<12)+(e[at(t,2)]<<6)+e[at(t,3)],a=[n>>16&255,n>>8&255,255&n];if(2===i){if(s&&0!==a[1])throw new SyntaxError$1("Extra bits");return[a[0]]}if(3===i){if(s&&0!==a[2])throw new SyntaxError$1("Extra bits");return[a[0],a[1]]}return a},writeBytes=function(t,e,s){for(var i=e.length,n=0;n<i;n++)t[s+n]=e[n];return s+i},uint8FromBase64=function(t,e,s,i){aString$2(t),anObjectOrUndefined$1(e);var n="base64"===getAlphabetOption$1(e)?base64Alphabet$1:base64UrlAlphabet$1,a=e?e.lastChunkHandling:void 0;if(void 0===a&&(a="loose"),"loose"!==a&&"strict"!==a&&"stop-before-partial"!==a)throw new TypeError$2("Incorrect `lastChunkHandling` option");s&&notDetached$3(s.buffer);var l=t.length,r=s||[],c=0,B=0,g="",o=0;if(i)for(;;){if((o=skipAsciiWhitespace(t,o))===l){if(g.length>0){if("stop-before-partial"===a)break;if("loose"!==a)throw new SyntaxError$1("Missing padding");if(1===g.length)throw new SyntaxError$1("Malformed padding: exactly one additional character");c=writeBytes(r,decodeBase64Chunk(g,n,!1),c)}B=l;break}var F=at(t,o);if(++o,"="===F){if(g.length<2)throw new SyntaxError$1("Padding is too early");if(o=skipAsciiWhitespace(t,o),2===g.length){if(o===l){if("stop-before-partial"===a)break;throw new SyntaxError$1("Malformed padding: only one =")}"="===at(t,o)&&(++o,o=skipAsciiWhitespace(t,o))}if(o<l)throw new SyntaxError$1("Unexpected character after padding");c=writeBytes(r,decodeBase64Chunk(g,n,"strict"===a),c),B=l;break}if(!hasOwn$4(n,F))throw new SyntaxError$1("Unexpected character");var Q=i-c;if(1===Q&&2===g.length||2===Q&&3===g.length)break;if(4===(g+=F).length&&(c=writeBytes(r,decodeBase64Chunk(g,n,!1),c),g="",B=o,c===i))break}return{bytes:r,read:B,written:c}},$$c=_export,globalThis$e=globalThis_1,arrayFromConstructorAndList=arrayFromConstructorAndList$1,$fromBase64$1=uint8FromBase64,Uint8Array$5=globalThis$e.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$3=!Uint8Array$5||!Uint8Array$5.fromBase64||!function(){try{return void Uint8Array$5.fromBase64("a")}catch(t){}try{Uint8Array$5.fromBase64("",null)}catch(t){return!0}}();Uint8Array$5&&$$c({target:"Uint8Array",stat:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$3},{fromBase64:function(t){var e=$fromBase64$1(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return arrayFromConstructorAndList(Uint8Array$5,e.bytes)}});var globalThis$d=globalThis_1,uncurryThis$6=functionUncurryThis,Uint8Array$4=globalThis$d.Uint8Array,SyntaxError=globalThis$d.SyntaxError,parseInt$1=globalThis$d.parseInt,min$2=Math.min,NOT_HEX=/[^\da-f]/i,exec=uncurryThis$6(NOT_HEX.exec),stringSlice=uncurryThis$6("".slice),uint8FromHex=function(t,e){var s=t.length;if(s%2!=0)throw new SyntaxError("String should be an even number of characters");for(var i=e?min$2(e.length,s/2):s/2,n=e||new Uint8Array$4(i),a=0,l=0;l<i;){var r=stringSlice(t,a,a+=2);if(exec(NOT_HEX,r))throw new SyntaxError("String should only contain hex characters");n[l++]=parseInt$1(r,16)}return{bytes:n,read:a}},$$b=_export,globalThis$c=globalThis_1,aString$1=aString$4,$fromHex$1=uint8FromHex;globalThis$c.Uint8Array&&$$b({target:"Uint8Array",stat:!0},{fromHex:function(t){return $fromHex$1(aString$1(t)).bytes}});var classof$1=classof$c,$TypeError$1=TypeError,anUint8Array$4=function(t){if("Uint8Array"===classof$1(t))return t;throw new $TypeError$1("Argument is not an Uint8Array")},$$a=_export,globalThis$b=globalThis_1,$fromBase64=uint8FromBase64,anUint8Array$3=anUint8Array$4,Uint8Array$3=globalThis$b.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$2=!Uint8Array$3||!Uint8Array$3.prototype.setFromBase64||!function(){var t=new Uint8Array$3([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(t){}try{return void t.setFromBase64("a")}catch(t){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();Uint8Array$3&&$$a({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$2},{setFromBase64:function(t){anUint8Array$3(this);var e=$fromBase64(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}});var $$9=_export,globalThis$a=globalThis_1,aString=aString$4,anUint8Array$2=anUint8Array$4,notDetached$2=arrayBufferNotDetached,$fromHex=uint8FromHex;globalThis$a.Uint8Array&&$$9({target:"Uint8Array",proto:!0},{setFromHex:function(t){anUint8Array$2(this),aString(t),notDetached$2(this.buffer);var e=$fromHex(t,this).read;return{read:e,written:e/2}}});var $$8=_export,globalThis$9=globalThis_1,uncurryThis$5=functionUncurryThis,anObjectOrUndefined=anObjectOrUndefined$2,anUint8Array$1=anUint8Array$4,notDetached$1=arrayBufferNotDetached,base64Map=base64Map$2,getAlphabetOption=getAlphabetOption$2,base64Alphabet=base64Map.i2c,base64UrlAlphabet=base64Map.i2cUrl,charAt=uncurryThis$5("".charAt),Uint8Array$2=globalThis$9.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$1=!Uint8Array$2||!Uint8Array$2.prototype.toBase64||!function(){try{(new Uint8Array$2).toBase64(null)}catch(t){return!0}}();Uint8Array$2&&$$8({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$1},{toBase64:function(){var t=anUint8Array$1(this),e=arguments.length?anObjectOrUndefined(arguments[0]):void 0,s="base64"===getAlphabetOption(e)?base64Alphabet:base64UrlAlphabet,i=!!e&&!!e.omitPadding;notDetached$1(this.buffer);for(var n,a="",l=0,r=t.length,c=function(t){return charAt(s,n>>6*t&63)};l+2<r;l+=3)n=(t[l]<<16)+(t[l+1]<<8)+t[l+2],a+=c(3)+c(2)+c(1)+c(0);return l+2===r?(n=(t[l]<<16)+(t[l+1]<<8),a+=c(3)+c(2)+c(1)+(i?"":"=")):l+1===r&&(n=t[l]<<16,a+=c(3)+c(2)+(i?"":"==")),a}});var $$7=_export,globalThis$8=globalThis_1,uncurryThis$4=functionUncurryThis,anUint8Array=anUint8Array$4,notDetached=arrayBufferNotDetached,numberToString=uncurryThis$4(1.1.toString),Uint8Array$1=globalThis$8.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS=!Uint8Array$1||!Uint8Array$1.prototype.toHex||!function(){try{return"ffffffffffffffff"===new Uint8Array$1([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();Uint8Array$1&&$$7({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS},{toHex:function(){anUint8Array(this),notDetached(this.buffer);for(var t="",e=0,s=this.length;e<s;e++){var i=numberToString(this[e],16);t+=1===i.length?"0"+i:i}return t}});var isCallable$3=isCallable$l,isObject$2=isObject$f,setPrototypeOf=objectSetPrototypeOf,inheritIfRequired$1=function(t,e,s){var i,n;return setPrototypeOf&&isCallable$3(i=e.constructor)&&i!==s&&isObject$2(n=i.prototype)&&n!==s.prototype&&setPrototypeOf(t,n),t},domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},$$6=_export,globalThis$7=globalThis_1,getBuiltIn$3=getBuiltIn$j,createPropertyDescriptor=createPropertyDescriptor$6,defineProperty=objectDefineProperty.f,hasOwn$3=hasOwnProperty_1,anInstance=anInstance$4,inheritIfRequired=inheritIfRequired$1,normalizeStringArgument=normalizeStringArgument$2,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS$2=descriptors,DOM_EXCEPTION="DOMException",Error$2=getBuiltIn$3("Error"),NativeDOMException=getBuiltIn$3(DOM_EXCEPTION),$DOMException=function(){anInstance(this,DOMExceptionPrototype);var t=arguments.length,e=normalizeStringArgument(t<1?void 0:arguments[0]),s=normalizeStringArgument(t<2?void 0:arguments[1],"Error"),i=new NativeDOMException(e,s),n=new Error$2(e);return n.name=DOM_EXCEPTION,defineProperty(i,"stack",createPropertyDescriptor(1,clearErrorStack(n.stack,1))),inheritIfRequired(i,this,$DOMException),i},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in new Error$2(DOM_EXCEPTION),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor=NativeDOMException&&DESCRIPTORS$2&&Object.getOwnPropertyDescriptor(globalThis$7,DOM_EXCEPTION),BUGGY_DESCRIPTOR=!(!descriptor||descriptor.writable&&descriptor.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$6({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$3(DOM_EXCEPTION),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException)for(var key in defineProperty(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor(1,PolyfilledDOMException)),DOMExceptionConstants)if(hasOwn$3(DOMExceptionConstants,key)){var constant$5=DOMExceptionConstants[key],constantName=constant$5.s;hasOwn$3(PolyfilledDOMException,constantName)||defineProperty(PolyfilledDOMException,constantName,createPropertyDescriptor(6,constant$5.c))}var $location,defer,channel,port,$TypeError=TypeError,validateArgumentsLength$7=function(t,e){if(t<e)throw new $TypeError("Not enough arguments");return t},userAgent=environmentUserAgent,environmentIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent),globalThis$6=globalThis_1,apply$2=functionApply,bind=functionBindContext,isCallable$2=isCallable$l,hasOwn$2=hasOwnProperty_1,fails$4=fails$t,html=html$2,arraySlice$1=arraySlice$2,createElement=documentCreateElement$1,validateArgumentsLength$6=validateArgumentsLength$7,IS_IOS=environmentIsIos,IS_NODE=environmentIsNode,set$2=globalThis$6.setImmediate,clear=globalThis$6.clearImmediate,process=globalThis$6.process,Dispatch$1=globalThis$6.Dispatch,Function$2=globalThis$6.Function,MessageChannel=globalThis$6.MessageChannel,String$1=globalThis$6.String,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange";fails$4(function(){$location=globalThis$6.location});var run=function(t){if(hasOwn$2(queue,t)){var e=queue[t];delete queue[t],e()}},runner=function(t){return function(){run(t)}},eventListener=function(t){run(t.data)},globalPostMessageDefer=function(t){globalThis$6.postMessage(String$1(t),$location.protocol+"//"+$location.host)};set$2&&clear||(set$2=function(t){validateArgumentsLength$6(arguments.length,1);var e=isCallable$2(t)?t:Function$2(t),s=arraySlice$1(arguments,1);return queue[++counter]=function(){apply$2(e,void 0,s)},defer(counter),counter},clear=function(t){delete queue[t]},IS_NODE?defer=function(t){process.nextTick(runner(t))}:Dispatch$1&&Dispatch$1.now?defer=function(t){Dispatch$1.now(runner(t))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=eventListener,defer=bind(port.postMessage,port)):globalThis$6.addEventListener&&isCallable$2(globalThis$6.postMessage)&&!globalThis$6.importScripts&&$location&&"file:"!==$location.protocol&&!fails$4(globalPostMessageDefer)?(defer=globalPostMessageDefer,globalThis$6.addEventListener("message",eventListener,!1)):defer=ONREADYSTATECHANGE in createElement("script")?function(t){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(t)}}:function(t){setTimeout(runner(t),0)});var task={set:set$2,clear:clear},$$5=_export,globalThis$5=globalThis_1,clearImmediate=task.clear;$$5({global:!0,bind:!0,enumerable:!0,forced:globalThis$5.clearImmediate!==clearImmediate},{clearImmediate:clearImmediate});var globalThis$4=globalThis_1,apply$1=functionApply,isCallable$1=isCallable$l,ENVIRONMENT=environment,USER_AGENT=environmentUserAgent,arraySlice=arraySlice$2,validateArgumentsLength$5=validateArgumentsLength$7,Function$1=globalThis$4.Function,WRAP=/MSIE .\./.test(USER_AGENT)||"BUN"===ENVIRONMENT&&function(){var t=globalThis$4.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),schedulersFix$1=function(t,e){var s=e?2:1;return WRAP?function(i,n){var a=validateArgumentsLength$5(arguments.length,1)>s,l=isCallable$1(i)?i:Function$1(i),r=a?arraySlice(arguments,s):[],c=a?function(){apply$1(l,this,r)}:l;return e?t(c,n):t(c)}:t},$$4=_export,globalThis$3=globalThis_1,setTask=task.set,schedulersFix=schedulersFix$1,setImmediate=globalThis$3.setImmediate?schedulersFix(setTask,!1):setTask;$$4({global:!0,bind:!0,enumerable:!0,forced:globalThis$3.setImmediate!==setImmediate},{setImmediate:setImmediate});var globalThis$2=globalThis_1,fails$3=fails$t,RegExp$1=globalThis$2.RegExp,FLAGS_GETTER_IS_CORRECT=!fails$3(function(){var t=!0;try{RegExp$1(".","d")}catch(e){t=!1}var e={},s="",i=t?"dgimsy":"gimsy",n=function(t,i){Object.defineProperty(e,t,{get:function(){return s+=i,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var l in t&&(a.hasIndices="d"),a)n(l,a[l]);return Object.getOwnPropertyDescriptor(RegExp$1.prototype,"flags").get.call(e)!==i||s!==i}),regexpFlagsDetection={correct:FLAGS_GETTER_IS_CORRECT},anObject$1=anObject$s,regexpFlags=function(){var t=anObject$1(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},call=functionCall,hasOwn$1=hasOwnProperty_1,isPrototypeOf=objectIsPrototypeOf,regExpFlagsDetection=regexpFlagsDetection,regExpFlagsGetterImplementation=regexpFlags,RegExpPrototype=RegExp.prototype,regexpGetFlags=regExpFlagsDetection.correct?function(t){return t.flags}:function(t){return regExpFlagsDetection.correct||!isPrototypeOf(RegExpPrototype,t)||hasOwn$1(t,"flags")?t.flags:call(regExpFlagsGetterImplementation,t)},$$3=_export,globalThis$1=globalThis_1,getBuiltIn$2=getBuiltIn$j,uncurryThis$3=functionUncurryThis,fails$2=fails$t,uid=uid$4,isCallable=isCallable$l,isConstructor=isConstructor$2,isNullOrUndefined=isNullOrUndefined$5,isObject$1=isObject$f,isSymbol$1=isSymbol$4,iterate=iterate$c,anObject=anObject$s,classof=classof$c,hasOwn=hasOwnProperty_1,createProperty=createProperty$3,createNonEnumerableProperty=createNonEnumerableProperty$7,lengthOfArrayLike=lengthOfArrayLike$6,validateArgumentsLength$4=validateArgumentsLength$7,getRegExpFlags=regexpGetFlags,MapHelpers=mapHelpers,SetHelpers=setHelpers,setIterate=setIterate$1,detachTransferable=detachTransferable$2,ERROR_STACK_INSTALLABLE=errorStackInstallable,PROPER_STRUCTURED_CLONE_TRANSFER=structuredCloneProperTransfer,Object$1=globalThis$1.Object,Array$1=globalThis$1.Array,Date$1=globalThis$1.Date,Error$1=globalThis$1.Error,TypeError$1=globalThis$1.TypeError,PerformanceMark=globalThis$1.PerformanceMark,DOMException=getBuiltIn$2("DOMException"),Map$1=MapHelpers.Map,mapHas=MapHelpers.has,mapGet=MapHelpers.get,mapSet=MapHelpers.set,Set$1=SetHelpers.Set,setAdd=SetHelpers.add,setHas=SetHelpers.has,objectKeys=getBuiltIn$2("Object","keys"),push$1=uncurryThis$3([].push),thisBooleanValue=uncurryThis$3((!0).valueOf),thisNumberValue=uncurryThis$3(1.1.valueOf),thisStringValue=uncurryThis$3("".valueOf),thisTimeValue=uncurryThis$3(Date$1.prototype.getTime),PERFORMANCE_MARK=uid("structuredClone"),DATA_CLONE_ERROR="DataCloneError",TRANSFERRING="Transferring",checkBasicSemantic=function(t){return!fails$2(function(){var e=new globalThis$1.Set([7]),s=t(e),i=t(Object$1(7));return s===e||!s.has(7)||!isObject$1(i)||7!==+i})&&t},checkErrorsCloning=function(t,e){return!fails$2(function(){var s=new e,i=t({a:s,b:s});return!(i&&i.a===i.b&&i.a instanceof e&&i.a.stack===s.stack)})},checkNewErrorsCloningSemantic=function(t){return!fails$2(function(){var e=t(new globalThis$1.AggregateError([1],PERFORMANCE_MARK,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==PERFORMANCE_MARK||3!==e.cause})},nativeStructuredClone=globalThis$1.structuredClone,FORCED_REPLACEMENT=!checkErrorsCloning(nativeStructuredClone,Error$1)||!checkErrorsCloning(nativeStructuredClone,DOMException)||!checkNewErrorsCloningSemantic(nativeStructuredClone),structuredCloneFromMark=!nativeStructuredClone&&checkBasicSemantic(function(t){return new PerformanceMark(PERFORMANCE_MARK,{detail:t}).detail}),nativeRestrictedStructuredClone=checkBasicSemantic(nativeStructuredClone)||structuredCloneFromMark,throwUncloneable=function(t){throw new DOMException("Uncloneable type: "+t,DATA_CLONE_ERROR)},throwUnpolyfillable=function(t,e){throw new DOMException((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",DATA_CLONE_ERROR)},tryNativeRestrictedStructuredClone=function(t,e){return nativeRestrictedStructuredClone||throwUnpolyfillable(e),nativeRestrictedStructuredClone(t)},createDataTransfer=function(){var t;try{t=new globalThis$1.DataTransfer}catch(e){try{t=new globalThis$1.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null},cloneBuffer=function(t,e,s){if(mapHas(e,t))return mapGet(e,t);var i,n,a,l,r,c;if("SharedArrayBuffer"===(s||classof(t)))i=nativeRestrictedStructuredClone?nativeRestrictedStructuredClone(t):t;else{var B=globalThis$1.DataView;B||isCallable(t.slice)||throwUnpolyfillable("ArrayBuffer");try{if(isCallable(t.slice)&&!t.resizable)i=t.slice(0);else{n=t.byteLength,a="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,i=new ArrayBuffer(n,a),l=new B(t),r=new B(i);for(c=0;c<n;c++)r.setUint8(c,l.getUint8(c))}}catch(t){throw new DOMException("ArrayBuffer is detached",DATA_CLONE_ERROR)}}return mapSet(e,t,i),i},cloneView=function(t,e,s,i,n){var a=globalThis$1[e];return isObject$1(a)||throwUnpolyfillable(e),new a(cloneBuffer(t.buffer,n),s,i)},structuredCloneInternal=function(t,e){if(isSymbol$1(t)&&throwUncloneable("Symbol"),!isObject$1(t))return t;if(e){if(mapHas(e,t))return mapGet(e,t)}else e=new Map$1;var s,i,n,a,l,r,c,B,g=classof(t);switch(g){case"Array":n=Array$1(lengthOfArrayLike(t));break;case"Object":n={};break;case"Map":n=new Map$1;break;case"Set":n=new Set$1;break;case"RegExp":n=new RegExp(t.source,getRegExpFlags(t));break;case"Error":switch(i=t.name){case"AggregateError":n=new(getBuiltIn$2(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":n=new(getBuiltIn$2(i));break;case"CompileError":case"LinkError":case"RuntimeError":n=new(getBuiltIn$2("WebAssembly",i));break;default:n=new Error$1}break;case"DOMException":n=new DOMException(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":n=cloneBuffer(t,e,g);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":r="DataView"===g?t.byteLength:t.length,n=cloneView(t,g,t.byteOffset,r,e);break;case"DOMQuad":try{n=new DOMQuad(structuredCloneInternal(t.p1,e),structuredCloneInternal(t.p2,e),structuredCloneInternal(t.p3,e),structuredCloneInternal(t.p4,e))}catch(e){n=tryNativeRestrictedStructuredClone(t,g)}break;case"File":if(nativeRestrictedStructuredClone)try{n=nativeRestrictedStructuredClone(t),classof(n)!==g&&(n=void 0)}catch(t){}if(!n)try{n=new File([t],t.name,t)}catch(t){}n||throwUnpolyfillable(g);break;case"FileList":if(a=createDataTransfer()){for(l=0,r=lengthOfArrayLike(t);l<r;l++)a.items.add(structuredCloneInternal(t[l],e));n=a.files}else n=tryNativeRestrictedStructuredClone(t,g);break;case"ImageData":try{n=new ImageData(structuredCloneInternal(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){n=tryNativeRestrictedStructuredClone(t,g)}break;default:if(nativeRestrictedStructuredClone)n=nativeRestrictedStructuredClone(t);else switch(g){case"BigInt":n=Object$1(t.valueOf());break;case"Boolean":n=Object$1(thisBooleanValue(t));break;case"Number":n=Object$1(thisNumberValue(t));break;case"String":n=Object$1(thisStringValue(t));break;case"Date":n=new Date$1(thisTimeValue(t));break;case"Blob":try{n=t.slice(0,t.size,t.type)}catch(t){throwUnpolyfillable(g)}break;case"DOMPoint":case"DOMPointReadOnly":s=globalThis$1[g];try{n=s.fromPoint?s.fromPoint(t):new s(t.x,t.y,t.z,t.w)}catch(t){throwUnpolyfillable(g)}break;case"DOMRect":case"DOMRectReadOnly":s=globalThis$1[g];try{n=s.fromRect?s.fromRect(t):new s(t.x,t.y,t.width,t.height)}catch(t){throwUnpolyfillable(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=globalThis$1[g];try{n=s.fromMatrix?s.fromMatrix(t):new s(t)}catch(t){throwUnpolyfillable(g)}break;case"AudioData":case"VideoFrame":isCallable(t.clone)||throwUnpolyfillable(g);try{n=t.clone()}catch(t){throwUncloneable(g)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(g);default:throwUncloneable(g)}}switch(mapSet(e,t,n),g){case"Array":case"Object":for(c=objectKeys(t),l=0,r=lengthOfArrayLike(c);l<r;l++)B=c[l],createProperty(n,B,structuredCloneInternal(t[B],e));break;case"Map":t.forEach(function(t,s){mapSet(n,structuredCloneInternal(s,e),structuredCloneInternal(t,e))});break;case"Set":t.forEach(function(t){setAdd(n,structuredCloneInternal(t,e))});break;case"Error":createNonEnumerableProperty(n,"message",structuredCloneInternal(t.message,e)),hasOwn(t,"cause")&&createNonEnumerableProperty(n,"cause",structuredCloneInternal(t.cause,e)),"AggregateError"===i?n.errors=structuredCloneInternal(t.errors,e):"SuppressedError"===i&&(n.error=structuredCloneInternal(t.error,e),n.suppressed=structuredCloneInternal(t.suppressed,e));case"DOMException":ERROR_STACK_INSTALLABLE&&createNonEnumerableProperty(n,"stack",structuredCloneInternal(t.stack,e))}return n},tryToTransfer=function(t,e){if(!isObject$1(t))throw new TypeError$1("Transfer option cannot be converted to a sequence");var s=[];iterate(t,function(t){push$1(s,anObject(t))});for(var i,n,a,l,r,c=0,B=lengthOfArrayLike(s),g=new Set$1;c<B;){if(i=s[c++],"ArrayBuffer"===(n=classof(i))?setHas(g,i):mapHas(e,i))throw new DOMException("Duplicate transferable",DATA_CLONE_ERROR);if("ArrayBuffer"!==n){if(PROPER_STRUCTURED_CLONE_TRANSFER)l=nativeStructuredClone(i,{transfer:[i]});else switch(n){case"ImageBitmap":a=globalThis$1.OffscreenCanvas,isConstructor(a)||throwUnpolyfillable(n,TRANSFERRING);try{(r=new a(i.width,i.height)).getContext("bitmaprenderer").transferFromImageBitmap(i),l=r.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":isCallable(i.clone)&&isCallable(i.close)||throwUnpolyfillable(n,TRANSFERRING);try{l=i.clone(),i.close()}catch(t){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":throwUnpolyfillable(n,TRANSFERRING)}if(void 0===l)throw new DOMException("This object cannot be transferred: "+n,DATA_CLONE_ERROR);mapSet(e,i,l)}else setAdd(g,i)}return g},detachBuffers=function(t){setIterate(t,function(t){PROPER_STRUCTURED_CLONE_TRANSFER?nativeRestrictedStructuredClone(t,{transfer:[t]}):isCallable(t.transfer)?t.transfer():detachTransferable?detachTransferable(t):throwUnpolyfillable("ArrayBuffer",TRANSFERRING)})};$$3({global:!0,enumerable:!0,sham:!PROPER_STRUCTURED_CLONE_TRANSFER,forced:FORCED_REPLACEMENT},{structuredClone:function(t){var e,s,i=validateArgumentsLength$4(arguments.length,1)>1&&!isNullOrUndefined(arguments[1])?anObject(arguments[1]):void 0,n=i?i.transfer:void 0;void 0!==n&&(e=new Map$1,s=tryToTransfer(n,e));var a=structuredCloneInternal(t,e);return s&&detachBuffers(s),a}});var fails$1=fails$t,wellKnownSymbol=wellKnownSymbol$k,DESCRIPTORS$1=descriptors,IS_PURE=isPure,ITERATOR=wellKnownSymbol("iterator"),urlConstructorDetection=!fails$1(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,s=new URLSearchParams("a=1&a=2&b=3"),i="";return t.pathname="c%20d",e.forEach(function(t,s){e.delete("b"),i+=s+t}),s.delete("a",2),s.delete("b",void 0),IS_PURE&&(!t.toJSON||!s.has("a",1)||s.has("a",2)||!s.has("a",void 0)||s.has("b"))||!e.size&&(IS_PURE||!DESCRIPTORS$1)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("https://a#Ð±").hash||"a1c3"!==i||"x"!==new URL("https://x",void 0).host}),$$2=_export,getBuiltIn$1=getBuiltIn$j,fails=fails$t,validateArgumentsLength$3=validateArgumentsLength$7,toString$3=toString$9,USE_NATIVE_URL$1=urlConstructorDetection,URL$2=getBuiltIn$1("URL"),THROWS_WITHOUT_ARGUMENTS=USE_NATIVE_URL$1&&fails(function(){URL$2.canParse()}),WRONG_ARITY=fails(function(){return 1!==URL$2.canParse.length});$$2({target:"URL",stat:!0,forced:!THROWS_WITHOUT_ARGUMENTS||WRONG_ARITY},{canParse:function(t){var e=validateArgumentsLength$3(arguments.length,1),s=toString$3(t),i=e<2||void 0===arguments[1]?void 0:toString$3(arguments[1]);try{return!!new URL$2(s,i)}catch(t){return!1}}});var $$1=_export,getBuiltIn=getBuiltIn$j,validateArgumentsLength$2=validateArgumentsLength$7,toString$2=toString$9,USE_NATIVE_URL=urlConstructorDetection,URL$1=getBuiltIn("URL");$$1({target:"URL",stat:!0,forced:!USE_NATIVE_URL},{parse:function(t){var e=validateArgumentsLength$2(arguments.length,1),s=toString$2(t),i=e<2||void 0===arguments[1]?void 0:toString$2(arguments[1]);try{return new URL$1(s,i)}catch(t){return null}}});var defineBuiltIn$1=defineBuiltIn$b,uncurryThis$2=functionUncurryThis,toString$1=toString$9,validateArgumentsLength$1=validateArgumentsLength$7,$URLSearchParams$1=URLSearchParams,URLSearchParamsPrototype$2=$URLSearchParams$1.prototype,append$2=uncurryThis$2(URLSearchParamsPrototype$2.append),$delete=uncurryThis$2(URLSearchParamsPrototype$2.delete),forEach$1=uncurryThis$2(URLSearchParamsPrototype$2.forEach),push=uncurryThis$2([].push),params$1=new $URLSearchParams$1("a=1&a=2&b=3");params$1.delete("a",1),params$1.delete("b",void 0),params$1+""!="a=2"&&defineBuiltIn$1(URLSearchParamsPrototype$2,"delete",function(t){var e=arguments.length,s=e<2?void 0:arguments[1];if(e&&void 0===s)return $delete(this,t);var i=[];forEach$1(this,function(t,e){push(i,{key:e,value:t})}),validateArgumentsLength$1(e,1);for(var n,a=toString$1(t),l=toString$1(s),r=0,c=0,B=!1,g=i.length;r<g;)n=i[r++],B||n.key===a?(B=!0,$delete(this,n.key)):c++;for(;c<g;)(n=i[c++]).key===a&&n.value===l||append$2(this,n.key,n.value)},{enumerable:!0,unsafe:!0});var defineBuiltIn=defineBuiltIn$b,uncurryThis$1=functionUncurryThis,toString=toString$9,validateArgumentsLength=validateArgumentsLength$7,$URLSearchParams=URLSearchParams,URLSearchParamsPrototype$1=$URLSearchParams.prototype,getAll=uncurryThis$1(URLSearchParamsPrototype$1.getAll),$has=uncurryThis$1(URLSearchParamsPrototype$1.has),params=new $URLSearchParams("a=1");!params.has("a",2)&&params.has("a",void 0)||defineBuiltIn(URLSearchParamsPrototype$1,"has",function(t){var e=arguments.length,s=e<2?void 0:arguments[1];if(e&&void 0===s)return $has(this,t);var i=getAll(this,t);validateArgumentsLength(e,1);for(var n=toString(s),a=0;a<i.length;)if(i[a++]===n)return!0;return!1},{enumerable:!0,unsafe:!0});var DESCRIPTORS=descriptors,uncurryThis=functionUncurryThis,defineBuiltInAccessor=defineBuiltInAccessor$6,URLSearchParamsPrototype=URLSearchParams.prototype,forEach=uncurryThis(URLSearchParamsPrototype.forEach);DESCRIPTORS&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor(URLSearchParamsPrototype,"size",{get:function(){var t=0;return forEach(this,function(){t++}),t},configurable:!0,enumerable:!0});const elementMap=new Map;var Data={set(t,e,s){elementMap.has(t)||elementMap.set(t,new Map);const i=elementMap.get(t);i.has(e)||0===i.size?i.set(e,s):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(t,e)=>elementMap.has(t)&&elementMap.get(t).get(e)||null,remove(t,e){if(!elementMap.has(t))return;const s=elementMap.get(t);s.delete(e),0===s.size&&elementMap.delete(t)}};const MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),toType=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:s}=window.getComputedStyle(t);const i=Number.parseFloat(e),n=Number.parseFloat(s);return i||n?(e=e.split(",")[0],s=s.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(s))):0},triggerTransitionEnd=t=>{t.dispatchEvent(new Event(TRANSITION_END))},isElement=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),getElement=t=>isElement(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(parseSelector(t)):null,isVisible=t=>{if(!isElement(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),s=t.closest("details:not([open])");if(!s)return e;if(s!==t){const e=t.closest("summary");if(e&&e.parentNode!==s)return!1;if(null===e)return!1}return e},isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),reflow=t=>{t.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=t=>{"loading"===document.readyState?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of DOMContentLoadedCallbacks)t()}),DOMContentLoadedCallbacks.push(t)):t()},defineJQueryPlugin=t=>{onDOMContentLoaded(()=>{const e=getjQuery();if(e){const s=t.NAME,i=e.fn[s];e.fn[s]=t.jQueryInterface,e.fn[s].Constructor=t,e.fn[s].noConflict=()=>(e.fn[s]=i,t.jQueryInterface)}})},execute=(t,e=[],s=t)=>"function"==typeof t?t.call(...e):s,executeAfterTransition=(t,e,s=!0)=>{if(!s)return void execute(t);const i=getTransitionDurationFromElement(e)+5;let n=!1;const a=({target:s})=>{s===e&&(n=!0,e.removeEventListener(TRANSITION_END,a),execute(t))};e.addEventListener(TRANSITION_END,a),setTimeout(()=>{n||triggerTransitionEnd(e)},i)},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(t,e){return e&&`${e}::${uidEvent++}`||t.uidEvent||uidEvent++}function getElementEvents(t){const e=makeEventUid(t);return t.uidEvent=e,eventRegistry[e]=eventRegistry[e]||{},eventRegistry[e]}function bootstrapHandler(t,e){return function s(i){return hydrateObj(i,{delegateTarget:t}),s.oneOff&&EventHandler.off(t,i.type,e),e.apply(t,[i])}}function bootstrapDelegationHandler(t,e,s){return function i(n){const a=t.querySelectorAll(e);for(let{target:l}=n;l&&l!==this;l=l.parentNode)for(const r of a)if(r===l)return hydrateObj(n,{delegateTarget:l}),i.oneOff&&EventHandler.off(t,n.type,e,s),s.apply(l,[n])}}function findHandler(t,e,s=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===s)}function normalizeParameters(t,e,s){const i="string"==typeof e,n=i?s:e||s;let a=getTypeEvent(t);return nativeEvents.has(a)||(a=t),[i,n,a]}function addHandler(t,e,s,i,n){if("string"!=typeof e||!t)return;let[a,l,r]=normalizeParameters(e,s,i);if(e in customEvents){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};l=t(l)}const c=getElementEvents(t),B=c[r]||(c[r]={}),g=findHandler(B,l,a?s:null);if(g)return void(g.oneOff=g.oneOff&&n);const o=makeEventUid(l,e.replace(namespaceRegex,"")),F=a?bootstrapDelegationHandler(t,s,l):bootstrapHandler(t,l);F.delegationSelector=a?s:null,F.callable=l,F.oneOff=n,F.uidEvent=o,B[o]=F,t.addEventListener(r,F,a)}function removeHandler(t,e,s,i,n){const a=findHandler(e[s],i,n);a&&(t.removeEventListener(s,a,Boolean(n)),delete e[s][a.uidEvent])}function removeNamespacedHandlers(t,e,s,i){const n=e[s]||{};for(const[a,l]of Object.entries(n))a.includes(i)&&removeHandler(t,e,s,l.callable,l.delegationSelector)}function getTypeEvent(t){return t=t.replace(stripNameRegex,""),customEvents[t]||t}const EventHandler={on(t,e,s,i){addHandler(t,e,s,i,!1)},one(t,e,s,i){addHandler(t,e,s,i,!0)},off(t,e,s,i){if("string"!=typeof e||!t)return;const[n,a,l]=normalizeParameters(e,s,i),r=l!==e,c=getElementEvents(t),B=c[l]||{},g=e.startsWith(".");if(void 0===a){if(g)for(const s of Object.keys(c))removeNamespacedHandlers(t,c,s,e.slice(1));for(const[s,i]of Object.entries(B)){const n=s.replace(stripUidRegex,"");r&&!e.includes(n)||removeHandler(t,c,l,i.callable,i.delegationSelector)}}else{if(!Object.keys(B).length)return;removeHandler(t,c,l,a,n?s:null)}},trigger(t,e,s){if("string"!=typeof e||!t)return null;const i=getjQuery();let n=null,a=!0,l=!0,r=!1;e!==getTypeEvent(e)&&i&&(n=i.Event(e,s),i(t).trigger(n),a=!n.isPropagationStopped(),l=!n.isImmediatePropagationStopped(),r=n.isDefaultPrevented());const c=hydrateObj(new Event(e,{bubbles:a,cancelable:!0}),s);return r&&c.preventDefault(),l&&t.dispatchEvent(c),c.defaultPrevented&&n&&n.preventDefault(),c}};function hydrateObj(t,e={}){for(const[s,i]of Object.entries(e))try{t[s]=i}catch{Object.defineProperty(t,s,{configurable:!0,get:()=>i})}return t}function normalizeData(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function normalizeDataKey(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Manipulator={setDataAttribute(t,e,s){t.setAttribute(`data-bs-${normalizeDataKey(e)}`,s)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${normalizeDataKey(e)}`)},getDataAttributes(t){if(!t)return{};const e={},s=Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const i of s){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1),e[s]=normalizeData(t.dataset[i])}return e},getDataAttribute:(t,e)=>normalizeData(t.getAttribute(`data-bs-${normalizeDataKey(e)}`))};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const s=isElement(e)?Manipulator.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof s?s:{},...isElement(e)?Manipulator.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[s,i]of Object.entries(e)){const e=t[s],n=isElement(e)?"element":toType(e);if(!new RegExp(i).test(n))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${n}" but expected type "${i}".`)}}}const VERSION="5.3.8";class BaseComponent extends Config{constructor(t,e){super(),(t=getElement(t))&&(this._element=t,this._config=this._getConfig(e),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,s=!0){executeAfterTransition(t,e,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Data.get(getElement(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const NAME$1="button",DATA_KEY$1="bs.button",EVENT_KEY$1=`.${DATA_KEY$1}`,DATA_API_KEY$1=".data-api",CLASS_NAME_ACTIVE="active",SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$1}.data-api`;class Button extends BaseComponent{static get NAME(){return NAME$1}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=Button.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,t=>{t.preventDefault();const e=t.target.closest(SELECTOR_DATA_TOGGLE$1);Button.getOrCreateInstance(e).toggle()}),defineJQueryPlugin(Button);const getSelector=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),e=s&&"#"!==s?s.trim():null}return e?e.split(",").map(t=>parseSelector(t)).join(","):null},SelectorEngine={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const s=[];let i=t.parentNode.closest(e);for(;i;)s.push(i),i=i.parentNode.closest(e);return s},prev(t,e){let s=t.previousElementSibling;for(;s;){if(s.matches(e))return[s];s=s.previousElementSibling}return[]},next(t,e){let s=t.nextElementSibling;for(;s;){if(s.matches(e))return[s];s=s.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!isDisabled(t)&&isVisible(t))},getSelectorFromElement(t){const e=getSelector(t);return e&&SelectorEngine.findOne(e)?e:null},getElementFromSelector(t){const e=getSelector(t);return e?SelectorEngine.findOne(e):null},getMultipleElementsFromSelector(t){const e=getSelector(t);return e?SelectorEngine.find(e):[]}},NAME="collapse",DATA_KEY="bs.collapse",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,CLASS_NAME_SHOW="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=":scope .collapse .collapse",CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE='[data-bs-toggle="collapse"]',Default={parent:null,toggle:!0},DefaultType={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const s=SelectorEngine.find(SELECTOR_DATA_TOGGLE);for(const t of s){const e=SelectorEngine.getSelectorFromElement(t),s=SelectorEngine.find(e).filter(t=>t===this._element);null!==e&&s.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(t=>t!==this._element).map(t=>Collapse.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[e]="",EventHandler.trigger(this._element,EVENT_SHOWN)},this._element,!0),this._element.style[e]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,reflow(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");for(const t of this._triggerArray){const e=SelectorEngine.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),EventHandler.trigger(this._element,EVENT_HIDDEN)},this._element,!0)}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=getElement(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE);for(const e of t){const t=SelectorEngine.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const s of t)s.classList.toggle("collapsed",!e),s.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const s=Collapse.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===s[t])throw new TypeError(`No method named "${t}"`);s[t]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(t,{toggle:!1}).toggle()}),defineJQueryPlugin(Collapse);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$2=globalThis,e$3=t$2.ShadowRoot&&(void 0===t$2.ShadyCSS||t$2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$6=new WeakMap;let n$4=class{constructor(t,e,s){if(this._$cssResult$=!0,s!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(e$3&&void 0===t){const s=void 0!==e&&1===e.length;s&&(t=o$6.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),s&&o$6.set(e,t))}return t}toString(){return this.cssText}};const r$4=t=>new n$4("string"==typeof t?t:t+"",void 0,s$4),i$5=(t,...e)=>{const s=1===t.length?t[0]:e.reduce((e,s,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new n$4(s,t,s$4)},S$1=(t,e)=>{if(e$3)t.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const s of e){const e=document.createElement("style"),i=t$2.litNonce;void 0!==i&&e.setAttribute("nonce",i),e.textContent=s.cssText,t.appendChild(e)}},c$6=e$3?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return r$4(e)})(t):t,{is:i$4,defineProperty:e$2,getOwnPropertyDescriptor:h$2,getOwnPropertyNames:r$3,getOwnPropertySymbols:o$5,getPrototypeOf:n$3}=Object,a$3=globalThis,c$5=a$3.trustedTypes,l$1=c$5?c$5.emptyScript:"",p$1=a$3.reactiveElementPolyfillSupport,d$2=(t,e)=>t,u$1={toAttribute(t,e){switch(e){case Boolean:t=t?l$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},f$3=(t,e)=>!i$4(t,e),b$2={attribute:!0,type:String,converter:u$1,reflect:!1,useDefault:!1,hasChanged:f$3};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */Symbol.metadata??=Symbol("metadata"),a$3.litPropertyMetadata??=new WeakMap;let y$3=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=b$2){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const s=Symbol(),i=this.getPropertyDescriptor(t,s,e);void 0!==i&&e$2(this.prototype,t,i)}}static getPropertyDescriptor(t,e,s){const{get:i,set:n}=h$2(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:i,set(e){const a=i?.call(this);n?.call(this,e),this.requestUpdate(t,a,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b$2}static _$Ei(){if(this.hasOwnProperty(d$2("elementProperties")))return;const t=n$3(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d$2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$2("properties"))){const t=this.properties,e=[...r$3(t),...o$5(t)];for(const s of e)this.createProperty(s,t[s])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,s]of e)this.elementProperties.set(t,s)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const s=this._$Eu(t,e);void 0!==s&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const t of s)e.unshift(c$6(t))}else void 0!==t&&e.push(c$6(t));return e}static _$Eu(t,e){const s=e.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const s of e.keys())this.hasOwnProperty(s)&&(t.set(s,this[s]),delete this[s]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,s){this._$AK(t,s)}_$ET(t,e){const s=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,s);if(void 0!==i&&!0===s.reflect){const n=(void 0!==s.converter?.toAttribute?s.converter:u$1).toAttribute(e,s.type);this._$Em=t,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$Em=null}}_$AK(t,e){const s=this.constructor,i=s._$Eh.get(t);if(void 0!==i&&this._$Em!==i){const t=s.getPropertyOptions(i),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u$1;this._$Em=i;const a=n.fromAttribute(e,t.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(t,e,s){if(void 0!==t){const i=this.constructor,n=this[t];if(s??=i.getPropertyOptions(t),!((s.hasChanged??f$3)(n,e)||s.useDefault&&s.reflect&&n===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,s))))return;this.C(t,e,s)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:s,reflect:i,wrapped:n},a){s&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,a??e??this[t]),!0!==n||void 0!==a)||(this._$AL.has(t)||(this.hasUpdated||s||(e=void 0),this._$AL.set(t,e)),!0===i&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,s]of t){const{wrapped:t}=s,i=this[e];!0!==t||this._$AL.has(e)||void 0===i||this.C(e,void 0,s,i)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(t){}firstUpdated(t){}};y$3.elementStyles=[],y$3.shadowRootOptions={mode:"open"},y$3[d$2("elementProperties")]=new Map,y$3[d$2("finalized")]=new Map,p$1?.({ReactiveElement:y$3}),(a$3.reactiveElementVersions??=[]).push("2.1.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$1=globalThis,i$3=t$1.trustedTypes,s$3=i$3?i$3.createPolicy("lit-html",{createHTML:t=>t}):void 0,e$1="$lit$",h$1=`lit$${Math.random().toFixed(9).slice(2)}$`,o$4="?"+h$1,n$2=`<${o$4}>`,r$2=document,l=()=>r$2.createComment(""),c$4=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a$2=Array.isArray,u=t=>a$2(t)||"function"==typeof t?.[Symbol.iterator],d$1="[ \t\n\f\r]",f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$1=/-->/g,_=/>/g,m=RegExp(`>|${d$1}(?:([^\\s"'>=/]+)(${d$1}*=${d$1}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g$1=/"/g,$=/^(?:script|style|textarea|title)$/i,y$2=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),x$3=y$2(1),b$1=y$2(2),T=Symbol.for("lit-noChange"),E$1=Symbol.for("lit-nothing"),A$2=new WeakMap,C$1=r$2.createTreeWalker(r$2,129);function P(t,e){if(!a$2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s$3?s$3.createHTML(e):e}const V=(t,e)=>{const s=t.length-1,i=[];let n,a=2===e?"<svg>":3===e?"<math>":"",l=f$2;for(let e=0;e<s;e++){const s=t[e];let r,c,B=-1,g=0;for(;g<s.length&&(l.lastIndex=g,c=l.exec(s),null!==c);)g=l.lastIndex,l===f$2?"!--"===c[1]?l=v$1:void 0!==c[1]?l=_:void 0!==c[2]?($.test(c[2])&&(n=RegExp("</"+c[2],"g")),l=m):void 0!==c[3]&&(l=m):l===m?">"===c[0]?(l=n??f$2,B=-1):void 0===c[1]?B=-2:(B=l.lastIndex-c[2].length,r=c[1],l=void 0===c[3]?m:'"'===c[3]?g$1:p):l===g$1||l===p?l=m:l===v$1||l===_?l=f$2:(l=m,n=void 0);const o=l===m&&t[e+1].startsWith("/>")?" ":"";a+=l===f$2?s+n$2:B>=0?(i.push(r),s.slice(0,B)+e$1+s.slice(B)+h$1+o):s+h$1+(-2===B?e:o)}return[P(t,a+(t[s]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),i]};let N$1=class t{constructor({strings:e,_$litType$:s},i){let n;this.parts=[];let a=0,r=0;const c=e.length-1,B=this.parts,[g,o]=V(e,s);if(this.el=t.createElement(g,i),C$1.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(n=C$1.nextNode())&&B.length<c;){if(1===n.nodeType){if(n.hasAttributes())for(const t of n.getAttributeNames())if(t.endsWith(e$1)){const e=o[r++],s=n.getAttribute(t).split(h$1),i=/([.?@])?(.*)/.exec(e);B.push({type:1,index:a,name:i[2],strings:s,ctor:"."===i[1]?H:"?"===i[1]?I:"@"===i[1]?L:k$1}),n.removeAttribute(t)}else t.startsWith(h$1)&&(B.push({type:6,index:a}),n.removeAttribute(t));if($.test(n.tagName)){const t=n.textContent.split(h$1),e=t.length-1;if(e>0){n.textContent=i$3?i$3.emptyScript:"";for(let s=0;s<e;s++)n.append(t[s],l()),C$1.nextNode(),B.push({type:2,index:++a});n.append(t[e],l())}}}else if(8===n.nodeType)if(n.data===o$4)B.push({type:2,index:a});else{let t=-1;for(;-1!==(t=n.data.indexOf(h$1,t+1));)B.push({type:7,index:a}),t+=h$1.length-1}a++}}static createElement(t,e){const s=r$2.createElement("template");return s.innerHTML=t,s}};function S(t,e,s=t,i){if(e===T)return e;let n=void 0!==i?s._$Co?.[i]:s._$Cl;const a=c$4(e)?void 0:e._$litDirective$;return n?.constructor!==a&&(n?._$AO?.(!1),void 0===a?n=void 0:(n=new a(t),n._$AT(t,s,i)),void 0!==i?(s._$Co??=[])[i]=n:s._$Cl=n),void 0!==n&&(e=S(t,n._$AS(t,e.values),n,i)),e}let M$1=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:s}=this._$AD,i=(t?.creationScope??r$2).importNode(e,!0);C$1.currentNode=i;let n=C$1.nextNode(),a=0,l=0,r=s[0];for(;void 0!==r;){if(a===r.index){let e;2===r.type?e=new R(n,n.nextSibling,this,t):1===r.type?e=new r.ctor(n,r.name,r.strings,this,t):6===r.type&&(e=new z$1(n,this,t)),this._$AV.push(e),r=s[++l]}a!==r?.index&&(n=C$1.nextNode(),a++)}return C$1.currentNode=r$2,i}p(t){let e=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}};class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,s,i){this.type=2,this._$AH=E$1,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=S(this,t,e),c$4(t)?t===E$1||null==t||""===t?(this._$AH!==E$1&&this._$AR(),this._$AH=E$1):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E$1&&c$4(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$2.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:s}=t,i="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N$1.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===i)this._$AH.p(e);else{const t=new M$1(i,this),s=t.u(this.options);t.p(e),this.T(s),this._$AH=t}}_$AC(t){let e=A$2.get(t.strings);return void 0===e&&A$2.set(t.strings,e=new N$1(t)),e}k(t){a$2(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}let k$1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,s,i,n){this.type=1,this._$AH=E$1,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E$1}_$AI(t,e=this,s,i){const n=this.strings;let a=!1;if(void 0===n)t=S(this,t,e,0),a=!c$4(t)||t!==this._$AH&&t!==T,a&&(this._$AH=t);else{const i=t;let l,r;for(t=n[0],l=0;l<n.length-1;l++)r=S(this,i[s+l],e,l),r===T&&(r=this._$AH[l]),a||=!c$4(r)||r!==this._$AH[l],r===E$1?t=E$1:t!==E$1&&(t+=(r??"")+n[l+1]),this._$AH[l]=r}a&&!i&&this.j(t)}j(t){t===E$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class H extends k$1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E$1?void 0:t}}class I extends k$1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E$1)}}class L extends k$1{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){if((t=S(this,t,e,0)??E$1)===T)return;const s=this._$AH,i=t===E$1&&s!==E$1||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,n=t!==E$1&&(s===E$1||i);i&&this.element.removeEventListener(this.name,this,s),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}let z$1=class{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}};const j$1=t$1.litHtmlPolyfillSupport;j$1?.(N$1,R),(t$1.litHtmlVersions??=[]).push("3.3.1");const B$1=(t,e,s)=>{const i=s?.renderBefore??e;let n=i._$litPart$;if(void 0===n){const t=s?.renderBefore??null;i._$litPart$=n=new R(e.insertBefore(l(),t),t,void 0,s??{})}return n._$AI(t),n},s$2=globalThis;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let i$2=class extends y$3{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=B$1(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return T}};i$2._$litElement$=!0,i$2.finalized=!0,s$2.litElementHydrateSupport?.({LitElement:i$2});const o$3=s$2.litElementPolyfillSupport;function ascending$1(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending$1(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,s,i;function n(t,i,n=0,a=t.length){if(n<a){if(0!==e(i,i))return a;do{const e=n+a>>>1;s(t[e],i)<0?n=e+1:a=e}while(n<a)}return n}return 2!==t.length?(e=ascending$1,s=(e,s)=>ascending$1(t(e),s),i=(e,s)=>t(e)-s):(e=t===ascending$1||t===descending$1?t:zero$1,s=t,i=t),{left:n,center:function(t,e,s=0,a=t.length){const l=n(t,e,s,a-1);return l>s&&i(t[l-1],e)>-i(t[l],e)?l-1:l},right:function(t,i,n=0,a=t.length){if(n<a){if(0!==e(i,i))return a;do{const e=n+a>>>1;s(t[e],i)<=0?n=e+1:a=e}while(n<a)}return n}}}function zero$1(){return 0}function number$4(t){return null===t?NaN:+t}function*numbers(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let s=-1;for(let i of t)null!=(i=e(i,++s,t))&&(i=+i)>=i&&(yield i)}}o$3?.({LitElement:i$2}),(s$2.litElementVersions??=[]).push("4.2.1");const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;function count(t,e){let s=0;for(let e of t)null!=e&&(e=+e)>=e&&++s;return s}function length$1(t){return 0|t.length}function empty$1(t){return!(t>0)}function arrayify$1(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function reducer(t){return e=>t(...e)}function cross(...t){const e="function"==typeof t[t.length-1]&&reducer(t.pop()),s=(t=t.map(arrayify$1)).map(length$1),i=t.length-1,n=new Array(i+1).fill(0),a=[];if(i<0||s.some(empty$1))return a;for(;;){a.push(n.map((e,s)=>t[s][e]));let l=i;for(;++n[l]===s[l];){if(0===l)return e?a.map(e):a;n[l--]=0}}}function cumsum(t,e){var s=0;return Float64Array.from(t,t=>s+=+t||0)}function variance(t,e){let s,i=0,n=0,a=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(s=e-n,n+=s/++i,a+=s*(e-n));else{let l=-1;for(let r of t)null!=(r=e(r,++l,t))&&(r=+r)>=r&&(s=r-n,n+=s/++i,a+=s*(r-n))}if(i>1)return a/(i-1)}function deviation(t,e){const s=variance(t,e);return s?Math.sqrt(s):s}function extent$1(t,e){let s,i;if(void 0===e)for(const e of t)null!=e&&(void 0===s?e>=e&&(s=i=e):(s>e&&(s=e),i<e&&(i=e)));else{let n=-1;for(let a of t)null!=(a=e(a,++n,t))&&(void 0===s?a>=a&&(s=i=a):(s>a&&(s=a),i<a&&(i=a)))}return[s,i]}bisector(number$4).center;class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let s=0;for(let i=0;i<this._n&&i<32;i++){const n=e[i],a=t+n,l=Math.abs(t)<Math.abs(n)?t-(a-n):n-(a-t);l&&(e[s++]=l),t=a}return e[s]=t,this._n=s+1,this}valueOf(){const t=this._partials;let e,s,i,n=this._n,a=0;if(n>0){for(a=t[--n];n>0&&(e=a,s=t[--n],a=e+s,i=s-(a-e),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(s=2*i,e=a+s,s==e-a&&(a=e))}return a}}class InternMap extends Map{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,s]of t)this.set(e,s)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,e){return super.set(intern_set(this,t),e)}delete(t){return super.delete(intern_delete(this,t))}}class InternSet extends Set{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(intern_get(this,t))}add(t){return super.add(intern_set(this,t))}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:t,_key:e},s){const i=e(s);return t.has(i)?t.get(i):s}function intern_set({_intern:t,_key:e},s){const i=e(s);return t.has(i)?t.get(i):(t.set(i,s),s)}function intern_delete({_intern:t,_key:e},s){const i=e(s);return t.has(i)&&(s=t.get(i),t.delete(i)),s}function keyof$1(t){return null!==t&&"object"==typeof t?t.valueOf():t}function identity$9(t){return t}function group(t,...e){return nest(t,identity$9,identity$9,e)}function rollup(t,e,...s){return nest(t,identity$9,e,s)}function rollups(t,e,...s){return nest(t,Array.from,e,s)}function nest(t,e,s,i){return function t(n,a){if(a>=i.length)return s(n);const l=new InternMap,r=i[a++];let c=-1;for(const t of n){const e=r(t,++c,n),s=l.get(e);s?s.push(t):l.set(e,[t])}for(const[e,s]of l)l.set(e,t(s,a));return e(l)}(t,0)}function permute(t,e){return Array.from(e,e=>t[e])}function sort$2(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[s]=e;if(s&&2!==s.length||e.length>1){const i=Uint32Array.from(t,(t,e)=>e);return e.length>1?(e=e.map(e=>t.map(e)),i.sort((t,s)=>{for(const i of e){const e=ascendingDefined$1(i[t],i[s]);if(e)return e}})):(s=t.map(s),i.sort((t,e)=>ascendingDefined$1(s[t],s[e]))),permute(t,i)}return t.sort(compareDefined(s))}function compareDefined(t=ascending$1){if(t===ascending$1)return ascendingDefined$1;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,s)=>{const i=t(e,s);return i||0===i?i:(0===t(s,s))-(0===t(e,e))}}function ascendingDefined$1(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function groupSort(t,e,s){return(2!==e.length?sort$2(rollup(t,e,s),([t,e],[s,i])=>ascending$1(e,i)||ascending$1(t,s)):sort$2(group(t,s),([t,s],[i,n])=>e(s,n)||ascending$1(t,i))).map(([t])=>t)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,s){const i=(e-t)/Math.max(0,s),n=Math.floor(Math.log10(i)),a=i/Math.pow(10,n),l=a>=e10?10:a>=e5?5:a>=e2?2:1;let r,c,B;return n<0?(B=Math.pow(10,-n)/l,r=Math.round(t*B),c=Math.round(e*B),r/B<t&&++r,c/B>e&&--c,B=-B):(B=Math.pow(10,n)*l,r=Math.round(t/B),c=Math.round(e/B),r*B<t&&++r,c*B>e&&--c),c<r&&.5<=s&&s<2?tickSpec(t,e,2*s):[r,c,B]}function ticks(t,e,s){if(!((s=+s)>0))return[];if((t=+t)===(e=+e))return[t];const i=e<t,[n,a,l]=i?tickSpec(e,t,s):tickSpec(t,e,s);if(!(a>=n))return[];const r=a-n+1,c=new Array(r);if(i)if(l<0)for(let t=0;t<r;++t)c[t]=(a-t)/-l;else for(let t=0;t<r;++t)c[t]=(a-t)*l;else if(l<0)for(let t=0;t<r;++t)c[t]=(n+t)/-l;else for(let t=0;t<r;++t)c[t]=(n+t)*l;return c}function tickIncrement(t,e,s){return tickSpec(t=+t,e=+e,s=+s)[2]}function tickStep(t,e,s){s=+s;const i=(e=+e)<(t=+t),n=i?tickIncrement(e,t,s):tickIncrement(t,e,s);return(i?-1:1)*(n<0?1/-n:n)}function thresholdSturges(t){return Math.max(1,Math.ceil(Math.log(count(t))/Math.LN2)+1)}function max$1(t,e){let s;if(void 0===e)for(const e of t)null!=e&&(s<e||void 0===s&&e>=e)&&(s=e);else{let i=-1;for(let n of t)null!=(n=e(n,++i,t))&&(s<n||void 0===s&&n>=n)&&(s=n)}return s}function maxIndex(t,e){let s,i=-1,n=-1;if(void 0===e)for(const e of t)++n,null!=e&&(s<e||void 0===s&&e>=e)&&(s=e,i=n);else for(let a of t)null!=(a=e(a,++n,t))&&(s<a||void 0===s&&a>=a)&&(s=a,i=n);return i}function min$1(t,e){let s;if(void 0===e)for(const e of t)null!=e&&(s>e||void 0===s&&e>=e)&&(s=e);else{let i=-1;for(let n of t)null!=(n=e(n,++i,t))&&(s>n||void 0===s&&n>=n)&&(s=n)}return s}function minIndex(t,e){let s,i=-1,n=-1;if(void 0===e)for(const e of t)++n,null!=e&&(s>e||void 0===s&&e>=e)&&(s=e,i=n);else for(let a of t)null!=(a=e(a,++n,t))&&(s>a||void 0===s&&a>=a)&&(s=a,i=n);return i}function quickselect(t,e,s=0,i=1/0,n){if(e=Math.floor(e),s=Math.floor(Math.max(0,s)),i=Math.floor(Math.min(t.length-1,i)),!(s<=e&&e<=i))return t;for(n=void 0===n?ascendingDefined$1:compareDefined(n);i>s;){if(i-s>600){const a=i-s+1,l=e-s+1,r=Math.log(a),c=.5*Math.exp(2*r/3),B=.5*Math.sqrt(r*c*(a-c)/a)*(l-a/2<0?-1:1);quickselect(t,e,Math.max(s,Math.floor(e-l*c/a+B)),Math.min(i,Math.floor(e+(a-l)*c/a+B)),n)}const a=t[e];let l=s,r=i;for(swap(t,s,e),n(t[i],a)>0&&swap(t,s,i);l<r;){for(swap(t,l,r),++l,--r;n(t[l],a)<0;)++l;for(;n(t[r],a)>0;)--r}0===n(t[s],a)?swap(t,s,r):(++r,swap(t,r,i)),r<=e&&(s=r+1),e<=r&&(i=r-1)}return t}function swap(t,e,s){const i=t[e];t[e]=t[s],t[s]=i}function greatest(t,e=ascending$1){let s,i=!1;if(1===e.length){let n;for(const a of t){const t=e(a);(i?ascending$1(t,n)>0:0===ascending$1(t,t))&&(s=a,n=t,i=!0)}}else for(const n of t)(i?e(n,s)>0:0===e(n,n))&&(s=n,i=!0);return s}function quantile$1(t,e,s){if((i=(t=Float64Array.from(numbers(t,s))).length)&&!isNaN(e=+e)){if(e<=0||i<2)return min$1(t);if(e>=1)return max$1(t);var i,n=(i-1)*e,a=Math.floor(n),l=max$1(quickselect(t,a).subarray(0,a+1));return l+(min$1(t.subarray(a+1))-l)*(n-a)}}function quantileSorted(t,e,s=number$4){if((i=t.length)&&!isNaN(e=+e)){if(e<=0||i<2)return+s(t[0],0,t);if(e>=1)return+s(t[i-1],i-1,t);var i,n=(i-1)*e,a=Math.floor(n),l=+s(t[a],a,t);return l+(+s(t[a+1],a+1,t)-l)*(n-a)}}function thresholdFreedmanDiaconis(t,e,s){const i=count(t),n=quantile$1(t,.75)-quantile$1(t,.25);return i&&n?Math.ceil((s-e)/(2*n*Math.pow(i,-1/3))):1}function thresholdScott(t,e,s){const i=count(t),n=deviation(t);return i&&n?Math.ceil((s-e)*Math.cbrt(i)/(3.49*n)):1}function mean(t,e){let s=0,i=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++s,i+=e);else{let n=-1;for(let a of t)null!=(a=e(a,++n,t))&&(a=+a)>=a&&(++s,i+=a)}if(s)return i/s}function median(t,e){return quantile$1(t,.5,e)}function*flatten(t){for(const e of t)yield*e}function merge(t){return Array.from(flatten(t))}function mode(t,e){const s=new InternMap;if(void 0===e)for(let e of t)null!=e&&e>=e&&s.set(e,(s.get(e)||0)+1);else{let i=-1;for(let n of t)null!=(n=e(n,++i,t))&&n>=n&&s.set(n,(s.get(n)||0)+1)}let i,n=0;for(const[t,e]of s)e>n&&(n=e,i=t);return i}function pairs(t,e=pair){const s=[];let i,n=!1;for(const a of t)n&&s.push(e(i,a)),i=a,n=!0;return s}function pair(t,e){return[t,e]}function range$1(t,e,s){t=+t,e=+e,s=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+s;for(var i=-1,n=0|Math.max(0,Math.ceil((e-t)/s)),a=new Array(n);++i<n;)a[i]=t+i*s;return a}function sum(t,e){let s=0;if(void 0===e)for(let e of t)(e=+e)&&(s+=e);else{let i=-1;for(let n of t)(n=+e(n,++i,t))&&(s+=n)}return s}function reverse(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function identity$8(t){return t}var top=1,right=2,bottom=3,left=4,epsilon$3=1e-6;function translateX(t){return"translate("+t+",0)"}function translateY(t){return"translate(0,"+t+")"}function number$3(t){return e=>+t(e)}function center(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),s=>+t(s)+e}function entering(){return!this.__axis}function axis(t,e){var s=[],i=null,n=null,a=6,l=6,r=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,B=t===top||t===left?-1:1,g=t===left||t===right?"x":"y",o=t===top||t===bottom?translateX:translateY;function F(F){var Q=null==i?e.ticks?e.ticks.apply(e,s):e.domain():i,U=null==n?e.tickFormat?e.tickFormat.apply(e,s):identity$8:n,I=Math.max(a,0)+r,d=e.range(),b=+d[0]+c,u=+d[d.length-1]+c,C=(e.bandwidth?center:number$3)(e.copy(),c),h=F.selection?F.selection():F,y=h.selectAll(".domain").data([null]),x=h.selectAll(".tick").data(Q,e).order(),m=x.exit(),p=x.enter().append("g").attr("class","tick"),A=x.select("line"),G=x.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(p),A=A.merge(p.append("line").attr("stroke","currentColor").attr(g+"2",B*a)),G=G.merge(p.append("text").attr("fill","currentColor").attr(g,B*I).attr("dy",t===top?"0em":t===bottom?"0.71em":"0.32em")),F!==h&&(y=y.transition(F),x=x.transition(F),A=A.transition(F),G=G.transition(F),m=m.transition(F).attr("opacity",epsilon$3).attr("transform",function(t){return isFinite(t=C(t))?o(t+c):this.getAttribute("transform")}),p.attr("opacity",epsilon$3).attr("transform",function(t){var e=this.parentNode.__axis;return o((e&&isFinite(e=e(t))?e:C(t))+c)})),m.remove(),y.attr("d",t===left||t===right?l?"M"+B*l+","+b+"H"+c+"V"+u+"H"+B*l:"M"+c+","+b+"V"+u:l?"M"+b+","+B*l+"V"+c+"H"+u+"V"+B*l:"M"+b+","+c+"H"+u),x.attr("opacity",1).attr("transform",function(t){return o(C(t)+c)}),A.attr(g+"2",B*a),G.attr(g,B*I).text(U),h.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===right?"start":t===left?"end":"middle"),h.each(function(){this.__axis=C})}return F.scale=function(t){return arguments.length?(e=t,F):e},F.ticks=function(){return s=Array.from(arguments),F},F.tickArguments=function(t){return arguments.length?(s=null==t?[]:Array.from(t),F):s.slice()},F.tickValues=function(t){return arguments.length?(i=null==t?null:Array.from(t),F):i&&i.slice()},F.tickFormat=function(t){return arguments.length?(n=t,F):n},F.tickSize=function(t){return arguments.length?(a=l=+t,F):a},F.tickSizeInner=function(t){return arguments.length?(a=+t,F):a},F.tickSizeOuter=function(t){return arguments.length?(l=+t,F):l},F.tickPadding=function(t){return arguments.length?(r=+t,F):r},F.offset=function(t){return arguments.length?(c=+t,F):c},F}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}var noop$2={value:()=>{}};function dispatch(){for(var t,e=0,s=arguments.length,i={};e<s;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Dispatch(i)}function Dispatch(t){this._=t}function parseTypenames$1(t,e){return t.trim().split(/^|\s+/).map(function(t){var s="",i=t.indexOf(".");if(i>=0&&(s=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:s}})}function get$1(t,e){for(var s,i=0,n=t.length;i<n;++i)if((s=t[i]).name===e)return s.value}function set$1(t,e,s){for(var i=0,n=t.length;i<n;++i)if(t[i].name===e){t[i]=noop$2,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=s&&t.push({name:e,value:s}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var s,i=this._,n=parseTypenames$1(t+"",i),a=-1,l=n.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<l;)if(s=(t=n[a]).type)i[s]=set$1(i[s],t.name,e);else if(null==e)for(s in i)i[s]=set$1(i[s],t.name,null);return this}for(;++a<l;)if((s=(t=n[a]).type)&&(s=get$1(i[s],t.name)))return s},copy:function(){var t={},e=this._;for(var s in e)t[s]=e[s].slice();return new Dispatch(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var s,i,n=new Array(s),a=0;a<s;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,s=(i=this._[t]).length;a<s;++a)i[a].value.apply(e,n)},apply:function(t,e,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],n=0,a=i.length;n<a;++n)i[n].value.apply(e,s)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",s=e.indexOf(":");return s>=0&&"xmlns"!==(e=t.slice(0,s))&&(t=t.slice(s+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(t){return function(){var e=this.ownerDocument,s=this.namespaceURI;return s===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(t):e.createElementNS(s,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector(t){return null==t?none:function(){return this.querySelector(t)}}function selection_select(t){"function"!=typeof t&&(t=selector(t));for(var e=this._groups,s=e.length,i=new Array(s),n=0;n<s;++n)for(var a,l,r=e[n],c=r.length,B=i[n]=new Array(c),g=0;g<c;++g)(a=r[g])&&(l=t.call(a,a.__data__,g,r))&&("__data__"in a&&(l.__data__=a.__data__),B[g]=l);return new Selection$1(i,this._parents)}function array$1(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function empty(){return[]}function selectorAll(t){return null==t?empty:function(){return this.querySelectorAll(t)}}function arrayAll(t){return function(){return array$1(t.apply(this,arguments))}}function selection_selectAll(t){t="function"==typeof t?arrayAll(t):selectorAll(t);for(var e=this._groups,s=e.length,i=[],n=[],a=0;a<s;++a)for(var l,r=e[a],c=r.length,B=0;B<c;++B)(l=r[B])&&(i.push(t.call(l,l.__data__,B,r)),n.push(l));return new Selection$1(i,n)}function matcher(t){return function(){return this.matches(t)}}function childMatcher(t){return function(e){return e.matches(t)}}var find=Array.prototype.find;function childFind(t){return function(){return find.call(this.children,t)}}function childFirst(){return this.firstElementChild}function selection_selectChild(t){return this.select(null==t?childFirst:childFind("function"==typeof t?t:childMatcher(t)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(t){return function(){return filter.call(this.children,t)}}function selection_selectChildren(t){return this.selectAll(null==t?children:childrenFilter("function"==typeof t?t:childMatcher(t)))}function selection_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,s=e.length,i=new Array(s),n=0;n<s;++n)for(var a,l=e[n],r=l.length,c=i[n]=[],B=0;B<r;++B)(a=l[B])&&t.call(a,a.__data__,B,l)&&c.push(a);return new Selection$1(i,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function constant$4(t){return function(){return t}}function bindIndex(t,e,s,i,n,a){for(var l,r=0,c=e.length,B=a.length;r<B;++r)(l=e[r])?(l.__data__=a[r],i[r]=l):s[r]=new EnterNode(t,a[r]);for(;r<c;++r)(l=e[r])&&(n[r]=l)}function bindKey(t,e,s,i,n,a,l){var r,c,B,g=new Map,o=e.length,F=a.length,Q=new Array(o);for(r=0;r<o;++r)(c=e[r])&&(Q[r]=B=l.call(c,c.__data__,r,e)+"",g.has(B)?n[r]=c:g.set(B,c));for(r=0;r<F;++r)B=l.call(t,a[r],r,a)+"",(c=g.get(B))?(i[r]=c,c.__data__=a[r],g.delete(B)):s[r]=new EnterNode(t,a[r]);for(r=0;r<o;++r)(c=e[r])&&g.get(Q[r])===c&&(n[r]=c)}function datum(t){return t.__data__}function selection_data(t,e){if(!arguments.length)return Array.from(this,datum);var s=e?bindKey:bindIndex,i=this._parents,n=this._groups;"function"!=typeof t&&(t=constant$4(t));for(var a=n.length,l=new Array(a),r=new Array(a),c=new Array(a),B=0;B<a;++B){var g=i[B],o=n[B],F=o.length,Q=arraylike(t.call(g,g&&g.__data__,B,i)),U=Q.length,I=r[B]=new Array(U),d=l[B]=new Array(U);s(g,o,I,d,c[B]=new Array(F),Q,e);for(var b,u,C=0,h=0;C<U;++C)if(b=I[C]){for(C>=h&&(h=C+1);!(u=d[h])&&++h<U;);b._next=u||null}}return(l=new Selection$1(l,i))._enter=r,l._exit=c,l}function arraylike(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(t,e,s){var i=this.enter(),n=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(n=e(n))&&(n=n.selection()),null==s?a.remove():s(a),i&&n?i.merge(n).order():n}function selection_merge(t){for(var e=t.selection?t.selection():t,s=this._groups,i=e._groups,n=s.length,a=i.length,l=Math.min(n,a),r=new Array(n),c=0;c<l;++c)for(var B,g=s[c],o=i[c],F=g.length,Q=r[c]=new Array(F),U=0;U<F;++U)(B=g[U]||o[U])&&(Q[U]=B);for(;c<n;++c)r[c]=s[c];return new Selection$1(r,this._parents)}function selection_order(){for(var t=this._groups,e=-1,s=t.length;++e<s;)for(var i,n=t[e],a=n.length-1,l=n[a];--a>=0;)(i=n[a])&&(l&&4^i.compareDocumentPosition(l)&&l.parentNode.insertBefore(i,l),l=i);return this}function selection_sort(t){function e(e,s){return e&&s?t(e.__data__,s.__data__):!e-!s}t||(t=ascending);for(var s=this._groups,i=s.length,n=new Array(i),a=0;a<i;++a){for(var l,r=s[a],c=r.length,B=n[a]=new Array(c),g=0;g<c;++g)(l=r[g])&&(B[g]=l);B.sort(e)}return new Selection$1(n,this._parents).order()}function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var i=t[e],n=0,a=i.length;n<a;++n){var l=i[n];if(l)return l}return null}function selection_size(){let t=0;for(const e of this)++t;return t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,s=0,i=e.length;s<i;++s)for(var n,a=e[s],l=0,r=a.length;l<r;++l)(n=a[l])&&t.call(n,n.__data__,l,a);return this}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS$1(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction$1(t,e){return function(){var s=e.apply(this,arguments);null==s?this.removeAttribute(t):this.setAttribute(t,s)}}function attrFunctionNS$1(t,e){return function(){var s=e.apply(this,arguments);null==s?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function selection_attr(t,e){var s=namespace(t);if(arguments.length<2){var i=this.node();return s.local?i.getAttributeNS(s.space,s.local):i.getAttribute(s)}return this.each((null==e?s.local?attrRemoveNS$1:attrRemove$1:"function"==typeof e?s.local?attrFunctionNS$1:attrFunction$1:s.local?attrConstantNS$1:attrConstant$1)(s,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove$1(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(t,e,s){return function(){this.style.setProperty(t,e,s)}}function styleFunction$1(t,e,s){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,s)}}function selection_style(t,e,s){return arguments.length>1?this.each((null==e?styleRemove$1:"function"==typeof e?styleFunction$1:styleConstant$1)(t,e,null==s?"":s)):styleValue(this.node(),t)}function styleValue(t,e){return t.style.getPropertyValue(e)||defaultView(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var s=e.apply(this,arguments);null==s?delete this[t]:this[t]=s}}function selection_property(t,e){return arguments.length>1?this.each((null==e?propertyRemove:"function"==typeof e?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var s=classList(t),i=-1,n=e.length;++i<n;)s.add(e[i])}function classedRemove(t,e){for(var s=classList(t),i=-1,n=e.length;++i<n;)s.remove(e[i])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var s=classArray(t+"");if(arguments.length<2){for(var i=classList(this.node()),n=-1,a=s.length;++n<a;)if(!i.contains(s[n]))return!1;return!0}return this.each(("function"==typeof e?classedFunction:e?classedTrue:classedFalse)(s,e))}function textRemove(){this.textContent=""}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction$1:textConstant$1)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function selection_html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e="function"==typeof t?t:creator(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(t,e){var s="function"==typeof t?t:creator(t),i=null==e?constantNull:"function"==typeof e?e:selector(e);return this.select(function(){return this.insertBefore(s.apply(this,arguments),i.apply(this,arguments)||null)})}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}function contextListener(t){return function(e){t.call(this,e,this.__data__)}}function parseTypenames(t){return t.trim().split(/^|\s+/).map(function(t){var e="",s=t.indexOf(".");return s>=0&&(e=t.slice(s+1),t=t.slice(0,s)),{type:t,name:e}})}function onRemove(t){return function(){var e=this.__on;if(e){for(var s,i=0,n=-1,a=e.length;i<a;++i)s=e[i],t.type&&s.type!==t.type||s.name!==t.name?e[++n]=s:this.removeEventListener(s.type,s.listener,s.options);++n?e.length=n:delete this.__on}}}function onAdd(t,e,s){return function(){var i,n=this.__on,a=contextListener(e);if(n)for(var l=0,r=n.length;l<r;++l)if((i=n[l]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=s),void(i.value=e);this.addEventListener(t.type,a,s),i={type:t.type,name:t.name,value:e,listener:a,options:s},n?n.push(i):this.__on=[i]}}function selection_on(t,e,s){var i,n,a=parseTypenames(t+""),l=a.length;if(!(arguments.length<2)){for(r=e?onAdd:onRemove,i=0;i<l;++i)this.each(r(a[i],e,s));return this}var r=this.node().__on;if(r)for(var c,B=0,g=r.length;B<g;++B)for(i=0,c=r[B];i<l;++i)if((n=a[i]).type===c.type&&n.name===c.name)return c.value}function dispatchEvent(t,e,s){var i=defaultView(t),n=i.CustomEvent;"function"==typeof n?n=new n(e,s):(n=i.document.createEvent("Event"),s?(n.initEvent(e,s.bubbles,s.cancelable),n.detail=s.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each(("function"==typeof e?dispatchFunction:dispatchConstant)(t,e))}function*selection_iterator(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var i,n=t[e],a=0,l=n.length;a<l;++a)(i=n[a])&&(yield i)}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var root=[null];function Selection$1(t,e){this._groups=t,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}function select(t){return"string"==typeof t?new Selection$1([[document.querySelector(t)]],[document.documentElement]):new Selection$1([[t]],root)}function sourceEvent(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pointof(t,e){if(t=sourceEvent(t),void 0===e&&(e=t.currentTarget),e){var s=e.ownerSVGElement||e;if(s.createSVGPoint){var i=s.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}}return[t.pageX,t.pageY]}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation(t){t.stopImmediatePropagation()}function noevent(t){t.preventDefault(),t.stopImmediatePropagation()}function dragDisable(t){var e=t.document.documentElement,s=select(t).on("dragstart.drag",noevent,nonpassivecapture);"onselectstart"in e?s.on("selectstart.drag",noevent,nonpassivecapture):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(t,e){var s=t.document.documentElement,i=select(t).on("dragstart.drag",null);e&&(i.on("click.drag",noevent,nonpassivecapture),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in s?i.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}var constant$3=t=>()=>t;function DragEvent(t,{sourceEvent:e,subject:s,target:i,identifier:n,active:a,x:l,y:r,dx:c,dy:B,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:B,enumerable:!0,configurable:!0},_:{value:g}})}function defaultFilter(t){return!t.ctrlKey&&!t.button}function defaultContainer(){return this.parentNode}function defaultSubject(t,e){return null==e?{x:t.x,y:t.y}:e}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var t,e,s,i,n=defaultFilter,a=defaultContainer,l=defaultSubject,r=defaultTouchable,c={},B=dispatch("start","drag","end"),g=0,o=0;function F(t){t.on("mousedown.drag",Q).filter(r).on("touchstart.drag",d).on("touchmove.drag",b,nonpassive).on("touchend.drag touchcancel.drag",u).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Q(l,r){if(!i&&n.call(this,l,r)){var c=C(this,a.call(this,l,r),l,r,"mouse");c&&(select(l.view).on("mousemove.drag",U,nonpassivecapture).on("mouseup.drag",I,nonpassivecapture),dragDisable(l.view),nopropagation(l),s=!1,t=l.clientX,e=l.clientY,c("start",l))}}function U(i){if(noevent(i),!s){var n=i.clientX-t,a=i.clientY-e;s=n*n+a*a>o}c.mouse("drag",i)}function I(t){select(t.view).on("mousemove.drag mouseup.drag",null),yesdrag(t.view,s),noevent(t),c.mouse("end",t)}function d(t,e){if(n.call(this,t,e)){var s,i,l=t.changedTouches,r=a.call(this,t,e),c=l.length;for(s=0;s<c;++s)(i=C(this,r,t,e,l[s].identifier,l[s]))&&(nopropagation(t),i("start",t,l[s]))}}function b(t){var e,s,i=t.changedTouches,n=i.length;for(e=0;e<n;++e)(s=c[i[e].identifier])&&(noevent(t),s("drag",t,i[e]))}function u(t){var e,s,n=t.changedTouches,a=n.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),e=0;e<a;++e)(s=c[n[e].identifier])&&(nopropagation(t),s("end",t,n[e]))}function C(t,e,s,i,n,a){var r,o,Q,U=B.copy(),I=pointof(a||s,e);if(null!=(Q=l.call(t,new DragEvent("beforestart",{sourceEvent:s,target:F,identifier:n,active:g,x:I[0],y:I[1],dx:0,dy:0,dispatch:U}),i)))return r=Q.x-I[0]||0,o=Q.y-I[1]||0,function s(a,l,B){var d,b=I;switch(a){case"start":c[n]=s,d=g++;break;case"end":delete c[n],--g;case"drag":I=pointof(B||l,e),d=g}U.call(a,t,new DragEvent(a,{sourceEvent:l,subject:Q,target:F,identifier:n,active:d,x:I[0]+r,y:I[1]+o,dx:I[0]-b[0],dy:I[1]-b[1],dispatch:U}),i)}}return F.filter=function(t){return arguments.length?(n="function"==typeof t?t:constant$3(!!t),F):n},F.container=function(t){return arguments.length?(a="function"==typeof t?t:constant$3(t),F):a},F.subject=function(t){return arguments.length?(l="function"==typeof t?t:constant$3(t),F):l},F.touchable=function(t){return arguments.length?(r="function"==typeof t?t:constant$3(!!t),F):r},F.on=function(){var t=B.on.apply(B,arguments);return t===B?F:t},F.clickDistance=function(t){return arguments.length?(o=(t=+t)*t,F):Math.sqrt(o)},F}function define(t,e,s){t.prototype=e.prototype=s,s.constructor=t}function extend(t,e){var s=Object.create(t.prototype);for(var i in e)s[i]=e[i];return s}function Color$1(){}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(t){var e,s;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(s=e[1].length,e=parseInt(e[1],16),6===s?rgbn(e):3===s?new Rgb(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===s?rgba(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===s?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named$1.hasOwnProperty(t)?rgbn(named$1[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,s,i){return i<=0&&(t=e=s=NaN),new Rgb(t,e,s,i)}function rgbConvert(t){return t instanceof Color$1||(t=color$1(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,s,i){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,s,null==i?1:i)}function Rgb(t,e,s,i){this.r=+t,this.g=+e,this.b=+s,this.opacity=+i}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${1===t?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===t?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return((t=clampi(t))<16?"0":"")+t.toString(16)}function hsla(t,e,s,i){return i<=0?t=e=s=NaN:s<=0||s>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,s,i)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color$1||(t=color$1(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,s=t.g/255,i=t.b/255,n=Math.min(e,s,i),a=Math.max(e,s,i),l=NaN,r=a-n,c=(a+n)/2;return r?(l=e===a?(s-i)/r+6*(s<i):s===a?(i-e)/r+2:(e-s)/r+4,r/=c<.5?a+n:2-a-n,l*=60):r=c>0&&c<1?0:l,new Hsl(l,r,c,t.opacity)}function hsl$1(t,e,s,i){return 1===arguments.length?hslConvert(t):new Hsl(t,e,s,null==i?1:i)}function Hsl(t,e,s,i){this.h=+t,this.s=+e,this.l=+s,this.opacity=+i}function clamph(t){return(t=(t||0)%360)<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,s){return 255*(t<60?e+(s-e)*t/60:t<180?s:t<240?e+(s-e)*(240-t)/60:e)}define(Color$1,color$1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color$1,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl$1,extend(Color$1,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,i=s+(s<.5?s:1-s)*e,n=2*s-i;return new Rgb(hsl2rgb(t>=240?t-240:t+120,n,i),hsl2rgb(t,n,i),hsl2rgb(t<120?t+240:t-120,n,i),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${1===t?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===t?")":`, ${t})`}`}}));const radians$2=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl)return hcl2lab(t);t instanceof Rgb||(t=rgbConvert(t));var e,s,i=rgb2lrgb(t.r),n=rgb2lrgb(t.g),a=rgb2lrgb(t.b),l=xyz2lab((.2225045*i+.7168786*n+.0606169*a)/1);return i===n&&n===a?e=s=l:(e=xyz2lab((.4360747*i+.3850649*n+.1430804*a)/Xn),s=xyz2lab((.0139322*i+.0971045*n+.7141733*a)/Zn)),new Lab(116*l-16,500*(e-l),200*(l-s),t.opacity)}function lab$1(t,e,s,i){return 1===arguments.length?labConvert(t):new Lab(t,e,s,null==i?1:i)}function Lab(t,e,s,i){this.l=+t,this.a=+e,this.b=+s,this.opacity=+i}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0$1}function lab2xyz(t){return t>t1$1?t*t*t:t2*(t-t0$1)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*degrees$2;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hcl$1(t,e,s,i){return 1===arguments.length?hclConvert(t):new Hcl(t,e,s,null==i?1:i)}function Hcl(t,e,s,i){this.h=+t,this.c=+e,this.l=+s,this.opacity=+i}function hcl2lab(t){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*radians$2;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}define(Lab,lab$1,extend(Color$1,{brighter(t){return new Lab(this.l+K*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Lab(this.l-K*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,s=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=Xn*lab2xyz(e))-1.6168667*(t=1*lab2xyz(t))-.4906146*(s=Zn*lab2xyz(s))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*s),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*s),this.opacity)}})),define(Hcl,hcl$1,extend(Color$1,{brighter(t){return new Hcl(this.h,this.c,this.l+K*(null==t?1:t),this.opacity)},darker(t){return new Hcl(this.h,this.c,this.l-K*(null==t?1:t),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A$1=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A$1;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,s=t.g/255,i=t.b/255,n=(BC_DA*i+ED*e-EB*s)/(BC_DA+ED-EB),a=i-n,l=(E*(s-n)-C*a)/D,r=Math.sqrt(l*l+a*a)/(E*n*(1-n)),c=r?Math.atan2(l,a)*degrees$2-120:NaN;return new Cubehelix(c<0?c+360:c,r,n,t.opacity)}function cubehelix$1(t,e,s,i){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,e,s,null==i?1:i)}function Cubehelix(t,e,s,i){this.h=+t,this.s=+e,this.l=+s,this.opacity=+i}function basis(t,e,s,i,n){var a=t*t,l=a*t;return((1-3*t+3*a-l)*e+(4-6*a+3*l)*s+(1+3*t+3*a-3*l)*i+l*n)/6}function basis$1(t){var e=t.length-1;return function(s){var i=s<=0?s=0:s>=1?(s=1,e-1):Math.floor(s*e),n=t[i],a=t[i+1],l=i>0?t[i-1]:2*n-a,r=i<e-1?t[i+2]:2*a-n;return basis((s-i/e)*e,l,n,a,r)}}define(Cubehelix,cubehelix$1,extend(Color$1,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*radians$2,e=+this.l,s=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),n=Math.sin(t);return new Rgb(255*(e+s*(A$1*i+B*n)),255*(e+s*(C*i+D*n)),255*(e+s*(E*i)),this.opacity)}}));var constant$2=t=>()=>t;function linear$1(t,e){return function(s){return t+s*e}}function exponential(t,e,s){return t=Math.pow(t,s),e=Math.pow(e,s)-t,s=1/s,function(i){return Math.pow(t+i*e,s)}}function hue(t,e){var s=e-t;return s?linear$1(t,s>180||s<-180?s-360*Math.round(s/360):s):constant$2(isNaN(t)?e:t)}function gamma(t){return 1===(t=+t)?nogamma:function(e,s){return s-e?exponential(e,s,t):constant$2(isNaN(e)?s:e)}}function nogamma(t,e){var s=e-t;return s?linear$1(t,s):constant$2(isNaN(t)?e:t)}var interpolateRgb=function t(e){var s=gamma(e);function i(t,e){var i=s((t=rgb(t)).r,(e=rgb(e)).r),n=s(t.g,e.g),a=s(t.b,e.b),l=nogamma(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=n(e),t.b=a(e),t.opacity=l(e),t+""}}return i.gamma=t,i}(1);function rgbSpline(t){return function(e){var s,i,n=e.length,a=new Array(n),l=new Array(n),r=new Array(n);for(s=0;s<n;++s)i=rgb(e[s]),a[s]=i.r||0,l[s]=i.g||0,r[s]=i.b||0;return a=t(a),l=t(l),r=t(r),i.opacity=1,function(t){return i.r=a(t),i.g=l(t),i.b=r(t),i+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(t,e){e||(e=[]);var s,i=t?Math.min(e.length,t.length):0,n=e.slice();return function(a){for(s=0;s<i;++s)n[s]=t[s]*(1-a)+e[s]*a;return n}}function isNumberArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var s,i=e?e.length:0,n=t?Math.min(i,t.length):0,a=new Array(n),l=new Array(i);for(s=0;s<n;++s)a[s]=interpolate$1(t[s],e[s]);for(;s<i;++s)l[s]=e[s];return function(t){for(s=0;s<n;++s)l[s]=a[s](t);return l}}function date$1(t,e){var s=new Date;return t=+t,e=+e,function(i){return s.setTime(t*(1-i)+e*i),s}}function interpolateNumber(t,e){return t=+t,e=+e,function(s){return t*(1-s)+e*s}}function object(t,e){var s,i={},n={};for(s in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)s in t?i[s]=interpolate$1(t[s],e[s]):n[s]=e[s];return function(t){for(s in i)n[s]=i[s](t);return n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one$1(t){return function(e){return t(e)+""}}function interpolateString(t,e){var s,i,n,a=reA.lastIndex=reB.lastIndex=0,l=-1,r=[],c=[];for(t+="",e+="";(s=reA.exec(t))&&(i=reB.exec(e));)(n=i.index)>a&&(n=e.slice(a,n),r[l]?r[l]+=n:r[++l]=n),(s=s[0])===(i=i[0])?r[l]?r[l]+=i:r[++l]=i:(r[++l]=null,c.push({i:l,x:interpolateNumber(s,i)})),a=reB.lastIndex;return a<e.length&&(n=e.slice(a),r[l]?r[l]+=n:r[++l]=n),r.length<2?c[0]?one$1(c[0].x):zero(e):(e=c.length,function(t){for(var s,i=0;i<e;++i)r[(s=c[i]).i]=s.x(t);return r.join("")})}function interpolate$1(t,e){var s,i=typeof e;return null==e||"boolean"===i?constant$2(e):("number"===i?interpolateNumber:"string"===i?(s=color$1(e))?(e=s,interpolateRgb):interpolateString:e instanceof color$1?interpolateRgb:e instanceof Date?date$1:isNumberArray$1(e)?numberArray:Array.isArray(e)?genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:interpolateNumber)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(s){return Math.round(t*(1-s)+e*s)}}var svgNode,degrees$1=180/Math.PI,identity$7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,s,i,n,a){var l,r,c;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(c=t*s+e*i)&&(s-=t*c,i-=e*c),(r=Math.sqrt(s*s+i*i))&&(s/=r,i/=r,c/=r),t*i<e*s&&(t=-t,e=-e,c=-c,l=-l),{translateX:n,translateY:a,rotate:Math.atan2(e,t)*degrees$1,skewX:Math.atan(c)*degrees$1,scaleX:l,scaleY:r}}function parseCss(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?identity$7:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(t){return null==t?identity$7:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",t),(t=svgNode.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):identity$7)}function interpolateTransform(t,e,s,i){function n(t){return t.length?t.pop()+" ":""}return function(a,l){var r=[],c=[];return a=t(a),l=t(l),function(t,i,n,a,l,r){if(t!==n||i!==a){var c=l.push("translate(",null,e,null,s);r.push({i:c-4,x:interpolateNumber(t,n)},{i:c-2,x:interpolateNumber(i,a)})}else(n||a)&&l.push("translate("+n+e+a+s)}(a.translateX,a.translateY,l.translateX,l.translateY,r,c),function(t,e,s,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:s.push(n(s)+"rotate(",null,i)-2,x:interpolateNumber(t,e)})):e&&s.push(n(s)+"rotate("+e+i)}(a.rotate,l.rotate,r,c),function(t,e,s,a){t!==e?a.push({i:s.push(n(s)+"skewX(",null,i)-2,x:interpolateNumber(t,e)}):e&&s.push(n(s)+"skewX("+e+i)}(a.skewX,l.skewX,r,c),function(t,e,s,i,a,l){if(t!==s||e!==i){var r=a.push(n(a)+"scale(",null,",",null,")");l.push({i:r-4,x:interpolateNumber(t,s)},{i:r-2,x:interpolateNumber(e,i)})}else 1===s&&1===i||a.push(n(a)+"scale("+s+","+i+")")}(a.scaleX,a.scaleY,l.scaleX,l.scaleY,r,c),a=l=null,function(t){for(var e,s=-1,i=c.length;++s<i;)r[(e=c[s]).i]=e.x(t);return r.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hsl(t){return function(e,s){var i=t((e=hsl$1(e)).h,(s=hsl$1(s)).h),n=nogamma(e.s,s.s),a=nogamma(e.l,s.l),l=nogamma(e.opacity,s.opacity);return function(t){return e.h=i(t),e.s=n(t),e.l=a(t),e.opacity=l(t),e+""}}}var interpolateHsl=hsl(hue);function lab(t,e){var s=nogamma((t=lab$1(t)).l,(e=lab$1(e)).l),i=nogamma(t.a,e.a),n=nogamma(t.b,e.b),a=nogamma(t.opacity,e.opacity);return function(e){return t.l=s(e),t.a=i(e),t.b=n(e),t.opacity=a(e),t+""}}function hcl(t){return function(e,s){var i=t((e=hcl$1(e)).h,(s=hcl$1(s)).h),n=nogamma(e.c,s.c),a=nogamma(e.l,s.l),l=nogamma(e.opacity,s.opacity);return function(t){return e.h=i(t),e.c=n(t),e.l=a(t),e.opacity=l(t),e+""}}}var interpolateHcl=hcl(hue);function cubehelix(t){return function e(s){function i(e,i){var n=t((e=cubehelix$1(e)).h,(i=cubehelix$1(i)).h),a=nogamma(e.s,i.s),l=nogamma(e.l,i.l),r=nogamma(e.opacity,i.opacity);return function(t){return e.h=n(t),e.s=a(t),e.l=l(Math.pow(t,s)),e.opacity=r(t),e+""}}return s=+s,i.gamma=e,i}(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(t,e){void 0===e&&(e=t,t=interpolate$1);for(var s=0,i=e.length-1,n=e[0],a=new Array(i<0?0:i);s<i;)a[s]=t(n,n=e[++s]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return a[e](t-e)}}function quantize(t,e){for(var s=new Array(e),i=0;i<e;++i)s[i]=t(i/(e-1));return s}var taskHead,taskTail,frame$1=0,timeout$1=0,interval$1=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,s){var i=new Timer;return i.restart(t,e,s),i}function timerFlush(){now(),++frame$1;for(var t,e=taskHead;e;)(t=clockNow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var t=clock.now(),e=t-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=t)}function nap(){for(var t,e,s=taskHead,i=1/0;s;)s._call?(i>s._time&&(i=s._time),t=s,s=s._next):(e=s._next,s._next=null,s=t?t._next=e:taskHead=e);taskTail=t,sleep(i)}function sleep(t){frame$1||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),t-clockNow>24?(t<1/0&&(timeout$1=setTimeout(wake,t-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake)))}function timeout(t,e,s){var i=new Timer;return e=null==e?0:+e,i.restart(s=>{i.stop(),t(s+e)},e,s),i}function interval(t,e,s){var i=new Timer,n=e;return i._restart=i.restart,i.restart=function(t,e,s){e=+e,s=null==s?now():+s,i._restart(function a(l){l+=n,i._restart(a,n+=e,s),t(l)},e,s)},i.restart(t,e,s),i}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,s){if("function"!=typeof t)throw new TypeError("callback is not a function");s=(null==s?now():+s)+(null==e?0:+e),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=t,this._time=s,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(t,e,s,i,n,a){var l=t.__transition;if(l){if(s in l)return}else t.__transition={};create$1(t,s,{name:e,index:i,group:n,on:emptyOn,tween:emptyTween,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CREATED})}function init(t,e){var s=get(t,e);if(s.state>CREATED)throw new Error("too late; already scheduled");return s}function set(t,e){var s=get(t,e);if(s.state>STARTED)throw new Error("too late; already running");return s}function get(t,e){var s=t.__transition;if(!s||!(s=s[e]))throw new Error("transition not found");return s}function create$1(t,e,s){var i,n=t.__transition;function a(c){var B,g,o,F;if(s.state!==SCHEDULED)return r();for(B in n)if((F=n[B]).name===s.name){if(F.state===STARTED)return timeout(a);F.state===RUNNING?(F.state=ENDED,F.timer.stop(),F.on.call("interrupt",t,t.__data__,F.index,F.group),delete n[B]):+B<e&&(F.state=ENDED,F.timer.stop(),F.on.call("cancel",t,t.__data__,F.index,F.group),delete n[B])}if(timeout(function(){s.state===STARTED&&(s.state=RUNNING,s.timer.restart(l,s.delay,s.time),l(c))}),s.state=STARTING,s.on.call("start",t,t.__data__,s.index,s.group),s.state===STARTING){for(s.state=STARTED,i=new Array(o=s.tween.length),B=0,g=-1;B<o;++B)(F=s.tween[B].value.call(t,t.__data__,s.index,s.group))&&(i[++g]=F);i.length=g+1}}function l(e){for(var n=e<s.duration?s.ease.call(null,e/s.duration):(s.timer.restart(r),s.state=ENDING,1),a=-1,l=i.length;++a<l;)i[a].call(t,n);s.state===ENDING&&(s.on.call("end",t,t.__data__,s.index,s.group),r())}function r(){for(var i in s.state=ENDED,s.timer.stop(),delete n[e],n)return;delete t.__transition}n[e]=s,s.timer=timer(function(t){s.state=SCHEDULED,s.timer.restart(a,s.delay,s.time),s.delay<=t&&a(t-s.delay)},0,s.time)}function interrupt(t,e){var s,i,n,a=t.__transition,l=!0;if(a){for(n in e=null==e?null:e+"",a)(s=a[n]).name===e?(i=s.state>STARTING&&s.state<ENDING,s.state=ENDED,s.timer.stop(),s.on.call(i?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete a[n]):l=!1;l&&delete t.__transition}}function selection_interrupt(t){return this.each(function(){interrupt(this,t)})}function tweenRemove(t,e){var s,i;return function(){var n=set(this,t),a=n.tween;if(a!==s)for(var l=0,r=(i=s=a).length;l<r;++l)if(i[l].name===e){(i=i.slice()).splice(l,1);break}n.tween=i}}function tweenFunction(t,e,s){var i,n;if("function"!=typeof s)throw new Error;return function(){var a=set(this,t),l=a.tween;if(l!==i){n=(i=l).slice();for(var r={name:e,value:s},c=0,B=n.length;c<B;++c)if(n[c].name===e){n[c]=r;break}c===B&&n.push(r)}a.tween=n}}function transition_tween(t,e){var s=this._id;if(t+="",arguments.length<2){for(var i,n=get(this.node(),s).tween,a=0,l=n.length;a<l;++a)if((i=n[a]).name===t)return i.value;return null}return this.each((null==e?tweenRemove:tweenFunction)(s,t,e))}function tweenValue(t,e,s){var i=t._id;return t.each(function(){var t=set(this,i);(t.value||(t.value={}))[e]=s.apply(this,arguments)}),function(t){return get(t,i).value[e]}}function interpolate(t,e){var s;return("number"==typeof e?interpolateNumber:e instanceof color$1?interpolateRgb:(s=color$1(e))?(e=s,interpolateRgb):interpolateString)(t,e)}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e,s){var i,n,a=s+"";return function(){var l=this.getAttribute(t);return l===a?null:l===i?n:n=e(i=l,s)}}function attrConstantNS(t,e,s){var i,n,a=s+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===a?null:l===i?n:n=e(i=l,s)}}function attrFunction(t,e,s){var i,n,a;return function(){var l,r,c=s(this);if(null!=c)return(l=this.getAttribute(t))===(r=c+"")?null:l===i&&r===n?a:(n=r,a=e(i=l,c));this.removeAttribute(t)}}function attrFunctionNS(t,e,s){var i,n,a;return function(){var l,r,c=s(this);if(null!=c)return(l=this.getAttributeNS(t.space,t.local))===(r=c+"")?null:l===i&&r===n?a:(n=r,a=e(i=l,c));this.removeAttributeNS(t.space,t.local)}}function transition_attr(t,e){var s=namespace(t),i="transform"===s?interpolateTransformSvg:interpolate;return this.attrTween(t,"function"==typeof e?(s.local?attrFunctionNS:attrFunction)(s,i,tweenValue(this,"attr."+t,e)):null==e?(s.local?attrRemoveNS:attrRemove)(s):(s.local?attrConstantNS:attrConstant)(s,i,e))}function attrInterpolate(t,e){return function(s){this.setAttribute(t,e.call(this,s))}}function attrInterpolateNS(t,e){return function(s){this.setAttributeNS(t.space,t.local,e.call(this,s))}}function attrTweenNS(t,e){var s,i;function n(){var n=e.apply(this,arguments);return n!==i&&(s=(i=n)&&attrInterpolateNS(t,n)),s}return n._value=e,n}function attrTween(t,e){var s,i;function n(){var n=e.apply(this,arguments);return n!==i&&(s=(i=n)&&attrInterpolate(t,n)),s}return n._value=e,n}function transition_attrTween(t,e){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==e)return this.tween(s,null);if("function"!=typeof e)throw new Error;var i=namespace(t);return this.tween(s,(i.local?attrTweenNS:attrTween)(i,e))}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function transition_delay(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction:delayConstant)(e,t)):get(this.node(),e).delay}function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}}function transition_duration(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction:durationConstant)(e,t)):get(this.node(),e).duration}function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){set(this,t).ease=e}}function transition_ease(t){var e=this._id;return arguments.length?this.each(easeConstant(e,t)):get(this.node(),e).ease}function easeVarying(t,e){return function(){var s=e.apply(this,arguments);if("function"!=typeof s)throw new Error;set(this,t).ease=s}}function transition_easeVarying(t){if("function"!=typeof t)throw new Error;return this.each(easeVarying(this._id,t))}function transition_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,s=e.length,i=new Array(s),n=0;n<s;++n)for(var a,l=e[n],r=l.length,c=i[n]=[],B=0;B<r;++B)(a=l[B])&&t.call(a,a.__data__,B,l)&&c.push(a);return new Transition(i,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,s=t._groups,i=e.length,n=s.length,a=Math.min(i,n),l=new Array(i),r=0;r<a;++r)for(var c,B=e[r],g=s[r],o=B.length,F=l[r]=new Array(o),Q=0;Q<o;++Q)(c=B[Q]||g[Q])&&(F[Q]=c);for(;r<i;++r)l[r]=e[r];return new Transition(l,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function onFunction(t,e,s){var i,n,a=start(e)?init:set;return function(){var l=a(this,t),r=l.on;r!==i&&(n=(i=r).copy()).on(e,s),l.on=n}}function transition_on(t,e){var s=this._id;return arguments.length<2?get(this.node(),s).on.on(t):this.each(onFunction(s,t,e))}function removeFunction(t){return function(){var e=this.parentNode;for(var s in this.__transition)if(+s!==t)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var e=this._name,s=this._id;"function"!=typeof t&&(t=selector(t));for(var i=this._groups,n=i.length,a=new Array(n),l=0;l<n;++l)for(var r,c,B=i[l],g=B.length,o=a[l]=new Array(g),F=0;F<g;++F)(r=B[F])&&(c=t.call(r,r.__data__,F,B))&&("__data__"in r&&(c.__data__=r.__data__),o[F]=c,schedule(o[F],e,s,F,o,get(r,s)));return new Transition(a,this._parents,e,s)}function transition_selectAll(t){var e=this._name,s=this._id;"function"!=typeof t&&(t=selectorAll(t));for(var i=this._groups,n=i.length,a=[],l=[],r=0;r<n;++r)for(var c,B=i[r],g=B.length,o=0;o<g;++o)if(c=B[o]){for(var F,Q=t.call(c,c.__data__,o,B),U=get(c,s),I=0,d=Q.length;I<d;++I)(F=Q[I])&&schedule(F,e,s,I,Q,U);a.push(Q),l.push(c)}return new Transition(a,l,e,s)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(t,e){var s,i,n;return function(){var a=styleValue(this,t),l=(this.style.removeProperty(t),styleValue(this,t));return a===l?null:a===s&&l===i?n:n=e(s=a,i=l)}}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,s){var i,n,a=s+"";return function(){var l=styleValue(this,t);return l===a?null:l===i?n:n=e(i=l,s)}}function styleFunction(t,e,s){var i,n,a;return function(){var l=styleValue(this,t),r=s(this),c=r+"";return null==r&&(this.style.removeProperty(t),c=r=styleValue(this,t)),l===c?null:l===i&&c===n?a:(n=c,a=e(i=l,r))}}function styleMaybeRemove(t,e){var s,i,n,a,l="style."+e,r="end."+l;return function(){var c=set(this,t),B=c.on,g=null==c.value[l]?a||(a=styleRemove(e)):void 0;B===s&&n===g||(i=(s=B).copy()).on(r,n=g),c.on=i}}function transition_style(t,e,s){var i="transform"==(t+="")?interpolateTransformCss:interpolate;return null==e?this.styleTween(t,styleNull(t,i)).on("end.style."+t,styleRemove(t)):"function"==typeof e?this.styleTween(t,styleFunction(t,i,tweenValue(this,"style."+t,e))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant(t,i,e),s).on("end.style."+t,null)}function styleInterpolate(t,e,s){return function(i){this.style.setProperty(t,e.call(this,i),s)}}function styleTween(t,e,s){var i,n;function a(){var a=e.apply(this,arguments);return a!==n&&(i=(n=a)&&styleInterpolate(t,a,s)),i}return a._value=e,a}function transition_styleTween(t,e,s){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,styleTween(t,e,null==s?"":s))}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function transition_text(t){return this.tween("text","function"==typeof t?textFunction(tweenValue(this,"text",t)):textConstant(null==t?"":t+""))}function textInterpolate(t){return function(e){this.textContent=t.call(this,e)}}function textTween(t){var e,s;function i(){var i=t.apply(this,arguments);return i!==s&&(e=(s=i)&&textInterpolate(i)),e}return i._value=t,i}function transition_textTween(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,textTween(t))}function transition_transition(){for(var t=this._name,e=this._id,s=newId(),i=this._groups,n=i.length,a=0;a<n;++a)for(var l,r=i[a],c=r.length,B=0;B<c;++B)if(l=r[B]){var g=get(l,e);schedule(l,t,s,B,r,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Transition(i,this._parents,t,s)}function transition_end(){var t,e,s=this,i=s._id,n=s.size();return new Promise(function(a,l){var r={value:l},c={value:function(){0===--n&&a()}};s.each(function(){var s=set(this,i),n=s.on;n!==t&&((e=(t=n).copy())._.cancel.push(r),e._.interrupt.push(r),e._.end.push(c)),s.on=e}),0===n&&a()})}var id=0;function Transition(t,e,s,i){this._groups=t,this._parents=e,this._name=s,this._id=i}function newId(){return++id}var selection_prototype=selection.prototype;function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit$1(t,e){for(var s;!(s=t.__transition)||!(s=s[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return s}function selection_transition(t){var e,s;t instanceof Transition?(e=t._id,t=t._name):(e=newId(),(s=defaultTiming).time=now(),t=null==t?null:t+"");for(var i=this._groups,n=i.length,a=0;a<n;++a)for(var l,r=i[a],c=r.length,B=0;B<c;++B)(l=r[B])&&schedule(l,t,e,B,r,s||inherit$1(l,e));return new Transition(i,this._parents,t,e)}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;const pi$3=Math.PI,tau$3=2*pi$3,epsilon$2=1e-6,tauEpsilon=tau$3-1e-6;function append$1(t){this._+=t[0];for(let e=1,s=t.length;e<s;++e)this._+=arguments[e]+t[e]}function appendRound$1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append$1;const s=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*s)/s+t[e]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?append$1:appendRound$1(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,s,i){this._append`Q${+t},${+e},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,e,s,i,n,a){this._append`C${+t},${+e},${+s},${+i},${this._x1=+n},${this._y1=+a}`}arcTo(t,e,s,i,n){if(t=+t,e=+e,s=+s,i=+i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=this._x1,l=this._y1,r=s-t,c=i-e,B=a-t,g=l-e,o=B*B+g*g;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(o>1e-6)if(Math.abs(g*r-c*B)>1e-6&&n){let F=s-a,Q=i-l,U=r*r+c*c,I=F*F+Q*Q,d=Math.sqrt(U),b=Math.sqrt(o),u=n*Math.tan((pi$3-Math.acos((U+o-I)/(2*d*b)))/2),C=u/b,h=u/d;Math.abs(C-1)>1e-6&&this._append`L${t+C*B},${e+C*g}`,this._append`A${n},${n},0,0,${+(g*F>B*Q)},${this._x1=t+h*r},${this._y1=e+h*c}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,s,i,n,a){if(t=+t,e=+e,a=!!a,(s=+s)<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),r=s*Math.sin(i),c=t+l,B=e+r,g=1^a,o=a?i-n:n-i;null===this._x1?this._append`M${c},${B}`:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-B)>1e-6)&&this._append`L${c},${B}`,s&&(o<0&&(o=o%tau$3+tau$3),o>tauEpsilon?this._append`A${s},${s},0,1,${g},${t-l},${e-r}A${s},${s},0,1,${g},${this._x1=c},${this._y1=B}`:o>1e-6&&this._append`A${s},${s},0,${+(o>=pi$3)},${g},${this._x1=t+s*Math.cos(n)},${this._y1=e+s*Math.sin(n)}`)}rect(t,e,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function pathRound(t=3){return new Path(+t)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((s=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var s,i=t.slice(0,s);return[i.length>1?i[0]+i.slice(2):i,+t.slice(s+1)]}function exponent(t){return(t=formatDecimalParts(Math.abs(t)))?t[1]:NaN}function formatGroup(t,e){return function(s,i){for(var n=s.length,a=[],l=0,r=t[0],c=0;n>0&&r>0&&(c+r+1>i&&(r=Math.max(1,i-c)),a.push(s.substring(n-=r,n+r)),!((c+=r+1)>i));)r=t[l=(l+1)%t.length];return a.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}var prefixExponent,re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re$1.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function FormatSpecifier(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function formatTrim(t){t:for(var e,s=t.length,i=1,n=-1;i<s;++i)switch(t[i]){case".":n=e=i;break;case"0":0===n&&(n=i),e=i;break;default:if(!+t[i])break t;n>0&&(n=0)}return n>0?t.slice(0,n)+t.slice(e+1):t}function formatPrefixAuto(t,e){var s=formatDecimalParts(t,e);if(!s)return t+"";var i=s[0],n=s[1],a=n-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,l=i.length;return a===l?i:a>l?i+new Array(a-l+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+formatDecimalParts(t,Math.max(0,e+a-1))[0]}function formatRounded(t,e){var s=formatDecimalParts(t,e);if(!s)return t+"";var i=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(100*t,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$6(t){return t}var locale$1,format$1,formatPrefix,map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=void 0===t.grouping||void 0===t.thousands?identity$6:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),s=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",n=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?identity$6:formatNumerals(map$1.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",r=void 0===t.minus?"â":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function B(t){var B=(t=formatSpecifier(t)).fill,g=t.align,o=t.sign,F=t.symbol,Q=t.zero,U=t.width,I=t.comma,d=t.precision,b=t.trim,u=t.type;"n"===u?(I=!0,u="g"):formatTypes[u]||(void 0===d&&(d=12),b=!0,u="g"),(Q||"0"===B&&"="===g)&&(Q=!0,B="0",g="=");var C="$"===F?s:"#"===F&&/[boxX]/.test(u)?"0"+u.toLowerCase():"",h="$"===F?i:/[%p]/.test(u)?l:"",y=formatTypes[u],x=/[defgprs%]/.test(u);function m(t){var s,i,l,F=C,m=h;if("c"===u)m=y(t)+m,t="";else{var p=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:y(Math.abs(t),d),b&&(t=formatTrim(t)),p&&0===+t&&"+"!==o&&(p=!1),F=(p?"("===o?o:r:"-"===o||"("===o?"":o)+F,m=("s"===u?prefixes[8+prefixExponent/3]:"")+m+(p&&"("===o?")":""),x)for(s=-1,i=t.length;++s<i;)if(48>(l=t.charCodeAt(s))||l>57){m=(46===l?n+t.slice(s+1):t.slice(s))+m,t=t.slice(0,s);break}}I&&!Q&&(t=e(t,1/0));var A=F.length+t.length+m.length,G=A<U?new Array(U-A+1).join(B):"";switch(I&&Q&&(t=e(G+t,G.length?U-m.length:1/0),G=""),g){case"<":t=F+t+m+G;break;case"=":t=F+G+t+m;break;case"^":t=G.slice(0,A=G.length>>1)+F+t+m+G.slice(A);break;default:t=G+F+t+m}return a(t)}return d=void 0===d?6:/[gprs]/.test(u)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),m.toString=function(){return t+""},m}return{format:B,formatPrefix:function(t,e){var s=B(((t=formatSpecifier(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3))),n=Math.pow(10,-i),a=prefixes[8+i/3];return function(t){return s(n*t)+a}}}}function defaultLocale$1(t){return locale$1=formatLocale$1(t),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});var epsilon$1=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi$1=pi$2/2,quarterPi=pi$2/4,tau$2=2*pi$2,degrees=180/pi$2,radians$1=pi$2/180,abs$1=Math.abs,atan=Math.atan,atan2$1=Math.atan2,cos$1=Math.cos,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(t){return t>0?1:t<0?-1:0},sqrt$1=Math.sqrt,tan=Math.tan;function acos$1(t){return t>1?0:t<-1?pi$2:Math.acos(t)}function asin$1(t){return t>1?halfPi$1:t<-1?-halfPi$1:Math.asin(t)}function noop$1(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var s=t.features,i=-1,n=s.length;++i<n;)streamGeometry(s[i].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var s=t.coordinates,i=-1,n=s.length;++i<n;)t=s[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var s=t.coordinates,i=-1,n=s.length;++i<n;)streamLine(s[i],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var s=t.coordinates,i=-1,n=s.length;++i<n;)streamPolygon(s[i],e)},GeometryCollection:function(t,e){for(var s=t.geometries,i=-1,n=s.length;++i<n;)streamGeometry(s[i],e)}};function streamLine(t,e,s){var i,n=-1,a=t.length-s;for(e.lineStart();++n<a;)i=t[n],e.point(i[0],i[1],i[2]);e.lineEnd()}function streamPolygon(t,e){var s=-1,i=t.length;for(e.polygonStart();++s<i;)streamLine(t[s],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}function spherical(t){return[atan2$1(t[1],t[0]),asin$1(t[2])]}function cartesian(t){var e=t[0],s=t[1],i=cos$1(s);return[i*cos$1(e),i*sin$1(e),sin$1(s)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=sqrt$1(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function compose(t,e){function s(s,i){return s=t(s,i),e(s[0],s[1])}return t.invert&&e.invert&&(s.invert=function(s,i){return(s=e.invert(s,i))&&t.invert(s[0],s[1])}),s}function rotationIdentity(t,e){return abs$1(t)>pi$2&&(t-=Math.round(t/tau$2)*tau$2),[t,e]}function rotateRadians(t,e,s){return(t%=tau$2)?e||s?compose(rotationLambda(t),rotationPhiGamma(e,s)):rotationLambda(t):e||s?rotationPhiGamma(e,s):rotationIdentity}function forwardRotationLambda(t){return function(e,s){return abs$1(e+=t)>pi$2&&(e-=Math.round(e/tau$2)*tau$2),[e,s]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var s=cos$1(t),i=sin$1(t),n=cos$1(e),a=sin$1(e);function l(t,e){var l=cos$1(e),r=cos$1(t)*l,c=sin$1(t)*l,B=sin$1(e),g=B*s+r*i;return[atan2$1(c*n-g*a,r*s-B*i),asin$1(g*n+c*a)]}return l.invert=function(t,e){var l=cos$1(e),r=cos$1(t)*l,c=sin$1(t)*l,B=sin$1(e),g=B*n-c*a;return[atan2$1(c*n+B*a,r*s+g*i),asin$1(g*s-r*i)]},l}function rotation(t){function e(e){return(e=t(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e}return t=rotateRadians(t[0]*radians$1,t[1]*radians$1,t.length>2?t[2]*radians$1:0),e.invert=function(e){return(e=t.invert(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e},e}function circleStream(t,e,s,i,n,a){if(s){var l=cos$1(e),r=sin$1(e),c=i*s;null==n?(n=e+i*tau$2,a=e-c/2):(n=circleRadius(l,n),a=circleRadius(l,a),(i>0?n<a:n>a)&&(n+=i*tau$2));for(var B,g=n;i>0?g>a:g<a;g-=c)B=spherical([l,-r*cos$1(g),-r*sin$1(g)]),t.point(B[0],B[1])}}function circleRadius(t,e){(e=cartesian(e))[0]-=t,cartesianNormalizeInPlace(e);var s=acos$1(-e[1]);return((-e[2]<0?-s:s)+tau$2-epsilon$1)%tau$2}function clipBuffer(){var t,e=[];return{point:function(e,s,i){t.push([e,s,i])},lineStart:function(){e.push(t=[])},lineEnd:noop$1,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function pointEqual(t,e){return abs$1(t[0]-e[0])<epsilon$1&&abs$1(t[1]-e[1])<epsilon$1}function Intersection(t,e,s,i){this.x=t,this.z=e,this.o=s,this.e=i,this.v=!1,this.n=this.p=null}function clipRejoin(t,e,s,i,n){var a,l,r=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,s,i=t[0],l=t[e];if(pointEqual(i,l)){if(!i[2]&&!l[2]){for(n.lineStart(),a=0;a<e;++a)n.point((i=t[a])[0],i[1]);return void n.lineEnd()}l[0]+=2*epsilon$1}r.push(s=new Intersection(i,t,null,!0)),c.push(s.o=new Intersection(i,null,s,!1)),r.push(s=new Intersection(l,t,null,!1)),c.push(s.o=new Intersection(l,null,s,!0))}}),r.length){for(c.sort(e),link$1(r),link$1(c),a=0,l=c.length;a<l;++a)c[a].e=s=!s;for(var B,g,o=r[0];;){for(var F=o,Q=!0;F.v;)if((F=F.n)===o)return;B=F.z,n.lineStart();do{if(F.v=F.o.v=!0,F.e){if(Q)for(a=0,l=B.length;a<l;++a)n.point((g=B[a])[0],g[1]);else i(F.x,F.n.x,1,n);F=F.n}else{if(Q)for(B=F.p.z,a=B.length-1;a>=0;--a)n.point((g=B[a])[0],g[1]);else i(F.x,F.p.x,-1,n);F=F.p}B=(F=F.o).z,Q=!Q}while(!F.v);n.lineEnd()}}}function link$1(t){if(e=t.length){for(var e,s,i=0,n=t[0];++i<e;)n.n=s=t[i],s.p=n,n=s;n.n=s=t[0],s.p=n}}function longitude(t){return abs$1(t[0])<=pi$2?t[0]:sign$1(t[0])*((abs$1(t[0])+pi$2)%tau$2-pi$2)}function polygonContains(t,e){var s=longitude(e),i=e[1],n=sin$1(i),a=[sin$1(s),-cos$1(s),0],l=0,r=0,c=new Adder;1===n?i=halfPi$1+epsilon$1:-1===n&&(i=-halfPi$1-epsilon$1);for(var B=0,g=t.length;B<g;++B)if(F=(o=t[B]).length)for(var o,F,Q=o[F-1],U=longitude(Q),I=Q[1]/2+quarterPi,d=sin$1(I),b=cos$1(I),u=0;u<F;++u,U=h,d=x,b=m,Q=C){var C=o[u],h=longitude(C),y=C[1]/2+quarterPi,x=sin$1(y),m=cos$1(y),p=h-U,A=p>=0?1:-1,G=A*p,R=G>pi$2,S=d*x;if(c.add(atan2$1(S*A*sin$1(G),b*m+S*cos$1(G))),l+=R?p+A*tau$2:p,R^U>=s^h>=s){var L=cartesianCross(cartesian(Q),cartesian(C));cartesianNormalizeInPlace(L);var E=cartesianCross(a,L);cartesianNormalizeInPlace(E);var V=(R^p>=0?-1:1)*asin$1(E[2]);(i>V||i===V&&(L[0]||L[1]))&&(r+=R^p>=0?1:-1)}}return(l<-epsilon$1||l<epsilon$1&&c<-epsilon2)^1&r}function clip(t,e,s,i){return function(n){var a,l,r,c=e(n),B=clipBuffer(),g=e(B),o=!1,F={point:Q,lineStart:I,lineEnd:d,polygonStart:function(){F.point=b,F.lineStart=u,F.lineEnd=C,l=[],a=[]},polygonEnd:function(){F.point=Q,F.lineStart=I,F.lineEnd=d,l=merge(l);var t=polygonContains(a,i);l.length?(o||(n.polygonStart(),o=!0),clipRejoin(l,compareIntersection,t,s,n)):t&&(o||(n.polygonStart(),o=!0),n.lineStart(),s(null,null,1,n),n.lineEnd()),o&&(n.polygonEnd(),o=!1),l=a=null},sphere:function(){n.polygonStart(),n.lineStart(),s(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function Q(e,s){t(e,s)&&n.point(e,s)}function U(t,e){c.point(t,e)}function I(){F.point=U,c.lineStart()}function d(){F.point=Q,c.lineEnd()}function b(t,e){r.push([t,e]),g.point(t,e)}function u(){g.lineStart(),r=[]}function C(){b(r[0][0],r[0][1]),g.lineEnd();var t,e,s,i,c=g.clean(),F=B.result(),Q=F.length;if(r.pop(),a.push(r),r=null,Q)if(1&c){if((e=(s=F[0]).length-1)>0){for(o||(n.polygonStart(),o=!0),n.lineStart(),t=0;t<e;++t)n.point((i=s[t])[0],i[1]);n.lineEnd()}}else Q>1&&2&c&&F.push(F.pop().concat(F.shift())),l.push(F.filter(validSegment))}return F}}function validSegment(t){return t.length>1}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-halfPi$1-epsilon$1:halfPi$1-t[1])-((e=e.x)[0]<0?e[1]-halfPi$1-epsilon$1:halfPi$1-e[1])}rotationIdentity.invert=rotationIdentity;var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi$1]);function clipAntimeridianLine(t){var e,s=NaN,i=NaN,n=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,l){var r=a>0?pi$2:-pi$2,c=abs$1(a-s);abs$1(c-pi$2)<epsilon$1?(t.point(s,i=(i+l)/2>0?halfPi$1:-halfPi$1),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(r,i),t.point(a,i),e=0):n!==r&&c>=pi$2&&(abs$1(s-n)<epsilon$1&&(s-=n*epsilon$1),abs$1(a-r)<epsilon$1&&(a-=r*epsilon$1),i=clipAntimeridianIntersect(s,i,a,l),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(r,i),e=0),t.point(s=a,i=l),n=r},lineEnd:function(){t.lineEnd(),s=i=NaN},clean:function(){return 2-e}}}function clipAntimeridianIntersect(t,e,s,i){var n,a,l=sin$1(t-s);return abs$1(l)>epsilon$1?atan((sin$1(e)*(a=cos$1(i))*sin$1(s)-sin$1(i)*(n=cos$1(e))*sin$1(t))/(n*a*l)):(e+i)/2}function clipAntimeridianInterpolate(t,e,s,i){var n;if(null==t)n=s*halfPi$1,i.point(-pi$2,n),i.point(0,n),i.point(pi$2,n),i.point(pi$2,0),i.point(pi$2,-n),i.point(0,-n),i.point(-pi$2,-n),i.point(-pi$2,0),i.point(-pi$2,n);else if(abs$1(t[0]-e[0])>epsilon$1){var a=t[0]<e[0]?pi$2:-pi$2;n=s*a/2,i.point(-a,n),i.point(0,n),i.point(a,n)}else i.point(e[0],e[1])}function clipCircle(t){var e=cos$1(t),s=2*radians$1,i=e>0,n=abs$1(e)>epsilon$1;function a(t,s){return cos$1(t)*cos$1(s)>e}function l(t,s,i){var n=[1,0,0],a=cartesianCross(cartesian(t),cartesian(s)),l=cartesianDot(a,a),r=a[0],c=l-r*r;if(!c)return!i&&t;var B=e*l/c,g=-e*r/c,o=cartesianCross(n,a),F=cartesianScale(n,B);cartesianAddInPlace(F,cartesianScale(a,g));var Q=o,U=cartesianDot(F,Q),I=cartesianDot(Q,Q),d=U*U-I*(cartesianDot(F,F)-1);if(!(d<0)){var b=sqrt$1(d),u=cartesianScale(Q,(-U-b)/I);if(cartesianAddInPlace(u,F),u=spherical(u),!i)return u;var C,h=t[0],y=s[0],x=t[1],m=s[1];y<h&&(C=h,h=y,y=C);var p=y-h,A=abs$1(p-pi$2)<epsilon$1;if(!A&&m<x&&(C=x,x=m,m=C),A||p<epsilon$1?A?x+m>0^u[1]<(abs$1(u[0]-h)<epsilon$1?x:m):x<=u[1]&&u[1]<=m:p>pi$2^(h<=u[0]&&u[0]<=y)){var G=cartesianScale(Q,(-U+b)/I);return cartesianAddInPlace(G,F),[u,spherical(G)]}}}function r(e,s){var n=i?t:pi$2-t,a=0;return e<-n?a|=1:e>n&&(a|=2),s<-n?a|=4:s>n&&(a|=8),a}return clip(a,function(t){var e,s,c,B,g;return{lineStart:function(){B=c=!1,g=1},point:function(o,F){var Q,U=[o,F],I=a(o,F),d=i?I?0:r(o,F):I?r(o+(o<0?pi$2:-pi$2),F):0;if(!e&&(B=c=I)&&t.lineStart(),I!==c&&(!(Q=l(e,U))||pointEqual(e,Q)||pointEqual(U,Q))&&(U[2]=1),I!==c)g=0,I?(t.lineStart(),Q=l(U,e),t.point(Q[0],Q[1])):(Q=l(e,U),t.point(Q[0],Q[1],2),t.lineEnd()),e=Q;else if(n&&e&&i^I){var b;d&s||!(b=l(U,e,!0))||(g=0,i?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!I||e&&pointEqual(e,U)||t.point(U[0],U[1]),e=U,c=I,s=d},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return g|(B&&c)<<1}}},function(e,i,n,a){circleStream(a,t,s,n,e,i)},i?[0,-t]:[-pi$2,t-pi$2])}function clipLine(t,e,s,i,n,a){var l,r=t[0],c=t[1],B=0,g=1,o=e[0]-r,F=e[1]-c;if(l=s-r,o||!(l>0)){if(l/=o,o<0){if(l<B)return;l<g&&(g=l)}else if(o>0){if(l>g)return;l>B&&(B=l)}if(l=n-r,o||!(l<0)){if(l/=o,o<0){if(l>g)return;l>B&&(B=l)}else if(o>0){if(l<B)return;l<g&&(g=l)}if(l=i-c,F||!(l>0)){if(l/=F,F<0){if(l<B)return;l<g&&(g=l)}else if(F>0){if(l>g)return;l>B&&(B=l)}if(l=a-c,F||!(l<0)){if(l/=F,F<0){if(l>g)return;l>B&&(B=l)}else if(F>0){if(l<B)return;l<g&&(g=l)}return B>0&&(t[0]=r+B*o,t[1]=c+B*F),g<1&&(e[0]=r+g*o,e[1]=c+g*F),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(t,e,s,i){function n(n,a){return t<=n&&n<=s&&e<=a&&a<=i}function a(n,a,r,B){var g=0,o=0;if(null==n||(g=l(n,r))!==(o=l(a,r))||c(n,a)<0^r>0)do{B.point(0===g||3===g?t:s,g>1?i:e)}while((g=(g+r+4)%4)!==o);else B.point(a[0],a[1])}function l(i,n){return abs$1(i[0]-t)<epsilon$1?n>0?0:3:abs$1(i[0]-s)<epsilon$1?n>0?2:1:abs$1(i[1]-e)<epsilon$1?n>0?1:0:n>0?3:2}function r(t,e){return c(t.x,e.x)}function c(t,e){var s=l(t,1),i=l(e,1);return s!==i?s-i:0===s?e[1]-t[1]:1===s?t[0]-e[0]:2===s?t[1]-e[1]:e[0]-t[0]}return function(l){var c,B,g,o,F,Q,U,I,d,b,u,C=l,h=clipBuffer(),y={point:x,lineStart:function(){y.point=m,B&&B.push(g=[]);b=!0,d=!1,U=I=NaN},lineEnd:function(){c&&(m(o,F),Q&&d&&h.rejoin(),c.push(h.result()));y.point=x,d&&C.lineEnd()},polygonStart:function(){C=h,c=[],B=[],u=!0},polygonEnd:function(){var e=function(){for(var e=0,s=0,n=B.length;s<n;++s)for(var a,l,r=B[s],c=1,g=r.length,o=r[0],F=o[0],Q=o[1];c<g;++c)a=F,l=Q,F=(o=r[c])[0],Q=o[1],l<=i?Q>i&&(F-a)*(i-l)>(Q-l)*(t-a)&&++e:Q<=i&&(F-a)*(i-l)<(Q-l)*(t-a)&&--e;return e}(),s=u&&e,n=(c=merge(c)).length;(s||n)&&(l.polygonStart(),s&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),n&&clipRejoin(c,r,e,a,l),l.polygonEnd());C=l,c=B=g=null}};function x(t,e){n(t,e)&&C.point(t,e)}function m(a,l){var r=n(a,l);if(B&&g.push([a,l]),b)o=a,F=l,Q=r,b=!1,r&&(C.lineStart(),C.point(a,l));else if(r&&d)C.point(a,l);else{var c=[U=Math.max(clipMin,Math.min(clipMax,U)),I=Math.max(clipMin,Math.min(clipMax,I))],h=[a=Math.max(clipMin,Math.min(clipMax,a)),l=Math.max(clipMin,Math.min(clipMax,l))];clipLine(c,h,t,e,s,i)?(d||(C.lineStart(),C.point(c[0],c[1])),C.point(h[0],h[1]),r||C.lineEnd(),u=!1):r&&(C.lineStart(),C.point(a,l),u=!1)}U=a,I=l,d=r}return y}}var x00$2,y00$2,x0$3,y0$3,identity$5=t=>t,areaSum=new Adder,areaRingSum=new Adder,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs$1(areaRingSum)),areaRingSum=new Adder},result:function(){var t=areaSum/2;return areaSum=new Adder,t}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(t,e){areaStream.point=areaPoint,x00$2=x0$3=t,y00$2=y0$3=e}function areaPoint(t,e){areaRingSum.add(y0$3*t-x0$3*e),x0$3=t,y0$3=e}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint(t,e){t<x0$2&&(x0$2=t),t>x1&&(x1=t),e<y0$2&&(y0$2=e),e>y1&&(y1=e)}var x00$1,y00$1,x0$1,y0$1,X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var t=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,t}};function centroidPoint(t,e){X0+=t,Y0+=e,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){centroidStream.point=centroidPointLine,centroidPoint(x0$1=t,y0$1=e)}function centroidPointLine(t,e){var s=t-x0$1,i=e-y0$1,n=sqrt$1(s*s+i*i);X1+=n*(x0$1+t)/2,Y1+=n*(y0$1+e)/2,Z1+=n,centroidPoint(x0$1=t,y0$1=e)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,e){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=t,y00$1=y0$1=e)}function centroidPointRing(t,e){var s=t-x0$1,i=e-y0$1,n=sqrt$1(s*s+i*i);X1+=n*(x0$1+t)/2,Y1+=n*(y0$1+e)/2,Z1+=n,X2+=(n=y0$1*t-x0$1*e)*(x0$1+t),Y2+=n*(y0$1+e),Z2+=3*n,centroidPoint(x0$1=t,y0$1=e)}function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tau$2)}},result:noop$1};var lengthRing,x00,y00,x0,y0,lengthSum=new Adder,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum;return lengthSum=new Adder,t}};function lengthPointFirst(t,e){lengthStream.point=lengthPoint,x00=x0=t,y00=y0=e}function lengthPoint(t,e){x0-=t,y0-=e,lengthSum.add(sqrt$1(x0*x0+y0*y0)),x0=t,y0=e}let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(t){this._append=null==t?append:appendRound(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==cacheRadius||this._append!==cacheAppend){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,cacheRadius=t,cacheAppend=this._append,cacheCircle=this._,this._=e}this._+=cacheCircle}}result(){const t=this._;return this._="",t.length?t:null}}function append(t){let e=1;this._+=t[0];for(const s=t.length;e<s;++e)this._+=arguments[e]+t[e]}function appendRound(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return append;if(e!==cacheDigits){const t=10**e;cacheDigits=e,cacheAppend=function(e){let s=1;this._+=e[0];for(const i=e.length;s<i;++s)this._+=Math.round(arguments[s]*t)/t+e[s]}}return cacheAppend}function geoPath(t,e){let s,i,n=3,a=4.5;function l(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),geoStream(t,s(i))),i.result()}return l.area=function(t){return geoStream(t,s(areaStream)),areaStream.result()},l.measure=function(t){return geoStream(t,s(lengthStream)),lengthStream.result()},l.bounds=function(t){return geoStream(t,s(boundsStream)),boundsStream.result()},l.centroid=function(t){return geoStream(t,s(centroidStream)),centroidStream.result()},l.projection=function(e){return arguments.length?(s=null==e?(t=null,identity$5):(t=e).stream,l):t},l.context=function(t){return arguments.length?(i=null==t?(e=null,new PathString(n)):new PathContext(e=t),"function"!=typeof a&&i.pointRadius(a),l):e},l.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),l):a},l.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);n=e}return null===e&&(i=new PathString(n)),l},l.projection(t).digits(n).context(e)}function geoTransform(t){return{stream:transformer$2(t)}}function transformer$2(t){return function(e){var s=new TransformStream;for(var i in t)s[i]=t[i];return s.stream=e,s}}function TransformStream(){}function fit(t,e,s){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),geoStream(s,t.stream(boundsStream)),e(boundsStream.result()),null!=i&&t.clipExtent(i),t}function fitExtent(t,e,s){return fit(t,function(s){var i=e[1][0]-e[0][0],n=e[1][1]-e[0][1],a=Math.min(i/(s[1][0]-s[0][0]),n/(s[1][1]-s[0][1])),l=+e[0][0]+(i-a*(s[1][0]+s[0][0]))/2,r=+e[0][1]+(n-a*(s[1][1]+s[0][1]))/2;t.scale(150*a).translate([l,r])},s)}function fitSize(t,e,s){return fitExtent(t,[[0,0],e],s)}function fitWidth(t,e,s){return fit(t,function(s){var i=+e,n=i/(s[1][0]-s[0][0]),a=(i-n*(s[1][0]+s[0][0]))/2,l=-n*s[0][1];t.scale(150*n).translate([a,l])},s)}function fitHeight(t,e,s){return fit(t,function(s){var i=+e,n=i/(s[1][1]-s[0][1]),a=-n*s[0][0],l=(i-n*(s[1][1]+s[0][1]))/2;t.scale(150*n).translate([a,l])},s)}TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos$1(30*radians$1);function resample(t,e){return+e?resample$1(t,e):resampleNone(t)}function resampleNone(t){return transformer$2({point:function(e,s){e=t(e,s),this.stream.point(e[0],e[1])}})}function resample$1(t,e){function s(i,n,a,l,r,c,B,g,o,F,Q,U,I,d){var b=B-i,u=g-n,C=b*b+u*u;if(C>4*e&&I--){var h=l+F,y=r+Q,x=c+U,m=sqrt$1(h*h+y*y+x*x),p=asin$1(x/=m),A=abs$1(abs$1(x)-1)<epsilon$1||abs$1(a-o)<epsilon$1?(a+o)/2:atan2$1(y,h),G=t(A,p),R=G[0],S=G[1],L=R-i,E=S-n,V=u*L-b*E;(V*V/C>e||abs$1((b*L+u*E)/C-.5)>.3||l*F+r*Q+c*U<cosMinDistance)&&(s(i,n,a,l,r,c,R,S,A,h/=m,y/=m,x,I,d),d.point(R,S),s(R,S,A,h,y,x,B,g,o,F,Q,U,I,d))}}return function(e){var i,n,a,l,r,c,B,g,o,F,Q,U,I={point:d,lineStart:b,lineEnd:C,polygonStart:function(){e.polygonStart(),I.lineStart=h},polygonEnd:function(){e.polygonEnd(),I.lineStart=b}};function d(s,i){s=t(s,i),e.point(s[0],s[1])}function b(){g=NaN,I.point=u,e.lineStart()}function u(i,n){var a=cartesian([i,n]),l=t(i,n);s(g,o,B,F,Q,U,g=l[0],o=l[1],B=i,F=a[0],Q=a[1],U=a[2],maxDepth,e),e.point(g,o)}function C(){I.point=d,e.lineEnd()}function h(){b(),I.point=y,I.lineEnd=x}function y(t,e){u(i=t,e),n=g,a=o,l=F,r=Q,c=U,I.point=u}function x(){s(g,o,B,F,Q,U,n,a,i,l,r,c,maxDepth,e),I.lineEnd=C,C()}return I}}var transformRadians=transformer$2({point:function(t,e){this.stream.point(t*radians$1,e*radians$1)}});function transformRotate(t){return transformer$2({point:function(e,s){var i=t(e,s);return this.stream.point(i[0],i[1])}})}function scaleTranslate(t,e,s,i,n){function a(a,l){return[e+t*(a*=i),s-t*(l*=n)]}return a.invert=function(a,l){return[(a-e)/t*i,(s-l)/t*n]},a}function scaleTranslateRotate(t,e,s,i,n,a){if(!a)return scaleTranslate(t,e,s,i,n);var l=cos$1(a),r=sin$1(a),c=l*t,B=r*t,g=l/t,o=r/t,F=(r*s-l*e)/t,Q=(r*e+l*s)/t;function U(t,a){return[c*(t*=i)-B*(a*=n)+e,s-B*t-c*a]}return U.invert=function(t,e){return[i*(g*t-o*e+F),n*(Q-o*t-g*e)]},U}function projection$1(t){return projectionMutator(function(){return t})()}function projectionMutator(t){var e,s,i,n,a,l,r,c,B,g,o=150,F=480,Q=250,U=0,I=0,d=0,b=0,u=0,C=0,h=1,y=1,x=null,m=clipAntimeridian,p=null,A=identity$5,G=.5;function R(t){return c(t[0]*radians$1,t[1]*radians$1)}function S(t){return(t=c.invert(t[0],t[1]))&&[t[0]*degrees,t[1]*degrees]}function L(){var t=scaleTranslateRotate(o,0,0,h,y,C).apply(null,e(U,I)),i=scaleTranslateRotate(o,F-t[0],Q-t[1],h,y,C);return s=rotateRadians(d,b,u),r=compose(e,i),c=compose(s,r),l=resample(r,G),E()}function E(){return B=g=null,R}return R.stream=function(t){return B&&g===t?B:B=transformRadians(transformRotate(s)(m(l(A(g=t)))))},R.preclip=function(t){return arguments.length?(m=t,x=void 0,E()):m},R.postclip=function(t){return arguments.length?(A=t,p=i=n=a=null,E()):A},R.clipAngle=function(t){return arguments.length?(m=+t?clipCircle(x=t*radians$1):(x=null,clipAntimeridian),E()):x*degrees},R.clipExtent=function(t){return arguments.length?(A=null==t?(p=i=n=a=null,identity$5):clipRectangle(p=+t[0][0],i=+t[0][1],n=+t[1][0],a=+t[1][1]),E()):null==p?null:[[p,i],[n,a]]},R.scale=function(t){return arguments.length?(o=+t,L()):o},R.translate=function(t){return arguments.length?(F=+t[0],Q=+t[1],L()):[F,Q]},R.center=function(t){return arguments.length?(U=t[0]%360*radians$1,I=t[1]%360*radians$1,L()):[U*degrees,I*degrees]},R.rotate=function(t){return arguments.length?(d=t[0]%360*radians$1,b=t[1]%360*radians$1,u=t.length>2?t[2]%360*radians$1:0,L()):[d*degrees,b*degrees,u*degrees]},R.angle=function(t){return arguments.length?(C=t%360*radians$1,L()):C*degrees},R.reflectX=function(t){return arguments.length?(h=t?-1:1,L()):h<0},R.reflectY=function(t){return arguments.length?(y=t?-1:1,L()):y<0},R.precision=function(t){return arguments.length?(l=resample(r,G=t*t),E()):sqrt$1(G)},R.fitExtent=function(t,e){return fitExtent(R,t,e)},R.fitSize=function(t,e){return fitSize(R,t,e)},R.fitWidth=function(t,e){return fitWidth(R,t,e)},R.fitHeight=function(t,e){return fitHeight(R,t,e)},function(){return e=t.apply(this,arguments),R.invert=e.invert&&S,L()}}function conicProjection$1(t){var e=0,s=pi$2/3,i=projectionMutator(t),n=i(e,s);return n.parallels=function(t){return arguments.length?i(e=t[0]*radians$1,s=t[1]*radians$1):[e*degrees,s*degrees]},n}function cylindricalEqualAreaRaw(t){var e=cos$1(t);function s(t,s){return[t*e,sin$1(s)/e]}return s.invert=function(t,s){return[t/e,asin$1(s*e)]},s}function conicEqualAreaRaw(t,e){var s=sin$1(t),i=(s+sin$1(e))/2;if(abs$1(i)<epsilon$1)return cylindricalEqualAreaRaw(t);var n=1+s*(2*i-s),a=sqrt$1(n)/i;function l(t,e){var s=sqrt$1(n-2*i*sin$1(e))/i;return[s*sin$1(t*=i),a-s*cos$1(t)]}return l.invert=function(t,e){var s=a-e,l=atan2$1(t,abs$1(s))*sign$1(s);return s*i<0&&(l-=pi$2*sign$1(t)*sign$1(s)),[l/i,asin$1((n-(t*t+s*s)*i*i)/(2*i))]},l}function geoConicEqualArea(){return conicProjection$1(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(t){var e=t.length;return{point:function(s,i){for(var n=-1;++n<e;)t[n].point(s,i)},sphere:function(){for(var s=-1;++s<e;)t[s].sphere()},lineStart:function(){for(var s=-1;++s<e;)t[s].lineStart()},lineEnd:function(){for(var s=-1;++s<e;)t[s].lineEnd()},polygonStart:function(){for(var s=-1;++s<e;)t[s].polygonStart()},polygonEnd:function(){for(var s=-1;++s<e;)t[s].polygonEnd()}}}function geoAlbersUsa(){var t,e,s,i,n,a,l=geoAlbers(),r=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),B={point:function(t,e){a=[t,e]}};function g(t){var e=t[0],l=t[1];return a=null,s.point(e,l),a||(i.point(e,l),a)||(n.point(e,l),a)}function o(){return t=e=null,g}return g.invert=function(t){var e=l.scale(),s=l.translate(),i=(t[0]-s[0])/e,n=(t[1]-s[1])/e;return(n>=.12&&n<.234&&i>=-.425&&i<-.214?r:n>=.166&&n<.234&&i>=-.214&&i<-.115?c:l).invert(t)},g.stream=function(s){return t&&e===s?t:t=multiplex([l.stream(e=s),r.stream(s),c.stream(s)])},g.precision=function(t){return arguments.length?(l.precision(t),r.precision(t),c.precision(t),o()):l.precision()},g.scale=function(t){return arguments.length?(l.scale(t),r.scale(.35*t),c.scale(t),g.translate(l.translate())):l.scale()},g.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),a=+t[0],g=+t[1];return s=l.translate(t).clipExtent([[a-.455*e,g-.238*e],[a+.455*e,g+.238*e]]).stream(B),i=r.translate([a-.307*e,g+.201*e]).clipExtent([[a-.425*e+epsilon$1,g+.12*e+epsilon$1],[a-.214*e-epsilon$1,g+.234*e-epsilon$1]]).stream(B),n=c.translate([a-.205*e,g+.212*e]).clipExtent([[a-.214*e+epsilon$1,g+.166*e+epsilon$1],[a-.115*e-epsilon$1,g+.234*e-epsilon$1]]).stream(B),o()},g.fitExtent=function(t,e){return fitExtent(g,t,e)},g.fitSize=function(t,e){return fitSize(g,t,e)},g.fitWidth=function(t,e){return fitWidth(g,t,e)},g.fitHeight=function(t,e){return fitHeight(g,t,e)},g.scale(1070)}function azimuthalRaw(t){return function(e,s){var i=cos$1(e),n=cos$1(s),a=t(i*n);return a===1/0?[2,0]:[a*n*sin$1(e),a*sin$1(s)]}}function azimuthalInvert(t){return function(e,s){var i=sqrt$1(e*e+s*s),n=t(i),a=sin$1(n),l=cos$1(n);return[atan2$1(e*a,i*l),asin$1(i&&s*a/i)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(t){return sqrt$1(2/(1+t))});function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert(function(t){return 2*asin$1(t/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(t){return(t=acos$1(t))&&t/sin$1(t)});function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(t,e){return[t,log$1(tan((halfPi$1+e)/2))]}function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$2)}function mercatorProjection(t){var e,s,i,n=projection$1(t),a=n.center,l=n.scale,r=n.translate,c=n.clipExtent,B=null;function g(){var a=pi$2*l(),r=n(rotation(n.rotate()).invert([0,0]));return c(null==B?[[r[0]-a,r[1]-a],[r[0]+a,r[1]+a]]:t===mercatorRaw?[[Math.max(r[0]-a,B),e],[Math.min(r[0]+a,s),i]]:[[B,Math.max(r[1]-a,e)],[s,Math.min(r[1]+a,i)]])}return n.scale=function(t){return arguments.length?(l(t),g()):l()},n.translate=function(t){return arguments.length?(r(t),g()):r()},n.center=function(t){return arguments.length?(a(t),g()):a()},n.clipExtent=function(t){return arguments.length?(null==t?B=e=s=i=null:(B=+t[0][0],e=+t[0][1],s=+t[1][0],i=+t[1][1]),g()):null==B?null:[[B,e],[s,i]]},g()}function tany(t){return tan((halfPi$1+t)/2)}function conicConformalRaw(t,e){var s=cos$1(t),i=t===e?sin$1(t):log$1(s/cos$1(e))/log$1(tany(e)/tany(t)),n=s*pow$1(tany(t),i)/i;if(!i)return mercatorRaw;function a(t,e){n>0?e<-halfPi$1+epsilon$1&&(e=-halfPi$1+epsilon$1):e>halfPi$1-epsilon$1&&(e=halfPi$1-epsilon$1);var s=n/pow$1(tany(e),i);return[s*sin$1(i*t),n-s*cos$1(i*t)]}return a.invert=function(t,e){var s=n-e,a=sign$1(i)*sqrt$1(t*t+s*s),l=atan2$1(t,abs$1(s))*sign$1(s);return s*i<0&&(l-=pi$2*sign$1(t)*sign$1(s)),[l/i,2*atan(pow$1(n/a,1/i))-halfPi$1]},a}function geoConicConformal(){return conicProjection$1(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,e){return[t,e]}function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,e){var s=cos$1(t),i=t===e?sin$1(t):(s-cos$1(e))/(e-t),n=s/i+t;if(abs$1(i)<epsilon$1)return equirectangularRaw;function a(t,e){var s=n-e,a=i*t;return[s*sin$1(a),n-s*cos$1(a)]}return a.invert=function(t,e){var s=n-e,a=atan2$1(t,abs$1(s))*sign$1(s);return s*i<0&&(a-=pi$2*sign$1(t)*sign$1(s)),[a/i,n-sign$1(i)*sqrt$1(t*t+s*s)]},a}function geoConicEquidistant(){return conicProjection$1(conicEquidistantRaw).scale(131.154).center([0,13.9389])}azimuthalEquidistantRaw.invert=azimuthalInvert(function(t){return t}),mercatorRaw.invert=function(t,e){return[t,2*atan(exp(e))-halfPi$1]},equirectangularRaw.invert=equirectangularRaw;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$1(3)/2,iterations=12;function equalEarthRaw(t,e){var s=asin$1(M*sin$1(e)),i=s*s,n=i*i*i;return[t*cos$1(s)/(M*(A1+3*A2*i+n*(7*A3+9*A4*i))),s*(A1+A2*i+n*(A3+A4*i))]}function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(t,e){var s=cos$1(e),i=cos$1(t)*s;return[s*sin$1(t)/i,sin$1(e)/i]}function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function orthographicRaw(t,e){return[cos$1(e)*sin$1(t),sin$1(e)]}function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$1)}function stereographicRaw(t,e){var s=cos$1(e),i=1+cos$1(t)*s;return[s*sin$1(t)/i,sin$1(e)/i]}function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,e){return[log$1(tan((halfPi$1+e)/2)),-t]}function geoTransverseMercator(){var t=mercatorProjection(transverseMercatorRaw),e=t.center,s=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?s([t[0],t[1],t.length>2?t[2]+90:90]):[(t=s())[0],t[1],t[2]-90]},s([0,0,90]).scale(159.155)}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}equalEarthRaw.invert=function(t,e){for(var s,i=e,n=i*i,a=n*n*n,l=0;l<iterations&&(a=(n=(i-=s=(i*(A1+A2*n+a*(A3+A4*n))-e)/(A1+3*A2*n+a*(7*A3+9*A4*n)))*i)*n*n,!(abs$1(s)<epsilon2));++l);return[M*t*(A1+3*A2*n+a*(7*A3+9*A4*n))/cos$1(i),asin$1(sin$1(i)/M)]},gnomonicRaw.invert=azimuthalInvert(atan),orthographicRaw.invert=azimuthalInvert(asin$1),stereographicRaw.invert=azimuthalInvert(function(t){return 2*atan(t)}),transverseMercatorRaw.invert=function(t,e){return[-e,2*atan(exp(t))-halfPi$1]};const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],s=[],i=implicit;function n(n){let a=t.get(n);if(void 0===a){if(i!==implicit)return i;t.set(n,a=e.push(n)-1)}return s[a%s.length]}return n.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return n},n.range=function(t){return arguments.length?(s=Array.from(t),n):s.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return ordinal(e,s).unknown(i)},initRange.apply(n,arguments),n}function band(){var t,e,s=ordinal().unknown(void 0),i=s.domain,n=s.range,a=0,l=1,r=!1,c=0,B=0,g=.5;function o(){var s=i().length,o=l<a,F=o?l:a,Q=o?a:l;t=(Q-F)/Math.max(1,s-c+2*B),r&&(t=Math.floor(t)),F+=(Q-F-t*(s-c))*g,e=t*(1-c),r&&(F=Math.round(F),e=Math.round(e));var U=range$1(s).map(function(e){return F+t*e});return n(o?U.reverse():U)}return delete s.unknown,s.domain=function(t){return arguments.length?(i(t),o()):i()},s.range=function(t){return arguments.length?([a,l]=t,a=+a,l=+l,o()):[a,l]},s.rangeRound=function(t){return[a,l]=t,a=+a,l=+l,r=!0,o()},s.bandwidth=function(){return e},s.step=function(){return t},s.round=function(t){return arguments.length?(r=!!t,o()):r},s.padding=function(t){return arguments.length?(c=Math.min(1,B=+t),o()):c},s.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),o()):c},s.paddingOuter=function(t){return arguments.length?(B=+t,o()):B},s.align=function(t){return arguments.length?(g=Math.max(0,Math.min(1,t)),o()):g},s.copy=function(){return band(i(),[a,l]).round(r).paddingInner(c).paddingOuter(B).align(g)},initRange.apply(o(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point$5(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(t){return function(){return t}}function number$2(t){return+t}var unit$1=[0,1];function identity$4(t){return t}function normalize(t,e){return(e-=t=+t)?function(s){return(s-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var s;return t>e&&(s=t,t=e,e=s),function(s){return Math.max(t,Math.min(e,s))}}function bimap(t,e,s){var i=t[0],n=t[1],a=e[0],l=e[1];return n<i?(i=normalize(n,i),a=s(l,a)):(i=normalize(i,n),a=s(a,l)),function(t){return a(i(t))}}function polymap(t,e,s){var i=Math.min(t.length,e.length)-1,n=new Array(i),a=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)n[l]=normalize(t[l],t[l+1]),a[l]=s(e[l],e[l+1]);return function(e){var s=bisectRight(t,e,1,i)-1;return a[s](n[s](e))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$1(){var t,e,s,i,n,a,l=unit$1,r=unit$1,c=interpolate$1,B=identity$4;function g(){var t=Math.min(l.length,r.length);return B!==identity$4&&(B=clamper(l[0],l[t-1])),i=t>2?polymap:bimap,n=a=null,o}function o(e){return null==e||isNaN(e=+e)?s:(n||(n=i(l.map(t),r,c)))(t(B(e)))}return o.invert=function(s){return B(e((a||(a=i(r,l.map(t),interpolateNumber)))(s)))},o.domain=function(t){return arguments.length?(l=Array.from(t,number$2),g()):l.slice()},o.range=function(t){return arguments.length?(r=Array.from(t),g()):r.slice()},o.rangeRound=function(t){return r=Array.from(t),c=interpolateRound,g()},o.clamp=function(t){return arguments.length?(B=!!t||identity$4,g()):B!==identity$4},o.interpolate=function(t){return arguments.length?(c=t,g()):c},o.unknown=function(t){return arguments.length?(s=t,o):s},function(s,i){return t=s,e=i,g()}}function continuous(){return transformer$1()(identity$4,identity$4)}function tickFormat(t,e,s,i){var n,a=tickStep(t,e,s);switch((i=formatSpecifier(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(n=precisionPrefix(a,l))||(i.precision=n),formatPrefix(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(n=precisionRound(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=n-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(n=precisionFixed(a))||(i.precision=n-2*("%"===i.type))}return format$1(i)}function linearish(t){var e=t.domain;return t.ticks=function(t){var s=e();return ticks(s[0],s[s.length-1],null==t?10:t)},t.tickFormat=function(t,s){var i=e();return tickFormat(i[0],i[i.length-1],null==t?10:t,s)},t.nice=function(s){null==s&&(s=10);var i,n,a=e(),l=0,r=a.length-1,c=a[l],B=a[r],g=10;for(B<c&&(n=c,c=B,B=n,n=l,l=r,r=n);g-- >0;){if((n=tickIncrement(c,B,s))===i)return a[l]=c,a[r]=B,e(a);if(n>0)c=Math.floor(c/n)*n,B=Math.ceil(B/n)*n;else{if(!(n<0))break;c=Math.ceil(c*n)/n,B=Math.floor(B*n)/n}i=n}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$3(t){var e;function s(t){return null==t||isNaN(t=+t)?e:t}return s.invert=s,s.domain=s.range=function(e){return arguments.length?(t=Array.from(e,number$2),s):t.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return identity$3(t).unknown(e)},t=arguments.length?Array.from(t,number$2):[0,1],linearish(s)}function nice(t,e){var s,i=0,n=(t=t.slice()).length-1,a=t[i],l=t[n];return l<a&&(s=i,i=n,n=s,s=a,a=l,l=s),t[i]=e.floor(a),t[n]=e.ceil(l),t}function transformLog$1(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,s)=>-t(-e,s)}function loggish(t){const e=t(transformLog$1,transformExp),s=e.domain;let i,n,a=10;function l(){return i=logp(a),n=powp(a),s()[0]<0?(i=reflect(i),n=reflect(n),t(transformLogn,transformExpn)):t(transformLog$1,transformExp),e}return e.base=function(t){return arguments.length?(a=+t,l()):a},e.domain=function(t){return arguments.length?(s(t),l()):s()},e.ticks=t=>{const e=s();let l=e[0],r=e[e.length-1];const c=r<l;c&&([l,r]=[r,l]);let B,g,o=i(l),F=i(r);const Q=null==t?10:+t;let U=[];if(!(a%1)&&F-o<Q){if(o=Math.floor(o),F=Math.ceil(F),l>0){for(;o<=F;++o)for(B=1;B<a;++B)if(g=o<0?B/n(-o):B*n(o),!(g<l)){if(g>r)break;U.push(g)}}else for(;o<=F;++o)for(B=a-1;B>=1;--B)if(g=o>0?B/n(-o):B*n(o),!(g<l)){if(g>r)break;U.push(g)}2*U.length<Q&&(U=ticks(l,r,Q))}else U=ticks(o,F,Math.min(F-o,Q)).map(n);return c?U.reverse():U},e.tickFormat=(t,s)=>{if(null==t&&(t=10),null==s&&(s=10===a?"s":","),"function"!=typeof s&&(a%1||null!=(s=formatSpecifier(s)).precision||(s.trim=!0),s=format$1(s)),t===1/0)return s;const l=Math.max(1,a*t/e.ticks().length);return t=>{let e=t/n(Math.round(i(t)));return e*a<a-.5&&(e*=a),e<=l?s(t):""}},e.nice=()=>s(nice(s(),{floor:t=>n(Math.floor(i(t))),ceil:t=>n(Math.ceil(i(t)))})),e}function log(){const t=loggish(transformer$1()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog$1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,s=t(transformSymlog$1(e),transformSymexp(e));return s.constant=function(s){return arguments.length?t(transformSymlog$1(e=+s),transformSymexp(e)):e},linearish(s)}function symlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow$1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt$1(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$4,identity$4),s=1;return e.exponent=function(e){return arguments.length?1===(s=+e)?t(identity$4,identity$4):.5===s?t(transformSqrt$1,transformSquare):t(transformPow$1(s),transformPow$1(1/s)):s},linearish(e)}function pow(){var t=powish(transformer$1());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function quantile(){var t,e=[],s=[],i=[];function n(){var t=0,n=Math.max(1,s.length);for(i=new Array(n-1);++t<n;)i[t-1]=quantileSorted(e,t/n);return a}function a(e){return null==e||isNaN(e=+e)?t:s[bisectRight(i,e)]}return a.invertExtent=function(t){var n=s.indexOf(t);return n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let s of t)null==s||isNaN(s=+s)||e.push(s);return e.sort(ascending$1),n()},a.range=function(t){return arguments.length?(s=Array.from(t),n()):s.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return quantile().domain(e).range(s).unknown(t)},initRange.apply(a,arguments)}function threshold(){var t,e=[.5],s=[0,1],i=1;function n(n){return null!=n&&n<=n?s[bisectRight(e,n,0,i)]:t}return n.domain=function(t){return arguments.length?(e=Array.from(t),i=Math.min(e.length,s.length-1),n):e.slice()},n.range=function(t){return arguments.length?(s=Array.from(t),i=Math.min(e.length,s.length-1),n):s.slice()},n.invertExtent=function(t){var i=s.indexOf(t);return[e[i-1],e[i]]},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return threshold().domain(e).range(s).unknown(t)},initRange.apply(n,arguments)}const t0=new Date,t1=new Date;function timeInterval$1(t,e,s,i){function n(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return n.floor=e=>(t(e=new Date(+e)),e),n.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),n.round=t=>{const e=n(t),s=n.ceil(t);return t-e<s-t?e:s},n.offset=(t,s)=>(e(t=new Date(+t),null==s?1:Math.floor(s)),t),n.range=(s,i,a)=>{const l=[];if(s=n.ceil(s),a=null==a?1:Math.floor(a),!(s<i&&a>0))return l;let r;do{l.push(r=new Date(+s)),e(s,a),t(s)}while(r<s&&s<i);return l},n.filter=s=>timeInterval$1(e=>{if(e>=e)for(;t(e),!s(e);)e.setTime(e-1)},(t,i)=>{if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!s(t););else for(;--i>=0;)for(;e(t,1),!s(t););}),s&&(n.count=(e,i)=>(t0.setTime(+e),t1.setTime(+i),t(t0),t(t1),Math.floor(s(t0,t1))),n.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?n.filter(i?e=>i(e)%t===0:e=>n.count(0,e)%t===0):n:null)),n}const millisecond=timeInterval$1(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?timeInterval$1(e=>{e.setTime(Math.floor(e/t)*t)},(e,s)=>{e.setTime(+e+s*t)},(e,s)=>(s-e)/t):millisecond:null),millisecond.range;const durationSecond$1=1e3,durationMinute$1=6e4,durationHour$1=36e5,durationDay$1=864e5,durationWeek$1=6048e5,durationMonth$1=2592e6,durationYear$1=31536e6,second$1=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+1e3*e)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds());second$1.range;const timeMinute=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getHours());timeHour.range;const utcHour=timeInterval$1(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval$1(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval$1(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5));function timeWeekday(t){return timeInterval$1(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5)}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday(t){return timeInterval$1(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/6048e5)}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range;const timeMonth=timeInterval$1(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval$1(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,s)=>{e.setFullYear(e.getFullYear()+s*t)}):null,timeYear.range;const utcYear=timeInterval$1(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function ticker(t,e,s,i,n,a){const l=[[second$1,1,1e3],[second$1,5,5e3],[second$1,15,15e3],[second$1,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[i,1,864e5],[i,2,1728e5],[s,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function r(e,s,i){const n=Math.abs(s-e)/i,a=bisector(([,,t])=>t).right(l,n);if(a===l.length)return t.every(tickStep(e/31536e6,s/31536e6,i));if(0===a)return millisecond.every(Math.max(tickStep(e,s,i),1));const[r,c]=l[n/l[a-1][2]<l[a][2]/n?a-1:a];return r.every(c)}return[function(t,e,s){const i=e<t;i&&([t,e]=[e,t]);const n=s&&"function"==typeof s.range?s:r(t,e,s),a=n?n.range(t,+e+1):[];return i?a.reverse():a},r]}utcYear.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCFullYear(e.getUTCFullYear()+s*t)}):null,utcYear.range;const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,s){return{y:t,m:e,d:s,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,s=t.date,i=t.time,n=t.periods,a=t.days,l=t.shortDays,r=t.months,c=t.shortMonths,B=formatRe(n),g=formatLookup(n),o=formatRe(a),F=formatLookup(a),Q=formatRe(l),U=formatLookup(l),I=formatRe(r),d=formatLookup(r),b=formatRe(c),u=formatLookup(c),C={a:function(t){return l[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return r[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return n[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},h={a:function(t){return l[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return r[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return n[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},y={a:function(t,e,s){var i=Q.exec(e.slice(s));return i?(t.w=U.get(i[0].toLowerCase()),s+i[0].length):-1},A:function(t,e,s){var i=o.exec(e.slice(s));return i?(t.w=F.get(i[0].toLowerCase()),s+i[0].length):-1},b:function(t,e,s){var i=b.exec(e.slice(s));return i?(t.m=u.get(i[0].toLowerCase()),s+i[0].length):-1},B:function(t,e,s){var i=I.exec(e.slice(s));return i?(t.m=d.get(i[0].toLowerCase()),s+i[0].length):-1},c:function(t,s,i){return p(t,e,s,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,e,s){var i=B.exec(e.slice(s));return i?(t.p=g.get(i[0].toLowerCase()),s+i[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,e,i){return p(t,s,e,i)},X:function(t,e,s){return p(t,i,e,s)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function x(t,e){return function(s){var i,n,a,l=[],r=-1,c=0,B=t.length;for(s instanceof Date||(s=new Date(+s));++r<B;)37===t.charCodeAt(r)&&(l.push(t.slice(c,r)),null!=(n=pads[i=t.charAt(++r)])?i=t.charAt(++r):n="e"===i?" ":"0",(a=e[i])&&(i=a(s,n)),l.push(i),c=r+1);return l.push(t.slice(c,r)),l.join("")}}function m(t,e){return function(s){var i,n,a=newDate(1900,void 0,1);if(p(a,t,s+="",0)!=s.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(n=(i=utcDate(newDate(a.y,0,1))).getUTCDay(),i=n>4||0===n?utcMonday.ceil(i):utcMonday(i),i=utcDay.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(n=(i=localDate(newDate(a.y,0,1))).getDay(),i=n>4||0===n?timeMonday.ceil(i):timeMonday(i),i=timeDay.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),n="Z"in a?utcDate(newDate(a.y,0,1)).getUTCDay():localDate(newDate(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(n+5)%7:a.w+7*a.U-(n+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate(a)):localDate(a)}}function p(t,e,s,i){for(var n,a,l=0,r=e.length,c=s.length;l<r;){if(i>=c)return-1;if(37===(n=e.charCodeAt(l++))){if(n=e.charAt(l++),!(a=y[n in pads?e.charAt(l++):n])||(i=a(t,s,i))<0)return-1}else if(n!=s.charCodeAt(i++))return-1}return i}return C.x=x(s,C),C.X=x(i,C),C.c=x(e,C),h.x=x(s,h),h.X=x(i,h),h.c=x(e,h),{format:function(t){var e=x(t+="",C);return e.toString=function(){return t},e},parse:function(t){var e=m(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",h);return e.toString=function(){return t},e},utcParse:function(t){var e=m(t+="",!0);return e.toString=function(){return t},e}}}var locale,timeFormat,utcFormat,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(t,e,s){var i=t<0?"-":"",n=(i?-t:t)+"",a=n.length;return i+(a<s?new Array(s-a+1).join(e)+n:n)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function parseWeekdayNumberSunday(t,e,s){var i=numberRe.exec(e.slice(s,s+1));return i?(t.w=+i[0],s+i[0].length):-1}function parseWeekdayNumberMonday(t,e,s){var i=numberRe.exec(e.slice(s,s+1));return i?(t.u=+i[0],s+i[0].length):-1}function parseWeekNumberSunday(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.U=+i[0],s+i[0].length):-1}function parseWeekNumberISO(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.V=+i[0],s+i[0].length):-1}function parseWeekNumberMonday(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.W=+i[0],s+i[0].length):-1}function parseFullYear(t,e,s){var i=numberRe.exec(e.slice(s,s+4));return i?(t.y=+i[0],s+i[0].length):-1}function parseYear(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),s+i[0].length):-1}function parseZone(t,e,s){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(s,s+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),s+i[0].length):-1}function parseQuarter(t,e,s){var i=numberRe.exec(e.slice(s,s+1));return i?(t.q=3*i[0]-3,s+i[0].length):-1}function parseMonthNumber(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.m=i[0]-1,s+i[0].length):-1}function parseDayOfMonth(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.d=+i[0],s+i[0].length):-1}function parseDayOfYear(t,e,s){var i=numberRe.exec(e.slice(s,s+3));return i?(t.m=0,t.d=+i[0],s+i[0].length):-1}function parseHour24(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.H=+i[0],s+i[0].length):-1}function parseMinutes(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.M=+i[0],s+i[0].length):-1}function parseSeconds(t,e,s){var i=numberRe.exec(e.slice(s,s+2));return i?(t.S=+i[0],s+i[0].length):-1}function parseMilliseconds(t,e,s){var i=numberRe.exec(e.slice(s,s+3));return i?(t.L=+i[0],s+i[0].length):-1}function parseMicroseconds(t,e,s){var i=numberRe.exec(e.slice(s,s+6));return i?(t.L=Math.floor(i[0]/1e3),s+i[0].length):-1}function parseLiteralPercent(t,e,s){var i=percentRe.exec(e.slice(s,s+1));return i?s+i[0].length:-1}function parseUnixTimestamp(t,e,s){var i=numberRe.exec(e.slice(s));return i?(t.Q=+i[0],s+i[0].length):-1}function parseUnixTimestampSeconds(t,e,s){var i=numberRe.exec(e.slice(s));return i?(t.s=+i[0],s+i[0].length):-1}function formatDayOfMonth(t,e){return pad$1(t.getDate(),e,2)}function formatHour24(t,e){return pad$1(t.getHours(),e,2)}function formatHour12(t,e){return pad$1(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad$1(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad$1(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad$1(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad$1(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad$1(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad$1(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||0===e?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad$1(timeThursday.count(timeYear(t),t)+(4===timeYear(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad$1(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear$1(t,e){return pad$1(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return pad$1((t=dISO(t)).getFullYear()%100,e,2)}function formatFullYear(t,e){return pad$1(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var s=t.getDay();return pad$1((t=s>=4||0===s?timeThursday(t):timeThursday.ceil(t)).getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad$1(e/60|0,"0",2)+pad$1(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad$1(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad$1(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad$1(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad$1(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad$1(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad$1(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad$1(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad$1(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad$1(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||0===e?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad$1(utcThursday.count(utcYear(t),t)+(4===utcYear(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad$1(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad$1(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return pad$1((t=UTCdISO(t)).getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad$1(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var s=t.getUTCDay();return pad$1((t=s>=4||0===s?utcThursday(t):utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number$1(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,s,i,n,a,l,r,c,B){var g=continuous(),o=g.invert,F=g.domain,Q=B(".%L"),U=B(":%S"),I=B("%I:%M"),d=B("%I %p"),b=B("%a %d"),u=B("%b %d"),C=B("%B"),h=B("%Y");function y(t){return(c(t)<t?Q:r(t)<t?U:l(t)<t?I:a(t)<t?d:i(t)<t?n(t)<t?b:u:s(t)<t?C:h)(t)}return g.invert=function(t){return new Date(o(t))},g.domain=function(t){return arguments.length?F(Array.from(t,number$1)):F().map(date)},g.ticks=function(e){var s=F();return t(s[0],s[s.length-1],null==e?10:e)},g.tickFormat=function(t,e){return null==e?y:B(e)},g.nice=function(t){var s=F();return t&&"function"==typeof t.range||(t=e(s[0],s[s.length-1],null==t?10:t)),t?F(nice(s,t)):g},g.copy=function(){return copy$1(g,calendar(t,e,s,i,n,a,l,r,c,B))},g}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second$1,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second$1,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function transformer(){var t,e,s,i,n,a,l,r=0,c=.5,B=1,g=1,o=identity$4,F=!1;function Q(t){return isNaN(t=+t)?l:(t=.5+((t=+a(t))-e)*(g*t<g*e?i:n),o(F?Math.max(0,Math.min(1,t)):t))}function U(t){return function(e){var s,i,n;return arguments.length?([s,i,n]=e,o=piecewise(t,[s,i,n]),Q):[o(0),o(.5),o(1)]}}return Q.domain=function(l){return arguments.length?([r,c,B]=l,t=a(r=+r),e=a(c=+c),s=a(B=+B),i=t===e?0:.5/(e-t),n=e===s?0:.5/(s-e),g=e<t?-1:1,Q):[r,c,B]},Q.clamp=function(t){return arguments.length?(F=!!t,Q):F},Q.interpolator=function(t){return arguments.length?(o=t,Q):o},Q.range=U(interpolate$1),Q.rangeRound=U(interpolateRound),Q.unknown=function(t){return arguments.length?(l=t,Q):l},function(l){return a=l,t=l(r),e=l(c),s=l(B),i=t===e?0:.5/(e-t),n=e===s?0:.5/(s-e),g=e<t?-1:1,Q}}function diverging(){var t=linearish(transformer()(identity$4));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function colors$1(t){for(var e=t.length/6|0,s=new Array(e),i=0;i<e;)s[i]="#"+t.slice(6*i,6*++i);return s}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var schemeCategory10=colors$1("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors$1("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors$1("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors$1("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors$1("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors$1("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors$1("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors$1("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors$1("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors$1("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),schemeTableau10=colors$1("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=t=>rgbBasis(t[t.length-1]),scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors$1),interpolateBrBG=ramp$1(scheme$q),scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors$1),interpolatePRGn=ramp$1(scheme$p),scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors$1),interpolatePiYG=ramp$1(scheme$o),scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors$1),interpolatePuOr=ramp$1(scheme$n),scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors$1),interpolateRdBu=ramp$1(scheme$m),scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors$1),interpolateRdGy=ramp$1(scheme$l),scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors$1),interpolateRdYlBu=ramp$1(scheme$k),scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors$1),interpolateRdYlGn=ramp$1(scheme$j),scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors$1),interpolateSpectral=ramp$1(scheme$i),scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors$1),interpolateBuGn=ramp$1(scheme$h),scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors$1),interpolateBuPu=ramp$1(scheme$g),scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors$1),interpolateGnBu=ramp$1(scheme$f),scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors$1),interpolateOrRd=ramp$1(scheme$e),scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors$1),interpolatePuBuGn=ramp$1(scheme$d),scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors$1),interpolatePuBu=ramp$1(scheme$c),scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors$1),interpolatePuRd=ramp$1(scheme$b),scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors$1),interpolateRdPu=ramp$1(scheme$a),scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors$1),interpolateYlGnBu=ramp$1(scheme$9),scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors$1),interpolateYlGn=ramp$1(scheme$8),scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors$1),interpolateYlOrBr=ramp$1(scheme$7),scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors$1),interpolateYlOrRd=ramp$1(scheme$6),scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors$1),interpolateBlues=ramp$1(scheme$5),scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors$1),interpolateGreens=ramp$1(scheme$4),scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors$1),interpolateGreys=ramp$1(scheme$3),scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors$1),interpolatePurples=ramp$1(scheme$2),scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors$1),interpolateReds=ramp$1(scheme$1),scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors$1),interpolateOranges=ramp$1(scheme);function interpolateCividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var interpolateCubehelixDefault=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1)),warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$3=cubehelix$1();function interpolateRainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return c$3.h=360*t-100,c$3.s=1.5-1.5*e,c$3.l=.8-.9*e,c$3+""}var c$2=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function interpolateSinebow(t){var e;return t=(.5-t)*Math.PI,c$2.r=255*(e=Math.sin(t))*e,c$2.g=255*(e=Math.sin(t+pi_1_3))*e,c$2.b=255*(e=Math.sin(t+pi_2_3))*e,c$2+""}function interpolateTurbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function ramp(t){var e=t.length;return function(s){return t[Math.max(0,Math.min(e-1,Math.floor(s*e)))]}}var interpolateViridis=ramp(colors$1("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp(colors$1("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors$1("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors$1("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(t){return function(){return t}}const abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi$1=Math.PI,halfPi=pi$1/2,tau$1=2*pi$1;function acos(t){return t>1?0:t<-1?pi$1:Math.acos(t)}function asin(t){return t>=1?halfPi:t<=-1?-halfPi:Math.asin(t)}function withPath(t){let e=3;return t.digits=function(s){if(!arguments.length)return e;if(null==s)e=null;else{const t=Math.floor(s);if(!(t>=0))throw new RangeError(`invalid digits: ${s}`);e=t}return t},()=>new Path(e)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function intersect(t,e,s,i,n,a,l,r){var c=s-t,B=i-e,g=l-n,o=r-a,F=o*c-g*B;if(!(F*F<1e-12))return[t+(F=(g*(e-a)-o*(t-n))/F)*c,e+F*B]}function cornerTangents(t,e,s,i,n,a,l){var r=t-s,c=e-i,B=(l?a:-a)/sqrt(r*r+c*c),g=B*c,o=-B*r,F=t+g,Q=e+o,U=s+g,I=i+o,d=(F+U)/2,b=(Q+I)/2,u=U-F,C=I-Q,h=u*u+C*C,y=n-a,x=F*I-U*Q,m=(C<0?-1:1)*sqrt(max(0,y*y*h-x*x)),p=(x*C-u*m)/h,A=(-x*u-C*m)/h,G=(x*C+u*m)/h,R=(-x*u+C*m)/h,S=p-d,L=A-b,E=G-d,V=R-b;return S*S+L*L>E*E+V*V&&(p=G,A=R),{cx:p,cy:A,x01:-g,y01:-o,x11:p*(n/y-1),y11:A*(n/y-1)}}function arc(){var t=arcInnerRadius,e=arcOuterRadius,s=constant$1(0),i=null,n=arcStartAngle,a=arcEndAngle,l=arcPadAngle,r=null,c=withPath(B);function B(){var B,g,o=+t.apply(this,arguments),F=+e.apply(this,arguments),Q=n.apply(this,arguments)-halfPi,U=a.apply(this,arguments)-halfPi,I=abs(U-Q),d=U>Q;if(r||(r=B=c()),F<o&&(g=F,F=o,o=g),F>1e-12)if(I>tau$1-1e-12)r.moveTo(F*cos(Q),F*sin(Q)),r.arc(0,0,F,Q,U,!d),o>1e-12&&(r.moveTo(o*cos(U),o*sin(U)),r.arc(0,0,o,U,Q,d));else{var b,u,C=Q,h=U,y=Q,x=U,m=I,p=I,A=l.apply(this,arguments)/2,G=A>1e-12&&(i?+i.apply(this,arguments):sqrt(o*o+F*F)),R=min(abs(F-o)/2,+s.apply(this,arguments)),S=R,L=R;if(G>1e-12){var E=asin(G/o*sin(A)),V=asin(G/F*sin(A));(m-=2*E)>1e-12?(y+=E*=d?1:-1,x-=E):(m=0,y=x=(Q+U)/2),(p-=2*V)>1e-12?(C+=V*=d?1:-1,h-=V):(p=0,C=h=(Q+U)/2)}var Z=F*cos(C),N=F*sin(C),f=o*cos(x),X=o*sin(x);if(R>1e-12){var W,D=F*cos(h),H=F*sin(h),w=o*cos(y),v=o*sin(y);if(I<pi$1)if(W=intersect(Z,N,w,v,D,H,f,X)){var Y=Z-W[0],T=N-W[1],k=D-W[0],M=H-W[1],J=1/sin(acos((Y*k+T*M)/(sqrt(Y*Y+T*T)*sqrt(k*k+M*M)))/2),$=sqrt(W[0]*W[0]+W[1]*W[1]);S=min(R,(o-$)/(J-1)),L=min(R,(F-$)/(J+1))}else S=L=0}p>1e-12?L>1e-12?(b=cornerTangents(w,v,Z,N,F,L,d),u=cornerTangents(D,H,f,X,F,L,d),r.moveTo(b.cx+b.x01,b.cy+b.y01),L<R?r.arc(b.cx,b.cy,L,atan2(b.y01,b.x01),atan2(u.y01,u.x01),!d):(r.arc(b.cx,b.cy,L,atan2(b.y01,b.x01),atan2(b.y11,b.x11),!d),r.arc(0,0,F,atan2(b.cy+b.y11,b.cx+b.x11),atan2(u.cy+u.y11,u.cx+u.x11),!d),r.arc(u.cx,u.cy,L,atan2(u.y11,u.x11),atan2(u.y01,u.x01),!d))):(r.moveTo(Z,N),r.arc(0,0,F,C,h,!d)):r.moveTo(Z,N),o>1e-12&&m>1e-12?S>1e-12?(b=cornerTangents(f,X,D,H,o,-S,d),u=cornerTangents(Z,N,w,v,o,-S,d),r.lineTo(b.cx+b.x01,b.cy+b.y01),S<R?r.arc(b.cx,b.cy,S,atan2(b.y01,b.x01),atan2(u.y01,u.x01),!d):(r.arc(b.cx,b.cy,S,atan2(b.y01,b.x01),atan2(b.y11,b.x11),!d),r.arc(0,0,o,atan2(b.cy+b.y11,b.cx+b.x11),atan2(u.cy+u.y11,u.cx+u.x11),d),r.arc(u.cx,u.cy,S,atan2(u.y11,u.x11),atan2(u.y01,u.x01),!d))):r.arc(0,0,o,x,y,d):r.lineTo(f,X)}else r.moveTo(0,0);if(r.closePath(),B)return r=null,B+""||null}return B.centroid=function(){var s=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-pi$1/2;return[cos(i)*s,sin(i)*s]},B.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),B):t},B.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:constant$1(+t),B):e},B.cornerRadius=function(t){return arguments.length?(s="function"==typeof t?t:constant$1(+t),B):s},B.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:constant$1(+t),B):i},B.startAngle=function(t){return arguments.length?(n="function"==typeof t?t:constant$1(+t),B):n},B.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:constant$1(+t),B):a},B.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:constant$1(+t),B):l},B.context=function(t){return arguments.length?(r=null==t?null:t,B):r},B}function array(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x$2(t){return t[0]}function y$1(t){return t[1]}function shapeLine(t,e){var s=constant$1(!0),i=null,n=curveLinear,a=null,l=withPath(r);function r(r){var c,B,g,o=(r=array(r)).length,F=!1;for(null==i&&(a=n(g=l())),c=0;c<=o;++c)!(c<o&&s(B=r[c],c,r))===F&&((F=!F)?a.lineStart():a.lineEnd()),F&&a.point(+t(B,c,r),+e(B,c,r));if(g)return a=null,g+""||null}return t="function"==typeof t?t:void 0===t?x$2:constant$1(t),e="function"==typeof e?e:void 0===e?y$1:constant$1(e),r.x=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:constant$1(+t),r):e},r.defined=function(t){return arguments.length?(s="function"==typeof t?t:constant$1(!!t),r):s},r.curve=function(t){return arguments.length?(n=t,null!=i&&(a=n(i)),r):n},r.context=function(t){return arguments.length?(null==t?i=a=null:a=n(i=t),r):i},r}function descending(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function identity$2(t){return t}function pie(){var t=identity$2,e=descending,s=null,i=constant$1(0),n=constant$1(tau$1),a=constant$1(0);function l(l){var r,c,B,g,o,F=(l=array(l)).length,Q=0,U=new Array(F),I=new Array(F),d=+i.apply(this,arguments),b=Math.min(tau$1,Math.max(-tau$1,n.apply(this,arguments)-d)),u=Math.min(Math.abs(b)/F,a.apply(this,arguments)),C=u*(b<0?-1:1);for(r=0;r<F;++r)(o=I[U[r]=r]=+t(l[r],r,l))>0&&(Q+=o);for(null!=e?U.sort(function(t,s){return e(I[t],I[s])}):null!=s&&U.sort(function(t,e){return s(l[t],l[e])}),r=0,B=Q?(b-F*C)/Q:0;r<F;++r,d=g)c=U[r],g=d+((o=I[c])>0?o*B:0)+C,I[c]={data:l[c],index:r,value:o,startAngle:d,endAngle:g,padAngle:u};return I}return l.value=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),l):t},l.sortValues=function(t){return arguments.length?(e=t,s=null,l):e},l.sort=function(t){return arguments.length?(s=t,e=null,l):s},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:constant$1(+t),l):i},l.endAngle=function(t){return arguments.length?(n="function"==typeof t?t:constant$1(+t),l):n},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:constant$1(+t),l):a},l}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Bump{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const sqrt3$3=sqrt(3);var symbolAsterisk={draw(t,e){const s=.59436*sqrt(e+min(e/28,.75)),i=s/2,n=i*sqrt3$3;t.moveTo(0,s),t.lineTo(0,-s),t.moveTo(-n,-i),t.lineTo(n,i),t.moveTo(-n,i),t.lineTo(n,-i)}},symbolCircle={draw(t,e){const s=sqrt(e/pi$1);t.moveTo(s,0),t.arc(0,0,s,0,tau$1)}},symbolCross={draw(t,e){const s=sqrt(e/5)/2;t.moveTo(-3*s,-s),t.lineTo(-s,-s),t.lineTo(-s,-3*s),t.lineTo(s,-3*s),t.lineTo(s,-s),t.lineTo(3*s,-s),t.lineTo(3*s,s),t.lineTo(s,s),t.lineTo(s,3*s),t.lineTo(-s,3*s),t.lineTo(-s,s),t.lineTo(-3*s,s),t.closePath()}};const tan30=sqrt(1/3),tan30_2=2*tan30;var symbolDiamond={draw(t,e){const s=sqrt(e/tan30_2),i=s*tan30;t.moveTo(0,-s),t.lineTo(i,0),t.lineTo(0,s),t.lineTo(-i,0),t.closePath()}},symbolDiamond2={draw(t,e){const s=.62625*sqrt(e);t.moveTo(0,-s),t.lineTo(s,0),t.lineTo(0,s),t.lineTo(-s,0),t.closePath()}},symbolPlus={draw(t,e){const s=.87559*sqrt(e-min(e/7,2));t.moveTo(-s,0),t.lineTo(s,0),t.moveTo(0,s),t.lineTo(0,-s)}},symbolSquare={draw(t,e){const s=sqrt(e),i=-s/2;t.rect(i,i,s,s)}},symbolSquare2={draw(t,e){const s=.4431*sqrt(e);t.moveTo(s,s),t.lineTo(s,-s),t.lineTo(-s,-s),t.lineTo(-s,s),t.closePath()}};const ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr;var symbolStar={draw(t,e){const s=sqrt(e*ka),i=kx*s,n=ky*s;t.moveTo(0,-s),t.lineTo(i,n);for(let e=1;e<5;++e){const a=tau$1*e/5,l=cos(a),r=sin(a);t.lineTo(r*s,-l*s),t.lineTo(l*i-r*n,r*i+l*n)}t.closePath()}};const sqrt3$2=sqrt(3);var symbolTriangle={draw(t,e){const s=-sqrt(e/(3*sqrt3$2));t.moveTo(0,2*s),t.lineTo(-sqrt3$2*s,-s),t.lineTo(sqrt3$2*s,-s),t.closePath()}};const sqrt3$1=sqrt(3);var symbolTriangle2={draw(t,e){const s=.6824*sqrt(e),i=s/2,n=s*sqrt3$1/2;t.moveTo(0,-s),t.lineTo(n,i),t.lineTo(-n,i),t.closePath()}};const c$1=-.5,s$1=sqrt(3)/2,k=1/sqrt(12),a$1=3*(k/2+1);var symbolWye={draw(t,e){const s=sqrt(e/a$1),i=s/2,n=s*k,a=i,l=s*k+s,r=-a,c=l;t.moveTo(i,n),t.lineTo(a,l),t.lineTo(r,c),t.lineTo(c$1*i-s$1*n,s$1*i+c$1*n),t.lineTo(c$1*a-s$1*l,s$1*a+c$1*l),t.lineTo(c$1*r-s$1*c,s$1*r+c$1*c),t.lineTo(c$1*i+s$1*n,c$1*n-s$1*i),t.lineTo(c$1*a+s$1*l,c$1*l-s$1*a),t.lineTo(c$1*r+s$1*c,c$1*c-s$1*r),t.closePath()}},symbolTimes={draw(t,e){const s=.6189*sqrt(e-min(e/6,1.7));t.moveTo(-s,-s),t.lineTo(s,s),t.moveTo(-s,s),t.lineTo(s,-s)}};const symbolsFill=[symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye],symbolsStroke=[symbolCircle,symbolPlus,symbolTimes,symbolTriangle2,symbolAsterisk,symbolSquare2,symbolDiamond2];function noop(){}function point$4(t,e,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+s)/6)}function Basis(t){this._context=t}function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}function curveBasisOpen(t){return new BasisOpen(t)}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$4(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(s,i):this._context.moveTo(s,i);break;case 3:this._point=4;default:point$4(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,s=t.length-1;if(s>0)for(var i,n=t[0],a=e[0],l=t[s]-n,r=e[s]-a,c=-1;++c<=s;)i=c/s,this._basis.point(this._beta*t[c]+(1-this._beta)*(n+i*l),this._beta*e[c]+(1-this._beta)*(a+i*r));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var curveBundle=function t(e){function s(t){return 1===e?new Basis(t):new Bundle(t,e)}return s.beta=function(e){return t(+e)},s}(.85);function point$3(t,e,s){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-s),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:point$3(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinal=function t(e){function s(t){return new Cardinal(t,e)}return s.tension=function(e){return t(+e)},s}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$3(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalClosed=function t(e){function s(t){return new CardinalClosed(t,e)}return s.tension=function(e){return t(+e)},s}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalOpen=function t(e){function s(t){return new CardinalOpen(t,e)}return s.tension=function(e){return t(+e)},s}(0);function point$2(t,e,s){var i=t._x1,n=t._y1,a=t._x2,l=t._y2;if(t._l01_a>1e-12){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,n=(n*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>1e-12){var B=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*B+t._x1*t._l23_2a-e*t._l12_2a)/g,l=(l*B+t._y1*t._l23_2a-s*t._l12_2a)/g}t._context.bezierCurveTo(i,n,a,l,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var s=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRom=function t(e){function s(t){return e?new CatmullRom(t,e):new Cardinal(t,0)}return s.alpha=function(e){return t(+e)},s}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var s=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$2(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomClosed=function t(e){function s(t){return e?new CatmullRomClosed(t,e):new CardinalClosed(t,0)}return s.alpha=function(e){return t(+e)},s}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var s=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomOpen=function t(e){function s(t){return e?new CatmullRomOpen(t,e):new CardinalOpen(t,0)}return s.alpha=function(e){return t(+e)},s}(.5);function LinearClosed(t){this._context=t}function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,s){var i=t._x1-t._x0,n=e-t._x1,a=(t._y1-t._y0)/(i||n<0&&-0),l=(s-t._y1)/(n||i<0&&-0),r=(a*n+l*i)/(i+n);return(sign(a)+sign(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(r))||0}function slope2(t,e){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-e)/2:e}function point$1(t,e,s){var i=t._x0,n=t._y0,a=t._x1,l=t._y1,r=(a-i)/3;t._context.bezierCurveTo(i+r,n+r*e,a-r,l-r*s,a,l)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,s,i=t.length-1,n=new Array(i),a=new Array(i),l=new Array(i);for(n[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<i-1;++e)n[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(n[i-1]=2,a[i-1]=7,l[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)s=n[e]/a[e-1],a[e]-=s,l[e]-=s*l[e-1];for(n[i-1]=l[i-1]/a[i-1],e=i-2;e>=0;--e)n[e]=(l[e]-n[e+1])/a[e];for(a[i-1]=(t[i]+n[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-n[e+1];return[n,a]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function Transform(t,e,s){this.k=t,this.x=e,this.y=s}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var s=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,s=slope3(this,t,e)),s);break;default:point$1(this,this._t0,s=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=s}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,s,i,n,a){this._context.bezierCurveTo(e,t,i,s,a,n)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===s)this._context.lineTo(t[1],e[1]);else for(var i=controlPoints(t),n=controlPoints(e),a=0,l=1;l<s;++a,++l)this._context.bezierCurveTo(i[0][a],n[0][a],i[1][a],n[1][a],t[l],e[l]);(this._line||0!==this._line&&1===s)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,e)}}this._x=t,this._y=e}},Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Transform.prototype;class DecidablesElement extends i$2{getComputedStyleValue(t){return getComputedStyle(this).getPropertyValue(t).trim()}firstUpdated(t){super.firstUpdated(t),select(this.renderRoot.host).classed("keyboard",!0).on("mousemove.keyboard touchstart.keyboard",t=>{select(t.currentTarget.renderRoot.host).classed("keyboard",!1).on("mousemove.keyboard touchstart.keyboard",null)}).on("keydown.keyboard",t=>{select(t.currentTarget.renderRoot.host).classed("keyboard",!0).on("keydown.keyboard mousemove.keyboard touchstart.keyboard",null)})}static get greys(){const t="#999999",e={white:"#ffffff"};return e.light75=interpolateRgb(t,"#ffffff")(.75),e.light50=interpolateRgb(t,"#ffffff")(.5),e.light25=interpolateRgb(t,"#ffffff")(.25),e.grey=t,e.dark25=interpolateRgb(t,"#000000")(.25),e.dark50=interpolateRgb(t,"#000000")(.5),e.dark75=interpolateRgb(t,"#000000")(.75),e.black="#000000",e}static get shadows(){return{elevations:[0,2,4,8,16],baselineColor:"#000000",baselineColorString:"0, 0, 0",inverseBaselineColor:"#FFFFFF",inverseBaselineColorString:"255, 255, 255",opacityUmbra:.2,opacityPenumbra:.14,opacityAmbient:.12,opacityBoost:.2,mapUmbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:3,b:1,s:-2},4:{x:0,y:2,b:4,s:-1},8:{x:0,y:5,b:5,s:-3},16:{x:0,y:8,b:10,s:-5}},mapPenumbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:2,b:2,s:0},4:{x:0,y:4,b:5,s:0},8:{x:0,y:8,b:10,s:1},16:{x:0,y:16,b:24,s:2}},mapAmbient:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:1,b:5,s:0},4:{x:0,y:1,b:10,s:0},8:{x:0,y:3,b:14,s:2},16:{x:0,y:6,b:30,s:5}}}}static cssBoxShadow(t,e=!1,s=!1){const i=this.shadows.opacityUmbra+this.shadows.opacityBoost,n=this.shadows.opacityPenumbra+this.shadows.opacityBoost,a=this.shadows.opacityAmbient+this.shadows.opacityBoost,l=s?`rgba(${this.shadows.inverseBaselineColorString}, ${i})`:`rgba(${this.shadows.baselineColorString}, ${i})`,r=s?`rgba(${this.shadows.inverseBaselineColorString}, ${n})`:`rgba(${this.shadows.baselineColorString}, ${n})`,c=s?`rgba(${this.shadows.inverseBaselineColorString}, ${a})`:`rgba(${this.shadows.baselineColorString}, ${a})`,B=this.shadows.mapUmbra[t],g=this.shadows.mapPenumbra[t],o=this.shadows.mapAmbient[t];return`${e?`${-B.y}px ${B.y/2}px ${B.b}px ${B.s}px`:`${B.y/2}px ${B.y}px ${B.b}px ${B.s}px`} ${l}, ${e?`${-g.y}px ${g.y/2}px ${g.b}px ${g.s}px`:`${g.y/2}px ${g.y}px ${g.b}px ${g.s}px`} ${r}, ${e?`${-o.y}px ${o.y/2}px ${o.b}px ${o.s}px`:`${o.y/2}px ${o.y}px ${o.b}px ${o.s}px`} ${c}`}static get svgFilters(){const t=DecidablesElement.shadows,e=t.elevations.map(e=>b$1`
        <filter id=${`shadow-${e}`} filterUnits="userSpaceOnUse" x="-100%" y="-100%" width="200%" height="200%">
          <feComponentTransfer in="SourceAlpha" result="solid">
            <feFuncA type="table" tableValues="0 1 1"/>
          </feComponentTransfer>
          <feOffset in="solid" result="offU" dx=${t.mapUmbra[e].y/2} dy=${t.mapUmbra[e].y} />
          <feOffset in="solid" result="offP" dx=${t.mapPenumbra[e].y/2} dy=${t.mapPenumbra[e].y} />
          <feOffset in="solid" result="offA" dx=${t.mapAmbient[e].y/2} dy=${t.mapAmbient[e].y} />
          ${0===t.mapUmbra[e].s?b$1``:b$1`<feMorphology in="offU" result="spreadU" operator=${t.mapUmbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapUmbra[e].s)} />`}
          ${0===t.mapPenumbra[e].s?b$1``:b$1`<feMorphology in="offP" result="spreadP" operator=${t.mapPenumbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapPenumbra[e].s)} />`}
          ${0===t.mapAmbient[e].s?b$1``:b$1`<feMorphology in="offA" result="spreadA" operator=${t.mapAmbient[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapAmbient[e].s)} />`}
          <feGaussianBlur in=${0===t.mapUmbra[e].s?"offU":"spreadU"} result="blurU" stdDeviation=${t.mapUmbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapPenumbra[e].s?"offP":"spreadP"} result="blurP" stdDeviation=${t.mapPenumbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapAmbient[e].s?"offA":"spreadA"} result="blurA" stdDeviation=${t.mapAmbient[e].b/2} />
          <feFlood in="SourceGraphic" result="opU" flood-color=${t.baselineColor} flood-opacity=${t.opacityUmbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opP" flood-color=${t.baselineColor} flood-opacity=${t.opacityPenumbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opA" flood-color=${t.baselineColor} flood-opacity=${t.opacityAmbient+t.opacityBoost} />
          <feComposite in="opU" in2="blurU" result="shU" operator="in" />
          <feComposite in="opP" in2="blurP" result="shP" operator="in" />
          <feComposite in="opA" in2="blurA" result="shA" operator="in" />
          <feMorphology in="solid" result="smaller" operator="erode" radius="1" />
          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />
          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />
          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />
          <feMerge>
            <feMergeNode in="finalU" />
            <feMergeNode in="finalP" />
            <feMergeNode in="finalA" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>`);return b$1`
      <defs class="filtersUser">
        ${e}
      </defs>
    `}static get styles(){return i$5`
      :host {
        ---shadow-0: var(--shadow-0, ${r$4(this.cssBoxShadow(0))});
        ---shadow-2: var(--shadow-2, ${r$4(this.cssBoxShadow(2))});
        ---shadow-4: var(--shadow-4, ${r$4(this.cssBoxShadow(4))});
        ---shadow-8: var(--shadow-8, ${r$4(this.cssBoxShadow(8))});

        ---color-background: var(--color-background, ${r$4(this.greys.white)});
        ---color-border: var(--color-border, ${r$4(this.greys.light75)});
        ---color-text: var(--color-text, ${r$4(this.greys.dark75)});
        ---color-text-inverse: var(--color-text-inverse, ${r$4(this.greys.white)});
        ---color-link: var(--color-link, ${r$4(this.greys.dark25)});
        ---color-element-background: var(--color-element-background, ${r$4(this.greys.light75)});
        ---color-element-disabled: var(--color-element-disabled, ${r$4(this.greys.light50)});
        ---color-element-enabled: var(--color-element-enabled, ${r$4(this.greys.dark25)});
        ---color-element-selected: var(--color-element-selected, ${r$4(this.greys.grey)});
        ---color-element-border: var(--color-element-border, ${r$4(this.greys.dark50)});
        ---color-element-emphasis: var(--color-element-emphasis, ${r$4(this.greys.dark75)});

        ---font-family-base: var(--font-family-base, "Source Sans", sans-serif);
        ---font-family-math: var(--font-family-math, "Source Serif", serif);

        ---border: var(--border, 1px solid var(---color-border));
        ---border-radius: var(--border-radius, 0.25rem);
        ---transition-duration: var(--transition-duration, 500ms);

        font-family: var(---font-family-base);
        font-weight: normal;
      }

      :host,
      :host *,
      :host *::before,
      :host *::after {
        box-sizing: border-box;
      }

      .math-greek {
        font-family: var(---font-family-math);
        font-style: normal;
      }

      .math-num {
        font-family: var(---font-family-base);
        font-style: normal;
      }

      .math-var {
        font-family: var(---font-family-math);
        font-style: italic;
      }

      .defs {
        display: block;

        width: 0;
        height: 0;
      }
    `}}class DecidablesButton extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$5`
        :host {
          ---decidables-button-background-color-disabled: var(--decidables-button-background-color, var(---color-element-disabled));
          ---decidables-button-background-color-enabled: var(--decidables-button-background-color, var(---color-element-enabled));

          margin: 0.25rem;
        }

        button {
          width: 100%;
          height: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);

          border: 0;
          border-radius: var(---border-radius);
          outline: none;
        }

        button:disabled {
          background-color: var(---decidables-button-background-color-disabled);
          outline: none;
          box-shadow: none;
        }

        button:enabled {
          cursor: pointer;

          background-color: var(---decidables-button-background-color-enabled);
          outline: none;
          box-shadow: var(---shadow-2);
        }

        button:enabled:hover {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        button:enabled:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(.keyboard) button:enabled:focus {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) button:enabled:focus:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$3`
      <button ?disabled=${this.disabled}>
        <slot></slot>
      </button>
    `}}customElements.define("decidables-button",DecidablesButton);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const o$2=t=>t??E$1;class DecidablesSlider extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},scale:{attribute:"scale",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0},nonlinear:{attribute:!1,type:Boolean,reflect:!1}}}constructor(){super(),this.disabled=!1,this.scale=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0,this.nonlinear=!1,this.rangeMax=void 0,this.rangeMin=void 0,this.rangeStep=void 0,this.rangeValue=void 0,this.toRange=void 0,this.fromRange=void 0}nonlinearRange(t,e,s){this.nonlinear=t,this.toRange=t?e:void 0,this.fromRange=t?s:void 0}rangeChanged(t){this.value=this.nonlinear?this.fromRange(t.target.value):t.target.value,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value},bubbles:!0}))}rangeInputted(t){this.value=this.nonlinear?this.fromRange(t.target.value):t.target.value}spinnerInputted(t){this.value=t.target.value}willUpdate(){this.rangeMax=void 0===this.max?void 0:this.nonlinear?this.toRange(this.max):this.max,this.rangeMin=void 0===this.min?void 0:this.nonlinear?this.toRange(this.min):this.min,this.rangeStep=void 0===this.step?void 0:this.nonlinear?"any":this.step,this.rangeValue=void 0===this.value?void 0:this.nonlinear?this.toRange(this.value):this.value}static get styles(){return[super.styles,i$5`
        :host {
          ---decidables-slider-background-color: var(--decidables-slider-background-color, var(---color-element-disabled));
          ---decidables-slider-color: var(--decidables-slider-color, var(---color-element-enabled));
          ---decidables-spinner-background-color: var(--decidables-slider-background-color, none);

          ---shadow-2-rotate: var(--shadow-2-rotate, ${r$4(this.cssBoxShadow(2,!0,!1))});
          ---shadow-4-rotate: var(--shadow-4-rotate, ${r$4(this.cssBoxShadow(4,!0,!1))});
          ---shadow-8-rotate: var(--shadow-8-rotate, ${r$4(this.cssBoxShadow(8,!0,!1))});

          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        label {
          margin: 0.25rem 0.25rem 0;
        }

        .range {
          position: relative;
          display: flex;

          flex-direction: row;

          width: 3.5rem;
          height: 4.75rem;
          margin: 0 0.25rem 0.25rem;
        }

        decidables-spinner {
          --decidables-spinner-input-width: 3.5rem;

          margin: 0 0.25rem 0.25rem;

          background: var(---decidables-spinner-background-color);
        }

        /* Adapted from http://danielstern.ca/range.css/#/ */
        /* Overall */
        input[type=range] {
          width: 4.75rem;
          height: 3.5rem;
          padding: 0;
          margin: 0;

          background-color: unset;

          transform: rotate(-90deg);
          transform-origin: 2.375rem 2.375rem;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:enabled {
          cursor: ns-resize;
        }

        input[type=range]:focus {
          outline: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-tooltip {
          display: none;
        }

        /* Track */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-runnable-track {
          width: 100%;
          height: 4px;

          background: var(---decidables-slider-background-color);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        input[type=range]:focus::-webkit-slider-runnable-track {
          background: var(---decidables-slider-background-color);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-track {
          width: 100%;
          height: 4px;

          background: var(---decidables-slider-background-color);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-track {
          width: 100%;
          height: 4px;

          color: transparent;

          background: transparent;
          border-color: transparent;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-lower {
          background: #cccccc;
          /* background: var(---decidables-slider-background-color); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-upper {
          background: #cccccc;
          /* background: var(---decidables-slider-background-color); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-lower {
          background: var(---decidables-slider-background-color);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-upper {
          background: var(---decidables-slider-background-color);
        }

        /* Thumb */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-thumb {
          width: 10px;
          height: 20px;
          margin-top: -8px;

          border: 0;
          border-radius: 4px;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:disabled::-webkit-slider-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        input[type=range]:enabled::-webkit-slider-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        input[type=range]:enabled:hover::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        input[type=range]:enabled:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:focus:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-thumb {
          width: 10px;
          height: 20px;

          border: 0;
          border-radius: 4px;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-moz-range-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-moz-range-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-thumb {
          width: 10px;
          height: 20px;
          margin-top: 0;

          background: #999999;
          /* background: var(---color-element-enabled); */
          border: 0;
          border-radius: 4px;
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-ms-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-ms-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        :host(.keyboard) input[type=range]:enabled:focus::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        datalist {
          position: absolute;
          left: 2rem;
          z-index: -1;
          display: flex;

          flex-direction: column;

          align-items: flex-start;
          justify-content: space-between;

          height: 4.75rem;

          font-size: 0.75rem;
        }

        option {
          padding: 0;

          line-height: 0.8;
          min-block-size: 0;
        }

        option::before {
          content: "â ";
        }
      `]}render(){return x$3`
      <label for="slider">
        <slot></slot>
      </label>
      <div class="range">
        <input ?disabled=${this.disabled} type="range" id="slider" min=${o$2(this.rangeMin)} max=${o$2(this.rangeMax)} step=${o$2(this.rangeStep)} .value=${this.rangeValue} @change=${this.rangeChanged.bind(this)} @input=${this.rangeInputted.bind(this)}>
        ${this.scale?x$3`
            <datalist id="ticks">
              <option value=${o$2(this.rangeMax)} label=${o$2(this.max)}></option>
              <option value=${o$2(this.rangeMin)} label=${o$2(this.min)}></option>
            </datalist>
          `:x$3``}
      </div>
      <decidables-spinner ?disabled=${this.disabled} min=${o$2(this.min)} max=${o$2(this.max)} step=${o$2(this.step)} .value=${this.value} @input=${this.spinnerInputted.bind(this)}></decidables-spinner>
    `}}customElements.define("decidables-slider",DecidablesSlider);class DecidablesSpinner extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}constructor(){super(),this.disabled=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0}inputted(t){this.value=t.target.value}static get styles(){return[super.styles,i$5`
        :host {
          ---decidables-spinner-font-size: var(--decidables-spinner-font-size, 1.125rem);
          ---decidables-spinner-input-width: var(--decidables-spinner-input-width, 4rem);
          ---decidables-spinner-prefix: var(--decidables-spinner-prefix, "");

          ---decidables-spinner-postfix: var(--decidables-spinner-postfix, "");
          ---decidables-spinner-postfix-padding: var(--decidables-spinner-postfix-padding, 0);

          display: block;
        }

        label {
          position: relative;
          display: flex;

          flex-direction: column;

          align-items: center;

          margin: 0;

          font-size: 0.75rem;
        }

        label::before {
          position: absolute;
          bottom: 1px;
          left: calc(50% - var(---decidables-spinner-input-width) / 2 + 0.25rem);

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-prefix);
        }

        label::after {
          position: absolute;
          right: 0.25rem;
          bottom: 1px;

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-postfix);
        }

        input[type=number] {
          width: var(---decidables-spinner-input-width);
          padding-right: var(---decidables-spinner-postfix-padding);

          font-family: var(---font-family-base);
          font-size: var(---decidables-spinner-font-size);
          color: inherit;
          text-align: right;

          background: none;
          border: 0;
          border-radius: 0;
          outline: none;
          box-shadow: var(---shadow-2);

          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }

        input[type=number]:hover {
          box-shadow: var(---shadow-4);
        }

        input[type=number]:focus,
        input[type=number]:active {
          box-shadow: var(---shadow-8);
        }

        input[type=number]:disabled {
          color: var(---color-text);

          border: 0;
          box-shadow: none;

          /* HACK: Use correct text color in Safari */
          -webkit-opacity: 1;
          /* HACK: Hide spinners in disabled input for Firefox and Safari */
          -moz-appearance: textfield; /* stylelint-disable-line property-no-vendor-prefix */
          /* HACK: Use correct text color in Safari */
          -webkit-text-fill-color: var(---color-text);
        }

        /* HACK: Hide spinners in disabled input for Firefox and Safari */
        input[type=number]:disabled::-webkit-outer-spin-button,
        input[type=number]:disabled::-webkit-inner-spin-button {
          margin: 0;
          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }
      `]}render(){return x$3`
      <label>
        <slot></slot>
        <input ?disabled=${this.disabled} type="number" min=${o$2(this.min)} max=${o$2(this.max)} step=${o$2(this.step)} .value=${this.value} @input=${this.inputted.bind(this)}>
      </label>
    `}}customElements.define("decidables-spinner",DecidablesSpinner);class DecidablesSwitch extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked},bubbles:!0}))}static get styles(){return[super.styles,i$5`
        :host {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        /* Adapted from https://codepen.io/guuslieben/pen/YyPRVP */
        input[type=checkbox] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=checkbox] + label {
          order: 1;

          margin: 0 0.25rem 0.25rem;

          font-weight: 400;
        }

        input[type=checkbox] + label + label {
          position: relative;

          min-width: 24px;
          padding: 0 0 36px;
          margin: 0.25rem 0.25rem 0;

          font-weight: 400;

          outline: none;
        }

        input[type=checkbox] + label + label::before,
        input[type=checkbox] + label + label::after {
          position: absolute;

          left: 50%;

          margin: 0;

          content: "";

          outline: 0;

          transition: all var(---transition-duration) ease;
          transform: translate(-50%, 0);
        }

        input[type=checkbox] + label + label::before {
          bottom: 1px;

          width: 8px;
          height: 34px;

          background-color: var(---color-element-disabled);
          border-radius: 4px;
        }

        input[type=checkbox] + label + label::after {
          bottom: 0;

          width: 18px;
          height: 18px;

          background-color: var(---color-element-enabled);
          border-radius: 50%;
          box-shadow: var(---shadow-2);
        }

        input[type=checkbox]:checked + label + label::after {
          transform: translate(-50%, -100%);
        }

        input[type=checkbox]:disabled + label + label::after {
          background-color: var(---color-element-disabled);
          box-shadow: none;
        }

        input[type=checkbox]:enabled + label,
        input[type=checkbox]:enabled + label + label {
          cursor: pointer;
        }

        input[type=checkbox]:enabled + label:hover + label::after,
        input[type=checkbox]:enabled + label + label:hover::after {
          box-shadow: var(---shadow-4);
        }

        input[type=checkbox]:enabled + label:active + label::after,
        input[type=checkbox]:enabled + label + label:active::after {
          box-shadow: var(---shadow-8);
        }

        /* stylelint-disable-next-line selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label::after {
          box-shadow: var(---shadow-4);
        }

        /* stylelint-disable selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label:active::after,
        :host(.keyboard) input[type=checkbox]:enabled:focus:active + label + label::after {
          box-shadow: var(---shadow-8);
        }
        /* stylelint-enable selector-max-compound-selectors */
        `]}render(){return x$3`
      <input type="checkbox" id="switch" ?checked=${this.checked} ?disabled=${this.disabled} @change=${this.changed.bind(this)}>
      <label for="switch">
        <slot name="off-label"></slot>
      </label>
      <label for="switch">
        <slot></slot>
      </label>
    `}}customElements.define("decidables-switch",DecidablesSwitch);class DecidablesToggle extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$5`
        fieldset {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;

          margin: 0.25rem;

          border: 0;
        }

        legend {
          text-align: center;
        }
      `]}render(){return x$3`
      <fieldset ?disabled=${this.disabled}>
        <legend><slot name="label"></slot></legend>
        <slot></slot>
      </fieldset>
    `}}customElements.define("decidables-toggle",DecidablesToggle);class DecidablesToggleOption extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},name:{attribute:"name",type:String,reflect:!0},value:{attribute:"value",type:String,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1,this.name=void 0,this.value=void 0}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked,value:this.value},bubbles:!0}))}static get styles(){return[super.styles,i$5`
        :host {
          display: flex;
        }

        input[type=radio] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=radio] + label {
          width: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);
          text-align: center;

          cursor: pointer;

          background-color: var(---color-element-enabled);
          border: 0;
          border-radius: 0;
          outline: none;

          box-shadow: var(---shadow-2);
        }

        input[type=radio]:checked + label {
          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-2);
        }

        input[type=radio] + label:hover {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        input[type=radio] + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(:first-of-type) input[type=radio] + label {
          border-top-left-radius: 0.25rem;
          border-top-right-radius: 0.25rem;
        }

        :host(:last-of-type) input[type=radio] + label {
          border-bottom-right-radius: 0.25rem;
          border-bottom-left-radius: 0.25rem;
        }

        :host(.keyboard) input[type=radio]:focus + label {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus:checked + label {
          z-index: 1;

          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$3`
      <input type="radio" id="toggle-option" name=${this.name} value=${this.value} .checked=${this.checked} @change=${this.changed.bind(this)}>
      <label for="toggle-option">
        <slot></slot>
      </label>
    `}}customElements.define("decidables-toggle-option",DecidablesToggleOption);const DecidablesConverterArray={fromAttribute:t=>t.split(/\s+/).map(t=>Number.parseFloat(t)),toAttribute:t=>t.length?t.map(t=>t.toFixed(3)).join(" "):null};function DecidablesMixinResizeable(t){return class extends t{static get properties(){return{width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.width=NaN,this.height=NaN,this.rem=NaN}getDimensions(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(this.getDimensions.bind(this)),this.resizeObserver.observe(this)}disconnectedCallback(){this.resizeObserver.unobserve(this),super.disconnectedCallback()}}}var data={colors:{x:"#e41a1c",a:"#ff7f00",l:"#ffff33",v:"#f781bf",p:"#377eb8",g:"#4daf4a",w:"#984ea3",u:"#a65628",chosen:"#999999",better:"#4545d0",worse:"#f032e6",even:"#10dbc9",correct:"#ffffff",error:"#000000",nr:"#cccccc"}},colors=data.colors;class ProspectableElement extends DecidablesElement{static get properties(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}constructor(){super(),this.interactive=!1}static get colors(){return colors}static get lights(){return Object.keys(ProspectableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(ProspectableElement.colors[e],"#ffffff")(.5),t),{})}static get darks(){return Object.keys(ProspectableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(ProspectableElement.colors[e],"#000000")(.5),t),{})}static get styles(){return[super.styles,i$5`
        :host {
          ---color-x: var(--color-x, ${r$4(this.colors.x)});
          ---color-a: var(--color-a, ${r$4(this.colors.a)});
          ---color-l: var(--color-l, ${r$4(this.colors.l)});
          ---color-v: var(--color-v, ${r$4(this.colors.v)});
          ---color-p: var(--color-p, ${r$4(this.colors.p)});
          ---color-g: var(--color-g, ${r$4(this.colors.g)});
          ---color-w: var(--color-w, ${r$4(this.colors.w)});
          ---color-u: var(--color-u, ${r$4(this.colors.u)});
          ---color-chosen: var(--color-chosen, ${r$4(this.colors.chosen)});
          ---color-better: var(--color-better, ${r$4(this.colors.better)});
          ---color-worse: var(--color-worse, ${r$4(this.colors.worse)});
          ---color-even: var(--color-even, ${r$4(this.colors.even)});
          ---color-correct: var(--color-correct, ${r$4(this.colors.correct)});
          ---color-error: var(--color-error, ${r$4(this.colors.error)});
          ---color-nr: var(--color-nr, ${r$4(this.colors.nr)});

          ---color-x-light: var(--color-x-light, ${r$4(this.lights.x)});
          ---color-a-light: var(--color-a-light, ${r$4(this.lights.a)});
          ---color-l-light: var(--color-l-light, ${r$4(this.lights.l)});
          ---color-v-light: var(--color-v-light, ${r$4(this.lights.v)});
          ---color-p-light: var(--color-p-light, ${r$4(this.lights.p)});
          ---color-g-light: var(--color-g-light, ${r$4(this.lights.g)});
          ---color-w-light: var(--color-w-light, ${r$4(this.lights.w)});
          ---color-u-light: var(--color-u-light, ${r$4(this.lights.u)});
          ---color-chosen-light: var(--color-chosen-light, ${r$4(this.lights.chosen)});
          ---color-better-light: var(--color-better-light, ${r$4(this.lights.better)});
          ---color-worse-light: var(--color-worse-light, ${r$4(this.lights.worse)});
          ---color-even-light: var(--color-even-light, ${r$4(this.lights.even)});
          ---color-correct-light: var(--color-correct-light, ${r$4(this.lights.correct)});
          ---color-error-light: var(--color-error-light, ${r$4(this.lights.error)});
          ---color-nr-light: var(--color-nr-light, ${r$4(this.lights.nr)});

          ---color-x-dark: var(--color-x-dark, ${r$4(this.darks.x)});
          ---color-a-dark: var(--color-a-dark, ${r$4(this.darks.a)});
          ---color-l-dark: var(--color-l-dark, ${r$4(this.darks.l)});
          ---color-v-dark: var(--color-v-dark, ${r$4(this.darks.v)});
          ---color-p-dark: var(--color-p-dark, ${r$4(this.darks.p)});
          ---color-g-dark: var(--color-g-dark, ${r$4(this.darks.g)});
          ---color-w-dark: var(--color-w-dark, ${r$4(this.darks.w)});
          ---color-u-dark: var(--color-u-dark, ${r$4(this.darks.u)});
          ---color-chosen-dark: var(--color-chosen-dark, ${r$4(this.darks.chosen)});
          ---color-better-dark: var(--color-better-dark, ${r$4(this.darks.better)});
          ---color-worse-dark: var(--color-worse-dark, ${r$4(this.darks.worse)});
          ---color-even-dark: var(--color-even-dark, ${r$4(this.darks.even)});
          ---color-correct-dark: var(--color-correct-dark, ${r$4(this.darks.correct)});
          ---color-error-dark: var(--color-error-dark, ${r$4(this.darks.error)});
          ---color-nr-dark: var(--color-nr-dark, ${r$4(this.darks.nr)});
        }
      `]}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t={CHILD:2},e=t=>(...e)=>({_$litDirective$:t,values:e});let i$1=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,s){this._$Ct=t,this._$AM=e,this._$Ci=s}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f$1=t=>void 0===t.strings,s=(t,e)=>{const i=t._$AN;if(void 0===i)return!1;for(const t of i)t._$AO?.(e,!1),s(t,e);return!0},o$1=t=>{let e,s;do{if(void 0===(e=t._$AM))break;s=e._$AN,s.delete(t),t=e}while(0===s?.size)},r$1=t=>{for(let e;e=t._$AM;t=e){let s=e._$AN;if(void 0===s)e._$AN=s=new Set;else if(s.has(t))break;s.add(t),c(e)}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function h(t){void 0!==this._$AN?(o$1(this),this._$AM=t,r$1(this)):this._$AM=t}function n$1(t,e=!1,i=0){const n=this._$AH,a=this._$AN;if(void 0!==a&&0!==a.size)if(e)if(Array.isArray(n))for(let t=i;t<n.length;t++)s(n[t],!1),o$1(n[t]);else null!=n&&(s(n,!1),o$1(n));else s(this,t)}const c=e=>{e.type==t.CHILD&&(e._$AP??=n$1,e._$AQ??=h)};class f extends i$1{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,s){super._$AT(t,e,s),r$1(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(s(this,t),o$1(this))}setValue(t){if(f$1(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const i=new WeakMap;let o=0;const r=new Map,n=new WeakSet,a=()=>new Promise(t=>requestAnimationFrame(t)),d=[{transform:"translateX(-100%) scale(0)",opacity:0}],v=[{opacity:0},{opacity:1}],g=(t,e)=>{const s=t-e;return 0===s?void 0:s},w=(t,e)=>{const s=t/e;return 1===s?void 0:s},N={left:(t,e)=>{const s=g(t,e);return{value:s,transform:null==s||isNaN(s)?void 0:`translateX(${s}px)`}},top:(t,e)=>{const s=g(t,e);return{value:s,transform:null==s||isNaN(s)?void 0:`translateY(${s}px)`}},width:(t,e)=>{let s;0===e&&(e=1,s={width:"1px"});const i=w(t,e);return{value:i,overrideFrom:s,transform:null==i||isNaN(i)?void 0:`scaleX(${i})`}},height:(t,e)=>{let s;0===e&&(e=1,s={height:"1px"});const i=w(t,e);return{value:i,overrideFrom:s,transform:null==i||isNaN(i)?void 0:`scaleY(${i})`}}},A={duration:333,easing:"ease-in-out"},b=["left","top","width","height","opacity","color","background"],j=new WeakMap;let x$1=class extends f{constructor(e){if(super(e),this.t=!1,this.i=null,this.o=null,this.h=!0,this.shouldLog=!1,e.type===t.CHILD)throw Error("The `animate` directive must be used in attribute position.");this.createFinished()}createFinished(){this.resolveFinished?.(),this.finished=new Promise(t=>{this.l=t})}async resolveFinished(){this.l?.(),this.l=void 0}render(t){return E$1}getController(){return i.get(this.u)}isDisabled(){return this.options.disabled||this.getController()?.disabled}update(t,[e]){const s=void 0===this.u;return s&&(this.u=t.options?.host,this.u.addController(this),this.u.updateComplete.then(t=>this.t=!0),this.element=t.element,j.set(this.element,this)),this.optionsOrCallback=e,(s||"function"!=typeof e)&&this.p(e),this.render(e)}p(t){t=t??{};const e=this.getController();void 0!==e&&((t={...e.defaultOptions,...t}).keyframeOptions={...e.defaultOptions.keyframeOptions,...t.keyframeOptions}),t.properties??=b,this.options=t}m(){const t={},e=this.element.getBoundingClientRect(),s=getComputedStyle(this.element);return this.options.properties.forEach(i=>{const n=e[i]??(N[i]?void 0:s[i]),a=Number(n);t[i]=isNaN(a)?n+"":a}),t}v(){let t,e=!0;return this.options.guard&&(t=this.options.guard(),e=((t,e)=>{if(Array.isArray(t)){if(Array.isArray(e)&&e.length===t.length&&t.every((t,s)=>t===e[s]))return!1}else if(e===t)return!1;return!0})(t,this._)),this.h=this.t&&!this.isDisabled()&&!this.isAnimating()&&e&&this.element.isConnected,this.h&&(this._=Array.isArray(t)?Array.from(t):t),this.h}hostUpdate(){"function"==typeof this.optionsOrCallback&&this.p(this.optionsOrCallback()),this.v()&&(this.A=this.m(),this.i=this.i??this.element.parentNode,this.o=this.element.nextSibling)}async hostUpdated(){if(!this.h||!this.element.isConnected||this.options.skipInitial&&!this.isHostRendered)return;let t;this.prepare(),await a;const e=this.O(),s=this.j(this.options.keyframeOptions,e),i=this.m();if(void 0!==this.A){const{from:s,to:n}=this.N(this.A,i,e);this.log("measured",[this.A,i,s,n]),t=this.calculateKeyframes(s,n)}else{const s=r.get(this.options.inId);if(s){r.delete(this.options.inId);const{from:n,to:a}=this.N(s,i,e);t=this.calculateKeyframes(n,a),t=this.options.in?[{...this.options.in[0],...t[0]},...this.options.in.slice(1),t[1]]:t,o++,t.forEach(t=>t.zIndex=o)}else this.options.in&&(t=[...this.options.in,{}])}this.animate(t,s)}resetStyles(){void 0!==this.P&&(this.element.setAttribute("style",this.P??""),this.P=void 0)}commitStyles(){this.P=this.element.getAttribute("style"),this.webAnimation?.commitStyles(),this.webAnimation?.cancel()}reconnected(){}async disconnected(){if(!this.h)return;if(void 0!==this.options.id&&r.set(this.options.id,this.A),void 0===this.options.out)return;if(this.prepare(),await a(),this.i?.isConnected){const t=this.o&&this.o.parentNode===this.i?this.o:null;if(this.i.insertBefore(this.element,t),this.options.stabilizeOut){const t=this.m();this.log("stabilizing out");const e=this.A.left-t.left,s=this.A.top-t.top;!("static"===getComputedStyle(this.element).position)||0===e&&0===s||(this.element.style.position="relative"),0!==e&&(this.element.style.left=e+"px"),0!==s&&(this.element.style.top=s+"px")}}const t=this.j(this.options.keyframeOptions);await this.animate(this.options.out,t),this.element.remove()}prepare(){this.createFinished()}start(){this.options.onStart?.(this)}didFinish(t){t&&this.options.onComplete?.(this),this.A=void 0,this.animatingProperties=void 0,this.frames=void 0,this.resolveFinished()}O(){const t=[];for(let e=this.element.parentNode;e;e=e?.parentNode){const s=j.get(e);s&&!s.isDisabled()&&s&&t.push(s)}return t}get isHostRendered(){const t=n.has(this.u);return t||this.u.updateComplete.then(()=>{n.add(this.u)}),t}j(t,e=this.O()){const s={...A};return e.forEach(t=>Object.assign(s,t.options.keyframeOptions)),Object.assign(s,t),s}N(t,e,s){t={...t},e={...e};const i=s.map(t=>t.animatingProperties).filter(t=>void 0!==t);let n=1,a=1;return i.length>0&&(i.forEach(t=>{t.width&&(n/=t.width),t.height&&(a/=t.height)}),void 0!==t.left&&void 0!==e.left&&(t.left=n*t.left,e.left=n*e.left),void 0!==t.top&&void 0!==e.top&&(t.top=a*t.top,e.top=a*e.top)),{from:t,to:e}}calculateKeyframes(t,e,s=!1){const i={},n={};let a=!1;const l={};for(const s in e){const r=t[s],c=e[s];if(s in N){const t=N[s];if(void 0===r||void 0===c)continue;const e=t(r,c);void 0!==e.transform&&(l[s]=e.value,a=!0,i.transform=`${i.transform??""} ${e.transform}`,void 0!==e.overrideFrom&&Object.assign(i,e.overrideFrom))}else r!==c&&void 0!==r&&void 0!==c&&(a=!0,i[s]=r,n[s]=c)}return i.transformOrigin=n.transformOrigin=s?"center center":"top left",this.animatingProperties=l,a?[i,n]:void 0}async animate(t,e=this.options.keyframeOptions){this.start(),this.frames=t;let s=!1;if(!this.isAnimating()&&!this.isDisabled()&&(this.options.onFrames&&(this.frames=t=this.options.onFrames(this),this.log("modified frames",t)),void 0!==t)){this.log("animate",[t,e]),s=!0,this.webAnimation=this.element.animate(t,e);const i=this.getController();i?.add(this);try{await this.webAnimation.finished}catch(t){}i?.remove(this)}return this.didFinish(s),s}isAnimating(){return"running"===this.webAnimation?.playState||this.webAnimation?.pending}log(t,e){this.shouldLog&&!this.isDisabled()&&console.log(t,this.options.id,e)}};const F=e(x$1);class CPTMath{static a={DEFAULT:.5,MIN:0,MAX:1,STEP:.01,JUMP:.05};static l={DEFAULT:2,MIN:0,MAX:10,STEP:.01,JUMP:.05};static g={DEFAULT:.5,MIN:0,MAX:1,STEP:.01,JUMP:.05};static xal2v(t,e,s){return t>=0?t**e:-s*(-t)**e}static xlv2a(t,e,s){return t>=0?Math.log(s)/Math.log(t):(Math.log(-s)-Math.log(e))/Math.log(-t)}static xav2l(t,e,s){return t>=0?NaN:-s/(-t)**e}static pg2w(t,e){return t**e/(t**e+(1-t)**e)**(1/e)}static vw2u(t,e){if("number"==typeof t&&"number"==typeof e)return t*e;if(t instanceof Array&&e instanceof Array&&t.length>0&&t.length===e.length){let s=0;for(let i=0;i<t.length;i+=1)s+=t[i]*e[i];return s}return NaN}}class CPTEquation extends ProspectableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}constructor(){super(),this.numeric=!1}static get styles(){return[super.styles,i$5`
        :host {
          display: block;

          margin: 1rem;
        }

        /* Containing <div> */
        .holder {
          display: flex;

          flex-direction: row;

          justify-content: left;
        }

        /* Overall <table> */
        .equation {
          text-align: center;
          white-space: nowrap;

          border-collapse: collapse;

          border: 0;
        }

        /* Modifies <td> */
        .underline {
          border-bottom: 1px solid var(---color-text);
        }

        /* Basic <span> and <var> w/modifiers */
        span,
        var {
          padding: 0 0.25rem;

          font-style: normal;
        }

        var {
          border-radius: var(---border-radius);
        }

        .tight {
          padding: 0;
        }

        .paren {
          font-size: 150%;
        }

        .bracket {
          font-size: 175%;
        }

        .brace {
          font-size: 200%;
        }

        .addend {
          position: relative;
          display: inline-block;
        }

        .comparison {
          position: relative;
          display: inline-block;

          font-size: 125%;
          font-weight: 600;
        }

        .function {
          display: inline-block;

          border-radius: var(---border-radius);
        }

        :host([numeric]) .function {
          padding: 0.25rem;
        }

        .exp {
          display: inline-block;

          font-size: 0.75rem;
        }

        .subscript {
          display: inline-block;

          font-size: 66.667%;
        }

        .summation {
          display: flex;

          flex-direction: column;

          line-height: 0.8;
        }

        .sigma {
          display: inline-block;

          font-size: 200%;
        }

        /* Input wrapping <label> */
        decidables-spinner {
          --decidables-spinner-input-width: 4rem;

          display: inline-block;

          padding: 0.125rem 0.375rem 0.375rem;

          line-height: 1.5;
          vertical-align: middle;

          border-radius: var(---border-radius);
        }

        .n {
          --decidables-spinner-input-width: 2rem;
        }

        .left {
          text-align: left;
        }

        .right {
          text-align: right;
        }

        .bottom {
          vertical-align: bottom;
        }

        .top {
          vertical-align: top;
        }

        /* Color scheme */
        /* .win {
          background: var(---color-better);
        }

        .loss {
          background: var(---color-worse);
        }

        .sure {
          background: var(---color-even);
        } */

        .x {
          background: var(---color-x-light);
        }

        .a {
          background: var(---color-a-light);
        }

        .l {
          background: var(---color-l-light);
        }

        .v {
          background: var(---color-v-light);
        }

        .p {
          background: var(---color-p-light);
        }

        .g {
          background: var(---color-g-light);
        }

        .w {
          background: var(---color-w-light);
        }

        .u {
          background: var(---color-u-light);
        }
      `]}}class CPTCalculation extends CPTEquation{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}constructor(){super(),this.numeric=!1,this.xl=0,this.xw=100,this.pw=.75,this.xs=50,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.alignState()}alignState(){this.vw=CPTMath.xal2v(this.xw,this.a,this.l),this.vl=CPTMath.xal2v(this.xl,this.a,this.l),this.ww=CPTMath.pg2w(this.pw,this.g),this.wl=1-this.ww,this.vs=CPTMath.xal2v(this.xs,this.a,this.l),this.ug=CPTMath.vw2u([this.vw,this.vl],[this.ww,this.wl]),this.us=this.vs,this.uDiff=this.ug-this.us}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-calculation-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,a:this.a,l:this.l,g:this.g},bubbles:!0}))}xwInput(t){this.xw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}pwInput(t){this.pw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}xsInput(t){this.xs=parseFloat(t.target.value),this.alignState(),this.sendEvent()}static get styles(){return[super.styles,i$5`
        /* :host {
          display: inline-block;
        } */

        var {
          border-radius: var(---border-radius);
        }

        decidables-spinner {
          border-radius: var(---border-radius);
        }
      `]}willUpdate(){this.alignState()}render(){let t,e,s,i,n,a,l,r,c,B,g,o;this.numeric?(t=x$3`<decidables-spinner class="x xw"
          ?disabled=${!this.interactive}
          .value=${this.xw}
          @input=${this.xwInput.bind(this)}
        >
          <var class="math-var">x<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,e=x$3`<decidables-spinner class="x xl"
          disabled
          .value=${this.xl}
        >
          <var class="math-var">x<sub class="subscript loss">loss</sub></var>
        </decidables-spinner>`,s=x$3`<decidables-spinner class="p pw"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".01"
          .value=${+this.pw.toFixed(2)}
          @input=${this.pwInput.bind(this)}
        >
          <var class="math-var">p<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,i=x$3`<decidables-spinner class="x xs"
          ?disabled=${!this.interactive}
          .value=${this.xs}
          @input=${this.xsInput.bind(this)}
        >
          <var class="math-var">x<sub class="subscript sure">sure</sub></var>
        </decidables-spinner>`,n=x$3`<decidables-spinner class="v vw"
          disabled
          .value=${+this.vw.toFixed(1)}
        >
          <var class="math-var">v<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,a=x$3`<decidables-spinner class="v vl"
          disabled
          .value=${+this.vl.toFixed(1)}
        >
          <var class="math-var">v<sub class="subscript loss">loss</sub></var>
        </decidables-spinner>`,l=x$3`<decidables-spinner class="w ww"
          disabled
          .value=${+this.ww.toFixed(2)}
        >
          <var class="math-var">w<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,r=x$3`<decidables-spinner class="w wl"
          disabled
          .value=${+this.wl.toFixed(2)}
        >
          <var class="math-var">w<sub class="subscript loss">loss</sub></var>
        </decidables-spinner>`,c=x$3`<decidables-spinner class="v vs"
          disabled
          .value=${+this.vs.toFixed(1)}
        >
          <var class="math-var">v<sub class="subscript sure">sure</sub></var>
        </decidables-spinner>`,B=x$3`<decidables-spinner class="u ug"
          disabled
          .value=${+this.ug.toFixed(1)}
        >
          <var class="math-var">U<sub class="subscript gamble">gamble</sub></var>
        </decidables-spinner>`,g=x$3`<decidables-spinner class="u us"
          disabled
          .value=${+this.us.toFixed(1)}
        >
          <var class="math-var">U<sub class="subscript sure">sure</sub></var>
        </decidables-spinner>`,o=x$3`${this.uDiff>0?x$3`<span class="comparison" ${F({in:v})}>&gt;</span>`:this.uDiff<0?x$3`<span class="comparison" ${F({in:v})}>&lt;</span>`:x$3`<span class="comparison" ${F({in:v})}>=</span>`}`):(t=x$3`<var class="math-var x xw">x<sub class="subscript win">win</sub></var>`,e=x$3`<var class="math-var x xl">x<sub class="subscript loss">loss</sub></var>`,s=x$3`<var class="math-var p pw">p<sub class="subscript win">win</sub></var>`,i=x$3`<var class="math-var x xs">x<sub class="subscript sure">sure</sub></var>`,n=x$3`<var class="math-var v vw">v<sub class="subscript win">win</sub></var>`,a=x$3`<var class="math-var v vl">v<sub class="subscript loss">loss</sub></var>`,l=x$3`<var class="math-var w ww">w<sub class="subscript win">win</sub></var>`,r=x$3`<var class="math-var w wl">w<sub class="subscript loss">loss</sub></var>`,c=x$3`<var class="math-var v vs">v<sub class="subscript sure">sure</sub></var>`,B=x$3`<var class="math-var u ug">U<sub class="subscript gamble">gamble</sub></var>`,g=x$3`<var class="math-var u us">U<sub class="subscript sure">sure</sub></var>`,o=x$3`<span class="comparison">â</span>`);const Q=x$3`
      <tr>
        <td class="right">
          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>${t}<span class="paren tight">)</span></span>&nbsp;<span class="function w"><var class="math-var w tight">w</var><span class="paren tight">(</span>${s}<span class="paren tight">)</span></span><span class="plus">+</span><span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>${e}<span class="paren tight">)</span></span>&nbsp;<span class="bracket tight">[</span><span class="tight">1</span><span class="minus">â</span><span class="function w"><var class="math-var w">w</var><span class="paren tight">(</span>${s}<span class="paren tight">)</span></span><span class="bracket tight">]</span>
        </td>
        <td>
          ${o}
        </td>
        <td class="left">
          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>${i}<span class="paren tight">)</span></span>
        </td>
      </tr>
      <tr>
        <td class="right">
          ${n}&nbsp;${l}<span class="plus">+</span>${a}&nbsp;${r}
        </td>
        <td>
          ${o}
        </td>
        <td class="left">
          ${c}
        </td>
      </tr>
      <tr>
        <td class="right">
          ${B}
        </td>
        <td>
          ${o}
        </td>
        <td class="left">
          ${g}
        </td>
      </tr>`;return x$3`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${Q}
          </tbody>
        </table>
      </div>`}}function defined(t){return null!=t&&!Number.isNaN(t)}function ascendingDefined(t,e){return+defined(e)-+defined(t)||ascending$1(t,e)}function descendingDefined(t,e){return+defined(e)-+defined(t)||descending$1(t,e)}function nonempty(t){return null!=t&&""!=`${t}`}function finite(t){return isFinite(t)?t:NaN}function positive(t){return t>0&&isFinite(t)?t:NaN}function negative(t){return t<0&&isFinite(t)?t:NaN}function format(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof e?e(t):e;const s=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${formatYear(t.getUTCFullYear())}-${pad(t.getUTCMonth()+1,2)}-${pad(t.getUTCDate(),2)}${s||i||n||a?`T${pad(s,2)}:${pad(i,2)}${n||a?`:${pad(n,2)}${a?`.${pad(a,3)}`:""}`:""}Z`:""}`}function formatYear(t){return t<0?`-${pad(-t,6)}`:t>9999?`+${pad(t,6)}`:pad(t,4)}function pad(t,e){return`${t}`.padStart(e,"0")}customElements.define("cpt-calculation",CPTCalculation);const re=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function parse(t,e){return re.test(t+="")?new Date(t):"function"==typeof e?e(t):e}function orderof(t){if(null==t)return;return descending$1(t[0],t[t.length-1])}const durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,durationMonth=2592e6,durationYear=31536e6,tickIntervals=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",1e3],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",6e4],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",36e5],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",864e5],["2 days",1728e5],["week",6048e5],["2 weeks",12096e5],["month",2592e6],["3 months",7776e6],["6 months",15552e6],["year",31536e6],["2 years",63072e6],["5 years",15768e7],["10 years",31536e7],["20 years",63072e7],["50 years",15768e8],["100 years",31536e8]],durations=new Map([["second",1e3],["minute",6e4],["hour",36e5],["day",864e5],["monday",6048e5],["tuesday",6048e5],["wednesday",6048e5],["thursday",6048e5],["friday",6048e5],["saturday",6048e5],["sunday",6048e5],["week",6048e5],["month",2592e6],["year",31536e6]]),timeIntervals=new Map([["second",second$1],["minute",timeMinute],["hour",timeHour],["day",timeDay],["monday",timeMonday],["tuesday",timeTuesday],["wednesday",timeWednesday],["thursday",timeThursday],["friday",timeFriday],["saturday",timeSaturday],["sunday",timeSunday],["week",timeSunday],["month",timeMonth],["year",timeYear]]),utcIntervals=new Map([["second",second$1],["minute",utcMinute],["hour",utcHour],["day",unixDay],["monday",utcMonday],["tuesday",utcTuesday],["wednesday",utcWednesday],["thursday",utcThursday],["friday",utcFriday],["saturday",utcSaturday],["sunday",utcSunday],["week",utcSunday],["month",utcMonth],["year",utcYear]]),intervalDuration=Symbol("intervalDuration"),intervalType=Symbol("intervalType");for(const[t,e]of timeIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="time";for(const[t,e]of utcIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="utc";const utcFormatIntervals=[["year",utcYear,"utc"],["month",utcMonth,"utc"],["day",unixDay,"utc",15552e6],["hour",utcHour,"utc",2592e5],["minute",utcMinute,"utc",216e5],["second",second$1,"utc",18e5]],timeFormatIntervals=[["year",timeYear,"time"],["month",timeMonth,"time"],["day",timeDay,"time",15552e6],["hour",timeHour,"time",2592e5],["minute",timeMinute,"time",216e5],["second",second$1,"time",18e5]],formatIntervals=[utcFormatIntervals[0],timeFormatIntervals[0],utcFormatIntervals[1],timeFormatIntervals[1],utcFormatIntervals[2],timeFormatIntervals[2],...utcFormatIntervals.slice(3)];function parseTimeInterval(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let s=1;const i=/^(?:(\d+)\s+)/.exec(e);switch(i&&(e=e.slice(i[0].length),s=+i[1]),e){case"quarter":e="month",s*=3;break;case"half":e="month",s*=6}let n=utcIntervals.get(e);if(!n)throw new Error(`unknown interval: ${t}`);if(s>1&&!n.every)throw new Error(`non-periodic interval: ${e}`);return[e,s]}function timeInterval(t){return asInterval(parseTimeInterval(t),"time")}function utcInterval(t){return asInterval(parseTimeInterval(t),"utc")}function asInterval([t,e],s){let i=("time"===s?timeIntervals:utcIntervals).get(t);return e>1&&(i=i.every(e),i[intervalDuration]=durations.get(t)*e,i[intervalType]=s),i}function generalizeTimeInterval(t,e){if(!(e>1))return;const s=t[intervalDuration];if(!tickIntervals.some(([,t])=>t===s))return;if(s%864e5==0&&864e5<s&&s<2592e6)return;const[i]=tickIntervals[bisector(([,t])=>Math.log(t)).center(tickIntervals,Math.log(s*e))];return("time"===t[intervalType]?timeInterval:utcInterval)(i)}function formatTimeInterval(t,e,s){const i="time"===e?timeFormat:utcFormat;if(null==s)return i("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const n=getTimeTemplate(s);switch(t){case"millisecond":return formatConditional(i(".%L"),i(":%M:%S"),n);case"second":return formatConditional(i(":%S"),i("%-I:%M"),n);case"minute":return formatConditional(i("%-I:%M"),i("%p"),n);case"hour":return formatConditional(i("%-I %p"),i("%b %-d"),n);case"day":return formatConditional(i("%-d"),i("%b"),n);case"month":return formatConditional(i("%b"),i("%Y"),n);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function getTimeTemplate(t){return"left"===t||"right"===t?(t,e)=>`\n${t}\n${e}`:"top"===t?(t,e)=>`${e}\n${t}`:(t,e)=>`${t}\n${e}`}function getFormatIntervals(t){return"time"===t?timeFormatIntervals:"utc"===t?utcFormatIntervals:formatIntervals}function inferTimeFormat(t,e,s){const i=max$1(pairs(e,(t,e)=>Math.abs(e-t)));if(i<1e3)return formatTimeInterval("millisecond","utc",s);for(const[n,a,l,r]of getFormatIntervals(t)){if(i>r)break;if("hour"===n&&!i)break;if(e.every(t=>a.floor(t)>=t))return formatTimeInterval(n,l,s)}}function formatConditional(t,e,s){return(i,n,a)=>{const l=t(i,n),r=e(i,n),c=n-orderof(a);return n!==c&&void 0!==a[c]&&r===e(a[c],c)?l:s(l,r)}}const TypedArray=Object.getPrototypeOf(Uint8Array),objectToString=Object.prototype.toString;function isArray(t){return t instanceof Array||t instanceof TypedArray}function isNumberArray(t){return t instanceof TypedArray&&!isBigIntArray(t)}function isNumberType(t){return t?.prototype instanceof TypedArray&&!isBigIntType(t)}function isBigIntArray(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function isBigIntType(t){return t===BigInt64Array||t===BigUint64Array}const reindex=Symbol("reindex");function valueof(t,e,s){const i=typeof e;return"string"===i?isArrowTable(t)?maybeTypedArrowify(t.getChild(e),s):maybeTypedMap(t,field(e),s):"function"===i?maybeTypedMap(t,e,s):"number"===i||e instanceof Date||"boolean"===i?map(t,constant(e),s):"function"==typeof e?.transform?maybeTypedArrayify(e.transform(t),s):maybeTake(maybeTypedArrayify(e,s),t?.[reindex])}function maybeTake(t,e){return null!=t&&e?take(t,e):t}function maybeTypedMap(t,e,s){return map(t,isNumberType(s)?(t,s)=>coerceNumber(e(t,s)):e,s)}function maybeTypedArrayify(t,e){return void 0===e?arrayify(t):isArrowVector(t)?maybeTypedArrowify(t,e):t instanceof e?t:e.from(t,isNumberType(e)&&!isNumberArray(t)?coerceNumber:void 0)}function maybeTypedArrowify(t,e){return null==t?t:void 0!==e&&e!==Array||!isArrowDateType(t.type)?maybeTypedArrayify(vectorToArray(t),e):coerceDates(vectorToArray(t))}function vectorToArray(t){return t.nullCount?t.toJSON():t.toArray()}const singleton=[null],field=t=>e=>{const s=e[t];return void 0===s&&"Feature"===e.type?e.properties?.[t]:s},indexOf={transform:range},identity$1={transform:t=>t},one=()=>1,yes=()=>!0,string=t=>null==t?t:`${t}`,number=t=>null==t?t:+t,first=t=>t?t[0]:void 0,second=t=>t?t[1]:void 0,constant=t=>()=>t;function percentile(t){const e=+`${t}`.slice(1)/100;return(t,s)=>quantile$1(t,e,s)}function coerceNumbers(t){return isNumberArray(t)?t:map(t,coerceNumber,Float64Array)}function coerceNumber(t){return null==t?NaN:Number(t)}function coerceDates(t){return map(t,coerceDate)}function coerceDate(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?parse(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function maybeColorChannel(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:isColor(t)?[void 0,t]:[t,void 0]}function maybeNumberChannel(t,e){return void 0===t&&(t=e),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function maybeKeyword(t,e,s){if(null!=t)return keyword(t,e,s)}function keyword(t,e,s){const i=`${t}`.toLowerCase();if(!s.includes(i))throw new Error(`invalid ${e}: ${t}`);return i}function dataify(t){return isArrowTable(t)?t:arrayify(t)}function arrayify(t){if(null==t||isArray(t))return t;if(isArrowVector(t))return maybeTypedArrowify(t);if(isGeoJSON(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function isGeoJSON(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function map(t,e,s=Array){return null==t?t:t instanceof s?t.map(e):s.from(t,e)}function slice(t,e=Array){return t instanceof e?t.slice():e.from(t)}function hasX({x:t,x1:e,x2:s}){return void 0!==t||void 0!==e||void 0!==s}function hasY({y:t,y1:e,y2:s}){return void 0!==t||void 0!==e||void 0!==s}function hasXY(t){return hasX(t)||hasY(t)||void 0!==t.interval}function isObject(t){return t?.toString===objectToString}function isScaleOptions(t){return isObject(t)&&(void 0!==t.type||void 0!==t.domain)}function isOptions(t){return isObject(t)&&"function"!=typeof t.transform}function isDomainSort(t){return isOptions(t)&&void 0===t.value&&void 0===t.channel}function maybeZero(t,e,s,i=identity$1){return void 0===e&&void 0===s?(e=0,s=void 0===t?i:t):void 0===e?e=void 0===t?0:t:void 0===s&&(s=void 0===t?0:t),[e,s]}function maybeTuple(t,e){return void 0===t&&void 0===e?[first,second]:[t,e]}function maybeZ({z:t,fill:e,stroke:s}={}){return void 0===t&&([t]=maybeColorChannel(e)),void 0===t&&([t]=maybeColorChannel(s)),t}function lengthof(t){return isArray(t)?t.length:t?.numRows}function range(t){const e=lengthof(t),s=new Uint32Array(e);for(let t=0;t<e;++t)s[t]=t;return s}function take(t,e){return isArray(t)?map(e,e=>t[e],t.constructor):map(e,e=>t.at(e))}function subarray(t,e,s){return t.subarray?t.subarray(e,s):t.slice(e,s)}function keyof(t){return null!==t&&"object"==typeof t?t.valueOf():t}function maybeInput(t,e){if(void 0!==e[t])return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return e[t]}function column(t){let e;return[{transform:()=>e,label:labelof(t)},t=>e=t]}function maybeColumn(t){return null==t?[t]:column(t)}function labelof(t,e){return"string"==typeof t?t:t&&void 0!==t.label?t.label:e}function mid(t,e){return{transform(s){const i=t.transform(s),n=e.transform(s);return isTemporal(i)||isTemporal(n)?map(i,(t,e)=>new Date((+i[e]+ +n[e])/2)):map(i,(t,e)=>(+i[e]+ +n[e])/2,Float64Array)},label:t.label}}function maybeApplyInterval(t,e){const s=maybeIntervalTransform(e?.interval,e?.type);return s?map(t,s):t}function maybeIntervalTransform(t,e){const s=maybeInterval(t,e);return s&&(t=>defined(t)?s.floor(t):t)}function maybeInterval(t,e){if(null!=t){if("number"==typeof t)return numberInterval(t);if("string"==typeof t)return("time"===e?timeInterval:utcInterval)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function numberInterval(t){0<(t=+t)&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:(t,s=1)=>(t*e+Math.floor(s))/e,range:(t,s)=>range$1(Math.ceil(t*e),s*e).map(t=>t/e)}:{floor:t=>Math.floor(t/e)*e,offset:(t,s=1)=>t+e*Math.floor(s),range:(t,s)=>range$1(Math.ceil(t/e),s/e).map(t=>t*e)}}function maybeRangeInterval(t,e){if((t=maybeInterval(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function maybeNiceInterval(t,e){if((t=maybeRangeInterval(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}function isTimeInterval(t){return isInterval(t)&&"function"==typeof t?.floor&&t.floor()instanceof Date}function isInterval(t){return"function"==typeof t?.range}function maybeValue(t){return void 0===t||isOptions(t)?t:{value:t}}function numberChannel(t){return null==t?null:{transform:e=>valueof(e,t,Float64Array),label:labelof(t)}}function isIterable(t){return t&&"function"==typeof t[Symbol.iterator]}function isTextual(t){for(const e of t)if(null!=e)return"object"!=typeof e||e instanceof Date}function isOrdinal(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function isTemporal(t){for(const e of t)if(null!=e)return e instanceof Date}function isTemporalString(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&parse(e)}function isNumericString(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function isNumeric(t){for(const e of t)if(null!=e)return"number"==typeof e}function isEvery(t,e){let s;for(const i of t)if(null!=i){if(!e(i))return!1;s=!0}return s}const namedColors=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function isColor(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||namedColors.has(t))}function isOpacity(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function isNoneish(t){return null==t||isNone(t)}function isNone(t){return/^\s*none\s*$/i.test(t)}function isRound(t){return/^\s*round\s*$/i.test(t)}function maybeAnchor$1(t,e){return maybeKeyword(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function maybeFrameAnchor(t="middle"){return maybeAnchor$1(t,"frameAnchor")}function inherit(t={},...e){let s=t;for(const i of e)for(const e in i)if(void 0===s[e]){const n=i[e];s===t?s={...s,[e]:n}:s[e]=n}return s}function named(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,t=>{const{name:s}=t;if(null==s)throw new Error("missing name");const i=`${s}`;if("__proto__"===i)throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[s,t]}))}function maybeNamed(t){return isIterable(t)?named(t):t}function maybeClip(t){return!0===t?t="frame":!1===t?t=null:isGeoJSON(t)||null==t||"sphere"===(t=keyword(t,"clip",["frame","sphere"]))&&(t={type:"Sphere"}),t}function isArrowTable(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function isArrowVector(t){return t&&"function"==typeof t.toArray&&t.type}function isArrowDateType(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}const position=Symbol("position"),color=Symbol("color"),radius=Symbol("radius"),length=Symbol("length"),opacity=Symbol("opacity"),symbol=Symbol("symbol"),projection=Symbol("projection"),registry=new Map([["x",position],["y",position],["fx",position],["fy",position],["r",radius],["color",color],["opacity",opacity],["symbol",symbol],["length",length],["projection",projection]]);function isPosition(t){return t===position||t===projection}function hasNumericRange(t){return t===position||t===radius||t===length||t===opacity}const sqrt3=Math.sqrt(3),sqrt4_3=2/sqrt3,symbolHexagon={draw(t,e){const s=Math.sqrt(e/Math.PI),i=s*sqrt4_3,n=i/2;t.moveTo(0,i),t.lineTo(s,n),t.lineTo(s,-n),t.lineTo(0,-i),t.lineTo(-s,-n),t.lineTo(-s,n),t.closePath()}},symbols=new Map([["asterisk",symbolAsterisk],["circle",symbolCircle],["cross",symbolCross],["diamond",symbolDiamond],["diamond2",symbolDiamond2],["hexagon",symbolHexagon],["plus",symbolPlus],["square",symbolSquare],["square2",symbolSquare2],["star",symbolStar],["times",symbolTimes],["triangle",symbolTriangle],["triangle2",symbolTriangle2],["wye",symbolWye]]);function isSymbolObject(t){return t&&"function"==typeof t.draw}function isSymbol(t){return!!isSymbolObject(t)||"string"==typeof t&&symbols.has(t.toLowerCase())}function maybeSymbol(t){if(null==t||isSymbolObject(t))return t;const e=symbols.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function maybeSymbolChannel(t){if(null==t||isSymbolObject(t))return[void 0,t];if("string"==typeof t){const e=symbols.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function basic({filter:t,sort:e,reverse:s,transform:i,initializer:n,...a}={},l){if(void 0===i&&(null!=t&&(i=filterTransform(t)),null==e||isDomainSort(e)||(i=composeTransform(i,sortTransform(e))),s&&(i=composeTransform(i,reverseTransform))),null!=l&&null!=n)throw new Error("transforms cannot be applied after initializers");return{...a,...(null===e||isDomainSort(e))&&{sort:e},transform:composeTransform(i,l)}}function initializer({filter:t,sort:e,reverse:s,initializer:i,...n}={},a){return void 0===i&&(null!=t&&(i=filterTransform(t)),null==e||isDomainSort(e)||(i=composeInitializer(i,sortTransform(e))),s&&(i=composeInitializer(i,reverseTransform))),{...n,...(null===e||isDomainSort(e))&&{sort:e},initializer:composeInitializer(i,a)}}function composeTransform(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(s,i,n){return({data:s,facets:i}=t.call(this,s,i,n)),e.call(this,dataify(s),i,n)}}function composeInitializer(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(s,i,n,...a){let l,r,c,B,g,o;return({data:r=s,facets:c=i,channels:l}=t.call(this,s,i,n,...a)),({data:g=r,facets:o=c,channels:B}=e.call(this,r,c,{...n,...l},...a)),{data:g,facets:o,channels:{...l,...B}}}}function apply(t,e){return(null!=t.initializer?initializer:basic)(t,e)}function filterTransform(t){return(e,s)=>{const i=valueof(e,t);return{data:e,facets:s.map(t=>t.filter(t=>i[t]))}}}function reverseTransform(t,e){return{data:t,facets:e.map(t=>t.slice().reverse())}}function sort$1(t,{sort:e,...s}={}){return{...(isOptions(t)&&void 0!==t.channel?initializer:apply)(s,sortTransform(t)),sort:isDomainSort(e)?e:null}}function sortTransform(t){return("function"==typeof t&&1!==t.length?sortData:sortValue)(t)}function sortData(t){return(e,s)=>{const i=isArray(e)?(s,i)=>t(e[s],e[i]):(s,i)=>t(e.get(s),e.get(i));return{data:e,facets:s.map(t=>t.slice().sort(i))}}}function sortValue(t){let e,s;({channel:e,value:t,order:s}={...maybeValue(t)});const i=e?.startsWith("-");if(i&&(e=e.slice(1)),void 0===s&&(s=i?descendingDefined:ascendingDefined),"function"!=typeof s)switch(`${s}`.toLowerCase()){case"ascending":s=ascendingDefined;break;case"descending":s=descendingDefined;break;default:throw new Error(`invalid order: ${s}`)}return(i,n,a)=>{let l;if(void 0===e)l=valueof(i,t);else{if(void 0===a)throw new Error("channel sort requires an initializer");if(l=a[e],!l)return{};l=l.value}const r=(t,e)=>s(l[t],l[e]);return{data:i,facets:n.map(t=>t.slice().sort(r))}}}function hasOutput(t,...e){for(const{name:s}of t)if(e.includes(s))return!0;return!1}function maybeOutputs(t,e,s=maybeOutput){const i=Object.entries(t);return null!=e.title&&void 0===t.title&&i.push(["title",reduceTitle]),null!=e.href&&void 0===t.href&&i.push(["href",reduceFirst]),i.filter(([,t])=>void 0!==t).map(([t,i])=>null===i?nullOutput(t):s(t,i,e))}function maybeOutput(t,e,s,i=maybeEvaluator){let n;isObject(e)&&"reduce"in e&&(n=e.scale,e=e.reduce);const a=i(t,e,s),[l,r]=column(a.label);let c;return{name:t,output:void 0===n?l:{value:l,scale:n},initialize(t){a.initialize(t),c=r([])},scope(t,e){a.scope(t,e)},reduce(t,e){c.push(a.reduce(t,e))}}}function nullOutput(t){return{name:t,initialize(){},scope(){},reduce(){}}}function maybeEvaluator(t,e,s,i=maybeReduce){const n=maybeInput(t,s),a=i(e,n);let l,r;return{label:labelof(a===reduceCount?null:n,a.label),initialize(t){l=void 0===n?t:valueof(t,n),"data"===a.scope&&(r=a.reduceIndex(range(t),l))},scope(t,e){a.scope===t&&(r=a.reduceIndex(e,l))},reduce:(t,e)=>null==a.scope?a.reduceIndex(t,l,e):a.reduceIndex(t,l,r,e)}}function maybeGroup(t,e){return e?group(t,t=>e[t]):[[,t]]}function maybeReduce(t,e,s=invalidReduce){if(null==t)return s(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&isObject(t))return reduceReduce(t);if("function"==typeof t)return reduceFunction(t);if(/^p\d{2}$/i.test(t))return reduceAccessor(percentile(t));switch(`${t}`.toLowerCase()){case"first":return reduceFirst;case"last":return reduceLast;case"identity":return reduceIdentity;case"count":return reduceCount;case"distinct":return reduceDistinct;case"sum":return null==e?reduceCount:reduceSum;case"proportion":return reduceProportion(e,"data");case"proportion-facet":return reduceProportion(e,"facet");case"deviation":return reduceAccessor(deviation);case"min":return reduceAccessor(min$1);case"min-index":return reduceAccessor(minIndex);case"max":return reduceAccessor(max$1);case"max-index":return reduceAccessor(maxIndex);case"mean":return reduceMaybeTemporalAccessor(mean);case"median":return reduceMaybeTemporalAccessor(median);case"variance":return reduceAccessor(variance);case"mode":return reduceAccessor(mode)}return s(t)}function invalidReduce(t){throw new Error(`invalid reduce: ${t}`)}function maybeSubgroup(t,e){for(const s in e){const i=e[s];if(void 0!==i&&!t.some(t=>t.name===s))return i}}function maybeSort(t,e,s){if(e){const s=e.output.transform(),i=(t,e)=>ascendingDefined(s[t],s[e]);t.forEach(t=>t.sort(i))}s&&t.forEach(t=>t.reverse())}function reduceReduce(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function reduceFunction(t){return{reduceIndex:(e,s,i)=>t(take(s,e),i)}}function reduceAccessor(t){return{reduceIndex:(e,s)=>t(e,t=>s[t])}}function reduceMaybeTemporalAccessor(t){return{reduceIndex(e,s){const i=t(e,t=>s[t]);return isTemporal(s)?new Date(i):i}}}const reduceIdentity={reduceIndex:(t,e)=>take(e,t)},reduceFirst={reduceIndex:(t,e)=>e[t[0]]},reduceTitle={reduceIndex(t,e){const s=sort$2(rollup(t,t=>t.length,t=>e[t]),second),i=s.slice(-5).reverse();if(i.length<s.length){const t=s.slice(0,-4);i[4]=[`â¦ ${t.length.toLocaleString("en-US")} more`,sum(t,second)]}return i.map(([t,e])=>`${t} (${e.toLocaleString("en-US")})`).join("\n")}},reduceLast={reduceIndex:(t,e)=>e[t[t.length-1]]},reduceCount={label:"Frequency",reduceIndex:t=>t.length},reduceDistinct={label:"Distinct",reduceIndex(t,e){const s=new InternSet;for(const i of t)s.add(e[i]);return s.size}},reduceSum=reduceAccessor(sum);function reduceProportion(t,e){return null==t?{scope:e,label:"Frequency",reduceIndex:(t,e,s=1)=>t.length/s}:{scope:e,reduceIndex:(t,e,s=1)=>sum(t,t=>e[t])/s}}const reduceZ={reduceIndex:(t,e,{z:s})=>s};function createChannel(t,{scale:e,type:s,value:i,filter:n,hint:a,label:l=labelof(i)},r){return void 0===a&&"function"==typeof i?.transform&&(a=i.hint),inferChannelScale(r,{scale:e,type:s,value:valueof(t,i),label:l,filter:n,hint:a})}function createChannels(t,e){return Object.fromEntries(Object.entries(t).map(([t,s])=>[t,createChannel(e,s,t)]))}function valueObject(t,e){const s=Object.fromEntries(Object.entries(t).map(([t,{scale:s,value:i}])=>{const n=null==s?null:e[s];return[t,null==n?i:map(i,n)]}));return s.channels=t,s}function inferChannelScale(t,e){const{scale:s,value:i}=e;if(!0===s||"auto"===s)switch(t){case"fill":case"stroke":case"color":e.scale=!0!==s&&isEvery(i,isColor)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=!0!==s&&isEvery(i,isOpacity)?null:"opacity",e.defaultScale="opacity";break;case"symbol":!0!==s&&isEvery(i,isSymbol)?(e.scale=null,e.value=map(i,maybeSymbol)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=registry.has(t)?t:null}else if(!1===s)e.scale=null;else if(null!=s&&!registry.has(s))throw new Error(`unknown scale: ${s}`);return e}function channelDomain(t,e,s,i,n){const{order:a,reverse:l,reduce:r=!0,limit:c}=n;for(const B in n){if(!registry.has(B))continue;let{value:g,order:o=a,reverse:F=l,reduce:Q=r,limit:U=c}=maybeValue(n[B]);const I=g?.startsWith("-");if(I&&(g=g.slice(1)),o=void 0===o?I!==("width"===g||"height"===g)?descendingGroup:ascendingGroup:maybeOrder$1(o),null==Q||!1===Q)continue;const d="fx"===B||"fy"===B?reindexFacetChannel(e,i[B]):findScaleChannel(s,B);if(!d)throw new Error(`missing channel for scale: ${B}`);const b=d.value,[u=0,C=1/0]=isIterable(U)?U:U<0?[U]:[0,U];if(null==g)d.domain=()=>{let t=Array.from(new InternSet(b));return F&&(t=t.reverse()),0===u&&C===1/0||(t=t.slice(u,C)),t};else{const e="data"===g?t:"height"===g?difference(s,"y1","y2"):"width"===g?difference(s,"x1","x2"):values(s,g,"y"===g?"y2":"x"===g?"x2":void 0),i=maybeReduce(!0===Q?"max":Q,e);d.domain=()=>{let t=rollups(range(b),t=>i.reduceIndex(t,e),t=>b[t]);return o&&t.sort(o),F&&t.reverse(),0===u&&C===1/0||(t=t.slice(u,C)),t.map(first)}}}}function findScaleChannel(t,e){for(const s in t){const i=t[s];if(i.scale===e)return i}}function reindexFacetChannel(t,e){const s=t.original;if(s===t)return e;const i=e.value,n=e.value=[];for(let e=0;e<s.length;++e){const a=i[s[e][0]];for(const s of t[e])n[s]=a}return e}function difference(t,e,s){const i=values(t,e);return map(values(t,s),(t,e)=>Math.abs(t-i[e]),Float64Array)}function values(t,e,s){let i=t[e];if(i||void 0===s||(i=t[s]),i)return i.value;throw new Error(`missing channel: ${e}`)}function maybeOrder$1(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return ascendingGroup;case"descending":return descendingGroup}throw new Error(`invalid order: ${t}`)}function ascendingGroup([t,e],[s,i]){return ascendingDefined(e,i)||ascendingDefined(t,s)}function descendingGroup([t,e],[s,i]){return descendingDefined(e,i)||ascendingDefined(t,s)}function getSource(t,e){let s=t[e];if(s){for(;s.source;)s=s.source;return null===s.source?null:s}}const categoricalSchemes=new Map([["accent",schemeAccent],["category10",schemeCategory10],["dark2",schemeDark2],["observable10",schemeObservable10],["paired",schemePaired],["pastel1",schemePastel1],["pastel2",schemePastel2],["set1",schemeSet1],["set2",schemeSet2],["set3",schemeSet3],["tableau10",schemeTableau10]]);function isCategoricalScheme(t){return null!=t&&categoricalSchemes.has(`${t}`.toLowerCase())}const ordinalSchemes=new Map([...categoricalSchemes,["brbg",scheme11(scheme$q,interpolateBrBG)],["prgn",scheme11(scheme$p,interpolatePRGn)],["piyg",scheme11(scheme$o,interpolatePiYG)],["puor",scheme11(scheme$n,interpolatePuOr)],["rdbu",scheme11(scheme$m,interpolateRdBu)],["rdgy",scheme11(scheme$l,interpolateRdGy)],["rdylbu",scheme11(scheme$k,interpolateRdYlBu)],["rdylgn",scheme11(scheme$j,interpolateRdYlGn)],["spectral",scheme11(scheme$i,interpolateSpectral)],["burd",scheme11r(scheme$m,interpolateRdBu)],["buylrd",scheme11r(scheme$k,interpolateRdYlBu)],["blues",scheme9(scheme$5,interpolateBlues)],["greens",scheme9(scheme$4,interpolateGreens)],["greys",scheme9(scheme$3,interpolateGreys)],["oranges",scheme9(scheme,interpolateOranges)],["purples",scheme9(scheme$2,interpolatePurples)],["reds",scheme9(scheme$1,interpolateReds)],["turbo",schemei(interpolateTurbo)],["viridis",schemei(interpolateViridis)],["magma",schemei(magma)],["inferno",schemei(inferno)],["plasma",schemei(plasma)],["cividis",schemei(interpolateCividis)],["cubehelix",schemei(interpolateCubehelixDefault)],["warm",schemei(warm)],["cool",schemei(cool)],["bugn",scheme9(scheme$h,interpolateBuGn)],["bupu",scheme9(scheme$g,interpolateBuPu)],["gnbu",scheme9(scheme$f,interpolateGnBu)],["orrd",scheme9(scheme$e,interpolateOrRd)],["pubu",scheme9(scheme$c,interpolatePuBu)],["pubugn",scheme9(scheme$d,interpolatePuBuGn)],["purd",scheme9(scheme$b,interpolatePuRd)],["rdpu",scheme9(scheme$a,interpolateRdPu)],["ylgn",scheme9(scheme$8,interpolateYlGn)],["ylgnbu",scheme9(scheme$9,interpolateYlGnBu)],["ylorbr",scheme9(scheme$7,interpolateYlOrBr)],["ylorrd",scheme9(scheme$6,interpolateYlOrRd)],["rainbow",schemeicyclical(interpolateRainbow)],["sinebow",schemeicyclical(interpolateSinebow)]]);function scheme9(t,e){return({length:s})=>1===s?[t[3][1]]:2===s?[t[3][1],t[3][2]]:(s=Math.max(3,Math.floor(s)))>9?quantize(e,s):t[s]}function scheme11(t,e){return({length:s})=>2===s?[t[3][0],t[3][2]]:(s=Math.max(3,Math.floor(s)))>11?quantize(e,s):t[s]}function scheme11r(t,e){return({length:s})=>2===s?[t[3][2],t[3][0]]:(s=Math.max(3,Math.floor(s)))>11?quantize(t=>e(1-t),s):t[s].slice().reverse()}function schemei(t){return({length:e})=>quantize(t,Math.max(2,Math.floor(e)))}function schemeicyclical(t){return({length:e})=>quantize(t,Math.floor(e)+1).slice(0,-1)}function ordinalScheme(t){const e=`${t}`.toLowerCase();if(!ordinalSchemes.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return ordinalSchemes.get(e)}function ordinalRange(t,e){const s=ordinalScheme(t),i="function"==typeof s?s({length:e}):s;return i.length!==e?i.slice(0,e):i}function maybeBooleanRange(t,e="greys"){const s=new Set,[i,n]=ordinalRange(e,2);for(const e of t)if(null!=e)if(!0===e)s.add(n);else{if(!1!==e)return;s.add(i)}return[...s]}const quantitativeSchemes=new Map([["brbg",interpolateBrBG],["prgn",interpolatePRGn],["piyg",interpolatePiYG],["puor",interpolatePuOr],["rdbu",interpolateRdBu],["rdgy",interpolateRdGy],["rdylbu",interpolateRdYlBu],["rdylgn",interpolateRdYlGn],["spectral",interpolateSpectral],["burd",t=>interpolateRdBu(1-t)],["buylrd",t=>interpolateRdYlBu(1-t)],["blues",interpolateBlues],["greens",interpolateGreens],["greys",interpolateGreys],["purples",interpolatePurples],["reds",interpolateReds],["oranges",interpolateOranges],["turbo",interpolateTurbo],["viridis",interpolateViridis],["magma",magma],["inferno",inferno],["plasma",plasma],["cividis",interpolateCividis],["cubehelix",interpolateCubehelixDefault],["warm",warm],["cool",cool],["bugn",interpolateBuGn],["bupu",interpolateBuPu],["gnbu",interpolateGnBu],["orrd",interpolateOrRd],["pubugn",interpolatePuBuGn],["pubu",interpolatePuBu],["purd",interpolatePuRd],["rdpu",interpolateRdPu],["ylgnbu",interpolateYlGnBu],["ylgn",interpolateYlGn],["ylorbr",interpolateYlOrBr],["ylorrd",interpolateYlOrRd],["rainbow",interpolateRainbow],["sinebow",interpolateSinebow]]);function quantitativeScheme(t){const e=`${t}`.toLowerCase();if(!quantitativeSchemes.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return quantitativeSchemes.get(e)}const divergingSchemes=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function isDivergingScheme(t){return null!=t&&divergingSchemes.has(`${t}`.toLowerCase())}const flip=t=>e=>t(1-e),unit=[0,1],interpolators=new Map([["number",interpolateNumber],["rgb",interpolateRgb],["hsl",interpolateHsl],["hcl",interpolateHcl],["lab",lab]]);function maybeInterpolator(t){const e=`${t}`.toLowerCase();if(!interpolators.has(e))throw new Error(`unknown interpolator: ${e}`);return interpolators.get(e)}function createScaleQ(t,e,s,{type:i,nice:n,clamp:a,zero:l,domain:r=inferAutoDomain(t,s),unknown:c,round:B,scheme:g,interval:o,range:F=(registry.get(t)===radius?inferRadialRange(s,r):registry.get(t)===length?inferLengthRange(s,r):registry.get(t)===opacity?unit:void 0),interpolate:Q=(registry.get(t)===color?null==g&&void 0!==F?interpolateRgb:quantitativeScheme(void 0!==g?g:"cyclical"===i?"rainbow":"turbo"):B?interpolateRound:interpolateNumber),reverse:U}){if(r=maybeRepeat(r),o=maybeRangeInterval(o,i),"cyclical"!==i&&"sequential"!==i||(i="linear"),"function"!=typeof Q&&(Q=maybeInterpolator(Q)),U=!!U,void 0!==F){if(r.length!==(F=maybeRepeat(F)).length){if(1===Q.length)throw new Error("invalid piecewise interpolator");Q=piecewise(Q,F),F=void 0}}if(1===Q.length?(U&&(Q=flip(Q),U=!1),void 0===F&&(F=Float64Array.from(r,(t,e)=>e/(r.length-1)),2===F.length&&(F=unit)),e.interpolate((F===unit?constant:interpolatePiecewise)(Q))):e.interpolate(Q),l){const[t,e]=extent$1(r);if(t>0||e<0){(orderof(r=slice(r))||1)===Math.sign(t)?r[0]=0:r[r.length-1]=0}}return U&&(r=reverse(r)),e.domain(r).unknown(c),n&&(e.nice(maybeNice(n,i)),r=e.domain()),void 0!==F&&e.range(F),a&&e.clamp(a),{type:i,domain:r,range:F,scale:e,interpolate:Q,interval:o}}function maybeRepeat(t){return(t=arrayify(t)).length>=2?t:[t[0],t[0]]}function maybeNice(t,e){return!0===t?void 0:"number"==typeof t?t:maybeNiceInterval(t,e)}function createScaleLinear(t,e,s){return createScaleQ(t,linear(),e,s)}function createScaleSqrt(t,e,s){return createScalePow(t,e,{...s,exponent:.5})}function createScalePow(t,e,{exponent:s=1,...i}){return createScaleQ(t,pow().exponent(s),e,{...i,type:"pow"})}function createScaleLog(t,e,{base:s=10,domain:i=inferLogDomain(e),...n}){return createScaleQ(t,log().base(s),e,{...n,domain:i})}function createScaleSymlog(t,e,{constant:s=1,...i}){return createScaleQ(t,symlog().constant(s),e,i)}function createScaleQuantile(t,e,{range:s,quantiles:i=(void 0===s?5:(s=[...s]).length),n:n=i,scheme:a="rdylbu",domain:l=inferQuantileDomain(e),unknown:r,interpolate:c,reverse:B}){return void 0===s&&(s=void 0!==c?quantize(c,n):registry.get(t)===color?ordinalRange(a,n):void 0),l.length>0&&(l=quantile(l,void 0===s?{length:n}:s).quantiles()),createScaleThreshold(t,e,{domain:l,range:s,reverse:B,unknown:r})}function createScaleQuantize(t,e,{range:s,n:i=(void 0===s?5:(s=[...s]).length),scheme:n="rdylbu",domain:a=inferAutoDomain(t,e),unknown:l,interpolate:r,reverse:c}){const[B,g]=extent$1(a);let o;return void 0===s?(o=ticks(B,g,i),o[0]<=B&&o.splice(0,1),o[o.length-1]>=g&&o.pop(),i=o.length+1,s=void 0!==r?quantize(r,i):registry.get(t)===color?ordinalRange(n,i):void 0):(o=quantize(interpolateNumber(B,g),i+1).slice(1,-1),B instanceof Date&&(o=o.map(t=>new Date(t)))),orderof(arrayify(a))<0&&o.reverse(),createScaleThreshold(t,e,{domain:o,range:s,reverse:c,unknown:l})}function createScaleThreshold(t,e,{domain:s=[0],unknown:i,scheme:n="rdylbu",interpolate:a,range:l=(void 0!==a?quantize(a,s.length+1):registry.get(t)===color?ordinalRange(n,s.length+1):void 0),reverse:r}){const c=orderof(s=arrayify(s));if(!isNaN(c)&&!isOrdered(s,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return r&&(l=reverse(l)),{type:"threshold",scale:threshold(c<0?reverse(s):s,void 0===l?[]:l).unknown(i),domain:s,range:l}}function isOrdered(t,e){for(let s=1,i=t.length,n=t[0];s<i;++s){const i=descending$1(n,n=t[s]);if(0!==i&&i!==e)return!1}return!0}function createScaleIdentity(t){return{type:"identity",scale:hasNumericRange(registry.get(t))?identity$3():t=>t}}function inferDomain$1(t,e=finite){return t.length?[min$1(t,({value:t})=>void 0===t?t:min$1(t,e)),max$1(t,({value:t})=>void 0===t?t:max$1(t,e))]:[0,1]}function inferAutoDomain(t,e){const s=registry.get(t);return(s===radius||s===opacity||s===length?inferZeroDomain:inferDomain$1)(e)}function inferZeroDomain(t){return[0,t.length?max$1(t,({value:t})=>void 0===t?t:max$1(t,finite)):1]}function inferRadialRange(t,e){const s=t.find(({radius:t})=>void 0!==t);if(void 0!==s)return[0,s.radius];const i=quantile$1(t,.5,({value:t})=>void 0===t?NaN:quantile$1(t,.25,positive)),n=e.map(t=>3*Math.sqrt(t/i)),a=30/max$1(n);return a<1?n.map(t=>t*a):n}function inferLengthRange(t,e){const s=median(t,({value:t})=>void 0===t?NaN:median(t,Math.abs)),i=e.map(t=>12*t/s),n=60/max$1(i);return n<1?i.map(t=>t*n):i}function inferLogDomain(t){for(const{value:e}of t)if(void 0!==e)for(let s of e){if(s>0)return inferDomain$1(t,positive);if(s<0)return inferDomain$1(t,negative)}return[1,10]}function inferQuantileDomain(t){const e=[];for(const{value:s}of t)if(void 0!==s)for(const t of s)e.push(t);return e}function interpolatePiecewise(t){return(e,s)=>i=>t(e+i*(s-e))}let lastMessage,warnings=0;function consumeWarnings(){const t=warnings;return warnings=0,lastMessage=void 0,t}function warn(t){t!==lastMessage&&(lastMessage=t,console.warn(t),++warnings)}function createScaleD(t,e,s,i,{type:n,nice:a,clamp:l,domain:r=inferDomain$1(i),unknown:c,pivot:B=0,scheme:g,range:o,symmetric:F=!0,interpolate:Q=(registry.get(t)===color?null==g&&void 0!==o?interpolateRgb:quantitativeScheme(void 0!==g?g:"rdbu"):interpolateNumber),reverse:U}){B=+B,r=arrayify(r);let[I,d]=r;if(r.length>2&&warn(`Warning: the diverging ${t} scale domain contains extra elements.`),descending$1(I,d)<0&&([I,d]=[d,I],U=!U),I=Math.min(I,B),d=Math.max(d,B),"function"!=typeof Q&&(Q=maybeInterpolator(Q)),void 0!==o&&(Q=1===Q.length?interpolatePiecewise(Q)(...o):piecewise(Q,o)),U&&(Q=flip(Q)),F){const t=s.apply(B),e=t-s.apply(I),i=s.apply(d)-t;e<i?I=s.invert(t-i):e>i&&(d=s.invert(t+e))}return e.domain([I,B,d]).unknown(c).interpolator(Q),l&&e.clamp(l),a&&e.nice(a),{type:n,domain:[I,d],pivot:B,interpolate:Q,scale:e}}function createScaleDiverging(t,e,s){return createScaleD(t,diverging(),transformIdentity,e,s)}function createScaleDivergingSqrt(t,e,s){return createScaleDivergingPow(t,e,{...s,exponent:.5})}function createScaleDivergingPow(t,e,{exponent:s=1,...i}){return createScaleD(t,divergingPow().exponent(s=+s),transformPow(s),e,{...i,type:"diverging-pow"})}function createScaleDivergingLog(t,e,{base:s=10,pivot:i=1,domain:n=inferDomain$1(e,i<0?negative:positive),...a}){return createScaleD(t,divergingLog().base(s=+s),transformLog,e,{domain:n,pivot:i,...a})}function createScaleDivergingSymlog(t,e,{constant:s=1,...i}){return createScaleD(t,divergingSymlog().constant(s=+s),transformSymlog(s),e,i)}const transformIdentity={apply:t=>t,invert:t=>t},transformLog={apply:Math.log,invert:Math.exp},transformSqrt={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function transformPow(t){return.5===t?transformSqrt:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}function transformSymlog(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}function createScaleT(t,e,s,i){return createScaleQ(t,e,s,i)}function createScaleTime(t,e,s){return createScaleT(t,time(),e,s)}function createScaleUtc(t,e,s){return createScaleT(t,utcTime(),e,s)}const ordinalImplicit=Symbol("ordinal");function createScaleO(t,e,s,{type:i,interval:n,domain:a,range:l,reverse:r,hint:c}){return n=maybeRangeInterval(n,i),void 0===a&&(a=inferDomain(s,n,t)),"categorical"!==i&&i!==ordinalImplicit||(i="ordinal"),r&&(a=reverse(a)),a=e.domain(a).domain(),void 0!==l&&("function"==typeof l&&(l=l(a)),e.range(l)),{type:i,domain:a,range:l,scale:e,hint:c,interval:n}}function createScaleOrdinal(t,e,{type:s,interval:i,domain:n,range:a,scheme:l,unknown:r,...c}){let B;if(i=maybeRangeInterval(i,s),void 0===n&&(n=inferDomain(e,i,t)),registry.get(t)===symbol)B=inferSymbolHint(e),a=void 0===a?inferSymbolRange(B):map(a,maybeSymbol);else if(registry.get(t)===color&&(void 0!==a||"ordinal"!==s&&s!==ordinalImplicit||void 0!==(a=maybeBooleanRange(n,l))&&(l=void 0),void 0===l&&void 0===a&&(l="ordinal"===s?"turbo":"observable10"),void 0!==l))if(void 0!==a){const t=quantitativeScheme(l),e=a[0],s=a[1]-a[0];a=({length:i})=>quantize(i=>t(e+s*i),i)}else a=ordinalScheme(l);if(r===implicit)throw new Error(`implicit unknown on ${t} scale is not supported`);return createScaleO(t,ordinal().unknown(r),e,{...c,type:s,domain:n,range:a,hint:B})}function createScalePoint(t,e,{align:s=.5,padding:i=.5,...n}){return maybeRound(point$5().align(s).padding(i),e,n,t)}function createScaleBand(t,e,{align:s=.5,padding:i=.1,paddingInner:n=i,paddingOuter:a=("fx"===t||"fy"===t?0:i),...l}){return maybeRound(band().align(s).paddingInner(n).paddingOuter(a),e,l,t)}function maybeRound(t,e,s,i){let{round:n}=s;return void 0!==n&&t.round(n=!!n),(t=createScaleO(i,t,e,s)).round=n,t}function inferDomain(t,e,s){const i=new InternSet;for(const{value:e,domain:s}of t){if(void 0!==s)return s();if(void 0!==e)for(const t of e)i.add(t)}if(void 0!==e){const[t,s]=extent$1(i).map(e.floor,e);return e.range(t,e.offset(s))}if(i.size>1e4&&registry.get(s)===position)throw new Error(`implicit ordinal domain of ${s} scale has more than 10,000 values`);return sort$2(i,ascendingDefined)}function inferHint(t,e){let s;for(const{hint:i}of t){const t=i?.[e];if(void 0!==t)if(void 0===s)s=t;else if(s!==t)return}return s}function inferSymbolHint(t){return{fill:inferHint(t,"fill"),stroke:inferHint(t,"stroke")}}function inferSymbolRange(t){return isNoneish(t.fill)?symbolsStroke:symbolsFill}function createScales(t,{label:e,inset:s=0,insetTop:i=s,insetRight:n=s,insetBottom:a=s,insetLeft:l=s,round:r,nice:c,clamp:B,zero:g,align:o,padding:F,projection:Q,facet:{label:U=e}={},...I}={}){const d={};for(const[s,b]of t){const t=I[s],u=createScale(s,b,{round:registry.get(s)===position?r:void 0,nice:c,clamp:B,zero:g,align:o,padding:F,projection:Q,...t});if(u){let{label:r=("fx"===s||"fy"===s?U:e),percent:c,transform:B,inset:g,insetTop:o=(void 0!==g?g:"y"===s?i:0),insetRight:F=(void 0!==g?g:"x"===s?n:0),insetBottom:Q=(void 0!==g?g:"y"===s?a:0),insetLeft:I=(void 0!==g?g:"x"===s?l:0)}=t||{};if(null==B)B=void 0;else if("function"!=typeof B)throw new Error("invalid scale transform; not a function");u.percent=!!c,u.label=void 0===r?inferScaleLabel(b,u):r,u.transform=B,"x"===s||"fx"===s?(u.insetLeft=+I,u.insetRight=+F):"y"!==s&&"fy"!==s||(u.insetTop=+o,u.insetBottom=+Q),d[s]=u}}return d}function createScaleFunctions(t){const e={},s={scales:e};for(const[i,n]of Object.entries(t)){const{scale:t,type:a,interval:l,label:r}=n;e[i]=exposeScale(n),s[i]=t,t.type=a,null!=l&&(t.interval=l),null!=r&&(t.label=r)}return s}function autoScaleRange(t,e){const{x:s,y:i,fx:n,fy:a}=t,l=n||a?outerDimensions(e):e;n&&autoScaleRangeX(n,l),a&&autoScaleRangeY(a,l);const r=n||a?innerDimensions(t,e):e;s&&autoScaleRangeX(s,r),i&&autoScaleRangeY(i,r)}function inferScaleLabel(t=[],e){let s;for(const{label:e}of t)if(void 0!==e)if(void 0===s)s=e;else if(s!==e)return;if(void 0!==s)return!isOrdinalScale(e)&&e.percent&&(s=`${s} (%)`),{inferred:!0,toString:()=>s}}function inferScaleOrder(t){return Math.sign(orderof(t.domain()))*Math.sign(orderof(t.range()))}function outerDimensions(t){const{marginTop:e,marginRight:s,marginBottom:i,marginLeft:n,width:a,height:l,facet:{marginTop:r,marginRight:c,marginBottom:B,marginLeft:g}}=t;return{marginTop:Math.max(e,r),marginRight:Math.max(s,c),marginBottom:Math.max(i,B),marginLeft:Math.max(n,g),width:a,height:l}}function innerDimensions({fx:t,fy:e},s){const{marginTop:i,marginRight:n,marginBottom:a,marginLeft:l,width:r,height:c}=outerDimensions(s);return{marginTop:i,marginRight:n,marginBottom:a,marginLeft:l,width:t?t.scale.bandwidth()+l+n:r,height:e?e.scale.bandwidth()+i+a:c,facet:{width:r,height:c}}}function autoScaleRangeX(t,e){if(void 0===t.range){const{insetLeft:s,insetRight:i}=t,{width:n,marginLeft:a=0,marginRight:l=0}=e,r=a+s,c=n-l-i;t.range=[r,Math.max(r,c)],isOrdinalScale(t)||(t.range=piecewiseRange(t)),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRangeY(t,e){if(void 0===t.range){const{insetTop:s,insetBottom:i}=t,{height:n,marginTop:a=0,marginBottom:l=0}=e,r=a+s,c=n-l-i;t.range=[Math.max(r,c),r],isOrdinalScale(t)?t.range.reverse():t.range=piecewiseRange(t),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRound(t){void 0===t.round&&isBandScale(t)&&roundError(t)<=30&&t.scale.round(!0)}function roundError({scale:t}){const e=t.domain().length,[s,i]=t.range(),n=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),l=e-n,r=Math.abs(i-s)/Math.max(1,l+2*a);return(r-Math.floor(r))*l}function piecewiseRange(t){const e=t.scale.domain().length+isThresholdScale(t);if(!(e>2))return t.range;const[s,i]=t.range;return Array.from({length:e},(t,n)=>s+n/(e-1)*(i-s))}function createScale(t,e=[],s={}){const i=inferScaleType(t,e,s);if(void 0===s.type&&void 0===s.domain&&void 0===s.range&&null==s.interval&&"fx"!==t&&"fy"!==t&&isOrdinalScale({type:i})){const s=e.map(({value:t})=>t).filter(t=>void 0!==t);s.some(isTemporal)?warn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(i)}".`):s.some(isTemporalString)?warn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(i)}".`):s.some(isNumericString)&&warn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${formatScaleType(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(i)}".`)}switch(s.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":s=coerceType(e,s,coerceNumbers);break;case"identity":switch(registry.get(t)){case position:s=coerceType(e,s,coerceNumbers);break;case symbol:s=coerceType(e,s,coerceSymbols)}break;case"utc":case"time":s=coerceType(e,s,coerceDates)}switch(i){case"diverging":return createScaleDiverging(t,e,s);case"diverging-sqrt":return createScaleDivergingSqrt(t,e,s);case"diverging-pow":return createScaleDivergingPow(t,e,s);case"diverging-log":return createScaleDivergingLog(t,e,s);case"diverging-symlog":return createScaleDivergingSymlog(t,e,s);case"categorical":case"ordinal":case ordinalImplicit:return createScaleOrdinal(t,e,s);case"cyclical":case"sequential":case"linear":return createScaleLinear(t,e,s);case"sqrt":return createScaleSqrt(t,e,s);case"threshold":return createScaleThreshold(t,e,s);case"quantile":return createScaleQuantile(t,e,s);case"quantize":return createScaleQuantize(t,e,s);case"pow":return createScalePow(t,e,s);case"log":return createScaleLog(t,e,s);case"symlog":return createScaleSymlog(t,e,s);case"utc":return createScaleUtc(t,e,s);case"time":return createScaleTime(t,e,s);case"point":return createScalePoint(t,e,s);case"band":return createScaleBand(t,e,s);case"identity":return createScaleIdentity(t);case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}function formatScaleType(t){return"symbol"==typeof t?t.description:t}function maybeScaleType(t){return"string"==typeof t?`${t}`.toLowerCase():t}const typeProjection={toString:()=>"projection"};function inferScaleType(t,e,{type:s,domain:i,range:n,scheme:a,pivot:l,projection:r}){if(s=maybeScaleType(s),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==r||(s=typeProjection);for(const t of e){const e=maybeScaleType(t.type);if(void 0!==e)if(void 0===s)s=e;else if(s!==e)throw new Error(`scale incompatible with channel: ${s} !== ${e}`)}if(s===typeProjection)return;if(void 0!==s)return s;if(void 0===i&&!e.some(({value:t})=>void 0!==t))return;const c=registry.get(t);if(c===radius)return"sqrt";if(c===opacity||c===length)return"linear";if(c===symbol)return"ordinal";const B=(i??n)?.length;if(B<2||B>2)return asOrdinalType(c);if(void 0!==i){if(isOrdinal(i))return asOrdinalType(c);if(isTemporal(i))return"utc"}else{const t=e.map(({value:t})=>t).filter(t=>void 0!==t);if(t.some(isOrdinal))return asOrdinalType(c);if(t.some(isTemporal))return"utc"}if(c===color){if(null!=l||isDivergingScheme(a))return"diverging";if(isCategoricalScheme(a))return"categorical"}return"linear"}function asOrdinalType(t){switch(t){case position:return"point";case color:return ordinalImplicit;default:return"ordinal"}}function isOrdinalScale({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===ordinalImplicit}function isThresholdScale({type:t}){return"threshold"===t}function isBandScale({type:t}){return"point"===t||"band"===t}function isCollapsed(t){if(void 0===t)return!0;const e=t.domain(),s=t(e[0]);for(let i=1,n=e.length;i<n;++i)if(t(e[i])-s)return!1;return!0}function coerceType(t,{domain:e,...s},i){for(const s of t)void 0!==s.value&&(void 0===e&&(e=s.value?.domain),s.value=i(s.value));return{domain:void 0===e?e:i(e),...s}}function coerceSymbols(t){return map(t,maybeSymbol)}function exposeScales(t){return e=>{if(!registry.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function exposeScale({scale:t,type:e,domain:s,range:i,interpolate:n,interval:a,transform:l,percent:r,pivot:c}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const B=t.unknown?t.unknown():void 0;return{type:e,domain:slice(s),...void 0!==i&&{range:slice(i)},...void 0!==l&&{transform:l},...r&&{percent:r},...void 0!==B&&{unknown:B},...void 0!==a&&{interval:a},...void 0!==n&&{interpolate:n},...t.clamp&&{clamp:t.clamp()},...void 0!==c&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}function createFacets(t,e){const{fx:s,fy:i}=createScales(t,e),n=s?.scale.domain(),a=i?.scale.domain();return n&&a?cross(n,a).map(([t,e],s)=>({x:t,y:e,i:s})):n?n.map((t,e)=>({x:t,i:e})):a?a.map((t,e)=>({y:t,i:e})):void 0}function recreateFacets(t,{x:e,y:s}){return e&&=facetIndex(e),s&&=facetIndex(s),t.filter(e&&s?t=>e.has(t.x)&&s.has(t.y):e?t=>e.has(t.x):t=>s.has(t.y)).sort(e&&s?(t,i)=>e.get(t.x)-e.get(i.x)||s.get(t.y)-s.get(i.y):e?(t,s)=>e.get(t.x)-e.get(s.x):(t,e)=>s.get(t.y)-s.get(e.y))}function facetGroups(t,{fx:e,fy:s}){const i=range(t),n=e?.value,a=s?.value;return e&&s?rollup(i,t=>(t.fx=n[t[0]],t.fy=a[t[0]],t),t=>n[t],t=>a[t]):e?rollup(i,t=>(t.fx=n[t[0]],t),t=>n[t]):rollup(i,t=>(t.fy=a[t[0]],t),t=>a[t])}function facetTranslator(t,e,{marginTop:s,marginLeft:i}){const n=t?({x:e})=>t(e)-i:()=>0,a=e?({y:t})=>e(t)-s:()=>0;return function(t){"svg"===this.tagName?(this.setAttribute("x",n(t)),this.setAttribute("y",a(t))):this.setAttribute("transform",`translate(${n(t)},${a(t)})`)}}function facetExclude(t){const e=[],s=new Uint32Array(sum(t,t=>t.length));for(const i of t){let n=0;for(const e of t)i!==e&&(s.set(e,n),n+=e.length);e.push(s.slice(0,n))}return e}const facetAnchors=new Map([["top",facetAnchorTop],["right",facetAnchorRight],["bottom",facetAnchorBottom],["left",facetAnchorLeft],["top-left",and(facetAnchorTop,facetAnchorLeft)],["top-right",and(facetAnchorTop,facetAnchorRight)],["bottom-left",and(facetAnchorBottom,facetAnchorLeft)],["bottom-right",and(facetAnchorBottom,facetAnchorRight)],["top-empty",facetAnchorTopEmpty],["right-empty",facetAnchorRightEmpty],["bottom-empty",facetAnchorBottomEmpty],["left-empty",facetAnchorLeftEmpty],["empty",facetAnchorEmpty]]);function maybeFacetAnchor(t){if(null==t)return null;const e=facetAnchors.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const indexCache=new WeakMap;function facetIndex(t){let e=indexCache.get(t);return e||indexCache.set(t,e=new InternMap(map(t,(t,e)=>[t,e]))),e}function facetIndexOf(t,e){return facetIndex(t).get(e)}function facetFind(t,e,s){return e=keyof(e),s=keyof(s),t.find(t=>Object.is(keyof(t.x),e)&&Object.is(keyof(t.y),s))}function facetEmpty(t,e,s){return facetFind(t,e,s)?.empty}function facetAnchorTop(t,{y:e},{y:s}){return!e||0===facetIndexOf(e,s)}function facetAnchorBottom(t,{y:e},{y:s}){return!e||facetIndexOf(e,s)===e.length-1}function facetAnchorLeft(t,{x:e},{x:s}){return!e||0===facetIndexOf(e,s)}function facetAnchorRight(t,{x:e},{x:s}){return!e||facetIndexOf(e,s)===e.length-1}function facetAnchorTopEmpty(t,{y:e},{x:s,y:i,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,i);return a>0?facetEmpty(t,s,e[a-1]):void 0}function facetAnchorBottomEmpty(t,{y:e},{x:s,y:i,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,i);return a<e.length-1?facetEmpty(t,s,e[a+1]):void 0}function facetAnchorLeftEmpty(t,{x:e},{x:s,y:i,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,s);return a>0?facetEmpty(t,e[a-1],i):void 0}function facetAnchorRightEmpty(t,{x:e},{x:s,y:i,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,s);return a<e.length-1?facetEmpty(t,e[a+1],i):void 0}function facetAnchorEmpty(t,e,{empty:s}){return s}function and(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function facetFilter(t,{channels:{fx:e,fy:s},groups:i}){return e&&s?t.map(({x:t,y:e})=>i.get(t)?.get(e)??[]):e?t.map(({x:t})=>i.get(t)??[]):t.map(({y:t})=>i.get(t)??[])}const pi=Math.PI,tau=2*pi,defaultAspectRatio=.618;function createProjection({projection:t,inset:e=0,insetTop:s=e,insetRight:i=e,insetBottom:n=e,insetLeft:a=e}={},l){if(null==t)return;if("function"==typeof t.stream)return t;let r,c,B="frame";if(isObject(t)){let e;if(({type:t,domain:c,inset:e,insetTop:s=(void 0!==e?e:s),insetRight:i=(void 0!==e?e:i),insetBottom:n=(void 0!==e?e:n),insetLeft:a=(void 0!==e?e:a),clip:B=B,...r}=t),null==t)return}"function"!=typeof t&&({type:t}=namedProjection(t));const{width:g,height:o,marginLeft:F,marginRight:Q,marginTop:U,marginBottom:I}=l,d=g-F-Q-a-i,b=o-U-I-s-n;if(t=t?.({width:d,height:b,clip:B,...r}),null==t)return;B=maybePostClip(B,F,U,g-Q,o-I);let u,C=F+a,h=U+s;if(null!=c){const[[e,s],[i,n]]=geoPath(t).bounds(c),a=Math.min(d/(i-e),b/(n-s));a>0?(C-=(a*(e+i)-d)/2,h-=(a*(s+n)-b)/2,u=geoTransform({point(t,e){this.stream.point(t*a+C,e*a+h)}})):warn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return u??=0===C&&0===h?identity():geoTransform({point(t,e){this.stream.point(t+C,e+h)}}),{stream:e=>t.stream(u.stream(B(e)))}}function namedProjection(t){switch(`${t}`.toLowerCase()){case"albers-usa":return scaleProjection(geoAlbersUsa,.7463,.4673);case"albers":return conicProjection(geoAlbers,.7463,.4673);case"azimuthal-equal-area":return scaleProjection(geoAzimuthalEqualArea,4,4);case"azimuthal-equidistant":return scaleProjection(geoAzimuthalEquidistant,tau,tau);case"conic-conformal":return conicProjection(geoConicConformal,tau,tau);case"conic-equal-area":return conicProjection(geoConicEqualArea,6.1702,2.9781);case"conic-equidistant":return conicProjection(geoConicEquidistant,7.312,3.6282);case"equal-earth":return scaleProjection(geoEqualEarth,5.4133,2.6347);case"equirectangular":return scaleProjection(geoEquirectangular,tau,pi);case"gnomonic":return scaleProjection(geoGnomonic,3.4641,3.4641);case"identity":return{type:identity};case"reflect-y":return{type:reflectY};case"mercator":return scaleProjection(geoMercator,tau,tau);case"orthographic":return scaleProjection(geoOrthographic,2,2);case"stereographic":return scaleProjection(geoStereographic,2,2);case"transverse-mercator":return scaleProjection(geoTransverseMercator,tau,tau);default:throw new Error(`unknown projection type: ${t}`)}}function maybePostClip(t,e,s,i,n){if(!1===t||null==t||"number"==typeof t)return t=>t;if(!0===t&&(t="frame"),"frame"===`${t}`.toLowerCase())return clipRectangle(e,s,i,n);throw new Error(`unknown projection clip type: ${t}`)}function scaleProjection(t,e,s){return{type:({width:i,height:n,rotate:a,precision:l=.15,clip:r})=>{const c=t();return null!=l&&c.precision?.(l),null!=a&&c.rotate?.(a),"number"==typeof r&&c.clipAngle?.(r),null!=i&&(c.scale(Math.min(i/e,n/s)),c.translate([i/2,n/2])),c},aspectRatio:s/e}}function conicProjection(t,e,s){const{type:i,aspectRatio:n}=scaleProjection(t,e,s);return{type:t=>{const{parallels:e,domain:s,width:n,height:a}=t,l=i(t);return null!=e&&(l.parallels(e),void 0===s&&null!=n&&l.fitSize([n,a],{type:"Sphere"})),l},aspectRatio:n}}const identity=constant({stream:t=>t}),reflectY=constant(geoTransform({point(t,e){this.stream.point(t,-e)}}));function project(t,e,s,i){const n=s[t],a=s[e],l=n.length,r=s[t]=new Float64Array(l).fill(NaN),c=s[e]=new Float64Array(l).fill(NaN);let B;const g=i.stream({point(t,e){r[B]=t,c[B]=e}});for(B=0;B<l;++B)g.point(n[B],a[B])}function hasProjection({projection:t}={}){return null!=t&&("function"==typeof t.stream||(isObject(t)&&(t=t.type),null!=t))}function projectionAspectRatio(t){if("function"==typeof t?.stream)return.618;if(isObject(t)){let e,s;if(({domain:e,type:t,...s}=t),null!=e&&null!=t){const i="string"==typeof t?namedProjection(t).type:t,[[n,a],[l,r]]=geoPath(i({...s,width:100,height:100})).bounds(e),c=(r-a)/(l-n);return c&&isFinite(c)?c<.2?.2:c>5?5:c:.618}}if(null!=t){if("function"!=typeof t){const{aspectRatio:e}=namedProjection(t);if(e)return e}return.618}}function getGeometryChannels(t){const e=[],s=[],i={scale:"x",value:e},n={scale:"y",value:s},a={point(t,i){e.push(t),s.push(i)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const e of t.value)geoStream(e,a);return[i,n]}function xyProjection({x:t,y:e}){if(t||e)return t??=t=>t,e??=t=>t,geoTransform({point(s,i){this.stream.point(t(s),e(i))}})}function createContext(t={}){const{document:e=("undefined"!=typeof window?window.document:void 0),clip:s}=t;return{document:e,clip:maybeClip(s)}}function create(t,{document:e}){return select(creator(t).call(e.documentElement))}const unset=Symbol("unset");function memoize1(t){return(1===t.length?memoize1Arg:memoize1Args)(t)}function memoize1Arg(t){let e,s=unset;return i=>(Object.is(s,i)||(s=i,e=t(i)),e)}function memoize1Args(t){let e,s;return(...i)=>((s?.length!==i.length||s.some((t,e)=>!Object.is(t,i[e])))&&(s=i,e=t(...i)),e)}const numberFormat=memoize1(t=>new Intl.NumberFormat(t));function formatNumber(t="en-US"){const e=numberFormat(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}function formatIsoDate(t){return format(t,"Invalid Date")}function formatAuto(t="en-US"){const e=formatNumber(t);return t=>(t instanceof Date?formatIsoDate:"number"==typeof t?e:string)(t)}memoize1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}})),memoize1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));const formatDefault=formatAuto(),offset=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let nextClipId=0;function getClipId(){return"plot-clip-"+ ++nextClipId}function styles(t,{title:e,href:s,ariaLabel:i,ariaDescription:n,ariaHidden:a,target:l,fill:r,fillOpacity:c,stroke:B,strokeWidth:g,strokeOpacity:o,strokeLinejoin:F,strokeLinecap:Q,strokeMiterlimit:U,strokeDasharray:I,strokeDashoffset:d,opacity:b,mixBlendMode:u,imageFilter:C,paintOrder:h,pointerEvents:y,shapeRendering:x,channels:m},{ariaLabel:p,fill:A="currentColor",fillOpacity:G,stroke:R="none",strokeOpacity:S,strokeWidth:L,strokeLinecap:E,strokeLinejoin:V,strokeMiterlimit:Z,paintOrder:N}){null===A&&(r=null,c=null),null===R&&(B=null,o=null),isNoneish(A)?isNoneish(R)||isNoneish(r)&&!m?.fill||(R="none"):!isNoneish(R)||isNoneish(B)&&!m?.stroke||(A="none");const[f,X]=maybeColorChannel(r,A),[W,D]=maybeNumberChannel(c,G),[H,w]=maybeColorChannel(B,R),[v,Y]=maybeNumberChannel(o,S),[T,k]=maybeNumberChannel(b);isNone(w)||(void 0===g&&(g=L),void 0===Q&&(Q=E),void 0===F&&(F=V),void 0!==U||isRound(F)||(U=Z),isNone(X)||void 0!==h||(h=N));const[M,J]=maybeNumberChannel(g);return null!==A&&(t.fill=impliedString(X,"currentColor"),t.fillOpacity=impliedNumber(D,1)),null!==R&&(t.stroke=impliedString(w,"none"),t.strokeWidth=impliedNumber(J,1),t.strokeOpacity=impliedNumber(Y,1),t.strokeLinejoin=impliedString(F,"miter"),t.strokeLinecap=impliedString(Q,"butt"),t.strokeMiterlimit=impliedNumber(U,4),t.strokeDasharray=impliedString(I,"none"),t.strokeDashoffset=impliedString(d,"0")),t.target=string(l),t.ariaLabel=string(p),t.ariaDescription=string(n),t.ariaHidden=string(a),t.opacity=impliedNumber(k,1),t.mixBlendMode=impliedString(u,"normal"),t.imageFilter=impliedString(C,"none"),t.paintOrder=impliedString(h,"normal"),t.pointerEvents=impliedString(y,"auto"),t.shapeRendering=impliedString(x,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:s,optional:!0,filter:null},ariaLabel:{value:i,optional:!0,filter:null},fill:{value:f,scale:"auto",optional:!0},fillOpacity:{value:W,scale:"auto",optional:!0},stroke:{value:H,scale:"auto",optional:!0},strokeOpacity:{value:v,scale:"auto",optional:!0},strokeWidth:{value:M,optional:!0},opacity:{value:T,scale:"auto",optional:!0}}}function applyTitle(t,e){e&&t.filter(t=>nonempty(e[t])).append("title").call(applyText,e)}function applyTitleGroup(t,e){e&&t.filter(([t])=>nonempty(e[t])).append("title").call(applyTextGroup,e)}function applyText(t,e){e&&t.text(t=>formatDefault(e[t]))}function applyTextGroup(t,e){e&&t.text(([t])=>formatDefault(e[t]))}function applyChannelStyles(t,{target:e,tip:s},{ariaLabel:i,title:n,fill:a,fillOpacity:l,stroke:r,strokeOpacity:c,strokeWidth:B,opacity:g,href:o}){i&&applyAttr(t,"aria-label",t=>i[t]),a&&applyAttr(t,"fill",t=>a[t]),l&&applyAttr(t,"fill-opacity",t=>l[t]),r&&applyAttr(t,"stroke",t=>r[t]),c&&applyAttr(t,"stroke-opacity",t=>c[t]),B&&applyAttr(t,"stroke-width",t=>B[t]),g&&applyAttr(t,"opacity",t=>g[t]),o&&applyHref(t,t=>o[t],e),s||applyTitle(t,n)}function applyGroupedChannelStyles(t,{target:e,tip:s},{ariaLabel:i,title:n,fill:a,fillOpacity:l,stroke:r,strokeOpacity:c,strokeWidth:B,opacity:g,href:o}){i&&applyAttr(t,"aria-label",([t])=>i[t]),a&&applyAttr(t,"fill",([t])=>a[t]),l&&applyAttr(t,"fill-opacity",([t])=>l[t]),r&&applyAttr(t,"stroke",([t])=>r[t]),c&&applyAttr(t,"stroke-opacity",([t])=>c[t]),B&&applyAttr(t,"stroke-width",([t])=>B[t]),g&&applyAttr(t,"opacity",([t])=>g[t]),o&&applyHref(t,([t])=>o[t],e),s||applyTitleGroup(t,n)}function groupAesthetics({ariaLabel:t,title:e,fill:s,fillOpacity:i,stroke:n,strokeOpacity:a,strokeWidth:l,opacity:r,href:c},{tip:B}){return[t,B?void 0:e,s,i,n,a,l,r,c].filter(t=>void 0!==t)}function groupZ(t,e,s){const i=group(t,t=>e[t]);return void 0===s&&i.size>1+t.length>>1&&warn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),i.values()}function*groupIndex(t,e,s,i){const{z:n}=s,{z:a}=i,l=groupAesthetics(i,s),r=[...e,...l];for(const e of a?groupZ(t,a,n):[t]){let t,s;t:for(const i of e){for(const t of r)if(!defined(t[i])){s&&s.push(-1);continue t}if(void 0!==t){s.push(i);for(let e=0;e<l.length;++e){if(keyof(l[e][i])!==t[e]){yield s,t=l.map(t=>keyof(t[i])),s=[i];continue t}}}else s&&(yield s),t=l.map(t=>keyof(t[i])),s=[i]}s&&(yield s)}}function applyClip(t,e,s,i){let n;const{clip:a=i.clip}=e;"frame"===a?(t=create("svg:g",i).each(function(){this.appendChild(t.node()),t.node=()=>this}),n=getFrameClip(i,s)):a&&(n=getGeoClip(a,i)),applyAttr(t,"aria-label",e.ariaLabel),applyAttr(t,"aria-description",e.ariaDescription),applyAttr(t,"aria-hidden",e.ariaHidden),applyAttr(t,"clip-path",n)}function memoizeClip(t){const e=new WeakMap;return(s,i)=>{let n=e.get(s);if(!n){const a=getClipId();select(s.ownerSVGElement).append("clipPath").attr("id",a).call(t,s,i),e.set(s,n=`url(#${a})`)}return n}}const getFrameClip=memoizeClip((t,e,s)=>{const{width:i,height:n,marginLeft:a,marginRight:l,marginTop:r,marginBottom:c}=s;t.append("rect").attr("x",a).attr("y",r).attr("width",i-l-a).attr("height",n-r-c)}),geoClipCache=new WeakMap,sphere={type:"Sphere"};function getGeoClip(t,e){let s,i;if((s=geoClipCache.get(e))||geoClipCache.set(e,s=new WeakMap),"Sphere"===t.type&&(t=sphere),!(i=s.get(t))){const n=getClipId();select(e.ownerSVGElement).append("clipPath").attr("id",n).append("path").attr("d",e.path()(t)),s.set(t,i=`url(#${n})`)}return i}function applyIndirectStyles(t,e,s,i){applyClip(t,e,s,i),applyAttr(t,"class",e.className),applyAttr(t,"fill",e.fill),applyAttr(t,"fill-opacity",e.fillOpacity),applyAttr(t,"stroke",e.stroke),applyAttr(t,"stroke-width",e.strokeWidth),applyAttr(t,"stroke-opacity",e.strokeOpacity),applyAttr(t,"stroke-linejoin",e.strokeLinejoin),applyAttr(t,"stroke-linecap",e.strokeLinecap),applyAttr(t,"stroke-miterlimit",e.strokeMiterlimit),applyAttr(t,"stroke-dasharray",e.strokeDasharray),applyAttr(t,"stroke-dashoffset",e.strokeDashoffset),applyAttr(t,"shape-rendering",e.shapeRendering),applyAttr(t,"filter",e.imageFilter),applyAttr(t,"paint-order",e.paintOrder);const{pointerEvents:n=(!1===i.pointerSticky?"none":void 0)}=e;applyAttr(t,"pointer-events",n)}function applyDirectStyles(t,e){applyStyle(t,"mix-blend-mode",e.mixBlendMode),applyAttr(t,"opacity",e.opacity)}function applyHref(t,e,s){t.each(function(t){const i=e(t);if(null!=i){const t=this.ownerDocument.createElementNS(namespaces.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(namespaces.xlink,"href",i),null!=s&&t.setAttribute("target",s),this.parentNode.insertBefore(t,this).appendChild(this)}})}function applyAttr(t,e,s){null!=s&&t.attr(e,s)}function applyStyle(t,e,s){null!=s&&t.style(e,s)}function applyTransform(t,e,{x:s,y:i},n=offset,a=offset){n+=e.dx,a+=e.dy,s?.bandwidth&&(n+=s.bandwidth()/2),i?.bandwidth&&(a+=i.bandwidth()/2),(n||a)&&t.attr("transform",`translate(${n},${a})`)}function impliedString(t,e){if((t=string(t))!==e)return t}function impliedNumber(t,e){if((t=number(t))!==e)return t}const validClassName=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function maybeClassName(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!validClassName.test(t))throw new Error(`invalid class name: ${t}`);return t}function applyInlineStyles(t,e){if("string"==typeof e)t.property("style",e);else if(null!=e)for(const s of t)Object.assign(s.style,e)}function applyFrameAnchor({frameAnchor:t},{width:e,height:s,marginTop:i,marginRight:n,marginBottom:a,marginLeft:l}){return[/left$/.test(t)?l:/right$/.test(t)?e-n:(l+e-n)/2,/^top/.test(t)?i:/^bottom/.test(t)?s-a:(i+s-a)/2]}class Mark{constructor(t,e={},s={},i){const{facet:n="auto",facetAnchor:a,fx:l,fy:r,sort:c,dx:B=0,dy:g=0,margin:o=0,marginTop:F=o,marginRight:Q=o,marginBottom:U=o,marginLeft:I=o,className:d,clip:b=i?.clip,channels:u,tip:C,render:h}=s;if(this.data=t,this.sort=isDomainSort(c)?c:null,this.initializer=initializer(s).initializer,this.transform=this.initializer?s.transform:basic(s).transform,null===n||!1===n?this.facet=null:(this.facet=keyword(!0===n?"include":n,"facet",["auto","include","exclude","super"]),this.fx=t===singleton&&"string"==typeof l?[l]:l,this.fy=t===singleton&&"string"==typeof r?[r]:r),this.facetAnchor=maybeFacetAnchor(a),e=maybeNamed(e),void 0!==u&&(e={...maybeChannels(u),...e}),void 0!==i&&(e={...styles(this,s,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([e,s])=>{if(isOptions(s.value)){const{value:t,label:e=s.label,scale:i=s.scale}=s.value;s={...s,label:e,scale:i,value:t}}if(t===singleton&&"string"==typeof s.value){const{value:t}=s;s={...s,value:[t]}}return[e,s]}).filter(([t,{value:e,optional:s}])=>{if(null!=e)return!0;if(s)return!1;throw new Error(`missing channel value: ${t}`)})),this.dx=+B,this.dy=+g,this.marginTop=+F,this.marginRight=+Q,this.marginBottom=+U,this.marginLeft=+I,this.clip=maybeClip(b),this.tip=maybeTip(C),this.className=string(d),"super"===this.facet){if(l||r)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:s}=e[t];if("x"===s||"y"===s)throw new Error("super-faceting cannot use x or y")}}null!=h&&(this.render=composeRender(h,this.render))}initialize(t,e,s){let i=dataify(this.data);void 0===t&&null!=i&&(t=[range(i)]);const n=t;null!=this.transform&&(({facets:t,data:i}=this.transform(i,t,s)),i=dataify(i)),void 0!==t&&(t.original=n);const a=createChannels(this.channels,i);return null!=this.sort&&channelDomain(i,t,a,e,this.sort),{data:i,facets:t,channels:a}}filter(t,e,s){for(const i in e){const{filter:n=defined}=e[i];if(null!==n){const e=s[i];t=t.filter(t=>n(e[t]))}}return t}project(t,e,s){for(const i in t)if("x"===t[i].scale&&/^x|x$/.test(i)){const n=i.replace(/^x|x$/,"y");n in t&&"y"===t[n].scale&&project(i,n,e,s.projection)}}scale(t,e,s){const i=valueObject(t,e);return s.projection&&this.project(t,i,s),i}}function marks(...t){return t.plot=Mark.prototype.plot,t}function composeRender(t,e){if(null==t)return null===e?void 0:e;if(null==e)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof e)throw new TypeError(`invalid render transform: ${e}`);return function(s,i,n,a,l,r){return t.call(this,s,i,n,a,l,(t,s,i,n,a)=>e.call(this,t,s,i,n,a,r))}}function maybeChannels(t){return Object.fromEntries(Object.entries(maybeNamed(t)).map(([t,e])=>(void 0===(e="string"==typeof e?{value:e,label:t}:maybeValue(e)).filter&&null==e.scale&&(e={...e,filter:null}),[t,e])))}function maybeTip(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?keyword(t,"tip",["x","y","xy"]):t}function withTip(t,e){return!0===t?.tip?{...t,tip:e}:isObject(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:e}}:t}function createDimensions(t,e,s={}){let i=.5-offset,n=.5+offset,a=.5+offset,l=.5-offset;for(const{marginTop:t,marginRight:s,marginBottom:r,marginLeft:c}of e)t>i&&(i=t),s>n&&(n=s),r>a&&(a=r),c>l&&(l=c);let{margin:r,marginTop:c=(void 0!==r?r:i),marginRight:B=(void 0!==r?r:n),marginBottom:g=(void 0!==r?r:a),marginLeft:o=(void 0!==r?r:l)}=s;c=+c,B=+B,g=+g,o=+o;let{width:F=640,height:Q=autoHeight(t,s,{width:F,marginTopDefault:i,marginRightDefault:n,marginBottomDefault:a,marginLeftDefault:l})+Math.max(0,c-i+g-a)}=s;F=+F,Q=+Q;const U={width:F,height:Q,marginTop:c,marginRight:B,marginBottom:g,marginLeft:o};if(t.fx||t.fy){let{margin:t,marginTop:e=(void 0!==t?t:c),marginRight:i=(void 0!==t?t:B),marginBottom:n=(void 0!==t?t:g),marginLeft:a=(void 0!==t?t:o)}=s.facet??{};e=+e,i=+i,n=+n,a=+a,U.facet={marginTop:e,marginRight:i,marginBottom:n,marginLeft:a}}return U}function autoHeight({x:t,y:e,fy:s,fx:i},{projection:n,aspectRatio:a},{width:l,marginTopDefault:r,marginRightDefault:c,marginBottomDefault:B,marginLeftDefault:g}){const o=s&&s.scale.domain().length||1,F=projectionAspectRatio(n);if(F){const t=(1.1*o-.1)/(1.1*(i?i.scale.domain().length:1)-.1)*F,e=Math.max(.1,Math.min(10,t));return Math.round((l-g-c)*e+r+B)}const Q=e?isOrdinalScale(e)?e.scale.domain().length||1:Math.max(7,17/o):1;if(null!=a){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const n=aspectRatioLength("y",e)/(aspectRatioLength("x",t)*a),o=i?i.scale.bandwidth():1,F=s?s.scale.bandwidth():1;return(n*(o*(l-g-c)-t.insetLeft-t.insetRight)+e.insetTop+e.insetBottom)/F+r+B}return!(!e&&!s)*Math.max(1,Math.min(60,Q*o))*20+30*!!i+60}function aspectRatioLength(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:s,domain:i}=e;let n;switch(s){case"linear":case"utc":case"time":n=Number;break;case"pow":{const t=e.scale.exponent();n=e=>Math.pow(e,t);break}case"log":n=Math.log;break;case"point":case"band":return i.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${s}`)}const[a,l]=extent$1(i);return Math.abs(n(l)-n(a))}const states=new WeakMap;function pointerK(t,e,{x:s,y:i,px:n,py:a,maxRadius:l=40,channels:r,render:c,...B}={}){return l=+l,null!=n&&(s??=null,r={...r,px:{value:n,scale:"x"}}),null!=a&&(i??=null,r={...r,py:{value:a,scale:"y"}}),{x:s,y:i,channels:r,...B,render:composeRender(function(s,i,n,a,r,c){const B=(r={...r,pointerSticky:!1}).ownerSVGElement,{data:g}=r.getMarkState(this);let o=states.get(B);o||states.set(B,o={sticky:!1,roots:[],renders:[]});let F=o.renders.push(Z)-1;const{x:Q,y:U,fx:I,fy:d}=i;let b=I?I(s.fx)-a.marginLeft:0,u=d?d(s.fy)-a.marginTop:0;Q?.bandwidth&&(b+=Q.bandwidth()/2),U?.bandwidth&&(u+=U.bandwidth()/2);const C=null!=s.fi;let h;if(C){let t=o.facetStates;t||(o.facetStates=t=new Map),h=t.get(this),h||t.set(this,h=new Map)}const[y,x]=applyFrameAnchor(this,a),{px:m,py:p}=n,A=m?t=>m[t]:anchorX$1(n,y),G=p?t=>p[t]:anchorY$1(n,x);let R,S,L,E;function V(t,e){if(C){if(E&&(E=cancelAnimationFrame(E)),null!=t)return h.set(s.fi,e),void(E=requestAnimationFrame(()=>{E=null;for(const[i,n]of h)if(n<e||n===e&&i<s.fi){t=null;break}Z(t)}));h.delete(s.fi)}Z(t)}function Z(t){if(R===t&&L===o.sticky)return;R=t,L=r.pointerSticky=o.sticky;const e=null==R?[]:[R];C&&(e.fx=s.fx,e.fy=s.fy,e.fi=s.fi);const l=c(e,i,n,a,r);if(S){if(C){const t=S.parentNode,e=S.getAttribute("transform"),s=l.getAttribute("transform");e?l.setAttribute("transform",e):l.removeAttribute("transform"),s?t.setAttribute("transform",s):t.removeAttribute("transform"),l.removeAttribute("aria-label"),l.removeAttribute("aria-description"),l.removeAttribute("aria-hidden")}S.replaceWith(l)}if(o.roots[F]=S=l,!(null==R&&h?.size>1)){const t=null==R?null:isArray(g)?g[R]:g.get(R);r.dispatchValue(t)}return l}function N(i){if(o.sticky||"mouse"===i.pointerType&&1===i.buttons)return;let[n,r]=pointof(i);n-=b,r-=u;const c=n<a.marginLeft||n>a.width-a.marginRight?1:t,B=r<a.marginTop||r>a.height-a.marginBottom?1:e;let g=null,F=l*l;for(const t of s){const e=c*(A(t)-n),s=B*(G(t)-r),i=e*e+s*s;i<=F&&(g=t,F=i)}if(null!=g&&(1!==t||1!==e)){const t=A(g)-n,e=G(g)-r;F=t*t+e*e}V(g,F)}return B.addEventListener("pointerenter",N),B.addEventListener("pointermove",N),B.addEventListener("pointerdown",function(t){"mouse"===t.pointerType&&null!=R&&(o.sticky&&o.roots.some(e=>e?.contains(t.target))||(o.sticky?(o.sticky=!1,o.renders.forEach(t=>t(null))):(o.sticky=!0,Z(R)),t.stopImmediatePropagation()))}),B.addEventListener("pointerleave",function(t){"mouse"===t.pointerType&&(o.sticky||V(null))}),Z(null)},c)}}function pointer(t){return pointerK(1,1,t)}function pointerX(t){return pointerK(1,.01,t)}function pointerY(t){return pointerK(.01,1,t)}function anchorX$1({x1:t,x2:e,x:s=t},i){return t&&e?s=>(t[s]+e[s])/2:s?t=>s[t]:()=>i}function anchorY$1({y1:t,y2:e,y:s=t},i){return t&&e?s=>(t[s]+e[s])/2:s?t=>s[t]:()=>i}function inferFontVariant$2(t){return isOrdinalScale(t)&&void 0===t.interval?void 0:"tabular-nums"}function legendRamp(t,e){let{label:s=t.label,tickSize:i=6,width:n=240,height:a=44+i,marginTop:l=18,marginRight:r=0,marginBottom:c=16+i,marginLeft:B=0,style:g,ticks:o=(n-B-r)/64,tickFormat:F,fontVariant:Q=inferFontVariant$2(t),round:U=!0,opacity:I,className:d}=e;const b=createContext(e);d=maybeClassName(d),I=maybeNumberChannel(I)[1],null===F&&(F=()=>null);const u=create("svg",b).attr("class",`${d}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",n).attr("height",a).attr("viewBox",`0 0 ${n} ${a}`).call(t=>t.append("style").text(`:where(.${d}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${d}-ramp text) {\n  white-space: pre;\n}`)).call(applyInlineStyles,g);let C,h=t=>t.selectAll(".tick line").attr("y1",l+c-a);const y=U?(t,e)=>t.rangeRound(e):(t,e)=>t.range(e),{type:x,domain:m,range:p,interpolate:A,scale:G,pivot:R}=t;if(A){const t=void 0===p?A:piecewise(1===A.length?interpolatePiecewise(A):A,p);C=y(G.copy(),quantize(interpolateNumber(B,n-r),Math.min(m.length+(void 0!==R),void 0===p?1/0:p.length)));const e=256,s=b.document.createElement("canvas");s.width=e,s.height=1;const i=s.getContext("2d");for(let s=0,n=e-1;s<e;++s)i.fillStyle=t(s/n),i.fillRect(s,0,1,1);u.append("image").attr("opacity",I).attr("x",B).attr("y",l).attr("width",n-B-r).attr("height",a-l-c).attr("preserveAspectRatio","none").attr("xlink:href",s.toDataURL())}else if("threshold"===x){const t=m,e=void 0===F?t=>t:"string"==typeof F?format$1(F):F;C=y(linear().domain([-1,p.length-1]),[B,n-r]),u.append("g").attr("fill-opacity",I).selectAll().data(p).enter().append("rect").attr("x",(t,e)=>C(e-1)).attr("y",l).attr("width",(t,e)=>C(e)-C(e-1)).attr("height",a-l-c).attr("fill",t=>t),o=map(t,(t,e)=>e),F=s=>e(t[s],s)}else C=y(band().domain(m),[B,n-r]),u.append("g").attr("fill-opacity",I).selectAll().data(m).enter().append("rect").attr("x",C).attr("y",l).attr("width",Math.max(0,C.bandwidth()-1)).attr("height",a-l-c).attr("fill",G),h=()=>{};return u.append("g").attr("transform",`translate(0,${a-c})`).call(axisBottom(C).ticks(Array.isArray(o)?null:o,"string"==typeof F?F:void 0).tickFormat("function"==typeof F?F:void 0).tickSize(i).tickValues(Array.isArray(o)?o:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",impliedString(Q,"normal")).call(h).call(t=>t.select(".domain").remove()),void 0!==s&&u.append("text").attr("x",B).attr("y",l-6).attr("fill","currentColor").attr("font-weight","bold").text(s),u.node()}const radians=Math.PI/180;function markers(t,{marker:e,markerStart:s=e,markerMid:i=e,markerEnd:n=e}={}){t.markerStart=maybeMarker(s),t.markerMid=maybeMarker(i),t.markerEnd=maybeMarker(n)}function maybeMarker(t){if(null==t||!1===t)return null;if(!0===t)return markerCircleFill;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return markerArrow("auto");case"arrow-reverse":return markerArrow("auto-start-reverse");case"dot":return markerDot;case"circle":case"circle-fill":return markerCircleFill;case"circle-stroke":return markerCircleStroke;case"tick":return markerTick("auto");case"tick-x":return markerTick(90);case"tick-y":return markerTick(0)}throw new Error(`invalid marker: ${t}`)}function markerArrow(t){return(e,s)=>create("svg:marker",s).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function markerDot(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function markerCircleFill(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function markerCircleStroke(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function markerTick(t){return(e,s)=>create("svg:marker",s).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(t=>t.append("path").attr("d","M0,-3v6")).node()}let nextMarkerId=0;function applyMarkers(t,e,{stroke:s},i){return applyMarkersColor(t,e,s&&(t=>s[t]),null,i)}function applyGroupedMarkers(t,e,{stroke:s,z:i},n){return applyMarkersColor(t,e,s&&(([t])=>s[t]),i,n)}const START=1,END=2;function getGroupedOrientation(t,e){const s=new Uint8Array(e.length),i=t.data().filter(t=>t.length>1),n=i.length;for(let t=0,a=unset;t<n;++t){const n=i[t];if(n.length>1){const t=n[0];a!==(a=keyof(e[t]))&&(s[t]|=START)}}for(let t=n-1,a=unset;t>=0;--t){const n=i[t];if(n.length>1){const t=n[0];a!==(a=keyof(e[t]))&&(s[t]|=END)}}return([t])=>s[t]}function applyMarkersColor(t,{markerStart:e,markerMid:s,markerEnd:i,stroke:n},a=()=>n,l,r){if(!e&&!s&&!i)return;const c=new Map,B=l&&getGroupedOrientation(t,l);function g(t,e,s){return function(i){if(s&&!s(i))return;const n=a(i);let l=c.get(e);l||c.set(e,l=new Map);let B=l.get(n);if(!B){const t=this.parentNode.insertBefore(e(n,r),this),s="plot-marker-"+ ++nextMarkerId;t.setAttribute("id",s),l.set(n,B=`url(#${s})`)}this.setAttribute(t,B)}}e&&t.each(g("marker-start",e,B&&(t=>B(t)&START))),s&&B&&t.each(g("marker-start",s,t=>!(B(t)&START))),s&&t.each(g("marker-mid",s)),i&&t.each(g("marker-end",i,B&&(t=>B(t)&END)))}function maybeInsetX({inset:t,insetLeft:e,insetRight:s,...i}={}){return[e,s]=maybeInset(t,e,s),{inset:t,insetLeft:e,insetRight:s,...i}}function maybeInsetY({inset:t,insetTop:e,insetBottom:s,...i}={}){return[e,s]=maybeInset(t,e,s),{inset:t,insetTop:e,insetBottom:s,...i}}function maybeInset(t,e,s){return void 0===t&&void 0===e&&void 0===s?offset?[1,0]:[.5,.5]:[e,s]}function maybeIntervalValue(t,{interval:e}){return(t={...maybeValue(t)}).interval=maybeInterval(void 0===t.interval?e:t.interval),t}function maybeIntervalK(t,e,s,i){const{[t]:n,[`${t}1`]:a,[`${t}2`]:l}=s,{value:r,interval:c}=maybeIntervalValue(n,s);if(null==r||null==c&&!i)return s;const B=labelof(n);if(null==c){let e;const n={transform:t=>e||(e=valueof(t,r)),label:B};return{...s,[t]:void 0,[`${t}1`]:void 0===a?n:a,[`${t}2`]:void 0!==l||a===l&&i?l:n}}let g,o;function F(t){return void 0!==o&&t===g?o:o=map(valueof(g=t,r),t=>c.floor(t))}return e({...s,[t]:void 0,[`${t}1`]:void 0===a?{transform:F,label:B}:a,[`${t}2`]:void 0===l?{transform:t=>F(t).map(t=>c.offset(t)),label:B}:l})}function maybeIntervalMidK(t,e,s){const{[t]:i}=s,{value:n,interval:a}=maybeIntervalValue(i,s);return null==n||null==a?s:e({...s,[t]:{label:labelof(i),transform:t=>{const e=map(valueof(t,n),t=>a.floor(t)),s=e.map(t=>a.offset(t));return e.map(isTemporal(e)?(t,e)=>null==t||isNaN(t=+t)||null==(e=s[e])||isNaN(e=+e)?void 0:new Date((t+e)/2):(t,e)=>null==t||null==(e=s[e])?NaN:(+t+ +e)/2)}}})}function maybeTrivialIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t,!0)}function maybeIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t)}function maybeIntervalY(t={}){return maybeIntervalK("y",maybeInsetY,t)}function maybeIntervalMidX(t={}){return maybeIntervalMidK("x",maybeInsetX,t)}function maybeIntervalMidY(t={}){return maybeIntervalMidK("y",maybeInsetY,t)}const defaults$7={ariaLabel:"rule",fill:null,stroke:"currentColor"};class RuleX extends Mark{constructor(t,e={}){const{x:s,y1:i,y2:n,inset:a=0,insetTop:l=a,insetBottom:r=a}=e;super(t,{x:{value:s,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:n,scale:"y",optional:!0}},withTip(e,"x"),defaults$7),this.insetTop=number(l),this.insetBottom=number(r),markers(this,e)}render(t,e,s,i,n){const{x:a,y:l}=e,{x:r,y1:c,y2:B}=s,{width:g,height:o,marginTop:F,marginRight:Q,marginLeft:U,marginBottom:I}=i,{insetTop:d,insetBottom:b}=this;return create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyTransform,this,{x:r&&a},offset,0).call(e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",r?t=>r[t]:(U+g-Q)/2).attr("x2",r?t=>r[t]:(U+g-Q)/2).attr("y1",c&&!isCollapsed(l)?t=>c[t]+d:F+d).attr("y2",B&&!isCollapsed(l)?l.bandwidth?t=>B[t]+l.bandwidth()-b:t=>B[t]-b:o-I-b).call(applyChannelStyles,this,s).call(applyMarkers,this,s,n)).node()}}class RuleY extends Mark{constructor(t,e={}){const{x1:s,x2:i,y:n,inset:a=0,insetRight:l=a,insetLeft:r=a}=e;super(t,{y:{value:n,scale:"y",optional:!0},x1:{value:s,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},withTip(e,"y"),defaults$7),this.insetRight=number(l),this.insetLeft=number(r),markers(this,e)}render(t,e,s,i,n){const{x:a,y:l}=e,{y:r,x1:c,x2:B}=s,{width:g,height:o,marginTop:F,marginRight:Q,marginLeft:U,marginBottom:I}=i,{insetLeft:d,insetRight:b}=this;return create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyTransform,this,{y:r&&l},0,offset).call(e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",c&&!isCollapsed(a)?t=>c[t]+d:U+d).attr("x2",B&&!isCollapsed(a)?a.bandwidth?t=>B[t]+a.bandwidth()-b:t=>B[t]-b:g-Q-b).attr("y1",r?t=>r[t]:(F+o-I)/2).attr("y2",r?t=>r[t]:(F+o-I)/2).call(applyChannelStyles,this,s).call(applyMarkers,this,s,n)).node()}}function ruleX(t,e){let{x:s=identity$1,y:i,y1:n,y2:a,...l}=maybeIntervalY(e);return[n,a]=maybeOptionalZero(i,n,a),new RuleX(t,{...l,x:s,y1:n,y2:a})}function ruleY(t,e){let{y:s=identity$1,x:i,x1:n,x2:a,...l}=maybeIntervalX(e);return[n,a]=maybeOptionalZero(i,n,a),new RuleY(t,{...l,y:s,x1:n,x2:a})}function maybeOptionalZero(t,e,s){if(null==t){if(void 0===e){if(void 0!==s)return[0,s]}else if(void 0===s)return[0,e]}else{if(void 0===e)return void 0===s?[0,t]:[t,s];if(void 0===s)return[t,e]}return[e,s]}function template(t,...e){let s=e.length;for(let i=0,n=!0;i<s;++i)"function"!=typeof e[i]&&(n&&(t=t.slice(),n=!1),t.splice(i,2,t[i]+e[i]+t[i+1]),e.splice(i,1),--i,--s);return i=>{let n=t[0];for(let a=0;a<s;++a)n+=e[a](i)+t[a+1];return n}}const defaults$6={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},softHyphen="Â­";class Text extends Mark{constructor(t,e={}){const{x:s,y:i,text:n=(isIterable(t)&&isTextual(t)?identity$1:indexOf),frameAnchor:a,textAnchor:l=(/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle"),lineAnchor:r=(/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle"),lineHeight:c=1,lineWidth:B=1/0,textOverflow:g,monospace:o,fontFamily:F=(o?"ui-monospace, monospace":void 0),fontSize:Q,fontStyle:U,fontVariant:I,fontWeight:d,rotate:b}=e,[u,C]=maybeNumberChannel(b,0),[h,y]=maybeFontSizeChannel(Q);if(super(t,{x:{value:s,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:h,optional:!0},rotate:{value:numberChannel(u),optional:!0},text:{value:n,filter:nonempty,optional:!0}},e,defaults$6),this.rotate=C,this.textAnchor=impliedString(l,"middle"),this.lineAnchor=keyword(r,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+B,this.textOverflow=maybeTextOverflow(g),this.monospace=!!o,this.fontFamily=string(F),this.fontSize=y,this.fontStyle=string(U),this.fontVariant=string(I),this.fontWeight=string(d),this.frameAnchor=maybeFrameAnchor(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${B}`);this.splitLines=splitter(this),this.clipLine=clipper(this)}render(t,e,s,i,n){const{x:a,y:l}=e,{x:r,y:c,rotate:B,text:g,title:o,fontSize:F}=s,{rotate:Q}=this,[U,I]=applyFrameAnchor(this,i);return create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyIndirectTextStyles,this,g,i).call(applyTransform,this,{x:r&&a,y:c&&l}).call(e=>e.selectAll().data(t).enter().append("text").call(applyDirectStyles,this).call(applyMultilineText,this,g,o).attr("transform",template`translate(${r?t=>r[t]:U},${c?t=>c[t]:I})${B?t=>` rotate(${B[t]})`:Q?` rotate(${Q})`:""}`).call(applyAttr,"font-size",F&&(t=>F[t])).call(applyChannelStyles,this,s)).node()}}function maybeTextOverflow(t){return null==t?null:keyword(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function applyMultilineText(t,e,s,i){if(!s)return;const{lineAnchor:n,lineHeight:a,textOverflow:l,splitLines:r,clipLine:c}=e;t.each(function(t){const e=r(formatDefault(s[t])??"").map(c),B=e.length,g="top"===n?.71:"bottom"===n?1-B:(164-100*B)/200;if(B>1){let t=0;for(let s=0;s<B;++s){if(++t,!e[s])continue;const i=this.ownerDocument.createElementNS(namespaces.svg,"tspan");i.setAttribute("x",0),s===t-1?i.setAttribute("y",(g+s)*a+"em"):i.setAttribute("dy",t*a+"em"),i.textContent=e[s],this.appendChild(i),t=0}}else g&&this.setAttribute("y",g*a+"em"),this.textContent=e[0];if(l&&!i&&e[0]!==s[t]){const e=this.ownerDocument.createElementNS(namespaces.svg,"title");e.textContent=s[t],this.appendChild(e)}})}function text(t,{x:e,y:s,...i}={}){return void 0===i.frameAnchor&&([e,s]=maybeTuple(e,s)),new Text(t,{...i,x:e,y:s})}function textX(t,{x:e=identity$1,...s}={}){return new Text(t,maybeIntervalMidY({...s,x:e}))}function textY(t,{y:e=identity$1,...s}={}){return new Text(t,maybeIntervalMidX({...s,y:e}))}function applyIndirectTextStyles(t,e,s){applyAttr(t,"text-anchor",e.textAnchor),applyAttr(t,"font-family",e.fontFamily),applyAttr(t,"font-size",e.fontSize),applyAttr(t,"font-style",e.fontStyle),applyAttr(t,"font-variant",void 0===e.fontVariant?inferFontVariant$1(s):e.fontVariant),applyAttr(t,"font-weight",e.fontWeight)}function inferFontVariant$1(t){return t&&(isNumeric(t)||isTemporal(t))?"tabular-nums":void 0}const fontSizes=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function maybeFontSizeChannel(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),fontSizes.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function lineWrap(t,e,s){const i=[];let n,a=0;for(const[l,r,c]of lineBreaks(t))void 0===n&&(n=l),a>n&&s(t,n,r)>e&&(i.push(t.slice(n,a)+("Â­"===t[a-1]?"-":"")),n=l),c?(i.push(t.slice(n,r)),n=void 0):a=r;return i}function*lineBreaks(t){let e=0,s=0;const i=t.length;for(;s<i;){let i=1;switch(t[s]){case"Â­":case"-":++s,yield[e,s,!1],e=s;break;case" ":for(yield[e,s,!1];" "===t[++s];);e=s;break;case"\r":"\n"===t[s+1]&&++i;case"\n":yield[e,s,!0],s+=i,e=s;break;default:++s}}yield[e,s,!0]}const defaultWidthMap={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"â":31,"â":31,"â":47,"â":47,"â¦":82};function defaultWidth(t,e=0,s=t.length){let i=0;for(let n=e;n<s;n=readCharacter(t,n))i+=defaultWidthMap[t[n]]??(isPictographic(t,n)?120:defaultWidthMap.e);return i}function monospaceWidth(t,e=0,s=t.length){let i=0;for(let n=e;n<s;n=readCharacter(t,n))i+=isPictographic(t,n)?126:63;return i}function splitter({monospace:t,lineWidth:e,textOverflow:s}){if(null!=s||e==1/0)return t=>t.split(/\r\n?|\n/g);const i=t?monospaceWidth:defaultWidth,n=100*e;return t=>lineWrap(t,n,i)}function clipper({monospace:t,lineWidth:e,textOverflow:s}){if(null==s||e==1/0)return t=>t;const i=t?monospaceWidth:defaultWidth,n=100*e;switch(s){case"clip-start":return t=>clipStart(t,n,i,"");case"clip-end":return t=>clipEnd(t,n,i,"");case"ellipsis-start":return t=>clipStart(t,n,i,ellipsis);case"ellipsis-middle":return t=>clipMiddle(t,n,i,ellipsis);case"ellipsis-end":return t=>clipEnd(t,n,i,ellipsis)}}const ellipsis="â¦";function cut(t,e,s,i){const n=[];let a=0;for(let l=0,r=0,c=t.length;l<c;l=r){r=readCharacter(t,l);const c=s(t,l,r);if(a+c>e){for(a+=i;a>e&&l>0;)r=l,l=n.pop(),a-=s(t,l,r);return[l,e-a]}a+=c,n.push(l)}return[-1,0]}function clipEnd(t,e,s,i){t=t.trim();const n=s(i),[a]=cut(t,e,s,n);return a<0?t:t.slice(0,a).trimEnd()+i}function clipMiddle(t,e,s,i){const n=s(t=t.trim());if(n<=e)return t;const a=s(i)/2,[l,r]=cut(t,e/2,s,a),[c]=cut(t,n-e/2-r+a,s,-a);return c<0?i:t.slice(0,l).trimEnd()+i+t.slice(readCharacter(t,c)).trimStart()}function clipStart(t,e,s,i){const n=s(t=t.trim());if(n<=e)return t;const a=s(i),[l]=cut(t,n-e+a,s,-a);return l<0?i:i+t.slice(readCharacter(t,l)).trimStart()}const reCombiner=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rePictographic=/\p{Extended_Pictographic}/uy;function readCharacter(t,e){return isCombiner(t,e+=isSurrogatePair(t,e)?2:1)&&(e=reCombiner.lastIndex),isZeroWidthJoiner(t,e)?readCharacter(t,e+1):e}function isAscii(t,e){return t.charCodeAt(e)<128}function isSurrogatePair(t,e){const s=t.charCodeAt(e);if(s>=55296&&s<56320){const s=t.charCodeAt(e+1);return s>=56320&&s<57344}return!1}function isZeroWidthJoiner(t,e){return 8205===t.charCodeAt(e)}function isCombiner(t,e){return!isAscii(t,e)&&(reCombiner.lastIndex=e,reCombiner.test(t))}function isPictographic(t,e){return!isAscii(t,e)&&(rePictographic.lastIndex=e,rePictographic.test(t))}const defaults$5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},defaultRadius=3.5,wingRatio=5*defaultRadius,shapeArrow={draw(t,e,s){const i=e*s/wingRatio;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-i,i-e),t.lineTo(0,-e),t.lineTo(i,i-e)}},shapeSpike={draw(t,e,s){t.moveTo(-s,0),t.lineTo(0,-e),t.lineTo(s,0)}},shapes=new Map([["arrow",shapeArrow],["spike",shapeSpike]]);function isShapeObject(t){return t&&"function"==typeof t.draw}function maybeShape(t){if(isShapeObject(t))return t;const e=shapes.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Vector extends Mark{constructor(t,e={}){const{x:s,y:i,r:n=defaultRadius,length:a,rotate:l,shape:r=shapeArrow,anchor:c="middle",frameAnchor:B}=e,[g,o]=maybeNumberChannel(a,12),[F,Q]=maybeNumberChannel(l,0);super(t,{x:{value:s,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:g,scale:"length",optional:!0},rotate:{value:F,optional:!0}},e,defaults$5),this.r=+n,this.length=o,this.rotate=Q,this.shape=maybeShape(r),this.anchor=keyword(c,"anchor",["start","middle","end"]),this.frameAnchor=maybeFrameAnchor(B)}render(t,e,s,i,n){const{x:a,y:l}=e,{x:r,y:c,length:B,rotate:g}=s,{length:o,rotate:F,anchor:Q,shape:U,r:I}=this,[d,b]=applyFrameAnchor(this,i);return create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyTransform,this,{x:r&&a,y:c&&l}).call(e=>e.selectAll().data(t).enter().append("path").call(applyDirectStyles,this).attr("transform",template`translate(${r?t=>r[t]:d},${c?t=>c[t]:b})${g?t=>` rotate(${g[t]})`:F?` rotate(${F})`:""}${"start"===Q?"":"end"===Q?B?t=>` translate(0,${B[t]})`:` translate(0,${o})`:B?t=>` translate(0,${B[t]/2})`:` translate(0,${o/2})`}`).attr("d",B?t=>{const e=pathRound();return U.draw(e,B[t],I),e}:(()=>{const t=pathRound();return U.draw(t,o,I),t})()).call(applyChannelStyles,this,s)).node()}}function vectorX(t,e={}){const{x:s=identity$1,...i}=e;return new Vector(t,{...i,x:s})}function vectorY(t,e={}){const{y:s=identity$1,...i}=e;return new Vector(t,{...i,y:s})}function maybeData(t,e){return arguments.length<2&&!isIterable(t)&&(e=t,t=null),void 0===e&&(e={}),[t,e]}function maybeAnchor({anchor:t}={},e){return void 0===t?e[0]:keyword(t,"anchor",e)}function anchorY(t){return maybeAnchor(t,["left","right"])}function anchorFy(t){return maybeAnchor(t,["right","left"])}function anchorX(t){return maybeAnchor(t,["bottom","top"])}function anchorFx(t){return maybeAnchor(t,["top","bottom"])}function axisY(){const[t,e]=maybeData(...arguments);return axisKy("y",anchorY(e),t,e)}function axisFy(){const[t,e]=maybeData(...arguments);return axisKy("fy",anchorFy(e),t,e)}function axisX(){const[t,e]=maybeData(...arguments);return axisKx("x",anchorX(e),t,e)}function axisFx(){const[t,e]=maybeData(...arguments);return axisKx("fx",anchorFx(e),t,e)}function axisKy(t,e,s,{color:i="currentColor",opacity:n=1,stroke:a=i,strokeOpacity:l=n,strokeWidth:r=1,fill:c=i,fillOpacity:B=n,textAnchor:g,textStroke:o,textStrokeOpacity:F,textStrokeWidth:Q,tickSize:U=("y"===t?6:0),tickPadding:I,tickRotate:d,x:b,margin:u,marginTop:C=(void 0===u?20:u),marginRight:h=(void 0===u?"right"===e?40:0:u),marginBottom:y=(void 0===u?20:u),marginLeft:x=(void 0===u?"left"===e?40:0:u),label:m,labelAnchor:p,labelArrow:A,labelOffset:G,ariaLabel:R=`${t}-axis`,...S}){return U=number(U),I=number(I),d=number(d),void 0!==p&&(p=keyword(p,"labelAnchor",["center","top","bottom"])),A=maybeLabelArrow(A),marks(U&&!isNoneish(a)?axisTickKy(t,e,s,{stroke:a,strokeOpacity:l,strokeWidth:r,tickSize:U,tickPadding:I,tickRotate:d,x:b,ariaLabel:R,...S}):null,isNoneish(c)?null:axisTextKy(t,e,s,{fill:c,fillOpacity:B,stroke:o,strokeOpacity:F,strokeWidth:Q,textAnchor:g,tickSize:U,tickPadding:I,tickRotate:d,x:b,marginTop:C,marginRight:h,marginBottom:y,marginLeft:x,ariaLabel:R,...S}),isNoneish(c)||null===m?null:text([],labelOptions({fill:c,fillOpacity:B,...S},function(s,i,n,a,l){const r=a[t],{marginTop:c,marginRight:B,marginBottom:g,marginLeft:o}="y"===t&&l.inset||l,F=p??(r.bandwidth?"center":"top"),Q=G??("right"===e?B:o)-3;return"center"===F?(this.textAnchor=void 0,this.lineAnchor="right"===e?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor="right"===e?"end":"start",this.lineAnchor=F,this.frameAnchor=`${F}-${e}`,this.rotate=0),this.dy="top"===F?3-c:"bottom"===F?g-3:0,this.dx="right"===e?Q:-Q,this.ariaLabel=`${R} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,r,{anchor:e,label:m,labelAnchor:F,labelArrow:A})]}}}})))}function axisKx(t,e,s,{color:i="currentColor",opacity:n=1,stroke:a=i,strokeOpacity:l=n,strokeWidth:r=1,fill:c=i,fillOpacity:B=n,textAnchor:g,textStroke:o,textStrokeOpacity:F,textStrokeWidth:Q,tickSize:U=("x"===t?6:0),tickPadding:I,tickRotate:d,y:b,margin:u,marginTop:C=(void 0===u?"top"===e?30:0:u),marginRight:h=(void 0===u?20:u),marginBottom:y=(void 0===u?"bottom"===e?30:0:u),marginLeft:x=(void 0===u?20:u),label:m,labelAnchor:p,labelArrow:A,labelOffset:G,ariaLabel:R=`${t}-axis`,...S}){return U=number(U),I=number(I),d=number(d),void 0!==p&&(p=keyword(p,"labelAnchor",["center","left","right"])),A=maybeLabelArrow(A),marks(U&&!isNoneish(a)?axisTickKx(t,e,s,{stroke:a,strokeOpacity:l,strokeWidth:r,tickSize:U,tickPadding:I,tickRotate:d,y:b,ariaLabel:R,...S}):null,isNoneish(c)?null:axisTextKx(t,e,s,{fill:c,fillOpacity:B,stroke:o,strokeOpacity:F,strokeWidth:Q,textAnchor:g,tickSize:U,tickPadding:I,tickRotate:d,y:b,marginTop:C,marginRight:h,marginBottom:y,marginLeft:x,ariaLabel:R,...S}),isNoneish(c)||null===m?null:text([],labelOptions({fill:c,fillOpacity:B,...S},function(s,i,n,a,l){const r=a[t],{marginTop:c,marginRight:B,marginBottom:g,marginLeft:o}="x"===t&&l.inset||l,F=p??(r.bandwidth?"center":"right"),Q=G??("top"===e?c:g)-3;return"center"===F?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${F}`,this.textAnchor="right"===F?"end":"start"),this.lineAnchor=e,this.dy="top"===e?-Q:Q,this.dx="right"===F?B-3:"left"===F?3-o:0,this.ariaLabel=`${R} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,r,{anchor:e,label:m,labelAnchor:F,labelArrow:A})]}}}})))}function axisTickKy(t,e,s,{strokeWidth:i=1,strokeLinecap:n=null,strokeLinejoin:a=null,facetAnchor:l=e+("y"===t?"-empty":""),frameAnchor:r=e,tickSize:c,inset:B=0,insetLeft:g=B,insetRight:o=B,dx:F=0,y:Q=("y"===t?void 0:null),ariaLabel:U,...I}){return axisMark(vectorY,t,s,{ariaLabel:`${U} tick`,ariaHidden:!0},{strokeWidth:i,strokeLinecap:n,strokeLinejoin:a,facetAnchor:l,frameAnchor:r,y:Q,...I,dx:"left"===e?+F-offset+ +g:+F+offset-o,anchor:"start",length:c,shape:"left"===e?shapeTickLeft:shapeTickRight})}function axisTickKx(t,e,s,{strokeWidth:i=1,strokeLinecap:n=null,strokeLinejoin:a=null,facetAnchor:l=e+("x"===t?"-empty":""),frameAnchor:r=e,tickSize:c,inset:B=0,insetTop:g=B,insetBottom:o=B,dy:F=0,x:Q=("x"===t?void 0:null),ariaLabel:U,...I}){return axisMark(vectorX,t,s,{ariaLabel:`${U} tick`,ariaHidden:!0},{strokeWidth:i,strokeLinejoin:a,strokeLinecap:n,facetAnchor:l,frameAnchor:r,x:Q,...I,dy:"bottom"===e?+F-offset-o:+F+offset+ +g,anchor:"start",length:c,shape:"bottom"===e?shapeTickBottom:shapeTickTop})}function axisTextKy(t,e,s,{facetAnchor:i=e+("y"===t?"-empty":""),frameAnchor:n=e,tickSize:a,tickRotate:l=0,tickPadding:r=Math.max(3,9-a)+(Math.abs(l)>60?4*Math.cos(l*radians):0),text:c,textAnchor:B=(Math.abs(l)>60?"middle":"left"===e?"end":"start"),lineAnchor:g=(l>60?"top":l<-60?"bottom":"middle"),fontVariant:o,inset:F=0,insetLeft:Q=F,insetRight:U=F,dx:I=0,ariaLabel:d,y:b=("y"===t?void 0:null),...u}){return axisMark(textY,t,s,{ariaLabel:`${d} tick label`},{facetAnchor:i,frameAnchor:n,text:c,textAnchor:B,lineAnchor:g,fontVariant:o,rotate:l,y:b,...u,dx:"left"===e?+I-a-r+ +Q:+I+ +a+ +r-U},function(t,s,i,n,a){void 0===o&&(this.fontVariant=inferFontVariant(t)),void 0===c&&(a.text=inferTextChannel(t,s,i,n,e))})}function axisTextKx(t,e,s,{facetAnchor:i=e+("x"===t?"-empty":""),frameAnchor:n=e,tickSize:a,tickRotate:l=0,tickPadding:r=Math.max(3,9-a)+(Math.abs(l)>=10?4*Math.cos(l*radians):0),text:c,textAnchor:B=(Math.abs(l)>=10?l<0^"bottom"===e?"start":"end":"middle"),lineAnchor:g=(Math.abs(l)>=10?"middle":"bottom"===e?"top":"bottom"),fontVariant:o,inset:F=0,insetTop:Q=F,insetBottom:U=F,dy:I=0,x:d=("x"===t?void 0:null),ariaLabel:b,...u}){return axisMark(textX,t,s,{ariaLabel:`${b} tick label`},{facetAnchor:i,frameAnchor:n,text:void 0===c?null:c,textAnchor:B,lineAnchor:g,fontVariant:o,rotate:l,x:d,...u,dy:"bottom"===e?+I+ +a+ +r-U:+I-a-r+ +Q},function(t,s,i,n,a){void 0===o&&(this.fontVariant=inferFontVariant(t)),void 0===c&&(a.text=inferTextChannel(t,s,i,n,e))})}function gridY(){const[t,e]=maybeData(...arguments);return gridKy("y",anchorY(e),t,e)}function gridFy(){const[t,e]=maybeData(...arguments);return gridKy("fy",anchorFy(e),t,e)}function gridX(){const[t,e]=maybeData(...arguments);return gridKx("x",anchorX(e),t,e)}function gridFx(){const[t,e]=maybeData(...arguments);return gridKx("fx",anchorFx(e),t,e)}function gridKy(t,e,s,{y:i=("y"===t?void 0:null),x:n=null,x1:a=("left"===e?n:null),x2:l=("right"===e?n:null),ariaLabel:r=`${t}-grid`,ariaHidden:c=!0,...B}){return axisMark(ruleY,t,s,{ariaLabel:r,ariaHidden:c},{y:i,x1:a,x2:l,...gridDefaults(B)})}function gridKx(t,e,s,{x:i=("x"===t?void 0:null),y:n=null,y1:a=("top"===e?n:null),y2:l=("bottom"===e?n:null),ariaLabel:r=`${t}-grid`,ariaHidden:c=!0,...B}){return axisMark(ruleX,t,s,{ariaLabel:r,ariaHidden:c},{x:i,y1:a,y2:l,...gridDefaults(B)})}function gridDefaults({color:t="currentColor",opacity:e=.1,stroke:s=t,strokeOpacity:i=e,strokeWidth:n=1,...a}){return{stroke:s,strokeOpacity:i,strokeWidth:n,...a}}function labelOptions({fill:t,fillOpacity:e,fontFamily:s,fontSize:i,fontStyle:n,fontVariant:a,fontWeight:l,monospace:r,pointerEvents:c,shapeRendering:B,clip:g=!1},o){return[,t]=maybeColorChannel(t),[,e]=maybeNumberChannel(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:s,fontSize:i,fontStyle:n,fontVariant:a,fontWeight:l,monospace:r,pointerEvents:c,shapeRendering:B,clip:g,initializer:o}}function axisMark(t,e,s,i,n,a){let l;const r=initializer(n).initializer,c=t(s,initializer({...n,initializer:function(t,s,i,r,c,B){const g=null==t&&("fx"===e||"fy"===e),{[e]:o}=r;if(!o)throw new Error(`missing scale: ${e}`);const F=o.domain();let{interval:Q,ticks:U,tickFormat:I,tickSpacing:d=("x"===e?80:35)}=n;if("string"==typeof U&&hasTemporalDomain(o)&&(Q=U,U=void 0),void 0===U&&(U=maybeRangeInterval(Q,o.type)??inferTickCount(o,d)),null==t){if(isIterable(U))t=arrayify(U);else if(isInterval(U))t=inclusiveRange(U,...extent$1(F));else if(o.interval){let e=o.interval;if(o.ticks){const[s,i]=extent$1(F);e=generalizeTimeInterval(e,(i-s)/e[intervalDuration]/U)??e,t=inclusiveRange(e,s,i)}else{e=generalizeTimeInterval(e,(t=F).length/U)??e,e!==o.interval&&(t=inclusiveRange(e,...extent$1(t)))}if(e===o.interval){const e=Math.round(t.length/U);e>1&&(t=t.filter((t,s)=>s%e===0))}}else t=o.ticks?o.ticks(U):F;if(!o.ticks&&t.length&&t!==F){const s=new InternSet(F);t=t.filter(t=>s.has(t)),t.length||warn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===e||"x"===e?s=[range(t)]:l[e]={scale:e,value:identity$1}}a?.call(this,o,t,U,I,l);const b=Object.fromEntries(Object.entries(l).map(([e,s])=>[e,{...s,value:valueof(t,s.value)}]));return g&&(s=B.filterFacets(t,b)),{data:t,facets:s,channels:b}}},r));return null==s?(l=c.channels,c.channels={}):l={},void 0!==i&&Object.assign(c,i),void 0===c.clip&&(c.clip=!1),c}function inferTickCount(t,e){const[s,i]=extent$1(t.range());return(i-s)/e}function inferTextChannel(t,e,s,i,n){return{value:inferTickFormat(t,e,s,i,n)}}function inferTickFormat(t,e,s,i,n){return"function"!=typeof i||"log"===t.type&&t.tickFormat?void 0===i&&e&&isTemporal(e)?inferTimeFormat(t.type,e,n)??formatDefault:t.tickFormat?t.tickFormat("number"==typeof s?s:null,i):"string"==typeof i&&t.domain().length>0?(isTemporal(t.domain())?utcFormat:format$1)(i):void 0===i?formatDefault:constant(i):i}function inclusiveRange(t,e,s){return t.range(e,t.offset(t.floor(s)))}const shapeTickBottom={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},shapeTickTop={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},shapeTickLeft={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},shapeTickRight={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function inferFontVariant(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function formatAxisLabel(t,e,{anchor:s,label:i=e.label,labelAnchor:n,labelArrow:a}={}){if(!(null==i||i.inferred&&hasTemporalDomain(e)&&/^(date|time|year)$/i.test(i))){if(i=String(i),"auto"===a&&(a=(!e.bandwidth||e.interval)&&!/[ââââ]/.test(i)),!a)return i;if(!0===a){const s=inferScaleOrder(e);s&&(a=/x$/.test(t)||"center"===n?/x$/.test(t)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`â ${i}`;case"right":return`${i} â`;case"up":return"right"===s?`${i} â`:`â ${i}`;case"down":return"right"===s?`${i} â`:`â ${i}`}return i}}function maybeLabelArrow(t="auto"){return!isNoneish(t)&&("boolean"==typeof t?t:keyword(t,"labelArrow",["auto","up","right","down","left"]))}function hasTemporalDomain(t){return isTemporal(t.domain())}function maybeScale(t,e){if(null==e)return e;const s=t(e);if(!s)throw new Error(`scale not found: ${e}`);return s}function legendSwatches(t,{opacity:e,...s}={}){if(!isOrdinalScale(t)&&!isThresholdScale(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return legendItems(t,s,(t,s,i,n)=>t.append("svg").attr("width",i).attr("height",n).attr("fill",s.scale).attr("fill-opacity",maybeNumberChannel(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function legendSymbols(t,{fill:e=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:s=1,stroke:i=(void 0!==t.hint?.stroke?t.hint.stroke:isNoneish(e)?"currentColor":"none"),strokeOpacity:n=1,strokeWidth:a=1.5,r:l=4.5,...r}={},c){const[B,g]=maybeColorChannel(e),[o,F]=maybeColorChannel(i),Q=maybeScale(c,B),U=maybeScale(c,o),I=l*l*Math.PI;return s=maybeNumberChannel(s)[1],n=maybeNumberChannel(n)[1],a=maybeNumberChannel(a)[1],legendItems(t,r,(e,i,l,r)=>e.append("svg").attr("viewBox","-8 -8 16 16").attr("width",l).attr("height",r).attr("fill","color"===B?t=>Q.scale(t):g).attr("fill-opacity",s).attr("stroke","color"===o?t=>U.scale(t):F).attr("stroke-opacity",n).attr("stroke-width",a).append("path").attr("d",e=>{const s=pathRound();return t.scale(e).draw(s,I),s}))}function legendItems(t,e={},s){let{columns:i,tickFormat:n,fontVariant:a=inferFontVariant$2(t),swatchSize:l=15,swatchWidth:r=l,swatchHeight:c=l,marginLeft:B=0,className:g,style:o,width:F}=e;const Q=createContext(e);g=maybeClassName(g),n=inferTickFormat(t.scale,t.domain,void 0,n);const U=create("div",Q).attr("class",`${g}-swatches ${g}-swatches-${null!=i?"columns":"wrap"}`);let I;return null!=i?(I=`:where(.${g}-swatches-columns .${g}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${g}-swatches-columns .${g}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${g}-swatches-columns .${g}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,U.style("columns",i).selectAll().data(t.domain).enter().append("div").attr("class",`${g}-swatch`).call(s,t,r,c).call(t=>t.append("div").attr("class",`${g}-swatch-label`).attr("title",n).text(n))):(I=`:where(.${g}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${g}-swatches-wrap .${g}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,U.selectAll().data(t.domain).enter().append("span").attr("class",`${g}-swatch`).call(s,t,r,c).append(function(){return this.ownerDocument.createTextNode(n.apply(this,arguments))})),U.call(t=>t.insert("style","*").text(`:where(.${g}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${g}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${I}`)).style("margin-left",B?+B+"px":null).style("width",void 0===F?null:+F+"px").style("font-variant",impliedString(a,"normal")).call(applyInlineStyles,o).node()}const legendRegistry=new Map([["symbol",legendSymbols],["color",legendColor],["opacity",legendOpacity]]);function exposeLegends(t,e,s={}){return(i,n)=>{if(!legendRegistry.has(i))throw new Error(`unknown legend type: ${i}`);if(i in t)return legendRegistry.get(i)(t[i],legendOptions(e,s[i],n),e=>t[e])}}function legendOptions({className:t,...e},{label:s,ticks:i,tickFormat:n}={},a){return inherit(a,{className:t,...e},{label:s,ticks:i,tickFormat:n})}function legendColor(t,{legend:e=!0,...s}){if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return legendSwatches(t,s);case"ramp":return legendRamp(t,s);default:throw new Error(`unknown legend type: ${e}`)}}function legendOpacity({type:t,interpolate:e,...s},{legend:i=!0,color:n=rgb(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(!0===i&&(i="ramp"),"ramp"!==`${i}`.toLowerCase())throw new Error(`${i} opacity legends are not supported`);return legendColor({type:t,...s,interpolate:interpolateOpacity(n)},{legend:i,...a})}function interpolateOpacity(t){const{r:e,g:s,b:i}=rgb(t)||rgb(0,0,0);return t=>`rgba(${e},${s},${i},${t})`}function createLegends(t,e,s){const i=[];for(const[n,a]of legendRegistry){const l=s[n];if(l?.legend&&n in t){const s=a(t[n],legendOptions(e,t[n],l),e=>t[e]);null!=s&&i.push(s)}}return i}function maybeIdentityY(t={},e="y"){return hasY(t)?t:{...t,[e]:identity$1}}function exclusiveFacets(t,e){if(1===e.length)return{data:t,facets:e};const s=lengthof(t),i=new Uint8Array(s);let n=0;for(const t of e)for(const e of t)i[e]&&++n,i[e]=1;if(0===n)return{data:t,facets:e};const a=(t=slice(t))[reindex]=new Uint32Array(s+n);e=e.map(t=>slice(t,Uint32Array));let l=s;i.fill(0);for(const s of e)for(let e=0,n=s.length;e<n;++e){const n=s[e];i[n]?(s[e]=l,t[l]=t[n],a[l]=n,++l):a[n]=n,i[n]=1}return{data:t,facets:e}}function stackY(t={},e={}){1===arguments.length&&([t,e]=mergeOptions$1(t));const{x1:s,x:i=s,y:n,...a}=e,[l,r,c,B]=stack(i,n,"x","y",t,a);return{...l,x1:s,x:r,y1:c,y2:B,y:mid(c,B)}}function maybeStackY({y:t,y1:e,y2:s,...i}={}){return i=withTip(i,"x"),void 0===e&&void 0===s?stackY({y:t,...i}):([e,s]=maybeZero(t,e,s),{...i,y1:e,y2:s})}function mergeOptions$1(t){const{offset:e,order:s,reverse:i,...n}=t;return[{offset:e,order:s,reverse:i},n]}const lengthy={length:!0};function stack(t,e=one,s,i,{offset:n,order:a,reverse:l},r){if(null===e)throw new Error(`stack requires ${i}`);const c=maybeZ(r),[B,g]=maybeColumn(t),[o,F]=column(e),[Q,U]=column(e);return o.hint=Q.hint=lengthy,n=maybeOffset(n),a=maybeOrder(a,n,i),[basic(r,(i,r,B)=>{({data:i,facets:r}=exclusiveFacets(i,r));const o=null==t?void 0:g(maybeApplyInterval(valueof(i,t),B?.[s])),Q=valueof(i,e,Float64Array),I=valueof(i,c),d=a&&a(i,o,Q,I),b=lengthof(i),u=F(new Float64Array(b)),C=U(new Float64Array(b)),h=[];for(const t of r){const e=o?Array.from(group(t,t=>o[t]).values()):[t];if(d)for(const t of e)t.sort(d);for(const t of e){let e=0,s=0;l&&t.reverse();for(const i of t){const t=Q[i];t<0?e=C[i]=(u[i]=e)+t:t>0?s=C[i]=(u[i]=s)+t:C[i]=u[i]=s}}h.push(e)}return n&&n(h,u,C,I),{data:i,facets:r}}),B,o,Q]}function maybeOffset(t){if(null!=t){if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return offsetExpand;case"center":case"silhouette":return offsetCenter;case"wiggle":return offsetWiggle}throw new Error(`unknown offset: ${t}`)}}function extent(t,e){let s=0,i=0;for(const n of t){const t=e[n];t<s&&(s=t),t>i&&(i=t)}return[s,i]}function offsetExpand(t,e,s){for(const i of t)for(const t of i){const[i,n]=extent(t,s);for(const a of t){const t=1/(n-i||1);e[a]=t*(e[a]-i),s[a]=t*(s[a]-i)}}}function offsetCenter(t,e,s){for(const i of t){for(const t of i){const[i,n]=extent(t,s);for(const a of t){const t=(n+i)/2;e[a]-=t,s[a]-=t}}offsetZero(i,e,s)}offsetCenterFacets(t,e,s)}function offsetWiggle(t,e,s,i){for(const n of t){const t=new InternMap;let a=0;for(const l of n){let n=-1;const r=l.map(t=>Math.abs(s[t]-e[t])),c=l.map(a=>{n=i?i[a]:++n;const l=s[a]-e[a],r=t.has(n)?l-t.get(n):0;return t.set(n,l),r}),B=[0,...cumsum(c)];for(const t of l)e[t]+=a,s[t]+=a;const g=sum(r);g&&(a-=sum(r,(t,e)=>(c[e]/2+B[e])*t)/g)}offsetZero(n,e,s)}offsetCenterFacets(t,e,s)}function offsetZero(t,e,s){const i=min$1(t,t=>min$1(t,t=>e[t]));for(const n of t)for(const t of n)e[t]-=i,s[t]-=i}function offsetCenterFacets(t,e,s){const i=t.length;if(1===i)return;const n=t.map(t=>t.flat()),a=n.map(t=>(min$1(t,t=>e[t])+max$1(t,t=>s[t]))/2),l=min$1(a);for(let t=0;t<i;t++){const i=l-a[t];for(const a of n[t])e[a]+=i,s[a]+=i}}function maybeOrder(t,e,s){if(void 0===t&&e===offsetWiggle)return orderInsideOut(ascendingDefined);if(null!=t){if("string"==typeof t){const e=t.startsWith("-"),i=e?descendingDefined:ascendingDefined;switch((e?t.slice(1):t).toLowerCase()){case"value":case s:return orderY(i);case"z":return orderZ(i);case"sum":return orderSum(i);case"appearance":return orderAppearance(i);case"inside-out":return orderInsideOut(i)}return orderAccessor(field(t))}if("function"==typeof t)return(1===t.length?orderAccessor:orderComparator)(t);if(isArray(t))return orderGiven(t);throw new Error(`invalid order: ${t}`)}}function orderY(t){return(e,s,i)=>(e,s)=>t(i[e],i[s])}function orderZ(t){return(e,s,i,n)=>(e,s)=>t(n[e],n[s])}function orderSum(t){return orderZDomain(t,(t,e,s,i)=>groupSort(range(t),t=>sum(t,t=>s[t]),t=>i[t]))}function orderAppearance(t){return orderZDomain(t,(t,e,s,i)=>groupSort(range(t),t=>e[greatest(t,t=>s[t])],t=>i[t]))}function orderInsideOut(t){return orderZDomain(t,(t,e,s,i)=>{const n=range(t),a=groupSort(n,t=>e[greatest(t,t=>s[t])],t=>i[t]),l=rollup(n,t=>sum(t,t=>s[t]),t=>i[t]),r=[],c=[];let B=0;for(const t of a)B<0?(B+=l.get(t),r.push(t)):(B-=l.get(t),c.push(t));return c.reverse().concat(r)})}function orderAccessor(t){return e=>{const s=valueof(e,t);return(t,e)=>ascendingDefined(s[t],s[e])}}function orderComparator(t){return e=>isArray(e)?(s,i)=>t(e[s],e[i]):(s,i)=>t(e.get(s),e.get(i))}function orderGiven(t){return orderZDomain(ascendingDefined,()=>t)}function orderZDomain(t,e){return(s,i,n,a)=>{if(!a)throw new Error("missing channel: z");const l=new InternMap(e(s,i,n,a).map((t,e)=>[t,e]));return(e,s)=>t(l.get(a[e]),l.get(a[s]))}}const defaults$4={ariaLabel:"rect"};class Rect extends Mark{constructor(t,e={}){const{x1:s,y1:i,x2:n,y2:a}=e;super(t,{x1:{value:s,scale:"x",type:null!=s&&null==n?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:null!=i&&null==a?"band":void 0,optional:!0},x2:{value:n,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,defaults$4),rectInsets(this,e),rectRadii(this,e)}render(t,e,s,i,n){const{x:a,y:l}=e;let{x1:r,y1:c,x2:B,y2:g}=s;const{marginTop:o,marginRight:F,marginBottom:Q,marginLeft:U,width:I,height:d}=i,{projection:b}=n,{insetTop:u,insetRight:C,insetBottom:h,insetLeft:y}=this,{rx:x,ry:m,rx1y1:p,rx1y2:A,rx2y1:G,rx2y2:R}=this;(r||B)&&!b&&isCollapsed(a)&&(r=B=null),(c||g)&&!b&&isCollapsed(l)&&(c=g=null);const S=a?.bandwidth?a.bandwidth():0,L=l?.bandwidth?l.bandwidth():0;return create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyTransform,this,{},0,0).call(e=>e.selectAll().data(t).enter().call(p||A||G||R?t=>t.append("path").call(applyDirectStyles,this).call(applyRoundedRect,r&&B?t=>r[t]+(B[t]<r[t]?-C:y):r?t=>r[t]+y:U+y,c&&g?t=>c[t]+(g[t]<c[t]?-h:u):c?t=>c[t]+u:o+u,r&&B?t=>B[t]-(B[t]<r[t]?-y:C):r?t=>r[t]+S-C:I-F-C,c&&g?t=>g[t]-(g[t]<c[t]?-u:h):c?t=>c[t]+L-h:d-Q-h,this).call(applyChannelStyles,this,s):t=>t.append("rect").call(applyDirectStyles,this).attr("x",r?B?t=>Math.min(r[t],B[t])+y:t=>r[t]+y:U+y).attr("y",c?g?t=>Math.min(c[t],g[t])+u:t=>c[t]+u:o+u).attr("width",r?B?t=>Math.max(0,Math.abs(B[t]-r[t])+S-y-C):S-y-C:I-F-U-C-y).attr("height",c?g?t=>Math.max(0,Math.abs(c[t]-g[t])+L-u-h):L-u-h:d-o-Q-u-h).call(applyAttr,"rx",x).call(applyAttr,"ry",m).call(applyChannelStyles,this,s))).node()}}function rectInsets(t,{inset:e=0,insetTop:s=e,insetRight:i=e,insetBottom:n=e,insetLeft:a=e}={}){t.insetTop=number(s),t.insetRight=number(i),t.insetBottom=number(n),t.insetLeft=number(a)}function rectRadii(t,{r:e,rx:s,ry:i,rx1:n=e,ry1:a=e,rx2:l=e,ry2:r=e,rx1y1:c=(void 0!==n?+n:void 0!==a?+a:0),rx1y2:B=(void 0!==n?+n:void 0!==r?+r:0),rx2y1:g=(void 0!==l?+l:void 0!==a?+a:0),rx2y2:o=(void 0!==l?+l:void 0!==r?+r:0)}={}){c||B||g||o?(t.rx1y1=c,t.rx1y2=B,t.rx2y1=g,t.rx2y2=o):(t.rx=impliedString(s,"auto"),t.ry=impliedString(i,"auto"))}function applyRoundedRect(t,e,s,i,n,a){const{rx1y1:l,rx1y2:r,rx2y1:c,rx2y2:B}=a;"function"!=typeof e&&(e=constant(e)),"function"!=typeof s&&(s=constant(s)),"function"!=typeof i&&(i=constant(i)),"function"!=typeof n&&(n=constant(n));const g=Math.max(Math.abs(l+c),Math.abs(r+B)),o=Math.max(Math.abs(l+r),Math.abs(c+B));t.attr("d",t=>{const a=e(t),F=s(t),Q=i(t),U=n(t),I=a>Q,d=F>U,b=I?Q:a,u=I?a:Q,C=d?U:F,h=d?F:U,y=Math.min(1,(u-b)/g,(h-C)/o),x=y*(I?d?B:c:d?r:l),m=y*(I?d?r:l:d?B:c),p=y*(I?d?l:r:d?c:B),A=y*(I?d?c:B:d?l:r);return`M${b},${C+biasY(x,A)}A${x},${x} 0 0 ${x<0?0:1} ${b+biasX(x,A)},${C}H${u-biasX(m,p)}A${m},${m} 0 0 ${m<0?0:1} ${u},${C+biasY(m,p)}V${h-biasY(p,m)}A${p},${p} 0 0 ${p<0?0:1} ${u-biasX(p,m)},${h}H${b+biasX(A,x)}A${A},${A} 0 0 ${A<0?0:1} ${b},${h-biasY(A,x)}Z`})}function biasX(t,e){return e<0?t:Math.abs(t)}function biasY(t,e){return e<0?Math.abs(t):t}function rectY(t,e={}){return hasXY(e)||(e={...e,x:indexOf,y2:identity$1,interval:1}),new Rect(t,maybeStackY(maybeTrivialIntervalX(maybeIdentityY(e))))}const defaults$3={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lineDefaults={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Frame extends Mark{constructor(t={}){const{anchor:e=null}=t;super(singleton,void 0,t,null==e?defaults$3:lineDefaults),this.anchor=maybeKeyword(e,"anchor",["top","right","bottom","left"]),rectInsets(this,t),e||rectRadii(this,t)}render(t,e,s,i,n){const{marginTop:a,marginRight:l,marginBottom:r,marginLeft:c,width:B,height:g}=i,{anchor:o,insetTop:F,insetRight:Q,insetBottom:U,insetLeft:I}=this,{rx:d,ry:b,rx1y1:u,rx1y2:C,rx2y1:h,rx2y2:y}=this,x=c+I,m=B-l-Q,p=a+F,A=g-r-U;return create(o?"svg:line":u||C||h||y?"svg:path":"svg:rect",n).datum(0).call(applyIndirectStyles,this,i,n).call(applyDirectStyles,this).call(applyChannelStyles,this,s).call(applyTransform,this,{}).call("left"===o?t=>t.attr("x1",x).attr("x2",x).attr("y1",p).attr("y2",A):"right"===o?t=>t.attr("x1",m).attr("x2",m).attr("y1",p).attr("y2",A):"top"===o?t=>t.attr("x1",x).attr("x2",m).attr("y1",p).attr("y2",p):"bottom"===o?t=>t.attr("x1",x).attr("x2",m).attr("y1",A).attr("y2",A):u||C||h||y?t=>t.call(applyRoundedRect,x,p,m,A,this):t=>t.attr("x",x).attr("y",p).attr("width",m-x).attr("height",A-p).attr("rx",d).attr("ry",b)).node()}}function frame(t){return new Frame(t)}const defaults$2={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ignoreChannels=new Set(["geometry","href","src","ariaLabel","scales"]);class Tip extends Mark{constructor(t,e={}){e.tip&&(e={...e,tip:!1}),void 0===e.title&&isIterable(t)&&isTextual(t)&&(e={...e,title:identity$1});const{x:s,y:i,x1:n,x2:a,y1:l,y2:r,anchor:c,preferredAnchor:B="bottom",monospace:g,fontFamily:o=(g?"ui-monospace, monospace":void 0),fontSize:F,fontStyle:Q,fontVariant:U,fontWeight:I,lineHeight:d=1,lineWidth:b=20,frameAnchor:u,format:C,textAnchor:h="start",textOverflow:y,textPadding:x=8,title:m,pointerSize:p=12,pathFilter:A="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(t,{x:{value:null!=n&&null!=a?null:s,scale:"x",optional:!0},y:{value:null!=l&&null!=r?null:i,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:null==a},y1:{value:l,scale:"y",optional:null==r},x2:{value:a,scale:"x",optional:null==n},y2:{value:r,scale:"y",optional:null==l},title:{value:m,optional:!0}},e,defaults$2),this.anchor=maybeAnchor$1(c,"anchor"),this.preferredAnchor=maybeAnchor$1(B,"preferredAnchor"),this.frameAnchor=maybeFrameAnchor(u),this.textAnchor=impliedString(h,"middle"),this.textPadding=+x,this.pointerSize=+p,this.pathFilter=string(A),this.lineHeight=+d,this.lineWidth=+b,this.textOverflow=maybeTextOverflow(y),this.monospace=!!g,this.fontFamily=string(o),this.fontSize=number(F),this.fontStyle=string(Q),this.fontVariant=string(U),this.fontWeight=string(I);for(const t in defaults$2)t in this.channels&&(this[t]=defaults$2[t]);this.splitLines=splitter(this),this.clipLine=clipper(this),this.format="string"==typeof C||"function"==typeof C?{title:C}:{...C}}render(t,e,s,i,n){const a=this,{x:l,y:r,fx:c,fy:B}=e,{ownerSVGElement:g,document:o}=n,{anchor:F,monospace:Q,lineHeight:U,lineWidth:I}=this,{textPadding:d,pointerSize:b,pathFilter:u}=this,{marginTop:C,marginLeft:h}=i,{x1:y,y1:x,x2:m,y2:p,x:A=y??m,y:G=x??p}=s,R=c?c(t.fx)-h:0,S=B?B(t.fy)-C:0,[L,E]=applyFrameAnchor(this,i),V=anchorX$1(s,L),Z=anchorY$1(s,E),N=Q?monospaceWidth:defaultWidth,f=N(ellipsis);let X,W;"title"in s?(X=getSourceChannels.call(this,{title:s.channels.title},e),W=formatTitle):(X=getSourceChannels.call(this,s.channels,e),W=formatChannels);const D=create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyIndirectTextStyles,this).call(applyTransform,this,{x:A&&l,y:G&&r}).call(i=>i.selectAll().data(t).enter().append("g").attr("transform",t=>`translate(${Math.round(V(t))},${Math.round(Z(t))})`).call(applyDirectStyles,this).call(t=>t.append("path").attr("filter",u)).call(i=>i.append("text").each(function(i){const n=select(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const l=W.call(a,i,t,X,e,s);if("string"==typeof l)for(const t of a.splitLines(l))H(n,{value:a.clipLine(t)});else{const t=new Set;for(const e of l){const{label:s=""}=e;s&&t.has(s)||(t.add(s),H(n,e))}}})));function H(t,{label:e,value:s,color:i,opacity:n}){e??="",s??="";const a=null!=i||null!=n;let l,r=100*I;const[c]=cut(e,r,N,f);if(c>=0)e=e.slice(0,c).trimEnd()+ellipsis,l=s.trim(),s="";else{(e||!s&&!a)&&(s=" "+s);const[t]=cut(s,r-N(e),N,f);t>=0&&(l=s.trim(),s=s.slice(0,t).trimEnd()+ellipsis)}const B=t.append("tspan").attr("x",0).attr("dy",`${U}em`).text("â");e&&B.append("tspan").attr("font-weight","bold").text(e),s&&B.append(()=>o.createTextNode(s)),a&&B.append("tspan").text(" â ").attr("fill",i).attr("fill-opacity",n).style("user-select","none"),l&&B.append("title").text(l)}function w(){const{width:t,height:e}=i.facet??i;D.selectChildren().each(function(s){let{x:i,width:n,height:l}=this.getBBox();n=Math.round(n),l=Math.round(l);let r=F;if(void 0===r){const i=V(s)+R,c=Z(s)+S,B=i+n+b+2*d<t,g=i-n-b-2*d>0,o=c+l+b+2*d<e,F=c-l-b-2*d>0;r=B&&g?o&&F?a.preferredAnchor:F?"bottom":"top":o&&F?B?"left":"right":(B||g)&&(o||F)?`${F?"bottom":"top"}-${B?"left":"right"}`:a.preferredAnchor}const c=this.firstChild,B=this.lastChild;if(c.setAttribute("d",getPath(r,b,d,n,l)),i)for(const t of B.childNodes)t.setAttribute("x",-i);B.setAttribute("y",+getLineOffset(r,B.childNodes.length,U).toFixed(6)+"em"),B.setAttribute("transform",`translate(${getTextTranslate(r,b,d,n,l)})`)}),D.attr("visibility",null)}return t.length&&(D.attr("visibility","hidden"),g.isConnected?Promise.resolve().then(w):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(w)),D.node()}}function tip(t,{x:e,y:s,...i}={}){return void 0===i.frameAnchor&&([e,s]=maybeTuple(e,s)),new Tip(t,{...i,x:e,y:s})}function getLineOffset(t,e,s){return/^top(?:-|$)/.test(t)?.94-s:-.29-e*s}function getTextTranslate(t,e,s,i,n){switch(t){case"middle":return[-i/2,n/2];case"top-left":return[s,e+s];case"top":return[-i/2,e/2+s];case"top-right":return[-i-s,e+s];case"right":return[-e/2-i-s,n/2];case"bottom-left":return[s,-e-s];case"bottom":return[-i/2,-e/2-s];case"bottom-right":return[-i-s,-e-s];case"left":return[s+e/2,n/2]}}function getPath(t,e,s,i,n){const a=i+2*s,l=n+2*s;switch(t){case"middle":return`M${-a/2},${-l/2}h${a}v${l}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${l}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${l}h${-a}v${-l}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${l}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-l/2}h${-a}v${l}h${a}v${e/2-l/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-l}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-l}h${-a}v${l}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-l}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-l/2}h${a}v${l}h${-a}v${e/2-l/2}z`}}function getSourceChannels(t,e){const s={};let i=this.format;i=maybeExpandPairedFormat(i,t,"x"),i=maybeExpandPairedFormat(i,t,"y"),this.format=i;for(const e in i){const n=i[e];if(null!==n&&!1!==n)if("fx"===e||"fy"===e)s[e]=!0;else{const i=getSource(t,e);i&&(s[e]=i)}}for(const e in t){if(e in s||e in i||ignoreChannels.has(e))continue;if(("x"===e||"y"===e)&&t.geometry)continue;const n=getSource(t,e);if(n){if(null==n.scale&&"color"===n.defaultScale)continue;s[e]=n}}this.facet&&(e.fx&&!("fx"in i)&&(s.fx=!0),e.fy&&!("fy"in i)&&(s.fy=!0));for(const t in s){const i=this.format[t];if("string"==typeof i){const n=s[t]?.value??e[t]?.domain()??[];this.format[t]=(isTemporal(n)?utcFormat:format$1)(i)}else if(void 0===i||!0===i){const s=e[t];this.format[t]=s?.bandwidth?inferTickFormat(s,s.domain()):formatDefault}}return s}function maybeExpandPairedFormat(t,e,s){if(!(s in t))return t;const i=`${s}1`,n=`${s}2`;if(!(!(i in t)&&i in e||!(n in t)&&n in e))return t;const a=Object.entries(t),l=t[s];return a.splice(a.findIndex(([t])=>t===s)+1,0,[i,l],[n,l]),Object.fromEntries(a)}function formatTitle(t,e,{title:s}){return this.format.title(s.value[t],t)}function*formatChannels(t,e,s,i,n){for(const a in s){if("fx"===a||"fy"===a){yield{label:formatLabel(i,s,a),value:this.format[a](e[a],t)};continue}if("x1"===a&&"x2"in s)continue;if("y1"===a&&"y2"in s)continue;const l=s[a];if("x2"===a&&"x1"in s)yield{label:formatPairLabel(i,s,"x"),value:formatPair(this.format.x2,s.x1,l,t)};else if("y2"===a&&"y1"in s)yield{label:formatPairLabel(i,s,"y"),value:formatPair(this.format.y2,s.y1,l,t)};else{const e=l.value[t],r=l.scale;if(!defined(e)&&null==r)continue;yield{label:formatLabel(i,s,a),value:this.format[a](e,t),color:"color"===r?n[a][t]:null,opacity:"opacity"===r?n[a][t]:null}}}}function formatPair(t,e,s,i){return s.hint?.length?`${t(s.value[i]-e.value[i],i)}`:`${t(e.value[i],i)}â${t(s.value[i],i)}`}function formatPairLabel(t,e,s){const i=formatLabel(t,e,`${s}1`,s),n=formatLabel(t,e,`${s}2`,s);return i===n?i:`${i}â${n}`}function formatLabel(t,e,s,i=s){const n=e[s],a=t[n?.scale??s];return String(a?.label??n?.label??i)}function plot(t={}){const{facet:e,style:s,title:i,subtitle:n,caption:a,ariaLabel:l,ariaDescription:r}=t,c=maybeClassName(t.className),B=void 0===t.marks?[]:flatMarks(t.marks);B.push(...inferTips(B));const g=maybeTopFacet(e,t),o=new Map;for(const e of B){const s=maybeMarkFacet(e,g,t);s&&o.set(e,s)}const F=new Map;g&&addScaleChannels(F,[g],t),addScaleChannels(F,o,t);const Q=flatMarks(inferAxes(B,F,t));for(const e of Q){const s=maybeMarkFacet(e,g,t);s&&o.set(e,s)}B.unshift(...Q);let U=createFacets(F,t);if(void 0!==U){const t=g?facetFilter(U,g):void 0;for(const e of B){if(null===e.facet||"super"===e.facet)continue;const s=o.get(e);void 0!==s&&(s.facetsIndex=null!=e.fx||null!=e.fy?facetFilter(U,s):t)}const e=new Set;for(const{facetsIndex:t}of o.values())t?.forEach((t,s)=>{t?.length>0&&e.add(s)});U.forEach(0<e.size&&e.size<U.length?(t,s)=>t.empty=!e.has(s):t=>t.empty=!1);for(const t of B)if("exclude"===t.facet){const e=o.get(t);void 0!==e&&(e.facetsIndex=facetExclude(e.facetsIndex))}}for(const e of registry.keys())isScaleOptions(t[e])&&"fx"!==e&&"fy"!==e&&F.set(e,[]);const I=new Map;for(const e of B){if(I.has(e))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:s,channels:i}=o.get(e)??{},{data:n,facets:a,channels:l}=e.initialize(s,i,t);applyScaleTransforms(l,t),I.set(e,{data:n,facets:a,channels:l})}const d=createScales(addScaleChannels(F,I,t),t),b=createDimensions(d,B,t);autoScaleRange(d,b);const u=createScaleFunctions(d),{fx:C,fy:h}=u,y=C||h?innerDimensions(d,b):b,x=C||h?actualDimensions(u,b):b,m=createContext(t),p=m.document,A=creator("svg").call(p.documentElement);let G=A;m.ownerSVGElement=A,m.className=c,m.projection=createProjection(t,y),m.path=function(){return geoPath(this.projection??xyProjection(u))},m.filterFacets=(t,e)=>facetFilter(U,{channels:e,groups:facetGroups(t,e)}),m.getMarkState=t=>{const e=I.get(t),s=o.get(t);return{...e,channels:{...e.channels,...s?.channels}}},m.dispatchValue=t=>{G.value!==t&&(G.value=t,G.dispatchEvent(new m.document.defaultView.Event("input",{bubbles:!0})))};const R=new Set;for(const[e,s]of I)if(null!=e.initializer){const i="super"===e.facet?x:y,n=e.initializer(s.data,s.facets,s.channels,u,i,m);if(void 0!==n.data&&(s.data=n.data),void 0!==n.facets&&(s.facets=n.facets),void 0!==n.channels){const{fx:i,fy:a,...l}=n.channels;inferChannelScales(l),Object.assign(s.channels,l);for(const e of Object.values(l)){const{scale:s}=e;null==s||isPosition(registry.get(s))||(applyScaleTransform(e,t),R.add(s))}null==i&&null==a||o.set(e,!0)}}if(R.size){const e=new Map;addScaleChannels(e,I,t,t=>R.has(t)),addScaleChannels(F,I,t,t=>R.has(t));const s=inheritScaleLabels(createScales(e,t),d),{scales:i,...n}=createScaleFunctions(s);Object.assign(d,s),Object.assign(u,n),Object.assign(u.scales,i)}let S,L;void 0!==U&&(S={x:C?.domain(),y:h?.domain()},U=recreateFacets(U,S),L=facetTranslator(C,h,b));for(const[t,e]of I)e.values=t.scale(e.channels,u,m);const{width:E,height:V}=b;select(A).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",E).attr("height",V).attr("viewBox",`0 0 ${E} ${V}`).attr("aria-label",l).attr("aria-description",r).call(t=>t.append("style").text(`:where(.${c}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${c} text),\n:where(.${c} tspan) {\n  white-space: pre;\n}`)).call(applyInlineStyles,s);for(const t of B){const{channels:e,values:s,facets:i}=I.get(t);if(void 0===U||"super"===t.facet){let n=null;if(i&&(n=i[0],n=t.filter(n,e,s),0===n.length))continue;const a=t.render(n,u,s,x,m);if(null==a)continue;A.appendChild(a)}else{let n;for(const a of U){if(!(t.facetAnchor?.(U,S,a)??!a.empty))continue;let l=null;if(i){const n=o.has(t);if(l=i[n?a.i:0],l=t.filter(l,e,s),0===l.length)continue;n||l!==i[0]||(l=subarray(l)),l.fx=a.x,l.fy=a.y,l.fi=a.i}const r=t.render(l,u,s,y,m);if(null!=r){(n??=select(A).append("g")).append(()=>r).datum(a);for(const t of["aria-label","aria-description","aria-hidden","transform"])r.hasAttribute(t)&&(n.attr(t,r.getAttribute(t)),r.removeAttribute(t))}}n?.selectChildren().each(L)}}const Z=createLegends(d,m,t),{figure:N=null!=i||null!=n||null!=a||Z.length>0}=t;N&&(G=p.createElement("figure"),G.className=`${c}-figure`,G.style.maxWidth="initial",null!=i&&G.append(createTitleElement(p,i,"h2")),null!=n&&G.append(createTitleElement(p,n,"h3")),G.append(...Z,A),null!=a&&G.append(createFigcaption(p,a)),"value"in A&&(G.value=A.value,delete A.value)),G.scale=exposeScales(u.scales),G.legend=exposeLegends(d,m,t);const f=consumeWarnings();return f>0&&select(A).append("text").attr("x",E).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("â ï¸").append("title").text(`${f.toLocaleString("en-US")} warning${1===f?"":"s"}. Please check the console.`),G}function createTitleElement(t,e,s){if(e.ownerDocument)return e;const i=t.createElement(s);return i.append(e),i}function createFigcaption(t,e){const s=t.createElement("figcaption");return s.append(e),s}function flatMarks(t){return t.flat(1/0).filter(t=>null!=t).map(markify)}function markify(t){return"function"==typeof t.render?t:new Render(t)}class Render extends Mark{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function applyScaleTransforms(t,e){for(const s in t)applyScaleTransform(t[s],e);return t}function applyScaleTransform(t,e){const{scale:s,transform:i=!0}=t;if(null==s||!i)return;const{type:n,percent:a,interval:l,transform:r=(a?t=>null==t?NaN:100*t:maybeIntervalTransform(l,n))}=e[s]??{};null!=r&&(t.value=map(t.value,r),t.transform=!1)}function inferChannelScales(t){for(const e in t)inferChannelScale(e,t[e])}function addScaleChannels(t,e,s,i=yes){for(const{channels:n}of e.values())for(const e in n){const a=n[e],{scale:l}=a;if(null!=l&&i(l))if("projection"===l){if(!hasProjection(s)){const e=void 0===s.x?.domain,i=void 0===s.y?.domain;if(e||i){const[s,n]=getGeometryChannels(a);e&&addScaleChannel(t,"x",s),i&&addScaleChannel(t,"y",n)}}}else addScaleChannel(t,l,a)}return t}function addScaleChannel(t,e,s){const i=t.get(e);void 0!==i?i.push(s):t.set(e,[s])}function maybeTopFacet(t,e){if(null==t)return;const{x:s,y:i}=t;if(null==s&&null==i)return;const n=dataify(t.data);if(null==n)throw new Error("missing facet data");const a={};null!=s&&(a.fx=createChannel(n,{value:s,scale:"fx"})),null!=i&&(a.fy=createChannel(n,{value:i,scale:"fy"})),applyScaleTransforms(a,e);return{channels:a,groups:facetGroups(n,a),data:t.data}}function maybeMarkFacet(t,e,s){if(null===t.facet||"super"===t.facet)return;const{fx:i,fy:n}=t;if(null!=i||null!=n){const e=dataify(t.data??i??n);if(void 0===e)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===e)return;const a={};return null!=i&&(a.fx=createChannel(e,{value:i,scale:"fx"})),null!=n&&(a.fy=createChannel(e,{value:n,scale:"fy"})),applyScaleTransforms(a,s),{channels:a,groups:facetGroups(e,a)}}if(void 0===e)return;const{channels:a,groups:l,data:r}=e;if("auto"!==t.facet||t.data===r)return{channels:a,groups:l};r.length>0&&(l.size>1||1===l.size&&a.fx&&a.fy&&[...l][0][1].size>1)&&lengthof(dataify(t.data))===lengthof(r)&&warn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnât faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function derive(t,e={}){return initializer({...e,x:null,y:null},(e,s,i,n,a,l)=>l.getMarkState(t))}function inferTips(t){const e=[];for(const s of t){let t=s.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:i,preferredAnchor:n}=t;i=/^x$/i.test(i)?pointerX:/^y$/i.test(i)?pointerY:pointer,t=i(derive(s,t)),t.title=null,void 0===n&&(t.preferredAnchor=i===pointerY?"left":"bottom");const a=tip(s.data,t);a.facet=s.facet,a.facetAnchor=s.facetAnchor,e.push(a)}}return e}function inferAxes(t,e,s){let{projection:i,x:n={},y:a={},fx:l={},fy:r={},axis:c,grid:B,facet:g={},facet:{axis:o=c,grid:F}=g,x:{axis:Q=c,grid:U=(null===Q?null:B)}=n,y:{axis:I=c,grid:d=(null===I?null:B)}=a,fx:{axis:b=o,grid:u=(null===b?null:F)}=l,fy:{axis:C=o,grid:h=(null===C?null:F)}=r}=s;(i||!isScaleOptions(n)&&!hasPositionChannel("x",t))&&(Q=U=null),(i||!isScaleOptions(a)&&!hasPositionChannel("y",t))&&(I=d=null),e.has("fx")||(b=u=null),e.has("fy")||(C=h=null),void 0===Q&&(Q=!hasAxis(t,"x")),void 0===I&&(I=!hasAxis(t,"y")),void 0===b&&(b=!hasAxis(t,"fx")),void 0===C&&(C=!hasAxis(t,"fy")),!0===Q&&(Q="bottom"),!0===I&&(I="left"),!0===b&&(b="top"===Q||null===Q?"bottom":"top"),!0===C&&(C="right"===I||null===I?"left":"right");const y=[];return maybeGrid(y,h,gridFy,r),maybeAxis(y,C,axisFy,"right","left",g,r),maybeGrid(y,u,gridFx,l),maybeAxis(y,b,axisFx,"top","bottom",g,l),maybeGrid(y,d,gridY,a),maybeAxis(y,I,axisY,"left","right",s,a),maybeGrid(y,U,gridX,n),maybeAxis(y,Q,axisX,"bottom","top",s,n),y}function maybeAxis(t,e,s,i,n,a,l){if(!e)return;const r=isBoth(e);l=axisOptions(r?i:e,a,l);const{line:c}=l;s!==axisY&&s!==axisX||!c||isNone(c)||t.push(frame(lineOptions(l))),t.push(s(l)),r&&t.push(s({...l,anchor:n,label:null}))}function maybeGrid(t,e,s,i){e&&!isNone(e)&&t.push(s(gridOptions(e,i)))}function isBoth(t){return/^\s*both\s*$/i.test(t)}function axisOptions(t,e,{line:s=e.line,ticks:i,tickSize:n,tickSpacing:a,tickPadding:l,tickFormat:r,tickRotate:c,fontVariant:B,ariaLabel:g,ariaDescription:o,label:F=e.label,labelAnchor:Q,labelArrow:U=e.labelArrow,labelOffset:I}){return{anchor:t,line:s,ticks:i,tickSize:n,tickSpacing:a,tickPadding:l,tickFormat:r,tickRotate:c,fontVariant:B,ariaLabel:g,ariaDescription:o,label:F,labelAnchor:Q,labelArrow:U,labelOffset:I}}function lineOptions(t){const{anchor:e,line:s}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:!0===s?void 0:s}}function gridOptions(t,{stroke:e=(isColor(t)?t:void 0),ticks:s=(isGridTicks(t)?t:void 0),tickSpacing:i,ariaLabel:n,ariaDescription:a}){return{stroke:e,ticks:s,tickSpacing:i,ariaLabel:n,ariaDescription:a}}function isGridTicks(t){switch(typeof t){case"number":return!0;case"string":return!isColor(t)}return isIterable(t)||"function"==typeof t?.range}function hasAxis(t,e){const s=`${e}-axis `;return t.some(t=>t.ariaLabel?.startsWith(s))}function hasPositionChannel(t,e){for(const s of e)for(const e in s.channels){const{scale:i}=s.channels[e];if(i===t||"projection"===i)return!0}return!1}function inheritScaleLabels(t,e){for(const s in t){const i=t[s],n=e[s];void 0===i.label&&n&&(i.label=n.label)}return t}function actualDimensions({fx:t,fy:e},s){const{marginTop:i,marginRight:n,marginBottom:a,marginLeft:l,width:r,height:c}=outerDimensions(s),B=t&&outerRange(t),g=e&&outerRange(e);return{marginTop:e?g[0]:i,marginRight:t?r-B[1]:n,marginBottom:e?c-g[1]:a,marginLeft:t?B[0]:l,inset:{marginTop:s.marginTop,marginRight:s.marginRight,marginBottom:s.marginBottom,marginLeft:s.marginLeft},width:r,height:c}}function outerRange(t){const e=t.domain();if(0===e.length)return[0,t.bandwidth()];let s=t(e[0]),i=t(e[e.length-1]);return i<s&&([s,i]=[i,s]),[s,i+t.bandwidth()]}const curves=new Map([["basis",curveBasis],["basis-closed",curveBasisClosed],["basis-open",curveBasisOpen],["bundle",curveBundle],["bump-x",bumpX],["bump-y",bumpY],["cardinal",curveCardinal],["cardinal-closed",curveCardinalClosed],["cardinal-open",curveCardinalOpen],["catmull-rom",curveCatmullRom],["catmull-rom-closed",curveCatmullRomClosed],["catmull-rom-open",curveCatmullRomOpen],["linear",curveLinear],["linear-closed",curveLinearClosed],["monotone-x",monotoneX],["monotone-y",monotoneY],["natural",curveNatural],["step",curveStep],["step-after",stepAfter],["step-before",stepBefore]]);function maybeCurve(t=curveLinear,e){if("function"==typeof t)return t;const s=curves.get(`${t}`.toLowerCase());if(!s)throw new Error(`unknown curve: ${t}`);if(void 0!==e){if("beta"in s)return s.beta(e);if("tension"in s)return s.tension(e);if("alpha"in s)return s.alpha(e)}return s}function maybeCurveAuto(t=curveAuto,e){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?curveAuto:maybeCurve(t,e)}function curveAuto(t){return curveLinear(t)}function binX(t={y:"count"},e={}){[t,e]=mergeOptions(t,e);const{x:s,y:i}=e;return binn(maybeBinValue(s,e,identity$1),null,null,i,t,maybeInsetX(e))}function maybeDenseInterval(t,e,s={}){if(null==s?.interval)return s;const{reduce:i=reduceFirst}=s,n={filter:null};return null!=s[e]&&(n[e]=i),null!=s[`${e}1`]&&(n[`${e}1`]=i),null!=s[`${e}2`]&&(n[`${e}2`]=i),t(n,s)}function maybeDenseIntervalX(t={}){return maybeDenseInterval(binX,"y",withTip(t,"x"))}function binn(t,e,s,i,{data:n=reduceIdentity,filter:a=reduceCount,sort:l,reverse:r,...c}={},B={}){t=maybeBin(t),e=maybeBin(e),c=maybeBinOutputs(c,B),n=maybeBinReduce(n,identity$1),l=null==l?void 0:maybeBinOutput("sort",l,B),a=null==a?void 0:maybeBinEvaluator("filter",a,B),null!=i&&hasOutput(c,"y","y1","y2")&&(i=null);const[g,o]=maybeColumn(t),[F,Q]=maybeColumn(t),[U,I]=maybeColumn(e),[d,b]=maybeColumn(e),[u,C]=null!=i?[i,"y"]:[],[h,y]=maybeColumn(u),{x:x,y:m,z:p,fill:A,stroke:G,x1:R,x2:S,y1:L,y2:E,domain:V,cumulative:Z,thresholds:N,interval:f,...X}=B,[W,D]=maybeColumn(p),[H]=maybeColorChannel(A),[w]=maybeColorChannel(G),[v,Y]=maybeColumn(H),[T,k]=maybeColumn(w);return{..."z"in B&&{z:W||p},..."fill"in B&&{fill:v||A},..."stroke"in B&&{stroke:T||G},...basic(X,(s,i,B)=>{const g=maybeApplyInterval(valueof(s,u),B?.[C]),F=valueof(s,p),U=valueof(s,H),d=valueof(s,w),h=maybeSubgroup(c,{z:F,fill:U,stroke:d}),x=[],m=[],A=g&&y([]),G=F&&D([]),R=U&&Y([]),S=d&&k([]),L=t&&o([]),E=t&&Q([]),V=e&&I([]),Z=e&&b([]),N=bing(t,e,s);let f=0;for(const t of c)t.initialize(s);l&&l.initialize(s),a&&a.initialize(s);for(const t of i){const e=[];for(const e of c)e.scope("facet",t);l&&l.scope("facet",t),a&&a.scope("facet",t);for(const[i,r]of maybeGroup(t,h))for(const[t,B]of maybeGroup(r,g))for(const[r,o]of N(B))if(h&&(o.z=i),!a||a.reduce(r,o)){e.push(f++),m.push(n.reduceIndex(r,s,o)),g&&A.push(t),F&&G.push(h===F?i:F[(r.length>0?r:B)[0]]),U&&R.push(h===U?i:U[(r.length>0?r:B)[0]]),d&&S.push(h===d?i:d[(r.length>0?r:B)[0]]),L&&(L.push(o.x1),E.push(o.x2)),V&&(V.push(o.y1),Z.push(o.y2));for(const t of c)t.reduce(r,o);l&&l.reduce(r,o)}x.push(e)}return maybeSort(x,l,r),{data:m,facets:x}}),...!hasOutput(c,"x")&&(g?{x1:g,x2:F,x:mid(g,F)}:{x:x,x1:R,x2:S}),...!hasOutput(c,"y")&&(U?{y1:U,y2:d,y:mid(U,d)}:{y:m,y1:L,y2:E}),...h&&{[C]:h},...Object.fromEntries(c.map(({name:t,output:e})=>[t,e]))}}function mergeOptions({cumulative:t,domain:e,thresholds:s,interval:i,...n},a){return[n,{cumulative:t,domain:e,thresholds:s,interval:i,...a}]}function maybeBinValue(t,{cumulative:e,domain:s,thresholds:i,interval:n},a){return void 0===(t={...maybeValue(t)}).domain&&(t.domain=s),void 0===t.cumulative&&(t.cumulative=e),void 0===t.thresholds&&(t.thresholds=i),void 0===t.interval&&(t.interval=n),void 0===t.value&&(t.value=a),t.thresholds=maybeThresholds(t.thresholds,t.interval),t}function maybeBin(t){if(null==t)return;const{value:e,cumulative:s,domain:i=extent$1,thresholds:n}=t,a=t=>{let a,l=valueof(t,e);if(isTemporal(l)||isTimeThresholds(n)){l=map(l,coerceDate,Float64Array);let[t,e]="function"==typeof i?i(l):i,s="function"!=typeof n||isInterval(n)?n:n(l,t,e);"number"==typeof s&&(s=utcTickInterval(t,e,s)),isInterval(s)&&(i===extent$1&&(t=s.floor(t),e=s.offset(s.floor(e))),s=s.range(t,s.offset(e))),a=s}else{l=coerceNumbers(l);let[t,e]="function"==typeof i?i(l):i,s="function"!=typeof n||isInterval(n)?n:n(l,t,e);if("number"==typeof s)if(i===extent$1){let i=tickIncrement(t,e,s);if(isFinite(i))if(i>0){let n=Math.round(t/i),a=Math.round(e/i);n*i<=t||--n,a*i>e||++a;let l=a-n+1;s=new Float64Array(l);for(let t=0;t<l;++t)s[t]=(n+t)*i}else if(i<0){i=-i;let n=Math.round(t*i),a=Math.round(e*i);n/i<=t||--n,a/i>e||++a;let l=a-n+1;s=new Float64Array(l);for(let t=0;t<l;++t)s[t]=(n+t)/i}else s=[t];else s=[t]}else s=ticks(t,e,s);else isInterval(s)&&(i===extent$1&&(t=s.floor(t),e=s.offset(s.floor(e))),s=s.range(t,s.offset(e)));a=s}const r=[];if(1===a.length)r.push([a[0],a[0]]);else for(let t=1;t<a.length;++t)r.push([a[t-1],a[t]]);return r.bin=(s<0?bin1cn:s>0?bin1cp:bin1)(r,a,l),r};return a.label=labelof(e),a}function maybeThresholds(t,e,s=thresholdAuto){if(void 0===t)return void 0===e?s:maybeRangeInterval(e);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return thresholdFreedmanDiaconis;case"scott":return thresholdScott;case"sturges":return thresholdSturges;case"auto":return thresholdAuto}return utcInterval(t)}return t}function maybeBinOutputs(t,e){return maybeOutputs(t,e,maybeBinOutput)}function maybeBinOutput(t,e,s){return maybeOutput(t,e,s,maybeBinEvaluator)}function maybeBinEvaluator(t,e,s){return maybeEvaluator(t,e,s,maybeBinReduce)}function maybeBinReduce(t,e){return maybeReduce(t,e,maybeBinReduceFallback)}function maybeBinReduceFallback(t){switch(`${t}`.toLowerCase()){case"x":return reduceX;case"x1":return reduceX1;case"x2":return reduceX2;case"y":return reduceY;case"y1":return reduceY1;case"y2":return reduceY2;case"z":return reduceZ}throw new Error(`invalid bin reduce: ${t}`)}function thresholdAuto(t,e,s){return Math.min(200,thresholdScott(t,e,s))}function isTimeThresholds(t){return isTimeInterval(t)||isIterable(t)&&isTemporal(t)}function bing(t,e,s){const i=t?.(s),n=e?.(s);return i&&n?function*(t){const e=i.bin(t);for(const[t,[a,l]]of i.entries()){const i=n.bin(e[t]);for(const[t,[e,r]]of n.entries())yield[i[t],{data:s,x1:a,y1:e,x2:l,y2:r}]}}:i?function*(t){const e=i.bin(t);for(const[t,[n,a]]of i.entries())yield[e[t],{data:s,x1:n,x2:a}]}:function*(t){const e=n.bin(t);for(const[t,[i,a]]of n.entries())yield[e[t],{data:s,y1:i,y2:a}]}}function bin1(t,e,s){return e=coerceNumbers(e),i=>{const n=t.map(()=>[]);for(const t of i)n[bisectRight(e,s[t])-1]?.push(t);return n}}function bin1cp(t,e,s){const i=bin1(t,e,s);return t=>{const e=i(t);for(let t=1,s=e.length;t<s;++t){const s=e[t-1],i=e[t];for(const t of s)i.push(t)}return e}}function bin1cn(t,e,s){const i=bin1(t,e,s);return t=>{const e=i(t);for(let t=e.length-2;t>=0;--t){const s=e[t+1],i=e[t];for(const t of s)i.push(t)}return e}}function mid1(t,e){const s=(+t+ +e)/2;return t instanceof Date?new Date(s):s}const reduceX={reduceIndex:(t,e,{x1:s,x2:i})=>mid1(s,i)},reduceY={reduceIndex:(t,e,{y1:s,y2:i})=>mid1(s,i)},reduceX1={reduceIndex:(t,e,{x1:s})=>s},reduceX2={reduceIndex:(t,e,{x2:s})=>s},reduceY1={reduceIndex:(t,e,{y1:s})=>s},reduceY2={reduceIndex:(t,e,{y2:s})=>s},defaults$1={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function withDefaultSort(t){return void 0===t.sort&&void 0===t.reverse?sort$1({channel:"-r"},t):t}class Dot extends Mark{constructor(t,e={}){const{x:s,y:i,r:n,rotate:a,symbol:l=symbolCircle,frameAnchor:r}=e,[c,B]=maybeNumberChannel(a,0),[g,o]=maybeSymbolChannel(l),[F,Q]=maybeNumberChannel(n,null==g?3:4.5);super(t,{x:{value:s,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:F,scale:"r",filter:positive,optional:!0},rotate:{value:c,optional:!0},symbol:{value:g,scale:"auto",optional:!0}},withDefaultSort(e),defaults$1),this.r=Q,this.rotate=B,this.symbol=o,this.frameAnchor=maybeFrameAnchor(r);const{channels:U}=this,{symbol:I}=U;if(I){const{fill:t,stroke:e}=U;I.hint={fill:t?t.value===I.value?"color":"currentColor":this.fill??"currentColor",stroke:e?e.value===I.value?"color":"currentColor":this.stroke??"none"}}}render(t,e,s,i,n){const{x:a,y:l}=e,{x:r,y:c,r:B,rotate:g,symbol:o}=s,{r:F,rotate:Q,symbol:U}=this,[I,d]=applyFrameAnchor(this,i),b=U===symbolCircle,u=B?void 0:F*F*Math.PI;return negative(F)&&(t=[]),create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyTransform,this,{x:r&&a,y:c&&l}).call(e=>e.selectAll().data(t).enter().append(b?"circle":"path").call(applyDirectStyles,this).call(b?t=>{t.attr("cx",r?t=>r[t]:I).attr("cy",c?t=>c[t]:d).attr("r",B?t=>B[t]:F)}:t=>{t.attr("transform",template`translate(${r?t=>r[t]:I},${c?t=>c[t]:d})${g?t=>` rotate(${g[t]})`:Q?` rotate(${Q})`:""}`).attr("d",B&&o?t=>{const e=pathRound();return o[t].draw(e,B[t]*B[t]*Math.PI),e}:B?t=>{const e=pathRound();return U.draw(e,B[t]*B[t]*Math.PI),e}:o?t=>{const e=pathRound();return o[t].draw(e,u),e}:(()=>{const t=pathRound();return U.draw(t,u),t})())}).call(applyChannelStyles,this,s)).node()}}function dot(t,{x:e,y:s,...i}={}){return void 0===i.frameAnchor&&([e,s]=maybeTuple(e,s)),new Dot(t,{...i,x:e,y:s})}const defaults={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Line extends Mark{constructor(t,e={}){const{x:s,y:i,z:n,curve:a,tension:l}=e;super(t,{x:{value:s,scale:"x"},y:{value:i,scale:"y"},z:{value:maybeZ(e),optional:!0}},e,defaults),this.z=n,this.curve=maybeCurveAuto(a,l),markers(this,e)}filter(t){return t}project(t,e,s){this.curve!==curveAuto&&super.project(t,e,s)}render(t,e,s,i,n){const{x:a,y:l}=s,{curve:r}=this;return create("svg:g",n).call(applyIndirectStyles,this,i,n).call(applyTransform,this,e).call(e=>e.selectAll().data(groupIndex(t,[a,l],this,s)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,s).call(applyGroupedMarkers,this,s,n).attr("d",r===curveAuto&&n.projection?sphereLine(n.path(),a,l):shapeLine().curve(r).defined(t=>t>=0).x(t=>a[t]).y(t=>l[t]))).node()}}function sphereLine(t,e,s){return e=coerceNumbers(e),s=coerceNumbers(s),i=>{let n=[];const a=[n];for(const t of i)-1===t?(n=[],a.push(n)):n.push([e[t],s[t]]);return t({type:"MultiLineString",coordinates:a})}}function lineY(t,{x:e=indexOf,y:s=identity$1,...i}={}){return new Line(t,maybeDenseIntervalX({...i,x:e,y:s}))}function decodeBase64(t,e){return atob(t)}function createURL(t,e,s){var i=e,n=decodeBase64(t),a=n.indexOf("\n",10)+1,l=n.substring(a)+"//# sourceMappingURL="+i,r=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(r)}function createBase64WorkerFactory(t,e,s){var i;return function(s){return i=i||createURL(t,e),new Worker(i,s)}}Mark.prototype.plot=function({marks:t=[],...e}={}){return plot({...e,marks:[...t,this]})};var WorkerFactory=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGRpc3RyaWJ1dGlvbnMkMSA9IHtleHBvcnRzOiB7fX07CgogIHZhciBkaXN0cmlidXRpb25zID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CiAgKGZ1bmN0aW9uIChtb2R1bGUpIHsKCiAgICAvLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvbgogICAgLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoCiAgICAvLyBhcyBpbiAibG9nIGRlbnNpdHkiKSwgc28gdG8gZ2V0IGEgbm9ybWFsIGxvZyBkZW5zaXR5IHlvdSB3b3VsZCB3cml0ZQogICAgLy8gbGQubm9ybSguLi4pLgogICAgLy8gTW9zdCBvZiB0aGUgY29kZSBiZWxvdyBpcyBkaXJlY3RseSB0YWtlbiBmcm9tIHRoZSBncmVhdCBKc3RhdCBwcm9qZWN0CiAgICAvLyAoaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0Lykgd2hpY2ggaW5jbHVkZXMgUERGIGZvciBtYW55IGNvbW1vbiBwcm9iYWJpbGl0eQogICAgLy8gZGlzdHJpYnV0aW9ucy4gV2hhdCBJIGhhdmUgZG9uZSBpcyBvbmx5IHRvIGNvbnZlcnQgdGhlc2UgdG8gbG9nIFBERnMuCgogICAgLyoKICAgIE9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0CiAgICBNb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCAKICAgIAlQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgCVRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAgICBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICAgIAlUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAgICBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiAgICBUSEUgU09GVFdBUkUuCiAgICAJKi8KCiAgICAvLyBUaGlzIGJvaWxlciBwbGF0ZSBjb2RlIGhlcmUgaXMgdGFrZW4gZnJvbToKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvdGVtcGxhdGVzL3JldHVybkV4cG9ydHMuanMKICAgIC8vIEl0IHNob3VsZCBtYWtlIHNodXJlIHRoYXQgbW9kdWxlIGNhbiBiZSBpbXBvcnRlZCBib3RoIGluIHRoZSBicm93c2VyLAogICAgLy8gTm9kZSwgYW5kIGJ5IHVzaW5nIHRoZSBBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24gc3RhbmRhcmQuCiAgICAvLyBJZiB0aGlzIG1vZHVsZSBpcyBsb2FkZWQgaW4gdGhlIGJyb3dzZXIgaXQgd2lsbCBjcmVhdGVkIHRoZSBnbG9iYWwKICAgIC8vIG9iamVjdCBsZCAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5sZCA9IGZhY3RvcnkoKTsKICAgICAgfQogICAgfSkoZGlzdHJpYnV0aW9ucywgZnVuY3Rpb24gKCkgewogICAgICAvLyBPYmplY3QgdG8gaG9sZCB0aGUgZnVuY3Rpb25zIHRvIGJlIGV4cG9ydGVkLgogICAgICB2YXIgbGQgPSB7fTsKCiAgICAgIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICB2YXIgbGdhbW1hID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICB2YXIgaiA9IDA7CiAgICAgICAgdmFyIGNvZiA9IFs3Ni4xODAwOTE3Mjk0NzE0NiwgLTg2LjUwNTMyMDMyOTQxNjc4LCAyNC4wMTQwOTgyNDA4MzA5MSwgLTEuMjMxNzM5NTcyNDUwMTU1LCAwLjEyMDg2NTA5NzM4NjYxNzllLTIsIC01Mzk1MjM5Mzg0OTUzZS0xOF07CiAgICAgICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1OwogICAgICAgIHZhciB4eCwgeSwgdG1wOwogICAgICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTsKICAgICAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApOwogICAgICAgIGZvciAoOyBqIDwgNjsgaisrKSBzZXIgKz0gY29mW2pdIC8gKyt5OwogICAgICAgIHJldHVybiBsb2coMi41MDY2MjgyNzQ2MzEwMDA1ICogc2VyIC8geHgpIC0gdG1wOwogICAgICB9OwogICAgICBsZC5sZ2FtbWEgPSBsZ2FtbWE7CiAgICAgIHZhciBsZmFjdG9yaWFsID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbiA8IDAgPyBOYU4gOiBsZ2FtbWEobiArIDEpOwogICAgICB9OwogICAgICBsZC5sZmFjdG9yaWFsID0gbGZhY3RvcmlhbDsKICAgICAgdmFyIGxjaG9vc2UgPSBmdW5jdGlvbiAobiwgaykgewogICAgICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspOwogICAgICB9OwogICAgICBsZC5sY2hvb3NlID0gbGNob29zZTsKICAgICAgdmFyIGxiZXRhID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTsKICAgICAgfTsKICAgICAgbGQubGJldGEgPSBsYmV0YTsKICAgICAgdmFyIGxvZyA9IE1hdGgubG9nOwogICAgICB2YXIgZXhwID0gTWF0aC5leHA7CiAgICAgIHZhciBhYnMgPSBNYXRoLmFiczsKICAgICAgdmFyIHBvdyA9IE1hdGgucG93OwogICAgICB2YXIgc3FydCA9IE1hdGguc3FydDsKICAgICAgdmFyIHBpID0gTWF0aC5QSTsKCiAgICAgIC8vLy8vLy8vLy8gQ29udGlub3VzIGRpc3RyaWJ1dGlvbnMgLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJldGEgPSBmdW5jdGlvbiAoeCwgc2hhcGUxLCBzaGFwZTIpIHsKICAgICAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIGlmIChzaGFwZTEgPT09IDEgJiYgc2hhcGUyID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIChzaGFwZTEgLSAxKSAqIGxvZyh4KSArIChzaGFwZTIgLSAxKSAqIGxvZygxIC0geCkgLSBsYmV0YShzaGFwZTEsIHNoYXBlMik7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5jYXVjaHkgPSBmdW5jdGlvbiAoeCwgbG9jYXRpb24sIHNjYWxlKSB7CiAgICAgICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAtIGxvZyhwaSk7CiAgICAgIH07CiAgICAgIGxkLm5vcm0gPSBmdW5jdGlvbiAoeCwgbWVhbiwgc2QpIHsKICAgICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC0gbG9nKHNkKSAtIHBvdyh4IC0gbWVhbiwgMikgLyAoMiAqIHNkICogc2QpOwogICAgICB9OwoKICAgICAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIAogICAgICAvLyB0aGUgY29ycmVsYXRpb24uCiAgICAgIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uICh4LCBtZWFuLCBzZCwgY29ycikgewogICAgICAgIHZhciB6ID0gcG93KHhbMF0gLSBtZWFuWzBdLCAyKSAvIHBvdyhzZFswXSwgMikgKyBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkgLyAoc2RbMF0gKiBzZFsxXSk7CiAgICAgICAgdmFyIG5vcm1hbGl6aW5nX2ZhY3RvciA9IC0obG9nKDIpICsgbG9nKHBpKSArIGxvZyhzZFswXSkgKyBsb2coc2RbMV0pICsgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpKTsKICAgICAgICB2YXIgYml2YXJfbG9nX2RlbnMgPSBub3JtYWxpemluZ19mYWN0b3IgLSB6IC8gKDIgKiAoMSAtIHBvdyhjb3JyLCAyKSkpOwogICAgICAgIHJldHVybiBiaXZhcl9sb2dfZGVuczsKICAgICAgfTsKICAgICAgbGQubGFwbGFjZSA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICByZXR1cm4gLWFicyh4IC0gbG9jYXRpb24pIC8gc2NhbGUgLSBsb2coMiAqIHNjYWxlKTsKICAgICAgfTsKICAgICAgbGQuZGV4cCA9IGxkLmxhcGxhY2U7CiAgICAgIGxkLmdhbW1hID0gZnVuY3Rpb24gKHgsIHNoYXBlLCByYXRlKSB7CiAgICAgICAgdmFyIHNjYWxlID0gMSAvIHJhdGU7CiAgICAgICAgaWYgKHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAoeCA9PT0gMCAmJiBzaGFwZSA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIC1sb2coc2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gKHNoYXBlIC0gMSkgKiBsb2coeCkgLSB4IC8gc2NhbGUgLSBsZ2FtbWEoc2hhcGUpIC0gc2hhcGUgKiBsb2coc2NhbGUpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgbGQuaW52Z2FtbWEgPSBmdW5jdGlvbiAoeCwgc2hhcGUsIHNjYWxlKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7CiAgICAgIH07CiAgICAgIGxkLmxub3JtID0gZnVuY3Rpb24gKHgsIG1lYW5sb2csIHNkbG9nKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBwb3cobG9nKHgpIC0gbWVhbmxvZywgMikgLyAoMiAqIHNkbG9nICogc2Rsb2cpOwogICAgICB9OwogICAgICBsZC5wYXJldG8gPSBmdW5jdGlvbiAoeCwgc2NhbGUsIHNoYXBlKSB7CiAgICAgICAgaWYgKHggPCBzY2FsZSkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxvZyhzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSkgLSAoc2hhcGUgKyAxKSAqIGxvZyh4KTsKICAgICAgfTsKICAgICAgbGQudCA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUsIGRmKSB7CiAgICAgICAgZGYgPSBkZiA+IDFlMTAwID8gMWUxMDAgOiBkZjsKICAgICAgICByZXR1cm4gbGdhbW1hKChkZiArIDEpIC8gMikgLSBsZ2FtbWEoZGYgLyAyKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICsgbG9nKHBvdygxICsgMSAvIGRmICogcG93KCh4IC0gbG9jYXRpb24pIC8gc2NhbGUsIDIpLCAtKGRmICsgMSkgLyAyKSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIHdlaWJ1bGwgZGlzdHJpYnV0aW9uOiAKICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3djaC9yLXNvdXJjZS9ibG9iL2IxNTZlM2E3MTE5NjdmNTgxMzFlMjNjMWIxZGMxZWE5MGUyZjBjNDMvc3JjL25tYXRoL2R3ZWlidWxsLmMKICAgICAgbGQud2VpYnVsbCA9IGZ1bmN0aW9uICh4LCBzaGFwZSwgc2NhbGUpIHsKICAgICAgICBpZiAoeCA8IDApIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgaWYgKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7CiAgICAgICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpOwogICAgICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpOwogICAgICAgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogCiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuYwogICAgICBsZC5sb2dpcyA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICB4ID0gYWJzKCh4IC0gbG9jYXRpb24pIC8gc2NhbGUpOwogICAgICAgIHZhciBlID0gZXhwKC14KTsKICAgICAgICB2YXIgZiA9IDEuMCArIGU7CiAgICAgICAgcmV0dXJuIC0oeCArIGxvZyhzY2FsZSAqIGYgKiBmKSk7CiAgICAgIH07CiAgICAgIGxkLmRpcmljaGxldCA9IGZ1bmN0aW9uICh4LCBhbHBoYSkgewogICAgICAgIHZhciBzdW1fYWxwaGEgPSAwOwogICAgICAgIHZhciBzdW1fbGdhbW1hX2FscGhhID0gMDsKICAgICAgICB2YXIgc3VtX2FscGhhX3N1Yl8xX2xvZ194ID0gMDsKICAgICAgICB2YXIgbiA9IGFscGhhLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldOwogICAgICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pOwogICAgICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194OwogICAgICB9OwogICAgICBsZC5leHAgPSBmdW5jdGlvbiAoeCwgcmF0ZSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtIHJhdGUgKiB4OwogICAgICB9OwogICAgICBsZC51bmlmID0gZnVuY3Rpb24gKHgsIG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIHggPCBtaW4gfHwgeCA+IG1heCA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpOwogICAgICB9OwoKICAgICAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJlcm4gPSBmdW5jdGlvbiAoeCwgcHJvYikgewogICAgICAgIHJldHVybiAhKHggPT09IDAgfHwgeCA9PT0gMSkgPyAtSW5maW5pdHkgOiBsb2coeCAqIHByb2IgKyAoMSAtIHgpICogKDEgLSBwcm9iKSk7CiAgICAgIH07CiAgICAgIGxkLmNhdCA9IGZ1bmN0aW9uICh4LCBwcm9icykgewogICAgICAgIGlmICh4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbG9nKHByb2JzW3ggLSAxXSk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5iaW5vbSA9IGZ1bmN0aW9uICh4LCBzaXplLCBwcm9iKSB7CiAgICAgICAgaWYgKHggPiBzaXplIHx8IHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gc2l6ZSAqIHByb2IgPT09IHggPyAwIDogLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGNob29zZShzaXplLCB4KSArIHggKiBsb2cocHJvYikgKyAoc2l6ZSAtIHgpICogbG9nKDEgLSBwcm9iKTsKICAgICAgfTsKICAgICAgbGQubmJpbm9tID0gZnVuY3Rpb24gKHgsIHNpemUsIHByb2IpIHsKICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsY2hvb3NlKHggKyBzaXplIC0gMSwgc2l6ZSAtIDEpICsgeCAqIGxvZygxIC0gcHJvYikgKyBzaXplICogbG9nKHByb2IpOwogICAgICB9OwogICAgICBsZC5oeXBlciA9IGZ1bmN0aW9uICh4LCBtLCBuLCBrKSB7CiAgICAgICAgaWYgKHggPCAwIHx8IHggPiBrKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbGNob29zZShtLCB4KSArIGxjaG9vc2UobiwgayAtIHgpIC0gbGNob29zZShtICsgbiwgayk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5wb2lzID0gZnVuY3Rpb24gKHgsIGxhbWJkYSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7CiAgICAgIH07CiAgICAgIHJldHVybiBsZDsKICAgIH0pOwogIH0pKGRpc3RyaWJ1dGlvbnMkMSk7CiAgdmFyIGRpc3RyaWJ1dGlvbnNFeHBvcnRzID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CgogIHZhciBtY21jJDEgPSB7ZXhwb3J0czoge319OwoKICB2YXIgbWNtYyA9IG1jbWMkMS5leHBvcnRzOwogIChmdW5jdGlvbiAobW9kdWxlKSB7CgogICAgLy8gVGhpcyBib2lsZXIgcGxhdGUgY29kZSBoZXJlIGlzIHRha2VuIGZyb206CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzCiAgICAvLyBJdCBzaG91bGQgbWFrZSBzaHVyZSB0aGF0IG1vZHVsZSBjYW4gYmUgaW1wb3J0ZWQgYm90aCBpbiB0aGUgYnJvd3NlciwKICAgIC8vIE5vZGUsIGFuZCBieSB1c2luZyB0aGUgQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uIHN0YW5kYXJkLgogICAgLy8gSWYgdGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIHRoZSBicm93c2VyIGl0IHdpbGwgY3JlYXRlZCB0aGUgZ2xvYmFsCiAgICAvLyBvYmplY3QgbWNtYyAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpOwogICAgICB9CiAgICB9KShtY21jLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIAoKICAgICAgLy8vLy8vLy8vLyBIZWxwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggKi8KICAgICAgdmFyIHJ1bmlmID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqLwogICAgICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbiAobWluLCBtYXgpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGZyb20gYSBub3JtYWwgZGlzdHJpYmJ1dGlvbiBkZWZpbmVkCiAgICAgICAqICBieSBtZWFuIGFuZCBzZC4gCiAgICAgICAqICBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0L2pzdGF0L2Jsb2IvbWFzdGVyL3NyYy9zcGVjaWFsLmpzICovCiAgICAgIHZhciBybm9ybSA9IGZ1bmN0aW9uIChtZWFuLCBzZCkgewogICAgICAgIHZhciB1LCB2LCB4LCB5LCBxOwogICAgICAgIGRvIHsKICAgICAgICAgIHUgPSBNYXRoLnJhbmRvbSgpOwogICAgICAgICAgdiA9IDEuNzE1NiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgIHggPSB1IC0gMC40NDk4NzE7CiAgICAgICAgICB5ID0gTWF0aC5hYnModikgKyAwLjM4NjU5NTsKICAgICAgICAgIHEgPSB4ICogeCArIHkgKiAoMC4xOTYwMCAqIHkgLSAwLjI1NDcyICogeCk7CiAgICAgICAgfSB3aGlsZSAocSA+IDAuMjc1OTcgJiYgKHEgPiAwLjI3ODQ2IHx8IHYgKiB2ID4gLTQgKiBNYXRoLmxvZyh1KSAqIHUgKiB1KSk7CiAgICAgICAgcmV0dXJuIHYgLyB1ICogc2QgKyBtZWFuOwogICAgICB9OwoKICAgICAgLyoqIFJldHVybnMgYSBkZWVwIGNsb25lIG9mIHNyYywgc29ydCBvZi4uLiBJdCBvbmx5IGNvcGllcyBhIGxpbWl0ZWQKICAgICAgICogbnVtYmVyIG9mIHR5cGVzIGFuZCwgZm9yIGV4YW1wbGUsIGZ1bmN0aW9uIGFyZSBub3QgY29waWVkLiAKICAgICAgICogRnJvbSBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtY2xvbmUKICAgICAgICovCiAgICAgIHZhciBkZWVwX2Nsb25lID0gZnVuY3Rpb24gKHNyYykgewogICAgICAgIGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHsKICAgICAgICAgIHZhciBuYW1lLAogICAgICAgICAgICBzLAogICAgICAgICAgICBlbXB0eSA9IHt9OwogICAgICAgICAgZm9yIChuYW1lIGluIHNvdXJjZSkgewogICAgICAgICAgICAvLyB0aGUgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpIGNvbmRpdGlvbiBhdm9pZHMgY29weWluZyBwcm9wZXJ0aWVzIGluICJzb3VyY2UiCiAgICAgICAgICAgIC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuCSBGb3IgZXhhbXBsZSwgaWYgZGVzdCBoYXMgYSBjdXN0b20gdG9TdHJpbmcoKSBtZXRob2QsCiAgICAgICAgICAgIC8vIGRvbid0IG92ZXJ3cml0ZSBpdCB3aXRoIHRoZSB0b1N0cmluZygpIG1ldGhvZCB0aGF0IHNvdXJjZSBpbmhlcml0ZWQgZnJvbSBPYmplY3QucHJvdG90eXBlCiAgICAgICAgICAgIHMgPSBzb3VyY2VbbmFtZV07CiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gZGVzdCkgfHwgZGVzdFtuYW1lXSAhPT0gcyAmJiAoIShuYW1lIGluIGVtcHR5KSB8fCBlbXB0eVtuYW1lXSAhPT0gcykpIHsKICAgICAgICAgICAgICBkZXN0W25hbWVdID0gY29weUZ1bmMgPyBjb3B5RnVuYyhzKSA6IHM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBkZXN0OwogICAgICAgIH0KICAgICAgICBpZiAoIXNyYyB8fCB0eXBlb2Ygc3JjICE9ICJvYmplY3QiIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpID09PSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvbgogICAgICAgICAgcmV0dXJuIHNyYzsgLy8gYW55dGhpbmcKICAgICAgICB9CiAgICAgICAgaWYgKHNyYy5ub2RlVHlwZSAmJiAiY2xvbmVOb2RlIiBpbiBzcmMpIHsKICAgICAgICAgIC8vIERPTSBOb2RlCiAgICAgICAgICByZXR1cm4gc3JjLmNsb25lTm9kZSh0cnVlKTsgLy8gTm9kZQogICAgICAgIH0KICAgICAgICBpZiAoc3JjIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgLy8gRGF0ZQogICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpOyAvLyBEYXRlCiAgICAgICAgfQogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIC8vIFJlZ0V4cAogICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjKTsgLy8gUmVnRXhwCiAgICAgICAgfQogICAgICAgIHZhciByLCBpLCBsOwogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgLy8gYXJyYXkKICAgICAgICAgIHIgPSBbXTsKICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNyYykgewogICAgICAgICAgICAgIHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGdlbmVyaWMgb2JqZWN0cwogICAgICAgICAgciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTsKICAgICAgfTsKCiAgICAgIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmUKICAgICAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvbgogICAgICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZwogICAgICAgKiBsb29wLgogICAgICAgKi8KICAgICAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbiAoeCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4WzBdKSkgewogICAgICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5CiAgICAgICAgICAgIHZhciB4X2NvcHkgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHgubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB4X2NvcHkucHVzaChjbG9uZV9wYXJhbV9kcmF3KHhbaV0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4geF9jb3B5OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFycwogICAgICAgICAgICByZXR1cm4geC5zbGljZSgwKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBzY2FsYXIKICAgICAgICAgIHJldHVybiB4OwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGEgbnVtYmVyLgogICAgICAgKi8KICAgICAgdmFyIGlzX251bWJlciA9IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSAibnVtYmVyIiB8fCB0eXBlb2Ygb2JqZWN0ID09ICJvYmplY3QiICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS4KICAgICAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsCiAgICAgICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LgogICAgICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpbgogICAgICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgCiAgICAgICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0bwogICAgICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LgogICAgICAgKiBAZXhhbXBsZSAKICAgICAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXQogICAgICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpCiAgICAgICAqLwogICAgICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24gKGRpbSwgaW5pdCkgewogICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoZGltWzBdKTsKICAgICAgICB2YXIgaTsKICAgICAgICBpZiAoZGltLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdAogICAgICAgICAgaWYgKHR5cGVvZiBpbml0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIGFycltpXSA9IGluaXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgYXJyW2ldID0gaW5pdDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGltLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgImNyZWF0ZV9hcnJheSBjYW4ndCBjcmVhdGUgYSBkaW1lbnNpb25sZXNzIGFycmF5IjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBSZXR1cm4gdGhlIGRpbWVuc2lvbnMgb2YgYSBwb3NzaWJseSBuZXN0ZWQgYXJyYXkgYXMgYW4gYXJyYXkuIEZvciAKICAgICAgICogZXhhbXBsZSwgYXJyYXlfZGltKCBbWzEsIDJdLCBbMSwgMl1dICkgc2hvdWxkIHJldHVybiBbMiwgMl0KICAgICAgICogQXNzdW1lcyB0aGF0IGFsbCBhcnJheXMgaW5zaWRlIGFub3RoZXIgYXJyYXkgYXJlIG9mIHRoZSBzYW1lIGxlbmd0aC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogLy8gU2hvdWxkIHJldHVybiBbNCwgMiwgMV0KICAgICAgICogYXJyYXlfZGltKGNyZWF0ZV9hcnJheShbNCwgMiwgMV0sIDApKQogICAgICAgKi8KICAgICAgdmFyIGFycmF5X2RpbSA9IGZ1bmN0aW9uIChhKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVswXSkpIHsKICAgICAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW2EubGVuZ3RoXTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cwogICAgICAgKiBhcyBqdWRnZWQgYnkgdGhlICI9PSIgb3BlcmF0b3IuIFJldHVybnMgdHJ1ZSBvciBmYWxzZS4KICAgICAgICogQWRhcHRlZCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0ODUzOTc0LzEwMDE4NDgKICAgICAgICovCiAgICAgIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHsKICAgICAgICBpZiAoYTEubGVuZ3RoICE9IGEyLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgbmVzdGVkIGFycmF5cwogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7CiAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5cwogICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsKICAgICAgICAgICAgLy8gV2FybmluZyAtIHR3byBkaWZmZXJlbnQgb2JqZWN0IGluc3RhbmNlcyB3aWxsIG5ldmVyIGJlIGVxdWFsOiB7eDoyMH0gIT0ge3g6MjB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCAibGVhZiBub2RlcyIsIAogICAgICAgKiB0aGF0IGlzLCB2YWx1ZXMgdGhhdCBhcmUgbm90IGFycmF5cy4gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgc2FtZSBzaXplIGFzCiAgICAgICAqIGEuCiAgICAgICAqLwogICAgICB2YXIgbmVzdGVkX2FycmF5X2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXN1bHRbaV0gPSBuZXN0ZWRfYXJyYXlfYXBwbHkoYVtpXSwgZnVuKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmdW4oYSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqIFJhbmRvbWl6aW5nIHRoZSBhcnJheSBlbGVtZW50IG9yZGVyIGluLXBsYWNlLiBVc2luZyBEdXJzdGVuZmVsZAogICAgICAgKiBzaHVmZmxlIGFsZ29yaXRobS4gQWRhcHRlZCBmcm9tIGhlcmU6IAogICAgICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjY0Njg2NC8xMDAxODQ4CiAgICAgICAqLwogICAgICBmdW5jdGlvbiBzaHVmZmxlX2FycmF5KGFycmF5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7CiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldOwogICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTsKICAgICAgICAgIGFycmF5W2pdID0gdGVtcDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICB9CgogICAgICAvKioKICAgICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5CiAgICAgICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgImxlYWYgbm9kZXMiIGFuZCByZXR1cm5zIGFuIGFycmF5IAogICAgICAgKiBvZiB0aGUgc2FtZSBzaXplIGFzIGEuIFRoZSBkaWZmZXJlbmNlIGlzIHRoYXQgbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseQogICAgICAgKiBicmFuY2hlcyByYW5kb21seS4KICAgICAgICovCiAgICAgIHZhciBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIHZhciBhcnJheV9pcyA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGFycmF5X2lzW2ldID0gaTsKICAgICAgICAgIH0KICAgICAgICAgIHNodWZmbGVfYXJyYXkoYXJyYXlfaXMpOwogICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07CiAgICAgICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZ1bihhKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmUKICAgICAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC4KICAgICAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmcKICAgICAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgCiAgICAgICAqICAgIGFzIGEgbWVtYmVyLgogICAgICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgCiAgICAgICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9CiAgICAgICAqIHZhciBwaSA9IGdldF9vcHRpb24oInBpIiwgbXlfb3B0aW9ucywgMy4xNCkKICAgICAgICovCiAgICAgIC8vIFByZXR0eSB3YXkgb2Ygc2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgd2hlcmUgdGhlIGRlZmF1bHRzIGNhbiBiZSBvdmVycmlkZGVuCiAgICAgIC8vIGJ5IGFuIG9wdGlvbnMgb2JqZWN0LiBGb3IgZXhhbXBsZToKICAgICAgLy8gdmFyIHBpID0gZ2V0X29wdGlvbigicGkiLCBteV9vcHRpb25zLCAzLjE0KQogICAgICB2YXIgZ2V0X29wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIG9wdGlvbnNbb3B0aW9uX25hbWVdICE9PSB1bmRlZmluZWQgJiYgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTsKICAgICAgfTsKCiAgICAgIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWwKICAgICAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS4KICAgICAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggCiAgICAgICAqIGRpbSBkaW1lbnNpb25zLgogICAgICAgKiAKICAgICAgICovCiAgICAgIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbl9uYW1lLCBvcHRpb25zLCBkaW0sIGRlZmF1bF92YWx1ZSkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldF9vcHRpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRlZmF1bF92YWx1ZSk7CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgdmFsdWUgPSBjcmVhdGVfYXJyYXkoZGltLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmICghYXJyYXlfZXF1YWwoYXJyYXlfZGltKHZhbHVlKSwgZGltKSkgewogICAgICAgICAgdGhyb3cgIlRoZSBvcHRpb24gIiArIG9wdGlvbl9uYW1lICsgIiBpcyBvZiBkaW1lbnNpb24gWyIgKyBhcnJheV9kaW0odmFsdWUpICsgIl0gYnV0IHNob3VsZCBiZSBbIiArIGRpbSArICJdLiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfTsKCiAgICAgIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZQogICAgICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLgogICAgICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgInJlYWwiLCAiaW50IiwgYW5kICJiaW5hcnkiLgogICAgICAgKi8KICAgICAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbiAodHlwZSwgbG93ZXIsIHVwcGVyKSB7CiAgICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHsKICAgICAgICAgIHRocm93ICJDYW4gbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIHdoZXJlIGxvd2VyIGJvdW5kID4gdXBwZXIgYm91bmQiOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gInJlYWwiKSB7CiAgICAgICAgICBpZiAobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIDAuNTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gbG93ZXIgKyAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKGxvd2VyIDw9IHVwcGVyKSB7CiAgICAgICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImludCIpIHsKICAgICAgICAgIGlmIChsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAxOwogICAgICAgICAgfSBlbHNlIGlmICh1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIGxvd2VyICsgMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPD0gdXBwZXIpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKGxvd2VyICsgdXBwZXIpIC8gMik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiYmluYXJ5IikgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIHRocm93ICJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgb2YgdHlwZSAiICsgdHlwZSArICJbIiArIGxvd2VyICsgIiwgIiArIHVwcGVyICsgIl0iOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENvbXBsZXRlcyBwYXJhbXNfdG9fY29tcGxldGUsIGFuIG9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlciBkZXNjcmlwdGlvbnMsIAogICAgICAgKiBhbmQgaW5pdGlhbGl6ZXMgbm9uLWluaXRpYWxpemVkIHBhcmFtZXRlcnMuIFRoaXMgbW9kaWZpZWQgdmVyc2lvbiBvZgogICAgICAgKiBwYXJhbXNfdG9fY29tcGxldGUgaXMgcmV0dXJuZWQgYXMgYSBkZWVwIGNvcHkgYW5kIG5vdCBtb2RpZmllZCBpbiBwbGFjZS4KICAgICAgICogSW5pdGlhbGl6YXRpb24gaXMgZG9uZSBieSBzdXBwbHlpbmcgYSBwYXJhbV9pbml0IGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlCiAgICAgICAqIGZ1bmN0aW9uKHR5cGUsIGxvd2VyLCB1cHBlcikgdGhhdCBzaG91bGQgcmV0dXJuIGEgc2luZ2xlIG51bWJlciAKICAgICAgICogKGxpa2UgcGFyYW1faW5pdF9maXhlZCwgZm9yIGV4YW1wbGUpLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKiB2YXIgcGFyYW1zID0geyAibXUiOiB7InR5cGUiOiAicmVhbCJ9IH0KICAgICAgICogcGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHBhcmFtcyk7CiAgICAgICAqIC8vIHBhcmFtcyBzaG91bGQgbm93IGJlOgogICAgICAgKiAvLyAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LAogICAgICAgKiAvLyAgICAgICAgICAgImxvd2VyIjogLUluZmluaXR5LCAiaW5pdCI6IDAuNSB9fQogICAgICAgKi8KICAgICAgdmFyIGNvbXBsZXRlX3BhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXNfdG9fY29tcGxldGUsIHBhcmFtX2luaXQpIHsKICAgICAgICB2YXIgcGFyYW1zID0gZGVlcF9jbG9uZShwYXJhbXNfdG9fY29tcGxldGUpOwogICAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICBpZiAoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbV9uYW1lKSkgY29udGludWU7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbcGFyYW1fbmFtZV07CiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJ0eXBlIikpIHsKICAgICAgICAgICAgcGFyYW0udHlwZSA9ICJyZWFsIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghcGFyYW0uaGFzT3duUHJvcGVydHkoImRpbSIpKSB7CiAgICAgICAgICAgIHBhcmFtLmRpbSA9IFsxXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc19udW1iZXIocGFyYW0uZGltKSkgewogICAgICAgICAgICBwYXJhbS5kaW0gPSBbcGFyYW0uZGltXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS50eXBlID09ICJiaW5hcnkiKSB7CiAgICAgICAgICAgIHBhcmFtLnVwcGVyID0gMTsKICAgICAgICAgICAgcGFyYW0ubG93ZXIgPSAwOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgidXBwZXIiKSkgewogICAgICAgICAgICBwYXJhbS51cHBlciA9IEluZmluaXR5OwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgibG93ZXIiKSkgewogICAgICAgICAgICBwYXJhbS5sb3dlciA9IC1JbmZpbml0eTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpKSB7CiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMganVzdCBhIG51bWJlciBvciBhIG5lc3RlZCBhcnJheSB3ZSBsZWF2ZSBpdCBhbG9uZSwgYnV0IGlmLi4uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgdHlwZW9mIHBhcmFtLmluaXQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci4KICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgIUFycmF5LmlzQXJyYXkocGFyYW0uaW5pdCkpIHsKICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0CiAgICAgICAgICAgICAgLy8gaXMgbm90IGFuIGFycmF5LiBUaGVuIGFzc3VtZSBpdCBpcyBhIG51bWJlciBvciBhIGZ1bmN0aW9uIGFuZCB1c2UKICAgICAgICAgICAgICAvLyBpdCB0byBpbml0aWFsaXplIHRoZSBwYXJhbWV0ZXIuCiAgICAgICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhcmFtLmluaXQgPSBjcmVhdGVfYXJyYXkocGFyYW0uZGltLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vIFN0ZXBwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAgKiBAaW50ZXJmYWNlCiAgICAgICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZQogICAgICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvbgogICAgICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgImludGVyZmFjZSIsCiAgICAgICAqIHdoZXJlICJpbnRlcmZhY2UiIG1lYW5zIHRoYXQgU3RlcHBlciBkZWZpbmVzIGEgY2xhc3MgdGhhdCBpcyBuZXZlcgogICAgICAgKiBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQsIGJ1dCBqdXN0IHRvIGJlIHN1YmNsYXNzZWQgYnkgc3BlY2lhbGl6ZWQKICAgICAgICogc3RlcHBlciBmdW5jdGlvbnMuCiAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlciBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6CiAgICAgICAqICAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LCAKICAgICAgICogICAibG93ZXIiOiAtSW5maW5pdHksICJpbml0IjogMC41IH19CiAgICAgICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgImNvbXBsZXRlIiwgdGhhdCBpcywKICAgICAgICogICBzcGVjaWZ5aW5nIGFsbCByZWxldmFudCBhdHRyaWJ1dGVzIHN1Y2ggYXMgZGltLCBsb3dlciBhbmQgdXBwZXIuCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycyBpbiBwYXJhbXMKICAgICAgICogICAoYW5kIHBvc3NpYmx5IG1vcmUpLiBUaGUgcGFyYW1ldGVyIG5hbWVzIGFyZSBnaXZlbiBhcyBrZXlzIGFuZCB0aGUgc3RhdGVzCiAgICAgICAqICAgYXMgc2NhbGFycyBvciwgcG9zc2libHkgbmVzdGVkLCBhcnJheXMuIEZvciBleGFtcGxlOgogICAgICAgKiAgIHttdTogMTAsIHNpZ21hOiA1LCBiZXRhOiBbMSwgMi41XX0KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiAqdGFraW5nIG5vIHBhcmFtZXRlcnMqIHRoYXQgcmV0dXJucyB0aGUKICAgICAgICogICBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBUaGF0IGlzLCB0aGUgdmFsdWUgb2YgbG9nX3Bvc3QKICAgICAgICogICBzaG91bGQgY2hhbmdlIGlmIHRoZSB0aGUgdmFsdWVzIGluIHN0YXRlIGFyZSBjaGFuZ2VkLgogICAgICAKICAgICAgICovCiAgICAgIHZhciBTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBsb2dfcG9zdDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gU2hvdWxkIHJldHVybiB0aGUgbmV3IHN0YXRlLAogICAgICAgKiBidXQgaXMgbWFpbmx5IGNhbGxlZCBmb3IgaXQncyBzaWRlIGVmZmVjdCBvZiBtYWtpbmcgYSBjaGFuZ2UgaW4gdGhlCiAgICAgICAqIHN0YXRlIG9iamVjdC4KICAgICAgICovCiAgICAgIFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3cgIkV2ZXJ5IFN0ZXBwZXIgbmVlZCB0byBpbXBsZW1lbnQgc3RlcCgpIjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgYWRhcHQgd2hpbGUgc3RlcHBpbmcuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogSWYgaW1wbGVtZW50ZWQsIG1ha2VzIHRoZSBzdGVwcGVyIGNlYXNlIGFkYXB0aW5nIHdoaWxlIHN0ZXBwaW5nLgogICAgICAgKi8KICAgICAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmcgaW5mbyByZWdhcmRpbmcgdGhlIHN0ZXBwZXIuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIHN0ZXBwZXIuCiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24uCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICAqIEBwYXJhbSBnZW5lcmF0ZV9wcm9wb3NhbCAtIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvcG9zYWwgKGFzIGEgbnVtYmVyKQogICAgICAgKiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihwYXJhbV9zdGF0ZSwgbG9nX3NjYWxlKSB3aGVyZSBwYXJhbV9zdGF0ZSBpcyBhCiAgICAgICAqIG51bWJlciBhbmQgbG9nX3NjYWxlIGRlZmluZXMgdGhlIHNjYWxlIG9mIHRoZSBwcm9wb3NhbCBzb21laG93LgogICAgICAqLwogICAgICB2YXIgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIGdlbmVyYXRlX3Byb3Bvc2FsKSB7CiAgICAgICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CiAgICAgICAgaWYgKHBhcmFtX25hbWVzLmxlbmd0aCAhPSAxKSB7CiAgICAgICAgICB0aHJvdyAiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgY2FuIG9ubHkgaGFuZGxlIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICBpZiAoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkgewogICAgICAgICAgdGhyb3cgIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7CiAgICAgICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyOwogICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgPSBnZXRfb3B0aW9uKCJwcm9wX2xvZ19zY2FsZSIsIG9wdGlvbnMsIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCA1MCk7CiAgICAgICAgdGhpcy5tYXhfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oIm1heF9hZGFwdGF0aW9uIiwgb3B0aW9ucywgMC4zMyk7CiAgICAgICAgdGhpcy5pbml0aWFsX2FkYXB0YXRpb24gPSBnZXRfb3B0aW9uKCJpbml0aWFsX2FkYXB0YXRpb24iLCBvcHRpb25zLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgMC40NCk7CiAgICAgICAgdGhpcy5pc19hZGFwdGluZyA9IGdldF9vcHRpb24oImlzX2FkYXB0aW5nIiwgb3B0aW9ucywgdHJ1ZSk7CiAgICAgICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsOwogICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyOwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgICAgdmFyIHBhcmFtX3Byb3Bvc2FsID0gdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbChwYXJhbV9zdGF0ZSwgdGhpcy5wcm9wX2xvZ19zY2FsZSk7CiAgICAgICAgaWYgKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIDsgZWxzZSB7CiAgICAgICAgICAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwCiAgICAgICAgICB2YXIgY3Vycl9sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTsKICAgICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IHBhcmFtX3Byb3Bvc2FsOwogICAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgICB2YXIgYWNjZXB0X3Byb2IgPSBNYXRoLmV4cChwcm9wX2xvZ19kZW5zIC0gY3Vycl9sb2dfZGVucyk7CiAgICAgICAgICBpZiAoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7CiAgICAgICAgICAgIC8vIFdlIGRvIG5vdGhpbmcgYXMgdGhlIHN0YXRlIG9mIHBhcmFtIGhhcyBhbHJlYWR5IGJlZW4gY2hhbmdlZCB0byB0aGUgcHJvcG9zYWwKICAgICAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmV2ZXJ0IHN0YXRlIGJhY2sgdG8gdGhlIG9sZCBzdGF0ZSBvZiBwYXJhbQogICAgICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9zdGF0ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHsKICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbisrOwogICAgICAgICAgaWYgKHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA+PSB0aGlzLmJhdGNoX3NpemUpIHsKICAgICAgICAgICAgLy8gdGhlbiBhZGFwdAogICAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50Kys7CiAgICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IE1hdGgubWluKHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uIC8gTWF0aC5zcXJ0KHRoaXMuYmF0Y2hfY291bnQpKTsKICAgICAgICAgICAgaWYgKHRoaXMuYWNjZXB0YW5jZV9jb3VudCAvIHRoaXMuYmF0Y2hfc2l6ZSA+IHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSArPSBsb2dfc2RfYWRqdXN0bWVudDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnByb3BfbG9nX3NjYWxlIC09IGxvZ19zZF9hZGp1c3RtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgIH07CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSB0cnVlOwogICAgICB9OwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBmYWxzZTsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHByb3BfbG9nX3NjYWxlOiB0aGlzLnByb3BfbG9nX3NjYWxlLAogICAgICAgICAgaXNfYWRhcHRpbmc6IHRoaXMuaXNfYWRhcHRpbmcsCiAgICAgICAgICBhY2NlcHRhbmNlX2NvdW50OiB0aGlzLmFjY2VwdGFuY2VfY291bnQsCiAgICAgICAgICBpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uOiB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24sCiAgICAgICAgICBiYXRjaF9jb3VudDogdGhpcy5iYXRjaF9jb3VudAogICAgICAgIH07CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLgogICAgICAgKi8KICAgICAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uIChwYXJhbV9zdGF0ZSwgcHJvcF9sb2dfc2NhbGUpIHsKICAgICAgICByZXR1cm4gcm5vcm0ocGFyYW1fc3RhdGUsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQGNsYXNzCiAgICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgY29udGlub3VzIE5vcm1hbCBwcm9wb3NhbHMuCiAgICAgICAqLwogICAgICB2YXIgUmVhbE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7CiAgICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgbm9ybWFsX3Byb3Bvc2FsKTsKICAgICAgfTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjsKCiAgICAgIC8qKgogICAgICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuCiAgICAgICAqLwogICAgICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24gKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkgewogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJub3JtKHBhcmFtX3N0YXRlLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICogQSAic3ViY2xhc3MiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAqLwogICAgICB2YXIgSW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwpOwogICAgICB9OwogICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdAogICAgICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIAogICAgICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgCiAgICAgICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXMKICAgICAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIAogICAgICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uCiAgICAgICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKi8KICAgICAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIFN1YlN0ZXBwZXIpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoICE9IDEpIHsKICAgICAgICAgIHRocm93ICJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTsKICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdOwogICAgICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjsKICAgICAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7CiAgICAgICAgdGhpcy5kaW0gPSBwYXJhbS5kaW07CiAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oInByb3BfbG9nX3NjYWxlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApOwogICAgICAgIHRoaXMubWF4X2FkYXB0YXRpb24gPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJtYXhfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTsKICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oImluaXRpYWxfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X211bHRpZGltX29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuNDQpOwogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJpc19hZGFwdGluZyIsIG9wdGlvbnMsIHRoaXMuZGltLCB0cnVlKTsKCiAgICAgICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiAKICAgICAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS4KICAgICAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gZnVuY3Rpb24gKGRpbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZSwgYmF0Y2hfc2l6ZSwgbWF4X2FkYXB0YXRpb24sIGluaXRpYWxfYWRhcHRhdGlvbiwgdGFyZ2V0X2FjY2VwdF9yYXRlLCBpc19hZGFwdGluZykgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICBpZiAoZGltLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHN1Ym9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sCiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplW2ldLAogICAgICAgICAgICAgICAgbWF4X2FkYXB0YXRpb246IG1heF9hZGFwdGF0aW9uW2ldLAogICAgICAgICAgICAgICAgaW5pdGlhbF9hZGFwdGF0aW9uOiBpbml0aWFsX2FkYXB0YXRpb25baV0sCiAgICAgICAgICAgICAgICB0YXJnZXRfYWNjZXB0X3JhdGU6IHRhcmdldF9hY2NlcHRfcmF0ZVtpXSwKICAgICAgICAgICAgICAgIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIHN1YnBhcmFtID0ge307CiAgICAgICAgICAgICAgc3VicGFyYW1baV0gPSBkZWVwX2Nsb25lKHBhcmFtKTsKICAgICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyCiAgICAgICAgICAgICAgZGVsZXRlIHN1YnBhcmFtW2ldLmluaXQ7IC8vIEFzIGl0IHNvdWxkIG5vdCBiZSBuZWVkZWQKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBTdWJTdGVwcGVyKHN1YnBhcmFtLCBzdWJzdGF0ZSwgbG9nX3Bvc3QsIHN1Ym9wdGlvbnMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QsIHByb3BfbG9nX3NjYWxlW2ldLCBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzOwogICAgICAgIH07CiAgICAgICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LCB0aGlzLnByb3BfbG9nX3NjYWxlLCB0aGlzLmJhdGNoX3NpemUsIHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uLCB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSwgdGhpcy5pc19hZGFwdGluZyk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBzdWJzdGVwcGVycyBpbiBhIHJhbmRvbSBvcmRlciBhbmQgY2FsbCBzdGVwKCkgb24gdGhlbS4KICAgICAgICByZXR1cm4gbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuc3RlcCgpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgc3Vic3RlcHBlci5zdGFydF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHN1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy4KICAgICAgICovCiAgICAgIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgUmVhbE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAgKi8KICAgICAgdmFyIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIEludE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuCiAgICAgICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGUKICAgICAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgCiAgICAgICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAqLwogICAgICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwogICAgICAgIGlmIChwYXJhbV9uYW1lcy5sZW5ndGggPT0gMSkgewogICAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyOwogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7CiAgICAgICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTsKICAgICAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpOwogICAgICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpOwogICAgICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zOwogICAgICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7CiAgICAgICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyhNYXRoLmV4cCh6ZXJvX2xvZ19kZW5zKSArIE1hdGguZXhwKG9uZV9sb2dfZGVucykpKTsKICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHplcm9fcHJvYikgewogICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMDsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gLy8gZWxzZSBrZWVwIHRoZSBwYXJhbSBhdCAxIC4KICAgICAgICByZXR1cm4gMTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfQogICAgICAqIEp1c3QgbGlrZSBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIHRoaXMgU3RlcHBlciB0YWtlcyBhIHN0ZXBzIGZvcgogICAgICAqIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgYnkgdXBkYXRpbmcgZWFjaCBjb21wb25lbnQgaW4gdHVybi4gVGhlIGRpZmZlcmVuY2UKICAgICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy4KICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgCiAgICAgICogICBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci4KICAgICAgKi8KICAgICAgdmFyIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdOwogICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICAgIHRoaXMuZGltID0gcGFyYW0uZGltOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyAiQmluYXJ5Q29tcG9uZW50U3RlcHBlciBjYW4ndCBoYW5kbGUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IGZ1bmN0aW9uIChkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCkgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIGlmIChkaW0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIHZhciBzdWJwYXJhbXMgPSB7fTsKICAgICAgICAgICAgICBzdWJwYXJhbXNbaV0gPSBwYXJhbTsKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBCaW5hcnlTdGVwcGVyKHN1YnBhcmFtcywgc3Vic3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlcnM7CiAgICAgICAgfTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gY3JlYXRlX3N1YnN0ZXBwZXJzKHRoaXMuZGltLCB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0sIHRoaXMubG9nX3Bvc3QpOwogICAgICB9OwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7CiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uCiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHJldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9CiAgICAgICAqIFRoaXMgc3RlcHBlciBjYW4gYmUgcmVzcG9uc2libGUgZm9yIHRha2luZyBhIHN0ZXAgZm9yIG9uZSBvciBtb3JlIHBhcmFtZXRlcnMuCiAgICAgICAqIEZvciByZWFsIGFuZCBpbnQgcGFyYW1ldGVycyBpdCB0YWtlcyBNZXRyb3BvbGlzIHdpdGhpbiBHaWJicyBzdGVwcywgYW5kIGZvciAKICAgICAgICogYmluYXJ5IHBhcmFtZXRlcnMgaXQgZG9lcyBldmFsdWF0ZXMgdGhlIHBvc3RlcmlvciBmb3IgYm90aCBwYXJhbXRlciB2YWx1ZXMgYW5kCiAgICAgICAqIHJhbmRvbWx5IGNoYW5nZXMgdG8gYSBjZXJ0YWluIHZhbHVlIHByb3BvcnRpb25hbGx5IHRvIHRoYXQgdmFsdWUncyBwb3N0ZXJpb3IKICAgICAgICogKHRoaXMgaXMgYWxzbyBkb25lIGZvciBlYWNoIHBhcmFtZXRlciwgc28gYWxzbyBhICogd2l0aGluIEdpYmJzIGFwcHJvYWNoKS4KICAgICAgICogVGhpcyBzdGVwcGVyIGlzIGFsc28gYWRhcHRpdmUgYW5kIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMKICAgICAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV07CiAgICAgICAgICB2YXIgU2VsZWN0U3RlcHBlcjsKICAgICAgICAgIHN3aXRjaCAocGFyYW0udHlwZSkgewogICAgICAgICAgICBjYXNlICJyZWFsIjoKICAgICAgICAgICAgICBpZiAoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJpbnQiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBJbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJiaW5hcnkiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgdGhyb3cgIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgIiArIHRoaXMucGFyYW1fbmFtZXNbaV0gKyAiIHdpdGggdHlwZSAiICsgcGFyYW0udHlwZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBwYXJhbV9vYmplY3Rfd3JhcCA9IHt9OwogICAgICAgICAgcGFyYW1fb2JqZWN0X3dyYXBbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSBwYXJhbTsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHBhcmFtX29wdGlvbnMgPSBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXSB8fCB7fTsKICAgICAgICAgIHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgPSBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7CiAgICAgICAgICBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgfHwgb3B0aW9ucy5iYXRjaF9zaXplOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiA9IHBhcmFtX29wdGlvbnMubWF4X2FkYXB0YXRpb24gfHwgb3B0aW9ucy5tYXhfYWRhcHRhdGlvbjsKICAgICAgICAgIHBhcmFtX29wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uID0gcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gfHwgb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb247CiAgICAgICAgICBwYXJhbV9vcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZSA9IHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlIHx8IG9wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyA9IHBhcmFtX29wdGlvbnMuaXNfYWRhcHRpbmcgfHwgb3B0aW9ucy5pc19hZGFwdGluZzsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbXdnU3RlcHBlcjsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN1YnN0ZXBwZXJzKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RlcCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTsKICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGluZm8gPSB7fTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGluZm9bdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSB0aGlzLnN1YnN0ZXBwZXJzW2ldLmluZm8oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluZm87CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vLyBTYW1wbGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBXaGlsZSB5b3UgY291bGQgZml0IGEgbW9kZWwgYnkgcGFzdGluZyB0b2dldGhlciBTdGVwcGVycywgYQogICAgICAvLyBTYW1wbGVyIGlzIGhlcmUgaXMgYSBjb252ZW5pZW5jZSBjbGFzcyB3aGVyZSBhbiBpbnN0YW5jZSBvZiBTYW1wbGVyCiAgICAgIC8vIHNldHMgdXAgdGhlIFN0ZXBwZXJzLCBjaGVja3MgdGhlIHBhcmFtZXRlciBkZWZpbml0aW9uLAogICAgICAvLyBhbmQgbWFuYWdlcyB0aGUgc2FtcGxpbmcuIFRoaXMgaGVyZSBkZWZpbmVzIHRoZSBTYW1wbGVyICJpbnRlcmZhY2UiLgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZToKICAgICAgKiAgIHsibXUiOiB7InR5cGUiOiAicmVhbCJ9LCAic2lnbWEiOiB7InR5cGUiOiAicmVhbCIsICJsb3dlciIgPSAwfX0KICAgICAgKiAgIFRoZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMgZG9lc24ndCBoYXZlIHRvIGJlICJjb21wbGV0ZSIgYW5kIHByb3BlcnRpZXMKICAgICAgKiAgIGxlZnQgb3V0IChsaWtlIGxvd2VyIGFuZCB1cHBlcikgd2lsbCBiZSBmaWxsZWQgaW4gYnkgZGVmYXVsdHMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihzdGF0ZSwgZGF0YSkuIEhlcmUKICAgICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIAogICAgICAqICAga2V5IGFuZCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcyBudW1iZXJzIG9yIGFycmF5cy4gRm9yIGV4YW1wbGU6CiAgICAgICogICB7Im11IjogMywgInNpZ21hIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgCiAgICAgICogICB0aGUgZGF0YSBhcmd1bWVudCBnaXZlbiBiZWxvdy4KICAgICAgKiBAcGFyYW0gZGF0YSAtIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBsb2dfcG9zdCBmdW5jdGlvbgogICAgICAqICAgd2hlbiBzYW1wbGluZy4KICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHNhbXBsZXIuCiAgICAgICovCiAgICAgIHZhciBTYW1wbGVyID0gZnVuY3Rpb24gKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHsKICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtczsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMucGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CgogICAgICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3QKICAgICAgICB0aGlzLnBhcmFtX2luaXRfZnVuID0gZ2V0X29wdGlvbigicGFyYW1faW5pdF9mdW4iLCBvcHRpb25zLCBwYXJhbV9pbml0X2ZpeGVkKTsKICAgICAgICB2YXIgdGhpbm5pbmdfaW50ZXJ2YWwgPSBnZXRfb3B0aW9uKCJ0aGluIiwgb3B0aW9ucywgMSk7CiAgICAgICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbigibW9uaXRvciIsIG9wdGlvbnMsIG51bGwpOwogICAgICAgIHRoaXMudGhpbih0aGlubmluZ19pbnRlcnZhbCk7CiAgICAgICAgdGhpcy5tb25pdG9yKHBhcmFtc190b19tb25pdG9yKTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICAgIC8vIENvbXBsZXRpbmcgdGhlIHBhcmFtcyBhbmQgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZS4KICAgICAgICB0aGlzLnBhcmFtcyA9IGNvbXBsZXRlX3BhcmFtcyh0aGlzLnBhcmFtcywgdGhpcy5wYXJhbV9pbml0X2Z1bik7CiAgICAgICAgdmFyIHN0YXRlID0ge307CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBzdGF0ZVt0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dLmluaXQ7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbG9nX3Bvc3Qoc3RhdGUsIGRhdGEpOwogICAgICAgIH07CiAgICAgICAgLy8gUnVubmluZyB0aGUgbG9nX3Bvc3QgZnVuY3Rpb24gb25jZSBpbiBjYXNlIGl0IGZ1cnRoZXIgbW9kaWZpZXMgdGhlIHN0YXRlCiAgICAgICAgLy8gZm9yIGV4YW1wbGUgYWRkaW5nIGRlcml2ZWQgcXVhbnRpdGllcy4KICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMuc3RlcHBlcnMgPSB0aGlzLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKHRoaXMucGFyYW1zLCB0aGlzLnN0YXRlLCB0aGlzLmxvZ19wb3N0LCB0aGlzLm9wdGlvbnMpOwogICAgICB9OwoKICAgICAgLyoqIFNob3VsZCByZXR1cm4gYSB2ZWN0b3Igb2Ygc3RlcHBlcnMgdGhhdCB3aGVuIGNhbGxlZCAKICAgICAgICogc2hvdWxkIHRha2UgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuCiAgICAgICAqLwogICAgICBTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgbG9nX3Bvc3QpIHsKICAgICAgICB0aHJvdyAiRXZlcnkgU2FtcGxlciBuZWVkcyB0byBpbXBsZW1lbnQgY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUoKSI7CiAgICAgIH07CgogICAgICAvKiogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgU2FtcGxlci4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLAogICAgICAgICAgdGhpbjogdGhpcy50aGluLAogICAgICAgICAgbW9uaXRvcjogdGhpcy5tb25pdG9yLAogICAgICAgICAgc3RlcHBlcnM6IHRoaXMuc3RlcHBlcnMKICAgICAgICB9OwogICAgICB9OwoKICAgICAgLyoqIFRha2VzIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLiBSZXR1cm5zIHRoZSBuZXcgc3BhY2UKICAgICAgICogYnV0IGFsc28gbW9kaWZpZXMgdGhlIHN0YXRlIGluIHBsYWNlLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3RlcHBlcnMpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7CiAgICAgICAgfQogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGggPiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcykubGVuZ3RoKSB7CiAgICAgICAgICAvLyBUaGUgc3RhdGUgY29udGFpbnMgZGV2aXZlZCBxdWFudGl0aWVzIChub3Qgb25seSBwYXJhbWV0ZXJzKSBhbmQgd2UKICAgICAgICAgIC8vIG5lZWQgdG8gcnVuIHRoZSBsb2dfcG9zdCBvbmNlIG1vcmUgaW4gb3JkZXIgdG8gc2V0IHRoZSBkZXJpdmVkIHF1YW50aXRpZXMKICAgICAgICAgIC8vIGZvciB0aGUgZmluYWwgcGFyYW1ldGVyIHN0YXRlCiAgICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9ucyBzdGVwcyBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlIGFuZCByZXR1cm5zIHRoZW0KICAgICAgICogYXMgYW4gb2JqZWN0IG9mIGFycmF5cyB3aXRoIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyLiBGb3IgZXhhbXBsZToKICAgICAgICoge211OiBbMSwgLTEsIDIsIDMsIC4uLl0sIHNpZ21hOiBbMSwgMiwgMiwgMSwgLi4uXX0uCiAgICAgICAqIElmIHRoaW4gaXMgPiAxIHRoZW4gbl9pdGVyYXRpb25zIC8gdGhpbiBzYW1wbGVzIGFyZSByZXR1cm5lZC4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICAvLyBJbml0aWFsaXppbmcgY3Vycl9zYW1wbGUgd2hlcmUgdGhlIHNhbXBsZSBpcyBnb2luZyB0byBiZSBzYXZlZAogICAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC4KICAgICAgICB2YXIgaSwgaiwgbW9uaXRvcmVkX3BhcmFtczsKICAgICAgICBpZiAodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7CiAgICAgICAgICBtb25pdG9yZWRfcGFyYW1zID0gT2JqZWN0LmtleXModGhpcy5zdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7CiAgICAgICAgfQogICAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9OwogICAgICAgIGZvciAoaiA9IDA7IGogPCBtb25pdG9yZWRfcGFyYW1zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdOwogICAgICAgIH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbl9pdGVyYXRpb25zOyBpKyspIHsKICAgICAgICAgIGlmIChpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkgewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07CiAgICAgICAgICAgICAgY3Vycl9zYW1wbGVbcGFyYW1dLnB1c2goY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGN1cnJfc2FtcGxlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9uIHN0ZXBzIGluIHBhcmFtZXRlciBzcGFjZSBidXQgcmV0dXJucyBub3RoaW5nLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogU2V0cyB3aGF0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIG1vbml0b3JlZCBhbmQgcmV0dXJuZWQgd2hlbiBjYWxsaW5nCiAgICAgICAqIHNhbXBsZS4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLm1vbml0b3IgPSBmdW5jdGlvbiAocGFyYW1zX3RvX21vbml0b3IpIHsKICAgICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yCiAgICAgICAqIGRyYXcgd2lsbCBiZSBrZXB0LgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUudGhpbiA9IGZ1bmN0aW9uICh0aGlubmluZ19pbnRlcnZhbCkgewogICAgICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb2ZmLCBpZiBhcHBsaWNhYmxlLCBpbiBhbGwgc3RlcHBlcnMuCiAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqCiAgICAgICogQGNsYXNzCiAgICAgICogQGltcGxlbWVudHMge1NhbXBsZXJ9CiAgICAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIAogICAgICAqIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiAiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQyIKICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLiBBbiBhZGl0aW9uIGlzIHRoYXQgaXQgaGFuZGxlcyBpbnQgcGFyYW1ldGVycwogICAgICAqIGJ5IG1ha2luZyBkaXNjcmV0ZSBOb3JtYWwgcHJvcG9zYWxzIGFuZCBiaW5hcnkgcGFyYW1ldGVycyBieSB0YWtpbmcgb24gYSBuZXcgCiAgICAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlCiAgICAgICogcGFyYW1ldGVyLiBUaGlzIHNhbXBsZXIgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycwogICAgICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuCiAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uIChwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7CiAgICAgICAgU2FtcGxlci5jYWxsKHRoaXMsIHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpOwogICAgICB9OwogICAgICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsKICAgICAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1NhbXBsZXI7CiAgICAgIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIHJldHVybiBbbmV3IEFtd2dTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKV07CiAgICAgIH07CgogICAgICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlCiAgICAgIHJldHVybiB7CiAgICAgICAgcnVuaWY6IHJ1bmlmLAogICAgICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSwKICAgICAgICBybm9ybTogcm5vcm0sCiAgICAgICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwKICAgICAgICBjb21wbGV0ZV9wYXJhbXM6IGNvbXBsZXRlX3BhcmFtcywKICAgICAgICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXI6IFJlYWxNZXRyb3BvbGlzU3RlcHBlciwKICAgICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLAogICAgICAgIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwKICAgICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyOiBCaW5hcnlDb21wb25lbnRTdGVwcGVyLAogICAgICAgIEFtd2dTdGVwcGVyOiBBbXdnU3RlcHBlciwKICAgICAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXIKICAgICAgfTsKICAgIH0pOwogIH0pKG1jbWMkMSk7CiAgdmFyIG1jbWNFeHBvcnRzID0gbWNtYyQxLmV4cG9ydHM7CgogIGZ1bmN0aW9uIGFzY2VuZGluZyQxKGEsIGIpIHsKICAgIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiogbnVtYmVycyh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHsKICAgICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkgewogICAgICAgICAgeWllbGQgdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nJDEpIHsKICAgIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmckMSkgcmV0dXJuIGFzY2VuZGluZ0RlZmluZWQ7CiAgICBpZiAodHlwZW9mIGNvbXBhcmUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgIHJldHVybiAoYSwgYikgPT4gewogICAgICBjb25zdCB4ID0gY29tcGFyZShhLCBiKTsKICAgICAgaWYgKHggfHwgeCA9PT0gMCkgcmV0dXJuIHg7CiAgICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHsKICAgIHJldHVybiAoYSA9PSBudWxsIHx8ICEoYSA+PSBhKSkgLSAoYiA9PSBudWxsIHx8ICEoYiA+PSBiKSkgfHwgKGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwKTsKICB9CgogIGZ1bmN0aW9uIG1heCh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIGxldCBtYXg7CiAgICB7CiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkgewogICAgICAgICAgbWF4ID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbWF4OwogIH0KCiAgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikgewogICAgbGV0IG1pbjsKICAgIHsKICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAobWluID4gdmFsdWUgfHwgbWluID09PSB1bmRlZmluZWQgJiYgdmFsdWUgPj0gdmFsdWUpKSB7CiAgICAgICAgICBtaW4gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBtaW47CiAgfQoKICAvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdAogIC8vIElTQyBsaWNlbnNlLCBDb3B5cmlnaHQgMjAxOCBWbGFkaW1pciBBZ2Fmb25raW4uCiAgZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyYXksIGssIGxlZnQgPSAwLCByaWdodCA9IEluZmluaXR5LCBjb21wYXJlKSB7CiAgICBrID0gTWF0aC5mbG9vcihrKTsKICAgIGxlZnQgPSBNYXRoLmZsb29yKE1hdGgubWF4KDAsIGxlZnQpKTsKICAgIHJpZ2h0ID0gTWF0aC5mbG9vcihNYXRoLm1pbihhcnJheS5sZW5ndGggLSAxLCByaWdodCkpOwogICAgaWYgKCEobGVmdCA8PSBrICYmIGsgPD0gcmlnaHQpKSByZXR1cm4gYXJyYXk7CiAgICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpOwogICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkgewogICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7CiAgICAgICAgY29uc3QgbiA9IHJpZ2h0IC0gbGVmdCArIDE7CiAgICAgICAgY29uc3QgbSA9IGsgLSBsZWZ0ICsgMTsKICAgICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7CiAgICAgICAgY29uc3QgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7CiAgICAgICAgY29uc3Qgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7CiAgICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7CiAgICAgICAgY29uc3QgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTsKICAgICAgICBxdWlja3NlbGVjdChhcnJheSwgaywgbmV3TGVmdCwgbmV3UmlnaHQsIGNvbXBhcmUpOwogICAgICB9CiAgICAgIGNvbnN0IHQgPSBhcnJheVtrXTsKICAgICAgbGV0IGkgPSBsZWZ0OwogICAgICBsZXQgaiA9IHJpZ2h0OwogICAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTsKICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyYXksIGxlZnQsIHJpZ2h0KTsKICAgICAgd2hpbGUgKGkgPCBqKSB7CiAgICAgICAgc3dhcChhcnJheSwgaSwgaiksICsraSwgLS1qOwogICAgICAgIHdoaWxlIChjb21wYXJlKGFycmF5W2ldLCB0KSA8IDApICsraTsKICAgICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7CiAgICAgIH0KICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpOwogICAgICBpZiAoaiA8PSBrKSBsZWZ0ID0gaiArIDE7CiAgICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7CiAgICB9CiAgICByZXR1cm4gYXJyYXk7CiAgfQogIGZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHsKICAgIGNvbnN0IHQgPSBhcnJheVtpXTsKICAgIGFycmF5W2ldID0gYXJyYXlbal07CiAgICBhcnJheVtqXSA9IHQ7CiAgfQoKICBmdW5jdGlvbiBxdWFudGlsZSh2YWx1ZXMsIHAsIHZhbHVlb2YpIHsKICAgIHZhbHVlcyA9IEZsb2F0NjRBcnJheS5mcm9tKG51bWJlcnModmFsdWVzKSk7CiAgICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuOwogICAgaWYgKHAgPD0gMCB8fCBuIDwgMikgcmV0dXJuIG1pbih2YWx1ZXMpOwogICAgaWYgKHAgPj0gMSkgcmV0dXJuIG1heCh2YWx1ZXMpOwogICAgdmFyIG4sCiAgICAgIGkgPSAobiAtIDEpICogcCwKICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLAogICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksCiAgICAgIHZhbHVlMSA9IG1pbih2YWx1ZXMuc3ViYXJyYXkoaTAgKyAxKSk7CiAgICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTsKICB9CgogIGZ1bmN0aW9uIG1lZGlhbih2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHJldHVybiBxdWFudGlsZSh2YWx1ZXMsIDAuNSk7CiAgfQoKICB2YXIgbm9vcCA9IHsKICAgIHZhbHVlOiAoKSA9PiB7fQogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2goKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkgewogICAgICBpZiAoISh0ID0gYXJndW1lbnRzW2ldICsgIiIpIHx8IHQgaW4gXyB8fCAvW1xzLl0vLnRlc3QodCkpIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiICsgdCk7CiAgICAgIF9bdF0gPSBbXTsKICAgIH0KICAgIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7CiAgfQogIGZ1bmN0aW9uIERpc3BhdGNoKF8pIHsKICAgIHRoaXMuXyA9IF87CiAgfQogIGZ1bmN0aW9uIHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWVzLCB0eXBlcykgewogICAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XHMrLykubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuYW1lID0gIiIsCiAgICAgICAgaSA9IHQuaW5kZXhPZigiLiIpOwogICAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpOwogICAgICBpZiAodCAmJiAhdHlwZXMuaGFzT3duUHJvcGVydHkodCkpIHRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiICsgdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogdCwKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH07CiAgICB9KTsKICB9CiAgRGlzcGF0Y2gucHJvdG90eXBlID0gZGlzcGF0Y2gucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IERpc3BhdGNoLAogICAgb246IGZ1bmN0aW9uICh0eXBlbmFtZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF8gPSB0aGlzLl8sCiAgICAgICAgVCA9IHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWUgKyAiIiwgXyksCiAgICAgICAgdCwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IFQubGVuZ3RoOwoKICAgICAgLy8gSWYgbm8gY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmV0dXJuIHRoZSBjYWxsYmFjayBvZiB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7CiAgICAgICAgd2hpbGUgKCsraSA8IG4pIGlmICgodCA9ICh0eXBlbmFtZSA9IFRbaV0pLnR5cGUpICYmICh0ID0gZ2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIElmIGEgdHlwZSB3YXMgc3BlY2lmaWVkLCBzZXQgdGhlIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS4KICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIgKyBjYWxsYmFjayk7CiAgICAgIHdoaWxlICgrK2kgPCBuKSB7CiAgICAgICAgaWYgKHQgPSAodHlwZW5hbWUgPSBUW2ldKS50eXBlKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgY2FsbGJhY2spO2Vsc2UgaWYgKGNhbGxiYWNrID09IG51bGwpIGZvciAodCBpbiBfKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgbnVsbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY29weTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29weSA9IHt9LAogICAgICAgIF8gPSB0aGlzLl87CiAgICAgIGZvciAodmFyIHQgaW4gXykgY29weVt0XSA9IF9bdF0uc2xpY2UoKTsKICAgICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTsKICAgIH0sCiAgICBjYWxsOiBmdW5jdGlvbiAodHlwZSwgdGhhdCkgewogICAgICBpZiAoKG4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMikgPiAwKSBmb3IgKHZhciBhcmdzID0gbmV3IEFycmF5KG4pLCBpID0gMCwgbiwgdDsgaSA8IG47ICsraSkgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMl07CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7CiAgICB9LAogICAgYXBwbHk6IGZ1bmN0aW9uICh0eXBlLCB0aGF0LCBhcmdzKSB7CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHZhciB0ID0gdGhpcy5fW3R5cGVdLCBpID0gMCwgbiA9IHQubGVuZ3RoOyBpIDwgbjsgKytpKSB0W2ldLnZhbHVlLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgfQogIH07CiAgZnVuY3Rpb24gZ2V0JDEodHlwZSwgbmFtZSkgewogICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0eXBlLmxlbmd0aCwgYzsgaSA8IG47ICsraSkgewogICAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgcmV0dXJuIGMudmFsdWU7CiAgICAgIH0KICAgIH0KICB9CiAgZnVuY3Rpb24gc2V0JDEodHlwZSwgbmFtZSwgY2FsbGJhY2spIHsKICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAgaWYgKHR5cGVbaV0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgIHR5cGVbaV0gPSBub29wLCB0eXBlID0gdHlwZS5zbGljZSgwLCBpKS5jb25jYXQodHlwZS5zbGljZShpICsgMSkpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHsKICAgICAgbmFtZTogbmFtZSwKICAgICAgdmFsdWU6IGNhbGxiYWNrCiAgICB9KTsKICAgIHJldHVybiB0eXBlOwogIH0KCiAgdmFyIHhodG1sID0gImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiOwogIHZhciBuYW1lc3BhY2VzID0gewogICAgc3ZnOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAogICAgeGh0bWw6IHhodG1sLAogICAgeGxpbms6ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwKICAgIHhtbDogImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsCiAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIgogIH07CgogIGZ1bmN0aW9uIG5hbWVzcGFjZSAobmFtZSkgewogICAgdmFyIHByZWZpeCA9IG5hbWUgKz0gIiIsCiAgICAgIGkgPSBwcmVmaXguaW5kZXhPZigiOiIpOwogICAgaWYgKGkgPj0gMCAmJiAocHJlZml4ID0gbmFtZS5zbGljZSgwLCBpKSkgIT09ICJ4bWxucyIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTsKICAgIHJldHVybiBuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkgPyB7CiAgICAgIHNwYWNlOiBuYW1lc3BhY2VzW3ByZWZpeF0sCiAgICAgIGxvY2FsOiBuYW1lCiAgICB9IDogbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICB9CgogIGZ1bmN0aW9uIGNyZWF0b3JJbmhlcml0KG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMub3duZXJEb2N1bWVudCwKICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTsKICAgICAgcmV0dXJuIHVyaSA9PT0geGh0bWwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0geGh0bWwgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHVyaSwgbmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yRml4ZWQoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yIChuYW1lKSB7CiAgICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7CiAgICByZXR1cm4gKGZ1bGxuYW1lLmxvY2FsID8gY3JlYXRvckZpeGVkIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTsKICB9CgogIGZ1bmN0aW9uIG5vbmUoKSB7fQogIGZ1bmN0aW9uIHNlbGVjdG9yIChzZWxlY3RvcikgewogICAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBub25lIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7CiAgfQoKICAvLyBHaXZlbiBzb21ldGhpbmcgYXJyYXkgbGlrZSAob3IgbnVsbCksIHJldHVybnMgc29tZXRoaW5nIHRoYXQgaXMgc3RyaWN0bHkgYW4KICAvLyBhcnJheS4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IGFycmF5LWxpa2Ugb2JqZWN0cyBwYXNzZWQgdG8gZDMuc2VsZWN0QWxsCiAgLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGEKICAvLyBzZWxlY3Rpb247IHdlIGRvbuKAmXQgZXZlciB3YW50IHRvIGNyZWF0ZSBhIHNlbGVjdGlvbiBiYWNrZWQgYnkgYSBsaXZlCiAgLy8gSFRNTENvbGxlY3Rpb24gb3IgTm9kZUxpc3QuIEhvd2V2ZXIsIG5vdGUgdGhhdCBzZWxlY3Rpb24uc2VsZWN0QWxsIHdpbGwgdXNlIGEKICAvLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLgogIGZ1bmN0aW9uIGFycmF5KHgpIHsKICAgIHJldHVybiB4ID09IG51bGwgPyBbXSA6IEFycmF5LmlzQXJyYXkoeCkgPyB4IDogQXJyYXkuZnJvbSh4KTsKICB9CgogIGZ1bmN0aW9uIGVtcHR5KCkgewogICAgcmV0dXJuIFtdOwogIH0KICBmdW5jdGlvbiBzZWxlY3RvckFsbCAoc2VsZWN0b3IpIHsKICAgIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gZW1wdHkgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGFycmF5QWxsKHNlbGVjdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGFycmF5KHNlbGVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3RBbGwgKHNlbGVjdCkgewogICAgaWYgKHR5cGVvZiBzZWxlY3QgPT09ICJmdW5jdGlvbiIpIHNlbGVjdCA9IGFycmF5QWxsKHNlbGVjdCk7ZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKTsKICAgICAgICAgIHBhcmVudHMucHVzaChub2RlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoc3ViZ3JvdXBzLCBwYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIG1hdGNoZXIgKHNlbGVjdG9yKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHNlbGVjdG9yKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkTWF0Y2hlcihzZWxlY3RvcikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIHZhciBmaW5kID0gQXJyYXkucHJvdG90eXBlLmZpbmQ7CiAgZnVuY3Rpb24gY2hpbGRGaW5kKG1hdGNoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZmluZC5jYWxsKHRoaXMuY2hpbGRyZW4sIG1hdGNoKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkRmlyc3QoKSB7CiAgICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NlbGVjdENoaWxkIChtYXRjaCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0IDogY2hpbGRGaW5kKHR5cGVvZiBtYXRjaCA9PT0gImZ1bmN0aW9uIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpOwogIH0KCiAgdmFyIGZpbHRlciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXI7CiAgZnVuY3Rpb24gY2hpbGRyZW4oKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKTsKICB9CiAgZnVuY3Rpb24gY2hpbGRyZW5GaWx0ZXIobWF0Y2gpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLmNoaWxkcmVuLCBtYXRjaCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gKG1hdGNoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuIDogY2hpbGRyZW5GaWx0ZXIodHlwZW9mIG1hdGNoID09PSAiZnVuY3Rpb24iID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZmlsdGVyIChtYXRjaCkgewogICAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gImZ1bmN0aW9uIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7CiAgICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMShzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpOwogIH0KCiAgZnVuY3Rpb24gc3BhcnNlICh1cGRhdGUpIHsKICAgIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW50ZXIgKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMSh0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpOwogIH0KICBmdW5jdGlvbiBFbnRlck5vZGUocGFyZW50LCBkYXR1bSkgewogICAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7CiAgICB0aGlzLm5hbWVzcGFjZVVSSSA9IHBhcmVudC5uYW1lc3BhY2VVUkk7CiAgICB0aGlzLl9uZXh0ID0gbnVsbDsKICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDsKICAgIHRoaXMuX19kYXRhX18gPSBkYXR1bTsKICB9CiAgRW50ZXJOb2RlLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBFbnRlck5vZGUsCiAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCB0aGlzLl9uZXh0KTsKICAgIH0sCiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChjaGlsZCwgbmV4dCkgewogICAgICByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gY29uc3RhbnQkMSAoeCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHg7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHsKICAgIHZhciBpID0gMCwKICAgICAgbm9kZSwKICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsCiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDsKCiAgICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZml0IGludG8gdXBkYXRlLgogICAgLy8gUHV0IGFueSBudWxsIG5vZGVzIGludG8gZW50ZXIuCiAgICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuCiAgICBmb3IgKDsgaSA8IGRhdGFMZW5ndGg7ICsraSkgewogICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07CiAgICAgICAgdXBkYXRlW2ldID0gbm9kZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTsKICAgICAgfQogICAgfQoKICAgIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBkb27igJl0IGZpdCBpbnRvIGV4aXQuCiAgICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGJpbmRLZXkocGFyZW50LCBncm91cCwgZW50ZXIsIHVwZGF0ZSwgZXhpdCwgZGF0YSwga2V5KSB7CiAgICB2YXIgaSwKICAgICAgbm9kZSwKICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwKCksCiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgIGtleVZhbHVlcyA9IG5ldyBBcnJheShncm91cExlbmd0aCksCiAgICAgIGtleVZhbHVlOwoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBub2RlLgogICAgLy8gSWYgbXVsdGlwbGUgbm9kZXMgaGF2ZSB0aGUgc2FtZSBrZXksIHRoZSBkdXBsaWNhdGVzIGFyZSBhZGRlZCB0byBleGl0LgogICAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGtleVZhbHVlc1tpXSA9IGtleVZhbHVlID0ga2V5LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApICsgIiI7CiAgICAgICAgaWYgKG5vZGVCeUtleVZhbHVlLmhhcyhrZXlWYWx1ZSkpIHsKICAgICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlQnlLZXlWYWx1ZS5zZXQoa2V5VmFsdWUsIG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBkYXR1bS4KICAgIC8vIElmIHRoZXJlIGEgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBrZXksIGpvaW4gYW5kIGFkZCBpdCB0byB1cGRhdGUuCiAgICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuCiAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7CiAgICAgIGtleVZhbHVlID0ga2V5LmNhbGwocGFyZW50LCBkYXRhW2ldLCBpLCBkYXRhKSArICIiOwogICAgICBpZiAobm9kZSA9IG5vZGVCeUtleVZhbHVlLmdldChrZXlWYWx1ZSkpIHsKICAgICAgICB1cGRhdGVbaV0gPSBub2RlOwogICAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldOwogICAgICAgIG5vZGVCeUtleVZhbHVlLmRlbGV0ZShrZXlWYWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBBZGQgYW55IHJlbWFpbmluZyBub2RlcyB0aGF0IHdlcmUgbm90IGJvdW5kIHRvIGRhdGEgdG8gZXhpdC4KICAgIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7CiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGRhdHVtKG5vZGUpIHsKICAgIHJldHVybiBub2RlLl9fZGF0YV9fOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0YSAodmFsdWUsIGtleSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLCBkYXR1bSk7CiAgICB2YXIgYmluZCA9IGtleSA/IGJpbmRLZXkgOiBiaW5kSW5kZXgsCiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLAogICAgICBncm91cHMgPSB0aGlzLl9ncm91cHM7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB2YWx1ZSA9IGNvbnN0YW50JDEodmFsdWUpOwogICAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIHZhciBwYXJlbnQgPSBwYXJlbnRzW2pdLAogICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLAogICAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICAgIGRhdGEgPSBhcnJheWxpa2UodmFsdWUuY2FsbChwYXJlbnQsIHBhcmVudCAmJiBwYXJlbnQuX19kYXRhX18sIGosIHBhcmVudHMpKSwKICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgICAgZW50ZXJHcm91cCA9IGVudGVyW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIHVwZGF0ZUdyb3VwID0gdXBkYXRlW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpOwogICAgICBiaW5kKHBhcmVudCwgZ3JvdXAsIGVudGVyR3JvdXAsIHVwZGF0ZUdyb3VwLCBleGl0R3JvdXAsIGRhdGEsIGtleSk7CgogICAgICAvLyBOb3cgY29ubmVjdCB0aGUgZW50ZXIgbm9kZXMgdG8gdGhlaXIgZm9sbG93aW5nIHVwZGF0ZSBub2RlLCBzdWNoIHRoYXQKICAgICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSwKICAgICAgLy8gcmF0aGVyIHRoYW4gYXQgdGhlIGVuZCBvZiB0aGUgcGFyZW50IG5vZGUuCiAgICAgIGZvciAodmFyIGkwID0gMCwgaTEgPSAwLCBwcmV2aW91cywgbmV4dDsgaTAgPCBkYXRhTGVuZ3RoOyArK2kwKSB7CiAgICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHsKICAgICAgICAgIGlmIChpMCA+PSBpMSkgaTEgPSBpMCArIDE7CiAgICAgICAgICB3aGlsZSAoIShuZXh0ID0gdXBkYXRlR3JvdXBbaTFdKSAmJiArK2kxIDwgZGF0YUxlbmd0aCk7CiAgICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHVwZGF0ZSA9IG5ldyBTZWxlY3Rpb24kMSh1cGRhdGUsIHBhcmVudHMpOwogICAgdXBkYXRlLl9lbnRlciA9IGVudGVyOwogICAgdXBkYXRlLl9leGl0ID0gZXhpdDsKICAgIHJldHVybiB1cGRhdGU7CiAgfQoKICAvLyBHaXZlbiBzb21lIGRhdGEsIHRoaXMgcmV0dXJucyBhbiBhcnJheS1saWtlIHZpZXcgb2YgaXQ6IGFuIG9iamVjdCB0aGF0CiAgLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2UKICAvLyBzZWxlY3RBbGwsIHRoaXMgaXNu4oCZdCB3b3JyaWVkIGFib3V0IOKAnGxpdmXigJ0gY29sbGVjdGlvbnMgYmVjYXVzZSB0aGUgcmVzdWx0aW5nCiAgLy8gYXJyYXkgd2lsbCBvbmx5IGJlIHVzZWQgYnJpZWZseSB3aGlsZSBkYXRhIGlzIGJlaW5nIGJvdW5kLiAoSXQgaXMgcG9zc2libGUgdG8KICAvLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlCiAgLy8gZG9u4oCZdDsgd2XigJlkIHJhdGhlciBhdm9pZCBhIGdyYXR1aXRvdXMgY29weS4pCiAgZnVuY3Rpb24gYXJyYXlsaWtlKGRhdGEpIHsKICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gIm9iamVjdCIgJiYgImxlbmd0aCIgaW4gZGF0YSA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlCiAgICA6IEFycmF5LmZyb20oZGF0YSk7IC8vIE1hcCwgU2V0LCBpdGVyYWJsZSwgc3RyaW5nLCBvciBhbnl0aGluZyBlbHNlCiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZXhpdCAoKSB7CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHRoaXMuX2V4aXQgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9qb2luIChvbmVudGVyLCBvbnVwZGF0ZSwgb25leGl0KSB7CiAgICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksCiAgICAgIHVwZGF0ZSA9IHRoaXMsCiAgICAgIGV4aXQgPSB0aGlzLmV4aXQoKTsKICAgIGlmICh0eXBlb2Ygb25lbnRlciA9PT0gImZ1bmN0aW9uIikgewogICAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpOwogICAgICBpZiAoZW50ZXIpIGVudGVyID0gZW50ZXIuc2VsZWN0aW9uKCk7CiAgICB9IGVsc2UgewogICAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgIiIpOwogICAgfQogICAgaWYgKG9udXBkYXRlICE9IG51bGwpIHsKICAgICAgdXBkYXRlID0gb251cGRhdGUodXBkYXRlKTsKICAgICAgaWYgKHVwZGF0ZSkgdXBkYXRlID0gdXBkYXRlLnNlbGVjdGlvbigpOwogICAgfQogICAgaWYgKG9uZXhpdCA9PSBudWxsKSBleGl0LnJlbW92ZSgpO2Vsc2Ugb25leGl0KGV4aXQpOwogICAgcmV0dXJuIGVudGVyICYmIHVwZGF0ZSA/IGVudGVyLm1lcmdlKHVwZGF0ZSkub3JkZXIoKSA6IHVwZGF0ZTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9tZXJnZSAoY29udGV4dCkgewogICAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7CiAgICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gc2VsZWN0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEobWVyZ2VzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9vcmRlciAoKSB7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAtMSwgbSA9IGdyb3Vwcy5sZW5ndGg7ICsraiA8IG07KSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBpZiAobmV4dCAmJiBub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHQpIF4gNCkgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBuZXh0KTsKICAgICAgICAgIG5leHQgPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc29ydCAoY29tcGFyZSkgewogICAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nOwogICAgZnVuY3Rpb24gY29tcGFyZU5vZGUoYSwgYikgewogICAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7CiAgICB9CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc29ydGdyb3VwID0gc29ydGdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHNvcnRncm91cHMsIHRoaXMuX3BhcmVudHMpLm9yZGVyKCk7CiAgfQogIGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7CiAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fY2FsbCAoKSB7CiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07CiAgICBhcmd1bWVudHNbMF0gPSB0aGlzOwogICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGVzICgpIHsKICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGUgKCkgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgdmFyIG5vZGUgPSBncm91cFtpXTsKICAgICAgICBpZiAobm9kZSkgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NpemUgKCkgewogICAgbGV0IHNpemUgPSAwOwogICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgcmV0dXJuIHNpemU7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW1wdHkgKCkgewogICAgcmV0dXJuICF0aGlzLm5vZGUoKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9lYWNoIChjYWxsYmFjaykgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gYXR0clJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TJDEoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJDb25zdGFudCQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnROUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIHZhbHVlKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJGdW5jdGlvbiQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO2Vsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb25OUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7ZWxzZSB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fYXR0ciAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSgpOwogICAgICByZXR1cm4gZnVsbG5hbWUubG9jYWwgPyBub2RlLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCkgOiBub2RlLmdldEF0dHJpYnV0ZShmdWxsbmFtZSk7CiAgICB9CiAgICByZXR1cm4gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsID8gZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMkMSA6IGF0dHJSZW1vdmUkMSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMkMSA6IGF0dHJGdW5jdGlvbiQxIDogZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyQxIDogYXR0ckNvbnN0YW50JDEpKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVmYXVsdFZpZXcgKG5vZGUpIHsKICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IC8vIG5vZGUgaXMgYSBOb2RlCiAgICB8fCBub2RlLmRvY3VtZW50ICYmIG5vZGUgLy8gbm9kZSBpcyBhIFdpbmRvdwogICAgfHwgbm9kZS5kZWZhdWx0VmlldzsgLy8gbm9kZSBpcyBhIERvY3VtZW50CiAgfQoKICBmdW5jdGlvbiBzdHlsZVJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUNvbnN0YW50JDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBwcmlvcml0eSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uJDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7ZWxzZSB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHYsIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zdHlsZSAobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBzdHlsZVJlbW92ZSQxIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gc3R5bGVGdW5jdGlvbiQxIDogc3R5bGVDb25zdGFudCQxKShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/ICIiIDogcHJpb3JpdHkpKSA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpOwogIH0KICBmdW5jdGlvbiBzdHlsZVZhbHVlKG5vZGUsIG5hbWUpIHsKICAgIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgZGVmYXVsdFZpZXcobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpOwogIH0KCiAgZnVuY3Rpb24gcHJvcGVydHlSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZGVsZXRlIHRoaXNbbmFtZV07CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzW25hbWVdID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIGRlbGV0ZSB0aGlzW25hbWVdO2Vsc2UgdGhpc1tuYW1lXSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcHJvcGVydHkgKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHByb3BlcnR5RnVuY3Rpb24gOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpIDogdGhpcy5ub2RlKClbbmFtZV07CiAgfQoKICBmdW5jdGlvbiBjbGFzc0FycmF5KHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XHMrLyk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzTGlzdChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTsKICB9CiAgZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHsKICAgIHRoaXMuX25vZGUgPSBub2RlOwogICAgdGhpcy5fbmFtZXMgPSBjbGFzc0FycmF5KG5vZGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiKTsKICB9CiAgQ2xhc3NMaXN0LnByb3RvdHlwZSA9IHsKICAgIGFkZDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIGkgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpOwogICAgICBpZiAoaSA8IDApIHsKICAgICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHRoaXMuX25hbWVzLmpvaW4oIiAiKSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTsKICAgICAgaWYgKGkgPj0gMCkgewogICAgICAgIHRoaXMuX25hbWVzLnNwbGljZShpLCAxKTsKICAgICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0aGlzLl9uYW1lcy5qb2luKCIgIikpOwogICAgICB9CiAgICB9LAogICAgY29udGFpbnM6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7CiAgICB9CiAgfTsKICBmdW5jdGlvbiBjbGFzc2VkQWRkKG5vZGUsIG5hbWVzKSB7CiAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwKICAgICAgaSA9IC0xLAogICAgICBuID0gbmFtZXMubGVuZ3RoOwogICAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTsKICB9CiAgZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykgewogICAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksCiAgICAgIGkgPSAtMSwKICAgICAgbiA9IG5hbWVzLmxlbmd0aDsKICAgIHdoaWxlICgrK2kgPCBuKSBsaXN0LnJlbW92ZShuYW1lc1tpXSk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRUcnVlKG5hbWVzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBjbGFzc2VkQWRkKHRoaXMsIG5hbWVzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjbGFzc2VkRnVuY3Rpb24obmFtZXMsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAodmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA/IGNsYXNzZWRBZGQgOiBjbGFzc2VkUmVtb3ZlKSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fY2xhc3NlZCAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBuYW1lcyA9IGNsYXNzQXJyYXkobmFtZSArICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdCh0aGlzLm5vZGUoKSksCiAgICAgICAgaSA9IC0xLAogICAgICAgIG4gPSBuYW1lcy5sZW5ndGg7CiAgICAgIHdoaWxlICgrK2kgPCBuKSBpZiAoIWxpc3QuY29udGFpbnMobmFtZXNbaV0pKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gY2xhc3NlZEZ1bmN0aW9uIDogdmFsdWUgPyBjbGFzc2VkVHJ1ZSA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkgewogICAgdGhpcy50ZXh0Q29udGVudCA9ICIiOwogIH0KICBmdW5jdGlvbiB0ZXh0Q29uc3RhbnQkMSh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdGV4dEZ1bmN0aW9uJDEodmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl90ZXh0ICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGV4dEZ1bmN0aW9uJDEgOiB0ZXh0Q29uc3RhbnQkMSkodmFsdWUpKSA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50OwogIH0KCiAgZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHsKICAgIHRoaXMuaW5uZXJIVE1MID0gIiI7CiAgfQogIGZ1bmN0aW9uIGh0bWxDb25zdGFudCh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5pbm5lckhUTUwgPSB2YWx1ZTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB0aGlzLmlubmVySFRNTCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9odG1sICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IGh0bWxSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gaHRtbEZ1bmN0aW9uIDogaHRtbENvbnN0YW50KSh2YWx1ZSkpIDogdGhpcy5ub2RlKCkuaW5uZXJIVE1MOwogIH0KCiAgZnVuY3Rpb24gcmFpc2UoKSB7CiAgICBpZiAodGhpcy5uZXh0U2libGluZykgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcmFpc2UgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyYWlzZSk7CiAgfQoKICBmdW5jdGlvbiBsb3dlcigpIHsKICAgIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9sb3dlciAoKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9hcHBlbmQgKG5hbWUpIHsKICAgIHZhciBjcmVhdGUgPSB0eXBlb2YgbmFtZSA9PT0gImZ1bmN0aW9uIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjb25zdGFudE51bGwoKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2luc2VydCAobmFtZSwgYmVmb3JlKSB7CiAgICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09ICJmdW5jdGlvbiIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSwKICAgICAgc2VsZWN0ID0gYmVmb3JlID09IG51bGwgPyBjb25zdGFudE51bGwgOiB0eXBlb2YgYmVmb3JlID09PSAiZnVuY3Rpb24iID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTsKICAgIHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9yZW1vdmUgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyZW1vdmUpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Nsb25lU2hhbGxvdygpIHsKICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKGZhbHNlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7CiAgICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZSh0cnVlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZSAoZGVlcCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGRlZXAgPyBzZWxlY3Rpb25fY2xvbmVEZWVwIDogc2VsZWN0aW9uX2Nsb25lU2hhbGxvdyk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0dW0gKHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMucHJvcGVydHkoIl9fZGF0YV9fIiwgdmFsdWUpIDogdGhpcy5ub2RlKCkuX19kYXRhX187CiAgfQoKICBmdW5jdGlvbiBjb250ZXh0TGlzdGVuZXIobGlzdGVuZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCwgdGhpcy5fX2RhdGFfXyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMpIHsKICAgIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxzKy8pLm1hcChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbmFtZSA9ICIiLAogICAgICAgIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiB0LAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBvblJlbW92ZSh0eXBlbmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uOwogICAgICBpZiAoIW9uKSByZXR1cm47CiAgICAgIGZvciAodmFyIGogPSAwLCBpID0gLTEsIG0gPSBvbi5sZW5ndGgsIG87IGogPCBtOyArK2opIHsKICAgICAgICBpZiAobyA9IG9uW2pdLCAoIXR5cGVuYW1lLnR5cGUgfHwgby50eXBlID09PSB0eXBlbmFtZS50eXBlKSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9uWysraV0gPSBvOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKytpKSBvbi5sZW5ndGggPSBpO2Vsc2UgZGVsZXRlIHRoaXMuX19vbjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uLAogICAgICAgIG8sCiAgICAgICAgbGlzdGVuZXIgPSBjb250ZXh0TGlzdGVuZXIodmFsdWUpOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoby50eXBlLCBvLmxpc3RlbmVyLCBvLm9wdGlvbnMpOwogICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciA9IGxpc3RlbmVyLCBvLm9wdGlvbnMgPSBvcHRpb25zKTsKICAgICAgICAgIG8udmFsdWUgPSB2YWx1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHR5cGVuYW1lLnR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsKICAgICAgbyA9IHsKICAgICAgICB0eXBlOiB0eXBlbmFtZS50eXBlLAogICAgICAgIG5hbWU6IHR5cGVuYW1lLm5hbWUsCiAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lciwKICAgICAgICBvcHRpb25zOiBvcHRpb25zCiAgICAgIH07CiAgICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtlbHNlIG9uLnB1c2gobyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fb24gKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgdmFyIHR5cGVuYW1lcyA9IHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lICsgIiIpLAogICAgICBpLAogICAgICBuID0gdHlwZW5hbWVzLmxlbmd0aCwKICAgICAgdDsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgb24gPSB0aGlzLm5vZGUoKS5fX29uOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7CiAgICAgICAgZm9yIChpID0gMCwgbyA9IG9uW2pdOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAoKHQgPSB0eXBlbmFtZXNbaV0pLnR5cGUgPT09IG8udHlwZSAmJiB0Lm5hbWUgPT09IG8ubmFtZSkgewogICAgICAgICAgICByZXR1cm4gby52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfQogICAgb24gPSB2YWx1ZSA/IG9uQWRkIDogb25SZW1vdmU7CiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB0aGlzLmVhY2gob24odHlwZW5hbWVzW2ldLCB2YWx1ZSwgb3B0aW9ucykpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykgewogICAgdmFyIHdpbmRvdyA9IGRlZmF1bHRWaWV3KG5vZGUpLAogICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDsKICAgIGlmICh0eXBlb2YgZXZlbnQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgZXZlbnQgPSBuZXcgZXZlbnQodHlwZSwgcGFyYW1zKTsKICAgIH0gZWxzZSB7CiAgICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpOwogICAgICBpZiAocGFyYW1zKSBldmVudC5pbml0RXZlbnQodHlwZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlKSwgZXZlbnQuZGV0YWlsID0gcGFyYW1zLmRldGFpbDtlbHNlIGV2ZW50LmluaXRFdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UpOwogICAgfQogICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hDb25zdGFudCh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Rpc3BhdGNoICh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiBwYXJhbXMgPT09ICJmdW5jdGlvbiIgPyBkaXNwYXRjaEZ1bmN0aW9uIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7CiAgfQoKICBmdW5jdGlvbiogc2VsZWN0aW9uX2l0ZXJhdG9yICgpIHsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHlpZWxkIG5vZGU7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciByb290ID0gW251bGxdOwogIGZ1bmN0aW9uIFNlbGVjdGlvbiQxKGdyb3VwcywgcGFyZW50cykgewogICAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzOwogICAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbigpIHsKICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpczsKICB9CiAgU2VsZWN0aW9uJDEucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBTZWxlY3Rpb24kMSwKICAgIHNlbGVjdDogc2VsZWN0aW9uX3NlbGVjdCwKICAgIHNlbGVjdEFsbDogc2VsZWN0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsCiAgICBzZWxlY3RDaGlsZHJlbjogc2VsZWN0aW9uX3NlbGVjdENoaWxkcmVuLAogICAgZmlsdGVyOiBzZWxlY3Rpb25fZmlsdGVyLAogICAgZGF0YTogc2VsZWN0aW9uX2RhdGEsCiAgICBlbnRlcjogc2VsZWN0aW9uX2VudGVyLAogICAgZXhpdDogc2VsZWN0aW9uX2V4aXQsCiAgICBqb2luOiBzZWxlY3Rpb25fam9pbiwKICAgIG1lcmdlOiBzZWxlY3Rpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHNlbGVjdGlvbl9zZWxlY3Rpb24sCiAgICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLAogICAgc29ydDogc2VsZWN0aW9uX3NvcnQsCiAgICBjYWxsOiBzZWxlY3Rpb25fY2FsbCwKICAgIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fbm9kZSwKICAgIHNpemU6IHNlbGVjdGlvbl9zaXplLAogICAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9lYWNoLAogICAgYXR0cjogc2VsZWN0aW9uX2F0dHIsCiAgICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLAogICAgcHJvcGVydHk6IHNlbGVjdGlvbl9wcm9wZXJ0eSwKICAgIGNsYXNzZWQ6IHNlbGVjdGlvbl9jbGFzc2VkLAogICAgdGV4dDogc2VsZWN0aW9uX3RleHQsCiAgICBodG1sOiBzZWxlY3Rpb25faHRtbCwKICAgIHJhaXNlOiBzZWxlY3Rpb25fcmFpc2UsCiAgICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLAogICAgYXBwZW5kOiBzZWxlY3Rpb25fYXBwZW5kLAogICAgaW5zZXJ0OiBzZWxlY3Rpb25faW5zZXJ0LAogICAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLAogICAgY2xvbmU6IHNlbGVjdGlvbl9jbG9uZSwKICAgIGRhdHVtOiBzZWxlY3Rpb25fZGF0dW0sCiAgICBvbjogc2VsZWN0aW9uX29uLAogICAgZGlzcGF0Y2g6IHNlbGVjdGlvbl9kaXNwYXRjaCwKICAgIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25faXRlcmF0b3IKICB9OwoKICBmdW5jdGlvbiBkZWZpbmUgKGNvbnN0cnVjdG9yLCBmYWN0b3J5LCBwcm90b3R5cGUpIHsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlOwogICAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHsKICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZm9yICh2YXIga2V5IGluIGRlZmluaXRpb24pIHByb3RvdHlwZVtrZXldID0gZGVmaW5pdGlvbltrZXldOwogICAgcmV0dXJuIHByb3RvdHlwZTsKICB9CgogIGZ1bmN0aW9uIENvbG9yKCkge30KICB2YXIgZGFya2VyID0gMC43OwogIHZhciBicmlnaHRlciA9IDEgLyBkYXJrZXI7CiAgdmFyIHJlSSA9ICJcXHMqKFsrLV0/XFxkKylcXHMqIiwKICAgIHJlTiA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPylcXHMqIiwKICAgIHJlUCA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPyklXFxzKiIsCiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLAogICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVJfSwke3JlSX0sJHtyZUl9XFwpJGApLAogICAgcmVSZ2JQZXJjZW50ID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVQfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVSZ2JhSW50ZWdlciA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFwpJGApLAogICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZVB9LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApLAogICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChgXmhzbFxcKCR7cmVOfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVIc2xhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5oc2xhXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApOwogIHZhciBuYW1lZCA9IHsKICAgIGFsaWNlYmx1ZTogMHhmMGY4ZmYsCiAgICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3LAogICAgYXF1YTogMHgwMGZmZmYsCiAgICBhcXVhbWFyaW5lOiAweDdmZmZkNCwKICAgIGF6dXJlOiAweGYwZmZmZiwKICAgIGJlaWdlOiAweGY1ZjVkYywKICAgIGJpc3F1ZTogMHhmZmU0YzQsCiAgICBibGFjazogMHgwMDAwMDAsCiAgICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsCiAgICBibHVlOiAweDAwMDBmZiwKICAgIGJsdWV2aW9sZXQ6IDB4OGEyYmUyLAogICAgYnJvd246IDB4YTUyYTJhLAogICAgYnVybHl3b29kOiAweGRlYjg4NywKICAgIGNhZGV0Ymx1ZTogMHg1ZjllYTAsCiAgICBjaGFydHJldXNlOiAweDdmZmYwMCwKICAgIGNob2NvbGF0ZTogMHhkMjY5MWUsCiAgICBjb3JhbDogMHhmZjdmNTAsCiAgICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsCiAgICBjb3Juc2lsazogMHhmZmY4ZGMsCiAgICBjcmltc29uOiAweGRjMTQzYywKICAgIGN5YW46IDB4MDBmZmZmLAogICAgZGFya2JsdWU6IDB4MDAwMDhiLAogICAgZGFya2N5YW46IDB4MDA4YjhiLAogICAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsCiAgICBkYXJrZ3JheTogMHhhOWE5YTksCiAgICBkYXJrZ3JlZW46IDB4MDA2NDAwLAogICAgZGFya2dyZXk6IDB4YTlhOWE5LAogICAgZGFya2toYWtpOiAweGJkYjc2YiwKICAgIGRhcmttYWdlbnRhOiAweDhiMDA4YiwKICAgIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZiwKICAgIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLAogICAgZGFya29yY2hpZDogMHg5OTMyY2MsCiAgICBkYXJrcmVkOiAweDhiMDAwMCwKICAgIGRhcmtzYWxtb246IDB4ZTk5NjdhLAogICAgZGFya3NlYWdyZWVuOiAweDhmYmM4ZiwKICAgIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLAogICAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsCiAgICBkYXJrc2xhdGVncmV5OiAweDJmNGY0ZiwKICAgIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLAogICAgZGFya3Zpb2xldDogMHg5NDAwZDMsCiAgICBkZWVwcGluazogMHhmZjE0OTMsCiAgICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsCiAgICBkaW1ncmF5OiAweDY5Njk2OSwKICAgIGRpbWdyZXk6IDB4Njk2OTY5LAogICAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsCiAgICBmaXJlYnJpY2s6IDB4YjIyMjIyLAogICAgZmxvcmFsd2hpdGU6IDB4ZmZmYWYwLAogICAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLAogICAgZnVjaHNpYTogMHhmZjAwZmYsCiAgICBnYWluc2Jvcm86IDB4ZGNkY2RjLAogICAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsCiAgICBnb2xkOiAweGZmZDcwMCwKICAgIGdvbGRlbnJvZDogMHhkYWE1MjAsCiAgICBncmF5OiAweDgwODA4MCwKICAgIGdyZWVuOiAweDAwODAwMCwKICAgIGdyZWVueWVsbG93OiAweGFkZmYyZiwKICAgIGdyZXk6IDB4ODA4MDgwLAogICAgaG9uZXlkZXc6IDB4ZjBmZmYwLAogICAgaG90cGluazogMHhmZjY5YjQsCiAgICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLAogICAgaW5kaWdvOiAweDRiMDA4MiwKICAgIGl2b3J5OiAweGZmZmZmMCwKICAgIGtoYWtpOiAweGYwZTY4YywKICAgIGxhdmVuZGVyOiAweGU2ZTZmYSwKICAgIGxhdmVuZGVyYmx1c2g6IDB4ZmZmMGY1LAogICAgbGF3bmdyZWVuOiAweDdjZmMwMCwKICAgIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsCiAgICBsaWdodGJsdWU6IDB4YWRkOGU2LAogICAgbGlnaHRjb3JhbDogMHhmMDgwODAsCiAgICBsaWdodGN5YW46IDB4ZTBmZmZmLAogICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4ZmFmYWQyLAogICAgbGlnaHRncmF5OiAweGQzZDNkMywKICAgIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLAogICAgbGlnaHRncmV5OiAweGQzZDNkMywKICAgIGxpZ2h0cGluazogMHhmZmI2YzEsCiAgICBsaWdodHNhbG1vbjogMHhmZmEwN2EsCiAgICBsaWdodHNlYWdyZWVuOiAweDIwYjJhYSwKICAgIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsCiAgICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksCiAgICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksCiAgICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsCiAgICBsaWdodHllbGxvdzogMHhmZmZmZTAsCiAgICBsaW1lOiAweDAwZmYwMCwKICAgIGxpbWVncmVlbjogMHgzMmNkMzIsCiAgICBsaW5lbjogMHhmYWYwZTYsCiAgICBtYWdlbnRhOiAweGZmMDBmZiwKICAgIG1hcm9vbjogMHg4MDAwMDAsCiAgICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSwKICAgIG1lZGl1bWJsdWU6IDB4MDAwMGNkLAogICAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMywKICAgIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsCiAgICBtZWRpdW1zZWFncmVlbjogMHgzY2IzNzEsCiAgICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLAogICAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLAogICAgbWVkaXVtdHVycXVvaXNlOiAweDQ4ZDFjYywKICAgIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsCiAgICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLAogICAgbWludGNyZWFtOiAweGY1ZmZmYSwKICAgIG1pc3R5cm9zZTogMHhmZmU0ZTEsCiAgICBtb2NjYXNpbjogMHhmZmU0YjUsCiAgICBuYXZham93aGl0ZTogMHhmZmRlYWQsCiAgICBuYXZ5OiAweDAwMDA4MCwKICAgIG9sZGxhY2U6IDB4ZmRmNWU2LAogICAgb2xpdmU6IDB4ODA4MDAwLAogICAgb2xpdmVkcmFiOiAweDZiOGUyMywKICAgIG9yYW5nZTogMHhmZmE1MDAsCiAgICBvcmFuZ2VyZWQ6IDB4ZmY0NTAwLAogICAgb3JjaGlkOiAweGRhNzBkNiwKICAgIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLAogICAgcGFsZWdyZWVuOiAweDk4ZmI5OCwKICAgIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLAogICAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsCiAgICBwYXBheWF3aGlwOiAweGZmZWZkNSwKICAgIHBlYWNocHVmZjogMHhmZmRhYjksCiAgICBwZXJ1OiAweGNkODUzZiwKICAgIHBpbms6IDB4ZmZjMGNiLAogICAgcGx1bTogMHhkZGEwZGQsCiAgICBwb3dkZXJibHVlOiAweGIwZTBlNiwKICAgIHB1cnBsZTogMHg4MDAwODAsCiAgICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSwKICAgIHJlZDogMHhmZjAwMDAsCiAgICByb3N5YnJvd246IDB4YmM4ZjhmLAogICAgcm95YWxibHVlOiAweDQxNjllMSwKICAgIHNhZGRsZWJyb3duOiAweDhiNDUxMywKICAgIHNhbG1vbjogMHhmYTgwNzIsCiAgICBzYW5keWJyb3duOiAweGY0YTQ2MCwKICAgIHNlYWdyZWVuOiAweDJlOGI1NywKICAgIHNlYXNoZWxsOiAweGZmZjVlZSwKICAgIHNpZW5uYTogMHhhMDUyMmQsCiAgICBzaWx2ZXI6IDB4YzBjMGMwLAogICAgc2t5Ymx1ZTogMHg4N2NlZWIsCiAgICBzbGF0ZWJsdWU6IDB4NmE1YWNkLAogICAgc2xhdGVncmF5OiAweDcwODA5MCwKICAgIHNsYXRlZ3JleTogMHg3MDgwOTAsCiAgICBzbm93OiAweGZmZmFmYSwKICAgIHNwcmluZ2dyZWVuOiAweDAwZmY3ZiwKICAgIHN0ZWVsYmx1ZTogMHg0NjgyYjQsCiAgICB0YW46IDB4ZDJiNDhjLAogICAgdGVhbDogMHgwMDgwODAsCiAgICB0aGlzdGxlOiAweGQ4YmZkOCwKICAgIHRvbWF0bzogMHhmZjYzNDcsCiAgICB0dXJxdW9pc2U6IDB4NDBlMGQwLAogICAgdmlvbGV0OiAweGVlODJlZSwKICAgIHdoZWF0OiAweGY1ZGViMywKICAgIHdoaXRlOiAweGZmZmZmZiwKICAgIHdoaXRlc21va2U6IDB4ZjVmNWY1LAogICAgeWVsbG93OiAweGZmZmYwMCwKICAgIHllbGxvd2dyZWVuOiAweDlhY2QzMgogIH07CiAgZGVmaW5lKENvbG9yLCBjb2xvciwgewogICAgY29weShjaGFubmVscykgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLCB0aGlzLCBjaGFubmVscyk7CiAgICB9LAogICAgZGlzcGxheWFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJnYigpLmRpc3BsYXlhYmxlKCk7CiAgICB9LAogICAgaGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICAvLyBEZXByZWNhdGVkISBVc2UgY29sb3IuZm9ybWF0SGV4LgogICAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiBjb2xvcl9mb3JtYXRIZXg4LAogICAgZm9ybWF0SHNsOiBjb2xvcl9mb3JtYXRIc2wsCiAgICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiBjb2xvcl9mb3JtYXRSZ2IKICB9KTsKICBmdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRIZXgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkgewogICAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7CiAgfQogIGZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdFJnYigpOwogIH0KICBmdW5jdGlvbiBjb2xvcihmb3JtYXQpIHsKICAgIHZhciBtLCBsOwogICAgZm9ybWF0ID0gKGZvcm1hdCArICIiKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwCiAgICA6IGwgPT09IDMgPyBuZXcgUmdiKG0gPj4gOCAmIDB4ZiB8IG0gPj4gNCAmIDB4ZjAsIG0gPj4gNCAmIDB4ZiB8IG0gJiAweGYwLCAobSAmIDB4ZikgPDwgNCB8IG0gJiAweGYsIDEpIC8vICNmMDAKICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwCiAgICA6IGwgPT09IDQgPyByZ2JhKG0gPj4gMTIgJiAweGYgfCBtID4+IDggJiAweGYwLCBtID4+IDggJiAweGYgfCBtID4+IDQgJiAweGYwLCBtID4+IDQgJiAweGYgfCBtICYgMHhmMCwgKChtICYgMHhmKSA8PCA0IHwgbSAmIDB4ZikgLyAweGZmKSAvLyAjZjAwMAogICAgOiBudWxsIC8vIGludmFsaWQgaGV4CiAgICApIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMCkKICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSkKICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKQogICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSkKICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpCiAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpCiAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICA6IGZvcm1hdCA9PT0gInRyYW5zcGFyZW50IiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMCkgOiBudWxsOwogIH0KICBmdW5jdGlvbiByZ2JuKG4pIHsKICAgIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7CiAgfQogIGZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkgewogICAgaWYgKGEgPD0gMCkgciA9IGcgPSBiID0gTmFOOwogICAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7CiAgfQogIGZ1bmN0aW9uIHJnYkNvbnZlcnQobykgewogICAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pOwogICAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYigpOwogICAgbyA9IG8ucmdiKCk7CiAgICByZXR1cm4gbmV3IFJnYihvLnIsIG8uZywgby5iLCBvLm9wYWNpdHkpOwogIH0KICBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyByZ2JDb252ZXJ0KHIpIDogbmV3IFJnYihyLCBnLCBiLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7CiAgICB0aGlzLnIgPSArcjsKICAgIHRoaXMuZyA9ICtnOwogICAgdGhpcy5iID0gK2I7CiAgICB0aGlzLm9wYWNpdHkgPSArb3BhY2l0eTsKICB9CiAgZGVmaW5lKFJnYiwgcmdiLCBleHRlbmQoQ29sb3IsIHsKICAgIGJyaWdodGVyKGspIHsKICAgICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIHJnYigpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuIC0wLjUgPD0gdGhpcy5yICYmIHRoaXMuciA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5iICYmIHRoaXMuYiA8IDI1NS41ICYmIDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxOwogICAgfSwKICAgIGhleDogcmdiX2Zvcm1hdEhleCwKICAgIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguCiAgICBmb3JtYXRIZXg6IHJnYl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCwKICAgIGZvcm1hdFJnYjogcmdiX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiByZ2JfZm9ybWF0UmdiCiAgfSkpOwogIGZ1bmN0aW9uIHJnYl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gOwogIH0KICBmdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiBgIyR7aGV4KHRoaXMucil9JHtoZXgodGhpcy5nKX0ke2hleCh0aGlzLmIpfSR7aGV4KChpc05hTih0aGlzLm9wYWNpdHkpID8gMSA6IHRoaXMub3BhY2l0eSkgKiAyNTUpfWA7CiAgfQogIGZ1bmN0aW9uIHJnYl9mb3JtYXRSZ2IoKSB7CiAgICBjb25zdCBhID0gY2xhbXBhKHRoaXMub3BhY2l0eSk7CiAgICByZXR1cm4gYCR7YSA9PT0gMSA/ICJyZ2IoIiA6ICJyZ2JhKCJ9JHtjbGFtcGkodGhpcy5yKX0sICR7Y2xhbXBpKHRoaXMuZyl9LCAke2NsYW1waSh0aGlzLmIpfSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogIH0KICBmdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkgewogICAgcmV0dXJuIGlzTmFOKG9wYWNpdHkpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG9wYWNpdHkpKTsKICB9CiAgZnVuY3Rpb24gY2xhbXBpKHZhbHVlKSB7CiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHZhbHVlKSB8fCAwKSk7CiAgfQogIGZ1bmN0aW9uIGhleCh2YWx1ZSkgewogICAgdmFsdWUgPSBjbGFtcGkodmFsdWUpOwogICAgcmV0dXJuICh2YWx1ZSA8IDE2ID8gIjAiIDogIiIpICsgdmFsdWUudG9TdHJpbmcoMTYpOwogIH0KICBmdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHsKICAgIGlmIChhIDw9IDApIGggPSBzID0gbCA9IE5hTjtlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtlbHNlIGlmIChzIDw9IDApIGggPSBOYU47CiAgICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTsKICB9CiAgZnVuY3Rpb24gaHNsQ29udmVydChvKSB7CiAgICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTsKICAgIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTsKICAgIGlmICghbykgcmV0dXJuIG5ldyBIc2woKTsKICAgIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbzsKICAgIG8gPSBvLnJnYigpOwogICAgdmFyIHIgPSBvLnIgLyAyNTUsCiAgICAgIGcgPSBvLmcgLyAyNTUsCiAgICAgIGIgPSBvLmIgLyAyNTUsCiAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLAogICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwKICAgICAgaCA9IE5hTiwKICAgICAgcyA9IG1heCAtIG1pbiwKICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjsKICAgIGlmIChzKSB7CiAgICAgIGlmIChyID09PSBtYXgpIGggPSAoZyAtIGIpIC8gcyArIChnIDwgYikgKiA2O2Vsc2UgaWYgKGcgPT09IG1heCkgaCA9IChiIC0gcikgLyBzICsgMjtlbHNlIGggPSAociAtIGcpIC8gcyArIDQ7CiAgICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47CiAgICAgIGggKj0gNjA7CiAgICB9IGVsc2UgewogICAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDsKICAgIH0KICAgIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIG8ub3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIGhzbChoLCBzLCBsLCBvcGFjaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGhzbENvbnZlcnQoaCkgOiBuZXcgSHNsKGgsIHMsIGwsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTsKICB9CiAgZnVuY3Rpb24gSHNsKGgsIHMsIGwsIG9wYWNpdHkpIHsKICAgIHRoaXMuaCA9ICtoOwogICAgdGhpcy5zID0gK3M7CiAgICB0aGlzLmwgPSArbDsKICAgIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5OwogIH0KICBkZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwgewogICAgYnJpZ2h0ZXIoaykgewogICAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7CiAgICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTsKICAgIH0sCiAgICByZ2IoKSB7CiAgICAgIHZhciBoID0gdGhpcy5oICUgMzYwICsgKHRoaXMuaCA8IDApICogMzYwLAogICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucywKICAgICAgICBsID0gdGhpcy5sLAogICAgICAgIG0yID0gbCArIChsIDwgMC41ID8gbCA6IDEgLSBsKSAqIHMsCiAgICAgICAgbTEgPSAyICogbCAtIG0yOwogICAgICByZXR1cm4gbmV3IFJnYihoc2wycmdiKGggPj0gMjQwID8gaCAtIDI0MCA6IGggKyAxMjAsIG0xLCBtMiksIGhzbDJyZ2IoaCwgbTEsIG0yKSwgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksIHRoaXMub3BhY2l0eSk7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgSHNsKGNsYW1waCh0aGlzLmgpLCBjbGFtcHQodGhpcy5zKSwgY2xhbXB0KHRoaXMubCksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuICgwIDw9IHRoaXMucyAmJiB0aGlzLnMgPD0gMSB8fCBpc05hTih0aGlzLnMpKSAmJiAwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSAmJiAwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMTsKICAgIH0sCiAgICBmb3JtYXRIc2woKSB7CiAgICAgIGNvbnN0IGEgPSBjbGFtcGEodGhpcy5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGAke2EgPT09IDEgPyAiaHNsKCIgOiAiaHNsYSgifSR7Y2xhbXBoKHRoaXMuaCl9LCAke2NsYW1wdCh0aGlzLnMpICogMTAwfSUsICR7Y2xhbXB0KHRoaXMubCkgKiAxMDB9JSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogICAgfQogIH0pKTsKICBmdW5jdGlvbiBjbGFtcGgodmFsdWUpIHsKICAgIHZhbHVlID0gKHZhbHVlIHx8IDApICUgMzYwOwogICAgcmV0dXJuIHZhbHVlIDwgMCA/IHZhbHVlICsgMzYwIDogdmFsdWU7CiAgfQogIGZ1bmN0aW9uIGNsYW1wdCh2YWx1ZSkgewogICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTsKICB9CgogIC8qIEZyb20gRnZEIDEzLjM3LCBDU1MgQ29sb3IgTW9kdWxlIExldmVsIDMgKi8KICBmdW5jdGlvbiBoc2wycmdiKGgsIG0xLCBtMikgewogICAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MCA6IGggPCAxODAgPyBtMiA6IGggPCAyNDAgPyBtMSArIChtMiAtIG0xKSAqICgyNDAgLSBoKSAvIDYwIDogbTEpICogMjU1OwogIH0KCiAgdmFyIGNvbnN0YW50ID0geCA9PiAoKSA9PiB4OwoKICBmdW5jdGlvbiBsaW5lYXIoYSwgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBhICsgdCAqIGQ7CiAgICB9OwogIH0KICBmdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7CiAgICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZ2FtbWEoeSkgewogICAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBiIC0gYSA/IGV4cG9uZW50aWFsKGEsIGIsIHkpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHsKICAgIHZhciBkID0gYiAtIGE7CiAgICByZXR1cm4gZCA/IGxpbmVhcihhLCBkKSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpOwogIH0KCiAgdmFyIGludGVycG9sYXRlUmdiID0gKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHsKICAgIHZhciBjb2xvciA9IGdhbW1hKHkpOwogICAgZnVuY3Rpb24gcmdiJDEoc3RhcnQsIGVuZCkgewogICAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IHJnYihzdGFydCkpLnIsIChlbmQgPSByZ2IoZW5kKSkuciksCiAgICAgICAgZyA9IGNvbG9yKHN0YXJ0LmcsIGVuZC5nKSwKICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLAogICAgICAgIG9wYWNpdHkgPSBub2dhbW1hKHN0YXJ0Lm9wYWNpdHksIGVuZC5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgc3RhcnQuciA9IHIodCk7CiAgICAgICAgc3RhcnQuZyA9IGcodCk7CiAgICAgICAgc3RhcnQuYiA9IGIodCk7CiAgICAgICAgc3RhcnQub3BhY2l0eSA9IG9wYWNpdHkodCk7CiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgIiI7CiAgICAgIH07CiAgICB9CiAgICByZ2IkMS5nYW1tYSA9IHJnYkdhbW1hOwogICAgcmV0dXJuIHJnYiQxOwogIH0pKDEpOwoKICBmdW5jdGlvbiBpbnRlcnBvbGF0ZU51bWJlciAoYSwgYikgewogICAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDsKICAgIH07CiAgfQoKICB2YXIgcmVBID0gL1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLAogICAgcmVCID0gbmV3IFJlZ0V4cChyZUEuc291cmNlLCAiZyIpOwogIGZ1bmN0aW9uIHplcm8oYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBvbmUoYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBiKHQpICsgIiI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBpbnRlcnBvbGF0ZVN0cmluZyAoYSwgYikgewogICAgdmFyIGJpID0gcmVBLmxhc3RJbmRleCA9IHJlQi5sYXN0SW5kZXggPSAwLAogICAgICAvLyBzY2FuIGluZGV4IGZvciBuZXh0IG51bWJlciBpbiBiCiAgICAgIGFtLAogICAgICAvLyBjdXJyZW50IG1hdGNoIGluIGEKICAgICAgYm0sCiAgICAgIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYgogICAgICBicywKICAgICAgLy8gc3RyaW5nIHByZWNlZGluZyBjdXJyZW50IG51bWJlciBpbiBiLCBpZiBhbnkKICAgICAgaSA9IC0xLAogICAgICAvLyBpbmRleCBpbiBzCiAgICAgIHMgPSBbXSwKICAgICAgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzCiAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKCiAgICAvLyBDb2VyY2UgaW5wdXRzIHRvIHN0cmluZ3MuCiAgICBhID0gYSArICIiLCBiID0gYiArICIiOwoKICAgIC8vIEludGVycG9sYXRlIHBhaXJzIG9mIG51bWJlcnMgaW4gYSAmIGIuCiAgICB3aGlsZSAoKGFtID0gcmVBLmV4ZWMoYSkpICYmIChibSA9IHJlQi5leGVjKGIpKSkgewogICAgICBpZiAoKGJzID0gYm0uaW5kZXgpID4gYmkpIHsKICAgICAgICAvLyBhIHN0cmluZyBwcmVjZWRlcyB0aGUgbmV4dCBudW1iZXIgaW4gYgogICAgICAgIGJzID0gYi5zbGljZShiaSwgYnMpOwogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICAgIH0KICAgICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7CiAgICAgICAgLy8gbnVtYmVycyBpbiBhICYgYiBtYXRjaAogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYm07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaW50ZXJwb2xhdGUgbm9uLW1hdGNoaW5nIG51bWJlcnMKICAgICAgICBzWysraV0gPSBudWxsOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoYW0sIGJtKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGJpID0gcmVCLmxhc3RJbmRleDsKICAgIH0KCiAgICAvLyBBZGQgcmVtYWlucyBvZiBiLgogICAgaWYgKGJpIDwgYi5sZW5ndGgpIHsKICAgICAgYnMgPSBiLnNsaWNlKGJpKTsKICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nCiAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICB9CgogICAgLy8gU3BlY2lhbCBvcHRpbWl6YXRpb24gZm9yIG9ubHkgYSBzaW5nbGUgbWF0Y2guCiAgICAvLyBPdGhlcndpc2UsIGludGVycG9sYXRlIGVhY2ggb2YgdGhlIG51bWJlcnMgYW5kIHJlam9pbiB0aGUgc3RyaW5nLgogICAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IHFbMF0gPyBvbmUocVswXS54KSA6IHplcm8oYikgOiAoYiA9IHEubGVuZ3RoLCBmdW5jdGlvbiAodCkgewogICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICByZXR1cm4gcy5qb2luKCIiKTsKICAgIH0pOwogIH0KCiAgdmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJOwogIHZhciBpZGVudGl0eSA9IHsKICAgIHRyYW5zbGF0ZVg6IDAsCiAgICB0cmFuc2xhdGVZOiAwLAogICAgcm90YXRlOiAwLAogICAgc2tld1g6IDAsCiAgICBzY2FsZVg6IDEsCiAgICBzY2FsZVk6IDEKICB9OwogIGZ1bmN0aW9uIGRlY29tcG9zZSAoYSwgYiwgYywgZCwgZSwgZikgewogICAgdmFyIHNjYWxlWCwgc2NhbGVZLCBza2V3WDsKICAgIGlmIChzY2FsZVggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYikpIGEgLz0gc2NhbGVYLCBiIC89IHNjYWxlWDsKICAgIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDsKICAgIGlmIChzY2FsZVkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCkpIGMgLz0gc2NhbGVZLCBkIC89IHNjYWxlWSwgc2tld1ggLz0gc2NhbGVZOwogICAgaWYgKGEgKiBkIDwgYiAqIGMpIGEgPSAtYSwgYiA9IC1iLCBza2V3WCA9IC1za2V3WCwgc2NhbGVYID0gLXNjYWxlWDsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zbGF0ZVg6IGUsCiAgICAgIHRyYW5zbGF0ZVk6IGYsCiAgICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsCiAgICAgIHNrZXdYOiBNYXRoLmF0YW4oc2tld1gpICogZGVncmVlcywKICAgICAgc2NhbGVYOiBzY2FsZVgsCiAgICAgIHNjYWxlWTogc2NhbGVZCiAgICB9OwogIH0KCiAgdmFyIHN2Z05vZGU7CgogIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovCiAgZnVuY3Rpb24gcGFyc2VDc3ModmFsdWUpIHsKICAgIGNvbnN0IG0gPSBuZXcgKHR5cGVvZiBET01NYXRyaXggPT09ICJmdW5jdGlvbiIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgIiIpOwogICAgcmV0dXJuIG0uaXNJZGVudGl0eSA/IGlkZW50aXR5IDogZGVjb21wb3NlKG0uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmYpOwogIH0KICBmdW5jdGlvbiBwYXJzZVN2Zyh2YWx1ZSkgewogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTsKICAgIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAiZyIpOwogICAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIHZhbHVlKTsKICAgIGlmICghKHZhbHVlID0gc3ZnTm9kZS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpKSkgcmV0dXJuIGlkZW50aXR5OwogICAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7CiAgICByZXR1cm4gZGVjb21wb3NlKHZhbHVlLmEsIHZhbHVlLmIsIHZhbHVlLmMsIHZhbHVlLmQsIHZhbHVlLmUsIHZhbHVlLmYpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2UsIHB4Q29tbWEsIHB4UGFyZW4sIGRlZ1BhcmVuKSB7CiAgICBmdW5jdGlvbiBwb3AocykgewogICAgICByZXR1cm4gcy5sZW5ndGggPyBzLnBvcCgpICsgIiAiIDogIiI7CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHsKICAgICAgaWYgKHhhICE9PSB4YiB8fCB5YSAhPT0geWIpIHsKICAgICAgICB2YXIgaSA9IHMucHVzaCgidHJhbnNsYXRlKCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpIC0gNCwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHhhLCB4YikKICAgICAgICB9LCB7CiAgICAgICAgICBpOiBpIC0gMiwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHlhLCB5YikKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh4YiB8fCB5YikgewogICAgICAgIHMucHVzaCgidHJhbnNsYXRlKCIgKyB4YiArIHB4Q29tbWEgKyB5YiArIHB4UGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIGlmIChhIC0gYiA+IDE4MCkgYiArPSAzNjA7ZWxzZSBpZiAoYiAtIGEgPiAxODApIGEgKz0gMzYwOyAvLyBzaG9ydGVzdCBwYXRoCiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IHMucHVzaChwb3AocykgKyAicm90YXRlKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInJvdGF0ZSgiICsgYiArIGRlZ1BhcmVuKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIgKyBiICsgZGVnUGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkgewogICAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5YikgewogICAgICAgIHZhciBpID0gcy5wdXNoKHBvcChzKSArICJzY2FsZSgiLCBudWxsLCAiLCIsIG51bGwsICIpIik7CiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IGkgLSA0LAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeGEsIHhiKQogICAgICAgIH0sIHsKICAgICAgICAgIGk6IGkgLSAyLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeWEsIHliKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHhiICE9PSAxIHx8IHliICE9PSAxKSB7CiAgICAgICAgcy5wdXNoKHBvcChzKSArICJzY2FsZSgiICsgeGIgKyAiLCIgKyB5YiArICIpIik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICB2YXIgcyA9IFtdLAogICAgICAgIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVycwogICAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKICAgICAgYSA9IHBhcnNlKGEpLCBiID0gcGFyc2UoYik7CiAgICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpOwogICAgICByb3RhdGUoYS5yb3RhdGUsIGIucm90YXRlLCBzLCBxKTsKICAgICAgc2tld1goYS5za2V3WCwgYi5za2V3WCwgcywgcSk7CiAgICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTsKICAgICAgYSA9IGIgPSBudWxsOyAvLyBnYwogICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgaSA9IC0xLAogICAgICAgICAgbiA9IHEubGVuZ3RoLAogICAgICAgICAgbzsKICAgICAgICB3aGlsZSAoKytpIDwgbikgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICAgIHJldHVybiBzLmpvaW4oIiIpOwogICAgICB9OwogICAgfTsKICB9CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtQ3NzID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VDc3MsICJweCwgIiwgInB4KSIsICJkZWcpIik7CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtU3ZnID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VTdmcsICIsICIsICIpIiwgIikiKTsKCiAgdmFyIGZyYW1lID0gMCwKICAgIC8vIGlzIGFuIGFuaW1hdGlvbiBmcmFtZSBwZW5kaW5nPwogICAgdGltZW91dCQxID0gMCwKICAgIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nPwogICAgaW50ZXJ2YWwgPSAwLAogICAgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlPwogICAgcG9rZURlbGF5ID0gMTAwMCwKICAgIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3CiAgICB0YXNrSGVhZCwKICAgIHRhc2tUYWlsLAogICAgY2xvY2tMYXN0ID0gMCwKICAgIGNsb2NrTm93ID0gMCwKICAgIGNsb2NrU2tldyA9IDAsCiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gIm9iamVjdCIgJiYgcGVyZm9ybWFuY2Uubm93ID8gcGVyZm9ybWFuY2UgOiBEYXRlLAogICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSAib2JqZWN0IiAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykgOiBmdW5jdGlvbiAoZikgewogICAgICBzZXRUaW1lb3V0KGYsIDE3KTsKICAgIH07CiAgZnVuY3Rpb24gbm93KCkgewogICAgcmV0dXJuIGNsb2NrTm93IHx8IChzZXRGcmFtZShjbGVhck5vdyksIGNsb2NrTm93ID0gY2xvY2subm93KCkgKyBjbG9ja1NrZXcpOwogIH0KICBmdW5jdGlvbiBjbGVhck5vdygpIHsKICAgIGNsb2NrTm93ID0gMDsKICB9CiAgZnVuY3Rpb24gVGltZXIoKSB7CiAgICB0aGlzLl9jYWxsID0gdGhpcy5fdGltZSA9IHRoaXMuX25leHQgPSBudWxsOwogIH0KICBUaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogVGltZXIsCiAgICByZXN0YXJ0OiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7CiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgIHRpbWUgPSAodGltZSA9PSBudWxsID8gbm93KCkgOiArdGltZSkgKyAoZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXkpOwogICAgICBpZiAoIXRoaXMuX25leHQgJiYgdGFza1RhaWwgIT09IHRoaXMpIHsKICAgICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztlbHNlIHRhc2tIZWFkID0gdGhpczsKICAgICAgICB0YXNrVGFpbCA9IHRoaXM7CiAgICAgIH0KICAgICAgdGhpcy5fY2FsbCA9IGNhbGxiYWNrOwogICAgICB0aGlzLl90aW1lID0gdGltZTsKICAgICAgc2xlZXAoKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9jYWxsKSB7CiAgICAgICAgdGhpcy5fY2FsbCA9IG51bGw7CiAgICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5OwogICAgICAgIHNsZWVwKCk7CiAgICAgIH0KICAgIH0KICB9OwogIGZ1bmN0aW9uIHRpbWVyKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQogIGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7CiAgICBub3coKTsgLy8gR2V0IHRoZSBjdXJyZW50IHRpbWUsIGlmIG5vdCBhbHJlYWR5IHNldC4KICAgICsrZnJhbWU7IC8vIFByZXRlbmQgd2XigJl2ZSBzZXQgYW4gYWxhcm0sIGlmIHdlIGhhdmVu4oCZdCBhbHJlYWR5LgogICAgdmFyIHQgPSB0YXNrSGVhZCwKICAgICAgZTsKICAgIHdoaWxlICh0KSB7CiAgICAgIGlmICgoZSA9IGNsb2NrTm93IC0gdC5fdGltZSkgPj0gMCkgdC5fY2FsbC5jYWxsKHVuZGVmaW5lZCwgZSk7CiAgICAgIHQgPSB0Ll9uZXh0OwogICAgfQogICAgLS1mcmFtZTsKICB9CiAgZnVuY3Rpb24gd2FrZSgpIHsKICAgIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldzsKICAgIGZyYW1lID0gdGltZW91dCQxID0gMDsKICAgIHRyeSB7CiAgICAgIHRpbWVyRmx1c2goKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGZyYW1lID0gMDsKICAgICAgbmFwKCk7CiAgICAgIGNsb2NrTm93ID0gMDsKICAgIH0KICB9CiAgZnVuY3Rpb24gcG9rZSgpIHsKICAgIHZhciBub3cgPSBjbG9jay5ub3coKSwKICAgICAgZGVsYXkgPSBub3cgLSBjbG9ja0xhc3Q7CiAgICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93OwogIH0KICBmdW5jdGlvbiBuYXAoKSB7CiAgICB2YXIgdDAsCiAgICAgIHQxID0gdGFza0hlYWQsCiAgICAgIHQyLAogICAgICB0aW1lID0gSW5maW5pdHk7CiAgICB3aGlsZSAodDEpIHsKICAgICAgaWYgKHQxLl9jYWxsKSB7CiAgICAgICAgaWYgKHRpbWUgPiB0MS5fdGltZSkgdGltZSA9IHQxLl90aW1lOwogICAgICAgIHQwID0gdDEsIHQxID0gdDEuX25leHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdDIgPSB0MS5fbmV4dCwgdDEuX25leHQgPSBudWxsOwogICAgICAgIHQxID0gdDAgPyB0MC5fbmV4dCA9IHQyIDogdGFza0hlYWQgPSB0MjsKICAgICAgfQogICAgfQogICAgdGFza1RhaWwgPSB0MDsKICAgIHNsZWVwKHRpbWUpOwogIH0KICBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7CiAgICBpZiAoZnJhbWUpIHJldHVybjsgLy8gU29vbmVzdCBhbGFybSBhbHJlYWR5IHNldCwgb3Igd2lsbCBiZS4KICAgIGlmICh0aW1lb3V0JDEpIHRpbWVvdXQkMSA9IGNsZWFyVGltZW91dCh0aW1lb3V0JDEpOwogICAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy4KICAgIGlmIChkZWxheSA+IDI0KSB7CiAgICAgIGlmICh0aW1lIDwgSW5maW5pdHkpIHRpbWVvdXQkMSA9IHNldFRpbWVvdXQod2FrZSwgdGltZSAtIGNsb2NrLm5vdygpIC0gY2xvY2tTa2V3KTsKICAgICAgaWYgKGludGVydmFsKSBpbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCFpbnRlcnZhbCkgY2xvY2tMYXN0ID0gY2xvY2subm93KCksIGludGVydmFsID0gc2V0SW50ZXJ2YWwocG9rZSwgcG9rZURlbGF5KTsKICAgICAgZnJhbWUgPSAxLCBzZXRGcmFtZSh3YWtlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRpbWVvdXQgKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIGRlbGF5ID0gZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXk7CiAgICB0LnJlc3RhcnQoZWxhcHNlZCA9PiB7CiAgICAgIHQuc3RvcCgpOwogICAgICBjYWxsYmFjayhlbGFwc2VkICsgZGVsYXkpOwogICAgfSwgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQoKICB2YXIgZW1wdHlPbiA9IGRpc3BhdGNoKCJzdGFydCIsICJlbmQiLCAiY2FuY2VsIiwgImludGVycnVwdCIpOwogIHZhciBlbXB0eVR3ZWVuID0gW107CiAgdmFyIENSRUFURUQgPSAwOwogIHZhciBTQ0hFRFVMRUQgPSAxOwogIHZhciBTVEFSVElORyA9IDI7CiAgdmFyIFNUQVJURUQgPSAzOwogIHZhciBSVU5OSU5HID0gNDsKICB2YXIgRU5ESU5HID0gNTsKICB2YXIgRU5ERUQgPSA2OwogIGZ1bmN0aW9uIHNjaGVkdWxlIChub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHsKICAgIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGVzKSBub2RlLl9fdHJhbnNpdGlvbiA9IHt9O2Vsc2UgaWYgKGlkIGluIHNjaGVkdWxlcykgcmV0dXJuOwogICAgY3JlYXRlKG5vZGUsIGlkLCB7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLgogICAgICBncm91cDogZ3JvdXAsCiAgICAgIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay4KICAgICAgb246IGVtcHR5T24sCiAgICAgIHR3ZWVuOiBlbXB0eVR3ZWVuLAogICAgICB0aW1lOiB0aW1pbmcudGltZSwKICAgICAgZGVsYXk6IHRpbWluZy5kZWxheSwKICAgICAgZHVyYXRpb246IHRpbWluZy5kdXJhdGlvbiwKICAgICAgZWFzZTogdGltaW5nLmVhc2UsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBzdGF0ZTogQ1JFQVRFRAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGluaXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHNjaGVkdWxlZCIpOwogICAgcmV0dXJuIHNjaGVkdWxlOwogIH0KICBmdW5jdGlvbiBzZXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHJ1bm5pbmciKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gZ2V0KG5vZGUsIGlkKSB7CiAgICB2YXIgc2NoZWR1bGUgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcigidHJhbnNpdGlvbiBub3QgZm91bmQiKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGlkLCBzZWxmKSB7CiAgICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sCiAgICAgIHR3ZWVuOwoKICAgIC8vIEluaXRpYWxpemUgdGhlIHNlbGYgdGltZXIgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLgogICAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shCiAgICBzY2hlZHVsZXNbaWRdID0gc2VsZjsKICAgIHNlbGYudGltZXIgPSB0aW1lcihzY2hlZHVsZSwgMCwgc2VsZi50aW1lKTsKICAgIGZ1bmN0aW9uIHNjaGVkdWxlKGVsYXBzZWQpIHsKICAgICAgc2VsZi5zdGF0ZSA9IFNDSEVEVUxFRDsKICAgICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpOwoKICAgICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuCiAgICAgIGlmIChzZWxmLmRlbGF5IDw9IGVsYXBzZWQpIHN0YXJ0KGVsYXBzZWQgLSBzZWxmLmRlbGF5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHN0YXJ0KGVsYXBzZWQpIHsKICAgICAgdmFyIGksIGosIG4sIG87CgogICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90IFNDSEVEVUxFRCwgdGhlbiB3ZSBwcmV2aW91c2x5IGVycm9yZWQgb24gc3RhcnQuCiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7CiAgICAgIGZvciAoaSBpbiBzY2hlZHVsZXMpIHsKICAgICAgICBvID0gc2NoZWR1bGVzW2ldOwogICAgICAgIGlmIChvLm5hbWUgIT09IHNlbGYubmFtZSkgY29udGludWU7CgogICAgICAgIC8vIFdoaWxlIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHN0YXJ0aW5nIHRyYW5zaXRpb24gZHVyaW5nIHRoaXMgZnJhbWUsCiAgICAgICAgLy8gZGVmZXIgc3RhcnRpbmcgYW4gaW50ZXJydXB0aW5nIHRyYW5zaXRpb24gdW50aWwgdGhhdCB0cmFuc2l0aW9uIGhhcyBhCiAgICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCEKICAgICAgICBpZiAoby5zdGF0ZSA9PT0gU1RBUlRFRCkgcmV0dXJuIHRpbWVvdXQoc3RhcnQpOwoKICAgICAgICAvLyBJbnRlcnJ1cHQgdGhlIGFjdGl2ZSB0cmFuc2l0aW9uLCBpZiBhbnkuCiAgICAgICAgaWYgKG8uc3RhdGUgPT09IFJVTk5JTkcpIHsKICAgICAgICAgIG8uc3RhdGUgPSBFTkRFRDsKICAgICAgICAgIG8udGltZXIuc3RvcCgpOwogICAgICAgICAgby5vbi5jYWxsKCJpbnRlcnJ1cHQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTsKICAgICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBDYW5jZWwgYW55IHByZS1lbXB0ZWQgdHJhbnNpdGlvbnMuCiAgICAgICAgZWxzZSBpZiAoK2kgPCBpZCkgewogICAgICAgICAgby5zdGF0ZSA9IEVOREVEOwogICAgICAgICAgby50aW1lci5zdG9wKCk7CiAgICAgICAgICBvLm9uLmNhbGwoImNhbmNlbCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApOwogICAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIERlZmVyIHRoZSBmaXJzdCB0aWNrIHRvIGVuZCBvZiB0aGUgY3VycmVudCBmcmFtZTsgc2VlIGQzL2QzIzE1NzYuCiAgICAgIC8vIE5vdGUgdGhlIHRyYW5zaXRpb24gbWF5IGJlIGNhbmNlbGVkIGFmdGVyIHN0YXJ0IGFuZCBiZWZvcmUgdGhlIGZpcnN0IHRpY2shCiAgICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiEKICAgICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBzdWNjZXNzZnVsLCBzdWJzZXF1ZW50IGNhbGxiYWNrcyBnbyBzdHJhaWdodCB0byB0aWNrLgogICAgICB0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gU1RBUlRFRCkgewogICAgICAgICAgc2VsZi5zdGF0ZSA9IFJVTk5JTkc7CiAgICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTsKICAgICAgICAgIHRpY2soZWxhcHNlZCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC4KICAgICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIHR3ZWVuIGFyZSBpbml0aWFsaXplZC4KICAgICAgc2VsZi5zdGF0ZSA9IFNUQVJUSU5HOwogICAgICBzZWxmLm9uLmNhbGwoInN0YXJ0Iiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7CiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTVEFSVElORykgcmV0dXJuOyAvLyBpbnRlcnJ1cHRlZAogICAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDsKCiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLgogICAgICB0d2VlbiA9IG5ldyBBcnJheShuID0gc2VsZi50d2Vlbi5sZW5ndGgpOwogICAgICBmb3IgKGkgPSAwLCBqID0gLTE7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkgewogICAgICAgICAgdHdlZW5bKytqXSA9IG87CiAgICAgICAgfQogICAgICB9CiAgICAgIHR3ZWVuLmxlbmd0aCA9IGogKyAxOwogICAgfQogICAgZnVuY3Rpb24gdGljayhlbGFwc2VkKSB7CiAgICAgIHZhciB0ID0gZWxhcHNlZCA8IHNlbGYuZHVyYXRpb24gPyBzZWxmLmVhc2UuY2FsbChudWxsLCBlbGFwc2VkIC8gc2VsZi5kdXJhdGlvbikgOiAoc2VsZi50aW1lci5yZXN0YXJ0KHN0b3ApLCBzZWxmLnN0YXRlID0gRU5ESU5HLCAxKSwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDsKICAgICAgd2hpbGUgKCsraSA8IG4pIHsKICAgICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpOwogICAgICB9CgogICAgICAvLyBEaXNwYXRjaCB0aGUgZW5kIGV2ZW50LgogICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gRU5ESU5HKSB7CiAgICAgICAgc2VsZi5vbi5jYWxsKCJlbmQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTsKICAgICAgICBzdG9wKCk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHNlbGYuc3RhdGUgPSBFTkRFRDsKICAgICAgc2VsZi50aW1lci5zdG9wKCk7CiAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdOwogICAgICBmb3IgKHZhciBpIGluIHNjaGVkdWxlcykgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGludGVycnVwdCAobm9kZSwgbmFtZSkgewogICAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLAogICAgICBzY2hlZHVsZSwKICAgICAgYWN0aXZlLAogICAgICBlbXB0eSA9IHRydWUsCiAgICAgIGk7CiAgICBpZiAoIXNjaGVkdWxlcykgcmV0dXJuOwogICAgbmFtZSA9IG5hbWUgPT0gbnVsbCA/IG51bGwgOiBuYW1lICsgIiI7CiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7CiAgICAgIGlmICgoc2NoZWR1bGUgPSBzY2hlZHVsZXNbaV0pLm5hbWUgIT09IG5hbWUpIHsKICAgICAgICBlbXB0eSA9IGZhbHNlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIGFjdGl2ZSA9IHNjaGVkdWxlLnN0YXRlID4gU1RBUlRJTkcgJiYgc2NoZWR1bGUuc3RhdGUgPCBFTkRJTkc7CiAgICAgIHNjaGVkdWxlLnN0YXRlID0gRU5ERUQ7CiAgICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTsKICAgICAgc2NoZWR1bGUub24uY2FsbChhY3RpdmUgPyAiaW50ZXJydXB0IiA6ICJjYW5jZWwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApOwogICAgICBkZWxldGUgc2NoZWR1bGVzW2ldOwogICAgfQogICAgaWYgKGVtcHR5KSBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25faW50ZXJydXB0IChuYW1lKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0d2VlblJlbW92ZShpZCwgbmFtZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuOwoKICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkgewogICAgICAgIHR3ZWVuMSA9IHR3ZWVuMCA9IHR3ZWVuOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkgewogICAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgICAgIHR3ZWVuMSA9IHR3ZWVuMS5zbGljZSgpOwogICAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0d2VlbkZ1bmN0aW9uKGlkLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIQogICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuCiAgICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7CiAgICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpOwogICAgICAgIGZvciAodmFyIHQgPSB7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgfSwgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgICAgdHdlZW4xW2ldID0gdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChpID09PSBuKSB0d2VlbjEucHVzaCh0KTsKICAgICAgfQogICAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fdHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0aGlzLl9pZDsKICAgIG5hbWUgKz0gIiI7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsKICAgICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47CiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4ubGVuZ3RoLCB0OyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKCh0ID0gdHdlZW5baV0pLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgIHJldHVybiB0LnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpOwogIH0KICBmdW5jdGlvbiB0d2VlblZhbHVlKHRyYW5zaXRpb24sIG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDsKICAgIHRyYW5zaXRpb24uZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCk7CiAgICAgIChzY2hlZHVsZS52YWx1ZSB8fCAoc2NoZWR1bGUudmFsdWUgPSB7fSkpW25hbWVdID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBnZXQobm9kZSwgaWQpLnZhbHVlW25hbWVdOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGludGVycG9sYXRlIChhLCBiKSB7CiAgICB2YXIgYzsKICAgIHJldHVybiAodHlwZW9mIGIgPT09ICJudW1iZXIiID8gaW50ZXJwb2xhdGVOdW1iZXIgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYiA6IChjID0gY29sb3IoYikpID8gKGIgPSBjLCBpbnRlcnBvbGF0ZVJnYikgOiBpbnRlcnBvbGF0ZVN0cmluZykoYSwgYik7CiAgfQoKICBmdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHsKICAgIHZhciBzdHJpbmcwMCwKICAgICAgc3RyaW5nMSA9IHZhbHVlMSArICIiLAogICAgICBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7CiAgICB2YXIgc3RyaW5nMDAsIHN0cmluZzEwLCBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCwKICAgICAgICB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwKICAgICAgICBzdHJpbmcxOwogICAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAsCiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksCiAgICAgICAgc3RyaW5nMTsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyIChuYW1lLCB2YWx1ZSkgewogICAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLAogICAgICBpID0gZnVsbG5hbWUgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB0aGlzLmF0dHJUd2VlbihuYW1lLCB0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbikoZnVsbG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgImF0dHIuIiArIG5hbWUsIHZhbHVlKSkgOiB2YWx1ZSA9PSBudWxsID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0clJlbW92ZU5TIDogYXR0clJlbW92ZSkoZnVsbG5hbWUpIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKGZ1bGxuYW1lLCBpLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlKG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBpLmNhbGwodGhpcywgdCkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlTlMoZnVsbG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgaS5jYWxsKHRoaXMsIHQpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgdmFyIHQwLCBpMDsKICAgIGZ1bmN0aW9uIHR3ZWVuKCkgewogICAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSk7CiAgICAgIHJldHVybiB0MDsKICAgIH0KICAgIHR3ZWVuLl92YWx1ZSA9IHZhbHVlOwogICAgcmV0dXJuIHR3ZWVuOwogIH0KICBmdW5jdGlvbiBhdHRyVHdlZW4obmFtZSwgdmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyVHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIga2V5ID0gImF0dHIuIiArIG5hbWU7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlOwogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVsYXlGdW5jdGlvbihpZCwgdmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2RlbGF5ICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZGVsYXlGdW5jdGlvbiA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZGVsYXk7CiAgfQoKICBmdW5jdGlvbiBkdXJhdGlvbkZ1bmN0aW9uKGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgc2V0KHRoaXMsIGlkKS5kdXJhdGlvbiA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2R1cmF0aW9uICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZHVyYXRpb25GdW5jdGlvbiA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZHVyYXRpb247CiAgfQoKICBmdW5jdGlvbiBlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9lYXNlICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaChlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSkgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5lYXNlOwogIH0KCiAgZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh0eXBlb2YgdiAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nICh2YWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy5lYWNoKGVhc2VWYXJ5aW5nKHRoaXMuX2lkLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9maWx0ZXIgKG1hdGNoKSB7CiAgICBpZiAodHlwZW9mIG1hdGNoICE9PSAiZnVuY3Rpb24iKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHsKICAgICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2l0aW9uX21lcmdlICh0cmFuc2l0aW9uKSB7CiAgICBpZiAodHJhbnNpdGlvbi5faWQgIT09IHRoaXMuX2lkKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIGZvciAodmFyIGdyb3VwczAgPSB0aGlzLl9ncm91cHMsIGdyb3VwczEgPSB0cmFuc2l0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTsKICB9CgogIGZ1bmN0aW9uIHN0YXJ0KG5hbWUpIHsKICAgIHJldHVybiAobmFtZSArICIiKS50cmltKCkuc3BsaXQoL158XHMrLykuZXZlcnkoZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgdCA9IHQuc2xpY2UoMCwgaSk7CiAgICAgIHJldHVybiAhdCB8fCB0ID09PSAic3RhcnQiOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIHNpdCA9IHN0YXJ0KG5hbWUpID8gaW5pdCA6IHNldDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNpdCh0aGlzLCBpZCksCiAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAob24gIT09IG9uMCkgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihuYW1lLCBsaXN0ZW5lcik7CiAgICAgIHNjaGVkdWxlLm9uID0gb24xOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9vbiAobmFtZSwgbGlzdGVuZXIpIHsKICAgIHZhciBpZCA9IHRoaXMuX2lkOwogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSkgOiB0aGlzLmVhY2gob25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9uKGlkKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47CiAgICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fcmVtb3ZlICgpIHsKICAgIHJldHVybiB0aGlzLm9uKCJlbmQucmVtb3ZlIiwgcmVtb3ZlRnVuY3Rpb24odGhpcy5faWQpKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0QWxsIChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHsKICAgICAgICAgICAgaWYgKGNoaWxkID0gY2hpbGRyZW5ba10pIHsKICAgICAgICAgICAgICBzY2hlZHVsZShjaGlsZCwgbmFtZSwgaWQsIGssIGNoaWxkcmVuLCBpbmhlcml0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goY2hpbGRyZW4pOwogICAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpOwogIH0KCiAgdmFyIFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I7CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zZWxlY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHN0eWxlTnVsbChuYW1lLCBpbnRlcnBvbGF0ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHN0cmluZzEgPSAodGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKSwgc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCBzdHJpbmcxMCA9IHN0cmluZzEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHZhbHVlMSA9IHZhbHVlKHRoaXMpLAogICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSBzdHJpbmcxID0gdmFsdWUxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlVmFsdWUodGhpcywgbmFtZSkpOwogICAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGwgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMCA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIGxpc3RlbmVyMCwKICAgICAga2V5ID0gInN0eWxlLiIgKyBuYW1lLAogICAgICBldmVudCA9ICJlbmQuIiArIGtleSwKICAgICAgcmVtb3ZlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICBvbiA9IHNjaGVkdWxlLm9uLAogICAgICAgIGxpc3RlbmVyID0gc2NoZWR1bGUudmFsdWVba2V5XSA9PSBudWxsID8gcmVtb3ZlIHx8IChyZW1vdmUgPSBzdHlsZVJlbW92ZShuYW1lKSkgOiB1bmRlZmluZWQ7CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSwKICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS4KICAgICAgaWYgKG9uICE9PSBvbjAgfHwgbGlzdGVuZXIwICE9PSBsaXN0ZW5lcikgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihldmVudCwgbGlzdGVuZXIwID0gbGlzdGVuZXIpOwogICAgICBzY2hlZHVsZS5vbiA9IG9uMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc3R5bGUgKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkgewogICAgdmFyIGkgPSAobmFtZSArPSAiIikgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgc3R5bGVSZW1vdmUobmFtZSkpIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlRnVuY3Rpb24obmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCAic3R5bGUuIiArIG5hbWUsIHZhbHVlKSkpLmVhY2goc3R5bGVNYXliZVJlbW92ZSh0aGlzLl9pZCwgbmFtZSkpIDogdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgbnVsbCk7CiAgfQoKICBmdW5jdGlvbiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBpLmNhbGwodGhpcywgdCksIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICB2YXIgdCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQgPSAoaTAgPSBpKSAmJiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KTsKICAgICAgcmV0dXJuIHQ7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zdHlsZVR3ZWVuIChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHsKICAgIHZhciBrZXkgPSAic3R5bGUuIiArIChuYW1lICs9ICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7CiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBFcnJvcigpOwogICAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBzdHlsZVR3ZWVuKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gIiIgOiBwcmlvcml0eSkpOwogIH0KCiAgZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0RnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWx1ZTEgPSB2YWx1ZSh0aGlzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gIiIgOiB2YWx1ZTE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX3RleHQgKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpcy50d2VlbigidGV4dCIsIHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsICJ0ZXh0IiwgdmFsdWUpKSA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gIiIgOiB2YWx1ZSArICIiKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGUoaSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBpLmNhbGwodGhpcywgdCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgdGV4dEludGVycG9sYXRlKGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90ZXh0VHdlZW4gKHZhbHVlKSB7CiAgICB2YXIga2V5ID0gInRleHQiOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTsKICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90cmFuc2l0aW9uICgpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQwID0gdGhpcy5faWQsCiAgICAgIGlkMSA9IG5ld0lkKCk7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApOwogICAgICAgICAgc2NoZWR1bGUobm9kZSwgbmFtZSwgaWQxLCBpLCBncm91cCwgewogICAgICAgICAgICB0aW1lOiBpbmhlcml0LnRpbWUgKyBpbmhlcml0LmRlbGF5ICsgaW5oZXJpdC5kdXJhdGlvbiwKICAgICAgICAgICAgZGVsYXk6IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiBpbmhlcml0LmR1cmF0aW9uLAogICAgICAgICAgICBlYXNlOiBpbmhlcml0LmVhc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQxKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fZW5kICgpIHsKICAgIHZhciBvbjAsCiAgICAgIG9uMSwKICAgICAgdGhhdCA9IHRoaXMsCiAgICAgIGlkID0gdGhhdC5faWQsCiAgICAgIHNpemUgPSB0aGF0LnNpemUoKTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBjYW5jZWwgPSB7CiAgICAgICAgICB2YWx1ZTogcmVqZWN0CiAgICAgICAgfSwKICAgICAgICBlbmQgPSB7CiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoLS1zaXplID09PSAwKSByZXNvbHZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgdGhhdC5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICAgIGlmIChvbiAhPT0gb24wKSB7CiAgICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTsKICAgICAgICAgIG9uMS5fLmNhbmNlbC5wdXNoKGNhbmNlbCk7CiAgICAgICAgICBvbjEuXy5pbnRlcnJ1cHQucHVzaChjYW5jZWwpOwogICAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTsKICAgICAgICB9CiAgICAgICAgc2NoZWR1bGUub24gPSBvbjE7CiAgICAgIH0pOwoKICAgICAgLy8gVGhlIHNlbGVjdGlvbiB3YXMgZW1wdHksIHJlc29sdmUgZW5kIGltbWVkaWF0ZWx5CiAgICAgIGlmIChzaXplID09PSAwKSByZXNvbHZlKCk7CiAgICB9KTsKICB9CgogIHZhciBpZCA9IDA7CiAgZnVuY3Rpb24gVHJhbnNpdGlvbihncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKSB7CiAgICB0aGlzLl9ncm91cHMgPSBncm91cHM7CiAgICB0aGlzLl9wYXJlbnRzID0gcGFyZW50czsKICAgIHRoaXMuX25hbWUgPSBuYW1lOwogICAgdGhpcy5faWQgPSBpZDsKICB9CiAgZnVuY3Rpb24gbmV3SWQoKSB7CiAgICByZXR1cm4gKytpZDsKICB9CiAgdmFyIHNlbGVjdGlvbl9wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlOwogIFRyYW5zaXRpb24ucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IFRyYW5zaXRpb24sCiAgICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LAogICAgc2VsZWN0QWxsOiB0cmFuc2l0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNlbGVjdENoaWxkLAogICAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sCiAgICBmaWx0ZXI6IHRyYW5zaXRpb25fZmlsdGVyLAogICAgbWVyZ2U6IHRyYW5zaXRpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLAogICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbl90cmFuc2l0aW9uLAogICAgY2FsbDogc2VsZWN0aW9uX3Byb3RvdHlwZS5jYWxsLAogICAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGUsCiAgICBzaXplOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNpemUsCiAgICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9wcm90b3R5cGUuZWFjaCwKICAgIG9uOiB0cmFuc2l0aW9uX29uLAogICAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLAogICAgYXR0clR3ZWVuOiB0cmFuc2l0aW9uX2F0dHJUd2VlbiwKICAgIHN0eWxlOiB0cmFuc2l0aW9uX3N0eWxlLAogICAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLAogICAgdGV4dDogdHJhbnNpdGlvbl90ZXh0LAogICAgdGV4dFR3ZWVuOiB0cmFuc2l0aW9uX3RleHRUd2VlbiwKICAgIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsCiAgICB0d2VlbjogdHJhbnNpdGlvbl90d2VlbiwKICAgIGRlbGF5OiB0cmFuc2l0aW9uX2RlbGF5LAogICAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sCiAgICBlYXNlOiB0cmFuc2l0aW9uX2Vhc2UsCiAgICBlYXNlVmFyeWluZzogdHJhbnNpdGlvbl9lYXNlVmFyeWluZywKICAgIGVuZDogdHJhbnNpdGlvbl9lbmQsCiAgICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX3Byb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdCiAgfTsKCiAgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7CiAgICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCAqIHQgOiAodCAtPSAyKSAqIHQgKiB0ICsgMikgLyAyOwogIH0KCiAgdmFyIGRlZmF1bHRUaW1pbmcgPSB7CiAgICB0aW1lOiBudWxsLAogICAgLy8gU2V0IG9uIHVzZS4KICAgIGRlbGF5OiAwLAogICAgZHVyYXRpb246IDI1MCwKICAgIGVhc2U6IGN1YmljSW5PdXQKICB9OwogIGZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHsKICAgIHZhciB0aW1pbmc7CiAgICB3aGlsZSAoISh0aW1pbmcgPSBub2RlLl9fdHJhbnNpdGlvbikgfHwgISh0aW1pbmcgPSB0aW1pbmdbaWRdKSkgewogICAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNpdGlvbiAke2lkfSBub3QgZm91bmRgKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRpbWluZzsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3RyYW5zaXRpb24gKG5hbWUpIHsKICAgIHZhciBpZCwgdGltaW5nOwogICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7CiAgICAgIGlkID0gbmFtZS5faWQsIG5hbWUgPSBuYW1lLl9uYW1lOwogICAgfSBlbHNlIHsKICAgICAgaWQgPSBuZXdJZCgpLCAodGltaW5nID0gZGVmYXVsdFRpbWluZykudGltZSA9IG5vdygpLCBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyAiIjsKICAgIH0KICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHsKICAgICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkLCBpLCBncm91cCwgdGltaW5nIHx8IGluaGVyaXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIHNlbGVjdGlvbi5wcm90b3R5cGUuaW50ZXJydXB0ID0gc2VsZWN0aW9uX2ludGVycnVwdDsKICBzZWxlY3Rpb24ucHJvdG90eXBlLnRyYW5zaXRpb24gPSBzZWxlY3Rpb25fdHJhbnNpdGlvbjsKCiAgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHsKICAgIHRoaXMuayA9IGs7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICB9CiAgVHJhbnNmb3JtLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBUcmFuc2Zvcm0sCiAgICBzY2FsZTogZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGsgPT09IDEgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmsgKiBrLCB0aGlzLngsIHRoaXMueSk7CiAgICB9LAogICAgdHJhbnNsYXRlOiBmdW5jdGlvbiAoeCwgeSkgewogICAgICByZXR1cm4geCA9PT0gMCAmIHkgPT09IDAgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmssIHRoaXMueCArIHRoaXMuayAqIHgsIHRoaXMueSArIHRoaXMuayAqIHkpOwogICAgfSwKICAgIGFwcGx5OiBmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldOwogICAgfSwKICAgIGFwcGx5WDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHggKiB0aGlzLmsgKyB0aGlzLng7CiAgICB9LAogICAgYXBwbHlZOiBmdW5jdGlvbiAoeSkgewogICAgICByZXR1cm4geSAqIHRoaXMuayArIHRoaXMueTsKICAgIH0sCiAgICBpbnZlcnQ6IGZ1bmN0aW9uIChsb2NhdGlvbikgewogICAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdOwogICAgfSwKICAgIGludmVydFg6IGZ1bmN0aW9uICh4KSB7CiAgICAgIHJldHVybiAoeCAtIHRoaXMueCkgLyB0aGlzLms7CiAgICB9LAogICAgaW52ZXJ0WTogZnVuY3Rpb24gKHkpIHsKICAgICAgcmV0dXJuICh5IC0gdGhpcy55KSAvIHRoaXMuazsKICAgIH0sCiAgICByZXNjYWxlWDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7CiAgICB9LAogICAgcmVzY2FsZVk6IGZ1bmN0aW9uICh5KSB7CiAgICAgIHJldHVybiB5LmNvcHkoKS5kb21haW4oeS5yYW5nZSgpLm1hcCh0aGlzLmludmVydFksIHRoaXMpLm1hcCh5LmludmVydCwgeSkpOwogICAgfSwKICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB0aGlzLnggKyAiLCIgKyB0aGlzLnkgKyAiKSBzY2FsZSgiICsgdGhpcy5rICsgIikiOwogICAgfQogIH07CiAgVHJhbnNmb3JtLnByb3RvdHlwZTsKCiAgLyoKICAgIENQVE1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIQoKICAgIE1vZGVsIFBhcmFtZXRlcnM6CiAgICAgIGEgPSBhbHBoYSAoY3VydmF0dXJlIGZvciB2YWx1ZSBmdW5jdGlvbikKICAgICAgbCA9IGxhbWJkYSAobG9zcyBhdmVyc2lvbiBmb3IgdmFsdWUgZnVuY3Rpb24pCiAgICAgIGcgPSBnYW1tYSAoc2Vuc2l0aXZpdHkgZm9yIGRlY2lzaW9uIHdlaWdodGluZyBmdW5jdGlvbikKCiAgICBWYXJpYWJsZXM6CiAgICAgIHggPSBvYmplY3RpdmUgdmFsdWUKICAgICAgdiA9IHN1YmplY3RpdmUgdmFsdWUKICAgICAgcCA9IG9iamVjdGl2ZSBwcm9iYWJpbGl0eQogICAgICB3ID0gc3ViamVjdGl2ZSBwcm9iYWJpbGl0eS9kZWNpc2lvbiB3ZWlnaHQKICAgICAgdSA9IHN1YmplY3RpdmUgdXRpbGl0eQoKICAgIEVxdWF0aW9uczoKICAgICAgdiA9IGlmICh4ID49IDApIHheYTsgaWYgKHggPCAwKSAtbCAqICgteCleYQogICAgICBhID0gaWYgKHggPj0gMCkgbG9nKHYpIC8gbG9nKHgpOyBpZiAoeCA8IDApIChsb2coLXYpIC0gbG9nKGwpKSAvIGxvZygteCkKICAgICAgbCA9IGlmICh4ID49IDApIDE7IGlmICh4IDwgMCkgLXYgLyAoLXgpXmEKCiAgICAgIHcgPSBwXmcgLyAocF5nICsgKDEgLSBwKV5nKV4oMSAvIGcpCgogICAgICB1ID0gU3VtX24odl9uICogd19uKQogICovCiAgY2xhc3MgQ1BUTWF0aCB7CiAgICBzdGF0aWMgYSA9IHsKICAgICAgREVGQVVMVDogMC41LAogICAgICBNSU46IDAuMCwKICAgICAgTUFYOiAxLjAsCiAgICAgIFNURVA6IDAuMDEsCiAgICAgIEpVTVA6IDAuMDUKICAgIH07CiAgICBzdGF0aWMgbCA9IHsKICAgICAgREVGQVVMVDogMi4wLAogICAgICBNSU46IDAuMCwKICAgICAgTUFYOiAxMC4wLAogICAgICBTVEVQOiAwLjAxLAogICAgICBKVU1QOiAwLjA1CiAgICB9OwogICAgc3RhdGljIGcgPSB7CiAgICAgIERFRkFVTFQ6IDAuNSwKICAgICAgTUlOOiAwLjAsCiAgICAgIE1BWDogMS4wLAogICAgICBTVEVQOiAwLjAxLAogICAgICBKVU1QOiAwLjA1CiAgICB9OwogICAgc3RhdGljIHhhbDJ2KHgsIGEsIGwpIHsKICAgICAgaWYgKHggPj0gMCkgewogICAgICAgIHJldHVybiB4ICoqIGE7CiAgICAgIH0KICAgICAgLy8gZWxzZSAoeCA8IDApCiAgICAgIHJldHVybiAtbCAqICgteCkgKiogYTsKICAgIH0KICAgIHN0YXRpYyB4bHYyYSh4LCBsLCB2KSB7CiAgICAgIGlmICh4ID49IDApIHsKICAgICAgICByZXR1cm4gTWF0aC5sb2codikgLyBNYXRoLmxvZyh4KTsKICAgICAgfQogICAgICAvLyBlbHNlICh4IDwgMCkKICAgICAgcmV0dXJuIChNYXRoLmxvZygtdikgLSBNYXRoLmxvZyhsKSkgLyBNYXRoLmxvZygteCk7CiAgICB9CiAgICBzdGF0aWMgeGF2MmwoeCwgYSwgdikgewogICAgICBpZiAoeCA+PSAwKSB7CiAgICAgICAgcmV0dXJuIE5hTjsKICAgICAgfQogICAgICAvLyBlbHNlICh4IDwgMCkKICAgICAgcmV0dXJuIC12IC8gKC14KSAqKiBhOwogICAgfQogICAgc3RhdGljIHBnMncocCwgZykgewogICAgICByZXR1cm4gcCAqKiBnIC8gKHAgKiogZyArICgxIC0gcCkgKiogZykgKiogKDEgLyBnKTsKICAgIH0KICAgIHN0YXRpYyB2dzJ1KHYsIHcpIHsKICAgICAgLy8gTnVtYmVycwogICAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInICYmIHR5cGVvZiB3ID09PSAnbnVtYmVyJykgewogICAgICAgIHJldHVybiB2ICogdzsKICAgICAgfQogICAgICAvLyBBcnJheXMKICAgICAgaWYgKHYgaW5zdGFuY2VvZiBBcnJheSAmJiB3IGluc3RhbmNlb2YgQXJyYXkgJiYgdi5sZW5ndGggPiAwICYmIHYubGVuZ3RoID09PSB3Lmxlbmd0aCkgewogICAgICAgIGxldCB1ID0gMDsKICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHYubGVuZ3RoOyBuICs9IDEpIHsKICAgICAgICAgIHUgKz0gdltuXSAqIHdbbl07CiAgICAgICAgfQogICAgICAgIHJldHVybiB1OwogICAgICB9CiAgICAgIC8vIE90aGVyd2lzZQogICAgICByZXR1cm4gTmFOOwogICAgfQogIH0KCiAgLy8gSW50ZXJuYWwgZGVwZW5kZW5jaWVzCgogIC8qIGVzbGludCBuby1yZXN0cmljdGVkLWdsb2JhbHM6IFsib2ZmIiwgInNlbGYiXSAqLwoKICBzZWxmLm9ubWVzc2FnZSA9IGV2ZW50ID0+IHsKICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgYWxwaGE6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IENQVE1hdGguYS5NSU4sCiAgICAgICAgdXBwZXI6IENQVE1hdGguYS5NQVgKICAgICAgfSwKICAgICAgbGFtYmRhOiB7CiAgICAgICAgdHlwZTogJ3JlYWwnLAogICAgICAgIGxvd2VyOiBDUFRNYXRoLmwuTUlOLAogICAgICAgIHVwcGVyOiBDUFRNYXRoLmwuTUFYCiAgICAgIH0sCiAgICAgIGdhbW1hOiB7CiAgICAgICAgdHlwZTogJ3JlYWwnLAogICAgICAgIGxvd2VyOiBDUFRNYXRoLmcuTUlOLAogICAgICAgIHVwcGVyOiBDUFRNYXRoLmcuTUFYCiAgICAgIH0sCiAgICAgIGx1Y2U6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IDAsCiAgICAgICAgdXBwZXI6IDEwMAogICAgICB9CiAgICB9OwogICAgY29uc3QgbG9nUG9zdCA9IChzdGF0ZSwgZGF0YSkgPT4gewogICAgICBsZXQgbHAgPSAwOwoKICAgICAgLy8gUHJpb3JzCiAgICAgIGNvbnN0IGFscGhhTWVhbiA9IDAuNTsKICAgICAgY29uc3QgYWxwaGFTYW1wbGVTaXplID0gMi41OwogICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5iZXRhKHN0YXRlLmFscGhhLCBhbHBoYU1lYW4gKiBhbHBoYVNhbXBsZVNpemUsICgxIC0gYWxwaGFNZWFuKSAqIGFscGhhU2FtcGxlU2l6ZSk7CiAgICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmFscGhhLCAwLCAxKTsKCiAgICAgIGNvbnN0IGxhbWJkYU1lYW4gPSAyOwogICAgICBjb25zdCBsYW1iZGFTaGFwZSA9IDM7CiAgICAgIGxwICs9IGRpc3RyaWJ1dGlvbnNFeHBvcnRzLmdhbW1hKHN0YXRlLmxhbWJkYSwgbGFtYmRhU2hhcGUsIGxhbWJkYVNoYXBlIC8gbGFtYmRhTWVhbik7CiAgICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmxhbWJkYSwgMCwgMTApOwoKICAgICAgY29uc3QgZ2FtbWFNZWFuID0gMC41OwogICAgICBjb25zdCBnYW1tYVNhbXBsZVNpemUgPSAyLjU7CiAgICAgIGxwICs9IGRpc3RyaWJ1dGlvbnNFeHBvcnRzLmJldGEoc3RhdGUuZ2FtbWEsIGdhbW1hTWVhbiAqIGdhbW1hU2FtcGxlU2l6ZSwgKDEgLSBnYW1tYU1lYW4pICogZ2FtbWFTYW1wbGVTaXplKTsKICAgICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUuZ2FtbWEsIDAsIDEpOwoKICAgICAgY29uc3QgbHVjZU1lYW4gPSAyOwogICAgICBjb25zdCBsdWNlU2hhcGUgPSAzOwogICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5nYW1tYShzdGF0ZS5sdWNlLCBsdWNlU2hhcGUsIGx1Y2VTaGFwZSAvIGx1Y2VNZWFuKTsKICAgICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUubHVjZSwgMCwgMTAwKTsKCiAgICAgIC8vIExpa2VsaWhvb2QKICAgICAgZGF0YS5mb3JFYWNoKGNob2ljZSA9PiB7CiAgICAgICAgLy8gVmFsdWVzCiAgICAgICAgY29uc3QgdmwgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54bCwgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7CiAgICAgICAgY29uc3QgdncgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54dywgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7CiAgICAgICAgY29uc3QgdnMgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54cywgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7CgogICAgICAgIC8vIFByb2JhYmlsaXRpZXMKICAgICAgICBjb25zdCB3dyA9IENQVE1hdGgucGcydyhjaG9pY2UucHcsIHN0YXRlLmdhbW1hKTsKICAgICAgICBjb25zdCB3bCA9IDEgLSB3dzsKCiAgICAgICAgLy8gVXRpbGl0aWVzCiAgICAgICAgY29uc3QgdWcgPSB3bCAqIHZsICsgd3cgKiB2dzsKICAgICAgICBjb25zdCB1cyA9IHZzOwoKICAgICAgICAvLyBDaG9pY2Ugb2YgZ2FtYmxlIG9yIHN1cmUgaXMgc2FtcGxlZCBmcm9tIGEgQmVybm91bGxpIGRpc3RyaWJ1dGlvbgogICAgICAgIC8vIEx1Y2UgY2hvaWNlIHJ1bGUgaXMgdXNlZCB0byBjb21wdXRlIHByb2JhYmlsaXR5IG9mIGdhbWJsaW5nISAoMCA9IHN1cmUsIDEgPSBnYW1ibGUpCiAgICAgICAgY29uc3QgYmludmFsID0gMSAvICgxICsgTWF0aC5leHAoc3RhdGUubHVjZSAqICh1cyAtIHVnKSkpOwoKICAgICAgICAvLyBBY3R1YWwgcmVzcG9uc2UKICAgICAgICBjb25zdCByZXNwb25zZSA9IGNob2ljZS5yZXNwb25zZSA9PT0gJ3N1cmUnID8gMCA6IDE7CiAgICAgICAgbHAgKz0gZGlzdHJpYnV0aW9uc0V4cG9ydHMuYmVybihyZXNwb25zZSwgYmludmFsKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBscDsKICAgIH07CgogICAgLy8gSW5pdGlhbGl6aW5nIHRoZSBzYW1wbGVyCiAgICBjb25zdCBzYW1wbGVyID0gbmV3IG1jbWNFeHBvcnRzLkFtd2dTYW1wbGVyKHBhcmFtcywgbG9nUG9zdCwgZXZlbnQuZGF0YSk7CiAgICAvLyBCdXJuaW5nIHNvbWUgc2FtcGxlcyB0byB0aGUgTUNNQyBnb2RzIGFuZCBzYW1wbGluZyA1MDAwIGRyYXdzCiAgICBzYW1wbGVyLmJ1cm4oMTAwMCk7CiAgICBjb25zdCBzYW1wbGVzID0gc2FtcGxlci5zYW1wbGUoNTAwMCk7CgogICAgLy8gRXh0cmFjdCBzdW1tYXJ5IHN0YXRzCiAgICBjb25zdCByZXN1bHRzID0gewogICAgICBhbHBoYTogbWVkaWFuKHNhbXBsZXMuYWxwaGEpLAogICAgICBsYW1iZGE6IG1lZGlhbihzYW1wbGVzLmxhbWJkYSksCiAgICAgIGdhbW1hOiBtZWRpYW4oc2FtcGxlcy5nYW1tYSksCiAgICAgIGx1Y2U6IG1lZGlhbihzYW1wbGVzLmx1Y2UpCiAgICB9OwogICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsCiAgICAgIHNhbXBsZXM6IHNhbXBsZXMKICAgIH0pOwogIH07Cgp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1jcHQtZml0LXdvcmtlci5qcy5tYXAKCg==","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3B0LWZpdC13b3JrZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9iYXllcy5qcy9kaXN0cmlidXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2JheWVzLmpzL21jbWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2FzY2VuZGluZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9zb3J0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tYXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL21pbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvcXVpY2tzZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3F1YW50aWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tZWRpYW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZGlzcGF0Y2gvc3JjL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL25hbWVzcGFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NyZWF0b3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9hcnJheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL21hdGNoZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGRyZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbnRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NvbnN0YW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9qb2luLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL21lcmdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NvcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2FsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZWFjaC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hdHRyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NsYXNzZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vdGV4dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9odG1sLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JhaXNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2xvd2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2FwcGVuZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbnNlcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmVtb3ZlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Nsb25lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2l0ZXJhdG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWNvbG9yL3NyYy9kZWZpbmUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3JnYi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9zdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9kZWNvbXBvc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWVyL3NyYy90aW1lci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NjaGVkdWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL2ludGVycnVwdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW50ZXJydXB0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9pbnRlcnBvbGF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9kZWxheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2VWYXJ5aW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vbWVyZ2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9vbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGVUd2Vlbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0VHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90cmFuc2l0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY3ViaWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL3RyYW5zaXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3RyYW5zZm9ybS5qcyIsIi4uLy4uL2xpYnJhcmllcy9wcm9zcGVjdGFibGUtbWF0aC9zcmMvY3B0LW1hdGguanMiLCIuLi8uLi9saWJyYXJpZXMvcHJvc3BlY3RhYmxlLW1hdGgvc3JjL2luZGV4LmpzIiwiLi4vLi4vbGlicmFyaWVzL3Byb3NwZWN0YWJsZS1lbGVtZW50cy9zcmMvY29tcG9uZW50cy9jcHQtZml0LXdvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvblxuLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoXG4vLyBhcyBpbiBcImxvZyBkZW5zaXR5XCIpLCBzbyB0byBnZXQgYSBub3JtYWwgbG9nIGRlbnNpdHkgeW91IHdvdWxkIHdyaXRlXG4vLyBsZC5ub3JtKC4uLikuXG4vLyBNb3N0IG9mIHRoZSBjb2RlIGJlbG93IGlzIGRpcmVjdGx5IHRha2VuIGZyb20gdGhlIGdyZWF0IEpzdGF0IHByb2plY3Rcbi8vIChodHRwczovL2dpdGh1Yi5jb20vanN0YXQvKSB3aGljaCBpbmNsdWRlcyBQREYgZm9yIG1hbnkgY29tbW9uIHByb2JhYmlsaXR5XG4vLyBkaXN0cmlidXRpb25zLiBXaGF0IEkgaGF2ZSBkb25lIGlzIG9ubHkgdG8gY29udmVydCB0aGVzZSB0byBsb2cgUERGcy5cblxuLypcbk9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0XG5Nb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCBcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IGxkIC5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QubGQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4gIC8vIE9iamVjdCB0byBob2xkIHRoZSBmdW5jdGlvbnMgdG8gYmUgZXhwb3J0ZWQuXG4gIHZhciBsZCAgPSB7fTtcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICB2YXIgbGdhbW1hID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIgY29mID0gW1xuICAgICAgNzYuMTgwMDkxNzI5NDcxNDYsIC04Ni41MDUzMjAzMjk0MTY3NywgMjQuMDE0MDk4MjQwODMwOTEsXG4gICAgICAtMS4yMzE3Mzk1NzI0NTAxNTUsIDAuMTIwODY1MDk3Mzg2NjE3OWUtMiwgLTAuNTM5NTIzOTM4NDk1M2UtNVxuICAgIF07XG4gICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1O1xuICAgIHZhciB4eCwgeSwgdG1wO1xuICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTtcbiAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApO1xuICAgIGZvciAoOyBqIDwgNjsgaisrKVxuICAgICAgc2VyICs9IGNvZltqXSAvICsreTtcbiAgICByZXR1cm4gbG9nKDIuNTA2NjI4Mjc0NjMxMDAwNSAqIHNlciAvIHh4KSAtIHRtcDtcbiAgfTtcbiAgbGQubGdhbW1hID0gbGdhbW1hO1xuICBcbiAgdmFyIGxmYWN0b3JpYWwgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIG4gPCAwID8gTmFOIDogbGdhbW1hKG4gKyAxKTtcbiAgfTtcbiAgbGQubGZhY3RvcmlhbCA9IGxmYWN0b3JpYWw7XG4gIFxuICB2YXIgbGNob29zZSA9IGZ1bmN0aW9uKG4sIGspe1xuICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspO1xuICB9O1xuICBsZC5sY2hvb3NlID0gbGNob29zZTtcbiAgXG4gIHZhciBsYmV0YSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTtcbiAgfTtcbiAgbGQubGJldGEgPSBsYmV0YTtcbiAgXG4gIHZhciBsb2cgID0gTWF0aC5sb2c7XG4gIHZhciBleHAgID0gTWF0aC5leHA7XG4gIHZhciBhYnMgID0gTWF0aC5hYnM7XG4gIHZhciBwb3cgID0gTWF0aC5wb3c7XG4gIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICB2YXIgcGkgICA9IE1hdGguUEk7XG4gIFxuICAvLy8vLy8vLy8vIENvbnRpbm91cyBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBsZC5iZXRhID0gZnVuY3Rpb24oeCwgc2hhcGUxLCBzaGFwZTIpIHtcbiAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYoc2hhcGUxID09PSAxICYmIHNoYXBlMiA9PT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoc2hhcGUxIC0gMSkgKiBsb2coeCkgKyAoc2hhcGUyIC0gMSkgKiBsb2coMSAtIHgpIC0gbGJldGEoc2hhcGUxLCBzaGFwZTIpOyAgXG4gICAgfVxuICB9O1xuICBcbiAgbGQuY2F1Y2h5ID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAgLSBsb2cocGkpO1xuICB9O1xuICBcbiAgbGQubm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC1sb2coc2QpIC0gcG93KHggLSBtZWFuLCAyKSAvICgyICogc2QgKiBzZCk7XG4gIH07XG5cbiAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIFxuICAvLyB0aGUgY29ycmVsYXRpb24uXG4gIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkLCBjb3JyKSB7XG4gICAgdmFyIHogPSBwb3coeFswXSAtIG1lYW5bMF0sIDIpIC8gcG93KHNkWzBdLCAyKSArXG4gICAgICAgICAgICBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIFxuICAgICAgICAgICAgKDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkpIC8gKHNkWzBdICogc2RbMV0pO1xuICAgIHZhciBub3JtYWxpemluZ19mYWN0b3IgPSAtKCBsb2coMikgKyBsb2cocGkpICsgbG9nKHNkWzBdKSArIGxvZyhzZFsxXSkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpICk7IFxuICAgIHZhciBiaXZhcl9sb2dfZGVucyA9IG5vcm1hbGl6aW5nX2ZhY3RvciAtIHogLyAoMiAqICgxIC0gcG93KGNvcnIsIDIpICkgKTsgXG4gICAgcmV0dXJuIGJpdmFyX2xvZ19kZW5zO1xuICB9O1xuICBcblxuICBsZC5sYXBsYWNlID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuICgtYWJzKHggLSBsb2NhdGlvbikvc2NhbGUpIC0gbG9nKDIgKiBzY2FsZSk7XG4gIH07XG4gIFxuICBsZC5kZXhwID0gbGQubGFwbGFjZTtcbiAgXG4gIGxkLmdhbW1hID0gZnVuY3Rpb24oeCwgc2hhcGUsIHJhdGUpIHtcbiAgICB2YXIgc2NhbGUgPSAxIC8gcmF0ZTtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfVxuICAgIGlmKCh4ID09PSAwICYmIHNoYXBlID09PSAxKSApIHtcbiAgICAgIHJldHVybiAtbG9nKHNjYWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChzaGFwZSAtIDEpICogbG9nKHgpIC0geCAvIHNjYWxlIC0gbGdhbW1hKHNoYXBlKSAtIHNoYXBlICogbG9nKHNjYWxlKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5pbnZnYW1tYSA9IGZ1bmN0aW9uKHgsIHNoYXBlLCBzY2FsZSkge1xuICAgICAgaWYgKHggPD0gMCkge1xuICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7XG4gICAgfTtcbiAgXG4gIGxkLmxub3JtID0gIGZ1bmN0aW9uKHgsIG1lYW5sb2csIHNkbG9nKSB7XG4gICAgaWYgKHggPD0gMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBcbiAgICAgICAgICAgIHBvdyhsb2coeCkgLSBtZWFubG9nLCAyKSAvICgyICogc2Rsb2cgKiBzZGxvZyk7XG4gIH07XG4gIFxuICBsZC5wYXJldG8gPSBmdW5jdGlvbih4LCBzY2FsZSwgc2hhcGUpIHtcbiAgICBpZiAoeCA8IHNjYWxlKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gbG9nKHNoYXBlKSArIHNoYXBlICogbG9nKHNjYWxlKSAtIChzaGFwZSArIDEpICogbG9nKHgpO1xuICB9O1xuICBcbiAgbGQudCAgPSAgZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlLCBkZikge1xuICAgIGRmID0gZGYgPiAxZTEwMCA/IDFlMTAwIDogZGY7XG4gICAgcmV0dXJuIGxnYW1tYSgoZGYgKyAxKS8yKSAtIGxnYW1tYShkZi8yKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICtcbiAgICAgICAgICAgbG9nKHBvdygxICsgKDEvZGYpICogcG93KCh4IC0gbG9jYXRpb24pL3NjYWxlLCAyKSwgLShkZiArIDEpLzIpKTtcbiAgfTtcbiAgXG4gIC8vIFRoaXMgaXMgYSBkaXJlY3QgamF2YXNjcmlwdCB0cmFuc2xhdGlvbiBvZiB0aGUgUiBjb2RlIHVzZWQgdG8gZXZhbHVhdGVcbiAgLy8gdGhlIGxvZyBkZW5zaXR5IG9mIGEgd2VpYnVsbCBkaXN0cmlidXRpb246IFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2NoL3Itc291cmNlL2Jsb2IvYjE1NmUzYTcxMTk2N2Y1ODEzMWUyM2MxYjFkYzFlYTkwZTJmMGM0My9zcmMvbm1hdGgvZHdlaWJ1bGwuY1xuICBsZC53ZWlidWxsID0gZnVuY3Rpb24oeCwgc2hhcGUsIHNjYWxlKSB7XG4gICAgaWYgKHggPCAwKSByZXR1cm4gLUluZmluaXR5O1xuICAgIGlmKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7XG4gICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpO1xuICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpO1xuXHQgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7XG4gIH07XG4gIFxuICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlXG4gIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuY1xuICBsZC5sb2dpcyA9IGZ1bmN0aW9uKHgsIGxvY2F0aW9uLCBzY2FsZSkge1xuICAgIHggPSBhYnMoKHggLSBsb2NhdGlvbikgLyBzY2FsZSk7XG4gICAgdmFyIGUgPSBleHAoLXgpO1xuICAgIHZhciBmID0gMS4wICsgZTtcbiAgICByZXR1cm4gLSh4ICsgbG9nKHNjYWxlICogZiAqIGYpKTsgICAgXG4gIH07XG5cbiAgbGQuZGlyaWNobGV0ID0gZnVuY3Rpb24oeCwgYWxwaGEpIHtcbiAgICB2YXIgc3VtX2FscGhhID0gMDtcbiAgICB2YXIgc3VtX2xnYW1tYV9hbHBoYSA9IDA7XG4gICAgdmFyIHN1bV9hbHBoYV9zdWJfMV9sb2dfeCA9IDA7XG4gICAgdmFyIG4gPSBhbHBoYS5sZW5ndGg7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldO1xuICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pO1xuICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194O1xuICB9O1xuICAgXG4gICAgXG4gIGxkLmV4cCA9IGZ1bmN0aW9uKHgsIHJhdGUpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtcmF0ZSAqIHg7XG4gIH07XG4gIFxuICBsZC51bmlmID0gZnVuY3Rpb24oeCwgbWluLCBtYXgpIHtcbiAgICAgIHJldHVybiAoeCA8IG1pbiB8fCB4ID4gbWF4KSA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpO1xuICB9O1xuICBcbiAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIGxkLmJlcm4gPSBmdW5jdGlvbih4LCBwcm9iKSB7XG4gICAgICByZXR1cm4gISh4ID09PSAwIHx8IHggPT09IDEpID8gLUluZmluaXR5IDogbG9nKHggKiBwcm9iICsgKDEgLSB4KSAqICgxIC0gcHJvYikpO1xuICB9O1xuICBcbiAgbGQuY2F0ID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICBpZih4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9nKCBwcm9ic1t4IC0gMV0gKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4ID4gc2l6ZSB8fCB4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7XG4gICAgICByZXR1cm4gKHNpemUgKiBwcm9iKSA9PT0geCA/IDAgOiAtSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBsY2hvb3NlKHNpemUsIHgpICsgeCAqIGxvZyhwcm9iKSArIChzaXplIC0geCkgKiBsb2coMSAtIHByb2IpO1xuICB9O1xuICBcbiAgdmFyIG11bHRpbm9tID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICB2YXIgbiA9IHgubGVuZ3RoO1xuICAgIHZhciBzaXplID0gMDtcbiAgICB2YXIgdG1wX3Rlcm0gPSAwO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmKHByb2JzW2ldID09PSAwKSB7XG4gICAgICAgIGlmKHhbaV0gIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OyAgXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgKz0geFtpXTtcbiAgICAgICAgdG1wX3Rlcm0gKz0geFtpXSAqIGxvZyhwcm9ic1tpXSkgLSBsZ2FtbWEoeFtpXSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHNpemUgKyAxKSArIHRtcF90ZXJtIDtcbiAgfTtcbiAgXG4gIGxkLm5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGxjaG9vc2UoeCArIHNpemUgLSAxLCBzaXplIC0gMSkgKyB4ICogbG9nKDEgLSBwcm9iKSArIHNpemUgKiBsb2cocHJvYik7XG4gIH07XG4gIFxuICBsZC5oeXBlciA9IGZ1bmN0aW9uKHgsIG0sIG4sIGspIHtcbiAgICBpZih4IDwgMCB8fCB4ID4gaykge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9IGVsc2Uge1xuICAgIHJldHVybiBsY2hvb3NlKG0sIHgpICsgbGNob29zZShuLCBrLXgpIC0gbGNob29zZShtK24sIGspO1xuICAgIH1cbiAgfTtcbiAgXG4gIGxkLnBvaXMgPSBmdW5jdGlvbih4LCBsYW1iZGEpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7XG4gIH07XG4gIFxuICByZXR1cm4gbGQ7XG59KSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IG1jbWMgLlxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCl7XG5cbi8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICBcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKiogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4ICovXG4gIHZhciBydW5pZiA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqL1xuICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9O1xuICBcbiAgLyoqIFJldHVybnMgYSByYW5kb20gcmVhbCBudW1iZXIgZnJvbSBhIG5vcm1hbCBkaXN0cmliYnV0aW9uIGRlZmluZWRcbiAgICogIGJ5IG1lYW4gYW5kIHNkLiBcbiAgICogIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vanN0YXQvanN0YXQvYmxvYi9tYXN0ZXIvc3JjL3NwZWNpYWwuanMgKi9cbiAgdmFyIHJub3JtID0gZnVuY3Rpb24obWVhbiwgc2QpIHtcbiAgICB2YXIgdSwgdiwgeCwgeSwgcTtcbiAgICBkbyB7XG4gICAgICB1ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIHYgPSAxLjcxNTYgKiAoTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgICB4ID0gdSAtIDAuNDQ5ODcxO1xuICAgICAgeSA9IE1hdGguYWJzKHYpICsgMC4zODY1OTU7XG4gICAgICBxID0geCAqIHggKyB5ICogKDAuMTk2MDAgKiB5IC0gMC4yNTQ3MiAqIHgpO1xuICAgIH0gd2hpbGUgKHEgPiAwLjI3NTk3ICYmIChxID4gMC4yNzg0NiB8fCB2ICogdiA+IC00ICogTWF0aC5sb2codSkgKiB1ICogdSkpO1xuICAgIFxuICAgIHJldHVybiAodiAvIHUpICogc2QgKyBtZWFuO1xuICB9O1xuICBcbiAgXG4gIC8qKiBSZXR1cm5zIGEgZGVlcCBjbG9uZSBvZiBzcmMsIHNvcnQgb2YuLi4gSXQgb25seSBjb3BpZXMgYSBsaW1pdGVkXG4gICAqIG51bWJlciBvZiB0eXBlcyBhbmQsIGZvciBleGFtcGxlLCBmdW5jdGlvbiBhcmUgbm90IGNvcGllZC4gXG4gICAqIEZyb20gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS9qYXZhc2NyaXB0LWNsb25lXG4gICAqL1xuICB2YXIgZGVlcF9jbG9uZSA9IGZ1bmN0aW9uKHNyYykge1xuICBcdGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHtcbiAgXHRcdHZhciBuYW1lLCBzLCBpLCBlbXB0eSA9IHt9O1xuICBcdFx0Zm9yKG5hbWUgaW4gc291cmNlKXtcbiAgXHRcdFx0Ly8gdGhlICghKG5hbWUgaW4gZW1wdHkpIHx8IGVtcHR5W25hbWVdICE9PSBzKSBjb25kaXRpb24gYXZvaWRzIGNvcHlpbmcgcHJvcGVydGllcyBpbiBcInNvdXJjZVwiXG4gIFx0XHRcdC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuXHQgRm9yIGV4YW1wbGUsIGlmIGRlc3QgaGFzIGEgY3VzdG9tIHRvU3RyaW5nKCkgbWV0aG9kLFxuICBcdFx0XHQvLyBkb24ndCBvdmVyd3JpdGUgaXQgd2l0aCB0aGUgdG9TdHJpbmcoKSBtZXRob2QgdGhhdCBzb3VyY2UgaW5oZXJpdGVkIGZyb20gT2JqZWN0LnByb3RvdHlwZVxuICBcdFx0XHRzID0gc291cmNlW25hbWVdO1xuICBcdFx0XHRpZighKG5hbWUgaW4gZGVzdCkgfHwgKGRlc3RbbmFtZV0gIT09IHMgJiYgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpKSl7XG4gIFx0XHRcdFx0ZGVzdFtuYW1lXSA9IGNvcHlGdW5jID8gY29weUZ1bmMocykgOiBzO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0XHRyZXR1cm4gZGVzdDtcbiAgXHR9XG4gIFx0aWYoIXNyYyB8fCB0eXBlb2Ygc3JjICE9IFwib2JqZWN0XCIgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIil7XG4gIFx0XHQvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvblxuICBcdFx0cmV0dXJuIHNyYztcdC8vIGFueXRoaW5nXG4gIFx0fVxuICBcdGlmKHNyYy5ub2RlVHlwZSAmJiBcImNsb25lTm9kZVwiIGluIHNyYyl7XG4gIFx0XHQvLyBET00gTm9kZVxuICBcdFx0cmV0dXJuIHNyYy5jbG9uZU5vZGUodHJ1ZSk7IC8vIE5vZGVcbiAgXHR9XG4gIFx0aWYoc3JjIGluc3RhbmNlb2YgRGF0ZSl7XG4gIFx0XHQvLyBEYXRlXG4gIFx0XHRyZXR1cm4gbmV3IERhdGUoc3JjLmdldFRpbWUoKSk7XHQvLyBEYXRlXG4gIFx0fVxuICBcdGlmKHNyYyBpbnN0YW5jZW9mIFJlZ0V4cCl7XG4gIFx0XHQvLyBSZWdFeHBcbiAgXHRcdHJldHVybiBuZXcgUmVnRXhwKHNyYyk7ICAgLy8gUmVnRXhwXG4gIFx0fVxuICBcdHZhciByLCBpLCBsO1xuICBcdGlmKHNyYyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgXHRcdC8vIGFycmF5XG4gIFx0XHRyID0gW107XG4gIFx0XHRmb3IoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKXtcbiAgXHRcdFx0aWYoaSBpbiBzcmMpe1xuICBcdFx0XHRcdHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0fSBlbHNlIHtcbiAgXHRcdC8vIGdlbmVyaWMgb2JqZWN0c1xuICBcdFx0ciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9O1xuICBcdH1cbiAgXHRyZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTtcbiAgfTtcbiAgXG4gIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmVcbiAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvblxuICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZ1xuICAgKiBsb29wLlxuICAgKi9cbiAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgaWYoQXJyYXkuaXNBcnJheSh4WzBdKSkge1xuICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5XG4gICAgICAgIHZhciB4X2NvcHkgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuZ3RoID0geC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHhfY29weS5wdXNoKGNsb25lX3BhcmFtX2RyYXcoeFtpXSkpO1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4geF9jb3B5O1xuICAgICAgfSBlbHNlIHsgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFyc1xuICAgICAgICByZXR1cm4geC5zbGljZSgwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIHNjYWxhclxuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgYSBudW1iZXIuXG4gICAqL1xuICB2YXIgaXNfbnVtYmVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSBcIm51bWJlclwiIHx8ICh0eXBlb2Ygb2JqZWN0ID09IFwib2JqZWN0XCIgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBOdW1iZXIpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS5cbiAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsXG4gICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LlxuICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpblxuICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgXG4gICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0b1xuICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LlxuICAgKiBAZXhhbXBsZSBcbiAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXVxuICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpXG4gICAqL1xuICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24oZGltLCBpbml0KSB7XG4gICAgdmFyIGFyciA9IG5ldyBBcnJheShkaW1bMF0pO1xuICAgIHZhciBpO1xuICAgIGlmKGRpbS5sZW5ndGggPT0gMSkgeyAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdFxuICAgICAgaWYodHlwZW9mIGluaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQoKTtcbiAgICAgICAgfSAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQ7XG4gICAgICAgIH0gXG4gICAgICB9XG4gICAgfSBlbHNlIGlmKGRpbS5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJjcmVhdGVfYXJyYXkgY2FuJ3QgY3JlYXRlIGEgZGltZW5zaW9ubGVzcyBhcnJheVwiO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGltZW5zaW9ucyBvZiBhIHBvc3NpYmx5IG5lc3RlZCBhcnJheSBhcyBhbiBhcnJheS4gRm9yIFxuICAgKiBleGFtcGxlLCBhcnJheV9kaW0oIFtbMSwgMl0sIFsxLCAyXV0gKSBzaG91bGQgcmV0dXJuIFsyLCAyXVxuICAgKiBBc3N1bWVzIHRoYXQgYWxsIGFycmF5cyBpbnNpZGUgYW5vdGhlciBhcnJheSBhcmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBTaG91bGQgcmV0dXJuIFs0LCAyLCAxXVxuICAgKiBhcnJheV9kaW0oY3JlYXRlX2FycmF5KFs0LCAyLCAxXSwgMCkpXG4gICAqL1xuICB2YXIgYXJyYXlfZGltID0gZnVuY3Rpb24oYSkge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoYVswXSkpIHtcbiAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2EubGVuZ3RoXTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50c1xuICAgKiBhcyBqdWRnZWQgYnkgdGhlIFwiPT1cIiBvcGVyYXRvci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlxuICAgKiBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ4NTM5NzQvMTAwMTg0OFxuICAgKi8gXG4gIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICAgIGlmIChhMS5sZW5ndGggIT0gYTIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7XG4gICAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5c1xuICAgICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsgICAgICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsgXG4gICAgICAgICAgICAgIC8vIFdhcm5pbmcgLSB0d28gZGlmZmVyZW50IG9iamVjdCBpbnN0YW5jZXMgd2lsbCBuZXZlciBiZSBlcXVhbDoge3g6MjB9ICE9IHt4OjIwfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICB9ICAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCBcImxlYWYgbm9kZXNcIiwgXG4gICAqIHRoYXQgaXMsIHZhbHVlcyB0aGF0IGFyZSBub3QgYXJyYXlzLiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBzYW1lIHNpemUgYXNcbiAgICogYS5cbiAgICovXG4gIHZhciBuZXN0ZWRfYXJyYXlfYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTtcbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKiogUmFuZG9taXppbmcgdGhlIGFycmF5IGVsZW1lbnQgb3JkZXIgaW4tcGxhY2UuIFVzaW5nIER1cnN0ZW5mZWxkXG4gICAqIHNodWZmbGUgYWxnb3JpdGhtLiBBZGFwdGVkIGZyb20gaGVyZTogXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEyNjQ2ODY0LzEwMDE4NDhcbiAgICovXG4gIGZ1bmN0aW9uIHNodWZmbGVfYXJyYXkoYXJyYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldO1xuICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbal07XG4gICAgICAgICAgYXJyYXlbal0gPSB0ZW1wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIFxuICAvKipcbiAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5XG4gICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgXCJsZWFmIG5vZGVzXCIgYW5kIHJldHVybnMgYW4gYXJyYXkgXG4gICAqIG9mIHRoZSBzYW1lIHNpemUgYXMgYS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5XG4gICAqIGJyYW5jaGVzIHJhbmRvbWx5LlxuICAgKi9cbiAgdmFyIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgbGVuID0gYS5sZW5ndGg7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBhcnJheV9pcyA9IFtdO1xuICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJyYXlfaXNbaV0gPSBpO1xuICAgICAgfVxuICAgICAgc2h1ZmZsZV9hcnJheShhcnJheV9pcyk7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBcbiAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07XG4gICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmVcbiAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC5cbiAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmdcbiAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgXG4gICAqICAgIGFzIGEgbWVtYmVyLlxuICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgXG4gICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy5cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9XG4gICAqIHZhciBwaSA9IGdldF9vcHRpb24oXCJwaVwiLCBteV9vcHRpb25zLCAzLjE0KVxuICAgKi9cbiAgLy8gUHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmYXVsdHMgY2FuIGJlIG92ZXJyaWRkZW5cbiAgLy8gYnkgYW4gb3B0aW9ucyBvYmplY3QuIEZvciBleGFtcGxlOlxuICAvLyB2YXIgcGkgPSBnZXRfb3B0aW9uKFwicGlcIiwgbXlfb3B0aW9ucywgMy4xNClcbiAgdmFyIGdldF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIFxuICAgICAgICAgICBvcHRpb25zW29wdGlvbl9uYW1lXSAhPT0gdW5kZWZpbmVkICAmJiBcbiAgICAgICAgICAgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTtcbiAgfTtcbiAgXG4gIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWxcbiAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS5cbiAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggXG4gICAqIGRpbSBkaW1lbnNpb25zLlxuICAgKiBcbiAgICovXG4gIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRpbSwgZGVmYXVsX3ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0X29wdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKTtcbiAgICAgaWYoISBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgIHZhbHVlID0gY3JlYXRlX2FycmF5KGRpbSwgdmFsdWUpO1xuICAgICB9IFxuICAgICBpZighIGFycmF5X2VxdWFsKCBhcnJheV9kaW0odmFsdWUpLCBkaW0pKSB7XG4gICAgICAgdGhyb3cgXCJUaGUgb3B0aW9uIFwiICsgb3B0aW9uX25hbWUgKyBcIiBpcyBvZiBkaW1lbnNpb24gW1wiICsgXG4gICAgICAgICAgICAgYXJyYXlfZGltKHZhbHVlKSArIFwiXSBidXQgc2hvdWxkIGJlIFtcIiArIGRpbSArIFwiXS5cIjtcbiAgICB9XG4gICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgXG4gIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKipcbiAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLlxuICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgXCJyZWFsXCIsIFwiaW50XCIsIGFuZCBcImJpbmFyeVwiLlxuICAgKi9cbiAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbih0eXBlLCBsb3dlciwgdXBwZXIpIHtcbiAgICBpZihsb3dlciA+IHVwcGVyKSB7XG4gICAgICB0aHJvdyBcIkNhbiBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgd2hlcmUgbG93ZXIgYm91bmQgPiB1cHBlciBib3VuZFwiO1xuICAgIH1cbiAgICBpZih0eXBlID09PSBcInJlYWxcIikge1xuICAgICAgaWYobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIDAuNTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDAuNTtcbiAgICAgIH0gZWxzZSBpZih1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIGxvd2VyICsgMC41O1xuICAgICAgfSBlbHNlIGlmKGxvd2VyIDw9IHVwcGVyKSB7XG4gICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZih0eXBlID09PSBcImludFwiKSB7XG4gICAgICBpZihsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDE7XG4gICAgICB9IGVsc2UgaWYodXBwZXIgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiBsb3dlciArIDE7XG4gICAgICB9IGVsc2UgaWYobG93ZXIgPD0gdXBwZXIpe1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgobG93ZXIgKyB1cHBlcikgLyAyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodHlwZSA9PT0gXCJiaW5hcnlcIikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHRocm93IFwiQ291bGQgbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIG9mIHR5cGUgXCIgKyB0eXBlICsgXCJbXCIgKyBsb3dlciArIFwiLCBcIiArIHVwcGVyICsgXCJdXCI7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ29tcGxldGVzIHBhcmFtc190b19jb21wbGV0ZSwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyIGRlc2NyaXB0aW9ucywgXG4gICAqIGFuZCBpbml0aWFsaXplcyBub24taW5pdGlhbGl6ZWQgcGFyYW1ldGVycy4gVGhpcyBtb2RpZmllZCB2ZXJzaW9uIG9mXG4gICAqIHBhcmFtc190b19jb21wbGV0ZSBpcyByZXR1cm5lZCBhcyBhIGRlZXAgY29weSBhbmQgbm90IG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGJ5IHN1cHBseWluZyBhIHBhcmFtX2luaXQgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmVcbiAgICogZnVuY3Rpb24odHlwZSwgbG93ZXIsIHVwcGVyKSB0aGF0IHNob3VsZCByZXR1cm4gYSBzaW5nbGUgbnVtYmVyIFxuICAgKiAobGlrZSBwYXJhbV9pbml0X2ZpeGVkLCBmb3IgZXhhbXBsZSkuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwYXJhbXMgPSB7IFwibXVcIjoge1widHlwZVwiOiBcInJlYWxcIn0gfVxuICAgKiBwYXJhbXMgPSBjb21wbGV0ZV9wYXJhbXMocGFyYW1zKTtcbiAgICogLy8gcGFyYW1zIHNob3VsZCBub3cgYmU6XG4gICAqIC8vICB7XCJtdVwiOiB7IFwidHlwZVwiOiBcInJlYWxcIiwgXCJkaW1cIjogWzFdLCBcInVwcGVyXCI6IEluZmluaXR5LFxuICAgKiAvLyAgICAgICAgICAgXCJsb3dlclwiOiAtSW5maW5pdHksIFwiaW5pdFwiOiAwLjUgfX1cbiAgICovIFxuICB2YXIgY29tcGxldGVfcGFyYW1zICA9IGZ1bmN0aW9uKHBhcmFtc190b19jb21wbGV0ZSwgcGFyYW1faW5pdCkge1xuICAgIHZhciBwYXJhbXMgPSBkZWVwX2Nsb25lKHBhcmFtc190b19jb21wbGV0ZSk7XG4gICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBwYXJhbXMpIHsgaWYgKCFwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW1fbmFtZSkpIGNvbnRpbnVlO1xuICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgaWYoICFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpIHtcbiAgICAgICAgcGFyYW0udHlwZSA9IFwicmVhbFwiO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwiZGltXCIpKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFsxXTtcbiAgICAgIH1cbiAgICAgIGlmKGlzX251bWJlcihwYXJhbS5kaW0pKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFtwYXJhbS5kaW1dO1xuICAgICAgfVxuICAgICAgaWYocGFyYW0udHlwZSA9PSBcImJpbmFyeVwiKSB7XG4gICAgICAgIHBhcmFtLnVwcGVyID0gMTtcbiAgICAgICAgcGFyYW0ubG93ZXIgPSAwO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwidXBwZXJcIikpIHtcbiAgICAgICAgcGFyYW0udXBwZXIgPSBJbmZpbml0eTtcbiAgICAgIH1cbiAgICAgIGlmKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImxvd2VyXCIpKSB7XG4gICAgICAgIHBhcmFtLmxvd2VyID0gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZihwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImluaXRcIikpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBqdXN0IGEgbnVtYmVyIG9yIGEgbmVzdGVkIGFycmF5IHdlIGxlYXZlIGl0IGFsb25lLCBidXQgaWYuLi5cbiAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pICYmIHR5cGVvZiBwYXJhbS5pbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpO1xuICAgICAgICB9IGVsc2UgaWYoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSAmJiAhQXJyYXkuaXNBcnJheShwYXJhbS5pbml0KSkge1xuICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0XG4gICAgICAgIC8vIGlzIG5vdCBhbiBhcnJheS4gVGhlbiBhc3N1bWUgaXQgaXMgYSBudW1iZXIgb3IgYSBmdW5jdGlvbiBhbmQgdXNlXG4gICAgICAgIC8vIGl0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uXG4gICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgIHBhcmFtLmluaXQgPSBwYXJhbV9pbml0KHBhcmFtLnR5cGUsIHBhcmFtLmxvd2VyLCBwYXJhbS51cHBlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtX2luaXQocGFyYW0udHlwZSwgcGFyYW0ubG93ZXIsIHBhcmFtLnVwcGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9O1xuICBcbiAgXG4gIC8vLy8vLy8vLy8gU3RlcHBlciBGdW5jdGlvbnMgLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBcbiAgXG4gIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZVxuICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvblxuICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgXCJpbnRlcmZhY2VcIixcbiAgICogd2hlcmUgXCJpbnRlcmZhY2VcIiBtZWFucyB0aGF0IFN0ZXBwZXIgZGVmaW5lcyBhIGNsYXNzIHRoYXQgaXMgbmV2ZXJcbiAgICogbWVhbnQgdG8gYmUgaW5zdGFudGlhdGVkLCBidXQganVzdCB0byBiZSBzdWJjbGFzc2VkIGJ5IHNwZWNpYWxpemVkXG4gICAqIHN0ZXBwZXIgZnVuY3Rpb25zLlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IHsgXCJ0eXBlXCI6IFwicmVhbFwiLCBcImRpbVwiOiBbMV0sIFwidXBwZXJcIjogSW5maW5pdHksIFxuICAgKiAgIFwibG93ZXJcIjogLUluZmluaXR5LCBcImluaXRcIjogMC41IH19XG4gICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgXCJjb21wbGV0ZVwiLCB0aGF0IGlzLFxuICAgKiAgIHNwZWNpZnlpbmcgYWxsIHJlbGV2YW50IGF0dHJpYnV0ZXMgc3VjaCBhcyBkaW0sIGxvd2VyIGFuZCB1cHBlci5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzIGluIHBhcmFtc1xuICAgKiAgIChhbmQgcG9zc2libHkgbW9yZSkuIFRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlIGdpdmVuIGFzIGtleXMgYW5kIHRoZSBzdGF0ZXNcbiAgICogICBhcyBzY2FsYXJzIG9yLCBwb3NzaWJseSBuZXN0ZWQsIGFycmF5cy4gRm9yIGV4YW1wbGU6XG4gICAqICAge211OiAxMCwgc2lnbWE6IDUsIGJldGE6IFsxLCAyLjVdfVxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uICp0YWtpbmcgbm8gcGFyYW1ldGVycyogdGhhdCByZXR1cm5zIHRoZVxuICAgKiAgIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFRoYXQgaXMsIHRoZSB2YWx1ZSBvZiBsb2dfcG9zdFxuICAgKiAgIHNob3VsZCBjaGFuZ2UgaWYgdGhlIHRoZSB2YWx1ZXMgaW4gc3RhdGUgYXJlIGNoYW5nZWQuXG4gIFxuICAgKi9cbiAgdmFyIFN0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCkge1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmxvZ19wb3N0ID0gbG9nX3Bvc3Q7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuIFNob3VsZCByZXR1cm4gdGhlIG5ldyBzdGF0ZSxcbiAgICogYnV0IGlzIG1haW5seSBjYWxsZWQgZm9yIGl0J3Mgc2lkZSBlZmZlY3Qgb2YgbWFraW5nIGEgY2hhbmdlIGluIHRoZVxuICAgKiBzdGF0ZSBvYmplY3QuXG4gICAqL1xuICBTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJFdmVyeSBTdGVwcGVyIG5lZWQgdG8gaW1wbGVtZW50IHN0ZXAoKVwiO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIElmIGltcGxlbWVudGVkLCBtYWtlcyB0aGUgc3RlcHBlciBhZGFwdCB3aGlsZSBzdGVwcGluZy5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgY2Vhc2UgYWRhcHRpbmcgd2hpbGUgc3RlcHBpbmcuXG4gICAqLyBcbiAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluZyBpbmZvIHJlZ2FyZGluZyB0aGUgc3RlcHBlci5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgc3RlcHBlci5cbiAgICByZXR1cm4ge307XG4gIH07XG4gIFxuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpblxuICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluIFwiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQ1wiXG4gICAqIGJ5IFJvYmVydHMgYW5kIFJvc2VudGhhbCAoMjAwOCkuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci5cbiAgICogQHBhcmFtIGdlbmVyYXRlX3Byb3Bvc2FsIC0gYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9wb3NhbCAoYXMgYSBudW1iZXIpXG4gICAqIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBsb2dfc2NhbGUpIHdoZXJlIHBhcmFtX3N0YXRlIGlzIGFcbiAgICogbnVtYmVyIGFuZCBsb2dfc2NhbGUgZGVmaW5lcyB0aGUgc2NhbGUgb2YgdGhlIHByb3Bvc2FsIHNvbWVob3cuXG4gICovXG4gIHZhciBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBnZW5lcmF0ZV9wcm9wb3NhbCkge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBjYW4gb25seSBoYW5kbGUgb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICBpZighYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICB0aHJvdyBcIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5sb3dlciA9IHBhcmFtLmxvd2VyO1xuICAgIHRoaXMudXBwZXIgPSBwYXJhbS51cHBlcjtcbiAgICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCAwKTtcbiAgICB0aGlzLmJhdGNoX3NpemUgICAgICAgICA9IGdldF9vcHRpb24oXCJiYXRjaF9zaXplXCIsIG9wdGlvbnMsIDUwKTtcbiAgICB0aGlzLm1heF9hZGFwdGF0aW9uICAgICA9IGdldF9vcHRpb24oXCJtYXhfYWRhcHRhdGlvblwiLCBvcHRpb25zLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgMS4wKTtcbiAgICB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSA9IGdldF9vcHRpb24oXCJ0YXJnZXRfYWNjZXB0X3JhdGVcIiwgb3B0aW9ucywgMC40NCk7XG4gICAgdGhpcy5pc19hZGFwdGluZyAgICAgICAgPSBnZXRfb3B0aW9uKFwiaXNfYWRhcHRpbmdcIiwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgXG4gICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsO1xuICAgIFxuICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7XG4gICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsgIFxuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB2YXIgcGFyYW1fcHJvcG9zYWwgPSB0aGlzLmdlbmVyYXRlX3Byb3Bvc2FsKHBhcmFtX3N0YXRlLCB0aGlzLnByb3BfbG9nX3NjYWxlKTtcbiAgICAgIGlmKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIHtcbiAgICAgICAgLy8gT3V0c2lkZSBvZiBsaW1pdHMgb2YgdGhlIHBhcmFtZXRlciwgcmVqZWN0IHRoZSBwcm9wb3NhbCBcbiAgICAgICAgLy8gYW5kIHN0YXkgYXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICB9IGVsc2UgeyAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwXG4gICAgICAgIHZhciBjdXJyX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9wcm9wb3NhbDtcbiAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgICAgIHZhciBhY2NlcHRfcHJvYiA9IE1hdGguZXhwKHByb3BfbG9nX2RlbnMgLSBjdXJyX2xvZ19kZW5zKTtcbiAgICAgICAgaWYoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7XG4gICAgICAgICAgLy8gV2UgZG8gbm90aGluZyBhcyB0aGUgc3RhdGUgb2YgcGFyYW0gaGFzIGFscmVhZHkgYmVlbiBjaGFuZ2VkIHRvIHRoZSBwcm9wb3NhbFxuICAgICAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrIDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZXZlcnQgc3RhdGUgYmFjayB0byB0aGUgb2xkIHN0YXRlIG9mIHBhcmFtXG4gICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gcGFyYW1fc3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uICsrO1xuICAgICAgICBpZih0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPj0gdGhpcy5iYXRjaF9zaXplKSB7IC8vIHRoZW4gYWRhcHRcbiAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50ICsrO1xuICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IFxuICAgICAgICAgICAgTWF0aC5taW4odGhpcy5tYXhfYWRhcHRhdGlvbiwgXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiAvIE1hdGguc3FydCh0aGlzLmJhdGNoX2NvdW50KSk7XG4gICAgICAgICAgaWYodGhpcy5hY2NlcHRhbmNlX2NvdW50IC8gdGhpcy5iYXRjaF9zaXplID4gdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgKz0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgLT0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXTtcbiAgfTtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IHRydWU7XG4gIH07XG4gIFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IGZhbHNlO1xuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcF9sb2dfc2NhbGU6IHRoaXMucHJvcF9sb2dfc2NhbGUsXG4gICAgICBpc19hZGFwdGluZzogdGhpcy5pc19hZGFwdGluZyxcbiAgICAgIGFjY2VwdGFuY2VfY291bnQ6IHRoaXMuYWNjZXB0YW5jZV9jb3VudCxcbiAgICAgIGl0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb246IHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbixcbiAgICAgIGJhdGNoX2NvdW50OiB0aGlzLmJhdGNoX2NvdW50XG4gICAgfTtcbiAgfTtcbiAgXG4gIFxuICAvKipcbiAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLlxuICAgKi9cbiAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkge1xuICAgIHJldHVybiBybm9ybShwYXJhbV9zdGF0ZSAsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9XG4gICAqIEEgXCJzdWJjbGFzc1wiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIG5vcm1hbF9wcm9wb3NhbCk7XG4gIH07XG4gIFxuICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuXG4gICAqL1xuICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24ocGFyYW1fc3RhdGUsIHByb3BfbG9nX3NjYWxlKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocm5vcm0ocGFyYW1fc3RhdGUgLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTtcbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAYXVnbWVudHMge09uZWRpbU1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBJbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsKTtcbiAgfTtcbiAgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9XG4gICAqIENvbnN0cnVjdG9yIGZvciBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHRoZSBtZXRyb3BvbGlzIHN0ZXAgaW5cbiAgICogdGhlIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiBcIkV4YW1wbGVzIG9mIEFkYXB0aXZlIE1DTUNcIlxuICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdFxuICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIFxuICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgXG4gICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXNcbiAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uXG4gICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cbiAgKi9cbiAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgU3ViU3RlcHBlcikge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7XG4gICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyO1xuICAgIHRoaXMuZGltID0gcGFyYW0uZGltO1xuICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgMCk7XG4gICAgdGhpcy5iYXRjaF9zaXplICAgICAgICAgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwiYmF0Y2hfc2l6ZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApO1xuICAgIHRoaXMubWF4X2FkYXB0YXRpb24gICAgID0gZ2V0X211bHRpZGltX29wdGlvbihcIm1heF9hZGFwdGF0aW9uXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgdGhpcy5kaW0sIDEuMCk7XG4gICAgdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwidGFyZ2V0X2FjY2VwdF9yYXRlXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjQ0KTtcbiAgICB0aGlzLmlzX2FkYXB0aW5nICAgICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpc19hZGFwdGluZ1wiLCBvcHRpb25zLCB0aGlzLmRpbSwgdHJ1ZSk7XG4gICAgXG4gICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiBcbiAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS5cbiAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gXG4gICAgICBmdW5jdGlvbihkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgcHJvcF9sb2dfc2NhbGUsIGJhdGNoX3NpemUsIG1heF9hZGFwdGF0aW9uLCBpbml0aWFsX2FkYXB0YXRpb24sIHRhcmdldF9hY2NlcHRfcmF0ZSwgaXNfYWRhcHRpbmcpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgaWYoZGltLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3Vib3B0aW9ucyA9IHtwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sIGJhdGNoX3NpemU6IGJhdGNoX3NpemVbaV0sXG4gICAgICAgICAgICBtYXhfYWRhcHRhdGlvbjogbWF4X2FkYXB0YXRpb25baV0sIGluaXRpYWxfYWRhcHRhdGlvbjogaW5pdGlhbF9hZGFwdGF0aW9uW2ldLFxuICAgICAgICAgICAgdGFyZ2V0X2FjY2VwdF9yYXRlOiB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXX07XG4gICAgICAgICAgICB2YXIgc3VicGFyYW0gPSB7fTtcbiAgICAgICAgICAgIHN1YnBhcmFtW2ldID0gZGVlcF9jbG9uZShwYXJhbSk7XG4gICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyXG4gICAgICAgICAgICBkZWxldGUgc3VicGFyYW1baV0uaW5pdDsgLy8gQXMgaXQgc291bGQgbm90IGJlIG5lZWRlZFxuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IFN1YlN0ZXBwZXIoc3VicGFyYW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgc3Vib3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZVtpXSwgXG4gICAgICAgICAgICBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LFxuICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSwgdGhpcy5iYXRjaF9zaXplLCB0aGlzLm1heF9hZGFwdGF0aW9uLCB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbixcbiAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlLCB0aGlzLmlzX2FkYXB0aW5nKTtcbiAgICBcbiAgfTtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgbmVzdGVkX2FycmF5X2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uKHN1YnN0ZXBwZXIpIHtzdWJzdGVwcGVyLnN0YXJ0X2FkYXB0YXRpb24oKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3N1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7IH0pO1xuICB9O1xuICBcbiAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge1xuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOyBcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGF1Z21lbnRzIHtNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIpO1xuICB9O1xuICBcbiAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7TXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcn1cbiAgICogQSBcInN1YmNsYXNzXCIgb2YgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovICAgIFxuICB2YXIgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBJbnRNZXRyb3BvbGlzU3RlcHBlcik7XG4gIH07XG4gIFxuICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuXG4gICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGVcbiAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgXG4gICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gIH07XG4gIFxuICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyO1xuICBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7XG4gICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTtcbiAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpO1xuICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zO1xuICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7XG4gICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyggTWF0aC5leHAoemVyb19sb2dfZGVucykgKyBNYXRoLmV4cChvbmVfbG9nX2RlbnMpICkgKTtcbiAgICBpZihNYXRoLnJhbmRvbSgpIDwgemVyb19wcm9iKSB7XG4gICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSAwO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBlbHNlIGtlZXAgdGhlIHBhcmFtIGF0IDEgLlxuICAgIHJldHVybiAxO1xuICB9O1xuICBcbiAgICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBKdXN0IGxpa2UgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciB0aGlzIFN0ZXBwZXIgdGFrZXMgYSBzdGVwcyBmb3JcbiAgICogYSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlciBieSB1cGRhdGluZyBlYWNoIGNvbXBvbmVudCBpbiB0dXJuLiBUaGUgZGlmZmVyZW5jZVxuICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5Q29tcG9uZW50U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICBcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB0aGlzLmRpbSA9IHBhcmFtLmRpbTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlDb21wb25lbnRTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgXG4gICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IFxuICAgICAgZnVuY3Rpb24oZGltLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgdmFyIGk7XG4gICAgICBpZihkaW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgdmFyIHN1YnBhcmFtcyA9IHt9O1xuICAgICAgICAgIHN1YnBhcmFtc1tpXSA9IHBhcmFtO1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IEJpbmFyeVN0ZXBwZXIoc3VicGFyYW1zLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0KTtcbiAgfTtcbiAgXG4gIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7XG4gIFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBUaGlzIHN0ZXBwZXIgY2FuIGJlIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgYSBzdGVwIGZvciBvbmUgb3IgbW9yZSBwYXJhbWV0ZXJzLlxuICAgKiBGb3IgcmVhbCBhbmQgaW50IHBhcmFtZXRlcnMgaXQgdGFrZXMgTWV0cm9wb2xpcyB3aXRoaW4gR2liYnMgc3RlcHMsIGFuZCBmb3IgXG4gICAqIGJpbmFyeSBwYXJhbWV0ZXJzIGl0IGRvZXMgZXZhbHVhdGVzIHRoZSBwb3N0ZXJpb3IgZm9yIGJvdGggcGFyYW10ZXIgdmFsdWVzIGFuZFxuICAgKiByYW5kb21seSBjaGFuZ2VzIHRvIGEgY2VydGFpbiB2YWx1ZSBwcm9wb3J0aW9uYWxseSB0byB0aGF0IHZhbHVlJ3MgcG9zdGVyaW9yXG4gICAqICh0aGlzIGlzIGFsc28gZG9uZSBmb3IgZWFjaCBwYXJhbWV0ZXIsIHNvIGFsc28gYSAqIHdpdGhpbiBHaWJicyBhcHByb2FjaCkuXG4gICAqIFRoaXMgc3RlcHBlciBpcyBhbHNvIGFkYXB0aXZlIGFuZCBjYW4gYmUgZWZmaWNpZW50IHdoZW4gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzXG4gICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIG9uZSBvciBtb3JlIHBhcmFtZXRlciBkZWZpbml0aW9uc1xuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQW13Z1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1fbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXTtcbiAgICAgIHZhciBTZWxlY3RTdGVwcGVyO1xuICAgICAgc3dpdGNoIChwYXJhbS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZWFsXCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW50XCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gSW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IEJpbmFyeVN0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlDb21wb25lbnRTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBcIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgXCIgKyB0aGlzLnBhcmFtX25hbWVzW2ldICArXCIgd2l0aCB0eXBlIFwiICsgcGFyYW0udHlwZTsgXG4gICAgICB9XG4gICAgICB2YXIgcGFyYW1fb2JqZWN0X3dyYXAgPSB7fTtcbiAgICAgIHBhcmFtX29iamVjdF93cmFwW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gcGFyYW07XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBwYXJhbV9vcHRpb25zID0gb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0gfHwge307XG4gICAgICBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlICAgICA9IHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgICAgIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5iYXRjaF9zaXplICAgICAgICAgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgICAgICAgICB8fCBvcHRpb25zLmJhdGNoX3NpemU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiAgICAgPSBwYXJhbV9vcHRpb25zLm1heF9hZGFwdGF0aW9uICAgICB8fCBvcHRpb25zLm1heF9hZGFwdGF0aW9uO1xuICAgICAgcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gPSBwYXJhbV9vcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbiB8fCBvcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbjtcbiAgICAgIHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlID0gcGFyYW1fb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGUgfHwgb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyAgICAgICAgPSBwYXJhbV9vcHRpb25zLmlzX2FkYXB0aW5nICAgICAgICB8fCBvcHRpb25zLmlzX2FkYXB0aW5nOyBcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTdGVwcGVyO1xuICBcbiAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3Vic3RlcHBlcnMpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0ZXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RhcnRfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7XG4gICAgfSBcbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZm8gPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaW5mb1t0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMuc3Vic3RlcHBlcnNbaV0uaW5mbygpO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfTtcbiAgXG4gIFxuICBcbiAgLy8vLy8vLy8vLy8gU2FtcGxlciBGdW5jdGlvbnMgLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBcbiAgIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIFdoaWxlIHlvdSBjb3VsZCBmaXQgYSBtb2RlbCBieSBwYXN0aW5nIHRvZ2V0aGVyIFN0ZXBwZXJzLCBhXG4gIC8vIFNhbXBsZXIgaXMgaGVyZSBpcyBhIGNvbnZlbmllbmNlIGNsYXNzIHdoZXJlIGFuIGluc3RhbmNlIG9mIFNhbXBsZXJcbiAgLy8gc2V0cyB1cCB0aGUgU3RlcHBlcnMsIGNoZWNrcyB0aGUgcGFyYW1ldGVyIGRlZmluaXRpb24sXG4gIC8vIGFuZCBtYW5hZ2VzIHRoZSBzYW1wbGluZy4gVGhpcyBoZXJlIGRlZmluZXMgdGhlIFNhbXBsZXIgXCJpbnRlcmZhY2VcIi5cbiAgICogQGludGVyZmFjZVxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICogICB7XCJtdVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwifSwgXCJzaWdtYVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwiLCBcImxvd2VyXCIgPSAwfX1cbiAgICogICBUaGUgcGFyYW1ldGVyIGRlZmluaXRpb25zIGRvZXNuJ3QgaGF2ZSB0byBiZSBcImNvbXBsZXRlXCIgYW5kIHByb3BlcnRpZXNcbiAgICogICBsZWZ0IG91dCAobGlrZSBsb3dlciBhbmQgdXBwZXIpIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGRlZmF1bHRzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHN0YXRlLCBkYXRhKS4gSGVyZVxuICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIFxuICAgKiAgIGtleSBhbmQgdGhlIHBhcmFtZXRlciB2YWx1ZXMgYXMgbnVtYmVycyBvciBhcnJheXMuIEZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IDMsIFwic2lnbWFcIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgXG4gICAqICAgdGhlIGRhdGEgYXJndW1lbnQgZ2l2ZW4gYmVsb3cuXG4gICAqIEBwYXJhbSBkYXRhIC0gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGxvZ19wb3N0IGZ1bmN0aW9uXG4gICAqICAgd2hlbiBzYW1wbGluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzYW1wbGVyLlxuICAgKi9cbiAgdmFyIFNhbXBsZXIgPSBmdW5jdGlvbihwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLnBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIFxuICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3RcbiAgICB0aGlzLnBhcmFtX2luaXRfZnVuICAgPSBnZXRfb3B0aW9uKFwicGFyYW1faW5pdF9mdW5cIiwgb3B0aW9ucywgcGFyYW1faW5pdF9maXhlZCk7XG4gICAgdmFyIHRoaW5uaW5nX2ludGVydmFsID0gZ2V0X29wdGlvbihcInRoaW5cIiwgb3B0aW9ucywgMSk7XG4gICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbihcIm1vbml0b3JcIiwgb3B0aW9ucywgbnVsbCk7XG4gICAgdGhpcy50aGluKHRoaW5uaW5nX2ludGVydmFsKTtcbiAgICB0aGlzLm1vbml0b3IocGFyYW1zX3RvX21vbml0b3IpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gQ29tcGxldGluZyB0aGUgcGFyYW1zIGFuZCBpbml0aWFsaXppbmcgdGhlIHN0YXRlLlxuICAgIHRoaXMucGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHRoaXMucGFyYW1zLCB0aGlzLnBhcmFtX2luaXRfZnVuKTtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbV9uYW1lcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHN0YXRlW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0uaW5pdDtcbiAgICB9XG4gICAgdGhpcy5sb2dfcG9zdCA9IGZ1bmN0aW9uKCkgeyBcbiAgICAgIHJldHVybiBsb2dfcG9zdChzdGF0ZSwgZGF0YSk7XG4gICAgfTtcbiAgICAvLyBSdW5uaW5nIHRoZSBsb2dfcG9zdCBmdW5jdGlvbiBvbmNlIGluIGNhc2UgaXQgZnVydGhlciBtb2RpZmllcyB0aGUgc3RhdGVcbiAgICAvLyBmb3IgZXhhbXBsZSBhZGRpbmcgZGVyaXZlZCBxdWFudGl0aWVzLlxuICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5zdGVwcGVycyA9IHRoaXMuY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUodGhpcy5wYXJhbXMsIHRoaXMuc3RhdGUsIHRoaXMubG9nX3Bvc3QsIHRoaXMub3B0aW9ucyk7XG4gIH07XG4gIFxuICAvKiogU2hvdWxkIHJldHVybiBhIHZlY3RvciBvZiBzdGVwcGVycyB0aGF0IHdoZW4gY2FsbGVkIFxuICAgKiBzaG91bGQgdGFrZSBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS5cbiAgICovXG4gIFNhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24oc3RhdGUsIGxvZ19wb3N0KXtcbiAgICB0aHJvdyBcIkV2ZXJ5IFNhbXBsZXIgbmVlZHMgdG8gaW1wbGVtZW50IGNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKClcIjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBTYW1wbGVyLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge3N0YXRlOiB0aGlzLnN0YXRlLCB0aGluOiB0aGlzLnRoaW4sIG1vbml0b3I6IHRoaXMubW9uaXRvcixcbiAgICAgICAgICAgIHN0ZXBwZXJzOiB0aGlzLnN0ZXBwZXJzfTtcbiAgfTtcbiAgXG4gIC8qKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gUmV0dXJucyB0aGUgbmV3IHNwYWNlXG4gICAqIGJ1dCBhbHNvIG1vZGlmaWVzIHRoZSBzdGF0ZSBpbiBwbGFjZS5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN0ZXBwZXJzKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7XG4gICAgfVxuICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpLmxlbmd0aCA+IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKS5sZW5ndGgpIHtcbiAgICAgIC8vIFRoZSBzdGF0ZSBjb250YWlucyBkZXZpdmVkIHF1YW50aXRpZXMgKG5vdCBvbmx5IHBhcmFtZXRlcnMpIGFuZCB3ZVxuICAgICAgLy8gbmVlZCB0byBydW4gdGhlIGxvZ19wb3N0IG9uY2UgbW9yZSBpbiBvcmRlciB0byBzZXQgdGhlIGRlcml2ZWQgcXVhbnRpdGllc1xuICAgICAgLy8gZm9yIHRoZSBmaW5hbCBwYXJhbWV0ZXIgc3RhdGVcbiAgICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb25zIHN0ZXBzIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UgYW5kIHJldHVybnMgdGhlbVxuICAgKiBhcyBhbiBvYmplY3Qgb2YgYXJyYXlzIHdpdGggb25lIGFycmF5IHBlciBwYXJhbWV0ZXIuIEZvciBleGFtcGxlOlxuICAgKiB7bXU6IFsxLCAtMSwgMiwgMywgLi4uXSwgc2lnbWE6IFsxLCAyLCAyLCAxLCAuLi5dfS5cbiAgICogSWYgdGhpbiBpcyA+IDEgdGhlbiBuX2l0ZXJhdGlvbnMgLyB0aGluIHNhbXBsZXMgYXJlIHJldHVybmVkLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgICAgLy8gSW5pdGlhbGl6aW5nIGN1cnJfc2FtcGxlIHdoZXJlIHRoZSBzYW1wbGUgaXMgZ29pbmcgdG8gYmUgc2F2ZWRcbiAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC5cbiAgICAgIHZhciBpLCBqLCBtb25pdG9yZWRfcGFyYW1zO1xuICAgICAgaWYodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9O1xuICAgICAgZm9yKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmb3IoaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICBpZihpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkge1xuICAgICAgICAgIGZvcihqID0gMDsgaiA8IG1vbml0b3JlZF9wYXJhbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07XG4gICAgICAgICAgICBjdXJyX3NhbXBsZVtwYXJhbV0ucHVzaCggY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGVwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3Vycl9zYW1wbGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb24gc3RlcHMgaW4gcGFyYW1ldGVyIHNwYWNlIGJ1dCByZXR1cm5zIG5vdGhpbmcuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgdGhpcy5zdGVwKCk7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIFNldHMgd2hhdCBwYXJhbWV0ZXJzIHNob3VsZCBiZSBtb25pdG9yZWQgYW5kIHJldHVybmVkIHdoZW4gY2FsbGluZ1xuICAgKiBzYW1wbGUuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUubW9uaXRvciA9IGZ1bmN0aW9uKHBhcmFtc190b19tb25pdG9yKSB7XG4gICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yXG4gICAqIGRyYXcgd2lsbCBiZSBrZXB0LlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnRoaW4gPSBmdW5jdGlvbih0aGlubmluZ19pbnRlcnZhbCkge1xuICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RhcnRfYWRhcHRhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIFNldHMgYWRhcHRhdGlvbiBvZmYsIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdG9wX2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U2FtcGxlcn1cbiAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIFxuICAgKiBBZGFwdGl2ZSBNZXRyb3BvbGlzLVdpdGhpbi1HaWJicyBhbGdvcml0aG0gaW4gXCJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DXCJcbiAgICogYnkgUm9iZXJ0cyBhbmQgUm9zZW50aGFsICgyMDA4KS4gQW4gYWRpdGlvbiBpcyB0aGF0IGl0IGhhbmRsZXMgaW50IHBhcmFtZXRlcnNcbiAgICogYnkgbWFraW5nIGRpc2NyZXRlIE5vcm1hbCBwcm9wb3NhbHMgYW5kIGJpbmFyeSBwYXJhbWV0ZXJzIGJ5IHRha2luZyBvbiBhIG5ldyBcbiAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlXG4gICAqIHBhcmFtZXRlci4gVGhpcyBzYW1wbGVyIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnNcbiAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBTYW1wbGVyLmNhbGwodGhpcywgcGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG4gIFxuICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTYW1wbGVyO1xuICBcbiAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpe1xuICAgIHJldHVybiBbIG5ldyBBbXdnU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgXTtcbiAgfTtcbiAgXG4gIFxuICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlXG4gIHJldHVybiB7XG4gICAgcnVuaWY6IHJ1bmlmLFxuICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSxcbiAgICBybm9ybTogcm5vcm0sXG4gICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwgXG4gICAgY29tcGxldGVfcGFyYW1zOiBjb21wbGV0ZV9wYXJhbXMsIFxuICAgIFJlYWxNZXRyb3BvbGlzU3RlcHBlcjogUmVhbE1ldHJvcG9saXNTdGVwcGVyLCBcbiAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsIFxuICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjogTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwgXG4gICAgQmluYXJ5Q29tcG9uZW50U3RlcHBlcjogQmluYXJ5Q29tcG9uZW50U3RlcHBlciwgXG4gICAgQW13Z1N0ZXBwZXI6IEFtd2dTdGVwcGVyLCBcbiAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXJcbiAgfTtcbn0pKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBudW1iZXIoeCkge1xuICByZXR1cm4geCA9PT0gbnVsbCA/IE5hTiA6ICt4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIG51bWJlcnModmFsdWVzLCB2YWx1ZW9mKSB7XG4gIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICh2YWx1ZSA9ICt2YWx1ZSkgPj0gdmFsdWUpIHtcbiAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBhc2NlbmRpbmcgZnJvbSBcIi4vYXNjZW5kaW5nLmpzXCI7XG5pbXBvcnQgcGVybXV0ZSBmcm9tIFwiLi9wZXJtdXRlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvcnQodmFsdWVzLCAuLi5GKSB7XG4gIGlmICh0eXBlb2YgdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0gIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbHVlcyBpcyBub3QgaXRlcmFibGVcIik7XG4gIHZhbHVlcyA9IEFycmF5LmZyb20odmFsdWVzKTtcbiAgbGV0IFtmXSA9IEY7XG4gIGlmICgoZiAmJiBmLmxlbmd0aCAhPT0gMikgfHwgRi5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKGQsIGkpID0+IGkpO1xuICAgIGlmIChGLmxlbmd0aCA+IDEpIHtcbiAgICAgIEYgPSBGLm1hcChmID0+IHZhbHVlcy5tYXAoZikpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgRikge1xuICAgICAgICAgIGNvbnN0IGMgPSBhc2NlbmRpbmdEZWZpbmVkKGZbaV0sIGZbal0pO1xuICAgICAgICAgIGlmIChjKSByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGYgPSB2YWx1ZXMubWFwKGYpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4gYXNjZW5kaW5nRGVmaW5lZChmW2ldLCBmW2pdKSk7XG4gICAgfVxuICAgIHJldHVybiBwZXJtdXRlKHZhbHVlcywgaW5kZXgpO1xuICB9XG4gIHJldHVybiB2YWx1ZXMuc29ydChjb21wYXJlRGVmaW5lZChmKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nKSB7XG4gIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmcpIHJldHVybiBhc2NlbmRpbmdEZWZpbmVkO1xuICBpZiAodHlwZW9mIGNvbXBhcmUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGNvbnN0IHggPSBjb21wYXJlKGEsIGIpO1xuICAgIGlmICh4IHx8IHggPT09IDApIHJldHVybiB4O1xuICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHtcbiAgcmV0dXJuIChhID09IG51bGwgfHwgIShhID49IGEpKSAtIChiID09IG51bGwgfHwgIShiID49IGIpKSB8fCAoYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF4KHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWF4O1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWluO1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWluO1xufVxuIiwiaW1wb3J0IHthc2NlbmRpbmdEZWZpbmVkLCBjb21wYXJlRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdFxuLy8gSVNDIGxpY2Vuc2UsIENvcHlyaWdodCAyMDE4IFZsYWRpbWlyIEFnYWZvbmtpbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1aWNrc2VsZWN0KGFycmF5LCBrLCBsZWZ0ID0gMCwgcmlnaHQgPSBJbmZpbml0eSwgY29tcGFyZSkge1xuICBrID0gTWF0aC5mbG9vcihrKTtcbiAgbGVmdCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgbGVmdCkpO1xuICByaWdodCA9IE1hdGguZmxvb3IoTWF0aC5taW4oYXJyYXkubGVuZ3RoIC0gMSwgcmlnaHQpKTtcblxuICBpZiAoIShsZWZ0IDw9IGsgJiYgayA8PSByaWdodCkpIHJldHVybiBhcnJheTtcblxuICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpO1xuXG4gIHdoaWxlIChyaWdodCA+IGxlZnQpIHtcbiAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICBjb25zdCBuID0gcmlnaHQgLSBsZWZ0ICsgMTtcbiAgICAgIGNvbnN0IG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7XG4gICAgICBjb25zdCBzID0gMC41ICogTWF0aC5leHAoMiAqIHogLyAzKTtcbiAgICAgIGNvbnN0IHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICBjb25zdCBuZXdSaWdodCA9IE1hdGgubWluKHJpZ2h0LCBNYXRoLmZsb29yKGsgKyAobiAtIG0pICogcyAvIG4gKyBzZCkpO1xuICAgICAgcXVpY2tzZWxlY3QoYXJyYXksIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBjb21wYXJlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ID0gYXJyYXlba107XG4gICAgbGV0IGkgPSBsZWZ0O1xuICAgIGxldCBqID0gcmlnaHQ7XG5cbiAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTtcbiAgICBpZiAoY29tcGFyZShhcnJheVtyaWdodF0sIHQpID4gMCkgc3dhcChhcnJheSwgbGVmdCwgcmlnaHQpO1xuXG4gICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICBzd2FwKGFycmF5LCBpLCBqKSwgKytpLCAtLWo7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtpXSwgdCkgPCAwKSArK2k7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtcbiAgICBlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpO1xuXG4gICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHtcbiAgY29uc3QgdCA9IGFycmF5W2ldO1xuICBhcnJheVtpXSA9IGFycmF5W2pdO1xuICBhcnJheVtqXSA9IHQ7XG59XG4iLCJpbXBvcnQgbWF4IGZyb20gXCIuL21heC5qc1wiO1xuaW1wb3J0IG1heEluZGV4IGZyb20gXCIuL21heEluZGV4LmpzXCI7XG5pbXBvcnQgbWluIGZyb20gXCIuL21pbi5qc1wiO1xuaW1wb3J0IG1pbkluZGV4IGZyb20gXCIuL21pbkluZGV4LmpzXCI7XG5pbXBvcnQgcXVpY2tzZWxlY3QgZnJvbSBcIi4vcXVpY2tzZWxlY3QuanNcIjtcbmltcG9ydCBudW1iZXIsIHtudW1iZXJzfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmltcG9ydCB7YXNjZW5kaW5nRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IGdyZWF0ZXN0IGZyb20gXCIuL2dyZWF0ZXN0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YW50aWxlKHZhbHVlcywgcCwgdmFsdWVvZikge1xuICB2YWx1ZXMgPSBGbG9hdDY0QXJyYXkuZnJvbShudW1iZXJzKHZhbHVlcywgdmFsdWVvZikpO1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gbWluKHZhbHVlcyk7XG4gIGlmIChwID49IDEpIHJldHVybiBtYXgodmFsdWVzKTtcbiAgdmFyIG4sXG4gICAgICBpID0gKG4gLSAxKSAqIHAsXG4gICAgICBpMCA9IE1hdGguZmxvb3IoaSksXG4gICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksXG4gICAgICB2YWx1ZTEgPSBtaW4odmFsdWVzLnN1YmFycmF5KGkwICsgMSkpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlU29ydGVkKHZhbHVlcywgcCwgdmFsdWVvZiA9IG51bWJlcikge1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzWzBdLCAwLCB2YWx1ZXMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzW24gLSAxXSwgbiAtIDEsIHZhbHVlcyk7XG4gIHZhciBuLFxuICAgICAgaSA9IChuIC0gMSkgKiBwLFxuICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLFxuICAgICAgdmFsdWUwID0gK3ZhbHVlb2YodmFsdWVzW2kwXSwgaTAsIHZhbHVlcyksXG4gICAgICB2YWx1ZTEgPSArdmFsdWVvZih2YWx1ZXNbaTAgKyAxXSwgaTAgKyAxLCB2YWx1ZXMpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlSW5kZXgodmFsdWVzLCBwLCB2YWx1ZW9mID0gbnVtYmVyKSB7XG4gIGlmIChpc05hTihwID0gK3ApKSByZXR1cm47XG4gIG51bWJlcnMgPSBGbG9hdDY0QXJyYXkuZnJvbSh2YWx1ZXMsIChfLCBpKSA9PiBudW1iZXIodmFsdWVvZih2YWx1ZXNbaV0sIGksIHZhbHVlcykpKTtcbiAgaWYgKHAgPD0gMCkgcmV0dXJuIG1pbkluZGV4KG51bWJlcnMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gbWF4SW5kZXgobnVtYmVycyk7XG4gIHZhciBudW1iZXJzLFxuICAgICAgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKF8sIGkpID0+IGkpLFxuICAgICAgaiA9IG51bWJlcnMubGVuZ3RoIC0gMSxcbiAgICAgIGkgPSBNYXRoLmZsb29yKGogKiBwKTtcbiAgcXVpY2tzZWxlY3QoaW5kZXgsIGksIDAsIGosIChpLCBqKSA9PiBhc2NlbmRpbmdEZWZpbmVkKG51bWJlcnNbaV0sIG51bWJlcnNbal0pKTtcbiAgaSA9IGdyZWF0ZXN0KGluZGV4LnN1YmFycmF5KDAsIGkgKyAxKSwgKGkpID0+IG51bWJlcnNbaV0pO1xuICByZXR1cm4gaSA+PSAwID8gaSA6IC0xO1xufVxuIiwiaW1wb3J0IHF1YW50aWxlLCB7cXVhbnRpbGVJbmRleH0gZnJvbSBcIi4vcXVhbnRpbGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVkaWFuKHZhbHVlcywgdmFsdWVvZikge1xuICByZXR1cm4gcXVhbnRpbGUodmFsdWVzLCAwLjUsIHZhbHVlb2YpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFuSW5kZXgodmFsdWVzLCB2YWx1ZW9mKSB7XG4gIHJldHVybiBxdWFudGlsZUluZGV4KHZhbHVlcywgMC41LCB2YWx1ZW9mKTtcbn1cbiIsInZhciBub29wID0ge3ZhbHVlOiAoKSA9PiB7fX07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkge1xuICAgIGlmICghKHQgPSBhcmd1bWVudHNbaV0gKyBcIlwiKSB8fCAodCBpbiBfKSB8fCAvW1xccy5dLy50ZXN0KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHR5cGU6IFwiICsgdCk7XG4gICAgX1t0XSA9IFtdO1xuICB9XG4gIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7XG59XG5cbmZ1bmN0aW9uIERpc3BhdGNoKF8pIHtcbiAgdGhpcy5fID0gXztcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzLCB0eXBlcykge1xuICByZXR1cm4gdHlwZW5hbWVzLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbmFtZSA9IFwiXCIsIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIG5hbWUgPSB0LnNsaWNlKGkgKyAxKSwgdCA9IHQuc2xpY2UoMCwgaSk7XG4gICAgaWYgKHQgJiYgIXR5cGVzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdCk7XG4gICAgcmV0dXJuIHt0eXBlOiB0LCBuYW1lOiBuYW1lfTtcbiAgfSk7XG59XG5cbkRpc3BhdGNoLnByb3RvdHlwZSA9IGRpc3BhdGNoLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IERpc3BhdGNoLFxuICBvbjogZnVuY3Rpb24odHlwZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF8gPSB0aGlzLl8sXG4gICAgICAgIFQgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIsIF8pLFxuICAgICAgICB0LFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSBULmxlbmd0aDtcblxuICAgIC8vIElmIG5vIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJldHVybiB0aGUgY2FsbGJhY2sgb2YgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB3aGlsZSAoKytpIDwgbikgaWYgKCh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgJiYgKHQgPSBnZXQoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHR5cGUgd2FzIHNwZWNpZmllZCwgc2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsYmFjazogXCIgKyBjYWxsYmFjayk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGlmICh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBjYWxsYmFjayk7XG4gICAgICBlbHNlIGlmIChjYWxsYmFjayA9PSBudWxsKSBmb3IgKHQgaW4gXykgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvcHkgPSB7fSwgXyA9IHRoaXMuXztcbiAgICBmb3IgKHZhciB0IGluIF8pIGNvcHlbdF0gPSBfW3RdLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTtcbiAgfSxcbiAgY2FsbDogZnVuY3Rpb24odHlwZSwgdGhhdCkge1xuICAgIGlmICgobiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyKSA+IDApIGZvciAodmFyIGFyZ3MgPSBuZXcgQXJyYXkobiksIGkgPSAwLCBuLCB0OyBpIDwgbjsgKytpKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHR5cGUsIHRoYXQsIGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodmFyIHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldCh0eXBlLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGgsIGM7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHR5cGUsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAodHlwZVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICB0eXBlW2ldID0gbm9vcCwgdHlwZSA9IHR5cGUuc2xpY2UoMCwgaSkuY29uY2F0KHR5cGUuc2xpY2UoaSArIDEpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTogY2FsbGJhY2t9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3BhdGNoO1xuIiwiZXhwb3J0IHZhciB4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB4aHRtbDogeGh0bWwsXG4gIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgeG1sOiBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiXG59O1xuIiwiaW1wb3J0IG5hbWVzcGFjZXMgZnJvbSBcIi4vbmFtZXNwYWNlcy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBwcmVmaXggPSBuYW1lICs9IFwiXCIsIGkgPSBwcmVmaXguaW5kZXhPZihcIjpcIik7XG4gIGlmIChpID49IDAgJiYgKHByZWZpeCA9IG5hbWUuc2xpY2UoMCwgaSkpICE9PSBcInhtbG5zXCIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTtcbiAgcmV0dXJuIG5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSA/IHtzcGFjZTogbmFtZXNwYWNlc1twcmVmaXhdLCBsb2NhbDogbmFtZX0gOiBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xufVxuIiwiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi9uYW1lc3BhY2UuanNcIjtcbmltcG9ydCB7eGh0bWx9IGZyb20gXCIuL25hbWVzcGFjZXMuanNcIjtcblxuZnVuY3Rpb24gY3JlYXRvckluaGVyaXQobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gdGhpcy5vd25lckRvY3VtZW50LFxuICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTtcbiAgICByZXR1cm4gdXJpID09PSB4aHRtbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSB4aHRtbFxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModXJpLCBuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRvckZpeGVkKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIChmdWxsbmFtZS5sb2NhbFxuICAgICAgPyBjcmVhdG9yRml4ZWRcbiAgICAgIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIG5vbmUoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IG5vbmUgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgIT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gc2VsZWN0b3Ioc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBzdWJub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkge1xuICAgICAgICBpZiAoXCJfX2RhdGFfX1wiIGluIG5vZGUpIHN1Ym5vZGUuX19kYXRhX18gPSBub2RlLl9fZGF0YV9fO1xuICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsIi8vIEdpdmVuIHNvbWV0aGluZyBhcnJheSBsaWtlIChvciBudWxsKSwgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBpcyBzdHJpY3RseSBhblxuLy8gYXJyYXkuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBhcnJheS1saWtlIG9iamVjdHMgcGFzc2VkIHRvIGQzLnNlbGVjdEFsbFxuLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGFcbi8vIHNlbGVjdGlvbjsgd2UgZG9u4oCZdCBldmVyIHdhbnQgdG8gY3JlYXRlIGEgc2VsZWN0aW9uIGJhY2tlZCBieSBhIGxpdmVcbi8vIEhUTUxDb2xsZWN0aW9uIG9yIE5vZGVMaXN0LiBIb3dldmVyLCBub3RlIHRoYXQgc2VsZWN0aW9uLnNlbGVjdEFsbCB3aWxsIHVzZSBhXG4vLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXkoeCkge1xuICByZXR1cm4geCA9PSBudWxsID8gW10gOiBBcnJheS5pc0FycmF5KHgpID8geCA6IEFycmF5LmZyb20oeCk7XG59XG4iLCJmdW5jdGlvbiBlbXB0eSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IGVtcHR5IDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIH07XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBhcnJheSBmcm9tIFwiLi4vYXJyYXkuanNcIjtcbmltcG9ydCBzZWxlY3RvckFsbCBmcm9tIFwiLi4vc2VsZWN0b3JBbGwuanNcIjtcblxuZnVuY3Rpb24gYXJyYXlBbGwoc2VsZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYXJyYXkoc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgPT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gYXJyYXlBbGwoc2VsZWN0KTtcbiAgZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IFtdLCBwYXJlbnRzID0gW10sIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSk7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHBhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRNYXRjaGVyKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH07XG59XG5cbiIsImltcG9ydCB7Y2hpbGRNYXRjaGVyfSBmcm9tIFwiLi4vbWF0Y2hlci5qc1wiO1xuXG52YXIgZmluZCA9IEFycmF5LnByb3RvdHlwZS5maW5kO1xuXG5mdW5jdGlvbiBjaGlsZEZpbmQobWF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmaW5kLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjaGlsZEZpcnN0KCkge1xuICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0XG4gICAgICA6IGNoaWxkRmluZCh0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpO1xufVxuIiwiaW1wb3J0IHtjaGlsZE1hdGNoZXJ9IGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbnZhciBmaWx0ZXIgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyO1xuXG5mdW5jdGlvbiBjaGlsZHJlbigpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuRmlsdGVyKG1hdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuXG4gICAgICA6IGNoaWxkcmVuRmlsdGVyKHR5cGVvZiBtYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBtYXRjaGVyIGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIGlmICh0eXBlb2YgbWF0Y2ggIT09IFwiZnVuY3Rpb25cIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHtcbiAgICAgICAgc3ViZ3JvdXAucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXBkYXRlKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7XG59XG4iLCJpbXBvcnQgc3BhcnNlIGZyb20gXCIuL3NwYXJzZS5qc1wiO1xuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRW50ZXJOb2RlKHBhcmVudCwgZGF0dW0pIHtcbiAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHRoaXMubmFtZXNwYWNlVVJJID0gcGFyZW50Lm5hbWVzcGFjZVVSSTtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fX2RhdGFfXyA9IGRhdHVtO1xufVxuXG5FbnRlck5vZGUucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRW50ZXJOb2RlLFxuICBhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHRoaXMuX25leHQpOyB9LFxuICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKGNoaWxkLCBuZXh0KSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBuZXh0KTsgfSxcbiAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsgfSxcbiAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQge0VudGVyTm9kZX0gZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgbm9kZSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBmaXQgaW50byB1cGRhdGUuXG4gIC8vIFB1dCBhbnkgbnVsbCBub2RlcyBpbnRvIGVudGVyLlxuICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuXG4gIGZvciAoOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZG9u4oCZdCBmaXQgaW50byBleGl0LlxuICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmluZEtleShwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhLCBrZXkpIHtcbiAgdmFyIGksXG4gICAgICBub2RlLFxuICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwLFxuICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICBrZXlWYWx1ZXMgPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpLFxuICAgICAga2V5VmFsdWU7XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIG5vZGUuXG4gIC8vIElmIG11bHRpcGxlIG5vZGVzIGhhdmUgdGhlIHNhbWUga2V5LCB0aGUgZHVwbGljYXRlcyBhcmUgYWRkZWQgdG8gZXhpdC5cbiAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBrZXlWYWx1ZXNbaV0gPSBrZXlWYWx1ZSA9IGtleS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSArIFwiXCI7XG4gICAgICBpZiAobm9kZUJ5S2V5VmFsdWUuaGFzKGtleVZhbHVlKSkge1xuICAgICAgICBleGl0W2ldID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVCeUtleVZhbHVlLnNldChrZXlWYWx1ZSwgbm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIGRhdHVtLlxuICAvLyBJZiB0aGVyZSBhIG5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMga2V5LCBqb2luIGFuZCBhZGQgaXQgdG8gdXBkYXRlLlxuICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuXG4gIGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyArK2kpIHtcbiAgICBrZXlWYWx1ZSA9IGtleS5jYWxsKHBhcmVudCwgZGF0YVtpXSwgaSwgZGF0YSkgKyBcIlwiO1xuICAgIGlmIChub2RlID0gbm9kZUJ5S2V5VmFsdWUuZ2V0KGtleVZhbHVlKSkge1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgbm9kZUJ5S2V5VmFsdWUuZGVsZXRlKGtleVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIGFueSByZW1haW5pbmcgbm9kZXMgdGhhdCB3ZXJlIG5vdCBib3VuZCB0byBkYXRhIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkpIHtcbiAgICAgIGV4aXRbaV0gPSBub2RlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkYXR1bShub2RlKSB7XG4gIHJldHVybiBub2RlLl9fZGF0YV9fO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIEFycmF5LmZyb20odGhpcywgZGF0dW0pO1xuXG4gIHZhciBiaW5kID0ga2V5ID8gYmluZEtleSA6IGJpbmRJbmRleCxcbiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLFxuICAgICAgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSBjb25zdGFudCh2YWx1ZSk7XG5cbiAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgdmFyIHBhcmVudCA9IHBhcmVudHNbal0sXG4gICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLFxuICAgICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgICAgZGF0YSA9IGFycmF5bGlrZSh2YWx1ZS5jYWxsKHBhcmVudCwgcGFyZW50ICYmIHBhcmVudC5fX2RhdGFfXywgaiwgcGFyZW50cykpLFxuICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgIGVudGVyR3JvdXAgPSBlbnRlcltqXSA9IG5ldyBBcnJheShkYXRhTGVuZ3RoKSxcbiAgICAgICAgdXBkYXRlR3JvdXAgPSB1cGRhdGVbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpO1xuXG4gICAgYmluZChwYXJlbnQsIGdyb3VwLCBlbnRlckdyb3VwLCB1cGRhdGVHcm91cCwgZXhpdEdyb3VwLCBkYXRhLCBrZXkpO1xuXG4gICAgLy8gTm93IGNvbm5lY3QgdGhlIGVudGVyIG5vZGVzIHRvIHRoZWlyIGZvbGxvd2luZyB1cGRhdGUgbm9kZSwgc3VjaCB0aGF0XG4gICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSxcbiAgICAvLyByYXRoZXIgdGhhbiBhdCB0aGUgZW5kIG9mIHRoZSBwYXJlbnQgbm9kZS5cbiAgICBmb3IgKHZhciBpMCA9IDAsIGkxID0gMCwgcHJldmlvdXMsIG5leHQ7IGkwIDwgZGF0YUxlbmd0aDsgKytpMCkge1xuICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHtcbiAgICAgICAgaWYgKGkwID49IGkxKSBpMSA9IGkwICsgMTtcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IHVwZGF0ZUdyb3VwW2kxXSkgJiYgKytpMSA8IGRhdGFMZW5ndGgpO1xuICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUgPSBuZXcgU2VsZWN0aW9uKHVwZGF0ZSwgcGFyZW50cyk7XG4gIHVwZGF0ZS5fZW50ZXIgPSBlbnRlcjtcbiAgdXBkYXRlLl9leGl0ID0gZXhpdDtcbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuLy8gR2l2ZW4gc29tZSBkYXRhLCB0aGlzIHJldHVybnMgYW4gYXJyYXktbGlrZSB2aWV3IG9mIGl0OiBhbiBvYmplY3QgdGhhdFxuLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2Vcbi8vIHNlbGVjdEFsbCwgdGhpcyBpc27igJl0IHdvcnJpZWQgYWJvdXQg4oCcbGl2ZeKAnSBjb2xsZWN0aW9ucyBiZWNhdXNlIHRoZSByZXN1bHRpbmdcbi8vIGFycmF5IHdpbGwgb25seSBiZSB1c2VkIGJyaWVmbHkgd2hpbGUgZGF0YSBpcyBiZWluZyBib3VuZC4gKEl0IGlzIHBvc3NpYmxlIHRvXG4vLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlXG4vLyBkb27igJl0OyB3ZeKAmWQgcmF0aGVyIGF2b2lkIGEgZ3JhdHVpdG91cyBjb3B5LilcbmZ1bmN0aW9uIGFycmF5bGlrZShkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImxlbmd0aFwiIGluIGRhdGFcbiAgICA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlXG4gICAgOiBBcnJheS5mcm9tKGRhdGEpOyAvLyBNYXAsIFNldCwgaXRlcmFibGUsIHN0cmluZywgb3IgYW55dGhpbmcgZWxzZVxufVxuIiwiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2UuanNcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZXhpdCB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob25lbnRlciwgb251cGRhdGUsIG9uZXhpdCkge1xuICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksIHVwZGF0ZSA9IHRoaXMsIGV4aXQgPSB0aGlzLmV4aXQoKTtcbiAgaWYgKHR5cGVvZiBvbmVudGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpO1xuICAgIGlmIChlbnRlcikgZW50ZXIgPSBlbnRlci5zZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgXCJcIik7XG4gIH1cbiAgaWYgKG9udXBkYXRlICE9IG51bGwpIHtcbiAgICB1cGRhdGUgPSBvbnVwZGF0ZSh1cGRhdGUpO1xuICAgIGlmICh1cGRhdGUpIHVwZGF0ZSA9IHVwZGF0ZS5zZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAob25leGl0ID09IG51bGwpIGV4aXQucmVtb3ZlKCk7IGVsc2Ugb25leGl0KGV4aXQpO1xuICByZXR1cm4gZW50ZXIgJiYgdXBkYXRlID8gZW50ZXIubWVyZ2UodXBkYXRlKS5vcmRlcigpIDogdXBkYXRlO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHNlbGVjdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gLTEsIG0gPSBncm91cHMubGVuZ3RoOyArK2ogPCBtOykge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgaWYgKG5leHQgJiYgbm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0KSBeIDQpIG5leHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCk7XG4gICAgICAgIG5leHQgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVOb2RlKGEsIGIpIHtcbiAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzb3J0Z3JvdXAgPSBzb3J0Z3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzb3J0Z3JvdXBzLCB0aGlzLl9wYXJlbnRzKS5vcmRlcigpO1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzBdO1xuICBhcmd1bWVudHNbMF0gPSB0aGlzO1xuICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICB2YXIgbm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG5vZGUpIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIGxldCBzaXplID0gMDtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMubm9kZSgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgbmFtZXNwYWNlIGZyb20gXCIuLi9uYW1lc3BhY2UuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgcmV0dXJuIGZ1bGxuYW1lLmxvY2FsXG4gICAgICAgID8gbm9kZS5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpXG4gICAgICAgIDogbm9kZS5nZXRBdHRyaWJ1dGUoZnVsbG5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbilcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKSkoZnVsbG5hbWUsIHZhbHVlKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiAobm9kZS5vd25lckRvY3VtZW50ICYmIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgLy8gbm9kZSBpcyBhIE5vZGVcbiAgICAgIHx8IChub2RlLmRvY3VtZW50ICYmIG5vZGUpIC8vIG5vZGUgaXMgYSBXaW5kb3dcbiAgICAgIHx8IG5vZGUuZGVmYXVsdFZpZXc7IC8vIG5vZGUgaXMgYSBEb2N1bWVudFxufVxuIiwiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3cuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2LCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICA/IHN0eWxlUmVtb3ZlIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gc3R5bGVGdW5jdGlvblxuICAgICAgICAgICAgOiBzdHlsZUNvbnN0YW50KShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpXG4gICAgICA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVWYWx1ZShub2RlLCBuYW1lKSB7XG4gIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSlcbiAgICAgIHx8IGRlZmF1bHRWaWV3KG5vZGUpLmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIHByb3BlcnR5UmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzW25hbWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSBkZWxldGUgdGhpc1tuYW1lXTtcbiAgICBlbHNlIHRoaXNbbmFtZV0gPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBwcm9wZXJ0eUZ1bmN0aW9uXG4gICAgICAgICAgOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpW25hbWVdO1xufVxuIiwiZnVuY3Rpb24gY2xhc3NBcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XFxzKy8pO1xufVxuXG5mdW5jdGlvbiBjbGFzc0xpc3Qobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHtcbiAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gIHRoaXMuX25hbWVzID0gY2xhc3NBcnJheShub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpO1xufVxuXG5DbGFzc0xpc3QucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5fbmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICBjb250YWluczogZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNsYXNzZWRBZGQobm9kZSwgbmFtZXMpIHtcbiAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5yZW1vdmUobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkVHJ1ZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZEFkZCh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGdW5jdGlvbihuYW1lcywgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICh2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpID8gY2xhc3NlZEFkZCA6IGNsYXNzZWRSZW1vdmUpKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIG5hbWVzID0gY2xhc3NBcnJheShuYW1lICsgXCJcIik7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIGxpc3QgPSBjbGFzc0xpc3QodGhpcy5ub2RlKCkpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gICAgd2hpbGUgKCsraSA8IG4pIGlmICghbGlzdC5jb250YWlucyhuYW1lc1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGNsYXNzZWRGdW5jdGlvbiA6IHZhbHVlXG4gICAgICA/IGNsYXNzZWRUcnVlXG4gICAgICA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7XG59XG4iLCJmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkge1xuICB0aGlzLnRleHRDb250ZW50ID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHRleHRGdW5jdGlvblxuICAgICAgICAgIDogdGV4dENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50O1xufVxuIiwiZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHtcbiAgdGhpcy5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBodG1sQ29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdiA9PSBudWxsID8gXCJcIiA6IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBodG1sUmVtb3ZlIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBodG1sRnVuY3Rpb25cbiAgICAgICAgICA6IGh0bWxDb25zdGFudCkodmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJmdW5jdGlvbiByYWlzZSgpIHtcbiAgaWYgKHRoaXMubmV4dFNpYmxpbmcpIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmFpc2UpO1xufVxuIiwiZnVuY3Rpb24gbG93ZXIoKSB7XG4gIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTtcbn1cbiIsImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGVuZENoaWxkKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgY3JlYXRvciBmcm9tIFwiLi4vY3JlYXRvci5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5mdW5jdGlvbiBjb25zdGFudE51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBiZWZvcmUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSxcbiAgICAgIHNlbGVjdCA9IGJlZm9yZSA9PSBudWxsID8gY29uc3RhbnROdWxsIDogdHlwZW9mIGJlZm9yZSA9PT0gXCJmdW5jdGlvblwiID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwiZnVuY3Rpb24gcmVtb3ZlKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJlbW92ZSk7XG59XG4iLCJmdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZShmYWxzZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKHRydWUpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWVwKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChkZWVwID8gc2VsZWN0aW9uX2Nsb25lRGVlcCA6IHNlbGVjdGlvbl9jbG9uZVNoYWxsb3cpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5wcm9wZXJ0eShcIl9fZGF0YV9fXCIsIHZhbHVlKVxuICAgICAgOiB0aGlzLm5vZGUoKS5fX2RhdGFfXztcbn1cbiIsImZ1bmN0aW9uIGNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0aGlzLl9fZGF0YV9fKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25SZW1vdmUodHlwZW5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbiA9IHRoaXMuX19vbjtcbiAgICBpZiAoIW9uKSByZXR1cm47XG4gICAgZm9yICh2YXIgaiA9IDAsIGkgPSAtMSwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgaWYgKG8gPSBvbltqXSwgKCF0eXBlbmFtZS50eXBlIHx8IG8udHlwZSA9PT0gdHlwZW5hbWUudHlwZSkgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblsrK2ldID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCsraSkgb24ubGVuZ3RoID0gaTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9fb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uLCBvLCBsaXN0ZW5lciA9IGNvbnRleHRMaXN0ZW5lcih2YWx1ZSk7XG4gICAgaWYgKG9uKSBmb3IgKHZhciBqID0gMCwgbSA9IG9uLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIgPSBsaXN0ZW5lciwgby5vcHRpb25zID0gb3B0aW9ucyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZW5hbWUudHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIG8gPSB7dHlwZTogdHlwZW5hbWUudHlwZSwgbmFtZTogdHlwZW5hbWUubmFtZSwgdmFsdWU6IHZhbHVlLCBsaXN0ZW5lcjogbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnN9O1xuICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtcbiAgICBlbHNlIG9uLnB1c2gobyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdHlwZW5hbWVzID0gcGFyc2VUeXBlbmFtZXModHlwZW5hbWUgKyBcIlwiKSwgaSwgbiA9IHR5cGVuYW1lcy5sZW5ndGgsIHQ7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIG9uID0gdGhpcy5ub2RlKCkuX19vbjtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBmb3IgKGkgPSAwLCBvID0gb25bal07IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKCh0ID0gdHlwZW5hbWVzW2ldKS50eXBlID09PSBvLnR5cGUgJiYgdC5uYW1lID09PSBvLm5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gby52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBvbiA9IHZhbHVlID8gb25BZGQgOiBvblJlbW92ZTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkgdGhpcy5lYWNoKG9uKHR5cGVuYW1lc1tpXSwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvdy5qc1wiO1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykge1xuICB2YXIgd2luZG93ID0gZGVmYXVsdFZpZXcobm9kZSksXG4gICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBldmVudCA9IG5ldyBldmVudCh0eXBlLCBwYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgaWYgKHBhcmFtcykgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSksIGV2ZW50LmRldGFpbCA9IHBhcmFtcy5kZXRhaWw7XG4gICAgZWxzZSBldmVudC5pbml0RXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29uc3RhbnQodHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCB0eXBlLCBwYXJhbXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGRpc3BhdGNoRnVuY3Rpb25cbiAgICAgIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiooKSB7XG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB5aWVsZCBub2RlO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGwuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQgZnJvbSBcIi4vc2VsZWN0Q2hpbGQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gZnJvbSBcIi4vc2VsZWN0Q2hpbGRyZW4uanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXRhIGZyb20gXCIuL2RhdGEuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW50ZXIgZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZXhpdCBmcm9tIFwiLi9leGl0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2pvaW4gZnJvbSBcIi4vam9pbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vcmRlciBmcm9tIFwiLi9vcmRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zb3J0IGZyb20gXCIuL3NvcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2FsbCBmcm9tIFwiLi9jYWxsLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGVzIGZyb20gXCIuL25vZGVzLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGUgZnJvbSBcIi4vbm9kZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zaXplIGZyb20gXCIuL3NpemUuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW1wdHkgZnJvbSBcIi4vZW1wdHkuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZWFjaCBmcm9tIFwiLi9lYWNoLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9wcm9wZXJ0eSBmcm9tIFwiLi9wcm9wZXJ0eS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbGFzc2VkIGZyb20gXCIuL2NsYXNzZWQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2h0bWwgZnJvbSBcIi4vaHRtbC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9yYWlzZSBmcm9tIFwiLi9yYWlzZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9sb3dlciBmcm9tIFwiLi9sb3dlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9hcHBlbmQgZnJvbSBcIi4vYXBwZW5kLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2luc2VydCBmcm9tIFwiLi9pbnNlcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbG9uZSBmcm9tIFwiLi9jbG9uZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXR1bSBmcm9tIFwiLi9kYXR1bS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kaXNwYXRjaCBmcm9tIFwiLi9kaXNwYXRjaC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9pdGVyYXRvciBmcm9tIFwiLi9pdGVyYXRvci5qc1wiO1xuXG5leHBvcnQgdmFyIHJvb3QgPSBbbnVsbF07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWxlY3Rpb24oZ3JvdXBzLCBwYXJlbnRzKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufVxuXG5TZWxlY3Rpb24ucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNlbGVjdGlvbixcbiAgc2VsZWN0OiBzZWxlY3Rpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHNlbGVjdGlvbl9zZWxlY3RBbGwsXG4gIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsXG4gIHNlbGVjdENoaWxkcmVuOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogc2VsZWN0aW9uX2ZpbHRlcixcbiAgZGF0YTogc2VsZWN0aW9uX2RhdGEsXG4gIGVudGVyOiBzZWxlY3Rpb25fZW50ZXIsXG4gIGV4aXQ6IHNlbGVjdGlvbl9leGl0LFxuICBqb2luOiBzZWxlY3Rpb25fam9pbixcbiAgbWVyZ2U6IHNlbGVjdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiBzZWxlY3Rpb25fc2VsZWN0aW9uLFxuICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLFxuICBzb3J0OiBzZWxlY3Rpb25fc29ydCxcbiAgY2FsbDogc2VsZWN0aW9uX2NhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX2VhY2gsXG4gIGF0dHI6IHNlbGVjdGlvbl9hdHRyLFxuICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLFxuICBwcm9wZXJ0eTogc2VsZWN0aW9uX3Byb3BlcnR5LFxuICBjbGFzc2VkOiBzZWxlY3Rpb25fY2xhc3NlZCxcbiAgdGV4dDogc2VsZWN0aW9uX3RleHQsXG4gIGh0bWw6IHNlbGVjdGlvbl9odG1sLFxuICByYWlzZTogc2VsZWN0aW9uX3JhaXNlLFxuICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLFxuICBhcHBlbmQ6IHNlbGVjdGlvbl9hcHBlbmQsXG4gIGluc2VydDogc2VsZWN0aW9uX2luc2VydCxcbiAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLFxuICBjbG9uZTogc2VsZWN0aW9uX2Nsb25lLFxuICBkYXR1bTogc2VsZWN0aW9uX2RhdHVtLFxuICBvbjogc2VsZWN0aW9uX29uLFxuICBkaXNwYXRjaDogc2VsZWN0aW9uX2Rpc3BhdGNoLFxuICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX2l0ZXJhdG9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb247XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pXFxcXHMqXCIsXG4gICAgcmVQID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pJVxcXFxzKlwiLFxuICAgIHJlSGV4ID0gL14jKFswLTlhLWZdezMsOH0pJC8sXG4gICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX1cXFxcKSRgKSxcbiAgICByZVJnYlBlcmNlbnQgPSBuZXcgUmVnRXhwKGBecmdiXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKGBecmdiYVxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFxcXCkkYCksXG4gICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfSwke3JlTn1cXFxcKSRgKSxcbiAgICByZUhzbFBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsXFxcXCgke3JlTn0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlSHNsYVBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsYVxcXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFxcXCkkYCk7XG5cbnZhciBuYW1lZCA9IHtcbiAgYWxpY2VibHVlOiAweGYwZjhmZixcbiAgYW50aXF1ZXdoaXRlOiAweGZhZWJkNyxcbiAgYXF1YTogMHgwMGZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0LFxuICBhenVyZTogMHhmMGZmZmYsXG4gIGJlaWdlOiAweGY1ZjVkYyxcbiAgYmlzcXVlOiAweGZmZTRjNCxcbiAgYmxhY2s6IDB4MDAwMDAwLFxuICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsXG4gIGJsdWU6IDB4MDAwMGZmLFxuICBibHVldmlvbGV0OiAweDhhMmJlMixcbiAgYnJvd246IDB4YTUyYTJhLFxuICBidXJseXdvb2Q6IDB4ZGViODg3LFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwLFxuICBjaGFydHJldXNlOiAweDdmZmYwMCxcbiAgY2hvY29sYXRlOiAweGQyNjkxZSxcbiAgY29yYWw6IDB4ZmY3ZjUwLFxuICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsXG4gIGNvcm5zaWxrOiAweGZmZjhkYyxcbiAgY3JpbXNvbjogMHhkYzE0M2MsXG4gIGN5YW46IDB4MDBmZmZmLFxuICBkYXJrYmx1ZTogMHgwMDAwOGIsXG4gIGRhcmtjeWFuOiAweDAwOGI4YixcbiAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsXG4gIGRhcmtncmF5OiAweGE5YTlhOSxcbiAgZGFya2dyZWVuOiAweDAwNjQwMCxcbiAgZGFya2dyZXk6IDB4YTlhOWE5LFxuICBkYXJra2hha2k6IDB4YmRiNzZiLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGIsXG4gIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZixcbiAgZGFya29yYW5nZTogMHhmZjhjMDAsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjLFxuICBkYXJrcmVkOiAweDhiMDAwMCxcbiAgZGFya3NhbG1vbjogMHhlOTk2N2EsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGYsXG4gIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLFxuICBkYXJrc2xhdGVncmF5OiAweDJmNGY0ZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGYsXG4gIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLFxuICBkYXJrdmlvbGV0OiAweDk0MDBkMyxcbiAgZGVlcHBpbms6IDB4ZmYxNDkzLFxuICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsXG4gIGRpbWdyYXk6IDB4Njk2OTY5LFxuICBkaW1ncmV5OiAweDY5Njk2OSxcbiAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsXG4gIGZpcmVicmljazogMHhiMjIyMjIsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMCxcbiAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLFxuICBmdWNoc2lhOiAweGZmMDBmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkYyxcbiAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsXG4gIGdvbGQ6IDB4ZmZkNzAwLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwLFxuICBncmF5OiAweDgwODA4MCxcbiAgZ3JlZW46IDB4MDA4MDAwLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmYsXG4gIGdyZXk6IDB4ODA4MDgwLFxuICBob25leWRldzogMHhmMGZmZjAsXG4gIGhvdHBpbms6IDB4ZmY2OWI0LFxuICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLFxuICBpbmRpZ286IDB4NGIwMDgyLFxuICBpdm9yeTogMHhmZmZmZjAsXG4gIGtoYWtpOiAweGYwZTY4YyxcbiAgbGF2ZW5kZXI6IDB4ZTZlNmZhLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNSxcbiAgbGF3bmdyZWVuOiAweDdjZmMwMCxcbiAgbGVtb25jaGlmZm9uOiAweGZmZmFjZCxcbiAgbGlnaHRibHVlOiAweGFkZDhlNixcbiAgbGlnaHRjb3JhbDogMHhmMDgwODAsXG4gIGxpZ2h0Y3lhbjogMHhlMGZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMixcbiAgbGlnaHRncmF5OiAweGQzZDNkMyxcbiAgbGlnaHRncmVlbjogMHg5MGVlOTAsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDMsXG4gIGxpZ2h0cGluazogMHhmZmI2YzEsXG4gIGxpZ2h0c2FsbW9uOiAweGZmYTA3YSxcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWEsXG4gIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsXG4gIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxuICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsXG4gIGxpZ2h0eWVsbG93OiAweGZmZmZlMCxcbiAgbGltZTogMHgwMGZmMDAsXG4gIGxpbWVncmVlbjogMHgzMmNkMzIsXG4gIGxpbmVuOiAweGZhZjBlNixcbiAgbWFnZW50YTogMHhmZjAwZmYsXG4gIG1hcm9vbjogMHg4MDAwMDAsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZjZGFhLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZCxcbiAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMyxcbiAgbWVkaXVtcHVycGxlOiAweDkzNzBkYixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxLFxuICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLFxuICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMGZhOWEsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2MsXG4gIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsXG4gIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmEsXG4gIG1pc3R5cm9zZTogMHhmZmU0ZTEsXG4gIG1vY2Nhc2luOiAweGZmZTRiNSxcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkLFxuICBuYXZ5OiAweDAwMDA4MCxcbiAgb2xkbGFjZTogMHhmZGY1ZTYsXG4gIG9saXZlOiAweDgwODAwMCxcbiAgb2xpdmVkcmFiOiAweDZiOGUyMyxcbiAgb3JhbmdlOiAweGZmYTUwMCxcbiAgb3JhbmdlcmVkOiAweGZmNDUwMCxcbiAgb3JjaGlkOiAweGRhNzBkNixcbiAgcGFsZWdvbGRlbnJvZDogMHhlZWU4YWEsXG4gIHBhbGVncmVlbjogMHg5OGZiOTgsXG4gIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLFxuICBwYWxldmlvbGV0cmVkOiAweGRiNzA5MyxcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDUsXG4gIHBlYWNocHVmZjogMHhmZmRhYjksXG4gIHBlcnU6IDB4Y2Q4NTNmLFxuICBwaW5rOiAweGZmYzBjYixcbiAgcGx1bTogMHhkZGEwZGQsXG4gIHBvd2RlcmJsdWU6IDB4YjBlMGU2LFxuICBwdXJwbGU6IDB4ODAwMDgwLFxuICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcbiAgcmVkOiAweGZmMDAwMCxcbiAgcm9zeWJyb3duOiAweGJjOGY4ZixcbiAgcm95YWxibHVlOiAweDQxNjllMSxcbiAgc2FkZGxlYnJvd246IDB4OGI0NTEzLFxuICBzYWxtb246IDB4ZmE4MDcyLFxuICBzYW5keWJyb3duOiAweGY0YTQ2MCxcbiAgc2VhZ3JlZW46IDB4MmU4YjU3LFxuICBzZWFzaGVsbDogMHhmZmY1ZWUsXG4gIHNpZW5uYTogMHhhMDUyMmQsXG4gIHNpbHZlcjogMHhjMGMwYzAsXG4gIHNreWJsdWU6IDB4ODdjZWViLFxuICBzbGF0ZWJsdWU6IDB4NmE1YWNkLFxuICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxuICBzbm93OiAweGZmZmFmYSxcbiAgc3ByaW5nZ3JlZW46IDB4MDBmZjdmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0LFxuICB0YW46IDB4ZDJiNDhjLFxuICB0ZWFsOiAweDAwODA4MCxcbiAgdGhpc3RsZTogMHhkOGJmZDgsXG4gIHRvbWF0bzogMHhmZjYzNDcsXG4gIHR1cnF1b2lzZTogMHg0MGUwZDAsXG4gIHZpb2xldDogMHhlZTgyZWUsXG4gIHdoZWF0OiAweGY1ZGViMyxcbiAgd2hpdGU6IDB4ZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNSxcbiAgeWVsbG93OiAweGZmZmYwMCxcbiAgeWVsbG93Z3JlZW46IDB4OWFjZDMyXG59O1xuXG5kZWZpbmUoQ29sb3IsIGNvbG9yLCB7XG4gIGNvcHkoY2hhbm5lbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvciwgdGhpcywgY2hhbm5lbHMpO1xuICB9LFxuICBkaXNwbGF5YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhleDg6IGNvbG9yX2Zvcm1hdEhleDgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleDgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkge1xuICByZXR1cm4gaHNsQ29udmVydCh0aGlzKS5mb3JtYXRIc2woKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0UmdiKCkge1xuICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRSZ2IoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29sb3IoZm9ybWF0KSB7XG4gIHZhciBtLCBsO1xuICBmb3JtYXQgPSAoZm9ybWF0ICsgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwXG4gICAgICA6IGwgPT09IDMgPyBuZXcgUmdiKChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZiksIDEpIC8vICNmMDBcbiAgICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwXG4gICAgICA6IGwgPT09IDQgPyByZ2JhKChtID4+IDEyICYgMHhmKSB8IChtID4+IDggJiAweGYwKSwgKG0gPj4gOCAmIDB4ZikgfCAobSA+PiA0ICYgMHhmMCksIChtID4+IDQgJiAweGYpIHwgKG0gJiAweGYwKSwgKCgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZikpIC8gMHhmZikgLy8gI2YwMDBcbiAgICAgIDogbnVsbCkgLy8gaW52YWxpZCBoZXhcbiAgICAgIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMClcbiAgICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSlcbiAgICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKVxuICAgICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSlcbiAgICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpXG4gICAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpXG4gICAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICA6IGZvcm1hdCA9PT0gXCJ0cmFuc3BhcmVudFwiID8gbmV3IFJnYihOYU4sIE5hTiwgTmFOLCAwKVxuICAgICAgOiBudWxsO1xufVxuXG5mdW5jdGlvbiByZ2JuKG4pIHtcbiAgcmV0dXJuIG5ldyBSZ2IobiA+PiAxNiAmIDB4ZmYsIG4gPj4gOCAmIDB4ZmYsIG4gJiAweGZmLCAxKTtcbn1cblxuZnVuY3Rpb24gcmdiYShyLCBnLCBiLCBhKSB7XG4gIGlmIChhIDw9IDApIHIgPSBnID0gYiA9IE5hTjtcbiAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JDb252ZXJ0KG8pIHtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgUmdiO1xuICBvID0gby5yZ2IoKTtcbiAgcmV0dXJuIG5ldyBSZ2Ioby5yLCBvLmcsIG8uYiwgby5vcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gcmdiQ29udmVydChyKSA6IG5ldyBSZ2IociwgZywgYiwgb3BhY2l0eSA9PSBudWxsID8gMSA6IG9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmdiKHIsIGcsIGIsIG9wYWNpdHkpIHtcbiAgdGhpcy5yID0gK3I7XG4gIHRoaXMuZyA9ICtnO1xuICB0aGlzLmIgPSArYjtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShSZ2IsIHJnYiwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGNsYW1wKCkge1xuICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTtcbiAgfSxcbiAgZGlzcGxheWFibGUoKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCxcbiAgZm9ybWF0UmdiOiByZ2JfZm9ybWF0UmdiLFxuICB0b1N0cmluZzogcmdiX2Zvcm1hdFJnYlxufSkpO1xuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4KCkge1xuICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gO1xufVxuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHtcbiAgcmV0dXJuIGAjJHtoZXgodGhpcy5yKX0ke2hleCh0aGlzLmcpfSR7aGV4KHRoaXMuYil9JHtoZXgoKGlzTmFOKHRoaXMub3BhY2l0eSkgPyAxIDogdGhpcy5vcGFjaXR5KSAqIDI1NSl9YDtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICByZXR1cm4gYCR7YSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwifSR7Y2xhbXBpKHRoaXMucil9LCAke2NsYW1waSh0aGlzLmcpfSwgJHtjbGFtcGkodGhpcy5iKX0ke2EgPT09IDEgPyBcIilcIiA6IGAsICR7YX0pYH1gO1xufVxuXG5mdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkge1xuICByZXR1cm4gaXNOYU4ob3BhY2l0eSkgPyAxIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgb3BhY2l0eSkpO1xufVxuXG5mdW5jdGlvbiBjbGFtcGkodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh2YWx1ZSkgfHwgMCkpO1xufVxuXG5mdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgdmFsdWUgPSBjbGFtcGkodmFsdWUpO1xuICByZXR1cm4gKHZhbHVlIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgdmFsdWUudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHtcbiAgaWYgKGEgPD0gMCkgaCA9IHMgPSBsID0gTmFOO1xuICBlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtcbiAgZWxzZSBpZiAocyA8PSAwKSBoID0gTmFOO1xuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbENvbnZlcnQobykge1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgSHNsO1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG87XG4gIG8gPSBvLnJnYigpO1xuICB2YXIgciA9IG8uciAvIDI1NSxcbiAgICAgIGcgPSBvLmcgLyAyNTUsXG4gICAgICBiID0gby5iIC8gMjU1LFxuICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgIGggPSBOYU4sXG4gICAgICBzID0gbWF4IC0gbWluLFxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKHMpIHtcbiAgICBpZiAociA9PT0gbWF4KSBoID0gKGcgLSBiKSAvIHMgKyAoZyA8IGIpICogNjtcbiAgICBlbHNlIGlmIChnID09PSBtYXgpIGggPSAoYiAtIHIpIC8gcyArIDI7XG4gICAgZWxzZSBoID0gKHIgLSBnKSAvIHMgKyA0O1xuICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47XG4gICAgaCAqPSA2MDtcbiAgfSBlbHNlIHtcbiAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDtcbiAgfVxuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBoc2xDb252ZXJ0KGgpIDogbmV3IEhzbChoLCBzLCBsLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmZ1bmN0aW9uIEhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHRoaXMuaCA9ICtoO1xuICB0aGlzLnMgPSArcztcbiAgdGhpcy5sID0gK2w7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXIoaykge1xuICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgdmFyIGggPSB0aGlzLmggJSAzNjAgKyAodGhpcy5oIDwgMCkgKiAzNjAsXG4gICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucyxcbiAgICAgICAgbCA9IHRoaXMubCxcbiAgICAgICAgbTIgPSBsICsgKGwgPCAwLjUgPyBsIDogMSAtIGwpICogcyxcbiAgICAgICAgbTEgPSAyICogbCAtIG0yO1xuICAgIHJldHVybiBuZXcgUmdiKFxuICAgICAgaHNsMnJnYihoID49IDI0MCA/IGggLSAyNDAgOiBoICsgMTIwLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksXG4gICAgICB0aGlzLm9wYWNpdHlcbiAgICApO1xuICB9LFxuICBjbGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IEhzbChjbGFtcGgodGhpcy5oKSwgY2xhbXB0KHRoaXMucyksIGNsYW1wdCh0aGlzLmwpLCBjbGFtcGEodGhpcy5vcGFjaXR5KSk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlKCkge1xuICAgIHJldHVybiAoMCA8PSB0aGlzLnMgJiYgdGhpcy5zIDw9IDEgfHwgaXNOYU4odGhpcy5zKSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5sICYmIHRoaXMubCA8PSAxKVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBmb3JtYXRIc2woKSB7XG4gICAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICAgIHJldHVybiBgJHthID09PSAxID8gXCJoc2woXCIgOiBcImhzbGEoXCJ9JHtjbGFtcGgodGhpcy5oKX0sICR7Y2xhbXB0KHRoaXMucykgKiAxMDB9JSwgJHtjbGFtcHQodGhpcy5sKSAqIDEwMH0lJHthID09PSAxID8gXCIpXCIgOiBgLCAke2F9KWB9YDtcbiAgfVxufSkpO1xuXG5mdW5jdGlvbiBjbGFtcGgodmFsdWUpIHtcbiAgdmFsdWUgPSAodmFsdWUgfHwgMCkgJSAzNjA7XG4gIHJldHVybiB2YWx1ZSA8IDAgPyB2YWx1ZSArIDM2MCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjbGFtcHQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTtcbn1cblxuLyogRnJvbSBGdkQgMTMuMzcsIENTUyBDb2xvciBNb2R1bGUgTGV2ZWwgMyAqL1xuZnVuY3Rpb24gaHNsMnJnYihoLCBtMSwgbTIpIHtcbiAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MFxuICAgICAgOiBoIDwgMTgwID8gbTJcbiAgICAgIDogaCA8IDI0MCA/IG0xICsgKG0yIC0gbTEpICogKDI0MCAtIGgpIC8gNjBcbiAgICAgIDogbTEpICogMjU1O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgeCA9PiAoKSA9PiB4O1xuIiwiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGxpbmVhcihhLCBkKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKyB0ICogZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwb25lbnRpYWwoYSwgYiwgeSkge1xuICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coYSArIHQgKiBiLCB5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQgPiAxODAgfHwgZCA8IC0xODAgPyBkIC0gMzYwICogTWF0aC5yb3VuZChkIC8gMzYwKSA6IGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYSh5KSB7XG4gIHJldHVybiAoeSA9ICt5KSA9PT0gMSA/IG5vZ2FtbWEgOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIgLSBhID8gZXhwb25lbnRpYWwoYSwgYiwgeSkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9nYW1tYShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG4iLCJpbXBvcnQge3JnYiBhcyBjb2xvclJnYn0gZnJvbSBcImQzLWNvbG9yXCI7XG5pbXBvcnQgYmFzaXMgZnJvbSBcIi4vYmFzaXMuanNcIjtcbmltcG9ydCBiYXNpc0Nsb3NlZCBmcm9tIFwiLi9iYXNpc0Nsb3NlZC5qc1wiO1xuaW1wb3J0IG5vZ2FtbWEsIHtnYW1tYX0gZnJvbSBcIi4vY29sb3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHtcbiAgdmFyIGNvbG9yID0gZ2FtbWEoeSk7XG5cbiAgZnVuY3Rpb24gcmdiKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IGNvbG9yUmdiKHN0YXJ0KSkuciwgKGVuZCA9IGNvbG9yUmdiKGVuZCkpLnIpLFxuICAgICAgICBnID0gY29sb3Ioc3RhcnQuZywgZW5kLmcpLFxuICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLFxuICAgICAgICBvcGFjaXR5ID0gbm9nYW1tYShzdGFydC5vcGFjaXR5LCBlbmQub3BhY2l0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHN0YXJ0LnIgPSByKHQpO1xuICAgICAgc3RhcnQuZyA9IGcodCk7XG4gICAgICBzdGFydC5iID0gYih0KTtcbiAgICAgIHN0YXJ0Lm9wYWNpdHkgPSBvcGFjaXR5KHQpO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgcmdiLmdhbW1hID0gcmdiR2FtbWE7XG5cbiAgcmV0dXJuIHJnYjtcbn0pKDEpO1xuXG5mdW5jdGlvbiByZ2JTcGxpbmUoc3BsaW5lKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xvcnMpIHtcbiAgICB2YXIgbiA9IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgIHIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGcgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGksIGNvbG9yO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbG9yID0gY29sb3JSZ2IoY29sb3JzW2ldKTtcbiAgICAgIHJbaV0gPSBjb2xvci5yIHx8IDA7XG4gICAgICBnW2ldID0gY29sb3IuZyB8fCAwO1xuICAgICAgYltpXSA9IGNvbG9yLmIgfHwgMDtcbiAgICB9XG4gICAgciA9IHNwbGluZShyKTtcbiAgICBnID0gc3BsaW5lKGcpO1xuICAgIGIgPSBzcGxpbmUoYik7XG4gICAgY29sb3Iub3BhY2l0eSA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGNvbG9yLnIgPSByKHQpO1xuICAgICAgY29sb3IuZyA9IGcodCk7XG4gICAgICBjb2xvci5iID0gYih0KTtcbiAgICAgIHJldHVybiBjb2xvciArIFwiXCI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciByZ2JCYXNpcyA9IHJnYlNwbGluZShiYXNpcyk7XG5leHBvcnQgdmFyIHJnYkJhc2lzQ2xvc2VkID0gcmdiU3BsaW5lKGJhc2lzQ2xvc2VkKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKiAoMSAtIHQpICsgYiAqIHQ7XG4gIH07XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuL251bWJlci5qc1wiO1xuXG52YXIgcmVBID0gL1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLFxuICAgIHJlQiA9IG5ldyBSZWdFeHAocmVBLnNvdXJjZSwgXCJnXCIpO1xuXG5mdW5jdGlvbiB6ZXJvKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBiO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbmUoYikge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBiKHQpICsgXCJcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYmkgPSByZUEubGFzdEluZGV4ID0gcmVCLmxhc3RJbmRleCA9IDAsIC8vIHNjYW4gaW5kZXggZm9yIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGFtLCAvLyBjdXJyZW50IG1hdGNoIGluIGFcbiAgICAgIGJtLCAvLyBjdXJyZW50IG1hdGNoIGluIGJcbiAgICAgIGJzLCAvLyBzdHJpbmcgcHJlY2VkaW5nIGN1cnJlbnQgbnVtYmVyIGluIGIsIGlmIGFueVxuICAgICAgaSA9IC0xLCAvLyBpbmRleCBpbiBzXG4gICAgICBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuXG4gIC8vIENvZXJjZSBpbnB1dHMgdG8gc3RyaW5ncy5cbiAgYSA9IGEgKyBcIlwiLCBiID0gYiArIFwiXCI7XG5cbiAgLy8gSW50ZXJwb2xhdGUgcGFpcnMgb2YgbnVtYmVycyBpbiBhICYgYi5cbiAgd2hpbGUgKChhbSA9IHJlQS5leGVjKGEpKVxuICAgICAgJiYgKGJtID0gcmVCLmV4ZWMoYikpKSB7XG4gICAgaWYgKChicyA9IGJtLmluZGV4KSA+IGJpKSB7IC8vIGEgc3RyaW5nIHByZWNlZGVzIHRoZSBuZXh0IG51bWJlciBpbiBiXG4gICAgICBicyA9IGIuc2xpY2UoYmksIGJzKTtcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBicztcbiAgICB9XG4gICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7IC8vIG51bWJlcnMgaW4gYSAmIGIgbWF0Y2hcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBibTtcbiAgICB9IGVsc2UgeyAvLyBpbnRlcnBvbGF0ZSBub24tbWF0Y2hpbmcgbnVtYmVyc1xuICAgICAgc1srK2ldID0gbnVsbDtcbiAgICAgIHEucHVzaCh7aTogaSwgeDogbnVtYmVyKGFtLCBibSl9KTtcbiAgICB9XG4gICAgYmkgPSByZUIubGFzdEluZGV4O1xuICB9XG5cbiAgLy8gQWRkIHJlbWFpbnMgb2YgYi5cbiAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICBicyA9IGIuc2xpY2UoYmkpO1xuICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gIH1cblxuICAvLyBTcGVjaWFsIG9wdGltaXphdGlvbiBmb3Igb25seSBhIHNpbmdsZSBtYXRjaC5cbiAgLy8gT3RoZXJ3aXNlLCBpbnRlcnBvbGF0ZSBlYWNoIG9mIHRoZSBudW1iZXJzIGFuZCByZWpvaW4gdGhlIHN0cmluZy5cbiAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IChxWzBdXG4gICAgICA/IG9uZShxWzBdLngpXG4gICAgICA6IHplcm8oYikpXG4gICAgICA6IChiID0gcS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xufVxuIiwidmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJO1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0ge1xuICB0cmFuc2xhdGVYOiAwLFxuICB0cmFuc2xhdGVZOiAwLFxuICByb3RhdGU6IDAsXG4gIHNrZXdYOiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgc2NhbGVYLCBzY2FsZVksIHNrZXdYO1xuICBpZiAoc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpKSBhIC89IHNjYWxlWCwgYiAvPSBzY2FsZVg7XG4gIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDtcbiAgaWYgKHNjYWxlWSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKSkgYyAvPSBzY2FsZVksIGQgLz0gc2NhbGVZLCBza2V3WCAvPSBzY2FsZVk7XG4gIGlmIChhICogZCA8IGIgKiBjKSBhID0gLWEsIGIgPSAtYiwgc2tld1ggPSAtc2tld1gsIHNjYWxlWCA9IC1zY2FsZVg7XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZSxcbiAgICB0cmFuc2xhdGVZOiBmLFxuICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsXG4gICAgc2tld1g6IE1hdGguYXRhbihza2V3WCkgKiBkZWdyZWVzLFxuICAgIHNjYWxlWDogc2NhbGVYLFxuICAgIHNjYWxlWTogc2NhbGVZXG4gIH07XG59XG4iLCJpbXBvcnQgZGVjb21wb3NlLCB7aWRlbnRpdHl9IGZyb20gXCIuL2RlY29tcG9zZS5qc1wiO1xuXG52YXIgc3ZnTm9kZTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNzcyh2YWx1ZSkge1xuICBjb25zdCBtID0gbmV3ICh0eXBlb2YgRE9NTWF0cml4ID09PSBcImZ1bmN0aW9uXCIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgXCJcIik7XG4gIHJldHVybiBtLmlzSWRlbnRpdHkgPyBpZGVudGl0eSA6IGRlY29tcG9zZShtLmEsIG0uYiwgbS5jLCBtLmQsIG0uZSwgbS5mKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3ZnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gaWRlbnRpdHk7XG4gIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdmFsdWUpO1xuICBpZiAoISh2YWx1ZSA9IHN2Z05vZGUudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKSkpIHJldHVybiBpZGVudGl0eTtcbiAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7XG4gIHJldHVybiBkZWNvbXBvc2UodmFsdWUuYSwgdmFsdWUuYiwgdmFsdWUuYywgdmFsdWUuZCwgdmFsdWUuZSwgdmFsdWUuZik7XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuLi9udW1iZXIuanNcIjtcbmltcG9ydCB7cGFyc2VDc3MsIHBhcnNlU3ZnfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZSwgcHhDb21tYSwgcHhQYXJlbiwgZGVnUGFyZW4pIHtcblxuICBmdW5jdGlvbiBwb3Aocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA/IHMucG9wKCkgKyBcIiBcIiA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2goXCJ0cmFuc2xhdGUoXCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiB8fCB5Yikge1xuICAgICAgcy5wdXNoKFwidHJhbnNsYXRlKFwiICsgeGIgKyBweENvbW1hICsgeWIgKyBweFBhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSAtIGIgPiAxODApIGIgKz0gMzYwOyBlbHNlIGlmIChiIC0gYSA+IDE4MCkgYSArPSAzNjA7IC8vIHNob3J0ZXN0IHBhdGhcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiLCBudWxsLCBcIixcIiwgbnVsbCwgXCIpXCIpO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiAhPT0gMSB8fCB5YiAhPT0gMSkge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIgKyB4YiArIFwiLFwiICsgeWIgKyBcIilcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuICAgIGEgPSBwYXJzZShhKSwgYiA9IHBhcnNlKGIpO1xuICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpO1xuICAgIHJvdGF0ZShhLnJvdGF0ZSwgYi5yb3RhdGUsIHMsIHEpO1xuICAgIHNrZXdYKGEuc2tld1gsIGIuc2tld1gsIHMsIHEpO1xuICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTtcbiAgICBhID0gYiA9IG51bGw7IC8vIGdjXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBpID0gLTEsIG4gPSBxLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZUNzcywgXCJweCwgXCIsIFwicHgpXCIsIFwiZGVnKVwiKTtcbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZVN2ZywgXCIsIFwiLCBcIilcIiwgXCIpXCIpO1xuIiwidmFyIGZyYW1lID0gMCwgLy8gaXMgYW4gYW5pbWF0aW9uIGZyYW1lIHBlbmRpbmc/XG4gICAgdGltZW91dCA9IDAsIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nP1xuICAgIGludGVydmFsID0gMCwgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlP1xuICAgIHBva2VEZWxheSA9IDEwMDAsIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3XG4gICAgdGFza0hlYWQsXG4gICAgdGFza1RhaWwsXG4gICAgY2xvY2tMYXN0ID0gMCxcbiAgICBjbG9ja05vdyA9IDAsXG4gICAgY2xvY2tTa2V3ID0gMCxcbiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJvYmplY3RcIiAmJiBwZXJmb3JtYW5jZS5ub3cgPyBwZXJmb3JtYW5jZSA6IERhdGUsXG4gICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSA6IGZ1bmN0aW9uKGYpIHsgc2V0VGltZW91dChmLCAxNyk7IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBjbG9ja05vdyB8fCAoc2V0RnJhbWUoY2xlYXJOb3cpLCBjbG9ja05vdyA9IGNsb2NrLm5vdygpICsgY2xvY2tTa2V3KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOb3coKSB7XG4gIGNsb2NrTm93ID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVyKCkge1xuICB0aGlzLl9jYWxsID1cbiAgdGhpcy5fdGltZSA9XG4gIHRoaXMuX25leHQgPSBudWxsO1xufVxuXG5UaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUaW1lcixcbiAgcmVzdGFydDogZnVuY3Rpb24oY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgdGltZSA9ICh0aW1lID09IG51bGwgPyBub3coKSA6ICt0aW1lKSArIChkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheSk7XG4gICAgaWYgKCF0aGlzLl9uZXh0ICYmIHRhc2tUYWlsICE9PSB0aGlzKSB7XG4gICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztcbiAgICAgIGVsc2UgdGFza0hlYWQgPSB0aGlzO1xuICAgICAgdGFza1RhaWwgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9jYWxsID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgc2xlZXAoKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2NhbGwpIHtcbiAgICAgIHRoaXMuX2NhbGwgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5O1xuICAgICAgc2xlZXAoKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7XG4gIG5vdygpOyAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSwgaWYgbm90IGFscmVhZHkgc2V0LlxuICArK2ZyYW1lOyAvLyBQcmV0ZW5kIHdl4oCZdmUgc2V0IGFuIGFsYXJtLCBpZiB3ZSBoYXZlbuKAmXQgYWxyZWFkeS5cbiAgdmFyIHQgPSB0YXNrSGVhZCwgZTtcbiAgd2hpbGUgKHQpIHtcbiAgICBpZiAoKGUgPSBjbG9ja05vdyAtIHQuX3RpbWUpID49IDApIHQuX2NhbGwuY2FsbCh1bmRlZmluZWQsIGUpO1xuICAgIHQgPSB0Ll9uZXh0O1xuICB9XG4gIC0tZnJhbWU7XG59XG5cbmZ1bmN0aW9uIHdha2UoKSB7XG4gIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldztcbiAgZnJhbWUgPSB0aW1lb3V0ID0gMDtcbiAgdHJ5IHtcbiAgICB0aW1lckZsdXNoKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZnJhbWUgPSAwO1xuICAgIG5hcCgpO1xuICAgIGNsb2NrTm93ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2tlKCkge1xuICB2YXIgbm93ID0gY2xvY2subm93KCksIGRlbGF5ID0gbm93IC0gY2xvY2tMYXN0O1xuICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93O1xufVxuXG5mdW5jdGlvbiBuYXAoKSB7XG4gIHZhciB0MCwgdDEgPSB0YXNrSGVhZCwgdDIsIHRpbWUgPSBJbmZpbml0eTtcbiAgd2hpbGUgKHQxKSB7XG4gICAgaWYgKHQxLl9jYWxsKSB7XG4gICAgICBpZiAodGltZSA+IHQxLl90aW1lKSB0aW1lID0gdDEuX3RpbWU7XG4gICAgICB0MCA9IHQxLCB0MSA9IHQxLl9uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9IHQxLl9uZXh0LCB0MS5fbmV4dCA9IG51bGw7XG4gICAgICB0MSA9IHQwID8gdDAuX25leHQgPSB0MiA6IHRhc2tIZWFkID0gdDI7XG4gICAgfVxuICB9XG4gIHRhc2tUYWlsID0gdDA7XG4gIHNsZWVwKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gIGlmIChmcmFtZSkgcmV0dXJuOyAvLyBTb29uZXN0IGFsYXJtIGFscmVhZHkgc2V0LCBvciB3aWxsIGJlLlxuICBpZiAodGltZW91dCkgdGltZW91dCA9IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy5cbiAgaWYgKGRlbGF5ID4gMjQpIHtcbiAgICBpZiAodGltZSA8IEluZmluaXR5KSB0aW1lb3V0ID0gc2V0VGltZW91dCh3YWtlLCB0aW1lIC0gY2xvY2subm93KCkgLSBjbG9ja1NrZXcpO1xuICAgIGlmIChpbnRlcnZhbCkgaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWludGVydmFsKSBjbG9ja0xhc3QgPSBjbG9jay5ub3coKSwgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwb2tlLCBwb2tlRGVsYXkpO1xuICAgIGZyYW1lID0gMSwgc2V0RnJhbWUod2FrZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VGltZXJ9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgZGVsYXkgPSBkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheTtcbiAgdC5yZXN0YXJ0KGVsYXBzZWQgPT4ge1xuICAgIHQuc3RvcCgpO1xuICAgIGNhbGxiYWNrKGVsYXBzZWQgKyBkZWxheSk7XG4gIH0sIGRlbGF5LCB0aW1lKTtcbiAgcmV0dXJuIHQ7XG59XG4iLCJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7dGltZXIsIHRpbWVvdXR9IGZyb20gXCJkMy10aW1lclwiO1xuXG52YXIgZW1wdHlPbiA9IGRpc3BhdGNoKFwic3RhcnRcIiwgXCJlbmRcIiwgXCJjYW5jZWxcIiwgXCJpbnRlcnJ1cHRcIik7XG52YXIgZW1wdHlUd2VlbiA9IFtdO1xuXG5leHBvcnQgdmFyIENSRUFURUQgPSAwO1xuZXhwb3J0IHZhciBTQ0hFRFVMRUQgPSAxO1xuZXhwb3J0IHZhciBTVEFSVElORyA9IDI7XG5leHBvcnQgdmFyIFNUQVJURUQgPSAzO1xuZXhwb3J0IHZhciBSVU5OSU5HID0gNDtcbmV4cG9ydCB2YXIgRU5ESU5HID0gNTtcbmV4cG9ydCB2YXIgRU5ERUQgPSA2O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uO1xuICBpZiAoIXNjaGVkdWxlcykgbm9kZS5fX3RyYW5zaXRpb24gPSB7fTtcbiAgZWxzZSBpZiAoaWQgaW4gc2NoZWR1bGVzKSByZXR1cm47XG4gIGNyZWF0ZShub2RlLCBpZCwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaW5kZXg6IGluZGV4LCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgZ3JvdXA6IGdyb3VwLCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgb246IGVtcHR5T24sXG4gICAgdHdlZW46IGVtcHR5VHdlZW4sXG4gICAgdGltZTogdGltaW5nLnRpbWUsXG4gICAgZGVsYXk6IHRpbWluZy5kZWxheSxcbiAgICBkdXJhdGlvbjogdGltaW5nLmR1cmF0aW9uLFxuICAgIGVhc2U6IHRpbWluZy5lYXNlLFxuICAgIHRpbWVyOiBudWxsLFxuICAgIHN0YXRlOiBDUkVBVEVEXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBzY2hlZHVsZWRcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBydW5uaW5nXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gbm9kZS5fX3RyYW5zaXRpb247XG4gIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcihcInRyYW5zaXRpb24gbm90IGZvdW5kXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZShub2RlLCBpZCwgc2VsZikge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICB0d2VlbjtcblxuICAvLyBJbml0aWFsaXplIHRoZSBzZWxmIHRpbWVyIHdoZW4gdGhlIHRyYW5zaXRpb24gaXMgY3JlYXRlZC5cbiAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shXG4gIHNjaGVkdWxlc1tpZF0gPSBzZWxmO1xuICBzZWxmLnRpbWVyID0gdGltZXIoc2NoZWR1bGUsIDAsIHNlbGYudGltZSk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoZWxhcHNlZCkge1xuICAgIHNlbGYuc3RhdGUgPSBTQ0hFRFVMRUQ7XG4gICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpO1xuXG4gICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuXG4gICAgaWYgKHNlbGYuZGVsYXkgPD0gZWxhcHNlZCkgc3RhcnQoZWxhcHNlZCAtIHNlbGYuZGVsYXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoZWxhcHNlZCkge1xuICAgIHZhciBpLCBqLCBuLCBvO1xuXG4gICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdCBTQ0hFRFVMRUQsIHRoZW4gd2UgcHJldmlvdXNseSBlcnJvcmVkIG9uIHN0YXJ0LlxuICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7XG5cbiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7XG4gICAgICBvID0gc2NoZWR1bGVzW2ldO1xuICAgICAgaWYgKG8ubmFtZSAhPT0gc2VsZi5uYW1lKSBjb250aW51ZTtcblxuICAgICAgLy8gV2hpbGUgdGhpcyBlbGVtZW50IGFscmVhZHkgaGFzIGEgc3RhcnRpbmcgdHJhbnNpdGlvbiBkdXJpbmcgdGhpcyBmcmFtZSxcbiAgICAgIC8vIGRlZmVyIHN0YXJ0aW5nIGFuIGludGVycnVwdGluZyB0cmFuc2l0aW9uIHVudGlsIHRoYXQgdHJhbnNpdGlvbiBoYXMgYVxuICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCFcbiAgICAgIGlmIChvLnN0YXRlID09PSBTVEFSVEVEKSByZXR1cm4gdGltZW91dChzdGFydCk7XG5cbiAgICAgIC8vIEludGVycnVwdCB0aGUgYWN0aXZlIHRyYW5zaXRpb24sIGlmIGFueS5cbiAgICAgIGlmIChvLnN0YXRlID09PSBSVU5OSU5HKSB7XG4gICAgICAgIG8uc3RhdGUgPSBFTkRFRDtcbiAgICAgICAgby50aW1lci5zdG9wKCk7XG4gICAgICAgIG8ub24uY2FsbChcImludGVycnVwdFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTtcbiAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIGFueSBwcmUtZW1wdGVkIHRyYW5zaXRpb25zLlxuICAgICAgZWxzZSBpZiAoK2kgPCBpZCkge1xuICAgICAgICBvLnN0YXRlID0gRU5ERUQ7XG4gICAgICAgIG8udGltZXIuc3RvcCgpO1xuICAgICAgICBvLm9uLmNhbGwoXCJjYW5jZWxcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgby5pbmRleCwgby5ncm91cCk7XG4gICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmZXIgdGhlIGZpcnN0IHRpY2sgdG8gZW5kIG9mIHRoZSBjdXJyZW50IGZyYW1lOyBzZWUgZDMvZDMjMTU3Ni5cbiAgICAvLyBOb3RlIHRoZSB0cmFuc2l0aW9uIG1heSBiZSBjYW5jZWxlZCBhZnRlciBzdGFydCBhbmQgYmVmb3JlIHRoZSBmaXJzdCB0aWNrIVxuICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiFcbiAgICAvLyBBc3N1bWluZyB0aGlzIGlzIHN1Y2Nlc3NmdWwsIHN1YnNlcXVlbnQgY2FsbGJhY2tzIGdvIHN0cmFpZ2h0IHRvIHRpY2suXG4gICAgdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSBTVEFSVEVEKSB7XG4gICAgICAgIHNlbGYuc3RhdGUgPSBSVU5OSU5HO1xuICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTtcbiAgICAgICAgdGljayhlbGFwc2VkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC5cbiAgICAvLyBOb3RlIHRoaXMgbXVzdCBiZSBkb25lIGJlZm9yZSB0aGUgdHdlZW4gYXJlIGluaXRpYWxpemVkLlxuICAgIHNlbGYuc3RhdGUgPSBTVEFSVElORztcbiAgICBzZWxmLm9uLmNhbGwoXCJzdGFydFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTtcbiAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gU1RBUlRJTkcpIHJldHVybjsgLy8gaW50ZXJydXB0ZWRcbiAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLlxuICAgIHR3ZWVuID0gbmV3IEFycmF5KG4gPSBzZWxmLnR3ZWVuLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMCwgaiA9IC0xOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkge1xuICAgICAgICB0d2VlblsrK2pdID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgdHdlZW4ubGVuZ3RoID0gaiArIDE7XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrKGVsYXBzZWQpIHtcbiAgICB2YXIgdCA9IGVsYXBzZWQgPCBzZWxmLmR1cmF0aW9uID8gc2VsZi5lYXNlLmNhbGwobnVsbCwgZWxhcHNlZCAvIHNlbGYuZHVyYXRpb24pIDogKHNlbGYudGltZXIucmVzdGFydChzdG9wKSwgc2VsZi5zdGF0ZSA9IEVORElORywgMSksXG4gICAgICAgIGkgPSAtMSxcbiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpO1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIHRoZSBlbmQgZXZlbnQuXG4gICAgaWYgKHNlbGYuc3RhdGUgPT09IEVORElORykge1xuICAgICAgc2VsZi5vbi5jYWxsKFwiZW5kXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApO1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgc2VsZi5zdGF0ZSA9IEVOREVEO1xuICAgIHNlbGYudGltZXIuc3RvcCgpO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdO1xuICAgIGZvciAodmFyIGkgaW4gc2NoZWR1bGVzKSByZXR1cm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247XG4gIH1cbn1cbiIsImltcG9ydCB7U1RBUlRJTkcsIEVORElORywgRU5ERUR9IGZyb20gXCIuL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICBzY2hlZHVsZSxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGVtcHR5ID0gdHJ1ZSxcbiAgICAgIGk7XG5cbiAgaWYgKCFzY2hlZHVsZXMpIHJldHVybjtcblxuICBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyBcIlwiO1xuXG4gIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICBpZiAoKHNjaGVkdWxlID0gc2NoZWR1bGVzW2ldKS5uYW1lICE9PSBuYW1lKSB7IGVtcHR5ID0gZmFsc2U7IGNvbnRpbnVlOyB9XG4gICAgYWN0aXZlID0gc2NoZWR1bGUuc3RhdGUgPiBTVEFSVElORyAmJiBzY2hlZHVsZS5zdGF0ZSA8IEVORElORztcbiAgICBzY2hlZHVsZS5zdGF0ZSA9IEVOREVEO1xuICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTtcbiAgICBzY2hlZHVsZS5vbi5jYWxsKGFjdGl2ZSA/IFwiaW50ZXJydXB0XCIgOiBcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gIH1cblxuICBpZiAoZW1wdHkpIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbn1cbiIsImltcG9ydCBpbnRlcnJ1cHQgZnJvbSBcIi4uL2ludGVycnVwdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHR3ZWVuUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSB0d2VlbjAgPSB0d2VlbjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjEgPSB0d2VlbjEuc2xpY2UoKTtcbiAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHR3ZWVuRnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkge1xuICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpO1xuICAgICAgZm9yICh2YXIgdCA9IHtuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9LCBpID0gMCwgbiA9IHR3ZWVuMS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgdHdlZW4xW2ldID0gdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IG4pIHR3ZWVuMS5wdXNoKHQpO1xuICAgIH1cblxuICAgIHNjaGVkdWxlLnR3ZWVuID0gdHdlZW4xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICBuYW1lICs9IFwiXCI7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2Vlbi5sZW5ndGgsIHQ7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgodCA9IHR3ZWVuW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0LnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHdlZW5WYWx1ZSh0cmFuc2l0aW9uLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDtcblxuICB0cmFuc2l0aW9uLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKTtcbiAgICAoc2NoZWR1bGUudmFsdWUgfHwgKHNjaGVkdWxlLnZhbHVlID0ge30pKVtuYW1lXSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIGdldChub2RlLCBpZCkudmFsdWVbbmFtZV07XG4gIH07XG59XG4iLCJpbXBvcnQge2NvbG9yfSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVOdW1iZXIsIGludGVycG9sYXRlUmdiLCBpbnRlcnBvbGF0ZVN0cmluZ30gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGM7XG4gIHJldHVybiAodHlwZW9mIGIgPT09IFwibnVtYmVyXCIgPyBpbnRlcnBvbGF0ZU51bWJlclxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYlxuICAgICAgOiAoYyA9IGNvbG9yKGIpKSA/IChiID0gYywgaW50ZXJwb2xhdGVSZ2IpXG4gICAgICA6IGludGVycG9sYXRlU3RyaW5nKShhLCBiKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAsIHZhbHVlMSA9IHZhbHVlKHRoaXMpLCBzdHJpbmcxO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLCBpID0gZnVsbG5hbWUgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdGhpcy5hdHRyVHdlZW4obmFtZSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pKGZ1bGxuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwiYXR0ci5cIiArIG5hbWUsIHZhbHVlKSlcbiAgICAgIDogdmFsdWUgPT0gbnVsbCA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpKGZ1bGxuYW1lKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkoZnVsbG5hbWUsIGksIHZhbHVlKSk7XG59XG4iLCJpbXBvcnQge25hbWVzcGFjZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGUobmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZnVuY3Rpb24gYXR0clR3ZWVuKG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIga2V5ID0gXCJhdHRyLlwiICsgbmFtZTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtnZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGRlbGF5RnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPSArdmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGRlbGF5RnVuY3Rpb25cbiAgICAgICAgICA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmRlbGF5O1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZHVyYXRpb25GdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZHVyYXRpb24gPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGR1cmF0aW9uRnVuY3Rpb25cbiAgICAgICAgICA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmR1cmF0aW9uO1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmVhc2U7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHR5cGVvZiB2ICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMuZWFjaChlYXNlVmFyeWluZyh0aGlzLl9pZCwgdmFsdWUpKTtcbn1cbiIsImltcG9ydCB7bWF0Y2hlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0cmFuc2l0aW9uKSB7XG4gIGlmICh0cmFuc2l0aW9uLl9pZCAhPT0gdGhpcy5faWQpIHRocm93IG5ldyBFcnJvcjtcblxuICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gdHJhbnNpdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24obWVyZ2VzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7XG59XG4iLCJpbXBvcnQge2dldCwgc2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBzdGFydChuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykuZXZlcnkoZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gIXQgfHwgdCA9PT0gXCJzdGFydFwiO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG9uMCwgb24xLCBzaXQgPSBzdGFydChuYW1lKSA/IGluaXQgOiBzZXQ7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzaXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKG5hbWUsIGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDJcbiAgICAgID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSlcbiAgICAgIDogdGhpcy5lYWNoKG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSk7XG59XG4iLCJmdW5jdGlvbiByZW1vdmVGdW5jdGlvbihpZCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub24oXCJlbmQucmVtb3ZlXCIsIHJlbW92ZUZ1bmN0aW9uKHRoaXMuX2lkKSk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yQWxsfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPSBjaGlsZHJlbltrXSkge1xuICAgICAgICAgICAgc2NoZWR1bGUoY2hpbGQsIG5hbWUsIGlkLCBrLCBjaGlsZHJlbiwgaW5oZXJpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKGNoaWxkcmVuKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbnZhciBTZWxlY3Rpb24gPSBzZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtzdHlsZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVOdWxsKG5hbWUsIGludGVycG9sYXRlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgc3RyaW5nMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHN0cmluZzEwID0gc3RyaW5nMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksXG4gICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgc3RyaW5nMSA9IHZhbHVlMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciBvbjAsIG9uMSwgbGlzdGVuZXIwLCBrZXkgPSBcInN0eWxlLlwiICsgbmFtZSwgZXZlbnQgPSBcImVuZC5cIiArIGtleSwgcmVtb3ZlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgb24gPSBzY2hlZHVsZS5vbixcbiAgICAgICAgbGlzdGVuZXIgPSBzY2hlZHVsZS52YWx1ZVtrZXldID09IG51bGwgPyByZW1vdmUgfHwgKHJlbW92ZSA9IHN0eWxlUmVtb3ZlKG5hbWUpKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAob24gIT09IG9uMCB8fCBsaXN0ZW5lcjAgIT09IGxpc3RlbmVyKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKGV2ZW50LCBsaXN0ZW5lcjAgPSBsaXN0ZW5lcik7XG5cbiAgICBzY2hlZHVsZS5vbiA9IG9uMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciBpID0gKG5hbWUgKz0gXCJcIikgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIHN0eWxlUmVtb3ZlKG5hbWUpKVxuICAgIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZUZ1bmN0aW9uKG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgXCJzdHlsZS5cIiArIG5hbWUsIHZhbHVlKSkpXG4gICAgICAuZWFjaChzdHlsZU1heWJlUmVtb3ZlKHRoaXMuX2lkLCBuYW1lKSlcbiAgICA6IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIG51bGwpO1xufVxuIiwiZnVuY3Rpb24gc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgaS5jYWxsKHRoaXMsIHQpLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciB0LCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdCA9IChpMCA9IGkpICYmIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIga2V5ID0gXCJzdHlsZS5cIiArIChuYW1lICs9IFwiXCIpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpO1xufVxuIiwiaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUxID0gdmFsdWUodGhpcyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gXCJcIiA6IHZhbHVlMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudHdlZW4oXCJ0ZXh0XCIsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsIFwidGV4dFwiLCB2YWx1ZSkpXG4gICAgICA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIikpO1xufVxuIiwiZnVuY3Rpb24gdGV4dEludGVycG9sYXRlKGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gaS5jYWxsKHRoaXMsIHQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiB0ZXh0SW50ZXJwb2xhdGUoaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBrZXkgPSBcInRleHRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkMCA9IHRoaXMuX2lkLFxuICAgICAgaWQxID0gbmV3SWQoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApO1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZDEsIGksIGdyb3VwLCB7XG4gICAgICAgICAgdGltZTogaW5oZXJpdC50aW1lICsgaW5oZXJpdC5kZWxheSArIGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZWFzZTogaW5oZXJpdC5lYXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkMSk7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBvbjAsIG9uMSwgdGhhdCA9IHRoaXMsIGlkID0gdGhhdC5faWQsIHNpemUgPSB0aGF0LnNpemUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjYW5jZWwgPSB7dmFsdWU6IHJlamVjdH0sXG4gICAgICAgIGVuZCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7IGlmICgtLXNpemUgPT09IDApIHJlc29sdmUoKTsgfX07XG5cbiAgICB0aGF0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgICBpZiAob24gIT09IG9uMCkge1xuICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTtcbiAgICAgICAgb24xLl8uY2FuY2VsLnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uaW50ZXJydXB0LnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTtcbiAgICAgIH1cblxuICAgICAgc2NoZWR1bGUub24gPSBvbjE7XG4gICAgfSk7XG5cbiAgICAvLyBUaGUgc2VsZWN0aW9uIHdhcyBlbXB0eSwgcmVzb2x2ZSBlbmQgaW1tZWRpYXRlbHlcbiAgICBpZiAoc2l6ZSA9PT0gMCkgcmVzb2x2ZSgpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9hdHRyIGZyb20gXCIuL2F0dHIuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2F0dHJUd2VlbiBmcm9tIFwiLi9hdHRyVHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2RlbGF5IGZyb20gXCIuL2RlbGF5LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9kdXJhdGlvbiBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZWFzZSBmcm9tIFwiLi9lYXNlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lYXNlVmFyeWluZyBmcm9tIFwiLi9lYXNlVmFyeWluZy5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fbWVyZ2UgZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX29uIGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9yZW1vdmUgZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3RBbGwgZnJvbSBcIi4vc2VsZWN0QWxsLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3Rpb24gZnJvbSBcIi4vc2VsZWN0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGVUd2VlbiBmcm9tIFwiLi9zdHlsZVR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0IGZyb20gXCIuL3RleHQuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RleHRUd2VlbiBmcm9tIFwiLi90ZXh0VHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdHdlZW4gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2VuZCBmcm9tIFwiLi9lbmQuanNcIjtcblxudmFyIGlkID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zaXRpb24oZ3JvdXBzLCBwYXJlbnRzLCBuYW1lLCBpZCkge1xuICB0aGlzLl9ncm91cHMgPSBncm91cHM7XG4gIHRoaXMuX3BhcmVudHMgPSBwYXJlbnRzO1xuICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgdGhpcy5faWQgPSBpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNpdGlvbihuYW1lKSB7XG4gIHJldHVybiBzZWxlY3Rpb24oKS50cmFuc2l0aW9uKG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3SWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG52YXIgc2VsZWN0aW9uX3Byb3RvdHlwZSA9IHNlbGVjdGlvbi5wcm90b3R5cGU7XG5cblRyYW5zaXRpb24ucHJvdG90eXBlID0gdHJhbnNpdGlvbi5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUcmFuc2l0aW9uLFxuICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHRyYW5zaXRpb25fc2VsZWN0QWxsLFxuICBzZWxlY3RDaGlsZDogc2VsZWN0aW9uX3Byb3RvdHlwZS5zZWxlY3RDaGlsZCxcbiAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogdHJhbnNpdGlvbl9maWx0ZXIsXG4gIG1lcmdlOiB0cmFuc2l0aW9uX21lcmdlLFxuICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLFxuICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uX3RyYW5zaXRpb24sXG4gIGNhbGw6IHNlbGVjdGlvbl9wcm90b3R5cGUuY2FsbCxcbiAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZSxcbiAgc2l6ZTogc2VsZWN0aW9uX3Byb3RvdHlwZS5zaXplLFxuICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX3Byb3RvdHlwZS5lYWNoLFxuICBvbjogdHJhbnNpdGlvbl9vbixcbiAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLFxuICBhdHRyVHdlZW46IHRyYW5zaXRpb25fYXR0clR3ZWVuLFxuICBzdHlsZTogdHJhbnNpdGlvbl9zdHlsZSxcbiAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLFxuICB0ZXh0OiB0cmFuc2l0aW9uX3RleHQsXG4gIHRleHRUd2VlbjogdHJhbnNpdGlvbl90ZXh0VHdlZW4sXG4gIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsXG4gIHR3ZWVuOiB0cmFuc2l0aW9uX3R3ZWVuLFxuICBkZWxheTogdHJhbnNpdGlvbl9kZWxheSxcbiAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sXG4gIGVhc2U6IHRyYW5zaXRpb25fZWFzZSxcbiAgZWFzZVZhcnlpbmc6IHRyYW5zaXRpb25fZWFzZVZhcnlpbmcsXG4gIGVuZDogdHJhbnNpdGlvbl9lbmQsXG4gIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25fcHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsImltcG9ydCB7VHJhbnNpdGlvbiwgbmV3SWR9IGZyb20gXCIuLi90cmFuc2l0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUgZnJvbSBcIi4uL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7ZWFzZUN1YmljSW5PdXR9IGZyb20gXCJkMy1lYXNlXCI7XG5pbXBvcnQge25vd30gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBkZWZhdWx0VGltaW5nID0ge1xuICB0aW1lOiBudWxsLCAvLyBTZXQgb24gdXNlLlxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzZTogZWFzZUN1YmljSW5PdXRcbn07XG5cbmZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHtcbiAgdmFyIHRpbWluZztcbiAgd2hpbGUgKCEodGltaW5nID0gbm9kZS5fX3RyYW5zaXRpb24pIHx8ICEodGltaW5nID0gdGltaW5nW2lkXSkpIHtcbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0cmFuc2l0aW9uICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGltaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBpZCxcbiAgICAgIHRpbWluZztcblxuICBpZiAobmFtZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICBpZCA9IG5hbWUuX2lkLCBuYW1lID0gbmFtZS5fbmFtZTtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IG5ld0lkKCksICh0aW1pbmcgPSBkZWZhdWx0VGltaW5nKS50aW1lID0gbm93KCksIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZCwgaSwgZ3JvdXAsIHRpbWluZyB8fCBpbmhlcml0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCBzZWxlY3Rpb25faW50ZXJydXB0IGZyb20gXCIuL2ludGVycnVwdC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl90cmFuc2l0aW9uIGZyb20gXCIuL3RyYW5zaXRpb24uanNcIjtcblxuc2VsZWN0aW9uLnByb3RvdHlwZS5pbnRlcnJ1cHQgPSBzZWxlY3Rpb25faW50ZXJydXB0O1xuc2VsZWN0aW9uLnByb3RvdHlwZS50cmFuc2l0aW9uID0gc2VsZWN0aW9uX3RyYW5zaXRpb247XG4iLCJleHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHtcbiAgdGhpcy5rID0gaztcbiAgdGhpcy54ID0geDtcbiAgdGhpcy55ID0geTtcbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRyYW5zZm9ybSxcbiAgc2NhbGU6IGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gayA9PT0gMSA/IHRoaXMgOiBuZXcgVHJhbnNmb3JtKHRoaXMuayAqIGssIHRoaXMueCwgdGhpcy55KTtcbiAgfSxcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IDAgJiB5ID09PSAwID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rLCB0aGlzLnggKyB0aGlzLmsgKiB4LCB0aGlzLnkgKyB0aGlzLmsgKiB5KTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldO1xuICB9LFxuICBhcHBseVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCAqIHRoaXMuayArIHRoaXMueDtcbiAgfSxcbiAgYXBwbHlZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkgKiB0aGlzLmsgKyB0aGlzLnk7XG4gIH0sXG4gIGludmVydDogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdO1xuICB9LFxuICBpbnZlcnRYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4IC0gdGhpcy54KSAvIHRoaXMuaztcbiAgfSxcbiAgaW52ZXJ0WTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiAoeSAtIHRoaXMueSkgLyB0aGlzLms7XG4gIH0sXG4gIHJlc2NhbGVYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7XG4gIH0sXG4gIHJlc2NhbGVZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkuY29weSgpLmRvbWFpbih5LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WSwgdGhpcykubWFwKHkuaW52ZXJ0LCB5KSk7XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiKSBzY2FsZShcIiArIHRoaXMuayArIFwiKVwiO1xuICB9XG59O1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0gbmV3IFRyYW5zZm9ybSgxLCAwLCAwKTtcblxudHJhbnNmb3JtLnByb3RvdHlwZSA9IFRyYW5zZm9ybS5wcm90b3R5cGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX3pvb20pIGlmICghKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHJldHVybiBub2RlLl9fem9vbTtcbn1cbiIsIlxuLypcbiAgQ1BUTWF0aCBTdGF0aWMgQ2xhc3MgLSBOb3QgaW50ZW5kZWQgZm9yIGluc3RhbnRpYXRpb24hXG5cbiAgTW9kZWwgUGFyYW1ldGVyczpcbiAgICBhID0gYWxwaGEgKGN1cnZhdHVyZSBmb3IgdmFsdWUgZnVuY3Rpb24pXG4gICAgbCA9IGxhbWJkYSAobG9zcyBhdmVyc2lvbiBmb3IgdmFsdWUgZnVuY3Rpb24pXG4gICAgZyA9IGdhbW1hIChzZW5zaXRpdml0eSBmb3IgZGVjaXNpb24gd2VpZ2h0aW5nIGZ1bmN0aW9uKVxuXG4gIFZhcmlhYmxlczpcbiAgICB4ID0gb2JqZWN0aXZlIHZhbHVlXG4gICAgdiA9IHN1YmplY3RpdmUgdmFsdWVcbiAgICBwID0gb2JqZWN0aXZlIHByb2JhYmlsaXR5XG4gICAgdyA9IHN1YmplY3RpdmUgcHJvYmFiaWxpdHkvZGVjaXNpb24gd2VpZ2h0XG4gICAgdSA9IHN1YmplY3RpdmUgdXRpbGl0eVxuXG4gIEVxdWF0aW9uczpcbiAgICB2ID0gaWYgKHggPj0gMCkgeF5hOyBpZiAoeCA8IDApIC1sICogKC14KV5hXG4gICAgYSA9IGlmICh4ID49IDApIGxvZyh2KSAvIGxvZyh4KTsgaWYgKHggPCAwKSAobG9nKC12KSAtIGxvZyhsKSkgLyBsb2coLXgpXG4gICAgbCA9IGlmICh4ID49IDApIDE7IGlmICh4IDwgMCkgLXYgLyAoLXgpXmFcblxuICAgIHcgPSBwXmcgLyAocF5nICsgKDEgLSBwKV5nKV4oMSAvIGcpXG5cbiAgICB1ID0gU3VtX24odl9uICogd19uKVxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENQVE1hdGgge1xuICBzdGF0aWMgYSA9IHtcbiAgICBERUZBVUxUOiAwLjUsXG4gICAgTUlOOiAwLjAsXG4gICAgTUFYOiAxLjAsXG4gICAgU1RFUDogMC4wMSxcbiAgICBKVU1QOiAwLjA1LFxuICB9O1xuXG4gIHN0YXRpYyBsID0ge1xuICAgIERFRkFVTFQ6IDIuMCxcbiAgICBNSU46IDAuMCxcbiAgICBNQVg6IDEwLjAsXG4gICAgU1RFUDogMC4wMSxcbiAgICBKVU1QOiAwLjA1LFxuICB9O1xuXG4gIHN0YXRpYyBnID0ge1xuICAgIERFRkFVTFQ6IDAuNSxcbiAgICBNSU46IDAuMCxcbiAgICBNQVg6IDEuMCxcbiAgICBTVEVQOiAwLjAxLFxuICAgIEpVTVA6IDAuMDUsXG4gIH07XG5cbiAgc3RhdGljIHhhbDJ2KHgsIGEsIGwpIHtcbiAgICBpZiAoeCA+PSAwKSB7XG4gICAgICByZXR1cm4geCAqKiBhO1xuICAgIH1cbiAgICAvLyBlbHNlICh4IDwgMClcbiAgICByZXR1cm4gLWwgKiAoKC14KSAqKiBhKTtcbiAgfVxuXG4gIHN0YXRpYyB4bHYyYSh4LCBsLCB2KSB7XG4gICAgaWYgKHggPj0gMCkge1xuICAgICAgcmV0dXJuIE1hdGgubG9nKHYpIC8gTWF0aC5sb2coeCk7XG4gICAgfVxuICAgIC8vIGVsc2UgKHggPCAwKVxuICAgIHJldHVybiAoTWF0aC5sb2coLXYpIC0gTWF0aC5sb2cobCkpIC8gTWF0aC5sb2coLXgpO1xuICB9XG5cbiAgc3RhdGljIHhhdjJsKHgsIGEsIHYpIHtcbiAgICBpZiAoeCA+PSAwKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICAvLyBlbHNlICh4IDwgMClcbiAgICByZXR1cm4gLXYgLyAoKC14KSAqKiBhKTtcbiAgfVxuXG4gIHN0YXRpYyBwZzJ3KHAsIGcpIHtcbiAgICByZXR1cm4gKHAgKiogZykgLyAoKChwICoqIGcpICsgKCgxIC0gcCkgKiogZykpICoqICgxIC8gZykpO1xuICB9XG5cbiAgc3RhdGljIHZ3MnUodiwgdykge1xuICAgIC8vIE51bWJlcnNcbiAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInICYmIHR5cGVvZiB3ID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHYgKiB3O1xuICAgIH1cbiAgICAvLyBBcnJheXNcbiAgICBpZiAodiBpbnN0YW5jZW9mIEFycmF5ICYmIHcgaW5zdGFuY2VvZiBBcnJheSAmJiB2Lmxlbmd0aCA+IDAgJiYgdi5sZW5ndGggPT09IHcubGVuZ3RoKSB7XG4gICAgICBsZXQgdSA9IDA7XG4gICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHYubGVuZ3RoOyBuICs9IDEpIHtcbiAgICAgICAgdSArPSB2W25dICogd1tuXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1O1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2VcbiAgICByZXR1cm4gTmFOO1xuICB9XG59XG4iLCJcbi8vIEludGVybmFsIGRlcGVuZGVuY2llc1xuaW1wb3J0IENQVE1hdGggZnJvbSAnLi9jcHQtbWF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IENQVE1hdGg7XG4iLCIvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbXCJvZmZcIiwgXCJzZWxmXCJdICovXG5cbmltcG9ydCAqIGFzIEJheWVzRGlzdHJpYnV0aW9ucyBmcm9tICdiYXllcy5qcy9kaXN0cmlidXRpb25zJztcbmltcG9ydCAqIGFzIEJheWVzTWNtYyBmcm9tICdiYXllcy5qcy9tY21jJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCBDUFRNYXRoIGZyb20gJ0BkZWNpZGFibGVzL3Byb3NwZWN0YWJsZS1tYXRoJztcblxuc2VsZi5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgY29uc3QgcGFyYW1zID0ge1xuICAgIGFscGhhOiB7dHlwZTogJ3JlYWwnLCBsb3dlcjogQ1BUTWF0aC5hLk1JTiwgdXBwZXI6IENQVE1hdGguYS5NQVh9LFxuICAgIGxhbWJkYToge3R5cGU6ICdyZWFsJywgbG93ZXI6IENQVE1hdGgubC5NSU4sIHVwcGVyOiBDUFRNYXRoLmwuTUFYfSxcbiAgICBnYW1tYToge3R5cGU6ICdyZWFsJywgbG93ZXI6IENQVE1hdGguZy5NSU4sIHVwcGVyOiBDUFRNYXRoLmcuTUFYfSxcbiAgICBsdWNlOiB7dHlwZTogJ3JlYWwnLCBsb3dlcjogMCwgdXBwZXI6IDEwMH0sXG4gIH07XG5cbiAgY29uc3QgbG9nUG9zdCA9IChzdGF0ZSwgZGF0YSkgPT4ge1xuICAgIGxldCBscCA9IDA7XG5cbiAgICAvLyBQcmlvcnNcbiAgICBjb25zdCBhbHBoYU1lYW4gPSAwLjU7XG4gICAgY29uc3QgYWxwaGFTYW1wbGVTaXplID0gMi41O1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5iZXRhKFxuICAgICAgc3RhdGUuYWxwaGEsXG4gICAgICBhbHBoYU1lYW4gKiBhbHBoYVNhbXBsZVNpemUsXG4gICAgICAoMSAtIGFscGhhTWVhbikgKiBhbHBoYVNhbXBsZVNpemUsXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5hbHBoYSwgMCwgMSk7XG5cbiAgICBjb25zdCBsYW1iZGFNZWFuID0gMjtcbiAgICBjb25zdCBsYW1iZGFTaGFwZSA9IDM7XG4gICAgbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLmdhbW1hKFxuICAgICAgc3RhdGUubGFtYmRhLFxuICAgICAgbGFtYmRhU2hhcGUsXG4gICAgICBsYW1iZGFTaGFwZSAvIGxhbWJkYU1lYW4sXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5sYW1iZGEsIDAsIDEwKTtcblxuICAgIGNvbnN0IGdhbW1hTWVhbiA9IDAuNTtcbiAgICBjb25zdCBnYW1tYVNhbXBsZVNpemUgPSAyLjU7XG4gICAgbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLmJldGEoXG4gICAgICBzdGF0ZS5nYW1tYSxcbiAgICAgIGdhbW1hTWVhbiAqIGdhbW1hU2FtcGxlU2l6ZSxcbiAgICAgICgxIC0gZ2FtbWFNZWFuKSAqIGdhbW1hU2FtcGxlU2l6ZSxcbiAgICApO1xuICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmdhbW1hLCAwLCAxKTtcblxuICAgIGNvbnN0IGx1Y2VNZWFuID0gMjtcbiAgICBjb25zdCBsdWNlU2hhcGUgPSAzO1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5nYW1tYShcbiAgICAgIHN0YXRlLmx1Y2UsXG4gICAgICBsdWNlU2hhcGUsXG4gICAgICBsdWNlU2hhcGUgLyBsdWNlTWVhbixcbiAgICApO1xuICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmx1Y2UsIDAsIDEwMCk7XG5cbiAgICAvLyBMaWtlbGlob29kXG4gICAgZGF0YS5mb3JFYWNoKChjaG9pY2UpID0+IHtcbiAgICAgIC8vIFZhbHVlc1xuICAgICAgY29uc3QgdmwgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54bCwgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7XG4gICAgICBjb25zdCB2dyA9IENQVE1hdGgueGFsMnYoY2hvaWNlLnh3LCBzdGF0ZS5hbHBoYSwgc3RhdGUubGFtYmRhKTtcbiAgICAgIGNvbnN0IHZzID0gQ1BUTWF0aC54YWwydihjaG9pY2UueHMsIHN0YXRlLmFscGhhLCBzdGF0ZS5sYW1iZGEpO1xuXG4gICAgICAvLyBQcm9iYWJpbGl0aWVzXG4gICAgICBjb25zdCB3dyA9IENQVE1hdGgucGcydyhjaG9pY2UucHcsIHN0YXRlLmdhbW1hKTtcbiAgICAgIGNvbnN0IHdsID0gMSAtIHd3O1xuXG4gICAgICAvLyBVdGlsaXRpZXNcbiAgICAgIGNvbnN0IHVnID0gd2wgKiB2bCArIHd3ICogdnc7XG4gICAgICBjb25zdCB1cyA9IHZzO1xuXG4gICAgICAvLyBDaG9pY2Ugb2YgZ2FtYmxlIG9yIHN1cmUgaXMgc2FtcGxlZCBmcm9tIGEgQmVybm91bGxpIGRpc3RyaWJ1dGlvblxuICAgICAgLy8gTHVjZSBjaG9pY2UgcnVsZSBpcyB1c2VkIHRvIGNvbXB1dGUgcHJvYmFiaWxpdHkgb2YgZ2FtYmxpbmchICgwID0gc3VyZSwgMSA9IGdhbWJsZSlcbiAgICAgIGNvbnN0IGJpbnZhbCA9IDEgLyAoMSArIE1hdGguZXhwKHN0YXRlLmx1Y2UgKiAodXMgLSB1ZykpKTtcblxuICAgICAgLy8gQWN0dWFsIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZSA9IChjaG9pY2UucmVzcG9uc2UgPT09ICdzdXJlJykgPyAwIDogMTtcblxuICAgICAgbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLmJlcm4ocmVzcG9uc2UsIGJpbnZhbCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbHA7XG4gIH07XG5cbiAgLy8gSW5pdGlhbGl6aW5nIHRoZSBzYW1wbGVyXG4gIGNvbnN0IHNhbXBsZXIgPSBuZXcgQmF5ZXNNY21jLkFtd2dTYW1wbGVyKHBhcmFtcywgbG9nUG9zdCwgZXZlbnQuZGF0YSk7XG4gIC8vIEJ1cm5pbmcgc29tZSBzYW1wbGVzIHRvIHRoZSBNQ01DIGdvZHMgYW5kIHNhbXBsaW5nIDUwMDAgZHJhd3NcbiAgc2FtcGxlci5idXJuKDEwMDApO1xuICBjb25zdCBzYW1wbGVzID0gc2FtcGxlci5zYW1wbGUoNTAwMCk7XG5cbiAgLy8gRXh0cmFjdCBzdW1tYXJ5IHN0YXRzXG4gIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgYWxwaGE6IGQzLm1lZGlhbihzYW1wbGVzLmFscGhhKSxcbiAgICBsYW1iZGE6IGQzLm1lZGlhbihzYW1wbGVzLmxhbWJkYSksXG4gICAgZ2FtbWE6IGQzLm1lZGlhbihzYW1wbGVzLmdhbW1hKSxcbiAgICBsdWNlOiBkMy5tZWRpYW4oc2FtcGxlcy5sdWNlKSxcbiAgfTtcblxuICBzZWxmLnBvc3RNZXNzYWdlKHtyZXN1bHRzOiByZXN1bHRzLCBzYW1wbGVzOiBzYW1wbGVzfSk7XG59O1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImxkIiwidGhpcyIsImxnYW1tYSIsIngiLCJqIiwiY29mIiwic2VyIiwieHgiLCJ5IiwidG1wIiwibG9nIiwibGZhY3RvcmlhbCIsIm4iLCJOYU4iLCJsY2hvb3NlIiwiayIsImxiZXRhIiwiYSIsImIiLCJNYXRoIiwiZXhwIiwiYWJzIiwicG93Iiwic3FydCIsInBpIiwiUEkiLCJiZXRhIiwic2hhcGUxIiwic2hhcGUyIiwiSW5maW5pdHkiLCJjYXVjaHkiLCJsb2NhdGlvbiIsInNjYWxlIiwibm9ybSIsIm1lYW4iLCJzZCIsImJpdmFybm9ybSIsImNvcnIiLCJ6Iiwibm9ybWFsaXppbmdfZmFjdG9yIiwiYml2YXJfbG9nX2RlbnMiLCJsYXBsYWNlIiwiZGV4cCIsImdhbW1hIiwic2hhcGUiLCJyYXRlIiwiaW52Z2FtbWEiLCJsbm9ybSIsIm1lYW5sb2ciLCJzZGxvZyIsInBhcmV0byIsInQiLCJkZiIsIndlaWJ1bGwiLCJ0bXAxIiwidG1wMiIsImxvZ2lzIiwiZSIsImYiLCJkaXJpY2hsZXQiLCJhbHBoYSIsInN1bV9hbHBoYSIsInN1bV9sZ2FtbWFfYWxwaGEiLCJzdW1fYWxwaGFfc3ViXzFfbG9nX3giLCJsZW5ndGgiLCJpIiwidW5pZiIsIm1pbiIsIm1heCIsImJlcm4iLCJwcm9iIiwiY2F0IiwicHJvYnMiLCJiaW5vbSIsInNpemUiLCJuYmlub20iLCJoeXBlciIsIm0iLCJwb2lzIiwibGFtYmRhIiwibWNtYyIsInJ1bmlmIiwicmFuZG9tIiwicnVuaWZfZGlzY3JldGUiLCJmbG9vciIsInJub3JtIiwidSIsInYiLCJxIiwiZGVlcF9jbG9uZSIsInNyYyIsIm1peGluIiwiZGVzdCIsInNvdXJjZSIsImNvcHlGdW5jIiwibmFtZSIsInMiLCJlbXB0eSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIm5vZGVUeXBlIiwiY2xvbmVOb2RlIiwiRGF0ZSIsImdldFRpbWUiLCJSZWdFeHAiLCJyIiwibCIsIkFycmF5IiwicHVzaCIsImNvbnN0cnVjdG9yIiwiY2xvbmVfcGFyYW1fZHJhdyIsImlzQXJyYXkiLCJ4X2NvcHkiLCJzbGljZSIsImlzX251bWJlciIsIm9iamVjdCIsIk51bWJlciIsImNyZWF0ZV9hcnJheSIsImRpbSIsImluaXQiLCJhcnIiLCJhcnJheV9kaW0iLCJjb25jYXQiLCJhcnJheV9lcXVhbCIsImExIiwiYTIiLCJuZXN0ZWRfYXJyYXlfYXBwbHkiLCJmdW4iLCJyZXN1bHQiLCJzaHVmZmxlX2FycmF5IiwiYXJyYXkiLCJ0ZW1wIiwibmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSIsImxlbiIsImFycmF5X2lzIiwiYXJyYXlfaSIsImdldF9vcHRpb24iLCJvcHRpb25fbmFtZSIsIm9wdGlvbnMiLCJkZWZhdWxfdmFsdWUiLCJoYXNPd25Qcm9wZXJ0eSIsInVuZGVmaW5lZCIsImdldF9tdWx0aWRpbV9vcHRpb24iLCJ2YWx1ZSIsInBhcmFtX2luaXRfZml4ZWQiLCJ0eXBlIiwibG93ZXIiLCJ1cHBlciIsInJvdW5kIiwiY29tcGxldGVfcGFyYW1zIiwicGFyYW1zX3RvX2NvbXBsZXRlIiwicGFyYW1faW5pdCIsInBhcmFtcyIsInBhcmFtX25hbWUiLCJwYXJhbSIsIlN0ZXBwZXIiLCJzdGF0ZSIsImxvZ19wb3N0Iiwic3RlcCIsInN0YXJ0X2FkYXB0YXRpb24iLCJzdG9wX2FkYXB0YXRpb24iLCJpbmZvIiwiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIiLCJnZW5lcmF0ZV9wcm9wb3NhbCIsInBhcmFtX25hbWVzIiwia2V5cyIsInByb3BfbG9nX3NjYWxlIiwiYmF0Y2hfc2l6ZSIsIm1heF9hZGFwdGF0aW9uIiwiaW5pdGlhbF9hZGFwdGF0aW9uIiwidGFyZ2V0X2FjY2VwdF9yYXRlIiwiaXNfYWRhcHRpbmciLCJhY2NlcHRhbmNlX2NvdW50IiwiYmF0Y2hfY291bnQiLCJpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uIiwiY3JlYXRlIiwicGFyYW1fc3RhdGUiLCJwYXJhbV9wcm9wb3NhbCIsImN1cnJfbG9nX2RlbnMiLCJwcm9wX2xvZ19kZW5zIiwiYWNjZXB0X3Byb2IiLCJsb2dfc2RfYWRqdXN0bWVudCIsIm5vcm1hbF9wcm9wb3NhbCIsIlJlYWxNZXRyb3BvbGlzU3RlcHBlciIsImRpc2NyZXRlX25vcm1hbF9wcm9wb3NhbCIsIkludE1ldHJvcG9saXNTdGVwcGVyIiwiTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciIsIlN1YlN0ZXBwZXIiLCJjcmVhdGVfc3Vic3RlcHBlcnMiLCJzdWJzdGF0ZSIsInN1YnN0ZXBwZXJzIiwic3Vib3B0aW9ucyIsInN1YnBhcmFtIiwic3Vic3RlcHBlciIsIk11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIiwiTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciIsIkJpbmFyeVN0ZXBwZXIiLCJ6ZXJvX2xvZ19kZW5zIiwib25lX2xvZ19kZW5zIiwibWF4X2xvZ19kZW5zIiwiemVyb19wcm9iIiwiQmluYXJ5Q29tcG9uZW50U3RlcHBlciIsInN1YnBhcmFtcyIsIkFtd2dTdGVwcGVyIiwiU2VsZWN0U3RlcHBlciIsInBhcmFtX29iamVjdF93cmFwIiwicGFyYW1fb3B0aW9ucyIsIlNhbXBsZXIiLCJkYXRhIiwicGFyYW1faW5pdF9mdW4iLCJ0aGlubmluZ19pbnRlcnZhbCIsInBhcmFtc190b19tb25pdG9yIiwidGhpbiIsIm1vbml0b3IiLCJzdGVwcGVycyIsImNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlIiwic2FtcGxlIiwibl9pdGVyYXRpb25zIiwibW9uaXRvcmVkX3BhcmFtcyIsImN1cnJfc2FtcGxlIiwiYnVybiIsIkFtd2dTYW1wbGVyIiwiYXNjZW5kaW5nIiwibnVtYmVycyIsInZhbHVlcyIsInZhbHVlb2YiLCJjb21wYXJlRGVmaW5lZCIsImNvbXBhcmUiLCJhc2NlbmRpbmdEZWZpbmVkIiwiVHlwZUVycm9yIiwicXVpY2tzZWxlY3QiLCJsZWZ0IiwicmlnaHQiLCJuZXdMZWZ0IiwibmV3UmlnaHQiLCJzd2FwIiwicXVhbnRpbGUiLCJwIiwiRmxvYXQ2NEFycmF5IiwiZnJvbSIsImlzTmFOIiwiaTAiLCJ2YWx1ZTAiLCJzdWJhcnJheSIsInZhbHVlMSIsIm1lZGlhbiIsIm5vb3AiLCJkaXNwYXRjaCIsImFyZ3VtZW50cyIsIl8iLCJ0ZXN0IiwiRXJyb3IiLCJEaXNwYXRjaCIsInBhcnNlVHlwZW5hbWVzIiwidHlwZW5hbWVzIiwidHlwZXMiLCJ0cmltIiwic3BsaXQiLCJtYXAiLCJpbmRleE9mIiwib24iLCJ0eXBlbmFtZSIsImNhbGxiYWNrIiwiVCIsImdldCIsInNldCIsImNvcHkiLCJ0aGF0IiwiYXJncyIsImFwcGx5IiwiYyIsInhodG1sIiwic3ZnIiwieGxpbmsiLCJ4bWwiLCJ4bWxucyIsInByZWZpeCIsIm5hbWVzcGFjZXMiLCJzcGFjZSIsImxvY2FsIiwiY3JlYXRvckluaGVyaXQiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJ1cmkiLCJuYW1lc3BhY2VVUkkiLCJkb2N1bWVudEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRvckZpeGVkIiwiZnVsbG5hbWUiLCJuYW1lc3BhY2UiLCJub25lIiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0IiwiZ3JvdXBzIiwiX2dyb3VwcyIsInN1Ymdyb3VwcyIsImdyb3VwIiwic3ViZ3JvdXAiLCJub2RlIiwic3Vibm9kZSIsIl9fZGF0YV9fIiwiU2VsZWN0aW9uIiwiX3BhcmVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXJyYXlBbGwiLCJzZWxlY3RvckFsbCIsInBhcmVudHMiLCJtYXRjaGVzIiwiY2hpbGRNYXRjaGVyIiwiZmluZCIsImNoaWxkRmluZCIsIm1hdGNoIiwiY2hpbGRyZW4iLCJjaGlsZEZpcnN0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJmaWx0ZXIiLCJjaGlsZHJlbkZpbHRlciIsInNlbGVjdEFsbCIsIm1hdGNoZXIiLCJ1cGRhdGUiLCJfZW50ZXIiLCJzcGFyc2UiLCJFbnRlck5vZGUiLCJwYXJlbnQiLCJkYXR1bSIsIl9uZXh0IiwiX3BhcmVudCIsImFwcGVuZENoaWxkIiwiY2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJuZXh0IiwiYmluZEluZGV4IiwiZW50ZXIiLCJleGl0IiwiZ3JvdXBMZW5ndGgiLCJkYXRhTGVuZ3RoIiwiYmluZEtleSIsImtleSIsIm5vZGVCeUtleVZhbHVlIiwiTWFwIiwia2V5VmFsdWVzIiwia2V5VmFsdWUiLCJoYXMiLCJkZWxldGUiLCJiaW5kIiwiY29uc3RhbnQiLCJhcnJheWxpa2UiLCJlbnRlckdyb3VwIiwidXBkYXRlR3JvdXAiLCJleGl0R3JvdXAiLCJpMSIsInByZXZpb3VzIiwiX2V4aXQiLCJvbmVudGVyIiwib251cGRhdGUiLCJvbmV4aXQiLCJzZWxlY3Rpb24iLCJhcHBlbmQiLCJyZW1vdmUiLCJtZXJnZSIsIm9yZGVyIiwiY29udGV4dCIsImdyb3VwczAiLCJncm91cHMxIiwibTAiLCJtMSIsIm1lcmdlcyIsImdyb3VwMCIsImdyb3VwMSIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwicGFyZW50Tm9kZSIsImNvbXBhcmVOb2RlIiwic29ydGdyb3VwcyIsInNvcnRncm91cCIsInNvcnQiLCJhdHRyUmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiYXR0clJlbW92ZU5TIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJhdHRyQ29uc3RhbnQiLCJzZXRBdHRyaWJ1dGUiLCJhdHRyQ29uc3RhbnROUyIsInNldEF0dHJpYnV0ZU5TIiwiYXR0ckZ1bmN0aW9uIiwiYXR0ckZ1bmN0aW9uTlMiLCJnZXRBdHRyaWJ1dGVOUyIsImdldEF0dHJpYnV0ZSIsImVhY2giLCJkZWZhdWx0VmlldyIsInN0eWxlUmVtb3ZlIiwic3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsInN0eWxlQ29uc3RhbnQiLCJwcmlvcml0eSIsInNldFByb3BlcnR5Iiwic3R5bGVGdW5jdGlvbiIsInN0eWxlVmFsdWUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInByb3BlcnR5UmVtb3ZlIiwicHJvcGVydHlDb25zdGFudCIsInByb3BlcnR5RnVuY3Rpb24iLCJjbGFzc0FycmF5Iiwic3RyaW5nIiwiY2xhc3NMaXN0IiwiQ2xhc3NMaXN0IiwiX25vZGUiLCJfbmFtZXMiLCJhZGQiLCJqb2luIiwic3BsaWNlIiwiY29udGFpbnMiLCJjbGFzc2VkQWRkIiwibmFtZXMiLCJsaXN0IiwiY2xhc3NlZFJlbW92ZSIsImNsYXNzZWRUcnVlIiwiY2xhc3NlZEZhbHNlIiwiY2xhc3NlZEZ1bmN0aW9uIiwidGV4dFJlbW92ZSIsInRleHRDb250ZW50IiwidGV4dENvbnN0YW50IiwidGV4dEZ1bmN0aW9uIiwiaHRtbFJlbW92ZSIsImlubmVySFRNTCIsImh0bWxDb25zdGFudCIsImh0bWxGdW5jdGlvbiIsInJhaXNlIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJmaXJzdENoaWxkIiwiY3JlYXRvciIsImNvbnN0YW50TnVsbCIsImJlZm9yZSIsInJlbW92ZUNoaWxkIiwic2VsZWN0aW9uX2Nsb25lU2hhbGxvdyIsImNsb25lIiwic2VsZWN0aW9uX2Nsb25lRGVlcCIsImRlZXAiLCJwcm9wZXJ0eSIsImNvbnRleHRMaXN0ZW5lciIsImxpc3RlbmVyIiwiZXZlbnQiLCJvblJlbW92ZSIsIl9fb24iLCJvIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uQWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJ3aW5kb3ciLCJDdXN0b21FdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJkZXRhaWwiLCJkaXNwYXRjaENvbnN0YW50IiwiZGlzcGF0Y2hGdW5jdGlvbiIsInNlbGVjdGlvbl9zZWxlY3Rpb24iLCJzZWxlY3Rpb25fc2VsZWN0Iiwic2VsZWN0aW9uX3NlbGVjdEFsbCIsInNlbGVjdENoaWxkIiwic2VsZWN0aW9uX3NlbGVjdENoaWxkIiwic2VsZWN0Q2hpbGRyZW4iLCJzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4iLCJzZWxlY3Rpb25fZmlsdGVyIiwic2VsZWN0aW9uX2RhdGEiLCJzZWxlY3Rpb25fZW50ZXIiLCJzZWxlY3Rpb25fZXhpdCIsInNlbGVjdGlvbl9qb2luIiwic2VsZWN0aW9uX21lcmdlIiwic2VsZWN0aW9uX29yZGVyIiwic2VsZWN0aW9uX3NvcnQiLCJzZWxlY3Rpb25fY2FsbCIsIm5vZGVzIiwic2VsZWN0aW9uX25vZGVzIiwic2VsZWN0aW9uX25vZGUiLCJzZWxlY3Rpb25fc2l6ZSIsInNlbGVjdGlvbl9lbXB0eSIsInNlbGVjdGlvbl9lYWNoIiwiYXR0ciIsInNlbGVjdGlvbl9hdHRyIiwic2VsZWN0aW9uX3N0eWxlIiwic2VsZWN0aW9uX3Byb3BlcnR5IiwiY2xhc3NlZCIsInNlbGVjdGlvbl9jbGFzc2VkIiwidGV4dCIsInNlbGVjdGlvbl90ZXh0IiwiaHRtbCIsInNlbGVjdGlvbl9odG1sIiwic2VsZWN0aW9uX3JhaXNlIiwic2VsZWN0aW9uX2xvd2VyIiwic2VsZWN0aW9uX2FwcGVuZCIsImluc2VydCIsInNlbGVjdGlvbl9pbnNlcnQiLCJzZWxlY3Rpb25fcmVtb3ZlIiwic2VsZWN0aW9uX2Nsb25lIiwic2VsZWN0aW9uX2RhdHVtIiwic2VsZWN0aW9uX29uIiwic2VsZWN0aW9uX2Rpc3BhdGNoIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJzZWxlY3Rpb25faXRlcmF0b3IiLCJleHRlbmQiLCJkZWZpbml0aW9uIiwiQ29sb3IiLCJkYXJrZXIiLCJicmlnaHRlciIsInJlSSIsInJlTiIsInJlUCIsInJlSGV4IiwicmVSZ2JJbnRlZ2VyIiwicmVSZ2JQZXJjZW50IiwicmVSZ2JhSW50ZWdlciIsInJlUmdiYVBlcmNlbnQiLCJyZUhzbFBlcmNlbnQiLCJyZUhzbGFQZXJjZW50IiwibmFtZWQiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJsdWV2aW9sZXQiLCJicm93biIsImJ1cmx5d29vZCIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JlZW4iLCJkYXJrZ3JleSIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyYXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiZ3JleSIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYWdlbnRhIiwibWFyb29uIiwibWVkaXVtYXF1YW1hcmluZSIsIm1lZGl1bWJsdWUiLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXR1cnF1b2lzZSIsInBhbGV2aW9sZXRyZWQiLCJwYXBheWF3aGlwIiwicGVhY2hwdWZmIiwicGVydSIsInBpbmsiLCJwbHVtIiwicG93ZGVyYmx1ZSIsInB1cnBsZSIsInJlYmVjY2FwdXJwbGUiLCJyZWQiLCJyb3N5YnJvd24iLCJyb3lhbGJsdWUiLCJzYWRkbGVicm93biIsInNhbG1vbiIsInNhbmR5YnJvd24iLCJzZWFncmVlbiIsInNlYXNoZWxsIiwic2llbm5hIiwic2lsdmVyIiwic2t5Ymx1ZSIsInNsYXRlYmx1ZSIsInNsYXRlZ3JheSIsInNsYXRlZ3JleSIsInNub3ciLCJzcHJpbmdncmVlbiIsInN0ZWVsYmx1ZSIsInRhbiIsInRlYWwiLCJ0aGlzdGxlIiwidG9tYXRvIiwidHVycXVvaXNlIiwidmlvbGV0Iiwid2hlYXQiLCJ3aGl0ZSIsIndoaXRlc21va2UiLCJ5ZWxsb3ciLCJ5ZWxsb3dncmVlbiIsImRlZmluZSIsImNvbG9yIiwiY2hhbm5lbHMiLCJhc3NpZ24iLCJkaXNwbGF5YWJsZSIsInJnYiIsImhleCIsImNvbG9yX2Zvcm1hdEhleCIsImZvcm1hdEhleCIsImZvcm1hdEhleDgiLCJjb2xvcl9mb3JtYXRIZXg4IiwiZm9ybWF0SHNsIiwiY29sb3JfZm9ybWF0SHNsIiwiZm9ybWF0UmdiIiwiY29sb3JfZm9ybWF0UmdiIiwiaHNsQ29udmVydCIsImZvcm1hdCIsInRvTG93ZXJDYXNlIiwiZXhlYyIsInBhcnNlSW50IiwicmdibiIsIlJnYiIsInJnYmEiLCJoc2xhIiwiZyIsInJnYkNvbnZlcnQiLCJvcGFjaXR5IiwiY2xhbXAiLCJjbGFtcGkiLCJjbGFtcGEiLCJyZ2JfZm9ybWF0SGV4IiwicmdiX2Zvcm1hdEhleDgiLCJyZ2JfZm9ybWF0UmdiIiwiaCIsIkhzbCIsImhzbCIsIm0yIiwiaHNsMnJnYiIsImNsYW1waCIsImNsYW1wdCIsImxpbmVhciIsImQiLCJleHBvbmVudGlhbCIsIm5vZ2FtbWEiLCJyZ2JHYW1tYSIsInN0YXJ0IiwiZW5kIiwiY29sb3JSZ2IiLCJyZUEiLCJyZUIiLCJ6ZXJvIiwib25lIiwiYmkiLCJsYXN0SW5kZXgiLCJhbSIsImJtIiwiYnMiLCJpbmRleCIsIm51bWJlciIsImRlZ3JlZXMiLCJpZGVudGl0eSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicm90YXRlIiwic2tld1giLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImF0YW4iLCJzdmdOb2RlIiwicGFyc2VDc3MiLCJET01NYXRyaXgiLCJXZWJLaXRDU1NNYXRyaXgiLCJpc0lkZW50aXR5IiwiZGVjb21wb3NlIiwicGFyc2VTdmciLCJ0cmFuc2Zvcm0iLCJiYXNlVmFsIiwiY29uc29saWRhdGUiLCJtYXRyaXgiLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybSIsInBhcnNlIiwicHhDb21tYSIsInB4UGFyZW4iLCJkZWdQYXJlbiIsInBvcCIsInRyYW5zbGF0ZSIsInhhIiwieWEiLCJ4YiIsInliIiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MiLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybVN2ZyIsImZyYW1lIiwidGltZW91dCIsImludGVydmFsIiwicG9rZURlbGF5IiwidGFza0hlYWQiLCJ0YXNrVGFpbCIsImNsb2NrTGFzdCIsImNsb2NrTm93IiwiY2xvY2tTa2V3IiwiY2xvY2siLCJwZXJmb3JtYW5jZSIsIm5vdyIsInNldEZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImNsZWFyTm93IiwiVGltZXIiLCJfY2FsbCIsIl90aW1lIiwidGltZXIiLCJyZXN0YXJ0IiwiZGVsYXkiLCJ0aW1lIiwic2xlZXAiLCJzdG9wIiwidGltZXJGbHVzaCIsIndha2UiLCJuYXAiLCJwb2tlIiwidDAiLCJ0MSIsInQyIiwiY2xlYXJUaW1lb3V0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsImVtcHR5T24iLCJlbXB0eVR3ZWVuIiwiQ1JFQVRFRCIsIlNDSEVEVUxFRCIsIlNUQVJUSU5HIiwiU1RBUlRFRCIsIlJVTk5JTkciLCJFTkRJTkciLCJFTkRFRCIsImlkIiwidGltaW5nIiwic2NoZWR1bGVzIiwiX190cmFuc2l0aW9uIiwidHdlZW4iLCJkdXJhdGlvbiIsImVhc2UiLCJzY2hlZHVsZSIsInNlbGYiLCJ0aWNrIiwiYWN0aXZlIiwiaW50ZXJydXB0IiwidHdlZW5SZW1vdmUiLCJ0d2VlbjAiLCJ0d2VlbjEiLCJ0d2VlbkZ1bmN0aW9uIiwiX2lkIiwidHdlZW5WYWx1ZSIsInRyYW5zaXRpb24iLCJpbnRlcnBvbGF0ZU51bWJlciIsImludGVycG9sYXRlUmdiIiwiaW50ZXJwb2xhdGVTdHJpbmciLCJpbnRlcnBvbGF0ZSIsInN0cmluZzAwIiwic3RyaW5nMSIsImludGVycG9sYXRlMCIsInN0cmluZzAiLCJzdHJpbmcxMCIsImF0dHJUd2VlbiIsImF0dHJJbnRlcnBvbGF0ZSIsImF0dHJJbnRlcnBvbGF0ZU5TIiwiYXR0clR3ZWVuTlMiLCJfdmFsdWUiLCJkZWxheUZ1bmN0aW9uIiwiZGVsYXlDb25zdGFudCIsImR1cmF0aW9uRnVuY3Rpb24iLCJkdXJhdGlvbkNvbnN0YW50IiwiZWFzZUNvbnN0YW50IiwiZWFzZVZhcnlpbmciLCJUcmFuc2l0aW9uIiwiX25hbWUiLCJldmVyeSIsIm9uRnVuY3Rpb24iLCJvbjAiLCJvbjEiLCJzaXQiLCJyZW1vdmVGdW5jdGlvbiIsImluaGVyaXQiLCJzdHlsZU51bGwiLCJzdHlsZU1heWJlUmVtb3ZlIiwibGlzdGVuZXIwIiwic3R5bGVUd2VlbiIsInN0eWxlSW50ZXJwb2xhdGUiLCJ0ZXh0SW50ZXJwb2xhdGUiLCJ0ZXh0VHdlZW4iLCJpZDAiLCJpZDEiLCJuZXdJZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2FuY2VsIiwic2VsZWN0aW9uX3Byb3RvdHlwZSIsInRyYW5zaXRpb25fc2VsZWN0IiwidHJhbnNpdGlvbl9zZWxlY3RBbGwiLCJ0cmFuc2l0aW9uX2ZpbHRlciIsInRyYW5zaXRpb25fbWVyZ2UiLCJ0cmFuc2l0aW9uX3NlbGVjdGlvbiIsInRyYW5zaXRpb25fdHJhbnNpdGlvbiIsInRyYW5zaXRpb25fb24iLCJ0cmFuc2l0aW9uX2F0dHIiLCJ0cmFuc2l0aW9uX2F0dHJUd2VlbiIsInRyYW5zaXRpb25fc3R5bGUiLCJ0cmFuc2l0aW9uX3N0eWxlVHdlZW4iLCJ0cmFuc2l0aW9uX3RleHQiLCJ0cmFuc2l0aW9uX3RleHRUd2VlbiIsInRyYW5zaXRpb25fcmVtb3ZlIiwidHJhbnNpdGlvbl90d2VlbiIsInRyYW5zaXRpb25fZGVsYXkiLCJ0cmFuc2l0aW9uX2R1cmF0aW9uIiwidHJhbnNpdGlvbl9lYXNlIiwidHJhbnNpdGlvbl9lYXNlVmFyeWluZyIsInRyYW5zaXRpb25fZW5kIiwiY3ViaWNJbk91dCIsImRlZmF1bHRUaW1pbmciLCJlYXNlQ3ViaWNJbk91dCIsInNlbGVjdGlvbl9pbnRlcnJ1cHQiLCJzZWxlY3Rpb25fdHJhbnNpdGlvbiIsIlRyYW5zZm9ybSIsInBvaW50IiwiYXBwbHlYIiwiYXBwbHlZIiwiaW52ZXJ0IiwiaW52ZXJ0WCIsImludmVydFkiLCJyZXNjYWxlWCIsImRvbWFpbiIsInJhbmdlIiwicmVzY2FsZVkiLCJDUFRNYXRoIiwiREVGQVVMVCIsIk1JTiIsIk1BWCIsIlNURVAiLCJKVU1QIiwieGFsMnYiLCJ4bHYyYSIsInhhdjJsIiwicGcydyIsInZ3MnUiLCJ3Iiwib25tZXNzYWdlIiwibHVjZSIsImxvZ1Bvc3QiLCJscCIsImFscGhhTWVhbiIsImFscGhhU2FtcGxlU2l6ZSIsIkJheWVzRGlzdHJpYnV0aW9ucyIsImxhbWJkYU1lYW4iLCJsYW1iZGFTaGFwZSIsImdhbW1hTWVhbiIsImdhbW1hU2FtcGxlU2l6ZSIsImx1Y2VNZWFuIiwibHVjZVNoYXBlIiwiZm9yRWFjaCIsImNob2ljZSIsInZsIiwieGwiLCJ2dyIsInh3IiwidnMiLCJ4cyIsInd3IiwicHciLCJ3bCIsInVnIiwidXMiLCJiaW52YWwiLCJyZXNwb25zZSIsInNhbXBsZXIiLCJCYXllc01jbWMiLCJzYW1wbGVzIiwicmVzdWx0cyIsImQzIiwicG9zdE1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0VBR0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0VBRUE7RUFDQTtFQUNBOztFQUVBO0VB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Q0FtdUIsRUFBQUEsT0FBTyxDQUFDdnRCLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDbEIsRUFBQSxNQUFNeXRCLE9BQU8sR0FBR0YsT0FBTyxDQUFDM3RCLE1BQU0sQ0FBQyxJQUFJLENBQUM7O0VBRXBDO0VBQ0EsRUFBQSxNQUFNOHRCLE9BQU8sR0FBRztNQUNkNTNCLEtBQUssRUFBRTYzQixNQUFTLENBQUNGLE9BQU8sQ0FBQzMzQixLQUFLLENBQUM7TUFDL0JtQixNQUFNLEVBQUUwMkIsTUFBUyxDQUFDRixPQUFPLENBQUN4MkIsTUFBTSxDQUFDO01BQ2pDcEMsS0FBSyxFQUFFODRCLE1BQVMsQ0FBQ0YsT0FBTyxDQUFDNTRCLEtBQUssQ0FBQztFQUMvQisyQixJQUFBQSxJQUFJLEVBQUUrQixNQUFTLENBQUNGLE9BQU8sQ0FBQzdCLElBQUk7S0FDN0I7SUFFRHhHLElBQUksQ0FBQ3dJLFdBQVcsQ0FBQztFQUFDRixJQUFBQSxPQUFPLEVBQUVBLE9BQU87RUFBRUQsSUFBQUEsT0FBTyxFQUFFQTtFQUFPLEdBQUMsQ0FBQztFQUN4RCxDQUFDOzs7Ozs7IiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTEsOTIsOTMsOTQsOTUsOTZdfQ==");class CPTFit extends ProspectableElement{static get properties(){return{}}constructor(){super(),this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.choices=[],this.samples=null,this.working=!1,this.queued=!1,this.worker=new WorkerFactory,this.worker.onmessage=t=>{this.working=!1,this.samples=t.data.samples,this.a=t.data.results.alpha,this.l=t.data.results.lambda,this.g=t.data.results.gamma,this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-fit-update",{detail:{a:this.a,l:this.l,g:this.g},bubbles:!0})),this.queued&&this.fit()},this.fit()}fit(){this.working?this.queued=!0:(this.worker.postMessage(this.choices),this.working=!0,this.queued=!1)}clear(){this.choices=[],this.fit()}get(t="default"){const e=this.choices.find(e=>e.name===t);return void 0===e?null:e}set(t,e,s,i,n,a="",l=""){const r=this.choices.find(t=>t.name===a);void 0===r?this.choices.push({xl:t,xw:e,pw:s,xs:i,response:n,name:a,label:l}):(r.xl=t,r.xw=e,r.pw=s,r.xs=i,r.response=n,r.label=l),this.fit()}static get styles(){return[super.styles,i$5`
        /* :host {
          display: inline-block;
        } */

        figure {
          margin: 0.625rem;
        }

        figure h2 {
          margin: 0.25rem 0;

          font-size: 1.125rem;
          font-weight: 600;
        }

        .trace,
        .hist {
          display: inline-block;
        }
      `]}render(){return x$3`
      <div>
        <div>After ${this.choices.length} trials:</div>
        <div>Current:
          <var class="math-var a">Î±</var> = ${this.a.toFixed(2)},
          <var class="math-var l">Î»</var> = ${this.l.toFixed(2)},
          <var class="math-var g">Î³</var> = ${this.g.toFixed(2)}
        </div>
        <div class="param">
          <div class="trace alpha"></div>
          <div class="hist alpha"></div>
        </div>
        <div class="param">
          <div class="trace lambda"></div>
          <div class="hist lambda"></div>
        </div>
        <div class="param">
          <div class="trace gamma"></div>
          <div class="hist gamma"></div>
        </div>
        <div class="param">
          <div class="trace luce"></div>
          <div class="hist luce"></div>
        </div>
      </div>
    `}plotParam(t){this.shadowRoot.querySelector(`.hist.${t}`).replaceChildren(plot({title:`Posterior of ${t}`,x:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[rectY(this.samples[t],binX({y:"count"},{x:identity$1})),rectY(this.samples[t],pointerX(binX({y:"count"},{x:identity$1,stroke:"black",fill:"white",tip:!0})))]})),this.shadowRoot.querySelector(`.trace.${t}`).replaceChildren(plot({title:`Traceplot of ${t}`,x:{label:"Sample"},y:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[lineY(this.samples[t]),dot(this.samples[t],pointer({x:indexOf,y:identity$1,stroke:"black",fill:"white",r:4,tip:!0}))]}))}update(t){super.update(t),null!==this.samples&&(this.plotParam("alpha"),this.plotParam("lambda"),this.plotParam("gamma"),this.plotParam("luce"))}}customElements.define("cpt-fit",CPTFit);class CPTParameters extends ProspectableElement{static get properties(){return{a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}constructor(){super(),this.a=void 0,this.l=void 0,this.g=void 0}setAlpha(t){this.a=+t.target.value,this.dispatchEvent(new CustomEvent("cpt-parameters-a",{detail:{a:this.a},bubbles:!0}))}setLambda(t){this.l=+t.target.value,this.dispatchEvent(new CustomEvent("cpt-parameters-l",{detail:{l:this.l},bubbles:!0}))}setGamma(t){this.g=+t.target.value,this.dispatchEvent(new CustomEvent("cpt-parameters-g",{detail:{g:this.g},bubbles:!0}))}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        decidables-slider {
          line-height: 1;
          text-align: center;
        }

        decidables-slider  div {
          margin-bottom: 0.25rem;
        }

        .a {
          --decidables-slider-background-color: var(---color-a-light);
          --decidables-slider-color: var(---color-a);
        }

        .l {
          --decidables-slider-background-color: var(---color-l-light);
          --decidables-slider-color: var(---color-l);
        }

        .g {
          --decidables-slider-background-color: var(---color-g-light);
          --decidables-slider-color: var(---color-g);
        }
      `]}render(){return x$3`
      <div class="holder">
        ${null!=this.a?x$3`<decidables-slider class="a"
            ?disabled=${!this.interactive}
            scale
            min=${CPTMath.a.MIN}
            max=${CPTMath.a.MAX}
            step=${CPTMath.a.STEP}
            .value=${+this.a.toFixed(2)}
            @change=${this.setAlpha.bind(this)}
            @input=${this.setAlpha.bind(this)}
          ><div>Alpha<br><span class="math-var">Î±</span></div></decidables-slider>`:x$3``}
        ${null!=this.l?x$3`<decidables-slider class="l"
            ?disabled=${!this.interactive}
            scale
            min=${CPTMath.l.MIN}
            max=${CPTMath.l.MAX}
            step=${CPTMath.l.STEP}
            .value=${+this.l.toFixed(2)}
            @change=${this.setLambda.bind(this)}
            @input=${this.setLambda.bind(this)}
          ><div>Lambda<br><span class="math-var">Î»</span></div></decidables-slider>`:x$3``}
        ${null!=this.g?x$3`<decidables-slider class="g"
            ?disabled=${!this.interactive}
            scale
            min=${CPTMath.g.MIN}
            max=${CPTMath.g.MAX}
            step=${CPTMath.g.STEP}
            .value=${+this.g.toFixed(2)}
            @change=${this.setGamma.bind(this)}
            @input=${this.setGamma.bind(this)}
          ><div>Gamma<br><span class="math-var">Î³</span></div></decidables-slider>`:x$3``}
      </div>`}}customElements.define("cpt-parameters",CPTParameters);class CPTProbability extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},w:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.g=CPTMath.g.DEFAULT,this.p=null,this.label="",this.function="default",this.functions=[{name:"default",g:this.g}],this.probabilities=[{name:"default",p:this.p,label:this.label,function:this.function}],this.xl=null,this.xw=null,this.pw=null,this.xs=null,this.trialCount=null,this.response=null,this.alignState()}alignState(){this.functions[0].g=this.g,this.probabilities[0].p=this.p,this.probabilities[0].label=this.label,this.probabilities[0].function=this.function,this.probabilities.forEach(t=>{const e=this.functions.find(e=>e.name===t.function);t.w=CPTMath.pg2w(t.p,e.g)}),this.w=this.probabilities[0].w}trial(t,e,s,i,n,a){this.trialCount&&this.removeProbability(`${this.trialCount}`),this.xl=t,this.xw=e,this.pw=s,this.xs=i,this.trialCount=n,this.response=a,this.setProbability(this.pw,`${this.trialCount}`,"","default",!0)}pauseTrial(){const t=select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum(t=>(t.paused=!0,t))}resumeTrial(){select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum(t=>(t.paused=!1,t)),this.requestUpdate()}clearFunctions(){this.functions.splice(1),this.requestUpdate()}clearProbabilities(){this.probabilities.splice(1),this.requestUpdate()}clear(){this.clearFunctions(),this.clearProbabilities()}removeFunction(t){this.functions=this.functions.filter(e=>e.name!==t),this.requestUpdate()}removeProbability(t){this.probabilities=this.probabilities.filter(e=>e.name!==t),this.requestUpdate()}remove(t){this.removeFunction(t),this.removeProbability(t)}getFunction(t="default"){return this.functions.find(e=>e.name===t)}getProbability(t="default"){return this.probabilities.find(e=>e.name===t)}get(t="default"){return{...this.getFunction(t),...this.getProbability(t)}}setFunction(t,e="default"){"default"===e&&(this.g=t);const s=this.functions.find(t=>t.name===e);void 0===s?this.functions.push({name:e,g:t}):s.g=t,this.requestUpdate()}setProbability(t,e="default",s="",i=e,n=!1){"default"===e&&(this.p=t,this.label=s);const a=this.probabilities.find(t=>t.name===e);void 0===a?this.probabilities.push({name:e,p:t,label:s,function:i,trial:n,new:n}):(a.p=t,a.label=s,a.function=i),this.requestUpdate()}set(t,e,s="default",i="",n=s){this.setFunction(e,n),this.setProbability(t,s,i,n)}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;

          width: 20rem;
          height: 20rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .curve.interactive {
          cursor: nwse-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .curve.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */
          transform: translateX(0);
        }

        .curve.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          transform: translateY(0);
        }

        :host(.keyboard) .curve.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          transform: translateZ(0);
        }

        .point.interactive {
          cursor: nesw-resize;

          filter: url("#shadow-2");
          outline: none;

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #000000;
          stroke-opacity: 0;
          stroke-width: 0;
        }

        .point.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #ff0000;
        }

        .point.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #00ff00;
        }

        :host(.keyboard) .point.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #0000ff;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .scale-x path,
        .scale-x line,
        .scale-y path,
        .scale-y line {
          stroke: var(---color-element-border);
        }

        .diagonal {
          stroke: var(---color-element-border);
          stroke-dasharray: 4;
          stroke-width: 1;
        }

        .curve {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .line-p,
        .line-w {
          fill: none;
          stroke-width: 2;
        }

        .line-p {
          stroke: var(---color-p);
        }

        .line-w {
          stroke: var(---color-w);
        }

        .point .circle {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: middle;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        /* Make a larger target for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$3``}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,s=this.height,i=Math.min(e,s),n=2*this.rem,a=3*this.rem,l=3*this.rem,r=i-(n+a),c=i-(l+2*this.rem),B=parseInt(this.getComputedStyleValue("---transition-duration"),10),g=linear().domain([0,1]).range([0,c]).clamp(!0);this.xScale=g;const o=linear().domain([1,0]).range([0,r]);this.yScale=o;const F=drag().subject((t,e)=>({x:t.x,y:this.yScale(CPTMath.pg2w(this.xScale.invert(t.x),e.g)),p:this.xScale.invert(t.x),g:e.g,w:CPTMath.pg2w(this.xScale.invert(t.x),e.g)})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const s=this.xScale.invert(t.x),i=this.yScale.invert(t.y),n=s-t.subject.p,a=i-t.subject.w,l=(n**2+a**2)**.5,r=t.subject.p>t.subject.w?n>a?t.subject.g-l:t.subject.g+l:n>a?t.subject.g+l:t.subject.g-l;e.g=r>CPTMath.g.MAX?CPTMath.g.MAX:r<CPTMath.g.MIN?CPTMath.g.MIN:r,"default"===e.name&&(this.g=e.g),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:this.get(e.name),bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)}),Q=drag().subject((t,e)=>({x:this.xScale(e.p),y:this.yScale(e.w)})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const s=this.xScale.invert(t.x);e.p=s<0?0:s>1?1:s,"default"===e.name&&(this.p=e.p),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,w:e.w,label:e.label,g:this.getFunction(e.function).g},bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)}),U=shapeLine().x(t=>g(t.p)).y(t=>o(t.w)),I=select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),d=I.enter().append("svg").classed("main",!0).each((t,e,s)=>{B$1(ProspectableElement.svgFilters,s[e])}),b=d.merge(I).attr("viewBox",`0 0 ${i} ${i}`),u=d.append("g").classed("plot",!0),C=b.select(".plot").attr("transform",`translate(${l}, ${n})`);u.append("clipPath").attr("id","clip-cpt-value").append("rect"),C.select("clipPath rect").attr("height",r+1).attr("width",c+1);const h=u.append("g").classed("underlayer",!0),y=C.select(".underlayer");h.append("rect").classed("background",!0),y.select(".background").attr("height",r).attr("width",c),h.append("g").classed("scale-x",!0);y.select(".scale-x").attr("transform",`translate(0, ${r})`).transition().duration(2*B).ease(cubicOut).call(axisBottom(g)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const x=h.append("text").classed("title-x",!0).attr("text-anchor","middle");x.append("tspan").classed("name",!0).text("Probability ("),x.append("tspan").classed("math-var p",!0).text("p"),x.append("tspan").classed("name",!0).text(")"),y.select(".title-x").attr("transform",`translate(${c/2}, ${r+2.25*this.rem})`),h.append("g").classed("scale-y",!0);y.select(".scale-y").transition().duration(2*B).ease(cubicOut).call(axisLeft(o)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const m=h.append("text").classed("title-y",!0).attr("text-anchor","middle");m.append("tspan").classed("name",!0).text("Decision Weight ("),m.append("tspan").classed("math-var v",!0).text("w"),m.append("tspan").classed("name",!0).text(")"),y.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${r/2})rotate(-90)`),h.append("line").classed("diagonal",!0),y.select(".diagonal").transition().duration(2*B).attr("x1",g(0)).attr("y1",o(0)).attr("x2",g(1)).attr("y2",o(1)),u.append("g").classed("content",!0);const p=C.select(".content"),A=p.selectAll(".lines").data(this.probabilities.filter(t=>null!=t.p),t=>t.name),G=A.enter().append("g").classed("lines",!0);G.each((t,e,s)=>{const i=select(s[e]);i.append("line").classed("line-p above",!0),i.append("line").classed("line-p below",!0),i.append("line").classed("line-w before",!0),i.append("line").classed("line-w after",!0)}),G.filter(t=>t.new).attr("data-animating-ease-time-1",0).attr("data-animating-ease-time-2",0).each((t,e,s)=>{const i=select(s[e]);i.select(".line-p.above").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",o(1)).attr("y2",o(1)),i.select(".line-p.below").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",o(0)).attr("y2",o(0)),i.select(".line-w.before").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",o(t.w)).attr("y2",o(t.w)),i.select(".line-w.after").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",o(t.w)).attr("y2",o(t.w))});const R=G.merge(A),S=R.filter(t=>t.new&&!t.paused);if(!S.empty()){const t=S.attr("data-animating-ease-time-1"),e=S.attr("data-animating-ease-time-2"),s=e=>linear().domain([0,1]).range([t,1])(e),i=e=>linear().range([0,1]).domain([t,1])(e),n=t=>linear().domain([0,1]).range([e,1])(t),a=t=>linear().range([0,1]).domain([e,1])(t),l=e=>s=>linear().domain([e(t),1]).range([0,1])(e(s)),r=t=>s=>linear().domain([t(e),1]).range([0,1])(t(s));S.transition("new-1").duration(()=>Math.floor(B*(1-t))).ease(s).attr("data-animating-ease-time-1",1).tween("animating",(t,e,s)=>{const n=s[e],a=select(n),r=interpolate$1(void 0!==n.p?n.p:t.p,t.p),c=interpolate$1(void 0!==n.g?n.g:this.getFunction(t.function).g,this.getFunction(t.function).g),B=interpolate$1(o.invert(a.select(".line-p.above").attr("y1")),t.w),F=interpolate$1(o.invert(a.select(".line-p.below").attr("y1")),t.w);return t=>{n.p=r(cubicOut(i(t))),n.g=c(cubicOut(i(t))),n.w=CPTMath.pg2w(n.p,n.g),a.select(".line-p.above").attr("x1",g(n.p)).attr("x2",g(n.p)).attr("y1",o(B(l(cubicIn)(t)))).attr("y2",o(1)),a.select(".line-p.below").attr("x1",g(n.p)).attr("x2",g(n.p)).attr("y1",o(F(l(cubicIn)(t)))).attr("y2",o(0))}}).transition("new-2").duration(()=>Math.floor(B*(1-e))).ease(n).attr("data-animating-ease-time-2",1).tween("animating",(t,e,s)=>{const i=s[e],n=select(i),l=interpolate$1(void 0!==i.p?i.p:t.p,t.p),c=interpolate$1(void 0!==i.g?i.g:this.getFunction(t.function).g,this.getFunction(t.function).g),B=interpolate$1(g.invert(n.select(".line-w.before").attr("x1")),0),F=interpolate$1(g.invert(n.select(".line-w.after").attr("x1")),1);return t=>{i.p=l(cubicOut(a(t))),i.g=c(cubicOut(a(t))),i.w=CPTMath.pg2w(i.p,i.g),n.select(".line-w.before").attr("x1",g(B(r(cubicOut)(t)))).attr("x2",g(i.p)).attr("y1",o(i.w)).attr("y2",o(i.w)),n.select(".line-w.after").attr("x1",g(F(r(cubicOut)(t)))).attr("x2",g(i.p)).attr("y1",o(i.w)).attr("y2",o(i.w))}}).on("end",(t,e,s)=>{const i=s[e];i.removeAttribute("data-animating-ease-time-1"),i.removeAttribute("data-animating-ease-time-2"),t.new=!1,this.dispatchEvent(new CustomEvent("prospectable-response",{detail:{trial:this.trialCount,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response},bubbles:!0}))})}const L=R.filter(t=>t.new&&t.paused);if(!L.empty()){const t=L.attr("data-animating-ease-time-1"),e=L.attr("data-animating-ease-time-2");L.transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).tween("paused",(s,i,n)=>{const a=n[i],l=select(a),r=interpolate$1(void 0!==a.p?a.p:s.p,s.p),c=interpolate$1(void 0!==a.g?a.g:this.getFunction(s.function).g,this.getFunction(s.function).g),B=interpolate$1(1,s.w),F=interpolate$1(0,s.w),Q=interpolate$1(s.p,0),U=interpolate$1(s.p,1);return s=>{a.p=r(s),a.g=c(s),a.w=CPTMath.pg2w(a.p,a.g),l.select(".line-p.above").attr("x1",g(a.p)).attr("x2",g(a.p)).attr("y1",o(B(cubicIn(t)))).attr("y2",o(1)),l.select(".line-p.below").attr("x1",g(a.p)).attr("x2",g(a.p)).attr("y1",o(F(cubicIn(t)))).attr("y2",o(0)),l.select(".line-w.before").attr("x1",g(Q(cubicOut(e)))).attr("x2",g(a.p)).attr("y1",o(a.w)).attr("y2",o(a.w)),l.select(".line-w.after").attr("x1",g(U(cubicOut(e)))).attr("x2",g(a.p)).attr("y1",o(a.w)).attr("y2",o(a.w))}})}R.filter(t=>!t.new).transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).tween("non-animating",(t,e,s)=>{const i=s[e],n=select(i),a=interpolate$1(void 0!==i.p?i.p:t.p,t.p),l=interpolate$1(void 0!==i.g?i.g:this.getFunction(t.function).g,this.getFunction(t.function).g);return t=>{i.p=a(t),i.g=l(t),i.w=CPTMath.pg2w(i.p,i.g),n.select(".line-p.above").attr("x1",g(i.p)).attr("x2",g(i.p)).attr("y1",o(i.w)).attr("y2",o(1)),n.select(".line-p.below").attr("x1",g(i.p)).attr("x2",g(i.p)).attr("y1",o(i.w)).attr("y2",o(0)),n.select(".line-w.before").attr("x1",g(0)).attr("x2",g(i.p)).attr("y1",o(i.w)).attr("y2",o(i.w)),n.select(".line-w.after").attr("x1",g(1)).attr("x2",g(i.p)).attr("y1",o(i.w)).attr("y2",o(i.w))}}),A.exit().remove();const E=p.selectAll(".curve").data(this.functions,t=>t.name),V=E.enter().append("g").classed("curve",!0).attr("clip-path","url(#clip-cpt-value)");V.append("path").classed("path",!0),V.append("path").classed("path touch",!0);const Z=V.merge(E);(this.firstUpdate||t.has("interactive"))&&(this.interactive?Z.attr("tabindex",0).classed("interactive",!0).call(F).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let s=e.g;switch(t.key){case"ArrowUp":case"ArrowLeft":s+=t.shiftKey?CPTMath.g.STEP:CPTMath.g.JUMP;break;case"ArrowDown":case"ArrowRight":s-=t.shiftKey?CPTMath.g.STEP:CPTMath.g.JUMP}s=s<CPTMath.g.MIN?CPTMath.g.MIN:s>CPTMath.g.MAX?CPTMath.g.MAX:s,s!==e.g&&(e.g=s,"default"===e.name&&(this.g=e.g),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:this.get(e.name),bubbles:!0}))),t.preventDefault()}}):Z.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),Z.select(".path").transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("d",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.g?i.g:t.g,t.g);return t=>{i.g=n(t);const e=range$1(g.range()[0],g.range()[1]+1,1).map(t=>({p:g.invert(t),w:CPTMath.pg2w(g.invert(t),i.g)}));return U(e)}}),Z.select(".path.touch").transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("d",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.g?i.g:t.g,t.g);return t=>{i.g=n(t);const e=range$1(g.range()[0],g.range()[1]+1,1).map(t=>({p:g.invert(t),w:CPTMath.pg2w(g.invert(t),i.g)}));return U(e)}}),E.exit().remove();const N=p.selectAll(".point").data(this.probabilities.filter(t=>null!=t.p),t=>t.name),f=N.enter().append("g").classed("point",!0);f.append("circle").classed("circle touch",!0),f.append("text").classed("label",!0);const X=f.merge(N);X.select("text").text(t=>t.label),X.filter(e=>(this.firstUpdate||t.has("interactive"))&&this.interactive&&!e.trial).attr("tabindex",0).classed("interactive",!0).call(Q).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let s=e.p;switch(t.key){case"ArrowUp":case"ArrowRight":s+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowLeft":s-=t.shiftKey?.01:.05}s=s<0?0:s>1?1:s,s!==e.p&&(e.p=s,"default"===e.name&&(this.p=e.p),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,w:e.w,label:e.label,g:this.getFunction(e.function).g},bubbles:!0}))),t.preventDefault()}}),X.filter(e=>(this.firstUpdate||t.has("interactive"))&&!this.interactive||e.trial).attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null),X.transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("transform",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.p?i.p:t.p,t.p),a=interpolate$1(void 0!==i.g?i.g:this.getFunction(t.function).g,this.getFunction(t.function).g);return t=>(i.p=n(t),i.g=a(t),`translate(\n            ${g(i.p)},\n            ${o(CPTMath.pg2w(i.p,i.g))}\n          )`)}),N.exit().remove(),this.drag=!1,this.firstUpdate=!1}}function orthographic(t,e){return{x:e.origin.x+e.scale*t.x,y:e.origin.y+e.scale*t.y}}function x(t){return t.x}function y(t){return t.y}function z(t){return t.z}function sort(t,e){const s=t.centroid.z,i=e.centroid.z;return s<i?-1:s>i?1:s>=i?0:NaN}function generator3D(t,e){let s=0,i=0,n=0,a={x:0,y:0},l={x:0,y:0,z:0},r=1,c=x,B=y,g=z,o=0;function F(e){return t(e,{scale:r,origin:a,project:orthographic,row:o},{x:c,y:B,z:g},{x:s,y:i,z:n,rotateCenter:l})}return F.origin=function(t){return arguments.length?(a=t,F):a},F.scale=function(t){return arguments.length?(r=t,F):r},F.rotateX=function(t){return arguments.length?(s=t,F):s},F.rotateY=function(t){return arguments.length?(i=t,F):i},F.rotateZ=function(t){return arguments.length?(n=t,F):n},F.rotationCenter=function(t){return arguments.length?(l=t,F):l},F.x=function(t){return arguments.length?(c="function"==typeof t?t:+t,F):c},F.y=function(t){return arguments.length?(B="function"==typeof t?t:+t,F):B},F.z=function(t){return arguments.length?(g="function"==typeof t?t:+t,F):g},F.rows=function(t){return arguments.length?(o="function"==typeof t?t:+t,F):o},F.draw=e,F.sort=sort,F}function ccw(t){const e=[...t,t[0]];let s=0;for(let i=0;i<t.length;i++){const t=i+1,n=e[i].rotated,a=e[t].rotated;s+=(a.x-n.x)*(a.y+n.y)}return s>0}function centroid(t){let e=0,s=0,i=0,n=t.length;for(let a=n-1;a>=0;a--){const n=t[a].rotated;e+=n.x,s+=n.y,i+=n.z}return{x:e/n,y:s/n,z:i/n}}function rotateRzRyRx(t,e){const s=e.rotateCenter;t.x-=s.x,t.y-=s.y,t.z-=s.z;const i=rotateX(rotateY(rotateZ(t,e.z),e.y),e.x);return i.x+=s.x,i.y+=s.y,i.z+=s.z,i}function rotateX(t,e){const s=Math.sin(e),i=Math.cos(e);return{x:t.x,y:t.y*i-t.z*s,z:t.y*s+t.z*i}}function rotateY(t,e){const s=Math.sin(e),i=Math.cos(e);return{x:t.z*s+t.x*i,y:t.y,z:t.z*i-t.x*s}}function rotateZ(t,e){const s=Math.sin(e),i=Math.cos(e);return{x:t.x*i-t.y*s,y:t.x*s+t.y*i,z:t.z}}function point(t,e,s,i){for(let n=t.length-1;n>=0;n--){const a=t[n];a.rotated=rotateRzRyRx({x:s.x(a),y:s.y(a),z:s.z(a)},i),a.centroid=a.rotated,a.projected=e.project(a.rotated,e)}return t}function points3D(){return generator3D(point,void 0)}function drawPlane(t){return`M${t[0].projected.x},${t[0].projected.y}L${t[1].projected.x},${t[1].projected.y}L${t[2].projected.x},${t[2].projected.y}L${t[3].projected.x},${t[3].projected.y}Z`}function gridPlane(t,e,s,i){const n=point(t,e,s,i),a=[],l=e.row;let r=0;for(var c=n.length/l-1;c>0;c--)for(var B=l-1;B>0;B--){var g=B+c*l,o=g-1,F=o-l+1,Q=F-1,U=[n[g],n[F],n[Q],n[o]];U.plane="plane-"+r++,U.ccw=ccw(U),U.centroid=centroid(U),a.push(U)}return a}function gridPlanes3D(){return generator3D(gridPlane,drawPlane)}function drawLineStrip(t){const e=t[t.length-1];let s=`M${e.projected.x},${e.projected.y}`;for(var i=t.length-2;i>=0;i--){const e=t[i].projected;s+=`L${e.x},${e.y}`}return s}function lineStrip(t,e,s,i){for(let n=t.length-1;n>=0;n--){const a=t[n],l=a.length/2,r=parseInt(l);for(let t=a.length-1;t>=0;t--){const n=a[t];n.rotated=rotateRzRyRx({x:s.x(n),y:s.y(n),z:s.z(n)},i),n.projected=e.project(n.rotated,e)}a.centroid=r===l?centroid([a[l-1],a[l]]):{x:a[r].rotated.x,y:a[r].rotated.y,z:a[r].rotated.z}}return t}function lineStrips3D(){return generator3D(lineStrip,drawLineStrip)}customElements.define("cpt-probability",CPTProbability);var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const reverseNames=Object.create(null);for(const t in cssKeywords)Object.hasOwn(cssKeywords,t)&&(reverseNames[cssKeywords[t]]=t);const cs={to:{},get:{}};function clamp(t,e,s){return Math.min(Math.max(e,t),s)}function hexDouble(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}cs.get=function(t){let e,s;switch(t.slice(0,3).toLowerCase()){case"hsl":e=cs.get.hsl(t),s="hsl";break;case"hwb":e=cs.get.hwb(t),s="hwb";break;default:e=cs.get.rgb(t),s="rgb"}return e?{model:s,value:e}:null},cs.get.rgb=function(t){if(!t)return null;let e,s,i,n=[0,0,0,1];if(e=t.match(/^#([a-f\d]{6})([a-f\d]{2})?$/i)){for(i=e[2],e=e[1],s=0;s<3;s++){const t=2*s;n[s]=Number.parseInt(e.slice(t,t+2),16)}i&&(n[3]=Number.parseInt(i,16)/255)}else if(e=t.match(/^#([a-f\d]{3,4})$/i)){for(e=e[1],i=e[3],s=0;s<3;s++)n[s]=Number.parseInt(e[s]+e[s],16);i&&(n[3]=Number.parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)\s*(?:[\s,|/]\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(%?)\s*)?\)$/i)){for(s=0;s<3;s++)n[s]=Number.parseFloat(e[s+1]);e[4]&&(n[3]=e[5]?.01*Number.parseFloat(e[4]):Number.parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/i)))return(e=t.toLowerCase().match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:Object.hasOwn(cssKeywords,e[1])?(n=cssKeywords[e[1]].slice(),n[3]=1,n):null:null;for(s=0;s<3;s++)n[s]=Math.round(2.55*Number.parseFloat(e[s+1]));e[4]&&(n[3]=e[5]?.01*Number.parseFloat(e[4]):Number.parseFloat(e[4]))}for(s=0;s<3;s++)n[s]=clamp(n[s],0,255);return n[3]=clamp(n[3],0,1),n},cs.get.hsl=function(t){if(!t)return null;const e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i);if(e){const t=Number.parseFloat(e[4]);return[(Number.parseFloat(e[1])%360+360)%360,clamp(Number.parseFloat(e[2]),0,100),clamp(Number.parseFloat(e[3]),0,100),clamp(Number.isNaN(t)?1:t,0,1)]}return null},cs.get.hwb=function(t){if(!t)return null;const e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i);if(e){const t=Number.parseFloat(e[4]);return[(Number.parseFloat(e[1])%360+360)%360,clamp(Number.parseFloat(e[2]),0,100),clamp(Number.parseFloat(e[3]),0,100),clamp(Number.isNaN(t)?1:t,0,1)]}return null},cs.to.hex=function(...t){return"#"+hexDouble(t[0])+hexDouble(t[1])+hexDouble(t[2])+(t[3]<1?hexDouble(Math.round(255*t[3])):"")},cs.to.rgb=function(...t){return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},cs.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),s=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+s+"%, "+i+"%)":"rgba("+e+"%, "+s+"%, "+i+"%, "+t[3]+")"},cs.to.hsl=function(...t){return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},cs.to.hwb=function(...t){let e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},cs.to.keyword=function(...t){return reverseNames[t.slice(0,3)]};const reverseKeywords={};for(const t of Object.keys(cssKeywords))reverseKeywords[cssKeywords[t]]=t;const convert$1={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},LAB_FT=(6/29)**3;function srgbNonlinearTransform(t){const e=t>.0031308?1.055*t**(1/2.4)-.055:12.92*t;return Math.min(Math.max(0,e),1)}function srgbNonlinearTransformInv(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(const t of Object.keys(convert$1)){if(!("channels"in convert$1[t]))throw new Error("missing channels property: "+t);if(!("labels"in convert$1[t]))throw new Error("missing channel labels property: "+t);if(convert$1[t].labels.length!==convert$1[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:s}=convert$1[t];delete convert$1[t].channels,delete convert$1[t].labels,Object.defineProperty(convert$1[t],"channels",{value:e}),Object.defineProperty(convert$1[t],"labels",{value:s})}function comparativeDistance(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}function buildGraph(){const t={},e=Object.keys(convert$1);for(let{length:s}=e,i=0;i<s;i++)t[e[i]]={distance:-1,parent:null};return t}function deriveBFS(t){const e=buildGraph(),s=[t];for(e[t].distance=0;s.length>0;){const t=s.pop(),i=Object.keys(convert$1[t]);for(let{length:n}=i,a=0;a<n;a++){const n=i[a],l=e[n];-1===l.distance&&(l.distance=e[t].distance+1,l.parent=t,s.unshift(n))}}return e}function link(t,e){return function(s){return e(t(s))}}function wrapConversion(t,e){const s=[e[t].parent,t];let i=convert$1[e[t].parent][t],n=e[t].parent;for(;e[n].parent;)s.unshift(e[n].parent),i=link(convert$1[e[n].parent][n],i),n=e[n].parent;return i.conversion=s,i}function route(t){const e=deriveBFS(t),s={},i=Object.keys(e);for(let{length:t}=i,n=0;n<t;n++){const t=i[n];null!==e[t].parent&&(s[t]=wrapConversion(t,e))}return s}convert$1.rgb.hsl=function(t){const e=t[0]/255,s=t[1]/255,i=t[2]/255,n=Math.min(e,s,i),a=Math.max(e,s,i),l=a-n;let r,c;switch(a){case n:r=0;break;case e:r=(s-i)/l;break;case s:r=2+(i-e)/l;break;case i:r=4+(e-s)/l}r=Math.min(60*r,360),r<0&&(r+=360);const B=(n+a)/2;return c=a===n?0:B<=.5?l/(a+n):l/(2-a-n),[r,100*c,100*B]},convert$1.rgb.hsv=function(t){let e,s,i,n,a;const l=t[0]/255,r=t[1]/255,c=t[2]/255,B=Math.max(l,r,c),g=B-Math.min(l,r,c),o=function(t){return(B-t)/6/g+.5};if(0===g)n=0,a=0;else{switch(a=g/B,e=o(l),s=o(r),i=o(c),B){case l:n=i-s;break;case r:n=1/3+e-i;break;case c:n=2/3+s-e}n<0?n+=1:n>1&&(n-=1)}return[360*n,100*a,100*B]},convert$1.rgb.hwb=function(t){const e=t[0],s=t[1];let i=t[2];const n=convert$1.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(s,i));return i=1-1/255*Math.max(e,Math.max(s,i)),[n,100*a,100*i]},convert$1.rgb.oklab=function(t){const e=srgbNonlinearTransformInv(t[0]/255),s=srgbNonlinearTransformInv(t[1]/255),i=srgbNonlinearTransformInv(t[2]/255),n=Math.cbrt(.4122214708*e+.5363325363*s+.0514459929*i),a=Math.cbrt(.2119034982*e+.6806995451*s+.1073969566*i),l=Math.cbrt(.0883024619*e+.2817188376*s+.6299787005*i);return[100*(.2104542553*n+.793617785*a-.0040720468*l),100*(1.9779984951*n-2.428592205*a+.4505937099*l),100*(.0259040371*n+.7827717662*a-.808675766*l)]},convert$1.rgb.cmyk=function(t){const e=t[0]/255,s=t[1]/255,i=t[2]/255,n=Math.min(1-e,1-s,1-i);return[100*((1-e-n)/(1-n)||0),100*((1-s-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*n]},convert$1.rgb.keyword=function(t){const e=reverseKeywords[t];if(e)return e;let s,i=Number.POSITIVE_INFINITY;for(const e of Object.keys(cssKeywords)){const n=comparativeDistance(t,cssKeywords[e]);n<i&&(i=n,s=e)}return s},convert$1.keyword.rgb=function(t){return[...cssKeywords[t]]},convert$1.rgb.xyz=function(t){const e=srgbNonlinearTransformInv(t[0]/255),s=srgbNonlinearTransformInv(t[1]/255),i=srgbNonlinearTransformInv(t[2]/255);return[100*(.4124564*e+.3575761*s+.1804375*i),100*(.2126729*e+.7151522*s+.072175*i),100*(.0193339*e+.119192*s+.9503041*i)]},convert$1.rgb.lab=function(t){const e=convert$1.rgb.xyz(t);let s=e[0],i=e[1],n=e[2];s/=95.047,i/=100,n/=108.883,s=s>LAB_FT?s**(1/3):7.787*s+16/116,i=i>LAB_FT?i**(1/3):7.787*i+16/116,n=n>LAB_FT?n**(1/3):7.787*n+16/116;return[116*i-16,500*(s-i),200*(i-n)]},convert$1.hsl.rgb=function(t){const e=t[0]/360,s=t[1]/100,i=t[2]/100;let n,a;if(0===s)return a=255*i,[a,a,a];const l=i<.5?i*(1+s):i+s-i*s,r=2*i-l,c=[0,0,0];for(let t=0;t<3;t++)n=e+1/3*-(t-1),n<0&&n++,n>1&&n--,a=6*n<1?r+6*(l-r)*n:2*n<1?l:3*n<2?r+(l-r)*(2/3-n)*6:r,c[t]=255*a;return c},convert$1.hsl.hsv=function(t){const e=t[0];let s=t[1]/100,i=t[2]/100,n=s;const a=Math.max(i,.01);i*=2,s*=i<=1?i:2-i,n*=a<=1?a:2-a;return[e,100*(0===i?2*n/(a+n):2*s/(i+s)),100*((i+s)/2)]},convert$1.hsv.rgb=function(t){const e=t[0]/60,s=t[1]/100;let i=t[2]/100;const n=Math.floor(e)%6,a=e-Math.floor(e),l=255*i*(1-s),r=255*i*(1-s*a),c=255*i*(1-s*(1-a));switch(i*=255,n){case 0:return[i,c,l];case 1:return[r,i,l];case 2:return[l,i,c];case 3:return[l,r,i];case 4:return[c,l,i];case 5:return[i,l,r]}},convert$1.hsv.hsl=function(t){const e=t[0],s=t[1]/100,i=t[2]/100,n=Math.max(i,.01);let a,l;l=(2-s)*i;const r=(2-s)*n;return a=s*n,a/=r<=1?r:2-r,a=a||0,l/=2,[e,100*a,100*l]},convert$1.hwb.rgb=function(t){const e=t[0]/360;let s=t[1]/100,i=t[2]/100;const n=s+i;let a;n>1&&(s/=n,i/=n);const l=Math.floor(6*e),r=1-i;a=6*e-l,1&l&&(a=1-a);const c=s+a*(r-s);let B,g,o;switch(l){default:case 6:case 0:B=r,g=c,o=s;break;case 1:B=c,g=r,o=s;break;case 2:B=s,g=r,o=c;break;case 3:B=s,g=c,o=r;break;case 4:B=c,g=s,o=r;break;case 5:B=r,g=s,o=c}return[255*B,255*g,255*o]},convert$1.cmyk.rgb=function(t){const e=t[0]/100,s=t[1]/100,i=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,s*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]},convert$1.xyz.rgb=function(t){const e=t[0]/100,s=t[1]/100,i=t[2]/100;let n,a,l;return n=3.2404542*e+-1.5371385*s+-.4985314*i,a=-.969266*e+1.8760108*s+.041556*i,l=.0556434*e+-.2040259*s+1.0572252*i,n=srgbNonlinearTransform(n),a=srgbNonlinearTransform(a),l=srgbNonlinearTransform(l),[255*n,255*a,255*l]},convert$1.xyz.lab=function(t){let e=t[0],s=t[1],i=t[2];e/=95.047,s/=100,i/=108.883,e=e>LAB_FT?e**(1/3):7.787*e+16/116,s=s>LAB_FT?s**(1/3):7.787*s+16/116,i=i>LAB_FT?i**(1/3):7.787*i+16/116;return[116*s-16,500*(e-s),200*(s-i)]},convert$1.xyz.oklab=function(t){const e=t[0]/100,s=t[1]/100,i=t[2]/100,n=Math.cbrt(.8189330101*e+.3618667424*s-.1288597137*i),a=Math.cbrt(.0329845436*e+.9293118715*s+.0361456387*i),l=Math.cbrt(.0482003018*e+.2643662691*s+.633851707*i);return[100*(.2104542553*n+.793617785*a-.0040720468*l),100*(1.9779984951*n-2.428592205*a+.4505937099*l),100*(.0259040371*n+.7827717662*a-.808675766*l)]},convert$1.oklab.oklch=function(t){return convert$1.lab.lch(t)},convert$1.oklab.xyz=function(t){const e=t[0]/100,s=t[1]/100,i=t[2]/100,n=(.999999998*e+.396337792*s+.215803758*i)**3,a=(1.000000008*e-.105561342*s-.063854175*i)**3,l=(1.000000055*e-.089484182*s-1.291485538*i)**3;return[100*(1.227013851*n-.55779998*a+.281256149*l),100*(-.040580178*n+1.11225687*a-.071676679*l),100*(-.076381285*n-.421481978*a+1.58616322*l)]},convert$1.oklab.rgb=function(t){const e=t[0]/100,s=t[1]/100,i=t[2]/100,n=(e+.3963377774*s+.2158037573*i)**3,a=(e-.1055613458*s-.0638541728*i)**3,l=(e-.0894841775*s-1.291485548*i)**3;return[255*srgbNonlinearTransform(4.0767416621*n-3.3077115913*a+.2309699292*l),255*srgbNonlinearTransform(-1.2684380046*n+2.6097574011*a-.3413193965*l),255*srgbNonlinearTransform(-.0041960863*n-.7034186147*a+1.707614701*l)]},convert$1.oklch.oklab=function(t){return convert$1.lch.lab(t)},convert$1.lab.xyz=function(t){let e,s,i;s=(t[0]+16)/116,e=t[1]/500+s,i=s-t[2]/200;const n=s**3,a=e**3,l=i**3;return s=n>LAB_FT?n:(s-16/116)/7.787,e=a>LAB_FT?a:(e-16/116)/7.787,i=l>LAB_FT?l:(i-16/116)/7.787,e*=95.047,s*=100,i*=108.883,[e,s,i]},convert$1.lab.lch=function(t){const e=t[0],s=t[1],i=t[2];let n;n=360*Math.atan2(i,s)/2/Math.PI,n<0&&(n+=360);return[e,Math.sqrt(s*s+i*i),n]},convert$1.lch.lab=function(t){const e=t[0],s=t[1],i=t[2]/360*2*Math.PI;return[e,s*Math.cos(i),s*Math.sin(i)]},convert$1.rgb.ansi16=function(t,e=null){const[s,i,n]=t;let a=null===e?convert$1.rgb.hsv(t)[2]:e;if(a=Math.round(a/50),0===a)return 30;let l=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(s/255));return 2===a&&(l+=60),l},convert$1.hsv.ansi16=function(t){return convert$1.rgb.ansi16(convert$1.hsv.rgb(t),t[2])},convert$1.rgb.ansi256=function(t){const e=t[0],s=t[1],i=t[2];if(e>>4==s>>4&&s>>4==i>>4)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(s/255*5)+Math.round(i/255*5)},convert$1.ansi16.rgb=function(t){let e=(t=t[0])%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const s=.5*(Math.trunc(t>50)+1);return[(1&e)*s*255,(e>>1&1)*s*255,(e>>2&1)*s*255]},convert$1.ansi256.rgb=function(t){if((t=t[0])>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},convert$1.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".slice(e.length)+e},convert$1.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let s=e[0];3===e[0].length&&(s=[...s].map(t=>t+t).join(""));const i=Number.parseInt(s,16);return[i>>16&255,i>>8&255,255&i]},convert$1.rgb.hcg=function(t){const e=t[0]/255,s=t[1]/255,i=t[2]/255,n=Math.max(Math.max(e,s),i),a=Math.min(Math.min(e,s),i),l=n-a;let r;return r=l<=0?0:n===e?(s-i)/l%6:n===s?2+(i-e)/l:4+(e-s)/l,r/=6,r%=1,[360*r,100*l,100*(l<1?a/(1-l):0)]},convert$1.hsl.hcg=function(t){const e=t[1]/100,s=t[2]/100,i=s<.5?2*e*s:2*e*(1-s);let n=0;return i<1&&(n=(s-.5*i)/(1-i)),[t[0],100*i,100*n]},convert$1.hsv.hcg=function(t){const e=t[1]/100,s=t[2]/100,i=e*s;let n=0;return i<1&&(n=(s-i)/(1-i)),[t[0],100*i,100*n]},convert$1.hcg.rgb=function(t){const e=t[0]/360,s=t[1]/100,i=t[2]/100;if(0===s)return[255*i,255*i,255*i];const n=[0,0,0],a=e%1*6,l=a%1,r=1-l;let c=0;switch(Math.floor(a)){case 0:n[0]=1,n[1]=l,n[2]=0;break;case 1:n[0]=r,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=l;break;case 3:n[0]=0,n[1]=r,n[2]=1;break;case 4:n[0]=l,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=r}return c=(1-s)*i,[255*(s*n[0]+c),255*(s*n[1]+c),255*(s*n[2]+c)]},convert$1.hcg.hsv=function(t){const e=t[1]/100,s=e+t[2]/100*(1-e);let i=0;return s>0&&(i=e/s),[t[0],100*i,100*s]},convert$1.hcg.hsl=function(t){const e=t[1]/100,s=t[2]/100*(1-e)+.5*e;let i=0;return s>0&&s<.5?i=e/(2*s):s>=.5&&s<1&&(i=e/(2*(1-s))),[t[0],100*i,100*s]},convert$1.hcg.hwb=function(t){const e=t[1]/100,s=e+t[2]/100*(1-e);return[t[0],100*(s-e),100*(1-s)]},convert$1.hwb.hcg=function(t){const e=t[1]/100,s=1-t[2]/100,i=s-e;let n=0;return i<1&&(n=(s-i)/(1-i)),[t[0],100*i,100*n]},convert$1.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},convert$1.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},convert$1.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},convert$1.gray.hsl=function(t){return[0,0,t[0]]},convert$1.gray.hsv=convert$1.gray.hsl,convert$1.gray.hwb=function(t){return[0,100,t[0]]},convert$1.gray.cmyk=function(t){return[0,0,0,t[0]]},convert$1.gray.lab=function(t){return[t[0],0,0]},convert$1.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),s=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(s.length)+s},convert$1.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const convert={},models=Object.keys(convert$1);function wrapRaw(t){const e=function(...e){const s=e[0];return null==s?s:(s.length>1&&(e=s),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function wrapRounded(t){const e=function(...e){const s=e[0];if(null==s)return s;s.length>1&&(e=s);const i=t(e);if("object"==typeof i)for(let{length:t}=i,e=0;e<t;e++)i[e]=Math.round(i[e]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of models){convert[t]={},Object.defineProperty(convert[t],"channels",{value:convert$1[t].channels}),Object.defineProperty(convert[t],"labels",{value:convert$1[t].labels});const e=route(t),s=Object.keys(e);for(const i of s){const s=e[i];convert[t][i]=wrapRounded(s),convert[t][i].raw=wrapRaw(s)}}const skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const t of Object.keys(convert))hashedModelKeys[[...convert[t].labels].sort().join("")]=t;const limiters={};function Color(t,e){if(!(this instanceof Color))return new Color(t,e);if(e&&e in skippedModels&&(e=null),e&&!(e in convert))throw new Error("Unknown model: "+e);let s,i;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Color)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=cs.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,i=convert[this.model].channels,this.color=e.value.slice(0,i),this.valpha="number"==typeof e.value[i]?e.value[i]:1}else if(t.length>0){this.model=e||"rgb",i=convert[this.model].channels;const s=Array.prototype.slice.call(t,0,i);this.color=zeroArray(s,i),this.valpha="number"==typeof t[i]?t[i]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const i=e.sort().join("");if(!(i in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=hashedModelKeys[i];const{labels:n}=convert[this.model],a=[];for(s=0;s<n.length;s++)a.push(t[n[s]]);this.color=zeroArray(a)}if(limiters[this.model])for(i=convert[this.model].channels,s=0;s<i;s++){const t=limiters[this.model][s];t&&(this.color[s]=t(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in cs.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const s=1===e.valpha?e.color:[...e.color,this.valpha];return cs.to[e.model](...s)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),s=1===e.valpha?e.color:[...e.color,this.valpha];return cs.to.rgb.percent(...s)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=convert[this.model],{labels:s}=convert[this.model];for(let i=0;i<e;i++)t[s[i]]=this.color[i];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Color([...this.color.map(roundToPlace(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new Color([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(t){return void 0!==t?new Color(t):convert[this.model].keyword(this.color)},hex(t){return void 0!==t?new Color(t):cs.to.hex(...this.rgb().round().color)},hexa(t){if(void 0!==t)return new Color(t);const e=this.rgb().round().color;let s=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===s.length&&(s="0"+s),cs.to.hex(...e)+s},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[s,i]of t.entries()){const t=i/255;e[s]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),s=t.luminosity();return e>s?(e+.05)/(s+.05):(s+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return Color.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let s=e.color[0];return s=(s+t)%360,s=s<0?360+s:s,e.color[0]=s,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const s=t.rgb(),i=this.rgb(),n=void 0===e?.5:e,a=2*n-1,l=s.alpha()-i.alpha(),r=((a*l===-1?a:(a+l)/(1+a*l))+1)/2,c=1-r;return Color.rgb(r*s.red()+c*i.red(),r*s.green()+c*i.green(),r*s.blue()+c*i.blue(),s.alpha()*n+i.alpha()*(1-n))}};for(const t of Object.keys(convert)){if(skippedModels.includes(t))continue;const{channels:e}=convert[t];Color.prototype[t]=function(...e){return this.model===t?new Color(this):e.length>0?new Color(e,t):new Color([...assertArray(convert[this.model][t].raw(this.color)),this.valpha],t)},Color[t]=function(...s){let i=s[0];return"number"==typeof i&&(i=zeroArray(s,e)),new Color(i,t)}}function roundTo(t,e){return Number(t.toFixed(e))}function roundToPlace(t){return function(e){return roundTo(e,t)}}function getset(t,e,s){t=Array.isArray(t)?t:[t];for(const i of t)(limiters[i]||=[])[e]=s;return t=t[0],function(i){let n;return void 0!==i?(s&&(i=s(i)),n=this[t](),n.color[e]=i,n):(n=this[t]().color[e],s&&(n=s(n)),n)}}function maxfn(t){return function(e){return Math.max(0,Math.min(t,e))}}function assertArray(t){return Array.isArray(t)?t:[t]}function zeroArray(t,e){for(let s=0;s<e;s++)"number"!=typeof t[s]&&(t[s]=0);return t}class CPTSpace extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},point:{attribute:"point",type:Boolean,reflect:!0},updateable:{attribute:"updateable",type:Boolean,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.firstUpdate=!0,this.surface=!0,this.point=!0,this.updateable=!1,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.response=this.DEFAULT,this.range={a:{start:1e-4,stop:1,step:.05},l:{start:0,stop:10,step:.5},g:{start:0,stop:1,step:.05},uDiff:{start:-20,stop:20}},this.boundary=[],this.mapXY=[],this.mapXZ=[],this.mapYZ=[],this.rotationX=0,this.rotationY=0,this.mx=0,this.my=0,this.mouseX=0,this.mouseY=0,this.alignState()}alignState(){this.updateable&&(this.response=CPTMath.xal2v(this.xw,this.a,this.l)*CPTMath.pg2w(this.pw,this.g)+CPTMath.xal2v(this.xl,this.a,this.l)*(1-CPTMath.pg2w(this.pw,this.g))>CPTMath.xal2v(this.xs,this.a,this.l)?"gamble":"sure");const t=(t,e)=>{const s=CPTMath.pg2w(t,e);return Number.isNaN(s)?t:s},e=(e,s,i,n,a,l,r)=>CPTMath.xal2v(e,a,l)*t(i,r)+CPTMath.xal2v(s,a,l)*(1-t(i,r))-CPTMath.xal2v(n,a,l);this.boundary=range$1(this.range.l.start,this.range.l.stop+.01,this.range.l.step).flatMap(t=>range$1(this.range.g.start,this.range.g.stop+.01,this.range.g.step).map(s=>{let i=this.range.a.start,n=10,a=(i+n)/2;const l=e(this.xw,this.xl,this.pw,this.xs,i,t,s),r=e(this.xw,this.xl,this.pw,this.xs,n,t,s);let c;return l>0?a=-1/0:r<0?a=1/0:range$1(0,15,1).forEach(()=>{c=e(this.xw,this.xl,this.pw,this.xs,a,t,s),c<0?i=a:n=a,a=(i+n)/2}),{a:a,l:t,g:s}}));const s=t=>t?.a>=this.range.a.start&&t?.a<=this.range.a.stop;this.boundary=this.boundary.map((t,e,i)=>{if(s(t))return t;const n=range$1(this.range.g.start,this.range.g.stop+.01,this.range.g.step).length,a=range$1(this.range.l.start,this.range.l.stop+.01,this.range.l.step).length,l=e%n===0?null:i[e-1],r=e%n===n-1?null:i[e+1],c=0===Math.trunc(e/n)?null:i[e-n],B=Math.trunc(e/n)===a-1?null:i[e+n],g=s(l)?1:0,o=s(r)?1:0,F=s(c)?1:0,Q=g+o+F+(s(B)?1:0);if(0===Q||2===Q&&g+o!==1||3===Q||4===Q)return t;const U={a:t.a<this.range.a.start?this.range.a.start:this.range.a.stop,g:t.g,l:t.l};let I;if(1===Q)I=g?l:o?r:F?c:B;else{const t=g?l:r,e=F?c:B;I={a:(t.a+e.a)/2,g:(t.g+e.g)/2,l:(t.l+e.l)/2}}const d=(U.a-I.a)/(t.a-I.a);return U.g=I.g+(t.g-I.g)*d,U.l=I.l+(t.l-I.l)*d,U});const i=this.range.l.stop;this.mapXY=range$1(this.range.a.start,this.range.a.stop+.01,this.range.a.step).flatMap(t=>range$1(this.range.g.start,this.range.g.stop+.01,this.range.g.step).map(s=>{const n=e(this.xw,this.xl,this.pw,this.xs,t,i,s);return{a:t,l:i,g:s,uDiff:n}}));const n=this.range.g.start;this.mapXZ=range$1(this.range.a.start,this.range.a.stop+.01,this.range.a.step).flatMap(t=>range$1(this.range.l.start,this.range.l.stop+.01,this.range.l.step).map(s=>{const i=e(this.xw,this.xl,this.pw,this.xs,t,s,n);return{a:t,l:s,g:n,uDiff:i}}));const a=this.range.a.stop;this.mapYZ=range$1(this.range.g.start,this.range.g.stop+.01,this.range.g.step).flatMap(t=>range$1(this.range.l.start,this.range.l.stop+.01,this.range.l.step).map(s=>{const i=e(this.xw,this.xl,this.pw,this.xs,a,s,t);return{a:a,l:s,g:t,uDiff:i}}))}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;

          width: 28rem;
          height: 20rem;
        }

        .main {
          width: 100%;
          height: 100%;

          cursor: grab;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;

          fill: var(---color-text);
        }

        .axis {
          stroke: var(---color-element-border);
          stroke-width: 1;
        }

        .title textPath {
          font-weight: 600;

          alignment-baseline: middle;
          text-anchor: middle;
        }

        .title tspan {
          alignment-baseline: middle;
        }

        .title .subscript {
          font-size: 66.667%;

          alignment-baseline: initial;
          baseline-shift: sub;
        }

        .tick {
          stroke: var(---color-element-border);
          stroke-width: 1;
        }

        .label textPath {
          font-size: 0.75rem;

          alignment-baseline: middle;
          text-anchor: end;
        }

        .label-x textPath {
          text-anchor: start;
        }

        .point {
          fill: var(---color-element-background);
          stroke: var(---color-element-emphasis);
          stroke-width: 1px;
          r: 6px;
        }

        .point.sure {
          fill: var(---color-better);
        }

        .point.gamble {
          fill: var(---color-worse);
        }

        .point.nr {
          fill: var(---color-nr);
        }

        .boundary {
          fill-opacity: 0.7;
          stroke-opacity: 1;
          stroke-width: 0.5px;
        }

        .map {
          stroke-width: 1px;
        }

        .legend .title {
          font-weight: 600;

          alignment-baseline: middle;
          text-anchor: middle;
        }

        .legend .tick text {
          font-size: 0.75rem;
          font-weight: 400;

          stroke: none;
        }
      `]}render(){return x$3`
    `}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,s=this.height,i=Math.min(e,s),n={top:3*this.rem,bottom:5*this.rem,left:2*this.rem,right:6*this.rem},a=i-(n.top+n.bottom),l=i-(n.left+n.right),r=linear().domain([this.range.a.start,this.range.a.stop]).range([0,l]),c=linear().domain([this.range.g.start,this.range.g.stop]).range([0,-a]),B=linear().domain([this.range.l.start,this.range.l.stop]).range([0,-a]),g=Color(this.getComputedStyleValue("---color-element-background")).hex(),o=Color(this.getComputedStyleValue("---color-better-dark")).hex(),F=Color(this.getComputedStyleValue("---color-better")).hex(),Q=Color(this.getComputedStyleValue("---color-nr")).hex(),U=Color(this.getComputedStyleValue("---color-worse")).hex(),I=Color(this.getComputedStyleValue("---color-worse-dark")).hex(),d=diverging().domain([this.range.uDiff.start,0,this.range.uDiff.stop]).clamp(!0).interpolator(piecewise([o,F,Q,U,I])),b=linear().domain([this.range.uDiff.start,this.range.uDiff.stop]).range([0,-s+4*this.rem]),u={x:n.left,y:i-n.bottom},C={x:r((this.range.a.start+this.range.a.stop)/2),y:c((this.range.g.start+this.range.g.stop)/2),z:B((this.range.l.start+this.range.l.stop)/2)},h=-.85*Math.PI/8,y=3*Math.PI/8,x=lineStrips3D().origin(u).scale(1).rotationCenter(C).rotateX(h+this.rotationX).rotateY(y+this.rotationY).rotateZ(0),m=points3D().origin(u).scale(1).rotationCenter(C).rotateX(h+this.rotationX).rotateY(y+this.rotationY).rotateZ(0),p=gridPlanes3D().origin(u).scale(1).rotationCenter(C).rotateX(h+this.rotationX).rotateY(y+this.rotationY).rotateZ(0),A=drag().on("start",t=>{this.mx=t.x,this.my=t.y}).on("drag",t=>{this.rotationY=(t.x-this.mx+this.mouseX)*(Math.PI/230),this.rotationX=(t.y-this.my+this.mouseY)*(Math.PI/230)*-1,this.requestUpdate()}).on("end",t=>{this.mouseX=t.x-this.mx+this.mouseX,this.mouseY=t.y-this.my+this.mouseY}),G=select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),R=G.enter().append("svg").classed("main",!0),S=R.merge(G).attr("viewBox",`0 0 ${i} ${i}`).call(A),L=R.append("defs").append("linearGradient").attr("id","gradient-legend").attr("x1",0).attr("x2",0).attr("y1",1).attr("y2",0);L.append("stop").attr("offset","0%").attr("stop-color",o),L.append("stop").attr("offset","25%").attr("stop-color",F),L.append("stop").attr("offset","50%").attr("stop-color",Q),L.append("stop").attr("offset","75%").attr("stop-color",U),L.append("stop").attr("offset","100%").attr("stop-color",I);const E=[[{title:'Alpha (<tspan class="math-var">Î±</tspan>)',id:"max",x:r.range()[1]},{id:"min",x:r.range()[0]}]],V=[[{title:'Gamma (<tspan class="math-var">Î³</tspan>)',id:"max",y:c.range()[1]},{id:"min",y:c.range()[0]}]],Z=[[{title:'Lambda (<tspan class="math-var">Î»</tspan>)',id:"max",z:B.range()[1]},{id:"min",z:B.range()[0]}]],N=S.selectAll(".axis-x").data(x.x(t=>t.x).y(()=>c.range()[0]).z(()=>B.range()[0])(E)),f=S.selectAll(".axis-y").data(x.x(()=>r.range()[0]).y(t=>t.y).z(()=>B.range()[1])(V)),X=S.selectAll(".axis-z").data(x.x(()=>r.range()[0]).y(()=>c.range()[0]).z(t=>t.z)(Z)),W=N.enter().append("path").attr("class","d3-3d axis axis-x"),D=f.enter().append("path").attr("class","d3-3d axis axis-y"),H=X.enter().append("path").attr("class","d3-3d axis axis-z"),w=W.merge(N).attr("d",x.draw),v=D.merge(f).attr("d",x.draw),Y=H.merge(X).attr("d",x.draw);w.exit().remove(),v.exit().remove(),Y.exit().remove();const T=S.selectAll(".title-path-x").data(x.x(t=>"min"===t.id?t.x-20*this.rem:t.x+20*this.rem).y(()=>c.range()[0]+1.75*this.rem).z(()=>B.range()[0]+1.75*this.rem)(E)),k=S.selectAll(".title-path-y").data(x.x(()=>r.range()[0]-1.75*this.rem).y(t=>"min"===t.id?t.y+20*this.rem:t.y-20*this.rem).z(()=>B.range()[1]-1.75*this.rem)(V)),M=S.selectAll(".title-path-z").data(x.x(()=>r.range()[0]-1.75*this.rem).y(()=>c.range()[0]+1.75*this.rem).z(t=>"min"===t.id?t.z-20*this.rem:t.z+20*this.rem)(Z)),J=S.selectAll(".title-x").data(E,t=>t[0].title),$=S.selectAll(".title-y").data(V,t=>t[0].title),z=S.selectAll(".title-z").data(Z,t=>t[0].title),O=T.enter().append("path").attr("class","d3-3d title-path title-path-x").attr("id","title-x"),K=k.enter().append("path").attr("class","d3-3d title-path title-path-y").attr("id","title-y"),P=M.enter().append("path").attr("class","d3-3d title-path title-path-z").attr("id","title-z"),j=J.enter().append("text").attr("class","d3-3d title title-x");j.append("textPath").attr("href","#title-x").attr("startOffset","50%");const _=$.enter().append("text").attr("class","d3-3d title title-y");_.append("textPath").attr("href","#title-y").attr("startOffset","50%");const q=z.enter().append("text").attr("class","d3-3d title title-z");q.append("textPath").attr("href","#title-z").attr("startOffset","50%");const tt=O.merge(T).attr("d",x.draw),et=K.merge(k).attr("d",x.draw),st=P.merge(M).attr("d",x.draw),it=j.merge(J).select("textPath").html(t=>t[0].title),nt=_.merge($).select("textPath").html(t=>t[0].title),at=q.merge(z).select("textPath").html(t=>t[0].title);tt.exit().remove(),et.exit().remove(),st.exit().remove(),it.exit().remove(),nt.exit().remove(),at.exit().remove();const lt=r.ticks(5).map(t=>[{id:"min",label:r.tickFormat()(t),x:r(t)},{id:"max",x:r(t)}]),rt=c.ticks(5).map(t=>[{id:"min",label:c.tickFormat()(t),y:c(t)},{id:"max",y:c(t)}]),ct=B.ticks(5).map(t=>[{id:"max",label:B.tickFormat()(t),z:B(t)},{id:"min",z:B(t)}]),Bt=S.selectAll(".tick-x").data(x.x(t=>t.x).y(t=>"min"===t.id?c.range()[0]:c.range()[0]+.35*this.rem).z(t=>"min"===t.id?B.range()[0]:B.range()[0]+.35*this.rem)(lt)),gt=S.selectAll(".tick-y").data(x.x(t=>"min"===t.id?r.range()[0]:r.range()[0]-.35*this.rem).y(t=>t.y).z(t=>"min"===t.id?B.range()[1]:B.range()[1]-.35*this.rem)(rt)),ot=S.selectAll(".tick-z").data(x.x(t=>"min"===t.id?r.range()[0]:r.range()[0]-.35*this.rem).y(t=>"min"===t.id?c.range()[0]:c.range()[0]+.35*this.rem).z(t=>t.z)(ct)),Ft=Bt.enter().append("path").attr("class","d3-3d tick tick-x"),Qt=gt.enter().append("path").attr("class","d3-3d tick tick-y"),Ut=ot.enter().append("path").attr("class","d3-3d tick tick-z"),It=Ft.merge(Bt).attr("d",x.draw),dt=Qt.merge(gt).attr("d",x.draw),bt=Ut.merge(ot).attr("d",x.draw);It.exit().remove(),dt.exit().remove(),bt.exit().remove();const ut=S.selectAll(".label-path-x").data(x.x(t=>t.x).y(t=>"min"===t.id?c.range()[0]+4*this.rem:c.range()[0]+.5*this.rem).z(t=>"min"===t.id?B.range()[0]+4*this.rem:B.range()[0]+.5*this.rem)(lt),t=>t[0].label),Ct=S.selectAll(".label-path-y").data(x.x(t=>"min"===t.id?r.range()[0]-.5*this.rem:r.range()[0]-4*this.rem).y(t=>t.y).z(t=>"min"===t.id?B.range()[1]-.5*this.rem:B.range()[1]-4*this.rem)(rt),t=>t[0].label),ht=S.selectAll(".label-path-z").data(x.x(t=>"min"===t.id?r.range()[0]-4*this.rem:r.range()[0]-.5*this.rem).y(t=>"min"===t.id?c.range()[0]+4*this.rem:c.range()[0]+.5*this.rem).z(t=>t.z)(ct),t=>t[0].label),yt=S.selectAll(".label-x").data(lt,t=>t[0].label),xt=S.selectAll(".label-y").data(rt,t=>t[0].label),mt=S.selectAll(".label-z").data(ct,t=>t[0].label),pt=ut.enter().append("path").attr("class","d3-3d label-path label-path-x").attr("id",(t,e)=>`label-x-${e}`),At=Ct.enter().append("path").attr("class","d3-3d label-path label-path-y").attr("id",(t,e)=>`label-y-${e}`),Gt=ht.enter().append("path").attr("class","d3-3d label-path label-path-z").attr("id",(t,e)=>`label-z-${e}`),Rt=yt.enter().append("text").attr("class","d3-3d label label-x");Rt.append("textPath").attr("href",(t,e)=>`#label-x-${e}`).attr("startOffset","0%");const St=xt.enter().append("text").attr("class","d3-3d label label-y");St.append("textPath").attr("href",(t,e)=>`#label-y-${e}`).attr("startOffset","100%");const Lt=mt.enter().append("text").attr("class","d3-3d label label-z");Lt.append("textPath").attr("href",(t,e)=>`#label-z-${e}`).attr("startOffset","100%");const Et=pt.merge(ut).attr("d",x.draw),Vt=At.merge(Ct).attr("d",x.draw),Zt=Gt.merge(ht).attr("d",x.draw),Nt=Rt.merge(yt).select("textPath").text(t=>t[0].label),ft=St.merge(xt).select("textPath").text(t=>t[0].label),Xt=Lt.merge(mt).select("textPath").text(t=>t[0].label);Et.exit().remove(),Vt.exit().remove(),Zt.exit().remove(),Nt.exit().remove(),ft.exit().remove(),Xt.exit().remove();const Wt=S.selectAll(".point").data(m.x(t=>r(t.a)).y(t=>c(t.g)).z(t=>B(t.l))(this.point?[{a:this.a,g:this.g,l:this.l,response:this.response}]:[]));function Dt(t,e){return{x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}}function Ht(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)}function wt(t,e,s){return function(t,e){return{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}}(Dt(t,e),Dt(t,s))}function vt(t,e){return function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}(t,e)/(Ht(t)*Ht(e))}Wt.enter().append("circle").attr("class","d3-3d point").merge(Wt).attr("class",t=>`d3-3d point ${t.response}`).attr("cx",t=>t.projected.x).attr("cy",t=>t.projected.y),Wt.exit().remove();const Yt={x:-.5,y:1,z:-1},Tt=S.selectAll(".boundary").data(this.surface?p.rows(range$1(this.range.g.start,this.range.g.stop+.01,this.range.g.step).length).x(t=>r(t.a)).y(t=>c(t.g)).z(t=>B(t.l))(this.boundary).filter(t=>t[0].a>=this.range.a.start&&t[0].a<=this.range.a.stop&&t[1].a>=this.range.a.start&&t[1].a<=this.range.a.stop&&t[2].a>=this.range.a.start&&t[2].a<=this.range.a.stop&&t[3].a>=this.range.a.start&&t[3].a<=this.range.a.stop):[]);Tt.enter().append("path").attr("class","d3-3d boundary").merge(Tt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(g).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),Tt.exit().remove();const kt=S.selectAll(".map-xy").data(p.rows(range$1(this.range.g.start,this.range.g.stop+.01,this.range.g.step).length).x(t=>r(t.a)).y(t=>c(t.g)).z(t=>B(t.l))(this.mapXY)),Mt=S.selectAll(".map-xz").data(p.rows(range$1(this.range.l.start,this.range.l.stop+.01,this.range.l.step).length).x(t=>r(t.a)).y(t=>c(t.g)).z(t=>B(t.l))(this.mapXZ)),Jt=S.selectAll(".map-yz").data(p.rows(range$1(this.range.l.start,this.range.l.stop+.01,this.range.l.step).length).x(t=>r(t.a)).y(t=>c(t.g)).z(t=>B(t.l))(this.mapYZ)),$t=kt.enter().append("path").attr("class","d3-3d map map-xy"),zt=Mt.enter().append("path").attr("class","d3-3d map map-xz"),Ot=Jt.enter().append("path").attr("class","d3-3d map map-yz");$t.merge(kt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(d(t[0].uDiff)).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),zt.merge(Mt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(d(t[0].uDiff)).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),Ot.merge(Jt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(d(t[0].uDiff)).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),kt.exit().remove(),Mt.exit().remove(),Jt.exit().remove(),select(this.renderRoot).selectAll(".d3-3d").sort(m.sort);const Kt=S.selectAll(".legend").data([{x:i+2*this.rem,y:i-2*this.rem,rem:this.rem}]),Pt=Kt.enter().append("g").attr("class","legend"),jt=Pt.merge(Kt).attr("transform",t=>`translate(${t.x} ${t.y})`);Kt.exit().remove(),Pt.append("g").attr("class","axis axis-legend"),jt.select(".axis-legend").call(axisLeft(b).ticks(7)).attr("font-size",null).attr("font-family",null),Pt.append("text").attr("class","title title-legend").html('Difference in Utility (<tspan class="math-var">U<tspan class="subscript">gamble</tspan></tspan> â <tspan class="math-var">U<tspan class="subscript">sure</tspan></tspan>)'),jt.select(".title-legend").attr("transform",`translate(${2.5*-this.rem},${(b(this.range.uDiff.start)+b(this.range.uDiff.stop))/2})rotate(-90)`),Pt.append("rect").attr("class","bar bar-legend").attr("fill",'url("#gradient-legend")'),jt.select(".bar-legend").attr("x",0).attr("y",b(this.range.uDiff.stop)).attr("width",this.rem).attr("height",b(this.range.uDiff.start)-b(this.range.uDiff.stop)),this.firstUpdate=!1}}customElements.define("cpt-space",CPTSpace);class CPTValue extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.x=null,this.label="",this.function="default",this.functions=[{name:"default",a:this.a,l:this.l}],this.values=[{name:"default",x:this.x,label:this.label,function:this.function}],this.xl=null,this.xw=null,this.pw=null,this.xs=null,this.trialCount=null,this.response=null,this.alignState()}alignState(){this.functions[0].a=this.a,this.functions[0].l=this.l,this.values[0].x=this.x,this.values[0].label=this.label,this.values[0].function=this.function,this.values.forEach(t=>{const e=this.functions.find(e=>e.name===t.function);t.v=CPTMath.xal2v(t.x,e.a,e.l)}),this.v=this.values[0].v}trial(t,e,s,i,n,a){this.trialCount&&this.removeValue(`${this.trialCount}-w`),this.trialCount&&this.removeValue(`${this.trialCount}-s`),this.xl=t,this.xw=e,this.pw=s,this.xs=i,this.trialCount=n,this.response=a,this.setValue(this.xw,`${this.trialCount}-w`,"g","default",!0),this.setValue(this.xs,`${this.trialCount}-s`,"s","default",!0)}pauseTrial(){const t=select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum(t=>(t.paused=!0,t))}resumeTrial(){select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum(t=>(t.paused=!1,t)),this.requestUpdate()}clearFunctions(){this.functions.splice(1),this.requestUpdate()}clearValues(){this.values.splice(1),this.requestUpdate()}clear(){this.clearFunctions(),this.clearValues()}removeFunction(t){this.functions=this.functions.filter(e=>e.name!==t),this.requestUpdate()}removeValue(t){this.values=this.values.filter(e=>e.name!==t),this.requestUpdate()}remove(t){this.removeFunction(t),this.removeValue(t)}getFunction(t="default"){return this.functions.find(e=>e.name===t)}getValue(t="default"){return this.values.find(e=>e.name===t)}get(t="default"){return{...this.getFunction(t),...this.getValue(t)}}setFunction(t,e,s="default"){"default"===s&&(this.a=t,this.l=e);const i=this.functions.find(t=>t.name===s);void 0===i?this.functions.push({name:s,a:t,l:e}):(i.a=t,i.l=e),this.requestUpdate()}setValue(t,e="default",s="",i=e,n=!1){"default"===e&&(this.x=t,this.label=s);const a=this.values.find(t=>t.name===e);void 0===a?this.values.push({name:e,x:t,label:s,function:i,trial:n,new:n}):(a.x=t,a.label=s,a.function=i),this.requestUpdate()}set(t,e,s,i="default",n="",a=i){this.setFunction(e,s,a),this.setValue(t,i,n,a)}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;

          width: 20rem;
          height: 20rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .curve-p.interactive,
        .curve-n.interactive {
          cursor: nwse-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .curve-p.interactive:hover,
        .curve-n.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */
          transform: translateX(0);
        }

        .curve-p.interactive:active,
        .curve-n.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          transform: translateY(0);
        }

        :host(.keyboard) .curve-p.interactive:focus,
        :host(.keyboard) .curve-n.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          transform: translateZ(0);
        }

        .point.interactive {
          cursor: nesw-resize;

          filter: url("#shadow-2");
          outline: none;

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #000000;
          stroke-opacity: 0;
          stroke-width: 0;
        }

        .point.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #ff0000;
        }

        .point.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #00ff00;
        }

        :host(.keyboard) .point.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #0000ff;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .scale-x path,
        .scale-x line,
        .scale-y path,
        .scale-y line {
          stroke: var(---color-element-border);
        }

        .axis-x,
        .axis-y {
          stroke: var(---color-element-border);
          shape-rendering: crispEdges;
        }

        .diagonal {
          stroke: var(---color-element-border);
          stroke-dasharray: 4;
          stroke-width: 1;
        }

        .curve-p,
        .curve-n {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .line-x,
        .line-v {
          fill: none;
          stroke-width: 2;
        }

        .line-x {
          stroke: var(---color-x);
        }

        .line-v {
          stroke: var(---color-v);
        }

        .point .circle {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: middle;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        /* Make larger targets for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$3``}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,s=this.height,i=Math.min(e,s),n=2*this.rem,a=3*this.rem,l=3*this.rem,r=i-(n+a),c=i-(l+2*this.rem),B=parseInt(this.getComputedStyleValue("---transition-duration"),10),g=20,o=linear().domain([-20,g]).range([0,c]);this.xScale=o;const F=linear().domain([g,-20]).range([0,r]);this.yScale=F;const Q=drag().subject((t,e)=>({x:t.x,y:this.yScale(CPTMath.xal2v(this.xScale.invert(t.x),e.a,e.l))})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const s=this.xScale.invert(t.x),i=this.yScale.invert(t.y),n=CPTMath.xlv2a(s,e.l,i);e.a=Number.isNaN(n)||n<CPTMath.a.MIN||n>CPTMath.a.MAX||s<0||i<0?s>i?CPTMath.a.MIN:CPTMath.a.MAX:n,"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)}),U=drag().subject((t,e)=>({x:t.x,y:this.yScale(CPTMath.xal2v(this.xScale.invert(t.x),e.a,e.l))})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const s=this.xScale.invert(t.x),i=this.yScale.invert(t.y),n=CPTMath.xav2l(s,e.a,i);e.l=Number.isNaN(n)||n<CPTMath.l.MIN||n>CPTMath.l.MAX||s>0||i>0?s>i?CPTMath.l.MAX:CPTMath.l.MIN:n,"default"===e.name&&(this.l=e.l),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)}),I=drag().subject((t,e)=>({x:this.xScale(e.x),y:this.yScale(e.v)})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const s=this.xScale.invert(t.x);e.x=s<-20?-20:s>g?g:s,"default"===e.name&&(this.x=e.x),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,v:e.v,label:e.label,a:this.getFunction(e.function).a,l:this.getFunction(e.function).l},bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)}),d=shapeLine().x(t=>o(t.x)).y(t=>F(t.v)),b=select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),u=b.enter().append("svg").classed("main",!0).each((t,e,s)=>{B$1(ProspectableElement.svgFilters,s[e])}),C=u.merge(b).attr("viewBox",`0 0 ${i} ${i}`),h=u.append("g").classed("plot",!0),y=C.select(".plot").attr("transform",`translate(${l}, ${n})`);h.append("clipPath").attr("id","clip-cpt-value").append("rect"),y.select("clipPath rect").attr("height",r+1).attr("width",c+1);const x=h.append("g").classed("underlayer",!0),m=y.select(".underlayer");x.append("rect").classed("background",!0),m.select(".background").attr("height",r).attr("width",c),x.append("g").classed("scale-x",!0);m.select(".scale-x").attr("transform",`translate(0, ${F(-20)})`).transition().duration(2*B).ease(cubicOut).call(axisBottom(o)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),x.append("line").classed("axis-x",!0),m.select(".axis-x").transition().duration(B).ease(cubicOut).attr("x1",o(-20)).attr("x2",o(g)).attr("y1",F(0)).attr("y2",F(0));const p=x.append("text").classed("title-x",!0).attr("text-anchor","middle");p.append("tspan").classed("name",!0).text("Objective Value ("),p.append("tspan").classed("math-var x",!0).text("x"),p.append("tspan").classed("name",!0).text(")"),m.select(".title-x").attr("transform",`translate(${c/2}, ${r+2.25*this.rem})`),x.append("g").classed("scale-y",!0);m.select(".scale-y").transition().duration(2*B).ease(cubicOut).call(axisLeft(F)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),x.append("line").classed("axis-y",!0),m.select(".axis-y").transition().duration(B).ease(cubicOut).attr("x1",o(0)).attr("x2",o(0)).attr("y1",F(g)).attr("y2",F(-20));const A=x.append("text").classed("title-y",!0).attr("text-anchor","middle");A.append("tspan").classed("name",!0).text("Subjective Value ("),A.append("tspan").classed("math-var v",!0).text("v"),A.append("tspan").classed("name",!0).text(")"),m.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${r/2})rotate(-90)`),x.append("line").classed("diagonal",!0),m.select(".diagonal").transition().duration(2*B).ease(cubicOut).attr("x1",o(-20)).attr("y1",F(-20)).attr("x2",o(g)).attr("y2",F(g)),h.append("g").classed("content",!0);const G=y.select(".content"),R=G.selectAll(".lines").data(this.values.filter(t=>null!=t.x),t=>t.name),S=R.enter().append("g").classed("lines",!0);S.each((t,e,s)=>{const i=select(s[e]);i.append("line").classed("line-x above",!0),i.append("line").classed("line-x below",!0),i.append("line").classed("line-v before",!0),i.append("line").classed("line-v after",!0)}),S.filter(t=>t.new).attr("data-animating-ease-time-1",0).attr("data-animating-ease-time-2",0).each((t,e,s)=>{const i=select(s[e]);i.select(".line-x.above").attr("x1",o(t.x)).attr("x2",o(t.x)).attr("y1",F(g)).attr("y2",F(g)),i.select(".line-x.below").attr("x1",o(t.x)).attr("x2",o(t.x)).attr("y1",F(-20)).attr("y2",F(-20)),i.select(".line-v.before").attr("x1",o(t.x)).attr("x2",o(t.x)).attr("y1",F(t.v)).attr("y2",F(t.v)),i.select(".line-v.after").attr("x1",o(t.x)).attr("x2",o(t.x)).attr("y1",F(t.v)).attr("y2",F(t.v))});const L=S.merge(R),E=L.filter(t=>t.new&&!t.paused);if(!E.empty()){const t=E.attr("data-animating-ease-time-1"),e=E.attr("data-animating-ease-time-2"),s=e=>linear().domain([0,1]).range([t,1])(e),i=e=>linear().range([0,1]).domain([t,1])(e),n=t=>linear().domain([0,1]).range([e,1])(t),a=t=>linear().range([0,1]).domain([e,1])(t),l=e=>s=>linear().domain([e(t),1]).range([0,1])(e(s)),r=t=>s=>linear().domain([t(e),1]).range([0,1])(t(s));E.transition("new-1").duration(()=>Math.floor(B*(1-t))).ease(s).attr("data-animating-ease-time-1",1).tween("animating",(t,e,s)=>{const n=s[e],a=select(n),r=interpolate$1(void 0!==n.x?n.x:t.x,t.x),c=interpolate$1(void 0!==n.a?n.a:this.getFunction(t.function).a,this.getFunction(t.function).a),B=interpolate$1(void 0!==n.l?n.l:this.getFunction(t.function).l,this.getFunction(t.function).l),Q=interpolate$1(F.invert(a.select(".line-x.above").attr("y1")),t.v),U=interpolate$1(F.invert(a.select(".line-x.below").attr("y1")),t.v);return t=>{n.x=r(cubicOut(i(t))),n.a=c(cubicOut(i(t))),n.l=B(cubicOut(i(t))),n.v=CPTMath.xal2v(n.x,n.a,n.l),a.select(".line-x.above").attr("x1",o(n.x)).attr("x2",o(n.x)).attr("y1",F(Q(l(cubicIn)(t)))).attr("y2",F(g)),a.select(".line-x.below").attr("x1",o(n.x)).attr("x2",o(n.x)).attr("y1",F(U(l(cubicIn)(t)))).attr("y2",F(-20))}}).transition("new-2").duration(()=>Math.floor(B*(1-e))).ease(n).attr("data-animating-ease-time-2",1).tween("animating",(t,e,s)=>{const i=s[e],n=select(i),l=interpolate$1(void 0!==i.x?i.x:t.x,t.x),c=interpolate$1(void 0!==i.a?i.a:this.getFunction(t.function).a,this.getFunction(t.function).a),B=interpolate$1(void 0!==i.l?i.l:this.getFunction(t.function).l,this.getFunction(t.function).l),Q=interpolate$1(o.invert(n.select(".line-v.before").attr("x1")),-20),U=interpolate$1(o.invert(n.select(".line-v.after").attr("x1")),g);return t=>{i.x=l(cubicOut(a(t))),i.a=c(cubicOut(a(t))),i.l=B(cubicOut(a(t))),i.v=CPTMath.xal2v(i.x,i.a,i.l),n.select(".line-v.before").attr("x1",o(Q(r(cubicOut)(t)))).attr("x2",o(i.x)).attr("y1",F(i.v)).attr("y2",F(i.v)),n.select(".line-v.after").attr("x1",o(U(r(cubicOut)(t)))).attr("x2",o(i.x)).attr("y1",F(i.v)).attr("y2",F(i.v))}}).on("end",(t,e,s)=>{const i=s[e];i.removeAttribute("data-animating-ease-time-1"),i.removeAttribute("data-animating-ease-time-2"),t.new=!1,this.dispatchEvent(new CustomEvent("prospectable-response",{detail:{trial:this.trialCount,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response},bubbles:!0}))})}const V=L.filter(t=>t.new&&t.paused);if(!V.empty()){const t=V.attr("data-animating-ease-time-1"),e=V.attr("data-animating-ease-time-2");V.transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).tween("paused",(s,i,n)=>{const a=n[i],l=select(a),r=interpolate$1(void 0!==a.x?a.x:s.x,s.x),c=interpolate$1(void 0!==a.a?a.a:this.getFunction(s.function).a,this.getFunction(s.function).a),B=interpolate$1(void 0!==a.l?a.l:this.getFunction(s.function).l,this.getFunction(s.function).l),Q=interpolate$1(g,s.v),U=interpolate$1(-20,s.v),I=interpolate$1(s.x,-20),d=interpolate$1(s.x,g);return s=>{a.x=r(s),a.a=c(s),a.l=B(s),a.v=CPTMath.xal2v(a.x,a.a,a.l),l.select(".line-x.above").attr("x1",o(a.x)).attr("x2",o(a.x)).attr("y1",F(Q(cubicIn(t)))).attr("y2",F(g)),l.select(".line-x.below").attr("x1",o(a.x)).attr("x2",o(a.x)).attr("y1",F(U(cubicIn(t)))).attr("y2",F(-20)),l.select(".line-v.before").attr("x1",o(I(cubicOut(e)))).attr("x2",o(a.x)).attr("y1",F(a.v)).attr("y2",F(a.v)),l.select(".line-v.after").attr("x1",o(d(cubicOut(e)))).attr("x2",o(a.x)).attr("y1",F(a.v)).attr("y2",F(a.v))}})}L.filter(t=>!t.new).transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).tween("non-animating",(t,e,s)=>{const i=s[e],n=select(i),a=interpolate$1(void 0!==i.x?i.x:t.x,t.x),l=interpolate$1(void 0!==i.a?i.a:this.getFunction(t.function).a,this.getFunction(t.function).a),r=interpolate$1(void 0!==i.l?i.l:this.getFunction(t.function).l,this.getFunction(t.function).l);return t=>{i.x=a(t),i.a=l(t),i.l=r(t),i.v=CPTMath.xal2v(i.x,i.a,i.l),n.select(".line-x.above").attr("x1",o(i.x)).attr("x2",o(i.x)).attr("y1",F(i.v)).attr("y2",F(g)),n.select(".line-x.below").attr("x1",o(i.x)).attr("x2",o(i.x)).attr("y1",F(i.v)).attr("y2",F(-20)),n.select(".line-v.before").attr("x1",o(-20)).attr("x2",o(i.x)).attr("y1",F(i.v)).attr("y2",F(i.v)),n.select(".line-v.after").attr("x1",o(g)).attr("x2",o(i.x)).attr("y1",F(i.v)).attr("y2",F(i.v))}}),R.exit().remove();const Z=G.selectAll(".curve-p").data(this.functions,t=>t.name),N=Z.enter().append("g").classed("curve-p",!0).attr("clip-path","url(#clip-cpt-value)");N.append("path").classed("path-p",!0),N.append("path").classed("path-p touch",!0);const f=N.merge(Z);(this.firstUpdate||t.has("interactive"))&&(this.interactive?f.attr("tabindex",0).classed("interactive",!0).call(Q).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let s=e.a;switch(t.key){case"ArrowUp":case"ArrowLeft":s+=t.shiftKey?CPTMath.a.STEP:CPTMath.a.JUMP;break;case"ArrowDown":case"ArrowRight":s-=t.shiftKey?CPTMath.a.STEP:CPTMath.a.JUMP}s=s<CPTMath.a.MIN?CPTMath.a.MIN:s>CPTMath.a.MAX?CPTMath.a.MAX:s,s!==e.a&&(e.a=s,"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))),t.preventDefault()}}):f.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),f.select(".path-p").transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("d",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.a?i.a:t.a,t.a),a=interpolate$1(void 0!==i.l?i.l:t.l,t.l);return t=>{i.a=n(t),i.l=a(t);const e=range$1(o(0),o.range()[1]+1,1).map(t=>({x:o.invert(t),v:CPTMath.xal2v(o.invert(t),i.a,i.l)}));return d(e)}}),f.select(".path-p.touch").transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("d",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.a?i.a:t.a,t.a),a=interpolate$1(void 0!==i.l?i.l:t.l,t.l);return t=>{i.a=n(t),i.l=a(t);const e=range$1(o(0),o.range()[1]+1,1).map(t=>({x:o.invert(t),v:CPTMath.xal2v(o.invert(t),i.a,i.l)}));return d(e)}}),Z.exit().remove();const X=G.selectAll(".curve-n").data(this.functions,t=>t.name),W=X.enter().append("g").classed("curve-n",!0).attr("clip-path","url(#clip-cpt-value)");W.append("path").classed("path-n",!0),W.append("path").classed("path-n touch",!0);const D=W.merge(X);(this.firstUpdate||t.has("interactive"))&&(this.interactive?D.attr("tabindex",0).classed("interactive",!0).call(U).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let s=e.l;switch(t.key){case"ArrowUp":case"ArrowLeft":s-=t.shiftKey?CPTMath.l.STEP:CPTMath.l.JUMP;break;case"ArrowDown":case"ArrowRight":s+=t.shiftKey?CPTMath.l.STEP:CPTMath.l.JUMP}s=s<CPTMath.l.MIN?CPTMath.l.MIN:s>CPTMath.l.MAX?CPTMath.l.MAX:s,s!==e.l&&(e.l=s,"default"===e.name&&(this.l=e.l),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))),t.preventDefault()}}):D.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),D.select(".path-n").transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("d",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.a?i.a:t.a,t.a),a=interpolate$1(void 0!==i.l?i.l:t.l,t.l);return t=>{i.a=n(t),i.l=a(t);const e=range$1(o.range()[0],o(0)+1,1).map(t=>({x:o.invert(t),v:CPTMath.xal2v(o.invert(t),i.a,i.l)}));return d(e)}}),D.select(".path-n.touch").transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("d",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.a?i.a:t.a,t.a),a=interpolate$1(void 0!==i.l?i.l:t.l,t.l);return t=>{i.a=n(t),i.l=a(t);const e=range$1(o.range()[0],o(0)+1,1).map(t=>({x:o.invert(t),v:CPTMath.xal2v(o.invert(t),i.a,i.l)}));return d(e)}}),X.exit().remove();const H=G.selectAll(".point").data(this.values.filter(t=>null!=t.x),t=>t.name),w=H.enter().append("g").classed("point",!0);w.append("circle").classed("circle touch",!0),w.append("text").classed("label",!0);const v=w.merge(H);v.select("text").text(t=>t.label),v.filter(e=>(this.firstUpdate||t.has("interactive"))&&this.interactive&&!e.trial).attr("tabindex",0).classed("interactive",!0).call(I).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let s=e.x;switch(t.key){case"ArrowUp":case"ArrowRight":s+=t.shiftKey?.2:1;break;case"ArrowDown":case"ArrowLeft":s-=t.shiftKey?.2:1}s=s<-20?-20:s>g?g:s,s!==e.x&&(e.x=s,"default"===e.name&&(this.x=e.x),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,v:e.v,label:e.label,a:this.getFunction(e.function).a,l:this.getFunction(e.function).l},bubbles:!0}))),t.preventDefault()}}),v.filter(e=>(this.firstUpdate||t.has("interactive"))&&!this.interactive||e.trial).attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null),v.transition().duration(this.drag?0:this.firstUpdate?2*B:B).ease(cubicOut).attrTween("transform",(t,e,s)=>{const i=s[e],n=interpolate$1(void 0!==i.x?i.x:t.x,t.x),a=interpolate$1(void 0!==i.a?i.a:this.getFunction(t.function).a,this.getFunction(t.function).a),l=interpolate$1(void 0!==i.l?i.l:this.getFunction(t.function).l,this.getFunction(t.function).l);return t=>(i.x=n(t),i.a=a(t),i.l=l(t),`translate(\n            ${o(i.x)},\n            ${F(CPTMath.xal2v(i.x,i.a,i.l))}\n          )`)}),H.exit().remove(),this.drag=!1,this.firstUpdate=!1}}customElements.define("cpt-value",CPTValue);class DecisionSpace extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},point:{attribute:"point",type:String,reflect:!0},updateable:{attribute:"updateable",type:Boolean,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.firstUpdate=!0,this.surface=!0,this.points=["all","first","rest","none"],this.point="first",this.updateable=!1,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.response="",this.label="",this.choices=[{name:"default",xw:this.xw,pw:this.pw,xs:this.xs,response:this.response,label:""}],this.range={xs:{start:5,stop:15,step:.5},xw:{start:10,stop:30,step:1},pw:{start:0,stop:1,step:.05},uDiff:{start:-20,stop:20}},this.boundary=[],this.mapXY=[],this.mapXZ=[],this.mapYZ=[],this.rotationX=0,this.rotationY=0,this.mx=0,this.my=0,this.mouseX=0,this.mouseY=0,this.alignState()}alignState(){this.choices[0].name="default",this.choices[0].xw=this.xw,this.choices[0].pw=this.pw,this.choices[0].xs=this.xs,this.choices[0].response=this.response,this.choices[0].label=this.label,this.updateable&&(this.choices.forEach(t=>{t.response=CPTMath.xal2v(t.xw,this.a,this.l)*CPTMath.pg2w(t.pw,this.g)+CPTMath.xal2v(this.xl,this.a,this.l)*(1-CPTMath.pg2w(t.pw,this.g))>CPTMath.xal2v(t.xs,this.a,this.l)?"gamble":"sure"}),this.response=this.choices[0].response);const t=(t,e)=>{const s=CPTMath.pg2w(t,e);return Number.isNaN(s)?t:s},e=(e,s,i,n,a,l,r)=>CPTMath.xal2v(e,a,l)*t(i,r)+CPTMath.xal2v(s,a,l)*(1-t(i,r))-CPTMath.xal2v(n,a,l);this.boundary=range$1(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step).flatMap(t=>range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).map(s=>{let i=this.range.pw.start,n=10,a=(i+n)/2;const l=e(s,this.xl,i,t,this.a,this.l,this.g),r=e(s,this.xl,n,t,this.a,this.l,this.g);let c;return l>0?a=-1/0:r<0?a=1/0:range$1(0,15,1).forEach(()=>{c=e(s,this.xl,a,t,this.a,this.l,this.g),c<0?i=a:n=a,a=(i+n)/2}),{xw:s,xs:t,pw:a}}));const s=t=>t?.pw>=this.range.pw.start&&t?.pw<=this.range.pw.stop;this.boundary=this.boundary.map((t,e,i)=>{if(s(t))return t;const n=range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).length,a=range$1(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step).length,l=e%n===0?null:i[e-1],r=e%n===n-1?null:i[e+1],c=0===Math.trunc(e/n)?null:i[e-n],B=Math.trunc(e/n)===a-1?null:i[e+n],g=s(l)?1:0,o=s(r)?1:0,F=s(c)?1:0,Q=g+o+F+(s(B)?1:0);if(0===Q||2===Q&&g+o!==1||3===Q||4===Q)return t;const U={pw:t.pw<this.range.pw.start?this.range.pw.start:this.range.pw.stop,xw:t.xw,xs:t.xs};let I;if(1===Q)I=g?l:o?r:F?c:B;else{const t=g?l:r,e=F?c:B;I={xw:(t.xw+e.xw)/2,xs:(t.xs+e.xs)/2,pw:(t.pw+e.pw)/2}}const d=(U.pw-I.pw)/(t.pw-I.pw);return U.xw=I.xw+(t.xw-I.xw)*d,U.xs=I.xs+(t.xs-I.xs)*d,U});const i=this.range.xw.stop;this.mapXY=range$1(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step).flatMap(t=>range$1(this.range.pw.start,this.range.pw.stop+.01,this.range.pw.step).map(s=>{const n=e(i,this.xl,s,t,this.a,this.l,this.g);return{xw:i,xs:t,pw:s,uDiff:n}}));const n=this.range.pw.start;this.mapXZ=range$1(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step).flatMap(t=>range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).map(s=>{const i=e(s,this.xl,n,t,this.a,this.l,this.g);return{xw:s,xs:t,pw:n,uDiff:i}}));const a=this.range.xs.stop;this.mapYZ=range$1(this.range.pw.start,this.range.pw.stop+.01,this.range.pw.step).flatMap(t=>range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).map(s=>{const i=e(s,this.xl,t,a,this.a,this.l,this.g);return{xw:s,xs:a,pw:t,uDiff:i}}))}clear(){this.choices=[{}],this.requestUpdate()}get(t="default"){const e=this.choices.find(e=>e.name===t);return void 0===e?null:e}set(t,e,s,i,n="default",a=""){"default"===n&&(this.xw=t,this.pw=e,this.xs=s,this.response=i,this.label=a);const l=this.choices.find(t=>t.name===n);void 0===l?this.choices.push({name:n,xw:t,pw:e,xs:s,response:i,label:a}):(l.xw=t,l.pw=e,l.xs=s,l.response=i,l.label=a),this.requestUpdate()}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;

          width: 28rem;
          height: 20rem;
        }

        .main {
          width: 100%;
          height: 100%;

          cursor: grab;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;

          fill: var(---color-text);
        }

        .axis {
          stroke: var(---color-element-border);
          stroke-width: 1;
        }

        .title textPath {
          font-weight: 600;

          alignment-baseline: middle;
          text-anchor: middle;
        }

        .title tspan {
          alignment-baseline: middle;
        }

        .title .subscript {
          font-size: 66.667%;

          alignment-baseline: initial;
          baseline-shift: sub;
        }

        .tick {
          stroke: var(---color-element-border);
          stroke-width: 1;
        }

        .label textPath {
          font-size: 0.75rem;

          alignment-baseline: middle;
          text-anchor: end;
        }

        .label-x textPath {
          text-anchor: start;
        }

        .point {
          fill: var(---color-element-background);
          stroke: var(---color-element-emphasis);
          stroke-width: 1px;
          r: 6px;
        }

        .point.sure {
          fill: var(---color-better);
        }

        .point.gamble {
          fill: var(---color-worse);
        }

        .point.nr {
          fill: var(---color-nr);
        }

        .boundary {
          fill-opacity: 0.7;
          stroke-opacity: 1;
          stroke-width: 0.5px;
        }

        .map {
          stroke-width: 1px;
        }

        .legend .title {
          font-weight: 600;

          alignment-baseline: middle;
          text-anchor: middle;
        }

        .legend .tick text {
          font-size: 0.75rem;
          font-weight: 400;

          stroke: none;
        }
      `]}render(){return x$3`
    `}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,s=this.height,i=Math.min(e,s),n={top:3*this.rem,bottom:5*this.rem,left:2*this.rem,right:6*this.rem},a=i-(n.top+n.bottom),l=i-(n.left+n.right),r=linear().domain([this.range.xs.start,this.range.xs.stop]).range([0,l]),c=linear().domain([this.range.pw.start,this.range.pw.stop]).range([0,-a]),B=linear().domain([this.range.xw.start,this.range.xw.stop]).range([0,-a]),g=Color(this.getComputedStyleValue("---color-element-background")).hex(),o=this.getComputedStyleValue("---color-better-dark"),F=this.getComputedStyleValue("---color-better"),Q=this.getComputedStyleValue("---color-nr"),U=this.getComputedStyleValue("---color-worse"),I=this.getComputedStyleValue("---color-worse-dark"),d=diverging().domain([this.range.uDiff.start,0,this.range.uDiff.stop]).clamp(!0).interpolator(piecewise([o,F,Q,U,I])),b=linear().domain([this.range.uDiff.start,this.range.uDiff.stop]).range([0,-s+4*this.rem]),u={x:n.left,y:i-n.bottom},C={x:r((this.range.xs.start+this.range.xs.stop)/2),y:c((this.range.pw.start+this.range.pw.stop)/2),z:B((this.range.xw.start+this.range.xw.stop)/2)},h=-.85*Math.PI/8,y=3*Math.PI/8,x=lineStrips3D().origin(u).scale(1).rotationCenter(C).rotateX(h+this.rotationX).rotateY(y+this.rotationY).rotateZ(0),m=points3D().origin(u).scale(1).rotationCenter(C).rotateX(h+this.rotationX).rotateY(y+this.rotationY).rotateZ(0),p=gridPlanes3D().origin(u).scale(1).rotationCenter(C).rotateX(h+this.rotationX).rotateY(y+this.rotationY).rotateZ(0),A=drag().on("start",t=>{this.mx=t.x,this.my=t.y}).on("drag",t=>{this.rotationY=(t.x-this.mx+this.mouseX)*(Math.PI/230),this.rotationX=(t.y-this.my+this.mouseY)*(Math.PI/230)*-1,this.requestUpdate()}).on("end",t=>{this.mouseX=t.x-this.mx+this.mouseX,this.mouseY=t.y-this.my+this.mouseY}),G=select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),R=G.enter().append("svg").classed("main",!0),S=R.merge(G).attr("viewBox",`0 0 ${i} ${i}`).call(A),L=R.append("defs").append("linearGradient").attr("id","gradient-legend").attr("x1",0).attr("x2",0).attr("y1",1).attr("y2",0);L.append("stop").attr("offset","0%").attr("stop-color",o),L.append("stop").attr("offset","25%").attr("stop-color",F),L.append("stop").attr("offset","50%").attr("stop-color",Q),L.append("stop").attr("offset","75%").attr("stop-color",U),L.append("stop").attr("offset","100%").attr("stop-color",I);const E=[[{title:'Sure Value (<tspan class="math-var">x<tspan class="subscript">sure</tspan></tspan>)',id:"max",x:r.range()[1]},{id:"min",x:r.range()[0]}]],V=[[{title:'Win Probability (<tspan class="math-var">p<tspan class="subscript">win</tspan></tspan>)',id:"max",y:c.range()[1]},{id:"min",y:c.range()[0]}]],Z=[[{title:'Win Value (<tspan class="math-var">x<tspan class="subscript">win</tspan></tspan>)',id:"max",z:B.range()[1]},{id:"min",z:B.range()[0]}]],N=S.selectAll(".axis-x").data(x.x(t=>t.x).y(()=>c.range()[0]).z(()=>B.range()[0])(E)),f=S.selectAll(".axis-y").data(x.x(()=>r.range()[0]).y(t=>t.y).z(()=>B.range()[1])(V)),X=S.selectAll(".axis-z").data(x.x(()=>r.range()[0]).y(()=>c.range()[0]).z(t=>t.z)(Z)),W=N.enter().append("path").attr("class","d3-3d axis axis-x"),D=f.enter().append("path").attr("class","d3-3d axis axis-y"),H=X.enter().append("path").attr("class","d3-3d axis axis-z"),w=W.merge(N).attr("d",x.draw),v=D.merge(f).attr("d",x.draw),Y=H.merge(X).attr("d",x.draw);w.exit().remove(),v.exit().remove(),Y.exit().remove();const T=S.selectAll(".title-path-x").data(x.x(t=>"min"===t.id?t.x-20*this.rem:t.x+20*this.rem).y(()=>c.range()[0]+1.75*this.rem).z(()=>B.range()[0]+1.75*this.rem)(E)),k=S.selectAll(".title-path-y").data(x.x(()=>r.range()[0]-1.75*this.rem).y(t=>"min"===t.id?t.y+20*this.rem:t.y-20*this.rem).z(()=>B.range()[1]-1.75*this.rem)(V)),M=S.selectAll(".title-path-z").data(x.x(()=>r.range()[0]-1.75*this.rem).y(()=>c.range()[0]+1.75*this.rem).z(t=>"min"===t.id?t.z-20*this.rem:t.z+20*this.rem)(Z)),J=S.selectAll(".title-x").data(E,t=>t[0].title),$=S.selectAll(".title-y").data(V,t=>t[0].title),z=S.selectAll(".title-z").data(Z,t=>t[0].title),O=T.enter().append("path").attr("class","d3-3d title-path title-path-x").attr("id","title-x"),K=k.enter().append("path").attr("class","d3-3d title-path title-path-y").attr("id","title-y"),P=M.enter().append("path").attr("class","d3-3d title-path title-path-z").attr("id","title-z"),j=J.enter().append("text").attr("class","d3-3d title title-x");j.append("textPath").attr("href","#title-x").attr("startOffset","50%");const _=$.enter().append("text").attr("class","d3-3d title title-y");_.append("textPath").attr("href","#title-y").attr("startOffset","50%");const q=z.enter().append("text").attr("class","d3-3d title title-z");q.append("textPath").attr("href","#title-z").attr("startOffset","50%");const tt=O.merge(T).attr("d",x.draw),et=K.merge(k).attr("d",x.draw),st=P.merge(M).attr("d",x.draw),it=j.merge(J).select("textPath").html(t=>t[0].title),nt=_.merge($).select("textPath").html(t=>t[0].title),at=q.merge(z).select("textPath").html(t=>t[0].title);tt.exit().remove(),et.exit().remove(),st.exit().remove(),it.exit().remove(),nt.exit().remove(),at.exit().remove();const lt=r.ticks(5).map(t=>[{id:"min",label:r.tickFormat()(t),x:r(t)},{id:"max",x:r(t)}]),rt=c.ticks(5).map(t=>[{id:"min",label:c.tickFormat()(t),y:c(t)},{id:"max",y:c(t)}]),ct=B.ticks(5).map(t=>[{id:"max",label:B.tickFormat()(t),z:B(t)},{id:"min",z:B(t)}]),Bt=S.selectAll(".tick-x").data(x.x(t=>t.x).y(t=>"min"===t.id?c.range()[0]:c.range()[0]+.35*this.rem).z(t=>"min"===t.id?B.range()[0]:B.range()[0]+.35*this.rem)(lt)),gt=S.selectAll(".tick-y").data(x.x(t=>"min"===t.id?r.range()[0]:r.range()[0]-.35*this.rem).y(t=>t.y).z(t=>"min"===t.id?B.range()[1]:B.range()[1]-.35*this.rem)(rt)),ot=S.selectAll(".tick-z").data(x.x(t=>"min"===t.id?r.range()[0]:r.range()[0]-.35*this.rem).y(t=>"min"===t.id?c.range()[0]:c.range()[0]+.35*this.rem).z(t=>t.z)(ct)),Ft=Bt.enter().append("path").attr("class","d3-3d tick tick-x"),Qt=gt.enter().append("path").attr("class","d3-3d tick tick-y"),Ut=ot.enter().append("path").attr("class","d3-3d tick tick-z"),It=Ft.merge(Bt).attr("d",x.draw),dt=Qt.merge(gt).attr("d",x.draw),bt=Ut.merge(ot).attr("d",x.draw);It.exit().remove(),dt.exit().remove(),bt.exit().remove();const ut=S.selectAll(".label-path-x").data(x.x(t=>t.x).y(t=>"min"===t.id?c.range()[0]+4*this.rem:c.range()[0]+.5*this.rem).z(t=>"min"===t.id?B.range()[0]+4*this.rem:B.range()[0]+.5*this.rem)(lt),t=>t[0].label),Ct=S.selectAll(".label-path-y").data(x.x(t=>"min"===t.id?r.range()[0]-.5*this.rem:r.range()[0]-4*this.rem).y(t=>t.y).z(t=>"min"===t.id?B.range()[1]-.5*this.rem:B.range()[1]-4*this.rem)(rt),t=>t[0].label),ht=S.selectAll(".label-path-z").data(x.x(t=>"min"===t.id?r.range()[0]-4*this.rem:r.range()[0]-.5*this.rem).y(t=>"min"===t.id?c.range()[0]+4*this.rem:c.range()[0]+.5*this.rem).z(t=>t.z)(ct),t=>t[0].label),yt=S.selectAll(".label-x").data(lt,t=>t[0].label),xt=S.selectAll(".label-y").data(rt,t=>t[0].label),mt=S.selectAll(".label-z").data(ct,t=>t[0].label),pt=ut.enter().append("path").attr("class","d3-3d label-path label-path-x").attr("id",(t,e)=>`label-x-${e}`),At=Ct.enter().append("path").attr("class","d3-3d label-path label-path-y").attr("id",(t,e)=>`label-y-${e}`),Gt=ht.enter().append("path").attr("class","d3-3d label-path label-path-z").attr("id",(t,e)=>`label-z-${e}`),Rt=yt.enter().append("text").attr("class","d3-3d label label-x");Rt.append("textPath").attr("href",(t,e)=>`#label-x-${e}`).attr("startOffset","0%");const St=xt.enter().append("text").attr("class","d3-3d label label-y");St.append("textPath").attr("href",(t,e)=>`#label-y-${e}`).attr("startOffset","100%");const Lt=mt.enter().append("text").attr("class","d3-3d label label-z");Lt.append("textPath").attr("href",(t,e)=>`#label-z-${e}`).attr("startOffset","100%");const Et=pt.merge(ut).attr("d",x.draw),Vt=At.merge(Ct).attr("d",x.draw),Zt=Gt.merge(ht).attr("d",x.draw),Nt=Rt.merge(yt).select("textPath").text(t=>t[0].label),ft=St.merge(xt).select("textPath").text(t=>t[0].label),Xt=Lt.merge(mt).select("textPath").text(t=>t[0].label);Et.exit().remove(),Vt.exit().remove(),Zt.exit().remove(),Nt.exit().remove(),ft.exit().remove(),Xt.exit().remove();const Wt=S.selectAll(".point").data(m.x(t=>r(t.xs)).y(t=>c(t.pw)).z(t=>B(t.xw))(this.choices.slice("rest"===this.point?1:0,"first"===this.point?1:void 0)),t=>t.name);function Dt(t,e){return{x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}}function Ht(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)}function wt(t,e,s){return function(t,e){return{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}}(Dt(t,e),Dt(t,s))}function vt(t,e){return function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}(t,e)/(Ht(t)*Ht(e))}Wt.enter().append("circle").attr("class","d3-3d point").merge(Wt).attr("class",t=>`d3-3d point ${t.response}`).attr("cx",t=>t.projected.x).attr("cy",t=>t.projected.y),Wt.exit().remove();const Yt={x:-.5,y:1,z:-1},Tt=S.selectAll(".boundary").data(this.surface?p.rows(range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).length).x(t=>r(t.xs)).y(t=>c(t.pw)).z(t=>B(t.xw))(this.boundary).filter(t=>t[0].pw>=this.range.pw.start&&t[0].pw<=this.range.pw.stop&&t[1].pw>=this.range.pw.start&&t[1].pw<=this.range.pw.stop&&t[2].pw>=this.range.pw.start&&t[2].pw<=this.range.pw.stop&&t[3].pw>=this.range.pw.start&&t[3].pw<=this.range.pw.stop):[]);Tt.enter().append("path").attr("class","d3-3d boundary").merge(Tt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(g).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),Tt.exit().remove();const kt=S.selectAll(".map-xy").data(p.rows(range$1(this.range.pw.start,this.range.pw.stop+.01,this.range.pw.step).length).x(t=>r(t.xs)).y(t=>c(t.pw)).z(t=>B(t.xw))(this.mapXY)),Mt=S.selectAll(".map-xz").data(p.rows(range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).length).x(t=>r(t.xs)).y(t=>c(t.pw)).z(t=>B(t.xw))(this.mapXZ)),Jt=S.selectAll(".map-yz").data(p.rows(range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).length).x(t=>r(t.xs)).y(t=>c(t.pw)).z(t=>B(t.xw))(this.mapYZ)),$t=kt.enter().append("path").attr("class","d3-3d map map-xy"),zt=Mt.enter().append("path").attr("class","d3-3d map map-xz"),Ot=Jt.enter().append("path").attr("class","d3-3d map map-yz");$t.merge(kt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(d(t[0].uDiff)).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),zt.merge(Mt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(d(t[0].uDiff)).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),Ot.merge(Jt).attr("d",p.draw).each(t=>{const e=t.ccw?wt(t[0].rotated,t[1].rotated,t[2].rotated):wt(t[2].rotated,t[1].rotated,t[0].rotated);t.ratio=vt(e,Yt)-.5,t.color=color$1(d(t[0].uDiff)).brighter(t.ratio)}).attr("fill",t=>t.color).attr("stroke",t=>t.color),kt.exit().remove(),Mt.exit().remove(),Jt.exit().remove(),select(this.renderRoot).selectAll(".d3-3d").sort(m.sort);const Kt=S.selectAll(".legend").data([{x:i+2*this.rem,y:i-2*this.rem,rem:this.rem}]),Pt=Kt.enter().append("g").attr("class","legend"),jt=Pt.merge(Kt).attr("transform",t=>`translate(${t.x} ${t.y})`);Kt.exit().remove(),Pt.append("g").attr("class","axis axis-legend"),jt.select(".axis-legend").call(axisLeft(b).ticks(7)).attr("font-size",null).attr("font-family",null),Pt.append("text").attr("class","title title-legend").html('Difference in Utility (<tspan class="math-var">U<tspan class="subscript">gamble</tspan></tspan> â <tspan class="math-var">U<tspan class="subscript">sure</tspan></tspan>)'),jt.select(".title-legend").attr("transform",`translate(${2.5*-this.rem},${(b(this.range.uDiff.start)+b(this.range.uDiff.stop))/2})rotate(-90)`),Pt.append("rect").attr("class","bar bar-legend").attr("fill",'url("#gradient-legend")'),jt.select(".bar-legend").attr("x",0).attr("y",b(this.range.uDiff.stop)).attr("width",this.rem).attr("height",b(this.range.uDiff.start)-b(this.range.uDiff.stop)),this.firstUpdate=!1}}customElements.define("decision-space",DecisionSpace);class ProspectableControl extends ProspectableElement{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{atribute:!1,type:String,reflect:!1}}}constructor(){super(),this.trials=void 0,this.duration=void 0,this.run=!1,this.pause=!1,this.reset=!1,this.states=["resetted","running","paused","ended"],this.state="resetted"}setTrials(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("prospectable-control-trials",{detail:{trials:this.trials},bubbles:!0}))}setDuration(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("prospectable-control-duration",{detail:{duration:this.duration},bubbles:!0}))}doRun(){this.state="running",this.dispatchEvent(new CustomEvent("prospectable-control-run",{detail:{},bubbles:!0}))}doPause(){this.state="paused",this.dispatchEvent(new CustomEvent("prospectable-control-pause",{detail:{},bubbles:!0}))}doReset(){this.state="resetted",this.dispatchEvent(new CustomEvent("prospectable-control-reset",{detail:{},bubbles:!0}))}complete(){this.state="ended"}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .buttons {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }
      `]}render(){return x$3`
      <div class="holder">
        ${null!=this.trials?x$3`<decidables-slider min="1" max="100" step="1" .value=${this.trials} @change=${this.setTrials.bind(this)} @input=${this.setTrials.bind(this)}>Trials</decidables-slider>`:x$3``}
        ${null!=this.duration?x$3`<decidables-slider min="10" max="4000" step="10" .value=${this.duration} @change=${this.setDuration.bind(this)} @input=${this.setDuration.bind(this)}>Duration</decidables-slider>`:x$3``}
        ${this.run||this.pause||this.reset?x$3`
            <div class="buttons">
              ${this.run?x$3`<decidables-button name="run" ?disabled=${"running"===this.state||"ended"===this.state} @click=${this.doRun.bind(this)}>Run</decidables-button>`:x$3``}
              ${this.pause?x$3`<decidables-button name="pause" ?disabled=${"running"!==this.state} @click=${this.doPause.bind(this)}>Pause</decidables-button>`:x$3``}
              ${this.reset?x$3`<decidables-button name="reset" ?disabled=${"resetted"===this.state} @click=${this.doReset.bind(this)}>Reset</decidables-button>`:x$3``}
            </div>
            `:x$3``}
      </div>`}}customElements.define("prospectable-control",ProspectableControl);class ProspectableResponse extends ProspectableElement{static get properties(){return{feedback:{attribute:"feedback",type:String,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},payoff:{attribute:"payoff",type:String,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.feedbacks=["none","outcome"],this.feedback="none",this.trial=!1,this.payoffs=["none","selection","both"],this.payoff="none",this.states=["off","waiting","feedback"],this.state="off",this.trialCount=0,this.trialTotal=0,this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.gamblePayoff=0,this.surePayoff=0,this.nrPayoff=0,this.betters=["gamble","sure","even"],this.better=void 0,this.responses=["gamble","sure","nr"],this.response=void 0,this.outcomes=["better","worse","even","nr"],this.outcome=void 0}get trialPayoff(){switch(this.response){case"gamble":return this.gamblePayoff;case"sure":return this.surePayoff;case"nr":return this.nrPayoff;default:return}}start(t,e,s,i,n,a,l,r){this.state="waiting",this.xl=t,this.xw=e,this.pw=s,this.xs=i,this.gamblePayoff=n,this.surePayoff=a,this.better=l,this.trialCount=r,this.response=void 0,this.outcome=void 0}stop(){this.state="feedback",void 0===this.response&&(this.outcome="nr")}gamble(){this.responded("gamble")}sure(){this.responded("sure")}responded(t){this.state="feedback",this.response=t,this.outcome="even"===this.better?"even":this.better===this.response?"better":"worse",this.dispatchEvent(new CustomEvent("prospectable-response",{detail:{trial:this.trialCount,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response,outcome:this.outcome,payoff:this.trialPayoff},bubbles:!0}))}reset(){this.state="off",this.trialCount=0,this.better=void 0,this.gamblePayoff=0,this.surePayoff=0,this.response=void 0,this.outcome=void 0}keydown(t){"waiting"===this.state&&("ArrowLeft"===t.key?(this.responded("gamble"),t.preventDefault()):"ArrowRight"===t.key&&(this.responded("sure"),t.preventDefault()))}connectedCallback(){super.connectedCallback(),window.addEventListener("keydown",this.keydown.bind(this))}disconnectedCallback(){window.removeEventListener("keydown",this.keydown.bind(this)),super.disconnectedCallback()}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        /* Overall container */
        .holder {
          display: flex;

          flex-direction: column;
        }

        /* Trial messages */
        .trials {
          display: flex;

          flex-direction: column;

          justify-content: center;
        }

        .trial {
          text-align: center;
        }

        .trial .label {
          font-weight: 600;
        }

        /* Response buttons */
        .responses {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .response {
          width: 5.25rem;
        }

        .waiting[disabled] {
          --decidables-button-background-color: var(---color-element-enabled);
        }

        .selected[disabled][name="gamble"] {
          --decidables-button-background-color: var(---color-worse);
        }

        .selected[disabled][name="sure"] {
          --decidables-button-background-color: var(---color-better);
        }

        /* Feedback messages */
        .feedbacks {
          display: flex;

          flex-direction: row;

          justify-content: center;
        }

        /* Outcome feedback */
        .feedback {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;

          width: 5.25rem;
          height: 3.5rem;
          padding: 0.375rem 0.75rem;
          margin: 0.25rem;

          text-align: center;

          background-color: var(---color-element-background);
          border: 1px solid var(---color-element-border);
        }

        .feedback.better {
          background-color: var(---color-better-light);
        }

        .feedback.worse {
          background-color: var(---color-worse-light);
        }

        .feedback.even {
          background-color: var(---color-even-light);
        }

        .feedback.nr {
          background-color: var(---color-nr-light);
        }

        .feedback .outcome {
          font-weight: 600;
          line-height: 1.15;
        }

        :host([payoff="selection"]) .feedback,
        :host([payoff="both"]) .feedback {
          height: 4rem;
        }

        /* Payoff feedback */
        .payoff {
          text-align: center;
        }

        .payoff .label {
          font-weight: 600;
        }
      `]}render(){return x$3`
      <div class="holder">
        ${this.trial?x$3`
            <div class="trials">
              <div class="trial">
                <span class="label">Trial: </span><span class="count">${this.trialCount}</span><span class="of"> of </span><span class="total">${this.trialTotal}</span>
              </div>
            </div>`:x$3``}
        <div class="responses">
          <decidables-button name="gamble" class="response ${"feedback"===this.state&&"gamble"===this.response?"selected":"waiting"===this.state?"waiting":""}" ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.gamble.bind(this)}>Gamble</decidables-button>
          <decidables-button name="sure" class="response ${"feedback"===this.state&&"sure"===this.response?"selected":"waiting"===this.state?"waiting":""}" ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.sure.bind(this)}>Sure</decidables-button>
        </div>
        ${"none"!==this.feedback||"none"!==this.payoff?x$3`
            <div class="feedbacks">
              <div class="feedback gamble
                ${"feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?this.outcome:""}">
                ${"feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?"better"===this.outcome?x$3`<span class="outcome">Better</span>`:"worse"===this.outcome?x$3`<span class="outcome">Worse</span>`:"even"===this.outcome?x$3`<span class="outcome">Even</span>`:x$3`<span class="outcome">No<br>Response</span>`:""}
                ${"both"===this.payoff||"selection"===this.payoff&&"gamble"===this.response?x$3`<span class="payoff">${"gamble"===this.response?"Win:":"Miss:"} $${this.gamblePayoff}</span>`:x$3``}
              </div>
              <div class="feedback sure
                ${"feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?this.outcome:""}">
                ${"feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?"better"===this.outcome?x$3`<span class="outcome">Better</span>`:"worse"===this.outcome?x$3`<span class="outcome">Worse</span>`:"even"===this.outcome?x$3`<span class="outcome">Even</span>`:x$3`<span class="outcome">No<br>Response</span>`:""}
                ${"both"===this.payoff||"selection"===this.payoff&&"sure"===this.response?x$3`<span class="payoff">${"sure"===this.response?"Win:":"Miss:"} $${this.surePayoff}</span>`:x$3``}
              </div>
            </div>`:x$3``}
      </div>`}}customElements.define("prospectable-response",ProspectableResponse);class RiskyOption extends(DecidablesMixinResizeable(ProspectableElement)){static get styles(){return[super.styles,i$5`
        :host {
          --decidables-spinner-font-size: 1.75rem;
          --decidables-spinner-input-width: 4rem;
          --decidables-spinner-prefix: "$";

          display: inline-block;

          width: 10rem;
          height: 10rem;
        }

        .main {
          width: 100%;
          height: 100%;
          overflow: visible;
        }

        .outline {
          fill: var(---color-element-background);
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .arc {
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .arc.interactive {
          cursor: ns-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .arc.interactive:hover {
          filter: url("#shadow-4");
        }

        .arc.interactive:active {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .arc.interactive:focus {
          filter: url("#shadow-8");
        }

        .arc.win {
          fill: var(---color-better-light);
        }

        .arc.loss {
          fill: var(---color-worse-light);
        }

        .arc.sure {
          fill: var(---color-even-light);
        }

        .label.static {
          font-size: 1.75rem;

          user-select: none;

          dominant-baseline: middle;
          text-anchor: middle;
        }

        .label.interactive {
          width: var(--decidables-spinner-input-width);
          height: calc(var(--decidables-spinner-font-size) * 1.5);
          overflow: visible;
        }

        /* HACK: Get Safari to work with SVG foreignObject */
        /* https://stackoverflow.com/questions/51313873/svg-foreignobject-not-working-properly-on-safari */
        /* https://bugs.webkit.org/show_bug.cgi?id=23113 */
        .label.interactive decidables-spinner {
          position: fixed;
        }

        .label.interactive.win decidables-spinner {
          background-color: var(---color-better-light);
        }

        .label.interactive.loss decidables-spinner {
          background-color: var(---color-worse-light);
        }

        .label.interactive.sure decidables-spinner {
          background-color: var(---color-even-light);
        }
      `]}render(){return x$3`
      <slot></slot>
    `}connectedCallback(){super.connectedCallback(),this.mutationObserver=new MutationObserver(t=>{t.some(t=>"childList"===t.type||"attributes"===t.type&&t.target!==this)&&this.requestUpdate()}),this.mutationObserver.observe(this,{subtree:!0,childList:!0,attributes:!0})}disconnectedCallback(){this.mutationObserver.disconnect(),super.disconnectedCallback()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,s=this.height,i=Math.min(e,s),n=i-(0+0),a=i-(0+0),l=this.querySelectorAll("risky-outcome"),r=l.length?-l[0].p:0,c=pie().startAngle(r*Math.PI-Math.PI).endAngle(r*Math.PI+Math.PI).sortValues(null).value(t=>t.p)(l),B=c.filter(t=>!t.data.interactive),g=c.filter(t=>t.data.interactive);function o(t){const e=(t+2*Math.PI)%(2*Math.PI);return e>Math.PI?e-2*Math.PI:e<-Math.PI?e+2*Math.PI:e}const F=drag().subject((t,e)=>{const s=o((e.endAngle+e.startAngle)/2),i=o(Math.atan2(t.y,t.x)+Math.PI/2);return l.forEach(t=>{t.startP=t.p}),{arcAngle:s,startAngle:o(i-s)}}).on("start",(t,e)=>{if(!e.data.interactive)return;select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{if(!e.data.interactive)return;const s=o(Math.atan2(t.y,t.x)+Math.PI/2),i=o(s-t.subject.arcAngle),n=o(t.subject.startAngle>0?i-t.subject.startAngle:t.subject.startAngle-i)/Math.PI,a=e.data.startP+n,r=a>.99?.99:a<.01?.01:a;l.forEach(t=>{t.p=t===e.data?r:t.startP/(1-e.data.startP)*(1-r)}),this.dispatchEvent(new CustomEvent("risky-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0}))}).on("end",(t,e)=>{if(!e.data.interactive)return;select(t.currentTarget).classed("dragging",!1)}),Q=select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),U=Q.enter().append("svg").classed("main",!0).each((t,e,s)=>{B$1(ProspectableElement.svgFilters,s[e])}),I=U.merge(Q).attr("viewBox",`0 0 ${i} ${i}`),d=U.append("g").classed("pie",!0),b=I.select(".pie").attr("transform",`translate(${a/2}, ${n/2})`);d.append("circle").classed("outline",!0),b.select(".outline").attr("r",Math.min(a,n)/2-1);const u=b.selectAll(".arc").data(c),C=u.enter().append("path").call(F).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown"].includes(t.key)){const s=e.data.p;let i=e.data.p;switch(t.key){case"ArrowUp":i-=t.shiftKey?.01:.05;break;case"ArrowDown":i+=t.shiftKey?.01:.05}const n=i>.99?.99:i<.01?.01:i;l.forEach(t=>{t.p=t===e.data?n:t.p/(1-s)*(1-n)}),this.dispatchEvent(new CustomEvent("risky-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0})),t.preventDefault()}});C.merge(u).attr("tabindex",t=>g.includes(t)&&c.length>1?0:null).attr("class",t=>`arc ${t.data.name}`).classed("interactive",t=>g.includes(t)&&c.length>1).attr("d",arc().innerRadius(0).outerRadius(Math.min(a,n)/2-1)),u.exit().remove();const h=b.selectAll(".label.static").data(B),y=b.selectAll(".label.interactive").data(g),x=h.enter().append("text"),m=y.enter().append("foreignObject");m.append("xhtml:decidables-spinner").on("input",(t,e)=>{e.data.x=parseFloat(t.target.value),this.dispatchEvent(new CustomEvent("risky-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0}))}),x.merge(h).attr("class",t=>`label static ${t.data.name}`).attr("transform",t=>{if(1===c.length)return"translate(0, 0)";const e=Math.min(a,n)/2*.6;return`translate(${arc().innerRadius(e).outerRadius(e).centroid(t)})`}).text(t=>`$${t.data.x.toFixed(0)}`);const p=m.merge(y).attr("class",t=>`label interactive ${t.data.name}`).attr("transform",t=>{const e=parseFloat(this.getComputedStyleValue("--decidables-spinner-input-width")),s=parseFloat(this.getComputedStyleValue("--decidables-spinner-font-size")),i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10),l=e*i/-2,r=s*i*1.5/-2;if(1===c.length)return`translate(${l}, ${r})`;const B=Math.min(a,n)/2*.6,g=arc().innerRadius(B).outerRadius(B);return`translate(${g.centroid(t)[0]+l}, ${g.centroid(t)[1]+r})`});p.select("decidables-spinner").attr("value",t=>`${t.data.x.toFixed(0)}`),h.exit().remove(),y.exit().remove()}}customElements.define("risky-option",RiskyOption);class RiskyOutcome extends ProspectableElement{static get properties(){return{x:{attribute:"value",type:Number,reflect:!0},p:{attribute:"probability",type:Number,reflect:!0},name:{attribute:"name",type:String,reflect:!0}}}constructor(){super(),this.x=0,this.p=0,this.name=""}static get styles(){return[i$5`
        :host {
          display: none;
        }
      `]}render(){return x$3``}}customElements.define("risky-outcome",RiskyOutcome);class RiskyChoice extends ProspectableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.xl=0,this.xw=100,this.pw=.75,this.xs=50}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        .holder {
          user-select: none;
        }

        .holder > * {
          vertical-align: middle;
        }

        .query {
          margin: 0 0.5rem;

          font-family: var(--font-family-code);
          font-size: 1.75rem;
        }

        risky-option {
          width: 10rem;
          height: 10rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("risky-choice-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs},bubbles:!0}))}winChange(t){this.xw=parseFloat(t.detail.x),this.pw=parseFloat(t.detail.p),this.sendEvent()}sureChange(t){this.xs=parseFloat(t.detail.x),this.sendEvent()}render(){return x$3`
      <div class="holder">
        <risky-option class="gamble" ?interactive=${this.interactive} @risky-outcome-change=${this.winChange.bind(this)}>
          ${"choice"===this.state?x$3`
              <risky-outcome probability="${1-this.pw}" value="${this.xl}" name="loss"></risky-outcome>
              <risky-outcome ?interactive=${this.interactive} probability="${this.pw}" value="${this.xw}" name="win"></risky-outcome>`:""}
        </risky-option><span class="query"
         >${"choice"===this.state?"?":"fixation"===this.state?"+":x$3`â`}</span
        ><risky-option class="sure" ?interactive=${this.interactive} @risky-outcome-change=${this.sureChange.bind(this)}>
          ${"choice"===this.state?x$3`
              <risky-outcome ?interactive=${this.interactive} probability="1" value="${this.xs}" name="sure"></risky-outcome>`:""}
        </risky-option>
      </div>`}}customElements.define("risky-choice",RiskyChoice);class RiskyTask extends ProspectableElement{static get properties(){return{duration:{attribute:"duration",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}constructor(){super(),this.duration=2e3,this.iti=2e3,this.trials=5,this.running=!1,this.states=["resetted","iti","stimulus","ended"],this.state="resetted",this.range={},this.range.xl={start:0,stop:0,step:1},this.range.xw={start:10,stop:30,step:1},this.range.pw={start:.1,stop:.9,step:.1},this.range.xs={start:5,stop:15,step:1},this.range.xl.values=range$1(this.range.xl.start,this.range.xl.stop+.01,this.range.xl.step),this.range.xw.values=range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step),this.range.pw.values=range$1(this.range.pw.start,this.range.pw.stop+.01,this.range.pw.step),this.range.xs.values=range$1(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step),this.firstUpdate=!0,this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.trial=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.runner=void 0}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }
      `]}render(){return x$3`
      <div class="holder">
        <risky-choice state="${"stimulus"===this.state?"choice":"iti"===this.state?"fixation":"blank"}" probability="${this.pw}" win="${this.xw}" loss="${this.xl}" sure="${this.xs}"></risky-choice>
      </div>`}update(t){super.update(t),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=now()-this.pauseTime,this.pauseTime=0),this.runner=interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=now())),this.firstUpdate=!1}reset(){this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0}run(){const t=now(),e=this.baseTime?t-this.baseTime:0,s=this.baseTime?e-this.startTime:0;this.lastTime=e,"resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("risky-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&s>=this.iti?(this.trial+=1,this.state="stimulus",this.startTime=e,this.xl=this.range.xl.values[Math.floor(Math.random()*this.range.xl.values.length)],this.xw=this.range.xw.values[Math.floor(Math.random()*this.range.xw.values.length)],this.pw=this.range.pw.values[Math.floor(Math.random()*this.range.pw.values.length)],this.xs=this.range.xs.values[Math.floor(Math.random()*this.range.xs.values.length)],this.vDiff=this.xw*this.pw+this.xl*(1-this.pw)-this.xs,this.gamblePayoff=Math.random()<this.pw?this.xw:this.xl,this.surePayoff=this.xs,this.better=this.vDiff>0?"gamble":this.vDiff<0?"sure":"equal",this.dispatchEvent(new CustomEvent("risky-trial-start",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0}))):"stimulus"===this.state&&s>=this.duration&&(this.dispatchEvent(new CustomEvent("risky-trial-end",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.dispatchEvent(new CustomEvent("risky-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e))}}customElements.define("risky-task",RiskyTask);class CPTEquationPG2W extends CPTEquation{static get properties(){return{p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},w:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.p=.75,this.g=CPTMath.g.DEFAULT,this.alignState()}alignState(){this.w=CPTMath.pg2w(this.p,this.g)}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-equation-pg2w-change",{detail:{p:this.p,g:this.g,w:this.w},bubbles:!0}))}pInput(t){this.p=parseFloat(t.target.value),this.alignState(),this.sendEvent()}gInput(t){this.g=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,s;this.numeric?(t=x$3`<decidables-spinner class="p bottom"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step="0.01"
          .value=${this.p}
          @input=${this.pInput.bind(this)}
        >
          <var class="math-var">p</var>
        </decidables-spinner>`,e=x$3`<decidables-spinner class="g bottom"
          ?disabled=${!this.interactive}
          min=${CPTMath.g.MIN}
          max=${CPTMath.g.MAX}
          step=${CPTMath.g.STEP}
          .value=${this.g}
          @input=${this.gInput.bind(this)}
        >
          <var class="math-var">Î³</var>
        </decidables-spinner>`,s=x$3`<decidables-spinner class="w bottom"
          disabled
          min="0"
          max="1"
          step=".01"
          .value=${+this.w.toFixed(2)}
        >
          <var class="math-var">w</var>
        </decidables-spinner>`):(t=x$3`<var class="math-var p">p</var>`,e=x$3`<var class="math-var g">Î³</var>`,s=x$3`<var class="math-var w">w</var>`);const i=x$3`
      <tr>
        <td rowspan="2">
          ${s}<span class="equals">=</span>
        </td>
        <td class="underline">
          ${t}<sup class="exp">${e}</sup>
        </td>
      </tr>
      <tr>
        <td>
          <span class="bracket tight">[</span>${t}<sup class="exp">${e}</sup><span class="plus">+</span><span class="paren tight">(</span>1<span class="minus">â</span>${t}<span class="paren tight">)</span><sup class="exp">${e}</sup><span class="bracket tight">]</span><sup class="exp">1/${e}</sup>
        </td>
      </tr>`;return x$3`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${i}
          </tbody>
        </table>
      </div>`}}customElements.define("cpt-equation-pg2w",CPTEquationPG2W);class CPTEquationVW2U extends CPTEquation{static get properties(){return{v:{attribute:"value",converter:DecidablesConverterArray,reflect:!0},w:{attribute:"weight",converter:DecidablesConverterArray,reflect:!0},n:{attribute:"outcomes",type:Number,reflect:!0},u:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.v=[10,0],this.w=[.75,.25],this.n=2,this.nMax=4,this.vMax=new Array(this.nMax).fill(0),this.wMax=new Array(this.nMax).fill(0),this.alignState()}alignState(){this.v=this.v.length<this.n?this.v.concat(this.vMax.slice(this.v.length,this.n)):this.v.length>this.n?this.v.slice(0,this.n):this.v,this.w=this.w.length<this.n?this.w.concat(this.wMax.slice(this.w.length,this.n)):this.w.length>this.n?this.w.slice(0,this.n):this.w,this.v.forEach((t,e)=>{this.vMax[e]=t}),this.w.forEach((t,e)=>{this.wMax[e]=t}),this.u=this.v.reduce((t,e,s)=>t+e*this.w[s],0)}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-equation-vw2u-change",{detail:{v:this.v,w:this.w,n:this.n,u:this.u},bubbles:!0}))}vInput(t,e){this.v[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}wInput(t,e){this.w[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}nInput(t){this.n=parseFloat(t.target.value),this.alignState(),this.sendEvent()}vTemplate(t="",e="",s=!1){let i;if(s){const s=Number.parseInt(t,10)-1;i=x$3`<decidables-spinner class="v"
          ?disabled=${!this.interactive}
          .value=${this.v[s]}
          @input=${this.vInput.bind(this,s)}
        >
          <var class="math-var">v<sub class="subscript ${e}">${t}</sub></var>
        </decidables-spinner>`}else i=x$3`<var class="math-var v">v<sub class="subscript ${e}">${t}</sub></var>`;return i}wTemplate(t="",e="",s=!1){let i;if(s){const s=Number.parseInt(t,10)-1;i=x$3`<decidables-spinner class="w"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".001"
          .value=${this.w[s]}
          @input=${this.wInput.bind(this,s)}
        >
          <var class="math-var">w<sub class="subscript ${e}">${t}</sub></var>
        </decidables-spinner>`}else i=x$3`<var class="math-var w">w<sub class="subscript ${e}">${t}</sub></var>`;return i}willUpdate(){this.alignState()}render(){let t,e;this.numeric?(t=x$3`<decidables-spinner class="u"
          disabled
          .value=${+this.u.toFixed(3)}
        >
          <var class="math-var">U</var>
        </decidables-spinner>`,e=x$3`<decidables-spinner class="n"
          ?disabled=${!this.interactive}
          min="1"
          max="4"
          step="1"
          .value=${this.n}
          @input=${this.nInput.bind(this)}
        >
          <var class="math-var">n</var>
        </decidables-spinner>`):(t=x$3`<var class="math-var u">U</var>`,e=x$3`<var class="math-var subscript">n</var>`);const s=x$3`
      <tr>
        <td>
          ${t}<span class="equals">=</span>
        </td>
        <td>
          <div class="summation">
            <span class="tight">${e}</span>
            <span class="tight"><var class="math-greek sigma">Î£</var></span>
            <span class="tight"><var class="math-var subscript tight">i</var><span class="equals subscript">=</span><span class="subscript tight">1</span></span>
          </div>
        </td>
        <td>
          ${this.vTemplate("i","math-var",!1)}&nbsp;${this.wTemplate("i","math-var",!1)}<span class="equals">=</span>
        </td>
        <td>
          ${this.numeric?Array(this.nMax).fill().map((t,e)=>e<this.n?x$3`<span class="addend tight" ${F({in:d,out:d})}>${0!==e?x$3`<span class="plus">+</span>`:x$3``}${this.vTemplate(e+1,"math-num",!0)}&nbsp;${this.wTemplate(e+1,"math-num",!0)}</span>`:null):x$3`${this.vTemplate("1","math-num",!1)}&nbsp;${this.wTemplate("1","math-num",!1)}<span class="plus">+</span><span class="ellipsis">â¦</span><span class="plus">+</span>${this.vTemplate("n","math-var",!1)}&nbsp;${this.wTemplate("n","math-var",!1)}`}
        </td>
      </tr>`;return x$3`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${s}
          </tbody>
        </table>
      </div>`}}customElements.define("cpt-equation-vw2u",CPTEquationVW2U);class CPTEquationXAL2V extends CPTEquation{static get properties(){return{x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.x=10,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.alignState()}alignState(){this.v=CPTMath.xal2v(this.x,this.a,this.l)}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-equation-xal2v-change",{detail:{x:this.x,a:this.a,l:this.l,v:this.v},bubbles:!0}))}xInput(t){this.x=parseFloat(t.target.value),this.alignState(),this.sendEvent()}aInput(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}lInput(t){this.l=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,s,i;this.numeric?(t=x$3`<decidables-spinner class="x bottom"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.x}
          @input=${this.xInput.bind(this)}
        >
          <var class="math-var">x</var>
        </decidables-spinner>`,e=x$3`<decidables-spinner class="a bottom"
          ?disabled=${!this.interactive}
          min=${CPTMath.a.MIN}
          max=${CPTMath.a.MAX}
          step=${CPTMath.a.STEP}
          .value=${this.a}
          @input=${this.aInput.bind(this)}
        >
          <var class="math-var">Î±</var>
        </decidables-spinner>`,s=x$3`<decidables-spinner class="l bottom"
          ?disabled=${!this.interactive}
          min=${CPTMath.l.MIN}
          step=${CPTMath.l.STEP}
          .value=${this.l}
          @input=${this.lInput.bind(this)}
        >
          <var class="math-var">Î»</var>
        </decidables-spinner>`,i=x$3`<decidables-spinner class="v bottom" disabled step=".001" .value="${+this.v.toFixed(3)}">
          <var class="math-var">v</var>
        </decidables-spinner>`):(t=x$3`<var class="math-var x">x</var>`,e=x$3`<var class="math-var a">Î±</var>`,s=x$3`<var class="math-var l">Î»</var>`,i=x$3`<var class="math-var v">v</var>`);const n=x$3`
      <tr>
        <td rowspan="2">
          ${i}<span class="equals">=</span><span class="brace tight">{</span>
        </td>
        <td class="left">
          ${t}<sup class="exp">${e}</sup>,&emsp;if ${t}<span class="equals">&ge;</span>0
        </td>
      </tr>
      <tr>
        <td class="left">
          <span class="minus tight">â</span>${s}<span class="paren tight">(</span><span class="minus tight">â</span>${t}<span class="paren tight">)</span><sup class="exp">${e}</sup>,&emsp;if ${t}<span class="equals">&lt;</span>0
        </td>
      </tr>`;return x$3`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("cpt-equation-xal2v",CPTEquationXAL2V);class CPTExample extends ProspectableElement{static get styles(){return[super.styles,i$5`
        :host {
          ---border: var(--border, 1px solid var(---color-border));
          display: inline-block;

          margin-bottom: 1rem;
        }

        .holder {
          display: flex;
        }

        .body {
          display: flex;

          flex-wrap: wrap;

          align-items: center;
          justify-content: left;

          padding: 0.625rem;

          border: var(---border);
          border-radius: 0.25rem;
        }

        .body ::slotted(*) {
          margin: 0.625rem;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > rdk-task + sdt-response,
        ::slotted(rdk-task) + ::slotted(sdt-response) { */
        /* .body ::slotted(sdt-response) {
          margin-left: 0;
        } */

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > sdt-control + rdk-task,
        ::slotted(sdt-control) + ::slotted(rdk-task) {
          margin-left: 0;
        } */
        /* .body ::slotted(rdk-task) {
          margin-left: 0;
        } */
      `]}render(){return x$3`
      <div class="holder">
        <div class="body">
          <slot>Empty!</slot>
        </div>
      </div>`}}customElements.define("cpt-example",CPTExample);class CPTExampleHuman extends CPTExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},a:{attribute:!1,type:Number,reflect:!1},l:{attribute:!1,type:Number,reflect:!1},g:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trials=10,this.duration=2e3,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.cptFit=null,this.cptParameters=null,this.cptProbability=null,this.cptValue=null,this.decisionSpace=null,this.prospectableControl=null,this.prospectableResponse=null,this.riskyTask=null}connectedCallback(){super.connectedCallback(),this.cptFit=this.querySelector("cpt-fit"),this.cptParameters=this.querySelector("cpt-parameters"),this.cptProbability=this.querySelector("cpt-probability"),this.cptValue=this.querySelector("cpt-value"),this.decisionSpace=this.querySelector("decision-space"),this.prospectableControl=this.querySelector("prospectable-control"),this.prospectableResponse=this.querySelector("prospectable-response"),this.riskyTask=this.querySelector("risky-task"),this.cptFit&&this.cptFit.addEventListener("cpt-fit-update",t=>{this.a=t.detail.a,this.l=t.detail.l,this.g=t.detail.g}),this.prospectableControl&&(this.prospectableControl.addEventListener("prospectable-control-trials",t=>{this.trials=t.detail.trials}),this.prospectableControl.addEventListener("prospectable-control-duration",t=>{this.duration=t.detail.duration}),this.prospectableControl.addEventListener("prospectable-control-run",()=>{this.riskyTask&&(this.riskyTask.running=!0)}),this.prospectableControl.addEventListener("prospectable-control-pause",()=>{this.riskyTask&&(this.riskyTask.running=!1)}),this.prospectableControl.addEventListener("prospectable-control-reset",()=>{this.riskyTask&&this.riskyTask.reset(),this.prospectableResponse&&this.prospectableResponse.reset(),this.decisionSpace&&this.decisionSpace.clear(),this.cptFit&&this.cptFit.clear()})),this.prospectableResponse&&this.prospectableResponse.addEventListener("prospectable-response",t=>{this.decisionSpace&&this.decisionSpace.set(t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString()),this.cptFit&&this.cptFit.set(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())}),this.riskyTask&&(this.riskyTask.addEventListener("risky-trial-start",t=>{this.prospectableResponse&&this.prospectableResponse.start(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.gamblePayoff,t.detail.surePayoff,t.detail.better,t.detail.trial)}),this.riskyTask.addEventListener("risky-trial-end",()=>{this.prospectableResponse&&this.prospectableResponse.stop()}),this.riskyTask.addEventListener("risky-block-end",()=>{this.prospectableControl&&this.prospectableControl.complete()}))}update(t){super.update(t),this.cptParameters&&(this.cptParameters.a=null!=this.cptParameters.a?this.a:void 0,this.cptParameters.l=null!=this.cptParameters.l?this.l:void 0,this.cptParameters.g=null!=this.cptParameters.g?this.g:void 0),this.cptProbability&&(this.cptProbability.g=this.g),this.cptValue&&(this.cptValue.a=this.a,this.cptValue.l=this.l),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g),this.prospectableControl&&(this.prospectableControl.trials=null!=this.prospectableControl.trials?this.trials:void 0,this.prospectableControl.duration=null!=this.prospectableControl.trials?this.duration:void 0),this.prospectableResponse&&(this.prospectableResponse.trialTotal=this.trials),this.riskyTask&&(this.riskyTask.trials=this.trials,this.riskyTask.duration=this.duration,this.riskyTask.iti=this.duration)}}customElements.define("cpt-example-human",CPTExampleHuman);class CPTExampleInteractive extends CPTExample{static get properties(){return{a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.cptCalculation=null,this.cptParameters=null,this.cptProbability=null,this.cptSpace=null,this.cptValue=null,this.decisionSpace=null,this.riskyChoice=null}connectedCallback(){super.connectedCallback(),this.cptCalculation=this.querySelector("cpt-calculation"),this.cptParameters=this.querySelector("cpt-parameters"),this.cptProbability=this.querySelector("cpt-probability"),this.cptSpace=this.querySelector("cpt-space"),this.cptValue=this.querySelector("cpt-value"),this.decisionSpace=this.querySelector("decision-space"),this.riskyChoice=this.querySelector("risky-choice"),this.cptCalculation&&this.cptCalculation.addEventListener("cpt-calculation-change",t=>{this.a=t.detail.a,this.l=t.detail.l,this.g=t.detail.g,this.xl=t.detail.xl,this.xw=t.detail.xw,this.pw=t.detail.pw,this.xs=t.detail.xs}),this.cptParameters&&(this.cptParameters.addEventListener("cpt-parameters-a",t=>{this.a=t.detail.a}),this.cptParameters.addEventListener("cpt-parameters-l",t=>{this.l=t.detail.l}),this.cptParameters.addEventListener("cpt-parameters-g",t=>{this.g=t.detail.g})),this.cptProbability&&this.cptProbability.addEventListener("cpt-probability-change",t=>{this.g=t.detail.g,this.pw=t.detail.p}),this.cptValue&&this.cptValue.addEventListener("cpt-value-change",t=>{this.a=t.detail.a,this.l=t.detail.l,"default"===t.detail.name?this.xs=t.detail.x:"gamble"===t.detail.name&&(this.xw=t.detail.x)}),this.riskyChoice&&this.riskyChoice.addEventListener("risky-choice-change",t=>{this.xl=t.detail.xl,this.xw=t.detail.xw,this.pw=t.detail.pw,this.xs=t.detail.xs}),this.requestUpdate()}update(t){super.update(t),this.cptCalculation&&(this.cptCalculation.a=this.a,this.cptCalculation.l=this.l,this.cptCalculation.g=this.g,this.cptCalculation.xl=this.xl,this.cptCalculation.xw=this.xw,this.cptCalculation.pw=this.pw,this.cptCalculation.xs=this.xs),this.cptParameters&&(this.cptParameters.a=null!=this.cptParameters.a?this.a:void 0,this.cptParameters.l=null!=this.cptParameters.l?this.l:void 0,this.cptParameters.g=null!=this.cptParameters.g?this.g:void 0),this.cptProbability&&this.cptProbability.set(this.pw,this.g,"default",""),this.cptSpace&&(this.cptSpace.a=this.a,this.cptSpace.l=this.l,this.cptSpace.g=this.g,this.cptSpace.xl=this.xl,this.cptSpace.xw=this.xw,this.cptSpace.pw=this.pw,this.cptSpace.xs=this.xs),this.cptValue&&(this.cptValue.set(this.xs,this.a,this.l,"default","s"),this.cptValue.set(this.xw,this.a,this.l,"gamble","g","default")),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g,this.decisionSpace.xl=this.xl,this.decisionSpace.xw=this.xw,this.decisionSpace.pw=this.pw,this.decisionSpace.xs=this.xs),this.riskyChoice&&(this.riskyChoice.xl=this.xl,this.riskyChoice.xw=this.xw,this.riskyChoice.pw=this.pw,this.riskyChoice.xs=this.xs)}}customElements.define("cpt-example-interactive",CPTExampleInteractive);class CPTExampleModel extends CPTExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}constructor(){super(),this.trials=10,this.duration=2e3,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.cptParameters=null,this.cptProbability=null,this.cptValue=null,this.decisionSpace=null,this.prospectableControl=null,this.prospectableResponse=null,this.riskyTask=null}connectedCallback(){super.connectedCallback(),this.cptParameters=this.querySelector("cpt-parameters"),this.cptProbability=this.querySelector("cpt-probability"),this.cptValue=this.querySelector("cpt-value"),this.decisionSpace=this.querySelector("decision-space"),this.prospectableControl=this.querySelector("prospectable-control"),this.prospectableResponse=this.querySelector("prospectable-response"),this.riskyTask=this.querySelector("risky-task"),this.cptParameters&&(this.cptParameters.addEventListener("cpt-parameters-a",t=>{this.a=t.detail.a}),this.cptParameters.addEventListener("cpt-parameters-l",t=>{this.l=t.detail.l}),this.cptParameters.addEventListener("cpt-parameters-g",t=>{this.g=t.detail.g})),this.cptProbability&&(this.cptProbability.addEventListener("cpt-probability-change",t=>{this.g=t.detail.g}),this.cptProbability.addEventListener("prospectable-response",t=>{this.prospectableResponse&&this.prospectableResponse.responded(t.detail.response),this.decisionSpace&&this.decisionSpace.set(t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())})),this.cptValue&&(this.cptValue.addEventListener("cpt-value-change",t=>{this.a=t.detail.a,this.l=t.detail.l}),this.cptProbability||this.cptValue.addEventListener("prospectable-response",t=>{this.prospectableResponse&&this.prospectableResponse.responded(t.detail.response),this.decisionSpace&&this.decisionSpace.set(t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())})),this.prospectableControl&&(this.prospectableControl.addEventListener("prospectable-control-trials",t=>{this.trials=t.detail.trials}),this.prospectableControl.addEventListener("prospectable-control-duration",t=>{this.duration=t.detail.duration}),this.prospectableControl.addEventListener("prospectable-control-run",()=>{this.cptProbability&&this.cptProbability.resumeTrial(),this.cptValue&&this.cptValue.resumeTrial(),this.riskyTask&&(this.riskyTask.running=!0)}),this.prospectableControl.addEventListener("prospectable-control-pause",()=>{this.cptProbability&&this.cptProbability.pauseTrial(),this.cptValue&&this.cptValue.pauseTrial(),this.riskyTask&&(this.riskyTask.running=!1)}),this.prospectableControl.addEventListener("prospectable-control-reset",()=>{this.cptProbability&&this.cptProbability.clear(),this.cptValue&&this.cptValue.clear(),this.riskyTask&&this.riskyTask.reset(),this.prospectableResponse&&this.prospectableResponse.reset(),this.decisionSpace&&this.decisionSpace.clear()})),this.riskyTask&&(this.riskyTask.addEventListener("risky-trial-start",t=>{this.prospectableResponse&&this.prospectableResponse.start(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.gamblePayoff,t.detail.surePayoff,t.detail.better,t.detail.trial),this.vw=CPTMath.xal2v(this.xw,this.a,this.l),this.vl=CPTMath.xal2v(this.xl,this.a,this.l),this.ww=CPTMath.pg2w(this.pw,this.g),this.wl=1-this.ww,this.vs=CPTMath.xal2v(this.xs,this.a,this.l),this.ug=this.vw*this.ww+this.vl*this.wl,this.us=this.vs;const e=CPTMath.xal2v(t.detail.xw,this.a,this.l)*CPTMath.pg2w(t.detail.pw,this.g)+CPTMath.xal2v(t.detail.xl,this.a,this.l)*(1-CPTMath.pg2w(t.detail.pw,this.g))>CPTMath.xal2v(t.detail.xs,this.a,this.l)?"gamble":"sure";this.cptProbability&&this.cptProbability.trial(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.trial,e),this.cptValue&&this.cptValue.trial(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.trial,e)}),this.riskyTask.addEventListener("risky-trial-end",()=>{this.prospectableResponse&&this.prospectableResponse.stop()}),this.riskyTask.addEventListener("risky-block-end",()=>{this.prospectableControl&&this.prospectableControl.complete()})),this.requestUpdate()}update(t){super.update(t),this.cptParameters&&(this.cptParameters.a=null!=this.cptParameters.a?this.a:void 0,this.cptParameters.l=null!=this.cptParameters.l?this.l:void 0,this.cptParameters.g=null!=this.cptParameters.g?this.g:void 0),this.cptProbability&&(this.cptProbability.g=this.g),this.cptValue&&(this.cptValue.a=this.a,this.cptValue.l=this.l),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g),this.prospectableControl&&(this.prospectableControl.trials=null!=this.prospectableControl.trials?this.trials:void 0,this.prospectableControl.duration=null!=this.prospectableControl.trials?this.duration:void 0),this.riskyTask&&(this.riskyTask.trials=this.trials,this.riskyTask.duration=this.duration,this.riskyTask.iti=this.duration)}}customElements.define("cpt-example-model",CPTExampleModel);
//# sourceMappingURL=page.js.map