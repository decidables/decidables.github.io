var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},check=function(t){return t&&t.Math===Math&&t},globalThis_1=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||check("object"==typeof globalThis_1&&globalThis_1)||function(){return this}()||Function("return this")(),globalThis$H=globalThis_1,path$1=globalThis$H,fails$t=function(t){try{return!!t()}catch(t){return!0}},fails$s=fails$t,functionBindNative=!fails$s(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),NATIVE_BIND$3=functionBindNative,FunctionPrototype$2=Function.prototype,call$v=FunctionPrototype$2.call,uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$2.bind.bind(call$v,call$v),functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(t){return function(){return call$v.apply(t,arguments)}},isNullOrUndefined$5=function(t){return null==t},isNullOrUndefined$4=isNullOrUndefined$5,$TypeError$o=TypeError,requireObjectCoercible$9=function(t){if(isNullOrUndefined$4(t))throw new $TypeError$o("Can't call method on "+t);return t},requireObjectCoercible$8=requireObjectCoercible$9,$Object$4=Object,toObject$5=function(t){return $Object$4(requireObjectCoercible$8(t))},uncurryThis$D=functionUncurryThis,toObject$4=toObject$5,hasOwnProperty=uncurryThis$D({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(t,e){return hasOwnProperty(toObject$4(t),e)},wellKnownSymbolWrapped={},sharedStore={exports:{}},isPure=!1,globalThis$G=globalThis_1,defineProperty$7=Object.defineProperty,defineGlobalProperty$3=function(t,e){try{defineProperty$7(globalThis$G,t,{value:e,configurable:!0,writable:!0})}catch(i){globalThis$G[t]=e}return e},globalThis$F=globalThis_1,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=sharedStore.exports=globalThis$F[SHARED]||defineGlobalProperty$2(SHARED,{});(store$3.versions||(store$3.versions=[])).push({version:"3.46.0",mode:"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"});var match,version,sharedStoreExports=sharedStore.exports,store$2=sharedStoreExports,shared$4=function(t,e){return store$2[t]||(store$2[t]=e||{})},uncurryThis$C=functionUncurryThis,id$1=0,postfix=Math.random(),toString$b=uncurryThis$C(1.1.toString),uid$4=function(t){return"Symbol("+(void 0===t?"":t)+")_"+toString$b(++id$1+postfix,36)},globalThis$E=globalThis_1,navigator$1=globalThis$E.navigator,userAgent$3=navigator$1&&navigator$1.userAgent,environmentUserAgent=userAgent$3?String(userAgent$3):"",globalThis$D=globalThis_1,userAgent$2=environmentUserAgent,process$1=globalThis$D.process,Deno$1=globalThis$D.Deno,versions=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8;v8&&(version=(match=v8.split("."))[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent$2&&(!(match=userAgent$2.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent$2.match(/Chrome\/(\d+)/))&&(version=+match[1]);var environmentV8Version=version,V8_VERSION$1=environmentV8Version,fails$r=fails$t,globalThis$C=globalThis_1,$String$6=globalThis$C.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$r(function(){var t=Symbol("symbol detection");return!$String$6(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41}),NATIVE_SYMBOL$1=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,globalThis$B=globalThis_1,shared$3=shared$4,hasOwn$i=hasOwnProperty_1,uid$3=uid$4,NATIVE_SYMBOL=symbolConstructorDetection,USE_SYMBOL_AS_UID$1=useSymbolAsUid,Symbol$3=globalThis$B.Symbol,WellKnownSymbolsStore=shared$3("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID$1?Symbol$3.for||Symbol$3:Symbol$3&&Symbol$3.withoutSetter||uid$3,wellKnownSymbol$l=function(t){return hasOwn$i(WellKnownSymbolsStore,t)||(WellKnownSymbolsStore[t]=NATIVE_SYMBOL&&hasOwn$i(Symbol$3,t)?Symbol$3[t]:createWellKnownSymbol("Symbol."+t)),WellKnownSymbolsStore[t]},wellKnownSymbol$k=wellKnownSymbol$l;wellKnownSymbolWrapped.f=wellKnownSymbol$k;var objectDefineProperty={},fails$q=fails$t,descriptors=!fails$q(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),documentAll="object"==typeof document&&document.all,isCallable$l=void 0===documentAll&&void 0!==documentAll?function(t){return"function"==typeof t||t===documentAll}:function(t){return"function"==typeof t},isCallable$k=isCallable$l,isObject$f=function(t){return"object"==typeof t?null!==t:isCallable$k(t)},globalThis$A=globalThis_1,isObject$e=isObject$f,document$1=globalThis$A.document,EXISTS$1=isObject$e(document$1)&&isObject$e(document$1.createElement),documentCreateElement$1=function(t){return EXISTS$1?document$1.createElement(t):{}},DESCRIPTORS$i=descriptors,fails$p=fails$t,createElement$1=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$i&&!fails$p(function(){return 7!==Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a}),DESCRIPTORS$h=descriptors,fails$o=fails$t,v8PrototypeDefineBug=DESCRIPTORS$h&&fails$o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),isObject$d=isObject$f,$String$5=String,$TypeError$n=TypeError,anObject$s=function(t){if(isObject$d(t))return t;throw new $TypeError$n($String$5(t)+" is not an object")},NATIVE_BIND$2=functionBindNative,call$u=Function.prototype.call,functionCall=NATIVE_BIND$2?call$u.bind(call$u):function(){return call$u.apply(call$u,arguments)},globalThis$z=globalThis_1,isCallable$j=isCallable$l,aFunction=function(t){return isCallable$j(t)?t:void 0},getBuiltIn$j=function(t,e){return arguments.length<2?aFunction(globalThis$z[t]):globalThis$z[t]&&globalThis$z[t][e]},uncurryThis$B=functionUncurryThis,objectIsPrototypeOf=uncurryThis$B({}.isPrototypeOf),getBuiltIn$i=getBuiltIn$j,isCallable$i=isCallable$l,isPrototypeOf$5=objectIsPrototypeOf,USE_SYMBOL_AS_UID=useSymbolAsUid,$Object$3=Object,isSymbol$4=USE_SYMBOL_AS_UID?function(t){return"symbol"==typeof t}:function(t){var e=getBuiltIn$i("Symbol");return isCallable$i(e)&&isPrototypeOf$5(e.prototype,$Object$3(t))},$String$4=String,tryToString$3=function(t){try{return $String$4(t)}catch(t){return"Object"}},isCallable$h=isCallable$l,tryToString$2=tryToString$3,$TypeError$m=TypeError,aCallable$n=function(t){if(isCallable$h(t))return t;throw new $TypeError$m(tryToString$2(t)+" is not a function")},aCallable$m=aCallable$n,isNullOrUndefined$3=isNullOrUndefined$5,getMethod$b=function(t,e){var i=t[e];return isNullOrUndefined$3(i)?void 0:aCallable$m(i)},call$t=functionCall,isCallable$g=isCallable$l,isObject$c=isObject$f,$TypeError$l=TypeError,ordinaryToPrimitive$1=function(t,e){var i,s;if("string"===e&&isCallable$g(i=t.toString)&&!isObject$c(s=call$t(i,t)))return s;if(isCallable$g(i=t.valueOf)&&!isObject$c(s=call$t(i,t)))return s;if("string"!==e&&isCallable$g(i=t.toString)&&!isObject$c(s=call$t(i,t)))return s;throw new $TypeError$l("Can't convert object to primitive value")},call$s=functionCall,isObject$b=isObject$f,isSymbol$3=isSymbol$4,getMethod$a=getMethod$b,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$j=wellKnownSymbol$l,$TypeError$k=TypeError,TO_PRIMITIVE=wellKnownSymbol$j("toPrimitive"),toPrimitive$2=function(t,e){if(!isObject$b(t)||isSymbol$3(t))return t;var i,s=getMethod$a(t,TO_PRIMITIVE);if(s){if(void 0===e&&(e="default"),i=call$s(s,t,e),!isObject$b(i)||isSymbol$3(i))return i;throw new $TypeError$k("Can't convert object to primitive value")}return void 0===e&&(e="number"),ordinaryToPrimitive(t,e)},toPrimitive$1=toPrimitive$2,isSymbol$2=isSymbol$4,toPropertyKey$3=function(t){var e=toPrimitive$1(t,"string");return isSymbol$2(e)?e:e+""},DESCRIPTORS$g=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$r=anObject$s,toPropertyKey$2=toPropertyKey$3,$TypeError$j=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$g?V8_PROTOTYPE_DEFINE_BUG$1?function(t,e,i){if(anObject$r(t),e=toPropertyKey$2(e),anObject$r(i),"function"==typeof t&&"prototype"===e&&"value"in i&&WRITABLE in i&&!i[WRITABLE]){var s=$getOwnPropertyDescriptor$1(t,e);s&&s[WRITABLE]&&(t[e]=i.value,i={configurable:CONFIGURABLE$1 in i?i[CONFIGURABLE$1]:s[CONFIGURABLE$1],enumerable:ENUMERABLE in i?i[ENUMERABLE]:s[ENUMERABLE],writable:!1})}return $defineProperty(t,e,i)}:$defineProperty:function(t,e,i){if(anObject$r(t),e=toPropertyKey$2(e),anObject$r(i),IE8_DOM_DEFINE$1)try{return $defineProperty(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new $TypeError$j("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var path=path$1,hasOwn$h=hasOwnProperty_1,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineProperty$6=objectDefineProperty.f,wellKnownSymbolDefine=function(t){var e=path.Symbol||(path.Symbol={});hasOwn$h(e,t)||defineProperty$6(e,t,{value:wrappedWellKnownSymbolModule.f(t)})},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$4=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$4&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(t){var e=getOwnPropertyDescriptor$4(this,t);return!!e&&e.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$6=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},uncurryThis$A=functionUncurryThis,toString$a=uncurryThis$A({}.toString),stringSlice$3=uncurryThis$A("".slice),classofRaw$2=function(t){return stringSlice$3(toString$a(t),8,-1)},uncurryThis$z=functionUncurryThis,fails$n=fails$t,classof$d=classofRaw$2,$Object$2=Object,split=uncurryThis$z("".split),indexedObject=fails$n(function(){return!$Object$2("z").propertyIsEnumerable(0)})?function(t){return"String"===classof$d(t)?split(t,""):$Object$2(t)}:$Object$2,IndexedObject=indexedObject,requireObjectCoercible$7=requireObjectCoercible$9,toIndexedObject$8=function(t){return IndexedObject(requireObjectCoercible$7(t))},DESCRIPTORS$f=descriptors,call$r=functionCall,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$5=createPropertyDescriptor$6,toIndexedObject$7=toIndexedObject$8,toPropertyKey$1=toPropertyKey$3,hasOwn$g=hasOwnProperty_1,IE8_DOM_DEFINE=ie8DomDefine,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$f?$getOwnPropertyDescriptor:function(t,e){if(t=toIndexedObject$7(t),e=toPropertyKey$1(e),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(t,e)}catch(t){}if(hasOwn$g(t,e))return createPropertyDescriptor$5(!call$r(propertyIsEnumerableModule.f,t,e),t[e])};var globalThis$y=globalThis_1,defineWellKnownSymbol$1=wellKnownSymbolDefine,defineProperty$5=objectDefineProperty.f,getOwnPropertyDescriptor$3=objectGetOwnPropertyDescriptor.f,Symbol$2=globalThis$y.Symbol;if(defineWellKnownSymbol$1("asyncDispose"),Symbol$2){var descriptor$2=getOwnPropertyDescriptor$3(Symbol$2,"asyncDispose");descriptor$2.enumerable&&descriptor$2.configurable&&descriptor$2.writable&&defineProperty$5(Symbol$2,"asyncDispose",{value:descriptor$2.value,enumerable:!1,configurable:!1,writable:!1})}var globalThis$x=globalThis_1,defineWellKnownSymbol=wellKnownSymbolDefine,defineProperty$4=objectDefineProperty.f,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,Symbol$1=globalThis$x.Symbol;if(defineWellKnownSymbol("dispose"),Symbol$1){var descriptor$1=getOwnPropertyDescriptor$2(Symbol$1,"dispose");descriptor$1.enumerable&&descriptor$1.configurable&&descriptor$1.writable&&defineProperty$4(Symbol$1,"dispose",{value:descriptor$1.value,enumerable:!1,configurable:!1,writable:!1})}var DESCRIPTORS$e=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$4=createPropertyDescriptor$6,createNonEnumerableProperty$7=DESCRIPTORS$e?function(t,e,i){return definePropertyModule$4.f(t,e,createPropertyDescriptor$4(1,i))}:function(t,e,i){return t[e]=i,t},makeBuiltIn$3={exports:{}},DESCRIPTORS$d=descriptors,hasOwn$f=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$d&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$f(FunctionPrototype$1,"name"),CONFIGURABLE=EXISTS&&(!DESCRIPTORS$d||DESCRIPTORS$d&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={CONFIGURABLE:CONFIGURABLE},uncurryThis$y=functionUncurryThis,isCallable$f=isCallable$l,store$1=sharedStoreExports,functionToString=uncurryThis$y(Function.toString);isCallable$f(store$1.inspectSource)||(store$1.inspectSource=function(t){return functionToString(t)});var set$4,get$3,has$7,inspectSource$2=store$1.inspectSource,globalThis$w=globalThis_1,isCallable$e=isCallable$l,WeakMap$2=globalThis$w.WeakMap,weakMapBasicDetection=isCallable$e(WeakMap$2)&&/native code/.test(String(WeakMap$2)),shared$2=shared$4,uid$2=uid$4,keys$1=shared$2("keys"),sharedKey$3=function(t){return keys$1[t]||(keys$1[t]=uid$2(t))},hiddenKeys$4={},NATIVE_WEAK_MAP=weakMapBasicDetection,globalThis$v=globalThis_1,isObject$a=isObject$f,createNonEnumerableProperty$6=createNonEnumerableProperty$7,hasOwn$e=hasOwnProperty_1,shared$1=sharedStoreExports,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$5=globalThis$v.TypeError,WeakMap$1=globalThis$v.WeakMap,enforce=function(t){return has$7(t)?get$3(t):set$4(t,{})},getterFor=function(t){return function(e){var i;if(!isObject$a(e)||(i=get$3(e)).type!==t)throw new TypeError$5("Incompatible receiver, "+t+" required");return i}};if(NATIVE_WEAK_MAP||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$1);store.get=store.get,store.has=store.has,store.set=store.set,set$4=function(t,e){if(store.has(t))throw new TypeError$5(OBJECT_ALREADY_INITIALIZED);return e.facade=t,store.set(t,e),e},get$3=function(t){return store.get(t)||{}},has$7=function(t){return store.has(t)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$4=function(t,e){if(hasOwn$e(t,STATE))throw new TypeError$5(OBJECT_ALREADY_INITIALIZED);return e.facade=t,createNonEnumerableProperty$6(t,STATE,e),e},get$3=function(t){return hasOwn$e(t,STATE)?t[STATE]:{}},has$7=function(t){return hasOwn$e(t,STATE)}}var internalState={set:set$4,get:get$3,has:has$7,enforce:enforce,getterFor:getterFor},uncurryThis$x=functionUncurryThis,fails$m=fails$t,isCallable$d=isCallable$l,hasOwn$d=hasOwnProperty_1,DESCRIPTORS$c=descriptors,CONFIGURABLE_FUNCTION_NAME=functionName.CONFIGURABLE,inspectSource$1=inspectSource$2,InternalStateModule$5=internalState,enforceInternalState$1=InternalStateModule$5.enforce,getInternalState$2=InternalStateModule$5.get,$String$3=String,defineProperty$3=Object.defineProperty,stringSlice$2=uncurryThis$x("".slice),replace$1=uncurryThis$x("".replace),join$2=uncurryThis$x([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$c&&!fails$m(function(){return 8!==defineProperty$3(function(){},"length",{value:8}).length}),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(t,e,i){"Symbol("===stringSlice$2($String$3(e),0,7)&&(e="["+replace$1($String$3(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!hasOwn$d(t,"name")||CONFIGURABLE_FUNCTION_NAME&&t.name!==e)&&(DESCRIPTORS$c?defineProperty$3(t,"name",{value:e,configurable:!0}):t.name=e),CONFIGURABLE_LENGTH&&i&&hasOwn$d(i,"arity")&&t.length!==i.arity&&defineProperty$3(t,"length",{value:i.arity});try{i&&hasOwn$d(i,"constructor")&&i.constructor?DESCRIPTORS$c&&defineProperty$3(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var s=enforceInternalState$1(t);return hasOwn$d(s,"source")||(s.source=join$2(TEMPLATE,"string"==typeof e?e:"")),t};Function.prototype.toString=makeBuiltIn$2(function(){return isCallable$d(this)&&getInternalState$2(this).source||inspectSource$1(this)},"toString");var makeBuiltInExports=makeBuiltIn$3.exports,isCallable$c=isCallable$l,definePropertyModule$3=objectDefineProperty,makeBuiltIn$1=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$b=function(t,e,i,s){s||(s={});var n=s.enumerable,B=void 0!==s.name?s.name:e;if(isCallable$c(i)&&makeBuiltIn$1(i,B,s),s.global)n?t[e]=i:defineGlobalProperty$1(e,i);else{try{s.unsafe?t[e]&&(n=!0):delete t[e]}catch(t){}n?t[e]=i:definePropertyModule$3.f(t,e,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t},objectGetOwnPropertyNames={},ceil$1=Math.ceil,floor=Math.floor,mathTrunc=Math.trunc||function(t){var e=+t;return(e>0?floor:ceil$1)(e)},trunc=mathTrunc,toIntegerOrInfinity$9=function(t){var e=+t;return e!=e||0===e?0:trunc(e)},toIntegerOrInfinity$8=toIntegerOrInfinity$9,max$3=Math.max,min$6=Math.min,toAbsoluteIndex$2=function(t,e){var i=toIntegerOrInfinity$8(t);return i<0?max$3(i+e,0):min$6(i,e)},toIntegerOrInfinity$7=toIntegerOrInfinity$9,min$5=Math.min,toLength$3=function(t){var e=toIntegerOrInfinity$7(t);return e>0?min$5(e,9007199254740991):0},toLength$2=toLength$3,lengthOfArrayLike$8=function(t){return toLength$2(t.length)},toIndexedObject$6=toIndexedObject$8,toAbsoluteIndex$1=toAbsoluteIndex$2,lengthOfArrayLike$7=lengthOfArrayLike$8,createMethod$2=function(t){return function(e,i,s){var n=toIndexedObject$6(e),B=lengthOfArrayLike$7(n);if(0===B)return!t&&-1;var l,a=toAbsoluteIndex$1(s,B);if(t&&i!=i){for(;B>a;)if((l=n[a++])!=l)return!0}else for(;B>a;a++)if((t||a in n)&&n[a]===i)return t||a||0;return!t&&-1}},arrayIncludes={indexOf:createMethod$2(!1)},uncurryThis$w=functionUncurryThis,hasOwn$c=hasOwnProperty_1,toIndexedObject$5=toIndexedObject$8,indexOf$1=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$7=uncurryThis$w([].push),objectKeysInternal=function(t,e){var i,s=toIndexedObject$5(t),n=0,B=[];for(i in s)!hasOwn$c(hiddenKeys$2,i)&&hasOwn$c(s,i)&&push$7(B,i);for(;e.length>n;)hasOwn$c(s,i=e[n++])&&(~indexOf$1(B,i)||push$7(B,i));return B},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(t){return internalObjectKeys$1(t,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$h=getBuiltIn$j,uncurryThis$v=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$q=anObject$s,concat=uncurryThis$v([].concat),ownKeys$1=getBuiltIn$h("Reflect","ownKeys")||function(t){var e=getOwnPropertyNamesModule.f(anObject$q(t)),i=getOwnPropertySymbolsModule.f;return i?concat(e,i(t)):e},hasOwn$b=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$2=objectDefineProperty,copyConstructorProperties$2=function(t,e,i){for(var s=ownKeys(e),n=definePropertyModule$2.f,B=getOwnPropertyDescriptorModule.f,l=0;l<s.length;l++){var a=s[l];hasOwn$b(t,a)||i&&hasOwn$b(i,a)||n(t,a,B(e,a))}},fails$l=fails$t,isCallable$b=isCallable$l,replacement=/#|\.prototype\./,isForced$1=function(t,e){var i=data$1[normalize$1(t)];return i===POLYFILL||i!==NATIVE&&(isCallable$b(e)?fails$l(e):!!e)},normalize$1=isForced$1.normalize=function(t){return String(t).replace(replacement,".").toLowerCase()},data$1=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,globalThis$u=globalThis_1,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$5=createNonEnumerableProperty$7,defineBuiltIn$a=defineBuiltIn$b,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$1=copyConstructorProperties$2,isForced=isForced_1,_export=function(t,e){var i,s,n,B,l,a=t.target,c=t.global,F=t.stat;if(i=c?globalThis$u:F?globalThis$u[a]||defineGlobalProperty(a,{}):globalThis$u[a]&&globalThis$u[a].prototype)for(s in e){if(B=e[s],n=t.dontCallGetSet?(l=getOwnPropertyDescriptor$1(i,s))&&l.value:i[s],!isForced(c?s:a+(F?".":"#")+s,t.forced)&&void 0!==n){if(typeof B==typeof n)continue;copyConstructorProperties$1(B,n)}(t.sham||n&&n.sham)&&createNonEnumerableProperty$5(B,"sham",!0),defineBuiltIn$a(i,s,B,t)}},wellKnownSymbol$i=wellKnownSymbol$l,TO_STRING_TAG$7=wellKnownSymbol$i("toStringTag"),test={};test[TO_STRING_TAG$7]="z";var toStringTagSupport="[object z]"===String(test),TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$a=isCallable$l,classofRaw$1=classofRaw$2,wellKnownSymbol$h=wellKnownSymbol$l,TO_STRING_TAG$6=wellKnownSymbol$h("toStringTag"),$Object$1=Object,CORRECT_ARGUMENTS="Arguments"===classofRaw$1(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}},classof$c=TO_STRING_TAG_SUPPORT?classofRaw$1:function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=tryGet(e=$Object$1(t),TO_STRING_TAG$6))?i:CORRECT_ARGUMENTS?classofRaw$1(e):"Object"===(s=classofRaw$1(e))&&isCallable$a(e.callee)?"Arguments":s},$$T=_export,getBuiltIn$g=getBuiltIn$j,isObject$9=isObject$f,classof$b=classof$c,fails$k=fails$t,ERROR="Error",DOM_EXCEPTION$1="DOMException",PROTOTYPE_SETTING_AVAILABLE=Object.setPrototypeOf||{}.__proto__,DOMException$1=getBuiltIn$g(DOM_EXCEPTION$1),$Error$2=Error,$isError=$Error$2.isError,FORCED$c=!$isError||!PROTOTYPE_SETTING_AVAILABLE||fails$k(function(){return DOMException$1&&!$isError(new DOMException$1(DOM_EXCEPTION$1))||!$isError(new $Error$2(ERROR,{cause:function(){}}))||$isError(getBuiltIn$g("Object","create")($Error$2.prototype))});$$T({target:"Error",stat:!0,sham:!0,forced:FORCED$c},{isError:function(t){if(!isObject$9(t))return!1;var e=classof$b(t);return e===ERROR||e===DOM_EXCEPTION$1}});var fails$j=fails$t,correctPrototypeGetter=!fails$j(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),hasOwn$a=hasOwnProperty_1,isCallable$9=isCallable$l,toObject$3=toObject$5,sharedKey$1=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO$1=sharedKey$1("IE_PROTO"),$Object=Object,ObjectPrototype$1=$Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(t){var e=toObject$3(t);if(hasOwn$a(e,IE_PROTO$1))return e[IE_PROTO$1];var i=e.constructor;return isCallable$9(i)&&e instanceof i?i.prototype:e instanceof $Object?ObjectPrototype$1:null},uncurryThis$u=functionUncurryThis,aCallable$l=aCallable$n,functionUncurryThisAccessor=function(t,e,i){try{return uncurryThis$u(aCallable$l(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},isObject$8=isObject$f,isPossiblePrototype$1=function(t){return isObject$8(t)||null===t},isPossiblePrototype=isPossiblePrototype$1,$String$2=String,$TypeError$i=TypeError,aPossiblePrototype$1=function(t){if(isPossiblePrototype(t))return t;throw new $TypeError$i("Can't set "+$String$2(t)+" as a prototype")},uncurryThisAccessor$3=functionUncurryThisAccessor,isObject$7=isObject$f,requireObjectCoercible$6=requireObjectCoercible$9,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=uncurryThisAccessor$3(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,s){return requireObjectCoercible$6(i),aPossiblePrototype(s),isObject$7(i)?(e?t(i,s):i.__proto__=s,i):i}}():void 0),objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$2=Object.keys||function(t){return internalObjectKeys(t,enumBugKeys$1)},DESCRIPTORS$b=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$1=objectDefineProperty,anObject$p=anObject$s,toIndexedObject$4=toIndexedObject$8,objectKeys$1=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$b&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(t,e){anObject$p(t);for(var i,s=toIndexedObject$4(e),n=objectKeys$1(e),B=n.length,l=0;B>l;)definePropertyModule$1.f(t,i=n[l++],s[i]);return t};var activeXDocument,getBuiltIn$f=getBuiltIn$j,html$2=getBuiltIn$f("document","documentElement"),anObject$o=anObject$s,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement=documentCreateElement$1,sharedKey=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return LT+SCRIPT+GT+t+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e},NullProtoObjectViaIFrame=function(){var t,e=documentCreateElement("iframe"),i="java"+SCRIPT+":";return e.style.display="none",html$1.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(t){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var t=enumBugKeys.length;t--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[t]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0;var objectCreate=Object.create||function(t,e){var i;return null!==t?(EmptyConstructor[PROTOTYPE]=anObject$o(t),i=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,i[IE_PROTO]=t):i=NullProtoObject(),void 0===e?i:definePropertiesModule.f(i,e)},uncurryThis$t=functionUncurryThis,$Error$1=Error,replace=uncurryThis$t("".replace),TEST=String(new $Error$1("zxcasd").stack),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(t,e){if(IS_V8_OR_CHAKRA_STACK&&"string"==typeof t&&!$Error$1.prepareStackTrace)for(;e--;)t=replace(t,V8_OR_CHAKRA_STACK_ENTRY,"");return t},fails$i=fails$t,createPropertyDescriptor$3=createPropertyDescriptor$6,errorStackInstallable=!fails$i(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",createPropertyDescriptor$3(1,7)),7!==t.stack)}),createNonEnumerableProperty$4=createNonEnumerableProperty$7,clearErrorStack$1=errorStackClear,ERROR_STACK_INSTALLABLE$1=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(t,e,i,s){ERROR_STACK_INSTALLABLE$1&&(captureStackTrace?captureStackTrace(t,e):createNonEnumerableProperty$4(t,"stack",clearErrorStack$1(i,s)))},classof$a=classof$c,$String$1=String,toString$9=function(t){if("Symbol"===classof$a(t))throw new TypeError("Cannot convert a Symbol value to a string");return $String$1(t)},toString$8=toString$9,normalizeStringArgument$2=function(t,e){return void 0===t?arguments.length<2?"":e:toString$8(t)},$$S=_export,globalThis$t=globalThis_1,isPrototypeOf$4=objectIsPrototypeOf,getPrototypeOf$4=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,copyConstructorProperties=copyConstructorProperties$2,create$6=objectCreate,createNonEnumerableProperty$3=createNonEnumerableProperty$7,createPropertyDescriptor$2=createPropertyDescriptor$6,installErrorStack=errorStackInstall,normalizeStringArgument$1=normalizeStringArgument$2,wellKnownSymbol$g=wellKnownSymbol$l,fails$h=fails$t,NativeSuppressedError=globalThis$t.SuppressedError,TO_STRING_TAG$5=wellKnownSymbol$g("toStringTag"),$Error=Error,WRONG_ARITY$1=!!NativeSuppressedError&&3!==NativeSuppressedError.length,EXTRA_ARGS_SUPPORT=!!NativeSuppressedError&&fails$h(function(){return 4===new NativeSuppressedError(1,2,3,{cause:4}).cause}),PATCH=WRONG_ARITY$1||EXTRA_ARGS_SUPPORT,$SuppressedError=function(t,e,i){var s,n=isPrototypeOf$4(SuppressedErrorPrototype,this);return setPrototypeOf$2?s=!PATCH||n&&getPrototypeOf$4(this)!==SuppressedErrorPrototype?setPrototypeOf$2(new $Error,n?getPrototypeOf$4(this):SuppressedErrorPrototype):new NativeSuppressedError:(s=n?this:create$6(SuppressedErrorPrototype),createNonEnumerableProperty$3(s,TO_STRING_TAG$5,"Error")),void 0!==i&&createNonEnumerableProperty$3(s,"message",normalizeStringArgument$1(i)),installErrorStack(s,$SuppressedError,s.stack,1),createNonEnumerableProperty$3(s,"error",t),createNonEnumerableProperty$3(s,"suppressed",e),s};setPrototypeOf$2?setPrototypeOf$2($SuppressedError,$Error):copyConstructorProperties($SuppressedError,$Error,{name:!0});var SuppressedErrorPrototype=$SuppressedError.prototype=PATCH?NativeSuppressedError.prototype:create$6($Error.prototype,{constructor:createPropertyDescriptor$2(1,$SuppressedError),message:createPropertyDescriptor$2(1,""),name:createPropertyDescriptor$2(1,"SuppressedError")});PATCH&&(SuppressedErrorPrototype.constructor=$SuppressedError),$$S({global:!0,constructor:!0,arity:3,forced:PATCH},{SuppressedError:$SuppressedError});var classof$9=classofRaw$2,isArray$2=Array.isArray||function(t){return"Array"===classof$9(t)},DESCRIPTORS$a=descriptors,isArray$1=isArray$2,$TypeError$h=TypeError,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(t,e){if(isArray$1(t)&&!getOwnPropertyDescriptor(t,"length").writable)throw new $TypeError$h("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},$TypeError$g=TypeError,MAX_SAFE_INTEGER$1=9007199254740991,doesNotExceedSafeInteger$3=function(t){if(t>MAX_SAFE_INTEGER$1)throw $TypeError$g("Maximum allowed index exceeded");return t},$$R=_export,toObject$2=toObject$5,lengthOfArrayLike$6=lengthOfArrayLike$8,setArrayLength=arraySetLength,doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$3,fails$g=fails$t,INCORRECT_TO_LENGTH=fails$g(function(){return 4294967297!==[].push.call({length:4294967296},1)}),properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},FORCED$b=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength();$$R({target:"Array",proto:!0,arity:1,forced:FORCED$b},{push:function(t){var e=toObject$2(this),i=lengthOfArrayLike$6(e),s=arguments.length;doesNotExceedSafeInteger$2(i+s);for(var n=0;n<s;n++)e[i]=arguments[n],i++;return setArrayLength(e,i),i}});var lengthOfArrayLike$5=lengthOfArrayLike$8,arrayToReversed$2=function(t,e){for(var i=lengthOfArrayLike$5(t),s=new e(i),n=0;n<i;n++)s[n]=t[i-n-1];return s},wellKnownSymbol$f=wellKnownSymbol$l,create$5=objectCreate,defineProperty$2=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$f("unscopables"),ArrayPrototype$1=Array.prototype;void 0===ArrayPrototype$1[UNSCOPABLES]&&defineProperty$2(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$5(null)});var addToUnscopables$3=function(t){ArrayPrototype$1[UNSCOPABLES][t]=!0},$$Q=_export,arrayToReversed$1=arrayToReversed$2,toIndexedObject$3=toIndexedObject$8,addToUnscopables$2=addToUnscopables$3,$Array$5=Array;$$Q({target:"Array",proto:!0},{toReversed:function(){return arrayToReversed$1(toIndexedObject$3(this),$Array$5)}}),addToUnscopables$2("toReversed");var lengthOfArrayLike$4=lengthOfArrayLike$8,arrayFromConstructorAndList$3=function(t,e,i){for(var s=0,n=arguments.length>2?i:lengthOfArrayLike$4(e),B=new t(n);n>s;)B[s]=e[s++];return B},globalThis$s=globalThis_1,getBuiltInPrototypeMethod$2=function(t,e){var i=globalThis$s[t],s=i&&i.prototype;return s&&s[e]},$$P=_export,uncurryThis$s=functionUncurryThis,aCallable$k=aCallable$n,toIndexedObject$2=toIndexedObject$8,arrayFromConstructorAndList$2=arrayFromConstructorAndList$3,getBuiltInPrototypeMethod$1=getBuiltInPrototypeMethod$2,addToUnscopables$1=addToUnscopables$3,$Array$4=Array,sort$3=uncurryThis$s(getBuiltInPrototypeMethod$1("Array","sort"));$$P({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&aCallable$k(t);var e=toIndexedObject$2(this),i=arrayFromConstructorAndList$2($Array$4,e);return sort$3(i,t)}}),addToUnscopables$1("toSorted");var $$O=_export,addToUnscopables=addToUnscopables$3,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$3,lengthOfArrayLike$3=lengthOfArrayLike$8,toAbsoluteIndex=toAbsoluteIndex$2,toIndexedObject$1=toIndexedObject$8,toIntegerOrInfinity$6=toIntegerOrInfinity$9,$Array$3=Array,max$2=Math.max,min$4=Math.min;$$O({target:"Array",proto:!0},{toSpliced:function(t,e){var i,s,n,B,l=toIndexedObject$1(this),a=lengthOfArrayLike$3(l),c=toAbsoluteIndex(t,a),F=arguments.length,Q=0;for(0===F?i=s=0:1===F?(i=0,s=a-c):(i=F-2,s=min$4(max$2(toIntegerOrInfinity$6(e),0),a-c)),n=doesNotExceedSafeInteger$1(a+i-s),B=$Array$3(n);Q<c;Q++)B[Q]=l[Q];for(;Q<c+i;Q++)B[Q]=arguments[Q-c+2];for(;Q<n;Q++)B[Q]=l[Q+s-i];return B}}),addToUnscopables("toSpliced");var lengthOfArrayLike$2=lengthOfArrayLike$8,toIntegerOrInfinity$5=toIntegerOrInfinity$9,$RangeError$6=RangeError,arrayWith$2=function(t,e,i,s){var n=lengthOfArrayLike$2(t),B=toIntegerOrInfinity$5(i),l=B<0?n+B:B;if(l>=n||l<0)throw new $RangeError$6("Incorrect index");for(var a=new e(n),c=0;c<n;c++)a[c]=c===l?s:t[c];return a},$$N=_export,arrayWith$1=arrayWith$2,toIndexedObject=toIndexedObject$8,$Array$2=Array,INCORRECT_EXCEPTION_ON_COERCION_FAIL=function(){try{[].with({valueOf:function(){throw 4}},null)}catch(t){return 4!==t}}();$$N({target:"Array",proto:!0,forced:INCORRECT_EXCEPTION_ON_COERCION_FAIL},{with:function(t,e){return arrayWith$1(toIndexedObject(this),$Array$2,t,e)}});var $$M=_export,uncurryThis$r=functionUncurryThis,pow$4=Math.pow,EXP_MASK16=31,SIGNIFICAND_MASK16=1023,MIN_SUBNORMAL16=pow$4(2,-24),SIGNIFICAND_DENOM16=.0009765625,unpackFloat16=function(t){var e=t>>>15,i=t>>>10&EXP_MASK16,s=t&SIGNIFICAND_MASK16;return i===EXP_MASK16?0===s?0===e?1/0:-1/0:NaN:0===i?s*(0===e?MIN_SUBNORMAL16:-MIN_SUBNORMAL16):pow$4(2,i-15)*(0===e?1+s*SIGNIFICAND_DENOM16:-1-s*SIGNIFICAND_DENOM16)},getUint16=uncurryThis$r(DataView.prototype.getUint16);$$M({target:"DataView",proto:!0},{getFloat16:function(t){return unpackFloat16(getUint16(this,t,arguments.length>1&&arguments[1]))}});var classof$8=classof$c,$TypeError$f=TypeError,aDataView$1=function(t){if("DataView"===classof$8(t))return t;throw new $TypeError$f("Argument is not a DataView")},toIntegerOrInfinity$4=toIntegerOrInfinity$9,toLength$1=toLength$3,$RangeError$5=RangeError,toIndex$2=function(t){if(void 0===t)return 0;var e=toIntegerOrInfinity$4(t),i=toLength$1(e);if(e!==i)throw new $RangeError$5("Wrong length or index");return i},log$2=Math.log,LN2=Math.LN2,mathLog2=Math.log2||function(t){return log$2(t)/LN2},EPSILON$1=2220446049250313e-31,INVERSE_EPSILON=1/EPSILON$1,mathRoundTiesToEven=function(t){return t+INVERSE_EPSILON-INVERSE_EPSILON},$$L=_export,uncurryThis$q=functionUncurryThis,aDataView=aDataView$1,toIndex$1=toIndex$2,log2=mathLog2,roundTiesToEven$1=mathRoundTiesToEven,pow$3=Math.pow,MIN_INFINITY16=65520,MIN_NORMAL16=61005353927612305e-21,REC_MIN_SUBNORMAL16=16777216,REC_SIGNIFICAND_DENOM16=1024,packFloat16=function(t){if(t!=t)return 32256;if(0===t)return(1/t==-1/0)<<15;var e=t<0;if(e&&(t=-t),t>=MIN_INFINITY16)return e<<15|31744;if(t<MIN_NORMAL16)return e<<15|roundTiesToEven$1(t*REC_MIN_SUBNORMAL16);var i=0|log2(t);if(-15===i)return e<<15|REC_SIGNIFICAND_DENOM16;var s=roundTiesToEven$1((t*pow$3(2,-i)-1)*REC_SIGNIFICAND_DENOM16);return s===REC_SIGNIFICAND_DENOM16?e<<15|i+16<<10:e<<15|i+15<<10|s},setUint16=uncurryThis$q(DataView.prototype.setUint16);$$L({target:"DataView",proto:!0},{setFloat16:function(t,e){setUint16(aDataView(this),toIndex$1(t),packFloat16(+e),arguments.length>2&&arguments[2])}});var makeBuiltIn=makeBuiltInExports,defineProperty$1=objectDefineProperty,defineBuiltInAccessor$7=function(t,e,i){return i.get&&makeBuiltIn(i.get,e,{getter:!0}),i.set&&makeBuiltIn(i.set,e,{setter:!0}),defineProperty$1.f(t,e,i)},arrayBufferBasicDetection="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,globalThis$r=globalThis_1,uncurryThisAccessor$2=functionUncurryThisAccessor,classof$7=classofRaw$2,ArrayBuffer$2=globalThis$r.ArrayBuffer,TypeError$4=globalThis$r.TypeError,arrayBufferByteLength$2=ArrayBuffer$2&&uncurryThisAccessor$2(ArrayBuffer$2.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==classof$7(t))throw new TypeError$4("ArrayBuffer expected");return t.byteLength},globalThis$q=globalThis_1,NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,arrayBufferByteLength$1=arrayBufferByteLength$2,DataView$2=globalThis$q.DataView,arrayBufferIsDetached=function(t){if(!NATIVE_ARRAY_BUFFER$1||0!==arrayBufferByteLength$1(t))return!1;try{return new DataView$2(t),!1}catch(t){return!0}},DESCRIPTORS$9=descriptors,defineBuiltInAccessor$6=defineBuiltInAccessor$7,isDetached$1=arrayBufferIsDetached,ArrayBufferPrototype$1=ArrayBuffer.prototype;DESCRIPTORS$9&&!("detached"in ArrayBufferPrototype$1)&&defineBuiltInAccessor$6(ArrayBufferPrototype$1,"detached",{configurable:!0,get:function(){return isDetached$1(this)}});var WorkerThreads,channel$1,buffer,$detach,isDetached=arrayBufferIsDetached,$TypeError$e=TypeError,arrayBufferNotDetached=function(t){if(isDetached(t))throw new $TypeError$e("ArrayBuffer is detached");return t},globalThis$p=globalThis_1,userAgent$1=environmentUserAgent,classof$6=classofRaw$2,userAgentStartsWith=function(t){return userAgent$1.slice(0,t.length)===t},environment=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":globalThis$p.Bun&&"string"==typeof Bun.version?"BUN":globalThis$p.Deno&&"object"==typeof Deno.version?"DENO":"process"===classof$6(globalThis$p.process)?"NODE":globalThis$p.window&&globalThis$p.document?"BROWSER":"REST",ENVIRONMENT$2=environment,environmentIsNode="NODE"===ENVIRONMENT$2,globalThis$o=globalThis_1,IS_NODE$1=environmentIsNode,getBuiltInNodeModule$1=function(t){if(IS_NODE$1){try{return globalThis$o.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}},globalThis$n=globalThis_1,fails$f=fails$t,V8=environmentV8Version,ENVIRONMENT$1=environment,structuredClone$2=globalThis$n.structuredClone,structuredCloneProperTransfer=!!structuredClone$2&&!fails$f(function(){if("DENO"===ENVIRONMENT$1&&V8>92||"NODE"===ENVIRONMENT$1&&V8>94||"BROWSER"===ENVIRONMENT$1&&V8>97)return!1;var t=new ArrayBuffer(8),e=structuredClone$2(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}),globalThis$m=globalThis_1,getBuiltInNodeModule=getBuiltInNodeModule$1,PROPER_STRUCTURED_CLONE_TRANSFER$2=structuredCloneProperTransfer,structuredClone$1=globalThis$m.structuredClone,$ArrayBuffer=globalThis$m.ArrayBuffer,$MessageChannel=globalThis$m.MessageChannel,detach=!1;if(PROPER_STRUCTURED_CLONE_TRANSFER$2)detach=function(t){structuredClone$1(t,{transfer:[t]})};else if($ArrayBuffer)try{$MessageChannel||(WorkerThreads=getBuiltInNodeModule("worker_threads"))&&($MessageChannel=WorkerThreads.MessageChannel),$MessageChannel&&(channel$1=new $MessageChannel,buffer=new $ArrayBuffer(2),$detach=function(t){channel$1.port1.postMessage(null,[t])},2===buffer.byteLength&&($detach(buffer),0===buffer.byteLength&&(detach=$detach)))}catch(t){}var detachTransferable$2=detach,globalThis$l=globalThis_1,uncurryThis$p=functionUncurryThis,uncurryThisAccessor$1=functionUncurryThisAccessor,toIndex=toIndex$2,notDetached$4=arrayBufferNotDetached,arrayBufferByteLength=arrayBufferByteLength$2,detachTransferable$1=detachTransferable$2,PROPER_STRUCTURED_CLONE_TRANSFER$1=structuredCloneProperTransfer,structuredClone=globalThis$l.structuredClone,ArrayBuffer$1=globalThis$l.ArrayBuffer,DataView$1=globalThis$l.DataView,min$3=Math.min,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataViewPrototype=DataView$1.prototype,slice$2=uncurryThis$p(ArrayBufferPrototype.slice),isResizable=uncurryThisAccessor$1(ArrayBufferPrototype,"resizable","get"),maxByteLength=uncurryThisAccessor$1(ArrayBufferPrototype,"maxByteLength","get"),getInt8=uncurryThis$p(DataViewPrototype.getInt8),setInt8=uncurryThis$p(DataViewPrototype.setInt8),arrayBufferTransfer=(PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1)&&function(t,e,i){var s,n=arrayBufferByteLength(t),B=void 0===e?n:toIndex(e),l=!isResizable||!isResizable(t);if(notDetached$4(t),PROPER_STRUCTURED_CLONE_TRANSFER$1&&(t=structuredClone(t,{transfer:[t]}),n===B&&(i||l)))return t;if(n>=B&&(!i||l))s=slice$2(t,0,B);else{var a=i&&!l&&maxByteLength?{maxByteLength:maxByteLength(t)}:void 0;s=new ArrayBuffer$1(B,a);for(var c=new DataView$1(t),F=new DataView$1(s),Q=min$3(B,n),r=0;r<Q;r++)setInt8(F,r,getInt8(c,r))}return PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1(t),s},$$K=_export,$transfer$1=arrayBufferTransfer;$transfer$1&&$$K({target:"ArrayBuffer",proto:!0},{transfer:function(){return $transfer$1(this,arguments.length?arguments[0]:void 0,!0)}});var $$J=_export,$transfer=arrayBufferTransfer;$transfer&&$$J({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return $transfer(this,arguments.length?arguments[0]:void 0,!1)}});var isPrototypeOf$3=objectIsPrototypeOf,$TypeError$d=TypeError,anInstance$4=function(t,e){if(isPrototypeOf$3(e,t))return t;throw new $TypeError$d("Incorrect invocation")},defineBuiltIn$9=defineBuiltIn$b,defineBuiltIns$4=function(t,e,i){for(var s in e)defineBuiltIn$9(t,s,e[s],i);return t},classofRaw=classofRaw$2,uncurryThis$o=functionUncurryThis,functionUncurryThisClause=function(t){if("Function"===classofRaw(t))return uncurryThis$o(t)},uncurryThis$n=functionUncurryThisClause,aCallable$j=aCallable$n,NATIVE_BIND$1=functionBindNative,bind$4=functionUncurryThisClause(functionUncurryThisClause.bind),functionBindContext=function(t,e){return aCallable$j(t),void 0===e?t:NATIVE_BIND$1?bind$4(t,e):function(){return t.apply(e,arguments)}},getBuiltIn$e=getBuiltIn$j,call$q=functionCall,uncurryThis$m=functionUncurryThis,bind$3=functionBindContext,anObject$n=anObject$s,aCallable$i=aCallable$n,isNullOrUndefined$2=isNullOrUndefined$5,getMethod$9=getMethod$b,wellKnownSymbol$e=wellKnownSymbol$l,ASYNC_DISPOSE$2=wellKnownSymbol$e("asyncDispose"),DISPOSE$2=wellKnownSymbol$e("dispose"),push$6=uncurryThis$m([].push),getDisposeMethod=function(t,e){if("async-dispose"===e){var i=getMethod$9(t,ASYNC_DISPOSE$2);return void 0!==i||void 0===(i=getMethod$9(t,DISPOSE$2))?i:function(){var t=this;return new(getBuiltIn$e("Promise"))(function(e){call$q(i,t),e(void 0)})}}return getMethod$9(t,DISPOSE$2)},createDisposableResource=function(t,e,i){return arguments.length<3&&!isNullOrUndefined$2(t)&&(i=aCallable$i(getDisposeMethod(anObject$n(t),e))),void 0===i?function(){}:bind$3(i,t)},addDisposableResource$2=function(t,e,i,s){var n;if(arguments.length<4){if(isNullOrUndefined$2(e)&&"sync-dispose"===i)return;n=createDisposableResource(e,i)}else n=createDisposableResource(void 0,i,s);push$6(t.stack,n)},$$I=_export,DESCRIPTORS$8=descriptors,getBuiltIn$d=getBuiltIn$j,aCallable$h=aCallable$n,anInstance$3=anInstance$4,defineBuiltIn$8=defineBuiltIn$b,defineBuiltIns$3=defineBuiltIns$4,defineBuiltInAccessor$5=defineBuiltInAccessor$7,wellKnownSymbol$d=wellKnownSymbol$l,InternalStateModule$4=internalState,addDisposableResource$1=addDisposableResource$2,SuppressedError$1=getBuiltIn$d("SuppressedError"),$ReferenceError$1=ReferenceError,DISPOSE$1=wellKnownSymbol$d("dispose"),TO_STRING_TAG$4=wellKnownSymbol$d("toStringTag"),DISPOSABLE_STACK="DisposableStack",setInternalState$3=InternalStateModule$4.set,getDisposableStackInternalState=InternalStateModule$4.getterFor(DISPOSABLE_STACK),HINT$1="sync-dispose",DISPOSED$1="disposed",PENDING$1="pending",getPendingDisposableStackInternalState=function(t){var e=getDisposableStackInternalState(t);if(e.state===DISPOSED$1)throw new $ReferenceError$1(DISPOSABLE_STACK+" already disposed");return e},$DisposableStack=function(){setInternalState$3(anInstance$3(this,DisposableStackPrototype),{type:DISPOSABLE_STACK,state:PENDING$1,stack:[]}),DESCRIPTORS$8||(this.disposed=!1)},DisposableStackPrototype=$DisposableStack.prototype;defineBuiltIns$3(DisposableStackPrototype,{dispose:function(){var t=getDisposableStackInternalState(this);if(t.state!==DISPOSED$1){t.state=DISPOSED$1,DESCRIPTORS$8||(this.disposed=!0);for(var e,i=t.stack,s=i.length,n=!1;s;){var B=i[--s];i[s]=null;try{B()}catch(t){n?e=new SuppressedError$1(t,e):(n=!0,e=t)}}if(t.stack=null,n)throw e}},use:function(t){return addDisposableResource$1(getPendingDisposableStackInternalState(this),t,HINT$1),t},adopt:function(t,e){var i=getPendingDisposableStackInternalState(this);return aCallable$h(e),addDisposableResource$1(i,void 0,HINT$1,function(){e(t)}),t},defer:function(t){var e=getPendingDisposableStackInternalState(this);aCallable$h(t),addDisposableResource$1(e,void 0,HINT$1,t)},move:function(){var t=getPendingDisposableStackInternalState(this),e=new $DisposableStack;return getDisposableStackInternalState(e).stack=t.stack,t.stack=[],t.state=DISPOSED$1,DESCRIPTORS$8||(this.disposed=!0),e}}),DESCRIPTORS$8&&defineBuiltInAccessor$5(DisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getDisposableStackInternalState(this).state===DISPOSED$1}}),defineBuiltIn$8(DisposableStackPrototype,DISPOSE$1,DisposableStackPrototype.dispose,{name:"dispose"}),defineBuiltIn$8(DisposableStackPrototype,TO_STRING_TAG$4,DISPOSABLE_STACK,{nonWritable:!0}),$$I({global:!0,constructor:!0},{DisposableStack:$DisposableStack});var IteratorPrototype$4,PrototypeOfArrayIteratorPrototype,arrayIterator$1,DESCRIPTORS$7=descriptors,definePropertyModule=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$6,createProperty$3=function(t,e,i){DESCRIPTORS$7?definePropertyModule.f(t,e,createPropertyDescriptor$1(0,i)):t[e]=i},fails$e=fails$t,isCallable$8=isCallable$l,isObject$6=isObject$f,getPrototypeOf$3=objectGetPrototypeOf,defineBuiltIn$7=defineBuiltIn$b,wellKnownSymbol$c=wellKnownSymbol$l,ITERATOR$4=wellKnownSymbol$c("iterator");[].keys&&"next"in(arrayIterator$1=[].keys())&&(PrototypeOfArrayIteratorPrototype=getPrototypeOf$3(getPrototypeOf$3(arrayIterator$1)))!==Object.prototype&&(IteratorPrototype$4=PrototypeOfArrayIteratorPrototype);var NEW_ITERATOR_PROTOTYPE=!isObject$6(IteratorPrototype$4)||fails$e(function(){var t={};return IteratorPrototype$4[ITERATOR$4].call(t)!==t});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$4={}),isCallable$8(IteratorPrototype$4[ITERATOR$4])||defineBuiltIn$7(IteratorPrototype$4,ITERATOR$4,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$4},$$H=_export,globalThis$k=globalThis_1,anInstance$2=anInstance$4,anObject$m=anObject$s,isCallable$7=isCallable$l,getPrototypeOf$2=objectGetPrototypeOf,defineBuiltInAccessor$4=defineBuiltInAccessor$7,createProperty$2=createProperty$3,fails$d=fails$t,hasOwn$9=hasOwnProperty_1,wellKnownSymbol$b=wellKnownSymbol$l,IteratorPrototype$3=iteratorsCore.IteratorPrototype,DESCRIPTORS$6=descriptors,CONSTRUCTOR="constructor",ITERATOR$3="Iterator",TO_STRING_TAG$3=wellKnownSymbol$b("toStringTag"),$TypeError$c=TypeError,NativeIterator=globalThis$k[ITERATOR$3],FORCED$a=!isCallable$7(NativeIterator)||NativeIterator.prototype!==IteratorPrototype$3||!fails$d(function(){NativeIterator({})}),IteratorConstructor=function(){if(anInstance$2(this,IteratorPrototype$3),getPrototypeOf$2(this)===IteratorPrototype$3)throw new $TypeError$c("Abstract class Iterator not directly constructable")},defineIteratorPrototypeAccessor=function(t,e){DESCRIPTORS$6?defineBuiltInAccessor$4(IteratorPrototype$3,t,{configurable:!0,get:function(){return e},set:function(e){if(anObject$m(this),this===IteratorPrototype$3)throw new $TypeError$c("You can't redefine this property");hasOwn$9(this,t)?this[t]=e:createProperty$2(this,t,e)}}):IteratorPrototype$3[t]=e};hasOwn$9(IteratorPrototype$3,TO_STRING_TAG$3)||defineIteratorPrototypeAccessor(TO_STRING_TAG$3,ITERATOR$3),!FORCED$a&&hasOwn$9(IteratorPrototype$3,CONSTRUCTOR)&&IteratorPrototype$3[CONSTRUCTOR]!==Object||defineIteratorPrototypeAccessor(CONSTRUCTOR,IteratorConstructor),IteratorConstructor.prototype=IteratorPrototype$3,$$H({global:!0,constructor:!0,forced:FORCED$a},{Iterator:IteratorConstructor});var call$p=functionCall,defineBuiltIn$6=defineBuiltIn$b,getMethod$8=getMethod$b,hasOwn$8=hasOwnProperty_1,wellKnownSymbol$a=wellKnownSymbol$l,IteratorPrototype$2=iteratorsCore.IteratorPrototype,DISPOSE=wellKnownSymbol$a("dispose");hasOwn$8(IteratorPrototype$2,DISPOSE)||defineBuiltIn$6(IteratorPrototype$2,DISPOSE,function(){var t=getMethod$8(this,"return");t&&call$p(t,this)});var getIteratorDirect$g=function(t){return{iterator:t,next:t.next,done:!1}},$RangeError$4=RangeError,notANan=function(t){if(t==t)return t;throw new $RangeError$4("NaN is not allowed")},toIntegerOrInfinity$3=toIntegerOrInfinity$9,$RangeError$3=RangeError,toPositiveInteger$2=function(t){var e=toIntegerOrInfinity$3(t);if(e<0)throw new $RangeError$3("The argument can't be less than 0");return e},call$o=functionCall,anObject$l=anObject$s,getMethod$7=getMethod$b,iteratorClose$h=function(t,e,i){var s,n;anObject$l(t);try{if(!(s=getMethod$7(t,"return"))){if("throw"===e)throw i;return i}s=call$o(s,t)}catch(t){n=!0,s=t}if("throw"===e)throw i;if(n)throw s;return anObject$l(s),i},createIterResultObject$2=function(t,e){return{value:t,done:e}},iteratorClose$g=iteratorClose$h,iteratorCloseAll$1=function(t,e,i){for(var s=t.length-1;s>=0;s--)if(void 0!==t[s])try{i=iteratorClose$g(t[s].iterator,e,i)}catch(t){e="throw",i=t}if("throw"===e)throw i;return i},call$n=functionCall,create$4=objectCreate,createNonEnumerableProperty$2=createNonEnumerableProperty$7,defineBuiltIns$2=defineBuiltIns$4,wellKnownSymbol$9=wellKnownSymbol$l,InternalStateModule$3=internalState,getMethod$6=getMethod$b,IteratorPrototype$1=iteratorsCore.IteratorPrototype,createIterResultObject$1=createIterResultObject$2,iteratorClose$f=iteratorClose$h,iteratorCloseAll=iteratorCloseAll$1,TO_STRING_TAG$2=wellKnownSymbol$9("toStringTag"),ITERATOR_HELPER="IteratorHelper",WRAP_FOR_VALID_ITERATOR="WrapForValidIterator",NORMAL="normal",THROW="throw",setInternalState$2=InternalStateModule$3.set,createIteratorProxyPrototype=function(t){var e=InternalStateModule$3.getterFor(t?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER);return defineBuiltIns$2(create$4(IteratorPrototype$1),{next:function(){var i=e(this);if(t)return i.nextHandler();if(i.done)return createIterResultObject$1(void 0,!0);try{var s=i.nextHandler();return i.returnHandlerResult?s:createIterResultObject$1(s,i.done)}catch(t){throw i.done=!0,t}},return:function(){var i=e(this),s=i.iterator;if(i.done=!0,t){var n=getMethod$6(s,"return");return n?call$n(n,s):createIterResultObject$1(void 0,!0)}if(i.inner)try{iteratorClose$f(i.inner.iterator,NORMAL)}catch(t){return iteratorClose$f(s,THROW,t)}if(i.openIters)try{iteratorCloseAll(i.openIters,NORMAL)}catch(t){return iteratorClose$f(s,THROW,t)}return s&&iteratorClose$f(s,NORMAL),createIterResultObject$1(void 0,!0)}})},WrapForValidIteratorPrototype=createIteratorProxyPrototype(!0),IteratorHelperPrototype=createIteratorProxyPrototype(!1);createNonEnumerableProperty$2(IteratorHelperPrototype,TO_STRING_TAG$2,"Iterator Helper");var iteratorCreateProxy=function(t,e,i){var s=function(s,n){n?(n.iterator=s.iterator,n.next=s.next):n=s,n.type=e?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER,n.returnHandlerResult=!!i,n.nextHandler=t,n.counter=0,n.done=!1,setInternalState$2(this,n)};return s.prototype=e?WrapForValidIteratorPrototype:IteratorHelperPrototype,s},iteratorHelperThrowsOnInvalidIterator$4=function(t,e){var i="function"==typeof Iterator&&Iterator.prototype[t];if(i)try{i.call({next:null},e).next()}catch(t){return!0}},globalThis$j=globalThis_1,iteratorHelperWithoutClosingOnEarlyError$a=function(t,e){var i=globalThis$j.Iterator,s=i&&i.prototype,n=s&&s[t],B=!1;if(n)try{n.call({next:function(){return{done:!0}},return:function(){B=!0}},-1)}catch(t){t instanceof e||(B=!1)}if(!B)return n},$$G=_export,call$m=functionCall,anObject$k=anObject$s,getIteratorDirect$f=getIteratorDirect$g,notANaN$1=notANan,toPositiveInteger$1=toPositiveInteger$2,iteratorClose$e=iteratorClose$h,createIteratorProxy$5=iteratorCreateProxy,iteratorHelperThrowsOnInvalidIterator$3=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$9=iteratorHelperWithoutClosingOnEarlyError$a,DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$3("drop",0),dropWithoutClosingOnEarlyError=!DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$9("drop",RangeError),FORCED$9=DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR||dropWithoutClosingOnEarlyError,IteratorProxy$5=createIteratorProxy$5(function(){for(var t,e=this.iterator,i=this.next;this.remaining;)if(this.remaining--,t=anObject$k(call$m(i,e)),this.done=!!t.done)return;if(t=anObject$k(call$m(i,e)),!(this.done=!!t.done))return t.value});$$G({target:"Iterator",proto:!0,real:!0,forced:FORCED$9},{drop:function(t){var e;anObject$k(this);try{e=toPositiveInteger$1(notANaN$1(+t))}catch(t){iteratorClose$e(this,"throw",t)}return dropWithoutClosingOnEarlyError?call$m(dropWithoutClosingOnEarlyError,this,e):new IteratorProxy$5(getIteratorDirect$f(this),{remaining:e})}});var iterators={},wellKnownSymbol$8=wellKnownSymbol$l,Iterators$1=iterators,ITERATOR$2=wellKnownSymbol$8("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(t){return void 0!==t&&(Iterators$1.Array===t||ArrayPrototype[ITERATOR$2]===t)},classof$5=classof$c,getMethod$5=getMethod$b,isNullOrUndefined$1=isNullOrUndefined$5,Iterators=iterators,wellKnownSymbol$7=wellKnownSymbol$l,ITERATOR$1=wellKnownSymbol$7("iterator"),getIteratorMethod$4=function(t){if(!isNullOrUndefined$1(t))return getMethod$5(t,ITERATOR$1)||getMethod$5(t,"@@iterator")||Iterators[classof$5(t)]},call$l=functionCall,aCallable$g=aCallable$n,anObject$j=anObject$s,tryToString$1=tryToString$3,getIteratorMethod$3=getIteratorMethod$4,$TypeError$b=TypeError,getIterator$3=function(t,e){var i=arguments.length<2?getIteratorMethod$3(t):e;if(aCallable$g(i))return anObject$j(call$l(i,t));throw new $TypeError$b(tryToString$1(t)+" is not iterable")},bind$2=functionBindContext,call$k=functionCall,anObject$i=anObject$s,tryToString=tryToString$3,isArrayIteratorMethod=isArrayIteratorMethod$1,lengthOfArrayLike$1=lengthOfArrayLike$8,isPrototypeOf$2=objectIsPrototypeOf,getIterator$2=getIterator$3,getIteratorMethod$2=getIteratorMethod$4,iteratorClose$d=iteratorClose$h,$TypeError$a=TypeError,Result=function(t,e){this.stopped=t,this.result=e},ResultPrototype=Result.prototype,iterate$c=function(t,e,i){var s,n,B,l,a,c,F,Q=i&&i.that,r=!(!i||!i.AS_ENTRIES),g=!(!i||!i.IS_RECORD),U=!(!i||!i.IS_ITERATOR),I=!(!i||!i.INTERRUPTED),o=bind$2(e,Q),d=function(t){return s&&iteratorClose$d(s,"normal"),new Result(!0,t)},b=function(t){return r?(anObject$i(t),I?o(t[0],t[1],d):o(t[0],t[1])):I?o(t,d):o(t)};if(g)s=t.iterator;else if(U)s=t;else{if(!(n=getIteratorMethod$2(t)))throw new $TypeError$a(tryToString(t)+" is not iterable");if(isArrayIteratorMethod(n)){for(B=0,l=lengthOfArrayLike$1(t);l>B;B++)if((a=b(t[B]))&&isPrototypeOf$2(ResultPrototype,a))return a;return new Result(!1)}s=getIterator$2(t,n)}for(c=g?t.next:s.next;!(F=call$k(c,s)).done;){try{a=b(F.value)}catch(t){iteratorClose$d(s,"throw",t)}if("object"==typeof a&&a&&isPrototypeOf$2(ResultPrototype,a))return a}return new Result(!1)},$$F=_export,call$j=functionCall,iterate$b=iterate$c,aCallable$f=aCallable$n,anObject$h=anObject$s,getIteratorDirect$e=getIteratorDirect$g,iteratorClose$c=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$8=iteratorHelperWithoutClosingOnEarlyError$a,everyWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$8("every",TypeError);$$F({target:"Iterator",proto:!0,real:!0,forced:everyWithoutClosingOnEarlyError},{every:function(t){anObject$h(this);try{aCallable$f(t)}catch(t){iteratorClose$c(this,"throw",t)}if(everyWithoutClosingOnEarlyError)return call$j(everyWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$e(this),i=0;return!iterate$b(e,function(e,s){if(!t(e,i++))return s()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var anObject$g=anObject$s,iteratorClose$b=iteratorClose$h,callWithSafeIterationClosing$2=function(t,e,i,s){try{return s?e(anObject$g(i)[0],i[1]):e(i)}catch(e){iteratorClose$b(t,"throw",e)}},$$E=_export,call$i=functionCall,aCallable$e=aCallable$n,anObject$f=anObject$s,getIteratorDirect$d=getIteratorDirect$g,createIteratorProxy$4=iteratorCreateProxy,callWithSafeIterationClosing$1=callWithSafeIterationClosing$2,iteratorClose$a=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator$2=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$7=iteratorHelperWithoutClosingOnEarlyError$a,FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$2("filter",function(){}),filterWithoutClosingOnEarlyError=!FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$7("filter",TypeError),FORCED$8=FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR||filterWithoutClosingOnEarlyError,IteratorProxy$4=createIteratorProxy$4(function(){for(var t,e,i=this.iterator,s=this.predicate,n=this.next;;){if(t=anObject$f(call$i(n,i)),this.done=!!t.done)return;if(e=t.value,callWithSafeIterationClosing$1(i,s,[e,this.counter++],!0))return e}});$$E({target:"Iterator",proto:!0,real:!0,forced:FORCED$8},{filter:function(t){anObject$f(this);try{aCallable$e(t)}catch(t){iteratorClose$a(this,"throw",t)}return filterWithoutClosingOnEarlyError?call$i(filterWithoutClosingOnEarlyError,this,t):new IteratorProxy$4(getIteratorDirect$d(this),{predicate:t})}});var $$D=_export,call$h=functionCall,iterate$a=iterate$c,aCallable$d=aCallable$n,anObject$e=anObject$s,getIteratorDirect$c=getIteratorDirect$g,iteratorClose$9=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$6=iteratorHelperWithoutClosingOnEarlyError$a,findWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$6("find",TypeError);$$D({target:"Iterator",proto:!0,real:!0,forced:findWithoutClosingOnEarlyError},{find:function(t){anObject$e(this);try{aCallable$d(t)}catch(t){iteratorClose$9(this,"throw",t)}if(findWithoutClosingOnEarlyError)return call$h(findWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$c(this),i=0;return iterate$a(e,function(e,s){if(t(e,i++))return s(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var call$g=functionCall,anObject$d=anObject$s,getIteratorDirect$b=getIteratorDirect$g,getIteratorMethod$1=getIteratorMethod$4,getIteratorFlattenable$2=function(t,e){e&&"string"==typeof t||anObject$d(t);var i=getIteratorMethod$1(t);return getIteratorDirect$b(anObject$d(void 0!==i?call$g(i,t):t))},$$C=_export,call$f=functionCall,aCallable$c=aCallable$n,anObject$c=anObject$s,getIteratorDirect$a=getIteratorDirect$g,getIteratorFlattenable$1=getIteratorFlattenable$2,createIteratorProxy$3=iteratorCreateProxy,iteratorClose$8=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator$1=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$5=iteratorHelperWithoutClosingOnEarlyError$a,FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$1("flatMap",function(){}),flatMapWithoutClosingOnEarlyError=!FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$5("flatMap",TypeError),FORCED$7=FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR||flatMapWithoutClosingOnEarlyError,IteratorProxy$3=createIteratorProxy$3(function(){for(var t,e,i=this.iterator,s=this.mapper;;){if(e=this.inner)try{if(!(t=anObject$c(call$f(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){iteratorClose$8(i,"throw",t)}if(t=anObject$c(call$f(this.next,i)),this.done=!!t.done)return;try{this.inner=getIteratorFlattenable$1(s(t.value,this.counter++),!1)}catch(t){iteratorClose$8(i,"throw",t)}}});$$C({target:"Iterator",proto:!0,real:!0,forced:FORCED$7},{flatMap:function(t){anObject$c(this);try{aCallable$c(t)}catch(t){iteratorClose$8(this,"throw",t)}return flatMapWithoutClosingOnEarlyError?call$f(flatMapWithoutClosingOnEarlyError,this,t):new IteratorProxy$3(getIteratorDirect$a(this),{mapper:t,inner:null})}});var $$B=_export,call$e=functionCall,iterate$9=iterate$c,aCallable$b=aCallable$n,anObject$b=anObject$s,getIteratorDirect$9=getIteratorDirect$g,iteratorClose$7=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$4=iteratorHelperWithoutClosingOnEarlyError$a,forEachWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$4("forEach",TypeError);$$B({target:"Iterator",proto:!0,real:!0,forced:forEachWithoutClosingOnEarlyError},{forEach:function(t){anObject$b(this);try{aCallable$b(t)}catch(t){iteratorClose$7(this,"throw",t)}if(forEachWithoutClosingOnEarlyError)return call$e(forEachWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$9(this),i=0;iterate$9(e,function(e){t(e,i++)},{IS_RECORD:!0})}});var $$A=_export,call$d=functionCall,toObject$1=toObject$5,isPrototypeOf$1=objectIsPrototypeOf,IteratorPrototype=iteratorsCore.IteratorPrototype,createIteratorProxy$2=iteratorCreateProxy,getIteratorFlattenable=getIteratorFlattenable$2,FORCED$6=function(){try{Iterator.from({return:null}).return()}catch(t){return!0}}(),IteratorProxy$2=createIteratorProxy$2(function(){return call$d(this.next,this.iterator)},!0);$$A({target:"Iterator",stat:!0,forced:FORCED$6},{from:function(t){var e=getIteratorFlattenable("string"==typeof t?toObject$1(t):t,!0);return isPrototypeOf$1(IteratorPrototype,e.iterator)?e.iterator:new IteratorProxy$2(e)}});var $$z=_export,call$c=functionCall,aCallable$a=aCallable$n,anObject$a=anObject$s,getIteratorDirect$8=getIteratorDirect$g,createIteratorProxy$1=iteratorCreateProxy,callWithSafeIterationClosing=callWithSafeIterationClosing$2,iteratorClose$6=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$3=iteratorHelperWithoutClosingOnEarlyError$a,MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator("map",function(){}),mapWithoutClosingOnEarlyError=!MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$3("map",TypeError),FORCED$5=MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR||mapWithoutClosingOnEarlyError,IteratorProxy$1=createIteratorProxy$1(function(){var t=this.iterator,e=anObject$a(call$c(this.next,t));if(!(this.done=!!e.done))return callWithSafeIterationClosing(t,this.mapper,[e.value,this.counter++],!0)});$$z({target:"Iterator",proto:!0,real:!0,forced:FORCED$5},{map:function(t){anObject$a(this);try{aCallable$a(t)}catch(t){iteratorClose$6(this,"throw",t)}return mapWithoutClosingOnEarlyError?call$c(mapWithoutClosingOnEarlyError,this,t):new IteratorProxy$1(getIteratorDirect$8(this),{mapper:t})}});var NATIVE_BIND=functionBindNative,FunctionPrototype=Function.prototype,apply$5=FunctionPrototype.apply,call$b=FunctionPrototype.call,functionApply="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND?call$b.bind(apply$5):function(){return call$b.apply(apply$5,arguments)}),$$y=_export,iterate$8=iterate$c,aCallable$9=aCallable$n,anObject$9=anObject$s,getIteratorDirect$7=getIteratorDirect$g,iteratorClose$5=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$2=iteratorHelperWithoutClosingOnEarlyError$a,apply$4=functionApply,fails$c=fails$t,$TypeError$9=TypeError,FAILS_ON_INITIAL_UNDEFINED=fails$c(function(){[].keys().reduce(function(){},void 0)}),reduceWithoutClosingOnEarlyError=!FAILS_ON_INITIAL_UNDEFINED&&iteratorHelperWithoutClosingOnEarlyError$2("reduce",$TypeError$9);$$y({target:"Iterator",proto:!0,real:!0,forced:FAILS_ON_INITIAL_UNDEFINED||reduceWithoutClosingOnEarlyError},{reduce:function(t){anObject$9(this);try{aCallable$9(t)}catch(t){iteratorClose$5(this,"throw",t)}var e=arguments.length<2,i=e?void 0:arguments[1];if(reduceWithoutClosingOnEarlyError)return apply$4(reduceWithoutClosingOnEarlyError,this,e?[t]:[t,i]);var s=getIteratorDirect$7(this),n=0;if(iterate$8(s,function(s){e?(e=!1,i=s):i=t(i,s,n),n++},{IS_RECORD:!0}),e)throw new $TypeError$9("Reduce of empty iterator with no initial value");return i}});var $$x=_export,call$a=functionCall,iterate$7=iterate$c,aCallable$8=aCallable$n,anObject$8=anObject$s,getIteratorDirect$6=getIteratorDirect$g,iteratorClose$4=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$1=iteratorHelperWithoutClosingOnEarlyError$a,someWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$1("some",TypeError);$$x({target:"Iterator",proto:!0,real:!0,forced:someWithoutClosingOnEarlyError},{some:function(t){anObject$8(this);try{aCallable$8(t)}catch(t){iteratorClose$4(this,"throw",t)}if(someWithoutClosingOnEarlyError)return call$a(someWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$6(this),i=0;return iterate$7(e,function(e,s){if(t(e,i++))return s()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var $$w=_export,call$9=functionCall,anObject$7=anObject$s,getIteratorDirect$5=getIteratorDirect$g,notANaN=notANan,toPositiveInteger=toPositiveInteger$2,createIteratorProxy=iteratorCreateProxy,iteratorClose$3=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$a,takeWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError("take",RangeError),IteratorProxy=createIteratorProxy(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,iteratorClose$3(t,"normal",void 0);var e=anObject$7(call$9(this.next,t));return(this.done=!!e.done)?void 0:e.value});$$w({target:"Iterator",proto:!0,real:!0,forced:takeWithoutClosingOnEarlyError},{take:function(t){var e;anObject$7(this);try{e=toPositiveInteger(notANaN(+t))}catch(t){iteratorClose$3(this,"throw",t)}return takeWithoutClosingOnEarlyError?call$9(takeWithoutClosingOnEarlyError,this,e):new IteratorProxy(getIteratorDirect$5(this),{remaining:e})}});var $$v=_export,anObject$6=anObject$s,iterate$6=iterate$c,getIteratorDirect$4=getIteratorDirect$g,push$5=[].push;$$v({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return iterate$6(getIteratorDirect$4(anObject$6(this)),push$5,{that:t,IS_RECORD:!0}),t}});var uncurryThis$l=functionUncurryThis,MapPrototype=Map.prototype,mapHelpers={Map:Map,set:uncurryThis$l(MapPrototype.set),get:uncurryThis$l(MapPrototype.get),has:uncurryThis$l(MapPrototype.has),remove:uncurryThis$l(MapPrototype.delete)},$$u=_export,uncurryThis$k=functionUncurryThis,aCallable$7=aCallable$n,requireObjectCoercible$5=requireObjectCoercible$9,iterate$5=iterate$c,MapHelpers$1=mapHelpers,fails$b=fails$t,Map$2=MapHelpers$1.Map,has$6=MapHelpers$1.has,get$2=MapHelpers$1.get,set$3=MapHelpers$1.set,push$4=uncurryThis$k([].push),DOES_NOT_WORK_WITH_PRIMITIVES$1=fails$b(function(){return 1!==Map$2.groupBy("ab",function(t){return t}).get("a").length});$$u({target:"Map",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES$1},{groupBy:function(t,e){requireObjectCoercible$5(t),aCallable$7(e);var i=new Map$2,s=0;return iterate$5(t,function(t){var n=e(t,s++);has$6(i,n)?push$4(get$2(i,n),t):set$3(i,n,[t])}),i}});var mathSign=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1},sign$2=mathSign,roundTiesToEven=mathRoundTiesToEven,abs$2=Math.abs,EPSILON=2220446049250313e-31,mathFloatRound=function(t,e,i,s){var n=+t,B=abs$2(n),l=sign$2(n);if(B<s)return l*roundTiesToEven(B/s/e)*s*e;var a=(1+e/EPSILON)*B,c=a-(a-B);return c>i||c!=c?l*(1/0):l*c},$$t=_export,floatRound=mathFloatRound,FLOAT16_EPSILON=.0009765625,FLOAT16_MAX_VALUE=65504,FLOAT16_MIN_VALUE=6103515625e-14;$$t({target:"Math",stat:!0},{f16round:function(t){return floatRound(t,FLOAT16_EPSILON,FLOAT16_MAX_VALUE,FLOAT16_MIN_VALUE)}});var $$s=_export,uncurryThis$j=functionUncurryThis,iterate$4=iterate$c,$RangeError$2=RangeError,$TypeError$8=TypeError,$Infinity=1/0,$NaN=NaN,abs$1=Math.abs,pow$2=Math.pow,push$3=uncurryThis$j([].push),POW_2_1023=pow$2(2,1023),MAX_SAFE_INTEGER=pow$2(2,53)-1,MAX_DOUBLE=Number.MAX_VALUE,MAX_ULP=pow$2(2,971),NOT_A_NUMBER={},MINUS_INFINITY={},PLUS_INFINITY={},MINUS_ZERO={},FINITE={},twosum=function(t,e){var i=t+e;return{hi:i,lo:e-(i-t)}};$$s({target:"Math",stat:!0},{sumPrecise:function(t){var e=[],i=0,s=MINUS_ZERO;switch(iterate$4(t,function(t){if(++i>=MAX_SAFE_INTEGER)throw new $RangeError$2("Maximum allowed index exceeded");if("number"!=typeof t)throw new $TypeError$8("Value is not a number");s!==NOT_A_NUMBER&&(t!=t?s=NOT_A_NUMBER:t===$Infinity?s=s===MINUS_INFINITY?NOT_A_NUMBER:PLUS_INFINITY:t===-$Infinity?s=s===PLUS_INFINITY?NOT_A_NUMBER:MINUS_INFINITY:0===t&&1/t!==$Infinity||s!==MINUS_ZERO&&s!==FINITE||(s=FINITE,push$3(e,t)))}),s){case NOT_A_NUMBER:return $NaN;case MINUS_INFINITY:return-$Infinity;case PLUS_INFINITY:return $Infinity;case MINUS_ZERO:return-0}for(var n,B,l,a,c,F,Q=[],r=0,g=0;g<e.length;g++){n=e[g];for(var U=0,I=0;I<Q.length;I++){if(B=Q[I],abs$1(n)<abs$1(B)&&(F=n,n=B,B=F),a=(l=twosum(n,B)).hi,c=l.lo,abs$1(a)===$Infinity){var o=a===$Infinity?1:-1;r+=o,abs$1(n=n-o*POW_2_1023-o*POW_2_1023)<abs$1(B)&&(F=n,n=B,B=F),a=(l=twosum(n,B)).hi,c=l.lo}0!==c&&(Q[U++]=c),n=a}Q.length=U,0!==n&&push$3(Q,n)}var d=Q.length-1;if(a=0,c=0,0!==r){var b=d>=0?Q[d]:0;if(d--,abs$1(r)>1||r>0&&b>0||r<0&&b<0)return r>0?$Infinity:-$Infinity;if(a=(l=twosum(r*POW_2_1023,b/2)).hi,c=l.lo,c*=2,abs$1(2*a)===$Infinity)return a>0?a===POW_2_1023&&c===-MAX_ULP/2&&d>=0&&Q[d]<0?MAX_DOUBLE:$Infinity:a===-POW_2_1023&&c===MAX_ULP/2&&d>=0&&Q[d]>0?-MAX_DOUBLE:-$Infinity;0!==c&&(Q[++d]=c,c=0),a*=2}for(;d>=0&&(a=(l=twosum(a,Q[d--])).hi,0===(c=l.lo)););return d>=0&&(c<0&&Q[d]<0||c>0&&Q[d]>0)&&(B=2*c)===(n=a+B)-a&&(a=n),a}});var $$r=_export,createProperty$1=createProperty$3,getBuiltIn$c=getBuiltIn$j,uncurryThis$i=functionUncurryThis,aCallable$6=aCallable$n,requireObjectCoercible$4=requireObjectCoercible$9,toPropertyKey=toPropertyKey$3,iterate$3=iterate$c,fails$a=fails$t,nativeGroupBy=Object.groupBy,create$3=getBuiltIn$c("Object","create"),push$2=uncurryThis$i([].push),DOES_NOT_WORK_WITH_PRIMITIVES=!nativeGroupBy||fails$a(function(){return 1!==nativeGroupBy("ab",function(t){return t}).a.length});$$r({target:"Object",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES},{groupBy:function(t,e){requireObjectCoercible$4(t),aCallable$6(e);var i=create$3(null),s=0;return iterate$3(t,function(t){var n=toPropertyKey(e(t,s++));n in i?push$2(i[n],t):createProperty$1(i,n,[t])}),i}});var uncurryThis$h=functionUncurryThis,arraySlice$2=uncurryThis$h([].slice),newPromiseCapability={},aCallable$5=aCallable$n,$TypeError$7=TypeError,PromiseCapability=function(t){var e,i;this.promise=new t(function(t,s){if(void 0!==e||void 0!==i)throw new $TypeError$7("Bad Promise constructor");e=t,i=s}),this.resolve=aCallable$5(e),this.reject=aCallable$5(i)};newPromiseCapability.f=function(t){return new PromiseCapability(t)};var perform$1=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},$$q=_export,globalThis$i=globalThis_1,apply$3=functionApply,slice$1=arraySlice$2,newPromiseCapabilityModule$1=newPromiseCapability,aCallable$4=aCallable$n,perform=perform$1,Promise$4=globalThis$i.Promise,ACCEPT_ARGUMENTS=!1,FORCED$4=!Promise$4||!Promise$4.try||perform(function(){Promise$4.try(function(t){ACCEPT_ARGUMENTS=8===t},8)}).error||!ACCEPT_ARGUMENTS;$$q({target:"Promise",stat:!0,forced:FORCED$4},{try:function(t){var e=arguments.length>1?slice$1(arguments,1):[],i=newPromiseCapabilityModule$1.f(this),s=perform(function(){return apply$3(aCallable$4(t),void 0,e)});return(s.error?i.reject:i.resolve)(s.value),i.promise}});var $$p=_export,newPromiseCapabilityModule=newPromiseCapability;$$p({target:"Promise",stat:!0},{withResolvers:function(){var t=newPromiseCapabilityModule.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var uncurryThis$g=functionUncurryThis,fails$9=fails$t,isCallable$6=isCallable$l,classof$4=classof$c,getBuiltIn$b=getBuiltIn$j,inspectSource=inspectSource$2,noop$3=function(){},construct=getBuiltIn$b("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$g(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop$3),isConstructorModern=function(t){if(!isCallable$6(t))return!1;try{return construct(noop$3,[],t),!0}catch(t){return!1}},isConstructorLegacy=function(t){if(!isCallable$6(t))return!1;switch(classof$4(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(t))}catch(t){return!0}};isConstructorLegacy.sham=!0;var AsyncIteratorPrototype$2,prototype,isConstructor$2=!construct||fails$9(function(){var t;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){t=!0})||t})?isConstructorLegacy:isConstructorModern,globalThis$h=globalThis_1,shared=sharedStoreExports,isCallable$5=isCallable$l,getPrototypeOf$1=objectGetPrototypeOf,defineBuiltIn$5=defineBuiltIn$b,wellKnownSymbol$6=wellKnownSymbol$l,USE_FUNCTION_CONSTRUCTOR="USE_FUNCTION_CONSTRUCTOR",ASYNC_ITERATOR$2=wellKnownSymbol$6("asyncIterator"),AsyncIterator=globalThis$h.AsyncIterator,PassedAsyncIteratorPrototype=shared.AsyncIteratorPrototype;if(PassedAsyncIteratorPrototype)AsyncIteratorPrototype$2=PassedAsyncIteratorPrototype;else if(isCallable$5(AsyncIterator))AsyncIteratorPrototype$2=AsyncIterator.prototype;else if(shared[USE_FUNCTION_CONSTRUCTOR]||globalThis$h[USE_FUNCTION_CONSTRUCTOR])try{prototype=getPrototypeOf$1(getPrototypeOf$1(getPrototypeOf$1(Function("return async function*(){}()")()))),getPrototypeOf$1(prototype)===Object.prototype&&(AsyncIteratorPrototype$2=prototype)}catch(t){}AsyncIteratorPrototype$2||(AsyncIteratorPrototype$2={}),isCallable$5(AsyncIteratorPrototype$2[ASYNC_ITERATOR$2])||defineBuiltIn$5(AsyncIteratorPrototype$2,ASYNC_ITERATOR$2,function(){return this});var asyncIteratorPrototype=AsyncIteratorPrototype$2,call$8=functionCall,anObject$5=anObject$s,create$2=objectCreate,getMethod$4=getMethod$b,defineBuiltIns$1=defineBuiltIns$4,InternalStateModule$2=internalState,iteratorClose$2=iteratorClose$h,getBuiltIn$a=getBuiltIn$j,AsyncIteratorPrototype$1=asyncIteratorPrototype,createIterResultObject=createIterResultObject$2,Promise$3=getBuiltIn$a("Promise"),ASYNC_FROM_SYNC_ITERATOR="AsyncFromSyncIterator",setInternalState$1=InternalStateModule$2.set,getInternalState$1=InternalStateModule$2.getterFor(ASYNC_FROM_SYNC_ITERATOR),asyncFromSyncIteratorContinuation=function(t,e,i,s,n){var B=t.done;Promise$3.resolve(t.value).then(function(t){e(createIterResultObject(t,B))},function(t){if(!B&&n)try{iteratorClose$2(s,"throw",t)}catch(e){t=e}i(t)})},AsyncFromSyncIterator$2=function(t){t.type=ASYNC_FROM_SYNC_ITERATOR,setInternalState$1(this,t)};AsyncFromSyncIterator$2.prototype=defineBuiltIns$1(create$2(AsyncIteratorPrototype$1),{next:function(){var t=getInternalState$1(this);return new Promise$3(function(e,i){var s=anObject$5(call$8(t.next,t.iterator));asyncFromSyncIteratorContinuation(s,e,i,t.iterator,!0)})},return:function(){var t=getInternalState$1(this).iterator;return new Promise$3(function(e,i){var s=getMethod$4(t,"return");if(void 0===s)return e(createIterResultObject(void 0,!0));var n=anObject$5(call$8(s,t));asyncFromSyncIteratorContinuation(n,e,i,t)})}});var asyncFromSyncIterator=AsyncFromSyncIterator$2,call$7=functionCall,AsyncFromSyncIterator$1=asyncFromSyncIterator,anObject$4=anObject$s,getIterator$1=getIterator$3,getIteratorDirect$3=getIteratorDirect$g,getMethod$3=getMethod$b,wellKnownSymbol$5=wellKnownSymbol$l,ASYNC_ITERATOR$1=wellKnownSymbol$5("asyncIterator"),getAsyncIterator$1=function(t,e){var i=arguments.length<2?getMethod$3(t,ASYNC_ITERATOR$1):e;return i?anObject$4(call$7(i,t)):new AsyncFromSyncIterator$1(getIteratorDirect$3(getIterator$1(t)))},call$6=functionCall,getBuiltIn$9=getBuiltIn$j,getMethod$2=getMethod$b,asyncIteratorClose=function(t,e,i,s){try{var n=getMethod$2(t,"return");if(n)return getBuiltIn$9("Promise").resolve(call$6(n,t)).then(function(){e(i)},function(t){s(t)})}catch(t){return s(t)}e(i)},call$5=functionCall,aCallable$3=aCallable$n,anObject$3=anObject$s,isObject$5=isObject$f,doesNotExceedSafeInteger=doesNotExceedSafeInteger$3,getBuiltIn$8=getBuiltIn$j,getIteratorDirect$2=getIteratorDirect$g,closeAsyncIteration=asyncIteratorClose,createMethod$1=function(t){var e=0===t,i=1===t,s=2===t,n=3===t;return function(t,B,l){anObject$3(t);var a=void 0!==B;!a&&e||aCallable$3(B);var c=getIteratorDirect$2(t),F=getBuiltIn$8("Promise"),Q=c.iterator,r=c.next,g=0;return new F(function(t,c){var U=function(t){closeAsyncIteration(Q,c,t,c)},I=function(){try{if(a)try{doesNotExceedSafeInteger(g)}catch(t){U(t)}F.resolve(anObject$3(call$5(r,Q))).then(function(r){try{if(anObject$3(r).done)e?(l.length=g,t(l)):t(!n&&(s||void 0));else{var o=r.value;try{if(a){var d=B(o,g),b=function(B){if(i)I();else if(s)B?I():closeAsyncIteration(Q,t,!1,c);else if(e)try{l[g++]=B,I()}catch(t){U(t)}else B?closeAsyncIteration(Q,t,n||o,c):I()};isObject$5(d)?F.resolve(d).then(b,U):b(d)}else l[g++]=o,I()}catch(t){U(t)}}}catch(t){c(t)}},c)}catch(t){c(t)}};I()})}},asyncIteratorIteration={toArray:createMethod$1(0)},bind$1=functionBindContext,uncurryThis$f=functionUncurryThis,toObject=toObject$5,isConstructor$1=isConstructor$2,getAsyncIterator=getAsyncIterator$1,getIterator=getIterator$3,getIteratorDirect$1=getIteratorDirect$g,getIteratorMethod=getIteratorMethod$4,getMethod$1=getMethod$b,getBuiltIn$7=getBuiltIn$j,getBuiltInPrototypeMethod=getBuiltInPrototypeMethod$2,wellKnownSymbol$4=wellKnownSymbol$l,AsyncFromSyncIterator=asyncFromSyncIterator,toArray=asyncIteratorIteration.toArray,ASYNC_ITERATOR=wellKnownSymbol$4("asyncIterator"),arrayIterator=uncurryThis$f(getBuiltInPrototypeMethod("Array","values")),arrayIteratorNext=uncurryThis$f(arrayIterator([]).next),safeArrayIterator=function(){return new SafeArrayIterator(this)},SafeArrayIterator=function(t){this.iterator=arrayIterator(t)};SafeArrayIterator.prototype.next=function(){return arrayIteratorNext(this.iterator)};var arrayFromAsync=function(t){var e=this,i=arguments.length,s=i>1?arguments[1]:void 0,n=i>2?arguments[2]:void 0;return new(getBuiltIn$7("Promise"))(function(i){var B=toObject(t);void 0!==s&&(s=bind$1(s,n));var l=getMethod$1(B,ASYNC_ITERATOR),a=l?void 0:getIteratorMethod(B)||safeArrayIterator,c=isConstructor$1(e)?new e:[],F=l?getAsyncIterator(B,l):new AsyncFromSyncIterator(getIteratorDirect$1(getIterator(B,a)));i(toArray(F,s,c))})},$$o=_export,fromAsync=arrayFromAsync,fails$8=fails$t,nativeFromAsync=Array.fromAsync,INCORRECT_CONSTRUCTURING=!nativeFromAsync||fails$8(function(){var t=0;return nativeFromAsync.call(function(){return t++,[]},{length:0}),1!==t});$$o({target:"Array",stat:!0,forced:INCORRECT_CONSTRUCTURING},{fromAsync:fromAsync});var $$n=_export,DESCRIPTORS$5=descriptors,getBuiltIn$6=getBuiltIn$j,aCallable$2=aCallable$n,anInstance$1=anInstance$4,defineBuiltIn$4=defineBuiltIn$b,defineBuiltIns=defineBuiltIns$4,defineBuiltInAccessor$3=defineBuiltInAccessor$7,wellKnownSymbol$3=wellKnownSymbol$l,InternalStateModule$1=internalState,addDisposableResource=addDisposableResource$2,V8_VERSION=environmentV8Version,Promise$2=getBuiltIn$6("Promise"),SuppressedError=getBuiltIn$6("SuppressedError"),$ReferenceError=ReferenceError,ASYNC_DISPOSE$1=wellKnownSymbol$3("asyncDispose"),TO_STRING_TAG$1=wellKnownSymbol$3("toStringTag"),ASYNC_DISPOSABLE_STACK="AsyncDisposableStack",setInternalState=InternalStateModule$1.set,getAsyncDisposableStackInternalState=InternalStateModule$1.getterFor(ASYNC_DISPOSABLE_STACK),HINT="async-dispose",DISPOSED="disposed",PENDING="pending",getPendingAsyncDisposableStackInternalState=function(t){var e=getAsyncDisposableStackInternalState(t);if(e.state===DISPOSED)throw new $ReferenceError(ASYNC_DISPOSABLE_STACK+" already disposed");return e},$AsyncDisposableStack=function(){setInternalState(anInstance$1(this,AsyncDisposableStackPrototype),{type:ASYNC_DISPOSABLE_STACK,state:PENDING,stack:[]}),DESCRIPTORS$5||(this.disposed=!1)},AsyncDisposableStackPrototype=$AsyncDisposableStack.prototype;defineBuiltIns(AsyncDisposableStackPrototype,{disposeAsync:function(){var t=this;return new Promise$2(function(e,i){var s=getAsyncDisposableStackInternalState(t);if(s.state===DISPOSED)return e(void 0);s.state=DISPOSED,DESCRIPTORS$5||(t.disposed=!0);var n,B=s.stack,l=B.length,a=!1,c=function(t){a?n=new SuppressedError(t,n):(a=!0,n=t),F()},F=function(){if(l){var t=B[--l];B[l]=null;try{Promise$2.resolve(t()).then(F,c)}catch(t){c(t)}}else s.stack=null,a?i(n):e(void 0)};F()})},use:function(t){return addDisposableResource(getPendingAsyncDisposableStackInternalState(this),t,HINT),t},adopt:function(t,e){var i=getPendingAsyncDisposableStackInternalState(this);return aCallable$2(e),addDisposableResource(i,void 0,HINT,function(){return e(t)}),t},defer:function(t){var e=getPendingAsyncDisposableStackInternalState(this);aCallable$2(t),addDisposableResource(e,void 0,HINT,t)},move:function(){var t=getPendingAsyncDisposableStackInternalState(this),e=new $AsyncDisposableStack;return getAsyncDisposableStackInternalState(e).stack=t.stack,t.stack=[],t.state=DISPOSED,DESCRIPTORS$5||(this.disposed=!0),e}}),DESCRIPTORS$5&&defineBuiltInAccessor$3(AsyncDisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getAsyncDisposableStackInternalState(this).state===DISPOSED}}),defineBuiltIn$4(AsyncDisposableStackPrototype,ASYNC_DISPOSE$1,AsyncDisposableStackPrototype.disposeAsync,{name:"disposeAsync"}),defineBuiltIn$4(AsyncDisposableStackPrototype,TO_STRING_TAG$1,ASYNC_DISPOSABLE_STACK,{nonWritable:!0});var SYNC_DISPOSE_RETURNING_PROMISE_RESOLUTION_BUG=V8_VERSION&&V8_VERSION<136;$$n({global:!0,constructor:!0,forced:SYNC_DISPOSE_RETURNING_PROMISE_RESOLUTION_BUG},{AsyncDisposableStack:$AsyncDisposableStack});var call$4=functionCall,defineBuiltIn$3=defineBuiltIn$b,getBuiltIn$5=getBuiltIn$j,getMethod=getMethod$b,hasOwn$7=hasOwnProperty_1,wellKnownSymbol$2=wellKnownSymbol$l,AsyncIteratorPrototype=asyncIteratorPrototype,ASYNC_DISPOSE=wellKnownSymbol$2("asyncDispose"),Promise$1=getBuiltIn$5("Promise");hasOwn$7(AsyncIteratorPrototype,ASYNC_DISPOSE)||defineBuiltIn$3(AsyncIteratorPrototype,ASYNC_DISPOSE,function(){var t=this;return new Promise$1(function(e,i){var s=getMethod(t,"return");s?Promise$1.resolve(call$4(s,t)).then(function(){e(void 0)},i):e(void 0)})});var $TypeError$6=TypeError,aString$4=function(t){if("string"==typeof t)return t;throw new $TypeError$6("Argument is not a string")},toIntegerOrInfinity$2=toIntegerOrInfinity$9,toString$7=toString$9,requireObjectCoercible$3=requireObjectCoercible$9,$RangeError$1=RangeError,stringRepeat=function(t){var e=toString$7(requireObjectCoercible$3(this)),i="",s=toIntegerOrInfinity$2(t);if(s<0||s===1/0)throw new $RangeError$1("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i},uncurryThis$e=functionUncurryThis,toLength=toLength$3,toString$6=toString$9,$repeat=stringRepeat,requireObjectCoercible$2=requireObjectCoercible$9,repeat=uncurryThis$e($repeat),stringSlice$1=uncurryThis$e("".slice),ceil=Math.ceil,createMethod=function(t){return function(e,i,s){var n,B,l=toString$6(requireObjectCoercible$2(e)),a=toLength(i),c=l.length,F=void 0===s?" ":toString$6(s);return a<=c||""===F?l:((B=repeat(F,ceil((n=a-c)/F.length))).length>n&&(B=stringSlice$1(B,0,n)),t?l+B:B+l)}},stringPad={start:createMethod(!1)},whitespaces="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",$$m=_export,uncurryThis$d=functionUncurryThis,aString$3=aString$4,hasOwn$6=hasOwnProperty_1,padStart=stringPad.start,WHITESPACES=whitespaces,$Array$1=Array,$escape=RegExp.escape,charAt$2=uncurryThis$d("".charAt),charCodeAt$2=uncurryThis$d("".charCodeAt),numberToString$1=uncurryThis$d(1.1.toString),join$1=uncurryThis$d([].join),FIRST_DIGIT_OR_ASCII=/^[0-9a-z]/i,SYNTAX_SOLIDUS=/^[$()*+./?[\\\]^{|}]/,OTHER_PUNCTUATORS_AND_WHITESPACES=RegExp("^[!\"#%&',\\-:;<=>@`~"+WHITESPACES+"]"),exec$1=uncurryThis$d(FIRST_DIGIT_OR_ASCII.exec),ControlEscape={"\t":"t","\n":"n","\v":"v","\f":"f","\r":"r"},escapeChar=function(t){var e=numberToString$1(charCodeAt$2(t,0),16);return e.length<3?"\\x"+padStart(e,2,"0"):"\\u"+padStart(e,4,"0")},FORCED$3=!$escape||"\\x61b"!==$escape("ab");$$m({target:"RegExp",stat:!0,forced:FORCED$3},{escape:function(t){aString$3(t);for(var e=t.length,i=$Array$1(e),s=0;s<e;s++){var n=charAt$2(t,s);if(0===s&&exec$1(FIRST_DIGIT_OR_ASCII,n))i[s]=escapeChar(n);else if(hasOwn$6(ControlEscape,n))i[s]="\\"+ControlEscape[n];else if(exec$1(SYNTAX_SOLIDUS,n))i[s]="\\"+n;else if(exec$1(OTHER_PUNCTUATORS_AND_WHITESPACES,n))i[s]=escapeChar(n);else{var B=charCodeAt$2(n,0);55296!=(63488&B)?i[s]=n:B>=56320||s+1>=e||56320!=(64512&charCodeAt$2(t,s+1))?i[s]=escapeChar(n):(i[s]=n,i[++s]=charAt$2(t,s))}}return join$1(i,"")}});var globalThis$g=globalThis_1,fails$7=fails$t,RegExp$1=globalThis$g.RegExp,FLAGS_GETTER_IS_CORRECT=!fails$7(function(){var t=!0;try{RegExp$1(".","d")}catch(e){t=!1}var e={},i="",s=t?"dgimsy":"gimsy",n=function(t,s){Object.defineProperty(e,t,{get:function(){return i+=s,!0}})},B={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var l in t&&(B.hasIndices="d"),B)n(l,B[l]);return Object.getOwnPropertyDescriptor(RegExp$1.prototype,"flags").get.call(e)!==s||i!==s}),regexpFlagsDetection={correct:FLAGS_GETTER_IS_CORRECT},anObject$2=anObject$s,regexpFlags=function(){var t=anObject$2(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},DESCRIPTORS$4=descriptors,defineBuiltInAccessor$2=defineBuiltInAccessor$7,regExpFlagsDetection$1=regexpFlagsDetection,regExpFlagsGetterImplementation$1=regexpFlags;DESCRIPTORS$4&&!regExpFlagsDetection$1.correct&&(defineBuiltInAccessor$2(RegExp.prototype,"flags",{configurable:!0,get:regExpFlagsGetterImplementation$1}),regExpFlagsDetection$1.correct=!0);var uncurryThis$c=functionUncurryThis,SetPrototype$1=Set.prototype,setHelpers={Set:Set,add:uncurryThis$c(SetPrototype$1.add),has:uncurryThis$c(SetPrototype$1.has),remove:uncurryThis$c(SetPrototype$1.delete),proto:SetPrototype$1},has$5=setHelpers.has,aSet$7=function(t){return has$5(t),t},call$3=functionCall,iterateSimple$7=function(t,e,i){for(var s,n,B=i?t:t.iterator,l=t.next;!(s=call$3(l,B)).done;)if(void 0!==(n=e(s.value)))return n},uncurryThis$b=functionUncurryThis,iterateSimple$6=iterateSimple$7,SetHelpers$6=setHelpers,Set$4=SetHelpers$6.Set,SetPrototype=SetHelpers$6.proto,forEach$2=uncurryThis$b(SetPrototype.forEach),keys=uncurryThis$b(SetPrototype.keys),next=keys(new Set$4).next,setIterate$1=function(t,e,i){return i?iterateSimple$6({iterator:keys(t),next:next},e):forEach$2(t,e)},SetHelpers$5=setHelpers,iterate$2=setIterate$1,Set$3=SetHelpers$5.Set,add$3=SetHelpers$5.add,setClone=function(t){var e=new Set$3;return iterate$2(t,function(t){add$3(e,t)}),e},uncurryThisAccessor=functionUncurryThisAccessor,SetHelpers$4=setHelpers,setSize=uncurryThisAccessor(SetHelpers$4.proto,"size","get")||function(t){return t.size},aCallable$1=aCallable$n,anObject$1=anObject$s,call$2=functionCall,toIntegerOrInfinity$1=toIntegerOrInfinity$9,getIteratorDirect=getIteratorDirect$g,INVALID_SIZE="Invalid size",$RangeError=RangeError,$TypeError$5=TypeError,max$1=Math.max,SetRecord=function(t,e){this.set=t,this.size=max$1(e,0),this.has=aCallable$1(t.has),this.keys=aCallable$1(t.keys)};SetRecord.prototype={getIterator:function(){return getIteratorDirect(anObject$1(call$2(this.keys,this.set)))},includes:function(t){return call$2(this.has,this.set,t)}};var getSetRecord$7=function(t){anObject$1(t);var e=+t.size;if(e!=e)throw new $TypeError$5(INVALID_SIZE);var i=toIntegerOrInfinity$1(e);if(i<0)throw new $RangeError(INVALID_SIZE);return new SetRecord(t,i)},aSet$6=aSet$7,SetHelpers$3=setHelpers,clone$2=setClone,size$4=setSize,getSetRecord$6=getSetRecord$7,iterateSet$2=setIterate$1,iterateSimple$5=iterateSimple$7,has$4=SetHelpers$3.has,remove$2=SetHelpers$3.remove,setDifference=function(t){var e=aSet$6(this),i=getSetRecord$6(t),s=clone$2(e);return size$4(e)<=i.size?iterateSet$2(e,function(t){i.includes(t)&&remove$2(s,t)}):iterateSimple$5(i.getIterator(),function(t){has$4(s,t)&&remove$2(s,t)}),s},getBuiltIn$4=getBuiltIn$j,createSetLike=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},createSetLikeWithInfinitySize=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}},setMethodAcceptSetLike$7=function(t,e){var i=getBuiltIn$4("Set");try{(new i)[t](createSetLike(0));try{return(new i)[t](createSetLike(-1)),!1}catch(n){if(!e)return!0;try{return(new i)[t](createSetLikeWithInfinitySize(-1/0)),!1}catch(n){var s=new i;return s.add(1),s.add(2),e(s[t](createSetLikeWithInfinitySize(1/0)))}}}catch(t){return!1}},$$l=_export,difference$1=setDifference,fails$6=fails$t,setMethodAcceptSetLike$6=setMethodAcceptSetLike$7,SET_LIKE_INCORRECT_BEHAVIOR=!setMethodAcceptSetLike$6("difference",function(t){return 0===t.size}),FORCED$2=SET_LIKE_INCORRECT_BEHAVIOR||fails$6(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var i=t++>1;return e.has(1)&&e.clear(),{done:i,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size});$$l({target:"Set",proto:!0,real:!0,forced:FORCED$2},{difference:difference$1});var aSet$5=aSet$7,SetHelpers$2=setHelpers,size$3=setSize,getSetRecord$5=getSetRecord$7,iterateSet$1=setIterate$1,iterateSimple$4=iterateSimple$7,Set$2=SetHelpers$2.Set,add$2=SetHelpers$2.add,has$3=SetHelpers$2.has,setIntersection=function(t){var e=aSet$5(this),i=getSetRecord$5(t),s=new Set$2;return size$3(e)>i.size?iterateSimple$4(i.getIterator(),function(t){has$3(e,t)&&add$2(s,t)}):iterateSet$1(e,function(t){i.includes(t)&&add$2(s,t)}),s},$$k=_export,fails$5=fails$t,intersection=setIntersection,setMethodAcceptSetLike$5=setMethodAcceptSetLike$7,INCORRECT$3=!setMethodAcceptSetLike$5("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||fails$5(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))});$$k({target:"Set",proto:!0,real:!0,forced:INCORRECT$3},{intersection:intersection});var aSet$4=aSet$7,has$2=setHelpers.has,size$2=setSize,getSetRecord$4=getSetRecord$7,iterateSet=setIterate$1,iterateSimple$3=iterateSimple$7,iteratorClose$1=iteratorClose$h,setIsDisjointFrom=function(t){var e=aSet$4(this),i=getSetRecord$4(t);if(size$2(e)<=i.size)return!1!==iterateSet(e,function(t){if(i.includes(t))return!1},!0);var s=i.getIterator();return!1!==iterateSimple$3(s,function(t){if(has$2(e,t))return iteratorClose$1(s,"normal",!1)})},$$j=_export,isDisjointFrom=setIsDisjointFrom,setMethodAcceptSetLike$4=setMethodAcceptSetLike$7,INCORRECT$2=!setMethodAcceptSetLike$4("isDisjointFrom",function(t){return!t});$$j({target:"Set",proto:!0,real:!0,forced:INCORRECT$2},{isDisjointFrom:isDisjointFrom});var aSet$3=aSet$7,size$1=setSize,iterate$1=setIterate$1,getSetRecord$3=getSetRecord$7,setIsSubsetOf=function(t){var e=aSet$3(this),i=getSetRecord$3(t);return!(size$1(e)>i.size)&&!1!==iterate$1(e,function(t){if(!i.includes(t))return!1},!0)},$$i=_export,isSubsetOf=setIsSubsetOf,setMethodAcceptSetLike$3=setMethodAcceptSetLike$7,INCORRECT$1=!setMethodAcceptSetLike$3("isSubsetOf",function(t){return t});$$i({target:"Set",proto:!0,real:!0,forced:INCORRECT$1},{isSubsetOf:isSubsetOf});var aSet$2=aSet$7,has$1=setHelpers.has,size=setSize,getSetRecord$2=getSetRecord$7,iterateSimple$2=iterateSimple$7,iteratorClose=iteratorClose$h,setIsSupersetOf=function(t){var e=aSet$2(this),i=getSetRecord$2(t);if(size(e)<i.size)return!1;var s=i.getIterator();return!1!==iterateSimple$2(s,function(t){if(!has$1(e,t))return iteratorClose(s,"normal",!1)})},$$h=_export,isSupersetOf=setIsSupersetOf,setMethodAcceptSetLike$2=setMethodAcceptSetLike$7,INCORRECT=!setMethodAcceptSetLike$2("isSupersetOf",function(t){return!t});$$h({target:"Set",proto:!0,real:!0,forced:INCORRECT},{isSupersetOf:isSupersetOf});var aSet$1=aSet$7,SetHelpers$1=setHelpers,clone$1=setClone,getSetRecord$1=getSetRecord$7,iterateSimple$1=iterateSimple$7,add$1=SetHelpers$1.add,has=SetHelpers$1.has,remove$1=SetHelpers$1.remove,setSymmetricDifference=function(t){var e=aSet$1(this),i=getSetRecord$1(t).getIterator(),s=clone$1(e);return iterateSimple$1(i,function(t){has(e,t)?remove$1(s,t):add$1(s,t)}),s},setMethodGetKeysBeforeCloningDetection=function(t){try{var e=new Set,i={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},s=e[t](i);return 1===s.size&&4===s.values().next().value}catch(t){return!1}},$$g=_export,symmetricDifference=setSymmetricDifference,setMethodGetKeysBeforeCloning$1=setMethodGetKeysBeforeCloningDetection,setMethodAcceptSetLike$1=setMethodAcceptSetLike$7,FORCED$1=!setMethodAcceptSetLike$1("symmetricDifference")||!setMethodGetKeysBeforeCloning$1("symmetricDifference");$$g({target:"Set",proto:!0,real:!0,forced:FORCED$1},{symmetricDifference:symmetricDifference});var aSet=aSet$7,add=setHelpers.add,clone=setClone,getSetRecord=getSetRecord$7,iterateSimple=iterateSimple$7,setUnion=function(t){var e=aSet(this),i=getSetRecord(t).getIterator(),s=clone(e);return iterateSimple(i,function(t){add(s,t)}),s},$$f=_export,union=setUnion,setMethodGetKeysBeforeCloning=setMethodGetKeysBeforeCloningDetection,setMethodAcceptSetLike=setMethodAcceptSetLike$7,FORCED=!setMethodAcceptSetLike("union")||!setMethodGetKeysBeforeCloning("union");$$f({target:"Set",proto:!0,real:!0,forced:FORCED},{union:union});var $$e=_export,uncurryThis$a=functionUncurryThis,requireObjectCoercible$1=requireObjectCoercible$9,toString$5=toString$9,charCodeAt$1=uncurryThis$a("".charCodeAt);$$e({target:"String",proto:!0},{isWellFormed:function(){for(var t=toString$5(requireObjectCoercible$1(this)),e=t.length,i=0;i<e;i++){var s=charCodeAt$1(t,i);if(55296==(63488&s)&&(s>=56320||++i>=e||56320!=(64512&charCodeAt$1(t,i))))return!1}return!0}});var $$d=_export,call$1=functionCall,uncurryThis$9=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$9,toString$4=toString$9,fails$4=fails$t,$Array=Array,charAt$1=uncurryThis$9("".charAt),charCodeAt=uncurryThis$9("".charCodeAt),join=uncurryThis$9([].join),$toWellFormed="".toWellFormed,REPLACEMENT_CHARACTER="ï¿½",TO_STRING_CONVERSION_BUG=$toWellFormed&&fails$4(function(){return"1"!==call$1($toWellFormed,1)});$$d({target:"String",proto:!0,forced:TO_STRING_CONVERSION_BUG},{toWellFormed:function(){var t=toString$4(requireObjectCoercible(this));if(TO_STRING_CONVERSION_BUG)return call$1($toWellFormed,t);for(var e=t.length,i=$Array(e),s=0;s<e;s++){var n=charCodeAt(t,s);55296!=(63488&n)?i[s]=charAt$1(t,s):n>=56320||s+1>=e||56320!=(64512&charCodeAt(t,s+1))?i[s]=REPLACEMENT_CHARACTER:(i[s]=charAt$1(t,s),i[++s]=charAt$1(t,s))}return join(i,"")}});var NAME$2,Constructor,Prototype,NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection,DESCRIPTORS$3=descriptors,globalThis$f=globalThis_1,isCallable$4=isCallable$l,isObject$4=isObject$f,hasOwn$5=hasOwnProperty_1,classof$3=classof$c,createNonEnumerableProperty$1=createNonEnumerableProperty$7,defineBuiltIn$2=defineBuiltIn$b,defineBuiltInAccessor$1=defineBuiltInAccessor$7,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,wellKnownSymbol$1=wellKnownSymbol$l,uid$1=uid$4,InternalStateModule=internalState,enforceInternalState=InternalStateModule.enforce,getInternalState=InternalStateModule.get,Int8Array$1=globalThis$f.Int8Array,Int8ArrayPrototype=Int8Array$1&&Int8Array$1.prototype,Uint8ClampedArray=globalThis$f.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray&&Uint8ClampedArray.prototype,TypedArray$1=Int8Array$1&&getPrototypeOf(Int8Array$1),TypedArrayPrototype=Int8ArrayPrototype&&getPrototypeOf(Int8ArrayPrototype),ObjectPrototype=Object.prototype,TypeError$3=globalThis$f.TypeError,TO_STRING_TAG=wellKnownSymbol$1("toStringTag"),TYPED_ARRAY_TAG=uid$1("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS=NATIVE_ARRAY_BUFFER&&!!setPrototypeOf$1&&"Opera"!==classof$3(globalThis$f.opera),TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},getTypedArrayConstructor$3=function(t){var e=getPrototypeOf(t);if(isObject$4(e)){var i=getInternalState(e);return i&&hasOwn$5(i,TYPED_ARRAY_CONSTRUCTOR)?i[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor$3(e)}},isTypedArray=function(t){if(!isObject$4(t))return!1;var e=classof$3(t);return hasOwn$5(TypedArrayConstructorsList,e)||hasOwn$5(BigIntArrayConstructorsList,e)},aTypedArray$3=function(t){if(isTypedArray(t))return t;throw new TypeError$3("Target is not a typed array")},exportTypedArrayMethod$3=function(t,e,i,s){if(DESCRIPTORS$3){if(i)for(var n in TypedArrayConstructorsList){var B=globalThis$f[n];if(B&&hasOwn$5(B.prototype,t))try{delete B.prototype[t]}catch(i){try{B.prototype[t]=e}catch(t){}}}TypedArrayPrototype[t]&&!i||defineBuiltIn$2(TypedArrayPrototype,t,i?e:NATIVE_ARRAY_BUFFER_VIEWS&&Int8ArrayPrototype[t]||e,s)}};for(NAME$2 in TypedArrayConstructorsList)(Prototype=(Constructor=globalThis$f[NAME$2])&&Constructor.prototype)?enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS=!1;for(NAME$2 in BigIntArrayConstructorsList)(Prototype=(Constructor=globalThis$f[NAME$2])&&Constructor.prototype)&&(enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS||!isCallable$4(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw new TypeError$3("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$2 in TypedArrayConstructorsList)globalThis$f[NAME$2]&&setPrototypeOf$1(globalThis$f[NAME$2],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS||!TypedArrayPrototype||TypedArrayPrototype===ObjectPrototype)&&(TypedArrayPrototype=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$2 in TypedArrayConstructorsList)globalThis$f[NAME$2]&&setPrototypeOf$1(globalThis$f[NAME$2].prototype,TypedArrayPrototype);if(NATIVE_ARRAY_BUFFER_VIEWS&&getPrototypeOf(Uint8ClampedArrayPrototype)!==TypedArrayPrototype&&setPrototypeOf$1(Uint8ClampedArrayPrototype,TypedArrayPrototype),DESCRIPTORS$3&&!hasOwn$5(TypedArrayPrototype,TO_STRING_TAG))for(NAME$2 in defineBuiltInAccessor$1(TypedArrayPrototype,TO_STRING_TAG,{configurable:!0,get:function(){return isObject$4(this)?this[TYPED_ARRAY_TAG]:void 0}}),TypedArrayConstructorsList)globalThis$f[NAME$2]&&createNonEnumerableProperty$1(globalThis$f[NAME$2],TYPED_ARRAY_TAG,NAME$2);var arrayBufferViewCore={aTypedArray:aTypedArray$3,exportTypedArrayMethod:exportTypedArrayMethod$3,getTypedArrayConstructor:getTypedArrayConstructor$3,TypedArrayPrototype:TypedArrayPrototype},arrayToReversed=arrayToReversed$2,ArrayBufferViewCore$2=arrayBufferViewCore,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$2=ArrayBufferViewCore$2.exportTypedArrayMethod,getTypedArrayConstructor$2=ArrayBufferViewCore$2.getTypedArrayConstructor;exportTypedArrayMethod$2("toReversed",function(){return arrayToReversed(aTypedArray$2(this),getTypedArrayConstructor$2(this))});var ArrayBufferViewCore$1=arrayBufferViewCore,uncurryThis$8=functionUncurryThis,aCallable=aCallable$n,arrayFromConstructorAndList$1=arrayFromConstructorAndList$3,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,getTypedArrayConstructor$1=ArrayBufferViewCore$1.getTypedArrayConstructor,exportTypedArrayMethod$1=ArrayBufferViewCore$1.exportTypedArrayMethod,sort$2=uncurryThis$8(ArrayBufferViewCore$1.TypedArrayPrototype.sort);exportTypedArrayMethod$1("toSorted",function(t){void 0!==t&&aCallable(t);var e=aTypedArray$1(this),i=arrayFromConstructorAndList$1(getTypedArrayConstructor$1(e),e);return sort$2(i,t)});var classof$2=classof$c,isBigIntArray$2=function(t){var e=classof$2(t);return"BigInt64Array"===e||"BigUint64Array"===e},toPrimitive=toPrimitive$2,$TypeError$4=TypeError,toBigInt$1=function(t){var e=toPrimitive(t,"number");if("number"==typeof e)throw new $TypeError$4("Can't convert number to bigint");return BigInt(e)},arrayWith=arrayWith$2,ArrayBufferViewCore=arrayBufferViewCore,isBigIntArray$1=isBigIntArray$2,toIntegerOrInfinity=toIntegerOrInfinity$9,toBigInt=toBigInt$1,aTypedArray=ArrayBufferViewCore.aTypedArray,getTypedArrayConstructor=ArrayBufferViewCore.getTypedArrayConstructor,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,PROPER_ORDER=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),THROW_ON_NEGATIVE_FRACTIONAL_INDEX=PROPER_ORDER&&function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}}();exportTypedArrayMethod("with",{with:function(t,e){var i=aTypedArray(this),s=toIntegerOrInfinity(t),n=isBigIntArray$1(i)?toBigInt(e):+e;return arrayWith(i,getTypedArrayConstructor(i),s,n)}}.with,!PROPER_ORDER||THROW_ON_NEGATIVE_FRACTIONAL_INDEX);var isObject$3=isObject$f,$String=String,$TypeError$3=TypeError,anObjectOrUndefined$2=function(t){if(void 0===t||isObject$3(t))return t;throw new $TypeError$3($String(t)+" is not an object or undefined")},commonAlphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",base64Alphabet$2=commonAlphabet+"+/",base64UrlAlphabet$2=commonAlphabet+"-_",inverse=function(t){for(var e={},i=0;i<64;i++)e[t.charAt(i)]=i;return e},base64Map$2={i2c:base64Alphabet$2,c2i:inverse(base64Alphabet$2),i2cUrl:base64UrlAlphabet$2,c2iUrl:inverse(base64UrlAlphabet$2)},$TypeError$2=TypeError,getAlphabetOption$2=function(t){var e=t&&t.alphabet;if(void 0===e||"base64"===e||"base64url"===e)return e||"base64";throw new $TypeError$2("Incorrect `alphabet` option")},globalThis$e=globalThis_1,uncurryThis$7=functionUncurryThis,anObjectOrUndefined$1=anObjectOrUndefined$2,aString$2=aString$4,hasOwn$4=hasOwnProperty_1,base64Map$1=base64Map$2,getAlphabetOption$1=getAlphabetOption$2,notDetached$3=arrayBufferNotDetached,base64Alphabet$1=base64Map$1.c2i,base64UrlAlphabet$1=base64Map$1.c2iUrl,SyntaxError$1=globalThis$e.SyntaxError,TypeError$2=globalThis$e.TypeError,at=uncurryThis$7("".charAt),skipAsciiWhitespace=function(t,e){for(var i=t.length;e<i;e++){var s=at(t,e);if(" "!==s&&"\t"!==s&&"\n"!==s&&"\f"!==s&&"\r"!==s)break}return e},decodeBase64Chunk=function(t,e,i){var s=t.length;s<4&&(t+=2===s?"AA":"A");var n=(e[at(t,0)]<<18)+(e[at(t,1)]<<12)+(e[at(t,2)]<<6)+e[at(t,3)],B=[n>>16&255,n>>8&255,255&n];if(2===s){if(i&&0!==B[1])throw new SyntaxError$1("Extra bits");return[B[0]]}if(3===s){if(i&&0!==B[2])throw new SyntaxError$1("Extra bits");return[B[0],B[1]]}return B},writeBytes=function(t,e,i){for(var s=e.length,n=0;n<s;n++)t[i+n]=e[n];return i+s},uint8FromBase64=function(t,e,i,s){aString$2(t),anObjectOrUndefined$1(e);var n="base64"===getAlphabetOption$1(e)?base64Alphabet$1:base64UrlAlphabet$1,B=e?e.lastChunkHandling:void 0;if(void 0===B&&(B="loose"),"loose"!==B&&"strict"!==B&&"stop-before-partial"!==B)throw new TypeError$2("Incorrect `lastChunkHandling` option");i&&notDetached$3(i.buffer);var l=t.length,a=i||[],c=0,F=0,Q="",r=0;if(s)for(;;){if((r=skipAsciiWhitespace(t,r))===l){if(Q.length>0){if("stop-before-partial"===B)break;if("loose"!==B)throw new SyntaxError$1("Missing padding");if(1===Q.length)throw new SyntaxError$1("Malformed padding: exactly one additional character");c=writeBytes(a,decodeBase64Chunk(Q,n,!1),c)}F=l;break}var g=at(t,r);if(++r,"="===g){if(Q.length<2)throw new SyntaxError$1("Padding is too early");if(r=skipAsciiWhitespace(t,r),2===Q.length){if(r===l){if("stop-before-partial"===B)break;throw new SyntaxError$1("Malformed padding: only one =")}"="===at(t,r)&&(++r,r=skipAsciiWhitespace(t,r))}if(r<l)throw new SyntaxError$1("Unexpected character after padding");c=writeBytes(a,decodeBase64Chunk(Q,n,"strict"===B),c),F=l;break}if(!hasOwn$4(n,g))throw new SyntaxError$1("Unexpected character");var U=s-c;if(1===U&&2===Q.length||2===U&&3===Q.length)break;if(4===(Q+=g).length&&(c=writeBytes(a,decodeBase64Chunk(Q,n,!1),c),Q="",F=r,c===s))break}return{bytes:a,read:F,written:c}},$$c=_export,globalThis$d=globalThis_1,arrayFromConstructorAndList=arrayFromConstructorAndList$3,$fromBase64$1=uint8FromBase64,Uint8Array$5=globalThis$d.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$3=!Uint8Array$5||!Uint8Array$5.fromBase64||!function(){try{return void Uint8Array$5.fromBase64("a")}catch(t){}try{Uint8Array$5.fromBase64("",null)}catch(t){return!0}}();Uint8Array$5&&$$c({target:"Uint8Array",stat:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$3},{fromBase64:function(t){var e=$fromBase64$1(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return arrayFromConstructorAndList(Uint8Array$5,e.bytes)}});var globalThis$c=globalThis_1,uncurryThis$6=functionUncurryThis,Uint8Array$4=globalThis$c.Uint8Array,SyntaxError=globalThis$c.SyntaxError,parseInt$1=globalThis$c.parseInt,min$2=Math.min,NOT_HEX=/[^\da-f]/i,exec=uncurryThis$6(NOT_HEX.exec),stringSlice=uncurryThis$6("".slice),uint8FromHex=function(t,e){var i=t.length;if(i%2!=0)throw new SyntaxError("String should be an even number of characters");for(var s=e?min$2(e.length,i/2):i/2,n=e||new Uint8Array$4(s),B=0,l=0;l<s;){var a=stringSlice(t,B,B+=2);if(exec(NOT_HEX,a))throw new SyntaxError("String should only contain hex characters");n[l++]=parseInt$1(a,16)}return{bytes:n,read:B}},$$b=_export,globalThis$b=globalThis_1,aString$1=aString$4,$fromHex$1=uint8FromHex;globalThis$b.Uint8Array&&$$b({target:"Uint8Array",stat:!0},{fromHex:function(t){return $fromHex$1(aString$1(t)).bytes}});var classof$1=classof$c,$TypeError$1=TypeError,anUint8Array$4=function(t){if("Uint8Array"===classof$1(t))return t;throw new $TypeError$1("Argument is not an Uint8Array")},$$a=_export,globalThis$a=globalThis_1,$fromBase64=uint8FromBase64,anUint8Array$3=anUint8Array$4,Uint8Array$3=globalThis$a.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$2=!Uint8Array$3||!Uint8Array$3.prototype.setFromBase64||!function(){var t=new Uint8Array$3([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(t){}try{return void t.setFromBase64("a")}catch(t){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();Uint8Array$3&&$$a({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$2},{setFromBase64:function(t){anUint8Array$3(this);var e=$fromBase64(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}});var $$9=_export,globalThis$9=globalThis_1,aString=aString$4,anUint8Array$2=anUint8Array$4,notDetached$2=arrayBufferNotDetached,$fromHex=uint8FromHex;globalThis$9.Uint8Array&&$$9({target:"Uint8Array",proto:!0},{setFromHex:function(t){anUint8Array$2(this),aString(t),notDetached$2(this.buffer);var e=$fromHex(t,this).read;return{read:e,written:e/2}}});var $$8=_export,globalThis$8=globalThis_1,uncurryThis$5=functionUncurryThis,anObjectOrUndefined=anObjectOrUndefined$2,anUint8Array$1=anUint8Array$4,notDetached$1=arrayBufferNotDetached,base64Map=base64Map$2,getAlphabetOption=getAlphabetOption$2,base64Alphabet=base64Map.i2c,base64UrlAlphabet=base64Map.i2cUrl,charAt=uncurryThis$5("".charAt),Uint8Array$2=globalThis$8.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$1=!Uint8Array$2||!Uint8Array$2.prototype.toBase64||!function(){try{(new Uint8Array$2).toBase64(null)}catch(t){return!0}}();Uint8Array$2&&$$8({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$1},{toBase64:function(){var t=anUint8Array$1(this),e=arguments.length?anObjectOrUndefined(arguments[0]):void 0,i="base64"===getAlphabetOption(e)?base64Alphabet:base64UrlAlphabet,s=!!e&&!!e.omitPadding;notDetached$1(this.buffer);for(var n,B="",l=0,a=t.length,c=function(t){return charAt(i,n>>6*t&63)};l+2<a;l+=3)n=(t[l]<<16)+(t[l+1]<<8)+t[l+2],B+=c(3)+c(2)+c(1)+c(0);return l+2===a?(n=(t[l]<<16)+(t[l+1]<<8),B+=c(3)+c(2)+c(1)+(s?"":"=")):l+1===a&&(n=t[l]<<16,B+=c(3)+c(2)+(s?"":"==")),B}});var $$7=_export,globalThis$7=globalThis_1,uncurryThis$4=functionUncurryThis,anUint8Array=anUint8Array$4,notDetached=arrayBufferNotDetached,numberToString=uncurryThis$4(1.1.toString),Uint8Array$1=globalThis$7.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS=!Uint8Array$1||!Uint8Array$1.prototype.toHex||!function(){try{return"ffffffffffffffff"===new Uint8Array$1([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();Uint8Array$1&&$$7({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS},{toHex:function(){anUint8Array(this),notDetached(this.buffer);for(var t="",e=0,i=this.length;e<i;e++){var s=numberToString(this[e],16);t+=1===s.length?"0"+s:s}return t}});var isCallable$3=isCallable$l,isObject$2=isObject$f,setPrototypeOf=objectSetPrototypeOf,inheritIfRequired$1=function(t,e,i){var s,n;return setPrototypeOf&&isCallable$3(s=e.constructor)&&s!==i&&isObject$2(n=s.prototype)&&n!==i.prototype&&setPrototypeOf(t,n),t},domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},$$6=_export,globalThis$6=globalThis_1,getBuiltIn$3=getBuiltIn$j,createPropertyDescriptor=createPropertyDescriptor$6,defineProperty=objectDefineProperty.f,hasOwn$3=hasOwnProperty_1,anInstance=anInstance$4,inheritIfRequired=inheritIfRequired$1,normalizeStringArgument=normalizeStringArgument$2,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS$2=descriptors,DOM_EXCEPTION="DOMException",Error$2=getBuiltIn$3("Error"),NativeDOMException=getBuiltIn$3(DOM_EXCEPTION),$DOMException=function(){anInstance(this,DOMExceptionPrototype);var t=arguments.length,e=normalizeStringArgument(t<1?void 0:arguments[0]),i=normalizeStringArgument(t<2?void 0:arguments[1],"Error"),s=new NativeDOMException(e,i),n=new Error$2(e);return n.name=DOM_EXCEPTION,defineProperty(s,"stack",createPropertyDescriptor(1,clearErrorStack(n.stack,1))),inheritIfRequired(s,this,$DOMException),s},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in new Error$2(DOM_EXCEPTION),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor=NativeDOMException&&DESCRIPTORS$2&&Object.getOwnPropertyDescriptor(globalThis$6,DOM_EXCEPTION),BUGGY_DESCRIPTOR=!(!descriptor||descriptor.writable&&descriptor.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$6({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$3(DOM_EXCEPTION),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException)for(var key in defineProperty(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor(1,PolyfilledDOMException)),DOMExceptionConstants)if(hasOwn$3(DOMExceptionConstants,key)){var constant$5=DOMExceptionConstants[key],constantName=constant$5.s;hasOwn$3(PolyfilledDOMException,constantName)||defineProperty(PolyfilledDOMException,constantName,createPropertyDescriptor(6,constant$5.c))}var $location,defer,channel,port,$TypeError=TypeError,validateArgumentsLength$7=function(t,e){if(t<e)throw new $TypeError("Not enough arguments");return t},userAgent=environmentUserAgent,environmentIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent),globalThis$5=globalThis_1,apply$2=functionApply,bind=functionBindContext,isCallable$2=isCallable$l,hasOwn$2=hasOwnProperty_1,fails$3=fails$t,html=html$2,arraySlice$1=arraySlice$2,createElement=documentCreateElement$1,validateArgumentsLength$6=validateArgumentsLength$7,IS_IOS=environmentIsIos,IS_NODE=environmentIsNode,set$2=globalThis$5.setImmediate,clear=globalThis$5.clearImmediate,process=globalThis$5.process,Dispatch$1=globalThis$5.Dispatch,Function$2=globalThis$5.Function,MessageChannel=globalThis$5.MessageChannel,String$1=globalThis$5.String,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange";fails$3(function(){$location=globalThis$5.location});var run=function(t){if(hasOwn$2(queue,t)){var e=queue[t];delete queue[t],e()}},runner=function(t){return function(){run(t)}},eventListener=function(t){run(t.data)},globalPostMessageDefer=function(t){globalThis$5.postMessage(String$1(t),$location.protocol+"//"+$location.host)};set$2&&clear||(set$2=function(t){validateArgumentsLength$6(arguments.length,1);var e=isCallable$2(t)?t:Function$2(t),i=arraySlice$1(arguments,1);return queue[++counter]=function(){apply$2(e,void 0,i)},defer(counter),counter},clear=function(t){delete queue[t]},IS_NODE?defer=function(t){process.nextTick(runner(t))}:Dispatch$1&&Dispatch$1.now?defer=function(t){Dispatch$1.now(runner(t))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=eventListener,defer=bind(port.postMessage,port)):globalThis$5.addEventListener&&isCallable$2(globalThis$5.postMessage)&&!globalThis$5.importScripts&&$location&&"file:"!==$location.protocol&&!fails$3(globalPostMessageDefer)?(defer=globalPostMessageDefer,globalThis$5.addEventListener("message",eventListener,!1)):defer=ONREADYSTATECHANGE in createElement("script")?function(t){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(t)}}:function(t){setTimeout(runner(t),0)});var task={set:set$2,clear:clear},$$5=_export,globalThis$4=globalThis_1,clearImmediate=task.clear;$$5({global:!0,bind:!0,enumerable:!0,forced:globalThis$4.clearImmediate!==clearImmediate},{clearImmediate:clearImmediate});var globalThis$3=globalThis_1,apply$1=functionApply,isCallable$1=isCallable$l,ENVIRONMENT=environment,USER_AGENT=environmentUserAgent,arraySlice=arraySlice$2,validateArgumentsLength$5=validateArgumentsLength$7,Function$1=globalThis$3.Function,WRAP=/MSIE .\./.test(USER_AGENT)||"BUN"===ENVIRONMENT&&function(){var t=globalThis$3.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),schedulersFix$1=function(t,e){var i=e?2:1;return WRAP?function(s,n){var B=validateArgumentsLength$5(arguments.length,1)>i,l=isCallable$1(s)?s:Function$1(s),a=B?arraySlice(arguments,i):[],c=B?function(){apply$1(l,this,a)}:l;return e?t(c,n):t(c)}:t},$$4=_export,globalThis$2=globalThis_1,setTask=task.set,schedulersFix=schedulersFix$1,setImmediate=globalThis$2.setImmediate?schedulersFix(setTask,!1):setTask;$$4({global:!0,bind:!0,enumerable:!0,forced:globalThis$2.setImmediate!==setImmediate},{setImmediate:setImmediate});var call=functionCall,hasOwn$1=hasOwnProperty_1,isPrototypeOf=objectIsPrototypeOf,regExpFlagsDetection=regexpFlagsDetection,regExpFlagsGetterImplementation=regexpFlags,RegExpPrototype=RegExp.prototype,regexpGetFlags=regExpFlagsDetection.correct?function(t){return t.flags}:function(t){return regExpFlagsDetection.correct||!isPrototypeOf(RegExpPrototype,t)||hasOwn$1(t,"flags")?t.flags:call(regExpFlagsGetterImplementation,t)},$$3=_export,globalThis$1=globalThis_1,getBuiltIn$2=getBuiltIn$j,uncurryThis$3=functionUncurryThis,fails$2=fails$t,uid=uid$4,isCallable=isCallable$l,isConstructor=isConstructor$2,isNullOrUndefined=isNullOrUndefined$5,isObject$1=isObject$f,isSymbol$1=isSymbol$4,iterate=iterate$c,anObject=anObject$s,classof=classof$c,hasOwn=hasOwnProperty_1,createProperty=createProperty$3,createNonEnumerableProperty=createNonEnumerableProperty$7,lengthOfArrayLike=lengthOfArrayLike$8,validateArgumentsLength$4=validateArgumentsLength$7,getRegExpFlags=regexpGetFlags,MapHelpers=mapHelpers,SetHelpers=setHelpers,setIterate=setIterate$1,detachTransferable=detachTransferable$2,ERROR_STACK_INSTALLABLE=errorStackInstallable,PROPER_STRUCTURED_CLONE_TRANSFER=structuredCloneProperTransfer,Object$1=globalThis$1.Object,Array$1=globalThis$1.Array,Date$1=globalThis$1.Date,Error$1=globalThis$1.Error,TypeError$1=globalThis$1.TypeError,PerformanceMark=globalThis$1.PerformanceMark,DOMException=getBuiltIn$2("DOMException"),Map$1=MapHelpers.Map,mapHas=MapHelpers.has,mapGet=MapHelpers.get,mapSet=MapHelpers.set,Set$1=SetHelpers.Set,setAdd=SetHelpers.add,setHas=SetHelpers.has,objectKeys=getBuiltIn$2("Object","keys"),push$1=uncurryThis$3([].push),thisBooleanValue=uncurryThis$3((!0).valueOf),thisNumberValue=uncurryThis$3(1.1.valueOf),thisStringValue=uncurryThis$3("".valueOf),thisTimeValue=uncurryThis$3(Date$1.prototype.getTime),PERFORMANCE_MARK=uid("structuredClone"),DATA_CLONE_ERROR="DataCloneError",TRANSFERRING="Transferring",checkBasicSemantic=function(t){return!fails$2(function(){var e=new globalThis$1.Set([7]),i=t(e),s=t(Object$1(7));return i===e||!i.has(7)||!isObject$1(s)||7!==+s})&&t},checkErrorsCloning=function(t,e){return!fails$2(function(){var i=new e,s=t({a:i,b:i});return!(s&&s.a===s.b&&s.a instanceof e&&s.a.stack===i.stack)})},checkNewErrorsCloningSemantic=function(t){return!fails$2(function(){var e=t(new globalThis$1.AggregateError([1],PERFORMANCE_MARK,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==PERFORMANCE_MARK||3!==e.cause})},nativeStructuredClone=globalThis$1.structuredClone,FORCED_REPLACEMENT=!checkErrorsCloning(nativeStructuredClone,Error$1)||!checkErrorsCloning(nativeStructuredClone,DOMException)||!checkNewErrorsCloningSemantic(nativeStructuredClone),structuredCloneFromMark=!nativeStructuredClone&&checkBasicSemantic(function(t){return new PerformanceMark(PERFORMANCE_MARK,{detail:t}).detail}),nativeRestrictedStructuredClone=checkBasicSemantic(nativeStructuredClone)||structuredCloneFromMark,throwUncloneable=function(t){throw new DOMException("Uncloneable type: "+t,DATA_CLONE_ERROR)},throwUnpolyfillable=function(t,e){throw new DOMException((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",DATA_CLONE_ERROR)},tryNativeRestrictedStructuredClone=function(t,e){return nativeRestrictedStructuredClone||throwUnpolyfillable(e),nativeRestrictedStructuredClone(t)},createDataTransfer=function(){var t;try{t=new globalThis$1.DataTransfer}catch(e){try{t=new globalThis$1.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null},cloneBuffer=function(t,e,i){if(mapHas(e,t))return mapGet(e,t);var s,n,B,l,a,c;if("SharedArrayBuffer"===(i||classof(t)))s=nativeRestrictedStructuredClone?nativeRestrictedStructuredClone(t):t;else{var F=globalThis$1.DataView;F||isCallable(t.slice)||throwUnpolyfillable("ArrayBuffer");try{if(isCallable(t.slice)&&!t.resizable)s=t.slice(0);else{n=t.byteLength,B="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,s=new ArrayBuffer(n,B),l=new F(t),a=new F(s);for(c=0;c<n;c++)a.setUint8(c,l.getUint8(c))}}catch(t){throw new DOMException("ArrayBuffer is detached",DATA_CLONE_ERROR)}}return mapSet(e,t,s),s},cloneView=function(t,e,i,s,n){var B=globalThis$1[e];return isObject$1(B)||throwUnpolyfillable(e),new B(cloneBuffer(t.buffer,n),i,s)},structuredCloneInternal=function(t,e){if(isSymbol$1(t)&&throwUncloneable("Symbol"),!isObject$1(t))return t;if(e){if(mapHas(e,t))return mapGet(e,t)}else e=new Map$1;var i,s,n,B,l,a,c,F,Q=classof(t);switch(Q){case"Array":n=Array$1(lengthOfArrayLike(t));break;case"Object":n={};break;case"Map":n=new Map$1;break;case"Set":n=new Set$1;break;case"RegExp":n=new RegExp(t.source,getRegExpFlags(t));break;case"Error":switch(s=t.name){case"AggregateError":n=new(getBuiltIn$2(s))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":n=new(getBuiltIn$2(s));break;case"CompileError":case"LinkError":case"RuntimeError":n=new(getBuiltIn$2("WebAssembly",s));break;default:n=new Error$1}break;case"DOMException":n=new DOMException(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":n=cloneBuffer(t,e,Q);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":a="DataView"===Q?t.byteLength:t.length,n=cloneView(t,Q,t.byteOffset,a,e);break;case"DOMQuad":try{n=new DOMQuad(structuredCloneInternal(t.p1,e),structuredCloneInternal(t.p2,e),structuredCloneInternal(t.p3,e),structuredCloneInternal(t.p4,e))}catch(e){n=tryNativeRestrictedStructuredClone(t,Q)}break;case"File":if(nativeRestrictedStructuredClone)try{n=nativeRestrictedStructuredClone(t),classof(n)!==Q&&(n=void 0)}catch(t){}if(!n)try{n=new File([t],t.name,t)}catch(t){}n||throwUnpolyfillable(Q);break;case"FileList":if(B=createDataTransfer()){for(l=0,a=lengthOfArrayLike(t);l<a;l++)B.items.add(structuredCloneInternal(t[l],e));n=B.files}else n=tryNativeRestrictedStructuredClone(t,Q);break;case"ImageData":try{n=new ImageData(structuredCloneInternal(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){n=tryNativeRestrictedStructuredClone(t,Q)}break;default:if(nativeRestrictedStructuredClone)n=nativeRestrictedStructuredClone(t);else switch(Q){case"BigInt":n=Object$1(t.valueOf());break;case"Boolean":n=Object$1(thisBooleanValue(t));break;case"Number":n=Object$1(thisNumberValue(t));break;case"String":n=Object$1(thisStringValue(t));break;case"Date":n=new Date$1(thisTimeValue(t));break;case"Blob":try{n=t.slice(0,t.size,t.type)}catch(t){throwUnpolyfillable(Q)}break;case"DOMPoint":case"DOMPointReadOnly":i=globalThis$1[Q];try{n=i.fromPoint?i.fromPoint(t):new i(t.x,t.y,t.z,t.w)}catch(t){throwUnpolyfillable(Q)}break;case"DOMRect":case"DOMRectReadOnly":i=globalThis$1[Q];try{n=i.fromRect?i.fromRect(t):new i(t.x,t.y,t.width,t.height)}catch(t){throwUnpolyfillable(Q)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=globalThis$1[Q];try{n=i.fromMatrix?i.fromMatrix(t):new i(t)}catch(t){throwUnpolyfillable(Q)}break;case"AudioData":case"VideoFrame":isCallable(t.clone)||throwUnpolyfillable(Q);try{n=t.clone()}catch(t){throwUncloneable(Q)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(Q);default:throwUncloneable(Q)}}switch(mapSet(e,t,n),Q){case"Array":case"Object":for(c=objectKeys(t),l=0,a=lengthOfArrayLike(c);l<a;l++)F=c[l],createProperty(n,F,structuredCloneInternal(t[F],e));break;case"Map":t.forEach(function(t,i){mapSet(n,structuredCloneInternal(i,e),structuredCloneInternal(t,e))});break;case"Set":t.forEach(function(t){setAdd(n,structuredCloneInternal(t,e))});break;case"Error":createNonEnumerableProperty(n,"message",structuredCloneInternal(t.message,e)),hasOwn(t,"cause")&&createNonEnumerableProperty(n,"cause",structuredCloneInternal(t.cause,e)),"AggregateError"===s?n.errors=structuredCloneInternal(t.errors,e):"SuppressedError"===s&&(n.error=structuredCloneInternal(t.error,e),n.suppressed=structuredCloneInternal(t.suppressed,e));case"DOMException":ERROR_STACK_INSTALLABLE&&createNonEnumerableProperty(n,"stack",structuredCloneInternal(t.stack,e))}return n},tryToTransfer=function(t,e){if(!isObject$1(t))throw new TypeError$1("Transfer option cannot be converted to a sequence");var i=[];iterate(t,function(t){push$1(i,anObject(t))});for(var s,n,B,l,a,c=0,F=lengthOfArrayLike(i),Q=new Set$1;c<F;){if(s=i[c++],"ArrayBuffer"===(n=classof(s))?setHas(Q,s):mapHas(e,s))throw new DOMException("Duplicate transferable",DATA_CLONE_ERROR);if("ArrayBuffer"!==n){if(PROPER_STRUCTURED_CLONE_TRANSFER)l=nativeStructuredClone(s,{transfer:[s]});else switch(n){case"ImageBitmap":B=globalThis$1.OffscreenCanvas,isConstructor(B)||throwUnpolyfillable(n,TRANSFERRING);try{(a=new B(s.width,s.height)).getContext("bitmaprenderer").transferFromImageBitmap(s),l=a.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":isCallable(s.clone)&&isCallable(s.close)||throwUnpolyfillable(n,TRANSFERRING);try{l=s.clone(),s.close()}catch(t){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":throwUnpolyfillable(n,TRANSFERRING)}if(void 0===l)throw new DOMException("This object cannot be transferred: "+n,DATA_CLONE_ERROR);mapSet(e,s,l)}else setAdd(Q,s)}return Q},detachBuffers=function(t){setIterate(t,function(t){PROPER_STRUCTURED_CLONE_TRANSFER?nativeRestrictedStructuredClone(t,{transfer:[t]}):isCallable(t.transfer)?t.transfer():detachTransferable?detachTransferable(t):throwUnpolyfillable("ArrayBuffer",TRANSFERRING)})};$$3({global:!0,enumerable:!0,sham:!PROPER_STRUCTURED_CLONE_TRANSFER,forced:FORCED_REPLACEMENT},{structuredClone:function(t){var e,i,s=validateArgumentsLength$4(arguments.length,1)>1&&!isNullOrUndefined(arguments[1])?anObject(arguments[1]):void 0,n=s?s.transfer:void 0;void 0!==n&&(e=new Map$1,i=tryToTransfer(n,e));var B=structuredCloneInternal(t,e);return i&&detachBuffers(i),B}});var fails$1=fails$t,wellKnownSymbol=wellKnownSymbol$l,DESCRIPTORS$1=descriptors,IS_PURE=isPure,ITERATOR=wellKnownSymbol("iterator"),urlConstructorDetection=!fails$1(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),s="";return t.pathname="c%20d",e.forEach(function(t,i){e.delete("b"),s+=i+t}),i.delete("a",2),i.delete("b",void 0),IS_PURE&&(!t.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!e.size&&(IS_PURE||!DESCRIPTORS$1)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("https://a#Ð±").hash||"a1c3"!==s||"x"!==new URL("https://x",void 0).host}),$$2=_export,getBuiltIn$1=getBuiltIn$j,fails=fails$t,validateArgumentsLength$3=validateArgumentsLength$7,toString$3=toString$9,USE_NATIVE_URL$1=urlConstructorDetection,URL$2=getBuiltIn$1("URL"),THROWS_WITHOUT_ARGUMENTS=USE_NATIVE_URL$1&&fails(function(){URL$2.canParse()}),WRONG_ARITY=fails(function(){return 1!==URL$2.canParse.length});$$2({target:"URL",stat:!0,forced:!THROWS_WITHOUT_ARGUMENTS||WRONG_ARITY},{canParse:function(t){var e=validateArgumentsLength$3(arguments.length,1),i=toString$3(t),s=e<2||void 0===arguments[1]?void 0:toString$3(arguments[1]);try{return!!new URL$2(i,s)}catch(t){return!1}}});var $$1=_export,getBuiltIn=getBuiltIn$j,validateArgumentsLength$2=validateArgumentsLength$7,toString$2=toString$9,USE_NATIVE_URL=urlConstructorDetection,URL$1=getBuiltIn("URL");$$1({target:"URL",stat:!0,forced:!USE_NATIVE_URL},{parse:function(t){var e=validateArgumentsLength$2(arguments.length,1),i=toString$2(t),s=e<2||void 0===arguments[1]?void 0:toString$2(arguments[1]);try{return new URL$1(i,s)}catch(t){return null}}});var defineBuiltIn$1=defineBuiltIn$b,uncurryThis$2=functionUncurryThis,toString$1=toString$9,validateArgumentsLength$1=validateArgumentsLength$7,$URLSearchParams$1=URLSearchParams,URLSearchParamsPrototype$2=$URLSearchParams$1.prototype,append$2=uncurryThis$2(URLSearchParamsPrototype$2.append),$delete=uncurryThis$2(URLSearchParamsPrototype$2.delete),forEach$1=uncurryThis$2(URLSearchParamsPrototype$2.forEach),push=uncurryThis$2([].push),params$1=new $URLSearchParams$1("a=1&a=2&b=3");params$1.delete("a",1),params$1.delete("b",void 0),params$1+""!="a=2"&&defineBuiltIn$1(URLSearchParamsPrototype$2,"delete",function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return $delete(this,t);var s=[];forEach$1(this,function(t,e){push(s,{key:e,value:t})}),validateArgumentsLength$1(e,1);for(var n,B=toString$1(t),l=toString$1(i),a=0,c=0,F=!1,Q=s.length;a<Q;)n=s[a++],F||n.key===B?(F=!0,$delete(this,n.key)):c++;for(;c<Q;)(n=s[c++]).key===B&&n.value===l||append$2(this,n.key,n.value)},{enumerable:!0,unsafe:!0});var defineBuiltIn=defineBuiltIn$b,uncurryThis$1=functionUncurryThis,toString=toString$9,validateArgumentsLength=validateArgumentsLength$7,$URLSearchParams=URLSearchParams,URLSearchParamsPrototype$1=$URLSearchParams.prototype,getAll=uncurryThis$1(URLSearchParamsPrototype$1.getAll),$has=uncurryThis$1(URLSearchParamsPrototype$1.has),params=new $URLSearchParams("a=1");!params.has("a",2)&&params.has("a",void 0)||defineBuiltIn(URLSearchParamsPrototype$1,"has",function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return $has(this,t);var s=getAll(this,t);validateArgumentsLength(e,1);for(var n=toString(i),B=0;B<s.length;)if(s[B++]===n)return!0;return!1},{enumerable:!0,unsafe:!0});var DESCRIPTORS=descriptors,uncurryThis=functionUncurryThis,defineBuiltInAccessor=defineBuiltInAccessor$7,URLSearchParamsPrototype=URLSearchParams.prototype,forEach=uncurryThis(URLSearchParamsPrototype.forEach);DESCRIPTORS&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor(URLSearchParamsPrototype,"size",{get:function(){var t=0;return forEach(this,function(){t++}),t},configurable:!0,enumerable:!0});const elementMap=new Map;var Data={set(t,e,i){elementMap.has(t)||elementMap.set(t,new Map);const s=elementMap.get(t);s.has(e)||0===s.size?s.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(t,e)=>elementMap.has(t)&&elementMap.get(t).get(e)||null,remove(t,e){if(!elementMap.has(t))return;const i=elementMap.get(t);i.delete(e),0===i.size&&elementMap.delete(t)}};const MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),toType=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const s=Number.parseFloat(e),n=Number.parseFloat(i);return s||n?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0},triggerTransitionEnd=t=>{t.dispatchEvent(new Event(TRANSITION_END))},isElement=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),getElement=t=>isElement(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(parseSelector(t)):null,isVisible=t=>{if(!isElement(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),reflow=t=>{t.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=t=>{"loading"===document.readyState?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of DOMContentLoadedCallbacks)t()}),DOMContentLoadedCallbacks.push(t)):t()},defineJQueryPlugin=t=>{onDOMContentLoaded(()=>{const e=getjQuery();if(e){const i=t.NAME,s=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=s,t.jQueryInterface)}})},execute=(t,e=[],i=t)=>"function"==typeof t?t.call(...e):i,executeAfterTransition=(t,e,i=!0)=>{if(!i)return void execute(t);const s=getTransitionDurationFromElement(e)+5;let n=!1;const B=({target:i})=>{i===e&&(n=!0,e.removeEventListener(TRANSITION_END,B),execute(t))};e.addEventListener(TRANSITION_END,B),setTimeout(()=>{n||triggerTransitionEnd(e)},s)},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(t,e){return e&&`${e}::${uidEvent++}`||t.uidEvent||uidEvent++}function getElementEvents(t){const e=makeEventUid(t);return t.uidEvent=e,eventRegistry[e]=eventRegistry[e]||{},eventRegistry[e]}function bootstrapHandler(t,e){return function i(s){return hydrateObj(s,{delegateTarget:t}),i.oneOff&&EventHandler.off(t,s.type,e),e.apply(t,[s])}}function bootstrapDelegationHandler(t,e,i){return function s(n){const B=t.querySelectorAll(e);for(let{target:l}=n;l&&l!==this;l=l.parentNode)for(const a of B)if(a===l)return hydrateObj(n,{delegateTarget:l}),s.oneOff&&EventHandler.off(t,n.type,e,i),i.apply(l,[n])}}function findHandler(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function normalizeParameters(t,e,i){const s="string"==typeof e,n=s?i:e||i;let B=getTypeEvent(t);return nativeEvents.has(B)||(B=t),[s,n,B]}function addHandler(t,e,i,s,n){if("string"!=typeof e||!t)return;let[B,l,a]=normalizeParameters(e,i,s);if(e in customEvents){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};l=t(l)}const c=getElementEvents(t),F=c[a]||(c[a]={}),Q=findHandler(F,l,B?i:null);if(Q)return void(Q.oneOff=Q.oneOff&&n);const r=makeEventUid(l,e.replace(namespaceRegex,"")),g=B?bootstrapDelegationHandler(t,i,l):bootstrapHandler(t,l);g.delegationSelector=B?i:null,g.callable=l,g.oneOff=n,g.uidEvent=r,F[r]=g,t.addEventListener(a,g,B)}function removeHandler(t,e,i,s,n){const B=findHandler(e[i],s,n);B&&(t.removeEventListener(i,B,Boolean(n)),delete e[i][B.uidEvent])}function removeNamespacedHandlers(t,e,i,s){const n=e[i]||{};for(const[B,l]of Object.entries(n))B.includes(s)&&removeHandler(t,e,i,l.callable,l.delegationSelector)}function getTypeEvent(t){return t=t.replace(stripNameRegex,""),customEvents[t]||t}const EventHandler={on(t,e,i,s){addHandler(t,e,i,s,!1)},one(t,e,i,s){addHandler(t,e,i,s,!0)},off(t,e,i,s){if("string"!=typeof e||!t)return;const[n,B,l]=normalizeParameters(e,i,s),a=l!==e,c=getElementEvents(t),F=c[l]||{},Q=e.startsWith(".");if(void 0===B){if(Q)for(const i of Object.keys(c))removeNamespacedHandlers(t,c,i,e.slice(1));for(const[i,s]of Object.entries(F)){const n=i.replace(stripUidRegex,"");a&&!e.includes(n)||removeHandler(t,c,l,s.callable,s.delegationSelector)}}else{if(!Object.keys(F).length)return;removeHandler(t,c,l,B,n?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const s=getjQuery();let n=null,B=!0,l=!0,a=!1;e!==getTypeEvent(e)&&s&&(n=s.Event(e,i),s(t).trigger(n),B=!n.isPropagationStopped(),l=!n.isImmediatePropagationStopped(),a=n.isDefaultPrevented());const c=hydrateObj(new Event(e,{bubbles:B,cancelable:!0}),i);return a&&c.preventDefault(),l&&t.dispatchEvent(c),c.defaultPrevented&&n&&n.preventDefault(),c}};function hydrateObj(t,e={}){for(const[i,s]of Object.entries(e))try{t[i]=s}catch{Object.defineProperty(t,i,{configurable:!0,get:()=>s})}return t}function normalizeData(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function normalizeDataKey(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Manipulator={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${normalizeDataKey(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${normalizeDataKey(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const s of i){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=normalizeData(t.dataset[s])}return e},getDataAttribute:(t,e)=>normalizeData(t.getAttribute(`data-bs-${normalizeDataKey(e)}`))};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=isElement(e)?Manipulator.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...isElement(e)?Manipulator.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const e=t[i],n=isElement(e)?"element":toType(e);if(!new RegExp(s).test(n))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${n}" but expected type "${s}".`)}}}const VERSION="5.3.8";class BaseComponent extends Config{constructor(t,e){super(),(t=getElement(t))&&(this._element=t,this._config=this._getConfig(e),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){executeAfterTransition(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Data.get(getElement(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const NAME$1="button",DATA_KEY$1="bs.button",EVENT_KEY$1=`.${DATA_KEY$1}`,DATA_API_KEY$1=".data-api",CLASS_NAME_ACTIVE="active",SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$1}.data-api`;class Button extends BaseComponent{static get NAME(){return NAME$1}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=Button.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,t=>{t.preventDefault();const e=t.target.closest(SELECTOR_DATA_TOGGLE$1);Button.getOrCreateInstance(e).toggle()}),defineJQueryPlugin(Button);const getSelector=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map(t=>parseSelector(t)).join(","):null},SelectorEngine={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const i=[];let s=t.parentNode.closest(e);for(;s;)i.push(s),s=s.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!isDisabled(t)&&isVisible(t))},getSelectorFromElement(t){const e=getSelector(t);return e&&SelectorEngine.findOne(e)?e:null},getElementFromSelector(t){const e=getSelector(t);return e?SelectorEngine.findOne(e):null},getMultipleElementsFromSelector(t){const e=getSelector(t);return e?SelectorEngine.find(e):[]}},NAME="collapse",DATA_KEY="bs.collapse",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,CLASS_NAME_SHOW="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=":scope .collapse .collapse",CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE='[data-bs-toggle="collapse"]',Default={parent:null,toggle:!0},DefaultType={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=SelectorEngine.find(SELECTOR_DATA_TOGGLE);for(const t of i){const e=SelectorEngine.getSelectorFromElement(t),i=SelectorEngine.find(e).filter(t=>t===this._element);null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(t=>t!==this._element).map(t=>Collapse.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[e]="",EventHandler.trigger(this._element,EVENT_SHOWN)},this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,reflow(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");for(const t of this._triggerArray){const e=SelectorEngine.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),EventHandler.trigger(this._element,EVENT_HIDDEN)},this._element,!0)}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=getElement(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE);for(const e of t){const t=SelectorEngine.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Collapse.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(t,{toggle:!1}).toggle()}),defineJQueryPlugin(Collapse);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$2=globalThis,e$3=t$2.ShadowRoot&&(void 0===t$2.ShadyCSS||t$2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$6=new WeakMap;let n$4=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(e$3&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=o$6.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&o$6.set(e,t))}return t}toString(){return this.cssText}};const r$4=t=>new n$4("string"==typeof t?t:t+"",void 0,s$4),i$5=(t,...e)=>{const i=1===t.length?t[0]:e.reduce((e,i,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new n$4(i,t,s$4)},S$1=(t,e)=>{if(e$3)t.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const i of e){const e=document.createElement("style"),s=t$2.litNonce;void 0!==s&&e.setAttribute("nonce",s),e.textContent=i.cssText,t.appendChild(e)}},c$6=e$3?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return r$4(e)})(t):t,{is:i$4,defineProperty:e$2,getOwnPropertyDescriptor:h$2,getOwnPropertyNames:r$3,getOwnPropertySymbols:o$5,getPrototypeOf:n$3}=Object,a$3=globalThis,c$5=a$3.trustedTypes,l$1=c$5?c$5.emptyScript:"",p$1=a$3.reactiveElementPolyfillSupport,d$1=(t,e)=>t,u$1={toAttribute(t,e){switch(e){case Boolean:t=t?l$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f$3=(t,e)=>!i$4(t,e),b$2={attribute:!0,type:String,converter:u$1,reflect:!1,useDefault:!1,hasChanged:f$3};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */Symbol.metadata??=Symbol("metadata"),a$3.litPropertyMetadata??=new WeakMap;let y$2=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=b$2){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(t,i,e);void 0!==s&&e$2(this.prototype,t,s)}}static getPropertyDescriptor(t,e,i){const{get:s,set:n}=h$2(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:s,set(e){const B=s?.call(this);n?.call(this,e),this.requestUpdate(t,B,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b$2}static _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;const t=n$3(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$1("properties"))){const t=this.properties,e=[...r$3(t),...o$5(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(c$6(t))}else void 0!==t&&e.push(c$6(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ET(t,e){const i=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,i);if(void 0!==s&&!0===i.reflect){const n=(void 0!==i.converter?.toAttribute?i.converter:u$1).toAttribute(e,i.type);this._$Em=t,null==n?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(t,e){const i=this.constructor,s=i._$Eh.get(t);if(void 0!==s&&this._$Em!==s){const t=i.getPropertyOptions(s),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u$1;this._$Em=s;const B=n.fromAttribute(e,t.type);this[s]=B??this._$Ej?.get(s)??B,this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){const s=this.constructor,n=this[t];if(i??=s.getPropertyOptions(t),!((i.hasChanged??f$3)(n,e)||i.useDefault&&i.reflect&&n===this._$Ej?.get(t)&&!this.hasAttribute(s._$Eu(t,i))))return;this.C(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:i,reflect:s,wrapped:n},B){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,B??e??this[t]),!0!==n||void 0!==B)||(this._$AL.has(t)||(this.hasUpdated||i||(e=void 0),this._$AL.set(t,e)),!0===s&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t){const{wrapped:t}=i,s=this[e];!0!==t||this._$AL.has(e)||void 0===s||this.C(e,void 0,i,s)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(t){}firstUpdated(t){}};y$2.elementStyles=[],y$2.shadowRootOptions={mode:"open"},y$2[d$1("elementProperties")]=new Map,y$2[d$1("finalized")]=new Map,p$1?.({ReactiveElement:y$2}),(a$3.reactiveElementVersions??=[]).push("2.1.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$1=globalThis,i$3=t$1.trustedTypes,s$3=i$3?i$3.createPolicy("lit-html",{createHTML:t=>t}):void 0,e$1="$lit$",h$1=`lit$${Math.random().toFixed(9).slice(2)}$`,o$4="?"+h$1,n$2=`<${o$4}>`,r$2=document,l=()=>r$2.createComment(""),c$4=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a$2=Array.isArray,u=t=>a$2(t)||"function"==typeof t?.[Symbol.iterator],d="[ \t\n\f\r]",f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$1=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g$1=/"/g,$=/^(?:script|style|textarea|title)$/i,y$1=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),x$2=y$1(1),b$1=y$1(2),T=Symbol.for("lit-noChange"),E$1=Symbol.for("lit-nothing"),A$2=new WeakMap,C$1=r$2.createTreeWalker(r$2,129);function P(t,e){if(!a$2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s$3?s$3.createHTML(e):e}const V=(t,e)=>{const i=t.length-1,s=[];let n,B=2===e?"<svg>":3===e?"<math>":"",l=f$2;for(let e=0;e<i;e++){const i=t[e];let a,c,F=-1,Q=0;for(;Q<i.length&&(l.lastIndex=Q,c=l.exec(i),null!==c);)Q=l.lastIndex,l===f$2?"!--"===c[1]?l=v$1:void 0!==c[1]?l=_:void 0!==c[2]?($.test(c[2])&&(n=RegExp("</"+c[2],"g")),l=m):void 0!==c[3]&&(l=m):l===m?">"===c[0]?(l=n??f$2,F=-1):void 0===c[1]?F=-2:(F=l.lastIndex-c[2].length,a=c[1],l=void 0===c[3]?m:'"'===c[3]?g$1:p):l===g$1||l===p?l=m:l===v$1||l===_?l=f$2:(l=m,n=void 0);const r=l===m&&t[e+1].startsWith("/>")?" ":"";B+=l===f$2?i+n$2:F>=0?(s.push(a),i.slice(0,F)+e$1+i.slice(F)+h$1+r):i+h$1+(-2===F?e:r)}return[P(t,B+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),s]};let N$1=class t{constructor({strings:e,_$litType$:i},s){let n;this.parts=[];let B=0,a=0;const c=e.length-1,F=this.parts,[Q,r]=V(e,i);if(this.el=t.createElement(Q,s),C$1.currentNode=this.el.content,2===i||3===i){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(n=C$1.nextNode())&&F.length<c;){if(1===n.nodeType){if(n.hasAttributes())for(const t of n.getAttributeNames())if(t.endsWith(e$1)){const e=r[a++],i=n.getAttribute(t).split(h$1),s=/([.?@])?(.*)/.exec(e);F.push({type:1,index:B,name:s[2],strings:i,ctor:"."===s[1]?H:"?"===s[1]?I:"@"===s[1]?L:k$1}),n.removeAttribute(t)}else t.startsWith(h$1)&&(F.push({type:6,index:B}),n.removeAttribute(t));if($.test(n.tagName)){const t=n.textContent.split(h$1),e=t.length-1;if(e>0){n.textContent=i$3?i$3.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],l()),C$1.nextNode(),F.push({type:2,index:++B});n.append(t[e],l())}}}else if(8===n.nodeType)if(n.data===o$4)F.push({type:2,index:B});else{let t=-1;for(;-1!==(t=n.data.indexOf(h$1,t+1));)F.push({type:7,index:B}),t+=h$1.length-1}B++}}static createElement(t,e){const i=r$2.createElement("template");return i.innerHTML=t,i}};function S(t,e,i=t,s){if(e===T)return e;let n=void 0!==s?i._$Co?.[s]:i._$Cl;const B=c$4(e)?void 0:e._$litDirective$;return n?.constructor!==B&&(n?._$AO?.(!1),void 0===B?n=void 0:(n=new B(t),n._$AT(t,i,s)),void 0!==s?(i._$Co??=[])[s]=n:i._$Cl=n),void 0!==n&&(e=S(t,n._$AS(t,e.values),n,s)),e}let M$1=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,s=(t?.creationScope??r$2).importNode(e,!0);C$1.currentNode=s;let n=C$1.nextNode(),B=0,l=0,a=i[0];for(;void 0!==a;){if(B===a.index){let e;2===a.type?e=new R(n,n.nextSibling,this,t):1===a.type?e=new a.ctor(n,a.name,a.strings,this,t):6===a.type&&(e=new z(n,this,t)),this._$AV.push(e),a=i[++l]}B!==a?.index&&(n=C$1.nextNode(),B++)}return C$1.currentNode=r$2,s}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}};class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,s){this.type=2,this._$AH=E$1,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=S(this,t,e),c$4(t)?t===E$1||null==t||""===t?(this._$AH!==E$1&&this._$AR(),this._$AH=E$1):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E$1&&c$4(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$2.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,s="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=N$1.createElement(P(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(e);else{const t=new M$1(s,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=A$2.get(t.strings);return void 0===e&&A$2.set(t.strings,e=new N$1(t)),e}k(t){a$2(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const n of t)s===e.length?e.push(i=new R(this.O(l()),this.O(l()),this,this.options)):i=e[s],i._$AI(n),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}let k$1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,s,n){this.type=1,this._$AH=E$1,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=E$1}_$AI(t,e=this,i,s){const n=this.strings;let B=!1;if(void 0===n)t=S(this,t,e,0),B=!c$4(t)||t!==this._$AH&&t!==T,B&&(this._$AH=t);else{const s=t;let l,a;for(t=n[0],l=0;l<n.length-1;l++)a=S(this,s[i+l],e,l),a===T&&(a=this._$AH[l]),B||=!c$4(a)||a!==this._$AH[l],a===E$1?t=E$1:t!==E$1&&(t+=(a??"")+n[l+1]),this._$AH[l]=a}B&&!s&&this.j(t)}j(t){t===E$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class H extends k$1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E$1?void 0:t}}class I extends k$1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E$1)}}class L extends k$1{constructor(t,e,i,s,n){super(t,e,i,s,n),this.type=5}_$AI(t,e=this){if((t=S(this,t,e,0)??E$1)===T)return;const i=this._$AH,s=t===E$1&&i!==E$1||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,n=t!==E$1&&(i===E$1||s);s&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j$1=t$1.litHtmlPolyfillSupport;j$1?.(N$1,R),(t$1.litHtmlVersions??=[]).push("3.3.1");const B$1=(t,e,i)=>{const s=i?.renderBefore??e;let n=s._$litPart$;if(void 0===n){const t=i?.renderBefore??null;s._$litPart$=n=new R(e.insertBefore(l(),t),t,void 0,i??{})}return n._$AI(t),n},s$2=globalThis;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let i$2=class extends y$2{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=B$1(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return T}};i$2._$litElement$=!0,i$2.finalized=!0,s$2.litElementHydrateSupport?.({LitElement:i$2});const o$3=s$2.litElementPolyfillSupport;function ascending$1(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,i,s;function n(t,s,n=0,B=t.length){if(n<B){if(0!==e(s,s))return B;do{const e=n+B>>>1;i(t[e],s)<0?n=e+1:B=e}while(n<B)}return n}return 2!==t.length?(e=ascending$1,i=(e,i)=>ascending$1(t(e),i),s=(e,i)=>t(e)-i):(e=t===ascending$1||t===descending?t:zero$1,i=t,s=t),{left:n,center:function(t,e,i=0,B=t.length){const l=n(t,e,i,B-1);return l>i&&s(t[l-1],e)>-s(t[l],e)?l-1:l},right:function(t,s,n=0,B=t.length){if(n<B){if(0!==e(s,s))return B;do{const e=n+B>>>1;i(t[e],s)<=0?n=e+1:B=e}while(n<B)}return n}}}function zero$1(){return 0}function number$4(t){return null===t?NaN:+t}function*numbers(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let i=-1;for(let s of t)null!=(s=e(s,++i,t))&&(s=+s)>=s&&(yield s)}}o$3?.({LitElement:i$2}),(s$2.litElementVersions??=[]).push("4.2.1");const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;function count(t,e){let i=0;for(let e of t)null!=e&&(e=+e)>=e&&++i;return i}function length$1(t){return 0|t.length}function empty$1(t){return!(t>0)}function arrayify$1(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function reducer(t){return e=>t(...e)}function cross(...t){const e="function"==typeof t[t.length-1]&&reducer(t.pop()),i=(t=t.map(arrayify$1)).map(length$1),s=t.length-1,n=new Array(s+1).fill(0),B=[];if(s<0||i.some(empty$1))return B;for(;;){B.push(n.map((e,i)=>t[i][e]));let l=s;for(;++n[l]===i[l];){if(0===l)return e?B.map(e):B;n[l--]=0}}}function cumsum(t,e){var i=0;return Float64Array.from(t,t=>i+=+t||0)}function variance(t,e){let i,s=0,n=0,B=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(i=e-n,n+=i/++s,B+=i*(e-n));else{let l=-1;for(let a of t)null!=(a=e(a,++l,t))&&(a=+a)>=a&&(i=a-n,n+=i/++s,B+=i*(a-n))}if(s>1)return B/(s-1)}function deviation(t,e){const i=variance(t,e);return i?Math.sqrt(i):i}function extent$1(t,e){let i,s;if(void 0===e)for(const e of t)null!=e&&(void 0===i?e>=e&&(i=s=e):(i>e&&(i=e),s<e&&(s=e)));else{let n=-1;for(let B of t)null!=(B=e(B,++n,t))&&(void 0===i?B>=B&&(i=s=B):(i>B&&(i=B),s<B&&(s=B)))}return[i,s]}bisector(number$4).center;class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let s=0;s<this._n&&s<32;s++){const n=e[s],B=t+n,l=Math.abs(t)<Math.abs(n)?t-(B-n):n-(B-t);l&&(e[i++]=l),t=B}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e,i,s,n=this._n,B=0;if(n>0){for(B=t[--n];n>0&&(e=B,i=t[--n],B=e+i,s=i-(B-e),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=2*s,e=B+i,i==e-B&&(B=e))}return B}}class InternMap extends Map{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,i]of t)this.set(e,i)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,e){return super.set(intern_set(this,t),e)}delete(t){return super.delete(intern_delete(this,t))}}class InternSet extends Set{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(intern_get(this,t))}add(t){return super.add(intern_set(this,t))}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:t,_key:e},i){const s=e(i);return t.has(s)?t.get(s):i}function intern_set({_intern:t,_key:e},i){const s=e(i);return t.has(s)?t.get(s):(t.set(s,i),i)}function intern_delete({_intern:t,_key:e},i){const s=e(i);return t.has(s)&&(i=t.get(s),t.delete(s)),i}function keyof$1(t){return null!==t&&"object"==typeof t?t.valueOf():t}function identity$8(t){return t}function group(t,...e){return nest(t,identity$8,identity$8,e)}function rollup(t,e,...i){return nest(t,identity$8,e,i)}function rollups(t,e,...i){return nest(t,Array.from,e,i)}function nest(t,e,i,s){return function t(n,B){if(B>=s.length)return i(n);const l=new InternMap,a=s[B++];let c=-1;for(const t of n){const e=a(t,++c,n),i=l.get(e);i?i.push(t):l.set(e,[t])}for(const[e,i]of l)l.set(e,t(i,B));return e(l)}(t,0)}function permute(t,e){return Array.from(e,e=>t[e])}function sort$1(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[i]=e;if(i&&2!==i.length||e.length>1){const s=Uint32Array.from(t,(t,e)=>e);return e.length>1?(e=e.map(e=>t.map(e)),s.sort((t,i)=>{for(const s of e){const e=ascendingDefined$1(s[t],s[i]);if(e)return e}})):(i=t.map(i),s.sort((t,e)=>ascendingDefined$1(i[t],i[e]))),permute(t,s)}return t.sort(compareDefined(i))}function compareDefined(t=ascending$1){if(t===ascending$1)return ascendingDefined$1;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,i)=>{const s=t(e,i);return s||0===s?s:(0===t(i,i))-(0===t(e,e))}}function ascendingDefined$1(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function groupSort(t,e,i){return(2!==e.length?sort$1(rollup(t,e,i),([t,e],[i,s])=>ascending$1(e,s)||ascending$1(t,i)):sort$1(group(t,i),([t,i],[s,n])=>e(i,n)||ascending$1(t,s))).map(([t])=>t)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,i){const s=(e-t)/Math.max(0,i),n=Math.floor(Math.log10(s)),B=s/Math.pow(10,n),l=B>=e10?10:B>=e5?5:B>=e2?2:1;let a,c,F;return n<0?(F=Math.pow(10,-n)/l,a=Math.round(t*F),c=Math.round(e*F),a/F<t&&++a,c/F>e&&--c,F=-F):(F=Math.pow(10,n)*l,a=Math.round(t/F),c=Math.round(e/F),a*F<t&&++a,c*F>e&&--c),c<a&&.5<=i&&i<2?tickSpec(t,e,2*i):[a,c,F]}function ticks(t,e,i){if(!((i=+i)>0))return[];if((t=+t)===(e=+e))return[t];const s=e<t,[n,B,l]=s?tickSpec(e,t,i):tickSpec(t,e,i);if(!(B>=n))return[];const a=B-n+1,c=new Array(a);if(s)if(l<0)for(let t=0;t<a;++t)c[t]=(B-t)/-l;else for(let t=0;t<a;++t)c[t]=(B-t)*l;else if(l<0)for(let t=0;t<a;++t)c[t]=(n+t)/-l;else for(let t=0;t<a;++t)c[t]=(n+t)*l;return c}function tickIncrement(t,e,i){return tickSpec(t=+t,e=+e,i=+i)[2]}function tickStep(t,e,i){i=+i;const s=(e=+e)<(t=+t),n=s?tickIncrement(e,t,i):tickIncrement(t,e,i);return(s?-1:1)*(n<0?1/-n:n)}function thresholdSturges(t){return Math.max(1,Math.ceil(Math.log(count(t))/Math.LN2)+1)}function max(t,e){let i;if(void 0===e)for(const e of t)null!=e&&(i<e||void 0===i&&e>=e)&&(i=e);else{let s=-1;for(let n of t)null!=(n=e(n,++s,t))&&(i<n||void 0===i&&n>=n)&&(i=n)}return i}function maxIndex(t,e){let i,s=-1,n=-1;if(void 0===e)for(const e of t)++n,null!=e&&(i<e||void 0===i&&e>=e)&&(i=e,s=n);else for(let B of t)null!=(B=e(B,++n,t))&&(i<B||void 0===i&&B>=B)&&(i=B,s=n);return s}function min$1(t,e){let i;if(void 0===e)for(const e of t)null!=e&&(i>e||void 0===i&&e>=e)&&(i=e);else{let s=-1;for(let n of t)null!=(n=e(n,++s,t))&&(i>n||void 0===i&&n>=n)&&(i=n)}return i}function minIndex(t,e){let i,s=-1,n=-1;if(void 0===e)for(const e of t)++n,null!=e&&(i>e||void 0===i&&e>=e)&&(i=e,s=n);else for(let B of t)null!=(B=e(B,++n,t))&&(i>B||void 0===i&&B>=B)&&(i=B,s=n);return s}function quickselect(t,e,i=0,s=1/0,n){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),s=Math.floor(Math.min(t.length-1,s)),!(i<=e&&e<=s))return t;for(n=void 0===n?ascendingDefined$1:compareDefined(n);s>i;){if(s-i>600){const B=s-i+1,l=e-i+1,a=Math.log(B),c=.5*Math.exp(2*a/3),F=.5*Math.sqrt(a*c*(B-c)/B)*(l-B/2<0?-1:1);quickselect(t,e,Math.max(i,Math.floor(e-l*c/B+F)),Math.min(s,Math.floor(e+(B-l)*c/B+F)),n)}const B=t[e];let l=i,a=s;for(swap(t,i,e),n(t[s],B)>0&&swap(t,i,s);l<a;){for(swap(t,l,a),++l,--a;n(t[l],B)<0;)++l;for(;n(t[a],B)>0;)--a}0===n(t[i],B)?swap(t,i,a):(++a,swap(t,a,s)),a<=e&&(i=a+1),e<=a&&(s=a-1)}return t}function swap(t,e,i){const s=t[e];t[e]=t[i],t[i]=s}function greatest(t,e=ascending$1){let i,s=!1;if(1===e.length){let n;for(const B of t){const t=e(B);(s?ascending$1(t,n)>0:0===ascending$1(t,t))&&(i=B,n=t,s=!0)}}else for(const n of t)(s?e(n,i)>0:0===e(n,n))&&(i=n,s=!0);return i}function quantile$1(t,e,i){if((s=(t=Float64Array.from(numbers(t,i))).length)&&!isNaN(e=+e)){if(e<=0||s<2)return min$1(t);if(e>=1)return max(t);var s,n=(s-1)*e,B=Math.floor(n),l=max(quickselect(t,B).subarray(0,B+1));return l+(min$1(t.subarray(B+1))-l)*(n-B)}}function quantileSorted(t,e,i=number$4){if((s=t.length)&&!isNaN(e=+e)){if(e<=0||s<2)return+i(t[0],0,t);if(e>=1)return+i(t[s-1],s-1,t);var s,n=(s-1)*e,B=Math.floor(n),l=+i(t[B],B,t);return l+(+i(t[B+1],B+1,t)-l)*(n-B)}}function thresholdFreedmanDiaconis(t,e,i){const s=count(t),n=quantile$1(t,.75)-quantile$1(t,.25);return s&&n?Math.ceil((i-e)/(2*n*Math.pow(s,-1/3))):1}function thresholdScott(t,e,i){const s=count(t),n=deviation(t);return s&&n?Math.ceil((i-e)*Math.cbrt(s)/(3.49*n)):1}function mean(t,e){let i=0,s=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++i,s+=e);else{let n=-1;for(let B of t)null!=(B=e(B,++n,t))&&(B=+B)>=B&&(++i,s+=B)}if(i)return s/i}function median(t,e){return quantile$1(t,.5,e)}function*flatten(t){for(const e of t)yield*e}function merge(t){return Array.from(flatten(t))}function mode(t,e){const i=new InternMap;if(void 0===e)for(let e of t)null!=e&&e>=e&&i.set(e,(i.get(e)||0)+1);else{let s=-1;for(let n of t)null!=(n=e(n,++s,t))&&n>=n&&i.set(n,(i.get(n)||0)+1)}let s,n=0;for(const[t,e]of i)e>n&&(n=e,s=t);return s}function pairs(t,e=pair){const i=[];let s,n=!1;for(const B of t)n&&i.push(e(s,B)),s=B,n=!0;return i}function pair(t,e){return[t,e]}function range$1(t,e,i){t=+t,e=+e,i=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+i;for(var s=-1,n=0|Math.max(0,Math.ceil((e-t)/i)),B=new Array(n);++s<n;)B[s]=t+s*i;return B}function sum(t,e){let i=0;if(void 0===e)for(let e of t)(e=+e)&&(i+=e);else{let s=-1;for(let n of t)(n=+e(n,++s,t))&&(i+=n)}return i}function reverse(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function identity$7(t){return t}var top=1,right=2,bottom=3,left=4,epsilon$3=1e-6;function translateX(t){return"translate("+t+",0)"}function translateY(t){return"translate(0,"+t+")"}function number$3(t){return e=>+t(e)}function center(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function entering(){return!this.__axis}function axis(t,e){var i=[],s=null,n=null,B=6,l=6,a=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,F=t===top||t===left?-1:1,Q=t===left||t===right?"x":"y",r=t===top||t===bottom?translateX:translateY;function g(g){var U=null==s?e.ticks?e.ticks.apply(e,i):e.domain():s,I=null==n?e.tickFormat?e.tickFormat.apply(e,i):identity$7:n,o=Math.max(B,0)+a,d=e.range(),b=+d[0]+c,C=+d[d.length-1]+c,u=(e.bandwidth?center:number$3)(e.copy(),c),y=g.selection?g.selection():g,h=y.selectAll(".domain").data([null]),A=y.selectAll(".tick").data(U,e).order(),R=A.exit(),x=A.enter().append("g").attr("class","tick"),G=A.select("line"),m=A.select("text");h=h.merge(h.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(x),G=G.merge(x.append("line").attr("stroke","currentColor").attr(Q+"2",F*B)),m=m.merge(x.append("text").attr("fill","currentColor").attr(Q,F*o).attr("dy",t===top?"0em":t===bottom?"0.71em":"0.32em")),g!==y&&(h=h.transition(g),A=A.transition(g),G=G.transition(g),m=m.transition(g),R=R.transition(g).attr("opacity",epsilon$3).attr("transform",function(t){return isFinite(t=u(t))?r(t+c):this.getAttribute("transform")}),x.attr("opacity",epsilon$3).attr("transform",function(t){var e=this.parentNode.__axis;return r((e&&isFinite(e=e(t))?e:u(t))+c)})),R.remove(),h.attr("d",t===left||t===right?l?"M"+F*l+","+b+"H"+c+"V"+C+"H"+F*l:"M"+c+","+b+"V"+C:l?"M"+b+","+F*l+"V"+c+"H"+C+"V"+F*l:"M"+b+","+c+"H"+C),A.attr("opacity",1).attr("transform",function(t){return r(u(t)+c)}),G.attr(Q+"2",F*B),m.attr(Q,F*o).text(I),y.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===right?"start":t===left?"end":"middle"),y.each(function(){this.__axis=u})}return g.scale=function(t){return arguments.length?(e=t,g):e},g.ticks=function(){return i=Array.from(arguments),g},g.tickArguments=function(t){return arguments.length?(i=null==t?[]:Array.from(t),g):i.slice()},g.tickValues=function(t){return arguments.length?(s=null==t?null:Array.from(t),g):s&&s.slice()},g.tickFormat=function(t){return arguments.length?(n=t,g):n},g.tickSize=function(t){return arguments.length?(B=l=+t,g):B},g.tickSizeInner=function(t){return arguments.length?(B=+t,g):B},g.tickSizeOuter=function(t){return arguments.length?(l=+t,g):l},g.tickPadding=function(t){return arguments.length?(a=+t,g):a},g.offset=function(t){return arguments.length?(c=+t,g):c},g}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}var noop$2={value:()=>{}};function dispatch(){for(var t,e=0,i=arguments.length,s={};e<i;++e){if(!(t=arguments[e]+"")||t in s||/[\s.]/.test(t))throw new Error("illegal type: "+t);s[t]=[]}return new Dispatch(s)}function Dispatch(t){this._=t}function parseTypenames$1(t,e){return t.trim().split(/^|\s+/).map(function(t){var i="",s=t.indexOf(".");if(s>=0&&(i=t.slice(s+1),t=t.slice(0,s)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function get$1(t,e){for(var i,s=0,n=t.length;s<n;++s)if((i=t[s]).name===e)return i.value}function set$1(t,e,i){for(var s=0,n=t.length;s<n;++s)if(t[s].name===e){t[s]=noop$2,t=t.slice(0,s).concat(t.slice(s+1));break}return null!=i&&t.push({name:e,value:i}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var i,s=this._,n=parseTypenames$1(t+"",s),B=-1,l=n.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++B<l;)if(i=(t=n[B]).type)s[i]=set$1(s[i],t.name,e);else if(null==e)for(i in s)s[i]=set$1(s[i],t.name,null);return this}for(;++B<l;)if((i=(t=n[B]).type)&&(i=get$1(s[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Dispatch(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,s,n=new Array(i),B=0;B<i;++B)n[B]=arguments[B+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(B=0,i=(s=this._[t]).length;B<i;++B)s[B].value.apply(e,n)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],n=0,B=s.length;n<B;++n)s[n].value.apply(e,i)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(t):e.createElementNS(i,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector(t){return null==t?none:function(){return this.querySelector(t)}}function selection_select(t){"function"!=typeof t&&(t=selector(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var B,l,a=e[n],c=a.length,F=s[n]=new Array(c),Q=0;Q<c;++Q)(B=a[Q])&&(l=t.call(B,B.__data__,Q,a))&&("__data__"in B&&(l.__data__=B.__data__),F[Q]=l);return new Selection$1(s,this._parents)}function array$1(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function empty(){return[]}function selectorAll(t){return null==t?empty:function(){return this.querySelectorAll(t)}}function arrayAll(t){return function(){return array$1(t.apply(this,arguments))}}function selection_selectAll(t){t="function"==typeof t?arrayAll(t):selectorAll(t);for(var e=this._groups,i=e.length,s=[],n=[],B=0;B<i;++B)for(var l,a=e[B],c=a.length,F=0;F<c;++F)(l=a[F])&&(s.push(t.call(l,l.__data__,F,a)),n.push(l));return new Selection$1(s,n)}function matcher(t){return function(){return this.matches(t)}}function childMatcher(t){return function(e){return e.matches(t)}}var find=Array.prototype.find;function childFind(t){return function(){return find.call(this.children,t)}}function childFirst(){return this.firstElementChild}function selection_selectChild(t){return this.select(null==t?childFirst:childFind("function"==typeof t?t:childMatcher(t)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(t){return function(){return filter.call(this.children,t)}}function selection_selectChildren(t){return this.selectAll(null==t?children:childrenFilter("function"==typeof t?t:childMatcher(t)))}function selection_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var B,l=e[n],a=l.length,c=s[n]=[],F=0;F<a;++F)(B=l[F])&&t.call(B,B.__data__,F,l)&&c.push(B);return new Selection$1(s,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function constant$4(t){return function(){return t}}function bindIndex(t,e,i,s,n,B){for(var l,a=0,c=e.length,F=B.length;a<F;++a)(l=e[a])?(l.__data__=B[a],s[a]=l):i[a]=new EnterNode(t,B[a]);for(;a<c;++a)(l=e[a])&&(n[a]=l)}function bindKey(t,e,i,s,n,B,l){var a,c,F,Q=new Map,r=e.length,g=B.length,U=new Array(r);for(a=0;a<r;++a)(c=e[a])&&(U[a]=F=l.call(c,c.__data__,a,e)+"",Q.has(F)?n[a]=c:Q.set(F,c));for(a=0;a<g;++a)F=l.call(t,B[a],a,B)+"",(c=Q.get(F))?(s[a]=c,c.__data__=B[a],Q.delete(F)):i[a]=new EnterNode(t,B[a]);for(a=0;a<r;++a)(c=e[a])&&Q.get(U[a])===c&&(n[a]=c)}function datum(t){return t.__data__}function selection_data(t,e){if(!arguments.length)return Array.from(this,datum);var i=e?bindKey:bindIndex,s=this._parents,n=this._groups;"function"!=typeof t&&(t=constant$4(t));for(var B=n.length,l=new Array(B),a=new Array(B),c=new Array(B),F=0;F<B;++F){var Q=s[F],r=n[F],g=r.length,U=arraylike(t.call(Q,Q&&Q.__data__,F,s)),I=U.length,o=a[F]=new Array(I),d=l[F]=new Array(I);i(Q,r,o,d,c[F]=new Array(g),U,e);for(var b,C,u=0,y=0;u<I;++u)if(b=o[u]){for(u>=y&&(y=u+1);!(C=d[y])&&++y<I;);b._next=C||null}}return(l=new Selection$1(l,s))._enter=a,l._exit=c,l}function arraylike(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(t,e,i){var s=this.enter(),n=this,B=this.exit();return"function"==typeof t?(s=t(s))&&(s=s.selection()):s=s.append(t+""),null!=e&&(n=e(n))&&(n=n.selection()),null==i?B.remove():i(B),s&&n?s.merge(n).order():n}function selection_merge(t){for(var e=t.selection?t.selection():t,i=this._groups,s=e._groups,n=i.length,B=s.length,l=Math.min(n,B),a=new Array(n),c=0;c<l;++c)for(var F,Q=i[c],r=s[c],g=Q.length,U=a[c]=new Array(g),I=0;I<g;++I)(F=Q[I]||r[I])&&(U[I]=F);for(;c<n;++c)a[c]=i[c];return new Selection$1(a,this._parents)}function selection_order(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var s,n=t[e],B=n.length-1,l=n[B];--B>=0;)(s=n[B])&&(l&&4^s.compareDocumentPosition(l)&&l.parentNode.insertBefore(s,l),l=s);return this}function selection_sort(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=ascending);for(var i=this._groups,s=i.length,n=new Array(s),B=0;B<s;++B){for(var l,a=i[B],c=a.length,F=n[B]=new Array(c),Q=0;Q<c;++Q)(l=a[Q])&&(F[Q]=l);F.sort(e)}return new Selection$1(n,this._parents).order()}function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],n=0,B=s.length;n<B;++n){var l=s[n];if(l)return l}return null}function selection_size(){let t=0;for(const e of this)++t;return t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,i=0,s=e.length;i<s;++i)for(var n,B=e[i],l=0,a=B.length;l<a;++l)(n=B[l])&&t.call(n,n.__data__,l,B);return this}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS$1(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction$1(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function attrFunctionNS$1(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function selection_attr(t,e){var i=namespace(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((null==e?i.local?attrRemoveNS$1:attrRemove$1:"function"==typeof e?i.local?attrFunctionNS$1:attrFunction$1:i.local?attrConstantNS$1:attrConstant$1)(i,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove$1(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(t,e,i){return function(){this.style.setProperty(t,e,i)}}function styleFunction$1(t,e,i){return function(){var s=e.apply(this,arguments);null==s?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function selection_style(t,e,i){return arguments.length>1?this.each((null==e?styleRemove$1:"function"==typeof e?styleFunction$1:styleConstant$1)(t,e,null==i?"":i)):styleValue(this.node(),t)}function styleValue(t,e){return t.style.getPropertyValue(e)||defaultView(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function selection_property(t,e){return arguments.length>1?this.each((null==e?propertyRemove:"function"==typeof e?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var i=classList(t),s=-1,n=e.length;++s<n;)i.add(e[s])}function classedRemove(t,e){for(var i=classList(t),s=-1,n=e.length;++s<n;)i.remove(e[s])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var i=classArray(t+"");if(arguments.length<2){for(var s=classList(this.node()),n=-1,B=i.length;++n<B;)if(!s.contains(i[n]))return!1;return!0}return this.each(("function"==typeof e?classedFunction:e?classedTrue:classedFalse)(i,e))}function textRemove(){this.textContent=""}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction$1:textConstant$1)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function selection_html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e="function"==typeof t?t:creator(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(t,e){var i="function"==typeof t?t:creator(t),s=null==e?constantNull:"function"==typeof e?e:selector(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}function contextListener(t){return function(e){t.call(this,e,this.__data__)}}function parseTypenames(t){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function onRemove(t){return function(){var e=this.__on;if(e){for(var i,s=0,n=-1,B=e.length;s<B;++s)i=e[s],t.type&&i.type!==t.type||i.name!==t.name?e[++n]=i:this.removeEventListener(i.type,i.listener,i.options);++n?e.length=n:delete this.__on}}}function onAdd(t,e,i){return function(){var s,n=this.__on,B=contextListener(e);if(n)for(var l=0,a=n.length;l<a;++l)if((s=n[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=B,s.options=i),void(s.value=e);this.addEventListener(t.type,B,i),s={type:t.type,name:t.name,value:e,listener:B,options:i},n?n.push(s):this.__on=[s]}}function selection_on(t,e,i){var s,n,B=parseTypenames(t+""),l=B.length;if(!(arguments.length<2)){for(a=e?onAdd:onRemove,s=0;s<l;++s)this.each(a(B[s],e,i));return this}var a=this.node().__on;if(a)for(var c,F=0,Q=a.length;F<Q;++F)for(s=0,c=a[F];s<l;++s)if((n=B[s]).type===c.type&&n.name===c.name)return c.value}function dispatchEvent(t,e,i){var s=defaultView(t),n=s.CustomEvent;"function"==typeof n?n=new n(e,i):(n=s.document.createEvent("Event"),i?(n.initEvent(e,i.bubbles,i.cancelable),n.detail=i.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each(("function"==typeof e?dispatchFunction:dispatchConstant)(t,e))}function*selection_iterator(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s,n=t[e],B=0,l=n.length;B<l;++B)(s=n[B])&&(yield s)}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var root=[null];function Selection$1(t,e){this._groups=t,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}function select(t){return"string"==typeof t?new Selection$1([[document.querySelector(t)]],[document.documentElement]):new Selection$1([[t]],root)}function sourceEvent(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pointof(t,e){if(t=sourceEvent(t),void 0===e&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,[(s=s.matrixTransform(e.getScreenCTM().inverse())).x,s.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}}return[t.pageX,t.pageY]}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation(t){t.stopImmediatePropagation()}function noevent(t){t.preventDefault(),t.stopImmediatePropagation()}function dragDisable(t){var e=t.document.documentElement,i=select(t).on("dragstart.drag",noevent,nonpassivecapture);"onselectstart"in e?i.on("selectstart.drag",noevent,nonpassivecapture):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(t,e){var i=t.document.documentElement,s=select(t).on("dragstart.drag",null);e&&(s.on("click.drag",noevent,nonpassivecapture),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var constant$3=t=>()=>t;function DragEvent(t,{sourceEvent:e,subject:i,target:s,identifier:n,active:B,x:l,y:a,dx:c,dy:F,dispatch:Q}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:B,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:F,enumerable:!0,configurable:!0},_:{value:Q}})}function defaultFilter(t){return!t.ctrlKey&&!t.button}function defaultContainer(){return this.parentNode}function defaultSubject(t,e){return null==e?{x:t.x,y:t.y}:e}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var t,e,i,s,n=defaultFilter,B=defaultContainer,l=defaultSubject,a=defaultTouchable,c={},F=dispatch("start","drag","end"),Q=0,r=0;function g(t){t.on("mousedown.drag",U).filter(a).on("touchstart.drag",d).on("touchmove.drag",b,nonpassive).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function U(l,a){if(!s&&n.call(this,l,a)){var c=u(this,B.call(this,l,a),l,a,"mouse");c&&(select(l.view).on("mousemove.drag",I,nonpassivecapture).on("mouseup.drag",o,nonpassivecapture),dragDisable(l.view),nopropagation(l),i=!1,t=l.clientX,e=l.clientY,c("start",l))}}function I(s){if(noevent(s),!i){var n=s.clientX-t,B=s.clientY-e;i=n*n+B*B>r}c.mouse("drag",s)}function o(t){select(t.view).on("mousemove.drag mouseup.drag",null),yesdrag(t.view,i),noevent(t),c.mouse("end",t)}function d(t,e){if(n.call(this,t,e)){var i,s,l=t.changedTouches,a=B.call(this,t,e),c=l.length;for(i=0;i<c;++i)(s=u(this,a,t,e,l[i].identifier,l[i]))&&(nopropagation(t),s("start",t,l[i]))}}function b(t){var e,i,s=t.changedTouches,n=s.length;for(e=0;e<n;++e)(i=c[s[e].identifier])&&(noevent(t),i("drag",t,s[e]))}function C(t){var e,i,n=t.changedTouches,B=n.length;for(s&&clearTimeout(s),s=setTimeout(function(){s=null},500),e=0;e<B;++e)(i=c[n[e].identifier])&&(nopropagation(t),i("end",t,n[e]))}function u(t,e,i,s,n,B){var a,r,U,I=F.copy(),o=pointof(B||i,e);if(null!=(U=l.call(t,new DragEvent("beforestart",{sourceEvent:i,target:g,identifier:n,active:Q,x:o[0],y:o[1],dx:0,dy:0,dispatch:I}),s)))return a=U.x-o[0]||0,r=U.y-o[1]||0,function i(B,l,F){var d,b=o;switch(B){case"start":c[n]=i,d=Q++;break;case"end":delete c[n],--Q;case"drag":o=pointof(F||l,e),d=Q}I.call(B,t,new DragEvent(B,{sourceEvent:l,subject:U,target:g,identifier:n,active:d,x:o[0]+a,y:o[1]+r,dx:o[0]-b[0],dy:o[1]-b[1],dispatch:I}),s)}}return g.filter=function(t){return arguments.length?(n="function"==typeof t?t:constant$3(!!t),g):n},g.container=function(t){return arguments.length?(B="function"==typeof t?t:constant$3(t),g):B},g.subject=function(t){return arguments.length?(l="function"==typeof t?t:constant$3(t),g):l},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:constant$3(!!t),g):a},g.on=function(){var t=F.on.apply(F,arguments);return t===F?g:t},g.clickDistance=function(t){return arguments.length?(r=(t=+t)*t,g):Math.sqrt(r)},g}function define(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function extend(t,e){var i=Object.create(t.prototype);for(var s in e)i[s]=e[s];return i}function Color(){}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?rgbn(e):3===i?new Rgb(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?rgba(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named$1.hasOwnProperty(t)?rgbn(named$1[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,i,s){return s<=0&&(t=e=i=NaN),new Rgb(t,e,i,s)}function rgbConvert(t){return t instanceof Color||(t=color$1(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,i,s){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,i,null==s?1:s)}function Rgb(t,e,i,s){this.r=+t,this.g=+e,this.b=+i,this.opacity=+s}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${1===t?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===t?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return((t=clampi(t))<16?"0":"")+t.toString(16)}function hsla(t,e,i,s){return s<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,i,s)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color$1(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,i=t.g/255,s=t.b/255,n=Math.min(e,i,s),B=Math.max(e,i,s),l=NaN,a=B-n,c=(B+n)/2;return a?(l=e===B?(i-s)/a+6*(i<s):i===B?(s-e)/a+2:(e-i)/a+4,a/=c<.5?B+n:2-B-n,l*=60):a=c>0&&c<1?0:l,new Hsl(l,a,c,t.opacity)}function hsl$1(t,e,i,s){return 1===arguments.length?hslConvert(t):new Hsl(t,e,i,null==s?1:s)}function Hsl(t,e,i,s){this.h=+t,this.s=+e,this.l=+i,this.opacity=+s}function clamph(t){return(t=(t||0)%360)<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}define(Color,color$1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl$1,extend(Color,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*e,n=2*i-s;return new Rgb(hsl2rgb(t>=240?t-240:t+120,n,s),hsl2rgb(t,n,s),hsl2rgb(t<120?t+240:t-120,n,s),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${1===t?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===t?")":`, ${t})`}`}}));const radians$2=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl)return hcl2lab(t);t instanceof Rgb||(t=rgbConvert(t));var e,i,s=rgb2lrgb(t.r),n=rgb2lrgb(t.g),B=rgb2lrgb(t.b),l=xyz2lab((.2225045*s+.7168786*n+.0606169*B)/1);return s===n&&n===B?e=i=l:(e=xyz2lab((.4360747*s+.3850649*n+.1430804*B)/Xn),i=xyz2lab((.0139322*s+.0971045*n+.7141733*B)/Zn)),new Lab(116*l-16,500*(e-l),200*(l-i),t.opacity)}function lab$1(t,e,i,s){return 1===arguments.length?labConvert(t):new Lab(t,e,i,null==s?1:s)}function Lab(t,e,i,s){this.l=+t,this.a=+e,this.b=+i,this.opacity=+s}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0$1}function lab2xyz(t){return t>t1$1?t*t*t:t2*(t-t0$1)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*degrees$2;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hcl$1(t,e,i,s){return 1===arguments.length?hclConvert(t):new Hcl(t,e,i,null==s?1:s)}function Hcl(t,e,i,s){this.h=+t,this.c=+e,this.l=+i,this.opacity=+s}function hcl2lab(t){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*radians$2;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}define(Lab,lab$1,extend(Color,{brighter(t){return new Lab(this.l+K*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Lab(this.l-K*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=Xn*lab2xyz(e))-1.6168667*(t=1*lab2xyz(t))-.4906146*(i=Zn*lab2xyz(i))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*i),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),define(Hcl,hcl$1,extend(Color,{brighter(t){return new Hcl(this.h,this.c,this.l+K*(null==t?1:t),this.opacity)},darker(t){return new Hcl(this.h,this.c,this.l-K*(null==t?1:t),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A$1=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A$1;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,i=t.g/255,s=t.b/255,n=(BC_DA*s+ED*e-EB*i)/(BC_DA+ED-EB),B=s-n,l=(E*(i-n)-C*B)/D,a=Math.sqrt(l*l+B*B)/(E*n*(1-n)),c=a?Math.atan2(l,B)*degrees$2-120:NaN;return new Cubehelix(c<0?c+360:c,a,n,t.opacity)}function cubehelix$1(t,e,i,s){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,e,i,null==s?1:s)}function Cubehelix(t,e,i,s){this.h=+t,this.s=+e,this.l=+i,this.opacity=+s}function basis(t,e,i,s,n){var B=t*t,l=B*t;return((1-3*t+3*B-l)*e+(4-6*B+3*l)*i+(1+3*t+3*B-3*l)*s+l*n)/6}function basis$1(t){var e=t.length-1;return function(i){var s=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),n=t[s],B=t[s+1],l=s>0?t[s-1]:2*n-B,a=s<e-1?t[s+2]:2*B-n;return basis((i-s/e)*e,l,n,B,a)}}define(Cubehelix,cubehelix$1,extend(Color,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*radians$2,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),s=Math.cos(t),n=Math.sin(t);return new Rgb(255*(e+i*(A$1*s+B*n)),255*(e+i*(C*s+D*n)),255*(e+i*(E*s)),this.opacity)}}));var constant$2=t=>()=>t;function linear$2(t,e){return function(i){return t+i*e}}function exponential(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(s){return Math.pow(t+s*e,i)}}function hue(t,e){var i=e-t;return i?linear$2(t,i>180||i<-180?i-360*Math.round(i/360):i):constant$2(isNaN(t)?e:t)}function gamma(t){return 1===(t=+t)?nogamma:function(e,i){return i-e?exponential(e,i,t):constant$2(isNaN(e)?i:e)}}function nogamma(t,e){var i=e-t;return i?linear$2(t,i):constant$2(isNaN(t)?e:t)}var interpolateRgb=function t(e){var i=gamma(e);function s(t,e){var s=i((t=rgb(t)).r,(e=rgb(e)).r),n=i(t.g,e.g),B=i(t.b,e.b),l=nogamma(t.opacity,e.opacity);return function(e){return t.r=s(e),t.g=n(e),t.b=B(e),t.opacity=l(e),t+""}}return s.gamma=t,s}(1);function rgbSpline(t){return function(e){var i,s,n=e.length,B=new Array(n),l=new Array(n),a=new Array(n);for(i=0;i<n;++i)s=rgb(e[i]),B[i]=s.r||0,l[i]=s.g||0,a[i]=s.b||0;return B=t(B),l=t(l),a=t(a),s.opacity=1,function(t){return s.r=B(t),s.g=l(t),s.b=a(t),s+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(t,e){e||(e=[]);var i,s=t?Math.min(e.length,t.length):0,n=e.slice();return function(B){for(i=0;i<s;++i)n[i]=t[i]*(1-B)+e[i]*B;return n}}function isNumberArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var i,s=e?e.length:0,n=t?Math.min(s,t.length):0,B=new Array(n),l=new Array(s);for(i=0;i<n;++i)B[i]=interpolate$1(t[i],e[i]);for(;i<s;++i)l[i]=e[i];return function(t){for(i=0;i<n;++i)l[i]=B[i](t);return l}}function date$1(t,e){var i=new Date;return t=+t,e=+e,function(s){return i.setTime(t*(1-s)+e*s),i}}function interpolateNumber(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function object(t,e){var i,s={},n={};for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?s[i]=interpolate$1(t[i],e[i]):n[i]=e[i];return function(t){for(i in s)n[i]=s[i](t);return n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one$1(t){return function(e){return t(e)+""}}function interpolateString(t,e){var i,s,n,B=reA.lastIndex=reB.lastIndex=0,l=-1,a=[],c=[];for(t+="",e+="";(i=reA.exec(t))&&(s=reB.exec(e));)(n=s.index)>B&&(n=e.slice(B,n),a[l]?a[l]+=n:a[++l]=n),(i=i[0])===(s=s[0])?a[l]?a[l]+=s:a[++l]=s:(a[++l]=null,c.push({i:l,x:interpolateNumber(i,s)})),B=reB.lastIndex;return B<e.length&&(n=e.slice(B),a[l]?a[l]+=n:a[++l]=n),a.length<2?c[0]?one$1(c[0].x):zero(e):(e=c.length,function(t){for(var i,s=0;s<e;++s)a[(i=c[s]).i]=i.x(t);return a.join("")})}function interpolate$1(t,e){var i,s=typeof e;return null==e||"boolean"===s?constant$2(e):("number"===s?interpolateNumber:"string"===s?(i=color$1(e))?(e=i,interpolateRgb):interpolateString:e instanceof color$1?interpolateRgb:e instanceof Date?date$1:isNumberArray$1(e)?numberArray:Array.isArray(e)?genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:interpolateNumber)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var svgNode,degrees$1=180/Math.PI,identity$6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,i,s,n,B){var l,a,c;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(c=t*i+e*s)&&(i-=t*c,s-=e*c),(a=Math.sqrt(i*i+s*s))&&(i/=a,s/=a,c/=a),t*s<e*i&&(t=-t,e=-e,c=-c,l=-l),{translateX:n,translateY:B,rotate:Math.atan2(e,t)*degrees$1,skewX:Math.atan(c)*degrees$1,scaleX:l,scaleY:a}}function parseCss(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?identity$6:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(t){return null==t?identity$6:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",t),(t=svgNode.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):identity$6)}function interpolateTransform(t,e,i,s){function n(t){return t.length?t.pop()+" ":""}return function(B,l){var a=[],c=[];return B=t(B),l=t(l),function(t,s,n,B,l,a){if(t!==n||s!==B){var c=l.push("translate(",null,e,null,i);a.push({i:c-4,x:interpolateNumber(t,n)},{i:c-2,x:interpolateNumber(s,B)})}else(n||B)&&l.push("translate("+n+e+B+i)}(B.translateX,B.translateY,l.translateX,l.translateY,a,c),function(t,e,i,B){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),B.push({i:i.push(n(i)+"rotate(",null,s)-2,x:interpolateNumber(t,e)})):e&&i.push(n(i)+"rotate("+e+s)}(B.rotate,l.rotate,a,c),function(t,e,i,B){t!==e?B.push({i:i.push(n(i)+"skewX(",null,s)-2,x:interpolateNumber(t,e)}):e&&i.push(n(i)+"skewX("+e+s)}(B.skewX,l.skewX,a,c),function(t,e,i,s,B,l){if(t!==i||e!==s){var a=B.push(n(B)+"scale(",null,",",null,")");l.push({i:a-4,x:interpolateNumber(t,i)},{i:a-2,x:interpolateNumber(e,s)})}else 1===i&&1===s||B.push(n(B)+"scale("+i+","+s+")")}(B.scaleX,B.scaleY,l.scaleX,l.scaleY,a,c),B=l=null,function(t){for(var e,i=-1,s=c.length;++i<s;)a[(e=c[i]).i]=e.x(t);return a.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hsl(t){return function(e,i){var s=t((e=hsl$1(e)).h,(i=hsl$1(i)).h),n=nogamma(e.s,i.s),B=nogamma(e.l,i.l),l=nogamma(e.opacity,i.opacity);return function(t){return e.h=s(t),e.s=n(t),e.l=B(t),e.opacity=l(t),e+""}}}var interpolateHsl=hsl(hue);function lab(t,e){var i=nogamma((t=lab$1(t)).l,(e=lab$1(e)).l),s=nogamma(t.a,e.a),n=nogamma(t.b,e.b),B=nogamma(t.opacity,e.opacity);return function(e){return t.l=i(e),t.a=s(e),t.b=n(e),t.opacity=B(e),t+""}}function hcl(t){return function(e,i){var s=t((e=hcl$1(e)).h,(i=hcl$1(i)).h),n=nogamma(e.c,i.c),B=nogamma(e.l,i.l),l=nogamma(e.opacity,i.opacity);return function(t){return e.h=s(t),e.c=n(t),e.l=B(t),e.opacity=l(t),e+""}}}var interpolateHcl=hcl(hue);function cubehelix(t){return function e(i){function s(e,s){var n=t((e=cubehelix$1(e)).h,(s=cubehelix$1(s)).h),B=nogamma(e.s,s.s),l=nogamma(e.l,s.l),a=nogamma(e.opacity,s.opacity);return function(t){return e.h=n(t),e.s=B(t),e.l=l(Math.pow(t,i)),e.opacity=a(t),e+""}}return i=+i,s.gamma=e,s}(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(t,e){void 0===e&&(e=t,t=interpolate$1);for(var i=0,s=e.length-1,n=e[0],B=new Array(s<0?0:s);i<s;)B[i]=t(n,n=e[++i]);return function(t){var e=Math.max(0,Math.min(s-1,Math.floor(t*=s)));return B[e](t-e)}}function quantize(t,e){for(var i=new Array(e),s=0;s<e;++s)i[s]=t(s/(e-1));return i}var taskHead,taskTail,frame$1=0,timeout$1=0,interval$1=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,i){var s=new Timer;return s.restart(t,e,i),s}function timerFlush(){now(),++frame$1;for(var t,e=taskHead;e;)(t=clockNow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var t=clock.now(),e=t-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=t)}function nap(){for(var t,e,i=taskHead,s=1/0;i;)i._call?(s>i._time&&(s=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:taskHead=e);taskTail=t,sleep(s)}function sleep(t){frame$1||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),t-clockNow>24?(t<1/0&&(timeout$1=setTimeout(wake,t-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake)))}function timeout(t,e,i){var s=new Timer;return e=null==e?0:+e,s.restart(i=>{s.stop(),t(i+e)},e,i),s}function interval(t,e,i){var s=new Timer,n=e;return s._restart=s.restart,s.restart=function(t,e,i){e=+e,i=null==i?now():+i,s._restart(function B(l){l+=n,s._restart(B,n+=e,i),t(l)},e,i)},s.restart(t,e,i),s}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?now():+i)+(null==e?0:+e),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=t,this._time=i,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(t,e,i,s,n,B){var l=t.__transition;if(l){if(i in l)return}else t.__transition={};create$1(t,i,{name:e,index:s,group:n,on:emptyOn,tween:emptyTween,time:B.time,delay:B.delay,duration:B.duration,ease:B.ease,timer:null,state:CREATED})}function init(t,e){var i=get(t,e);if(i.state>CREATED)throw new Error("too late; already scheduled");return i}function set(t,e){var i=get(t,e);if(i.state>STARTED)throw new Error("too late; already running");return i}function get(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function create$1(t,e,i){var s,n=t.__transition;function B(c){var F,Q,r,g;if(i.state!==SCHEDULED)return a();for(F in n)if((g=n[F]).name===i.name){if(g.state===STARTED)return timeout(B);g.state===RUNNING?(g.state=ENDED,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete n[F]):+F<e&&(g.state=ENDED,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete n[F])}if(timeout(function(){i.state===STARTED&&(i.state=RUNNING,i.timer.restart(l,i.delay,i.time),l(c))}),i.state=STARTING,i.on.call("start",t,t.__data__,i.index,i.group),i.state===STARTING){for(i.state=STARTED,s=new Array(r=i.tween.length),F=0,Q=-1;F<r;++F)(g=i.tween[F].value.call(t,t.__data__,i.index,i.group))&&(s[++Q]=g);s.length=Q+1}}function l(e){for(var n=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(a),i.state=ENDING,1),B=-1,l=s.length;++B<l;)s[B].call(t,n);i.state===ENDING&&(i.on.call("end",t,t.__data__,i.index,i.group),a())}function a(){for(var s in i.state=ENDED,i.timer.stop(),delete n[e],n)return;delete t.__transition}n[e]=i,i.timer=timer(function(t){i.state=SCHEDULED,i.timer.restart(B,i.delay,i.time),i.delay<=t&&B(t-i.delay)},0,i.time)}function interrupt(t,e){var i,s,n,B=t.__transition,l=!0;if(B){for(n in e=null==e?null:e+"",B)(i=B[n]).name===e?(s=i.state>STARTING&&i.state<ENDING,i.state=ENDED,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete B[n]):l=!1;l&&delete t.__transition}}function selection_interrupt(t){return this.each(function(){interrupt(this,t)})}function tweenRemove(t,e){var i,s;return function(){var n=set(this,t),B=n.tween;if(B!==i)for(var l=0,a=(s=i=B).length;l<a;++l)if(s[l].name===e){(s=s.slice()).splice(l,1);break}n.tween=s}}function tweenFunction(t,e,i){var s,n;if("function"!=typeof i)throw new Error;return function(){var B=set(this,t),l=B.tween;if(l!==s){n=(s=l).slice();for(var a={name:e,value:i},c=0,F=n.length;c<F;++c)if(n[c].name===e){n[c]=a;break}c===F&&n.push(a)}B.tween=n}}function transition_tween(t,e){var i=this._id;if(t+="",arguments.length<2){for(var s,n=get(this.node(),i).tween,B=0,l=n.length;B<l;++B)if((s=n[B]).name===t)return s.value;return null}return this.each((null==e?tweenRemove:tweenFunction)(i,t,e))}function tweenValue(t,e,i){var s=t._id;return t.each(function(){var t=set(this,s);(t.value||(t.value={}))[e]=i.apply(this,arguments)}),function(t){return get(t,s).value[e]}}function interpolate(t,e){var i;return("number"==typeof e?interpolateNumber:e instanceof color$1?interpolateRgb:(i=color$1(e))?(e=i,interpolateRgb):interpolateString)(t,e)}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e,i){var s,n,B=i+"";return function(){var l=this.getAttribute(t);return l===B?null:l===s?n:n=e(s=l,i)}}function attrConstantNS(t,e,i){var s,n,B=i+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===B?null:l===s?n:n=e(s=l,i)}}function attrFunction(t,e,i){var s,n,B;return function(){var l,a,c=i(this);if(null!=c)return(l=this.getAttribute(t))===(a=c+"")?null:l===s&&a===n?B:(n=a,B=e(s=l,c));this.removeAttribute(t)}}function attrFunctionNS(t,e,i){var s,n,B;return function(){var l,a,c=i(this);if(null!=c)return(l=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:l===s&&a===n?B:(n=a,B=e(s=l,c));this.removeAttributeNS(t.space,t.local)}}function transition_attr(t,e){var i=namespace(t),s="transform"===i?interpolateTransformSvg:interpolate;return this.attrTween(t,"function"==typeof e?(i.local?attrFunctionNS:attrFunction)(i,s,tweenValue(this,"attr."+t,e)):null==e?(i.local?attrRemoveNS:attrRemove)(i):(i.local?attrConstantNS:attrConstant)(i,s,e))}function attrInterpolate(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function attrInterpolateNS(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function attrTweenNS(t,e){var i,s;function n(){var n=e.apply(this,arguments);return n!==s&&(i=(s=n)&&attrInterpolateNS(t,n)),i}return n._value=e,n}function attrTween(t,e){var i,s;function n(){var n=e.apply(this,arguments);return n!==s&&(i=(s=n)&&attrInterpolate(t,n)),i}return n._value=e,n}function transition_attrTween(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var s=namespace(t);return this.tween(i,(s.local?attrTweenNS:attrTween)(s,e))}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function transition_delay(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction:delayConstant)(e,t)):get(this.node(),e).delay}function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}}function transition_duration(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction:durationConstant)(e,t)):get(this.node(),e).duration}function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){set(this,t).ease=e}}function transition_ease(t){var e=this._id;return arguments.length?this.each(easeConstant(e,t)):get(this.node(),e).ease}function easeVarying(t,e){return function(){var i=e.apply(this,arguments);if("function"!=typeof i)throw new Error;set(this,t).ease=i}}function transition_easeVarying(t){if("function"!=typeof t)throw new Error;return this.each(easeVarying(this._id,t))}function transition_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var B,l=e[n],a=l.length,c=s[n]=[],F=0;F<a;++F)(B=l[F])&&t.call(B,B.__data__,F,l)&&c.push(B);return new Transition(s,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,s=e.length,n=i.length,B=Math.min(s,n),l=new Array(s),a=0;a<B;++a)for(var c,F=e[a],Q=i[a],r=F.length,g=l[a]=new Array(r),U=0;U<r;++U)(c=F[U]||Q[U])&&(g[U]=c);for(;a<s;++a)l[a]=e[a];return new Transition(l,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function onFunction(t,e,i){var s,n,B=start(e)?init:set;return function(){var l=B(this,t),a=l.on;a!==s&&(n=(s=a).copy()).on(e,i),l.on=n}}function transition_on(t,e){var i=this._id;return arguments.length<2?get(this.node(),i).on.on(t):this.each(onFunction(i,t,e))}function removeFunction(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=selector(t));for(var s=this._groups,n=s.length,B=new Array(n),l=0;l<n;++l)for(var a,c,F=s[l],Q=F.length,r=B[l]=new Array(Q),g=0;g<Q;++g)(a=F[g])&&(c=t.call(a,a.__data__,g,F))&&("__data__"in a&&(c.__data__=a.__data__),r[g]=c,schedule(r[g],e,i,g,r,get(a,i)));return new Transition(B,this._parents,e,i)}function transition_selectAll(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=selectorAll(t));for(var s=this._groups,n=s.length,B=[],l=[],a=0;a<n;++a)for(var c,F=s[a],Q=F.length,r=0;r<Q;++r)if(c=F[r]){for(var g,U=t.call(c,c.__data__,r,F),I=get(c,i),o=0,d=U.length;o<d;++o)(g=U[o])&&schedule(g,e,i,o,U,I);B.push(U),l.push(c)}return new Transition(B,l,e,i)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(t,e){var i,s,n;return function(){var B=styleValue(this,t),l=(this.style.removeProperty(t),styleValue(this,t));return B===l?null:B===i&&l===s?n:n=e(i=B,s=l)}}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,i){var s,n,B=i+"";return function(){var l=styleValue(this,t);return l===B?null:l===s?n:n=e(s=l,i)}}function styleFunction(t,e,i){var s,n,B;return function(){var l=styleValue(this,t),a=i(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=styleValue(this,t)),l===c?null:l===s&&c===n?B:(n=c,B=e(s=l,a))}}function styleMaybeRemove(t,e){var i,s,n,B,l="style."+e,a="end."+l;return function(){var c=set(this,t),F=c.on,Q=null==c.value[l]?B||(B=styleRemove(e)):void 0;F===i&&n===Q||(s=(i=F).copy()).on(a,n=Q),c.on=s}}function transition_style(t,e,i){var s="transform"==(t+="")?interpolateTransformCss:interpolate;return null==e?this.styleTween(t,styleNull(t,s)).on("end.style."+t,styleRemove(t)):"function"==typeof e?this.styleTween(t,styleFunction(t,s,tweenValue(this,"style."+t,e))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant(t,s,e),i).on("end.style."+t,null)}function styleInterpolate(t,e,i){return function(s){this.style.setProperty(t,e.call(this,s),i)}}function styleTween(t,e,i){var s,n;function B(){var B=e.apply(this,arguments);return B!==n&&(s=(n=B)&&styleInterpolate(t,B,i)),s}return B._value=e,B}function transition_styleTween(t,e,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==e)return this.tween(s,null);if("function"!=typeof e)throw new Error;return this.tween(s,styleTween(t,e,null==i?"":i))}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function transition_text(t){return this.tween("text","function"==typeof t?textFunction(tweenValue(this,"text",t)):textConstant(null==t?"":t+""))}function textInterpolate(t){return function(e){this.textContent=t.call(this,e)}}function textTween(t){var e,i;function s(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&textInterpolate(s)),e}return s._value=t,s}function transition_textTween(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,textTween(t))}function transition_transition(){for(var t=this._name,e=this._id,i=newId(),s=this._groups,n=s.length,B=0;B<n;++B)for(var l,a=s[B],c=a.length,F=0;F<c;++F)if(l=a[F]){var Q=get(l,e);schedule(l,t,i,F,a,{time:Q.time+Q.delay+Q.duration,delay:0,duration:Q.duration,ease:Q.ease})}return new Transition(s,this._parents,t,i)}function transition_end(){var t,e,i=this,s=i._id,n=i.size();return new Promise(function(B,l){var a={value:l},c={value:function(){0===--n&&B()}};i.each(function(){var i=set(this,s),n=i.on;n!==t&&((e=(t=n).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),i.on=e}),0===n&&B()})}var id=0;function Transition(t,e,i,s){this._groups=t,this._parents=e,this._name=i,this._id=s}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};const linear$1=t=>+t;function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit$1(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function selection_transition(t){var e,i;t instanceof Transition?(e=t._id,t=t._name):(e=newId(),(i=defaultTiming).time=now(),t=null==t?null:t+"");for(var s=this._groups,n=s.length,B=0;B<n;++B)for(var l,a=s[B],c=a.length,F=0;F<c;++F)(l=a[F])&&schedule(l,t,e,F,a,i||inherit$1(l,e));return new Transition(s,this._parents,t,e)}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;const pi$3=Math.PI,tau$3=2*pi$3,epsilon$2=1e-6,tauEpsilon=tau$3-1e-6;function append$1(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function appendRound$1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append$1;const i=10**e;return function(t){this._+=t[0];for(let e=1,s=t.length;e<s;++e)this._+=Math.round(arguments[e]*i)/i+t[e]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?append$1:appendRound$1(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,s){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,e,i,s,n,B){this._append`C${+t},${+e},${+i},${+s},${this._x1=+n},${this._y1=+B}`}arcTo(t,e,i,s,n){if(t=+t,e=+e,i=+i,s=+s,(n=+n)<0)throw new Error(`negative radius: ${n}`);let B=this._x1,l=this._y1,a=i-t,c=s-e,F=B-t,Q=l-e,r=F*F+Q*Q;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(r>1e-6)if(Math.abs(Q*a-c*F)>1e-6&&n){let g=i-B,U=s-l,I=a*a+c*c,o=g*g+U*U,d=Math.sqrt(I),b=Math.sqrt(r),C=n*Math.tan((pi$3-Math.acos((I+r-o)/(2*d*b)))/2),u=C/b,y=C/d;Math.abs(u-1)>1e-6&&this._append`L${t+u*F},${e+u*Q}`,this._append`A${n},${n},0,0,${+(Q*g>F*U)},${this._x1=t+y*a},${this._y1=e+y*c}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,i,s,n,B){if(t=+t,e=+e,B=!!B,(i=+i)<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),a=i*Math.sin(s),c=t+l,F=e+a,Q=1^B,r=B?s-n:n-s;null===this._x1?this._append`M${c},${F}`:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-F)>1e-6)&&this._append`L${c},${F}`,i&&(r<0&&(r=r%tau$3+tau$3),r>tauEpsilon?this._append`A${i},${i},0,1,${Q},${t-l},${e-a}A${i},${i},0,1,${Q},${this._x1=c},${this._y1=F}`:r>1e-6&&this._append`A${i},${i},0,${+(r>=pi$3)},${Q},${this._x1=t+i*Math.cos(n)},${this._y1=e+i*Math.sin(n)}`)}rect(t,e,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function pathRound(t=3){return new Path(+t)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,s=t.slice(0,i);return[s.length>1?s[0]+s.slice(2):s,+t.slice(i+1)]}function exponent(t){return(t=formatDecimalParts(Math.abs(t)))?t[1]:NaN}function formatGroup(t,e){return function(i,s){for(var n=i.length,B=[],l=0,a=t[0],c=0;n>0&&a>0&&(c+a+1>s&&(a=Math.max(1,s-c)),B.push(i.substring(n-=a,n+a)),!((c+=a+1)>s));)a=t[l=(l+1)%t.length];return B.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}var prefixExponent,re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re$1.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function FormatSpecifier(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function formatTrim(t){t:for(var e,i=t.length,s=1,n=-1;s<i;++s)switch(t[s]){case".":n=e=s;break;case"0":0===n&&(n=s),e=s;break;default:if(!+t[s])break t;n>0&&(n=0)}return n>0?t.slice(0,n)+t.slice(e+1):t}function formatPrefixAuto(t,e){var i=formatDecimalParts(t,e);if(!i)return t+"";var s=i[0],n=i[1],B=n-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,l=s.length;return B===l?s:B>l?s+new Array(B-l+1).join("0"):B>0?s.slice(0,B)+"."+s.slice(B):"0."+new Array(1-B).join("0")+formatDecimalParts(t,Math.max(0,e+B-1))[0]}function formatRounded(t,e){var i=formatDecimalParts(t,e);if(!i)return t+"";var s=i[0],n=i[1];return n<0?"0."+new Array(-n).join("0")+s:s.length>n+1?s.slice(0,n+1)+"."+s.slice(n+1):s+new Array(n-s.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(100*t,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$5(t){return t}var locale$1,format$1,formatPrefix,map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=void 0===t.grouping||void 0===t.thousands?identity$5:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",n=void 0===t.decimal?".":t.decimal+"",B=void 0===t.numerals?identity$5:formatNumerals(map$1.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",a=void 0===t.minus?"â":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function F(t){var F=(t=formatSpecifier(t)).fill,Q=t.align,r=t.sign,g=t.symbol,U=t.zero,I=t.width,o=t.comma,d=t.precision,b=t.trim,C=t.type;"n"===C?(o=!0,C="g"):formatTypes[C]||(void 0===d&&(d=12),b=!0,C="g"),(U||"0"===F&&"="===Q)&&(U=!0,F="0",Q="=");var u="$"===g?i:"#"===g&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",y="$"===g?s:/[%p]/.test(C)?l:"",h=formatTypes[C],A=/[defgprs%]/.test(C);function R(t){var i,s,l,g=u,R=y;if("c"===C)R=h(t)+R,t="";else{var x=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:h(Math.abs(t),d),b&&(t=formatTrim(t)),x&&0===+t&&"+"!==r&&(x=!1),g=(x?"("===r?r:a:"-"===r||"("===r?"":r)+g,R=("s"===C?prefixes[8+prefixExponent/3]:"")+R+(x&&"("===r?")":""),A)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){R=(46===l?n+t.slice(i+1):t.slice(i))+R,t=t.slice(0,i);break}}o&&!U&&(t=e(t,1/0));var G=g.length+t.length+R.length,m=G<I?new Array(I-G+1).join(F):"";switch(o&&U&&(t=e(m+t,m.length?I-R.length:1/0),m=""),Q){case"<":t=g+t+R+m;break;case"=":t=g+m+t+R;break;case"^":t=m.slice(0,G=m.length>>1)+g+t+R+m.slice(G);break;default:t=m+g+t+R}return B(t)}return d=void 0===d?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),R.toString=function(){return t+""},R}return{format:F,formatPrefix:function(t,e){var i=F(((t=formatSpecifier(t)).type="f",t)),s=3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3))),n=Math.pow(10,-s),B=prefixes[8+s/3];return function(t){return i(n*t)+B}}}}function defaultLocale$1(t){return locale$1=formatLocale$1(t),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});var epsilon$1=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi=pi$2/2,quarterPi=pi$2/4,tau$2=2*pi$2,degrees=180/pi$2,radians$1=pi$2/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos$1=Math.cos,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(t){return t>0?1:t<0?-1:0},sqrt$1=Math.sqrt,tan=Math.tan;function acos(t){return t>1?0:t<-1?pi$2:Math.acos(t)}function asin(t){return t>1?halfPi:t<-1?-halfPi:Math.asin(t)}function noop$1(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,s=-1,n=i.length;++s<n;)streamGeometry(i[s].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,s=-1,n=i.length;++s<n;)t=i[s],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,s=-1,n=i.length;++s<n;)streamLine(i[s],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,s=-1,n=i.length;++s<n;)streamPolygon(i[s],e)},GeometryCollection:function(t,e){for(var i=t.geometries,s=-1,n=i.length;++s<n;)streamGeometry(i[s],e)}};function streamLine(t,e,i){var s,n=-1,B=t.length-i;for(e.lineStart();++n<B;)s=t[n],e.point(s[0],s[1],s[2]);e.lineEnd()}function streamPolygon(t,e){var i=-1,s=t.length;for(e.polygonStart();++i<s;)streamLine(t[i],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}function spherical(t){return[atan2(t[1],t[0]),asin(t[2])]}function cartesian(t){var e=t[0],i=t[1],s=cos$1(i);return[s*cos$1(e),s*sin$1(e),sin$1(i)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=sqrt$1(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function compose(t,e){function i(i,s){return i=t(i,s),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,s){return(i=e.invert(i,s))&&t.invert(i[0],i[1])}),i}function rotationIdentity(t,e){return abs(t)>pi$2&&(t-=Math.round(t/tau$2)*tau$2),[t,e]}function rotateRadians(t,e,i){return(t%=tau$2)?e||i?compose(rotationLambda(t),rotationPhiGamma(e,i)):rotationLambda(t):e||i?rotationPhiGamma(e,i):rotationIdentity}function forwardRotationLambda(t){return function(e,i){return abs(e+=t)>pi$2&&(e-=Math.round(e/tau$2)*tau$2),[e,i]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var i=cos$1(t),s=sin$1(t),n=cos$1(e),B=sin$1(e);function l(t,e){var l=cos$1(e),a=cos$1(t)*l,c=sin$1(t)*l,F=sin$1(e),Q=F*i+a*s;return[atan2(c*n-Q*B,a*i-F*s),asin(Q*n+c*B)]}return l.invert=function(t,e){var l=cos$1(e),a=cos$1(t)*l,c=sin$1(t)*l,F=sin$1(e),Q=F*n-c*B;return[atan2(c*n+F*B,a*i+Q*s),asin(Q*i-a*s)]},l}function rotation(t){function e(e){return(e=t(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e}return t=rotateRadians(t[0]*radians$1,t[1]*radians$1,t.length>2?t[2]*radians$1:0),e.invert=function(e){return(e=t.invert(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e},e}function circleStream(t,e,i,s,n,B){if(i){var l=cos$1(e),a=sin$1(e),c=s*i;null==n?(n=e+s*tau$2,B=e-c/2):(n=circleRadius(l,n),B=circleRadius(l,B),(s>0?n<B:n>B)&&(n+=s*tau$2));for(var F,Q=n;s>0?Q>B:Q<B;Q-=c)F=spherical([l,-a*cos$1(Q),-a*sin$1(Q)]),t.point(F[0],F[1])}}function circleRadius(t,e){(e=cartesian(e))[0]-=t,cartesianNormalizeInPlace(e);var i=acos(-e[1]);return((-e[2]<0?-i:i)+tau$2-epsilon$1)%tau$2}function clipBuffer(){var t,e=[];return{point:function(e,i,s){t.push([e,i,s])},lineStart:function(){e.push(t=[])},lineEnd:noop$1,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function pointEqual(t,e){return abs(t[0]-e[0])<epsilon$1&&abs(t[1]-e[1])<epsilon$1}function Intersection(t,e,i,s){this.x=t,this.z=e,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function clipRejoin(t,e,i,s,n){var B,l,a=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i,s=t[0],l=t[e];if(pointEqual(s,l)){if(!s[2]&&!l[2]){for(n.lineStart(),B=0;B<e;++B)n.point((s=t[B])[0],s[1]);return void n.lineEnd()}l[0]+=2*epsilon$1}a.push(i=new Intersection(s,t,null,!0)),c.push(i.o=new Intersection(s,null,i,!1)),a.push(i=new Intersection(l,t,null,!1)),c.push(i.o=new Intersection(l,null,i,!0))}}),a.length){for(c.sort(e),link(a),link(c),B=0,l=c.length;B<l;++B)c[B].e=i=!i;for(var F,Q,r=a[0];;){for(var g=r,U=!0;g.v;)if((g=g.n)===r)return;F=g.z,n.lineStart();do{if(g.v=g.o.v=!0,g.e){if(U)for(B=0,l=F.length;B<l;++B)n.point((Q=F[B])[0],Q[1]);else s(g.x,g.n.x,1,n);g=g.n}else{if(U)for(F=g.p.z,B=F.length-1;B>=0;--B)n.point((Q=F[B])[0],Q[1]);else s(g.x,g.p.x,-1,n);g=g.p}F=(g=g.o).z,U=!U}while(!g.v);n.lineEnd()}}}function link(t){if(e=t.length){for(var e,i,s=0,n=t[0];++s<e;)n.n=i=t[s],i.p=n,n=i;n.n=i=t[0],i.p=n}}function longitude(t){return abs(t[0])<=pi$2?t[0]:sign$1(t[0])*((abs(t[0])+pi$2)%tau$2-pi$2)}function polygonContains(t,e){var i=longitude(e),s=e[1],n=sin$1(s),B=[sin$1(i),-cos$1(i),0],l=0,a=0,c=new Adder;1===n?s=halfPi+epsilon$1:-1===n&&(s=-halfPi-epsilon$1);for(var F=0,Q=t.length;F<Q;++F)if(g=(r=t[F]).length)for(var r,g,U=r[g-1],I=longitude(U),o=U[1]/2+quarterPi,d=sin$1(o),b=cos$1(o),C=0;C<g;++C,I=y,d=A,b=R,U=u){var u=r[C],y=longitude(u),h=u[1]/2+quarterPi,A=sin$1(h),R=cos$1(h),x=y-I,G=x>=0?1:-1,m=G*x,S=m>pi$2,L=d*A;if(c.add(atan2(L*G*sin$1(m),b*R+L*cos$1(m))),l+=S?x+G*tau$2:x,S^I>=i^y>=i){var p=cartesianCross(cartesian(U),cartesian(u));cartesianNormalizeInPlace(p);var E=cartesianCross(B,p);cartesianNormalizeInPlace(E);var V=(S^x>=0?-1:1)*asin(E[2]);(s>V||s===V&&(p[0]||p[1]))&&(a+=S^x>=0?1:-1)}}return(l<-epsilon$1||l<epsilon$1&&c<-epsilon2)^1&a}function clip(t,e,i,s){return function(n){var B,l,a,c=e(n),F=clipBuffer(),Q=e(F),r=!1,g={point:U,lineStart:o,lineEnd:d,polygonStart:function(){g.point=b,g.lineStart=C,g.lineEnd=u,l=[],B=[]},polygonEnd:function(){g.point=U,g.lineStart=o,g.lineEnd=d,l=merge(l);var t=polygonContains(B,s);l.length?(r||(n.polygonStart(),r=!0),clipRejoin(l,compareIntersection,t,i,n)):t&&(r||(n.polygonStart(),r=!0),n.lineStart(),i(null,null,1,n),n.lineEnd()),r&&(n.polygonEnd(),r=!1),l=B=null},sphere:function(){n.polygonStart(),n.lineStart(),i(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function U(e,i){t(e,i)&&n.point(e,i)}function I(t,e){c.point(t,e)}function o(){g.point=I,c.lineStart()}function d(){g.point=U,c.lineEnd()}function b(t,e){a.push([t,e]),Q.point(t,e)}function C(){Q.lineStart(),a=[]}function u(){b(a[0][0],a[0][1]),Q.lineEnd();var t,e,i,s,c=Q.clean(),g=F.result(),U=g.length;if(a.pop(),B.push(a),a=null,U)if(1&c){if((e=(i=g[0]).length-1)>0){for(r||(n.polygonStart(),r=!0),n.lineStart(),t=0;t<e;++t)n.point((s=i[t])[0],s[1]);n.lineEnd()}}else U>1&&2&c&&g.push(g.pop().concat(g.shift())),l.push(g.filter(validSegment))}return g}}function validSegment(t){return t.length>1}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-halfPi-epsilon$1:halfPi-t[1])-((e=e.x)[0]<0?e[1]-halfPi-epsilon$1:halfPi-e[1])}rotationIdentity.invert=rotationIdentity;var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi]);function clipAntimeridianLine(t){var e,i=NaN,s=NaN,n=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(B,l){var a=B>0?pi$2:-pi$2,c=abs(B-i);abs(c-pi$2)<epsilon$1?(t.point(i,s=(s+l)/2>0?halfPi:-halfPi),t.point(n,s),t.lineEnd(),t.lineStart(),t.point(a,s),t.point(B,s),e=0):n!==a&&c>=pi$2&&(abs(i-n)<epsilon$1&&(i-=n*epsilon$1),abs(B-a)<epsilon$1&&(B-=a*epsilon$1),s=clipAntimeridianIntersect(i,s,B,l),t.point(n,s),t.lineEnd(),t.lineStart(),t.point(a,s),e=0),t.point(i=B,s=l),n=a},lineEnd:function(){t.lineEnd(),i=s=NaN},clean:function(){return 2-e}}}function clipAntimeridianIntersect(t,e,i,s){var n,B,l=sin$1(t-i);return abs(l)>epsilon$1?atan((sin$1(e)*(B=cos$1(s))*sin$1(i)-sin$1(s)*(n=cos$1(e))*sin$1(t))/(n*B*l)):(e+s)/2}function clipAntimeridianInterpolate(t,e,i,s){var n;if(null==t)n=i*halfPi,s.point(-pi$2,n),s.point(0,n),s.point(pi$2,n),s.point(pi$2,0),s.point(pi$2,-n),s.point(0,-n),s.point(-pi$2,-n),s.point(-pi$2,0),s.point(-pi$2,n);else if(abs(t[0]-e[0])>epsilon$1){var B=t[0]<e[0]?pi$2:-pi$2;n=i*B/2,s.point(-B,n),s.point(0,n),s.point(B,n)}else s.point(e[0],e[1])}function clipCircle(t){var e=cos$1(t),i=2*radians$1,s=e>0,n=abs(e)>epsilon$1;function B(t,i){return cos$1(t)*cos$1(i)>e}function l(t,i,s){var n=[1,0,0],B=cartesianCross(cartesian(t),cartesian(i)),l=cartesianDot(B,B),a=B[0],c=l-a*a;if(!c)return!s&&t;var F=e*l/c,Q=-e*a/c,r=cartesianCross(n,B),g=cartesianScale(n,F);cartesianAddInPlace(g,cartesianScale(B,Q));var U=r,I=cartesianDot(g,U),o=cartesianDot(U,U),d=I*I-o*(cartesianDot(g,g)-1);if(!(d<0)){var b=sqrt$1(d),C=cartesianScale(U,(-I-b)/o);if(cartesianAddInPlace(C,g),C=spherical(C),!s)return C;var u,y=t[0],h=i[0],A=t[1],R=i[1];h<y&&(u=y,y=h,h=u);var x=h-y,G=abs(x-pi$2)<epsilon$1;if(!G&&R<A&&(u=A,A=R,R=u),G||x<epsilon$1?G?A+R>0^C[1]<(abs(C[0]-y)<epsilon$1?A:R):A<=C[1]&&C[1]<=R:x>pi$2^(y<=C[0]&&C[0]<=h)){var m=cartesianScale(U,(-I+b)/o);return cartesianAddInPlace(m,g),[C,spherical(m)]}}}function a(e,i){var n=s?t:pi$2-t,B=0;return e<-n?B|=1:e>n&&(B|=2),i<-n?B|=4:i>n&&(B|=8),B}return clip(B,function(t){var e,i,c,F,Q;return{lineStart:function(){F=c=!1,Q=1},point:function(r,g){var U,I=[r,g],o=B(r,g),d=s?o?0:a(r,g):o?a(r+(r<0?pi$2:-pi$2),g):0;if(!e&&(F=c=o)&&t.lineStart(),o!==c&&(!(U=l(e,I))||pointEqual(e,U)||pointEqual(I,U))&&(I[2]=1),o!==c)Q=0,o?(t.lineStart(),U=l(I,e),t.point(U[0],U[1])):(U=l(e,I),t.point(U[0],U[1],2),t.lineEnd()),e=U;else if(n&&e&&s^o){var b;d&i||!(b=l(I,e,!0))||(Q=0,s?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!o||e&&pointEqual(e,I)||t.point(I[0],I[1]),e=I,c=o,i=d},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return Q|(F&&c)<<1}}},function(e,s,n,B){circleStream(B,t,i,n,e,s)},s?[0,-t]:[-pi$2,t-pi$2])}function clipLine(t,e,i,s,n,B){var l,a=t[0],c=t[1],F=0,Q=1,r=e[0]-a,g=e[1]-c;if(l=i-a,r||!(l>0)){if(l/=r,r<0){if(l<F)return;l<Q&&(Q=l)}else if(r>0){if(l>Q)return;l>F&&(F=l)}if(l=n-a,r||!(l<0)){if(l/=r,r<0){if(l>Q)return;l>F&&(F=l)}else if(r>0){if(l<F)return;l<Q&&(Q=l)}if(l=s-c,g||!(l>0)){if(l/=g,g<0){if(l<F)return;l<Q&&(Q=l)}else if(g>0){if(l>Q)return;l>F&&(F=l)}if(l=B-c,g||!(l<0)){if(l/=g,g<0){if(l>Q)return;l>F&&(F=l)}else if(g>0){if(l<F)return;l<Q&&(Q=l)}return F>0&&(t[0]=a+F*r,t[1]=c+F*g),Q<1&&(e[0]=a+Q*r,e[1]=c+Q*g),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(t,e,i,s){function n(n,B){return t<=n&&n<=i&&e<=B&&B<=s}function B(n,B,a,F){var Q=0,r=0;if(null==n||(Q=l(n,a))!==(r=l(B,a))||c(n,B)<0^a>0)do{F.point(0===Q||3===Q?t:i,Q>1?s:e)}while((Q=(Q+a+4)%4)!==r);else F.point(B[0],B[1])}function l(s,n){return abs(s[0]-t)<epsilon$1?n>0?0:3:abs(s[0]-i)<epsilon$1?n>0?2:1:abs(s[1]-e)<epsilon$1?n>0?1:0:n>0?3:2}function a(t,e){return c(t.x,e.x)}function c(t,e){var i=l(t,1),s=l(e,1);return i!==s?i-s:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(l){var c,F,Q,r,g,U,I,o,d,b,C,u=l,y=clipBuffer(),h={point:A,lineStart:function(){h.point=R,F&&F.push(Q=[]);b=!0,d=!1,I=o=NaN},lineEnd:function(){c&&(R(r,g),U&&d&&y.rejoin(),c.push(y.result()));h.point=A,d&&u.lineEnd()},polygonStart:function(){u=y,c=[],F=[],C=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,n=F.length;i<n;++i)for(var B,l,a=F[i],c=1,Q=a.length,r=a[0],g=r[0],U=r[1];c<Q;++c)B=g,l=U,g=(r=a[c])[0],U=r[1],l<=s?U>s&&(g-B)*(s-l)>(U-l)*(t-B)&&++e:U<=s&&(g-B)*(s-l)<(U-l)*(t-B)&&--e;return e}(),i=C&&e,n=(c=merge(c)).length;(i||n)&&(l.polygonStart(),i&&(l.lineStart(),B(null,null,1,l),l.lineEnd()),n&&clipRejoin(c,a,e,B,l),l.polygonEnd());u=l,c=F=Q=null}};function A(t,e){n(t,e)&&u.point(t,e)}function R(B,l){var a=n(B,l);if(F&&Q.push([B,l]),b)r=B,g=l,U=a,b=!1,a&&(u.lineStart(),u.point(B,l));else if(a&&d)u.point(B,l);else{var c=[I=Math.max(clipMin,Math.min(clipMax,I)),o=Math.max(clipMin,Math.min(clipMax,o))],y=[B=Math.max(clipMin,Math.min(clipMax,B)),l=Math.max(clipMin,Math.min(clipMax,l))];clipLine(c,y,t,e,i,s)?(d||(u.lineStart(),u.point(c[0],c[1])),u.point(y[0],y[1]),a||u.lineEnd(),C=!1):a&&(u.lineStart(),u.point(B,l),C=!1)}I=B,o=l,d=a}return h}}var x00$2,y00$2,x0$3,y0$3,identity$4=t=>t,areaSum=new Adder,areaRingSum=new Adder,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs(areaRingSum)),areaRingSum=new Adder},result:function(){var t=areaSum/2;return areaSum=new Adder,t}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(t,e){areaStream.point=areaPoint,x00$2=x0$3=t,y00$2=y0$3=e}function areaPoint(t,e){areaRingSum.add(y0$3*t-x0$3*e),x0$3=t,y0$3=e}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint(t,e){t<x0$2&&(x0$2=t),t>x1&&(x1=t),e<y0$2&&(y0$2=e),e>y1&&(y1=e)}var x00$1,y00$1,x0$1,y0$1,X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var t=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,t}};function centroidPoint(t,e){X0+=t,Y0+=e,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){centroidStream.point=centroidPointLine,centroidPoint(x0$1=t,y0$1=e)}function centroidPointLine(t,e){var i=t-x0$1,s=e-y0$1,n=sqrt$1(i*i+s*s);X1+=n*(x0$1+t)/2,Y1+=n*(y0$1+e)/2,Z1+=n,centroidPoint(x0$1=t,y0$1=e)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,e){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=t,y00$1=y0$1=e)}function centroidPointRing(t,e){var i=t-x0$1,s=e-y0$1,n=sqrt$1(i*i+s*s);X1+=n*(x0$1+t)/2,Y1+=n*(y0$1+e)/2,Z1+=n,X2+=(n=y0$1*t-x0$1*e)*(x0$1+t),Y2+=n*(y0$1+e),Z2+=3*n,centroidPoint(x0$1=t,y0$1=e)}function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tau$2)}},result:noop$1};var lengthRing,x00,y00,x0,y0,lengthSum=new Adder,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum;return lengthSum=new Adder,t}};function lengthPointFirst(t,e){lengthStream.point=lengthPoint,x00=x0=t,y00=y0=e}function lengthPoint(t,e){x0-=t,y0-=e,lengthSum.add(sqrt$1(x0*x0+y0*y0)),x0=t,y0=e}let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(t){this._append=null==t?append:appendRound(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==cacheRadius||this._append!==cacheAppend){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,cacheRadius=t,cacheAppend=this._append,cacheCircle=this._,this._=e}this._+=cacheCircle}}result(){const t=this._;return this._="",t.length?t:null}}function append(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function appendRound(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return append;if(e!==cacheDigits){const t=10**e;cacheDigits=e,cacheAppend=function(e){let i=1;this._+=e[0];for(const s=e.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+e[i]}}return cacheAppend}function geoPath(t,e){let i,s,n=3,B=4.5;function l(t){return t&&("function"==typeof B&&s.pointRadius(+B.apply(this,arguments)),geoStream(t,i(s))),s.result()}return l.area=function(t){return geoStream(t,i(areaStream)),areaStream.result()},l.measure=function(t){return geoStream(t,i(lengthStream)),lengthStream.result()},l.bounds=function(t){return geoStream(t,i(boundsStream)),boundsStream.result()},l.centroid=function(t){return geoStream(t,i(centroidStream)),centroidStream.result()},l.projection=function(e){return arguments.length?(i=null==e?(t=null,identity$4):(t=e).stream,l):t},l.context=function(t){return arguments.length?(s=null==t?(e=null,new PathString(n)):new PathContext(e=t),"function"!=typeof B&&s.pointRadius(B),l):e},l.pointRadius=function(t){return arguments.length?(B="function"==typeof t?t:(s.pointRadius(+t),+t),l):B},l.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);n=e}return null===e&&(s=new PathString(n)),l},l.projection(t).digits(n).context(e)}function geoTransform(t){return{stream:transformer$2(t)}}function transformer$2(t){return function(e){var i=new TransformStream;for(var s in t)i[s]=t[s];return i.stream=e,i}}function TransformStream(){}function fit(t,e,i){var s=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),geoStream(i,t.stream(boundsStream)),e(boundsStream.result()),null!=s&&t.clipExtent(s),t}function fitExtent(t,e,i){return fit(t,function(i){var s=e[1][0]-e[0][0],n=e[1][1]-e[0][1],B=Math.min(s/(i[1][0]-i[0][0]),n/(i[1][1]-i[0][1])),l=+e[0][0]+(s-B*(i[1][0]+i[0][0]))/2,a=+e[0][1]+(n-B*(i[1][1]+i[0][1]))/2;t.scale(150*B).translate([l,a])},i)}function fitSize(t,e,i){return fitExtent(t,[[0,0],e],i)}function fitWidth(t,e,i){return fit(t,function(i){var s=+e,n=s/(i[1][0]-i[0][0]),B=(s-n*(i[1][0]+i[0][0]))/2,l=-n*i[0][1];t.scale(150*n).translate([B,l])},i)}function fitHeight(t,e,i){return fit(t,function(i){var s=+e,n=s/(i[1][1]-i[0][1]),B=-n*i[0][0],l=(s-n*(i[1][1]+i[0][1]))/2;t.scale(150*n).translate([B,l])},i)}TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos$1(30*radians$1);function resample(t,e){return+e?resample$1(t,e):resampleNone(t)}function resampleNone(t){return transformer$2({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function resample$1(t,e){function i(s,n,B,l,a,c,F,Q,r,g,U,I,o,d){var b=F-s,C=Q-n,u=b*b+C*C;if(u>4*e&&o--){var y=l+g,h=a+U,A=c+I,R=sqrt$1(y*y+h*h+A*A),x=asin(A/=R),G=abs(abs(A)-1)<epsilon$1||abs(B-r)<epsilon$1?(B+r)/2:atan2(h,y),m=t(G,x),S=m[0],L=m[1],p=S-s,E=L-n,V=C*p-b*E;(V*V/u>e||abs((b*p+C*E)/u-.5)>.3||l*g+a*U+c*I<cosMinDistance)&&(i(s,n,B,l,a,c,S,L,G,y/=R,h/=R,A,o,d),d.point(S,L),i(S,L,G,y,h,A,F,Q,r,g,U,I,o,d))}}return function(e){var s,n,B,l,a,c,F,Q,r,g,U,I,o={point:d,lineStart:b,lineEnd:u,polygonStart:function(){e.polygonStart(),o.lineStart=y},polygonEnd:function(){e.polygonEnd(),o.lineStart=b}};function d(i,s){i=t(i,s),e.point(i[0],i[1])}function b(){Q=NaN,o.point=C,e.lineStart()}function C(s,n){var B=cartesian([s,n]),l=t(s,n);i(Q,r,F,g,U,I,Q=l[0],r=l[1],F=s,g=B[0],U=B[1],I=B[2],maxDepth,e),e.point(Q,r)}function u(){o.point=d,e.lineEnd()}function y(){b(),o.point=h,o.lineEnd=A}function h(t,e){C(s=t,e),n=Q,B=r,l=g,a=U,c=I,o.point=C}function A(){i(Q,r,F,g,U,I,n,B,s,l,a,c,maxDepth,e),o.lineEnd=u,u()}return o}}var transformRadians=transformer$2({point:function(t,e){this.stream.point(t*radians$1,e*radians$1)}});function transformRotate(t){return transformer$2({point:function(e,i){var s=t(e,i);return this.stream.point(s[0],s[1])}})}function scaleTranslate(t,e,i,s,n){function B(B,l){return[e+t*(B*=s),i-t*(l*=n)]}return B.invert=function(B,l){return[(B-e)/t*s,(i-l)/t*n]},B}function scaleTranslateRotate(t,e,i,s,n,B){if(!B)return scaleTranslate(t,e,i,s,n);var l=cos$1(B),a=sin$1(B),c=l*t,F=a*t,Q=l/t,r=a/t,g=(a*i-l*e)/t,U=(a*e+l*i)/t;function I(t,B){return[c*(t*=s)-F*(B*=n)+e,i-F*t-c*B]}return I.invert=function(t,e){return[s*(Q*t-r*e+g),n*(U-r*t-Q*e)]},I}function projection$1(t){return projectionMutator(function(){return t})()}function projectionMutator(t){var e,i,s,n,B,l,a,c,F,Q,r=150,g=480,U=250,I=0,o=0,d=0,b=0,C=0,u=0,y=1,h=1,A=null,R=clipAntimeridian,x=null,G=identity$4,m=.5;function S(t){return c(t[0]*radians$1,t[1]*radians$1)}function L(t){return(t=c.invert(t[0],t[1]))&&[t[0]*degrees,t[1]*degrees]}function p(){var t=scaleTranslateRotate(r,0,0,y,h,u).apply(null,e(I,o)),s=scaleTranslateRotate(r,g-t[0],U-t[1],y,h,u);return i=rotateRadians(d,b,C),a=compose(e,s),c=compose(i,a),l=resample(a,m),E()}function E(){return F=Q=null,S}return S.stream=function(t){return F&&Q===t?F:F=transformRadians(transformRotate(i)(R(l(G(Q=t)))))},S.preclip=function(t){return arguments.length?(R=t,A=void 0,E()):R},S.postclip=function(t){return arguments.length?(G=t,x=s=n=B=null,E()):G},S.clipAngle=function(t){return arguments.length?(R=+t?clipCircle(A=t*radians$1):(A=null,clipAntimeridian),E()):A*degrees},S.clipExtent=function(t){return arguments.length?(G=null==t?(x=s=n=B=null,identity$4):clipRectangle(x=+t[0][0],s=+t[0][1],n=+t[1][0],B=+t[1][1]),E()):null==x?null:[[x,s],[n,B]]},S.scale=function(t){return arguments.length?(r=+t,p()):r},S.translate=function(t){return arguments.length?(g=+t[0],U=+t[1],p()):[g,U]},S.center=function(t){return arguments.length?(I=t[0]%360*radians$1,o=t[1]%360*radians$1,p()):[I*degrees,o*degrees]},S.rotate=function(t){return arguments.length?(d=t[0]%360*radians$1,b=t[1]%360*radians$1,C=t.length>2?t[2]%360*radians$1:0,p()):[d*degrees,b*degrees,C*degrees]},S.angle=function(t){return arguments.length?(u=t%360*radians$1,p()):u*degrees},S.reflectX=function(t){return arguments.length?(y=t?-1:1,p()):y<0},S.reflectY=function(t){return arguments.length?(h=t?-1:1,p()):h<0},S.precision=function(t){return arguments.length?(l=resample(a,m=t*t),E()):sqrt$1(m)},S.fitExtent=function(t,e){return fitExtent(S,t,e)},S.fitSize=function(t,e){return fitSize(S,t,e)},S.fitWidth=function(t,e){return fitWidth(S,t,e)},S.fitHeight=function(t,e){return fitHeight(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&L,p()}}function conicProjection$1(t){var e=0,i=pi$2/3,s=projectionMutator(t),n=s(e,i);return n.parallels=function(t){return arguments.length?s(e=t[0]*radians$1,i=t[1]*radians$1):[e*degrees,i*degrees]},n}function cylindricalEqualAreaRaw(t){var e=cos$1(t);function i(t,i){return[t*e,sin$1(i)/e]}return i.invert=function(t,i){return[t/e,asin(i*e)]},i}function conicEqualAreaRaw(t,e){var i=sin$1(t),s=(i+sin$1(e))/2;if(abs(s)<epsilon$1)return cylindricalEqualAreaRaw(t);var n=1+i*(2*s-i),B=sqrt$1(n)/s;function l(t,e){var i=sqrt$1(n-2*s*sin$1(e))/s;return[i*sin$1(t*=s),B-i*cos$1(t)]}return l.invert=function(t,e){var i=B-e,l=atan2(t,abs(i))*sign$1(i);return i*s<0&&(l-=pi$2*sign$1(t)*sign$1(i)),[l/s,asin((n-(t*t+i*i)*s*s)/(2*s))]},l}function geoConicEqualArea(){return conicProjection$1(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(t){var e=t.length;return{point:function(i,s){for(var n=-1;++n<e;)t[n].point(i,s)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}function geoAlbersUsa(){var t,e,i,s,n,B,l=geoAlbers(),a=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),F={point:function(t,e){B=[t,e]}};function Q(t){var e=t[0],l=t[1];return B=null,i.point(e,l),B||(s.point(e,l),B)||(n.point(e,l),B)}function r(){return t=e=null,Q}return Q.invert=function(t){var e=l.scale(),i=l.translate(),s=(t[0]-i[0])/e,n=(t[1]-i[1])/e;return(n>=.12&&n<.234&&s>=-.425&&s<-.214?a:n>=.166&&n<.234&&s>=-.214&&s<-.115?c:l).invert(t)},Q.stream=function(i){return t&&e===i?t:t=multiplex([l.stream(e=i),a.stream(i),c.stream(i)])},Q.precision=function(t){return arguments.length?(l.precision(t),a.precision(t),c.precision(t),r()):l.precision()},Q.scale=function(t){return arguments.length?(l.scale(t),a.scale(.35*t),c.scale(t),Q.translate(l.translate())):l.scale()},Q.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),B=+t[0],Q=+t[1];return i=l.translate(t).clipExtent([[B-.455*e,Q-.238*e],[B+.455*e,Q+.238*e]]).stream(F),s=a.translate([B-.307*e,Q+.201*e]).clipExtent([[B-.425*e+epsilon$1,Q+.12*e+epsilon$1],[B-.214*e-epsilon$1,Q+.234*e-epsilon$1]]).stream(F),n=c.translate([B-.205*e,Q+.212*e]).clipExtent([[B-.214*e+epsilon$1,Q+.166*e+epsilon$1],[B-.115*e-epsilon$1,Q+.234*e-epsilon$1]]).stream(F),r()},Q.fitExtent=function(t,e){return fitExtent(Q,t,e)},Q.fitSize=function(t,e){return fitSize(Q,t,e)},Q.fitWidth=function(t,e){return fitWidth(Q,t,e)},Q.fitHeight=function(t,e){return fitHeight(Q,t,e)},Q.scale(1070)}function azimuthalRaw(t){return function(e,i){var s=cos$1(e),n=cos$1(i),B=t(s*n);return B===1/0?[2,0]:[B*n*sin$1(e),B*sin$1(i)]}}function azimuthalInvert(t){return function(e,i){var s=sqrt$1(e*e+i*i),n=t(s),B=sin$1(n),l=cos$1(n);return[atan2(e*B,s*l),asin(s&&i*B/s)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(t){return sqrt$1(2/(1+t))});function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert(function(t){return 2*asin(t/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(t){return(t=acos(t))&&t/sin$1(t)});function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(t,e){return[t,log$1(tan((halfPi+e)/2))]}function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$2)}function mercatorProjection(t){var e,i,s,n=projection$1(t),B=n.center,l=n.scale,a=n.translate,c=n.clipExtent,F=null;function Q(){var B=pi$2*l(),a=n(rotation(n.rotate()).invert([0,0]));return c(null==F?[[a[0]-B,a[1]-B],[a[0]+B,a[1]+B]]:t===mercatorRaw?[[Math.max(a[0]-B,F),e],[Math.min(a[0]+B,i),s]]:[[F,Math.max(a[1]-B,e)],[i,Math.min(a[1]+B,s)]])}return n.scale=function(t){return arguments.length?(l(t),Q()):l()},n.translate=function(t){return arguments.length?(a(t),Q()):a()},n.center=function(t){return arguments.length?(B(t),Q()):B()},n.clipExtent=function(t){return arguments.length?(null==t?F=e=i=s=null:(F=+t[0][0],e=+t[0][1],i=+t[1][0],s=+t[1][1]),Q()):null==F?null:[[F,e],[i,s]]},Q()}function tany(t){return tan((halfPi+t)/2)}function conicConformalRaw(t,e){var i=cos$1(t),s=t===e?sin$1(t):log$1(i/cos$1(e))/log$1(tany(e)/tany(t)),n=i*pow$1(tany(t),s)/s;if(!s)return mercatorRaw;function B(t,e){n>0?e<-halfPi+epsilon$1&&(e=-halfPi+epsilon$1):e>halfPi-epsilon$1&&(e=halfPi-epsilon$1);var i=n/pow$1(tany(e),s);return[i*sin$1(s*t),n-i*cos$1(s*t)]}return B.invert=function(t,e){var i=n-e,B=sign$1(s)*sqrt$1(t*t+i*i),l=atan2(t,abs(i))*sign$1(i);return i*s<0&&(l-=pi$2*sign$1(t)*sign$1(i)),[l/s,2*atan(pow$1(n/B,1/s))-halfPi]},B}function geoConicConformal(){return conicProjection$1(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,e){return[t,e]}function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,e){var i=cos$1(t),s=t===e?sin$1(t):(i-cos$1(e))/(e-t),n=i/s+t;if(abs(s)<epsilon$1)return equirectangularRaw;function B(t,e){var i=n-e,B=s*t;return[i*sin$1(B),n-i*cos$1(B)]}return B.invert=function(t,e){var i=n-e,B=atan2(t,abs(i))*sign$1(i);return i*s<0&&(B-=pi$2*sign$1(t)*sign$1(i)),[B/s,n-sign$1(s)*sqrt$1(t*t+i*i)]},B}function geoConicEquidistant(){return conicProjection$1(conicEquidistantRaw).scale(131.154).center([0,13.9389])}azimuthalEquidistantRaw.invert=azimuthalInvert(function(t){return t}),mercatorRaw.invert=function(t,e){return[t,2*atan(exp(e))-halfPi]},equirectangularRaw.invert=equirectangularRaw;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$1(3)/2,iterations=12;function equalEarthRaw(t,e){var i=asin(M*sin$1(e)),s=i*i,n=s*s*s;return[t*cos$1(i)/(M*(A1+3*A2*s+n*(7*A3+9*A4*s))),i*(A1+A2*s+n*(A3+A4*s))]}function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(t,e){var i=cos$1(e),s=cos$1(t)*i;return[i*sin$1(t)/s,sin$1(e)/s]}function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function orthographicRaw(t,e){return[cos$1(e)*sin$1(t),sin$1(e)]}function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$1)}function stereographicRaw(t,e){var i=cos$1(e),s=1+cos$1(t)*i;return[i*sin$1(t)/s,sin$1(e)/s]}function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,e){return[log$1(tan((halfPi+e)/2)),-t]}function geoTransverseMercator(){var t=mercatorProjection(transverseMercatorRaw),e=t.center,i=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?i([t[0],t[1],t.length>2?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90]).scale(159.155)}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}equalEarthRaw.invert=function(t,e){for(var i,s=e,n=s*s,B=n*n*n,l=0;l<iterations&&(B=(n=(s-=i=(s*(A1+A2*n+B*(A3+A4*n))-e)/(A1+3*A2*n+B*(7*A3+9*A4*n)))*s)*n*n,!(abs(i)<epsilon2));++l);return[M*t*(A1+3*A2*n+B*(7*A3+9*A4*n))/cos$1(s),asin(sin$1(s)/M)]},gnomonicRaw.invert=azimuthalInvert(atan),orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert(function(t){return 2*atan(t)}),transverseMercatorRaw.invert=function(t,e){return[-e,2*atan(exp(t))-halfPi]};const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],i=[],s=implicit;function n(n){let B=t.get(n);if(void 0===B){if(s!==implicit)return s;t.set(n,B=e.push(n)-1)}return i[B%i.length]}return n.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return n},n.range=function(t){return arguments.length?(i=Array.from(t),n):i.slice()},n.unknown=function(t){return arguments.length?(s=t,n):s},n.copy=function(){return ordinal(e,i).unknown(s)},initRange.apply(n,arguments),n}function band(){var t,e,i=ordinal().unknown(void 0),s=i.domain,n=i.range,B=0,l=1,a=!1,c=0,F=0,Q=.5;function r(){var i=s().length,r=l<B,g=r?l:B,U=r?B:l;t=(U-g)/Math.max(1,i-c+2*F),a&&(t=Math.floor(t)),g+=(U-g-t*(i-c))*Q,e=t*(1-c),a&&(g=Math.round(g),e=Math.round(e));var I=range$1(i).map(function(e){return g+t*e});return n(r?I.reverse():I)}return delete i.unknown,i.domain=function(t){return arguments.length?(s(t),r()):s()},i.range=function(t){return arguments.length?([B,l]=t,B=+B,l=+l,r()):[B,l]},i.rangeRound=function(t){return[B,l]=t,B=+B,l=+l,a=!0,r()},i.bandwidth=function(){return e},i.step=function(){return t},i.round=function(t){return arguments.length?(a=!!t,r()):a},i.padding=function(t){return arguments.length?(c=Math.min(1,F=+t),r()):c},i.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),r()):c},i.paddingOuter=function(t){return arguments.length?(F=+t,r()):F},i.align=function(t){return arguments.length?(Q=Math.max(0,Math.min(1,t)),r()):Q},i.copy=function(){return band(s(),[B,l]).round(a).paddingInner(c).paddingOuter(F).align(Q)},initRange.apply(r(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point$4(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(t){return function(){return t}}function number$2(t){return+t}var unit$1=[0,1];function identity$3(t){return t}function normalize(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var i;return t>e&&(i=t,t=e,e=i),function(i){return Math.max(t,Math.min(e,i))}}function bimap(t,e,i){var s=t[0],n=t[1],B=e[0],l=e[1];return n<s?(s=normalize(n,s),B=i(l,B)):(s=normalize(s,n),B=i(B,l)),function(t){return B(s(t))}}function polymap(t,e,i){var s=Math.min(t.length,e.length)-1,n=new Array(s),B=new Array(s),l=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<s;)n[l]=normalize(t[l],t[l+1]),B[l]=i(e[l],e[l+1]);return function(e){var i=bisectRight(t,e,1,s)-1;return B[i](n[i](e))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$1(){var t,e,i,s,n,B,l=unit$1,a=unit$1,c=interpolate$1,F=identity$3;function Q(){var t=Math.min(l.length,a.length);return F!==identity$3&&(F=clamper(l[0],l[t-1])),s=t>2?polymap:bimap,n=B=null,r}function r(e){return null==e||isNaN(e=+e)?i:(n||(n=s(l.map(t),a,c)))(t(F(e)))}return r.invert=function(i){return F(e((B||(B=s(a,l.map(t),interpolateNumber)))(i)))},r.domain=function(t){return arguments.length?(l=Array.from(t,number$2),Q()):l.slice()},r.range=function(t){return arguments.length?(a=Array.from(t),Q()):a.slice()},r.rangeRound=function(t){return a=Array.from(t),c=interpolateRound,Q()},r.clamp=function(t){return arguments.length?(F=!!t||identity$3,Q()):F!==identity$3},r.interpolate=function(t){return arguments.length?(c=t,Q()):c},r.unknown=function(t){return arguments.length?(i=t,r):i},function(i,s){return t=i,e=s,Q()}}function continuous(){return transformer$1()(identity$3,identity$3)}function tickFormat(t,e,i,s){var n,B=tickStep(t,e,i);switch((s=formatSpecifier(null==s?",f":s)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=s.precision||isNaN(n=precisionPrefix(B,l))||(s.precision=n),formatPrefix(s,l);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(n=precisionRound(B,Math.max(Math.abs(t),Math.abs(e))))||(s.precision=n-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(n=precisionFixed(B))||(s.precision=n-2*("%"===s.type))}return format$1(s)}function linearish(t){var e=t.domain;return t.ticks=function(t){var i=e();return ticks(i[0],i[i.length-1],null==t?10:t)},t.tickFormat=function(t,i){var s=e();return tickFormat(s[0],s[s.length-1],null==t?10:t,i)},t.nice=function(i){null==i&&(i=10);var s,n,B=e(),l=0,a=B.length-1,c=B[l],F=B[a],Q=10;for(F<c&&(n=c,c=F,F=n,n=l,l=a,a=n);Q-- >0;){if((n=tickIncrement(c,F,i))===s)return B[l]=c,B[a]=F,e(B);if(n>0)c=Math.floor(c/n)*n,F=Math.ceil(F/n)*n;else{if(!(n<0))break;c=Math.ceil(c*n)/n,F=Math.floor(F*n)/n}s=n}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function i(t){return null==t||isNaN(t=+t)?e:t}return i.invert=i,i.domain=i.range=function(e){return arguments.length?(t=Array.from(e,number$2),i):t.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$2):[0,1],linearish(i)}function nice(t,e){var i,s=0,n=(t=t.slice()).length-1,B=t[s],l=t[n];return l<B&&(i=s,s=n,n=i,i=B,B=l,l=i),t[s]=e.floor(B),t[n]=e.ceil(l),t}function transformLog$1(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,i)=>-t(-e,i)}function loggish(t){const e=t(transformLog$1,transformExp),i=e.domain;let s,n,B=10;function l(){return s=logp(B),n=powp(B),i()[0]<0?(s=reflect(s),n=reflect(n),t(transformLogn,transformExpn)):t(transformLog$1,transformExp),e}return e.base=function(t){return arguments.length?(B=+t,l()):B},e.domain=function(t){return arguments.length?(i(t),l()):i()},e.ticks=t=>{const e=i();let l=e[0],a=e[e.length-1];const c=a<l;c&&([l,a]=[a,l]);let F,Q,r=s(l),g=s(a);const U=null==t?10:+t;let I=[];if(!(B%1)&&g-r<U){if(r=Math.floor(r),g=Math.ceil(g),l>0){for(;r<=g;++r)for(F=1;F<B;++F)if(Q=r<0?F/n(-r):F*n(r),!(Q<l)){if(Q>a)break;I.push(Q)}}else for(;r<=g;++r)for(F=B-1;F>=1;--F)if(Q=r>0?F/n(-r):F*n(r),!(Q<l)){if(Q>a)break;I.push(Q)}2*I.length<U&&(I=ticks(l,a,U))}else I=ticks(r,g,Math.min(g-r,U)).map(n);return c?I.reverse():I},e.tickFormat=(t,i)=>{if(null==t&&(t=10),null==i&&(i=10===B?"s":","),"function"!=typeof i&&(B%1||null!=(i=formatSpecifier(i)).precision||(i.trim=!0),i=format$1(i)),t===1/0)return i;const l=Math.max(1,B*t/e.ticks().length);return t=>{let e=t/n(Math.round(s(t)));return e*B<B-.5&&(e*=B),e<=l?i(t):""}},e.nice=()=>i(nice(i(),{floor:t=>n(Math.floor(s(t))),ceil:t=>n(Math.ceil(s(t)))})),e}function log(){const t=loggish(transformer$1()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog$1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,i=t(transformSymlog$1(e),transformSymexp(e));return i.constant=function(i){return arguments.length?t(transformSymlog$1(e=+i),transformSymexp(e)):e},linearish(i)}function symlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow$1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt$1(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$3,identity$3),i=1;return e.exponent=function(e){return arguments.length?1===(i=+e)?t(identity$3,identity$3):.5===i?t(transformSqrt$1,transformSquare):t(transformPow$1(i),transformPow$1(1/i)):i},linearish(e)}function pow(){var t=powish(transformer$1());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function quantile(){var t,e=[],i=[],s=[];function n(){var t=0,n=Math.max(1,i.length);for(s=new Array(n-1);++t<n;)s[t-1]=quantileSorted(e,t/n);return B}function B(e){return null==e||isNaN(e=+e)?t:i[bisectRight(s,e)]}return B.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?s[n-1]:e[0],n<s.length?s[n]:e[e.length-1]]},B.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let i of t)null==i||isNaN(i=+i)||e.push(i);return e.sort(ascending$1),n()},B.range=function(t){return arguments.length?(i=Array.from(t),n()):i.slice()},B.unknown=function(e){return arguments.length?(t=e,B):t},B.quantiles=function(){return s.slice()},B.copy=function(){return quantile().domain(e).range(i).unknown(t)},initRange.apply(B,arguments)}function threshold(){var t,e=[.5],i=[0,1],s=1;function n(n){return null!=n&&n<=n?i[bisectRight(e,n,0,s)]:t}return n.domain=function(t){return arguments.length?(e=Array.from(t),s=Math.min(e.length,i.length-1),n):e.slice()},n.range=function(t){return arguments.length?(i=Array.from(t),s=Math.min(e.length,i.length-1),n):i.slice()},n.invertExtent=function(t){var s=i.indexOf(t);return[e[s-1],e[s]]},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return threshold().domain(e).range(i).unknown(t)},initRange.apply(n,arguments)}const t0=new Date,t1=new Date;function timeInterval$1(t,e,i,s){function n(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return n.floor=e=>(t(e=new Date(+e)),e),n.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),n.round=t=>{const e=n(t),i=n.ceil(t);return t-e<i-t?e:i},n.offset=(t,i)=>(e(t=new Date(+t),null==i?1:Math.floor(i)),t),n.range=(i,s,B)=>{const l=[];if(i=n.ceil(i),B=null==B?1:Math.floor(B),!(i<s&&B>0))return l;let a;do{l.push(a=new Date(+i)),e(i,B),t(i)}while(a<i&&i<s);return l},n.filter=i=>timeInterval$1(e=>{if(e>=e)for(;t(e),!i(e);)e.setTime(e-1)},(t,s)=>{if(t>=t)if(s<0)for(;++s<=0;)for(;e(t,-1),!i(t););else for(;--s>=0;)for(;e(t,1),!i(t););}),i&&(n.count=(e,s)=>(t0.setTime(+e),t1.setTime(+s),t(t0),t(t1),Math.floor(i(t0,t1))),n.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?n.filter(s?e=>s(e)%t===0:e=>n.count(0,e)%t===0):n:null)),n}const millisecond=timeInterval$1(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?timeInterval$1(e=>{e.setTime(Math.floor(e/t)*t)},(e,i)=>{e.setTime(+e+i*t)},(e,i)=>(i-e)/t):millisecond:null),millisecond.range;const durationSecond$1=1e3,durationMinute$1=6e4,durationHour$1=36e5,durationDay$1=864e5,durationWeek$1=6048e5,durationMonth$1=2592e6,durationYear$1=31536e6,second$1=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+1e3*e)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds());second$1.range;const timeMinute=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getHours());timeHour.range;const utcHour=timeInterval$1(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval$1(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval$1(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5));function timeWeekday(t){return timeInterval$1(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5)}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday(t){return timeInterval$1(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/6048e5)}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range;const timeMonth=timeInterval$1(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval$1(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i*t)}):null,timeYear.range;const utcYear=timeInterval$1(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function ticker(t,e,i,s,n,B){const l=[[second$1,1,1e3],[second$1,5,5e3],[second$1,15,15e3],[second$1,30,3e4],[B,1,6e4],[B,5,3e5],[B,15,9e5],[B,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[s,1,864e5],[s,2,1728e5],[i,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function a(e,i,s){const n=Math.abs(i-e)/s,B=bisector(([,,t])=>t).right(l,n);if(B===l.length)return t.every(tickStep(e/31536e6,i/31536e6,s));if(0===B)return millisecond.every(Math.max(tickStep(e,i,s),1));const[a,c]=l[n/l[B-1][2]<l[B][2]/n?B-1:B];return a.every(c)}return[function(t,e,i){const s=e<t;s&&([t,e]=[e,t]);const n=i&&"function"==typeof i.range?i:a(t,e,i),B=n?n.range(t,+e+1):[];return s?B.reverse():B},a]}utcYear.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)}):null,utcYear.range;const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,i=t.date,s=t.time,n=t.periods,B=t.days,l=t.shortDays,a=t.months,c=t.shortMonths,F=formatRe(n),Q=formatLookup(n),r=formatRe(B),g=formatLookup(B),U=formatRe(l),I=formatLookup(l),o=formatRe(a),d=formatLookup(a),b=formatRe(c),C=formatLookup(c),u={a:function(t){return l[t.getDay()]},A:function(t){return B[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return n[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},y={a:function(t){return l[t.getUTCDay()]},A:function(t){return B[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return n[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},h={a:function(t,e,i){var s=U.exec(e.slice(i));return s?(t.w=I.get(s[0].toLowerCase()),i+s[0].length):-1},A:function(t,e,i){var s=r.exec(e.slice(i));return s?(t.w=g.get(s[0].toLowerCase()),i+s[0].length):-1},b:function(t,e,i){var s=b.exec(e.slice(i));return s?(t.m=C.get(s[0].toLowerCase()),i+s[0].length):-1},B:function(t,e,i){var s=o.exec(e.slice(i));return s?(t.m=d.get(s[0].toLowerCase()),i+s[0].length):-1},c:function(t,i,s){return x(t,e,i,s)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,e,i){var s=F.exec(e.slice(i));return s?(t.p=Q.get(s[0].toLowerCase()),i+s[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,e,s){return x(t,i,e,s)},X:function(t,e,i){return x(t,s,e,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function A(t,e){return function(i){var s,n,B,l=[],a=-1,c=0,F=t.length;for(i instanceof Date||(i=new Date(+i));++a<F;)37===t.charCodeAt(a)&&(l.push(t.slice(c,a)),null!=(n=pads[s=t.charAt(++a)])?s=t.charAt(++a):n="e"===s?" ":"0",(B=e[s])&&(s=B(i,n)),l.push(s),c=a+1);return l.push(t.slice(c,a)),l.join("")}}function R(t,e){return function(i){var s,n,B=newDate(1900,void 0,1);if(x(B,t,i+="",0)!=i.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(1e3*B.s+("L"in B?B.L:0));if(e&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+12*B.p),void 0===B.m&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(n=(s=utcDate(newDate(B.y,0,1))).getUTCDay(),s=n>4||0===n?utcMonday.ceil(s):utcMonday(s),s=utcDay.offset(s,7*(B.V-1)),B.y=s.getUTCFullYear(),B.m=s.getUTCMonth(),B.d=s.getUTCDate()+(B.w+6)%7):(n=(s=localDate(newDate(B.y,0,1))).getDay(),s=n>4||0===n?timeMonday.ceil(s):timeMonday(s),s=timeDay.offset(s,7*(B.V-1)),B.y=s.getFullYear(),B.m=s.getMonth(),B.d=s.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),n="Z"in B?utcDate(newDate(B.y,0,1)).getUTCDay():localDate(newDate(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+7*B.W-(n+5)%7:B.w+7*B.U-(n+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,utcDate(B)):localDate(B)}}function x(t,e,i,s){for(var n,B,l=0,a=e.length,c=i.length;l<a;){if(s>=c)return-1;if(37===(n=e.charCodeAt(l++))){if(n=e.charAt(l++),!(B=h[n in pads?e.charAt(l++):n])||(s=B(t,i,s))<0)return-1}else if(n!=i.charCodeAt(s++))return-1}return s}return u.x=A(i,u),u.X=A(s,u),u.c=A(e,u),y.x=A(i,y),y.X=A(s,y),y.c=A(e,y),{format:function(t){var e=A(t+="",u);return e.toString=function(){return t},e},parse:function(t){var e=R(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=A(t+="",y);return e.toString=function(){return t},e},utcParse:function(t){var e=R(t+="",!0);return e.toString=function(){return t},e}}}var locale,timeFormat,utcFormat,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(t,e,i){var s=t<0?"-":"",n=(s?-t:t)+"",B=n.length;return s+(B<i?new Array(i-B+1).join(e)+n:n)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function parseWeekdayNumberSunday(t,e,i){var s=numberRe.exec(e.slice(i,i+1));return s?(t.w=+s[0],i+s[0].length):-1}function parseWeekdayNumberMonday(t,e,i){var s=numberRe.exec(e.slice(i,i+1));return s?(t.u=+s[0],i+s[0].length):-1}function parseWeekNumberSunday(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.U=+s[0],i+s[0].length):-1}function parseWeekNumberISO(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.V=+s[0],i+s[0].length):-1}function parseWeekNumberMonday(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.W=+s[0],i+s[0].length):-1}function parseFullYear(t,e,i){var s=numberRe.exec(e.slice(i,i+4));return s?(t.y=+s[0],i+s[0].length):-1}function parseYear(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),i+s[0].length):-1}function parseZone(t,e,i){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),i+s[0].length):-1}function parseQuarter(t,e,i){var s=numberRe.exec(e.slice(i,i+1));return s?(t.q=3*s[0]-3,i+s[0].length):-1}function parseMonthNumber(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.m=s[0]-1,i+s[0].length):-1}function parseDayOfMonth(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.d=+s[0],i+s[0].length):-1}function parseDayOfYear(t,e,i){var s=numberRe.exec(e.slice(i,i+3));return s?(t.m=0,t.d=+s[0],i+s[0].length):-1}function parseHour24(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.H=+s[0],i+s[0].length):-1}function parseMinutes(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.M=+s[0],i+s[0].length):-1}function parseSeconds(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.S=+s[0],i+s[0].length):-1}function parseMilliseconds(t,e,i){var s=numberRe.exec(e.slice(i,i+3));return s?(t.L=+s[0],i+s[0].length):-1}function parseMicroseconds(t,e,i){var s=numberRe.exec(e.slice(i,i+6));return s?(t.L=Math.floor(s[0]/1e3),i+s[0].length):-1}function parseLiteralPercent(t,e,i){var s=percentRe.exec(e.slice(i,i+1));return s?i+s[0].length:-1}function parseUnixTimestamp(t,e,i){var s=numberRe.exec(e.slice(i));return s?(t.Q=+s[0],i+s[0].length):-1}function parseUnixTimestampSeconds(t,e,i){var s=numberRe.exec(e.slice(i));return s?(t.s=+s[0],i+s[0].length):-1}function formatDayOfMonth(t,e){return pad$1(t.getDate(),e,2)}function formatHour24(t,e){return pad$1(t.getHours(),e,2)}function formatHour12(t,e){return pad$1(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad$1(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad$1(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad$1(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad$1(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad$1(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad$1(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||0===e?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad$1(timeThursday.count(timeYear(t),t)+(4===timeYear(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad$1(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear$1(t,e){return pad$1(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return pad$1((t=dISO(t)).getFullYear()%100,e,2)}function formatFullYear(t,e){return pad$1(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var i=t.getDay();return pad$1((t=i>=4||0===i?timeThursday(t):timeThursday.ceil(t)).getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad$1(e/60|0,"0",2)+pad$1(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad$1(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad$1(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad$1(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad$1(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad$1(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad$1(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad$1(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad$1(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad$1(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||0===e?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad$1(utcThursday.count(utcYear(t),t)+(4===utcYear(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad$1(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad$1(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return pad$1((t=UTCdISO(t)).getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad$1(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var i=t.getUTCDay();return pad$1((t=i>=4||0===i?utcThursday(t):utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number$1(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,i,s,n,B,l,a,c,F){var Q=continuous(),r=Q.invert,g=Q.domain,U=F(".%L"),I=F(":%S"),o=F("%I:%M"),d=F("%I %p"),b=F("%a %d"),C=F("%b %d"),u=F("%B"),y=F("%Y");function h(t){return(c(t)<t?U:a(t)<t?I:l(t)<t?o:B(t)<t?d:s(t)<t?n(t)<t?b:C:i(t)<t?u:y)(t)}return Q.invert=function(t){return new Date(r(t))},Q.domain=function(t){return arguments.length?g(Array.from(t,number$1)):g().map(date)},Q.ticks=function(e){var i=g();return t(i[0],i[i.length-1],null==e?10:e)},Q.tickFormat=function(t,e){return null==e?h:F(e)},Q.nice=function(t){var i=g();return t&&"function"==typeof t.range||(t=e(i[0],i[i.length-1],null==t?10:t)),t?g(nice(i,t)):Q},Q.copy=function(){return copy$1(Q,calendar(t,e,i,s,n,B,l,a,c,F))},Q}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second$1,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second$1,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function transformer(){var t,e,i,s,n,B,l,a=0,c=.5,F=1,Q=1,r=identity$3,g=!1;function U(t){return isNaN(t=+t)?l:(t=.5+((t=+B(t))-e)*(Q*t<Q*e?s:n),r(g?Math.max(0,Math.min(1,t)):t))}function I(t){return function(e){var i,s,n;return arguments.length?([i,s,n]=e,r=piecewise(t,[i,s,n]),U):[r(0),r(.5),r(1)]}}return U.domain=function(l){return arguments.length?([a,c,F]=l,t=B(a=+a),e=B(c=+c),i=B(F=+F),s=t===e?0:.5/(e-t),n=e===i?0:.5/(i-e),Q=e<t?-1:1,U):[a,c,F]},U.clamp=function(t){return arguments.length?(g=!!t,U):g},U.interpolator=function(t){return arguments.length?(r=t,U):r},U.range=I(interpolate$1),U.rangeRound=I(interpolateRound),U.unknown=function(t){return arguments.length?(l=t,U):l},function(l){return B=l,t=l(a),e=l(c),i=l(F),s=t===e?0:.5/(e-t),n=e===i?0:.5/(i-e),Q=e<t?-1:1,U}}function diverging(){var t=linearish(transformer()(identity$3));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function colors$1(t){for(var e=t.length/6|0,i=new Array(e),s=0;s<e;)i[s]="#"+t.slice(6*s,6*++s);return i}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var schemeCategory10=colors$1("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors$1("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors$1("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors$1("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors$1("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors$1("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors$1("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors$1("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors$1("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors$1("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),schemeTableau10=colors$1("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=t=>rgbBasis(t[t.length-1]),scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors$1),interpolateBrBG=ramp$1(scheme$q),scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors$1),interpolatePRGn=ramp$1(scheme$p),scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors$1),interpolatePiYG=ramp$1(scheme$o),scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors$1),interpolatePuOr=ramp$1(scheme$n),scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors$1),interpolateRdBu=ramp$1(scheme$m),scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors$1),interpolateRdGy=ramp$1(scheme$l),scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors$1),interpolateRdYlBu=ramp$1(scheme$k),scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors$1),interpolateRdYlGn=ramp$1(scheme$j),scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors$1),interpolateSpectral=ramp$1(scheme$i),scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors$1),interpolateBuGn=ramp$1(scheme$h),scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors$1),interpolateBuPu=ramp$1(scheme$g),scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors$1),interpolateGnBu=ramp$1(scheme$f),scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors$1),interpolateOrRd=ramp$1(scheme$e),scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors$1),interpolatePuBuGn=ramp$1(scheme$d),scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors$1),interpolatePuBu=ramp$1(scheme$c),scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors$1),interpolatePuRd=ramp$1(scheme$b),scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors$1),interpolateRdPu=ramp$1(scheme$a),scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors$1),interpolateYlGnBu=ramp$1(scheme$9),scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors$1),interpolateYlGn=ramp$1(scheme$8),scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors$1),interpolateYlOrBr=ramp$1(scheme$7),scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors$1),interpolateYlOrRd=ramp$1(scheme$6),scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors$1),interpolateBlues=ramp$1(scheme$5),scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors$1),interpolateGreens=ramp$1(scheme$4),scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors$1),interpolateGreys=ramp$1(scheme$3),scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors$1),interpolatePurples=ramp$1(scheme$2),scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors$1),interpolateReds=ramp$1(scheme$1),scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors$1),interpolateOranges=ramp$1(scheme);function interpolateCividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var interpolateCubehelixDefault=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1)),warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$3=cubehelix$1();function interpolateRainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return c$3.h=360*t-100,c$3.s=1.5-1.5*e,c$3.l=.8-.9*e,c$3+""}var c$2=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function interpolateSinebow(t){var e;return t=(.5-t)*Math.PI,c$2.r=255*(e=Math.sin(t))*e,c$2.g=255*(e=Math.sin(t+pi_1_3))*e,c$2.b=255*(e=Math.sin(t+pi_2_3))*e,c$2+""}function interpolateTurbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function ramp(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}var interpolateViridis=ramp(colors$1("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp(colors$1("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors$1("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors$1("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(t){return function(){return t}}const cos=Math.cos,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi$1=Math.PI,tau$1=2*pi$1;function withPath(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(null==i)e=null;else{const t=Math.floor(i);if(!(t>=0))throw new RangeError(`invalid digits: ${i}`);e=t}return t},()=>new Path(e)}function array(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x$1(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var i=constant$1(!0),s=null,n=curveLinear,B=null,l=withPath(a);function a(a){var c,F,Q,r=(a=array(a)).length,g=!1;for(null==s&&(B=n(Q=l())),c=0;c<=r;++c)!(c<r&&i(F=a[c],c,a))===g&&((g=!g)?B.lineStart():B.lineEnd()),g&&B.point(+t(F,c,a),+e(F,c,a));if(Q)return B=null,Q+""||null}return t="function"==typeof t?t:void 0===t?x$1:constant$1(t),e="function"==typeof e?e:void 0===e?y:constant$1(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:constant$1(+t),a):e},a.defined=function(t){return arguments.length?(i="function"==typeof t?t:constant$1(!!t),a):i},a.curve=function(t){return arguments.length?(n=t,null!=s&&(B=n(s)),a):n},a.context=function(t){return arguments.length?(null==t?s=B=null:B=n(s=t),a):s},a}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Bump{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const sqrt3$3=sqrt(3);var symbolAsterisk={draw(t,e){const i=.59436*sqrt(e+min(e/28,.75)),s=i/2,n=s*sqrt3$3;t.moveTo(0,i),t.lineTo(0,-i),t.moveTo(-n,-s),t.lineTo(n,s),t.moveTo(-n,s),t.lineTo(n,-s)}},symbolCircle={draw(t,e){const i=sqrt(e/pi$1);t.moveTo(i,0),t.arc(0,0,i,0,tau$1)}},symbolCross={draw(t,e){const i=sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};const tan30=sqrt(1/3),tan30_2=2*tan30;var symbolDiamond={draw(t,e){const i=sqrt(e/tan30_2),s=i*tan30;t.moveTo(0,-i),t.lineTo(s,0),t.lineTo(0,i),t.lineTo(-s,0),t.closePath()}},symbolDiamond2={draw(t,e){const i=.62625*sqrt(e);t.moveTo(0,-i),t.lineTo(i,0),t.lineTo(0,i),t.lineTo(-i,0),t.closePath()}},symbolPlus={draw(t,e){const i=.87559*sqrt(e-min(e/7,2));t.moveTo(-i,0),t.lineTo(i,0),t.moveTo(0,i),t.lineTo(0,-i)}},symbolSquare={draw(t,e){const i=sqrt(e),s=-i/2;t.rect(s,s,i,i)}},symbolSquare2={draw(t,e){const i=.4431*sqrt(e);t.moveTo(i,i),t.lineTo(i,-i),t.lineTo(-i,-i),t.lineTo(-i,i),t.closePath()}};const ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr;var symbolStar={draw(t,e){const i=sqrt(e*ka),s=kx*i,n=ky*i;t.moveTo(0,-i),t.lineTo(s,n);for(let e=1;e<5;++e){const B=tau$1*e/5,l=cos(B),a=sin(B);t.lineTo(a*i,-l*i),t.lineTo(l*s-a*n,a*s+l*n)}t.closePath()}};const sqrt3$2=sqrt(3);var symbolTriangle={draw(t,e){const i=-sqrt(e/(3*sqrt3$2));t.moveTo(0,2*i),t.lineTo(-sqrt3$2*i,-i),t.lineTo(sqrt3$2*i,-i),t.closePath()}};const sqrt3$1=sqrt(3);var symbolTriangle2={draw(t,e){const i=.6824*sqrt(e),s=i/2,n=i*sqrt3$1/2;t.moveTo(0,-i),t.lineTo(n,s),t.lineTo(-n,s),t.closePath()}};const c$1=-.5,s$1=sqrt(3)/2,k=1/sqrt(12),a$1=3*(k/2+1);var symbolWye={draw(t,e){const i=sqrt(e/a$1),s=i/2,n=i*k,B=s,l=i*k+i,a=-B,c=l;t.moveTo(s,n),t.lineTo(B,l),t.lineTo(a,c),t.lineTo(c$1*s-s$1*n,s$1*s+c$1*n),t.lineTo(c$1*B-s$1*l,s$1*B+c$1*l),t.lineTo(c$1*a-s$1*c,s$1*a+c$1*c),t.lineTo(c$1*s+s$1*n,c$1*n-s$1*s),t.lineTo(c$1*B+s$1*l,c$1*l-s$1*B),t.lineTo(c$1*a+s$1*c,c$1*c-s$1*a),t.closePath()}},symbolTimes={draw(t,e){const i=.6189*sqrt(e-min(e/6,1.7));t.moveTo(-i,-i),t.lineTo(i,i),t.moveTo(-i,i),t.lineTo(i,-i)}};const symbolsFill=[symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye],symbolsStroke=[symbolCircle,symbolPlus,symbolTimes,symbolTriangle2,symbolAsterisk,symbolSquare2,symbolDiamond2];function noop(){}function point$3(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function Basis(t){this._context=t}function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}function curveBasisOpen(t){return new BasisOpen(t)}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 3:this._point=4;default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var s,n=t[0],B=e[0],l=t[i]-n,a=e[i]-B,c=-1;++c<=i;)s=c/i,this._basis.point(this._beta*t[c]+(1-this._beta)*(n+s*l),this._beta*e[c]+(1-this._beta)*(B+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var curveBundle=function t(e){function i(t){return 1===e?new Basis(t):new Bundle(t,e)}return i.beta=function(e){return t(+e)},i}(.85);function point$2(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinal=function t(e){function i(t){return new Cardinal(t,e)}return i.tension=function(e){return t(+e)},i}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalClosed=function t(e){function i(t){return new CardinalClosed(t,e)}return i.tension=function(e){return t(+e)},i}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalOpen=function t(e){function i(t){return new CardinalOpen(t,e)}return i.tension=function(e){return t(+e)},i}(0);function point$1(t,e,i){var s=t._x1,n=t._y1,B=t._x2,l=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,n=(n*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>1e-12){var F=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,Q=3*t._l23_a*(t._l23_a+t._l12_a);B=(B*F+t._x1*t._l23_2a-e*t._l12_2a)/Q,l=(l*F+t._y1*t._l23_2a-i*t._l12_2a)/Q}t._context.bezierCurveTo(s,n,B,l,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRom=function t(e){function i(t){return e?new CatmullRom(t,e):new Cardinal(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomClosed=function t(e){function i(t){return e?new CatmullRomClosed(t,e):new CardinalClosed(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomOpen=function t(e){function i(t){return e?new CatmullRomOpen(t,e):new CardinalOpen(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function LinearClosed(t){this._context=t}function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,i){var s=t._x1-t._x0,n=e-t._x1,B=(t._y1-t._y0)/(s||n<0&&-0),l=(i-t._y1)/(n||s<0&&-0),a=(B*n+l*s)/(s+n);return(sign(B)+sign(l))*Math.min(Math.abs(B),Math.abs(l),.5*Math.abs(a))||0}function slope2(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function point(t,e,i){var s=t._x0,n=t._y0,B=t._x1,l=t._y1,a=(B-s)/3;t._context.bezierCurveTo(s+a,n+a*e,B-a,l-a*i,B,l)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,i,s=t.length-1,n=new Array(s),B=new Array(s),l=new Array(s);for(n[0]=0,B[0]=2,l[0]=t[0]+2*t[1],e=1;e<s-1;++e)n[e]=1,B[e]=4,l[e]=4*t[e]+2*t[e+1];for(n[s-1]=2,B[s-1]=7,l[s-1]=8*t[s-1]+t[s],e=1;e<s;++e)i=n[e]/B[e-1],B[e]-=i,l[e]-=i*l[e-1];for(n[s-1]=l[s-1]/B[s-1],e=s-2;e>=0;--e)n[e]=(l[e]-n[e+1])/B[e];for(B[s-1]=(t[s]+n[s-1])/2,e=0;e<s-1;++e)B[e]=2*t[e+1]-n[e+1];return[n,B]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function Transform(t,e,i){this.k=t,this.x=e,this.y=i}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,i=slope3(this,t,e)),i);break;default:point(this,this._t0,i=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,s,n,B){this._context.bezierCurveTo(e,t,s,i,B,n)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var s=controlPoints(t),n=controlPoints(e),B=0,l=1;l<i;++B,++l)this._context.bezierCurveTo(s[0][B],n[0][B],s[1][B],n[1][B],t[l],e[l]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}},Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Transform.prototype;class DecidablesElement extends i$2{getComputedStyleValue(t){return getComputedStyle(this).getPropertyValue(t).trim()}firstUpdated(t){super.firstUpdated(t),select(this.renderRoot.host).classed("keyboard",!0).on("mousemove.keyboard touchstart.keyboard",t=>{select(t.currentTarget.renderRoot.host).classed("keyboard",!1).on("mousemove.keyboard touchstart.keyboard",null)}).on("keydown.keyboard",t=>{select(t.currentTarget.renderRoot.host).classed("keyboard",!0).on("keydown.keyboard mousemove.keyboard touchstart.keyboard",null)})}static get greys(){const t="#999999",e={white:"#ffffff"};return e.light75=interpolateRgb(t,"#ffffff")(.75),e.light50=interpolateRgb(t,"#ffffff")(.5),e.light25=interpolateRgb(t,"#ffffff")(.25),e.grey=t,e.dark25=interpolateRgb(t,"#000000")(.25),e.dark50=interpolateRgb(t,"#000000")(.5),e.dark75=interpolateRgb(t,"#000000")(.75),e.black="#000000",e}static get shadows(){return{elevations:[0,2,4,8,16],baselineColor:"#000000",baselineColorString:"0, 0, 0",inverseBaselineColor:"#FFFFFF",inverseBaselineColorString:"255, 255, 255",opacityUmbra:.2,opacityPenumbra:.14,opacityAmbient:.12,opacityBoost:.2,mapUmbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:3,b:1,s:-2},4:{x:0,y:2,b:4,s:-1},8:{x:0,y:5,b:5,s:-3},16:{x:0,y:8,b:10,s:-5}},mapPenumbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:2,b:2,s:0},4:{x:0,y:4,b:5,s:0},8:{x:0,y:8,b:10,s:1},16:{x:0,y:16,b:24,s:2}},mapAmbient:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:1,b:5,s:0},4:{x:0,y:1,b:10,s:0},8:{x:0,y:3,b:14,s:2},16:{x:0,y:6,b:30,s:5}}}}static cssBoxShadow(t,e=!1,i=!1){const s=this.shadows.opacityUmbra+this.shadows.opacityBoost,n=this.shadows.opacityPenumbra+this.shadows.opacityBoost,B=this.shadows.opacityAmbient+this.shadows.opacityBoost,l=i?`rgba(${this.shadows.inverseBaselineColorString}, ${s})`:`rgba(${this.shadows.baselineColorString}, ${s})`,a=i?`rgba(${this.shadows.inverseBaselineColorString}, ${n})`:`rgba(${this.shadows.baselineColorString}, ${n})`,c=i?`rgba(${this.shadows.inverseBaselineColorString}, ${B})`:`rgba(${this.shadows.baselineColorString}, ${B})`,F=this.shadows.mapUmbra[t],Q=this.shadows.mapPenumbra[t],r=this.shadows.mapAmbient[t];return`${e?`${-F.y}px ${F.y/2}px ${F.b}px ${F.s}px`:`${F.y/2}px ${F.y}px ${F.b}px ${F.s}px`} ${l}, ${e?`${-Q.y}px ${Q.y/2}px ${Q.b}px ${Q.s}px`:`${Q.y/2}px ${Q.y}px ${Q.b}px ${Q.s}px`} ${a}, ${e?`${-r.y}px ${r.y/2}px ${r.b}px ${r.s}px`:`${r.y/2}px ${r.y}px ${r.b}px ${r.s}px`} ${c}`}static get svgDefs(){const t=DecidablesElement.shadows,e=t.elevations.map(e=>`\n        <filter id=shadow-${e} filterUnits="userSpaceOnUse" x="-100%" y="-100%" width="200%" height="200%">\n          <feComponentTransfer in="SourceAlpha" result="solid">\n            <feFuncA type="table" tableValues="0 1 1"/>\n          </feComponentTransfer>\n          <feOffset in="solid" result="offU" dx=${t.mapUmbra[e].y/2} dy=${t.mapUmbra[e].y} />\n          <feOffset in="solid" result="offP" dx=${t.mapPenumbra[e].y/2} dy=${t.mapPenumbra[e].y} />\n          <feOffset in="solid" result="offA" dx=${t.mapAmbient[e].y/2} dy=${t.mapAmbient[e].y} />\n          ${0===t.mapUmbra[e].s?"":`<feMorphology in="offU" result="spreadU" operator=${t.mapUmbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapUmbra[e].s)} />`}\n          ${0===t.mapPenumbra[e].s?"":`<feMorphology in="offP" result="spreadP" operator=${t.mapPenumbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapPenumbra[e].s)} />`}\n          ${0===t.mapAmbient[e].s?"":`<feMorphology in="offA" result="spreadA" operator=${t.mapAmbient[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapAmbient[e].s)} />`}\n          <feGaussianBlur in=${0===t.mapUmbra[e].s?"offU":"spreadU"} result="blurU" stdDeviation=${t.mapUmbra[e].b/2} />\n          <feGaussianBlur in=${0===t.mapPenumbra[e].s?"offP":"spreadP"} result="blurP" stdDeviation=${t.mapPenumbra[e].b/2} />\n          <feGaussianBlur in=${0===t.mapAmbient[e].s?"offA":"spreadA"} result="blurA" stdDeviation=${t.mapAmbient[e].b/2} />\n          <feFlood in="SourceGraphic" result="opU" flood-color=${t.baselineColor} flood-opacity=${t.opacityUmbra+t.opacityBoost} />\n          <feFlood in="SourceGraphic" result="opP" flood-color=${t.baselineColor} flood-opacity=${t.opacityPenumbra+t.opacityBoost} />\n          <feFlood in="SourceGraphic" result="opA" flood-color=${t.baselineColor} flood-opacity=${t.opacityAmbient+t.opacityBoost} />\n          <feComposite in="opU" in2="blurU" result="shU" operator="in" />\n          <feComposite in="opP" in2="blurP" result="shP" operator="in" />\n          <feComposite in="opA" in2="blurA" result="shA" operator="in" />\n          <feMorphology in="solid" result="smaller" operator="erode" radius="1" />\n          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />\n          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />\n          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />\n          <feMerge>\n            <feMergeNode in="finalU" />\n            <feMergeNode in="finalP" />\n            <feMergeNode in="finalA" />\n            <feMergeNode in="SourceGraphic" />\n          </feMerge>\n        </filter>`);return`\n      <defs>\n        ${e}\n      </defs>\n    `}static get svgFilters(){const t=DecidablesElement.shadows,e=t.elevations.map(e=>b$1`
        <filter id=${`shadow-${e}`} x="-250%" y="-250%" width="600%" height="600%">
          <feComponentTransfer in="SourceAlpha" result="solid">
            <feFuncA type="table" tableValues="0 1 1"/>
          </feComponentTransfer>
          <feOffset in="solid" result="offU" dx=${t.mapUmbra[e].y/2} dy=${t.mapUmbra[e].y} />
          <feOffset in="solid" result="offP" dx=${t.mapPenumbra[e].y/2} dy=${t.mapPenumbra[e].y} />
          <feOffset in="solid" result="offA" dx=${t.mapAmbient[e].y/2} dy=${t.mapAmbient[e].y} />
          ${0===t.mapUmbra[e].s?b$1``:b$1`<feMorphology in="offU" result="spreadU" operator=${t.mapUmbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapUmbra[e].s)} />`}
          ${0===t.mapPenumbra[e].s?b$1``:b$1`<feMorphology in="offP" result="spreadP" operator=${t.mapPenumbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapPenumbra[e].s)} />`}
          ${0===t.mapAmbient[e].s?b$1``:b$1`<feMorphology in="offA" result="spreadA" operator=${t.mapAmbient[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapAmbient[e].s)} />`}
          <feGaussianBlur in=${0===t.mapUmbra[e].s?"offU":"spreadU"} result="blurU" stdDeviation=${t.mapUmbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapPenumbra[e].s?"offP":"spreadP"} result="blurP" stdDeviation=${t.mapPenumbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapAmbient[e].s?"offA":"spreadA"} result="blurA" stdDeviation=${t.mapAmbient[e].b/2} />
          <feFlood in="SourceGraphic" result="opU" flood-color=${t.baselineColor} flood-opacity=${t.opacityUmbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opP" flood-color=${t.baselineColor} flood-opacity=${t.opacityPenumbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opA" flood-color=${t.baselineColor} flood-opacity=${t.opacityAmbient+t.opacityBoost} />
          <feComposite in="opU" in2="blurU" result="shU" operator="in" />
          <feComposite in="opP" in2="blurP" result="shP" operator="in" />
          <feComposite in="opA" in2="blurA" result="shA" operator="in" />
          <feMorphology in="solid" result="smaller" operator="erode" radius="1" />
          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />
          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />
          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />
          <feMerge>
            <feMergeNode in="finalU" />
            <feMergeNode in="finalP" />
            <feMergeNode in="finalA" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>`);return b$1`
      <svg class="defs">
        <defs>
          ${e}
        </defs>
      </svg>
    `}static get styles(){return i$5`
      :host {
        ---shadow-0: var(--shadow-0, ${r$4(this.cssBoxShadow(0))});
        ---shadow-2: var(--shadow-2, ${r$4(this.cssBoxShadow(2))});
        ---shadow-4: var(--shadow-4, ${r$4(this.cssBoxShadow(4))});
        ---shadow-8: var(--shadow-8, ${r$4(this.cssBoxShadow(8))});

        ---color-background: var(--color-background, ${r$4(this.greys.white)});
        ---color-border: var(--color-border, ${r$4(this.greys.light75)});
        ---color-text: var(--color-text, ${r$4(this.greys.dark75)});
        ---color-text-inverse: var(--color-text-inverse, ${r$4(this.greys.white)});
        ---color-link: var(--color-link, ${r$4(this.greys.dark25)});
        ---color-element-background: var(--color-element-background, ${r$4(this.greys.light75)});
        ---color-element-disabled: var(--color-element-disabled, ${r$4(this.greys.light50)});
        ---color-element-enabled: var(--color-element-enabled, ${r$4(this.greys.dark25)});
        ---color-element-selected: var(--color-element-selected, ${r$4(this.greys.grey)});
        ---color-element-border: var(--color-element-border, ${r$4(this.greys.dark50)});
        ---color-element-emphasis: var(--color-element-emphasis, ${r$4(this.greys.dark75)});

        ---font-family-base: var(--font-family-base, "Source Sans", sans-serif);
        ---font-family-math: var(--font-family-math, "Source Serif", serif);

        ---border: var(--border, 1px solid var(---color-border));
        ---border-radius: var(--border-radius, 0.25rem);
        ---transition-duration: var(--transition-duration, 500ms);

        font-family: var(---font-family-base);
        font-weight: normal;
      }

      :host,
      :host *,
      :host *::before,
      :host *::after {
        box-sizing: border-box;
      }

      .math-greek {
        font-family: var(---font-family-math);
        font-style: normal;
      }

      .math-num {
        font-family: var(---font-family-base);
        font-style: normal;
      }

      .math-var {
        font-family: var(---font-family-math);
        font-style: italic;
      }

      .defs {
        display: block;

        width: 0;
        height: 0;
      }
    `}}class DecidablesButton extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$5`
        :host {
          ---decidables-button-background-color-disabled: var(--decidables-button-background-color, var(---color-element-disabled));
          ---decidables-button-background-color-enabled: var(--decidables-button-background-color, var(---color-element-enabled));

          margin: 0.25rem;
        }

        button {
          width: 100%;
          height: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);

          border: 0;
          border-radius: var(---border-radius);
          outline: none;
        }

        button:disabled {
          background-color: var(---decidables-button-background-color-disabled);
          outline: none;
          box-shadow: none;
        }

        button:enabled {
          cursor: pointer;

          background-color: var(---decidables-button-background-color-enabled);
          outline: none;
          box-shadow: var(---shadow-2);
        }

        button:enabled:hover {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        button:enabled:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(.keyboard) button:enabled:focus {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) button:enabled:focus:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$2`
      <button ?disabled=${this.disabled}>
        <slot></slot>
      </button>
    `}}customElements.define("decidables-button",DecidablesButton);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const o$2=t=>t??E$1;class DecidablesSlider extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},scale:{attribute:"scale",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0},nonlinear:{attribute:!1,type:Boolean,reflect:!1}}}constructor(){super(),this.disabled=!1,this.scale=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0,this.nonlinear=!1,this.rangeMax=void 0,this.rangeMin=void 0,this.rangeStep=void 0,this.rangeValue=void 0,this.toRange=void 0,this.fromRange=void 0}nonlinearRange(t,e,i){this.nonlinear=t,this.toRange=t?e:void 0,this.fromRange=t?i:void 0}rangeChanged(t){this.value=this.nonlinear?this.fromRange(t.target.value):t.target.value,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value},bubbles:!0}))}rangeInputted(t){this.value=this.nonlinear?this.fromRange(t.target.value):t.target.value}spinnerInputted(t){this.value=t.target.value}willUpdate(){this.rangeMax=void 0===this.max?void 0:this.nonlinear?this.toRange(this.max):this.max,this.rangeMin=void 0===this.min?void 0:this.nonlinear?this.toRange(this.min):this.min,this.rangeStep=void 0===this.step?void 0:this.nonlinear?"any":this.step,this.rangeValue=void 0===this.value?void 0:this.nonlinear?this.toRange(this.value):this.value}static get styles(){return[super.styles,i$5`
        :host {
          ---decidables-slider-background-color: var(--decidables-slider-background-color, var(---color-element-disabled));
          ---decidables-slider-color: var(--decidables-slider-color, var(---color-element-enabled));
          ---decidables-spinner-background-color: var(--decidables-slider-background-color, none);

          ---shadow-2-rotate: var(--shadow-2-rotate, ${r$4(this.cssBoxShadow(2,!0,!1))});
          ---shadow-4-rotate: var(--shadow-4-rotate, ${r$4(this.cssBoxShadow(4,!0,!1))});
          ---shadow-8-rotate: var(--shadow-8-rotate, ${r$4(this.cssBoxShadow(8,!0,!1))});

          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        label {
          margin: 0.25rem 0.25rem 0;
        }

        .range {
          position: relative;
          display: flex;

          flex-direction: row;

          width: 3.5rem;
          height: 4.75rem;
          margin: 0 0.25rem 0.25rem;
        }

        decidables-spinner {
          --decidables-spinner-input-width: 3.5rem;

          margin: 0 0.25rem 0.25rem;

          background: var(---decidables-spinner-background-color);
        }

        /* Adapted from http://danielstern.ca/range.css/#/ */
        /* Overall */
        input[type=range] {
          width: 4.75rem;
          height: 3.5rem;
          padding: 0;
          margin: 0;

          background-color: unset;

          transform: rotate(-90deg);
          transform-origin: 2.375rem 2.375rem;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:enabled {
          cursor: ns-resize;
        }

        input[type=range]:focus {
          outline: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-tooltip {
          display: none;
        }

        /* Track */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-runnable-track {
          width: 100%;
          height: 4px;

          background: var(---decidables-slider-background-color);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        input[type=range]:focus::-webkit-slider-runnable-track {
          background: var(---decidables-slider-background-color);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-track {
          width: 100%;
          height: 4px;

          background: var(---decidables-slider-background-color);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-track {
          width: 100%;
          height: 4px;

          color: transparent;

          background: transparent;
          border-color: transparent;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-lower {
          background: #cccccc;
          /* background: var(---decidables-slider-background-color); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-upper {
          background: #cccccc;
          /* background: var(---decidables-slider-background-color); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-lower {
          background: var(---decidables-slider-background-color);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-upper {
          background: var(---decidables-slider-background-color);
        }

        /* Thumb */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-thumb {
          width: 10px;
          height: 20px;
          margin-top: -8px;

          border: 0;
          border-radius: 4px;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:disabled::-webkit-slider-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        input[type=range]:enabled::-webkit-slider-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        input[type=range]:enabled:hover::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        input[type=range]:enabled:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:focus:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-thumb {
          width: 10px;
          height: 20px;

          border: 0;
          border-radius: 4px;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-moz-range-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-moz-range-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-thumb {
          width: 10px;
          height: 20px;
          margin-top: 0;

          background: #999999;
          /* background: var(---color-element-enabled); */
          border: 0;
          border-radius: 4px;
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-ms-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-ms-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        :host(.keyboard) input[type=range]:enabled:focus::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        datalist {
          position: absolute;
          left: 2rem;
          z-index: -1;
          display: flex;

          flex-direction: column;

          align-items: flex-start;
          justify-content: space-between;

          height: 4.75rem;

          font-size: 0.75rem;
        }

        option {
          padding: 0;

          line-height: 0.8;
          min-block-size: 0;
        }

        option::before {
          content: "â ";
        }
      `]}render(){return x$2`
      <label for="slider">
        <slot></slot>
      </label>
      <div class="range">
        <input ?disabled=${this.disabled} type="range" id="slider" min=${o$2(this.rangeMin)} max=${o$2(this.rangeMax)} step=${o$2(this.rangeStep)} .value=${this.rangeValue} @change=${this.rangeChanged.bind(this)} @input=${this.rangeInputted.bind(this)}>
        ${this.scale?x$2`
            <datalist id="ticks">
              <option value=${o$2(this.rangeMax)} label=${o$2(this.max)}></option>
              <option value=${o$2(this.rangeMin)} label=${o$2(this.min)}></option>
            </datalist>
          `:x$2``}
      </div>
      <decidables-spinner ?disabled=${this.disabled} min=${o$2(this.min)} max=${o$2(this.max)} step=${o$2(this.step)} .value=${this.value} @input=${this.spinnerInputted.bind(this)}></decidables-spinner>
    `}}customElements.define("decidables-slider",DecidablesSlider);class DecidablesSpinner extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}constructor(){super(),this.disabled=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0}inputted(t){this.value=t.target.value}static get styles(){return[super.styles,i$5`
        :host {
          ---decidables-spinner-font-size: var(--decidables-spinner-font-size, 1.125rem);
          ---decidables-spinner-input-width: var(--decidables-spinner-input-width, 4rem);
          ---decidables-spinner-prefix: var(--decidables-spinner-prefix, "");

          ---decidables-spinner-postfix: var(--decidables-spinner-postfix, "");
          ---decidables-spinner-postfix-padding: var(--decidables-spinner-postfix-padding, 0);

          display: block;
        }

        label {
          position: relative;
          display: flex;

          flex-direction: column;

          align-items: center;

          margin: 0;

          font-size: 0.75rem;
        }

        label::before {
          position: absolute;
          bottom: 1px;
          left: calc(50% - var(---decidables-spinner-input-width) / 2 + 0.25rem);

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-prefix);
        }

        label::after {
          position: absolute;
          right: 0.25rem;
          bottom: 1px;

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-postfix);
        }

        input[type=number] {
          width: var(---decidables-spinner-input-width);
          padding-right: var(---decidables-spinner-postfix-padding);

          font-family: var(---font-family-base);
          font-size: var(---decidables-spinner-font-size);
          color: inherit;
          text-align: right;

          background: none;
          border: 0;
          border-radius: 0;
          outline: none;
          box-shadow: var(---shadow-2);

          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }

        input[type=number]:hover {
          box-shadow: var(---shadow-4);
        }

        input[type=number]:focus,
        input[type=number]:active {
          box-shadow: var(---shadow-8);
        }

        input[type=number]:disabled {
          color: var(---color-text);

          border: 0;
          box-shadow: none;

          /* HACK: Use correct text color in Safari */
          -webkit-opacity: 1;
          /* HACK: Hide spinners in disabled input for Firefox and Safari */
          -moz-appearance: textfield; /* stylelint-disable-line property-no-vendor-prefix */
          /* HACK: Use correct text color in Safari */
          -webkit-text-fill-color: var(---color-text);
        }

        /* HACK: Hide spinners in disabled input for Firefox and Safari */
        input[type=number]:disabled::-webkit-outer-spin-button,
        input[type=number]:disabled::-webkit-inner-spin-button {
          margin: 0;
          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }
      `]}render(){return x$2`
      <label>
        <slot></slot>
        <input ?disabled=${this.disabled} type="number" min=${o$2(this.min)} max=${o$2(this.max)} step=${o$2(this.step)} .value=${this.value} @input=${this.inputted.bind(this)}>
      </label>
    `}}customElements.define("decidables-spinner",DecidablesSpinner);class DecidablesSwitch extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked},bubbles:!0}))}static get styles(){return[super.styles,i$5`
        :host {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        /* Adapted from https://codepen.io/guuslieben/pen/YyPRVP */
        input[type=checkbox] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=checkbox] + label {
          order: 1;

          margin: 0 0.25rem 0.25rem;

          font-weight: 400;
        }

        input[type=checkbox] + label + label {
          position: relative;

          min-width: 24px;
          padding: 0 0 36px;
          margin: 0.25rem 0.25rem 0;

          font-weight: 400;

          outline: none;
        }

        input[type=checkbox] + label + label::before,
        input[type=checkbox] + label + label::after {
          position: absolute;

          left: 50%;

          margin: 0;

          content: "";

          outline: 0;

          transition: all var(---transition-duration) ease;
          transform: translate(-50%, 0);
        }

        input[type=checkbox] + label + label::before {
          bottom: 1px;

          width: 8px;
          height: 34px;

          background-color: var(---color-element-disabled);
          border-radius: 4px;
        }

        input[type=checkbox] + label + label::after {
          bottom: 0;

          width: 18px;
          height: 18px;

          background-color: var(---color-element-enabled);
          border-radius: 50%;
          box-shadow: var(---shadow-2);
        }

        input[type=checkbox]:checked + label + label::after {
          transform: translate(-50%, -100%);
        }

        input[type=checkbox]:disabled + label + label::after {
          background-color: var(---color-element-disabled);
          box-shadow: none;
        }

        input[type=checkbox]:enabled + label,
        input[type=checkbox]:enabled + label + label {
          cursor: pointer;
        }

        input[type=checkbox]:enabled + label:hover + label::after,
        input[type=checkbox]:enabled + label + label:hover::after {
          box-shadow: var(---shadow-4);
        }

        input[type=checkbox]:enabled + label:active + label::after,
        input[type=checkbox]:enabled + label + label:active::after {
          box-shadow: var(---shadow-8);
        }

        /* stylelint-disable-next-line selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label::after {
          box-shadow: var(---shadow-4);
        }

        /* stylelint-disable selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label:active::after,
        :host(.keyboard) input[type=checkbox]:enabled:focus:active + label + label::after {
          box-shadow: var(---shadow-8);
        }
        /* stylelint-enable selector-max-compound-selectors */
        `]}render(){return x$2`
      <input type="checkbox" id="switch" ?checked=${this.checked} ?disabled=${this.disabled} @change=${this.changed.bind(this)}>
      <label for="switch">
        <slot name="off-label"></slot>
      </label>
      <label for="switch">
        <slot></slot>
      </label>
    `}}customElements.define("decidables-switch",DecidablesSwitch);class DecidablesToggle extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$5`
        fieldset {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;

          margin: 0.25rem;

          border: 0;
        }

        legend {
          text-align: center;
        }
      `]}render(){return x$2`
      <fieldset ?disabled=${this.disabled}>
        <legend><slot name="label"></slot></legend>
        <slot></slot>
      </fieldset>
    `}}customElements.define("decidables-toggle",DecidablesToggle);class DecidablesToggleOption extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},name:{attribute:"name",type:String,reflect:!0},value:{attribute:"value",type:String,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1,this.name=void 0,this.value=void 0}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked,value:this.value},bubbles:!0}))}static get styles(){return[super.styles,i$5`
        :host {
          display: flex;
        }

        input[type=radio] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=radio] + label {
          width: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);
          text-align: center;

          cursor: pointer;

          background-color: var(---color-element-enabled);
          border: 0;
          border-radius: 0;
          outline: none;

          box-shadow: var(---shadow-2);
        }

        input[type=radio]:checked + label {
          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-2);
        }

        input[type=radio] + label:hover {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        input[type=radio] + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(:first-of-type) input[type=radio] + label {
          border-top-left-radius: 0.25rem;
          border-top-right-radius: 0.25rem;
        }

        :host(:last-of-type) input[type=radio] + label {
          border-bottom-right-radius: 0.25rem;
          border-bottom-left-radius: 0.25rem;
        }

        :host(.keyboard) input[type=radio]:focus + label {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus:checked + label {
          z-index: 1;

          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$2`
      <input type="radio" id="toggle-option" name=${this.name} value=${this.value} .checked=${this.checked} @change=${this.changed.bind(this)}>
      <label for="toggle-option">
        <slot></slot>
      </label>
    `}}function DecidablesMixinResizeable(t){return class extends t{static get properties(){return{width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.width=NaN,this.height=NaN,this.rem=NaN}getDimensions(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(this.getDimensions.bind(this)),this.resizeObserver.observe(this)}disconnectedCallback(){this.resizeObserver.unobserve(this),super.disconnectedCallback()}}}customElements.define("decidables-toggle-option",DecidablesToggleOption);var data={colors:{a:"#e41a1c",d:"#377eb8",k:"#4daf4a",v:"#984ea3",sooner:"#ff7f00",later:"#f781bf",larger:"#4545d0",smaller:"#f032e6",equal:"#10dbc9",nr:"#cccccc"}},colors=data.colors;class DiscountableElement extends DecidablesElement{static get properties(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}constructor(){super(),this.interactive=!1}static get colors(){return colors}static get lights(){return Object.keys(DiscountableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(DiscountableElement.colors[e],"#ffffff")(.5),t),{})}static get darks(){return Object.keys(DiscountableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(DiscountableElement.colors[e],"#000000")(.5),t),{})}static get styles(){return[super.styles,i$5`
        :host {
          ---color-a: var(--color-a, ${r$4(this.colors.a)});
          ---color-d: var(--color-d, ${r$4(this.colors.d)});
          ---color-k: var(--color-k, ${r$4(this.colors.k)});
          ---color-v: var(--color-v, ${r$4(this.colors.v)});
          ---color-sooner: var(--color-sooner, ${r$4(this.colors.sooner)});
          ---color-later: var(--color-later, ${r$4(this.colors.later)});
          ---color-larger: var(--color-larger, ${r$4(this.colors.larger)});
          ---color-smaller: var(--color-smaller, ${r$4(this.colors.smaller)});
          ---color-equal: var(--color-equal, ${r$4(this.colors.equal)});
          ---color-nr: var(--color-nr, ${r$4(this.colors.nr)});

          ---color-a-light: var(--color-a-light, ${r$4(this.lights.a)});
          ---color-d-light: var(--color-d-light, ${r$4(this.lights.d)});
          ---color-k-light: var(--color-k-light, ${r$4(this.lights.k)});
          ---color-v-light: var(--color-v-light, ${r$4(this.lights.v)});
          ---color-sooner-light: var(--color-sooner-light, ${r$4(this.lights.sooner)});
          ---color-later-light: var(--color-later-light, ${r$4(this.lights.later)});
          ---color-larger-light: var(--color-larger-light, ${r$4(this.lights.larger)});
          ---color-smaller-light: var(--color-smaller-light, ${r$4(this.lights.smaller)});
          ---color-equal-light: var(--color-equal-light, ${r$4(this.lights.equal)});
          ---color-nr-light: var(--color-nr-light, ${r$4(this.lights.nr)});

          ---color-a-dark: var(--color-a-dark, ${r$4(this.darks.a)});
          ---color-d-dark: var(--color-d-dark, ${r$4(this.darks.d)});
          ---color-k-dark: var(--color-k-dark, ${r$4(this.darks.k)});
          ---color-v-dark: var(--color-v-dark, ${r$4(this.darks.v)});
          ---color-sooner-dark: var(--color-sooner-dark, ${r$4(this.darks.sooner)});
          ---color-later-dark: var(--color-later-dark, ${r$4(this.darks.later)});
          ---color-larger-dark: var(--color-larger-dark, ${r$4(this.darks.larger)});
          ---color-smaller-dark: var(--color-smaller-dark, ${r$4(this.darks.smaller)});
          ---color-equal-dark: var(--color-equal-dark, ${r$4(this.darks.equal)});
          ---color-nr-dark: var(--color-nr-dark, ${r$4(this.darks.nr)});
        }
      `]}}class DiscountableControl extends DiscountableElement{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{atribute:!1,type:String,reflect:!1}}}constructor(){super(),this.trials=void 0,this.duration=void 0,this.run=!1,this.pause=!1,this.reset=!1,this.states=["resetted","running","paused","ended"],this.state="resetted"}setTrials(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("discountable-control-trials",{detail:{trials:this.trials},bubbles:!0}))}setDuration(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("discountable-control-duration",{detail:{duration:this.duration},bubbles:!0}))}doRun(){this.state="running",this.dispatchEvent(new CustomEvent("discountable-control-run",{detail:{},bubbles:!0}))}doPause(){this.state="paused",this.dispatchEvent(new CustomEvent("discountable-control-pause",{detail:{},bubbles:!0}))}doReset(){this.state="resetted",this.dispatchEvent(new CustomEvent("discountable-control-reset",{detail:{},bubbles:!0}))}complete(){this.state="ended"}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .buttons {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.trials?x$2`<decidables-slider min="1" max="100" step="1" .value=${this.trials} @change=${this.setTrials.bind(this)} @input=${this.setTrials.bind(this)}>Trials</decidables-slider>`:x$2``}
        ${null!=this.duration?x$2`<decidables-slider min="10" max="4000" step="10" .value=${this.duration} @change=${this.setDuration.bind(this)} @input=${this.setDuration.bind(this)}>Duration</decidables-slider>`:x$2``}
        ${this.run||this.pause||this.reset?x$2`
            <div class="buttons">
              ${this.run?x$2`<decidables-button name="run" ?disabled=${"running"===this.state||"ended"===this.state} @click=${this.doRun.bind(this)}>Run</decidables-button>`:x$2``}
              ${this.pause?x$2`<decidables-button name="pause" ?disabled=${"running"!==this.state} @click=${this.doPause.bind(this)}>Pause</decidables-button>`:x$2``}
              ${this.reset?x$2`<decidables-button name="reset" ?disabled=${"resetted"===this.state} @click=${this.doReset.bind(this)}>Reset</decidables-button>`:x$2``}
            </div>
            `:x$2``}
      </div>`}}customElements.define("discountable-control",DiscountableControl);class DiscountableResponse extends DiscountableElement{static get properties(){return{feedback:{attribute:"feedback",type:Boolean,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trial=!1,this.feedback=!1,this.states=["off","waiting","feedback"],this.state="off",this.trialCount=0,this.trialTotal=0,this.as=0,this.ds=0,this.al=0,this.dl=0,this.responses=["first","second","nr"],this.response=void 0}start(t,e,i,s,n){this.state="waiting",this.as=t,this.ds=e,this.al=i,this.dl=s,this.trialCount=n,this.response=void 0}stop(){this.state="feedback",void 0===this.response&&(this.response="nr")}first(){this.responded("first")}second(){this.responded("second")}responded(t){this.state="feedback",this.response=t,this.dispatchEvent(new CustomEvent("discountable-response",{detail:{trial:this.trialCount,as:this.as,ds:this.ds,al:this.al,dl:this.dl,response:this.response},bubbles:!0}))}reset(){this.state="off",this.trialCount=0,this.response=void 0}keydown(t){"waiting"===this.state&&("ArrowLeft"===t.key?(this.responded("first"),t.preventDefault()):"ArrowRight"===t.key&&(this.responded("second"),t.preventDefault()))}connectedCallback(){super.connectedCallback(),window.addEventListener("keydown",this.keydown.bind(this))}disconnectedCallback(){window.removeEventListener("keydown",this.keydown.bind(this)),super.disconnectedCallback()}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        /* Overall container */
        .holder {
          display: flex;

          flex-direction: column;
        }

        /* Trial messages */
        .trials {
          display: flex;

          flex-direction: column;

          justify-content: center;
        }

        .trial {
          text-align: center;
        }

        .trial .label {
          font-weight: 600;
        }

        /* Response buttons */
        .responses {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .response {
          width: 5.25rem;
        }

        .waiting[disabled] {
          --decidables-button-background-color: var(---color-element-enabled);
        }

        .selected[disabled][name="first"] {
          --decidables-button-background-color: var(---color-sooner);
        }

        .selected[disabled][name="second"] {
          --decidables-button-background-color: var(---color-later);
        }

        /* Feedback messages */
        .feedbacks {
          display: flex;

          flex-direction: row;

          justify-content: center;
        }

        /* Outcome feedback */
        .feedback {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;

          width: 5.25rem;
          height: 3.5rem;
          padding: 0.375rem 0.75rem;
          margin: 0.25rem;

          text-align: center;

          background-color: var(---color-element-background);
          border: 1px solid var(---color-element-border);
        }

        .feedback.first {
          background-color: var(---color-sooner-light);
        }

        .feedback.second {
          background-color: var(---color-later-light);
        }

        .feedback.nr {
          background-color: var(---color-nr-light);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${this.trial?x$2`
            <div class="trials">
              <div class="trial">
                <span class="label">Trial: </span
                ><span class="count">${this.trialCount}</span
                ><span class="of"> of </span
                ><span class="total">${this.trialTotal}</span>
              </div>
            </div>`:x$2``}
        <div class="responses">
          <decidables-button 
            name="first"
            class="response ${"feedback"===this.state&&"first"===this.response?"selected":"waiting"===this.state?"waiting":""}"
            ?disabled=${"waiting"!==this.state||!0!==this.interactive}
            @click=${this.first.bind(this)}
          >First</decidables-button>
          <decidables-button 
            name="second"
            class="response ${"feedback"===this.state&&"second"===this.response?"selected":"waiting"===this.state?"waiting":""}"
            ?disabled=${"waiting"!==this.state||!0!==this.interactive}
            @click=${this.second.bind(this)}
          >Second</decidables-button>
        </div>
        ${this.feedback?x$2`
            <div class="feedbacks">
              <div class="feedback
                ${"feedback"===this.state&&this.feedback?this.response:""}">
                ${"feedback"===this.state&&this.feedback?"first"===this.response?x$2`<span class="response">First</span>`:"second"===this.response?x$2`<span class="response">Second</span>`:x$2`<span class="response">No<br>Response</span>`:""}
              </div>
            </div>`:x$2``}
      </div>`}}customElements.define("discountable-response",DiscountableResponse);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t={CHILD:2},e=t=>(...e)=>({_$litDirective$:t,values:e});let i$1=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f$1=t=>void 0===t.strings,s=(t,e)=>{const i=t._$AN;if(void 0===i)return!1;for(const t of i)t._$AO?.(e,!1),s(t,e);return!0},o$1=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===i?.size)},r$1=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),c(e)}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function h(t){void 0!==this._$AN?(o$1(this),this._$AM=t,r$1(this)):this._$AM=t}function n$1(t,e=!1,i=0){const n=this._$AH,B=this._$AN;if(void 0!==B&&0!==B.size)if(e)if(Array.isArray(n))for(let t=i;t<n.length;t++)s(n[t],!1),o$1(n[t]);else null!=n&&(s(n,!1),o$1(n));else s(this,t)}const c=e=>{e.type==t.CHILD&&(e._$AP??=n$1,e._$AQ??=h)};class f extends i$1{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),r$1(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(s(this,t),o$1(this))}setValue(t){if(f$1(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const i=new WeakMap;let o=0;const r=new Map,n=new WeakSet,a=()=>new Promise(t=>requestAnimationFrame(t)),v=[{opacity:0},{opacity:1}],g=(t,e)=>{const i=t-e;return 0===i?void 0:i},w=(t,e)=>{const i=t/e;return 1===i?void 0:i},N={left:(t,e)=>{const i=g(t,e);return{value:i,transform:null==i||isNaN(i)?void 0:`translateX(${i}px)`}},top:(t,e)=>{const i=g(t,e);return{value:i,transform:null==i||isNaN(i)?void 0:`translateY(${i}px)`}},width:(t,e)=>{let i;0===e&&(e=1,i={width:"1px"});const s=w(t,e);return{value:s,overrideFrom:i,transform:null==s||isNaN(s)?void 0:`scaleX(${s})`}},height:(t,e)=>{let i;0===e&&(e=1,i={height:"1px"});const s=w(t,e);return{value:s,overrideFrom:i,transform:null==s||isNaN(s)?void 0:`scaleY(${s})`}}},A={duration:333,easing:"ease-in-out"},b=["left","top","width","height","opacity","color","background"],j=new WeakMap;class x extends f{constructor(e){if(super(e),this.t=!1,this.i=null,this.o=null,this.h=!0,this.shouldLog=!1,e.type===t.CHILD)throw Error("The `animate` directive must be used in attribute position.");this.createFinished()}createFinished(){this.resolveFinished?.(),this.finished=new Promise(t=>{this.l=t})}async resolveFinished(){this.l?.(),this.l=void 0}render(t){return E$1}getController(){return i.get(this.u)}isDisabled(){return this.options.disabled||this.getController()?.disabled}update(t,[e]){const i=void 0===this.u;return i&&(this.u=t.options?.host,this.u.addController(this),this.u.updateComplete.then(t=>this.t=!0),this.element=t.element,j.set(this.element,this)),this.optionsOrCallback=e,(i||"function"!=typeof e)&&this.p(e),this.render(e)}p(t){t=t??{};const e=this.getController();void 0!==e&&((t={...e.defaultOptions,...t}).keyframeOptions={...e.defaultOptions.keyframeOptions,...t.keyframeOptions}),t.properties??=b,this.options=t}m(){const t={},e=this.element.getBoundingClientRect(),i=getComputedStyle(this.element);return this.options.properties.forEach(s=>{const n=e[s]??(N[s]?void 0:i[s]),B=Number(n);t[s]=isNaN(B)?n+"":B}),t}v(){let t,e=!0;return this.options.guard&&(t=this.options.guard(),e=((t,e)=>{if(Array.isArray(t)){if(Array.isArray(e)&&e.length===t.length&&t.every((t,i)=>t===e[i]))return!1}else if(e===t)return!1;return!0})(t,this._)),this.h=this.t&&!this.isDisabled()&&!this.isAnimating()&&e&&this.element.isConnected,this.h&&(this._=Array.isArray(t)?Array.from(t):t),this.h}hostUpdate(){"function"==typeof this.optionsOrCallback&&this.p(this.optionsOrCallback()),this.v()&&(this.A=this.m(),this.i=this.i??this.element.parentNode,this.o=this.element.nextSibling)}async hostUpdated(){if(!this.h||!this.element.isConnected||this.options.skipInitial&&!this.isHostRendered)return;let t;this.prepare(),await a;const e=this.O(),i=this.j(this.options.keyframeOptions,e),s=this.m();if(void 0!==this.A){const{from:i,to:n}=this.N(this.A,s,e);this.log("measured",[this.A,s,i,n]),t=this.calculateKeyframes(i,n)}else{const i=r.get(this.options.inId);if(i){r.delete(this.options.inId);const{from:n,to:B}=this.N(i,s,e);t=this.calculateKeyframes(n,B),t=this.options.in?[{...this.options.in[0],...t[0]},...this.options.in.slice(1),t[1]]:t,o++,t.forEach(t=>t.zIndex=o)}else this.options.in&&(t=[...this.options.in,{}])}this.animate(t,i)}resetStyles(){void 0!==this.P&&(this.element.setAttribute("style",this.P??""),this.P=void 0)}commitStyles(){this.P=this.element.getAttribute("style"),this.webAnimation?.commitStyles(),this.webAnimation?.cancel()}reconnected(){}async disconnected(){if(!this.h)return;if(void 0!==this.options.id&&r.set(this.options.id,this.A),void 0===this.options.out)return;if(this.prepare(),await a(),this.i?.isConnected){const t=this.o&&this.o.parentNode===this.i?this.o:null;if(this.i.insertBefore(this.element,t),this.options.stabilizeOut){const t=this.m();this.log("stabilizing out");const e=this.A.left-t.left,i=this.A.top-t.top;!("static"===getComputedStyle(this.element).position)||0===e&&0===i||(this.element.style.position="relative"),0!==e&&(this.element.style.left=e+"px"),0!==i&&(this.element.style.top=i+"px")}}const t=this.j(this.options.keyframeOptions);await this.animate(this.options.out,t),this.element.remove()}prepare(){this.createFinished()}start(){this.options.onStart?.(this)}didFinish(t){t&&this.options.onComplete?.(this),this.A=void 0,this.animatingProperties=void 0,this.frames=void 0,this.resolveFinished()}O(){const t=[];for(let e=this.element.parentNode;e;e=e?.parentNode){const i=j.get(e);i&&!i.isDisabled()&&i&&t.push(i)}return t}get isHostRendered(){const t=n.has(this.u);return t||this.u.updateComplete.then(()=>{n.add(this.u)}),t}j(t,e=this.O()){const i={...A};return e.forEach(t=>Object.assign(i,t.options.keyframeOptions)),Object.assign(i,t),i}N(t,e,i){t={...t},e={...e};const s=i.map(t=>t.animatingProperties).filter(t=>void 0!==t);let n=1,B=1;return s.length>0&&(s.forEach(t=>{t.width&&(n/=t.width),t.height&&(B/=t.height)}),void 0!==t.left&&void 0!==e.left&&(t.left=n*t.left,e.left=n*e.left),void 0!==t.top&&void 0!==e.top&&(t.top=B*t.top,e.top=B*e.top)),{from:t,to:e}}calculateKeyframes(t,e,i=!1){const s={},n={};let B=!1;const l={};for(const i in e){const a=t[i],c=e[i];if(i in N){const t=N[i];if(void 0===a||void 0===c)continue;const e=t(a,c);void 0!==e.transform&&(l[i]=e.value,B=!0,s.transform=`${s.transform??""} ${e.transform}`,void 0!==e.overrideFrom&&Object.assign(s,e.overrideFrom))}else a!==c&&void 0!==a&&void 0!==c&&(B=!0,s[i]=a,n[i]=c)}return s.transformOrigin=n.transformOrigin=i?"center center":"top left",this.animatingProperties=l,B?[s,n]:void 0}async animate(t,e=this.options.keyframeOptions){this.start(),this.frames=t;let i=!1;if(!this.isAnimating()&&!this.isDisabled()&&(this.options.onFrames&&(this.frames=t=this.options.onFrames(this),this.log("modified frames",t)),void 0!==t)){this.log("animate",[t,e]),i=!0,this.webAnimation=this.element.animate(t,e);const s=this.getController();s?.add(this);try{await this.webAnimation.finished}catch(t){}s?.remove(this)}return this.didFinish(i),i}isAnimating(){return"running"===this.webAnimation?.playState||this.webAnimation?.pending}log(t,e){this.shouldLog&&!this.isDisabled()&&console.log(t,this.options.id,e)}}const F=e(x);class HTDMath{static k={DEFAULT:.05,MIN:0,MAX:100,STEP:.001,JUMP:.01};static adk2v(t,e,i){return t/(1+i*e)}static adv2k(t,e,i){return(t-i)/(i*e)}}class HTDEquation extends DiscountableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}constructor(){super(),this.numeric=!1}static get styles(){return[super.styles,i$5`
        :host {
          display: block;

          margin: 1rem;
        }

        /* Containing <div> */
        .holder {
          display: flex;

          flex-direction: row;

          justify-content: left;
        }

        /* Overall <table> */
        .equation {
          text-align: center;
          white-space: nowrap;

          border-collapse: collapse;

          border: 0;
        }

        /* Modifies <td> */
        .underline {
          border-bottom: 1px solid var(---color-text);
        }

        /* Basic <span> and <var> w/modifiers */
        span,
        var {
          padding: 0 0.25rem;

          font-style: normal;
        }

        var {
          border-radius: var(---border-radius);
        }

        .tight {
          padding: 0;
        }

        .paren {
          font-size: 150%;
        }

        .bracket {
          font-size: 175%;
        }

        .brace {
          font-size: 200%;
        }

        .addend {
          position: relative;
          display: inline-block;
        }

        .comparison {
          position: relative;
          display: inline-block;

          font-size: 125%;
          font-weight: 600;
        }

        .function {
          display: inline-block;

          border-radius: var(---border-radius);
        }

        :host([numeric]) .function {
          padding: 0.25rem;
        }

        .exp {
          display: inline-block;

          font-size: 0.75rem;
        }

        .subscript {
          display: inline-block;

          font-size: 66.667%;
        }

        .summation {
          display: flex;

          flex-direction: column;

          line-height: 0.8;
        }

        .sigma {
          display: inline-block;

          font-size: 200%;
        }

        /* Input wrapping <label> */
        decidables-spinner {
          --decidables-spinner-input-width: 4rem;

          display: inline-block;

          padding: 0.125rem 0.375rem 0.375rem;

          line-height: 1.5;
          vertical-align: middle;

          border-radius: var(---border-radius);
        }

        .n {
          --decidables-spinner-input-width: 2rem;
        }

        .left {
          text-align: left;
        }

        .right {
          text-align: right;
        }

        .bottom {
          vertical-align: bottom;
        }

        .top {
          vertical-align: top;
        }

        /* Color scheme */
        /* .win {
          background: var(---color-better);
        }

        .loss {
          background: var(---color-worse);
        }

        .sure {
          background: var(---color-even);
        } */

        .a {
          background: var(---color-a-light);
        }

        .d {
          background: var(---color-d-light);
        }

        .k {
          background: var(---color-k-light);
        }

        .v {
          background: var(---color-v-light);
        }
      `]}}class HTDCalculation extends HTDEquation{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.numeric=!1,this.as=20,this.ds=5,this.al=50,this.dl=40,this.k=HTDMath.k.DEFAULT,this.alignState()}alignState(){this.vs=HTDMath.adk2v(this.as,this.ds,this.k),this.vl=HTDMath.adk2v(this.al,this.dl,this.k),this.vDiff=this.vs-this.vl}sendEvent(){this.dispatchEvent(new CustomEvent("htd-calculation-change",{detail:{as:this.as,ds:this.ds,al:this.al,dl:this.dl,k:this.k},bubbles:!0}))}asInput(t){this.as=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dsInput(t){this.ds=parseFloat(t.target.value),this.alignState(),this.sendEvent()}alInput(t){this.al=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dlInput(t){this.dl=parseFloat(t.target.value),this.alignState(),this.sendEvent()}kInput(t){this.k=parseFloat(t.target.value),this.alignState(),this.sendEvent()}static get styles(){return[super.styles,i$5`
        /* :host {
          display: inline-block;
        } */

        var {
          border-radius: var(---border-radius);
        }

        decidables-spinner {
          border-radius: var(---border-radius);
        }
      `]}willUpdate(){this.alignState()}render(){let t,e,i,s,n,B,l,a;this.numeric?(t=x$2`<decidables-spinner class="a as"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.as}
          @input=${this.asInput.bind(this)}
        >
          <var class="math-var">A<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="d ds"
          ?disabled=${!this.interactive}
          min="0"
          step="1"
          .value=${this.ds}
          @input=${this.dsInput.bind(this)}
        >
          <var class="math-var">D<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="a al"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.al}
          @input=${this.alInput.bind(this)}
        >
          <var class="math-var">A<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,s=x$2`<decidables-spinner class="d dl"
          ?disabled=${!this.interactive}
          min="0"
          step="1"
          .value=${this.dl}
          @input=${this.dlInput.bind(this)}
        >
          <var class="math-var">D<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,n=x$2`<decidables-spinner class="k"
          ?disabled=${!this.interactive}
          min=${HTDMath.k.MIN}
          max=${HTDMath.k.MAX}
          step=${HTDMath.k.STEP}
          .value=${+this.k.toFixed(3)}
          @input=${this.kInput.bind(this)}
        >
          <var class="math-var">k</var>
        </decidables-spinner>`,B=x$2`<decidables-spinner class="v vs"
          disabled
          .value=${+this.vs.toFixed(2)}
        >
          <var class="math-var">V<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,l=x$2`<decidables-spinner class="v vl"
          disabled
          .value=${+this.vl.toFixed(2)}
        >
          <var class="math-var">V<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,a=x$2`${this.vDiff>0?x$2`<span class="comparison" ${F({in:v})}>&gt;</span>`:this.vDiff<0?x$2`<span class="comparison" ${F({in:v})}>&lt;</span>`:x$2`<span class="comparison" ${F({in:v})}>=</span>`}`):(t=x$2`<var class="math-var a as">A<sub class="subscript">ss</sub></var>`,e=x$2`<var class="math-var d ds">D<sub class="subscript">ss</sub></var>`,i=x$2`<var class="math-var a al">A<sub class="subscript">ll</sub></var>`,s=x$2`<var class="math-var d dl">D<sub class="subscript">ll</sub></var>`,n=x$2`<var class="math-var k">k</var>`,B=x$2`<var class="math-var v vs">V<sub class="subscript">ss</sub></var>`,l=x$2`<var class="math-var v vl">V<sub class="subscript">ll</sub></var>`,a=x$2`<span class="comparison">â</span>`);const c=x$2`
      <tr>
        <td class="underline">
          ${t}
        </td>
        <td rowspan="2">
          ${a}
        </td>
        <td class="underline">
          ${i}
        </td>
      </tr>
      <tr>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${n}${e}<span class="paren tight">)</span>
        </td>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${n}${s}<span class="paren tight">)</span>
        </td>
      </tr>
      <tr>
        <td class="right">
          ${B}
        </td>
        <td>
          ${a}
        </td>
        <td class="left">
          ${l}
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${c}
          </tbody>
        </table>
      </div>`}}customElements.define("htd-calculation",HTDCalculation);class HTDCurves extends(DecidablesMixinResizeable(DiscountableElement)){static get properties(){return{a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},k:{attribute:"k",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.scale={value:{min:0,max:80,step:1,round:Math.round},time:{min:0,max:100,step:1,round:Math.round}},this.a=null,this.d=null,this.label="",this.k=HTDMath.k.DEFAULT,this.options=[{name:"default",a:this.a,d:this.d,label:this.label}],this.as=null,this.ds=null,this.al=null,this.dl=null,this.trialCount=null,this.response=null,this.alignState()}alignState(){this.options[0].a=this.a,this.options[0].d=this.d,this.options[0].label=this.label,this.options.forEach(t=>{t.v=HTDMath.adk2v(t.a,t.d,this.k)}),this.v=this.options[0].v}trial(t,e,i,s,n,B){this.trialCount&&this.removeOption(`${this.trialCount}-s`),this.trialCount&&this.removeOption(`${this.trialCount}-l`),this.as=t,this.ds=e,this.al=i,this.dl=s,this.trialCount=n,this.response=B,this.setOption(this.as,this.ds,`${this.trialCount}-s`,"s",!0),this.setOption(this.al,this.dl,`${this.trialCount}-l`,"l",!0)}pauseTrial(){const t=select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum(t=>(t.paused=!0,t))}resumeTrial(){select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum(t=>(t.paused=!1,t)),this.requestUpdate()}clearOptions(){this.options.splice(1),this.requestUpdate()}removeOption(t){this.options=this.options.filter(e=>e.name!==t),this.requestUpdate()}getOption(t="default"){return this.options.find(e=>e.name===t)}setOption(t,e,i="default",s="",n=!1){"default"===i&&(this.a=t,this.d=e,this.label=s);const B=this.options.find(t=>t.name===i);void 0===B?this.options.push({name:i,a:t,d:e,label:s,trial:n,new:n}):(B.a=t,B.d=e,B.label=s),this.requestUpdate()}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;

          width: 27rem;
          height: 15rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .axis-x path,
        .axis-x line,
        .axis-y path,
        .axis-y line {
          stroke: var(---color-element-border);
          /* shape-rendering: crispEdges; */
        }

        .option .interactive {
          filter: url("#shadow-2");
        }

        .option .interactive:hover {
          filter: url("#shadow-4");
        }

        .option .body.interactive:has(~ .point:hover) {
          filter: url("#shadow-4");
        }

        .option .interactive:active {
          filter: url("#shadow-8");
        }

        .option .body.interactive:has(~ .point:active) {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .option .interactive:focus-within {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .option .body.interactive:has(~ .point:focus-within) {
          filter: url("#shadow-8");
        }

        .gradient.sooner stop {
          stop-color: var(---color-sooner);
        }

        .gradient.later stop {
          stop-color: var(---color-later);
        }

        .stop-0,
        .stop-before {
          stop-opacity: 0;
        }

        .stop-after,
        .stop-100 {
          stop-opacity: 1;
        }

        .fill {
          fill: var(---color-element-enabled);
          fill-opacity: 0.5;
          stroke: none;
        }

        .interactive .fill {
          cursor: move;

          outline: none;
        }

        .sooner .fill {
          fill: var(---color-sooner);
        }

        .later .fill {
          fill: var(---color-later);
        }

        .trial.sooner .fill {
          fill: url("#sooner-gradient");
        }

        .trial.later .fill {
          fill: url("#later-gradient");
        }

        .bar {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .interactive .bar {
          cursor: ew-resize;

          outline: none;
        }

        .point .mark {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: middle;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        .point.interact {
          cursor: ns-resize;

          outline: none;
        }

        .curve {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .curve.interactive {
          cursor: nwse-resize;

          outline: none;
        }

        /* Make larger targets for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$2``}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height;let s,n;e/i>1.8?(n=i,s=1.8*n):(s=e,n=s/1.8);const B=2*this.rem,l=3*this.rem,a=3*this.rem,c=n-(B+l),F=s-(a+2*this.rem),Q=parseInt(this.getComputedStyleValue("---transition-duration"),10),r=linear().domain([this.scale.time.min,this.scale.time.max]).range([0,F]),g=linear().domain([this.scale.value.min,this.scale.value.max]).range([c,0]),U=shapeLine().x(t=>r(t.d)).y(t=>g(t.v)),I=select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),o=I.enter().append("svg").classed("main",!0);o.html(DiscountableElement.svgDefs);const d=o.append("defs"),b=d.append("linearGradient").classed("gradient sooner",!0).attr("id","sooner-gradient");b.append("stop").classed("stop-0",!0).attr("offset","0"),b.append("stop").classed("stop-before animation",!0).attr("offset","1"),b.append("stop").classed("stop-after animation",!0).attr("offset","1"),b.append("stop").classed("stop-100",!0).attr("offset","1");const C=d.append("linearGradient").classed("gradient later",!0).attr("id","later-gradient");C.append("stop").classed("stop-0",!0).attr("offset","0"),C.append("stop").classed("stop-before animation",!0).attr("offset","1"),C.append("stop").classed("stop-after animation",!0).attr("offset","1"),C.append("stop").classed("stop-100",!0).attr("offset","1");const u=o.merge(I).attr("viewBox",`0 0 ${s} ${n}`),y=o.append("g").classed("plot",!0),h=u.select(".plot").attr("transform",`translate(${a}, ${B})`);y.append("clipPath").attr("id","clip-htd-curves").append("rect"),h.select("clipPath rect").attr("height",c+1).attr("width",F+1);const A=y.append("g").classed("underlayer",!0),R=h.select(".underlayer");A.append("rect").classed("background",!0),R.select(".background").attr("height",c).attr("width",F),A.append("g").classed("axis-x",!0);R.select(".axis-x").attr("transform",`translate(0, ${g(0)})`).transition().duration(2*Q).ease(cubicOut).call(axisBottom(r)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const x=A.append("text").classed("title-x",!0).attr("text-anchor","middle");x.append("tspan").classed("name",!0).text("Delay ("),x.append("tspan").classed("math-var d",!0).text("D"),x.append("tspan").classed("name",!0).text(")"),R.select(".title-x").attr("transform",`translate(${F/2}, ${c+2.25*this.rem})`),A.append("g").classed("axis-y",!0);R.select(".axis-y").transition().duration(2*Q).ease(cubicOut).call(axisLeft(g)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const G=A.append("text").classed("title-y",!0).attr("text-anchor","middle");G.append("tspan").classed("name",!0).text("Value ("),G.append("tspan").classed("math-var v",!0).text("V"),G.append("tspan").classed("name",!0).text(")"),R.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${c/2})rotate(-90)`),y.append("g").classed("content",!0);const m=h.select(".content").selectAll(".option").data(this.options.filter(t=>null!==t.a&&null!==t.d),t=>t.name),S=m.enter().append("g").attr("class",t=>`option ${"s"===t.label?"sooner":"l"===t.label?"later":""} ${t.trial?"trial":""}`),L=S.append("g").classed("body",!0),p=L.append("g").classed("fill",!0).attr("clip-path","url(#clip-htd-curves)").each(t=>{t.trial&&u.selectAll(".gradient .animation").attr("offset",1)});p.append("path").classed("region",!0).attr("d",t=>{const e=range$1(r(t.d),r(0),-1).map(e=>({d:r.invert(e),v:HTDMath.adk2v(t.a,t.d-r.invert(e),this.k)}));return U([...e,{d:0,v:0},{d:t.d,v:0}])});const E=L.append("g").classed("bar",!0);E.append("line").classed("line",!0),E.append("line").classed("line touch",!0),E.selectAll(".line").attr("x1",t=>r(t.d)).attr("x2",t=>r(t.d)).attr("y1",g(0)).attr("y2",t=>g(t.a)).attr("stroke-dasharray",(t,e,i)=>{if(t.trial){return`0,${i[e].getTotalLength()}`}return"none"});L.append("g").classed("point",!0).append("circle").classed("mark touch",!0);const V=S.append("g").classed("curve",!0).attr("clip-path","url(#clip-htd-curves)");V.append("path").classed("path",!0),V.append("path").classed("path touch",!0),V.selectAll(".path").attr("d",t=>{const e=range$1(r(t.d),r(0),-1).map(e=>({d:r.invert(e),v:HTDMath.adk2v(t.a,t.d-r.invert(e),this.k)}));return U(e)}).attr("stroke-dasharray",(t,e,i)=>{if(t.trial){return`0,${i[e].getTotalLength()}`}return"none"});const Z=S.append("g").classed("point top-point",!0);Z.append("circle").classed("mark touch",!0),Z.append("text").classed("label",!0),S.selectAll(".point").attr("transform",t=>`translate(${r(t.d)}, ${g(t.a)})`).attr("opacity",t=>t.trial?0:1);const N=S.merge(m),f=N.filter((t,e,i)=>this.interactive&&!t.trial&&!select(i[e]).select(".body").classed("interactive")).select(".body");f.classed("interactive",!0),f.select(".fill").attr("tabindex",0).call(drag().subject((t,e)=>({x:r(e.d),y:g(e.a)})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=r.invert(t.x),s=g.invert(t.y);e.d=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:this.scale.time.round(i),e.a=s<this.scale.value.min?this.scale.value.min:s>this.scale.value.max?this.scale.value.max:this.scale.value.round(s),"default"===e.name&&(this.d=e.d,this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)){let i=e.a,s=e.d;switch(t.key){case"ArrowUp":i+=t.shiftKey?1:5;break;case"ArrowDown":i-=t.shiftKey?1:5;break;case"ArrowRight":s+=t.shiftKey?1:5;break;case"ArrowLeft":s-=t.shiftKey?1:5}s=s<this.scale.time.min?this.scale.time.min:s>this.scale.time.max?this.scale.time.max:s,i=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:i,s===e.d&&i===e.a||(e.d=s,e.a=i,"default"===e.name&&(this.d=e.d,this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}}),f.select(".bar").call(drag().subject((t,e)=>({x:r(e.d),y:g(e.a)})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=r.invert(t.x);e.d=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:this.scale.time.round(i),"default"===e.name&&(this.d=e.d),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowLeft","ArrowRight"].includes(t.key)){let i=e.d;switch(t.key){case"ArrowRight":i+=t.shiftKey?1:5;break;case"ArrowLeft":i-=t.shiftKey?1:5}i=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:i,i!==e.d&&(e.d=i,"default"===e.name&&(this.d=e.d),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}}),N.filter((t,e,i)=>this.interactive&&!t.trial&&!select(i[e]).select(".top-point").classed("interact")).select(".top-point").classed("interact",!0).call(drag().subject((t,e)=>({x:r(e.d),y:g(e.a)})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=g.invert(t.y);e.a=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:this.scale.value.round(i),"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown"].includes(t.key)){let i=e.a;switch(t.key){case"ArrowUp":i+=t.shiftKey?1:5;break;case"ArrowDown":i-=t.shiftKey?1:5}i=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:i,i!==e.a&&(e.a=i,"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}}),N.filter((t,e,i)=>this.interactive&&!select(i[e]).select(".curve").classed("interactive")).select(".curve").classed("interactive",!0).attr("tabindex",0).call(drag().subject(t=>({x:t.x,y:t.y})).on("start",t=>{select(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=e.d-r.invert(t.x),s=i<0?0:i>e.d?e.d:i,n=g.invert(t.y),B=n<=0?.001:n>e.a?e.a:n,l=HTDMath.adv2k(e.a,s,B);this.k=l<HTDMath.k.MIN?HTDMath.k.MIN:l>HTDMath.k.MAX?HTDMath.k.MAX:l,this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let{k:i}=this;switch(t.key){case"ArrowUp":case"ArrowLeft":i*=t.shiftKey?.95:.85;break;case"ArrowDown":case"ArrowRight":i*=t.shiftKey?1/.95:1/.85}i=i<HTDMath.k.MIN?HTDMath.k.MIN:i>HTDMath.k.MAX?HTDMath.k.MAX:i,i!==this.k&&(this.k=i,this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}});const X=N.filter((t,e,i)=>(!this.interactive||t.trial)&&select(i[e]).select(".body").classed("interactive"));X.classed("interactive",!1),X.select(".fill").attr("tabindex",null).on("drag",null).on("keydown",null),X.select(".bar").on("drag",null).on("keydown",null),N.filter((t,e,i)=>(!this.interactive||t.trial)&&select(i[e]).select(".top-point").classed("interact")).select(".top-point").classed("interact",!1).on("drag",null).on("keydown",null),N.filter((t,e,i)=>!this.interactive&&select(i[e]).select(".curve").classed("interactive")).select(".curve").classed("interactive",!1).attr("tabindex",null).on("drag",null).on("keydown",null),N.filter(t=>t.new).each(()=>{u.selectAll(".gradient .animation").transition().duration(Q).delay(Q+Q/10).ease(linear$1).attrTween("offset",()=>interpolate$1(1,0))}),N.filter(t=>t.new).selectAll(".bar .line").transition().duration(Q).ease(linear$1).attrTween("stroke-dasharray",(t,e,i)=>{const s=i[e].getTotalLength();return interpolate$1(`0,${s}`,`${s},${s}`)}),N.filter(t=>t.new).selectAll(".point").transition().duration(Q/10).delay(Q).ease(linear$1).attrTween("opacity",()=>interpolate$1(0,1)),N.filter(t=>t.new).selectAll(".curve .path").transition().duration(Q).delay(Q+Q/10).ease(linear$1).attrTween("stroke-dasharray",(t,e,i)=>{const s=i[e].getTotalLength();return interpolate$1(`0,${s}`,`${s},0`)}).on("end",t=>{t.new=!1,this.dispatchEvent(new CustomEvent("discountable-response",{detail:{trial:this.trialCount,as:this.as,ds:this.ds,al:this.al,dl:this.dl,response:this.response},bubbles:!0}))}),N.filter(t=>"s"===t.label).raise(),N.filter(t=>"l"===t.label).lower(),m.select(".fill .region").transition().duration(this.drag?0:this.firstUpdate?2*Q:Q).ease(cubicOut).attrTween("d",(t,e,i)=>{const s=i[e],n=interpolate$1(void 0!==s.a?s.a:t.a,t.a),B=interpolate$1(void 0!==s.d?s.d:t.d,t.d);return t=>{s.a=n(t),s.d=B(t);const e=range$1(r(s.d),r(0),-1).map(t=>({d:r.invert(t),v:HTDMath.adk2v(s.a,s.d-r.invert(t),this.k)}));return U([...e,{d:0,v:0},{d:s.d,v:0}])}}),m.selectAll(".bar .line").transition().duration(this.drag?0:this.firstUpdate?2*Q:Q).ease(cubicOut).attrTween("x1",(t,e,i)=>{const s=i[e],n=interpolate$1(void 0!==s.d?s.d:t.d,t.d);return t=>(s.d=n(t),`${r(s.d)}`)}).attrTween("x2",(t,e,i)=>{const s=i[e],n=interpolate$1(void 0!==s.d?s.d:t.d,t.d);return t=>(s.d=n(t),`${r(s.d)}`)}).attrTween("y2",(t,e,i)=>{const s=i[e],n=interpolate$1(void 0!==s.a?s.a:t.a,t.a);return t=>(s.a=n(t),`${g(s.a)}`)}),m.selectAll(".point").transition().duration(this.drag?0:this.firstUpdate?2*Q:Q).ease(cubicOut).attrTween("transform",(t,e,i)=>{const s=i[e],n=interpolate$1(void 0!==s.d?s.d:t.d,t.d),B=interpolate$1(void 0!==s.a?s.a:t.a,t.a);return t=>(s.d=n(t),s.a=B(t),`translate(${r(s.d)}, ${g(s.a)})`)}),N.select(".point .label").text(t=>t.label),m.selectAll(".curve .path").transition().duration(this.drag?0:this.firstUpdate?2*Q:Q).ease(cubicOut).attrTween("d",(t,e,i)=>{const s=i[e],n=interpolate$1(void 0!==s.a?s.a:t.a,t.a),B=interpolate$1(void 0!==s.d?s.d:t.d,t.d);return t=>{s.a=n(t),s.d=B(t);const e=range$1(r(s.d),r(0),-1).map(t=>({d:r.invert(t),v:HTDMath.adk2v(s.a,s.d-r.invert(t),this.k)}));return U(e)}}),m.exit().remove(),this.drag=!1,this.firstUpdate=!1}}function defined(t){return null!=t&&!Number.isNaN(t)}function ascendingDefined(t,e){return+defined(e)-+defined(t)||ascending$1(t,e)}function descendingDefined(t,e){return+defined(e)-+defined(t)||descending(t,e)}function nonempty(t){return null!=t&&""!=`${t}`}function finite(t){return isFinite(t)?t:NaN}function positive(t){return t>0&&isFinite(t)?t:NaN}function negative(t){return t<0&&isFinite(t)?t:NaN}function format(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof e?e(t):e;const i=t.getUTCHours(),s=t.getUTCMinutes(),n=t.getUTCSeconds(),B=t.getUTCMilliseconds();return`${formatYear(t.getUTCFullYear())}-${pad(t.getUTCMonth()+1,2)}-${pad(t.getUTCDate(),2)}${i||s||n||B?`T${pad(i,2)}:${pad(s,2)}${n||B?`:${pad(n,2)}${B?`.${pad(B,3)}`:""}`:""}Z`:""}`}function formatYear(t){return t<0?`-${pad(-t,6)}`:t>9999?`+${pad(t,6)}`:pad(t,4)}function pad(t,e){return`${t}`.padStart(e,"0")}customElements.define("htd-curves",HTDCurves);const re=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function parse(t,e){return re.test(t+="")?new Date(t):"function"==typeof e?e(t):e}function orderof(t){if(null==t)return;return descending(t[0],t[t.length-1])}const durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,durationMonth=2592e6,durationYear=31536e6,tickIntervals=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",1e3],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",6e4],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",36e5],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",864e5],["2 days",1728e5],["week",6048e5],["2 weeks",12096e5],["month",2592e6],["3 months",7776e6],["6 months",15552e6],["year",31536e6],["2 years",63072e6],["5 years",15768e7],["10 years",31536e7],["20 years",63072e7],["50 years",15768e8],["100 years",31536e8]],durations=new Map([["second",1e3],["minute",6e4],["hour",36e5],["day",864e5],["monday",6048e5],["tuesday",6048e5],["wednesday",6048e5],["thursday",6048e5],["friday",6048e5],["saturday",6048e5],["sunday",6048e5],["week",6048e5],["month",2592e6],["year",31536e6]]),timeIntervals=new Map([["second",second$1],["minute",timeMinute],["hour",timeHour],["day",timeDay],["monday",timeMonday],["tuesday",timeTuesday],["wednesday",timeWednesday],["thursday",timeThursday],["friday",timeFriday],["saturday",timeSaturday],["sunday",timeSunday],["week",timeSunday],["month",timeMonth],["year",timeYear]]),utcIntervals=new Map([["second",second$1],["minute",utcMinute],["hour",utcHour],["day",unixDay],["monday",utcMonday],["tuesday",utcTuesday],["wednesday",utcWednesday],["thursday",utcThursday],["friday",utcFriday],["saturday",utcSaturday],["sunday",utcSunday],["week",utcSunday],["month",utcMonth],["year",utcYear]]),intervalDuration=Symbol("intervalDuration"),intervalType=Symbol("intervalType");for(const[t,e]of timeIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="time";for(const[t,e]of utcIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="utc";const utcFormatIntervals=[["year",utcYear,"utc"],["month",utcMonth,"utc"],["day",unixDay,"utc",15552e6],["hour",utcHour,"utc",2592e5],["minute",utcMinute,"utc",216e5],["second",second$1,"utc",18e5]],timeFormatIntervals=[["year",timeYear,"time"],["month",timeMonth,"time"],["day",timeDay,"time",15552e6],["hour",timeHour,"time",2592e5],["minute",timeMinute,"time",216e5],["second",second$1,"time",18e5]],formatIntervals=[utcFormatIntervals[0],timeFormatIntervals[0],utcFormatIntervals[1],timeFormatIntervals[1],utcFormatIntervals[2],timeFormatIntervals[2],...utcFormatIntervals.slice(3)];function parseTimeInterval(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let i=1;const s=/^(?:(\d+)\s+)/.exec(e);switch(s&&(e=e.slice(s[0].length),i=+s[1]),e){case"quarter":e="month",i*=3;break;case"half":e="month",i*=6}let n=utcIntervals.get(e);if(!n)throw new Error(`unknown interval: ${t}`);if(i>1&&!n.every)throw new Error(`non-periodic interval: ${e}`);return[e,i]}function timeInterval(t){return asInterval(parseTimeInterval(t),"time")}function utcInterval(t){return asInterval(parseTimeInterval(t),"utc")}function asInterval([t,e],i){let s=("time"===i?timeIntervals:utcIntervals).get(t);return e>1&&(s=s.every(e),s[intervalDuration]=durations.get(t)*e,s[intervalType]=i),s}function generalizeTimeInterval(t,e){if(!(e>1))return;const i=t[intervalDuration];if(!tickIntervals.some(([,t])=>t===i))return;if(i%864e5==0&&864e5<i&&i<2592e6)return;const[s]=tickIntervals[bisector(([,t])=>Math.log(t)).center(tickIntervals,Math.log(i*e))];return("time"===t[intervalType]?timeInterval:utcInterval)(s)}function formatTimeInterval(t,e,i){const s="time"===e?timeFormat:utcFormat;if(null==i)return s("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const n=getTimeTemplate(i);switch(t){case"millisecond":return formatConditional(s(".%L"),s(":%M:%S"),n);case"second":return formatConditional(s(":%S"),s("%-I:%M"),n);case"minute":return formatConditional(s("%-I:%M"),s("%p"),n);case"hour":return formatConditional(s("%-I %p"),s("%b %-d"),n);case"day":return formatConditional(s("%-d"),s("%b"),n);case"month":return formatConditional(s("%b"),s("%Y"),n);case"year":return s("%Y")}throw new Error("unable to format time ticks")}function getTimeTemplate(t){return"left"===t||"right"===t?(t,e)=>`\n${t}\n${e}`:"top"===t?(t,e)=>`${e}\n${t}`:(t,e)=>`${t}\n${e}`}function getFormatIntervals(t){return"time"===t?timeFormatIntervals:"utc"===t?utcFormatIntervals:formatIntervals}function inferTimeFormat(t,e,i){const s=max(pairs(e,(t,e)=>Math.abs(e-t)));if(s<1e3)return formatTimeInterval("millisecond","utc",i);for(const[n,B,l,a]of getFormatIntervals(t)){if(s>a)break;if("hour"===n&&!s)break;if(e.every(t=>B.floor(t)>=t))return formatTimeInterval(n,l,i)}}function formatConditional(t,e,i){return(s,n,B)=>{const l=t(s,n),a=e(s,n),c=n-orderof(B);return n!==c&&void 0!==B[c]&&a===e(B[c],c)?l:i(l,a)}}const TypedArray=Object.getPrototypeOf(Uint8Array),objectToString=Object.prototype.toString;function isArray(t){return t instanceof Array||t instanceof TypedArray}function isNumberArray(t){return t instanceof TypedArray&&!isBigIntArray(t)}function isNumberType(t){return t?.prototype instanceof TypedArray&&!isBigIntType(t)}function isBigIntArray(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function isBigIntType(t){return t===BigInt64Array||t===BigUint64Array}const reindex=Symbol("reindex");function valueof(t,e,i){const s=typeof e;return"string"===s?isArrowTable(t)?maybeTypedArrowify(t.getChild(e),i):maybeTypedMap(t,field(e),i):"function"===s?maybeTypedMap(t,e,i):"number"===s||e instanceof Date||"boolean"===s?map(t,constant(e),i):"function"==typeof e?.transform?maybeTypedArrayify(e.transform(t),i):maybeTake(maybeTypedArrayify(e,i),t?.[reindex])}function maybeTake(t,e){return null!=t&&e?take(t,e):t}function maybeTypedMap(t,e,i){return map(t,isNumberType(i)?(t,i)=>coerceNumber(e(t,i)):e,i)}function maybeTypedArrayify(t,e){return void 0===e?arrayify(t):isArrowVector(t)?maybeTypedArrowify(t,e):t instanceof e?t:e.from(t,isNumberType(e)&&!isNumberArray(t)?coerceNumber:void 0)}function maybeTypedArrowify(t,e){return null==t?t:void 0!==e&&e!==Array||!isArrowDateType(t.type)?maybeTypedArrayify(vectorToArray(t),e):coerceDates(vectorToArray(t))}function vectorToArray(t){return t.nullCount?t.toJSON():t.toArray()}const singleton=[null],field=t=>e=>{const i=e[t];return void 0===i&&"Feature"===e.type?e.properties?.[t]:i},indexOf={transform:range},identity$1={transform:t=>t},one=()=>1,yes=()=>!0,string=t=>null==t?t:`${t}`,number=t=>null==t?t:+t,first=t=>t?t[0]:void 0,second=t=>t?t[1]:void 0,constant=t=>()=>t;function percentile(t){const e=+`${t}`.slice(1)/100;return(t,i)=>quantile$1(t,e,i)}function coerceNumbers(t){return isNumberArray(t)?t:map(t,coerceNumber,Float64Array)}function coerceNumber(t){return null==t?NaN:Number(t)}function coerceDates(t){return map(t,coerceDate)}function coerceDate(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?parse(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function maybeColorChannel(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:isColor(t)?[void 0,t]:[t,void 0]}function maybeNumberChannel(t,e){return void 0===t&&(t=e),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function maybeKeyword(t,e,i){if(null!=t)return keyword(t,e,i)}function keyword(t,e,i){const s=`${t}`.toLowerCase();if(!i.includes(s))throw new Error(`invalid ${e}: ${t}`);return s}function dataify(t){return isArrowTable(t)?t:arrayify(t)}function arrayify(t){if(null==t||isArray(t))return t;if(isArrowVector(t))return maybeTypedArrowify(t);if(isGeoJSON(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function isGeoJSON(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function map(t,e,i=Array){return null==t?t:t instanceof i?t.map(e):i.from(t,e)}function slice(t,e=Array){return t instanceof e?t.slice():e.from(t)}function hasX({x:t,x1:e,x2:i}){return void 0!==t||void 0!==e||void 0!==i}function hasY({y:t,y1:e,y2:i}){return void 0!==t||void 0!==e||void 0!==i}function hasXY(t){return hasX(t)||hasY(t)||void 0!==t.interval}function isObject(t){return t?.toString===objectToString}function isScaleOptions(t){return isObject(t)&&(void 0!==t.type||void 0!==t.domain)}function isOptions(t){return isObject(t)&&"function"!=typeof t.transform}function isDomainSort(t){return isOptions(t)&&void 0===t.value&&void 0===t.channel}function maybeZero(t,e,i,s=identity$1){return void 0===e&&void 0===i?(e=0,i=void 0===t?s:t):void 0===e?e=void 0===t?0:t:void 0===i&&(i=void 0===t?0:t),[e,i]}function maybeTuple(t,e){return void 0===t&&void 0===e?[first,second]:[t,e]}function maybeZ({z:t,fill:e,stroke:i}={}){return void 0===t&&([t]=maybeColorChannel(e)),void 0===t&&([t]=maybeColorChannel(i)),t}function lengthof(t){return isArray(t)?t.length:t?.numRows}function range(t){const e=lengthof(t),i=new Uint32Array(e);for(let t=0;t<e;++t)i[t]=t;return i}function take(t,e){return isArray(t)?map(e,e=>t[e],t.constructor):map(e,e=>t.at(e))}function subarray(t,e,i){return t.subarray?t.subarray(e,i):t.slice(e,i)}function keyof(t){return null!==t&&"object"==typeof t?t.valueOf():t}function maybeInput(t,e){if(void 0!==e[t])return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return e[t]}function column(t){let e;return[{transform:()=>e,label:labelof(t)},t=>e=t]}function maybeColumn(t){return null==t?[t]:column(t)}function labelof(t,e){return"string"==typeof t?t:t&&void 0!==t.label?t.label:e}function mid(t,e){return{transform(i){const s=t.transform(i),n=e.transform(i);return isTemporal(s)||isTemporal(n)?map(s,(t,e)=>new Date((+s[e]+ +n[e])/2)):map(s,(t,e)=>(+s[e]+ +n[e])/2,Float64Array)},label:t.label}}function maybeApplyInterval(t,e){const i=maybeIntervalTransform(e?.interval,e?.type);return i?map(t,i):t}function maybeIntervalTransform(t,e){const i=maybeInterval(t,e);return i&&(t=>defined(t)?i.floor(t):t)}function maybeInterval(t,e){if(null!=t){if("number"==typeof t)return numberInterval(t);if("string"==typeof t)return("time"===e?timeInterval:utcInterval)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function numberInterval(t){0<(t=+t)&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:(t,i=1)=>(t*e+Math.floor(i))/e,range:(t,i)=>range$1(Math.ceil(t*e),i*e).map(t=>t/e)}:{floor:t=>Math.floor(t/e)*e,offset:(t,i=1)=>t+e*Math.floor(i),range:(t,i)=>range$1(Math.ceil(t/e),i/e).map(t=>t*e)}}function maybeRangeInterval(t,e){if((t=maybeInterval(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function maybeNiceInterval(t,e){if((t=maybeRangeInterval(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}function isTimeInterval(t){return isInterval(t)&&"function"==typeof t?.floor&&t.floor()instanceof Date}function isInterval(t){return"function"==typeof t?.range}function maybeValue(t){return void 0===t||isOptions(t)?t:{value:t}}function numberChannel(t){return null==t?null:{transform:e=>valueof(e,t,Float64Array),label:labelof(t)}}function isIterable(t){return t&&"function"==typeof t[Symbol.iterator]}function isTextual(t){for(const e of t)if(null!=e)return"object"!=typeof e||e instanceof Date}function isOrdinal(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function isTemporal(t){for(const e of t)if(null!=e)return e instanceof Date}function isTemporalString(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&parse(e)}function isNumericString(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function isNumeric(t){for(const e of t)if(null!=e)return"number"==typeof e}function isEvery(t,e){let i;for(const s of t)if(null!=s){if(!e(s))return!1;i=!0}return i}const namedColors=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function isColor(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||namedColors.has(t))}function isOpacity(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function isNoneish(t){return null==t||isNone(t)}function isNone(t){return/^\s*none\s*$/i.test(t)}function isRound(t){return/^\s*round\s*$/i.test(t)}function maybeAnchor$1(t,e){return maybeKeyword(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function maybeFrameAnchor(t="middle"){return maybeAnchor$1(t,"frameAnchor")}function inherit(t={},...e){let i=t;for(const s of e)for(const e in s)if(void 0===i[e]){const n=s[e];i===t?i={...i,[e]:n}:i[e]=n}return i}function named(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,t=>{const{name:i}=t;if(null==i)throw new Error("missing name");const s=`${i}`;if("__proto__"===s)throw new Error(`illegal name: ${s}`);if(e.has(s))throw new Error(`duplicate name: ${s}`);return e.add(s),[i,t]}))}function maybeNamed(t){return isIterable(t)?named(t):t}function maybeClip(t){return!0===t?t="frame":!1===t?t=null:isGeoJSON(t)||null==t||"sphere"===(t=keyword(t,"clip",["frame","sphere"]))&&(t={type:"Sphere"}),t}function isArrowTable(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function isArrowVector(t){return t&&"function"==typeof t.toArray&&t.type}function isArrowDateType(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}const position=Symbol("position"),color=Symbol("color"),radius=Symbol("radius"),length=Symbol("length"),opacity=Symbol("opacity"),symbol=Symbol("symbol"),projection=Symbol("projection"),registry=new Map([["x",position],["y",position],["fx",position],["fy",position],["r",radius],["color",color],["opacity",opacity],["symbol",symbol],["length",length],["projection",projection]]);function isPosition(t){return t===position||t===projection}function hasNumericRange(t){return t===position||t===radius||t===length||t===opacity}const sqrt3=Math.sqrt(3),sqrt4_3=2/sqrt3,symbolHexagon={draw(t,e){const i=Math.sqrt(e/Math.PI),s=i*sqrt4_3,n=s/2;t.moveTo(0,s),t.lineTo(i,n),t.lineTo(i,-n),t.lineTo(0,-s),t.lineTo(-i,-n),t.lineTo(-i,n),t.closePath()}},symbols=new Map([["asterisk",symbolAsterisk],["circle",symbolCircle],["cross",symbolCross],["diamond",symbolDiamond],["diamond2",symbolDiamond2],["hexagon",symbolHexagon],["plus",symbolPlus],["square",symbolSquare],["square2",symbolSquare2],["star",symbolStar],["times",symbolTimes],["triangle",symbolTriangle],["triangle2",symbolTriangle2],["wye",symbolWye]]);function isSymbolObject(t){return t&&"function"==typeof t.draw}function isSymbol(t){return!!isSymbolObject(t)||"string"==typeof t&&symbols.has(t.toLowerCase())}function maybeSymbol(t){if(null==t||isSymbolObject(t))return t;const e=symbols.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function maybeSymbolChannel(t){if(null==t||isSymbolObject(t))return[void 0,t];if("string"==typeof t){const e=symbols.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function basic({filter:t,sort:e,reverse:i,transform:s,initializer:n,...B}={},l){if(void 0===s&&(null!=t&&(s=filterTransform(t)),null==e||isDomainSort(e)||(s=composeTransform(s,sortTransform(e))),i&&(s=composeTransform(s,reverseTransform))),null!=l&&null!=n)throw new Error("transforms cannot be applied after initializers");return{...B,...(null===e||isDomainSort(e))&&{sort:e},transform:composeTransform(s,l)}}function initializer({filter:t,sort:e,reverse:i,initializer:s,...n}={},B){return void 0===s&&(null!=t&&(s=filterTransform(t)),null==e||isDomainSort(e)||(s=composeInitializer(s,sortTransform(e))),i&&(s=composeInitializer(s,reverseTransform))),{...n,...(null===e||isDomainSort(e))&&{sort:e},initializer:composeInitializer(s,B)}}function composeTransform(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(i,s,n){return({data:i,facets:s}=t.call(this,i,s,n)),e.call(this,dataify(i),s,n)}}function composeInitializer(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(i,s,n,...B){let l,a,c,F,Q,r;return({data:a=i,facets:c=s,channels:l}=t.call(this,i,s,n,...B)),({data:Q=a,facets:r=c,channels:F}=e.call(this,a,c,{...n,...l},...B)),{data:Q,facets:r,channels:{...l,...F}}}}function apply(t,e){return(null!=t.initializer?initializer:basic)(t,e)}function filterTransform(t){return(e,i)=>{const s=valueof(e,t);return{data:e,facets:i.map(t=>t.filter(t=>s[t]))}}}function reverseTransform(t,e){return{data:t,facets:e.map(t=>t.slice().reverse())}}function sort(t,{sort:e,...i}={}){return{...(isOptions(t)&&void 0!==t.channel?initializer:apply)(i,sortTransform(t)),sort:isDomainSort(e)?e:null}}function sortTransform(t){return("function"==typeof t&&1!==t.length?sortData:sortValue)(t)}function sortData(t){return(e,i)=>{const s=isArray(e)?(i,s)=>t(e[i],e[s]):(i,s)=>t(e.get(i),e.get(s));return{data:e,facets:i.map(t=>t.slice().sort(s))}}}function sortValue(t){let e,i;({channel:e,value:t,order:i}={...maybeValue(t)});const s=e?.startsWith("-");if(s&&(e=e.slice(1)),void 0===i&&(i=s?descendingDefined:ascendingDefined),"function"!=typeof i)switch(`${i}`.toLowerCase()){case"ascending":i=ascendingDefined;break;case"descending":i=descendingDefined;break;default:throw new Error(`invalid order: ${i}`)}return(s,n,B)=>{let l;if(void 0===e)l=valueof(s,t);else{if(void 0===B)throw new Error("channel sort requires an initializer");if(l=B[e],!l)return{};l=l.value}const a=(t,e)=>i(l[t],l[e]);return{data:s,facets:n.map(t=>t.slice().sort(a))}}}function hasOutput(t,...e){for(const{name:i}of t)if(e.includes(i))return!0;return!1}function maybeOutputs(t,e,i=maybeOutput){const s=Object.entries(t);return null!=e.title&&void 0===t.title&&s.push(["title",reduceTitle]),null!=e.href&&void 0===t.href&&s.push(["href",reduceFirst]),s.filter(([,t])=>void 0!==t).map(([t,s])=>null===s?nullOutput(t):i(t,s,e))}function maybeOutput(t,e,i,s=maybeEvaluator){let n;isObject(e)&&"reduce"in e&&(n=e.scale,e=e.reduce);const B=s(t,e,i),[l,a]=column(B.label);let c;return{name:t,output:void 0===n?l:{value:l,scale:n},initialize(t){B.initialize(t),c=a([])},scope(t,e){B.scope(t,e)},reduce(t,e){c.push(B.reduce(t,e))}}}function nullOutput(t){return{name:t,initialize(){},scope(){},reduce(){}}}function maybeEvaluator(t,e,i,s=maybeReduce){const n=maybeInput(t,i),B=s(e,n);let l,a;return{label:labelof(B===reduceCount?null:n,B.label),initialize(t){l=void 0===n?t:valueof(t,n),"data"===B.scope&&(a=B.reduceIndex(range(t),l))},scope(t,e){B.scope===t&&(a=B.reduceIndex(e,l))},reduce:(t,e)=>null==B.scope?B.reduceIndex(t,l,e):B.reduceIndex(t,l,a,e)}}function maybeGroup(t,e){return e?group(t,t=>e[t]):[[,t]]}function maybeReduce(t,e,i=invalidReduce){if(null==t)return i(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&isObject(t))return reduceReduce(t);if("function"==typeof t)return reduceFunction(t);if(/^p\d{2}$/i.test(t))return reduceAccessor(percentile(t));switch(`${t}`.toLowerCase()){case"first":return reduceFirst;case"last":return reduceLast;case"identity":return reduceIdentity;case"count":return reduceCount;case"distinct":return reduceDistinct;case"sum":return null==e?reduceCount:reduceSum;case"proportion":return reduceProportion(e,"data");case"proportion-facet":return reduceProportion(e,"facet");case"deviation":return reduceAccessor(deviation);case"min":return reduceAccessor(min$1);case"min-index":return reduceAccessor(minIndex);case"max":return reduceAccessor(max);case"max-index":return reduceAccessor(maxIndex);case"mean":return reduceMaybeTemporalAccessor(mean);case"median":return reduceMaybeTemporalAccessor(median);case"variance":return reduceAccessor(variance);case"mode":return reduceAccessor(mode)}return i(t)}function invalidReduce(t){throw new Error(`invalid reduce: ${t}`)}function maybeSubgroup(t,e){for(const i in e){const s=e[i];if(void 0!==s&&!t.some(t=>t.name===i))return s}}function maybeSort(t,e,i){if(e){const i=e.output.transform(),s=(t,e)=>ascendingDefined(i[t],i[e]);t.forEach(t=>t.sort(s))}i&&t.forEach(t=>t.reverse())}function reduceReduce(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function reduceFunction(t){return{reduceIndex:(e,i,s)=>t(take(i,e),s)}}function reduceAccessor(t){return{reduceIndex:(e,i)=>t(e,t=>i[t])}}function reduceMaybeTemporalAccessor(t){return{reduceIndex(e,i){const s=t(e,t=>i[t]);return isTemporal(i)?new Date(s):s}}}const reduceIdentity={reduceIndex:(t,e)=>take(e,t)},reduceFirst={reduceIndex:(t,e)=>e[t[0]]},reduceTitle={reduceIndex(t,e){const i=sort$1(rollup(t,t=>t.length,t=>e[t]),second),s=i.slice(-5).reverse();if(s.length<i.length){const t=i.slice(0,-4);s[4]=[`â¦ ${t.length.toLocaleString("en-US")} more`,sum(t,second)]}return s.map(([t,e])=>`${t} (${e.toLocaleString("en-US")})`).join("\n")}},reduceLast={reduceIndex:(t,e)=>e[t[t.length-1]]},reduceCount={label:"Frequency",reduceIndex:t=>t.length},reduceDistinct={label:"Distinct",reduceIndex(t,e){const i=new InternSet;for(const s of t)i.add(e[s]);return i.size}},reduceSum=reduceAccessor(sum);function reduceProportion(t,e){return null==t?{scope:e,label:"Frequency",reduceIndex:(t,e,i=1)=>t.length/i}:{scope:e,reduceIndex:(t,e,i=1)=>sum(t,t=>e[t])/i}}const reduceZ={reduceIndex:(t,e,{z:i})=>i};function createChannel(t,{scale:e,type:i,value:s,filter:n,hint:B,label:l=labelof(s)},a){return void 0===B&&"function"==typeof s?.transform&&(B=s.hint),inferChannelScale(a,{scale:e,type:i,value:valueof(t,s),label:l,filter:n,hint:B})}function createChannels(t,e){return Object.fromEntries(Object.entries(t).map(([t,i])=>[t,createChannel(e,i,t)]))}function valueObject(t,e){const i=Object.fromEntries(Object.entries(t).map(([t,{scale:i,value:s}])=>{const n=null==i?null:e[i];return[t,null==n?s:map(s,n)]}));return i.channels=t,i}function inferChannelScale(t,e){const{scale:i,value:s}=e;if(!0===i||"auto"===i)switch(t){case"fill":case"stroke":case"color":e.scale=!0!==i&&isEvery(s,isColor)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=!0!==i&&isEvery(s,isOpacity)?null:"opacity",e.defaultScale="opacity";break;case"symbol":!0!==i&&isEvery(s,isSymbol)?(e.scale=null,e.value=map(s,maybeSymbol)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=registry.has(t)?t:null}else if(!1===i)e.scale=null;else if(null!=i&&!registry.has(i))throw new Error(`unknown scale: ${i}`);return e}function channelDomain(t,e,i,s,n){const{order:B,reverse:l,reduce:a=!0,limit:c}=n;for(const F in n){if(!registry.has(F))continue;let{value:Q,order:r=B,reverse:g=l,reduce:U=a,limit:I=c}=maybeValue(n[F]);const o=Q?.startsWith("-");if(o&&(Q=Q.slice(1)),r=void 0===r?o!==("width"===Q||"height"===Q)?descendingGroup:ascendingGroup:maybeOrder$1(r),null==U||!1===U)continue;const d="fx"===F||"fy"===F?reindexFacetChannel(e,s[F]):findScaleChannel(i,F);if(!d)throw new Error(`missing channel for scale: ${F}`);const b=d.value,[C=0,u=1/0]=isIterable(I)?I:I<0?[I]:[0,I];if(null==Q)d.domain=()=>{let t=Array.from(new InternSet(b));return g&&(t=t.reverse()),0===C&&u===1/0||(t=t.slice(C,u)),t};else{const e="data"===Q?t:"height"===Q?difference(i,"y1","y2"):"width"===Q?difference(i,"x1","x2"):values(i,Q,"y"===Q?"y2":"x"===Q?"x2":void 0),s=maybeReduce(!0===U?"max":U,e);d.domain=()=>{let t=rollups(range(b),t=>s.reduceIndex(t,e),t=>b[t]);return r&&t.sort(r),g&&t.reverse(),0===C&&u===1/0||(t=t.slice(C,u)),t.map(first)}}}}function findScaleChannel(t,e){for(const i in t){const s=t[i];if(s.scale===e)return s}}function reindexFacetChannel(t,e){const i=t.original;if(i===t)return e;const s=e.value,n=e.value=[];for(let e=0;e<i.length;++e){const B=s[i[e][0]];for(const i of t[e])n[i]=B}return e}function difference(t,e,i){const s=values(t,e);return map(values(t,i),(t,e)=>Math.abs(t-s[e]),Float64Array)}function values(t,e,i){let s=t[e];if(s||void 0===i||(s=t[i]),s)return s.value;throw new Error(`missing channel: ${e}`)}function maybeOrder$1(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return ascendingGroup;case"descending":return descendingGroup}throw new Error(`invalid order: ${t}`)}function ascendingGroup([t,e],[i,s]){return ascendingDefined(e,s)||ascendingDefined(t,i)}function descendingGroup([t,e],[i,s]){return descendingDefined(e,s)||ascendingDefined(t,i)}function getSource(t,e){let i=t[e];if(i){for(;i.source;)i=i.source;return null===i.source?null:i}}const categoricalSchemes=new Map([["accent",schemeAccent],["category10",schemeCategory10],["dark2",schemeDark2],["observable10",schemeObservable10],["paired",schemePaired],["pastel1",schemePastel1],["pastel2",schemePastel2],["set1",schemeSet1],["set2",schemeSet2],["set3",schemeSet3],["tableau10",schemeTableau10]]);function isCategoricalScheme(t){return null!=t&&categoricalSchemes.has(`${t}`.toLowerCase())}const ordinalSchemes=new Map([...categoricalSchemes,["brbg",scheme11(scheme$q,interpolateBrBG)],["prgn",scheme11(scheme$p,interpolatePRGn)],["piyg",scheme11(scheme$o,interpolatePiYG)],["puor",scheme11(scheme$n,interpolatePuOr)],["rdbu",scheme11(scheme$m,interpolateRdBu)],["rdgy",scheme11(scheme$l,interpolateRdGy)],["rdylbu",scheme11(scheme$k,interpolateRdYlBu)],["rdylgn",scheme11(scheme$j,interpolateRdYlGn)],["spectral",scheme11(scheme$i,interpolateSpectral)],["burd",scheme11r(scheme$m,interpolateRdBu)],["buylrd",scheme11r(scheme$k,interpolateRdYlBu)],["blues",scheme9(scheme$5,interpolateBlues)],["greens",scheme9(scheme$4,interpolateGreens)],["greys",scheme9(scheme$3,interpolateGreys)],["oranges",scheme9(scheme,interpolateOranges)],["purples",scheme9(scheme$2,interpolatePurples)],["reds",scheme9(scheme$1,interpolateReds)],["turbo",schemei(interpolateTurbo)],["viridis",schemei(interpolateViridis)],["magma",schemei(magma)],["inferno",schemei(inferno)],["plasma",schemei(plasma)],["cividis",schemei(interpolateCividis)],["cubehelix",schemei(interpolateCubehelixDefault)],["warm",schemei(warm)],["cool",schemei(cool)],["bugn",scheme9(scheme$h,interpolateBuGn)],["bupu",scheme9(scheme$g,interpolateBuPu)],["gnbu",scheme9(scheme$f,interpolateGnBu)],["orrd",scheme9(scheme$e,interpolateOrRd)],["pubu",scheme9(scheme$c,interpolatePuBu)],["pubugn",scheme9(scheme$d,interpolatePuBuGn)],["purd",scheme9(scheme$b,interpolatePuRd)],["rdpu",scheme9(scheme$a,interpolateRdPu)],["ylgn",scheme9(scheme$8,interpolateYlGn)],["ylgnbu",scheme9(scheme$9,interpolateYlGnBu)],["ylorbr",scheme9(scheme$7,interpolateYlOrBr)],["ylorrd",scheme9(scheme$6,interpolateYlOrRd)],["rainbow",schemeicyclical(interpolateRainbow)],["sinebow",schemeicyclical(interpolateSinebow)]]);function scheme9(t,e){return({length:i})=>1===i?[t[3][1]]:2===i?[t[3][1],t[3][2]]:(i=Math.max(3,Math.floor(i)))>9?quantize(e,i):t[i]}function scheme11(t,e){return({length:i})=>2===i?[t[3][0],t[3][2]]:(i=Math.max(3,Math.floor(i)))>11?quantize(e,i):t[i]}function scheme11r(t,e){return({length:i})=>2===i?[t[3][2],t[3][0]]:(i=Math.max(3,Math.floor(i)))>11?quantize(t=>e(1-t),i):t[i].slice().reverse()}function schemei(t){return({length:e})=>quantize(t,Math.max(2,Math.floor(e)))}function schemeicyclical(t){return({length:e})=>quantize(t,Math.floor(e)+1).slice(0,-1)}function ordinalScheme(t){const e=`${t}`.toLowerCase();if(!ordinalSchemes.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return ordinalSchemes.get(e)}function ordinalRange(t,e){const i=ordinalScheme(t),s="function"==typeof i?i({length:e}):i;return s.length!==e?s.slice(0,e):s}function maybeBooleanRange(t,e="greys"){const i=new Set,[s,n]=ordinalRange(e,2);for(const e of t)if(null!=e)if(!0===e)i.add(n);else{if(!1!==e)return;i.add(s)}return[...i]}const quantitativeSchemes=new Map([["brbg",interpolateBrBG],["prgn",interpolatePRGn],["piyg",interpolatePiYG],["puor",interpolatePuOr],["rdbu",interpolateRdBu],["rdgy",interpolateRdGy],["rdylbu",interpolateRdYlBu],["rdylgn",interpolateRdYlGn],["spectral",interpolateSpectral],["burd",t=>interpolateRdBu(1-t)],["buylrd",t=>interpolateRdYlBu(1-t)],["blues",interpolateBlues],["greens",interpolateGreens],["greys",interpolateGreys],["purples",interpolatePurples],["reds",interpolateReds],["oranges",interpolateOranges],["turbo",interpolateTurbo],["viridis",interpolateViridis],["magma",magma],["inferno",inferno],["plasma",plasma],["cividis",interpolateCividis],["cubehelix",interpolateCubehelixDefault],["warm",warm],["cool",cool],["bugn",interpolateBuGn],["bupu",interpolateBuPu],["gnbu",interpolateGnBu],["orrd",interpolateOrRd],["pubugn",interpolatePuBuGn],["pubu",interpolatePuBu],["purd",interpolatePuRd],["rdpu",interpolateRdPu],["ylgnbu",interpolateYlGnBu],["ylgn",interpolateYlGn],["ylorbr",interpolateYlOrBr],["ylorrd",interpolateYlOrRd],["rainbow",interpolateRainbow],["sinebow",interpolateSinebow]]);function quantitativeScheme(t){const e=`${t}`.toLowerCase();if(!quantitativeSchemes.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return quantitativeSchemes.get(e)}const divergingSchemes=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function isDivergingScheme(t){return null!=t&&divergingSchemes.has(`${t}`.toLowerCase())}const flip=t=>e=>t(1-e),unit=[0,1],interpolators=new Map([["number",interpolateNumber],["rgb",interpolateRgb],["hsl",interpolateHsl],["hcl",interpolateHcl],["lab",lab]]);function maybeInterpolator(t){const e=`${t}`.toLowerCase();if(!interpolators.has(e))throw new Error(`unknown interpolator: ${e}`);return interpolators.get(e)}function createScaleQ(t,e,i,{type:s,nice:n,clamp:B,zero:l,domain:a=inferAutoDomain(t,i),unknown:c,round:F,scheme:Q,interval:r,range:g=(registry.get(t)===radius?inferRadialRange(i,a):registry.get(t)===length?inferLengthRange(i,a):registry.get(t)===opacity?unit:void 0),interpolate:U=(registry.get(t)===color?null==Q&&void 0!==g?interpolateRgb:quantitativeScheme(void 0!==Q?Q:"cyclical"===s?"rainbow":"turbo"):F?interpolateRound:interpolateNumber),reverse:I}){if(a=maybeRepeat(a),r=maybeRangeInterval(r,s),"cyclical"!==s&&"sequential"!==s||(s="linear"),"function"!=typeof U&&(U=maybeInterpolator(U)),I=!!I,void 0!==g){if(a.length!==(g=maybeRepeat(g)).length){if(1===U.length)throw new Error("invalid piecewise interpolator");U=piecewise(U,g),g=void 0}}if(1===U.length?(I&&(U=flip(U),I=!1),void 0===g&&(g=Float64Array.from(a,(t,e)=>e/(a.length-1)),2===g.length&&(g=unit)),e.interpolate((g===unit?constant:interpolatePiecewise)(U))):e.interpolate(U),l){const[t,e]=extent$1(a);if(t>0||e<0){(orderof(a=slice(a))||1)===Math.sign(t)?a[0]=0:a[a.length-1]=0}}return I&&(a=reverse(a)),e.domain(a).unknown(c),n&&(e.nice(maybeNice(n,s)),a=e.domain()),void 0!==g&&e.range(g),B&&e.clamp(B),{type:s,domain:a,range:g,scale:e,interpolate:U,interval:r}}function maybeRepeat(t){return(t=arrayify(t)).length>=2?t:[t[0],t[0]]}function maybeNice(t,e){return!0===t?void 0:"number"==typeof t?t:maybeNiceInterval(t,e)}function createScaleLinear(t,e,i){return createScaleQ(t,linear(),e,i)}function createScaleSqrt(t,e,i){return createScalePow(t,e,{...i,exponent:.5})}function createScalePow(t,e,{exponent:i=1,...s}){return createScaleQ(t,pow().exponent(i),e,{...s,type:"pow"})}function createScaleLog(t,e,{base:i=10,domain:s=inferLogDomain(e),...n}){return createScaleQ(t,log().base(i),e,{...n,domain:s})}function createScaleSymlog(t,e,{constant:i=1,...s}){return createScaleQ(t,symlog().constant(i),e,s)}function createScaleQuantile(t,e,{range:i,quantiles:s=(void 0===i?5:(i=[...i]).length),n:n=s,scheme:B="rdylbu",domain:l=inferQuantileDomain(e),unknown:a,interpolate:c,reverse:F}){return void 0===i&&(i=void 0!==c?quantize(c,n):registry.get(t)===color?ordinalRange(B,n):void 0),l.length>0&&(l=quantile(l,void 0===i?{length:n}:i).quantiles()),createScaleThreshold(t,e,{domain:l,range:i,reverse:F,unknown:a})}function createScaleQuantize(t,e,{range:i,n:s=(void 0===i?5:(i=[...i]).length),scheme:n="rdylbu",domain:B=inferAutoDomain(t,e),unknown:l,interpolate:a,reverse:c}){const[F,Q]=extent$1(B);let r;return void 0===i?(r=ticks(F,Q,s),r[0]<=F&&r.splice(0,1),r[r.length-1]>=Q&&r.pop(),s=r.length+1,i=void 0!==a?quantize(a,s):registry.get(t)===color?ordinalRange(n,s):void 0):(r=quantize(interpolateNumber(F,Q),s+1).slice(1,-1),F instanceof Date&&(r=r.map(t=>new Date(t)))),orderof(arrayify(B))<0&&r.reverse(),createScaleThreshold(t,e,{domain:r,range:i,reverse:c,unknown:l})}function createScaleThreshold(t,e,{domain:i=[0],unknown:s,scheme:n="rdylbu",interpolate:B,range:l=(void 0!==B?quantize(B,i.length+1):registry.get(t)===color?ordinalRange(n,i.length+1):void 0),reverse:a}){const c=orderof(i=arrayify(i));if(!isNaN(c)&&!isOrdered(i,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return a&&(l=reverse(l)),{type:"threshold",scale:threshold(c<0?reverse(i):i,void 0===l?[]:l).unknown(s),domain:i,range:l}}function isOrdered(t,e){for(let i=1,s=t.length,n=t[0];i<s;++i){const s=descending(n,n=t[i]);if(0!==s&&s!==e)return!1}return!0}function createScaleIdentity(t){return{type:"identity",scale:hasNumericRange(registry.get(t))?identity$2():t=>t}}function inferDomain$1(t,e=finite){return t.length?[min$1(t,({value:t})=>void 0===t?t:min$1(t,e)),max(t,({value:t})=>void 0===t?t:max(t,e))]:[0,1]}function inferAutoDomain(t,e){const i=registry.get(t);return(i===radius||i===opacity||i===length?inferZeroDomain:inferDomain$1)(e)}function inferZeroDomain(t){return[0,t.length?max(t,({value:t})=>void 0===t?t:max(t,finite)):1]}function inferRadialRange(t,e){const i=t.find(({radius:t})=>void 0!==t);if(void 0!==i)return[0,i.radius];const s=quantile$1(t,.5,({value:t})=>void 0===t?NaN:quantile$1(t,.25,positive)),n=e.map(t=>3*Math.sqrt(t/s)),B=30/max(n);return B<1?n.map(t=>t*B):n}function inferLengthRange(t,e){const i=median(t,({value:t})=>void 0===t?NaN:median(t,Math.abs)),s=e.map(t=>12*t/i),n=60/max(s);return n<1?s.map(t=>t*n):s}function inferLogDomain(t){for(const{value:e}of t)if(void 0!==e)for(let i of e){if(i>0)return inferDomain$1(t,positive);if(i<0)return inferDomain$1(t,negative)}return[1,10]}function inferQuantileDomain(t){const e=[];for(const{value:i}of t)if(void 0!==i)for(const t of i)e.push(t);return e}function interpolatePiecewise(t){return(e,i)=>s=>t(e+s*(i-e))}let lastMessage,warnings=0;function consumeWarnings(){const t=warnings;return warnings=0,lastMessage=void 0,t}function warn(t){t!==lastMessage&&(lastMessage=t,console.warn(t),++warnings)}function createScaleD(t,e,i,s,{type:n,nice:B,clamp:l,domain:a=inferDomain$1(s),unknown:c,pivot:F=0,scheme:Q,range:r,symmetric:g=!0,interpolate:U=(registry.get(t)===color?null==Q&&void 0!==r?interpolateRgb:quantitativeScheme(void 0!==Q?Q:"rdbu"):interpolateNumber),reverse:I}){F=+F,a=arrayify(a);let[o,d]=a;if(a.length>2&&warn(`Warning: the diverging ${t} scale domain contains extra elements.`),descending(o,d)<0&&([o,d]=[d,o],I=!I),o=Math.min(o,F),d=Math.max(d,F),"function"!=typeof U&&(U=maybeInterpolator(U)),void 0!==r&&(U=1===U.length?interpolatePiecewise(U)(...r):piecewise(U,r)),I&&(U=flip(U)),g){const t=i.apply(F),e=t-i.apply(o),s=i.apply(d)-t;e<s?o=i.invert(t-s):e>s&&(d=i.invert(t+e))}return e.domain([o,F,d]).unknown(c).interpolator(U),l&&e.clamp(l),B&&e.nice(B),{type:n,domain:[o,d],pivot:F,interpolate:U,scale:e}}function createScaleDiverging(t,e,i){return createScaleD(t,diverging(),transformIdentity,e,i)}function createScaleDivergingSqrt(t,e,i){return createScaleDivergingPow(t,e,{...i,exponent:.5})}function createScaleDivergingPow(t,e,{exponent:i=1,...s}){return createScaleD(t,divergingPow().exponent(i=+i),transformPow(i),e,{...s,type:"diverging-pow"})}function createScaleDivergingLog(t,e,{base:i=10,pivot:s=1,domain:n=inferDomain$1(e,s<0?negative:positive),...B}){return createScaleD(t,divergingLog().base(i=+i),transformLog,e,{domain:n,pivot:s,...B})}function createScaleDivergingSymlog(t,e,{constant:i=1,...s}){return createScaleD(t,divergingSymlog().constant(i=+i),transformSymlog(i),e,s)}const transformIdentity={apply:t=>t,invert:t=>t},transformLog={apply:Math.log,invert:Math.exp},transformSqrt={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function transformPow(t){return.5===t?transformSqrt:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}function transformSymlog(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}function createScaleT(t,e,i,s){return createScaleQ(t,e,i,s)}function createScaleTime(t,e,i){return createScaleT(t,time(),e,i)}function createScaleUtc(t,e,i){return createScaleT(t,utcTime(),e,i)}const ordinalImplicit=Symbol("ordinal");function createScaleO(t,e,i,{type:s,interval:n,domain:B,range:l,reverse:a,hint:c}){return n=maybeRangeInterval(n,s),void 0===B&&(B=inferDomain(i,n,t)),"categorical"!==s&&s!==ordinalImplicit||(s="ordinal"),a&&(B=reverse(B)),B=e.domain(B).domain(),void 0!==l&&("function"==typeof l&&(l=l(B)),e.range(l)),{type:s,domain:B,range:l,scale:e,hint:c,interval:n}}function createScaleOrdinal(t,e,{type:i,interval:s,domain:n,range:B,scheme:l,unknown:a,...c}){let F;if(s=maybeRangeInterval(s,i),void 0===n&&(n=inferDomain(e,s,t)),registry.get(t)===symbol)F=inferSymbolHint(e),B=void 0===B?inferSymbolRange(F):map(B,maybeSymbol);else if(registry.get(t)===color&&(void 0!==B||"ordinal"!==i&&i!==ordinalImplicit||void 0!==(B=maybeBooleanRange(n,l))&&(l=void 0),void 0===l&&void 0===B&&(l="ordinal"===i?"turbo":"observable10"),void 0!==l))if(void 0!==B){const t=quantitativeScheme(l),e=B[0],i=B[1]-B[0];B=({length:s})=>quantize(s=>t(e+i*s),s)}else B=ordinalScheme(l);if(a===implicit)throw new Error(`implicit unknown on ${t} scale is not supported`);return createScaleO(t,ordinal().unknown(a),e,{...c,type:i,domain:n,range:B,hint:F})}function createScalePoint(t,e,{align:i=.5,padding:s=.5,...n}){return maybeRound(point$4().align(i).padding(s),e,n,t)}function createScaleBand(t,e,{align:i=.5,padding:s=.1,paddingInner:n=s,paddingOuter:B=("fx"===t||"fy"===t?0:s),...l}){return maybeRound(band().align(i).paddingInner(n).paddingOuter(B),e,l,t)}function maybeRound(t,e,i,s){let{round:n}=i;return void 0!==n&&t.round(n=!!n),(t=createScaleO(s,t,e,i)).round=n,t}function inferDomain(t,e,i){const s=new InternSet;for(const{value:e,domain:i}of t){if(void 0!==i)return i();if(void 0!==e)for(const t of e)s.add(t)}if(void 0!==e){const[t,i]=extent$1(s).map(e.floor,e);return e.range(t,e.offset(i))}if(s.size>1e4&&registry.get(i)===position)throw new Error(`implicit ordinal domain of ${i} scale has more than 10,000 values`);return sort$1(s,ascendingDefined)}function inferHint(t,e){let i;for(const{hint:s}of t){const t=s?.[e];if(void 0!==t)if(void 0===i)i=t;else if(i!==t)return}return i}function inferSymbolHint(t){return{fill:inferHint(t,"fill"),stroke:inferHint(t,"stroke")}}function inferSymbolRange(t){return isNoneish(t.fill)?symbolsStroke:symbolsFill}function createScales(t,{label:e,inset:i=0,insetTop:s=i,insetRight:n=i,insetBottom:B=i,insetLeft:l=i,round:a,nice:c,clamp:F,zero:Q,align:r,padding:g,projection:U,facet:{label:I=e}={},...o}={}){const d={};for(const[i,b]of t){const t=o[i],C=createScale(i,b,{round:registry.get(i)===position?a:void 0,nice:c,clamp:F,zero:Q,align:r,padding:g,projection:U,...t});if(C){let{label:a=("fx"===i||"fy"===i?I:e),percent:c,transform:F,inset:Q,insetTop:r=(void 0!==Q?Q:"y"===i?s:0),insetRight:g=(void 0!==Q?Q:"x"===i?n:0),insetBottom:U=(void 0!==Q?Q:"y"===i?B:0),insetLeft:o=(void 0!==Q?Q:"x"===i?l:0)}=t||{};if(null==F)F=void 0;else if("function"!=typeof F)throw new Error("invalid scale transform; not a function");C.percent=!!c,C.label=void 0===a?inferScaleLabel(b,C):a,C.transform=F,"x"===i||"fx"===i?(C.insetLeft=+o,C.insetRight=+g):"y"!==i&&"fy"!==i||(C.insetTop=+r,C.insetBottom=+U),d[i]=C}}return d}function createScaleFunctions(t){const e={},i={scales:e};for(const[s,n]of Object.entries(t)){const{scale:t,type:B,interval:l,label:a}=n;e[s]=exposeScale(n),i[s]=t,t.type=B,null!=l&&(t.interval=l),null!=a&&(t.label=a)}return i}function autoScaleRange(t,e){const{x:i,y:s,fx:n,fy:B}=t,l=n||B?outerDimensions(e):e;n&&autoScaleRangeX(n,l),B&&autoScaleRangeY(B,l);const a=n||B?innerDimensions(t,e):e;i&&autoScaleRangeX(i,a),s&&autoScaleRangeY(s,a)}function inferScaleLabel(t=[],e){let i;for(const{label:e}of t)if(void 0!==e)if(void 0===i)i=e;else if(i!==e)return;if(void 0!==i)return!isOrdinalScale(e)&&e.percent&&(i=`${i} (%)`),{inferred:!0,toString:()=>i}}function inferScaleOrder(t){return Math.sign(orderof(t.domain()))*Math.sign(orderof(t.range()))}function outerDimensions(t){const{marginTop:e,marginRight:i,marginBottom:s,marginLeft:n,width:B,height:l,facet:{marginTop:a,marginRight:c,marginBottom:F,marginLeft:Q}}=t;return{marginTop:Math.max(e,a),marginRight:Math.max(i,c),marginBottom:Math.max(s,F),marginLeft:Math.max(n,Q),width:B,height:l}}function innerDimensions({fx:t,fy:e},i){const{marginTop:s,marginRight:n,marginBottom:B,marginLeft:l,width:a,height:c}=outerDimensions(i);return{marginTop:s,marginRight:n,marginBottom:B,marginLeft:l,width:t?t.scale.bandwidth()+l+n:a,height:e?e.scale.bandwidth()+s+B:c,facet:{width:a,height:c}}}function autoScaleRangeX(t,e){if(void 0===t.range){const{insetLeft:i,insetRight:s}=t,{width:n,marginLeft:B=0,marginRight:l=0}=e,a=B+i,c=n-l-s;t.range=[a,Math.max(a,c)],isOrdinalScale(t)||(t.range=piecewiseRange(t)),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRangeY(t,e){if(void 0===t.range){const{insetTop:i,insetBottom:s}=t,{height:n,marginTop:B=0,marginBottom:l=0}=e,a=B+i,c=n-l-s;t.range=[Math.max(a,c),a],isOrdinalScale(t)?t.range.reverse():t.range=piecewiseRange(t),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRound(t){void 0===t.round&&isBandScale(t)&&roundError(t)<=30&&t.scale.round(!0)}function roundError({scale:t}){const e=t.domain().length,[i,s]=t.range(),n=t.paddingInner?t.paddingInner():1,B=t.paddingOuter?t.paddingOuter():t.padding(),l=e-n,a=Math.abs(s-i)/Math.max(1,l+2*B);return(a-Math.floor(a))*l}function piecewiseRange(t){const e=t.scale.domain().length+isThresholdScale(t);if(!(e>2))return t.range;const[i,s]=t.range;return Array.from({length:e},(t,n)=>i+n/(e-1)*(s-i))}function createScale(t,e=[],i={}){const s=inferScaleType(t,e,i);if(void 0===i.type&&void 0===i.domain&&void 0===i.range&&null==i.interval&&"fx"!==t&&"fy"!==t&&isOrdinalScale({type:s})){const i=e.map(({value:t})=>t).filter(t=>void 0!==t);i.some(isTemporal)?warn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(s)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(s)}".`):i.some(isTemporalString)?warn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(s)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(s)}".`):i.some(isNumericString)&&warn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${formatScaleType(s)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(s)}".`)}switch(i.type=s,s){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":i=coerceType(e,i,coerceNumbers);break;case"identity":switch(registry.get(t)){case position:i=coerceType(e,i,coerceNumbers);break;case symbol:i=coerceType(e,i,coerceSymbols)}break;case"utc":case"time":i=coerceType(e,i,coerceDates)}switch(s){case"diverging":return createScaleDiverging(t,e,i);case"diverging-sqrt":return createScaleDivergingSqrt(t,e,i);case"diverging-pow":return createScaleDivergingPow(t,e,i);case"diverging-log":return createScaleDivergingLog(t,e,i);case"diverging-symlog":return createScaleDivergingSymlog(t,e,i);case"categorical":case"ordinal":case ordinalImplicit:return createScaleOrdinal(t,e,i);case"cyclical":case"sequential":case"linear":return createScaleLinear(t,e,i);case"sqrt":return createScaleSqrt(t,e,i);case"threshold":return createScaleThreshold(t,e,i);case"quantile":return createScaleQuantile(t,e,i);case"quantize":return createScaleQuantize(t,e,i);case"pow":return createScalePow(t,e,i);case"log":return createScaleLog(t,e,i);case"symlog":return createScaleSymlog(t,e,i);case"utc":return createScaleUtc(t,e,i);case"time":return createScaleTime(t,e,i);case"point":return createScalePoint(t,e,i);case"band":return createScaleBand(t,e,i);case"identity":return createScaleIdentity(t);case void 0:return;default:throw new Error(`unknown scale type: ${s}`)}}function formatScaleType(t){return"symbol"==typeof t?t.description:t}function maybeScaleType(t){return"string"==typeof t?`${t}`.toLowerCase():t}const typeProjection={toString:()=>"projection"};function inferScaleType(t,e,{type:i,domain:s,range:n,scheme:B,pivot:l,projection:a}){if(i=maybeScaleType(i),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==a||(i=typeProjection);for(const t of e){const e=maybeScaleType(t.type);if(void 0!==e)if(void 0===i)i=e;else if(i!==e)throw new Error(`scale incompatible with channel: ${i} !== ${e}`)}if(i===typeProjection)return;if(void 0!==i)return i;if(void 0===s&&!e.some(({value:t})=>void 0!==t))return;const c=registry.get(t);if(c===radius)return"sqrt";if(c===opacity||c===length)return"linear";if(c===symbol)return"ordinal";const F=(s??n)?.length;if(F<2||F>2)return asOrdinalType(c);if(void 0!==s){if(isOrdinal(s))return asOrdinalType(c);if(isTemporal(s))return"utc"}else{const t=e.map(({value:t})=>t).filter(t=>void 0!==t);if(t.some(isOrdinal))return asOrdinalType(c);if(t.some(isTemporal))return"utc"}if(c===color){if(null!=l||isDivergingScheme(B))return"diverging";if(isCategoricalScheme(B))return"categorical"}return"linear"}function asOrdinalType(t){switch(t){case position:return"point";case color:return ordinalImplicit;default:return"ordinal"}}function isOrdinalScale({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===ordinalImplicit}function isThresholdScale({type:t}){return"threshold"===t}function isBandScale({type:t}){return"point"===t||"band"===t}function isCollapsed(t){if(void 0===t)return!0;const e=t.domain(),i=t(e[0]);for(let s=1,n=e.length;s<n;++s)if(t(e[s])-i)return!1;return!0}function coerceType(t,{domain:e,...i},s){for(const i of t)void 0!==i.value&&(void 0===e&&(e=i.value?.domain),i.value=s(i.value));return{domain:void 0===e?e:s(e),...i}}function coerceSymbols(t){return map(t,maybeSymbol)}function exposeScales(t){return e=>{if(!registry.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function exposeScale({scale:t,type:e,domain:i,range:s,interpolate:n,interval:B,transform:l,percent:a,pivot:c}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const F=t.unknown?t.unknown():void 0;return{type:e,domain:slice(i),...void 0!==s&&{range:slice(s)},...void 0!==l&&{transform:l},...a&&{percent:a},...void 0!==F&&{unknown:F},...void 0!==B&&{interval:B},...void 0!==n&&{interpolate:n},...t.clamp&&{clamp:t.clamp()},...void 0!==c&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}function createFacets(t,e){const{fx:i,fy:s}=createScales(t,e),n=i?.scale.domain(),B=s?.scale.domain();return n&&B?cross(n,B).map(([t,e],i)=>({x:t,y:e,i:i})):n?n.map((t,e)=>({x:t,i:e})):B?B.map((t,e)=>({y:t,i:e})):void 0}function recreateFacets(t,{x:e,y:i}){return e&&=facetIndex(e),i&&=facetIndex(i),t.filter(e&&i?t=>e.has(t.x)&&i.has(t.y):e?t=>e.has(t.x):t=>i.has(t.y)).sort(e&&i?(t,s)=>e.get(t.x)-e.get(s.x)||i.get(t.y)-i.get(s.y):e?(t,i)=>e.get(t.x)-e.get(i.x):(t,e)=>i.get(t.y)-i.get(e.y))}function facetGroups(t,{fx:e,fy:i}){const s=range(t),n=e?.value,B=i?.value;return e&&i?rollup(s,t=>(t.fx=n[t[0]],t.fy=B[t[0]],t),t=>n[t],t=>B[t]):e?rollup(s,t=>(t.fx=n[t[0]],t),t=>n[t]):rollup(s,t=>(t.fy=B[t[0]],t),t=>B[t])}function facetTranslator(t,e,{marginTop:i,marginLeft:s}){const n=t?({x:e})=>t(e)-s:()=>0,B=e?({y:t})=>e(t)-i:()=>0;return function(t){"svg"===this.tagName?(this.setAttribute("x",n(t)),this.setAttribute("y",B(t))):this.setAttribute("transform",`translate(${n(t)},${B(t)})`)}}function facetExclude(t){const e=[],i=new Uint32Array(sum(t,t=>t.length));for(const s of t){let n=0;for(const e of t)s!==e&&(i.set(e,n),n+=e.length);e.push(i.slice(0,n))}return e}const facetAnchors=new Map([["top",facetAnchorTop],["right",facetAnchorRight],["bottom",facetAnchorBottom],["left",facetAnchorLeft],["top-left",and(facetAnchorTop,facetAnchorLeft)],["top-right",and(facetAnchorTop,facetAnchorRight)],["bottom-left",and(facetAnchorBottom,facetAnchorLeft)],["bottom-right",and(facetAnchorBottom,facetAnchorRight)],["top-empty",facetAnchorTopEmpty],["right-empty",facetAnchorRightEmpty],["bottom-empty",facetAnchorBottomEmpty],["left-empty",facetAnchorLeftEmpty],["empty",facetAnchorEmpty]]);function maybeFacetAnchor(t){if(null==t)return null;const e=facetAnchors.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const indexCache=new WeakMap;function facetIndex(t){let e=indexCache.get(t);return e||indexCache.set(t,e=new InternMap(map(t,(t,e)=>[t,e]))),e}function facetIndexOf(t,e){return facetIndex(t).get(e)}function facetFind(t,e,i){return e=keyof(e),i=keyof(i),t.find(t=>Object.is(keyof(t.x),e)&&Object.is(keyof(t.y),i))}function facetEmpty(t,e,i){return facetFind(t,e,i)?.empty}function facetAnchorTop(t,{y:e},{y:i}){return!e||0===facetIndexOf(e,i)}function facetAnchorBottom(t,{y:e},{y:i}){return!e||facetIndexOf(e,i)===e.length-1}function facetAnchorLeft(t,{x:e},{x:i}){return!e||0===facetIndexOf(e,i)}function facetAnchorRight(t,{x:e},{x:i}){return!e||facetIndexOf(e,i)===e.length-1}function facetAnchorTopEmpty(t,{y:e},{x:i,y:s,empty:n}){if(n)return!1;if(!e)return;const B=facetIndexOf(e,s);return B>0?facetEmpty(t,i,e[B-1]):void 0}function facetAnchorBottomEmpty(t,{y:e},{x:i,y:s,empty:n}){if(n)return!1;if(!e)return;const B=facetIndexOf(e,s);return B<e.length-1?facetEmpty(t,i,e[B+1]):void 0}function facetAnchorLeftEmpty(t,{x:e},{x:i,y:s,empty:n}){if(n)return!1;if(!e)return;const B=facetIndexOf(e,i);return B>0?facetEmpty(t,e[B-1],s):void 0}function facetAnchorRightEmpty(t,{x:e},{x:i,y:s,empty:n}){if(n)return!1;if(!e)return;const B=facetIndexOf(e,i);return B<e.length-1?facetEmpty(t,e[B+1],s):void 0}function facetAnchorEmpty(t,e,{empty:i}){return i}function and(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function facetFilter(t,{channels:{fx:e,fy:i},groups:s}){return e&&i?t.map(({x:t,y:e})=>s.get(t)?.get(e)??[]):e?t.map(({x:t})=>s.get(t)??[]):t.map(({y:t})=>s.get(t)??[])}const pi=Math.PI,tau=2*pi,defaultAspectRatio=.618;function createProjection({projection:t,inset:e=0,insetTop:i=e,insetRight:s=e,insetBottom:n=e,insetLeft:B=e}={},l){if(null==t)return;if("function"==typeof t.stream)return t;let a,c,F="frame";if(isObject(t)){let e;if(({type:t,domain:c,inset:e,insetTop:i=(void 0!==e?e:i),insetRight:s=(void 0!==e?e:s),insetBottom:n=(void 0!==e?e:n),insetLeft:B=(void 0!==e?e:B),clip:F=F,...a}=t),null==t)return}"function"!=typeof t&&({type:t}=namedProjection(t));const{width:Q,height:r,marginLeft:g,marginRight:U,marginTop:I,marginBottom:o}=l,d=Q-g-U-B-s,b=r-I-o-i-n;if(t=t?.({width:d,height:b,clip:F,...a}),null==t)return;F=maybePostClip(F,g,I,Q-U,r-o);let C,u=g+B,y=I+i;if(null!=c){const[[e,i],[s,n]]=geoPath(t).bounds(c),B=Math.min(d/(s-e),b/(n-i));B>0?(u-=(B*(e+s)-d)/2,y-=(B*(i+n)-b)/2,C=geoTransform({point(t,e){this.stream.point(t*B+u,e*B+y)}})):warn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return C??=0===u&&0===y?identity():geoTransform({point(t,e){this.stream.point(t+u,e+y)}}),{stream:e=>t.stream(C.stream(F(e)))}}function namedProjection(t){switch(`${t}`.toLowerCase()){case"albers-usa":return scaleProjection(geoAlbersUsa,.7463,.4673);case"albers":return conicProjection(geoAlbers,.7463,.4673);case"azimuthal-equal-area":return scaleProjection(geoAzimuthalEqualArea,4,4);case"azimuthal-equidistant":return scaleProjection(geoAzimuthalEquidistant,tau,tau);case"conic-conformal":return conicProjection(geoConicConformal,tau,tau);case"conic-equal-area":return conicProjection(geoConicEqualArea,6.1702,2.9781);case"conic-equidistant":return conicProjection(geoConicEquidistant,7.312,3.6282);case"equal-earth":return scaleProjection(geoEqualEarth,5.4133,2.6347);case"equirectangular":return scaleProjection(geoEquirectangular,tau,pi);case"gnomonic":return scaleProjection(geoGnomonic,3.4641,3.4641);case"identity":return{type:identity};case"reflect-y":return{type:reflectY};case"mercator":return scaleProjection(geoMercator,tau,tau);case"orthographic":return scaleProjection(geoOrthographic,2,2);case"stereographic":return scaleProjection(geoStereographic,2,2);case"transverse-mercator":return scaleProjection(geoTransverseMercator,tau,tau);default:throw new Error(`unknown projection type: ${t}`)}}function maybePostClip(t,e,i,s,n){if(!1===t||null==t||"number"==typeof t)return t=>t;if(!0===t&&(t="frame"),"frame"===`${t}`.toLowerCase())return clipRectangle(e,i,s,n);throw new Error(`unknown projection clip type: ${t}`)}function scaleProjection(t,e,i){return{type:({width:s,height:n,rotate:B,precision:l=.15,clip:a})=>{const c=t();return null!=l&&c.precision?.(l),null!=B&&c.rotate?.(B),"number"==typeof a&&c.clipAngle?.(a),null!=s&&(c.scale(Math.min(s/e,n/i)),c.translate([s/2,n/2])),c},aspectRatio:i/e}}function conicProjection(t,e,i){const{type:s,aspectRatio:n}=scaleProjection(t,e,i);return{type:t=>{const{parallels:e,domain:i,width:n,height:B}=t,l=s(t);return null!=e&&(l.parallels(e),void 0===i&&null!=n&&l.fitSize([n,B],{type:"Sphere"})),l},aspectRatio:n}}const identity=constant({stream:t=>t}),reflectY=constant(geoTransform({point(t,e){this.stream.point(t,-e)}}));function project(t,e,i,s){const n=i[t],B=i[e],l=n.length,a=i[t]=new Float64Array(l).fill(NaN),c=i[e]=new Float64Array(l).fill(NaN);let F;const Q=s.stream({point(t,e){a[F]=t,c[F]=e}});for(F=0;F<l;++F)Q.point(n[F],B[F])}function hasProjection({projection:t}={}){return null!=t&&("function"==typeof t.stream||(isObject(t)&&(t=t.type),null!=t))}function projectionAspectRatio(t){if("function"==typeof t?.stream)return.618;if(isObject(t)){let e,i;if(({domain:e,type:t,...i}=t),null!=e&&null!=t){const s="string"==typeof t?namedProjection(t).type:t,[[n,B],[l,a]]=geoPath(s({...i,width:100,height:100})).bounds(e),c=(a-B)/(l-n);return c&&isFinite(c)?c<.2?.2:c>5?5:c:.618}}if(null!=t){if("function"!=typeof t){const{aspectRatio:e}=namedProjection(t);if(e)return e}return.618}}function getGeometryChannels(t){const e=[],i=[],s={scale:"x",value:e},n={scale:"y",value:i},B={point(t,s){e.push(t),i.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const e of t.value)geoStream(e,B);return[s,n]}function xyProjection({x:t,y:e}){if(t||e)return t??=t=>t,e??=t=>t,geoTransform({point(i,s){this.stream.point(t(i),e(s))}})}function createContext(t={}){const{document:e=("undefined"!=typeof window?window.document:void 0),clip:i}=t;return{document:e,clip:maybeClip(i)}}function create(t,{document:e}){return select(creator(t).call(e.documentElement))}const unset=Symbol("unset");function memoize1(t){return(1===t.length?memoize1Arg:memoize1Args)(t)}function memoize1Arg(t){let e,i=unset;return s=>(Object.is(i,s)||(i=s,e=t(s)),e)}function memoize1Args(t){let e,i;return(...s)=>((i?.length!==s.length||i.some((t,e)=>!Object.is(t,s[e])))&&(i=s,e=t(...s)),e)}const numberFormat=memoize1(t=>new Intl.NumberFormat(t));function formatNumber(t="en-US"){const e=numberFormat(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}function formatIsoDate(t){return format(t,"Invalid Date")}function formatAuto(t="en-US"){const e=formatNumber(t);return t=>(t instanceof Date?formatIsoDate:"number"==typeof t?e:string)(t)}memoize1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}})),memoize1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));const formatDefault=formatAuto(),offset=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let nextClipId=0;function getClipId(){return"plot-clip-"+ ++nextClipId}function styles(t,{title:e,href:i,ariaLabel:s,ariaDescription:n,ariaHidden:B,target:l,fill:a,fillOpacity:c,stroke:F,strokeWidth:Q,strokeOpacity:r,strokeLinejoin:g,strokeLinecap:U,strokeMiterlimit:I,strokeDasharray:o,strokeDashoffset:d,opacity:b,mixBlendMode:C,imageFilter:u,paintOrder:y,pointerEvents:h,shapeRendering:A,channels:R},{ariaLabel:x,fill:G="currentColor",fillOpacity:m,stroke:S="none",strokeOpacity:L,strokeWidth:p,strokeLinecap:E,strokeLinejoin:V,strokeMiterlimit:Z,paintOrder:N}){null===G&&(a=null,c=null),null===S&&(F=null,r=null),isNoneish(G)?isNoneish(S)||isNoneish(a)&&!R?.fill||(S="none"):!isNoneish(S)||isNoneish(F)&&!R?.stroke||(G="none");const[f,X]=maybeColorChannel(a,G),[W,D]=maybeNumberChannel(c,m),[H,w]=maybeColorChannel(F,S),[v,Y]=maybeNumberChannel(r,L),[T,J]=maybeNumberChannel(b);isNone(w)||(void 0===Q&&(Q=p),void 0===U&&(U=E),void 0===g&&(g=V),void 0!==I||isRound(g)||(I=Z),isNone(X)||void 0!==y||(y=N));const[k,M]=maybeNumberChannel(Q);return null!==G&&(t.fill=impliedString(X,"currentColor"),t.fillOpacity=impliedNumber(D,1)),null!==S&&(t.stroke=impliedString(w,"none"),t.strokeWidth=impliedNumber(M,1),t.strokeOpacity=impliedNumber(Y,1),t.strokeLinejoin=impliedString(g,"miter"),t.strokeLinecap=impliedString(U,"butt"),t.strokeMiterlimit=impliedNumber(I,4),t.strokeDasharray=impliedString(o,"none"),t.strokeDashoffset=impliedString(d,"0")),t.target=string(l),t.ariaLabel=string(x),t.ariaDescription=string(n),t.ariaHidden=string(B),t.opacity=impliedNumber(J,1),t.mixBlendMode=impliedString(C,"normal"),t.imageFilter=impliedString(u,"none"),t.paintOrder=impliedString(y,"normal"),t.pointerEvents=impliedString(h,"auto"),t.shapeRendering=impliedString(A,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:i,optional:!0,filter:null},ariaLabel:{value:s,optional:!0,filter:null},fill:{value:f,scale:"auto",optional:!0},fillOpacity:{value:W,scale:"auto",optional:!0},stroke:{value:H,scale:"auto",optional:!0},strokeOpacity:{value:v,scale:"auto",optional:!0},strokeWidth:{value:k,optional:!0},opacity:{value:T,scale:"auto",optional:!0}}}function applyTitle(t,e){e&&t.filter(t=>nonempty(e[t])).append("title").call(applyText,e)}function applyTitleGroup(t,e){e&&t.filter(([t])=>nonempty(e[t])).append("title").call(applyTextGroup,e)}function applyText(t,e){e&&t.text(t=>formatDefault(e[t]))}function applyTextGroup(t,e){e&&t.text(([t])=>formatDefault(e[t]))}function applyChannelStyles(t,{target:e,tip:i},{ariaLabel:s,title:n,fill:B,fillOpacity:l,stroke:a,strokeOpacity:c,strokeWidth:F,opacity:Q,href:r}){s&&applyAttr(t,"aria-label",t=>s[t]),B&&applyAttr(t,"fill",t=>B[t]),l&&applyAttr(t,"fill-opacity",t=>l[t]),a&&applyAttr(t,"stroke",t=>a[t]),c&&applyAttr(t,"stroke-opacity",t=>c[t]),F&&applyAttr(t,"stroke-width",t=>F[t]),Q&&applyAttr(t,"opacity",t=>Q[t]),r&&applyHref(t,t=>r[t],e),i||applyTitle(t,n)}function applyGroupedChannelStyles(t,{target:e,tip:i},{ariaLabel:s,title:n,fill:B,fillOpacity:l,stroke:a,strokeOpacity:c,strokeWidth:F,opacity:Q,href:r}){s&&applyAttr(t,"aria-label",([t])=>s[t]),B&&applyAttr(t,"fill",([t])=>B[t]),l&&applyAttr(t,"fill-opacity",([t])=>l[t]),a&&applyAttr(t,"stroke",([t])=>a[t]),c&&applyAttr(t,"stroke-opacity",([t])=>c[t]),F&&applyAttr(t,"stroke-width",([t])=>F[t]),Q&&applyAttr(t,"opacity",([t])=>Q[t]),r&&applyHref(t,([t])=>r[t],e),i||applyTitleGroup(t,n)}function groupAesthetics({ariaLabel:t,title:e,fill:i,fillOpacity:s,stroke:n,strokeOpacity:B,strokeWidth:l,opacity:a,href:c},{tip:F}){return[t,F?void 0:e,i,s,n,B,l,a,c].filter(t=>void 0!==t)}function groupZ(t,e,i){const s=group(t,t=>e[t]);return void 0===i&&s.size>1+t.length>>1&&warn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),s.values()}function*groupIndex(t,e,i,s){const{z:n}=i,{z:B}=s,l=groupAesthetics(s,i),a=[...e,...l];for(const e of B?groupZ(t,B,n):[t]){let t,i;t:for(const s of e){for(const t of a)if(!defined(t[s])){i&&i.push(-1);continue t}if(void 0!==t){i.push(s);for(let e=0;e<l.length;++e){if(keyof(l[e][s])!==t[e]){yield i,t=l.map(t=>keyof(t[s])),i=[s];continue t}}}else i&&(yield i),t=l.map(t=>keyof(t[s])),i=[s]}i&&(yield i)}}function applyClip(t,e,i,s){let n;const{clip:B=s.clip}=e;"frame"===B?(t=create("svg:g",s).each(function(){this.appendChild(t.node()),t.node=()=>this}),n=getFrameClip(s,i)):B&&(n=getGeoClip(B,s)),applyAttr(t,"aria-label",e.ariaLabel),applyAttr(t,"aria-description",e.ariaDescription),applyAttr(t,"aria-hidden",e.ariaHidden),applyAttr(t,"clip-path",n)}function memoizeClip(t){const e=new WeakMap;return(i,s)=>{let n=e.get(i);if(!n){const B=getClipId();select(i.ownerSVGElement).append("clipPath").attr("id",B).call(t,i,s),e.set(i,n=`url(#${B})`)}return n}}const getFrameClip=memoizeClip((t,e,i)=>{const{width:s,height:n,marginLeft:B,marginRight:l,marginTop:a,marginBottom:c}=i;t.append("rect").attr("x",B).attr("y",a).attr("width",s-l-B).attr("height",n-a-c)}),geoClipCache=new WeakMap,sphere={type:"Sphere"};function getGeoClip(t,e){let i,s;if((i=geoClipCache.get(e))||geoClipCache.set(e,i=new WeakMap),"Sphere"===t.type&&(t=sphere),!(s=i.get(t))){const n=getClipId();select(e.ownerSVGElement).append("clipPath").attr("id",n).append("path").attr("d",e.path()(t)),i.set(t,s=`url(#${n})`)}return s}function applyIndirectStyles(t,e,i,s){applyClip(t,e,i,s),applyAttr(t,"class",e.className),applyAttr(t,"fill",e.fill),applyAttr(t,"fill-opacity",e.fillOpacity),applyAttr(t,"stroke",e.stroke),applyAttr(t,"stroke-width",e.strokeWidth),applyAttr(t,"stroke-opacity",e.strokeOpacity),applyAttr(t,"stroke-linejoin",e.strokeLinejoin),applyAttr(t,"stroke-linecap",e.strokeLinecap),applyAttr(t,"stroke-miterlimit",e.strokeMiterlimit),applyAttr(t,"stroke-dasharray",e.strokeDasharray),applyAttr(t,"stroke-dashoffset",e.strokeDashoffset),applyAttr(t,"shape-rendering",e.shapeRendering),applyAttr(t,"filter",e.imageFilter),applyAttr(t,"paint-order",e.paintOrder);const{pointerEvents:n=(!1===s.pointerSticky?"none":void 0)}=e;applyAttr(t,"pointer-events",n)}function applyDirectStyles(t,e){applyStyle(t,"mix-blend-mode",e.mixBlendMode),applyAttr(t,"opacity",e.opacity)}function applyHref(t,e,i){t.each(function(t){const s=e(t);if(null!=s){const t=this.ownerDocument.createElementNS(namespaces.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(namespaces.xlink,"href",s),null!=i&&t.setAttribute("target",i),this.parentNode.insertBefore(t,this).appendChild(this)}})}function applyAttr(t,e,i){null!=i&&t.attr(e,i)}function applyStyle(t,e,i){null!=i&&t.style(e,i)}function applyTransform(t,e,{x:i,y:s},n=offset,B=offset){n+=e.dx,B+=e.dy,i?.bandwidth&&(n+=i.bandwidth()/2),s?.bandwidth&&(B+=s.bandwidth()/2),(n||B)&&t.attr("transform",`translate(${n},${B})`)}function impliedString(t,e){if((t=string(t))!==e)return t}function impliedNumber(t,e){if((t=number(t))!==e)return t}const validClassName=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function maybeClassName(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!validClassName.test(t))throw new Error(`invalid class name: ${t}`);return t}function applyInlineStyles(t,e){if("string"==typeof e)t.property("style",e);else if(null!=e)for(const i of t)Object.assign(i.style,e)}function applyFrameAnchor({frameAnchor:t},{width:e,height:i,marginTop:s,marginRight:n,marginBottom:B,marginLeft:l}){return[/left$/.test(t)?l:/right$/.test(t)?e-n:(l+e-n)/2,/^top/.test(t)?s:/^bottom/.test(t)?i-B:(s+i-B)/2]}class Mark{constructor(t,e={},i={},s){const{facet:n="auto",facetAnchor:B,fx:l,fy:a,sort:c,dx:F=0,dy:Q=0,margin:r=0,marginTop:g=r,marginRight:U=r,marginBottom:I=r,marginLeft:o=r,className:d,clip:b=s?.clip,channels:C,tip:u,render:y}=i;if(this.data=t,this.sort=isDomainSort(c)?c:null,this.initializer=initializer(i).initializer,this.transform=this.initializer?i.transform:basic(i).transform,null===n||!1===n?this.facet=null:(this.facet=keyword(!0===n?"include":n,"facet",["auto","include","exclude","super"]),this.fx=t===singleton&&"string"==typeof l?[l]:l,this.fy=t===singleton&&"string"==typeof a?[a]:a),this.facetAnchor=maybeFacetAnchor(B),e=maybeNamed(e),void 0!==C&&(e={...maybeChannels(C),...e}),void 0!==s&&(e={...styles(this,i,s),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([e,i])=>{if(isOptions(i.value)){const{value:t,label:e=i.label,scale:s=i.scale}=i.value;i={...i,label:e,scale:s,value:t}}if(t===singleton&&"string"==typeof i.value){const{value:t}=i;i={...i,value:[t]}}return[e,i]}).filter(([t,{value:e,optional:i}])=>{if(null!=e)return!0;if(i)return!1;throw new Error(`missing channel value: ${t}`)})),this.dx=+F,this.dy=+Q,this.marginTop=+g,this.marginRight=+U,this.marginBottom=+I,this.marginLeft=+o,this.clip=maybeClip(b),this.tip=maybeTip(u),this.className=string(d),"super"===this.facet){if(l||a)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:i}=e[t];if("x"===i||"y"===i)throw new Error("super-faceting cannot use x or y")}}null!=y&&(this.render=composeRender(y,this.render))}initialize(t,e,i){let s=dataify(this.data);void 0===t&&null!=s&&(t=[range(s)]);const n=t;null!=this.transform&&(({facets:t,data:s}=this.transform(s,t,i)),s=dataify(s)),void 0!==t&&(t.original=n);const B=createChannels(this.channels,s);return null!=this.sort&&channelDomain(s,t,B,e,this.sort),{data:s,facets:t,channels:B}}filter(t,e,i){for(const s in e){const{filter:n=defined}=e[s];if(null!==n){const e=i[s];t=t.filter(t=>n(e[t]))}}return t}project(t,e,i){for(const s in t)if("x"===t[s].scale&&/^x|x$/.test(s)){const n=s.replace(/^x|x$/,"y");n in t&&"y"===t[n].scale&&project(s,n,e,i.projection)}}scale(t,e,i){const s=valueObject(t,e);return i.projection&&this.project(t,s,i),s}}function marks(...t){return t.plot=Mark.prototype.plot,t}function composeRender(t,e){if(null==t)return null===e?void 0:e;if(null==e)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof e)throw new TypeError(`invalid render transform: ${e}`);return function(i,s,n,B,l,a){return t.call(this,i,s,n,B,l,(t,i,s,n,B)=>e.call(this,t,i,s,n,B,a))}}function maybeChannels(t){return Object.fromEntries(Object.entries(maybeNamed(t)).map(([t,e])=>(void 0===(e="string"==typeof e?{value:e,label:t}:maybeValue(e)).filter&&null==e.scale&&(e={...e,filter:null}),[t,e])))}function maybeTip(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?keyword(t,"tip",["x","y","xy"]):t}function withTip(t,e){return!0===t?.tip?{...t,tip:e}:isObject(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:e}}:t}function createDimensions(t,e,i={}){let s=.5-offset,n=.5+offset,B=.5+offset,l=.5-offset;for(const{marginTop:t,marginRight:i,marginBottom:a,marginLeft:c}of e)t>s&&(s=t),i>n&&(n=i),a>B&&(B=a),c>l&&(l=c);let{margin:a,marginTop:c=(void 0!==a?a:s),marginRight:F=(void 0!==a?a:n),marginBottom:Q=(void 0!==a?a:B),marginLeft:r=(void 0!==a?a:l)}=i;c=+c,F=+F,Q=+Q,r=+r;let{width:g=640,height:U=autoHeight(t,i,{width:g,marginTopDefault:s,marginRightDefault:n,marginBottomDefault:B,marginLeftDefault:l})+Math.max(0,c-s+Q-B)}=i;g=+g,U=+U;const I={width:g,height:U,marginTop:c,marginRight:F,marginBottom:Q,marginLeft:r};if(t.fx||t.fy){let{margin:t,marginTop:e=(void 0!==t?t:c),marginRight:s=(void 0!==t?t:F),marginBottom:n=(void 0!==t?t:Q),marginLeft:B=(void 0!==t?t:r)}=i.facet??{};e=+e,s=+s,n=+n,B=+B,I.facet={marginTop:e,marginRight:s,marginBottom:n,marginLeft:B}}return I}function autoHeight({x:t,y:e,fy:i,fx:s},{projection:n,aspectRatio:B},{width:l,marginTopDefault:a,marginRightDefault:c,marginBottomDefault:F,marginLeftDefault:Q}){const r=i&&i.scale.domain().length||1,g=projectionAspectRatio(n);if(g){const t=(1.1*r-.1)/(1.1*(s?s.scale.domain().length:1)-.1)*g,e=Math.max(.1,Math.min(10,t));return Math.round((l-Q-c)*e+a+F)}const U=e?isOrdinalScale(e)?e.scale.domain().length||1:Math.max(7,17/r):1;if(null!=B){if(B=+B,!(isFinite(B)&&B>0))throw new Error(`invalid aspectRatio: ${B}`);const n=aspectRatioLength("y",e)/(aspectRatioLength("x",t)*B),r=s?s.scale.bandwidth():1,g=i?i.scale.bandwidth():1;return(n*(r*(l-Q-c)-t.insetLeft-t.insetRight)+e.insetTop+e.insetBottom)/g+a+F}return!(!e&&!i)*Math.max(1,Math.min(60,U*r))*20+30*!!s+60}function aspectRatioLength(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:i,domain:s}=e;let n;switch(i){case"linear":case"utc":case"time":n=Number;break;case"pow":{const t=e.scale.exponent();n=e=>Math.pow(e,t);break}case"log":n=Math.log;break;case"point":case"band":return s.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${i}`)}const[B,l]=extent$1(s);return Math.abs(n(l)-n(B))}const states=new WeakMap;function pointerK(t,e,{x:i,y:s,px:n,py:B,maxRadius:l=40,channels:a,render:c,...F}={}){return l=+l,null!=n&&(i??=null,a={...a,px:{value:n,scale:"x"}}),null!=B&&(s??=null,a={...a,py:{value:B,scale:"y"}}),{x:i,y:s,channels:a,...F,render:composeRender(function(i,s,n,B,a,c){const F=(a={...a,pointerSticky:!1}).ownerSVGElement,{data:Q}=a.getMarkState(this);let r=states.get(F);r||states.set(F,r={sticky:!1,roots:[],renders:[]});let g=r.renders.push(Z)-1;const{x:U,y:I,fx:o,fy:d}=s;let b=o?o(i.fx)-B.marginLeft:0,C=d?d(i.fy)-B.marginTop:0;U?.bandwidth&&(b+=U.bandwidth()/2),I?.bandwidth&&(C+=I.bandwidth()/2);const u=null!=i.fi;let y;if(u){let t=r.facetStates;t||(r.facetStates=t=new Map),y=t.get(this),y||t.set(this,y=new Map)}const[h,A]=applyFrameAnchor(this,B),{px:R,py:x}=n,G=R?t=>R[t]:anchorX$1(n,h),m=x?t=>x[t]:anchorY$1(n,A);let S,L,p,E;function V(t,e){if(u){if(E&&(E=cancelAnimationFrame(E)),null!=t)return y.set(i.fi,e),void(E=requestAnimationFrame(()=>{E=null;for(const[s,n]of y)if(n<e||n===e&&s<i.fi){t=null;break}Z(t)}));y.delete(i.fi)}Z(t)}function Z(t){if(S===t&&p===r.sticky)return;S=t,p=a.pointerSticky=r.sticky;const e=null==S?[]:[S];u&&(e.fx=i.fx,e.fy=i.fy,e.fi=i.fi);const l=c(e,s,n,B,a);if(L){if(u){const t=L.parentNode,e=L.getAttribute("transform"),i=l.getAttribute("transform");e?l.setAttribute("transform",e):l.removeAttribute("transform"),i?t.setAttribute("transform",i):t.removeAttribute("transform"),l.removeAttribute("aria-label"),l.removeAttribute("aria-description"),l.removeAttribute("aria-hidden")}L.replaceWith(l)}if(r.roots[g]=L=l,!(null==S&&y?.size>1)){const t=null==S?null:isArray(Q)?Q[S]:Q.get(S);a.dispatchValue(t)}return l}function N(s){if(r.sticky||"mouse"===s.pointerType&&1===s.buttons)return;let[n,a]=pointof(s);n-=b,a-=C;const c=n<B.marginLeft||n>B.width-B.marginRight?1:t,F=a<B.marginTop||a>B.height-B.marginBottom?1:e;let Q=null,g=l*l;for(const t of i){const e=c*(G(t)-n),i=F*(m(t)-a),s=e*e+i*i;s<=g&&(Q=t,g=s)}if(null!=Q&&(1!==t||1!==e)){const t=G(Q)-n,e=m(Q)-a;g=t*t+e*e}V(Q,g)}return F.addEventListener("pointerenter",N),F.addEventListener("pointermove",N),F.addEventListener("pointerdown",function(t){"mouse"===t.pointerType&&null!=S&&(r.sticky&&r.roots.some(e=>e?.contains(t.target))||(r.sticky?(r.sticky=!1,r.renders.forEach(t=>t(null))):(r.sticky=!0,Z(S)),t.stopImmediatePropagation()))}),F.addEventListener("pointerleave",function(t){"mouse"===t.pointerType&&(r.sticky||V(null))}),Z(null)},c)}}function pointer(t){return pointerK(1,1,t)}function pointerX(t){return pointerK(1,.01,t)}function pointerY(t){return pointerK(.01,1,t)}function anchorX$1({x1:t,x2:e,x:i=t},s){return t&&e?i=>(t[i]+e[i])/2:i?t=>i[t]:()=>s}function anchorY$1({y1:t,y2:e,y:i=t},s){return t&&e?i=>(t[i]+e[i])/2:i?t=>i[t]:()=>s}function inferFontVariant$2(t){return isOrdinalScale(t)&&void 0===t.interval?void 0:"tabular-nums"}function legendRamp(t,e){let{label:i=t.label,tickSize:s=6,width:n=240,height:B=44+s,marginTop:l=18,marginRight:a=0,marginBottom:c=16+s,marginLeft:F=0,style:Q,ticks:r=(n-F-a)/64,tickFormat:g,fontVariant:U=inferFontVariant$2(t),round:I=!0,opacity:o,className:d}=e;const b=createContext(e);d=maybeClassName(d),o=maybeNumberChannel(o)[1],null===g&&(g=()=>null);const C=create("svg",b).attr("class",`${d}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",n).attr("height",B).attr("viewBox",`0 0 ${n} ${B}`).call(t=>t.append("style").text(`:where(.${d}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${d}-ramp text) {\n  white-space: pre;\n}`)).call(applyInlineStyles,Q);let u,y=t=>t.selectAll(".tick line").attr("y1",l+c-B);const h=I?(t,e)=>t.rangeRound(e):(t,e)=>t.range(e),{type:A,domain:R,range:x,interpolate:G,scale:m,pivot:S}=t;if(G){const t=void 0===x?G:piecewise(1===G.length?interpolatePiecewise(G):G,x);u=h(m.copy(),quantize(interpolateNumber(F,n-a),Math.min(R.length+(void 0!==S),void 0===x?1/0:x.length)));const e=256,i=b.document.createElement("canvas");i.width=e,i.height=1;const s=i.getContext("2d");for(let i=0,n=e-1;i<e;++i)s.fillStyle=t(i/n),s.fillRect(i,0,1,1);C.append("image").attr("opacity",o).attr("x",F).attr("y",l).attr("width",n-F-a).attr("height",B-l-c).attr("preserveAspectRatio","none").attr("xlink:href",i.toDataURL())}else if("threshold"===A){const t=R,e=void 0===g?t=>t:"string"==typeof g?format$1(g):g;u=h(linear().domain([-1,x.length-1]),[F,n-a]),C.append("g").attr("fill-opacity",o).selectAll().data(x).enter().append("rect").attr("x",(t,e)=>u(e-1)).attr("y",l).attr("width",(t,e)=>u(e)-u(e-1)).attr("height",B-l-c).attr("fill",t=>t),r=map(t,(t,e)=>e),g=i=>e(t[i],i)}else u=h(band().domain(R),[F,n-a]),C.append("g").attr("fill-opacity",o).selectAll().data(R).enter().append("rect").attr("x",u).attr("y",l).attr("width",Math.max(0,u.bandwidth()-1)).attr("height",B-l-c).attr("fill",m),y=()=>{};return C.append("g").attr("transform",`translate(0,${B-c})`).call(axisBottom(u).ticks(Array.isArray(r)?null:r,"string"==typeof g?g:void 0).tickFormat("function"==typeof g?g:void 0).tickSize(s).tickValues(Array.isArray(r)?r:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",impliedString(U,"normal")).call(y).call(t=>t.select(".domain").remove()),void 0!==i&&C.append("text").attr("x",F).attr("y",l-6).attr("fill","currentColor").attr("font-weight","bold").text(i),C.node()}const radians=Math.PI/180;function markers(t,{marker:e,markerStart:i=e,markerMid:s=e,markerEnd:n=e}={}){t.markerStart=maybeMarker(i),t.markerMid=maybeMarker(s),t.markerEnd=maybeMarker(n)}function maybeMarker(t){if(null==t||!1===t)return null;if(!0===t)return markerCircleFill;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return markerArrow("auto");case"arrow-reverse":return markerArrow("auto-start-reverse");case"dot":return markerDot;case"circle":case"circle-fill":return markerCircleFill;case"circle-stroke":return markerCircleStroke;case"tick":return markerTick("auto");case"tick-x":return markerTick(90);case"tick-y":return markerTick(0)}throw new Error(`invalid marker: ${t}`)}function markerArrow(t){return(e,i)=>create("svg:marker",i).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function markerDot(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function markerCircleFill(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function markerCircleStroke(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function markerTick(t){return(e,i)=>create("svg:marker",i).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(t=>t.append("path").attr("d","M0,-3v6")).node()}let nextMarkerId=0;function applyMarkers(t,e,{stroke:i},s){return applyMarkersColor(t,e,i&&(t=>i[t]),null,s)}function applyGroupedMarkers(t,e,{stroke:i,z:s},n){return applyMarkersColor(t,e,i&&(([t])=>i[t]),s,n)}const START=1,END=2;function getGroupedOrientation(t,e){const i=new Uint8Array(e.length),s=t.data().filter(t=>t.length>1),n=s.length;for(let t=0,B=unset;t<n;++t){const n=s[t];if(n.length>1){const t=n[0];B!==(B=keyof(e[t]))&&(i[t]|=START)}}for(let t=n-1,B=unset;t>=0;--t){const n=s[t];if(n.length>1){const t=n[0];B!==(B=keyof(e[t]))&&(i[t]|=END)}}return([t])=>i[t]}function applyMarkersColor(t,{markerStart:e,markerMid:i,markerEnd:s,stroke:n},B=()=>n,l,a){if(!e&&!i&&!s)return;const c=new Map,F=l&&getGroupedOrientation(t,l);function Q(t,e,i){return function(s){if(i&&!i(s))return;const n=B(s);let l=c.get(e);l||c.set(e,l=new Map);let F=l.get(n);if(!F){const t=this.parentNode.insertBefore(e(n,a),this),i="plot-marker-"+ ++nextMarkerId;t.setAttribute("id",i),l.set(n,F=`url(#${i})`)}this.setAttribute(t,F)}}e&&t.each(Q("marker-start",e,F&&(t=>F(t)&START))),i&&F&&t.each(Q("marker-start",i,t=>!(F(t)&START))),i&&t.each(Q("marker-mid",i)),s&&t.each(Q("marker-end",s,F&&(t=>F(t)&END)))}function maybeInsetX({inset:t,insetLeft:e,insetRight:i,...s}={}){return[e,i]=maybeInset(t,e,i),{inset:t,insetLeft:e,insetRight:i,...s}}function maybeInsetY({inset:t,insetTop:e,insetBottom:i,...s}={}){return[e,i]=maybeInset(t,e,i),{inset:t,insetTop:e,insetBottom:i,...s}}function maybeInset(t,e,i){return void 0===t&&void 0===e&&void 0===i?offset?[1,0]:[.5,.5]:[e,i]}function maybeIntervalValue(t,{interval:e}){return(t={...maybeValue(t)}).interval=maybeInterval(void 0===t.interval?e:t.interval),t}function maybeIntervalK(t,e,i,s){const{[t]:n,[`${t}1`]:B,[`${t}2`]:l}=i,{value:a,interval:c}=maybeIntervalValue(n,i);if(null==a||null==c&&!s)return i;const F=labelof(n);if(null==c){let e;const n={transform:t=>e||(e=valueof(t,a)),label:F};return{...i,[t]:void 0,[`${t}1`]:void 0===B?n:B,[`${t}2`]:void 0!==l||B===l&&s?l:n}}let Q,r;function g(t){return void 0!==r&&t===Q?r:r=map(valueof(Q=t,a),t=>c.floor(t))}return e({...i,[t]:void 0,[`${t}1`]:void 0===B?{transform:g,label:F}:B,[`${t}2`]:void 0===l?{transform:t=>g(t).map(t=>c.offset(t)),label:F}:l})}function maybeIntervalMidK(t,e,i){const{[t]:s}=i,{value:n,interval:B}=maybeIntervalValue(s,i);return null==n||null==B?i:e({...i,[t]:{label:labelof(s),transform:t=>{const e=map(valueof(t,n),t=>B.floor(t)),i=e.map(t=>B.offset(t));return e.map(isTemporal(e)?(t,e)=>null==t||isNaN(t=+t)||null==(e=i[e])||isNaN(e=+e)?void 0:new Date((t+e)/2):(t,e)=>null==t||null==(e=i[e])?NaN:(+t+ +e)/2)}}})}function maybeTrivialIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t,!0)}function maybeIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t)}function maybeIntervalY(t={}){return maybeIntervalK("y",maybeInsetY,t)}function maybeIntervalMidX(t={}){return maybeIntervalMidK("x",maybeInsetX,t)}function maybeIntervalMidY(t={}){return maybeIntervalMidK("y",maybeInsetY,t)}const defaults$7={ariaLabel:"rule",fill:null,stroke:"currentColor"};class RuleX extends Mark{constructor(t,e={}){const{x:i,y1:s,y2:n,inset:B=0,insetTop:l=B,insetBottom:a=B}=e;super(t,{x:{value:i,scale:"x",optional:!0},y1:{value:s,scale:"y",optional:!0},y2:{value:n,scale:"y",optional:!0}},withTip(e,"x"),defaults$7),this.insetTop=number(l),this.insetBottom=number(a),markers(this,e)}render(t,e,i,s,n){const{x:B,y:l}=e,{x:a,y1:c,y2:F}=i,{width:Q,height:r,marginTop:g,marginRight:U,marginLeft:I,marginBottom:o}=s,{insetTop:d,insetBottom:b}=this;return create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyTransform,this,{x:a&&B},offset,0).call(e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",a?t=>a[t]:(I+Q-U)/2).attr("x2",a?t=>a[t]:(I+Q-U)/2).attr("y1",c&&!isCollapsed(l)?t=>c[t]+d:g+d).attr("y2",F&&!isCollapsed(l)?l.bandwidth?t=>F[t]+l.bandwidth()-b:t=>F[t]-b:r-o-b).call(applyChannelStyles,this,i).call(applyMarkers,this,i,n)).node()}}class RuleY extends Mark{constructor(t,e={}){const{x1:i,x2:s,y:n,inset:B=0,insetRight:l=B,insetLeft:a=B}=e;super(t,{y:{value:n,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:s,scale:"x",optional:!0}},withTip(e,"y"),defaults$7),this.insetRight=number(l),this.insetLeft=number(a),markers(this,e)}render(t,e,i,s,n){const{x:B,y:l}=e,{y:a,x1:c,x2:F}=i,{width:Q,height:r,marginTop:g,marginRight:U,marginLeft:I,marginBottom:o}=s,{insetLeft:d,insetRight:b}=this;return create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyTransform,this,{y:a&&l},0,offset).call(e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",c&&!isCollapsed(B)?t=>c[t]+d:I+d).attr("x2",F&&!isCollapsed(B)?B.bandwidth?t=>F[t]+B.bandwidth()-b:t=>F[t]-b:Q-U-b).attr("y1",a?t=>a[t]:(g+r-o)/2).attr("y2",a?t=>a[t]:(g+r-o)/2).call(applyChannelStyles,this,i).call(applyMarkers,this,i,n)).node()}}function ruleX(t,e){let{x:i=identity$1,y:s,y1:n,y2:B,...l}=maybeIntervalY(e);return[n,B]=maybeOptionalZero(s,n,B),new RuleX(t,{...l,x:i,y1:n,y2:B})}function ruleY(t,e){let{y:i=identity$1,x:s,x1:n,x2:B,...l}=maybeIntervalX(e);return[n,B]=maybeOptionalZero(s,n,B),new RuleY(t,{...l,y:i,x1:n,x2:B})}function maybeOptionalZero(t,e,i){if(null==t){if(void 0===e){if(void 0!==i)return[0,i]}else if(void 0===i)return[0,e]}else{if(void 0===e)return void 0===i?[0,t]:[t,i];if(void 0===i)return[t,e]}return[e,i]}function template(t,...e){let i=e.length;for(let s=0,n=!0;s<i;++s)"function"!=typeof e[s]&&(n&&(t=t.slice(),n=!1),t.splice(s,2,t[s]+e[s]+t[s+1]),e.splice(s,1),--s,--i);return s=>{let n=t[0];for(let B=0;B<i;++B)n+=e[B](s)+t[B+1];return n}}const defaults$6={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},softHyphen="Â­";class Text extends Mark{constructor(t,e={}){const{x:i,y:s,text:n=(isIterable(t)&&isTextual(t)?identity$1:indexOf),frameAnchor:B,textAnchor:l=(/right$/i.test(B)?"end":/left$/i.test(B)?"start":"middle"),lineAnchor:a=(/^top/i.test(B)?"top":/^bottom/i.test(B)?"bottom":"middle"),lineHeight:c=1,lineWidth:F=1/0,textOverflow:Q,monospace:r,fontFamily:g=(r?"ui-monospace, monospace":void 0),fontSize:U,fontStyle:I,fontVariant:o,fontWeight:d,rotate:b}=e,[C,u]=maybeNumberChannel(b,0),[y,h]=maybeFontSizeChannel(U);if(super(t,{x:{value:i,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},fontSize:{value:y,optional:!0},rotate:{value:numberChannel(C),optional:!0},text:{value:n,filter:nonempty,optional:!0}},e,defaults$6),this.rotate=u,this.textAnchor=impliedString(l,"middle"),this.lineAnchor=keyword(a,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+F,this.textOverflow=maybeTextOverflow(Q),this.monospace=!!r,this.fontFamily=string(g),this.fontSize=h,this.fontStyle=string(I),this.fontVariant=string(o),this.fontWeight=string(d),this.frameAnchor=maybeFrameAnchor(B),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${F}`);this.splitLines=splitter(this),this.clipLine=clipper(this)}render(t,e,i,s,n){const{x:B,y:l}=e,{x:a,y:c,rotate:F,text:Q,title:r,fontSize:g}=i,{rotate:U}=this,[I,o]=applyFrameAnchor(this,s);return create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyIndirectTextStyles,this,Q,s).call(applyTransform,this,{x:a&&B,y:c&&l}).call(e=>e.selectAll().data(t).enter().append("text").call(applyDirectStyles,this).call(applyMultilineText,this,Q,r).attr("transform",template`translate(${a?t=>a[t]:I},${c?t=>c[t]:o})${F?t=>` rotate(${F[t]})`:U?` rotate(${U})`:""}`).call(applyAttr,"font-size",g&&(t=>g[t])).call(applyChannelStyles,this,i)).node()}}function maybeTextOverflow(t){return null==t?null:keyword(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function applyMultilineText(t,e,i,s){if(!i)return;const{lineAnchor:n,lineHeight:B,textOverflow:l,splitLines:a,clipLine:c}=e;t.each(function(t){const e=a(formatDefault(i[t])??"").map(c),F=e.length,Q="top"===n?.71:"bottom"===n?1-F:(164-100*F)/200;if(F>1){let t=0;for(let i=0;i<F;++i){if(++t,!e[i])continue;const s=this.ownerDocument.createElementNS(namespaces.svg,"tspan");s.setAttribute("x",0),i===t-1?s.setAttribute("y",(Q+i)*B+"em"):s.setAttribute("dy",t*B+"em"),s.textContent=e[i],this.appendChild(s),t=0}}else Q&&this.setAttribute("y",Q*B+"em"),this.textContent=e[0];if(l&&!s&&e[0]!==i[t]){const e=this.ownerDocument.createElementNS(namespaces.svg,"title");e.textContent=i[t],this.appendChild(e)}})}function text(t,{x:e,y:i,...s}={}){return void 0===s.frameAnchor&&([e,i]=maybeTuple(e,i)),new Text(t,{...s,x:e,y:i})}function textX(t,{x:e=identity$1,...i}={}){return new Text(t,maybeIntervalMidY({...i,x:e}))}function textY(t,{y:e=identity$1,...i}={}){return new Text(t,maybeIntervalMidX({...i,y:e}))}function applyIndirectTextStyles(t,e,i){applyAttr(t,"text-anchor",e.textAnchor),applyAttr(t,"font-family",e.fontFamily),applyAttr(t,"font-size",e.fontSize),applyAttr(t,"font-style",e.fontStyle),applyAttr(t,"font-variant",void 0===e.fontVariant?inferFontVariant$1(i):e.fontVariant),applyAttr(t,"font-weight",e.fontWeight)}function inferFontVariant$1(t){return t&&(isNumeric(t)||isTemporal(t))?"tabular-nums":void 0}const fontSizes=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function maybeFontSizeChannel(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),fontSizes.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function lineWrap(t,e,i){const s=[];let n,B=0;for(const[l,a,c]of lineBreaks(t))void 0===n&&(n=l),B>n&&i(t,n,a)>e&&(s.push(t.slice(n,B)+("Â­"===t[B-1]?"-":"")),n=l),c?(s.push(t.slice(n,a)),n=void 0):B=a;return s}function*lineBreaks(t){let e=0,i=0;const s=t.length;for(;i<s;){let s=1;switch(t[i]){case"Â­":case"-":++i,yield[e,i,!1],e=i;break;case" ":for(yield[e,i,!1];" "===t[++i];);e=i;break;case"\r":"\n"===t[i+1]&&++s;case"\n":yield[e,i,!0],i+=s,e=i;break;default:++i}}yield[e,i,!0]}const defaultWidthMap={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"â":31,"â":31,"â":47,"â":47,"â¦":82};function defaultWidth(t,e=0,i=t.length){let s=0;for(let n=e;n<i;n=readCharacter(t,n))s+=defaultWidthMap[t[n]]??(isPictographic(t,n)?120:defaultWidthMap.e);return s}function monospaceWidth(t,e=0,i=t.length){let s=0;for(let n=e;n<i;n=readCharacter(t,n))s+=isPictographic(t,n)?126:63;return s}function splitter({monospace:t,lineWidth:e,textOverflow:i}){if(null!=i||e==1/0)return t=>t.split(/\r\n?|\n/g);const s=t?monospaceWidth:defaultWidth,n=100*e;return t=>lineWrap(t,n,s)}function clipper({monospace:t,lineWidth:e,textOverflow:i}){if(null==i||e==1/0)return t=>t;const s=t?monospaceWidth:defaultWidth,n=100*e;switch(i){case"clip-start":return t=>clipStart(t,n,s,"");case"clip-end":return t=>clipEnd(t,n,s,"");case"ellipsis-start":return t=>clipStart(t,n,s,ellipsis);case"ellipsis-middle":return t=>clipMiddle(t,n,s,ellipsis);case"ellipsis-end":return t=>clipEnd(t,n,s,ellipsis)}}const ellipsis="â¦";function cut(t,e,i,s){const n=[];let B=0;for(let l=0,a=0,c=t.length;l<c;l=a){a=readCharacter(t,l);const c=i(t,l,a);if(B+c>e){for(B+=s;B>e&&l>0;)a=l,l=n.pop(),B-=i(t,l,a);return[l,e-B]}B+=c,n.push(l)}return[-1,0]}function clipEnd(t,e,i,s){t=t.trim();const n=i(s),[B]=cut(t,e,i,n);return B<0?t:t.slice(0,B).trimEnd()+s}function clipMiddle(t,e,i,s){const n=i(t=t.trim());if(n<=e)return t;const B=i(s)/2,[l,a]=cut(t,e/2,i,B),[c]=cut(t,n-e/2-a+B,i,-B);return c<0?s:t.slice(0,l).trimEnd()+s+t.slice(readCharacter(t,c)).trimStart()}function clipStart(t,e,i,s){const n=i(t=t.trim());if(n<=e)return t;const B=i(s),[l]=cut(t,n-e+B,i,-B);return l<0?s:s+t.slice(readCharacter(t,l)).trimStart()}const reCombiner=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rePictographic=/\p{Extended_Pictographic}/uy;function readCharacter(t,e){return isCombiner(t,e+=isSurrogatePair(t,e)?2:1)&&(e=reCombiner.lastIndex),isZeroWidthJoiner(t,e)?readCharacter(t,e+1):e}function isAscii(t,e){return t.charCodeAt(e)<128}function isSurrogatePair(t,e){const i=t.charCodeAt(e);if(i>=55296&&i<56320){const i=t.charCodeAt(e+1);return i>=56320&&i<57344}return!1}function isZeroWidthJoiner(t,e){return 8205===t.charCodeAt(e)}function isCombiner(t,e){return!isAscii(t,e)&&(reCombiner.lastIndex=e,reCombiner.test(t))}function isPictographic(t,e){return!isAscii(t,e)&&(rePictographic.lastIndex=e,rePictographic.test(t))}const defaults$5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},defaultRadius=3.5,wingRatio=5*defaultRadius,shapeArrow={draw(t,e,i){const s=e*i/wingRatio;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-s,s-e),t.lineTo(0,-e),t.lineTo(s,s-e)}},shapeSpike={draw(t,e,i){t.moveTo(-i,0),t.lineTo(0,-e),t.lineTo(i,0)}},shapes=new Map([["arrow",shapeArrow],["spike",shapeSpike]]);function isShapeObject(t){return t&&"function"==typeof t.draw}function maybeShape(t){if(isShapeObject(t))return t;const e=shapes.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Vector extends Mark{constructor(t,e={}){const{x:i,y:s,r:n=defaultRadius,length:B,rotate:l,shape:a=shapeArrow,anchor:c="middle",frameAnchor:F}=e,[Q,r]=maybeNumberChannel(B,12),[g,U]=maybeNumberChannel(l,0);super(t,{x:{value:i,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},length:{value:Q,scale:"length",optional:!0},rotate:{value:g,optional:!0}},e,defaults$5),this.r=+n,this.length=r,this.rotate=U,this.shape=maybeShape(a),this.anchor=keyword(c,"anchor",["start","middle","end"]),this.frameAnchor=maybeFrameAnchor(F)}render(t,e,i,s,n){const{x:B,y:l}=e,{x:a,y:c,length:F,rotate:Q}=i,{length:r,rotate:g,anchor:U,shape:I,r:o}=this,[d,b]=applyFrameAnchor(this,s);return create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyTransform,this,{x:a&&B,y:c&&l}).call(e=>e.selectAll().data(t).enter().append("path").call(applyDirectStyles,this).attr("transform",template`translate(${a?t=>a[t]:d},${c?t=>c[t]:b})${Q?t=>` rotate(${Q[t]})`:g?` rotate(${g})`:""}${"start"===U?"":"end"===U?F?t=>` translate(0,${F[t]})`:` translate(0,${r})`:F?t=>` translate(0,${F[t]/2})`:` translate(0,${r/2})`}`).attr("d",F?t=>{const e=pathRound();return I.draw(e,F[t],o),e}:(()=>{const t=pathRound();return I.draw(t,r,o),t})()).call(applyChannelStyles,this,i)).node()}}function vectorX(t,e={}){const{x:i=identity$1,...s}=e;return new Vector(t,{...s,x:i})}function vectorY(t,e={}){const{y:i=identity$1,...s}=e;return new Vector(t,{...s,y:i})}function maybeData(t,e){return arguments.length<2&&!isIterable(t)&&(e=t,t=null),void 0===e&&(e={}),[t,e]}function maybeAnchor({anchor:t}={},e){return void 0===t?e[0]:keyword(t,"anchor",e)}function anchorY(t){return maybeAnchor(t,["left","right"])}function anchorFy(t){return maybeAnchor(t,["right","left"])}function anchorX(t){return maybeAnchor(t,["bottom","top"])}function anchorFx(t){return maybeAnchor(t,["top","bottom"])}function axisY(){const[t,e]=maybeData(...arguments);return axisKy("y",anchorY(e),t,e)}function axisFy(){const[t,e]=maybeData(...arguments);return axisKy("fy",anchorFy(e),t,e)}function axisX(){const[t,e]=maybeData(...arguments);return axisKx("x",anchorX(e),t,e)}function axisFx(){const[t,e]=maybeData(...arguments);return axisKx("fx",anchorFx(e),t,e)}function axisKy(t,e,i,{color:s="currentColor",opacity:n=1,stroke:B=s,strokeOpacity:l=n,strokeWidth:a=1,fill:c=s,fillOpacity:F=n,textAnchor:Q,textStroke:r,textStrokeOpacity:g,textStrokeWidth:U,tickSize:I=("y"===t?6:0),tickPadding:o,tickRotate:d,x:b,margin:C,marginTop:u=(void 0===C?20:C),marginRight:y=(void 0===C?"right"===e?40:0:C),marginBottom:h=(void 0===C?20:C),marginLeft:A=(void 0===C?"left"===e?40:0:C),label:R,labelAnchor:x,labelArrow:G,labelOffset:m,ariaLabel:S=`${t}-axis`,...L}){return I=number(I),o=number(o),d=number(d),void 0!==x&&(x=keyword(x,"labelAnchor",["center","top","bottom"])),G=maybeLabelArrow(G),marks(I&&!isNoneish(B)?axisTickKy(t,e,i,{stroke:B,strokeOpacity:l,strokeWidth:a,tickSize:I,tickPadding:o,tickRotate:d,x:b,ariaLabel:S,...L}):null,isNoneish(c)?null:axisTextKy(t,e,i,{fill:c,fillOpacity:F,stroke:r,strokeOpacity:g,strokeWidth:U,textAnchor:Q,tickSize:I,tickPadding:o,tickRotate:d,x:b,marginTop:u,marginRight:y,marginBottom:h,marginLeft:A,ariaLabel:S,...L}),isNoneish(c)||null===R?null:text([],labelOptions({fill:c,fillOpacity:F,...L},function(i,s,n,B,l){const a=B[t],{marginTop:c,marginRight:F,marginBottom:Q,marginLeft:r}="y"===t&&l.inset||l,g=x??(a.bandwidth?"center":"top"),U=m??("right"===e?F:r)-3;return"center"===g?(this.textAnchor=void 0,this.lineAnchor="right"===e?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor="right"===e?"end":"start",this.lineAnchor=g,this.frameAnchor=`${g}-${e}`,this.rotate=0),this.dy="top"===g?3-c:"bottom"===g?Q-3:0,this.dx="right"===e?U:-U,this.ariaLabel=`${S} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,a,{anchor:e,label:R,labelAnchor:g,labelArrow:G})]}}}})))}function axisKx(t,e,i,{color:s="currentColor",opacity:n=1,stroke:B=s,strokeOpacity:l=n,strokeWidth:a=1,fill:c=s,fillOpacity:F=n,textAnchor:Q,textStroke:r,textStrokeOpacity:g,textStrokeWidth:U,tickSize:I=("x"===t?6:0),tickPadding:o,tickRotate:d,y:b,margin:C,marginTop:u=(void 0===C?"top"===e?30:0:C),marginRight:y=(void 0===C?20:C),marginBottom:h=(void 0===C?"bottom"===e?30:0:C),marginLeft:A=(void 0===C?20:C),label:R,labelAnchor:x,labelArrow:G,labelOffset:m,ariaLabel:S=`${t}-axis`,...L}){return I=number(I),o=number(o),d=number(d),void 0!==x&&(x=keyword(x,"labelAnchor",["center","left","right"])),G=maybeLabelArrow(G),marks(I&&!isNoneish(B)?axisTickKx(t,e,i,{stroke:B,strokeOpacity:l,strokeWidth:a,tickSize:I,tickPadding:o,tickRotate:d,y:b,ariaLabel:S,...L}):null,isNoneish(c)?null:axisTextKx(t,e,i,{fill:c,fillOpacity:F,stroke:r,strokeOpacity:g,strokeWidth:U,textAnchor:Q,tickSize:I,tickPadding:o,tickRotate:d,y:b,marginTop:u,marginRight:y,marginBottom:h,marginLeft:A,ariaLabel:S,...L}),isNoneish(c)||null===R?null:text([],labelOptions({fill:c,fillOpacity:F,...L},function(i,s,n,B,l){const a=B[t],{marginTop:c,marginRight:F,marginBottom:Q,marginLeft:r}="x"===t&&l.inset||l,g=x??(a.bandwidth?"center":"right"),U=m??("top"===e?c:Q)-3;return"center"===g?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${g}`,this.textAnchor="right"===g?"end":"start"),this.lineAnchor=e,this.dy="top"===e?-U:U,this.dx="right"===g?F-3:"left"===g?3-r:0,this.ariaLabel=`${S} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,a,{anchor:e,label:R,labelAnchor:g,labelArrow:G})]}}}})))}function axisTickKy(t,e,i,{strokeWidth:s=1,strokeLinecap:n=null,strokeLinejoin:B=null,facetAnchor:l=e+("y"===t?"-empty":""),frameAnchor:a=e,tickSize:c,inset:F=0,insetLeft:Q=F,insetRight:r=F,dx:g=0,y:U=("y"===t?void 0:null),ariaLabel:I,...o}){return axisMark(vectorY,t,i,{ariaLabel:`${I} tick`,ariaHidden:!0},{strokeWidth:s,strokeLinecap:n,strokeLinejoin:B,facetAnchor:l,frameAnchor:a,y:U,...o,dx:"left"===e?+g-offset+ +Q:+g+offset-r,anchor:"start",length:c,shape:"left"===e?shapeTickLeft:shapeTickRight})}function axisTickKx(t,e,i,{strokeWidth:s=1,strokeLinecap:n=null,strokeLinejoin:B=null,facetAnchor:l=e+("x"===t?"-empty":""),frameAnchor:a=e,tickSize:c,inset:F=0,insetTop:Q=F,insetBottom:r=F,dy:g=0,x:U=("x"===t?void 0:null),ariaLabel:I,...o}){return axisMark(vectorX,t,i,{ariaLabel:`${I} tick`,ariaHidden:!0},{strokeWidth:s,strokeLinejoin:B,strokeLinecap:n,facetAnchor:l,frameAnchor:a,x:U,...o,dy:"bottom"===e?+g-offset-r:+g+offset+ +Q,anchor:"start",length:c,shape:"bottom"===e?shapeTickBottom:shapeTickTop})}function axisTextKy(t,e,i,{facetAnchor:s=e+("y"===t?"-empty":""),frameAnchor:n=e,tickSize:B,tickRotate:l=0,tickPadding:a=Math.max(3,9-B)+(Math.abs(l)>60?4*Math.cos(l*radians):0),text:c,textAnchor:F=(Math.abs(l)>60?"middle":"left"===e?"end":"start"),lineAnchor:Q=(l>60?"top":l<-60?"bottom":"middle"),fontVariant:r,inset:g=0,insetLeft:U=g,insetRight:I=g,dx:o=0,ariaLabel:d,y:b=("y"===t?void 0:null),...C}){return axisMark(textY,t,i,{ariaLabel:`${d} tick label`},{facetAnchor:s,frameAnchor:n,text:c,textAnchor:F,lineAnchor:Q,fontVariant:r,rotate:l,y:b,...C,dx:"left"===e?+o-B-a+ +U:+o+ +B+ +a-I},function(t,i,s,n,B){void 0===r&&(this.fontVariant=inferFontVariant(t)),void 0===c&&(B.text=inferTextChannel(t,i,s,n,e))})}function axisTextKx(t,e,i,{facetAnchor:s=e+("x"===t?"-empty":""),frameAnchor:n=e,tickSize:B,tickRotate:l=0,tickPadding:a=Math.max(3,9-B)+(Math.abs(l)>=10?4*Math.cos(l*radians):0),text:c,textAnchor:F=(Math.abs(l)>=10?l<0^"bottom"===e?"start":"end":"middle"),lineAnchor:Q=(Math.abs(l)>=10?"middle":"bottom"===e?"top":"bottom"),fontVariant:r,inset:g=0,insetTop:U=g,insetBottom:I=g,dy:o=0,x:d=("x"===t?void 0:null),ariaLabel:b,...C}){return axisMark(textX,t,i,{ariaLabel:`${b} tick label`},{facetAnchor:s,frameAnchor:n,text:void 0===c?null:c,textAnchor:F,lineAnchor:Q,fontVariant:r,rotate:l,x:d,...C,dy:"bottom"===e?+o+ +B+ +a-I:+o-B-a+ +U},function(t,i,s,n,B){void 0===r&&(this.fontVariant=inferFontVariant(t)),void 0===c&&(B.text=inferTextChannel(t,i,s,n,e))})}function gridY(){const[t,e]=maybeData(...arguments);return gridKy("y",anchorY(e),t,e)}function gridFy(){const[t,e]=maybeData(...arguments);return gridKy("fy",anchorFy(e),t,e)}function gridX(){const[t,e]=maybeData(...arguments);return gridKx("x",anchorX(e),t,e)}function gridFx(){const[t,e]=maybeData(...arguments);return gridKx("fx",anchorFx(e),t,e)}function gridKy(t,e,i,{y:s=("y"===t?void 0:null),x:n=null,x1:B=("left"===e?n:null),x2:l=("right"===e?n:null),ariaLabel:a=`${t}-grid`,ariaHidden:c=!0,...F}){return axisMark(ruleY,t,i,{ariaLabel:a,ariaHidden:c},{y:s,x1:B,x2:l,...gridDefaults(F)})}function gridKx(t,e,i,{x:s=("x"===t?void 0:null),y:n=null,y1:B=("top"===e?n:null),y2:l=("bottom"===e?n:null),ariaLabel:a=`${t}-grid`,ariaHidden:c=!0,...F}){return axisMark(ruleX,t,i,{ariaLabel:a,ariaHidden:c},{x:s,y1:B,y2:l,...gridDefaults(F)})}function gridDefaults({color:t="currentColor",opacity:e=.1,stroke:i=t,strokeOpacity:s=e,strokeWidth:n=1,...B}){return{stroke:i,strokeOpacity:s,strokeWidth:n,...B}}function labelOptions({fill:t,fillOpacity:e,fontFamily:i,fontSize:s,fontStyle:n,fontVariant:B,fontWeight:l,monospace:a,pointerEvents:c,shapeRendering:F,clip:Q=!1},r){return[,t]=maybeColorChannel(t),[,e]=maybeNumberChannel(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:i,fontSize:s,fontStyle:n,fontVariant:B,fontWeight:l,monospace:a,pointerEvents:c,shapeRendering:F,clip:Q,initializer:r}}function axisMark(t,e,i,s,n,B){let l;const a=initializer(n).initializer,c=t(i,initializer({...n,initializer:function(t,i,s,a,c,F){const Q=null==t&&("fx"===e||"fy"===e),{[e]:r}=a;if(!r)throw new Error(`missing scale: ${e}`);const g=r.domain();let{interval:U,ticks:I,tickFormat:o,tickSpacing:d=("x"===e?80:35)}=n;if("string"==typeof I&&hasTemporalDomain(r)&&(U=I,I=void 0),void 0===I&&(I=maybeRangeInterval(U,r.type)??inferTickCount(r,d)),null==t){if(isIterable(I))t=arrayify(I);else if(isInterval(I))t=inclusiveRange(I,...extent$1(g));else if(r.interval){let e=r.interval;if(r.ticks){const[i,s]=extent$1(g);e=generalizeTimeInterval(e,(s-i)/e[intervalDuration]/I)??e,t=inclusiveRange(e,i,s)}else{e=generalizeTimeInterval(e,(t=g).length/I)??e,e!==r.interval&&(t=inclusiveRange(e,...extent$1(t)))}if(e===r.interval){const e=Math.round(t.length/I);e>1&&(t=t.filter((t,i)=>i%e===0))}}else t=r.ticks?r.ticks(I):g;if(!r.ticks&&t.length&&t!==g){const i=new InternSet(g);t=t.filter(t=>i.has(t)),t.length||warn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===e||"x"===e?i=[range(t)]:l[e]={scale:e,value:identity$1}}B?.call(this,r,t,I,o,l);const b=Object.fromEntries(Object.entries(l).map(([e,i])=>[e,{...i,value:valueof(t,i.value)}]));return Q&&(i=F.filterFacets(t,b)),{data:t,facets:i,channels:b}}},a));return null==i?(l=c.channels,c.channels={}):l={},void 0!==s&&Object.assign(c,s),void 0===c.clip&&(c.clip=!1),c}function inferTickCount(t,e){const[i,s]=extent$1(t.range());return(s-i)/e}function inferTextChannel(t,e,i,s,n){return{value:inferTickFormat(t,e,i,s,n)}}function inferTickFormat(t,e,i,s,n){return"function"!=typeof s||"log"===t.type&&t.tickFormat?void 0===s&&e&&isTemporal(e)?inferTimeFormat(t.type,e,n)??formatDefault:t.tickFormat?t.tickFormat("number"==typeof i?i:null,s):"string"==typeof s&&t.domain().length>0?(isTemporal(t.domain())?utcFormat:format$1)(s):void 0===s?formatDefault:constant(s):s}function inclusiveRange(t,e,i){return t.range(e,t.offset(t.floor(i)))}const shapeTickBottom={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},shapeTickTop={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},shapeTickLeft={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},shapeTickRight={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function inferFontVariant(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function formatAxisLabel(t,e,{anchor:i,label:s=e.label,labelAnchor:n,labelArrow:B}={}){if(!(null==s||s.inferred&&hasTemporalDomain(e)&&/^(date|time|year)$/i.test(s))){if(s=String(s),"auto"===B&&(B=(!e.bandwidth||e.interval)&&!/[ââââ]/.test(s)),!B)return s;if(!0===B){const i=inferScaleOrder(e);i&&(B=/x$/.test(t)||"center"===n?/x$/.test(t)===i<0?"left":"right":i<0?"up":"down")}switch(B){case"left":return`â ${s}`;case"right":return`${s} â`;case"up":return"right"===i?`${s} â`:`â ${s}`;case"down":return"right"===i?`${s} â`:`â ${s}`}return s}}function maybeLabelArrow(t="auto"){return!isNoneish(t)&&("boolean"==typeof t?t:keyword(t,"labelArrow",["auto","up","right","down","left"]))}function hasTemporalDomain(t){return isTemporal(t.domain())}function maybeScale(t,e){if(null==e)return e;const i=t(e);if(!i)throw new Error(`scale not found: ${e}`);return i}function legendSwatches(t,{opacity:e,...i}={}){if(!isOrdinalScale(t)&&!isThresholdScale(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return legendItems(t,i,(t,i,s,n)=>t.append("svg").attr("width",s).attr("height",n).attr("fill",i.scale).attr("fill-opacity",maybeNumberChannel(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function legendSymbols(t,{fill:e=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:i=1,stroke:s=(void 0!==t.hint?.stroke?t.hint.stroke:isNoneish(e)?"currentColor":"none"),strokeOpacity:n=1,strokeWidth:B=1.5,r:l=4.5,...a}={},c){const[F,Q]=maybeColorChannel(e),[r,g]=maybeColorChannel(s),U=maybeScale(c,F),I=maybeScale(c,r),o=l*l*Math.PI;return i=maybeNumberChannel(i)[1],n=maybeNumberChannel(n)[1],B=maybeNumberChannel(B)[1],legendItems(t,a,(e,s,l,a)=>e.append("svg").attr("viewBox","-8 -8 16 16").attr("width",l).attr("height",a).attr("fill","color"===F?t=>U.scale(t):Q).attr("fill-opacity",i).attr("stroke","color"===r?t=>I.scale(t):g).attr("stroke-opacity",n).attr("stroke-width",B).append("path").attr("d",e=>{const i=pathRound();return t.scale(e).draw(i,o),i}))}function legendItems(t,e={},i){let{columns:s,tickFormat:n,fontVariant:B=inferFontVariant$2(t),swatchSize:l=15,swatchWidth:a=l,swatchHeight:c=l,marginLeft:F=0,className:Q,style:r,width:g}=e;const U=createContext(e);Q=maybeClassName(Q),n=inferTickFormat(t.scale,t.domain,void 0,n);const I=create("div",U).attr("class",`${Q}-swatches ${Q}-swatches-${null!=s?"columns":"wrap"}`);let o;return null!=s?(o=`:where(.${Q}-swatches-columns .${Q}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${Q}-swatches-columns .${Q}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${Q}-swatches-columns .${Q}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,I.style("columns",s).selectAll().data(t.domain).enter().append("div").attr("class",`${Q}-swatch`).call(i,t,a,c).call(t=>t.append("div").attr("class",`${Q}-swatch-label`).attr("title",n).text(n))):(o=`:where(.${Q}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${Q}-swatches-wrap .${Q}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,I.selectAll().data(t.domain).enter().append("span").attr("class",`${Q}-swatch`).call(i,t,a,c).append(function(){return this.ownerDocument.createTextNode(n.apply(this,arguments))})),I.call(t=>t.insert("style","*").text(`:where(.${Q}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${Q}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${o}`)).style("margin-left",F?+F+"px":null).style("width",void 0===g?null:+g+"px").style("font-variant",impliedString(B,"normal")).call(applyInlineStyles,r).node()}const legendRegistry=new Map([["symbol",legendSymbols],["color",legendColor],["opacity",legendOpacity]]);function exposeLegends(t,e,i={}){return(s,n)=>{if(!legendRegistry.has(s))throw new Error(`unknown legend type: ${s}`);if(s in t)return legendRegistry.get(s)(t[s],legendOptions(e,i[s],n),e=>t[e])}}function legendOptions({className:t,...e},{label:i,ticks:s,tickFormat:n}={},B){return inherit(B,{className:t,...e},{label:i,ticks:s,tickFormat:n})}function legendColor(t,{legend:e=!0,...i}){if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return legendSwatches(t,i);case"ramp":return legendRamp(t,i);default:throw new Error(`unknown legend type: ${e}`)}}function legendOpacity({type:t,interpolate:e,...i},{legend:s=!0,color:n=rgb(0,0,0),...B}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(!0===s&&(s="ramp"),"ramp"!==`${s}`.toLowerCase())throw new Error(`${s} opacity legends are not supported`);return legendColor({type:t,...i,interpolate:interpolateOpacity(n)},{legend:s,...B})}function interpolateOpacity(t){const{r:e,g:i,b:s}=rgb(t)||rgb(0,0,0);return t=>`rgba(${e},${i},${s},${t})`}function createLegends(t,e,i){const s=[];for(const[n,B]of legendRegistry){const l=i[n];if(l?.legend&&n in t){const i=B(t[n],legendOptions(e,t[n],l),e=>t[e]);null!=i&&s.push(i)}}return s}function maybeIdentityY(t={},e="y"){return hasY(t)?t:{...t,[e]:identity$1}}function exclusiveFacets(t,e){if(1===e.length)return{data:t,facets:e};const i=lengthof(t),s=new Uint8Array(i);let n=0;for(const t of e)for(const e of t)s[e]&&++n,s[e]=1;if(0===n)return{data:t,facets:e};const B=(t=slice(t))[reindex]=new Uint32Array(i+n);e=e.map(t=>slice(t,Uint32Array));let l=i;s.fill(0);for(const i of e)for(let e=0,n=i.length;e<n;++e){const n=i[e];s[n]?(i[e]=l,t[l]=t[n],B[l]=n,++l):B[n]=n,s[n]=1}return{data:t,facets:e}}function stackY(t={},e={}){1===arguments.length&&([t,e]=mergeOptions$1(t));const{x1:i,x:s=i,y:n,...B}=e,[l,a,c,F]=stack(s,n,"x","y",t,B);return{...l,x1:i,x:a,y1:c,y2:F,y:mid(c,F)}}function maybeStackY({y:t,y1:e,y2:i,...s}={}){return s=withTip(s,"x"),void 0===e&&void 0===i?stackY({y:t,...s}):([e,i]=maybeZero(t,e,i),{...s,y1:e,y2:i})}function mergeOptions$1(t){const{offset:e,order:i,reverse:s,...n}=t;return[{offset:e,order:i,reverse:s},n]}const lengthy={length:!0};function stack(t,e=one,i,s,{offset:n,order:B,reverse:l},a){if(null===e)throw new Error(`stack requires ${s}`);const c=maybeZ(a),[F,Q]=maybeColumn(t),[r,g]=column(e),[U,I]=column(e);return r.hint=U.hint=lengthy,n=maybeOffset(n),B=maybeOrder(B,n,s),[basic(a,(s,a,F)=>{({data:s,facets:a}=exclusiveFacets(s,a));const r=null==t?void 0:Q(maybeApplyInterval(valueof(s,t),F?.[i])),U=valueof(s,e,Float64Array),o=valueof(s,c),d=B&&B(s,r,U,o),b=lengthof(s),C=g(new Float64Array(b)),u=I(new Float64Array(b)),y=[];for(const t of a){const e=r?Array.from(group(t,t=>r[t]).values()):[t];if(d)for(const t of e)t.sort(d);for(const t of e){let e=0,i=0;l&&t.reverse();for(const s of t){const t=U[s];t<0?e=u[s]=(C[s]=e)+t:t>0?i=u[s]=(C[s]=i)+t:u[s]=C[s]=i}}y.push(e)}return n&&n(y,C,u,o),{data:s,facets:a}}),F,r,U]}function maybeOffset(t){if(null!=t){if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return offsetExpand;case"center":case"silhouette":return offsetCenter;case"wiggle":return offsetWiggle}throw new Error(`unknown offset: ${t}`)}}function extent(t,e){let i=0,s=0;for(const n of t){const t=e[n];t<i&&(i=t),t>s&&(s=t)}return[i,s]}function offsetExpand(t,e,i){for(const s of t)for(const t of s){const[s,n]=extent(t,i);for(const B of t){const t=1/(n-s||1);e[B]=t*(e[B]-s),i[B]=t*(i[B]-s)}}}function offsetCenter(t,e,i){for(const s of t){for(const t of s){const[s,n]=extent(t,i);for(const B of t){const t=(n+s)/2;e[B]-=t,i[B]-=t}}offsetZero(s,e,i)}offsetCenterFacets(t,e,i)}function offsetWiggle(t,e,i,s){for(const n of t){const t=new InternMap;let B=0;for(const l of n){let n=-1;const a=l.map(t=>Math.abs(i[t]-e[t])),c=l.map(B=>{n=s?s[B]:++n;const l=i[B]-e[B],a=t.has(n)?l-t.get(n):0;return t.set(n,l),a}),F=[0,...cumsum(c)];for(const t of l)e[t]+=B,i[t]+=B;const Q=sum(a);Q&&(B-=sum(a,(t,e)=>(c[e]/2+F[e])*t)/Q)}offsetZero(n,e,i)}offsetCenterFacets(t,e,i)}function offsetZero(t,e,i){const s=min$1(t,t=>min$1(t,t=>e[t]));for(const n of t)for(const t of n)e[t]-=s,i[t]-=s}function offsetCenterFacets(t,e,i){const s=t.length;if(1===s)return;const n=t.map(t=>t.flat()),B=n.map(t=>(min$1(t,t=>e[t])+max(t,t=>i[t]))/2),l=min$1(B);for(let t=0;t<s;t++){const s=l-B[t];for(const B of n[t])e[B]+=s,i[B]+=s}}function maybeOrder(t,e,i){if(void 0===t&&e===offsetWiggle)return orderInsideOut(ascendingDefined);if(null!=t){if("string"==typeof t){const e=t.startsWith("-"),s=e?descendingDefined:ascendingDefined;switch((e?t.slice(1):t).toLowerCase()){case"value":case i:return orderY(s);case"z":return orderZ(s);case"sum":return orderSum(s);case"appearance":return orderAppearance(s);case"inside-out":return orderInsideOut(s)}return orderAccessor(field(t))}if("function"==typeof t)return(1===t.length?orderAccessor:orderComparator)(t);if(isArray(t))return orderGiven(t);throw new Error(`invalid order: ${t}`)}}function orderY(t){return(e,i,s)=>(e,i)=>t(s[e],s[i])}function orderZ(t){return(e,i,s,n)=>(e,i)=>t(n[e],n[i])}function orderSum(t){return orderZDomain(t,(t,e,i,s)=>groupSort(range(t),t=>sum(t,t=>i[t]),t=>s[t]))}function orderAppearance(t){return orderZDomain(t,(t,e,i,s)=>groupSort(range(t),t=>e[greatest(t,t=>i[t])],t=>s[t]))}function orderInsideOut(t){return orderZDomain(t,(t,e,i,s)=>{const n=range(t),B=groupSort(n,t=>e[greatest(t,t=>i[t])],t=>s[t]),l=rollup(n,t=>sum(t,t=>i[t]),t=>s[t]),a=[],c=[];let F=0;for(const t of B)F<0?(F+=l.get(t),a.push(t)):(F-=l.get(t),c.push(t));return c.reverse().concat(a)})}function orderAccessor(t){return e=>{const i=valueof(e,t);return(t,e)=>ascendingDefined(i[t],i[e])}}function orderComparator(t){return e=>isArray(e)?(i,s)=>t(e[i],e[s]):(i,s)=>t(e.get(i),e.get(s))}function orderGiven(t){return orderZDomain(ascendingDefined,()=>t)}function orderZDomain(t,e){return(i,s,n,B)=>{if(!B)throw new Error("missing channel: z");const l=new InternMap(e(i,s,n,B).map((t,e)=>[t,e]));return(e,i)=>t(l.get(B[e]),l.get(B[i]))}}const defaults$4={ariaLabel:"rect"};class Rect extends Mark{constructor(t,e={}){const{x1:i,y1:s,x2:n,y2:B}=e;super(t,{x1:{value:i,scale:"x",type:null!=i&&null==n?"band":void 0,optional:!0},y1:{value:s,scale:"y",type:null!=s&&null==B?"band":void 0,optional:!0},x2:{value:n,scale:"x",optional:!0},y2:{value:B,scale:"y",optional:!0}},e,defaults$4),rectInsets(this,e),rectRadii(this,e)}render(t,e,i,s,n){const{x:B,y:l}=e;let{x1:a,y1:c,x2:F,y2:Q}=i;const{marginTop:r,marginRight:g,marginBottom:U,marginLeft:I,width:o,height:d}=s,{projection:b}=n,{insetTop:C,insetRight:u,insetBottom:y,insetLeft:h}=this,{rx:A,ry:R,rx1y1:x,rx1y2:G,rx2y1:m,rx2y2:S}=this;(a||F)&&!b&&isCollapsed(B)&&(a=F=null),(c||Q)&&!b&&isCollapsed(l)&&(c=Q=null);const L=B?.bandwidth?B.bandwidth():0,p=l?.bandwidth?l.bandwidth():0;return create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyTransform,this,{},0,0).call(e=>e.selectAll().data(t).enter().call(x||G||m||S?t=>t.append("path").call(applyDirectStyles,this).call(applyRoundedRect,a&&F?t=>a[t]+(F[t]<a[t]?-u:h):a?t=>a[t]+h:I+h,c&&Q?t=>c[t]+(Q[t]<c[t]?-y:C):c?t=>c[t]+C:r+C,a&&F?t=>F[t]-(F[t]<a[t]?-h:u):a?t=>a[t]+L-u:o-g-u,c&&Q?t=>Q[t]-(Q[t]<c[t]?-C:y):c?t=>c[t]+p-y:d-U-y,this).call(applyChannelStyles,this,i):t=>t.append("rect").call(applyDirectStyles,this).attr("x",a?F?t=>Math.min(a[t],F[t])+h:t=>a[t]+h:I+h).attr("y",c?Q?t=>Math.min(c[t],Q[t])+C:t=>c[t]+C:r+C).attr("width",a?F?t=>Math.max(0,Math.abs(F[t]-a[t])+L-h-u):L-h-u:o-g-I-u-h).attr("height",c?Q?t=>Math.max(0,Math.abs(c[t]-Q[t])+p-C-y):p-C-y:d-r-U-C-y).call(applyAttr,"rx",A).call(applyAttr,"ry",R).call(applyChannelStyles,this,i))).node()}}function rectInsets(t,{inset:e=0,insetTop:i=e,insetRight:s=e,insetBottom:n=e,insetLeft:B=e}={}){t.insetTop=number(i),t.insetRight=number(s),t.insetBottom=number(n),t.insetLeft=number(B)}function rectRadii(t,{r:e,rx:i,ry:s,rx1:n=e,ry1:B=e,rx2:l=e,ry2:a=e,rx1y1:c=(void 0!==n?+n:void 0!==B?+B:0),rx1y2:F=(void 0!==n?+n:void 0!==a?+a:0),rx2y1:Q=(void 0!==l?+l:void 0!==B?+B:0),rx2y2:r=(void 0!==l?+l:void 0!==a?+a:0)}={}){c||F||Q||r?(t.rx1y1=c,t.rx1y2=F,t.rx2y1=Q,t.rx2y2=r):(t.rx=impliedString(i,"auto"),t.ry=impliedString(s,"auto"))}function applyRoundedRect(t,e,i,s,n,B){const{rx1y1:l,rx1y2:a,rx2y1:c,rx2y2:F}=B;"function"!=typeof e&&(e=constant(e)),"function"!=typeof i&&(i=constant(i)),"function"!=typeof s&&(s=constant(s)),"function"!=typeof n&&(n=constant(n));const Q=Math.max(Math.abs(l+c),Math.abs(a+F)),r=Math.max(Math.abs(l+a),Math.abs(c+F));t.attr("d",t=>{const B=e(t),g=i(t),U=s(t),I=n(t),o=B>U,d=g>I,b=o?U:B,C=o?B:U,u=d?I:g,y=d?g:I,h=Math.min(1,(C-b)/Q,(y-u)/r),A=h*(o?d?F:c:d?a:l),R=h*(o?d?a:l:d?F:c),x=h*(o?d?l:a:d?c:F),G=h*(o?d?c:F:d?l:a);return`M${b},${u+biasY(A,G)}A${A},${A} 0 0 ${A<0?0:1} ${b+biasX(A,G)},${u}H${C-biasX(R,x)}A${R},${R} 0 0 ${R<0?0:1} ${C},${u+biasY(R,x)}V${y-biasY(x,R)}A${x},${x} 0 0 ${x<0?0:1} ${C-biasX(x,R)},${y}H${b+biasX(G,A)}A${G},${G} 0 0 ${G<0?0:1} ${b},${y-biasY(G,A)}Z`})}function biasX(t,e){return e<0?t:Math.abs(t)}function biasY(t,e){return e<0?Math.abs(t):t}function rectY(t,e={}){return hasXY(e)||(e={...e,x:indexOf,y2:identity$1,interval:1}),new Rect(t,maybeStackY(maybeTrivialIntervalX(maybeIdentityY(e))))}const defaults$3={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lineDefaults={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Frame extends Mark{constructor(t={}){const{anchor:e=null}=t;super(singleton,void 0,t,null==e?defaults$3:lineDefaults),this.anchor=maybeKeyword(e,"anchor",["top","right","bottom","left"]),rectInsets(this,t),e||rectRadii(this,t)}render(t,e,i,s,n){const{marginTop:B,marginRight:l,marginBottom:a,marginLeft:c,width:F,height:Q}=s,{anchor:r,insetTop:g,insetRight:U,insetBottom:I,insetLeft:o}=this,{rx:d,ry:b,rx1y1:C,rx1y2:u,rx2y1:y,rx2y2:h}=this,A=c+o,R=F-l-U,x=B+g,G=Q-a-I;return create(r?"svg:line":C||u||y||h?"svg:path":"svg:rect",n).datum(0).call(applyIndirectStyles,this,s,n).call(applyDirectStyles,this).call(applyChannelStyles,this,i).call(applyTransform,this,{}).call("left"===r?t=>t.attr("x1",A).attr("x2",A).attr("y1",x).attr("y2",G):"right"===r?t=>t.attr("x1",R).attr("x2",R).attr("y1",x).attr("y2",G):"top"===r?t=>t.attr("x1",A).attr("x2",R).attr("y1",x).attr("y2",x):"bottom"===r?t=>t.attr("x1",A).attr("x2",R).attr("y1",G).attr("y2",G):C||u||y||h?t=>t.call(applyRoundedRect,A,x,R,G,this):t=>t.attr("x",A).attr("y",x).attr("width",R-A).attr("height",G-x).attr("rx",d).attr("ry",b)).node()}}function frame(t){return new Frame(t)}const defaults$2={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ignoreChannels=new Set(["geometry","href","src","ariaLabel","scales"]);class Tip extends Mark{constructor(t,e={}){e.tip&&(e={...e,tip:!1}),void 0===e.title&&isIterable(t)&&isTextual(t)&&(e={...e,title:identity$1});const{x:i,y:s,x1:n,x2:B,y1:l,y2:a,anchor:c,preferredAnchor:F="bottom",monospace:Q,fontFamily:r=(Q?"ui-monospace, monospace":void 0),fontSize:g,fontStyle:U,fontVariant:I,fontWeight:o,lineHeight:d=1,lineWidth:b=20,frameAnchor:C,format:u,textAnchor:y="start",textOverflow:h,textPadding:A=8,title:R,pointerSize:x=12,pathFilter:G="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(t,{x:{value:null!=n&&null!=B?null:i,scale:"x",optional:!0},y:{value:null!=l&&null!=a?null:s,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:null==B},y1:{value:l,scale:"y",optional:null==a},x2:{value:B,scale:"x",optional:null==n},y2:{value:a,scale:"y",optional:null==l},title:{value:R,optional:!0}},e,defaults$2),this.anchor=maybeAnchor$1(c,"anchor"),this.preferredAnchor=maybeAnchor$1(F,"preferredAnchor"),this.frameAnchor=maybeFrameAnchor(C),this.textAnchor=impliedString(y,"middle"),this.textPadding=+A,this.pointerSize=+x,this.pathFilter=string(G),this.lineHeight=+d,this.lineWidth=+b,this.textOverflow=maybeTextOverflow(h),this.monospace=!!Q,this.fontFamily=string(r),this.fontSize=number(g),this.fontStyle=string(U),this.fontVariant=string(I),this.fontWeight=string(o);for(const t in defaults$2)t in this.channels&&(this[t]=defaults$2[t]);this.splitLines=splitter(this),this.clipLine=clipper(this),this.format="string"==typeof u||"function"==typeof u?{title:u}:{...u}}render(t,e,i,s,n){const B=this,{x:l,y:a,fx:c,fy:F}=e,{ownerSVGElement:Q,document:r}=n,{anchor:g,monospace:U,lineHeight:I,lineWidth:o}=this,{textPadding:d,pointerSize:b,pathFilter:C}=this,{marginTop:u,marginLeft:y}=s,{x1:h,y1:A,x2:R,y2:x,x:G=h??R,y:m=A??x}=i,S=c?c(t.fx)-y:0,L=F?F(t.fy)-u:0,[p,E]=applyFrameAnchor(this,s),V=anchorX$1(i,p),Z=anchorY$1(i,E),N=U?monospaceWidth:defaultWidth,f=N(ellipsis);let X,W;"title"in i?(X=getSourceChannels.call(this,{title:i.channels.title},e),W=formatTitle):(X=getSourceChannels.call(this,i.channels,e),W=formatChannels);const D=create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyIndirectTextStyles,this).call(applyTransform,this,{x:G&&l,y:m&&a}).call(s=>s.selectAll().data(t).enter().append("g").attr("transform",t=>`translate(${Math.round(V(t))},${Math.round(Z(t))})`).call(applyDirectStyles,this).call(t=>t.append("path").attr("filter",C)).call(s=>s.append("text").each(function(s){const n=select(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const l=W.call(B,s,t,X,e,i);if("string"==typeof l)for(const t of B.splitLines(l))H(n,{value:B.clipLine(t)});else{const t=new Set;for(const e of l){const{label:i=""}=e;i&&t.has(i)||(t.add(i),H(n,e))}}})));function H(t,{label:e,value:i,color:s,opacity:n}){e??="",i??="";const B=null!=s||null!=n;let l,a=100*o;const[c]=cut(e,a,N,f);if(c>=0)e=e.slice(0,c).trimEnd()+ellipsis,l=i.trim(),i="";else{(e||!i&&!B)&&(i=" "+i);const[t]=cut(i,a-N(e),N,f);t>=0&&(l=i.trim(),i=i.slice(0,t).trimEnd()+ellipsis)}const F=t.append("tspan").attr("x",0).attr("dy",`${I}em`).text("â");e&&F.append("tspan").attr("font-weight","bold").text(e),i&&F.append(()=>r.createTextNode(i)),B&&F.append("tspan").text(" â ").attr("fill",s).attr("fill-opacity",n).style("user-select","none"),l&&F.append("title").text(l)}function w(){const{width:t,height:e}=s.facet??s;D.selectChildren().each(function(i){let{x:s,width:n,height:l}=this.getBBox();n=Math.round(n),l=Math.round(l);let a=g;if(void 0===a){const s=V(i)+S,c=Z(i)+L,F=s+n+b+2*d<t,Q=s-n-b-2*d>0,r=c+l+b+2*d<e,g=c-l-b-2*d>0;a=F&&Q?r&&g?B.preferredAnchor:g?"bottom":"top":r&&g?F?"left":"right":(F||Q)&&(r||g)?`${g?"bottom":"top"}-${F?"left":"right"}`:B.preferredAnchor}const c=this.firstChild,F=this.lastChild;if(c.setAttribute("d",getPath(a,b,d,n,l)),s)for(const t of F.childNodes)t.setAttribute("x",-s);F.setAttribute("y",+getLineOffset(a,F.childNodes.length,I).toFixed(6)+"em"),F.setAttribute("transform",`translate(${getTextTranslate(a,b,d,n,l)})`)}),D.attr("visibility",null)}return t.length&&(D.attr("visibility","hidden"),Q.isConnected?Promise.resolve().then(w):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(w)),D.node()}}function tip(t,{x:e,y:i,...s}={}){return void 0===s.frameAnchor&&([e,i]=maybeTuple(e,i)),new Tip(t,{...s,x:e,y:i})}function getLineOffset(t,e,i){return/^top(?:-|$)/.test(t)?.94-i:-.29-e*i}function getTextTranslate(t,e,i,s,n){switch(t){case"middle":return[-s/2,n/2];case"top-left":return[i,e+i];case"top":return[-s/2,e/2+i];case"top-right":return[-s-i,e+i];case"right":return[-e/2-s-i,n/2];case"bottom-left":return[i,-e-i];case"bottom":return[-s/2,-e/2-i];case"bottom-right":return[-s-i,-e-i];case"left":return[i+e/2,n/2]}}function getPath(t,e,i,s,n){const B=s+2*i,l=n+2*i;switch(t){case"middle":return`M${-B/2},${-l/2}h${B}v${l}h${-B}z`;case"top-left":return`M0,0l${e},${e}h${B-e}v${l}h${-B}z`;case"top":return`M0,0l${e/2},${e/2}h${(B-e)/2}v${l}h${-B}v${-l}h${(B-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-B}v${l}h${B}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-l/2}h${-B}v${l}h${B}v${e/2-l/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${B-e}v${-l}h${-B}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(B-e)/2}v${-l}h${-B}v${l}h${(B-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-B}v${-l}h${B}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-l/2}h${B}v${l}h${-B}v${e/2-l/2}z`}}function getSourceChannels(t,e){const i={};let s=this.format;s=maybeExpandPairedFormat(s,t,"x"),s=maybeExpandPairedFormat(s,t,"y"),this.format=s;for(const e in s){const n=s[e];if(null!==n&&!1!==n)if("fx"===e||"fy"===e)i[e]=!0;else{const s=getSource(t,e);s&&(i[e]=s)}}for(const e in t){if(e in i||e in s||ignoreChannels.has(e))continue;if(("x"===e||"y"===e)&&t.geometry)continue;const n=getSource(t,e);if(n){if(null==n.scale&&"color"===n.defaultScale)continue;i[e]=n}}this.facet&&(e.fx&&!("fx"in s)&&(i.fx=!0),e.fy&&!("fy"in s)&&(i.fy=!0));for(const t in i){const s=this.format[t];if("string"==typeof s){const n=i[t]?.value??e[t]?.domain()??[];this.format[t]=(isTemporal(n)?utcFormat:format$1)(s)}else if(void 0===s||!0===s){const i=e[t];this.format[t]=i?.bandwidth?inferTickFormat(i,i.domain()):formatDefault}}return i}function maybeExpandPairedFormat(t,e,i){if(!(i in t))return t;const s=`${i}1`,n=`${i}2`;if(!(!(s in t)&&s in e||!(n in t)&&n in e))return t;const B=Object.entries(t),l=t[i];return B.splice(B.findIndex(([t])=>t===i)+1,0,[s,l],[n,l]),Object.fromEntries(B)}function formatTitle(t,e,{title:i}){return this.format.title(i.value[t],t)}function*formatChannels(t,e,i,s,n){for(const B in i){if("fx"===B||"fy"===B){yield{label:formatLabel(s,i,B),value:this.format[B](e[B],t)};continue}if("x1"===B&&"x2"in i)continue;if("y1"===B&&"y2"in i)continue;const l=i[B];if("x2"===B&&"x1"in i)yield{label:formatPairLabel(s,i,"x"),value:formatPair(this.format.x2,i.x1,l,t)};else if("y2"===B&&"y1"in i)yield{label:formatPairLabel(s,i,"y"),value:formatPair(this.format.y2,i.y1,l,t)};else{const e=l.value[t],a=l.scale;if(!defined(e)&&null==a)continue;yield{label:formatLabel(s,i,B),value:this.format[B](e,t),color:"color"===a?n[B][t]:null,opacity:"opacity"===a?n[B][t]:null}}}}function formatPair(t,e,i,s){return i.hint?.length?`${t(i.value[s]-e.value[s],s)}`:`${t(e.value[s],s)}â${t(i.value[s],s)}`}function formatPairLabel(t,e,i){const s=formatLabel(t,e,`${i}1`,i),n=formatLabel(t,e,`${i}2`,i);return s===n?s:`${s}â${n}`}function formatLabel(t,e,i,s=i){const n=e[i],B=t[n?.scale??i];return String(B?.label??n?.label??s)}function plot(t={}){const{facet:e,style:i,title:s,subtitle:n,caption:B,ariaLabel:l,ariaDescription:a}=t,c=maybeClassName(t.className),F=void 0===t.marks?[]:flatMarks(t.marks);F.push(...inferTips(F));const Q=maybeTopFacet(e,t),r=new Map;for(const e of F){const i=maybeMarkFacet(e,Q,t);i&&r.set(e,i)}const g=new Map;Q&&addScaleChannels(g,[Q],t),addScaleChannels(g,r,t);const U=flatMarks(inferAxes(F,g,t));for(const e of U){const i=maybeMarkFacet(e,Q,t);i&&r.set(e,i)}F.unshift(...U);let I=createFacets(g,t);if(void 0!==I){const t=Q?facetFilter(I,Q):void 0;for(const e of F){if(null===e.facet||"super"===e.facet)continue;const i=r.get(e);void 0!==i&&(i.facetsIndex=null!=e.fx||null!=e.fy?facetFilter(I,i):t)}const e=new Set;for(const{facetsIndex:t}of r.values())t?.forEach((t,i)=>{t?.length>0&&e.add(i)});I.forEach(0<e.size&&e.size<I.length?(t,i)=>t.empty=!e.has(i):t=>t.empty=!1);for(const t of F)if("exclude"===t.facet){const e=r.get(t);void 0!==e&&(e.facetsIndex=facetExclude(e.facetsIndex))}}for(const e of registry.keys())isScaleOptions(t[e])&&"fx"!==e&&"fy"!==e&&g.set(e,[]);const o=new Map;for(const e of F){if(o.has(e))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:i,channels:s}=r.get(e)??{},{data:n,facets:B,channels:l}=e.initialize(i,s,t);applyScaleTransforms(l,t),o.set(e,{data:n,facets:B,channels:l})}const d=createScales(addScaleChannels(g,o,t),t),b=createDimensions(d,F,t);autoScaleRange(d,b);const C=createScaleFunctions(d),{fx:u,fy:y}=C,h=u||y?innerDimensions(d,b):b,A=u||y?actualDimensions(C,b):b,R=createContext(t),x=R.document,G=creator("svg").call(x.documentElement);let m=G;R.ownerSVGElement=G,R.className=c,R.projection=createProjection(t,h),R.path=function(){return geoPath(this.projection??xyProjection(C))},R.filterFacets=(t,e)=>facetFilter(I,{channels:e,groups:facetGroups(t,e)}),R.getMarkState=t=>{const e=o.get(t),i=r.get(t);return{...e,channels:{...e.channels,...i?.channels}}},R.dispatchValue=t=>{m.value!==t&&(m.value=t,m.dispatchEvent(new R.document.defaultView.Event("input",{bubbles:!0})))};const S=new Set;for(const[e,i]of o)if(null!=e.initializer){const s="super"===e.facet?A:h,n=e.initializer(i.data,i.facets,i.channels,C,s,R);if(void 0!==n.data&&(i.data=n.data),void 0!==n.facets&&(i.facets=n.facets),void 0!==n.channels){const{fx:s,fy:B,...l}=n.channels;inferChannelScales(l),Object.assign(i.channels,l);for(const e of Object.values(l)){const{scale:i}=e;null==i||isPosition(registry.get(i))||(applyScaleTransform(e,t),S.add(i))}null==s&&null==B||r.set(e,!0)}}if(S.size){const e=new Map;addScaleChannels(e,o,t,t=>S.has(t)),addScaleChannels(g,o,t,t=>S.has(t));const i=inheritScaleLabels(createScales(e,t),d),{scales:s,...n}=createScaleFunctions(i);Object.assign(d,i),Object.assign(C,n),Object.assign(C.scales,s)}let L,p;void 0!==I&&(L={x:u?.domain(),y:y?.domain()},I=recreateFacets(I,L),p=facetTranslator(u,y,b));for(const[t,e]of o)e.values=t.scale(e.channels,C,R);const{width:E,height:V}=b;select(G).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",E).attr("height",V).attr("viewBox",`0 0 ${E} ${V}`).attr("aria-label",l).attr("aria-description",a).call(t=>t.append("style").text(`:where(.${c}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${c} text),\n:where(.${c} tspan) {\n  white-space: pre;\n}`)).call(applyInlineStyles,i);for(const t of F){const{channels:e,values:i,facets:s}=o.get(t);if(void 0===I||"super"===t.facet){let n=null;if(s&&(n=s[0],n=t.filter(n,e,i),0===n.length))continue;const B=t.render(n,C,i,A,R);if(null==B)continue;G.appendChild(B)}else{let n;for(const B of I){if(!(t.facetAnchor?.(I,L,B)??!B.empty))continue;let l=null;if(s){const n=r.has(t);if(l=s[n?B.i:0],l=t.filter(l,e,i),0===l.length)continue;n||l!==s[0]||(l=subarray(l)),l.fx=B.x,l.fy=B.y,l.fi=B.i}const a=t.render(l,C,i,h,R);if(null!=a){(n??=select(G).append("g")).append(()=>a).datum(B);for(const t of["aria-label","aria-description","aria-hidden","transform"])a.hasAttribute(t)&&(n.attr(t,a.getAttribute(t)),a.removeAttribute(t))}}n?.selectChildren().each(p)}}const Z=createLegends(d,R,t),{figure:N=null!=s||null!=n||null!=B||Z.length>0}=t;N&&(m=x.createElement("figure"),m.className=`${c}-figure`,m.style.maxWidth="initial",null!=s&&m.append(createTitleElement(x,s,"h2")),null!=n&&m.append(createTitleElement(x,n,"h3")),m.append(...Z,G),null!=B&&m.append(createFigcaption(x,B)),"value"in G&&(m.value=G.value,delete G.value)),m.scale=exposeScales(C.scales),m.legend=exposeLegends(d,R,t);const f=consumeWarnings();return f>0&&select(G).append("text").attr("x",E).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("â ï¸").append("title").text(`${f.toLocaleString("en-US")} warning${1===f?"":"s"}. Please check the console.`),m}function createTitleElement(t,e,i){if(e.ownerDocument)return e;const s=t.createElement(i);return s.append(e),s}function createFigcaption(t,e){const i=t.createElement("figcaption");return i.append(e),i}function flatMarks(t){return t.flat(1/0).filter(t=>null!=t).map(markify)}function markify(t){return"function"==typeof t.render?t:new Render(t)}class Render extends Mark{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function applyScaleTransforms(t,e){for(const i in t)applyScaleTransform(t[i],e);return t}function applyScaleTransform(t,e){const{scale:i,transform:s=!0}=t;if(null==i||!s)return;const{type:n,percent:B,interval:l,transform:a=(B?t=>null==t?NaN:100*t:maybeIntervalTransform(l,n))}=e[i]??{};null!=a&&(t.value=map(t.value,a),t.transform=!1)}function inferChannelScales(t){for(const e in t)inferChannelScale(e,t[e])}function addScaleChannels(t,e,i,s=yes){for(const{channels:n}of e.values())for(const e in n){const B=n[e],{scale:l}=B;if(null!=l&&s(l))if("projection"===l){if(!hasProjection(i)){const e=void 0===i.x?.domain,s=void 0===i.y?.domain;if(e||s){const[i,n]=getGeometryChannels(B);e&&addScaleChannel(t,"x",i),s&&addScaleChannel(t,"y",n)}}}else addScaleChannel(t,l,B)}return t}function addScaleChannel(t,e,i){const s=t.get(e);void 0!==s?s.push(i):t.set(e,[i])}function maybeTopFacet(t,e){if(null==t)return;const{x:i,y:s}=t;if(null==i&&null==s)return;const n=dataify(t.data);if(null==n)throw new Error("missing facet data");const B={};null!=i&&(B.fx=createChannel(n,{value:i,scale:"fx"})),null!=s&&(B.fy=createChannel(n,{value:s,scale:"fy"})),applyScaleTransforms(B,e);return{channels:B,groups:facetGroups(n,B),data:t.data}}function maybeMarkFacet(t,e,i){if(null===t.facet||"super"===t.facet)return;const{fx:s,fy:n}=t;if(null!=s||null!=n){const e=dataify(t.data??s??n);if(void 0===e)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===e)return;const B={};return null!=s&&(B.fx=createChannel(e,{value:s,scale:"fx"})),null!=n&&(B.fy=createChannel(e,{value:n,scale:"fy"})),applyScaleTransforms(B,i),{channels:B,groups:facetGroups(e,B)}}if(void 0===e)return;const{channels:B,groups:l,data:a}=e;if("auto"!==t.facet||t.data===a)return{channels:B,groups:l};a.length>0&&(l.size>1||1===l.size&&B.fx&&B.fy&&[...l][0][1].size>1)&&lengthof(dataify(t.data))===lengthof(a)&&warn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnât faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function derive(t,e={}){return initializer({...e,x:null,y:null},(e,i,s,n,B,l)=>l.getMarkState(t))}function inferTips(t){const e=[];for(const i of t){let t=i.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:s,preferredAnchor:n}=t;s=/^x$/i.test(s)?pointerX:/^y$/i.test(s)?pointerY:pointer,t=s(derive(i,t)),t.title=null,void 0===n&&(t.preferredAnchor=s===pointerY?"left":"bottom");const B=tip(i.data,t);B.facet=i.facet,B.facetAnchor=i.facetAnchor,e.push(B)}}return e}function inferAxes(t,e,i){let{projection:s,x:n={},y:B={},fx:l={},fy:a={},axis:c,grid:F,facet:Q={},facet:{axis:r=c,grid:g}=Q,x:{axis:U=c,grid:I=(null===U?null:F)}=n,y:{axis:o=c,grid:d=(null===o?null:F)}=B,fx:{axis:b=r,grid:C=(null===b?null:g)}=l,fy:{axis:u=r,grid:y=(null===u?null:g)}=a}=i;(s||!isScaleOptions(n)&&!hasPositionChannel("x",t))&&(U=I=null),(s||!isScaleOptions(B)&&!hasPositionChannel("y",t))&&(o=d=null),e.has("fx")||(b=C=null),e.has("fy")||(u=y=null),void 0===U&&(U=!hasAxis(t,"x")),void 0===o&&(o=!hasAxis(t,"y")),void 0===b&&(b=!hasAxis(t,"fx")),void 0===u&&(u=!hasAxis(t,"fy")),!0===U&&(U="bottom"),!0===o&&(o="left"),!0===b&&(b="top"===U||null===U?"bottom":"top"),!0===u&&(u="right"===o||null===o?"left":"right");const h=[];return maybeGrid(h,y,gridFy,a),maybeAxis(h,u,axisFy,"right","left",Q,a),maybeGrid(h,C,gridFx,l),maybeAxis(h,b,axisFx,"top","bottom",Q,l),maybeGrid(h,d,gridY,B),maybeAxis(h,o,axisY,"left","right",i,B),maybeGrid(h,I,gridX,n),maybeAxis(h,U,axisX,"bottom","top",i,n),h}function maybeAxis(t,e,i,s,n,B,l){if(!e)return;const a=isBoth(e);l=axisOptions(a?s:e,B,l);const{line:c}=l;i!==axisY&&i!==axisX||!c||isNone(c)||t.push(frame(lineOptions(l))),t.push(i(l)),a&&t.push(i({...l,anchor:n,label:null}))}function maybeGrid(t,e,i,s){e&&!isNone(e)&&t.push(i(gridOptions(e,s)))}function isBoth(t){return/^\s*both\s*$/i.test(t)}function axisOptions(t,e,{line:i=e.line,ticks:s,tickSize:n,tickSpacing:B,tickPadding:l,tickFormat:a,tickRotate:c,fontVariant:F,ariaLabel:Q,ariaDescription:r,label:g=e.label,labelAnchor:U,labelArrow:I=e.labelArrow,labelOffset:o}){return{anchor:t,line:i,ticks:s,tickSize:n,tickSpacing:B,tickPadding:l,tickFormat:a,tickRotate:c,fontVariant:F,ariaLabel:Q,ariaDescription:r,label:g,labelAnchor:U,labelArrow:I,labelOffset:o}}function lineOptions(t){const{anchor:e,line:i}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:!0===i?void 0:i}}function gridOptions(t,{stroke:e=(isColor(t)?t:void 0),ticks:i=(isGridTicks(t)?t:void 0),tickSpacing:s,ariaLabel:n,ariaDescription:B}){return{stroke:e,ticks:i,tickSpacing:s,ariaLabel:n,ariaDescription:B}}function isGridTicks(t){switch(typeof t){case"number":return!0;case"string":return!isColor(t)}return isIterable(t)||"function"==typeof t?.range}function hasAxis(t,e){const i=`${e}-axis `;return t.some(t=>t.ariaLabel?.startsWith(i))}function hasPositionChannel(t,e){for(const i of e)for(const e in i.channels){const{scale:s}=i.channels[e];if(s===t||"projection"===s)return!0}return!1}function inheritScaleLabels(t,e){for(const i in t){const s=t[i],n=e[i];void 0===s.label&&n&&(s.label=n.label)}return t}function actualDimensions({fx:t,fy:e},i){const{marginTop:s,marginRight:n,marginBottom:B,marginLeft:l,width:a,height:c}=outerDimensions(i),F=t&&outerRange(t),Q=e&&outerRange(e);return{marginTop:e?Q[0]:s,marginRight:t?a-F[1]:n,marginBottom:e?c-Q[1]:B,marginLeft:t?F[0]:l,inset:{marginTop:i.marginTop,marginRight:i.marginRight,marginBottom:i.marginBottom,marginLeft:i.marginLeft},width:a,height:c}}function outerRange(t){const e=t.domain();if(0===e.length)return[0,t.bandwidth()];let i=t(e[0]),s=t(e[e.length-1]);return s<i&&([i,s]=[s,i]),[i,s+t.bandwidth()]}const curves=new Map([["basis",curveBasis],["basis-closed",curveBasisClosed],["basis-open",curveBasisOpen],["bundle",curveBundle],["bump-x",bumpX],["bump-y",bumpY],["cardinal",curveCardinal],["cardinal-closed",curveCardinalClosed],["cardinal-open",curveCardinalOpen],["catmull-rom",curveCatmullRom],["catmull-rom-closed",curveCatmullRomClosed],["catmull-rom-open",curveCatmullRomOpen],["linear",curveLinear],["linear-closed",curveLinearClosed],["monotone-x",monotoneX],["monotone-y",monotoneY],["natural",curveNatural],["step",curveStep],["step-after",stepAfter],["step-before",stepBefore]]);function maybeCurve(t=curveLinear,e){if("function"==typeof t)return t;const i=curves.get(`${t}`.toLowerCase());if(!i)throw new Error(`unknown curve: ${t}`);if(void 0!==e){if("beta"in i)return i.beta(e);if("tension"in i)return i.tension(e);if("alpha"in i)return i.alpha(e)}return i}function maybeCurveAuto(t=curveAuto,e){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?curveAuto:maybeCurve(t,e)}function curveAuto(t){return curveLinear(t)}function binX(t={y:"count"},e={}){[t,e]=mergeOptions(t,e);const{x:i,y:s}=e;return binn(maybeBinValue(i,e,identity$1),null,null,s,t,maybeInsetX(e))}function maybeDenseInterval(t,e,i={}){if(null==i?.interval)return i;const{reduce:s=reduceFirst}=i,n={filter:null};return null!=i[e]&&(n[e]=s),null!=i[`${e}1`]&&(n[`${e}1`]=s),null!=i[`${e}2`]&&(n[`${e}2`]=s),t(n,i)}function maybeDenseIntervalX(t={}){return maybeDenseInterval(binX,"y",withTip(t,"x"))}function binn(t,e,i,s,{data:n=reduceIdentity,filter:B=reduceCount,sort:l,reverse:a,...c}={},F={}){t=maybeBin(t),e=maybeBin(e),c=maybeBinOutputs(c,F),n=maybeBinReduce(n,identity$1),l=null==l?void 0:maybeBinOutput("sort",l,F),B=null==B?void 0:maybeBinEvaluator("filter",B,F),null!=s&&hasOutput(c,"y","y1","y2")&&(s=null);const[Q,r]=maybeColumn(t),[g,U]=maybeColumn(t),[I,o]=maybeColumn(e),[d,b]=maybeColumn(e),[C,u]=null!=s?[s,"y"]:[],[y,h]=maybeColumn(C),{x:A,y:R,z:x,fill:G,stroke:m,x1:S,x2:L,y1:p,y2:E,domain:V,cumulative:Z,thresholds:N,interval:f,...X}=F,[W,D]=maybeColumn(x),[H]=maybeColorChannel(G),[w]=maybeColorChannel(m),[v,Y]=maybeColumn(H),[T,J]=maybeColumn(w);return{..."z"in F&&{z:W||x},..."fill"in F&&{fill:v||G},..."stroke"in F&&{stroke:T||m},...basic(X,(i,s,F)=>{const Q=maybeApplyInterval(valueof(i,C),F?.[u]),g=valueof(i,x),I=valueof(i,H),d=valueof(i,w),y=maybeSubgroup(c,{z:g,fill:I,stroke:d}),A=[],R=[],G=Q&&h([]),m=g&&D([]),S=I&&Y([]),L=d&&J([]),p=t&&r([]),E=t&&U([]),V=e&&o([]),Z=e&&b([]),N=bing(t,e,i);let f=0;for(const t of c)t.initialize(i);l&&l.initialize(i),B&&B.initialize(i);for(const t of s){const e=[];for(const e of c)e.scope("facet",t);l&&l.scope("facet",t),B&&B.scope("facet",t);for(const[s,a]of maybeGroup(t,y))for(const[t,F]of maybeGroup(a,Q))for(const[a,r]of N(F))if(y&&(r.z=s),!B||B.reduce(a,r)){e.push(f++),R.push(n.reduceIndex(a,i,r)),Q&&G.push(t),g&&m.push(y===g?s:g[(a.length>0?a:F)[0]]),I&&S.push(y===I?s:I[(a.length>0?a:F)[0]]),d&&L.push(y===d?s:d[(a.length>0?a:F)[0]]),p&&(p.push(r.x1),E.push(r.x2)),V&&(V.push(r.y1),Z.push(r.y2));for(const t of c)t.reduce(a,r);l&&l.reduce(a,r)}A.push(e)}return maybeSort(A,l,a),{data:R,facets:A}}),...!hasOutput(c,"x")&&(Q?{x1:Q,x2:g,x:mid(Q,g)}:{x:A,x1:S,x2:L}),...!hasOutput(c,"y")&&(I?{y1:I,y2:d,y:mid(I,d)}:{y:R,y1:p,y2:E}),...y&&{[u]:y},...Object.fromEntries(c.map(({name:t,output:e})=>[t,e]))}}function mergeOptions({cumulative:t,domain:e,thresholds:i,interval:s,...n},B){return[n,{cumulative:t,domain:e,thresholds:i,interval:s,...B}]}function maybeBinValue(t,{cumulative:e,domain:i,thresholds:s,interval:n},B){return void 0===(t={...maybeValue(t)}).domain&&(t.domain=i),void 0===t.cumulative&&(t.cumulative=e),void 0===t.thresholds&&(t.thresholds=s),void 0===t.interval&&(t.interval=n),void 0===t.value&&(t.value=B),t.thresholds=maybeThresholds(t.thresholds,t.interval),t}function maybeBin(t){if(null==t)return;const{value:e,cumulative:i,domain:s=extent$1,thresholds:n}=t,B=t=>{let B,l=valueof(t,e);if(isTemporal(l)||isTimeThresholds(n)){l=map(l,coerceDate,Float64Array);let[t,e]="function"==typeof s?s(l):s,i="function"!=typeof n||isInterval(n)?n:n(l,t,e);"number"==typeof i&&(i=utcTickInterval(t,e,i)),isInterval(i)&&(s===extent$1&&(t=i.floor(t),e=i.offset(i.floor(e))),i=i.range(t,i.offset(e))),B=i}else{l=coerceNumbers(l);let[t,e]="function"==typeof s?s(l):s,i="function"!=typeof n||isInterval(n)?n:n(l,t,e);if("number"==typeof i)if(s===extent$1){let s=tickIncrement(t,e,i);if(isFinite(s))if(s>0){let n=Math.round(t/s),B=Math.round(e/s);n*s<=t||--n,B*s>e||++B;let l=B-n+1;i=new Float64Array(l);for(let t=0;t<l;++t)i[t]=(n+t)*s}else if(s<0){s=-s;let n=Math.round(t*s),B=Math.round(e*s);n/s<=t||--n,B/s>e||++B;let l=B-n+1;i=new Float64Array(l);for(let t=0;t<l;++t)i[t]=(n+t)/s}else i=[t];else i=[t]}else i=ticks(t,e,i);else isInterval(i)&&(s===extent$1&&(t=i.floor(t),e=i.offset(i.floor(e))),i=i.range(t,i.offset(e)));B=i}const a=[];if(1===B.length)a.push([B[0],B[0]]);else for(let t=1;t<B.length;++t)a.push([B[t-1],B[t]]);return a.bin=(i<0?bin1cn:i>0?bin1cp:bin1)(a,B,l),a};return B.label=labelof(e),B}function maybeThresholds(t,e,i=thresholdAuto){if(void 0===t)return void 0===e?i:maybeRangeInterval(e);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return thresholdFreedmanDiaconis;case"scott":return thresholdScott;case"sturges":return thresholdSturges;case"auto":return thresholdAuto}return utcInterval(t)}return t}function maybeBinOutputs(t,e){return maybeOutputs(t,e,maybeBinOutput)}function maybeBinOutput(t,e,i){return maybeOutput(t,e,i,maybeBinEvaluator)}function maybeBinEvaluator(t,e,i){return maybeEvaluator(t,e,i,maybeBinReduce)}function maybeBinReduce(t,e){return maybeReduce(t,e,maybeBinReduceFallback)}function maybeBinReduceFallback(t){switch(`${t}`.toLowerCase()){case"x":return reduceX;case"x1":return reduceX1;case"x2":return reduceX2;case"y":return reduceY;case"y1":return reduceY1;case"y2":return reduceY2;case"z":return reduceZ}throw new Error(`invalid bin reduce: ${t}`)}function thresholdAuto(t,e,i){return Math.min(200,thresholdScott(t,e,i))}function isTimeThresholds(t){return isTimeInterval(t)||isIterable(t)&&isTemporal(t)}function bing(t,e,i){const s=t?.(i),n=e?.(i);return s&&n?function*(t){const e=s.bin(t);for(const[t,[B,l]]of s.entries()){const s=n.bin(e[t]);for(const[t,[e,a]]of n.entries())yield[s[t],{data:i,x1:B,y1:e,x2:l,y2:a}]}}:s?function*(t){const e=s.bin(t);for(const[t,[n,B]]of s.entries())yield[e[t],{data:i,x1:n,x2:B}]}:function*(t){const e=n.bin(t);for(const[t,[s,B]]of n.entries())yield[e[t],{data:i,y1:s,y2:B}]}}function bin1(t,e,i){return e=coerceNumbers(e),s=>{const n=t.map(()=>[]);for(const t of s)n[bisectRight(e,i[t])-1]?.push(t);return n}}function bin1cp(t,e,i){const s=bin1(t,e,i);return t=>{const e=s(t);for(let t=1,i=e.length;t<i;++t){const i=e[t-1],s=e[t];for(const t of i)s.push(t)}return e}}function bin1cn(t,e,i){const s=bin1(t,e,i);return t=>{const e=s(t);for(let t=e.length-2;t>=0;--t){const i=e[t+1],s=e[t];for(const t of i)s.push(t)}return e}}function mid1(t,e){const i=(+t+ +e)/2;return t instanceof Date?new Date(i):i}const reduceX={reduceIndex:(t,e,{x1:i,x2:s})=>mid1(i,s)},reduceY={reduceIndex:(t,e,{y1:i,y2:s})=>mid1(i,s)},reduceX1={reduceIndex:(t,e,{x1:i})=>i},reduceX2={reduceIndex:(t,e,{x2:i})=>i},reduceY1={reduceIndex:(t,e,{y1:i})=>i},reduceY2={reduceIndex:(t,e,{y2:i})=>i},defaults$1={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function withDefaultSort(t){return void 0===t.sort&&void 0===t.reverse?sort({channel:"-r"},t):t}class Dot extends Mark{constructor(t,e={}){const{x:i,y:s,r:n,rotate:B,symbol:l=symbolCircle,frameAnchor:a}=e,[c,F]=maybeNumberChannel(B,0),[Q,r]=maybeSymbolChannel(l),[g,U]=maybeNumberChannel(n,null==Q?3:4.5);super(t,{x:{value:i,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},r:{value:g,scale:"r",filter:positive,optional:!0},rotate:{value:c,optional:!0},symbol:{value:Q,scale:"auto",optional:!0}},withDefaultSort(e),defaults$1),this.r=U,this.rotate=F,this.symbol=r,this.frameAnchor=maybeFrameAnchor(a);const{channels:I}=this,{symbol:o}=I;if(o){const{fill:t,stroke:e}=I;o.hint={fill:t?t.value===o.value?"color":"currentColor":this.fill??"currentColor",stroke:e?e.value===o.value?"color":"currentColor":this.stroke??"none"}}}render(t,e,i,s,n){const{x:B,y:l}=e,{x:a,y:c,r:F,rotate:Q,symbol:r}=i,{r:g,rotate:U,symbol:I}=this,[o,d]=applyFrameAnchor(this,s),b=I===symbolCircle,C=F?void 0:g*g*Math.PI;return negative(g)&&(t=[]),create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyTransform,this,{x:a&&B,y:c&&l}).call(e=>e.selectAll().data(t).enter().append(b?"circle":"path").call(applyDirectStyles,this).call(b?t=>{t.attr("cx",a?t=>a[t]:o).attr("cy",c?t=>c[t]:d).attr("r",F?t=>F[t]:g)}:t=>{t.attr("transform",template`translate(${a?t=>a[t]:o},${c?t=>c[t]:d})${Q?t=>` rotate(${Q[t]})`:U?` rotate(${U})`:""}`).attr("d",F&&r?t=>{const e=pathRound();return r[t].draw(e,F[t]*F[t]*Math.PI),e}:F?t=>{const e=pathRound();return I.draw(e,F[t]*F[t]*Math.PI),e}:r?t=>{const e=pathRound();return r[t].draw(e,C),e}:(()=>{const t=pathRound();return I.draw(t,C),t})())}).call(applyChannelStyles,this,i)).node()}}function dot(t,{x:e,y:i,...s}={}){return void 0===s.frameAnchor&&([e,i]=maybeTuple(e,i)),new Dot(t,{...s,x:e,y:i})}const defaults={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Line extends Mark{constructor(t,e={}){const{x:i,y:s,z:n,curve:B,tension:l}=e;super(t,{x:{value:i,scale:"x"},y:{value:s,scale:"y"},z:{value:maybeZ(e),optional:!0}},e,defaults),this.z=n,this.curve=maybeCurveAuto(B,l),markers(this,e)}filter(t){return t}project(t,e,i){this.curve!==curveAuto&&super.project(t,e,i)}render(t,e,i,s,n){const{x:B,y:l}=i,{curve:a}=this;return create("svg:g",n).call(applyIndirectStyles,this,s,n).call(applyTransform,this,e).call(e=>e.selectAll().data(groupIndex(t,[B,l],this,i)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,i).call(applyGroupedMarkers,this,i,n).attr("d",a===curveAuto&&n.projection?sphereLine(n.path(),B,l):shapeLine().curve(a).defined(t=>t>=0).x(t=>B[t]).y(t=>l[t]))).node()}}function sphereLine(t,e,i){return e=coerceNumbers(e),i=coerceNumbers(i),s=>{let n=[];const B=[n];for(const t of s)-1===t?(n=[],B.push(n)):n.push([e[t],i[t]]);return t({type:"MultiLineString",coordinates:B})}}function lineY(t,{x:e=indexOf,y:i=identity$1,...s}={}){return new Line(t,maybeDenseIntervalX({...s,x:e,y:i}))}function decodeBase64(t,e){return atob(t)}function createURL(t,e,i){var s=e,n=decodeBase64(t),B=n.indexOf("\n",10)+1,l=n.substring(B)+"//# sourceMappingURL="+s,a=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(a)}function createBase64WorkerFactory(t,e,i){var s;return function(i){return s=s||createURL(t,e),new Worker(s,i)}}Mark.prototype.plot=function({marks:t=[],...e}={}){return plot({...e,marks:[...t,this]})};var WorkerFactory=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGRpc3RyaWJ1dGlvbnMkMSA9IHtleHBvcnRzOiB7fX07CgogIHZhciBkaXN0cmlidXRpb25zID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CiAgKGZ1bmN0aW9uIChtb2R1bGUpIHsKCiAgICAvLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvbgogICAgLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoCiAgICAvLyBhcyBpbiAibG9nIGRlbnNpdHkiKSwgc28gdG8gZ2V0IGEgbm9ybWFsIGxvZyBkZW5zaXR5IHlvdSB3b3VsZCB3cml0ZQogICAgLy8gbGQubm9ybSguLi4pLgogICAgLy8gTW9zdCBvZiB0aGUgY29kZSBiZWxvdyBpcyBkaXJlY3RseSB0YWtlbiBmcm9tIHRoZSBncmVhdCBKc3RhdCBwcm9qZWN0CiAgICAvLyAoaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0Lykgd2hpY2ggaW5jbHVkZXMgUERGIGZvciBtYW55IGNvbW1vbiBwcm9iYWJpbGl0eQogICAgLy8gZGlzdHJpYnV0aW9ucy4gV2hhdCBJIGhhdmUgZG9uZSBpcyBvbmx5IHRvIGNvbnZlcnQgdGhlc2UgdG8gbG9nIFBERnMuCgogICAgLyoKICAgIE9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0CiAgICBNb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCAKICAgIAlQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgCVRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAgICBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICAgIAlUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAgICBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiAgICBUSEUgU09GVFdBUkUuCiAgICAJKi8KCiAgICAvLyBUaGlzIGJvaWxlciBwbGF0ZSBjb2RlIGhlcmUgaXMgdGFrZW4gZnJvbToKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvdGVtcGxhdGVzL3JldHVybkV4cG9ydHMuanMKICAgIC8vIEl0IHNob3VsZCBtYWtlIHNodXJlIHRoYXQgbW9kdWxlIGNhbiBiZSBpbXBvcnRlZCBib3RoIGluIHRoZSBicm93c2VyLAogICAgLy8gTm9kZSwgYW5kIGJ5IHVzaW5nIHRoZSBBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24gc3RhbmRhcmQuCiAgICAvLyBJZiB0aGlzIG1vZHVsZSBpcyBsb2FkZWQgaW4gdGhlIGJyb3dzZXIgaXQgd2lsbCBjcmVhdGVkIHRoZSBnbG9iYWwKICAgIC8vIG9iamVjdCBsZCAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5sZCA9IGZhY3RvcnkoKTsKICAgICAgfQogICAgfSkoZGlzdHJpYnV0aW9ucywgZnVuY3Rpb24gKCkgewogICAgICAvLyBPYmplY3QgdG8gaG9sZCB0aGUgZnVuY3Rpb25zIHRvIGJlIGV4cG9ydGVkLgogICAgICB2YXIgbGQgPSB7fTsKCiAgICAgIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICB2YXIgbGdhbW1hID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICB2YXIgaiA9IDA7CiAgICAgICAgdmFyIGNvZiA9IFs3Ni4xODAwOTE3Mjk0NzE0NiwgLTg2LjUwNTMyMDMyOTQxNjc4LCAyNC4wMTQwOTgyNDA4MzA5MSwgLTEuMjMxNzM5NTcyNDUwMTU1LCAwLjEyMDg2NTA5NzM4NjYxNzllLTIsIC01Mzk1MjM5Mzg0OTUzZS0xOF07CiAgICAgICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1OwogICAgICAgIHZhciB4eCwgeSwgdG1wOwogICAgICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTsKICAgICAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApOwogICAgICAgIGZvciAoOyBqIDwgNjsgaisrKSBzZXIgKz0gY29mW2pdIC8gKyt5OwogICAgICAgIHJldHVybiBsb2coMi41MDY2MjgyNzQ2MzEwMDA1ICogc2VyIC8geHgpIC0gdG1wOwogICAgICB9OwogICAgICBsZC5sZ2FtbWEgPSBsZ2FtbWE7CiAgICAgIHZhciBsZmFjdG9yaWFsID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbiA8IDAgPyBOYU4gOiBsZ2FtbWEobiArIDEpOwogICAgICB9OwogICAgICBsZC5sZmFjdG9yaWFsID0gbGZhY3RvcmlhbDsKICAgICAgdmFyIGxjaG9vc2UgPSBmdW5jdGlvbiAobiwgaykgewogICAgICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspOwogICAgICB9OwogICAgICBsZC5sY2hvb3NlID0gbGNob29zZTsKICAgICAgdmFyIGxiZXRhID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTsKICAgICAgfTsKICAgICAgbGQubGJldGEgPSBsYmV0YTsKICAgICAgdmFyIGxvZyA9IE1hdGgubG9nOwogICAgICB2YXIgZXhwID0gTWF0aC5leHA7CiAgICAgIHZhciBhYnMgPSBNYXRoLmFiczsKICAgICAgdmFyIHBvdyA9IE1hdGgucG93OwogICAgICB2YXIgc3FydCA9IE1hdGguc3FydDsKICAgICAgdmFyIHBpID0gTWF0aC5QSTsKCiAgICAgIC8vLy8vLy8vLy8gQ29udGlub3VzIGRpc3RyaWJ1dGlvbnMgLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJldGEgPSBmdW5jdGlvbiAoeCwgc2hhcGUxLCBzaGFwZTIpIHsKICAgICAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIGlmIChzaGFwZTEgPT09IDEgJiYgc2hhcGUyID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIChzaGFwZTEgLSAxKSAqIGxvZyh4KSArIChzaGFwZTIgLSAxKSAqIGxvZygxIC0geCkgLSBsYmV0YShzaGFwZTEsIHNoYXBlMik7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5jYXVjaHkgPSBmdW5jdGlvbiAoeCwgbG9jYXRpb24sIHNjYWxlKSB7CiAgICAgICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAtIGxvZyhwaSk7CiAgICAgIH07CiAgICAgIGxkLm5vcm0gPSBmdW5jdGlvbiAoeCwgbWVhbiwgc2QpIHsKICAgICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC0gbG9nKHNkKSAtIHBvdyh4IC0gbWVhbiwgMikgLyAoMiAqIHNkICogc2QpOwogICAgICB9OwoKICAgICAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIAogICAgICAvLyB0aGUgY29ycmVsYXRpb24uCiAgICAgIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uICh4LCBtZWFuLCBzZCwgY29ycikgewogICAgICAgIHZhciB6ID0gcG93KHhbMF0gLSBtZWFuWzBdLCAyKSAvIHBvdyhzZFswXSwgMikgKyBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkgLyAoc2RbMF0gKiBzZFsxXSk7CiAgICAgICAgdmFyIG5vcm1hbGl6aW5nX2ZhY3RvciA9IC0obG9nKDIpICsgbG9nKHBpKSArIGxvZyhzZFswXSkgKyBsb2coc2RbMV0pICsgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpKTsKICAgICAgICB2YXIgYml2YXJfbG9nX2RlbnMgPSBub3JtYWxpemluZ19mYWN0b3IgLSB6IC8gKDIgKiAoMSAtIHBvdyhjb3JyLCAyKSkpOwogICAgICAgIHJldHVybiBiaXZhcl9sb2dfZGVuczsKICAgICAgfTsKICAgICAgbGQubGFwbGFjZSA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICByZXR1cm4gLWFicyh4IC0gbG9jYXRpb24pIC8gc2NhbGUgLSBsb2coMiAqIHNjYWxlKTsKICAgICAgfTsKICAgICAgbGQuZGV4cCA9IGxkLmxhcGxhY2U7CiAgICAgIGxkLmdhbW1hID0gZnVuY3Rpb24gKHgsIHNoYXBlLCByYXRlKSB7CiAgICAgICAgdmFyIHNjYWxlID0gMSAvIHJhdGU7CiAgICAgICAgaWYgKHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAoeCA9PT0gMCAmJiBzaGFwZSA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIC1sb2coc2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gKHNoYXBlIC0gMSkgKiBsb2coeCkgLSB4IC8gc2NhbGUgLSBsZ2FtbWEoc2hhcGUpIC0gc2hhcGUgKiBsb2coc2NhbGUpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgbGQuaW52Z2FtbWEgPSBmdW5jdGlvbiAoeCwgc2hhcGUsIHNjYWxlKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7CiAgICAgIH07CiAgICAgIGxkLmxub3JtID0gZnVuY3Rpb24gKHgsIG1lYW5sb2csIHNkbG9nKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBwb3cobG9nKHgpIC0gbWVhbmxvZywgMikgLyAoMiAqIHNkbG9nICogc2Rsb2cpOwogICAgICB9OwogICAgICBsZC5wYXJldG8gPSBmdW5jdGlvbiAoeCwgc2NhbGUsIHNoYXBlKSB7CiAgICAgICAgaWYgKHggPCBzY2FsZSkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxvZyhzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSkgLSAoc2hhcGUgKyAxKSAqIGxvZyh4KTsKICAgICAgfTsKICAgICAgbGQudCA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUsIGRmKSB7CiAgICAgICAgZGYgPSBkZiA+IDFlMTAwID8gMWUxMDAgOiBkZjsKICAgICAgICByZXR1cm4gbGdhbW1hKChkZiArIDEpIC8gMikgLSBsZ2FtbWEoZGYgLyAyKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICsgbG9nKHBvdygxICsgMSAvIGRmICogcG93KCh4IC0gbG9jYXRpb24pIC8gc2NhbGUsIDIpLCAtKGRmICsgMSkgLyAyKSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIHdlaWJ1bGwgZGlzdHJpYnV0aW9uOiAKICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3djaC9yLXNvdXJjZS9ibG9iL2IxNTZlM2E3MTE5NjdmNTgxMzFlMjNjMWIxZGMxZWE5MGUyZjBjNDMvc3JjL25tYXRoL2R3ZWlidWxsLmMKICAgICAgbGQud2VpYnVsbCA9IGZ1bmN0aW9uICh4LCBzaGFwZSwgc2NhbGUpIHsKICAgICAgICBpZiAoeCA8IDApIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgaWYgKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7CiAgICAgICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpOwogICAgICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpOwogICAgICAgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogCiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuYwogICAgICBsZC5sb2dpcyA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICB4ID0gYWJzKCh4IC0gbG9jYXRpb24pIC8gc2NhbGUpOwogICAgICAgIHZhciBlID0gZXhwKC14KTsKICAgICAgICB2YXIgZiA9IDEuMCArIGU7CiAgICAgICAgcmV0dXJuIC0oeCArIGxvZyhzY2FsZSAqIGYgKiBmKSk7CiAgICAgIH07CiAgICAgIGxkLmRpcmljaGxldCA9IGZ1bmN0aW9uICh4LCBhbHBoYSkgewogICAgICAgIHZhciBzdW1fYWxwaGEgPSAwOwogICAgICAgIHZhciBzdW1fbGdhbW1hX2FscGhhID0gMDsKICAgICAgICB2YXIgc3VtX2FscGhhX3N1Yl8xX2xvZ194ID0gMDsKICAgICAgICB2YXIgbiA9IGFscGhhLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldOwogICAgICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pOwogICAgICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194OwogICAgICB9OwogICAgICBsZC5leHAgPSBmdW5jdGlvbiAoeCwgcmF0ZSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtIHJhdGUgKiB4OwogICAgICB9OwogICAgICBsZC51bmlmID0gZnVuY3Rpb24gKHgsIG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIHggPCBtaW4gfHwgeCA+IG1heCA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpOwogICAgICB9OwoKICAgICAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJlcm4gPSBmdW5jdGlvbiAoeCwgcHJvYikgewogICAgICAgIHJldHVybiAhKHggPT09IDAgfHwgeCA9PT0gMSkgPyAtSW5maW5pdHkgOiBsb2coeCAqIHByb2IgKyAoMSAtIHgpICogKDEgLSBwcm9iKSk7CiAgICAgIH07CiAgICAgIGxkLmNhdCA9IGZ1bmN0aW9uICh4LCBwcm9icykgewogICAgICAgIGlmICh4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbG9nKHByb2JzW3ggLSAxXSk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5iaW5vbSA9IGZ1bmN0aW9uICh4LCBzaXplLCBwcm9iKSB7CiAgICAgICAgaWYgKHggPiBzaXplIHx8IHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gc2l6ZSAqIHByb2IgPT09IHggPyAwIDogLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGNob29zZShzaXplLCB4KSArIHggKiBsb2cocHJvYikgKyAoc2l6ZSAtIHgpICogbG9nKDEgLSBwcm9iKTsKICAgICAgfTsKICAgICAgbGQubmJpbm9tID0gZnVuY3Rpb24gKHgsIHNpemUsIHByb2IpIHsKICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsY2hvb3NlKHggKyBzaXplIC0gMSwgc2l6ZSAtIDEpICsgeCAqIGxvZygxIC0gcHJvYikgKyBzaXplICogbG9nKHByb2IpOwogICAgICB9OwogICAgICBsZC5oeXBlciA9IGZ1bmN0aW9uICh4LCBtLCBuLCBrKSB7CiAgICAgICAgaWYgKHggPCAwIHx8IHggPiBrKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbGNob29zZShtLCB4KSArIGxjaG9vc2UobiwgayAtIHgpIC0gbGNob29zZShtICsgbiwgayk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5wb2lzID0gZnVuY3Rpb24gKHgsIGxhbWJkYSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7CiAgICAgIH07CiAgICAgIHJldHVybiBsZDsKICAgIH0pOwogIH0pKGRpc3RyaWJ1dGlvbnMkMSk7CiAgdmFyIGRpc3RyaWJ1dGlvbnNFeHBvcnRzID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CgogIHZhciBtY21jJDEgPSB7ZXhwb3J0czoge319OwoKICB2YXIgbWNtYyA9IG1jbWMkMS5leHBvcnRzOwogIChmdW5jdGlvbiAobW9kdWxlKSB7CgogICAgLy8gVGhpcyBib2lsZXIgcGxhdGUgY29kZSBoZXJlIGlzIHRha2VuIGZyb206CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzCiAgICAvLyBJdCBzaG91bGQgbWFrZSBzaHVyZSB0aGF0IG1vZHVsZSBjYW4gYmUgaW1wb3J0ZWQgYm90aCBpbiB0aGUgYnJvd3NlciwKICAgIC8vIE5vZGUsIGFuZCBieSB1c2luZyB0aGUgQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uIHN0YW5kYXJkLgogICAgLy8gSWYgdGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIHRoZSBicm93c2VyIGl0IHdpbGwgY3JlYXRlZCB0aGUgZ2xvYmFsCiAgICAvLyBvYmplY3QgbWNtYyAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpOwogICAgICB9CiAgICB9KShtY21jLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIAoKICAgICAgLy8vLy8vLy8vLyBIZWxwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggKi8KICAgICAgdmFyIHJ1bmlmID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqLwogICAgICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbiAobWluLCBtYXgpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGZyb20gYSBub3JtYWwgZGlzdHJpYmJ1dGlvbiBkZWZpbmVkCiAgICAgICAqICBieSBtZWFuIGFuZCBzZC4gCiAgICAgICAqICBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0L2pzdGF0L2Jsb2IvbWFzdGVyL3NyYy9zcGVjaWFsLmpzICovCiAgICAgIHZhciBybm9ybSA9IGZ1bmN0aW9uIChtZWFuLCBzZCkgewogICAgICAgIHZhciB1LCB2LCB4LCB5LCBxOwogICAgICAgIGRvIHsKICAgICAgICAgIHUgPSBNYXRoLnJhbmRvbSgpOwogICAgICAgICAgdiA9IDEuNzE1NiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgIHggPSB1IC0gMC40NDk4NzE7CiAgICAgICAgICB5ID0gTWF0aC5hYnModikgKyAwLjM4NjU5NTsKICAgICAgICAgIHEgPSB4ICogeCArIHkgKiAoMC4xOTYwMCAqIHkgLSAwLjI1NDcyICogeCk7CiAgICAgICAgfSB3aGlsZSAocSA+IDAuMjc1OTcgJiYgKHEgPiAwLjI3ODQ2IHx8IHYgKiB2ID4gLTQgKiBNYXRoLmxvZyh1KSAqIHUgKiB1KSk7CiAgICAgICAgcmV0dXJuIHYgLyB1ICogc2QgKyBtZWFuOwogICAgICB9OwoKICAgICAgLyoqIFJldHVybnMgYSBkZWVwIGNsb25lIG9mIHNyYywgc29ydCBvZi4uLiBJdCBvbmx5IGNvcGllcyBhIGxpbWl0ZWQKICAgICAgICogbnVtYmVyIG9mIHR5cGVzIGFuZCwgZm9yIGV4YW1wbGUsIGZ1bmN0aW9uIGFyZSBub3QgY29waWVkLiAKICAgICAgICogRnJvbSBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtY2xvbmUKICAgICAgICovCiAgICAgIHZhciBkZWVwX2Nsb25lID0gZnVuY3Rpb24gKHNyYykgewogICAgICAgIGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHsKICAgICAgICAgIHZhciBuYW1lLAogICAgICAgICAgICBzLAogICAgICAgICAgICBlbXB0eSA9IHt9OwogICAgICAgICAgZm9yIChuYW1lIGluIHNvdXJjZSkgewogICAgICAgICAgICAvLyB0aGUgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpIGNvbmRpdGlvbiBhdm9pZHMgY29weWluZyBwcm9wZXJ0aWVzIGluICJzb3VyY2UiCiAgICAgICAgICAgIC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuCSBGb3IgZXhhbXBsZSwgaWYgZGVzdCBoYXMgYSBjdXN0b20gdG9TdHJpbmcoKSBtZXRob2QsCiAgICAgICAgICAgIC8vIGRvbid0IG92ZXJ3cml0ZSBpdCB3aXRoIHRoZSB0b1N0cmluZygpIG1ldGhvZCB0aGF0IHNvdXJjZSBpbmhlcml0ZWQgZnJvbSBPYmplY3QucHJvdG90eXBlCiAgICAgICAgICAgIHMgPSBzb3VyY2VbbmFtZV07CiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gZGVzdCkgfHwgZGVzdFtuYW1lXSAhPT0gcyAmJiAoIShuYW1lIGluIGVtcHR5KSB8fCBlbXB0eVtuYW1lXSAhPT0gcykpIHsKICAgICAgICAgICAgICBkZXN0W25hbWVdID0gY29weUZ1bmMgPyBjb3B5RnVuYyhzKSA6IHM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBkZXN0OwogICAgICAgIH0KICAgICAgICBpZiAoIXNyYyB8fCB0eXBlb2Ygc3JjICE9ICJvYmplY3QiIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpID09PSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvbgogICAgICAgICAgcmV0dXJuIHNyYzsgLy8gYW55dGhpbmcKICAgICAgICB9CiAgICAgICAgaWYgKHNyYy5ub2RlVHlwZSAmJiAiY2xvbmVOb2RlIiBpbiBzcmMpIHsKICAgICAgICAgIC8vIERPTSBOb2RlCiAgICAgICAgICByZXR1cm4gc3JjLmNsb25lTm9kZSh0cnVlKTsgLy8gTm9kZQogICAgICAgIH0KICAgICAgICBpZiAoc3JjIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgLy8gRGF0ZQogICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpOyAvLyBEYXRlCiAgICAgICAgfQogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIC8vIFJlZ0V4cAogICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjKTsgLy8gUmVnRXhwCiAgICAgICAgfQogICAgICAgIHZhciByLCBpLCBsOwogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgLy8gYXJyYXkKICAgICAgICAgIHIgPSBbXTsKICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNyYykgewogICAgICAgICAgICAgIHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGdlbmVyaWMgb2JqZWN0cwogICAgICAgICAgciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTsKICAgICAgfTsKCiAgICAgIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmUKICAgICAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvbgogICAgICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZwogICAgICAgKiBsb29wLgogICAgICAgKi8KICAgICAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbiAoeCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4WzBdKSkgewogICAgICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5CiAgICAgICAgICAgIHZhciB4X2NvcHkgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHgubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB4X2NvcHkucHVzaChjbG9uZV9wYXJhbV9kcmF3KHhbaV0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4geF9jb3B5OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFycwogICAgICAgICAgICByZXR1cm4geC5zbGljZSgwKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBzY2FsYXIKICAgICAgICAgIHJldHVybiB4OwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGEgbnVtYmVyLgogICAgICAgKi8KICAgICAgdmFyIGlzX251bWJlciA9IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSAibnVtYmVyIiB8fCB0eXBlb2Ygb2JqZWN0ID09ICJvYmplY3QiICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS4KICAgICAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsCiAgICAgICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LgogICAgICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpbgogICAgICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgCiAgICAgICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0bwogICAgICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LgogICAgICAgKiBAZXhhbXBsZSAKICAgICAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXQogICAgICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpCiAgICAgICAqLwogICAgICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24gKGRpbSwgaW5pdCkgewogICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoZGltWzBdKTsKICAgICAgICB2YXIgaTsKICAgICAgICBpZiAoZGltLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdAogICAgICAgICAgaWYgKHR5cGVvZiBpbml0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIGFycltpXSA9IGluaXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgYXJyW2ldID0gaW5pdDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGltLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgImNyZWF0ZV9hcnJheSBjYW4ndCBjcmVhdGUgYSBkaW1lbnNpb25sZXNzIGFycmF5IjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBSZXR1cm4gdGhlIGRpbWVuc2lvbnMgb2YgYSBwb3NzaWJseSBuZXN0ZWQgYXJyYXkgYXMgYW4gYXJyYXkuIEZvciAKICAgICAgICogZXhhbXBsZSwgYXJyYXlfZGltKCBbWzEsIDJdLCBbMSwgMl1dICkgc2hvdWxkIHJldHVybiBbMiwgMl0KICAgICAgICogQXNzdW1lcyB0aGF0IGFsbCBhcnJheXMgaW5zaWRlIGFub3RoZXIgYXJyYXkgYXJlIG9mIHRoZSBzYW1lIGxlbmd0aC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogLy8gU2hvdWxkIHJldHVybiBbNCwgMiwgMV0KICAgICAgICogYXJyYXlfZGltKGNyZWF0ZV9hcnJheShbNCwgMiwgMV0sIDApKQogICAgICAgKi8KICAgICAgdmFyIGFycmF5X2RpbSA9IGZ1bmN0aW9uIChhKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVswXSkpIHsKICAgICAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW2EubGVuZ3RoXTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cwogICAgICAgKiBhcyBqdWRnZWQgYnkgdGhlICI9PSIgb3BlcmF0b3IuIFJldHVybnMgdHJ1ZSBvciBmYWxzZS4KICAgICAgICogQWRhcHRlZCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0ODUzOTc0LzEwMDE4NDgKICAgICAgICovCiAgICAgIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHsKICAgICAgICBpZiAoYTEubGVuZ3RoICE9IGEyLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgbmVzdGVkIGFycmF5cwogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7CiAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5cwogICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsKICAgICAgICAgICAgLy8gV2FybmluZyAtIHR3byBkaWZmZXJlbnQgb2JqZWN0IGluc3RhbmNlcyB3aWxsIG5ldmVyIGJlIGVxdWFsOiB7eDoyMH0gIT0ge3g6MjB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCAibGVhZiBub2RlcyIsIAogICAgICAgKiB0aGF0IGlzLCB2YWx1ZXMgdGhhdCBhcmUgbm90IGFycmF5cy4gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgc2FtZSBzaXplIGFzCiAgICAgICAqIGEuCiAgICAgICAqLwogICAgICB2YXIgbmVzdGVkX2FycmF5X2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXN1bHRbaV0gPSBuZXN0ZWRfYXJyYXlfYXBwbHkoYVtpXSwgZnVuKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmdW4oYSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqIFJhbmRvbWl6aW5nIHRoZSBhcnJheSBlbGVtZW50IG9yZGVyIGluLXBsYWNlLiBVc2luZyBEdXJzdGVuZmVsZAogICAgICAgKiBzaHVmZmxlIGFsZ29yaXRobS4gQWRhcHRlZCBmcm9tIGhlcmU6IAogICAgICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjY0Njg2NC8xMDAxODQ4CiAgICAgICAqLwogICAgICBmdW5jdGlvbiBzaHVmZmxlX2FycmF5KGFycmF5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7CiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldOwogICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTsKICAgICAgICAgIGFycmF5W2pdID0gdGVtcDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICB9CgogICAgICAvKioKICAgICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5CiAgICAgICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgImxlYWYgbm9kZXMiIGFuZCByZXR1cm5zIGFuIGFycmF5IAogICAgICAgKiBvZiB0aGUgc2FtZSBzaXplIGFzIGEuIFRoZSBkaWZmZXJlbmNlIGlzIHRoYXQgbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseQogICAgICAgKiBicmFuY2hlcyByYW5kb21seS4KICAgICAgICovCiAgICAgIHZhciBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIHZhciBhcnJheV9pcyA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGFycmF5X2lzW2ldID0gaTsKICAgICAgICAgIH0KICAgICAgICAgIHNodWZmbGVfYXJyYXkoYXJyYXlfaXMpOwogICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07CiAgICAgICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZ1bihhKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmUKICAgICAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC4KICAgICAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmcKICAgICAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgCiAgICAgICAqICAgIGFzIGEgbWVtYmVyLgogICAgICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgCiAgICAgICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9CiAgICAgICAqIHZhciBwaSA9IGdldF9vcHRpb24oInBpIiwgbXlfb3B0aW9ucywgMy4xNCkKICAgICAgICovCiAgICAgIC8vIFByZXR0eSB3YXkgb2Ygc2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgd2hlcmUgdGhlIGRlZmF1bHRzIGNhbiBiZSBvdmVycmlkZGVuCiAgICAgIC8vIGJ5IGFuIG9wdGlvbnMgb2JqZWN0LiBGb3IgZXhhbXBsZToKICAgICAgLy8gdmFyIHBpID0gZ2V0X29wdGlvbigicGkiLCBteV9vcHRpb25zLCAzLjE0KQogICAgICB2YXIgZ2V0X29wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIG9wdGlvbnNbb3B0aW9uX25hbWVdICE9PSB1bmRlZmluZWQgJiYgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTsKICAgICAgfTsKCiAgICAgIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWwKICAgICAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS4KICAgICAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggCiAgICAgICAqIGRpbSBkaW1lbnNpb25zLgogICAgICAgKiAKICAgICAgICovCiAgICAgIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbl9uYW1lLCBvcHRpb25zLCBkaW0sIGRlZmF1bF92YWx1ZSkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldF9vcHRpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRlZmF1bF92YWx1ZSk7CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgdmFsdWUgPSBjcmVhdGVfYXJyYXkoZGltLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmICghYXJyYXlfZXF1YWwoYXJyYXlfZGltKHZhbHVlKSwgZGltKSkgewogICAgICAgICAgdGhyb3cgIlRoZSBvcHRpb24gIiArIG9wdGlvbl9uYW1lICsgIiBpcyBvZiBkaW1lbnNpb24gWyIgKyBhcnJheV9kaW0odmFsdWUpICsgIl0gYnV0IHNob3VsZCBiZSBbIiArIGRpbSArICJdLiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfTsKCiAgICAgIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZQogICAgICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLgogICAgICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgInJlYWwiLCAiaW50IiwgYW5kICJiaW5hcnkiLgogICAgICAgKi8KICAgICAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbiAodHlwZSwgbG93ZXIsIHVwcGVyKSB7CiAgICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHsKICAgICAgICAgIHRocm93ICJDYW4gbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIHdoZXJlIGxvd2VyIGJvdW5kID4gdXBwZXIgYm91bmQiOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gInJlYWwiKSB7CiAgICAgICAgICBpZiAobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIDAuNTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gbG93ZXIgKyAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKGxvd2VyIDw9IHVwcGVyKSB7CiAgICAgICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImludCIpIHsKICAgICAgICAgIGlmIChsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAxOwogICAgICAgICAgfSBlbHNlIGlmICh1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIGxvd2VyICsgMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPD0gdXBwZXIpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKGxvd2VyICsgdXBwZXIpIC8gMik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiYmluYXJ5IikgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIHRocm93ICJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgb2YgdHlwZSAiICsgdHlwZSArICJbIiArIGxvd2VyICsgIiwgIiArIHVwcGVyICsgIl0iOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENvbXBsZXRlcyBwYXJhbXNfdG9fY29tcGxldGUsIGFuIG9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlciBkZXNjcmlwdGlvbnMsIAogICAgICAgKiBhbmQgaW5pdGlhbGl6ZXMgbm9uLWluaXRpYWxpemVkIHBhcmFtZXRlcnMuIFRoaXMgbW9kaWZpZWQgdmVyc2lvbiBvZgogICAgICAgKiBwYXJhbXNfdG9fY29tcGxldGUgaXMgcmV0dXJuZWQgYXMgYSBkZWVwIGNvcHkgYW5kIG5vdCBtb2RpZmllZCBpbiBwbGFjZS4KICAgICAgICogSW5pdGlhbGl6YXRpb24gaXMgZG9uZSBieSBzdXBwbHlpbmcgYSBwYXJhbV9pbml0IGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlCiAgICAgICAqIGZ1bmN0aW9uKHR5cGUsIGxvd2VyLCB1cHBlcikgdGhhdCBzaG91bGQgcmV0dXJuIGEgc2luZ2xlIG51bWJlciAKICAgICAgICogKGxpa2UgcGFyYW1faW5pdF9maXhlZCwgZm9yIGV4YW1wbGUpLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKiB2YXIgcGFyYW1zID0geyAibXUiOiB7InR5cGUiOiAicmVhbCJ9IH0KICAgICAgICogcGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHBhcmFtcyk7CiAgICAgICAqIC8vIHBhcmFtcyBzaG91bGQgbm93IGJlOgogICAgICAgKiAvLyAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LAogICAgICAgKiAvLyAgICAgICAgICAgImxvd2VyIjogLUluZmluaXR5LCAiaW5pdCI6IDAuNSB9fQogICAgICAgKi8KICAgICAgdmFyIGNvbXBsZXRlX3BhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXNfdG9fY29tcGxldGUsIHBhcmFtX2luaXQpIHsKICAgICAgICB2YXIgcGFyYW1zID0gZGVlcF9jbG9uZShwYXJhbXNfdG9fY29tcGxldGUpOwogICAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICBpZiAoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbV9uYW1lKSkgY29udGludWU7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbcGFyYW1fbmFtZV07CiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJ0eXBlIikpIHsKICAgICAgICAgICAgcGFyYW0udHlwZSA9ICJyZWFsIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghcGFyYW0uaGFzT3duUHJvcGVydHkoImRpbSIpKSB7CiAgICAgICAgICAgIHBhcmFtLmRpbSA9IFsxXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc19udW1iZXIocGFyYW0uZGltKSkgewogICAgICAgICAgICBwYXJhbS5kaW0gPSBbcGFyYW0uZGltXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS50eXBlID09ICJiaW5hcnkiKSB7CiAgICAgICAgICAgIHBhcmFtLnVwcGVyID0gMTsKICAgICAgICAgICAgcGFyYW0ubG93ZXIgPSAwOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgidXBwZXIiKSkgewogICAgICAgICAgICBwYXJhbS51cHBlciA9IEluZmluaXR5OwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgibG93ZXIiKSkgewogICAgICAgICAgICBwYXJhbS5sb3dlciA9IC1JbmZpbml0eTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpKSB7CiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMganVzdCBhIG51bWJlciBvciBhIG5lc3RlZCBhcnJheSB3ZSBsZWF2ZSBpdCBhbG9uZSwgYnV0IGlmLi4uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgdHlwZW9mIHBhcmFtLmluaXQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci4KICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgIUFycmF5LmlzQXJyYXkocGFyYW0uaW5pdCkpIHsKICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0CiAgICAgICAgICAgICAgLy8gaXMgbm90IGFuIGFycmF5LiBUaGVuIGFzc3VtZSBpdCBpcyBhIG51bWJlciBvciBhIGZ1bmN0aW9uIGFuZCB1c2UKICAgICAgICAgICAgICAvLyBpdCB0byBpbml0aWFsaXplIHRoZSBwYXJhbWV0ZXIuCiAgICAgICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhcmFtLmluaXQgPSBjcmVhdGVfYXJyYXkocGFyYW0uZGltLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vIFN0ZXBwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAgKiBAaW50ZXJmYWNlCiAgICAgICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZQogICAgICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvbgogICAgICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgImludGVyZmFjZSIsCiAgICAgICAqIHdoZXJlICJpbnRlcmZhY2UiIG1lYW5zIHRoYXQgU3RlcHBlciBkZWZpbmVzIGEgY2xhc3MgdGhhdCBpcyBuZXZlcgogICAgICAgKiBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQsIGJ1dCBqdXN0IHRvIGJlIHN1YmNsYXNzZWQgYnkgc3BlY2lhbGl6ZWQKICAgICAgICogc3RlcHBlciBmdW5jdGlvbnMuCiAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlciBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6CiAgICAgICAqICAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LCAKICAgICAgICogICAibG93ZXIiOiAtSW5maW5pdHksICJpbml0IjogMC41IH19CiAgICAgICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgImNvbXBsZXRlIiwgdGhhdCBpcywKICAgICAgICogICBzcGVjaWZ5aW5nIGFsbCByZWxldmFudCBhdHRyaWJ1dGVzIHN1Y2ggYXMgZGltLCBsb3dlciBhbmQgdXBwZXIuCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycyBpbiBwYXJhbXMKICAgICAgICogICAoYW5kIHBvc3NpYmx5IG1vcmUpLiBUaGUgcGFyYW1ldGVyIG5hbWVzIGFyZSBnaXZlbiBhcyBrZXlzIGFuZCB0aGUgc3RhdGVzCiAgICAgICAqICAgYXMgc2NhbGFycyBvciwgcG9zc2libHkgbmVzdGVkLCBhcnJheXMuIEZvciBleGFtcGxlOgogICAgICAgKiAgIHttdTogMTAsIHNpZ21hOiA1LCBiZXRhOiBbMSwgMi41XX0KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiAqdGFraW5nIG5vIHBhcmFtZXRlcnMqIHRoYXQgcmV0dXJucyB0aGUKICAgICAgICogICBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBUaGF0IGlzLCB0aGUgdmFsdWUgb2YgbG9nX3Bvc3QKICAgICAgICogICBzaG91bGQgY2hhbmdlIGlmIHRoZSB0aGUgdmFsdWVzIGluIHN0YXRlIGFyZSBjaGFuZ2VkLgogICAgICAKICAgICAgICovCiAgICAgIHZhciBTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBsb2dfcG9zdDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gU2hvdWxkIHJldHVybiB0aGUgbmV3IHN0YXRlLAogICAgICAgKiBidXQgaXMgbWFpbmx5IGNhbGxlZCBmb3IgaXQncyBzaWRlIGVmZmVjdCBvZiBtYWtpbmcgYSBjaGFuZ2UgaW4gdGhlCiAgICAgICAqIHN0YXRlIG9iamVjdC4KICAgICAgICovCiAgICAgIFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3cgIkV2ZXJ5IFN0ZXBwZXIgbmVlZCB0byBpbXBsZW1lbnQgc3RlcCgpIjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgYWRhcHQgd2hpbGUgc3RlcHBpbmcuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogSWYgaW1wbGVtZW50ZWQsIG1ha2VzIHRoZSBzdGVwcGVyIGNlYXNlIGFkYXB0aW5nIHdoaWxlIHN0ZXBwaW5nLgogICAgICAgKi8KICAgICAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmcgaW5mbyByZWdhcmRpbmcgdGhlIHN0ZXBwZXIuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIHN0ZXBwZXIuCiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24uCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICAqIEBwYXJhbSBnZW5lcmF0ZV9wcm9wb3NhbCAtIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvcG9zYWwgKGFzIGEgbnVtYmVyKQogICAgICAgKiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihwYXJhbV9zdGF0ZSwgbG9nX3NjYWxlKSB3aGVyZSBwYXJhbV9zdGF0ZSBpcyBhCiAgICAgICAqIG51bWJlciBhbmQgbG9nX3NjYWxlIGRlZmluZXMgdGhlIHNjYWxlIG9mIHRoZSBwcm9wb3NhbCBzb21laG93LgogICAgICAqLwogICAgICB2YXIgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIGdlbmVyYXRlX3Byb3Bvc2FsKSB7CiAgICAgICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CiAgICAgICAgaWYgKHBhcmFtX25hbWVzLmxlbmd0aCAhPSAxKSB7CiAgICAgICAgICB0aHJvdyAiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgY2FuIG9ubHkgaGFuZGxlIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICBpZiAoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkgewogICAgICAgICAgdGhyb3cgIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7CiAgICAgICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyOwogICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgPSBnZXRfb3B0aW9uKCJwcm9wX2xvZ19zY2FsZSIsIG9wdGlvbnMsIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCA1MCk7CiAgICAgICAgdGhpcy5tYXhfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oIm1heF9hZGFwdGF0aW9uIiwgb3B0aW9ucywgMC4zMyk7CiAgICAgICAgdGhpcy5pbml0aWFsX2FkYXB0YXRpb24gPSBnZXRfb3B0aW9uKCJpbml0aWFsX2FkYXB0YXRpb24iLCBvcHRpb25zLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgMC40NCk7CiAgICAgICAgdGhpcy5pc19hZGFwdGluZyA9IGdldF9vcHRpb24oImlzX2FkYXB0aW5nIiwgb3B0aW9ucywgdHJ1ZSk7CiAgICAgICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsOwogICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyOwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgICAgdmFyIHBhcmFtX3Byb3Bvc2FsID0gdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbChwYXJhbV9zdGF0ZSwgdGhpcy5wcm9wX2xvZ19zY2FsZSk7CiAgICAgICAgaWYgKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIDsgZWxzZSB7CiAgICAgICAgICAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwCiAgICAgICAgICB2YXIgY3Vycl9sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTsKICAgICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IHBhcmFtX3Byb3Bvc2FsOwogICAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgICB2YXIgYWNjZXB0X3Byb2IgPSBNYXRoLmV4cChwcm9wX2xvZ19kZW5zIC0gY3Vycl9sb2dfZGVucyk7CiAgICAgICAgICBpZiAoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7CiAgICAgICAgICAgIC8vIFdlIGRvIG5vdGhpbmcgYXMgdGhlIHN0YXRlIG9mIHBhcmFtIGhhcyBhbHJlYWR5IGJlZW4gY2hhbmdlZCB0byB0aGUgcHJvcG9zYWwKICAgICAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmV2ZXJ0IHN0YXRlIGJhY2sgdG8gdGhlIG9sZCBzdGF0ZSBvZiBwYXJhbQogICAgICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9zdGF0ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHsKICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbisrOwogICAgICAgICAgaWYgKHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA+PSB0aGlzLmJhdGNoX3NpemUpIHsKICAgICAgICAgICAgLy8gdGhlbiBhZGFwdAogICAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50Kys7CiAgICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IE1hdGgubWluKHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uIC8gTWF0aC5zcXJ0KHRoaXMuYmF0Y2hfY291bnQpKTsKICAgICAgICAgICAgaWYgKHRoaXMuYWNjZXB0YW5jZV9jb3VudCAvIHRoaXMuYmF0Y2hfc2l6ZSA+IHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSArPSBsb2dfc2RfYWRqdXN0bWVudDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnByb3BfbG9nX3NjYWxlIC09IGxvZ19zZF9hZGp1c3RtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgIH07CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSB0cnVlOwogICAgICB9OwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBmYWxzZTsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHByb3BfbG9nX3NjYWxlOiB0aGlzLnByb3BfbG9nX3NjYWxlLAogICAgICAgICAgaXNfYWRhcHRpbmc6IHRoaXMuaXNfYWRhcHRpbmcsCiAgICAgICAgICBhY2NlcHRhbmNlX2NvdW50OiB0aGlzLmFjY2VwdGFuY2VfY291bnQsCiAgICAgICAgICBpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uOiB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24sCiAgICAgICAgICBiYXRjaF9jb3VudDogdGhpcy5iYXRjaF9jb3VudAogICAgICAgIH07CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLgogICAgICAgKi8KICAgICAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uIChwYXJhbV9zdGF0ZSwgcHJvcF9sb2dfc2NhbGUpIHsKICAgICAgICByZXR1cm4gcm5vcm0ocGFyYW1fc3RhdGUsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQGNsYXNzCiAgICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgY29udGlub3VzIE5vcm1hbCBwcm9wb3NhbHMuCiAgICAgICAqLwogICAgICB2YXIgUmVhbE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7CiAgICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgbm9ybWFsX3Byb3Bvc2FsKTsKICAgICAgfTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjsKCiAgICAgIC8qKgogICAgICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuCiAgICAgICAqLwogICAgICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24gKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkgewogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJub3JtKHBhcmFtX3N0YXRlLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICogQSAic3ViY2xhc3MiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAqLwogICAgICB2YXIgSW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwpOwogICAgICB9OwogICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdAogICAgICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIAogICAgICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgCiAgICAgICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXMKICAgICAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIAogICAgICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uCiAgICAgICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKi8KICAgICAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIFN1YlN0ZXBwZXIpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoICE9IDEpIHsKICAgICAgICAgIHRocm93ICJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTsKICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdOwogICAgICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjsKICAgICAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7CiAgICAgICAgdGhpcy5kaW0gPSBwYXJhbS5kaW07CiAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oInByb3BfbG9nX3NjYWxlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApOwogICAgICAgIHRoaXMubWF4X2FkYXB0YXRpb24gPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJtYXhfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTsKICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oImluaXRpYWxfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X211bHRpZGltX29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuNDQpOwogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJpc19hZGFwdGluZyIsIG9wdGlvbnMsIHRoaXMuZGltLCB0cnVlKTsKCiAgICAgICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiAKICAgICAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS4KICAgICAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gZnVuY3Rpb24gKGRpbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZSwgYmF0Y2hfc2l6ZSwgbWF4X2FkYXB0YXRpb24sIGluaXRpYWxfYWRhcHRhdGlvbiwgdGFyZ2V0X2FjY2VwdF9yYXRlLCBpc19hZGFwdGluZykgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICBpZiAoZGltLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHN1Ym9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sCiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplW2ldLAogICAgICAgICAgICAgICAgbWF4X2FkYXB0YXRpb246IG1heF9hZGFwdGF0aW9uW2ldLAogICAgICAgICAgICAgICAgaW5pdGlhbF9hZGFwdGF0aW9uOiBpbml0aWFsX2FkYXB0YXRpb25baV0sCiAgICAgICAgICAgICAgICB0YXJnZXRfYWNjZXB0X3JhdGU6IHRhcmdldF9hY2NlcHRfcmF0ZVtpXSwKICAgICAgICAgICAgICAgIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIHN1YnBhcmFtID0ge307CiAgICAgICAgICAgICAgc3VicGFyYW1baV0gPSBkZWVwX2Nsb25lKHBhcmFtKTsKICAgICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyCiAgICAgICAgICAgICAgZGVsZXRlIHN1YnBhcmFtW2ldLmluaXQ7IC8vIEFzIGl0IHNvdWxkIG5vdCBiZSBuZWVkZWQKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBTdWJTdGVwcGVyKHN1YnBhcmFtLCBzdWJzdGF0ZSwgbG9nX3Bvc3QsIHN1Ym9wdGlvbnMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QsIHByb3BfbG9nX3NjYWxlW2ldLCBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzOwogICAgICAgIH07CiAgICAgICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LCB0aGlzLnByb3BfbG9nX3NjYWxlLCB0aGlzLmJhdGNoX3NpemUsIHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uLCB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSwgdGhpcy5pc19hZGFwdGluZyk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBzdWJzdGVwcGVycyBpbiBhIHJhbmRvbSBvcmRlciBhbmQgY2FsbCBzdGVwKCkgb24gdGhlbS4KICAgICAgICByZXR1cm4gbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuc3RlcCgpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgc3Vic3RlcHBlci5zdGFydF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHN1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy4KICAgICAgICovCiAgICAgIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgUmVhbE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAgKi8KICAgICAgdmFyIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIEludE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuCiAgICAgICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGUKICAgICAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgCiAgICAgICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAqLwogICAgICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwogICAgICAgIGlmIChwYXJhbV9uYW1lcy5sZW5ndGggPT0gMSkgewogICAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyOwogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7CiAgICAgICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTsKICAgICAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpOwogICAgICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpOwogICAgICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zOwogICAgICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7CiAgICAgICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyhNYXRoLmV4cCh6ZXJvX2xvZ19kZW5zKSArIE1hdGguZXhwKG9uZV9sb2dfZGVucykpKTsKICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHplcm9fcHJvYikgewogICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMDsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gLy8gZWxzZSBrZWVwIHRoZSBwYXJhbSBhdCAxIC4KICAgICAgICByZXR1cm4gMTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfQogICAgICAqIEp1c3QgbGlrZSBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIHRoaXMgU3RlcHBlciB0YWtlcyBhIHN0ZXBzIGZvcgogICAgICAqIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgYnkgdXBkYXRpbmcgZWFjaCBjb21wb25lbnQgaW4gdHVybi4gVGhlIGRpZmZlcmVuY2UKICAgICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy4KICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgCiAgICAgICogICBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci4KICAgICAgKi8KICAgICAgdmFyIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdOwogICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICAgIHRoaXMuZGltID0gcGFyYW0uZGltOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyAiQmluYXJ5Q29tcG9uZW50U3RlcHBlciBjYW4ndCBoYW5kbGUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IGZ1bmN0aW9uIChkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCkgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIGlmIChkaW0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIHZhciBzdWJwYXJhbXMgPSB7fTsKICAgICAgICAgICAgICBzdWJwYXJhbXNbaV0gPSBwYXJhbTsKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBCaW5hcnlTdGVwcGVyKHN1YnBhcmFtcywgc3Vic3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlcnM7CiAgICAgICAgfTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gY3JlYXRlX3N1YnN0ZXBwZXJzKHRoaXMuZGltLCB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0sIHRoaXMubG9nX3Bvc3QpOwogICAgICB9OwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7CiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uCiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHJldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9CiAgICAgICAqIFRoaXMgc3RlcHBlciBjYW4gYmUgcmVzcG9uc2libGUgZm9yIHRha2luZyBhIHN0ZXAgZm9yIG9uZSBvciBtb3JlIHBhcmFtZXRlcnMuCiAgICAgICAqIEZvciByZWFsIGFuZCBpbnQgcGFyYW1ldGVycyBpdCB0YWtlcyBNZXRyb3BvbGlzIHdpdGhpbiBHaWJicyBzdGVwcywgYW5kIGZvciAKICAgICAgICogYmluYXJ5IHBhcmFtZXRlcnMgaXQgZG9lcyBldmFsdWF0ZXMgdGhlIHBvc3RlcmlvciBmb3IgYm90aCBwYXJhbXRlciB2YWx1ZXMgYW5kCiAgICAgICAqIHJhbmRvbWx5IGNoYW5nZXMgdG8gYSBjZXJ0YWluIHZhbHVlIHByb3BvcnRpb25hbGx5IHRvIHRoYXQgdmFsdWUncyBwb3N0ZXJpb3IKICAgICAgICogKHRoaXMgaXMgYWxzbyBkb25lIGZvciBlYWNoIHBhcmFtZXRlciwgc28gYWxzbyBhICogd2l0aGluIEdpYmJzIGFwcHJvYWNoKS4KICAgICAgICogVGhpcyBzdGVwcGVyIGlzIGFsc28gYWRhcHRpdmUgYW5kIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMKICAgICAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV07CiAgICAgICAgICB2YXIgU2VsZWN0U3RlcHBlcjsKICAgICAgICAgIHN3aXRjaCAocGFyYW0udHlwZSkgewogICAgICAgICAgICBjYXNlICJyZWFsIjoKICAgICAgICAgICAgICBpZiAoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJpbnQiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBJbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJiaW5hcnkiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgdGhyb3cgIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgIiArIHRoaXMucGFyYW1fbmFtZXNbaV0gKyAiIHdpdGggdHlwZSAiICsgcGFyYW0udHlwZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBwYXJhbV9vYmplY3Rfd3JhcCA9IHt9OwogICAgICAgICAgcGFyYW1fb2JqZWN0X3dyYXBbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSBwYXJhbTsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHBhcmFtX29wdGlvbnMgPSBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXSB8fCB7fTsKICAgICAgICAgIHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgPSBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7CiAgICAgICAgICBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgfHwgb3B0aW9ucy5iYXRjaF9zaXplOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiA9IHBhcmFtX29wdGlvbnMubWF4X2FkYXB0YXRpb24gfHwgb3B0aW9ucy5tYXhfYWRhcHRhdGlvbjsKICAgICAgICAgIHBhcmFtX29wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uID0gcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gfHwgb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb247CiAgICAgICAgICBwYXJhbV9vcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZSA9IHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlIHx8IG9wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyA9IHBhcmFtX29wdGlvbnMuaXNfYWRhcHRpbmcgfHwgb3B0aW9ucy5pc19hZGFwdGluZzsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbXdnU3RlcHBlcjsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN1YnN0ZXBwZXJzKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RlcCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTsKICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGluZm8gPSB7fTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGluZm9bdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSB0aGlzLnN1YnN0ZXBwZXJzW2ldLmluZm8oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluZm87CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vLyBTYW1wbGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBXaGlsZSB5b3UgY291bGQgZml0IGEgbW9kZWwgYnkgcGFzdGluZyB0b2dldGhlciBTdGVwcGVycywgYQogICAgICAvLyBTYW1wbGVyIGlzIGhlcmUgaXMgYSBjb252ZW5pZW5jZSBjbGFzcyB3aGVyZSBhbiBpbnN0YW5jZSBvZiBTYW1wbGVyCiAgICAgIC8vIHNldHMgdXAgdGhlIFN0ZXBwZXJzLCBjaGVja3MgdGhlIHBhcmFtZXRlciBkZWZpbml0aW9uLAogICAgICAvLyBhbmQgbWFuYWdlcyB0aGUgc2FtcGxpbmcuIFRoaXMgaGVyZSBkZWZpbmVzIHRoZSBTYW1wbGVyICJpbnRlcmZhY2UiLgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZToKICAgICAgKiAgIHsibXUiOiB7InR5cGUiOiAicmVhbCJ9LCAic2lnbWEiOiB7InR5cGUiOiAicmVhbCIsICJsb3dlciIgPSAwfX0KICAgICAgKiAgIFRoZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMgZG9lc24ndCBoYXZlIHRvIGJlICJjb21wbGV0ZSIgYW5kIHByb3BlcnRpZXMKICAgICAgKiAgIGxlZnQgb3V0IChsaWtlIGxvd2VyIGFuZCB1cHBlcikgd2lsbCBiZSBmaWxsZWQgaW4gYnkgZGVmYXVsdHMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihzdGF0ZSwgZGF0YSkuIEhlcmUKICAgICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIAogICAgICAqICAga2V5IGFuZCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcyBudW1iZXJzIG9yIGFycmF5cy4gRm9yIGV4YW1wbGU6CiAgICAgICogICB7Im11IjogMywgInNpZ21hIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgCiAgICAgICogICB0aGUgZGF0YSBhcmd1bWVudCBnaXZlbiBiZWxvdy4KICAgICAgKiBAcGFyYW0gZGF0YSAtIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBsb2dfcG9zdCBmdW5jdGlvbgogICAgICAqICAgd2hlbiBzYW1wbGluZy4KICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHNhbXBsZXIuCiAgICAgICovCiAgICAgIHZhciBTYW1wbGVyID0gZnVuY3Rpb24gKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHsKICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtczsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMucGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CgogICAgICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3QKICAgICAgICB0aGlzLnBhcmFtX2luaXRfZnVuID0gZ2V0X29wdGlvbigicGFyYW1faW5pdF9mdW4iLCBvcHRpb25zLCBwYXJhbV9pbml0X2ZpeGVkKTsKICAgICAgICB2YXIgdGhpbm5pbmdfaW50ZXJ2YWwgPSBnZXRfb3B0aW9uKCJ0aGluIiwgb3B0aW9ucywgMSk7CiAgICAgICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbigibW9uaXRvciIsIG9wdGlvbnMsIG51bGwpOwogICAgICAgIHRoaXMudGhpbih0aGlubmluZ19pbnRlcnZhbCk7CiAgICAgICAgdGhpcy5tb25pdG9yKHBhcmFtc190b19tb25pdG9yKTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICAgIC8vIENvbXBsZXRpbmcgdGhlIHBhcmFtcyBhbmQgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZS4KICAgICAgICB0aGlzLnBhcmFtcyA9IGNvbXBsZXRlX3BhcmFtcyh0aGlzLnBhcmFtcywgdGhpcy5wYXJhbV9pbml0X2Z1bik7CiAgICAgICAgdmFyIHN0YXRlID0ge307CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBzdGF0ZVt0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dLmluaXQ7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbG9nX3Bvc3Qoc3RhdGUsIGRhdGEpOwogICAgICAgIH07CiAgICAgICAgLy8gUnVubmluZyB0aGUgbG9nX3Bvc3QgZnVuY3Rpb24gb25jZSBpbiBjYXNlIGl0IGZ1cnRoZXIgbW9kaWZpZXMgdGhlIHN0YXRlCiAgICAgICAgLy8gZm9yIGV4YW1wbGUgYWRkaW5nIGRlcml2ZWQgcXVhbnRpdGllcy4KICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMuc3RlcHBlcnMgPSB0aGlzLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKHRoaXMucGFyYW1zLCB0aGlzLnN0YXRlLCB0aGlzLmxvZ19wb3N0LCB0aGlzLm9wdGlvbnMpOwogICAgICB9OwoKICAgICAgLyoqIFNob3VsZCByZXR1cm4gYSB2ZWN0b3Igb2Ygc3RlcHBlcnMgdGhhdCB3aGVuIGNhbGxlZCAKICAgICAgICogc2hvdWxkIHRha2UgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuCiAgICAgICAqLwogICAgICBTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgbG9nX3Bvc3QpIHsKICAgICAgICB0aHJvdyAiRXZlcnkgU2FtcGxlciBuZWVkcyB0byBpbXBsZW1lbnQgY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUoKSI7CiAgICAgIH07CgogICAgICAvKiogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgU2FtcGxlci4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLAogICAgICAgICAgdGhpbjogdGhpcy50aGluLAogICAgICAgICAgbW9uaXRvcjogdGhpcy5tb25pdG9yLAogICAgICAgICAgc3RlcHBlcnM6IHRoaXMuc3RlcHBlcnMKICAgICAgICB9OwogICAgICB9OwoKICAgICAgLyoqIFRha2VzIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLiBSZXR1cm5zIHRoZSBuZXcgc3BhY2UKICAgICAgICogYnV0IGFsc28gbW9kaWZpZXMgdGhlIHN0YXRlIGluIHBsYWNlLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3RlcHBlcnMpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7CiAgICAgICAgfQogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGggPiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcykubGVuZ3RoKSB7CiAgICAgICAgICAvLyBUaGUgc3RhdGUgY29udGFpbnMgZGV2aXZlZCBxdWFudGl0aWVzIChub3Qgb25seSBwYXJhbWV0ZXJzKSBhbmQgd2UKICAgICAgICAgIC8vIG5lZWQgdG8gcnVuIHRoZSBsb2dfcG9zdCBvbmNlIG1vcmUgaW4gb3JkZXIgdG8gc2V0IHRoZSBkZXJpdmVkIHF1YW50aXRpZXMKICAgICAgICAgIC8vIGZvciB0aGUgZmluYWwgcGFyYW1ldGVyIHN0YXRlCiAgICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9ucyBzdGVwcyBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlIGFuZCByZXR1cm5zIHRoZW0KICAgICAgICogYXMgYW4gb2JqZWN0IG9mIGFycmF5cyB3aXRoIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyLiBGb3IgZXhhbXBsZToKICAgICAgICoge211OiBbMSwgLTEsIDIsIDMsIC4uLl0sIHNpZ21hOiBbMSwgMiwgMiwgMSwgLi4uXX0uCiAgICAgICAqIElmIHRoaW4gaXMgPiAxIHRoZW4gbl9pdGVyYXRpb25zIC8gdGhpbiBzYW1wbGVzIGFyZSByZXR1cm5lZC4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICAvLyBJbml0aWFsaXppbmcgY3Vycl9zYW1wbGUgd2hlcmUgdGhlIHNhbXBsZSBpcyBnb2luZyB0byBiZSBzYXZlZAogICAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC4KICAgICAgICB2YXIgaSwgaiwgbW9uaXRvcmVkX3BhcmFtczsKICAgICAgICBpZiAodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7CiAgICAgICAgICBtb25pdG9yZWRfcGFyYW1zID0gT2JqZWN0LmtleXModGhpcy5zdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7CiAgICAgICAgfQogICAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9OwogICAgICAgIGZvciAoaiA9IDA7IGogPCBtb25pdG9yZWRfcGFyYW1zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdOwogICAgICAgIH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbl9pdGVyYXRpb25zOyBpKyspIHsKICAgICAgICAgIGlmIChpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkgewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07CiAgICAgICAgICAgICAgY3Vycl9zYW1wbGVbcGFyYW1dLnB1c2goY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGN1cnJfc2FtcGxlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9uIHN0ZXBzIGluIHBhcmFtZXRlciBzcGFjZSBidXQgcmV0dXJucyBub3RoaW5nLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogU2V0cyB3aGF0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIG1vbml0b3JlZCBhbmQgcmV0dXJuZWQgd2hlbiBjYWxsaW5nCiAgICAgICAqIHNhbXBsZS4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLm1vbml0b3IgPSBmdW5jdGlvbiAocGFyYW1zX3RvX21vbml0b3IpIHsKICAgICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yCiAgICAgICAqIGRyYXcgd2lsbCBiZSBrZXB0LgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUudGhpbiA9IGZ1bmN0aW9uICh0aGlubmluZ19pbnRlcnZhbCkgewogICAgICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb2ZmLCBpZiBhcHBsaWNhYmxlLCBpbiBhbGwgc3RlcHBlcnMuCiAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqCiAgICAgICogQGNsYXNzCiAgICAgICogQGltcGxlbWVudHMge1NhbXBsZXJ9CiAgICAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIAogICAgICAqIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiAiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQyIKICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLiBBbiBhZGl0aW9uIGlzIHRoYXQgaXQgaGFuZGxlcyBpbnQgcGFyYW1ldGVycwogICAgICAqIGJ5IG1ha2luZyBkaXNjcmV0ZSBOb3JtYWwgcHJvcG9zYWxzIGFuZCBiaW5hcnkgcGFyYW1ldGVycyBieSB0YWtpbmcgb24gYSBuZXcgCiAgICAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlCiAgICAgICogcGFyYW1ldGVyLiBUaGlzIHNhbXBsZXIgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycwogICAgICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuCiAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uIChwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7CiAgICAgICAgU2FtcGxlci5jYWxsKHRoaXMsIHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpOwogICAgICB9OwogICAgICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsKICAgICAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1NhbXBsZXI7CiAgICAgIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIHJldHVybiBbbmV3IEFtd2dTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKV07CiAgICAgIH07CgogICAgICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlCiAgICAgIHJldHVybiB7CiAgICAgICAgcnVuaWY6IHJ1bmlmLAogICAgICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSwKICAgICAgICBybm9ybTogcm5vcm0sCiAgICAgICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwKICAgICAgICBjb21wbGV0ZV9wYXJhbXM6IGNvbXBsZXRlX3BhcmFtcywKICAgICAgICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXI6IFJlYWxNZXRyb3BvbGlzU3RlcHBlciwKICAgICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLAogICAgICAgIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwKICAgICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyOiBCaW5hcnlDb21wb25lbnRTdGVwcGVyLAogICAgICAgIEFtd2dTdGVwcGVyOiBBbXdnU3RlcHBlciwKICAgICAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXIKICAgICAgfTsKICAgIH0pOwogIH0pKG1jbWMkMSk7CiAgdmFyIG1jbWNFeHBvcnRzID0gbWNtYyQxLmV4cG9ydHM7CgogIGZ1bmN0aW9uIGFzY2VuZGluZyQxKGEsIGIpIHsKICAgIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiogbnVtYmVycyh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHsKICAgICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkgewogICAgICAgICAgeWllbGQgdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nJDEpIHsKICAgIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmckMSkgcmV0dXJuIGFzY2VuZGluZ0RlZmluZWQ7CiAgICBpZiAodHlwZW9mIGNvbXBhcmUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgIHJldHVybiAoYSwgYikgPT4gewogICAgICBjb25zdCB4ID0gY29tcGFyZShhLCBiKTsKICAgICAgaWYgKHggfHwgeCA9PT0gMCkgcmV0dXJuIHg7CiAgICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHsKICAgIHJldHVybiAoYSA9PSBudWxsIHx8ICEoYSA+PSBhKSkgLSAoYiA9PSBudWxsIHx8ICEoYiA+PSBiKSkgfHwgKGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwKTsKICB9CgogIGZ1bmN0aW9uIG1heCh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIGxldCBtYXg7CiAgICB7CiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkgewogICAgICAgICAgbWF4ID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbWF4OwogIH0KCiAgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikgewogICAgbGV0IG1pbjsKICAgIHsKICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAobWluID4gdmFsdWUgfHwgbWluID09PSB1bmRlZmluZWQgJiYgdmFsdWUgPj0gdmFsdWUpKSB7CiAgICAgICAgICBtaW4gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBtaW47CiAgfQoKICAvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdAogIC8vIElTQyBsaWNlbnNlLCBDb3B5cmlnaHQgMjAxOCBWbGFkaW1pciBBZ2Fmb25raW4uCiAgZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyYXksIGssIGxlZnQgPSAwLCByaWdodCA9IEluZmluaXR5LCBjb21wYXJlKSB7CiAgICBrID0gTWF0aC5mbG9vcihrKTsKICAgIGxlZnQgPSBNYXRoLmZsb29yKE1hdGgubWF4KDAsIGxlZnQpKTsKICAgIHJpZ2h0ID0gTWF0aC5mbG9vcihNYXRoLm1pbihhcnJheS5sZW5ndGggLSAxLCByaWdodCkpOwogICAgaWYgKCEobGVmdCA8PSBrICYmIGsgPD0gcmlnaHQpKSByZXR1cm4gYXJyYXk7CiAgICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpOwogICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkgewogICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7CiAgICAgICAgY29uc3QgbiA9IHJpZ2h0IC0gbGVmdCArIDE7CiAgICAgICAgY29uc3QgbSA9IGsgLSBsZWZ0ICsgMTsKICAgICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7CiAgICAgICAgY29uc3QgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7CiAgICAgICAgY29uc3Qgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7CiAgICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7CiAgICAgICAgY29uc3QgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTsKICAgICAgICBxdWlja3NlbGVjdChhcnJheSwgaywgbmV3TGVmdCwgbmV3UmlnaHQsIGNvbXBhcmUpOwogICAgICB9CiAgICAgIGNvbnN0IHQgPSBhcnJheVtrXTsKICAgICAgbGV0IGkgPSBsZWZ0OwogICAgICBsZXQgaiA9IHJpZ2h0OwogICAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTsKICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyYXksIGxlZnQsIHJpZ2h0KTsKICAgICAgd2hpbGUgKGkgPCBqKSB7CiAgICAgICAgc3dhcChhcnJheSwgaSwgaiksICsraSwgLS1qOwogICAgICAgIHdoaWxlIChjb21wYXJlKGFycmF5W2ldLCB0KSA8IDApICsraTsKICAgICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7CiAgICAgIH0KICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpOwogICAgICBpZiAoaiA8PSBrKSBsZWZ0ID0gaiArIDE7CiAgICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7CiAgICB9CiAgICByZXR1cm4gYXJyYXk7CiAgfQogIGZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHsKICAgIGNvbnN0IHQgPSBhcnJheVtpXTsKICAgIGFycmF5W2ldID0gYXJyYXlbal07CiAgICBhcnJheVtqXSA9IHQ7CiAgfQoKICBmdW5jdGlvbiBxdWFudGlsZSh2YWx1ZXMsIHAsIHZhbHVlb2YpIHsKICAgIHZhbHVlcyA9IEZsb2F0NjRBcnJheS5mcm9tKG51bWJlcnModmFsdWVzKSk7CiAgICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuOwogICAgaWYgKHAgPD0gMCB8fCBuIDwgMikgcmV0dXJuIG1pbih2YWx1ZXMpOwogICAgaWYgKHAgPj0gMSkgcmV0dXJuIG1heCh2YWx1ZXMpOwogICAgdmFyIG4sCiAgICAgIGkgPSAobiAtIDEpICogcCwKICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLAogICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksCiAgICAgIHZhbHVlMSA9IG1pbih2YWx1ZXMuc3ViYXJyYXkoaTAgKyAxKSk7CiAgICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTsKICB9CgogIGZ1bmN0aW9uIG1lZGlhbih2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHJldHVybiBxdWFudGlsZSh2YWx1ZXMsIDAuNSk7CiAgfQoKICB2YXIgbm9vcCA9IHsKICAgIHZhbHVlOiAoKSA9PiB7fQogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2goKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkgewogICAgICBpZiAoISh0ID0gYXJndW1lbnRzW2ldICsgIiIpIHx8IHQgaW4gXyB8fCAvW1xzLl0vLnRlc3QodCkpIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiICsgdCk7CiAgICAgIF9bdF0gPSBbXTsKICAgIH0KICAgIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7CiAgfQogIGZ1bmN0aW9uIERpc3BhdGNoKF8pIHsKICAgIHRoaXMuXyA9IF87CiAgfQogIGZ1bmN0aW9uIHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWVzLCB0eXBlcykgewogICAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XHMrLykubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuYW1lID0gIiIsCiAgICAgICAgaSA9IHQuaW5kZXhPZigiLiIpOwogICAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpOwogICAgICBpZiAodCAmJiAhdHlwZXMuaGFzT3duUHJvcGVydHkodCkpIHRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiICsgdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogdCwKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH07CiAgICB9KTsKICB9CiAgRGlzcGF0Y2gucHJvdG90eXBlID0gZGlzcGF0Y2gucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IERpc3BhdGNoLAogICAgb246IGZ1bmN0aW9uICh0eXBlbmFtZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF8gPSB0aGlzLl8sCiAgICAgICAgVCA9IHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWUgKyAiIiwgXyksCiAgICAgICAgdCwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IFQubGVuZ3RoOwoKICAgICAgLy8gSWYgbm8gY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmV0dXJuIHRoZSBjYWxsYmFjayBvZiB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7CiAgICAgICAgd2hpbGUgKCsraSA8IG4pIGlmICgodCA9ICh0eXBlbmFtZSA9IFRbaV0pLnR5cGUpICYmICh0ID0gZ2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIElmIGEgdHlwZSB3YXMgc3BlY2lmaWVkLCBzZXQgdGhlIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS4KICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIgKyBjYWxsYmFjayk7CiAgICAgIHdoaWxlICgrK2kgPCBuKSB7CiAgICAgICAgaWYgKHQgPSAodHlwZW5hbWUgPSBUW2ldKS50eXBlKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgY2FsbGJhY2spO2Vsc2UgaWYgKGNhbGxiYWNrID09IG51bGwpIGZvciAodCBpbiBfKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgbnVsbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY29weTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29weSA9IHt9LAogICAgICAgIF8gPSB0aGlzLl87CiAgICAgIGZvciAodmFyIHQgaW4gXykgY29weVt0XSA9IF9bdF0uc2xpY2UoKTsKICAgICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTsKICAgIH0sCiAgICBjYWxsOiBmdW5jdGlvbiAodHlwZSwgdGhhdCkgewogICAgICBpZiAoKG4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMikgPiAwKSBmb3IgKHZhciBhcmdzID0gbmV3IEFycmF5KG4pLCBpID0gMCwgbiwgdDsgaSA8IG47ICsraSkgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMl07CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7CiAgICB9LAogICAgYXBwbHk6IGZ1bmN0aW9uICh0eXBlLCB0aGF0LCBhcmdzKSB7CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHZhciB0ID0gdGhpcy5fW3R5cGVdLCBpID0gMCwgbiA9IHQubGVuZ3RoOyBpIDwgbjsgKytpKSB0W2ldLnZhbHVlLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgfQogIH07CiAgZnVuY3Rpb24gZ2V0JDEodHlwZSwgbmFtZSkgewogICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0eXBlLmxlbmd0aCwgYzsgaSA8IG47ICsraSkgewogICAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgcmV0dXJuIGMudmFsdWU7CiAgICAgIH0KICAgIH0KICB9CiAgZnVuY3Rpb24gc2V0JDEodHlwZSwgbmFtZSwgY2FsbGJhY2spIHsKICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAgaWYgKHR5cGVbaV0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgIHR5cGVbaV0gPSBub29wLCB0eXBlID0gdHlwZS5zbGljZSgwLCBpKS5jb25jYXQodHlwZS5zbGljZShpICsgMSkpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHsKICAgICAgbmFtZTogbmFtZSwKICAgICAgdmFsdWU6IGNhbGxiYWNrCiAgICB9KTsKICAgIHJldHVybiB0eXBlOwogIH0KCiAgdmFyIHhodG1sID0gImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiOwogIHZhciBuYW1lc3BhY2VzID0gewogICAgc3ZnOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAogICAgeGh0bWw6IHhodG1sLAogICAgeGxpbms6ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwKICAgIHhtbDogImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsCiAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIgogIH07CgogIGZ1bmN0aW9uIG5hbWVzcGFjZSAobmFtZSkgewogICAgdmFyIHByZWZpeCA9IG5hbWUgKz0gIiIsCiAgICAgIGkgPSBwcmVmaXguaW5kZXhPZigiOiIpOwogICAgaWYgKGkgPj0gMCAmJiAocHJlZml4ID0gbmFtZS5zbGljZSgwLCBpKSkgIT09ICJ4bWxucyIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTsKICAgIHJldHVybiBuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkgPyB7CiAgICAgIHNwYWNlOiBuYW1lc3BhY2VzW3ByZWZpeF0sCiAgICAgIGxvY2FsOiBuYW1lCiAgICB9IDogbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICB9CgogIGZ1bmN0aW9uIGNyZWF0b3JJbmhlcml0KG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMub3duZXJEb2N1bWVudCwKICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTsKICAgICAgcmV0dXJuIHVyaSA9PT0geGh0bWwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0geGh0bWwgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHVyaSwgbmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yRml4ZWQoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yIChuYW1lKSB7CiAgICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7CiAgICByZXR1cm4gKGZ1bGxuYW1lLmxvY2FsID8gY3JlYXRvckZpeGVkIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTsKICB9CgogIGZ1bmN0aW9uIG5vbmUoKSB7fQogIGZ1bmN0aW9uIHNlbGVjdG9yIChzZWxlY3RvcikgewogICAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBub25lIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7CiAgfQoKICAvLyBHaXZlbiBzb21ldGhpbmcgYXJyYXkgbGlrZSAob3IgbnVsbCksIHJldHVybnMgc29tZXRoaW5nIHRoYXQgaXMgc3RyaWN0bHkgYW4KICAvLyBhcnJheS4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IGFycmF5LWxpa2Ugb2JqZWN0cyBwYXNzZWQgdG8gZDMuc2VsZWN0QWxsCiAgLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGEKICAvLyBzZWxlY3Rpb247IHdlIGRvbuKAmXQgZXZlciB3YW50IHRvIGNyZWF0ZSBhIHNlbGVjdGlvbiBiYWNrZWQgYnkgYSBsaXZlCiAgLy8gSFRNTENvbGxlY3Rpb24gb3IgTm9kZUxpc3QuIEhvd2V2ZXIsIG5vdGUgdGhhdCBzZWxlY3Rpb24uc2VsZWN0QWxsIHdpbGwgdXNlIGEKICAvLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLgogIGZ1bmN0aW9uIGFycmF5KHgpIHsKICAgIHJldHVybiB4ID09IG51bGwgPyBbXSA6IEFycmF5LmlzQXJyYXkoeCkgPyB4IDogQXJyYXkuZnJvbSh4KTsKICB9CgogIGZ1bmN0aW9uIGVtcHR5KCkgewogICAgcmV0dXJuIFtdOwogIH0KICBmdW5jdGlvbiBzZWxlY3RvckFsbCAoc2VsZWN0b3IpIHsKICAgIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gZW1wdHkgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGFycmF5QWxsKHNlbGVjdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGFycmF5KHNlbGVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3RBbGwgKHNlbGVjdCkgewogICAgaWYgKHR5cGVvZiBzZWxlY3QgPT09ICJmdW5jdGlvbiIpIHNlbGVjdCA9IGFycmF5QWxsKHNlbGVjdCk7ZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKTsKICAgICAgICAgIHBhcmVudHMucHVzaChub2RlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoc3ViZ3JvdXBzLCBwYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIG1hdGNoZXIgKHNlbGVjdG9yKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHNlbGVjdG9yKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkTWF0Y2hlcihzZWxlY3RvcikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIHZhciBmaW5kID0gQXJyYXkucHJvdG90eXBlLmZpbmQ7CiAgZnVuY3Rpb24gY2hpbGRGaW5kKG1hdGNoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZmluZC5jYWxsKHRoaXMuY2hpbGRyZW4sIG1hdGNoKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkRmlyc3QoKSB7CiAgICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NlbGVjdENoaWxkIChtYXRjaCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0IDogY2hpbGRGaW5kKHR5cGVvZiBtYXRjaCA9PT0gImZ1bmN0aW9uIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpOwogIH0KCiAgdmFyIGZpbHRlciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXI7CiAgZnVuY3Rpb24gY2hpbGRyZW4oKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKTsKICB9CiAgZnVuY3Rpb24gY2hpbGRyZW5GaWx0ZXIobWF0Y2gpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLmNoaWxkcmVuLCBtYXRjaCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gKG1hdGNoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuIDogY2hpbGRyZW5GaWx0ZXIodHlwZW9mIG1hdGNoID09PSAiZnVuY3Rpb24iID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZmlsdGVyIChtYXRjaCkgewogICAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gImZ1bmN0aW9uIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7CiAgICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMShzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpOwogIH0KCiAgZnVuY3Rpb24gc3BhcnNlICh1cGRhdGUpIHsKICAgIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW50ZXIgKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMSh0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpOwogIH0KICBmdW5jdGlvbiBFbnRlck5vZGUocGFyZW50LCBkYXR1bSkgewogICAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7CiAgICB0aGlzLm5hbWVzcGFjZVVSSSA9IHBhcmVudC5uYW1lc3BhY2VVUkk7CiAgICB0aGlzLl9uZXh0ID0gbnVsbDsKICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDsKICAgIHRoaXMuX19kYXRhX18gPSBkYXR1bTsKICB9CiAgRW50ZXJOb2RlLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBFbnRlck5vZGUsCiAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCB0aGlzLl9uZXh0KTsKICAgIH0sCiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChjaGlsZCwgbmV4dCkgewogICAgICByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gY29uc3RhbnQkMSAoeCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHg7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHsKICAgIHZhciBpID0gMCwKICAgICAgbm9kZSwKICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsCiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDsKCiAgICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZml0IGludG8gdXBkYXRlLgogICAgLy8gUHV0IGFueSBudWxsIG5vZGVzIGludG8gZW50ZXIuCiAgICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuCiAgICBmb3IgKDsgaSA8IGRhdGFMZW5ndGg7ICsraSkgewogICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07CiAgICAgICAgdXBkYXRlW2ldID0gbm9kZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTsKICAgICAgfQogICAgfQoKICAgIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBkb27igJl0IGZpdCBpbnRvIGV4aXQuCiAgICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGJpbmRLZXkocGFyZW50LCBncm91cCwgZW50ZXIsIHVwZGF0ZSwgZXhpdCwgZGF0YSwga2V5KSB7CiAgICB2YXIgaSwKICAgICAgbm9kZSwKICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwKCksCiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgIGtleVZhbHVlcyA9IG5ldyBBcnJheShncm91cExlbmd0aCksCiAgICAgIGtleVZhbHVlOwoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBub2RlLgogICAgLy8gSWYgbXVsdGlwbGUgbm9kZXMgaGF2ZSB0aGUgc2FtZSBrZXksIHRoZSBkdXBsaWNhdGVzIGFyZSBhZGRlZCB0byBleGl0LgogICAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGtleVZhbHVlc1tpXSA9IGtleVZhbHVlID0ga2V5LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApICsgIiI7CiAgICAgICAgaWYgKG5vZGVCeUtleVZhbHVlLmhhcyhrZXlWYWx1ZSkpIHsKICAgICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlQnlLZXlWYWx1ZS5zZXQoa2V5VmFsdWUsIG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBkYXR1bS4KICAgIC8vIElmIHRoZXJlIGEgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBrZXksIGpvaW4gYW5kIGFkZCBpdCB0byB1cGRhdGUuCiAgICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuCiAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7CiAgICAgIGtleVZhbHVlID0ga2V5LmNhbGwocGFyZW50LCBkYXRhW2ldLCBpLCBkYXRhKSArICIiOwogICAgICBpZiAobm9kZSA9IG5vZGVCeUtleVZhbHVlLmdldChrZXlWYWx1ZSkpIHsKICAgICAgICB1cGRhdGVbaV0gPSBub2RlOwogICAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldOwogICAgICAgIG5vZGVCeUtleVZhbHVlLmRlbGV0ZShrZXlWYWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBBZGQgYW55IHJlbWFpbmluZyBub2RlcyB0aGF0IHdlcmUgbm90IGJvdW5kIHRvIGRhdGEgdG8gZXhpdC4KICAgIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7CiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGRhdHVtKG5vZGUpIHsKICAgIHJldHVybiBub2RlLl9fZGF0YV9fOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0YSAodmFsdWUsIGtleSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLCBkYXR1bSk7CiAgICB2YXIgYmluZCA9IGtleSA/IGJpbmRLZXkgOiBiaW5kSW5kZXgsCiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLAogICAgICBncm91cHMgPSB0aGlzLl9ncm91cHM7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB2YWx1ZSA9IGNvbnN0YW50JDEodmFsdWUpOwogICAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIHZhciBwYXJlbnQgPSBwYXJlbnRzW2pdLAogICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLAogICAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICAgIGRhdGEgPSBhcnJheWxpa2UodmFsdWUuY2FsbChwYXJlbnQsIHBhcmVudCAmJiBwYXJlbnQuX19kYXRhX18sIGosIHBhcmVudHMpKSwKICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgICAgZW50ZXJHcm91cCA9IGVudGVyW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIHVwZGF0ZUdyb3VwID0gdXBkYXRlW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpOwogICAgICBiaW5kKHBhcmVudCwgZ3JvdXAsIGVudGVyR3JvdXAsIHVwZGF0ZUdyb3VwLCBleGl0R3JvdXAsIGRhdGEsIGtleSk7CgogICAgICAvLyBOb3cgY29ubmVjdCB0aGUgZW50ZXIgbm9kZXMgdG8gdGhlaXIgZm9sbG93aW5nIHVwZGF0ZSBub2RlLCBzdWNoIHRoYXQKICAgICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSwKICAgICAgLy8gcmF0aGVyIHRoYW4gYXQgdGhlIGVuZCBvZiB0aGUgcGFyZW50IG5vZGUuCiAgICAgIGZvciAodmFyIGkwID0gMCwgaTEgPSAwLCBwcmV2aW91cywgbmV4dDsgaTAgPCBkYXRhTGVuZ3RoOyArK2kwKSB7CiAgICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHsKICAgICAgICAgIGlmIChpMCA+PSBpMSkgaTEgPSBpMCArIDE7CiAgICAgICAgICB3aGlsZSAoIShuZXh0ID0gdXBkYXRlR3JvdXBbaTFdKSAmJiArK2kxIDwgZGF0YUxlbmd0aCk7CiAgICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHVwZGF0ZSA9IG5ldyBTZWxlY3Rpb24kMSh1cGRhdGUsIHBhcmVudHMpOwogICAgdXBkYXRlLl9lbnRlciA9IGVudGVyOwogICAgdXBkYXRlLl9leGl0ID0gZXhpdDsKICAgIHJldHVybiB1cGRhdGU7CiAgfQoKICAvLyBHaXZlbiBzb21lIGRhdGEsIHRoaXMgcmV0dXJucyBhbiBhcnJheS1saWtlIHZpZXcgb2YgaXQ6IGFuIG9iamVjdCB0aGF0CiAgLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2UKICAvLyBzZWxlY3RBbGwsIHRoaXMgaXNu4oCZdCB3b3JyaWVkIGFib3V0IOKAnGxpdmXigJ0gY29sbGVjdGlvbnMgYmVjYXVzZSB0aGUgcmVzdWx0aW5nCiAgLy8gYXJyYXkgd2lsbCBvbmx5IGJlIHVzZWQgYnJpZWZseSB3aGlsZSBkYXRhIGlzIGJlaW5nIGJvdW5kLiAoSXQgaXMgcG9zc2libGUgdG8KICAvLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlCiAgLy8gZG9u4oCZdDsgd2XigJlkIHJhdGhlciBhdm9pZCBhIGdyYXR1aXRvdXMgY29weS4pCiAgZnVuY3Rpb24gYXJyYXlsaWtlKGRhdGEpIHsKICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gIm9iamVjdCIgJiYgImxlbmd0aCIgaW4gZGF0YSA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlCiAgICA6IEFycmF5LmZyb20oZGF0YSk7IC8vIE1hcCwgU2V0LCBpdGVyYWJsZSwgc3RyaW5nLCBvciBhbnl0aGluZyBlbHNlCiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZXhpdCAoKSB7CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHRoaXMuX2V4aXQgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9qb2luIChvbmVudGVyLCBvbnVwZGF0ZSwgb25leGl0KSB7CiAgICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksCiAgICAgIHVwZGF0ZSA9IHRoaXMsCiAgICAgIGV4aXQgPSB0aGlzLmV4aXQoKTsKICAgIGlmICh0eXBlb2Ygb25lbnRlciA9PT0gImZ1bmN0aW9uIikgewogICAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpOwogICAgICBpZiAoZW50ZXIpIGVudGVyID0gZW50ZXIuc2VsZWN0aW9uKCk7CiAgICB9IGVsc2UgewogICAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgIiIpOwogICAgfQogICAgaWYgKG9udXBkYXRlICE9IG51bGwpIHsKICAgICAgdXBkYXRlID0gb251cGRhdGUodXBkYXRlKTsKICAgICAgaWYgKHVwZGF0ZSkgdXBkYXRlID0gdXBkYXRlLnNlbGVjdGlvbigpOwogICAgfQogICAgaWYgKG9uZXhpdCA9PSBudWxsKSBleGl0LnJlbW92ZSgpO2Vsc2Ugb25leGl0KGV4aXQpOwogICAgcmV0dXJuIGVudGVyICYmIHVwZGF0ZSA/IGVudGVyLm1lcmdlKHVwZGF0ZSkub3JkZXIoKSA6IHVwZGF0ZTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9tZXJnZSAoY29udGV4dCkgewogICAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7CiAgICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gc2VsZWN0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEobWVyZ2VzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9vcmRlciAoKSB7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAtMSwgbSA9IGdyb3Vwcy5sZW5ndGg7ICsraiA8IG07KSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBpZiAobmV4dCAmJiBub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHQpIF4gNCkgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBuZXh0KTsKICAgICAgICAgIG5leHQgPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc29ydCAoY29tcGFyZSkgewogICAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nOwogICAgZnVuY3Rpb24gY29tcGFyZU5vZGUoYSwgYikgewogICAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7CiAgICB9CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc29ydGdyb3VwID0gc29ydGdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHNvcnRncm91cHMsIHRoaXMuX3BhcmVudHMpLm9yZGVyKCk7CiAgfQogIGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7CiAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fY2FsbCAoKSB7CiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07CiAgICBhcmd1bWVudHNbMF0gPSB0aGlzOwogICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGVzICgpIHsKICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGUgKCkgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgdmFyIG5vZGUgPSBncm91cFtpXTsKICAgICAgICBpZiAobm9kZSkgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NpemUgKCkgewogICAgbGV0IHNpemUgPSAwOwogICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgcmV0dXJuIHNpemU7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW1wdHkgKCkgewogICAgcmV0dXJuICF0aGlzLm5vZGUoKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9lYWNoIChjYWxsYmFjaykgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gYXR0clJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TJDEoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJDb25zdGFudCQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnROUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIHZhbHVlKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJGdW5jdGlvbiQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO2Vsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb25OUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7ZWxzZSB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fYXR0ciAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSgpOwogICAgICByZXR1cm4gZnVsbG5hbWUubG9jYWwgPyBub2RlLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCkgOiBub2RlLmdldEF0dHJpYnV0ZShmdWxsbmFtZSk7CiAgICB9CiAgICByZXR1cm4gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsID8gZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMkMSA6IGF0dHJSZW1vdmUkMSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMkMSA6IGF0dHJGdW5jdGlvbiQxIDogZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyQxIDogYXR0ckNvbnN0YW50JDEpKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVmYXVsdFZpZXcgKG5vZGUpIHsKICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IC8vIG5vZGUgaXMgYSBOb2RlCiAgICB8fCBub2RlLmRvY3VtZW50ICYmIG5vZGUgLy8gbm9kZSBpcyBhIFdpbmRvdwogICAgfHwgbm9kZS5kZWZhdWx0VmlldzsgLy8gbm9kZSBpcyBhIERvY3VtZW50CiAgfQoKICBmdW5jdGlvbiBzdHlsZVJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUNvbnN0YW50JDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBwcmlvcml0eSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uJDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7ZWxzZSB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHYsIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zdHlsZSAobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBzdHlsZVJlbW92ZSQxIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gc3R5bGVGdW5jdGlvbiQxIDogc3R5bGVDb25zdGFudCQxKShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/ICIiIDogcHJpb3JpdHkpKSA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpOwogIH0KICBmdW5jdGlvbiBzdHlsZVZhbHVlKG5vZGUsIG5hbWUpIHsKICAgIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgZGVmYXVsdFZpZXcobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpOwogIH0KCiAgZnVuY3Rpb24gcHJvcGVydHlSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZGVsZXRlIHRoaXNbbmFtZV07CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzW25hbWVdID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIGRlbGV0ZSB0aGlzW25hbWVdO2Vsc2UgdGhpc1tuYW1lXSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcHJvcGVydHkgKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHByb3BlcnR5RnVuY3Rpb24gOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpIDogdGhpcy5ub2RlKClbbmFtZV07CiAgfQoKICBmdW5jdGlvbiBjbGFzc0FycmF5KHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XHMrLyk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzTGlzdChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTsKICB9CiAgZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHsKICAgIHRoaXMuX25vZGUgPSBub2RlOwogICAgdGhpcy5fbmFtZXMgPSBjbGFzc0FycmF5KG5vZGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiKTsKICB9CiAgQ2xhc3NMaXN0LnByb3RvdHlwZSA9IHsKICAgIGFkZDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIGkgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpOwogICAgICBpZiAoaSA8IDApIHsKICAgICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHRoaXMuX25hbWVzLmpvaW4oIiAiKSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTsKICAgICAgaWYgKGkgPj0gMCkgewogICAgICAgIHRoaXMuX25hbWVzLnNwbGljZShpLCAxKTsKICAgICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0aGlzLl9uYW1lcy5qb2luKCIgIikpOwogICAgICB9CiAgICB9LAogICAgY29udGFpbnM6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7CiAgICB9CiAgfTsKICBmdW5jdGlvbiBjbGFzc2VkQWRkKG5vZGUsIG5hbWVzKSB7CiAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwKICAgICAgaSA9IC0xLAogICAgICBuID0gbmFtZXMubGVuZ3RoOwogICAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTsKICB9CiAgZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykgewogICAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksCiAgICAgIGkgPSAtMSwKICAgICAgbiA9IG5hbWVzLmxlbmd0aDsKICAgIHdoaWxlICgrK2kgPCBuKSBsaXN0LnJlbW92ZShuYW1lc1tpXSk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRUcnVlKG5hbWVzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBjbGFzc2VkQWRkKHRoaXMsIG5hbWVzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjbGFzc2VkRnVuY3Rpb24obmFtZXMsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAodmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA/IGNsYXNzZWRBZGQgOiBjbGFzc2VkUmVtb3ZlKSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fY2xhc3NlZCAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBuYW1lcyA9IGNsYXNzQXJyYXkobmFtZSArICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdCh0aGlzLm5vZGUoKSksCiAgICAgICAgaSA9IC0xLAogICAgICAgIG4gPSBuYW1lcy5sZW5ndGg7CiAgICAgIHdoaWxlICgrK2kgPCBuKSBpZiAoIWxpc3QuY29udGFpbnMobmFtZXNbaV0pKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gY2xhc3NlZEZ1bmN0aW9uIDogdmFsdWUgPyBjbGFzc2VkVHJ1ZSA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkgewogICAgdGhpcy50ZXh0Q29udGVudCA9ICIiOwogIH0KICBmdW5jdGlvbiB0ZXh0Q29uc3RhbnQkMSh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdGV4dEZ1bmN0aW9uJDEodmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl90ZXh0ICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGV4dEZ1bmN0aW9uJDEgOiB0ZXh0Q29uc3RhbnQkMSkodmFsdWUpKSA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50OwogIH0KCiAgZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHsKICAgIHRoaXMuaW5uZXJIVE1MID0gIiI7CiAgfQogIGZ1bmN0aW9uIGh0bWxDb25zdGFudCh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5pbm5lckhUTUwgPSB2YWx1ZTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB0aGlzLmlubmVySFRNTCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9odG1sICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IGh0bWxSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gaHRtbEZ1bmN0aW9uIDogaHRtbENvbnN0YW50KSh2YWx1ZSkpIDogdGhpcy5ub2RlKCkuaW5uZXJIVE1MOwogIH0KCiAgZnVuY3Rpb24gcmFpc2UoKSB7CiAgICBpZiAodGhpcy5uZXh0U2libGluZykgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcmFpc2UgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyYWlzZSk7CiAgfQoKICBmdW5jdGlvbiBsb3dlcigpIHsKICAgIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9sb3dlciAoKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9hcHBlbmQgKG5hbWUpIHsKICAgIHZhciBjcmVhdGUgPSB0eXBlb2YgbmFtZSA9PT0gImZ1bmN0aW9uIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjb25zdGFudE51bGwoKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2luc2VydCAobmFtZSwgYmVmb3JlKSB7CiAgICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09ICJmdW5jdGlvbiIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSwKICAgICAgc2VsZWN0ID0gYmVmb3JlID09IG51bGwgPyBjb25zdGFudE51bGwgOiB0eXBlb2YgYmVmb3JlID09PSAiZnVuY3Rpb24iID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTsKICAgIHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9yZW1vdmUgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyZW1vdmUpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Nsb25lU2hhbGxvdygpIHsKICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKGZhbHNlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7CiAgICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZSh0cnVlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZSAoZGVlcCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGRlZXAgPyBzZWxlY3Rpb25fY2xvbmVEZWVwIDogc2VsZWN0aW9uX2Nsb25lU2hhbGxvdyk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0dW0gKHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMucHJvcGVydHkoIl9fZGF0YV9fIiwgdmFsdWUpIDogdGhpcy5ub2RlKCkuX19kYXRhX187CiAgfQoKICBmdW5jdGlvbiBjb250ZXh0TGlzdGVuZXIobGlzdGVuZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCwgdGhpcy5fX2RhdGFfXyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMpIHsKICAgIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxzKy8pLm1hcChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbmFtZSA9ICIiLAogICAgICAgIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiB0LAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBvblJlbW92ZSh0eXBlbmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uOwogICAgICBpZiAoIW9uKSByZXR1cm47CiAgICAgIGZvciAodmFyIGogPSAwLCBpID0gLTEsIG0gPSBvbi5sZW5ndGgsIG87IGogPCBtOyArK2opIHsKICAgICAgICBpZiAobyA9IG9uW2pdLCAoIXR5cGVuYW1lLnR5cGUgfHwgby50eXBlID09PSB0eXBlbmFtZS50eXBlKSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9uWysraV0gPSBvOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKytpKSBvbi5sZW5ndGggPSBpO2Vsc2UgZGVsZXRlIHRoaXMuX19vbjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uLAogICAgICAgIG8sCiAgICAgICAgbGlzdGVuZXIgPSBjb250ZXh0TGlzdGVuZXIodmFsdWUpOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoby50eXBlLCBvLmxpc3RlbmVyLCBvLm9wdGlvbnMpOwogICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciA9IGxpc3RlbmVyLCBvLm9wdGlvbnMgPSBvcHRpb25zKTsKICAgICAgICAgIG8udmFsdWUgPSB2YWx1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHR5cGVuYW1lLnR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsKICAgICAgbyA9IHsKICAgICAgICB0eXBlOiB0eXBlbmFtZS50eXBlLAogICAgICAgIG5hbWU6IHR5cGVuYW1lLm5hbWUsCiAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lciwKICAgICAgICBvcHRpb25zOiBvcHRpb25zCiAgICAgIH07CiAgICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtlbHNlIG9uLnB1c2gobyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fb24gKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgdmFyIHR5cGVuYW1lcyA9IHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lICsgIiIpLAogICAgICBpLAogICAgICBuID0gdHlwZW5hbWVzLmxlbmd0aCwKICAgICAgdDsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgb24gPSB0aGlzLm5vZGUoKS5fX29uOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7CiAgICAgICAgZm9yIChpID0gMCwgbyA9IG9uW2pdOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAoKHQgPSB0eXBlbmFtZXNbaV0pLnR5cGUgPT09IG8udHlwZSAmJiB0Lm5hbWUgPT09IG8ubmFtZSkgewogICAgICAgICAgICByZXR1cm4gby52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfQogICAgb24gPSB2YWx1ZSA/IG9uQWRkIDogb25SZW1vdmU7CiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB0aGlzLmVhY2gob24odHlwZW5hbWVzW2ldLCB2YWx1ZSwgb3B0aW9ucykpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykgewogICAgdmFyIHdpbmRvdyA9IGRlZmF1bHRWaWV3KG5vZGUpLAogICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDsKICAgIGlmICh0eXBlb2YgZXZlbnQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgZXZlbnQgPSBuZXcgZXZlbnQodHlwZSwgcGFyYW1zKTsKICAgIH0gZWxzZSB7CiAgICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpOwogICAgICBpZiAocGFyYW1zKSBldmVudC5pbml0RXZlbnQodHlwZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlKSwgZXZlbnQuZGV0YWlsID0gcGFyYW1zLmRldGFpbDtlbHNlIGV2ZW50LmluaXRFdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UpOwogICAgfQogICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hDb25zdGFudCh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Rpc3BhdGNoICh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiBwYXJhbXMgPT09ICJmdW5jdGlvbiIgPyBkaXNwYXRjaEZ1bmN0aW9uIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7CiAgfQoKICBmdW5jdGlvbiogc2VsZWN0aW9uX2l0ZXJhdG9yICgpIHsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHlpZWxkIG5vZGU7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciByb290ID0gW251bGxdOwogIGZ1bmN0aW9uIFNlbGVjdGlvbiQxKGdyb3VwcywgcGFyZW50cykgewogICAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzOwogICAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbigpIHsKICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpczsKICB9CiAgU2VsZWN0aW9uJDEucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBTZWxlY3Rpb24kMSwKICAgIHNlbGVjdDogc2VsZWN0aW9uX3NlbGVjdCwKICAgIHNlbGVjdEFsbDogc2VsZWN0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsCiAgICBzZWxlY3RDaGlsZHJlbjogc2VsZWN0aW9uX3NlbGVjdENoaWxkcmVuLAogICAgZmlsdGVyOiBzZWxlY3Rpb25fZmlsdGVyLAogICAgZGF0YTogc2VsZWN0aW9uX2RhdGEsCiAgICBlbnRlcjogc2VsZWN0aW9uX2VudGVyLAogICAgZXhpdDogc2VsZWN0aW9uX2V4aXQsCiAgICBqb2luOiBzZWxlY3Rpb25fam9pbiwKICAgIG1lcmdlOiBzZWxlY3Rpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHNlbGVjdGlvbl9zZWxlY3Rpb24sCiAgICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLAogICAgc29ydDogc2VsZWN0aW9uX3NvcnQsCiAgICBjYWxsOiBzZWxlY3Rpb25fY2FsbCwKICAgIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fbm9kZSwKICAgIHNpemU6IHNlbGVjdGlvbl9zaXplLAogICAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9lYWNoLAogICAgYXR0cjogc2VsZWN0aW9uX2F0dHIsCiAgICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLAogICAgcHJvcGVydHk6IHNlbGVjdGlvbl9wcm9wZXJ0eSwKICAgIGNsYXNzZWQ6IHNlbGVjdGlvbl9jbGFzc2VkLAogICAgdGV4dDogc2VsZWN0aW9uX3RleHQsCiAgICBodG1sOiBzZWxlY3Rpb25faHRtbCwKICAgIHJhaXNlOiBzZWxlY3Rpb25fcmFpc2UsCiAgICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLAogICAgYXBwZW5kOiBzZWxlY3Rpb25fYXBwZW5kLAogICAgaW5zZXJ0OiBzZWxlY3Rpb25faW5zZXJ0LAogICAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLAogICAgY2xvbmU6IHNlbGVjdGlvbl9jbG9uZSwKICAgIGRhdHVtOiBzZWxlY3Rpb25fZGF0dW0sCiAgICBvbjogc2VsZWN0aW9uX29uLAogICAgZGlzcGF0Y2g6IHNlbGVjdGlvbl9kaXNwYXRjaCwKICAgIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25faXRlcmF0b3IKICB9OwoKICBmdW5jdGlvbiBkZWZpbmUgKGNvbnN0cnVjdG9yLCBmYWN0b3J5LCBwcm90b3R5cGUpIHsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlOwogICAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHsKICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZm9yICh2YXIga2V5IGluIGRlZmluaXRpb24pIHByb3RvdHlwZVtrZXldID0gZGVmaW5pdGlvbltrZXldOwogICAgcmV0dXJuIHByb3RvdHlwZTsKICB9CgogIGZ1bmN0aW9uIENvbG9yKCkge30KICB2YXIgZGFya2VyID0gMC43OwogIHZhciBicmlnaHRlciA9IDEgLyBkYXJrZXI7CiAgdmFyIHJlSSA9ICJcXHMqKFsrLV0/XFxkKylcXHMqIiwKICAgIHJlTiA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPylcXHMqIiwKICAgIHJlUCA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPyklXFxzKiIsCiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLAogICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVJfSwke3JlSX0sJHtyZUl9XFwpJGApLAogICAgcmVSZ2JQZXJjZW50ID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVQfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVSZ2JhSW50ZWdlciA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFwpJGApLAogICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZVB9LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApLAogICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChgXmhzbFxcKCR7cmVOfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVIc2xhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5oc2xhXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApOwogIHZhciBuYW1lZCA9IHsKICAgIGFsaWNlYmx1ZTogMHhmMGY4ZmYsCiAgICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3LAogICAgYXF1YTogMHgwMGZmZmYsCiAgICBhcXVhbWFyaW5lOiAweDdmZmZkNCwKICAgIGF6dXJlOiAweGYwZmZmZiwKICAgIGJlaWdlOiAweGY1ZjVkYywKICAgIGJpc3F1ZTogMHhmZmU0YzQsCiAgICBibGFjazogMHgwMDAwMDAsCiAgICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsCiAgICBibHVlOiAweDAwMDBmZiwKICAgIGJsdWV2aW9sZXQ6IDB4OGEyYmUyLAogICAgYnJvd246IDB4YTUyYTJhLAogICAgYnVybHl3b29kOiAweGRlYjg4NywKICAgIGNhZGV0Ymx1ZTogMHg1ZjllYTAsCiAgICBjaGFydHJldXNlOiAweDdmZmYwMCwKICAgIGNob2NvbGF0ZTogMHhkMjY5MWUsCiAgICBjb3JhbDogMHhmZjdmNTAsCiAgICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsCiAgICBjb3Juc2lsazogMHhmZmY4ZGMsCiAgICBjcmltc29uOiAweGRjMTQzYywKICAgIGN5YW46IDB4MDBmZmZmLAogICAgZGFya2JsdWU6IDB4MDAwMDhiLAogICAgZGFya2N5YW46IDB4MDA4YjhiLAogICAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsCiAgICBkYXJrZ3JheTogMHhhOWE5YTksCiAgICBkYXJrZ3JlZW46IDB4MDA2NDAwLAogICAgZGFya2dyZXk6IDB4YTlhOWE5LAogICAgZGFya2toYWtpOiAweGJkYjc2YiwKICAgIGRhcmttYWdlbnRhOiAweDhiMDA4YiwKICAgIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZiwKICAgIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLAogICAgZGFya29yY2hpZDogMHg5OTMyY2MsCiAgICBkYXJrcmVkOiAweDhiMDAwMCwKICAgIGRhcmtzYWxtb246IDB4ZTk5NjdhLAogICAgZGFya3NlYWdyZWVuOiAweDhmYmM4ZiwKICAgIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLAogICAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsCiAgICBkYXJrc2xhdGVncmV5OiAweDJmNGY0ZiwKICAgIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLAogICAgZGFya3Zpb2xldDogMHg5NDAwZDMsCiAgICBkZWVwcGluazogMHhmZjE0OTMsCiAgICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsCiAgICBkaW1ncmF5OiAweDY5Njk2OSwKICAgIGRpbWdyZXk6IDB4Njk2OTY5LAogICAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsCiAgICBmaXJlYnJpY2s6IDB4YjIyMjIyLAogICAgZmxvcmFsd2hpdGU6IDB4ZmZmYWYwLAogICAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLAogICAgZnVjaHNpYTogMHhmZjAwZmYsCiAgICBnYWluc2Jvcm86IDB4ZGNkY2RjLAogICAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsCiAgICBnb2xkOiAweGZmZDcwMCwKICAgIGdvbGRlbnJvZDogMHhkYWE1MjAsCiAgICBncmF5OiAweDgwODA4MCwKICAgIGdyZWVuOiAweDAwODAwMCwKICAgIGdyZWVueWVsbG93OiAweGFkZmYyZiwKICAgIGdyZXk6IDB4ODA4MDgwLAogICAgaG9uZXlkZXc6IDB4ZjBmZmYwLAogICAgaG90cGluazogMHhmZjY5YjQsCiAgICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLAogICAgaW5kaWdvOiAweDRiMDA4MiwKICAgIGl2b3J5OiAweGZmZmZmMCwKICAgIGtoYWtpOiAweGYwZTY4YywKICAgIGxhdmVuZGVyOiAweGU2ZTZmYSwKICAgIGxhdmVuZGVyYmx1c2g6IDB4ZmZmMGY1LAogICAgbGF3bmdyZWVuOiAweDdjZmMwMCwKICAgIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsCiAgICBsaWdodGJsdWU6IDB4YWRkOGU2LAogICAgbGlnaHRjb3JhbDogMHhmMDgwODAsCiAgICBsaWdodGN5YW46IDB4ZTBmZmZmLAogICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4ZmFmYWQyLAogICAgbGlnaHRncmF5OiAweGQzZDNkMywKICAgIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLAogICAgbGlnaHRncmV5OiAweGQzZDNkMywKICAgIGxpZ2h0cGluazogMHhmZmI2YzEsCiAgICBsaWdodHNhbG1vbjogMHhmZmEwN2EsCiAgICBsaWdodHNlYWdyZWVuOiAweDIwYjJhYSwKICAgIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsCiAgICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksCiAgICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksCiAgICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsCiAgICBsaWdodHllbGxvdzogMHhmZmZmZTAsCiAgICBsaW1lOiAweDAwZmYwMCwKICAgIGxpbWVncmVlbjogMHgzMmNkMzIsCiAgICBsaW5lbjogMHhmYWYwZTYsCiAgICBtYWdlbnRhOiAweGZmMDBmZiwKICAgIG1hcm9vbjogMHg4MDAwMDAsCiAgICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSwKICAgIG1lZGl1bWJsdWU6IDB4MDAwMGNkLAogICAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMywKICAgIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsCiAgICBtZWRpdW1zZWFncmVlbjogMHgzY2IzNzEsCiAgICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLAogICAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLAogICAgbWVkaXVtdHVycXVvaXNlOiAweDQ4ZDFjYywKICAgIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsCiAgICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLAogICAgbWludGNyZWFtOiAweGY1ZmZmYSwKICAgIG1pc3R5cm9zZTogMHhmZmU0ZTEsCiAgICBtb2NjYXNpbjogMHhmZmU0YjUsCiAgICBuYXZham93aGl0ZTogMHhmZmRlYWQsCiAgICBuYXZ5OiAweDAwMDA4MCwKICAgIG9sZGxhY2U6IDB4ZmRmNWU2LAogICAgb2xpdmU6IDB4ODA4MDAwLAogICAgb2xpdmVkcmFiOiAweDZiOGUyMywKICAgIG9yYW5nZTogMHhmZmE1MDAsCiAgICBvcmFuZ2VyZWQ6IDB4ZmY0NTAwLAogICAgb3JjaGlkOiAweGRhNzBkNiwKICAgIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLAogICAgcGFsZWdyZWVuOiAweDk4ZmI5OCwKICAgIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLAogICAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsCiAgICBwYXBheWF3aGlwOiAweGZmZWZkNSwKICAgIHBlYWNocHVmZjogMHhmZmRhYjksCiAgICBwZXJ1OiAweGNkODUzZiwKICAgIHBpbms6IDB4ZmZjMGNiLAogICAgcGx1bTogMHhkZGEwZGQsCiAgICBwb3dkZXJibHVlOiAweGIwZTBlNiwKICAgIHB1cnBsZTogMHg4MDAwODAsCiAgICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSwKICAgIHJlZDogMHhmZjAwMDAsCiAgICByb3N5YnJvd246IDB4YmM4ZjhmLAogICAgcm95YWxibHVlOiAweDQxNjllMSwKICAgIHNhZGRsZWJyb3duOiAweDhiNDUxMywKICAgIHNhbG1vbjogMHhmYTgwNzIsCiAgICBzYW5keWJyb3duOiAweGY0YTQ2MCwKICAgIHNlYWdyZWVuOiAweDJlOGI1NywKICAgIHNlYXNoZWxsOiAweGZmZjVlZSwKICAgIHNpZW5uYTogMHhhMDUyMmQsCiAgICBzaWx2ZXI6IDB4YzBjMGMwLAogICAgc2t5Ymx1ZTogMHg4N2NlZWIsCiAgICBzbGF0ZWJsdWU6IDB4NmE1YWNkLAogICAgc2xhdGVncmF5OiAweDcwODA5MCwKICAgIHNsYXRlZ3JleTogMHg3MDgwOTAsCiAgICBzbm93OiAweGZmZmFmYSwKICAgIHNwcmluZ2dyZWVuOiAweDAwZmY3ZiwKICAgIHN0ZWVsYmx1ZTogMHg0NjgyYjQsCiAgICB0YW46IDB4ZDJiNDhjLAogICAgdGVhbDogMHgwMDgwODAsCiAgICB0aGlzdGxlOiAweGQ4YmZkOCwKICAgIHRvbWF0bzogMHhmZjYzNDcsCiAgICB0dXJxdW9pc2U6IDB4NDBlMGQwLAogICAgdmlvbGV0OiAweGVlODJlZSwKICAgIHdoZWF0OiAweGY1ZGViMywKICAgIHdoaXRlOiAweGZmZmZmZiwKICAgIHdoaXRlc21va2U6IDB4ZjVmNWY1LAogICAgeWVsbG93OiAweGZmZmYwMCwKICAgIHllbGxvd2dyZWVuOiAweDlhY2QzMgogIH07CiAgZGVmaW5lKENvbG9yLCBjb2xvciwgewogICAgY29weShjaGFubmVscykgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLCB0aGlzLCBjaGFubmVscyk7CiAgICB9LAogICAgZGlzcGxheWFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJnYigpLmRpc3BsYXlhYmxlKCk7CiAgICB9LAogICAgaGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICAvLyBEZXByZWNhdGVkISBVc2UgY29sb3IuZm9ybWF0SGV4LgogICAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiBjb2xvcl9mb3JtYXRIZXg4LAogICAgZm9ybWF0SHNsOiBjb2xvcl9mb3JtYXRIc2wsCiAgICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiBjb2xvcl9mb3JtYXRSZ2IKICB9KTsKICBmdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRIZXgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkgewogICAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7CiAgfQogIGZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdFJnYigpOwogIH0KICBmdW5jdGlvbiBjb2xvcihmb3JtYXQpIHsKICAgIHZhciBtLCBsOwogICAgZm9ybWF0ID0gKGZvcm1hdCArICIiKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwCiAgICA6IGwgPT09IDMgPyBuZXcgUmdiKG0gPj4gOCAmIDB4ZiB8IG0gPj4gNCAmIDB4ZjAsIG0gPj4gNCAmIDB4ZiB8IG0gJiAweGYwLCAobSAmIDB4ZikgPDwgNCB8IG0gJiAweGYsIDEpIC8vICNmMDAKICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwCiAgICA6IGwgPT09IDQgPyByZ2JhKG0gPj4gMTIgJiAweGYgfCBtID4+IDggJiAweGYwLCBtID4+IDggJiAweGYgfCBtID4+IDQgJiAweGYwLCBtID4+IDQgJiAweGYgfCBtICYgMHhmMCwgKChtICYgMHhmKSA8PCA0IHwgbSAmIDB4ZikgLyAweGZmKSAvLyAjZjAwMAogICAgOiBudWxsIC8vIGludmFsaWQgaGV4CiAgICApIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMCkKICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSkKICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKQogICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSkKICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpCiAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpCiAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICA6IGZvcm1hdCA9PT0gInRyYW5zcGFyZW50IiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMCkgOiBudWxsOwogIH0KICBmdW5jdGlvbiByZ2JuKG4pIHsKICAgIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7CiAgfQogIGZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkgewogICAgaWYgKGEgPD0gMCkgciA9IGcgPSBiID0gTmFOOwogICAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7CiAgfQogIGZ1bmN0aW9uIHJnYkNvbnZlcnQobykgewogICAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pOwogICAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYigpOwogICAgbyA9IG8ucmdiKCk7CiAgICByZXR1cm4gbmV3IFJnYihvLnIsIG8uZywgby5iLCBvLm9wYWNpdHkpOwogIH0KICBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyByZ2JDb252ZXJ0KHIpIDogbmV3IFJnYihyLCBnLCBiLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7CiAgICB0aGlzLnIgPSArcjsKICAgIHRoaXMuZyA9ICtnOwogICAgdGhpcy5iID0gK2I7CiAgICB0aGlzLm9wYWNpdHkgPSArb3BhY2l0eTsKICB9CiAgZGVmaW5lKFJnYiwgcmdiLCBleHRlbmQoQ29sb3IsIHsKICAgIGJyaWdodGVyKGspIHsKICAgICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIHJnYigpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuIC0wLjUgPD0gdGhpcy5yICYmIHRoaXMuciA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5iICYmIHRoaXMuYiA8IDI1NS41ICYmIDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxOwogICAgfSwKICAgIGhleDogcmdiX2Zvcm1hdEhleCwKICAgIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguCiAgICBmb3JtYXRIZXg6IHJnYl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCwKICAgIGZvcm1hdFJnYjogcmdiX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiByZ2JfZm9ybWF0UmdiCiAgfSkpOwogIGZ1bmN0aW9uIHJnYl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gOwogIH0KICBmdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiBgIyR7aGV4KHRoaXMucil9JHtoZXgodGhpcy5nKX0ke2hleCh0aGlzLmIpfSR7aGV4KChpc05hTih0aGlzLm9wYWNpdHkpID8gMSA6IHRoaXMub3BhY2l0eSkgKiAyNTUpfWA7CiAgfQogIGZ1bmN0aW9uIHJnYl9mb3JtYXRSZ2IoKSB7CiAgICBjb25zdCBhID0gY2xhbXBhKHRoaXMub3BhY2l0eSk7CiAgICByZXR1cm4gYCR7YSA9PT0gMSA/ICJyZ2IoIiA6ICJyZ2JhKCJ9JHtjbGFtcGkodGhpcy5yKX0sICR7Y2xhbXBpKHRoaXMuZyl9LCAke2NsYW1waSh0aGlzLmIpfSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogIH0KICBmdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkgewogICAgcmV0dXJuIGlzTmFOKG9wYWNpdHkpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG9wYWNpdHkpKTsKICB9CiAgZnVuY3Rpb24gY2xhbXBpKHZhbHVlKSB7CiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHZhbHVlKSB8fCAwKSk7CiAgfQogIGZ1bmN0aW9uIGhleCh2YWx1ZSkgewogICAgdmFsdWUgPSBjbGFtcGkodmFsdWUpOwogICAgcmV0dXJuICh2YWx1ZSA8IDE2ID8gIjAiIDogIiIpICsgdmFsdWUudG9TdHJpbmcoMTYpOwogIH0KICBmdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHsKICAgIGlmIChhIDw9IDApIGggPSBzID0gbCA9IE5hTjtlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtlbHNlIGlmIChzIDw9IDApIGggPSBOYU47CiAgICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTsKICB9CiAgZnVuY3Rpb24gaHNsQ29udmVydChvKSB7CiAgICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTsKICAgIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTsKICAgIGlmICghbykgcmV0dXJuIG5ldyBIc2woKTsKICAgIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbzsKICAgIG8gPSBvLnJnYigpOwogICAgdmFyIHIgPSBvLnIgLyAyNTUsCiAgICAgIGcgPSBvLmcgLyAyNTUsCiAgICAgIGIgPSBvLmIgLyAyNTUsCiAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLAogICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwKICAgICAgaCA9IE5hTiwKICAgICAgcyA9IG1heCAtIG1pbiwKICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjsKICAgIGlmIChzKSB7CiAgICAgIGlmIChyID09PSBtYXgpIGggPSAoZyAtIGIpIC8gcyArIChnIDwgYikgKiA2O2Vsc2UgaWYgKGcgPT09IG1heCkgaCA9IChiIC0gcikgLyBzICsgMjtlbHNlIGggPSAociAtIGcpIC8gcyArIDQ7CiAgICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47CiAgICAgIGggKj0gNjA7CiAgICB9IGVsc2UgewogICAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDsKICAgIH0KICAgIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIG8ub3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIGhzbChoLCBzLCBsLCBvcGFjaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGhzbENvbnZlcnQoaCkgOiBuZXcgSHNsKGgsIHMsIGwsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTsKICB9CiAgZnVuY3Rpb24gSHNsKGgsIHMsIGwsIG9wYWNpdHkpIHsKICAgIHRoaXMuaCA9ICtoOwogICAgdGhpcy5zID0gK3M7CiAgICB0aGlzLmwgPSArbDsKICAgIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5OwogIH0KICBkZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwgewogICAgYnJpZ2h0ZXIoaykgewogICAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7CiAgICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTsKICAgIH0sCiAgICByZ2IoKSB7CiAgICAgIHZhciBoID0gdGhpcy5oICUgMzYwICsgKHRoaXMuaCA8IDApICogMzYwLAogICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucywKICAgICAgICBsID0gdGhpcy5sLAogICAgICAgIG0yID0gbCArIChsIDwgMC41ID8gbCA6IDEgLSBsKSAqIHMsCiAgICAgICAgbTEgPSAyICogbCAtIG0yOwogICAgICByZXR1cm4gbmV3IFJnYihoc2wycmdiKGggPj0gMjQwID8gaCAtIDI0MCA6IGggKyAxMjAsIG0xLCBtMiksIGhzbDJyZ2IoaCwgbTEsIG0yKSwgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksIHRoaXMub3BhY2l0eSk7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgSHNsKGNsYW1waCh0aGlzLmgpLCBjbGFtcHQodGhpcy5zKSwgY2xhbXB0KHRoaXMubCksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuICgwIDw9IHRoaXMucyAmJiB0aGlzLnMgPD0gMSB8fCBpc05hTih0aGlzLnMpKSAmJiAwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSAmJiAwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMTsKICAgIH0sCiAgICBmb3JtYXRIc2woKSB7CiAgICAgIGNvbnN0IGEgPSBjbGFtcGEodGhpcy5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGAke2EgPT09IDEgPyAiaHNsKCIgOiAiaHNsYSgifSR7Y2xhbXBoKHRoaXMuaCl9LCAke2NsYW1wdCh0aGlzLnMpICogMTAwfSUsICR7Y2xhbXB0KHRoaXMubCkgKiAxMDB9JSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogICAgfQogIH0pKTsKICBmdW5jdGlvbiBjbGFtcGgodmFsdWUpIHsKICAgIHZhbHVlID0gKHZhbHVlIHx8IDApICUgMzYwOwogICAgcmV0dXJuIHZhbHVlIDwgMCA/IHZhbHVlICsgMzYwIDogdmFsdWU7CiAgfQogIGZ1bmN0aW9uIGNsYW1wdCh2YWx1ZSkgewogICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTsKICB9CgogIC8qIEZyb20gRnZEIDEzLjM3LCBDU1MgQ29sb3IgTW9kdWxlIExldmVsIDMgKi8KICBmdW5jdGlvbiBoc2wycmdiKGgsIG0xLCBtMikgewogICAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MCA6IGggPCAxODAgPyBtMiA6IGggPCAyNDAgPyBtMSArIChtMiAtIG0xKSAqICgyNDAgLSBoKSAvIDYwIDogbTEpICogMjU1OwogIH0KCiAgdmFyIGNvbnN0YW50ID0geCA9PiAoKSA9PiB4OwoKICBmdW5jdGlvbiBsaW5lYXIoYSwgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBhICsgdCAqIGQ7CiAgICB9OwogIH0KICBmdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7CiAgICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZ2FtbWEoeSkgewogICAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBiIC0gYSA/IGV4cG9uZW50aWFsKGEsIGIsIHkpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHsKICAgIHZhciBkID0gYiAtIGE7CiAgICByZXR1cm4gZCA/IGxpbmVhcihhLCBkKSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpOwogIH0KCiAgdmFyIGludGVycG9sYXRlUmdiID0gKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHsKICAgIHZhciBjb2xvciA9IGdhbW1hKHkpOwogICAgZnVuY3Rpb24gcmdiJDEoc3RhcnQsIGVuZCkgewogICAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IHJnYihzdGFydCkpLnIsIChlbmQgPSByZ2IoZW5kKSkuciksCiAgICAgICAgZyA9IGNvbG9yKHN0YXJ0LmcsIGVuZC5nKSwKICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLAogICAgICAgIG9wYWNpdHkgPSBub2dhbW1hKHN0YXJ0Lm9wYWNpdHksIGVuZC5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgc3RhcnQuciA9IHIodCk7CiAgICAgICAgc3RhcnQuZyA9IGcodCk7CiAgICAgICAgc3RhcnQuYiA9IGIodCk7CiAgICAgICAgc3RhcnQub3BhY2l0eSA9IG9wYWNpdHkodCk7CiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgIiI7CiAgICAgIH07CiAgICB9CiAgICByZ2IkMS5nYW1tYSA9IHJnYkdhbW1hOwogICAgcmV0dXJuIHJnYiQxOwogIH0pKDEpOwoKICBmdW5jdGlvbiBpbnRlcnBvbGF0ZU51bWJlciAoYSwgYikgewogICAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDsKICAgIH07CiAgfQoKICB2YXIgcmVBID0gL1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLAogICAgcmVCID0gbmV3IFJlZ0V4cChyZUEuc291cmNlLCAiZyIpOwogIGZ1bmN0aW9uIHplcm8oYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBvbmUoYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBiKHQpICsgIiI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBpbnRlcnBvbGF0ZVN0cmluZyAoYSwgYikgewogICAgdmFyIGJpID0gcmVBLmxhc3RJbmRleCA9IHJlQi5sYXN0SW5kZXggPSAwLAogICAgICAvLyBzY2FuIGluZGV4IGZvciBuZXh0IG51bWJlciBpbiBiCiAgICAgIGFtLAogICAgICAvLyBjdXJyZW50IG1hdGNoIGluIGEKICAgICAgYm0sCiAgICAgIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYgogICAgICBicywKICAgICAgLy8gc3RyaW5nIHByZWNlZGluZyBjdXJyZW50IG51bWJlciBpbiBiLCBpZiBhbnkKICAgICAgaSA9IC0xLAogICAgICAvLyBpbmRleCBpbiBzCiAgICAgIHMgPSBbXSwKICAgICAgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzCiAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKCiAgICAvLyBDb2VyY2UgaW5wdXRzIHRvIHN0cmluZ3MuCiAgICBhID0gYSArICIiLCBiID0gYiArICIiOwoKICAgIC8vIEludGVycG9sYXRlIHBhaXJzIG9mIG51bWJlcnMgaW4gYSAmIGIuCiAgICB3aGlsZSAoKGFtID0gcmVBLmV4ZWMoYSkpICYmIChibSA9IHJlQi5leGVjKGIpKSkgewogICAgICBpZiAoKGJzID0gYm0uaW5kZXgpID4gYmkpIHsKICAgICAgICAvLyBhIHN0cmluZyBwcmVjZWRlcyB0aGUgbmV4dCBudW1iZXIgaW4gYgogICAgICAgIGJzID0gYi5zbGljZShiaSwgYnMpOwogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICAgIH0KICAgICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7CiAgICAgICAgLy8gbnVtYmVycyBpbiBhICYgYiBtYXRjaAogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYm07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaW50ZXJwb2xhdGUgbm9uLW1hdGNoaW5nIG51bWJlcnMKICAgICAgICBzWysraV0gPSBudWxsOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoYW0sIGJtKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGJpID0gcmVCLmxhc3RJbmRleDsKICAgIH0KCiAgICAvLyBBZGQgcmVtYWlucyBvZiBiLgogICAgaWYgKGJpIDwgYi5sZW5ndGgpIHsKICAgICAgYnMgPSBiLnNsaWNlKGJpKTsKICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nCiAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICB9CgogICAgLy8gU3BlY2lhbCBvcHRpbWl6YXRpb24gZm9yIG9ubHkgYSBzaW5nbGUgbWF0Y2guCiAgICAvLyBPdGhlcndpc2UsIGludGVycG9sYXRlIGVhY2ggb2YgdGhlIG51bWJlcnMgYW5kIHJlam9pbiB0aGUgc3RyaW5nLgogICAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IHFbMF0gPyBvbmUocVswXS54KSA6IHplcm8oYikgOiAoYiA9IHEubGVuZ3RoLCBmdW5jdGlvbiAodCkgewogICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICByZXR1cm4gcy5qb2luKCIiKTsKICAgIH0pOwogIH0KCiAgdmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJOwogIHZhciBpZGVudGl0eSA9IHsKICAgIHRyYW5zbGF0ZVg6IDAsCiAgICB0cmFuc2xhdGVZOiAwLAogICAgcm90YXRlOiAwLAogICAgc2tld1g6IDAsCiAgICBzY2FsZVg6IDEsCiAgICBzY2FsZVk6IDEKICB9OwogIGZ1bmN0aW9uIGRlY29tcG9zZSAoYSwgYiwgYywgZCwgZSwgZikgewogICAgdmFyIHNjYWxlWCwgc2NhbGVZLCBza2V3WDsKICAgIGlmIChzY2FsZVggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYikpIGEgLz0gc2NhbGVYLCBiIC89IHNjYWxlWDsKICAgIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDsKICAgIGlmIChzY2FsZVkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCkpIGMgLz0gc2NhbGVZLCBkIC89IHNjYWxlWSwgc2tld1ggLz0gc2NhbGVZOwogICAgaWYgKGEgKiBkIDwgYiAqIGMpIGEgPSAtYSwgYiA9IC1iLCBza2V3WCA9IC1za2V3WCwgc2NhbGVYID0gLXNjYWxlWDsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zbGF0ZVg6IGUsCiAgICAgIHRyYW5zbGF0ZVk6IGYsCiAgICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsCiAgICAgIHNrZXdYOiBNYXRoLmF0YW4oc2tld1gpICogZGVncmVlcywKICAgICAgc2NhbGVYOiBzY2FsZVgsCiAgICAgIHNjYWxlWTogc2NhbGVZCiAgICB9OwogIH0KCiAgdmFyIHN2Z05vZGU7CgogIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovCiAgZnVuY3Rpb24gcGFyc2VDc3ModmFsdWUpIHsKICAgIGNvbnN0IG0gPSBuZXcgKHR5cGVvZiBET01NYXRyaXggPT09ICJmdW5jdGlvbiIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgIiIpOwogICAgcmV0dXJuIG0uaXNJZGVudGl0eSA/IGlkZW50aXR5IDogZGVjb21wb3NlKG0uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmYpOwogIH0KICBmdW5jdGlvbiBwYXJzZVN2Zyh2YWx1ZSkgewogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTsKICAgIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAiZyIpOwogICAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIHZhbHVlKTsKICAgIGlmICghKHZhbHVlID0gc3ZnTm9kZS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpKSkgcmV0dXJuIGlkZW50aXR5OwogICAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7CiAgICByZXR1cm4gZGVjb21wb3NlKHZhbHVlLmEsIHZhbHVlLmIsIHZhbHVlLmMsIHZhbHVlLmQsIHZhbHVlLmUsIHZhbHVlLmYpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2UsIHB4Q29tbWEsIHB4UGFyZW4sIGRlZ1BhcmVuKSB7CiAgICBmdW5jdGlvbiBwb3AocykgewogICAgICByZXR1cm4gcy5sZW5ndGggPyBzLnBvcCgpICsgIiAiIDogIiI7CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHsKICAgICAgaWYgKHhhICE9PSB4YiB8fCB5YSAhPT0geWIpIHsKICAgICAgICB2YXIgaSA9IHMucHVzaCgidHJhbnNsYXRlKCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpIC0gNCwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHhhLCB4YikKICAgICAgICB9LCB7CiAgICAgICAgICBpOiBpIC0gMiwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHlhLCB5YikKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh4YiB8fCB5YikgewogICAgICAgIHMucHVzaCgidHJhbnNsYXRlKCIgKyB4YiArIHB4Q29tbWEgKyB5YiArIHB4UGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIGlmIChhIC0gYiA+IDE4MCkgYiArPSAzNjA7ZWxzZSBpZiAoYiAtIGEgPiAxODApIGEgKz0gMzYwOyAvLyBzaG9ydGVzdCBwYXRoCiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IHMucHVzaChwb3AocykgKyAicm90YXRlKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInJvdGF0ZSgiICsgYiArIGRlZ1BhcmVuKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIgKyBiICsgZGVnUGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkgewogICAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5YikgewogICAgICAgIHZhciBpID0gcy5wdXNoKHBvcChzKSArICJzY2FsZSgiLCBudWxsLCAiLCIsIG51bGwsICIpIik7CiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IGkgLSA0LAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeGEsIHhiKQogICAgICAgIH0sIHsKICAgICAgICAgIGk6IGkgLSAyLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeWEsIHliKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHhiICE9PSAxIHx8IHliICE9PSAxKSB7CiAgICAgICAgcy5wdXNoKHBvcChzKSArICJzY2FsZSgiICsgeGIgKyAiLCIgKyB5YiArICIpIik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICB2YXIgcyA9IFtdLAogICAgICAgIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVycwogICAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKICAgICAgYSA9IHBhcnNlKGEpLCBiID0gcGFyc2UoYik7CiAgICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpOwogICAgICByb3RhdGUoYS5yb3RhdGUsIGIucm90YXRlLCBzLCBxKTsKICAgICAgc2tld1goYS5za2V3WCwgYi5za2V3WCwgcywgcSk7CiAgICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTsKICAgICAgYSA9IGIgPSBudWxsOyAvLyBnYwogICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgaSA9IC0xLAogICAgICAgICAgbiA9IHEubGVuZ3RoLAogICAgICAgICAgbzsKICAgICAgICB3aGlsZSAoKytpIDwgbikgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICAgIHJldHVybiBzLmpvaW4oIiIpOwogICAgICB9OwogICAgfTsKICB9CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtQ3NzID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VDc3MsICJweCwgIiwgInB4KSIsICJkZWcpIik7CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtU3ZnID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VTdmcsICIsICIsICIpIiwgIikiKTsKCiAgdmFyIGZyYW1lID0gMCwKICAgIC8vIGlzIGFuIGFuaW1hdGlvbiBmcmFtZSBwZW5kaW5nPwogICAgdGltZW91dCQxID0gMCwKICAgIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nPwogICAgaW50ZXJ2YWwgPSAwLAogICAgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlPwogICAgcG9rZURlbGF5ID0gMTAwMCwKICAgIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3CiAgICB0YXNrSGVhZCwKICAgIHRhc2tUYWlsLAogICAgY2xvY2tMYXN0ID0gMCwKICAgIGNsb2NrTm93ID0gMCwKICAgIGNsb2NrU2tldyA9IDAsCiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gIm9iamVjdCIgJiYgcGVyZm9ybWFuY2Uubm93ID8gcGVyZm9ybWFuY2UgOiBEYXRlLAogICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSAib2JqZWN0IiAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykgOiBmdW5jdGlvbiAoZikgewogICAgICBzZXRUaW1lb3V0KGYsIDE3KTsKICAgIH07CiAgZnVuY3Rpb24gbm93KCkgewogICAgcmV0dXJuIGNsb2NrTm93IHx8IChzZXRGcmFtZShjbGVhck5vdyksIGNsb2NrTm93ID0gY2xvY2subm93KCkgKyBjbG9ja1NrZXcpOwogIH0KICBmdW5jdGlvbiBjbGVhck5vdygpIHsKICAgIGNsb2NrTm93ID0gMDsKICB9CiAgZnVuY3Rpb24gVGltZXIoKSB7CiAgICB0aGlzLl9jYWxsID0gdGhpcy5fdGltZSA9IHRoaXMuX25leHQgPSBudWxsOwogIH0KICBUaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogVGltZXIsCiAgICByZXN0YXJ0OiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7CiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgIHRpbWUgPSAodGltZSA9PSBudWxsID8gbm93KCkgOiArdGltZSkgKyAoZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXkpOwogICAgICBpZiAoIXRoaXMuX25leHQgJiYgdGFza1RhaWwgIT09IHRoaXMpIHsKICAgICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztlbHNlIHRhc2tIZWFkID0gdGhpczsKICAgICAgICB0YXNrVGFpbCA9IHRoaXM7CiAgICAgIH0KICAgICAgdGhpcy5fY2FsbCA9IGNhbGxiYWNrOwogICAgICB0aGlzLl90aW1lID0gdGltZTsKICAgICAgc2xlZXAoKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9jYWxsKSB7CiAgICAgICAgdGhpcy5fY2FsbCA9IG51bGw7CiAgICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5OwogICAgICAgIHNsZWVwKCk7CiAgICAgIH0KICAgIH0KICB9OwogIGZ1bmN0aW9uIHRpbWVyKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQogIGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7CiAgICBub3coKTsgLy8gR2V0IHRoZSBjdXJyZW50IHRpbWUsIGlmIG5vdCBhbHJlYWR5IHNldC4KICAgICsrZnJhbWU7IC8vIFByZXRlbmQgd2XigJl2ZSBzZXQgYW4gYWxhcm0sIGlmIHdlIGhhdmVu4oCZdCBhbHJlYWR5LgogICAgdmFyIHQgPSB0YXNrSGVhZCwKICAgICAgZTsKICAgIHdoaWxlICh0KSB7CiAgICAgIGlmICgoZSA9IGNsb2NrTm93IC0gdC5fdGltZSkgPj0gMCkgdC5fY2FsbC5jYWxsKHVuZGVmaW5lZCwgZSk7CiAgICAgIHQgPSB0Ll9uZXh0OwogICAgfQogICAgLS1mcmFtZTsKICB9CiAgZnVuY3Rpb24gd2FrZSgpIHsKICAgIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldzsKICAgIGZyYW1lID0gdGltZW91dCQxID0gMDsKICAgIHRyeSB7CiAgICAgIHRpbWVyRmx1c2goKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGZyYW1lID0gMDsKICAgICAgbmFwKCk7CiAgICAgIGNsb2NrTm93ID0gMDsKICAgIH0KICB9CiAgZnVuY3Rpb24gcG9rZSgpIHsKICAgIHZhciBub3cgPSBjbG9jay5ub3coKSwKICAgICAgZGVsYXkgPSBub3cgLSBjbG9ja0xhc3Q7CiAgICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93OwogIH0KICBmdW5jdGlvbiBuYXAoKSB7CiAgICB2YXIgdDAsCiAgICAgIHQxID0gdGFza0hlYWQsCiAgICAgIHQyLAogICAgICB0aW1lID0gSW5maW5pdHk7CiAgICB3aGlsZSAodDEpIHsKICAgICAgaWYgKHQxLl9jYWxsKSB7CiAgICAgICAgaWYgKHRpbWUgPiB0MS5fdGltZSkgdGltZSA9IHQxLl90aW1lOwogICAgICAgIHQwID0gdDEsIHQxID0gdDEuX25leHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdDIgPSB0MS5fbmV4dCwgdDEuX25leHQgPSBudWxsOwogICAgICAgIHQxID0gdDAgPyB0MC5fbmV4dCA9IHQyIDogdGFza0hlYWQgPSB0MjsKICAgICAgfQogICAgfQogICAgdGFza1RhaWwgPSB0MDsKICAgIHNsZWVwKHRpbWUpOwogIH0KICBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7CiAgICBpZiAoZnJhbWUpIHJldHVybjsgLy8gU29vbmVzdCBhbGFybSBhbHJlYWR5IHNldCwgb3Igd2lsbCBiZS4KICAgIGlmICh0aW1lb3V0JDEpIHRpbWVvdXQkMSA9IGNsZWFyVGltZW91dCh0aW1lb3V0JDEpOwogICAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy4KICAgIGlmIChkZWxheSA+IDI0KSB7CiAgICAgIGlmICh0aW1lIDwgSW5maW5pdHkpIHRpbWVvdXQkMSA9IHNldFRpbWVvdXQod2FrZSwgdGltZSAtIGNsb2NrLm5vdygpIC0gY2xvY2tTa2V3KTsKICAgICAgaWYgKGludGVydmFsKSBpbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCFpbnRlcnZhbCkgY2xvY2tMYXN0ID0gY2xvY2subm93KCksIGludGVydmFsID0gc2V0SW50ZXJ2YWwocG9rZSwgcG9rZURlbGF5KTsKICAgICAgZnJhbWUgPSAxLCBzZXRGcmFtZSh3YWtlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRpbWVvdXQgKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIGRlbGF5ID0gZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXk7CiAgICB0LnJlc3RhcnQoZWxhcHNlZCA9PiB7CiAgICAgIHQuc3RvcCgpOwogICAgICBjYWxsYmFjayhlbGFwc2VkICsgZGVsYXkpOwogICAgfSwgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQoKICB2YXIgZW1wdHlPbiA9IGRpc3BhdGNoKCJzdGFydCIsICJlbmQiLCAiY2FuY2VsIiwgImludGVycnVwdCIpOwogIHZhciBlbXB0eVR3ZWVuID0gW107CiAgdmFyIENSRUFURUQgPSAwOwogIHZhciBTQ0hFRFVMRUQgPSAxOwogIHZhciBTVEFSVElORyA9IDI7CiAgdmFyIFNUQVJURUQgPSAzOwogIHZhciBSVU5OSU5HID0gNDsKICB2YXIgRU5ESU5HID0gNTsKICB2YXIgRU5ERUQgPSA2OwogIGZ1bmN0aW9uIHNjaGVkdWxlIChub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHsKICAgIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGVzKSBub2RlLl9fdHJhbnNpdGlvbiA9IHt9O2Vsc2UgaWYgKGlkIGluIHNjaGVkdWxlcykgcmV0dXJuOwogICAgY3JlYXRlKG5vZGUsIGlkLCB7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLgogICAgICBncm91cDogZ3JvdXAsCiAgICAgIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay4KICAgICAgb246IGVtcHR5T24sCiAgICAgIHR3ZWVuOiBlbXB0eVR3ZWVuLAogICAgICB0aW1lOiB0aW1pbmcudGltZSwKICAgICAgZGVsYXk6IHRpbWluZy5kZWxheSwKICAgICAgZHVyYXRpb246IHRpbWluZy5kdXJhdGlvbiwKICAgICAgZWFzZTogdGltaW5nLmVhc2UsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBzdGF0ZTogQ1JFQVRFRAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGluaXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHNjaGVkdWxlZCIpOwogICAgcmV0dXJuIHNjaGVkdWxlOwogIH0KICBmdW5jdGlvbiBzZXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHJ1bm5pbmciKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gZ2V0KG5vZGUsIGlkKSB7CiAgICB2YXIgc2NoZWR1bGUgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcigidHJhbnNpdGlvbiBub3QgZm91bmQiKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGlkLCBzZWxmKSB7CiAgICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sCiAgICAgIHR3ZWVuOwoKICAgIC8vIEluaXRpYWxpemUgdGhlIHNlbGYgdGltZXIgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLgogICAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shCiAgICBzY2hlZHVsZXNbaWRdID0gc2VsZjsKICAgIHNlbGYudGltZXIgPSB0aW1lcihzY2hlZHVsZSwgMCwgc2VsZi50aW1lKTsKICAgIGZ1bmN0aW9uIHNjaGVkdWxlKGVsYXBzZWQpIHsKICAgICAgc2VsZi5zdGF0ZSA9IFNDSEVEVUxFRDsKICAgICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpOwoKICAgICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuCiAgICAgIGlmIChzZWxmLmRlbGF5IDw9IGVsYXBzZWQpIHN0YXJ0KGVsYXBzZWQgLSBzZWxmLmRlbGF5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHN0YXJ0KGVsYXBzZWQpIHsKICAgICAgdmFyIGksIGosIG4sIG87CgogICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90IFNDSEVEVUxFRCwgdGhlbiB3ZSBwcmV2aW91c2x5IGVycm9yZWQgb24gc3RhcnQuCiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7CiAgICAgIGZvciAoaSBpbiBzY2hlZHVsZXMpIHsKICAgICAgICBvID0gc2NoZWR1bGVzW2ldOwogICAgICAgIGlmIChvLm5hbWUgIT09IHNlbGYubmFtZSkgY29udGludWU7CgogICAgICAgIC8vIFdoaWxlIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHN0YXJ0aW5nIHRyYW5zaXRpb24gZHVyaW5nIHRoaXMgZnJhbWUsCiAgICAgICAgLy8gZGVmZXIgc3RhcnRpbmcgYW4gaW50ZXJydXB0aW5nIHRyYW5zaXRpb24gdW50aWwgdGhhdCB0cmFuc2l0aW9uIGhhcyBhCiAgICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCEKICAgICAgICBpZiAoby5zdGF0ZSA9PT0gU1RBUlRFRCkgcmV0dXJuIHRpbWVvdXQoc3RhcnQpOwoKICAgICAgICAvLyBJbnRlcnJ1cHQgdGhlIGFjdGl2ZSB0cmFuc2l0aW9uLCBpZiBhbnkuCiAgICAgICAgaWYgKG8uc3RhdGUgPT09IFJVTk5JTkcpIHsKICAgICAgICAgIG8uc3RhdGUgPSBFTkRFRDsKICAgICAgICAgIG8udGltZXIuc3RvcCgpOwogICAgICAgICAgby5vbi5jYWxsKCJpbnRlcnJ1cHQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTsKICAgICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBDYW5jZWwgYW55IHByZS1lbXB0ZWQgdHJhbnNpdGlvbnMuCiAgICAgICAgZWxzZSBpZiAoK2kgPCBpZCkgewogICAgICAgICAgby5zdGF0ZSA9IEVOREVEOwogICAgICAgICAgby50aW1lci5zdG9wKCk7CiAgICAgICAgICBvLm9uLmNhbGwoImNhbmNlbCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApOwogICAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIERlZmVyIHRoZSBmaXJzdCB0aWNrIHRvIGVuZCBvZiB0aGUgY3VycmVudCBmcmFtZTsgc2VlIGQzL2QzIzE1NzYuCiAgICAgIC8vIE5vdGUgdGhlIHRyYW5zaXRpb24gbWF5IGJlIGNhbmNlbGVkIGFmdGVyIHN0YXJ0IGFuZCBiZWZvcmUgdGhlIGZpcnN0IHRpY2shCiAgICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiEKICAgICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBzdWNjZXNzZnVsLCBzdWJzZXF1ZW50IGNhbGxiYWNrcyBnbyBzdHJhaWdodCB0byB0aWNrLgogICAgICB0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gU1RBUlRFRCkgewogICAgICAgICAgc2VsZi5zdGF0ZSA9IFJVTk5JTkc7CiAgICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTsKICAgICAgICAgIHRpY2soZWxhcHNlZCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC4KICAgICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIHR3ZWVuIGFyZSBpbml0aWFsaXplZC4KICAgICAgc2VsZi5zdGF0ZSA9IFNUQVJUSU5HOwogICAgICBzZWxmLm9uLmNhbGwoInN0YXJ0Iiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7CiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTVEFSVElORykgcmV0dXJuOyAvLyBpbnRlcnJ1cHRlZAogICAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDsKCiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLgogICAgICB0d2VlbiA9IG5ldyBBcnJheShuID0gc2VsZi50d2Vlbi5sZW5ndGgpOwogICAgICBmb3IgKGkgPSAwLCBqID0gLTE7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkgewogICAgICAgICAgdHdlZW5bKytqXSA9IG87CiAgICAgICAgfQogICAgICB9CiAgICAgIHR3ZWVuLmxlbmd0aCA9IGogKyAxOwogICAgfQogICAgZnVuY3Rpb24gdGljayhlbGFwc2VkKSB7CiAgICAgIHZhciB0ID0gZWxhcHNlZCA8IHNlbGYuZHVyYXRpb24gPyBzZWxmLmVhc2UuY2FsbChudWxsLCBlbGFwc2VkIC8gc2VsZi5kdXJhdGlvbikgOiAoc2VsZi50aW1lci5yZXN0YXJ0KHN0b3ApLCBzZWxmLnN0YXRlID0gRU5ESU5HLCAxKSwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDsKICAgICAgd2hpbGUgKCsraSA8IG4pIHsKICAgICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpOwogICAgICB9CgogICAgICAvLyBEaXNwYXRjaCB0aGUgZW5kIGV2ZW50LgogICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gRU5ESU5HKSB7CiAgICAgICAgc2VsZi5vbi5jYWxsKCJlbmQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTsKICAgICAgICBzdG9wKCk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHNlbGYuc3RhdGUgPSBFTkRFRDsKICAgICAgc2VsZi50aW1lci5zdG9wKCk7CiAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdOwogICAgICBmb3IgKHZhciBpIGluIHNjaGVkdWxlcykgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGludGVycnVwdCAobm9kZSwgbmFtZSkgewogICAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLAogICAgICBzY2hlZHVsZSwKICAgICAgYWN0aXZlLAogICAgICBlbXB0eSA9IHRydWUsCiAgICAgIGk7CiAgICBpZiAoIXNjaGVkdWxlcykgcmV0dXJuOwogICAgbmFtZSA9IG5hbWUgPT0gbnVsbCA/IG51bGwgOiBuYW1lICsgIiI7CiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7CiAgICAgIGlmICgoc2NoZWR1bGUgPSBzY2hlZHVsZXNbaV0pLm5hbWUgIT09IG5hbWUpIHsKICAgICAgICBlbXB0eSA9IGZhbHNlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIGFjdGl2ZSA9IHNjaGVkdWxlLnN0YXRlID4gU1RBUlRJTkcgJiYgc2NoZWR1bGUuc3RhdGUgPCBFTkRJTkc7CiAgICAgIHNjaGVkdWxlLnN0YXRlID0gRU5ERUQ7CiAgICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTsKICAgICAgc2NoZWR1bGUub24uY2FsbChhY3RpdmUgPyAiaW50ZXJydXB0IiA6ICJjYW5jZWwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApOwogICAgICBkZWxldGUgc2NoZWR1bGVzW2ldOwogICAgfQogICAgaWYgKGVtcHR5KSBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25faW50ZXJydXB0IChuYW1lKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0d2VlblJlbW92ZShpZCwgbmFtZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuOwoKICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkgewogICAgICAgIHR3ZWVuMSA9IHR3ZWVuMCA9IHR3ZWVuOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkgewogICAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgICAgIHR3ZWVuMSA9IHR3ZWVuMS5zbGljZSgpOwogICAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0d2VlbkZ1bmN0aW9uKGlkLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIQogICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuCiAgICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7CiAgICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpOwogICAgICAgIGZvciAodmFyIHQgPSB7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgfSwgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgICAgdHdlZW4xW2ldID0gdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChpID09PSBuKSB0d2VlbjEucHVzaCh0KTsKICAgICAgfQogICAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fdHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0aGlzLl9pZDsKICAgIG5hbWUgKz0gIiI7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsKICAgICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47CiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4ubGVuZ3RoLCB0OyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKCh0ID0gdHdlZW5baV0pLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgIHJldHVybiB0LnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpOwogIH0KICBmdW5jdGlvbiB0d2VlblZhbHVlKHRyYW5zaXRpb24sIG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDsKICAgIHRyYW5zaXRpb24uZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCk7CiAgICAgIChzY2hlZHVsZS52YWx1ZSB8fCAoc2NoZWR1bGUudmFsdWUgPSB7fSkpW25hbWVdID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBnZXQobm9kZSwgaWQpLnZhbHVlW25hbWVdOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGludGVycG9sYXRlIChhLCBiKSB7CiAgICB2YXIgYzsKICAgIHJldHVybiAodHlwZW9mIGIgPT09ICJudW1iZXIiID8gaW50ZXJwb2xhdGVOdW1iZXIgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYiA6IChjID0gY29sb3IoYikpID8gKGIgPSBjLCBpbnRlcnBvbGF0ZVJnYikgOiBpbnRlcnBvbGF0ZVN0cmluZykoYSwgYik7CiAgfQoKICBmdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHsKICAgIHZhciBzdHJpbmcwMCwKICAgICAgc3RyaW5nMSA9IHZhbHVlMSArICIiLAogICAgICBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7CiAgICB2YXIgc3RyaW5nMDAsIHN0cmluZzEwLCBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCwKICAgICAgICB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwKICAgICAgICBzdHJpbmcxOwogICAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAsCiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksCiAgICAgICAgc3RyaW5nMTsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyIChuYW1lLCB2YWx1ZSkgewogICAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLAogICAgICBpID0gZnVsbG5hbWUgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB0aGlzLmF0dHJUd2VlbihuYW1lLCB0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbikoZnVsbG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgImF0dHIuIiArIG5hbWUsIHZhbHVlKSkgOiB2YWx1ZSA9PSBudWxsID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0clJlbW92ZU5TIDogYXR0clJlbW92ZSkoZnVsbG5hbWUpIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKGZ1bGxuYW1lLCBpLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlKG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBpLmNhbGwodGhpcywgdCkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlTlMoZnVsbG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgaS5jYWxsKHRoaXMsIHQpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgdmFyIHQwLCBpMDsKICAgIGZ1bmN0aW9uIHR3ZWVuKCkgewogICAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSk7CiAgICAgIHJldHVybiB0MDsKICAgIH0KICAgIHR3ZWVuLl92YWx1ZSA9IHZhbHVlOwogICAgcmV0dXJuIHR3ZWVuOwogIH0KICBmdW5jdGlvbiBhdHRyVHdlZW4obmFtZSwgdmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyVHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIga2V5ID0gImF0dHIuIiArIG5hbWU7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlOwogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVsYXlGdW5jdGlvbihpZCwgdmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2RlbGF5ICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZGVsYXlGdW5jdGlvbiA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZGVsYXk7CiAgfQoKICBmdW5jdGlvbiBkdXJhdGlvbkZ1bmN0aW9uKGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgc2V0KHRoaXMsIGlkKS5kdXJhdGlvbiA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2R1cmF0aW9uICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZHVyYXRpb25GdW5jdGlvbiA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZHVyYXRpb247CiAgfQoKICBmdW5jdGlvbiBlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9lYXNlICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaChlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSkgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5lYXNlOwogIH0KCiAgZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh0eXBlb2YgdiAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nICh2YWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy5lYWNoKGVhc2VWYXJ5aW5nKHRoaXMuX2lkLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9maWx0ZXIgKG1hdGNoKSB7CiAgICBpZiAodHlwZW9mIG1hdGNoICE9PSAiZnVuY3Rpb24iKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHsKICAgICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2l0aW9uX21lcmdlICh0cmFuc2l0aW9uKSB7CiAgICBpZiAodHJhbnNpdGlvbi5faWQgIT09IHRoaXMuX2lkKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIGZvciAodmFyIGdyb3VwczAgPSB0aGlzLl9ncm91cHMsIGdyb3VwczEgPSB0cmFuc2l0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTsKICB9CgogIGZ1bmN0aW9uIHN0YXJ0KG5hbWUpIHsKICAgIHJldHVybiAobmFtZSArICIiKS50cmltKCkuc3BsaXQoL158XHMrLykuZXZlcnkoZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgdCA9IHQuc2xpY2UoMCwgaSk7CiAgICAgIHJldHVybiAhdCB8fCB0ID09PSAic3RhcnQiOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIHNpdCA9IHN0YXJ0KG5hbWUpID8gaW5pdCA6IHNldDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNpdCh0aGlzLCBpZCksCiAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAob24gIT09IG9uMCkgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihuYW1lLCBsaXN0ZW5lcik7CiAgICAgIHNjaGVkdWxlLm9uID0gb24xOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9vbiAobmFtZSwgbGlzdGVuZXIpIHsKICAgIHZhciBpZCA9IHRoaXMuX2lkOwogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSkgOiB0aGlzLmVhY2gob25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9uKGlkKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47CiAgICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fcmVtb3ZlICgpIHsKICAgIHJldHVybiB0aGlzLm9uKCJlbmQucmVtb3ZlIiwgcmVtb3ZlRnVuY3Rpb24odGhpcy5faWQpKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0QWxsIChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHsKICAgICAgICAgICAgaWYgKGNoaWxkID0gY2hpbGRyZW5ba10pIHsKICAgICAgICAgICAgICBzY2hlZHVsZShjaGlsZCwgbmFtZSwgaWQsIGssIGNoaWxkcmVuLCBpbmhlcml0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goY2hpbGRyZW4pOwogICAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpOwogIH0KCiAgdmFyIFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I7CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zZWxlY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHN0eWxlTnVsbChuYW1lLCBpbnRlcnBvbGF0ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHN0cmluZzEgPSAodGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKSwgc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCBzdHJpbmcxMCA9IHN0cmluZzEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHZhbHVlMSA9IHZhbHVlKHRoaXMpLAogICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSBzdHJpbmcxID0gdmFsdWUxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlVmFsdWUodGhpcywgbmFtZSkpOwogICAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGwgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMCA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIGxpc3RlbmVyMCwKICAgICAga2V5ID0gInN0eWxlLiIgKyBuYW1lLAogICAgICBldmVudCA9ICJlbmQuIiArIGtleSwKICAgICAgcmVtb3ZlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICBvbiA9IHNjaGVkdWxlLm9uLAogICAgICAgIGxpc3RlbmVyID0gc2NoZWR1bGUudmFsdWVba2V5XSA9PSBudWxsID8gcmVtb3ZlIHx8IChyZW1vdmUgPSBzdHlsZVJlbW92ZShuYW1lKSkgOiB1bmRlZmluZWQ7CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSwKICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS4KICAgICAgaWYgKG9uICE9PSBvbjAgfHwgbGlzdGVuZXIwICE9PSBsaXN0ZW5lcikgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihldmVudCwgbGlzdGVuZXIwID0gbGlzdGVuZXIpOwogICAgICBzY2hlZHVsZS5vbiA9IG9uMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc3R5bGUgKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkgewogICAgdmFyIGkgPSAobmFtZSArPSAiIikgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgc3R5bGVSZW1vdmUobmFtZSkpIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlRnVuY3Rpb24obmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCAic3R5bGUuIiArIG5hbWUsIHZhbHVlKSkpLmVhY2goc3R5bGVNYXliZVJlbW92ZSh0aGlzLl9pZCwgbmFtZSkpIDogdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgbnVsbCk7CiAgfQoKICBmdW5jdGlvbiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBpLmNhbGwodGhpcywgdCksIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICB2YXIgdCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQgPSAoaTAgPSBpKSAmJiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KTsKICAgICAgcmV0dXJuIHQ7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zdHlsZVR3ZWVuIChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHsKICAgIHZhciBrZXkgPSAic3R5bGUuIiArIChuYW1lICs9ICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7CiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBFcnJvcigpOwogICAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBzdHlsZVR3ZWVuKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gIiIgOiBwcmlvcml0eSkpOwogIH0KCiAgZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0RnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWx1ZTEgPSB2YWx1ZSh0aGlzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gIiIgOiB2YWx1ZTE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX3RleHQgKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpcy50d2VlbigidGV4dCIsIHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsICJ0ZXh0IiwgdmFsdWUpKSA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gIiIgOiB2YWx1ZSArICIiKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGUoaSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBpLmNhbGwodGhpcywgdCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgdGV4dEludGVycG9sYXRlKGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90ZXh0VHdlZW4gKHZhbHVlKSB7CiAgICB2YXIga2V5ID0gInRleHQiOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTsKICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90cmFuc2l0aW9uICgpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQwID0gdGhpcy5faWQsCiAgICAgIGlkMSA9IG5ld0lkKCk7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApOwogICAgICAgICAgc2NoZWR1bGUobm9kZSwgbmFtZSwgaWQxLCBpLCBncm91cCwgewogICAgICAgICAgICB0aW1lOiBpbmhlcml0LnRpbWUgKyBpbmhlcml0LmRlbGF5ICsgaW5oZXJpdC5kdXJhdGlvbiwKICAgICAgICAgICAgZGVsYXk6IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiBpbmhlcml0LmR1cmF0aW9uLAogICAgICAgICAgICBlYXNlOiBpbmhlcml0LmVhc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQxKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fZW5kICgpIHsKICAgIHZhciBvbjAsCiAgICAgIG9uMSwKICAgICAgdGhhdCA9IHRoaXMsCiAgICAgIGlkID0gdGhhdC5faWQsCiAgICAgIHNpemUgPSB0aGF0LnNpemUoKTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBjYW5jZWwgPSB7CiAgICAgICAgICB2YWx1ZTogcmVqZWN0CiAgICAgICAgfSwKICAgICAgICBlbmQgPSB7CiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoLS1zaXplID09PSAwKSByZXNvbHZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgdGhhdC5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICAgIGlmIChvbiAhPT0gb24wKSB7CiAgICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTsKICAgICAgICAgIG9uMS5fLmNhbmNlbC5wdXNoKGNhbmNlbCk7CiAgICAgICAgICBvbjEuXy5pbnRlcnJ1cHQucHVzaChjYW5jZWwpOwogICAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTsKICAgICAgICB9CiAgICAgICAgc2NoZWR1bGUub24gPSBvbjE7CiAgICAgIH0pOwoKICAgICAgLy8gVGhlIHNlbGVjdGlvbiB3YXMgZW1wdHksIHJlc29sdmUgZW5kIGltbWVkaWF0ZWx5CiAgICAgIGlmIChzaXplID09PSAwKSByZXNvbHZlKCk7CiAgICB9KTsKICB9CgogIHZhciBpZCA9IDA7CiAgZnVuY3Rpb24gVHJhbnNpdGlvbihncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKSB7CiAgICB0aGlzLl9ncm91cHMgPSBncm91cHM7CiAgICB0aGlzLl9wYXJlbnRzID0gcGFyZW50czsKICAgIHRoaXMuX25hbWUgPSBuYW1lOwogICAgdGhpcy5faWQgPSBpZDsKICB9CiAgZnVuY3Rpb24gbmV3SWQoKSB7CiAgICByZXR1cm4gKytpZDsKICB9CiAgdmFyIHNlbGVjdGlvbl9wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlOwogIFRyYW5zaXRpb24ucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IFRyYW5zaXRpb24sCiAgICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LAogICAgc2VsZWN0QWxsOiB0cmFuc2l0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNlbGVjdENoaWxkLAogICAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sCiAgICBmaWx0ZXI6IHRyYW5zaXRpb25fZmlsdGVyLAogICAgbWVyZ2U6IHRyYW5zaXRpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLAogICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbl90cmFuc2l0aW9uLAogICAgY2FsbDogc2VsZWN0aW9uX3Byb3RvdHlwZS5jYWxsLAogICAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGUsCiAgICBzaXplOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNpemUsCiAgICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9wcm90b3R5cGUuZWFjaCwKICAgIG9uOiB0cmFuc2l0aW9uX29uLAogICAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLAogICAgYXR0clR3ZWVuOiB0cmFuc2l0aW9uX2F0dHJUd2VlbiwKICAgIHN0eWxlOiB0cmFuc2l0aW9uX3N0eWxlLAogICAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLAogICAgdGV4dDogdHJhbnNpdGlvbl90ZXh0LAogICAgdGV4dFR3ZWVuOiB0cmFuc2l0aW9uX3RleHRUd2VlbiwKICAgIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsCiAgICB0d2VlbjogdHJhbnNpdGlvbl90d2VlbiwKICAgIGRlbGF5OiB0cmFuc2l0aW9uX2RlbGF5LAogICAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sCiAgICBlYXNlOiB0cmFuc2l0aW9uX2Vhc2UsCiAgICBlYXNlVmFyeWluZzogdHJhbnNpdGlvbl9lYXNlVmFyeWluZywKICAgIGVuZDogdHJhbnNpdGlvbl9lbmQsCiAgICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX3Byb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdCiAgfTsKCiAgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7CiAgICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCAqIHQgOiAodCAtPSAyKSAqIHQgKiB0ICsgMikgLyAyOwogIH0KCiAgdmFyIGRlZmF1bHRUaW1pbmcgPSB7CiAgICB0aW1lOiBudWxsLAogICAgLy8gU2V0IG9uIHVzZS4KICAgIGRlbGF5OiAwLAogICAgZHVyYXRpb246IDI1MCwKICAgIGVhc2U6IGN1YmljSW5PdXQKICB9OwogIGZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHsKICAgIHZhciB0aW1pbmc7CiAgICB3aGlsZSAoISh0aW1pbmcgPSBub2RlLl9fdHJhbnNpdGlvbikgfHwgISh0aW1pbmcgPSB0aW1pbmdbaWRdKSkgewogICAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNpdGlvbiAke2lkfSBub3QgZm91bmRgKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRpbWluZzsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3RyYW5zaXRpb24gKG5hbWUpIHsKICAgIHZhciBpZCwgdGltaW5nOwogICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7CiAgICAgIGlkID0gbmFtZS5faWQsIG5hbWUgPSBuYW1lLl9uYW1lOwogICAgfSBlbHNlIHsKICAgICAgaWQgPSBuZXdJZCgpLCAodGltaW5nID0gZGVmYXVsdFRpbWluZykudGltZSA9IG5vdygpLCBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyAiIjsKICAgIH0KICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHsKICAgICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkLCBpLCBncm91cCwgdGltaW5nIHx8IGluaGVyaXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIHNlbGVjdGlvbi5wcm90b3R5cGUuaW50ZXJydXB0ID0gc2VsZWN0aW9uX2ludGVycnVwdDsKICBzZWxlY3Rpb24ucHJvdG90eXBlLnRyYW5zaXRpb24gPSBzZWxlY3Rpb25fdHJhbnNpdGlvbjsKCiAgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHsKICAgIHRoaXMuayA9IGs7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICB9CiAgVHJhbnNmb3JtLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBUcmFuc2Zvcm0sCiAgICBzY2FsZTogZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGsgPT09IDEgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmsgKiBrLCB0aGlzLngsIHRoaXMueSk7CiAgICB9LAogICAgdHJhbnNsYXRlOiBmdW5jdGlvbiAoeCwgeSkgewogICAgICByZXR1cm4geCA9PT0gMCAmIHkgPT09IDAgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmssIHRoaXMueCArIHRoaXMuayAqIHgsIHRoaXMueSArIHRoaXMuayAqIHkpOwogICAgfSwKICAgIGFwcGx5OiBmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldOwogICAgfSwKICAgIGFwcGx5WDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHggKiB0aGlzLmsgKyB0aGlzLng7CiAgICB9LAogICAgYXBwbHlZOiBmdW5jdGlvbiAoeSkgewogICAgICByZXR1cm4geSAqIHRoaXMuayArIHRoaXMueTsKICAgIH0sCiAgICBpbnZlcnQ6IGZ1bmN0aW9uIChsb2NhdGlvbikgewogICAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdOwogICAgfSwKICAgIGludmVydFg6IGZ1bmN0aW9uICh4KSB7CiAgICAgIHJldHVybiAoeCAtIHRoaXMueCkgLyB0aGlzLms7CiAgICB9LAogICAgaW52ZXJ0WTogZnVuY3Rpb24gKHkpIHsKICAgICAgcmV0dXJuICh5IC0gdGhpcy55KSAvIHRoaXMuazsKICAgIH0sCiAgICByZXNjYWxlWDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7CiAgICB9LAogICAgcmVzY2FsZVk6IGZ1bmN0aW9uICh5KSB7CiAgICAgIHJldHVybiB5LmNvcHkoKS5kb21haW4oeS5yYW5nZSgpLm1hcCh0aGlzLmludmVydFksIHRoaXMpLm1hcCh5LmludmVydCwgeSkpOwogICAgfSwKICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB0aGlzLnggKyAiLCIgKyB0aGlzLnkgKyAiKSBzY2FsZSgiICsgdGhpcy5rICsgIikiOwogICAgfQogIH07CiAgVHJhbnNmb3JtLnByb3RvdHlwZTsKCiAgLyoKICAgIEhURE1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIQoKICAgIE1vZGVsIHBhcmFtZXRlcnM6CiAgICAgIGsgPSBkaXNjb3VudCBmYWN0b3IgKDAsIEluZmluaXR5KQoKICAgIEJlaGF2aW9yYWwgdmFyaWFibGVzOgogICAgICBBID0gYW1vdW50CiAgICAgIEQgPSBkZWxheQogICAgICBWID0gc3ViamVjdGl2ZSB2YWx1ZQoKICAgIEVxdWF0aW9uczoKICAgICAgViA9IEEgLyAoMSArIGtEKQogICAgICBrID0gKEEgLSBWKSAvIChWRCkKICAqLwogIGNsYXNzIEhURE1hdGggewogICAgc3RhdGljIGsgPSB7CiAgICAgIERFRkFVTFQ6IDAuMDUsCiAgICAgIE1JTjogMCwKICAgICAgTUFYOiAxMDAsCiAgICAgIFNURVA6IDAuMDAxLAogICAgICBKVU1QOiAwLjAxCiAgICB9OwogICAgc3RhdGljIGFkazJ2KGEsIGQsIGspIHsKICAgICAgcmV0dXJuIGEgLyAoMSArIGsgKiBkKTsKICAgIH0KICAgIHN0YXRpYyBhZHYyayhhLCBkLCB2KSB7CiAgICAgIHJldHVybiAoYSAtIHYpIC8gKHYgKiBkKTsKICAgIH0KICB9CgogIC8vIEludGVybmFsIGRlcGVuZGVuY2llcwoKICAvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbIm9mZiIsICJzZWxmIl0gKi8KCiAgc2VsZi5vbm1lc3NhZ2UgPSBldmVudCA9PiB7CiAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgIGs6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IEhURE1hdGguay5NSU4sCiAgICAgICAgdXBwZXI6IEhURE1hdGguay5NQVgKICAgICAgfSwKICAgICAgbHVjZTogewogICAgICAgIHR5cGU6ICdyZWFsJywKICAgICAgICBsb3dlcjogMCwKICAgICAgICB1cHBlcjogMTAwCiAgICAgIH0KICAgIH07CiAgICBjb25zdCBsb2dQb3N0ID0gKHN0YXRlLCBkYXRhKSA9PiB7CiAgICAgIGxldCBscCA9IDA7CgogICAgICAvLyBQcmlvcnMKICAgICAgY29uc3Qga01lYW4gPSAyOwogICAgICBjb25zdCBrU2hhcGUgPSAzOwogICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5nYW1tYShzdGF0ZS5rLCBrU2hhcGUsIGtTaGFwZSAvIGtNZWFuKTsKICAgICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUuaywgMCwgMTAwKTsKCiAgICAgIGNvbnN0IGx1Y2VNZWFuID0gMjsKICAgICAgY29uc3QgbHVjZVNoYXBlID0gMzsKICAgICAgbHAgKz0gZGlzdHJpYnV0aW9uc0V4cG9ydHMuZ2FtbWEoc3RhdGUubHVjZSwgbHVjZVNoYXBlLCBsdWNlU2hhcGUgLyBsdWNlTWVhbik7CiAgICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmx1Y2UsIDAsIDEwMCk7CgogICAgICAvLyBMaWtlbGlob29kCiAgICAgIGRhdGEuZm9yRWFjaChjaG9pY2UgPT4gewogICAgICAgIC8vIFZhbHVlcwogICAgICAgIGNvbnN0IHZzID0gSFRETWF0aC5hZGsydihjaG9pY2UuYXMsIGNob2ljZS5kcywgc3RhdGUuayk7CiAgICAgICAgY29uc3QgdmwgPSBIVERNYXRoLmFkazJ2KGNob2ljZS5hbCwgY2hvaWNlLmRsLCBzdGF0ZS5rKTsKCiAgICAgICAgLy8gQ2hvaWNlIG9mIHNvb25lciBvciBsYXRlciBpcyBzYW1wbGVkIGZyb20gYSBCZXJub3VsbGkgZGlzdHJpYnV0aW9uCiAgICAgICAgLy8gTHVjZSBjaG9pY2UgcnVsZSBpcyB1c2VkIHRvIGNvbXB1dGUgcHJvYmFiaWxpdHkgb2Ygd2FpdGluZyEgKDAgPSBzb29uZXIsIDEgPSBsYXRlcikKICAgICAgICBjb25zdCBiaW52YWwgPSAxIC8gKDEgKyBNYXRoLmV4cChzdGF0ZS5sdWNlICogKHZzIC0gdmwpKSk7CgogICAgICAgIC8vIEFjdHVhbCByZXNwb25zZQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gY2hvaWNlLnJlc3BvbnNlID09PSAnZmlyc3QnID8gMCA6IDE7CiAgICAgICAgbHAgKz0gZGlzdHJpYnV0aW9uc0V4cG9ydHMuYmVybihyZXNwb25zZSwgYmludmFsKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBscDsKICAgIH07CgogICAgLy8gSW5pdGlhbGl6aW5nIHRoZSBzYW1wbGVyCiAgICBjb25zdCBzYW1wbGVyID0gbmV3IG1jbWNFeHBvcnRzLkFtd2dTYW1wbGVyKHBhcmFtcywgbG9nUG9zdCwgZXZlbnQuZGF0YSk7CiAgICAvLyBCdXJuaW5nIHNvbWUgc2FtcGxlcyB0byB0aGUgTUNNQyBnb2RzIGFuZCBzYW1wbGluZyA1MDAwIGRyYXdzCiAgICBzYW1wbGVyLmJ1cm4oMTAwMCk7CiAgICBjb25zdCBzYW1wbGVzID0gc2FtcGxlci5zYW1wbGUoNTAwMCk7CgogICAgLy8gRXh0cmFjdCBzdW1tYXJ5IHN0YXRzCiAgICBjb25zdCByZXN1bHRzID0gewogICAgICBrOiBtZWRpYW4oc2FtcGxlcy5rKSwKICAgICAgbHVjZTogbWVkaWFuKHNhbXBsZXMubHVjZSkKICAgIH07CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgcmVzdWx0czogcmVzdWx0cywKICAgICAgc2FtcGxlczogc2FtcGxlcwogICAgfSk7CiAgfTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0ZC1maXQtd29ya2VyLmpzLm1hcAoK","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRkLWZpdC13b3JrZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9iYXllcy5qcy9kaXN0cmlidXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2JheWVzLmpzL21jbWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2FzY2VuZGluZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9zb3J0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tYXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL21pbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvcXVpY2tzZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3F1YW50aWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tZWRpYW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZGlzcGF0Y2gvc3JjL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL25hbWVzcGFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NyZWF0b3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9hcnJheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL21hdGNoZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGRyZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbnRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NvbnN0YW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9qb2luLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL21lcmdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NvcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2FsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZWFjaC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hdHRyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NsYXNzZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vdGV4dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9odG1sLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JhaXNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2xvd2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2FwcGVuZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbnNlcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmVtb3ZlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Nsb25lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2l0ZXJhdG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWNvbG9yL3NyYy9kZWZpbmUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3JnYi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9zdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9kZWNvbXBvc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWVyL3NyYy90aW1lci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NjaGVkdWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL2ludGVycnVwdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW50ZXJydXB0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9pbnRlcnBvbGF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9kZWxheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2VWYXJ5aW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vbWVyZ2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9vbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGVUd2Vlbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0VHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90cmFuc2l0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY3ViaWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL3RyYW5zaXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3RyYW5zZm9ybS5qcyIsIi4uLy4uL2xpYnJhcmllcy9kaXNjb3VudGFibGUtbWF0aC9zcmMvaHRkLW1hdGguanMiLCIuLi8uLi9saWJyYXJpZXMvZGlzY291bnRhYmxlLW1hdGgvc3JjL2luZGV4LmpzIiwiLi4vLi4vbGlicmFyaWVzL2Rpc2NvdW50YWJsZS1lbGVtZW50cy9zcmMvY29tcG9uZW50cy9odGQtZml0LXdvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvblxuLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoXG4vLyBhcyBpbiBcImxvZyBkZW5zaXR5XCIpLCBzbyB0byBnZXQgYSBub3JtYWwgbG9nIGRlbnNpdHkgeW91IHdvdWxkIHdyaXRlXG4vLyBsZC5ub3JtKC4uLikuXG4vLyBNb3N0IG9mIHRoZSBjb2RlIGJlbG93IGlzIGRpcmVjdGx5IHRha2VuIGZyb20gdGhlIGdyZWF0IEpzdGF0IHByb2plY3Rcbi8vIChodHRwczovL2dpdGh1Yi5jb20vanN0YXQvKSB3aGljaCBpbmNsdWRlcyBQREYgZm9yIG1hbnkgY29tbW9uIHByb2JhYmlsaXR5XG4vLyBkaXN0cmlidXRpb25zLiBXaGF0IEkgaGF2ZSBkb25lIGlzIG9ubHkgdG8gY29udmVydCB0aGVzZSB0byBsb2cgUERGcy5cblxuLypcbk9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0XG5Nb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCBcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IGxkIC5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QubGQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4gIC8vIE9iamVjdCB0byBob2xkIHRoZSBmdW5jdGlvbnMgdG8gYmUgZXhwb3J0ZWQuXG4gIHZhciBsZCAgPSB7fTtcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICB2YXIgbGdhbW1hID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIgY29mID0gW1xuICAgICAgNzYuMTgwMDkxNzI5NDcxNDYsIC04Ni41MDUzMjAzMjk0MTY3NywgMjQuMDE0MDk4MjQwODMwOTEsXG4gICAgICAtMS4yMzE3Mzk1NzI0NTAxNTUsIDAuMTIwODY1MDk3Mzg2NjE3OWUtMiwgLTAuNTM5NTIzOTM4NDk1M2UtNVxuICAgIF07XG4gICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1O1xuICAgIHZhciB4eCwgeSwgdG1wO1xuICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTtcbiAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApO1xuICAgIGZvciAoOyBqIDwgNjsgaisrKVxuICAgICAgc2VyICs9IGNvZltqXSAvICsreTtcbiAgICByZXR1cm4gbG9nKDIuNTA2NjI4Mjc0NjMxMDAwNSAqIHNlciAvIHh4KSAtIHRtcDtcbiAgfTtcbiAgbGQubGdhbW1hID0gbGdhbW1hO1xuICBcbiAgdmFyIGxmYWN0b3JpYWwgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIG4gPCAwID8gTmFOIDogbGdhbW1hKG4gKyAxKTtcbiAgfTtcbiAgbGQubGZhY3RvcmlhbCA9IGxmYWN0b3JpYWw7XG4gIFxuICB2YXIgbGNob29zZSA9IGZ1bmN0aW9uKG4sIGspe1xuICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspO1xuICB9O1xuICBsZC5sY2hvb3NlID0gbGNob29zZTtcbiAgXG4gIHZhciBsYmV0YSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTtcbiAgfTtcbiAgbGQubGJldGEgPSBsYmV0YTtcbiAgXG4gIHZhciBsb2cgID0gTWF0aC5sb2c7XG4gIHZhciBleHAgID0gTWF0aC5leHA7XG4gIHZhciBhYnMgID0gTWF0aC5hYnM7XG4gIHZhciBwb3cgID0gTWF0aC5wb3c7XG4gIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICB2YXIgcGkgICA9IE1hdGguUEk7XG4gIFxuICAvLy8vLy8vLy8vIENvbnRpbm91cyBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBsZC5iZXRhID0gZnVuY3Rpb24oeCwgc2hhcGUxLCBzaGFwZTIpIHtcbiAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYoc2hhcGUxID09PSAxICYmIHNoYXBlMiA9PT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoc2hhcGUxIC0gMSkgKiBsb2coeCkgKyAoc2hhcGUyIC0gMSkgKiBsb2coMSAtIHgpIC0gbGJldGEoc2hhcGUxLCBzaGFwZTIpOyAgXG4gICAgfVxuICB9O1xuICBcbiAgbGQuY2F1Y2h5ID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAgLSBsb2cocGkpO1xuICB9O1xuICBcbiAgbGQubm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC1sb2coc2QpIC0gcG93KHggLSBtZWFuLCAyKSAvICgyICogc2QgKiBzZCk7XG4gIH07XG5cbiAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIFxuICAvLyB0aGUgY29ycmVsYXRpb24uXG4gIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkLCBjb3JyKSB7XG4gICAgdmFyIHogPSBwb3coeFswXSAtIG1lYW5bMF0sIDIpIC8gcG93KHNkWzBdLCAyKSArXG4gICAgICAgICAgICBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIFxuICAgICAgICAgICAgKDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkpIC8gKHNkWzBdICogc2RbMV0pO1xuICAgIHZhciBub3JtYWxpemluZ19mYWN0b3IgPSAtKCBsb2coMikgKyBsb2cocGkpICsgbG9nKHNkWzBdKSArIGxvZyhzZFsxXSkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpICk7IFxuICAgIHZhciBiaXZhcl9sb2dfZGVucyA9IG5vcm1hbGl6aW5nX2ZhY3RvciAtIHogLyAoMiAqICgxIC0gcG93KGNvcnIsIDIpICkgKTsgXG4gICAgcmV0dXJuIGJpdmFyX2xvZ19kZW5zO1xuICB9O1xuICBcblxuICBsZC5sYXBsYWNlID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuICgtYWJzKHggLSBsb2NhdGlvbikvc2NhbGUpIC0gbG9nKDIgKiBzY2FsZSk7XG4gIH07XG4gIFxuICBsZC5kZXhwID0gbGQubGFwbGFjZTtcbiAgXG4gIGxkLmdhbW1hID0gZnVuY3Rpb24oeCwgc2hhcGUsIHJhdGUpIHtcbiAgICB2YXIgc2NhbGUgPSAxIC8gcmF0ZTtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfVxuICAgIGlmKCh4ID09PSAwICYmIHNoYXBlID09PSAxKSApIHtcbiAgICAgIHJldHVybiAtbG9nKHNjYWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChzaGFwZSAtIDEpICogbG9nKHgpIC0geCAvIHNjYWxlIC0gbGdhbW1hKHNoYXBlKSAtIHNoYXBlICogbG9nKHNjYWxlKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5pbnZnYW1tYSA9IGZ1bmN0aW9uKHgsIHNoYXBlLCBzY2FsZSkge1xuICAgICAgaWYgKHggPD0gMCkge1xuICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7XG4gICAgfTtcbiAgXG4gIGxkLmxub3JtID0gIGZ1bmN0aW9uKHgsIG1lYW5sb2csIHNkbG9nKSB7XG4gICAgaWYgKHggPD0gMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBcbiAgICAgICAgICAgIHBvdyhsb2coeCkgLSBtZWFubG9nLCAyKSAvICgyICogc2Rsb2cgKiBzZGxvZyk7XG4gIH07XG4gIFxuICBsZC5wYXJldG8gPSBmdW5jdGlvbih4LCBzY2FsZSwgc2hhcGUpIHtcbiAgICBpZiAoeCA8IHNjYWxlKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gbG9nKHNoYXBlKSArIHNoYXBlICogbG9nKHNjYWxlKSAtIChzaGFwZSArIDEpICogbG9nKHgpO1xuICB9O1xuICBcbiAgbGQudCAgPSAgZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlLCBkZikge1xuICAgIGRmID0gZGYgPiAxZTEwMCA/IDFlMTAwIDogZGY7XG4gICAgcmV0dXJuIGxnYW1tYSgoZGYgKyAxKS8yKSAtIGxnYW1tYShkZi8yKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICtcbiAgICAgICAgICAgbG9nKHBvdygxICsgKDEvZGYpICogcG93KCh4IC0gbG9jYXRpb24pL3NjYWxlLCAyKSwgLShkZiArIDEpLzIpKTtcbiAgfTtcbiAgXG4gIC8vIFRoaXMgaXMgYSBkaXJlY3QgamF2YXNjcmlwdCB0cmFuc2xhdGlvbiBvZiB0aGUgUiBjb2RlIHVzZWQgdG8gZXZhbHVhdGVcbiAgLy8gdGhlIGxvZyBkZW5zaXR5IG9mIGEgd2VpYnVsbCBkaXN0cmlidXRpb246IFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2NoL3Itc291cmNlL2Jsb2IvYjE1NmUzYTcxMTk2N2Y1ODEzMWUyM2MxYjFkYzFlYTkwZTJmMGM0My9zcmMvbm1hdGgvZHdlaWJ1bGwuY1xuICBsZC53ZWlidWxsID0gZnVuY3Rpb24oeCwgc2hhcGUsIHNjYWxlKSB7XG4gICAgaWYgKHggPCAwKSByZXR1cm4gLUluZmluaXR5O1xuICAgIGlmKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7XG4gICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpO1xuICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpO1xuXHQgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7XG4gIH07XG4gIFxuICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlXG4gIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuY1xuICBsZC5sb2dpcyA9IGZ1bmN0aW9uKHgsIGxvY2F0aW9uLCBzY2FsZSkge1xuICAgIHggPSBhYnMoKHggLSBsb2NhdGlvbikgLyBzY2FsZSk7XG4gICAgdmFyIGUgPSBleHAoLXgpO1xuICAgIHZhciBmID0gMS4wICsgZTtcbiAgICByZXR1cm4gLSh4ICsgbG9nKHNjYWxlICogZiAqIGYpKTsgICAgXG4gIH07XG5cbiAgbGQuZGlyaWNobGV0ID0gZnVuY3Rpb24oeCwgYWxwaGEpIHtcbiAgICB2YXIgc3VtX2FscGhhID0gMDtcbiAgICB2YXIgc3VtX2xnYW1tYV9hbHBoYSA9IDA7XG4gICAgdmFyIHN1bV9hbHBoYV9zdWJfMV9sb2dfeCA9IDA7XG4gICAgdmFyIG4gPSBhbHBoYS5sZW5ndGg7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldO1xuICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pO1xuICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194O1xuICB9O1xuICAgXG4gICAgXG4gIGxkLmV4cCA9IGZ1bmN0aW9uKHgsIHJhdGUpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtcmF0ZSAqIHg7XG4gIH07XG4gIFxuICBsZC51bmlmID0gZnVuY3Rpb24oeCwgbWluLCBtYXgpIHtcbiAgICAgIHJldHVybiAoeCA8IG1pbiB8fCB4ID4gbWF4KSA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpO1xuICB9O1xuICBcbiAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIGxkLmJlcm4gPSBmdW5jdGlvbih4LCBwcm9iKSB7XG4gICAgICByZXR1cm4gISh4ID09PSAwIHx8IHggPT09IDEpID8gLUluZmluaXR5IDogbG9nKHggKiBwcm9iICsgKDEgLSB4KSAqICgxIC0gcHJvYikpO1xuICB9O1xuICBcbiAgbGQuY2F0ID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICBpZih4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9nKCBwcm9ic1t4IC0gMV0gKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4ID4gc2l6ZSB8fCB4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7XG4gICAgICByZXR1cm4gKHNpemUgKiBwcm9iKSA9PT0geCA/IDAgOiAtSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBsY2hvb3NlKHNpemUsIHgpICsgeCAqIGxvZyhwcm9iKSArIChzaXplIC0geCkgKiBsb2coMSAtIHByb2IpO1xuICB9O1xuICBcbiAgdmFyIG11bHRpbm9tID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICB2YXIgbiA9IHgubGVuZ3RoO1xuICAgIHZhciBzaXplID0gMDtcbiAgICB2YXIgdG1wX3Rlcm0gPSAwO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmKHByb2JzW2ldID09PSAwKSB7XG4gICAgICAgIGlmKHhbaV0gIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OyAgXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgKz0geFtpXTtcbiAgICAgICAgdG1wX3Rlcm0gKz0geFtpXSAqIGxvZyhwcm9ic1tpXSkgLSBsZ2FtbWEoeFtpXSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHNpemUgKyAxKSArIHRtcF90ZXJtIDtcbiAgfTtcbiAgXG4gIGxkLm5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGxjaG9vc2UoeCArIHNpemUgLSAxLCBzaXplIC0gMSkgKyB4ICogbG9nKDEgLSBwcm9iKSArIHNpemUgKiBsb2cocHJvYik7XG4gIH07XG4gIFxuICBsZC5oeXBlciA9IGZ1bmN0aW9uKHgsIG0sIG4sIGspIHtcbiAgICBpZih4IDwgMCB8fCB4ID4gaykge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9IGVsc2Uge1xuICAgIHJldHVybiBsY2hvb3NlKG0sIHgpICsgbGNob29zZShuLCBrLXgpIC0gbGNob29zZShtK24sIGspO1xuICAgIH1cbiAgfTtcbiAgXG4gIGxkLnBvaXMgPSBmdW5jdGlvbih4LCBsYW1iZGEpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7XG4gIH07XG4gIFxuICByZXR1cm4gbGQ7XG59KSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IG1jbWMgLlxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCl7XG5cbi8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICBcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKiogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4ICovXG4gIHZhciBydW5pZiA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqL1xuICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9O1xuICBcbiAgLyoqIFJldHVybnMgYSByYW5kb20gcmVhbCBudW1iZXIgZnJvbSBhIG5vcm1hbCBkaXN0cmliYnV0aW9uIGRlZmluZWRcbiAgICogIGJ5IG1lYW4gYW5kIHNkLiBcbiAgICogIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vanN0YXQvanN0YXQvYmxvYi9tYXN0ZXIvc3JjL3NwZWNpYWwuanMgKi9cbiAgdmFyIHJub3JtID0gZnVuY3Rpb24obWVhbiwgc2QpIHtcbiAgICB2YXIgdSwgdiwgeCwgeSwgcTtcbiAgICBkbyB7XG4gICAgICB1ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIHYgPSAxLjcxNTYgKiAoTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgICB4ID0gdSAtIDAuNDQ5ODcxO1xuICAgICAgeSA9IE1hdGguYWJzKHYpICsgMC4zODY1OTU7XG4gICAgICBxID0geCAqIHggKyB5ICogKDAuMTk2MDAgKiB5IC0gMC4yNTQ3MiAqIHgpO1xuICAgIH0gd2hpbGUgKHEgPiAwLjI3NTk3ICYmIChxID4gMC4yNzg0NiB8fCB2ICogdiA+IC00ICogTWF0aC5sb2codSkgKiB1ICogdSkpO1xuICAgIFxuICAgIHJldHVybiAodiAvIHUpICogc2QgKyBtZWFuO1xuICB9O1xuICBcbiAgXG4gIC8qKiBSZXR1cm5zIGEgZGVlcCBjbG9uZSBvZiBzcmMsIHNvcnQgb2YuLi4gSXQgb25seSBjb3BpZXMgYSBsaW1pdGVkXG4gICAqIG51bWJlciBvZiB0eXBlcyBhbmQsIGZvciBleGFtcGxlLCBmdW5jdGlvbiBhcmUgbm90IGNvcGllZC4gXG4gICAqIEZyb20gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS9qYXZhc2NyaXB0LWNsb25lXG4gICAqL1xuICB2YXIgZGVlcF9jbG9uZSA9IGZ1bmN0aW9uKHNyYykge1xuICBcdGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHtcbiAgXHRcdHZhciBuYW1lLCBzLCBpLCBlbXB0eSA9IHt9O1xuICBcdFx0Zm9yKG5hbWUgaW4gc291cmNlKXtcbiAgXHRcdFx0Ly8gdGhlICghKG5hbWUgaW4gZW1wdHkpIHx8IGVtcHR5W25hbWVdICE9PSBzKSBjb25kaXRpb24gYXZvaWRzIGNvcHlpbmcgcHJvcGVydGllcyBpbiBcInNvdXJjZVwiXG4gIFx0XHRcdC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuXHQgRm9yIGV4YW1wbGUsIGlmIGRlc3QgaGFzIGEgY3VzdG9tIHRvU3RyaW5nKCkgbWV0aG9kLFxuICBcdFx0XHQvLyBkb24ndCBvdmVyd3JpdGUgaXQgd2l0aCB0aGUgdG9TdHJpbmcoKSBtZXRob2QgdGhhdCBzb3VyY2UgaW5oZXJpdGVkIGZyb20gT2JqZWN0LnByb3RvdHlwZVxuICBcdFx0XHRzID0gc291cmNlW25hbWVdO1xuICBcdFx0XHRpZighKG5hbWUgaW4gZGVzdCkgfHwgKGRlc3RbbmFtZV0gIT09IHMgJiYgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpKSl7XG4gIFx0XHRcdFx0ZGVzdFtuYW1lXSA9IGNvcHlGdW5jID8gY29weUZ1bmMocykgOiBzO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0XHRyZXR1cm4gZGVzdDtcbiAgXHR9XG4gIFx0aWYoIXNyYyB8fCB0eXBlb2Ygc3JjICE9IFwib2JqZWN0XCIgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIil7XG4gIFx0XHQvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvblxuICBcdFx0cmV0dXJuIHNyYztcdC8vIGFueXRoaW5nXG4gIFx0fVxuICBcdGlmKHNyYy5ub2RlVHlwZSAmJiBcImNsb25lTm9kZVwiIGluIHNyYyl7XG4gIFx0XHQvLyBET00gTm9kZVxuICBcdFx0cmV0dXJuIHNyYy5jbG9uZU5vZGUodHJ1ZSk7IC8vIE5vZGVcbiAgXHR9XG4gIFx0aWYoc3JjIGluc3RhbmNlb2YgRGF0ZSl7XG4gIFx0XHQvLyBEYXRlXG4gIFx0XHRyZXR1cm4gbmV3IERhdGUoc3JjLmdldFRpbWUoKSk7XHQvLyBEYXRlXG4gIFx0fVxuICBcdGlmKHNyYyBpbnN0YW5jZW9mIFJlZ0V4cCl7XG4gIFx0XHQvLyBSZWdFeHBcbiAgXHRcdHJldHVybiBuZXcgUmVnRXhwKHNyYyk7ICAgLy8gUmVnRXhwXG4gIFx0fVxuICBcdHZhciByLCBpLCBsO1xuICBcdGlmKHNyYyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgXHRcdC8vIGFycmF5XG4gIFx0XHRyID0gW107XG4gIFx0XHRmb3IoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKXtcbiAgXHRcdFx0aWYoaSBpbiBzcmMpe1xuICBcdFx0XHRcdHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0fSBlbHNlIHtcbiAgXHRcdC8vIGdlbmVyaWMgb2JqZWN0c1xuICBcdFx0ciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9O1xuICBcdH1cbiAgXHRyZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTtcbiAgfTtcbiAgXG4gIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmVcbiAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvblxuICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZ1xuICAgKiBsb29wLlxuICAgKi9cbiAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgaWYoQXJyYXkuaXNBcnJheSh4WzBdKSkge1xuICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5XG4gICAgICAgIHZhciB4X2NvcHkgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuZ3RoID0geC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHhfY29weS5wdXNoKGNsb25lX3BhcmFtX2RyYXcoeFtpXSkpO1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4geF9jb3B5O1xuICAgICAgfSBlbHNlIHsgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFyc1xuICAgICAgICByZXR1cm4geC5zbGljZSgwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIHNjYWxhclxuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgYSBudW1iZXIuXG4gICAqL1xuICB2YXIgaXNfbnVtYmVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSBcIm51bWJlclwiIHx8ICh0eXBlb2Ygb2JqZWN0ID09IFwib2JqZWN0XCIgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBOdW1iZXIpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS5cbiAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsXG4gICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LlxuICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpblxuICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgXG4gICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0b1xuICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LlxuICAgKiBAZXhhbXBsZSBcbiAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXVxuICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpXG4gICAqL1xuICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24oZGltLCBpbml0KSB7XG4gICAgdmFyIGFyciA9IG5ldyBBcnJheShkaW1bMF0pO1xuICAgIHZhciBpO1xuICAgIGlmKGRpbS5sZW5ndGggPT0gMSkgeyAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdFxuICAgICAgaWYodHlwZW9mIGluaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQoKTtcbiAgICAgICAgfSAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQ7XG4gICAgICAgIH0gXG4gICAgICB9XG4gICAgfSBlbHNlIGlmKGRpbS5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJjcmVhdGVfYXJyYXkgY2FuJ3QgY3JlYXRlIGEgZGltZW5zaW9ubGVzcyBhcnJheVwiO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGltZW5zaW9ucyBvZiBhIHBvc3NpYmx5IG5lc3RlZCBhcnJheSBhcyBhbiBhcnJheS4gRm9yIFxuICAgKiBleGFtcGxlLCBhcnJheV9kaW0oIFtbMSwgMl0sIFsxLCAyXV0gKSBzaG91bGQgcmV0dXJuIFsyLCAyXVxuICAgKiBBc3N1bWVzIHRoYXQgYWxsIGFycmF5cyBpbnNpZGUgYW5vdGhlciBhcnJheSBhcmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBTaG91bGQgcmV0dXJuIFs0LCAyLCAxXVxuICAgKiBhcnJheV9kaW0oY3JlYXRlX2FycmF5KFs0LCAyLCAxXSwgMCkpXG4gICAqL1xuICB2YXIgYXJyYXlfZGltID0gZnVuY3Rpb24oYSkge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoYVswXSkpIHtcbiAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2EubGVuZ3RoXTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50c1xuICAgKiBhcyBqdWRnZWQgYnkgdGhlIFwiPT1cIiBvcGVyYXRvci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlxuICAgKiBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ4NTM5NzQvMTAwMTg0OFxuICAgKi8gXG4gIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICAgIGlmIChhMS5sZW5ndGggIT0gYTIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7XG4gICAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5c1xuICAgICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsgICAgICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsgXG4gICAgICAgICAgICAgIC8vIFdhcm5pbmcgLSB0d28gZGlmZmVyZW50IG9iamVjdCBpbnN0YW5jZXMgd2lsbCBuZXZlciBiZSBlcXVhbDoge3g6MjB9ICE9IHt4OjIwfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICB9ICAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCBcImxlYWYgbm9kZXNcIiwgXG4gICAqIHRoYXQgaXMsIHZhbHVlcyB0aGF0IGFyZSBub3QgYXJyYXlzLiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBzYW1lIHNpemUgYXNcbiAgICogYS5cbiAgICovXG4gIHZhciBuZXN0ZWRfYXJyYXlfYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTtcbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKiogUmFuZG9taXppbmcgdGhlIGFycmF5IGVsZW1lbnQgb3JkZXIgaW4tcGxhY2UuIFVzaW5nIER1cnN0ZW5mZWxkXG4gICAqIHNodWZmbGUgYWxnb3JpdGhtLiBBZGFwdGVkIGZyb20gaGVyZTogXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEyNjQ2ODY0LzEwMDE4NDhcbiAgICovXG4gIGZ1bmN0aW9uIHNodWZmbGVfYXJyYXkoYXJyYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldO1xuICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbal07XG4gICAgICAgICAgYXJyYXlbal0gPSB0ZW1wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIFxuICAvKipcbiAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5XG4gICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgXCJsZWFmIG5vZGVzXCIgYW5kIHJldHVybnMgYW4gYXJyYXkgXG4gICAqIG9mIHRoZSBzYW1lIHNpemUgYXMgYS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5XG4gICAqIGJyYW5jaGVzIHJhbmRvbWx5LlxuICAgKi9cbiAgdmFyIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgbGVuID0gYS5sZW5ndGg7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBhcnJheV9pcyA9IFtdO1xuICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJyYXlfaXNbaV0gPSBpO1xuICAgICAgfVxuICAgICAgc2h1ZmZsZV9hcnJheShhcnJheV9pcyk7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBcbiAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07XG4gICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmVcbiAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC5cbiAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmdcbiAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgXG4gICAqICAgIGFzIGEgbWVtYmVyLlxuICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgXG4gICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy5cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9XG4gICAqIHZhciBwaSA9IGdldF9vcHRpb24oXCJwaVwiLCBteV9vcHRpb25zLCAzLjE0KVxuICAgKi9cbiAgLy8gUHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmYXVsdHMgY2FuIGJlIG92ZXJyaWRkZW5cbiAgLy8gYnkgYW4gb3B0aW9ucyBvYmplY3QuIEZvciBleGFtcGxlOlxuICAvLyB2YXIgcGkgPSBnZXRfb3B0aW9uKFwicGlcIiwgbXlfb3B0aW9ucywgMy4xNClcbiAgdmFyIGdldF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIFxuICAgICAgICAgICBvcHRpb25zW29wdGlvbl9uYW1lXSAhPT0gdW5kZWZpbmVkICAmJiBcbiAgICAgICAgICAgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTtcbiAgfTtcbiAgXG4gIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWxcbiAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS5cbiAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggXG4gICAqIGRpbSBkaW1lbnNpb25zLlxuICAgKiBcbiAgICovXG4gIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRpbSwgZGVmYXVsX3ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0X29wdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKTtcbiAgICAgaWYoISBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgIHZhbHVlID0gY3JlYXRlX2FycmF5KGRpbSwgdmFsdWUpO1xuICAgICB9IFxuICAgICBpZighIGFycmF5X2VxdWFsKCBhcnJheV9kaW0odmFsdWUpLCBkaW0pKSB7XG4gICAgICAgdGhyb3cgXCJUaGUgb3B0aW9uIFwiICsgb3B0aW9uX25hbWUgKyBcIiBpcyBvZiBkaW1lbnNpb24gW1wiICsgXG4gICAgICAgICAgICAgYXJyYXlfZGltKHZhbHVlKSArIFwiXSBidXQgc2hvdWxkIGJlIFtcIiArIGRpbSArIFwiXS5cIjtcbiAgICB9XG4gICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgXG4gIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKipcbiAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLlxuICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgXCJyZWFsXCIsIFwiaW50XCIsIGFuZCBcImJpbmFyeVwiLlxuICAgKi9cbiAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbih0eXBlLCBsb3dlciwgdXBwZXIpIHtcbiAgICBpZihsb3dlciA+IHVwcGVyKSB7XG4gICAgICB0aHJvdyBcIkNhbiBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgd2hlcmUgbG93ZXIgYm91bmQgPiB1cHBlciBib3VuZFwiO1xuICAgIH1cbiAgICBpZih0eXBlID09PSBcInJlYWxcIikge1xuICAgICAgaWYobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIDAuNTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDAuNTtcbiAgICAgIH0gZWxzZSBpZih1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIGxvd2VyICsgMC41O1xuICAgICAgfSBlbHNlIGlmKGxvd2VyIDw9IHVwcGVyKSB7XG4gICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZih0eXBlID09PSBcImludFwiKSB7XG4gICAgICBpZihsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDE7XG4gICAgICB9IGVsc2UgaWYodXBwZXIgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiBsb3dlciArIDE7XG4gICAgICB9IGVsc2UgaWYobG93ZXIgPD0gdXBwZXIpe1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgobG93ZXIgKyB1cHBlcikgLyAyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodHlwZSA9PT0gXCJiaW5hcnlcIikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHRocm93IFwiQ291bGQgbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIG9mIHR5cGUgXCIgKyB0eXBlICsgXCJbXCIgKyBsb3dlciArIFwiLCBcIiArIHVwcGVyICsgXCJdXCI7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ29tcGxldGVzIHBhcmFtc190b19jb21wbGV0ZSwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyIGRlc2NyaXB0aW9ucywgXG4gICAqIGFuZCBpbml0aWFsaXplcyBub24taW5pdGlhbGl6ZWQgcGFyYW1ldGVycy4gVGhpcyBtb2RpZmllZCB2ZXJzaW9uIG9mXG4gICAqIHBhcmFtc190b19jb21wbGV0ZSBpcyByZXR1cm5lZCBhcyBhIGRlZXAgY29weSBhbmQgbm90IG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGJ5IHN1cHBseWluZyBhIHBhcmFtX2luaXQgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmVcbiAgICogZnVuY3Rpb24odHlwZSwgbG93ZXIsIHVwcGVyKSB0aGF0IHNob3VsZCByZXR1cm4gYSBzaW5nbGUgbnVtYmVyIFxuICAgKiAobGlrZSBwYXJhbV9pbml0X2ZpeGVkLCBmb3IgZXhhbXBsZSkuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwYXJhbXMgPSB7IFwibXVcIjoge1widHlwZVwiOiBcInJlYWxcIn0gfVxuICAgKiBwYXJhbXMgPSBjb21wbGV0ZV9wYXJhbXMocGFyYW1zKTtcbiAgICogLy8gcGFyYW1zIHNob3VsZCBub3cgYmU6XG4gICAqIC8vICB7XCJtdVwiOiB7IFwidHlwZVwiOiBcInJlYWxcIiwgXCJkaW1cIjogWzFdLCBcInVwcGVyXCI6IEluZmluaXR5LFxuICAgKiAvLyAgICAgICAgICAgXCJsb3dlclwiOiAtSW5maW5pdHksIFwiaW5pdFwiOiAwLjUgfX1cbiAgICovIFxuICB2YXIgY29tcGxldGVfcGFyYW1zICA9IGZ1bmN0aW9uKHBhcmFtc190b19jb21wbGV0ZSwgcGFyYW1faW5pdCkge1xuICAgIHZhciBwYXJhbXMgPSBkZWVwX2Nsb25lKHBhcmFtc190b19jb21wbGV0ZSk7XG4gICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBwYXJhbXMpIHsgaWYgKCFwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW1fbmFtZSkpIGNvbnRpbnVlO1xuICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgaWYoICFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpIHtcbiAgICAgICAgcGFyYW0udHlwZSA9IFwicmVhbFwiO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwiZGltXCIpKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFsxXTtcbiAgICAgIH1cbiAgICAgIGlmKGlzX251bWJlcihwYXJhbS5kaW0pKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFtwYXJhbS5kaW1dO1xuICAgICAgfVxuICAgICAgaWYocGFyYW0udHlwZSA9PSBcImJpbmFyeVwiKSB7XG4gICAgICAgIHBhcmFtLnVwcGVyID0gMTtcbiAgICAgICAgcGFyYW0ubG93ZXIgPSAwO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwidXBwZXJcIikpIHtcbiAgICAgICAgcGFyYW0udXBwZXIgPSBJbmZpbml0eTtcbiAgICAgIH1cbiAgICAgIGlmKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImxvd2VyXCIpKSB7XG4gICAgICAgIHBhcmFtLmxvd2VyID0gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZihwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImluaXRcIikpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBqdXN0IGEgbnVtYmVyIG9yIGEgbmVzdGVkIGFycmF5IHdlIGxlYXZlIGl0IGFsb25lLCBidXQgaWYuLi5cbiAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pICYmIHR5cGVvZiBwYXJhbS5pbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpO1xuICAgICAgICB9IGVsc2UgaWYoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSAmJiAhQXJyYXkuaXNBcnJheShwYXJhbS5pbml0KSkge1xuICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0XG4gICAgICAgIC8vIGlzIG5vdCBhbiBhcnJheS4gVGhlbiBhc3N1bWUgaXQgaXMgYSBudW1iZXIgb3IgYSBmdW5jdGlvbiBhbmQgdXNlXG4gICAgICAgIC8vIGl0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uXG4gICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgIHBhcmFtLmluaXQgPSBwYXJhbV9pbml0KHBhcmFtLnR5cGUsIHBhcmFtLmxvd2VyLCBwYXJhbS51cHBlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtX2luaXQocGFyYW0udHlwZSwgcGFyYW0ubG93ZXIsIHBhcmFtLnVwcGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9O1xuICBcbiAgXG4gIC8vLy8vLy8vLy8gU3RlcHBlciBGdW5jdGlvbnMgLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBcbiAgXG4gIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZVxuICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvblxuICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgXCJpbnRlcmZhY2VcIixcbiAgICogd2hlcmUgXCJpbnRlcmZhY2VcIiBtZWFucyB0aGF0IFN0ZXBwZXIgZGVmaW5lcyBhIGNsYXNzIHRoYXQgaXMgbmV2ZXJcbiAgICogbWVhbnQgdG8gYmUgaW5zdGFudGlhdGVkLCBidXQganVzdCB0byBiZSBzdWJjbGFzc2VkIGJ5IHNwZWNpYWxpemVkXG4gICAqIHN0ZXBwZXIgZnVuY3Rpb25zLlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IHsgXCJ0eXBlXCI6IFwicmVhbFwiLCBcImRpbVwiOiBbMV0sIFwidXBwZXJcIjogSW5maW5pdHksIFxuICAgKiAgIFwibG93ZXJcIjogLUluZmluaXR5LCBcImluaXRcIjogMC41IH19XG4gICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgXCJjb21wbGV0ZVwiLCB0aGF0IGlzLFxuICAgKiAgIHNwZWNpZnlpbmcgYWxsIHJlbGV2YW50IGF0dHJpYnV0ZXMgc3VjaCBhcyBkaW0sIGxvd2VyIGFuZCB1cHBlci5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzIGluIHBhcmFtc1xuICAgKiAgIChhbmQgcG9zc2libHkgbW9yZSkuIFRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlIGdpdmVuIGFzIGtleXMgYW5kIHRoZSBzdGF0ZXNcbiAgICogICBhcyBzY2FsYXJzIG9yLCBwb3NzaWJseSBuZXN0ZWQsIGFycmF5cy4gRm9yIGV4YW1wbGU6XG4gICAqICAge211OiAxMCwgc2lnbWE6IDUsIGJldGE6IFsxLCAyLjVdfVxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uICp0YWtpbmcgbm8gcGFyYW1ldGVycyogdGhhdCByZXR1cm5zIHRoZVxuICAgKiAgIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFRoYXQgaXMsIHRoZSB2YWx1ZSBvZiBsb2dfcG9zdFxuICAgKiAgIHNob3VsZCBjaGFuZ2UgaWYgdGhlIHRoZSB2YWx1ZXMgaW4gc3RhdGUgYXJlIGNoYW5nZWQuXG4gIFxuICAgKi9cbiAgdmFyIFN0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCkge1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmxvZ19wb3N0ID0gbG9nX3Bvc3Q7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuIFNob3VsZCByZXR1cm4gdGhlIG5ldyBzdGF0ZSxcbiAgICogYnV0IGlzIG1haW5seSBjYWxsZWQgZm9yIGl0J3Mgc2lkZSBlZmZlY3Qgb2YgbWFraW5nIGEgY2hhbmdlIGluIHRoZVxuICAgKiBzdGF0ZSBvYmplY3QuXG4gICAqL1xuICBTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJFdmVyeSBTdGVwcGVyIG5lZWQgdG8gaW1wbGVtZW50IHN0ZXAoKVwiO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIElmIGltcGxlbWVudGVkLCBtYWtlcyB0aGUgc3RlcHBlciBhZGFwdCB3aGlsZSBzdGVwcGluZy5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgY2Vhc2UgYWRhcHRpbmcgd2hpbGUgc3RlcHBpbmcuXG4gICAqLyBcbiAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluZyBpbmZvIHJlZ2FyZGluZyB0aGUgc3RlcHBlci5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgc3RlcHBlci5cbiAgICByZXR1cm4ge307XG4gIH07XG4gIFxuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpblxuICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluIFwiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQ1wiXG4gICAqIGJ5IFJvYmVydHMgYW5kIFJvc2VudGhhbCAoMjAwOCkuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci5cbiAgICogQHBhcmFtIGdlbmVyYXRlX3Byb3Bvc2FsIC0gYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9wb3NhbCAoYXMgYSBudW1iZXIpXG4gICAqIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBsb2dfc2NhbGUpIHdoZXJlIHBhcmFtX3N0YXRlIGlzIGFcbiAgICogbnVtYmVyIGFuZCBsb2dfc2NhbGUgZGVmaW5lcyB0aGUgc2NhbGUgb2YgdGhlIHByb3Bvc2FsIHNvbWVob3cuXG4gICovXG4gIHZhciBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBnZW5lcmF0ZV9wcm9wb3NhbCkge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBjYW4gb25seSBoYW5kbGUgb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICBpZighYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICB0aHJvdyBcIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5sb3dlciA9IHBhcmFtLmxvd2VyO1xuICAgIHRoaXMudXBwZXIgPSBwYXJhbS51cHBlcjtcbiAgICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCAwKTtcbiAgICB0aGlzLmJhdGNoX3NpemUgICAgICAgICA9IGdldF9vcHRpb24oXCJiYXRjaF9zaXplXCIsIG9wdGlvbnMsIDUwKTtcbiAgICB0aGlzLm1heF9hZGFwdGF0aW9uICAgICA9IGdldF9vcHRpb24oXCJtYXhfYWRhcHRhdGlvblwiLCBvcHRpb25zLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgMS4wKTtcbiAgICB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSA9IGdldF9vcHRpb24oXCJ0YXJnZXRfYWNjZXB0X3JhdGVcIiwgb3B0aW9ucywgMC40NCk7XG4gICAgdGhpcy5pc19hZGFwdGluZyAgICAgICAgPSBnZXRfb3B0aW9uKFwiaXNfYWRhcHRpbmdcIiwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgXG4gICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsO1xuICAgIFxuICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7XG4gICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsgIFxuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB2YXIgcGFyYW1fcHJvcG9zYWwgPSB0aGlzLmdlbmVyYXRlX3Byb3Bvc2FsKHBhcmFtX3N0YXRlLCB0aGlzLnByb3BfbG9nX3NjYWxlKTtcbiAgICAgIGlmKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIHtcbiAgICAgICAgLy8gT3V0c2lkZSBvZiBsaW1pdHMgb2YgdGhlIHBhcmFtZXRlciwgcmVqZWN0IHRoZSBwcm9wb3NhbCBcbiAgICAgICAgLy8gYW5kIHN0YXkgYXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICB9IGVsc2UgeyAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwXG4gICAgICAgIHZhciBjdXJyX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9wcm9wb3NhbDtcbiAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgICAgIHZhciBhY2NlcHRfcHJvYiA9IE1hdGguZXhwKHByb3BfbG9nX2RlbnMgLSBjdXJyX2xvZ19kZW5zKTtcbiAgICAgICAgaWYoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7XG4gICAgICAgICAgLy8gV2UgZG8gbm90aGluZyBhcyB0aGUgc3RhdGUgb2YgcGFyYW0gaGFzIGFscmVhZHkgYmVlbiBjaGFuZ2VkIHRvIHRoZSBwcm9wb3NhbFxuICAgICAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrIDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZXZlcnQgc3RhdGUgYmFjayB0byB0aGUgb2xkIHN0YXRlIG9mIHBhcmFtXG4gICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gcGFyYW1fc3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uICsrO1xuICAgICAgICBpZih0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPj0gdGhpcy5iYXRjaF9zaXplKSB7IC8vIHRoZW4gYWRhcHRcbiAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50ICsrO1xuICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IFxuICAgICAgICAgICAgTWF0aC5taW4odGhpcy5tYXhfYWRhcHRhdGlvbiwgXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiAvIE1hdGguc3FydCh0aGlzLmJhdGNoX2NvdW50KSk7XG4gICAgICAgICAgaWYodGhpcy5hY2NlcHRhbmNlX2NvdW50IC8gdGhpcy5iYXRjaF9zaXplID4gdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgKz0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgLT0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXTtcbiAgfTtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IHRydWU7XG4gIH07XG4gIFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IGZhbHNlO1xuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcF9sb2dfc2NhbGU6IHRoaXMucHJvcF9sb2dfc2NhbGUsXG4gICAgICBpc19hZGFwdGluZzogdGhpcy5pc19hZGFwdGluZyxcbiAgICAgIGFjY2VwdGFuY2VfY291bnQ6IHRoaXMuYWNjZXB0YW5jZV9jb3VudCxcbiAgICAgIGl0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb246IHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbixcbiAgICAgIGJhdGNoX2NvdW50OiB0aGlzLmJhdGNoX2NvdW50XG4gICAgfTtcbiAgfTtcbiAgXG4gIFxuICAvKipcbiAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLlxuICAgKi9cbiAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkge1xuICAgIHJldHVybiBybm9ybShwYXJhbV9zdGF0ZSAsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9XG4gICAqIEEgXCJzdWJjbGFzc1wiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIG5vcm1hbF9wcm9wb3NhbCk7XG4gIH07XG4gIFxuICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuXG4gICAqL1xuICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24ocGFyYW1fc3RhdGUsIHByb3BfbG9nX3NjYWxlKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocm5vcm0ocGFyYW1fc3RhdGUgLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTtcbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAYXVnbWVudHMge09uZWRpbU1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBJbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsKTtcbiAgfTtcbiAgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9XG4gICAqIENvbnN0cnVjdG9yIGZvciBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHRoZSBtZXRyb3BvbGlzIHN0ZXAgaW5cbiAgICogdGhlIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiBcIkV4YW1wbGVzIG9mIEFkYXB0aXZlIE1DTUNcIlxuICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdFxuICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIFxuICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgXG4gICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXNcbiAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uXG4gICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cbiAgKi9cbiAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgU3ViU3RlcHBlcikge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7XG4gICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyO1xuICAgIHRoaXMuZGltID0gcGFyYW0uZGltO1xuICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgMCk7XG4gICAgdGhpcy5iYXRjaF9zaXplICAgICAgICAgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwiYmF0Y2hfc2l6ZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApO1xuICAgIHRoaXMubWF4X2FkYXB0YXRpb24gICAgID0gZ2V0X211bHRpZGltX29wdGlvbihcIm1heF9hZGFwdGF0aW9uXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgdGhpcy5kaW0sIDEuMCk7XG4gICAgdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwidGFyZ2V0X2FjY2VwdF9yYXRlXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjQ0KTtcbiAgICB0aGlzLmlzX2FkYXB0aW5nICAgICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpc19hZGFwdGluZ1wiLCBvcHRpb25zLCB0aGlzLmRpbSwgdHJ1ZSk7XG4gICAgXG4gICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiBcbiAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS5cbiAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gXG4gICAgICBmdW5jdGlvbihkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgcHJvcF9sb2dfc2NhbGUsIGJhdGNoX3NpemUsIG1heF9hZGFwdGF0aW9uLCBpbml0aWFsX2FkYXB0YXRpb24sIHRhcmdldF9hY2NlcHRfcmF0ZSwgaXNfYWRhcHRpbmcpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgaWYoZGltLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3Vib3B0aW9ucyA9IHtwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sIGJhdGNoX3NpemU6IGJhdGNoX3NpemVbaV0sXG4gICAgICAgICAgICBtYXhfYWRhcHRhdGlvbjogbWF4X2FkYXB0YXRpb25baV0sIGluaXRpYWxfYWRhcHRhdGlvbjogaW5pdGlhbF9hZGFwdGF0aW9uW2ldLFxuICAgICAgICAgICAgdGFyZ2V0X2FjY2VwdF9yYXRlOiB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXX07XG4gICAgICAgICAgICB2YXIgc3VicGFyYW0gPSB7fTtcbiAgICAgICAgICAgIHN1YnBhcmFtW2ldID0gZGVlcF9jbG9uZShwYXJhbSk7XG4gICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyXG4gICAgICAgICAgICBkZWxldGUgc3VicGFyYW1baV0uaW5pdDsgLy8gQXMgaXQgc291bGQgbm90IGJlIG5lZWRlZFxuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IFN1YlN0ZXBwZXIoc3VicGFyYW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgc3Vib3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZVtpXSwgXG4gICAgICAgICAgICBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LFxuICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSwgdGhpcy5iYXRjaF9zaXplLCB0aGlzLm1heF9hZGFwdGF0aW9uLCB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbixcbiAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlLCB0aGlzLmlzX2FkYXB0aW5nKTtcbiAgICBcbiAgfTtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgbmVzdGVkX2FycmF5X2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uKHN1YnN0ZXBwZXIpIHtzdWJzdGVwcGVyLnN0YXJ0X2FkYXB0YXRpb24oKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3N1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7IH0pO1xuICB9O1xuICBcbiAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge1xuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOyBcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGF1Z21lbnRzIHtNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIpO1xuICB9O1xuICBcbiAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7TXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcn1cbiAgICogQSBcInN1YmNsYXNzXCIgb2YgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovICAgIFxuICB2YXIgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBJbnRNZXRyb3BvbGlzU3RlcHBlcik7XG4gIH07XG4gIFxuICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuXG4gICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGVcbiAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgXG4gICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gIH07XG4gIFxuICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyO1xuICBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7XG4gICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTtcbiAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpO1xuICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zO1xuICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7XG4gICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyggTWF0aC5leHAoemVyb19sb2dfZGVucykgKyBNYXRoLmV4cChvbmVfbG9nX2RlbnMpICkgKTtcbiAgICBpZihNYXRoLnJhbmRvbSgpIDwgemVyb19wcm9iKSB7XG4gICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSAwO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBlbHNlIGtlZXAgdGhlIHBhcmFtIGF0IDEgLlxuICAgIHJldHVybiAxO1xuICB9O1xuICBcbiAgICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBKdXN0IGxpa2UgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciB0aGlzIFN0ZXBwZXIgdGFrZXMgYSBzdGVwcyBmb3JcbiAgICogYSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlciBieSB1cGRhdGluZyBlYWNoIGNvbXBvbmVudCBpbiB0dXJuLiBUaGUgZGlmZmVyZW5jZVxuICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5Q29tcG9uZW50U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICBcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB0aGlzLmRpbSA9IHBhcmFtLmRpbTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlDb21wb25lbnRTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgXG4gICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IFxuICAgICAgZnVuY3Rpb24oZGltLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgdmFyIGk7XG4gICAgICBpZihkaW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgdmFyIHN1YnBhcmFtcyA9IHt9O1xuICAgICAgICAgIHN1YnBhcmFtc1tpXSA9IHBhcmFtO1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IEJpbmFyeVN0ZXBwZXIoc3VicGFyYW1zLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0KTtcbiAgfTtcbiAgXG4gIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7XG4gIFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBUaGlzIHN0ZXBwZXIgY2FuIGJlIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgYSBzdGVwIGZvciBvbmUgb3IgbW9yZSBwYXJhbWV0ZXJzLlxuICAgKiBGb3IgcmVhbCBhbmQgaW50IHBhcmFtZXRlcnMgaXQgdGFrZXMgTWV0cm9wb2xpcyB3aXRoaW4gR2liYnMgc3RlcHMsIGFuZCBmb3IgXG4gICAqIGJpbmFyeSBwYXJhbWV0ZXJzIGl0IGRvZXMgZXZhbHVhdGVzIHRoZSBwb3N0ZXJpb3IgZm9yIGJvdGggcGFyYW10ZXIgdmFsdWVzIGFuZFxuICAgKiByYW5kb21seSBjaGFuZ2VzIHRvIGEgY2VydGFpbiB2YWx1ZSBwcm9wb3J0aW9uYWxseSB0byB0aGF0IHZhbHVlJ3MgcG9zdGVyaW9yXG4gICAqICh0aGlzIGlzIGFsc28gZG9uZSBmb3IgZWFjaCBwYXJhbWV0ZXIsIHNvIGFsc28gYSAqIHdpdGhpbiBHaWJicyBhcHByb2FjaCkuXG4gICAqIFRoaXMgc3RlcHBlciBpcyBhbHNvIGFkYXB0aXZlIGFuZCBjYW4gYmUgZWZmaWNpZW50IHdoZW4gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzXG4gICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIG9uZSBvciBtb3JlIHBhcmFtZXRlciBkZWZpbml0aW9uc1xuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQW13Z1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1fbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXTtcbiAgICAgIHZhciBTZWxlY3RTdGVwcGVyO1xuICAgICAgc3dpdGNoIChwYXJhbS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZWFsXCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW50XCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gSW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IEJpbmFyeVN0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlDb21wb25lbnRTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBcIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgXCIgKyB0aGlzLnBhcmFtX25hbWVzW2ldICArXCIgd2l0aCB0eXBlIFwiICsgcGFyYW0udHlwZTsgXG4gICAgICB9XG4gICAgICB2YXIgcGFyYW1fb2JqZWN0X3dyYXAgPSB7fTtcbiAgICAgIHBhcmFtX29iamVjdF93cmFwW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gcGFyYW07XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBwYXJhbV9vcHRpb25zID0gb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0gfHwge307XG4gICAgICBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlICAgICA9IHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgICAgIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5iYXRjaF9zaXplICAgICAgICAgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgICAgICAgICB8fCBvcHRpb25zLmJhdGNoX3NpemU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiAgICAgPSBwYXJhbV9vcHRpb25zLm1heF9hZGFwdGF0aW9uICAgICB8fCBvcHRpb25zLm1heF9hZGFwdGF0aW9uO1xuICAgICAgcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gPSBwYXJhbV9vcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbiB8fCBvcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbjtcbiAgICAgIHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlID0gcGFyYW1fb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGUgfHwgb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyAgICAgICAgPSBwYXJhbV9vcHRpb25zLmlzX2FkYXB0aW5nICAgICAgICB8fCBvcHRpb25zLmlzX2FkYXB0aW5nOyBcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTdGVwcGVyO1xuICBcbiAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3Vic3RlcHBlcnMpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0ZXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RhcnRfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7XG4gICAgfSBcbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZm8gPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaW5mb1t0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMuc3Vic3RlcHBlcnNbaV0uaW5mbygpO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfTtcbiAgXG4gIFxuICBcbiAgLy8vLy8vLy8vLy8gU2FtcGxlciBGdW5jdGlvbnMgLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBcbiAgIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIFdoaWxlIHlvdSBjb3VsZCBmaXQgYSBtb2RlbCBieSBwYXN0aW5nIHRvZ2V0aGVyIFN0ZXBwZXJzLCBhXG4gIC8vIFNhbXBsZXIgaXMgaGVyZSBpcyBhIGNvbnZlbmllbmNlIGNsYXNzIHdoZXJlIGFuIGluc3RhbmNlIG9mIFNhbXBsZXJcbiAgLy8gc2V0cyB1cCB0aGUgU3RlcHBlcnMsIGNoZWNrcyB0aGUgcGFyYW1ldGVyIGRlZmluaXRpb24sXG4gIC8vIGFuZCBtYW5hZ2VzIHRoZSBzYW1wbGluZy4gVGhpcyBoZXJlIGRlZmluZXMgdGhlIFNhbXBsZXIgXCJpbnRlcmZhY2VcIi5cbiAgICogQGludGVyZmFjZVxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICogICB7XCJtdVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwifSwgXCJzaWdtYVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwiLCBcImxvd2VyXCIgPSAwfX1cbiAgICogICBUaGUgcGFyYW1ldGVyIGRlZmluaXRpb25zIGRvZXNuJ3QgaGF2ZSB0byBiZSBcImNvbXBsZXRlXCIgYW5kIHByb3BlcnRpZXNcbiAgICogICBsZWZ0IG91dCAobGlrZSBsb3dlciBhbmQgdXBwZXIpIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGRlZmF1bHRzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHN0YXRlLCBkYXRhKS4gSGVyZVxuICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIFxuICAgKiAgIGtleSBhbmQgdGhlIHBhcmFtZXRlciB2YWx1ZXMgYXMgbnVtYmVycyBvciBhcnJheXMuIEZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IDMsIFwic2lnbWFcIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgXG4gICAqICAgdGhlIGRhdGEgYXJndW1lbnQgZ2l2ZW4gYmVsb3cuXG4gICAqIEBwYXJhbSBkYXRhIC0gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGxvZ19wb3N0IGZ1bmN0aW9uXG4gICAqICAgd2hlbiBzYW1wbGluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzYW1wbGVyLlxuICAgKi9cbiAgdmFyIFNhbXBsZXIgPSBmdW5jdGlvbihwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLnBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIFxuICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3RcbiAgICB0aGlzLnBhcmFtX2luaXRfZnVuICAgPSBnZXRfb3B0aW9uKFwicGFyYW1faW5pdF9mdW5cIiwgb3B0aW9ucywgcGFyYW1faW5pdF9maXhlZCk7XG4gICAgdmFyIHRoaW5uaW5nX2ludGVydmFsID0gZ2V0X29wdGlvbihcInRoaW5cIiwgb3B0aW9ucywgMSk7XG4gICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbihcIm1vbml0b3JcIiwgb3B0aW9ucywgbnVsbCk7XG4gICAgdGhpcy50aGluKHRoaW5uaW5nX2ludGVydmFsKTtcbiAgICB0aGlzLm1vbml0b3IocGFyYW1zX3RvX21vbml0b3IpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gQ29tcGxldGluZyB0aGUgcGFyYW1zIGFuZCBpbml0aWFsaXppbmcgdGhlIHN0YXRlLlxuICAgIHRoaXMucGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHRoaXMucGFyYW1zLCB0aGlzLnBhcmFtX2luaXRfZnVuKTtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbV9uYW1lcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHN0YXRlW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0uaW5pdDtcbiAgICB9XG4gICAgdGhpcy5sb2dfcG9zdCA9IGZ1bmN0aW9uKCkgeyBcbiAgICAgIHJldHVybiBsb2dfcG9zdChzdGF0ZSwgZGF0YSk7XG4gICAgfTtcbiAgICAvLyBSdW5uaW5nIHRoZSBsb2dfcG9zdCBmdW5jdGlvbiBvbmNlIGluIGNhc2UgaXQgZnVydGhlciBtb2RpZmllcyB0aGUgc3RhdGVcbiAgICAvLyBmb3IgZXhhbXBsZSBhZGRpbmcgZGVyaXZlZCBxdWFudGl0aWVzLlxuICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5zdGVwcGVycyA9IHRoaXMuY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUodGhpcy5wYXJhbXMsIHRoaXMuc3RhdGUsIHRoaXMubG9nX3Bvc3QsIHRoaXMub3B0aW9ucyk7XG4gIH07XG4gIFxuICAvKiogU2hvdWxkIHJldHVybiBhIHZlY3RvciBvZiBzdGVwcGVycyB0aGF0IHdoZW4gY2FsbGVkIFxuICAgKiBzaG91bGQgdGFrZSBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS5cbiAgICovXG4gIFNhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24oc3RhdGUsIGxvZ19wb3N0KXtcbiAgICB0aHJvdyBcIkV2ZXJ5IFNhbXBsZXIgbmVlZHMgdG8gaW1wbGVtZW50IGNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKClcIjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBTYW1wbGVyLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge3N0YXRlOiB0aGlzLnN0YXRlLCB0aGluOiB0aGlzLnRoaW4sIG1vbml0b3I6IHRoaXMubW9uaXRvcixcbiAgICAgICAgICAgIHN0ZXBwZXJzOiB0aGlzLnN0ZXBwZXJzfTtcbiAgfTtcbiAgXG4gIC8qKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gUmV0dXJucyB0aGUgbmV3IHNwYWNlXG4gICAqIGJ1dCBhbHNvIG1vZGlmaWVzIHRoZSBzdGF0ZSBpbiBwbGFjZS5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN0ZXBwZXJzKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7XG4gICAgfVxuICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpLmxlbmd0aCA+IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKS5sZW5ndGgpIHtcbiAgICAgIC8vIFRoZSBzdGF0ZSBjb250YWlucyBkZXZpdmVkIHF1YW50aXRpZXMgKG5vdCBvbmx5IHBhcmFtZXRlcnMpIGFuZCB3ZVxuICAgICAgLy8gbmVlZCB0byBydW4gdGhlIGxvZ19wb3N0IG9uY2UgbW9yZSBpbiBvcmRlciB0byBzZXQgdGhlIGRlcml2ZWQgcXVhbnRpdGllc1xuICAgICAgLy8gZm9yIHRoZSBmaW5hbCBwYXJhbWV0ZXIgc3RhdGVcbiAgICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb25zIHN0ZXBzIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UgYW5kIHJldHVybnMgdGhlbVxuICAgKiBhcyBhbiBvYmplY3Qgb2YgYXJyYXlzIHdpdGggb25lIGFycmF5IHBlciBwYXJhbWV0ZXIuIEZvciBleGFtcGxlOlxuICAgKiB7bXU6IFsxLCAtMSwgMiwgMywgLi4uXSwgc2lnbWE6IFsxLCAyLCAyLCAxLCAuLi5dfS5cbiAgICogSWYgdGhpbiBpcyA+IDEgdGhlbiBuX2l0ZXJhdGlvbnMgLyB0aGluIHNhbXBsZXMgYXJlIHJldHVybmVkLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgICAgLy8gSW5pdGlhbGl6aW5nIGN1cnJfc2FtcGxlIHdoZXJlIHRoZSBzYW1wbGUgaXMgZ29pbmcgdG8gYmUgc2F2ZWRcbiAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC5cbiAgICAgIHZhciBpLCBqLCBtb25pdG9yZWRfcGFyYW1zO1xuICAgICAgaWYodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9O1xuICAgICAgZm9yKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmb3IoaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICBpZihpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkge1xuICAgICAgICAgIGZvcihqID0gMDsgaiA8IG1vbml0b3JlZF9wYXJhbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07XG4gICAgICAgICAgICBjdXJyX3NhbXBsZVtwYXJhbV0ucHVzaCggY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGVwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3Vycl9zYW1wbGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb24gc3RlcHMgaW4gcGFyYW1ldGVyIHNwYWNlIGJ1dCByZXR1cm5zIG5vdGhpbmcuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgdGhpcy5zdGVwKCk7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIFNldHMgd2hhdCBwYXJhbWV0ZXJzIHNob3VsZCBiZSBtb25pdG9yZWQgYW5kIHJldHVybmVkIHdoZW4gY2FsbGluZ1xuICAgKiBzYW1wbGUuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUubW9uaXRvciA9IGZ1bmN0aW9uKHBhcmFtc190b19tb25pdG9yKSB7XG4gICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yXG4gICAqIGRyYXcgd2lsbCBiZSBrZXB0LlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnRoaW4gPSBmdW5jdGlvbih0aGlubmluZ19pbnRlcnZhbCkge1xuICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RhcnRfYWRhcHRhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIFNldHMgYWRhcHRhdGlvbiBvZmYsIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdG9wX2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U2FtcGxlcn1cbiAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIFxuICAgKiBBZGFwdGl2ZSBNZXRyb3BvbGlzLVdpdGhpbi1HaWJicyBhbGdvcml0aG0gaW4gXCJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DXCJcbiAgICogYnkgUm9iZXJ0cyBhbmQgUm9zZW50aGFsICgyMDA4KS4gQW4gYWRpdGlvbiBpcyB0aGF0IGl0IGhhbmRsZXMgaW50IHBhcmFtZXRlcnNcbiAgICogYnkgbWFraW5nIGRpc2NyZXRlIE5vcm1hbCBwcm9wb3NhbHMgYW5kIGJpbmFyeSBwYXJhbWV0ZXJzIGJ5IHRha2luZyBvbiBhIG5ldyBcbiAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlXG4gICAqIHBhcmFtZXRlci4gVGhpcyBzYW1wbGVyIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnNcbiAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBTYW1wbGVyLmNhbGwodGhpcywgcGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG4gIFxuICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTYW1wbGVyO1xuICBcbiAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpe1xuICAgIHJldHVybiBbIG5ldyBBbXdnU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgXTtcbiAgfTtcbiAgXG4gIFxuICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlXG4gIHJldHVybiB7XG4gICAgcnVuaWY6IHJ1bmlmLFxuICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSxcbiAgICBybm9ybTogcm5vcm0sXG4gICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwgXG4gICAgY29tcGxldGVfcGFyYW1zOiBjb21wbGV0ZV9wYXJhbXMsIFxuICAgIFJlYWxNZXRyb3BvbGlzU3RlcHBlcjogUmVhbE1ldHJvcG9saXNTdGVwcGVyLCBcbiAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsIFxuICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjogTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwgXG4gICAgQmluYXJ5Q29tcG9uZW50U3RlcHBlcjogQmluYXJ5Q29tcG9uZW50U3RlcHBlciwgXG4gICAgQW13Z1N0ZXBwZXI6IEFtd2dTdGVwcGVyLCBcbiAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXJcbiAgfTtcbn0pKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBudW1iZXIoeCkge1xuICByZXR1cm4geCA9PT0gbnVsbCA/IE5hTiA6ICt4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIG51bWJlcnModmFsdWVzLCB2YWx1ZW9mKSB7XG4gIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICh2YWx1ZSA9ICt2YWx1ZSkgPj0gdmFsdWUpIHtcbiAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBhc2NlbmRpbmcgZnJvbSBcIi4vYXNjZW5kaW5nLmpzXCI7XG5pbXBvcnQgcGVybXV0ZSBmcm9tIFwiLi9wZXJtdXRlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvcnQodmFsdWVzLCAuLi5GKSB7XG4gIGlmICh0eXBlb2YgdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0gIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbHVlcyBpcyBub3QgaXRlcmFibGVcIik7XG4gIHZhbHVlcyA9IEFycmF5LmZyb20odmFsdWVzKTtcbiAgbGV0IFtmXSA9IEY7XG4gIGlmICgoZiAmJiBmLmxlbmd0aCAhPT0gMikgfHwgRi5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKGQsIGkpID0+IGkpO1xuICAgIGlmIChGLmxlbmd0aCA+IDEpIHtcbiAgICAgIEYgPSBGLm1hcChmID0+IHZhbHVlcy5tYXAoZikpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgRikge1xuICAgICAgICAgIGNvbnN0IGMgPSBhc2NlbmRpbmdEZWZpbmVkKGZbaV0sIGZbal0pO1xuICAgICAgICAgIGlmIChjKSByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGYgPSB2YWx1ZXMubWFwKGYpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4gYXNjZW5kaW5nRGVmaW5lZChmW2ldLCBmW2pdKSk7XG4gICAgfVxuICAgIHJldHVybiBwZXJtdXRlKHZhbHVlcywgaW5kZXgpO1xuICB9XG4gIHJldHVybiB2YWx1ZXMuc29ydChjb21wYXJlRGVmaW5lZChmKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nKSB7XG4gIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmcpIHJldHVybiBhc2NlbmRpbmdEZWZpbmVkO1xuICBpZiAodHlwZW9mIGNvbXBhcmUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGNvbnN0IHggPSBjb21wYXJlKGEsIGIpO1xuICAgIGlmICh4IHx8IHggPT09IDApIHJldHVybiB4O1xuICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHtcbiAgcmV0dXJuIChhID09IG51bGwgfHwgIShhID49IGEpKSAtIChiID09IG51bGwgfHwgIShiID49IGIpKSB8fCAoYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF4KHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWF4O1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWluO1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWluO1xufVxuIiwiaW1wb3J0IHthc2NlbmRpbmdEZWZpbmVkLCBjb21wYXJlRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdFxuLy8gSVNDIGxpY2Vuc2UsIENvcHlyaWdodCAyMDE4IFZsYWRpbWlyIEFnYWZvbmtpbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1aWNrc2VsZWN0KGFycmF5LCBrLCBsZWZ0ID0gMCwgcmlnaHQgPSBJbmZpbml0eSwgY29tcGFyZSkge1xuICBrID0gTWF0aC5mbG9vcihrKTtcbiAgbGVmdCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgbGVmdCkpO1xuICByaWdodCA9IE1hdGguZmxvb3IoTWF0aC5taW4oYXJyYXkubGVuZ3RoIC0gMSwgcmlnaHQpKTtcblxuICBpZiAoIShsZWZ0IDw9IGsgJiYgayA8PSByaWdodCkpIHJldHVybiBhcnJheTtcblxuICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpO1xuXG4gIHdoaWxlIChyaWdodCA+IGxlZnQpIHtcbiAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICBjb25zdCBuID0gcmlnaHQgLSBsZWZ0ICsgMTtcbiAgICAgIGNvbnN0IG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7XG4gICAgICBjb25zdCBzID0gMC41ICogTWF0aC5leHAoMiAqIHogLyAzKTtcbiAgICAgIGNvbnN0IHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICBjb25zdCBuZXdSaWdodCA9IE1hdGgubWluKHJpZ2h0LCBNYXRoLmZsb29yKGsgKyAobiAtIG0pICogcyAvIG4gKyBzZCkpO1xuICAgICAgcXVpY2tzZWxlY3QoYXJyYXksIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBjb21wYXJlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ID0gYXJyYXlba107XG4gICAgbGV0IGkgPSBsZWZ0O1xuICAgIGxldCBqID0gcmlnaHQ7XG5cbiAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTtcbiAgICBpZiAoY29tcGFyZShhcnJheVtyaWdodF0sIHQpID4gMCkgc3dhcChhcnJheSwgbGVmdCwgcmlnaHQpO1xuXG4gICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICBzd2FwKGFycmF5LCBpLCBqKSwgKytpLCAtLWo7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtpXSwgdCkgPCAwKSArK2k7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtcbiAgICBlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpO1xuXG4gICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHtcbiAgY29uc3QgdCA9IGFycmF5W2ldO1xuICBhcnJheVtpXSA9IGFycmF5W2pdO1xuICBhcnJheVtqXSA9IHQ7XG59XG4iLCJpbXBvcnQgbWF4IGZyb20gXCIuL21heC5qc1wiO1xuaW1wb3J0IG1heEluZGV4IGZyb20gXCIuL21heEluZGV4LmpzXCI7XG5pbXBvcnQgbWluIGZyb20gXCIuL21pbi5qc1wiO1xuaW1wb3J0IG1pbkluZGV4IGZyb20gXCIuL21pbkluZGV4LmpzXCI7XG5pbXBvcnQgcXVpY2tzZWxlY3QgZnJvbSBcIi4vcXVpY2tzZWxlY3QuanNcIjtcbmltcG9ydCBudW1iZXIsIHtudW1iZXJzfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmltcG9ydCB7YXNjZW5kaW5nRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IGdyZWF0ZXN0IGZyb20gXCIuL2dyZWF0ZXN0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YW50aWxlKHZhbHVlcywgcCwgdmFsdWVvZikge1xuICB2YWx1ZXMgPSBGbG9hdDY0QXJyYXkuZnJvbShudW1iZXJzKHZhbHVlcywgdmFsdWVvZikpO1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gbWluKHZhbHVlcyk7XG4gIGlmIChwID49IDEpIHJldHVybiBtYXgodmFsdWVzKTtcbiAgdmFyIG4sXG4gICAgICBpID0gKG4gLSAxKSAqIHAsXG4gICAgICBpMCA9IE1hdGguZmxvb3IoaSksXG4gICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksXG4gICAgICB2YWx1ZTEgPSBtaW4odmFsdWVzLnN1YmFycmF5KGkwICsgMSkpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlU29ydGVkKHZhbHVlcywgcCwgdmFsdWVvZiA9IG51bWJlcikge1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzWzBdLCAwLCB2YWx1ZXMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzW24gLSAxXSwgbiAtIDEsIHZhbHVlcyk7XG4gIHZhciBuLFxuICAgICAgaSA9IChuIC0gMSkgKiBwLFxuICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLFxuICAgICAgdmFsdWUwID0gK3ZhbHVlb2YodmFsdWVzW2kwXSwgaTAsIHZhbHVlcyksXG4gICAgICB2YWx1ZTEgPSArdmFsdWVvZih2YWx1ZXNbaTAgKyAxXSwgaTAgKyAxLCB2YWx1ZXMpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlSW5kZXgodmFsdWVzLCBwLCB2YWx1ZW9mID0gbnVtYmVyKSB7XG4gIGlmIChpc05hTihwID0gK3ApKSByZXR1cm47XG4gIG51bWJlcnMgPSBGbG9hdDY0QXJyYXkuZnJvbSh2YWx1ZXMsIChfLCBpKSA9PiBudW1iZXIodmFsdWVvZih2YWx1ZXNbaV0sIGksIHZhbHVlcykpKTtcbiAgaWYgKHAgPD0gMCkgcmV0dXJuIG1pbkluZGV4KG51bWJlcnMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gbWF4SW5kZXgobnVtYmVycyk7XG4gIHZhciBudW1iZXJzLFxuICAgICAgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKF8sIGkpID0+IGkpLFxuICAgICAgaiA9IG51bWJlcnMubGVuZ3RoIC0gMSxcbiAgICAgIGkgPSBNYXRoLmZsb29yKGogKiBwKTtcbiAgcXVpY2tzZWxlY3QoaW5kZXgsIGksIDAsIGosIChpLCBqKSA9PiBhc2NlbmRpbmdEZWZpbmVkKG51bWJlcnNbaV0sIG51bWJlcnNbal0pKTtcbiAgaSA9IGdyZWF0ZXN0KGluZGV4LnN1YmFycmF5KDAsIGkgKyAxKSwgKGkpID0+IG51bWJlcnNbaV0pO1xuICByZXR1cm4gaSA+PSAwID8gaSA6IC0xO1xufVxuIiwiaW1wb3J0IHF1YW50aWxlLCB7cXVhbnRpbGVJbmRleH0gZnJvbSBcIi4vcXVhbnRpbGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVkaWFuKHZhbHVlcywgdmFsdWVvZikge1xuICByZXR1cm4gcXVhbnRpbGUodmFsdWVzLCAwLjUsIHZhbHVlb2YpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFuSW5kZXgodmFsdWVzLCB2YWx1ZW9mKSB7XG4gIHJldHVybiBxdWFudGlsZUluZGV4KHZhbHVlcywgMC41LCB2YWx1ZW9mKTtcbn1cbiIsInZhciBub29wID0ge3ZhbHVlOiAoKSA9PiB7fX07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkge1xuICAgIGlmICghKHQgPSBhcmd1bWVudHNbaV0gKyBcIlwiKSB8fCAodCBpbiBfKSB8fCAvW1xccy5dLy50ZXN0KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHR5cGU6IFwiICsgdCk7XG4gICAgX1t0XSA9IFtdO1xuICB9XG4gIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7XG59XG5cbmZ1bmN0aW9uIERpc3BhdGNoKF8pIHtcbiAgdGhpcy5fID0gXztcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzLCB0eXBlcykge1xuICByZXR1cm4gdHlwZW5hbWVzLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbmFtZSA9IFwiXCIsIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIG5hbWUgPSB0LnNsaWNlKGkgKyAxKSwgdCA9IHQuc2xpY2UoMCwgaSk7XG4gICAgaWYgKHQgJiYgIXR5cGVzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdCk7XG4gICAgcmV0dXJuIHt0eXBlOiB0LCBuYW1lOiBuYW1lfTtcbiAgfSk7XG59XG5cbkRpc3BhdGNoLnByb3RvdHlwZSA9IGRpc3BhdGNoLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IERpc3BhdGNoLFxuICBvbjogZnVuY3Rpb24odHlwZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF8gPSB0aGlzLl8sXG4gICAgICAgIFQgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIsIF8pLFxuICAgICAgICB0LFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSBULmxlbmd0aDtcblxuICAgIC8vIElmIG5vIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJldHVybiB0aGUgY2FsbGJhY2sgb2YgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB3aGlsZSAoKytpIDwgbikgaWYgKCh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgJiYgKHQgPSBnZXQoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHR5cGUgd2FzIHNwZWNpZmllZCwgc2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsYmFjazogXCIgKyBjYWxsYmFjayk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGlmICh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBjYWxsYmFjayk7XG4gICAgICBlbHNlIGlmIChjYWxsYmFjayA9PSBudWxsKSBmb3IgKHQgaW4gXykgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvcHkgPSB7fSwgXyA9IHRoaXMuXztcbiAgICBmb3IgKHZhciB0IGluIF8pIGNvcHlbdF0gPSBfW3RdLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTtcbiAgfSxcbiAgY2FsbDogZnVuY3Rpb24odHlwZSwgdGhhdCkge1xuICAgIGlmICgobiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyKSA+IDApIGZvciAodmFyIGFyZ3MgPSBuZXcgQXJyYXkobiksIGkgPSAwLCBuLCB0OyBpIDwgbjsgKytpKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHR5cGUsIHRoYXQsIGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodmFyIHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldCh0eXBlLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGgsIGM7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHR5cGUsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAodHlwZVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICB0eXBlW2ldID0gbm9vcCwgdHlwZSA9IHR5cGUuc2xpY2UoMCwgaSkuY29uY2F0KHR5cGUuc2xpY2UoaSArIDEpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTogY2FsbGJhY2t9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3BhdGNoO1xuIiwiZXhwb3J0IHZhciB4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB4aHRtbDogeGh0bWwsXG4gIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgeG1sOiBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiXG59O1xuIiwiaW1wb3J0IG5hbWVzcGFjZXMgZnJvbSBcIi4vbmFtZXNwYWNlcy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBwcmVmaXggPSBuYW1lICs9IFwiXCIsIGkgPSBwcmVmaXguaW5kZXhPZihcIjpcIik7XG4gIGlmIChpID49IDAgJiYgKHByZWZpeCA9IG5hbWUuc2xpY2UoMCwgaSkpICE9PSBcInhtbG5zXCIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTtcbiAgcmV0dXJuIG5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSA/IHtzcGFjZTogbmFtZXNwYWNlc1twcmVmaXhdLCBsb2NhbDogbmFtZX0gOiBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xufVxuIiwiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi9uYW1lc3BhY2UuanNcIjtcbmltcG9ydCB7eGh0bWx9IGZyb20gXCIuL25hbWVzcGFjZXMuanNcIjtcblxuZnVuY3Rpb24gY3JlYXRvckluaGVyaXQobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gdGhpcy5vd25lckRvY3VtZW50LFxuICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTtcbiAgICByZXR1cm4gdXJpID09PSB4aHRtbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSB4aHRtbFxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModXJpLCBuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRvckZpeGVkKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIChmdWxsbmFtZS5sb2NhbFxuICAgICAgPyBjcmVhdG9yRml4ZWRcbiAgICAgIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIG5vbmUoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IG5vbmUgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgIT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gc2VsZWN0b3Ioc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBzdWJub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkge1xuICAgICAgICBpZiAoXCJfX2RhdGFfX1wiIGluIG5vZGUpIHN1Ym5vZGUuX19kYXRhX18gPSBub2RlLl9fZGF0YV9fO1xuICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsIi8vIEdpdmVuIHNvbWV0aGluZyBhcnJheSBsaWtlIChvciBudWxsKSwgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBpcyBzdHJpY3RseSBhblxuLy8gYXJyYXkuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBhcnJheS1saWtlIG9iamVjdHMgcGFzc2VkIHRvIGQzLnNlbGVjdEFsbFxuLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGFcbi8vIHNlbGVjdGlvbjsgd2UgZG9u4oCZdCBldmVyIHdhbnQgdG8gY3JlYXRlIGEgc2VsZWN0aW9uIGJhY2tlZCBieSBhIGxpdmVcbi8vIEhUTUxDb2xsZWN0aW9uIG9yIE5vZGVMaXN0LiBIb3dldmVyLCBub3RlIHRoYXQgc2VsZWN0aW9uLnNlbGVjdEFsbCB3aWxsIHVzZSBhXG4vLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXkoeCkge1xuICByZXR1cm4geCA9PSBudWxsID8gW10gOiBBcnJheS5pc0FycmF5KHgpID8geCA6IEFycmF5LmZyb20oeCk7XG59XG4iLCJmdW5jdGlvbiBlbXB0eSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IGVtcHR5IDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIH07XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBhcnJheSBmcm9tIFwiLi4vYXJyYXkuanNcIjtcbmltcG9ydCBzZWxlY3RvckFsbCBmcm9tIFwiLi4vc2VsZWN0b3JBbGwuanNcIjtcblxuZnVuY3Rpb24gYXJyYXlBbGwoc2VsZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYXJyYXkoc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgPT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gYXJyYXlBbGwoc2VsZWN0KTtcbiAgZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IFtdLCBwYXJlbnRzID0gW10sIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSk7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHBhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRNYXRjaGVyKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH07XG59XG5cbiIsImltcG9ydCB7Y2hpbGRNYXRjaGVyfSBmcm9tIFwiLi4vbWF0Y2hlci5qc1wiO1xuXG52YXIgZmluZCA9IEFycmF5LnByb3RvdHlwZS5maW5kO1xuXG5mdW5jdGlvbiBjaGlsZEZpbmQobWF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmaW5kLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjaGlsZEZpcnN0KCkge1xuICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0XG4gICAgICA6IGNoaWxkRmluZCh0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpO1xufVxuIiwiaW1wb3J0IHtjaGlsZE1hdGNoZXJ9IGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbnZhciBmaWx0ZXIgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyO1xuXG5mdW5jdGlvbiBjaGlsZHJlbigpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuRmlsdGVyKG1hdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuXG4gICAgICA6IGNoaWxkcmVuRmlsdGVyKHR5cGVvZiBtYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBtYXRjaGVyIGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIGlmICh0eXBlb2YgbWF0Y2ggIT09IFwiZnVuY3Rpb25cIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHtcbiAgICAgICAgc3ViZ3JvdXAucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXBkYXRlKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7XG59XG4iLCJpbXBvcnQgc3BhcnNlIGZyb20gXCIuL3NwYXJzZS5qc1wiO1xuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRW50ZXJOb2RlKHBhcmVudCwgZGF0dW0pIHtcbiAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHRoaXMubmFtZXNwYWNlVVJJID0gcGFyZW50Lm5hbWVzcGFjZVVSSTtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fX2RhdGFfXyA9IGRhdHVtO1xufVxuXG5FbnRlck5vZGUucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRW50ZXJOb2RlLFxuICBhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHRoaXMuX25leHQpOyB9LFxuICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKGNoaWxkLCBuZXh0KSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBuZXh0KTsgfSxcbiAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsgfSxcbiAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQge0VudGVyTm9kZX0gZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgbm9kZSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBmaXQgaW50byB1cGRhdGUuXG4gIC8vIFB1dCBhbnkgbnVsbCBub2RlcyBpbnRvIGVudGVyLlxuICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuXG4gIGZvciAoOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZG9u4oCZdCBmaXQgaW50byBleGl0LlxuICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmluZEtleShwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhLCBrZXkpIHtcbiAgdmFyIGksXG4gICAgICBub2RlLFxuICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwLFxuICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICBrZXlWYWx1ZXMgPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpLFxuICAgICAga2V5VmFsdWU7XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIG5vZGUuXG4gIC8vIElmIG11bHRpcGxlIG5vZGVzIGhhdmUgdGhlIHNhbWUga2V5LCB0aGUgZHVwbGljYXRlcyBhcmUgYWRkZWQgdG8gZXhpdC5cbiAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBrZXlWYWx1ZXNbaV0gPSBrZXlWYWx1ZSA9IGtleS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSArIFwiXCI7XG4gICAgICBpZiAobm9kZUJ5S2V5VmFsdWUuaGFzKGtleVZhbHVlKSkge1xuICAgICAgICBleGl0W2ldID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVCeUtleVZhbHVlLnNldChrZXlWYWx1ZSwgbm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIGRhdHVtLlxuICAvLyBJZiB0aGVyZSBhIG5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMga2V5LCBqb2luIGFuZCBhZGQgaXQgdG8gdXBkYXRlLlxuICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuXG4gIGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyArK2kpIHtcbiAgICBrZXlWYWx1ZSA9IGtleS5jYWxsKHBhcmVudCwgZGF0YVtpXSwgaSwgZGF0YSkgKyBcIlwiO1xuICAgIGlmIChub2RlID0gbm9kZUJ5S2V5VmFsdWUuZ2V0KGtleVZhbHVlKSkge1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgbm9kZUJ5S2V5VmFsdWUuZGVsZXRlKGtleVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIGFueSByZW1haW5pbmcgbm9kZXMgdGhhdCB3ZXJlIG5vdCBib3VuZCB0byBkYXRhIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkpIHtcbiAgICAgIGV4aXRbaV0gPSBub2RlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkYXR1bShub2RlKSB7XG4gIHJldHVybiBub2RlLl9fZGF0YV9fO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIEFycmF5LmZyb20odGhpcywgZGF0dW0pO1xuXG4gIHZhciBiaW5kID0ga2V5ID8gYmluZEtleSA6IGJpbmRJbmRleCxcbiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLFxuICAgICAgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSBjb25zdGFudCh2YWx1ZSk7XG5cbiAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgdmFyIHBhcmVudCA9IHBhcmVudHNbal0sXG4gICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLFxuICAgICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgICAgZGF0YSA9IGFycmF5bGlrZSh2YWx1ZS5jYWxsKHBhcmVudCwgcGFyZW50ICYmIHBhcmVudC5fX2RhdGFfXywgaiwgcGFyZW50cykpLFxuICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgIGVudGVyR3JvdXAgPSBlbnRlcltqXSA9IG5ldyBBcnJheShkYXRhTGVuZ3RoKSxcbiAgICAgICAgdXBkYXRlR3JvdXAgPSB1cGRhdGVbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpO1xuXG4gICAgYmluZChwYXJlbnQsIGdyb3VwLCBlbnRlckdyb3VwLCB1cGRhdGVHcm91cCwgZXhpdEdyb3VwLCBkYXRhLCBrZXkpO1xuXG4gICAgLy8gTm93IGNvbm5lY3QgdGhlIGVudGVyIG5vZGVzIHRvIHRoZWlyIGZvbGxvd2luZyB1cGRhdGUgbm9kZSwgc3VjaCB0aGF0XG4gICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSxcbiAgICAvLyByYXRoZXIgdGhhbiBhdCB0aGUgZW5kIG9mIHRoZSBwYXJlbnQgbm9kZS5cbiAgICBmb3IgKHZhciBpMCA9IDAsIGkxID0gMCwgcHJldmlvdXMsIG5leHQ7IGkwIDwgZGF0YUxlbmd0aDsgKytpMCkge1xuICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHtcbiAgICAgICAgaWYgKGkwID49IGkxKSBpMSA9IGkwICsgMTtcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IHVwZGF0ZUdyb3VwW2kxXSkgJiYgKytpMSA8IGRhdGFMZW5ndGgpO1xuICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUgPSBuZXcgU2VsZWN0aW9uKHVwZGF0ZSwgcGFyZW50cyk7XG4gIHVwZGF0ZS5fZW50ZXIgPSBlbnRlcjtcbiAgdXBkYXRlLl9leGl0ID0gZXhpdDtcbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuLy8gR2l2ZW4gc29tZSBkYXRhLCB0aGlzIHJldHVybnMgYW4gYXJyYXktbGlrZSB2aWV3IG9mIGl0OiBhbiBvYmplY3QgdGhhdFxuLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2Vcbi8vIHNlbGVjdEFsbCwgdGhpcyBpc27igJl0IHdvcnJpZWQgYWJvdXQg4oCcbGl2ZeKAnSBjb2xsZWN0aW9ucyBiZWNhdXNlIHRoZSByZXN1bHRpbmdcbi8vIGFycmF5IHdpbGwgb25seSBiZSB1c2VkIGJyaWVmbHkgd2hpbGUgZGF0YSBpcyBiZWluZyBib3VuZC4gKEl0IGlzIHBvc3NpYmxlIHRvXG4vLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlXG4vLyBkb27igJl0OyB3ZeKAmWQgcmF0aGVyIGF2b2lkIGEgZ3JhdHVpdG91cyBjb3B5LilcbmZ1bmN0aW9uIGFycmF5bGlrZShkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImxlbmd0aFwiIGluIGRhdGFcbiAgICA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlXG4gICAgOiBBcnJheS5mcm9tKGRhdGEpOyAvLyBNYXAsIFNldCwgaXRlcmFibGUsIHN0cmluZywgb3IgYW55dGhpbmcgZWxzZVxufVxuIiwiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2UuanNcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZXhpdCB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob25lbnRlciwgb251cGRhdGUsIG9uZXhpdCkge1xuICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksIHVwZGF0ZSA9IHRoaXMsIGV4aXQgPSB0aGlzLmV4aXQoKTtcbiAgaWYgKHR5cGVvZiBvbmVudGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpO1xuICAgIGlmIChlbnRlcikgZW50ZXIgPSBlbnRlci5zZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgXCJcIik7XG4gIH1cbiAgaWYgKG9udXBkYXRlICE9IG51bGwpIHtcbiAgICB1cGRhdGUgPSBvbnVwZGF0ZSh1cGRhdGUpO1xuICAgIGlmICh1cGRhdGUpIHVwZGF0ZSA9IHVwZGF0ZS5zZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAob25leGl0ID09IG51bGwpIGV4aXQucmVtb3ZlKCk7IGVsc2Ugb25leGl0KGV4aXQpO1xuICByZXR1cm4gZW50ZXIgJiYgdXBkYXRlID8gZW50ZXIubWVyZ2UodXBkYXRlKS5vcmRlcigpIDogdXBkYXRlO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHNlbGVjdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gLTEsIG0gPSBncm91cHMubGVuZ3RoOyArK2ogPCBtOykge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgaWYgKG5leHQgJiYgbm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0KSBeIDQpIG5leHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCk7XG4gICAgICAgIG5leHQgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVOb2RlKGEsIGIpIHtcbiAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzb3J0Z3JvdXAgPSBzb3J0Z3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzb3J0Z3JvdXBzLCB0aGlzLl9wYXJlbnRzKS5vcmRlcigpO1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzBdO1xuICBhcmd1bWVudHNbMF0gPSB0aGlzO1xuICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICB2YXIgbm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG5vZGUpIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIGxldCBzaXplID0gMDtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMubm9kZSgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgbmFtZXNwYWNlIGZyb20gXCIuLi9uYW1lc3BhY2UuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgcmV0dXJuIGZ1bGxuYW1lLmxvY2FsXG4gICAgICAgID8gbm9kZS5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpXG4gICAgICAgIDogbm9kZS5nZXRBdHRyaWJ1dGUoZnVsbG5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbilcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKSkoZnVsbG5hbWUsIHZhbHVlKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiAobm9kZS5vd25lckRvY3VtZW50ICYmIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgLy8gbm9kZSBpcyBhIE5vZGVcbiAgICAgIHx8IChub2RlLmRvY3VtZW50ICYmIG5vZGUpIC8vIG5vZGUgaXMgYSBXaW5kb3dcbiAgICAgIHx8IG5vZGUuZGVmYXVsdFZpZXc7IC8vIG5vZGUgaXMgYSBEb2N1bWVudFxufVxuIiwiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3cuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2LCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICA/IHN0eWxlUmVtb3ZlIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gc3R5bGVGdW5jdGlvblxuICAgICAgICAgICAgOiBzdHlsZUNvbnN0YW50KShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpXG4gICAgICA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVWYWx1ZShub2RlLCBuYW1lKSB7XG4gIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSlcbiAgICAgIHx8IGRlZmF1bHRWaWV3KG5vZGUpLmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIHByb3BlcnR5UmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzW25hbWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSBkZWxldGUgdGhpc1tuYW1lXTtcbiAgICBlbHNlIHRoaXNbbmFtZV0gPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBwcm9wZXJ0eUZ1bmN0aW9uXG4gICAgICAgICAgOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpW25hbWVdO1xufVxuIiwiZnVuY3Rpb24gY2xhc3NBcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XFxzKy8pO1xufVxuXG5mdW5jdGlvbiBjbGFzc0xpc3Qobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHtcbiAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gIHRoaXMuX25hbWVzID0gY2xhc3NBcnJheShub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpO1xufVxuXG5DbGFzc0xpc3QucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5fbmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICBjb250YWluczogZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNsYXNzZWRBZGQobm9kZSwgbmFtZXMpIHtcbiAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5yZW1vdmUobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkVHJ1ZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZEFkZCh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGdW5jdGlvbihuYW1lcywgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICh2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpID8gY2xhc3NlZEFkZCA6IGNsYXNzZWRSZW1vdmUpKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIG5hbWVzID0gY2xhc3NBcnJheShuYW1lICsgXCJcIik7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIGxpc3QgPSBjbGFzc0xpc3QodGhpcy5ub2RlKCkpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gICAgd2hpbGUgKCsraSA8IG4pIGlmICghbGlzdC5jb250YWlucyhuYW1lc1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGNsYXNzZWRGdW5jdGlvbiA6IHZhbHVlXG4gICAgICA/IGNsYXNzZWRUcnVlXG4gICAgICA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7XG59XG4iLCJmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkge1xuICB0aGlzLnRleHRDb250ZW50ID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHRleHRGdW5jdGlvblxuICAgICAgICAgIDogdGV4dENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50O1xufVxuIiwiZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHtcbiAgdGhpcy5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBodG1sQ29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdiA9PSBudWxsID8gXCJcIiA6IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBodG1sUmVtb3ZlIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBodG1sRnVuY3Rpb25cbiAgICAgICAgICA6IGh0bWxDb25zdGFudCkodmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJmdW5jdGlvbiByYWlzZSgpIHtcbiAgaWYgKHRoaXMubmV4dFNpYmxpbmcpIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmFpc2UpO1xufVxuIiwiZnVuY3Rpb24gbG93ZXIoKSB7XG4gIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTtcbn1cbiIsImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGVuZENoaWxkKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgY3JlYXRvciBmcm9tIFwiLi4vY3JlYXRvci5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5mdW5jdGlvbiBjb25zdGFudE51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBiZWZvcmUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSxcbiAgICAgIHNlbGVjdCA9IGJlZm9yZSA9PSBudWxsID8gY29uc3RhbnROdWxsIDogdHlwZW9mIGJlZm9yZSA9PT0gXCJmdW5jdGlvblwiID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwiZnVuY3Rpb24gcmVtb3ZlKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJlbW92ZSk7XG59XG4iLCJmdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZShmYWxzZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKHRydWUpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWVwKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChkZWVwID8gc2VsZWN0aW9uX2Nsb25lRGVlcCA6IHNlbGVjdGlvbl9jbG9uZVNoYWxsb3cpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5wcm9wZXJ0eShcIl9fZGF0YV9fXCIsIHZhbHVlKVxuICAgICAgOiB0aGlzLm5vZGUoKS5fX2RhdGFfXztcbn1cbiIsImZ1bmN0aW9uIGNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0aGlzLl9fZGF0YV9fKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25SZW1vdmUodHlwZW5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbiA9IHRoaXMuX19vbjtcbiAgICBpZiAoIW9uKSByZXR1cm47XG4gICAgZm9yICh2YXIgaiA9IDAsIGkgPSAtMSwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgaWYgKG8gPSBvbltqXSwgKCF0eXBlbmFtZS50eXBlIHx8IG8udHlwZSA9PT0gdHlwZW5hbWUudHlwZSkgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblsrK2ldID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCsraSkgb24ubGVuZ3RoID0gaTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9fb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uLCBvLCBsaXN0ZW5lciA9IGNvbnRleHRMaXN0ZW5lcih2YWx1ZSk7XG4gICAgaWYgKG9uKSBmb3IgKHZhciBqID0gMCwgbSA9IG9uLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIgPSBsaXN0ZW5lciwgby5vcHRpb25zID0gb3B0aW9ucyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZW5hbWUudHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIG8gPSB7dHlwZTogdHlwZW5hbWUudHlwZSwgbmFtZTogdHlwZW5hbWUubmFtZSwgdmFsdWU6IHZhbHVlLCBsaXN0ZW5lcjogbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnN9O1xuICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtcbiAgICBlbHNlIG9uLnB1c2gobyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdHlwZW5hbWVzID0gcGFyc2VUeXBlbmFtZXModHlwZW5hbWUgKyBcIlwiKSwgaSwgbiA9IHR5cGVuYW1lcy5sZW5ndGgsIHQ7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIG9uID0gdGhpcy5ub2RlKCkuX19vbjtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBmb3IgKGkgPSAwLCBvID0gb25bal07IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKCh0ID0gdHlwZW5hbWVzW2ldKS50eXBlID09PSBvLnR5cGUgJiYgdC5uYW1lID09PSBvLm5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gby52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBvbiA9IHZhbHVlID8gb25BZGQgOiBvblJlbW92ZTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkgdGhpcy5lYWNoKG9uKHR5cGVuYW1lc1tpXSwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvdy5qc1wiO1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykge1xuICB2YXIgd2luZG93ID0gZGVmYXVsdFZpZXcobm9kZSksXG4gICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBldmVudCA9IG5ldyBldmVudCh0eXBlLCBwYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgaWYgKHBhcmFtcykgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSksIGV2ZW50LmRldGFpbCA9IHBhcmFtcy5kZXRhaWw7XG4gICAgZWxzZSBldmVudC5pbml0RXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29uc3RhbnQodHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCB0eXBlLCBwYXJhbXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGRpc3BhdGNoRnVuY3Rpb25cbiAgICAgIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiooKSB7XG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB5aWVsZCBub2RlO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGwuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQgZnJvbSBcIi4vc2VsZWN0Q2hpbGQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gZnJvbSBcIi4vc2VsZWN0Q2hpbGRyZW4uanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXRhIGZyb20gXCIuL2RhdGEuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW50ZXIgZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZXhpdCBmcm9tIFwiLi9leGl0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2pvaW4gZnJvbSBcIi4vam9pbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vcmRlciBmcm9tIFwiLi9vcmRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zb3J0IGZyb20gXCIuL3NvcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2FsbCBmcm9tIFwiLi9jYWxsLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGVzIGZyb20gXCIuL25vZGVzLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGUgZnJvbSBcIi4vbm9kZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zaXplIGZyb20gXCIuL3NpemUuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW1wdHkgZnJvbSBcIi4vZW1wdHkuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZWFjaCBmcm9tIFwiLi9lYWNoLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9wcm9wZXJ0eSBmcm9tIFwiLi9wcm9wZXJ0eS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbGFzc2VkIGZyb20gXCIuL2NsYXNzZWQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2h0bWwgZnJvbSBcIi4vaHRtbC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9yYWlzZSBmcm9tIFwiLi9yYWlzZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9sb3dlciBmcm9tIFwiLi9sb3dlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9hcHBlbmQgZnJvbSBcIi4vYXBwZW5kLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2luc2VydCBmcm9tIFwiLi9pbnNlcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbG9uZSBmcm9tIFwiLi9jbG9uZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXR1bSBmcm9tIFwiLi9kYXR1bS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kaXNwYXRjaCBmcm9tIFwiLi9kaXNwYXRjaC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9pdGVyYXRvciBmcm9tIFwiLi9pdGVyYXRvci5qc1wiO1xuXG5leHBvcnQgdmFyIHJvb3QgPSBbbnVsbF07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWxlY3Rpb24oZ3JvdXBzLCBwYXJlbnRzKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufVxuXG5TZWxlY3Rpb24ucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNlbGVjdGlvbixcbiAgc2VsZWN0OiBzZWxlY3Rpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHNlbGVjdGlvbl9zZWxlY3RBbGwsXG4gIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsXG4gIHNlbGVjdENoaWxkcmVuOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogc2VsZWN0aW9uX2ZpbHRlcixcbiAgZGF0YTogc2VsZWN0aW9uX2RhdGEsXG4gIGVudGVyOiBzZWxlY3Rpb25fZW50ZXIsXG4gIGV4aXQ6IHNlbGVjdGlvbl9leGl0LFxuICBqb2luOiBzZWxlY3Rpb25fam9pbixcbiAgbWVyZ2U6IHNlbGVjdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiBzZWxlY3Rpb25fc2VsZWN0aW9uLFxuICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLFxuICBzb3J0OiBzZWxlY3Rpb25fc29ydCxcbiAgY2FsbDogc2VsZWN0aW9uX2NhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX2VhY2gsXG4gIGF0dHI6IHNlbGVjdGlvbl9hdHRyLFxuICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLFxuICBwcm9wZXJ0eTogc2VsZWN0aW9uX3Byb3BlcnR5LFxuICBjbGFzc2VkOiBzZWxlY3Rpb25fY2xhc3NlZCxcbiAgdGV4dDogc2VsZWN0aW9uX3RleHQsXG4gIGh0bWw6IHNlbGVjdGlvbl9odG1sLFxuICByYWlzZTogc2VsZWN0aW9uX3JhaXNlLFxuICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLFxuICBhcHBlbmQ6IHNlbGVjdGlvbl9hcHBlbmQsXG4gIGluc2VydDogc2VsZWN0aW9uX2luc2VydCxcbiAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLFxuICBjbG9uZTogc2VsZWN0aW9uX2Nsb25lLFxuICBkYXR1bTogc2VsZWN0aW9uX2RhdHVtLFxuICBvbjogc2VsZWN0aW9uX29uLFxuICBkaXNwYXRjaDogc2VsZWN0aW9uX2Rpc3BhdGNoLFxuICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX2l0ZXJhdG9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb247XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pXFxcXHMqXCIsXG4gICAgcmVQID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pJVxcXFxzKlwiLFxuICAgIHJlSGV4ID0gL14jKFswLTlhLWZdezMsOH0pJC8sXG4gICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX1cXFxcKSRgKSxcbiAgICByZVJnYlBlcmNlbnQgPSBuZXcgUmVnRXhwKGBecmdiXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKGBecmdiYVxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFxcXCkkYCksXG4gICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfSwke3JlTn1cXFxcKSRgKSxcbiAgICByZUhzbFBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsXFxcXCgke3JlTn0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlSHNsYVBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsYVxcXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFxcXCkkYCk7XG5cbnZhciBuYW1lZCA9IHtcbiAgYWxpY2VibHVlOiAweGYwZjhmZixcbiAgYW50aXF1ZXdoaXRlOiAweGZhZWJkNyxcbiAgYXF1YTogMHgwMGZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0LFxuICBhenVyZTogMHhmMGZmZmYsXG4gIGJlaWdlOiAweGY1ZjVkYyxcbiAgYmlzcXVlOiAweGZmZTRjNCxcbiAgYmxhY2s6IDB4MDAwMDAwLFxuICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsXG4gIGJsdWU6IDB4MDAwMGZmLFxuICBibHVldmlvbGV0OiAweDhhMmJlMixcbiAgYnJvd246IDB4YTUyYTJhLFxuICBidXJseXdvb2Q6IDB4ZGViODg3LFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwLFxuICBjaGFydHJldXNlOiAweDdmZmYwMCxcbiAgY2hvY29sYXRlOiAweGQyNjkxZSxcbiAgY29yYWw6IDB4ZmY3ZjUwLFxuICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsXG4gIGNvcm5zaWxrOiAweGZmZjhkYyxcbiAgY3JpbXNvbjogMHhkYzE0M2MsXG4gIGN5YW46IDB4MDBmZmZmLFxuICBkYXJrYmx1ZTogMHgwMDAwOGIsXG4gIGRhcmtjeWFuOiAweDAwOGI4YixcbiAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsXG4gIGRhcmtncmF5OiAweGE5YTlhOSxcbiAgZGFya2dyZWVuOiAweDAwNjQwMCxcbiAgZGFya2dyZXk6IDB4YTlhOWE5LFxuICBkYXJra2hha2k6IDB4YmRiNzZiLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGIsXG4gIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZixcbiAgZGFya29yYW5nZTogMHhmZjhjMDAsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjLFxuICBkYXJrcmVkOiAweDhiMDAwMCxcbiAgZGFya3NhbG1vbjogMHhlOTk2N2EsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGYsXG4gIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLFxuICBkYXJrc2xhdGVncmF5OiAweDJmNGY0ZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGYsXG4gIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLFxuICBkYXJrdmlvbGV0OiAweDk0MDBkMyxcbiAgZGVlcHBpbms6IDB4ZmYxNDkzLFxuICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsXG4gIGRpbWdyYXk6IDB4Njk2OTY5LFxuICBkaW1ncmV5OiAweDY5Njk2OSxcbiAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsXG4gIGZpcmVicmljazogMHhiMjIyMjIsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMCxcbiAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLFxuICBmdWNoc2lhOiAweGZmMDBmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkYyxcbiAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsXG4gIGdvbGQ6IDB4ZmZkNzAwLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwLFxuICBncmF5OiAweDgwODA4MCxcbiAgZ3JlZW46IDB4MDA4MDAwLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmYsXG4gIGdyZXk6IDB4ODA4MDgwLFxuICBob25leWRldzogMHhmMGZmZjAsXG4gIGhvdHBpbms6IDB4ZmY2OWI0LFxuICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLFxuICBpbmRpZ286IDB4NGIwMDgyLFxuICBpdm9yeTogMHhmZmZmZjAsXG4gIGtoYWtpOiAweGYwZTY4YyxcbiAgbGF2ZW5kZXI6IDB4ZTZlNmZhLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNSxcbiAgbGF3bmdyZWVuOiAweDdjZmMwMCxcbiAgbGVtb25jaGlmZm9uOiAweGZmZmFjZCxcbiAgbGlnaHRibHVlOiAweGFkZDhlNixcbiAgbGlnaHRjb3JhbDogMHhmMDgwODAsXG4gIGxpZ2h0Y3lhbjogMHhlMGZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMixcbiAgbGlnaHRncmF5OiAweGQzZDNkMyxcbiAgbGlnaHRncmVlbjogMHg5MGVlOTAsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDMsXG4gIGxpZ2h0cGluazogMHhmZmI2YzEsXG4gIGxpZ2h0c2FsbW9uOiAweGZmYTA3YSxcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWEsXG4gIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsXG4gIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxuICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsXG4gIGxpZ2h0eWVsbG93OiAweGZmZmZlMCxcbiAgbGltZTogMHgwMGZmMDAsXG4gIGxpbWVncmVlbjogMHgzMmNkMzIsXG4gIGxpbmVuOiAweGZhZjBlNixcbiAgbWFnZW50YTogMHhmZjAwZmYsXG4gIG1hcm9vbjogMHg4MDAwMDAsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZjZGFhLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZCxcbiAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMyxcbiAgbWVkaXVtcHVycGxlOiAweDkzNzBkYixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxLFxuICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLFxuICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMGZhOWEsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2MsXG4gIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsXG4gIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmEsXG4gIG1pc3R5cm9zZTogMHhmZmU0ZTEsXG4gIG1vY2Nhc2luOiAweGZmZTRiNSxcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkLFxuICBuYXZ5OiAweDAwMDA4MCxcbiAgb2xkbGFjZTogMHhmZGY1ZTYsXG4gIG9saXZlOiAweDgwODAwMCxcbiAgb2xpdmVkcmFiOiAweDZiOGUyMyxcbiAgb3JhbmdlOiAweGZmYTUwMCxcbiAgb3JhbmdlcmVkOiAweGZmNDUwMCxcbiAgb3JjaGlkOiAweGRhNzBkNixcbiAgcGFsZWdvbGRlbnJvZDogMHhlZWU4YWEsXG4gIHBhbGVncmVlbjogMHg5OGZiOTgsXG4gIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLFxuICBwYWxldmlvbGV0cmVkOiAweGRiNzA5MyxcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDUsXG4gIHBlYWNocHVmZjogMHhmZmRhYjksXG4gIHBlcnU6IDB4Y2Q4NTNmLFxuICBwaW5rOiAweGZmYzBjYixcbiAgcGx1bTogMHhkZGEwZGQsXG4gIHBvd2RlcmJsdWU6IDB4YjBlMGU2LFxuICBwdXJwbGU6IDB4ODAwMDgwLFxuICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcbiAgcmVkOiAweGZmMDAwMCxcbiAgcm9zeWJyb3duOiAweGJjOGY4ZixcbiAgcm95YWxibHVlOiAweDQxNjllMSxcbiAgc2FkZGxlYnJvd246IDB4OGI0NTEzLFxuICBzYWxtb246IDB4ZmE4MDcyLFxuICBzYW5keWJyb3duOiAweGY0YTQ2MCxcbiAgc2VhZ3JlZW46IDB4MmU4YjU3LFxuICBzZWFzaGVsbDogMHhmZmY1ZWUsXG4gIHNpZW5uYTogMHhhMDUyMmQsXG4gIHNpbHZlcjogMHhjMGMwYzAsXG4gIHNreWJsdWU6IDB4ODdjZWViLFxuICBzbGF0ZWJsdWU6IDB4NmE1YWNkLFxuICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxuICBzbm93OiAweGZmZmFmYSxcbiAgc3ByaW5nZ3JlZW46IDB4MDBmZjdmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0LFxuICB0YW46IDB4ZDJiNDhjLFxuICB0ZWFsOiAweDAwODA4MCxcbiAgdGhpc3RsZTogMHhkOGJmZDgsXG4gIHRvbWF0bzogMHhmZjYzNDcsXG4gIHR1cnF1b2lzZTogMHg0MGUwZDAsXG4gIHZpb2xldDogMHhlZTgyZWUsXG4gIHdoZWF0OiAweGY1ZGViMyxcbiAgd2hpdGU6IDB4ZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNSxcbiAgeWVsbG93OiAweGZmZmYwMCxcbiAgeWVsbG93Z3JlZW46IDB4OWFjZDMyXG59O1xuXG5kZWZpbmUoQ29sb3IsIGNvbG9yLCB7XG4gIGNvcHkoY2hhbm5lbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvciwgdGhpcywgY2hhbm5lbHMpO1xuICB9LFxuICBkaXNwbGF5YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhleDg6IGNvbG9yX2Zvcm1hdEhleDgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleDgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkge1xuICByZXR1cm4gaHNsQ29udmVydCh0aGlzKS5mb3JtYXRIc2woKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0UmdiKCkge1xuICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRSZ2IoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29sb3IoZm9ybWF0KSB7XG4gIHZhciBtLCBsO1xuICBmb3JtYXQgPSAoZm9ybWF0ICsgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwXG4gICAgICA6IGwgPT09IDMgPyBuZXcgUmdiKChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZiksIDEpIC8vICNmMDBcbiAgICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwXG4gICAgICA6IGwgPT09IDQgPyByZ2JhKChtID4+IDEyICYgMHhmKSB8IChtID4+IDggJiAweGYwKSwgKG0gPj4gOCAmIDB4ZikgfCAobSA+PiA0ICYgMHhmMCksIChtID4+IDQgJiAweGYpIHwgKG0gJiAweGYwKSwgKCgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZikpIC8gMHhmZikgLy8gI2YwMDBcbiAgICAgIDogbnVsbCkgLy8gaW52YWxpZCBoZXhcbiAgICAgIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMClcbiAgICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSlcbiAgICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKVxuICAgICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSlcbiAgICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpXG4gICAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpXG4gICAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICA6IGZvcm1hdCA9PT0gXCJ0cmFuc3BhcmVudFwiID8gbmV3IFJnYihOYU4sIE5hTiwgTmFOLCAwKVxuICAgICAgOiBudWxsO1xufVxuXG5mdW5jdGlvbiByZ2JuKG4pIHtcbiAgcmV0dXJuIG5ldyBSZ2IobiA+PiAxNiAmIDB4ZmYsIG4gPj4gOCAmIDB4ZmYsIG4gJiAweGZmLCAxKTtcbn1cblxuZnVuY3Rpb24gcmdiYShyLCBnLCBiLCBhKSB7XG4gIGlmIChhIDw9IDApIHIgPSBnID0gYiA9IE5hTjtcbiAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JDb252ZXJ0KG8pIHtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgUmdiO1xuICBvID0gby5yZ2IoKTtcbiAgcmV0dXJuIG5ldyBSZ2Ioby5yLCBvLmcsIG8uYiwgby5vcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gcmdiQ29udmVydChyKSA6IG5ldyBSZ2IociwgZywgYiwgb3BhY2l0eSA9PSBudWxsID8gMSA6IG9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmdiKHIsIGcsIGIsIG9wYWNpdHkpIHtcbiAgdGhpcy5yID0gK3I7XG4gIHRoaXMuZyA9ICtnO1xuICB0aGlzLmIgPSArYjtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShSZ2IsIHJnYiwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGNsYW1wKCkge1xuICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTtcbiAgfSxcbiAgZGlzcGxheWFibGUoKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCxcbiAgZm9ybWF0UmdiOiByZ2JfZm9ybWF0UmdiLFxuICB0b1N0cmluZzogcmdiX2Zvcm1hdFJnYlxufSkpO1xuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4KCkge1xuICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gO1xufVxuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHtcbiAgcmV0dXJuIGAjJHtoZXgodGhpcy5yKX0ke2hleCh0aGlzLmcpfSR7aGV4KHRoaXMuYil9JHtoZXgoKGlzTmFOKHRoaXMub3BhY2l0eSkgPyAxIDogdGhpcy5vcGFjaXR5KSAqIDI1NSl9YDtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICByZXR1cm4gYCR7YSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwifSR7Y2xhbXBpKHRoaXMucil9LCAke2NsYW1waSh0aGlzLmcpfSwgJHtjbGFtcGkodGhpcy5iKX0ke2EgPT09IDEgPyBcIilcIiA6IGAsICR7YX0pYH1gO1xufVxuXG5mdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkge1xuICByZXR1cm4gaXNOYU4ob3BhY2l0eSkgPyAxIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgb3BhY2l0eSkpO1xufVxuXG5mdW5jdGlvbiBjbGFtcGkodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh2YWx1ZSkgfHwgMCkpO1xufVxuXG5mdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgdmFsdWUgPSBjbGFtcGkodmFsdWUpO1xuICByZXR1cm4gKHZhbHVlIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgdmFsdWUudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHtcbiAgaWYgKGEgPD0gMCkgaCA9IHMgPSBsID0gTmFOO1xuICBlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtcbiAgZWxzZSBpZiAocyA8PSAwKSBoID0gTmFOO1xuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbENvbnZlcnQobykge1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgSHNsO1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG87XG4gIG8gPSBvLnJnYigpO1xuICB2YXIgciA9IG8uciAvIDI1NSxcbiAgICAgIGcgPSBvLmcgLyAyNTUsXG4gICAgICBiID0gby5iIC8gMjU1LFxuICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgIGggPSBOYU4sXG4gICAgICBzID0gbWF4IC0gbWluLFxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKHMpIHtcbiAgICBpZiAociA9PT0gbWF4KSBoID0gKGcgLSBiKSAvIHMgKyAoZyA8IGIpICogNjtcbiAgICBlbHNlIGlmIChnID09PSBtYXgpIGggPSAoYiAtIHIpIC8gcyArIDI7XG4gICAgZWxzZSBoID0gKHIgLSBnKSAvIHMgKyA0O1xuICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47XG4gICAgaCAqPSA2MDtcbiAgfSBlbHNlIHtcbiAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDtcbiAgfVxuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBoc2xDb252ZXJ0KGgpIDogbmV3IEhzbChoLCBzLCBsLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmZ1bmN0aW9uIEhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHRoaXMuaCA9ICtoO1xuICB0aGlzLnMgPSArcztcbiAgdGhpcy5sID0gK2w7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXIoaykge1xuICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgdmFyIGggPSB0aGlzLmggJSAzNjAgKyAodGhpcy5oIDwgMCkgKiAzNjAsXG4gICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucyxcbiAgICAgICAgbCA9IHRoaXMubCxcbiAgICAgICAgbTIgPSBsICsgKGwgPCAwLjUgPyBsIDogMSAtIGwpICogcyxcbiAgICAgICAgbTEgPSAyICogbCAtIG0yO1xuICAgIHJldHVybiBuZXcgUmdiKFxuICAgICAgaHNsMnJnYihoID49IDI0MCA/IGggLSAyNDAgOiBoICsgMTIwLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksXG4gICAgICB0aGlzLm9wYWNpdHlcbiAgICApO1xuICB9LFxuICBjbGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IEhzbChjbGFtcGgodGhpcy5oKSwgY2xhbXB0KHRoaXMucyksIGNsYW1wdCh0aGlzLmwpLCBjbGFtcGEodGhpcy5vcGFjaXR5KSk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlKCkge1xuICAgIHJldHVybiAoMCA8PSB0aGlzLnMgJiYgdGhpcy5zIDw9IDEgfHwgaXNOYU4odGhpcy5zKSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5sICYmIHRoaXMubCA8PSAxKVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBmb3JtYXRIc2woKSB7XG4gICAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICAgIHJldHVybiBgJHthID09PSAxID8gXCJoc2woXCIgOiBcImhzbGEoXCJ9JHtjbGFtcGgodGhpcy5oKX0sICR7Y2xhbXB0KHRoaXMucykgKiAxMDB9JSwgJHtjbGFtcHQodGhpcy5sKSAqIDEwMH0lJHthID09PSAxID8gXCIpXCIgOiBgLCAke2F9KWB9YDtcbiAgfVxufSkpO1xuXG5mdW5jdGlvbiBjbGFtcGgodmFsdWUpIHtcbiAgdmFsdWUgPSAodmFsdWUgfHwgMCkgJSAzNjA7XG4gIHJldHVybiB2YWx1ZSA8IDAgPyB2YWx1ZSArIDM2MCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjbGFtcHQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTtcbn1cblxuLyogRnJvbSBGdkQgMTMuMzcsIENTUyBDb2xvciBNb2R1bGUgTGV2ZWwgMyAqL1xuZnVuY3Rpb24gaHNsMnJnYihoLCBtMSwgbTIpIHtcbiAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MFxuICAgICAgOiBoIDwgMTgwID8gbTJcbiAgICAgIDogaCA8IDI0MCA/IG0xICsgKG0yIC0gbTEpICogKDI0MCAtIGgpIC8gNjBcbiAgICAgIDogbTEpICogMjU1O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgeCA9PiAoKSA9PiB4O1xuIiwiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGxpbmVhcihhLCBkKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKyB0ICogZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwb25lbnRpYWwoYSwgYiwgeSkge1xuICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coYSArIHQgKiBiLCB5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQgPiAxODAgfHwgZCA8IC0xODAgPyBkIC0gMzYwICogTWF0aC5yb3VuZChkIC8gMzYwKSA6IGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYSh5KSB7XG4gIHJldHVybiAoeSA9ICt5KSA9PT0gMSA/IG5vZ2FtbWEgOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIgLSBhID8gZXhwb25lbnRpYWwoYSwgYiwgeSkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9nYW1tYShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG4iLCJpbXBvcnQge3JnYiBhcyBjb2xvclJnYn0gZnJvbSBcImQzLWNvbG9yXCI7XG5pbXBvcnQgYmFzaXMgZnJvbSBcIi4vYmFzaXMuanNcIjtcbmltcG9ydCBiYXNpc0Nsb3NlZCBmcm9tIFwiLi9iYXNpc0Nsb3NlZC5qc1wiO1xuaW1wb3J0IG5vZ2FtbWEsIHtnYW1tYX0gZnJvbSBcIi4vY29sb3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHtcbiAgdmFyIGNvbG9yID0gZ2FtbWEoeSk7XG5cbiAgZnVuY3Rpb24gcmdiKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IGNvbG9yUmdiKHN0YXJ0KSkuciwgKGVuZCA9IGNvbG9yUmdiKGVuZCkpLnIpLFxuICAgICAgICBnID0gY29sb3Ioc3RhcnQuZywgZW5kLmcpLFxuICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLFxuICAgICAgICBvcGFjaXR5ID0gbm9nYW1tYShzdGFydC5vcGFjaXR5LCBlbmQub3BhY2l0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHN0YXJ0LnIgPSByKHQpO1xuICAgICAgc3RhcnQuZyA9IGcodCk7XG4gICAgICBzdGFydC5iID0gYih0KTtcbiAgICAgIHN0YXJ0Lm9wYWNpdHkgPSBvcGFjaXR5KHQpO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgcmdiLmdhbW1hID0gcmdiR2FtbWE7XG5cbiAgcmV0dXJuIHJnYjtcbn0pKDEpO1xuXG5mdW5jdGlvbiByZ2JTcGxpbmUoc3BsaW5lKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xvcnMpIHtcbiAgICB2YXIgbiA9IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgIHIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGcgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGksIGNvbG9yO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbG9yID0gY29sb3JSZ2IoY29sb3JzW2ldKTtcbiAgICAgIHJbaV0gPSBjb2xvci5yIHx8IDA7XG4gICAgICBnW2ldID0gY29sb3IuZyB8fCAwO1xuICAgICAgYltpXSA9IGNvbG9yLmIgfHwgMDtcbiAgICB9XG4gICAgciA9IHNwbGluZShyKTtcbiAgICBnID0gc3BsaW5lKGcpO1xuICAgIGIgPSBzcGxpbmUoYik7XG4gICAgY29sb3Iub3BhY2l0eSA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGNvbG9yLnIgPSByKHQpO1xuICAgICAgY29sb3IuZyA9IGcodCk7XG4gICAgICBjb2xvci5iID0gYih0KTtcbiAgICAgIHJldHVybiBjb2xvciArIFwiXCI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciByZ2JCYXNpcyA9IHJnYlNwbGluZShiYXNpcyk7XG5leHBvcnQgdmFyIHJnYkJhc2lzQ2xvc2VkID0gcmdiU3BsaW5lKGJhc2lzQ2xvc2VkKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKiAoMSAtIHQpICsgYiAqIHQ7XG4gIH07XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuL251bWJlci5qc1wiO1xuXG52YXIgcmVBID0gL1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLFxuICAgIHJlQiA9IG5ldyBSZWdFeHAocmVBLnNvdXJjZSwgXCJnXCIpO1xuXG5mdW5jdGlvbiB6ZXJvKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBiO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbmUoYikge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBiKHQpICsgXCJcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYmkgPSByZUEubGFzdEluZGV4ID0gcmVCLmxhc3RJbmRleCA9IDAsIC8vIHNjYW4gaW5kZXggZm9yIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGFtLCAvLyBjdXJyZW50IG1hdGNoIGluIGFcbiAgICAgIGJtLCAvLyBjdXJyZW50IG1hdGNoIGluIGJcbiAgICAgIGJzLCAvLyBzdHJpbmcgcHJlY2VkaW5nIGN1cnJlbnQgbnVtYmVyIGluIGIsIGlmIGFueVxuICAgICAgaSA9IC0xLCAvLyBpbmRleCBpbiBzXG4gICAgICBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuXG4gIC8vIENvZXJjZSBpbnB1dHMgdG8gc3RyaW5ncy5cbiAgYSA9IGEgKyBcIlwiLCBiID0gYiArIFwiXCI7XG5cbiAgLy8gSW50ZXJwb2xhdGUgcGFpcnMgb2YgbnVtYmVycyBpbiBhICYgYi5cbiAgd2hpbGUgKChhbSA9IHJlQS5leGVjKGEpKVxuICAgICAgJiYgKGJtID0gcmVCLmV4ZWMoYikpKSB7XG4gICAgaWYgKChicyA9IGJtLmluZGV4KSA+IGJpKSB7IC8vIGEgc3RyaW5nIHByZWNlZGVzIHRoZSBuZXh0IG51bWJlciBpbiBiXG4gICAgICBicyA9IGIuc2xpY2UoYmksIGJzKTtcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBicztcbiAgICB9XG4gICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7IC8vIG51bWJlcnMgaW4gYSAmIGIgbWF0Y2hcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBibTtcbiAgICB9IGVsc2UgeyAvLyBpbnRlcnBvbGF0ZSBub24tbWF0Y2hpbmcgbnVtYmVyc1xuICAgICAgc1srK2ldID0gbnVsbDtcbiAgICAgIHEucHVzaCh7aTogaSwgeDogbnVtYmVyKGFtLCBibSl9KTtcbiAgICB9XG4gICAgYmkgPSByZUIubGFzdEluZGV4O1xuICB9XG5cbiAgLy8gQWRkIHJlbWFpbnMgb2YgYi5cbiAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICBicyA9IGIuc2xpY2UoYmkpO1xuICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gIH1cblxuICAvLyBTcGVjaWFsIG9wdGltaXphdGlvbiBmb3Igb25seSBhIHNpbmdsZSBtYXRjaC5cbiAgLy8gT3RoZXJ3aXNlLCBpbnRlcnBvbGF0ZSBlYWNoIG9mIHRoZSBudW1iZXJzIGFuZCByZWpvaW4gdGhlIHN0cmluZy5cbiAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IChxWzBdXG4gICAgICA/IG9uZShxWzBdLngpXG4gICAgICA6IHplcm8oYikpXG4gICAgICA6IChiID0gcS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xufVxuIiwidmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJO1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0ge1xuICB0cmFuc2xhdGVYOiAwLFxuICB0cmFuc2xhdGVZOiAwLFxuICByb3RhdGU6IDAsXG4gIHNrZXdYOiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgc2NhbGVYLCBzY2FsZVksIHNrZXdYO1xuICBpZiAoc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpKSBhIC89IHNjYWxlWCwgYiAvPSBzY2FsZVg7XG4gIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDtcbiAgaWYgKHNjYWxlWSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKSkgYyAvPSBzY2FsZVksIGQgLz0gc2NhbGVZLCBza2V3WCAvPSBzY2FsZVk7XG4gIGlmIChhICogZCA8IGIgKiBjKSBhID0gLWEsIGIgPSAtYiwgc2tld1ggPSAtc2tld1gsIHNjYWxlWCA9IC1zY2FsZVg7XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZSxcbiAgICB0cmFuc2xhdGVZOiBmLFxuICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsXG4gICAgc2tld1g6IE1hdGguYXRhbihza2V3WCkgKiBkZWdyZWVzLFxuICAgIHNjYWxlWDogc2NhbGVYLFxuICAgIHNjYWxlWTogc2NhbGVZXG4gIH07XG59XG4iLCJpbXBvcnQgZGVjb21wb3NlLCB7aWRlbnRpdHl9IGZyb20gXCIuL2RlY29tcG9zZS5qc1wiO1xuXG52YXIgc3ZnTm9kZTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNzcyh2YWx1ZSkge1xuICBjb25zdCBtID0gbmV3ICh0eXBlb2YgRE9NTWF0cml4ID09PSBcImZ1bmN0aW9uXCIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgXCJcIik7XG4gIHJldHVybiBtLmlzSWRlbnRpdHkgPyBpZGVudGl0eSA6IGRlY29tcG9zZShtLmEsIG0uYiwgbS5jLCBtLmQsIG0uZSwgbS5mKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3ZnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gaWRlbnRpdHk7XG4gIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdmFsdWUpO1xuICBpZiAoISh2YWx1ZSA9IHN2Z05vZGUudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKSkpIHJldHVybiBpZGVudGl0eTtcbiAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7XG4gIHJldHVybiBkZWNvbXBvc2UodmFsdWUuYSwgdmFsdWUuYiwgdmFsdWUuYywgdmFsdWUuZCwgdmFsdWUuZSwgdmFsdWUuZik7XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuLi9udW1iZXIuanNcIjtcbmltcG9ydCB7cGFyc2VDc3MsIHBhcnNlU3ZnfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZSwgcHhDb21tYSwgcHhQYXJlbiwgZGVnUGFyZW4pIHtcblxuICBmdW5jdGlvbiBwb3Aocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA/IHMucG9wKCkgKyBcIiBcIiA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2goXCJ0cmFuc2xhdGUoXCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiB8fCB5Yikge1xuICAgICAgcy5wdXNoKFwidHJhbnNsYXRlKFwiICsgeGIgKyBweENvbW1hICsgeWIgKyBweFBhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSAtIGIgPiAxODApIGIgKz0gMzYwOyBlbHNlIGlmIChiIC0gYSA+IDE4MCkgYSArPSAzNjA7IC8vIHNob3J0ZXN0IHBhdGhcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiLCBudWxsLCBcIixcIiwgbnVsbCwgXCIpXCIpO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiAhPT0gMSB8fCB5YiAhPT0gMSkge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIgKyB4YiArIFwiLFwiICsgeWIgKyBcIilcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuICAgIGEgPSBwYXJzZShhKSwgYiA9IHBhcnNlKGIpO1xuICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpO1xuICAgIHJvdGF0ZShhLnJvdGF0ZSwgYi5yb3RhdGUsIHMsIHEpO1xuICAgIHNrZXdYKGEuc2tld1gsIGIuc2tld1gsIHMsIHEpO1xuICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTtcbiAgICBhID0gYiA9IG51bGw7IC8vIGdjXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBpID0gLTEsIG4gPSBxLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZUNzcywgXCJweCwgXCIsIFwicHgpXCIsIFwiZGVnKVwiKTtcbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZVN2ZywgXCIsIFwiLCBcIilcIiwgXCIpXCIpO1xuIiwidmFyIGZyYW1lID0gMCwgLy8gaXMgYW4gYW5pbWF0aW9uIGZyYW1lIHBlbmRpbmc/XG4gICAgdGltZW91dCA9IDAsIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nP1xuICAgIGludGVydmFsID0gMCwgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlP1xuICAgIHBva2VEZWxheSA9IDEwMDAsIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3XG4gICAgdGFza0hlYWQsXG4gICAgdGFza1RhaWwsXG4gICAgY2xvY2tMYXN0ID0gMCxcbiAgICBjbG9ja05vdyA9IDAsXG4gICAgY2xvY2tTa2V3ID0gMCxcbiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJvYmplY3RcIiAmJiBwZXJmb3JtYW5jZS5ub3cgPyBwZXJmb3JtYW5jZSA6IERhdGUsXG4gICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSA6IGZ1bmN0aW9uKGYpIHsgc2V0VGltZW91dChmLCAxNyk7IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBjbG9ja05vdyB8fCAoc2V0RnJhbWUoY2xlYXJOb3cpLCBjbG9ja05vdyA9IGNsb2NrLm5vdygpICsgY2xvY2tTa2V3KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOb3coKSB7XG4gIGNsb2NrTm93ID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVyKCkge1xuICB0aGlzLl9jYWxsID1cbiAgdGhpcy5fdGltZSA9XG4gIHRoaXMuX25leHQgPSBudWxsO1xufVxuXG5UaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUaW1lcixcbiAgcmVzdGFydDogZnVuY3Rpb24oY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgdGltZSA9ICh0aW1lID09IG51bGwgPyBub3coKSA6ICt0aW1lKSArIChkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheSk7XG4gICAgaWYgKCF0aGlzLl9uZXh0ICYmIHRhc2tUYWlsICE9PSB0aGlzKSB7XG4gICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztcbiAgICAgIGVsc2UgdGFza0hlYWQgPSB0aGlzO1xuICAgICAgdGFza1RhaWwgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9jYWxsID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgc2xlZXAoKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2NhbGwpIHtcbiAgICAgIHRoaXMuX2NhbGwgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5O1xuICAgICAgc2xlZXAoKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7XG4gIG5vdygpOyAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSwgaWYgbm90IGFscmVhZHkgc2V0LlxuICArK2ZyYW1lOyAvLyBQcmV0ZW5kIHdl4oCZdmUgc2V0IGFuIGFsYXJtLCBpZiB3ZSBoYXZlbuKAmXQgYWxyZWFkeS5cbiAgdmFyIHQgPSB0YXNrSGVhZCwgZTtcbiAgd2hpbGUgKHQpIHtcbiAgICBpZiAoKGUgPSBjbG9ja05vdyAtIHQuX3RpbWUpID49IDApIHQuX2NhbGwuY2FsbCh1bmRlZmluZWQsIGUpO1xuICAgIHQgPSB0Ll9uZXh0O1xuICB9XG4gIC0tZnJhbWU7XG59XG5cbmZ1bmN0aW9uIHdha2UoKSB7XG4gIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldztcbiAgZnJhbWUgPSB0aW1lb3V0ID0gMDtcbiAgdHJ5IHtcbiAgICB0aW1lckZsdXNoKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZnJhbWUgPSAwO1xuICAgIG5hcCgpO1xuICAgIGNsb2NrTm93ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2tlKCkge1xuICB2YXIgbm93ID0gY2xvY2subm93KCksIGRlbGF5ID0gbm93IC0gY2xvY2tMYXN0O1xuICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93O1xufVxuXG5mdW5jdGlvbiBuYXAoKSB7XG4gIHZhciB0MCwgdDEgPSB0YXNrSGVhZCwgdDIsIHRpbWUgPSBJbmZpbml0eTtcbiAgd2hpbGUgKHQxKSB7XG4gICAgaWYgKHQxLl9jYWxsKSB7XG4gICAgICBpZiAodGltZSA+IHQxLl90aW1lKSB0aW1lID0gdDEuX3RpbWU7XG4gICAgICB0MCA9IHQxLCB0MSA9IHQxLl9uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9IHQxLl9uZXh0LCB0MS5fbmV4dCA9IG51bGw7XG4gICAgICB0MSA9IHQwID8gdDAuX25leHQgPSB0MiA6IHRhc2tIZWFkID0gdDI7XG4gICAgfVxuICB9XG4gIHRhc2tUYWlsID0gdDA7XG4gIHNsZWVwKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gIGlmIChmcmFtZSkgcmV0dXJuOyAvLyBTb29uZXN0IGFsYXJtIGFscmVhZHkgc2V0LCBvciB3aWxsIGJlLlxuICBpZiAodGltZW91dCkgdGltZW91dCA9IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy5cbiAgaWYgKGRlbGF5ID4gMjQpIHtcbiAgICBpZiAodGltZSA8IEluZmluaXR5KSB0aW1lb3V0ID0gc2V0VGltZW91dCh3YWtlLCB0aW1lIC0gY2xvY2subm93KCkgLSBjbG9ja1NrZXcpO1xuICAgIGlmIChpbnRlcnZhbCkgaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWludGVydmFsKSBjbG9ja0xhc3QgPSBjbG9jay5ub3coKSwgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwb2tlLCBwb2tlRGVsYXkpO1xuICAgIGZyYW1lID0gMSwgc2V0RnJhbWUod2FrZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VGltZXJ9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgZGVsYXkgPSBkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheTtcbiAgdC5yZXN0YXJ0KGVsYXBzZWQgPT4ge1xuICAgIHQuc3RvcCgpO1xuICAgIGNhbGxiYWNrKGVsYXBzZWQgKyBkZWxheSk7XG4gIH0sIGRlbGF5LCB0aW1lKTtcbiAgcmV0dXJuIHQ7XG59XG4iLCJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7dGltZXIsIHRpbWVvdXR9IGZyb20gXCJkMy10aW1lclwiO1xuXG52YXIgZW1wdHlPbiA9IGRpc3BhdGNoKFwic3RhcnRcIiwgXCJlbmRcIiwgXCJjYW5jZWxcIiwgXCJpbnRlcnJ1cHRcIik7XG52YXIgZW1wdHlUd2VlbiA9IFtdO1xuXG5leHBvcnQgdmFyIENSRUFURUQgPSAwO1xuZXhwb3J0IHZhciBTQ0hFRFVMRUQgPSAxO1xuZXhwb3J0IHZhciBTVEFSVElORyA9IDI7XG5leHBvcnQgdmFyIFNUQVJURUQgPSAzO1xuZXhwb3J0IHZhciBSVU5OSU5HID0gNDtcbmV4cG9ydCB2YXIgRU5ESU5HID0gNTtcbmV4cG9ydCB2YXIgRU5ERUQgPSA2O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uO1xuICBpZiAoIXNjaGVkdWxlcykgbm9kZS5fX3RyYW5zaXRpb24gPSB7fTtcbiAgZWxzZSBpZiAoaWQgaW4gc2NoZWR1bGVzKSByZXR1cm47XG4gIGNyZWF0ZShub2RlLCBpZCwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaW5kZXg6IGluZGV4LCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgZ3JvdXA6IGdyb3VwLCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgb246IGVtcHR5T24sXG4gICAgdHdlZW46IGVtcHR5VHdlZW4sXG4gICAgdGltZTogdGltaW5nLnRpbWUsXG4gICAgZGVsYXk6IHRpbWluZy5kZWxheSxcbiAgICBkdXJhdGlvbjogdGltaW5nLmR1cmF0aW9uLFxuICAgIGVhc2U6IHRpbWluZy5lYXNlLFxuICAgIHRpbWVyOiBudWxsLFxuICAgIHN0YXRlOiBDUkVBVEVEXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBzY2hlZHVsZWRcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBydW5uaW5nXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gbm9kZS5fX3RyYW5zaXRpb247XG4gIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcihcInRyYW5zaXRpb24gbm90IGZvdW5kXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZShub2RlLCBpZCwgc2VsZikge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICB0d2VlbjtcblxuICAvLyBJbml0aWFsaXplIHRoZSBzZWxmIHRpbWVyIHdoZW4gdGhlIHRyYW5zaXRpb24gaXMgY3JlYXRlZC5cbiAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shXG4gIHNjaGVkdWxlc1tpZF0gPSBzZWxmO1xuICBzZWxmLnRpbWVyID0gdGltZXIoc2NoZWR1bGUsIDAsIHNlbGYudGltZSk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoZWxhcHNlZCkge1xuICAgIHNlbGYuc3RhdGUgPSBTQ0hFRFVMRUQ7XG4gICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpO1xuXG4gICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuXG4gICAgaWYgKHNlbGYuZGVsYXkgPD0gZWxhcHNlZCkgc3RhcnQoZWxhcHNlZCAtIHNlbGYuZGVsYXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoZWxhcHNlZCkge1xuICAgIHZhciBpLCBqLCBuLCBvO1xuXG4gICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdCBTQ0hFRFVMRUQsIHRoZW4gd2UgcHJldmlvdXNseSBlcnJvcmVkIG9uIHN0YXJ0LlxuICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7XG5cbiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7XG4gICAgICBvID0gc2NoZWR1bGVzW2ldO1xuICAgICAgaWYgKG8ubmFtZSAhPT0gc2VsZi5uYW1lKSBjb250aW51ZTtcblxuICAgICAgLy8gV2hpbGUgdGhpcyBlbGVtZW50IGFscmVhZHkgaGFzIGEgc3RhcnRpbmcgdHJhbnNpdGlvbiBkdXJpbmcgdGhpcyBmcmFtZSxcbiAgICAgIC8vIGRlZmVyIHN0YXJ0aW5nIGFuIGludGVycnVwdGluZyB0cmFuc2l0aW9uIHVudGlsIHRoYXQgdHJhbnNpdGlvbiBoYXMgYVxuICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCFcbiAgICAgIGlmIChvLnN0YXRlID09PSBTVEFSVEVEKSByZXR1cm4gdGltZW91dChzdGFydCk7XG5cbiAgICAgIC8vIEludGVycnVwdCB0aGUgYWN0aXZlIHRyYW5zaXRpb24sIGlmIGFueS5cbiAgICAgIGlmIChvLnN0YXRlID09PSBSVU5OSU5HKSB7XG4gICAgICAgIG8uc3RhdGUgPSBFTkRFRDtcbiAgICAgICAgby50aW1lci5zdG9wKCk7XG4gICAgICAgIG8ub24uY2FsbChcImludGVycnVwdFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTtcbiAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIGFueSBwcmUtZW1wdGVkIHRyYW5zaXRpb25zLlxuICAgICAgZWxzZSBpZiAoK2kgPCBpZCkge1xuICAgICAgICBvLnN0YXRlID0gRU5ERUQ7XG4gICAgICAgIG8udGltZXIuc3RvcCgpO1xuICAgICAgICBvLm9uLmNhbGwoXCJjYW5jZWxcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgby5pbmRleCwgby5ncm91cCk7XG4gICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmZXIgdGhlIGZpcnN0IHRpY2sgdG8gZW5kIG9mIHRoZSBjdXJyZW50IGZyYW1lOyBzZWUgZDMvZDMjMTU3Ni5cbiAgICAvLyBOb3RlIHRoZSB0cmFuc2l0aW9uIG1heSBiZSBjYW5jZWxlZCBhZnRlciBzdGFydCBhbmQgYmVmb3JlIHRoZSBmaXJzdCB0aWNrIVxuICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiFcbiAgICAvLyBBc3N1bWluZyB0aGlzIGlzIHN1Y2Nlc3NmdWwsIHN1YnNlcXVlbnQgY2FsbGJhY2tzIGdvIHN0cmFpZ2h0IHRvIHRpY2suXG4gICAgdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSBTVEFSVEVEKSB7XG4gICAgICAgIHNlbGYuc3RhdGUgPSBSVU5OSU5HO1xuICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTtcbiAgICAgICAgdGljayhlbGFwc2VkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC5cbiAgICAvLyBOb3RlIHRoaXMgbXVzdCBiZSBkb25lIGJlZm9yZSB0aGUgdHdlZW4gYXJlIGluaXRpYWxpemVkLlxuICAgIHNlbGYuc3RhdGUgPSBTVEFSVElORztcbiAgICBzZWxmLm9uLmNhbGwoXCJzdGFydFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTtcbiAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gU1RBUlRJTkcpIHJldHVybjsgLy8gaW50ZXJydXB0ZWRcbiAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLlxuICAgIHR3ZWVuID0gbmV3IEFycmF5KG4gPSBzZWxmLnR3ZWVuLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMCwgaiA9IC0xOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkge1xuICAgICAgICB0d2VlblsrK2pdID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgdHdlZW4ubGVuZ3RoID0gaiArIDE7XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrKGVsYXBzZWQpIHtcbiAgICB2YXIgdCA9IGVsYXBzZWQgPCBzZWxmLmR1cmF0aW9uID8gc2VsZi5lYXNlLmNhbGwobnVsbCwgZWxhcHNlZCAvIHNlbGYuZHVyYXRpb24pIDogKHNlbGYudGltZXIucmVzdGFydChzdG9wKSwgc2VsZi5zdGF0ZSA9IEVORElORywgMSksXG4gICAgICAgIGkgPSAtMSxcbiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpO1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIHRoZSBlbmQgZXZlbnQuXG4gICAgaWYgKHNlbGYuc3RhdGUgPT09IEVORElORykge1xuICAgICAgc2VsZi5vbi5jYWxsKFwiZW5kXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApO1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgc2VsZi5zdGF0ZSA9IEVOREVEO1xuICAgIHNlbGYudGltZXIuc3RvcCgpO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdO1xuICAgIGZvciAodmFyIGkgaW4gc2NoZWR1bGVzKSByZXR1cm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247XG4gIH1cbn1cbiIsImltcG9ydCB7U1RBUlRJTkcsIEVORElORywgRU5ERUR9IGZyb20gXCIuL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICBzY2hlZHVsZSxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGVtcHR5ID0gdHJ1ZSxcbiAgICAgIGk7XG5cbiAgaWYgKCFzY2hlZHVsZXMpIHJldHVybjtcblxuICBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyBcIlwiO1xuXG4gIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICBpZiAoKHNjaGVkdWxlID0gc2NoZWR1bGVzW2ldKS5uYW1lICE9PSBuYW1lKSB7IGVtcHR5ID0gZmFsc2U7IGNvbnRpbnVlOyB9XG4gICAgYWN0aXZlID0gc2NoZWR1bGUuc3RhdGUgPiBTVEFSVElORyAmJiBzY2hlZHVsZS5zdGF0ZSA8IEVORElORztcbiAgICBzY2hlZHVsZS5zdGF0ZSA9IEVOREVEO1xuICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTtcbiAgICBzY2hlZHVsZS5vbi5jYWxsKGFjdGl2ZSA/IFwiaW50ZXJydXB0XCIgOiBcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gIH1cblxuICBpZiAoZW1wdHkpIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbn1cbiIsImltcG9ydCBpbnRlcnJ1cHQgZnJvbSBcIi4uL2ludGVycnVwdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHR3ZWVuUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSB0d2VlbjAgPSB0d2VlbjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjEgPSB0d2VlbjEuc2xpY2UoKTtcbiAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHR3ZWVuRnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkge1xuICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpO1xuICAgICAgZm9yICh2YXIgdCA9IHtuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9LCBpID0gMCwgbiA9IHR3ZWVuMS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgdHdlZW4xW2ldID0gdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IG4pIHR3ZWVuMS5wdXNoKHQpO1xuICAgIH1cblxuICAgIHNjaGVkdWxlLnR3ZWVuID0gdHdlZW4xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICBuYW1lICs9IFwiXCI7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2Vlbi5sZW5ndGgsIHQ7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgodCA9IHR3ZWVuW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0LnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHdlZW5WYWx1ZSh0cmFuc2l0aW9uLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDtcblxuICB0cmFuc2l0aW9uLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKTtcbiAgICAoc2NoZWR1bGUudmFsdWUgfHwgKHNjaGVkdWxlLnZhbHVlID0ge30pKVtuYW1lXSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIGdldChub2RlLCBpZCkudmFsdWVbbmFtZV07XG4gIH07XG59XG4iLCJpbXBvcnQge2NvbG9yfSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVOdW1iZXIsIGludGVycG9sYXRlUmdiLCBpbnRlcnBvbGF0ZVN0cmluZ30gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGM7XG4gIHJldHVybiAodHlwZW9mIGIgPT09IFwibnVtYmVyXCIgPyBpbnRlcnBvbGF0ZU51bWJlclxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYlxuICAgICAgOiAoYyA9IGNvbG9yKGIpKSA/IChiID0gYywgaW50ZXJwb2xhdGVSZ2IpXG4gICAgICA6IGludGVycG9sYXRlU3RyaW5nKShhLCBiKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAsIHZhbHVlMSA9IHZhbHVlKHRoaXMpLCBzdHJpbmcxO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLCBpID0gZnVsbG5hbWUgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdGhpcy5hdHRyVHdlZW4obmFtZSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pKGZ1bGxuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwiYXR0ci5cIiArIG5hbWUsIHZhbHVlKSlcbiAgICAgIDogdmFsdWUgPT0gbnVsbCA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpKGZ1bGxuYW1lKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkoZnVsbG5hbWUsIGksIHZhbHVlKSk7XG59XG4iLCJpbXBvcnQge25hbWVzcGFjZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGUobmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZnVuY3Rpb24gYXR0clR3ZWVuKG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIga2V5ID0gXCJhdHRyLlwiICsgbmFtZTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtnZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGRlbGF5RnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPSArdmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGRlbGF5RnVuY3Rpb25cbiAgICAgICAgICA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmRlbGF5O1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZHVyYXRpb25GdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZHVyYXRpb24gPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGR1cmF0aW9uRnVuY3Rpb25cbiAgICAgICAgICA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmR1cmF0aW9uO1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmVhc2U7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHR5cGVvZiB2ICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMuZWFjaChlYXNlVmFyeWluZyh0aGlzLl9pZCwgdmFsdWUpKTtcbn1cbiIsImltcG9ydCB7bWF0Y2hlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0cmFuc2l0aW9uKSB7XG4gIGlmICh0cmFuc2l0aW9uLl9pZCAhPT0gdGhpcy5faWQpIHRocm93IG5ldyBFcnJvcjtcblxuICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gdHJhbnNpdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24obWVyZ2VzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7XG59XG4iLCJpbXBvcnQge2dldCwgc2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBzdGFydChuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykuZXZlcnkoZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gIXQgfHwgdCA9PT0gXCJzdGFydFwiO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG9uMCwgb24xLCBzaXQgPSBzdGFydChuYW1lKSA/IGluaXQgOiBzZXQ7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzaXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKG5hbWUsIGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDJcbiAgICAgID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSlcbiAgICAgIDogdGhpcy5lYWNoKG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSk7XG59XG4iLCJmdW5jdGlvbiByZW1vdmVGdW5jdGlvbihpZCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub24oXCJlbmQucmVtb3ZlXCIsIHJlbW92ZUZ1bmN0aW9uKHRoaXMuX2lkKSk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yQWxsfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPSBjaGlsZHJlbltrXSkge1xuICAgICAgICAgICAgc2NoZWR1bGUoY2hpbGQsIG5hbWUsIGlkLCBrLCBjaGlsZHJlbiwgaW5oZXJpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKGNoaWxkcmVuKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbnZhciBTZWxlY3Rpb24gPSBzZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtzdHlsZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVOdWxsKG5hbWUsIGludGVycG9sYXRlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgc3RyaW5nMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHN0cmluZzEwID0gc3RyaW5nMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksXG4gICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgc3RyaW5nMSA9IHZhbHVlMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciBvbjAsIG9uMSwgbGlzdGVuZXIwLCBrZXkgPSBcInN0eWxlLlwiICsgbmFtZSwgZXZlbnQgPSBcImVuZC5cIiArIGtleSwgcmVtb3ZlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgb24gPSBzY2hlZHVsZS5vbixcbiAgICAgICAgbGlzdGVuZXIgPSBzY2hlZHVsZS52YWx1ZVtrZXldID09IG51bGwgPyByZW1vdmUgfHwgKHJlbW92ZSA9IHN0eWxlUmVtb3ZlKG5hbWUpKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAob24gIT09IG9uMCB8fCBsaXN0ZW5lcjAgIT09IGxpc3RlbmVyKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKGV2ZW50LCBsaXN0ZW5lcjAgPSBsaXN0ZW5lcik7XG5cbiAgICBzY2hlZHVsZS5vbiA9IG9uMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciBpID0gKG5hbWUgKz0gXCJcIikgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIHN0eWxlUmVtb3ZlKG5hbWUpKVxuICAgIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZUZ1bmN0aW9uKG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgXCJzdHlsZS5cIiArIG5hbWUsIHZhbHVlKSkpXG4gICAgICAuZWFjaChzdHlsZU1heWJlUmVtb3ZlKHRoaXMuX2lkLCBuYW1lKSlcbiAgICA6IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIG51bGwpO1xufVxuIiwiZnVuY3Rpb24gc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgaS5jYWxsKHRoaXMsIHQpLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciB0LCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdCA9IChpMCA9IGkpICYmIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIga2V5ID0gXCJzdHlsZS5cIiArIChuYW1lICs9IFwiXCIpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpO1xufVxuIiwiaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUxID0gdmFsdWUodGhpcyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gXCJcIiA6IHZhbHVlMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudHdlZW4oXCJ0ZXh0XCIsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsIFwidGV4dFwiLCB2YWx1ZSkpXG4gICAgICA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIikpO1xufVxuIiwiZnVuY3Rpb24gdGV4dEludGVycG9sYXRlKGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gaS5jYWxsKHRoaXMsIHQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiB0ZXh0SW50ZXJwb2xhdGUoaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBrZXkgPSBcInRleHRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkMCA9IHRoaXMuX2lkLFxuICAgICAgaWQxID0gbmV3SWQoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApO1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZDEsIGksIGdyb3VwLCB7XG4gICAgICAgICAgdGltZTogaW5oZXJpdC50aW1lICsgaW5oZXJpdC5kZWxheSArIGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZWFzZTogaW5oZXJpdC5lYXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkMSk7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBvbjAsIG9uMSwgdGhhdCA9IHRoaXMsIGlkID0gdGhhdC5faWQsIHNpemUgPSB0aGF0LnNpemUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjYW5jZWwgPSB7dmFsdWU6IHJlamVjdH0sXG4gICAgICAgIGVuZCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7IGlmICgtLXNpemUgPT09IDApIHJlc29sdmUoKTsgfX07XG5cbiAgICB0aGF0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgICBpZiAob24gIT09IG9uMCkge1xuICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTtcbiAgICAgICAgb24xLl8uY2FuY2VsLnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uaW50ZXJydXB0LnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTtcbiAgICAgIH1cblxuICAgICAgc2NoZWR1bGUub24gPSBvbjE7XG4gICAgfSk7XG5cbiAgICAvLyBUaGUgc2VsZWN0aW9uIHdhcyBlbXB0eSwgcmVzb2x2ZSBlbmQgaW1tZWRpYXRlbHlcbiAgICBpZiAoc2l6ZSA9PT0gMCkgcmVzb2x2ZSgpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9hdHRyIGZyb20gXCIuL2F0dHIuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2F0dHJUd2VlbiBmcm9tIFwiLi9hdHRyVHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2RlbGF5IGZyb20gXCIuL2RlbGF5LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9kdXJhdGlvbiBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZWFzZSBmcm9tIFwiLi9lYXNlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lYXNlVmFyeWluZyBmcm9tIFwiLi9lYXNlVmFyeWluZy5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fbWVyZ2UgZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX29uIGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9yZW1vdmUgZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3RBbGwgZnJvbSBcIi4vc2VsZWN0QWxsLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3Rpb24gZnJvbSBcIi4vc2VsZWN0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGVUd2VlbiBmcm9tIFwiLi9zdHlsZVR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0IGZyb20gXCIuL3RleHQuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RleHRUd2VlbiBmcm9tIFwiLi90ZXh0VHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdHdlZW4gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2VuZCBmcm9tIFwiLi9lbmQuanNcIjtcblxudmFyIGlkID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zaXRpb24oZ3JvdXBzLCBwYXJlbnRzLCBuYW1lLCBpZCkge1xuICB0aGlzLl9ncm91cHMgPSBncm91cHM7XG4gIHRoaXMuX3BhcmVudHMgPSBwYXJlbnRzO1xuICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgdGhpcy5faWQgPSBpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNpdGlvbihuYW1lKSB7XG4gIHJldHVybiBzZWxlY3Rpb24oKS50cmFuc2l0aW9uKG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3SWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG52YXIgc2VsZWN0aW9uX3Byb3RvdHlwZSA9IHNlbGVjdGlvbi5wcm90b3R5cGU7XG5cblRyYW5zaXRpb24ucHJvdG90eXBlID0gdHJhbnNpdGlvbi5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUcmFuc2l0aW9uLFxuICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHRyYW5zaXRpb25fc2VsZWN0QWxsLFxuICBzZWxlY3RDaGlsZDogc2VsZWN0aW9uX3Byb3RvdHlwZS5zZWxlY3RDaGlsZCxcbiAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogdHJhbnNpdGlvbl9maWx0ZXIsXG4gIG1lcmdlOiB0cmFuc2l0aW9uX21lcmdlLFxuICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLFxuICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uX3RyYW5zaXRpb24sXG4gIGNhbGw6IHNlbGVjdGlvbl9wcm90b3R5cGUuY2FsbCxcbiAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZSxcbiAgc2l6ZTogc2VsZWN0aW9uX3Byb3RvdHlwZS5zaXplLFxuICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX3Byb3RvdHlwZS5lYWNoLFxuICBvbjogdHJhbnNpdGlvbl9vbixcbiAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLFxuICBhdHRyVHdlZW46IHRyYW5zaXRpb25fYXR0clR3ZWVuLFxuICBzdHlsZTogdHJhbnNpdGlvbl9zdHlsZSxcbiAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLFxuICB0ZXh0OiB0cmFuc2l0aW9uX3RleHQsXG4gIHRleHRUd2VlbjogdHJhbnNpdGlvbl90ZXh0VHdlZW4sXG4gIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsXG4gIHR3ZWVuOiB0cmFuc2l0aW9uX3R3ZWVuLFxuICBkZWxheTogdHJhbnNpdGlvbl9kZWxheSxcbiAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sXG4gIGVhc2U6IHRyYW5zaXRpb25fZWFzZSxcbiAgZWFzZVZhcnlpbmc6IHRyYW5zaXRpb25fZWFzZVZhcnlpbmcsXG4gIGVuZDogdHJhbnNpdGlvbl9lbmQsXG4gIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25fcHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsImltcG9ydCB7VHJhbnNpdGlvbiwgbmV3SWR9IGZyb20gXCIuLi90cmFuc2l0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUgZnJvbSBcIi4uL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7ZWFzZUN1YmljSW5PdXR9IGZyb20gXCJkMy1lYXNlXCI7XG5pbXBvcnQge25vd30gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBkZWZhdWx0VGltaW5nID0ge1xuICB0aW1lOiBudWxsLCAvLyBTZXQgb24gdXNlLlxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzZTogZWFzZUN1YmljSW5PdXRcbn07XG5cbmZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHtcbiAgdmFyIHRpbWluZztcbiAgd2hpbGUgKCEodGltaW5nID0gbm9kZS5fX3RyYW5zaXRpb24pIHx8ICEodGltaW5nID0gdGltaW5nW2lkXSkpIHtcbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0cmFuc2l0aW9uICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGltaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBpZCxcbiAgICAgIHRpbWluZztcblxuICBpZiAobmFtZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICBpZCA9IG5hbWUuX2lkLCBuYW1lID0gbmFtZS5fbmFtZTtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IG5ld0lkKCksICh0aW1pbmcgPSBkZWZhdWx0VGltaW5nKS50aW1lID0gbm93KCksIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZCwgaSwgZ3JvdXAsIHRpbWluZyB8fCBpbmhlcml0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCBzZWxlY3Rpb25faW50ZXJydXB0IGZyb20gXCIuL2ludGVycnVwdC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl90cmFuc2l0aW9uIGZyb20gXCIuL3RyYW5zaXRpb24uanNcIjtcblxuc2VsZWN0aW9uLnByb3RvdHlwZS5pbnRlcnJ1cHQgPSBzZWxlY3Rpb25faW50ZXJydXB0O1xuc2VsZWN0aW9uLnByb3RvdHlwZS50cmFuc2l0aW9uID0gc2VsZWN0aW9uX3RyYW5zaXRpb247XG4iLCJleHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHtcbiAgdGhpcy5rID0gaztcbiAgdGhpcy54ID0geDtcbiAgdGhpcy55ID0geTtcbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRyYW5zZm9ybSxcbiAgc2NhbGU6IGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gayA9PT0gMSA/IHRoaXMgOiBuZXcgVHJhbnNmb3JtKHRoaXMuayAqIGssIHRoaXMueCwgdGhpcy55KTtcbiAgfSxcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IDAgJiB5ID09PSAwID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rLCB0aGlzLnggKyB0aGlzLmsgKiB4LCB0aGlzLnkgKyB0aGlzLmsgKiB5KTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldO1xuICB9LFxuICBhcHBseVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCAqIHRoaXMuayArIHRoaXMueDtcbiAgfSxcbiAgYXBwbHlZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkgKiB0aGlzLmsgKyB0aGlzLnk7XG4gIH0sXG4gIGludmVydDogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdO1xuICB9LFxuICBpbnZlcnRYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4IC0gdGhpcy54KSAvIHRoaXMuaztcbiAgfSxcbiAgaW52ZXJ0WTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiAoeSAtIHRoaXMueSkgLyB0aGlzLms7XG4gIH0sXG4gIHJlc2NhbGVYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7XG4gIH0sXG4gIHJlc2NhbGVZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkuY29weSgpLmRvbWFpbih5LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WSwgdGhpcykubWFwKHkuaW52ZXJ0LCB5KSk7XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiKSBzY2FsZShcIiArIHRoaXMuayArIFwiKVwiO1xuICB9XG59O1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0gbmV3IFRyYW5zZm9ybSgxLCAwLCAwKTtcblxudHJhbnNmb3JtLnByb3RvdHlwZSA9IFRyYW5zZm9ybS5wcm90b3R5cGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX3pvb20pIGlmICghKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHJldHVybiBub2RlLl9fem9vbTtcbn1cbiIsIlxuLypcbiAgSFRETWF0aCBTdGF0aWMgQ2xhc3MgLSBOb3QgaW50ZW5kZWQgZm9yIGluc3RhbnRpYXRpb24hXG5cbiAgTW9kZWwgcGFyYW1ldGVyczpcbiAgICBrID0gZGlzY291bnQgZmFjdG9yICgwLCBJbmZpbml0eSlcblxuICBCZWhhdmlvcmFsIHZhcmlhYmxlczpcbiAgICBBID0gYW1vdW50XG4gICAgRCA9IGRlbGF5XG4gICAgViA9IHN1YmplY3RpdmUgdmFsdWVcblxuICBFcXVhdGlvbnM6XG4gICAgViA9IEEgLyAoMSArIGtEKVxuICAgIGsgPSAoQSAtIFYpIC8gKFZEKVxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhURE1hdGgge1xuICBzdGF0aWMgayA9IHtcbiAgICBERUZBVUxUOiAwLjA1LFxuICAgIE1JTjogMCxcbiAgICBNQVg6IDEwMCxcbiAgICBTVEVQOiAwLjAwMSxcbiAgICBKVU1QOiAwLjAxLFxuICB9O1xuXG4gIHN0YXRpYyBhZGsydihhLCBkLCBrKSB7XG4gICAgcmV0dXJuIGEgLyAoMSArIGsgKiBkKTtcbiAgfVxuXG4gIHN0YXRpYyBhZHYyayhhLCBkLCB2KSB7XG4gICAgcmV0dXJuIChhIC0gdikgLyAodiAqIGQpO1xuICB9XG59XG4iLCJcbi8vIEludGVybmFsIGRlcGVuZGVuY2llc1xuaW1wb3J0IEhURE1hdGggZnJvbSAnLi9odGQtbWF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IEhURE1hdGg7XG4iLCIvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbXCJvZmZcIiwgXCJzZWxmXCJdICovXG5cbi8vIE5lZWRlZCBmb3IgZDMgaW4gV2ViV29ya2VyIVxuaW1wb3J0ICdyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUnO1xuXG5pbXBvcnQgKiBhcyBCYXllc0Rpc3RyaWJ1dGlvbnMgZnJvbSAnYmF5ZXMuanMvZGlzdHJpYnV0aW9ucyc7XG5pbXBvcnQgKiBhcyBCYXllc01jbWMgZnJvbSAnYmF5ZXMuanMvbWNtYyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgSFRETWF0aCBmcm9tICdAZGVjaWRhYmxlcy9kaXNjb3VudGFibGUtbWF0aCc7XG5cbnNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICBrOiB7dHlwZTogJ3JlYWwnLCBsb3dlcjogSFRETWF0aC5rLk1JTiwgdXBwZXI6IEhURE1hdGguay5NQVh9LFxuICAgIGx1Y2U6IHt0eXBlOiAncmVhbCcsIGxvd2VyOiAwLCB1cHBlcjogMTAwfSxcbiAgfTtcblxuICBjb25zdCBsb2dQb3N0ID0gKHN0YXRlLCBkYXRhKSA9PiB7XG4gICAgbGV0IGxwID0gMDtcblxuICAgIC8vIFByaW9yc1xuICAgIGNvbnN0IGtNZWFuID0gMjtcbiAgICBjb25zdCBrU2hhcGUgPSAzO1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5nYW1tYShcbiAgICAgIHN0YXRlLmssXG4gICAgICBrU2hhcGUsXG4gICAgICBrU2hhcGUgLyBrTWVhbixcbiAgICApO1xuICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmssIDAsIDEwMCk7XG5cbiAgICBjb25zdCBsdWNlTWVhbiA9IDI7XG4gICAgY29uc3QgbHVjZVNoYXBlID0gMztcbiAgICBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMuZ2FtbWEoXG4gICAgICBzdGF0ZS5sdWNlLFxuICAgICAgbHVjZVNoYXBlLFxuICAgICAgbHVjZVNoYXBlIC8gbHVjZU1lYW4sXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5sdWNlLCAwLCAxMDApO1xuXG4gICAgLy8gTGlrZWxpaG9vZFxuICAgIGRhdGEuZm9yRWFjaCgoY2hvaWNlKSA9PiB7XG4gICAgICAvLyBWYWx1ZXNcbiAgICAgIGNvbnN0IHZzID0gSFRETWF0aC5hZGsydihjaG9pY2UuYXMsIGNob2ljZS5kcywgc3RhdGUuayk7XG4gICAgICBjb25zdCB2bCA9IEhURE1hdGguYWRrMnYoY2hvaWNlLmFsLCBjaG9pY2UuZGwsIHN0YXRlLmspO1xuXG4gICAgICAvLyBDaG9pY2Ugb2Ygc29vbmVyIG9yIGxhdGVyIGlzIHNhbXBsZWQgZnJvbSBhIEJlcm5vdWxsaSBkaXN0cmlidXRpb25cbiAgICAgIC8vIEx1Y2UgY2hvaWNlIHJ1bGUgaXMgdXNlZCB0byBjb21wdXRlIHByb2JhYmlsaXR5IG9mIHdhaXRpbmchICgwID0gc29vbmVyLCAxID0gbGF0ZXIpXG4gICAgICBjb25zdCBiaW52YWwgPSAxIC8gKDEgKyBNYXRoLmV4cChzdGF0ZS5sdWNlICogKHZzIC0gdmwpKSk7XG5cbiAgICAgIC8vIEFjdHVhbCByZXNwb25zZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSAoY2hvaWNlLnJlc3BvbnNlID09PSAnZmlyc3QnKSA/IDAgOiAxO1xuXG4gICAgICBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMuYmVybihyZXNwb25zZSwgYmludmFsKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBscDtcbiAgfTtcblxuICAvLyBJbml0aWFsaXppbmcgdGhlIHNhbXBsZXJcbiAgY29uc3Qgc2FtcGxlciA9IG5ldyBCYXllc01jbWMuQW13Z1NhbXBsZXIocGFyYW1zLCBsb2dQb3N0LCBldmVudC5kYXRhKTtcbiAgLy8gQnVybmluZyBzb21lIHNhbXBsZXMgdG8gdGhlIE1DTUMgZ29kcyBhbmQgc2FtcGxpbmcgNTAwMCBkcmF3c1xuICBzYW1wbGVyLmJ1cm4oMTAwMCk7XG4gIGNvbnN0IHNhbXBsZXMgPSBzYW1wbGVyLnNhbXBsZSg1MDAwKTtcblxuICAvLyBFeHRyYWN0IHN1bW1hcnkgc3RhdHNcbiAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICBrOiBkMy5tZWRpYW4oc2FtcGxlcy5rKSxcbiAgICBsdWNlOiBkMy5tZWRpYW4oc2FtcGxlcy5sdWNlKSxcbiAgfTtcblxuICBzZWxmLnBvc3RNZXNzYWdlKHtyZXN1bHRzOiByZXN1bHRzLCBzYW1wbGVzOiBzYW1wbGVzfSk7XG59O1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImxkIiwidGhpcyIsImxnYW1tYSIsIngiLCJqIiwiY29mIiwic2VyIiwieHgiLCJ5IiwidG1wIiwibG9nIiwibGZhY3RvcmlhbCIsIm4iLCJOYU4iLCJsY2hvb3NlIiwiayIsImxiZXRhIiwiYSIsImIiLCJNYXRoIiwiZXhwIiwiYWJzIiwicG93Iiwic3FydCIsInBpIiwiUEkiLCJiZXRhIiwic2hhcGUxIiwic2hhcGUyIiwiSW5maW5pdHkiLCJjYXVjaHkiLCJsb2NhdGlvbiIsInNjYWxlIiwibm9ybSIsIm1lYW4iLCJzZCIsImJpdmFybm9ybSIsImNvcnIiLCJ6Iiwibm9ybWFsaXppbmdfZmFjdG9yIiwiYml2YXJfbG9nX2RlbnMiLCJsYXBsYWNlIiwiZGV4cCIsImdhbW1hIiwic2hhcGUiLCJyYXRlIiwiaW52Z2FtbWEiLCJsbm9ybSIsIm1lYW5sb2ciLCJzZGxvZyIsInBhcmV0byIsInQiLCJkZiIsIndlaWJ1bGwiLCJ0bXAxIiwidG1wMiIsImxvZ2lzIiwiZSIsImYiLCJkaXJpY2hsZXQiLCJhbHBoYSIsInN1bV9hbHBoYSIsInN1bV9sZ2FtbWFfYWxwaGEiLCJzdW1fYWxwaGFfc3ViXzFfbG9nX3giLCJsZW5ndGgiLCJpIiwidW5pZiIsIm1pbiIsIm1heCIsImJlcm4iLCJwcm9iIiwiY2F0IiwicHJvYnMiLCJiaW5vbSIsInNpemUiLCJuYmlub20iLCJoeXBlciIsIm0iLCJwb2lzIiwibGFtYmRhIiwibWNtYyIsInJ1bmlmIiwicmFuZG9tIiwicnVuaWZfZGlzY3JldGUiLCJmbG9vciIsInJub3JtIiwidSIsInYiLCJxIiwiZGVlcF9jbG9uZSIsInNyYyIsIm1peGluIiwiZGVzdCIsInNvdXJjZSIsImNvcHlGdW5jIiwibmFtZSIsInMiLCJlbXB0eSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIm5vZGVUeXBlIiwiY2xvbmVOb2RlIiwiRGF0ZSIsImdldFRpbWUiLCJSZWdFeHAiLCJyIiwibCIsIkFycmF5IiwicHVzaCIsImNvbnN0cnVjdG9yIiwiY2xvbmVfcGFyYW1fZHJhdyIsImlzQXJyYXkiLCJ4X2NvcHkiLCJzbGljZSIsImlzX251bWJlciIsIm9iamVjdCIsIk51bWJlciIsImNyZWF0ZV9hcnJheSIsImRpbSIsImluaXQiLCJhcnIiLCJhcnJheV9kaW0iLCJjb25jYXQiLCJhcnJheV9lcXVhbCIsImExIiwiYTIiLCJuZXN0ZWRfYXJyYXlfYXBwbHkiLCJmdW4iLCJyZXN1bHQiLCJzaHVmZmxlX2FycmF5IiwiYXJyYXkiLCJ0ZW1wIiwibmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSIsImxlbiIsImFycmF5X2lzIiwiYXJyYXlfaSIsImdldF9vcHRpb24iLCJvcHRpb25fbmFtZSIsIm9wdGlvbnMiLCJkZWZhdWxfdmFsdWUiLCJoYXNPd25Qcm9wZXJ0eSIsInVuZGVmaW5lZCIsImdldF9tdWx0aWRpbV9vcHRpb24iLCJ2YWx1ZSIsInBhcmFtX2luaXRfZml4ZWQiLCJ0eXBlIiwibG93ZXIiLCJ1cHBlciIsInJvdW5kIiwiY29tcGxldGVfcGFyYW1zIiwicGFyYW1zX3RvX2NvbXBsZXRlIiwicGFyYW1faW5pdCIsInBhcmFtcyIsInBhcmFtX25hbWUiLCJwYXJhbSIsIlN0ZXBwZXIiLCJzdGF0ZSIsImxvZ19wb3N0Iiwic3RlcCIsInN0YXJ0X2FkYXB0YXRpb24iLCJzdG9wX2FkYXB0YXRpb24iLCJpbmZvIiwiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIiLCJnZW5lcmF0ZV9wcm9wb3NhbCIsInBhcmFtX25hbWVzIiwia2V5cyIsInByb3BfbG9nX3NjYWxlIiwiYmF0Y2hfc2l6ZSIsIm1heF9hZGFwdGF0aW9uIiwiaW5pdGlhbF9hZGFwdGF0aW9uIiwidGFyZ2V0X2FjY2VwdF9yYXRlIiwiaXNfYWRhcHRpbmciLCJhY2NlcHRhbmNlX2NvdW50IiwiYmF0Y2hfY291bnQiLCJpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uIiwiY3JlYXRlIiwicGFyYW1fc3RhdGUiLCJwYXJhbV9wcm9wb3NhbCIsImN1cnJfbG9nX2RlbnMiLCJwcm9wX2xvZ19kZW5zIiwiYWNjZXB0X3Byb2IiLCJsb2dfc2RfYWRqdXN0bWVudCIsIm5vcm1hbF9wcm9wb3NhbCIsIlJlYWxNZXRyb3BvbGlzU3RlcHBlciIsImRpc2NyZXRlX25vcm1hbF9wcm9wb3NhbCIsIkludE1ldHJvcG9saXNTdGVwcGVyIiwiTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciIsIlN1YlN0ZXBwZXIiLCJjcmVhdGVfc3Vic3RlcHBlcnMiLCJzdWJzdGF0ZSIsInN1YnN0ZXBwZXJzIiwic3Vib3B0aW9ucyIsInN1YnBhcmFtIiwic3Vic3RlcHBlciIsIk11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIiwiTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciIsIkJpbmFyeVN0ZXBwZXIiLCJ6ZXJvX2xvZ19kZW5zIiwib25lX2xvZ19kZW5zIiwibWF4X2xvZ19kZW5zIiwiemVyb19wcm9iIiwiQmluYXJ5Q29tcG9uZW50U3RlcHBlciIsInN1YnBhcmFtcyIsIkFtd2dTdGVwcGVyIiwiU2VsZWN0U3RlcHBlciIsInBhcmFtX29iamVjdF93cmFwIiwicGFyYW1fb3B0aW9ucyIsIlNhbXBsZXIiLCJkYXRhIiwicGFyYW1faW5pdF9mdW4iLCJ0aGlubmluZ19pbnRlcnZhbCIsInBhcmFtc190b19tb25pdG9yIiwidGhpbiIsIm1vbml0b3IiLCJzdGVwcGVycyIsImNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlIiwic2FtcGxlIiwibl9pdGVyYXRpb25zIiwibW9uaXRvcmVkX3BhcmFtcyIsImN1cnJfc2FtcGxlIiwiYnVybiIsIkFtd2dTYW1wbGVyIiwiYXNjZW5kaW5nIiwibnVtYmVycyIsInZhbHVlcyIsInZhbHVlb2YiLCJjb21wYXJlRGVmaW5lZCIsImNvbXBhcmUiLCJhc2NlbmRpbmdEZWZpbmVkIiwiVHlwZUVycm9yIiwicXVpY2tzZWxlY3QiLCJsZWZ0IiwicmlnaHQiLCJuZXdMZWZ0IiwibmV3UmlnaHQiLCJzd2FwIiwicXVhbnRpbGUiLCJwIiwiRmxvYXQ2NEFycmF5IiwiZnJvbSIsImlzTmFOIiwiaTAiLCJ2YWx1ZTAiLCJzdWJhcnJheSIsInZhbHVlMSIsIm1lZGlhbiIsIm5vb3AiLCJkaXNwYXRjaCIsImFyZ3VtZW50cyIsIl8iLCJ0ZXN0IiwiRXJyb3IiLCJEaXNwYXRjaCIsInBhcnNlVHlwZW5hbWVzIiwidHlwZW5hbWVzIiwidHlwZXMiLCJ0cmltIiwic3BsaXQiLCJtYXAiLCJpbmRleE9mIiwib24iLCJ0eXBlbmFtZSIsImNhbGxiYWNrIiwiVCIsImdldCIsInNldCIsImNvcHkiLCJ0aGF0IiwiYXJncyIsImFwcGx5IiwiYyIsInhodG1sIiwic3ZnIiwieGxpbmsiLCJ4bWwiLCJ4bWxucyIsInByZWZpeCIsIm5hbWVzcGFjZXMiLCJzcGFjZSIsImxvY2FsIiwiY3JlYXRvckluaGVyaXQiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJ1cmkiLCJuYW1lc3BhY2VVUkkiLCJkb2N1bWVudEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRvckZpeGVkIiwiZnVsbG5hbWUiLCJuYW1lc3BhY2UiLCJub25lIiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0IiwiZ3JvdXBzIiwiX2dyb3VwcyIsInN1Ymdyb3VwcyIsImdyb3VwIiwic3ViZ3JvdXAiLCJub2RlIiwic3Vibm9kZSIsIl9fZGF0YV9fIiwiU2VsZWN0aW9uIiwiX3BhcmVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXJyYXlBbGwiLCJzZWxlY3RvckFsbCIsInBhcmVudHMiLCJtYXRjaGVzIiwiY2hpbGRNYXRjaGVyIiwiZmluZCIsImNoaWxkRmluZCIsIm1hdGNoIiwiY2hpbGRyZW4iLCJjaGlsZEZpcnN0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJmaWx0ZXIiLCJjaGlsZHJlbkZpbHRlciIsInNlbGVjdEFsbCIsIm1hdGNoZXIiLCJ1cGRhdGUiLCJfZW50ZXIiLCJzcGFyc2UiLCJFbnRlck5vZGUiLCJwYXJlbnQiLCJkYXR1bSIsIl9uZXh0IiwiX3BhcmVudCIsImFwcGVuZENoaWxkIiwiY2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJuZXh0IiwiYmluZEluZGV4IiwiZW50ZXIiLCJleGl0IiwiZ3JvdXBMZW5ndGgiLCJkYXRhTGVuZ3RoIiwiYmluZEtleSIsImtleSIsIm5vZGVCeUtleVZhbHVlIiwiTWFwIiwia2V5VmFsdWVzIiwia2V5VmFsdWUiLCJoYXMiLCJkZWxldGUiLCJiaW5kIiwiY29uc3RhbnQiLCJhcnJheWxpa2UiLCJlbnRlckdyb3VwIiwidXBkYXRlR3JvdXAiLCJleGl0R3JvdXAiLCJpMSIsInByZXZpb3VzIiwiX2V4aXQiLCJvbmVudGVyIiwib251cGRhdGUiLCJvbmV4aXQiLCJzZWxlY3Rpb24iLCJhcHBlbmQiLCJyZW1vdmUiLCJtZXJnZSIsIm9yZGVyIiwiY29udGV4dCIsImdyb3VwczAiLCJncm91cHMxIiwibTAiLCJtMSIsIm1lcmdlcyIsImdyb3VwMCIsImdyb3VwMSIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwicGFyZW50Tm9kZSIsImNvbXBhcmVOb2RlIiwic29ydGdyb3VwcyIsInNvcnRncm91cCIsInNvcnQiLCJhdHRyUmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiYXR0clJlbW92ZU5TIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJhdHRyQ29uc3RhbnQiLCJzZXRBdHRyaWJ1dGUiLCJhdHRyQ29uc3RhbnROUyIsInNldEF0dHJpYnV0ZU5TIiwiYXR0ckZ1bmN0aW9uIiwiYXR0ckZ1bmN0aW9uTlMiLCJnZXRBdHRyaWJ1dGVOUyIsImdldEF0dHJpYnV0ZSIsImVhY2giLCJkZWZhdWx0VmlldyIsInN0eWxlUmVtb3ZlIiwic3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsInN0eWxlQ29uc3RhbnQiLCJwcmlvcml0eSIsInNldFByb3BlcnR5Iiwic3R5bGVGdW5jdGlvbiIsInN0eWxlVmFsdWUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInByb3BlcnR5UmVtb3ZlIiwicHJvcGVydHlDb25zdGFudCIsInByb3BlcnR5RnVuY3Rpb24iLCJjbGFzc0FycmF5Iiwic3RyaW5nIiwiY2xhc3NMaXN0IiwiQ2xhc3NMaXN0IiwiX25vZGUiLCJfbmFtZXMiLCJhZGQiLCJqb2luIiwic3BsaWNlIiwiY29udGFpbnMiLCJjbGFzc2VkQWRkIiwibmFtZXMiLCJsaXN0IiwiY2xhc3NlZFJlbW92ZSIsImNsYXNzZWRUcnVlIiwiY2xhc3NlZEZhbHNlIiwiY2xhc3NlZEZ1bmN0aW9uIiwidGV4dFJlbW92ZSIsInRleHRDb250ZW50IiwidGV4dENvbnN0YW50IiwidGV4dEZ1bmN0aW9uIiwiaHRtbFJlbW92ZSIsImlubmVySFRNTCIsImh0bWxDb25zdGFudCIsImh0bWxGdW5jdGlvbiIsInJhaXNlIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJmaXJzdENoaWxkIiwiY3JlYXRvciIsImNvbnN0YW50TnVsbCIsImJlZm9yZSIsInJlbW92ZUNoaWxkIiwic2VsZWN0aW9uX2Nsb25lU2hhbGxvdyIsImNsb25lIiwic2VsZWN0aW9uX2Nsb25lRGVlcCIsImRlZXAiLCJwcm9wZXJ0eSIsImNvbnRleHRMaXN0ZW5lciIsImxpc3RlbmVyIiwiZXZlbnQiLCJvblJlbW92ZSIsIl9fb24iLCJvIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uQWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJ3aW5kb3ciLCJDdXN0b21FdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJkZXRhaWwiLCJkaXNwYXRjaENvbnN0YW50IiwiZGlzcGF0Y2hGdW5jdGlvbiIsInNlbGVjdGlvbl9zZWxlY3Rpb24iLCJzZWxlY3Rpb25fc2VsZWN0Iiwic2VsZWN0aW9uX3NlbGVjdEFsbCIsInNlbGVjdENoaWxkIiwic2VsZWN0aW9uX3NlbGVjdENoaWxkIiwic2VsZWN0Q2hpbGRyZW4iLCJzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4iLCJzZWxlY3Rpb25fZmlsdGVyIiwic2VsZWN0aW9uX2RhdGEiLCJzZWxlY3Rpb25fZW50ZXIiLCJzZWxlY3Rpb25fZXhpdCIsInNlbGVjdGlvbl9qb2luIiwic2VsZWN0aW9uX21lcmdlIiwic2VsZWN0aW9uX29yZGVyIiwic2VsZWN0aW9uX3NvcnQiLCJzZWxlY3Rpb25fY2FsbCIsIm5vZGVzIiwic2VsZWN0aW9uX25vZGVzIiwic2VsZWN0aW9uX25vZGUiLCJzZWxlY3Rpb25fc2l6ZSIsInNlbGVjdGlvbl9lbXB0eSIsInNlbGVjdGlvbl9lYWNoIiwiYXR0ciIsInNlbGVjdGlvbl9hdHRyIiwic2VsZWN0aW9uX3N0eWxlIiwic2VsZWN0aW9uX3Byb3BlcnR5IiwiY2xhc3NlZCIsInNlbGVjdGlvbl9jbGFzc2VkIiwidGV4dCIsInNlbGVjdGlvbl90ZXh0IiwiaHRtbCIsInNlbGVjdGlvbl9odG1sIiwic2VsZWN0aW9uX3JhaXNlIiwic2VsZWN0aW9uX2xvd2VyIiwic2VsZWN0aW9uX2FwcGVuZCIsImluc2VydCIsInNlbGVjdGlvbl9pbnNlcnQiLCJzZWxlY3Rpb25fcmVtb3ZlIiwic2VsZWN0aW9uX2Nsb25lIiwic2VsZWN0aW9uX2RhdHVtIiwic2VsZWN0aW9uX29uIiwic2VsZWN0aW9uX2Rpc3BhdGNoIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJzZWxlY3Rpb25faXRlcmF0b3IiLCJleHRlbmQiLCJkZWZpbml0aW9uIiwiQ29sb3IiLCJkYXJrZXIiLCJicmlnaHRlciIsInJlSSIsInJlTiIsInJlUCIsInJlSGV4IiwicmVSZ2JJbnRlZ2VyIiwicmVSZ2JQZXJjZW50IiwicmVSZ2JhSW50ZWdlciIsInJlUmdiYVBlcmNlbnQiLCJyZUhzbFBlcmNlbnQiLCJyZUhzbGFQZXJjZW50IiwibmFtZWQiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJsdWV2aW9sZXQiLCJicm93biIsImJ1cmx5d29vZCIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JlZW4iLCJkYXJrZ3JleSIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyYXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiZ3JleSIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYWdlbnRhIiwibWFyb29uIiwibWVkaXVtYXF1YW1hcmluZSIsIm1lZGl1bWJsdWUiLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXR1cnF1b2lzZSIsInBhbGV2aW9sZXRyZWQiLCJwYXBheWF3aGlwIiwicGVhY2hwdWZmIiwicGVydSIsInBpbmsiLCJwbHVtIiwicG93ZGVyYmx1ZSIsInB1cnBsZSIsInJlYmVjY2FwdXJwbGUiLCJyZWQiLCJyb3N5YnJvd24iLCJyb3lhbGJsdWUiLCJzYWRkbGVicm93biIsInNhbG1vbiIsInNhbmR5YnJvd24iLCJzZWFncmVlbiIsInNlYXNoZWxsIiwic2llbm5hIiwic2lsdmVyIiwic2t5Ymx1ZSIsInNsYXRlYmx1ZSIsInNsYXRlZ3JheSIsInNsYXRlZ3JleSIsInNub3ciLCJzcHJpbmdncmVlbiIsInN0ZWVsYmx1ZSIsInRhbiIsInRlYWwiLCJ0aGlzdGxlIiwidG9tYXRvIiwidHVycXVvaXNlIiwidmlvbGV0Iiwid2hlYXQiLCJ3aGl0ZSIsIndoaXRlc21va2UiLCJ5ZWxsb3ciLCJ5ZWxsb3dncmVlbiIsImRlZmluZSIsImNvbG9yIiwiY2hhbm5lbHMiLCJhc3NpZ24iLCJkaXNwbGF5YWJsZSIsInJnYiIsImhleCIsImNvbG9yX2Zvcm1hdEhleCIsImZvcm1hdEhleCIsImZvcm1hdEhleDgiLCJjb2xvcl9mb3JtYXRIZXg4IiwiZm9ybWF0SHNsIiwiY29sb3JfZm9ybWF0SHNsIiwiZm9ybWF0UmdiIiwiY29sb3JfZm9ybWF0UmdiIiwiaHNsQ29udmVydCIsImZvcm1hdCIsInRvTG93ZXJDYXNlIiwiZXhlYyIsInBhcnNlSW50IiwicmdibiIsIlJnYiIsInJnYmEiLCJoc2xhIiwiZyIsInJnYkNvbnZlcnQiLCJvcGFjaXR5IiwiY2xhbXAiLCJjbGFtcGkiLCJjbGFtcGEiLCJyZ2JfZm9ybWF0SGV4IiwicmdiX2Zvcm1hdEhleDgiLCJyZ2JfZm9ybWF0UmdiIiwiaCIsIkhzbCIsImhzbCIsIm0yIiwiaHNsMnJnYiIsImNsYW1waCIsImNsYW1wdCIsImxpbmVhciIsImQiLCJleHBvbmVudGlhbCIsIm5vZ2FtbWEiLCJyZ2JHYW1tYSIsInN0YXJ0IiwiZW5kIiwiY29sb3JSZ2IiLCJyZUEiLCJyZUIiLCJ6ZXJvIiwib25lIiwiYmkiLCJsYXN0SW5kZXgiLCJhbSIsImJtIiwiYnMiLCJpbmRleCIsIm51bWJlciIsImRlZ3JlZXMiLCJpZGVudGl0eSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicm90YXRlIiwic2tld1giLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImF0YW4iLCJzdmdOb2RlIiwicGFyc2VDc3MiLCJET01NYXRyaXgiLCJXZWJLaXRDU1NNYXRyaXgiLCJpc0lkZW50aXR5IiwiZGVjb21wb3NlIiwicGFyc2VTdmciLCJ0cmFuc2Zvcm0iLCJiYXNlVmFsIiwiY29uc29saWRhdGUiLCJtYXRyaXgiLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybSIsInBhcnNlIiwicHhDb21tYSIsInB4UGFyZW4iLCJkZWdQYXJlbiIsInBvcCIsInRyYW5zbGF0ZSIsInhhIiwieWEiLCJ4YiIsInliIiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MiLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybVN2ZyIsImZyYW1lIiwidGltZW91dCIsImludGVydmFsIiwicG9rZURlbGF5IiwidGFza0hlYWQiLCJ0YXNrVGFpbCIsImNsb2NrTGFzdCIsImNsb2NrTm93IiwiY2xvY2tTa2V3IiwiY2xvY2siLCJwZXJmb3JtYW5jZSIsIm5vdyIsInNldEZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImNsZWFyTm93IiwiVGltZXIiLCJfY2FsbCIsIl90aW1lIiwidGltZXIiLCJyZXN0YXJ0IiwiZGVsYXkiLCJ0aW1lIiwic2xlZXAiLCJzdG9wIiwidGltZXJGbHVzaCIsIndha2UiLCJuYXAiLCJwb2tlIiwidDAiLCJ0MSIsInQyIiwiY2xlYXJUaW1lb3V0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsImVtcHR5T24iLCJlbXB0eVR3ZWVuIiwiQ1JFQVRFRCIsIlNDSEVEVUxFRCIsIlNUQVJUSU5HIiwiU1RBUlRFRCIsIlJVTk5JTkciLCJFTkRJTkciLCJFTkRFRCIsImlkIiwidGltaW5nIiwic2NoZWR1bGVzIiwiX190cmFuc2l0aW9uIiwidHdlZW4iLCJkdXJhdGlvbiIsImVhc2UiLCJzY2hlZHVsZSIsInNlbGYiLCJ0aWNrIiwiYWN0aXZlIiwiaW50ZXJydXB0IiwidHdlZW5SZW1vdmUiLCJ0d2VlbjAiLCJ0d2VlbjEiLCJ0d2VlbkZ1bmN0aW9uIiwiX2lkIiwidHdlZW5WYWx1ZSIsInRyYW5zaXRpb24iLCJpbnRlcnBvbGF0ZU51bWJlciIsImludGVycG9sYXRlUmdiIiwiaW50ZXJwb2xhdGVTdHJpbmciLCJpbnRlcnBvbGF0ZSIsInN0cmluZzAwIiwic3RyaW5nMSIsImludGVycG9sYXRlMCIsInN0cmluZzAiLCJzdHJpbmcxMCIsImF0dHJUd2VlbiIsImF0dHJJbnRlcnBvbGF0ZSIsImF0dHJJbnRlcnBvbGF0ZU5TIiwiYXR0clR3ZWVuTlMiLCJfdmFsdWUiLCJkZWxheUZ1bmN0aW9uIiwiZGVsYXlDb25zdGFudCIsImR1cmF0aW9uRnVuY3Rpb24iLCJkdXJhdGlvbkNvbnN0YW50IiwiZWFzZUNvbnN0YW50IiwiZWFzZVZhcnlpbmciLCJUcmFuc2l0aW9uIiwiX25hbWUiLCJldmVyeSIsIm9uRnVuY3Rpb24iLCJvbjAiLCJvbjEiLCJzaXQiLCJyZW1vdmVGdW5jdGlvbiIsImluaGVyaXQiLCJzdHlsZU51bGwiLCJzdHlsZU1heWJlUmVtb3ZlIiwibGlzdGVuZXIwIiwic3R5bGVUd2VlbiIsInN0eWxlSW50ZXJwb2xhdGUiLCJ0ZXh0SW50ZXJwb2xhdGUiLCJ0ZXh0VHdlZW4iLCJpZDAiLCJpZDEiLCJuZXdJZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2FuY2VsIiwic2VsZWN0aW9uX3Byb3RvdHlwZSIsInRyYW5zaXRpb25fc2VsZWN0IiwidHJhbnNpdGlvbl9zZWxlY3RBbGwiLCJ0cmFuc2l0aW9uX2ZpbHRlciIsInRyYW5zaXRpb25fbWVyZ2UiLCJ0cmFuc2l0aW9uX3NlbGVjdGlvbiIsInRyYW5zaXRpb25fdHJhbnNpdGlvbiIsInRyYW5zaXRpb25fb24iLCJ0cmFuc2l0aW9uX2F0dHIiLCJ0cmFuc2l0aW9uX2F0dHJUd2VlbiIsInRyYW5zaXRpb25fc3R5bGUiLCJ0cmFuc2l0aW9uX3N0eWxlVHdlZW4iLCJ0cmFuc2l0aW9uX3RleHQiLCJ0cmFuc2l0aW9uX3RleHRUd2VlbiIsInRyYW5zaXRpb25fcmVtb3ZlIiwidHJhbnNpdGlvbl90d2VlbiIsInRyYW5zaXRpb25fZGVsYXkiLCJ0cmFuc2l0aW9uX2R1cmF0aW9uIiwidHJhbnNpdGlvbl9lYXNlIiwidHJhbnNpdGlvbl9lYXNlVmFyeWluZyIsInRyYW5zaXRpb25fZW5kIiwiY3ViaWNJbk91dCIsImRlZmF1bHRUaW1pbmciLCJlYXNlQ3ViaWNJbk91dCIsInNlbGVjdGlvbl9pbnRlcnJ1cHQiLCJzZWxlY3Rpb25fdHJhbnNpdGlvbiIsIlRyYW5zZm9ybSIsInBvaW50IiwiYXBwbHlYIiwiYXBwbHlZIiwiaW52ZXJ0IiwiaW52ZXJ0WCIsImludmVydFkiLCJyZXNjYWxlWCIsImRvbWFpbiIsInJhbmdlIiwicmVzY2FsZVkiLCJIVERNYXRoIiwiREVGQVVMVCIsIk1JTiIsIk1BWCIsIlNURVAiLCJKVU1QIiwiYWRrMnYiLCJhZHYyayIsIm9ubWVzc2FnZSIsImx1Y2UiLCJsb2dQb3N0IiwibHAiLCJrTWVhbiIsImtTaGFwZSIsIkJheWVzRGlzdHJpYnV0aW9ucyIsImx1Y2VNZWFuIiwibHVjZVNoYXBlIiwiZm9yRWFjaCIsImNob2ljZSIsInZzIiwiYXMiLCJkcyIsInZsIiwiYWwiLCJkbCIsImJpbnZhbCIsInJlc3BvbnNlIiwic2FtcGxlciIsIkJheWVzTWNtYyIsInNhbXBsZXMiLCJyZXN1bHRzIiwiZDMiLCJwb3N0TWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7RUFHQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7RUFFQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7RUFPQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7SUFDQyxDQUFBLFVBQVVBLElBQUksRUFBRUMsT0FBTyxFQUFFO01BSWYsSUFBa0NDLE1BQU0sQ0FBQ0MsT0FBTyxFQUFFO0VBQzdEO0VBQ0E7RUFDQTtFQUNRRCxNQUFBQSxNQUFBLENBQUFDLE9BQUEsR0FBaUJGLE9BQU8sRUFBRTtFQUNsQyxJQUFBLENBQUssTUFBTTtFQUNYO0VBQ1FELE1BQUFBLElBQUksQ0FBQ0ksRUFBRSxHQUFHSCxPQUFPLEVBQUU7RUFDM0IsSUFBQTtJQUNBLENBQUMsRUFBQ0ksYUFBSSxFQUFFLFlBQVc7RUFDbkI7TUFDRSxJQUFJRCxFQUFFLEdBQUksRUFBRTs7RUFFZDtFQUNBOztFQUVFLElBQUEsSUFBSUUsTUFBTSxHQUFHLFVBQVNDLENBQUMsRUFBRTtRQUN2QixJQUFJQyxDQUFDLEdBQUcsQ0FBQztFQUNULE1BQUEsSUFBSUMsR0FBRyxHQUFHLENBQ1IsaUJBQWlCLEVBQUUsa0JBQWtCLEVBQUUsaUJBQWlCLEVBQ3hELGtCQUFrQixFQUFFLHFCQUFxQixFQUFFLGtCQUFtQixDQUMvRDtRQUNELElBQUlDLEdBQUcsR0FBRyxpQkFBaUI7RUFDM0IsTUFBQSxJQUFJQyxFQUFFLEVBQUVDLENBQUMsRUFBRUMsR0FBRztRQUNkQSxHQUFHLEdBQUcsQ0FBQ0QsQ0FBQyxHQUFHRCxFQUFFLEdBQUdKLENBQUMsSUFBSSxHQUFHO1FBQ3hCTSxHQUFHLElBQUksQ0FBQ0YsRUFBRSxHQUFHLEdBQUcsSUFBSUcsR0FBRyxDQUFDRCxH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QUVELE1BQU0sQ0FBQztFQUNqRCxJQUFBLENBQUMsQ0FBQztFQUVGLElBQUEsT0FBT2QsRUFBRTtJQUNYLENBQUM7O0VBRUQ7RUFDQSxFQUFBLE1BQU1nQixPQUFPLEdBQUcsSUFBSUMsdUJBQXFCLENBQUMvd0IsTUFBTSxFQUFFNnZCLE9BQU8sRUFBRXpkLEtBQUssQ0FBQzVPLElBQUksQ0FBQztFQUN0RTtFQUNBc3RCLEVBQUFBLE9BQU8sQ0FBQzFzQixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2xCLEVBQUEsTUFBTTRzQixPQUFPLEdBQUdGLE9BQU8sQ0FBQzlzQixNQUFNLENBQUMsSUFBSSxDQUFDOztFQUVwQztFQUNBLEVBQUEsTUFBTWl0QixPQUFPLEdBQUc7TUFDZDU1QixDQUFDLEVBQUU2NUIsTUFBUyxDQUFDRixPQUFPLENBQUMzNUIsQ0FBQyxDQUFDO0VBQ3ZCdTRCLElBQUFBLElBQUksRUFBRXNCLE1BQVMsQ0FBQ0YsT0FBTyxDQUFDcEIsSUFBSTtLQUM3QjtJQUVEcEcsSUFBSSxDQUFDMkgsV0FBVyxDQUFDO0VBQUNGLElBQUFBLE9BQU8sRUFBRUEsT0FBTztFQUFFRCxJQUFBQSxPQUFPLEVBQUVBO0VBQU8sR0FBQyxDQUFDO0VBQ3hELENBQUM7Ozs7OzsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Nl19");class HTDFit extends DiscountableElement{static get properties(){return{}}constructor(){super(),this.k=HTDMath.k.DEFAULT,this.choices=[],this.samples=null,this.working=!1,this.queued=!1,this.worker=new WorkerFactory,this.worker.onmessage=t=>{this.working=!1,this.samples=t.data.samples,this.k=t.data.results.k,this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-fit-update",{detail:{k:this.k},bubbles:!0})),this.queued&&this.fit()},this.fit()}fit(){this.working?this.queued=!0:(this.worker.postMessage(this.choices),this.working=!0,this.queued=!1)}clear(){this.choices=[],this.fit()}get(t="default"){const e=this.choices.find(e=>e.name===t);return void 0===e?null:e}set(t,e,i,s,n,B="",l=""){const a=this.choices.find(t=>t.name===B);void 0===a?this.choices.push({as:t,ds:e,al:i,dl:s,response:n,name:B,label:l}):(a.as=t,a.ds=e,a.al=i,a.dl=s,a.response=n,a.label=l),this.fit()}static get styles(){return[super.styles,i$5`
        /* :host {
          display: inline-block;
        } */

        figure {
          margin: 0.625rem;
        }

        figure h2 {
          margin: 0.25rem 0;

          font-size: 1.125rem;
          font-weight: 600;
        }

        .trace,
        .hist {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div>
        <div>After ${this.choices.length} trials:</div>
        <div>Current:
          <var class="math-var k">k</var> = ${this.k.toFixed(3)}
        </div>
        <div class="param">
          <div class="trace k"></div>
          <div class="hist k"></div>
        </div>
        <div class="param">
          <div class="trace luce"></div>
          <div class="hist luce"></div>
        </div>
      </div>
    `}plotParam(t){this.shadowRoot.querySelector(`.hist.${t}`).replaceChildren(plot({title:`Posterior of ${t}`,x:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[rectY(this.samples[t],binX({y:"count"},{x:identity$1})),rectY(this.samples[t],pointerX(binX({y:"count"},{x:identity$1,stroke:"black",fill:"white",tip:!0})))]})),this.shadowRoot.querySelector(`.trace.${t}`).replaceChildren(plot({title:`Traceplot of ${t}`,x:{label:"Sample"},y:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[lineY(this.samples[t]),dot(this.samples[t],pointer({x:indexOf,y:identity$1,stroke:"black",fill:"white",r:4,tip:!0}))]}))}update(t){super.update(t),null!==this.samples&&(this.plotParam("k"),this.plotParam("luce"))}}customElements.define("htd-fit",HTDFit);class HTDParameters extends DiscountableElement{static get properties(){return{k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.k=void 0}updated(t){super.updated(t),void 0!==this.k&&void 0===this.kSlider?(this.kSlider=this.shadowRoot.querySelector("decidables-slider.k"),this.kSlider.nonlinearRange(!0,t=>t**.5/(t**.5+1),t=>(t/(1-t))**2)):void 0===this.k&&void 0!==this.kSlider&&(this.kSlider=void 0)}setK(t){this.k=+t.target.value,this.dispatchEvent(new CustomEvent("htd-parameters-k",{detail:{k:this.k},bubbles:!0}))}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        decidables-slider {
          line-height: 1;
          text-align: center;
        }

        decidables-slider  div {
          margin-bottom: 0.25rem;
        }

        .k {
          --decidables-slider-background-color: var(---color-k-light);
          --decidables-slider-color: var(---color-k);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.k?x$2`<decidables-slider class="k"
            ?disabled=${!this.interactive}
            scale
            min=${HTDMath.k.MIN}
            max=${HTDMath.k.MAX}
            step=${HTDMath.k.STEP}
            .value=${+this.k.toFixed(3)}
            @change=${this.setK.bind(this)}
            @input=${this.setK.bind(this)}
          ><div>Discounting Factor<br><span class="math-var">k</span></div></decidables-slider>`:x$2``}
      </div>`}}customElements.define("htd-parameters",HTDParameters);class ITCOption extends DiscountableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.a=0,this.d=0}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
          
          width: 10rem;
          height: 10rem;
        }

        .holder {
          display: flex;
          
          flex-flow: column nowrap;

          align-items: center;
          justify-content: center;

          width: 100%;
          height: 100%;
          overflow: visible;
          

          background: var(---color-element-background);
          border: 2px solid var(---color-element-emphasis);
          border-radius: var(---border-radius);
        }

        .interactive,
        .static {
          font-size: 1.75rem;
        }

        .interactive {
          --decidables-spinner-font-size: 1.75rem;
        }

        .static {
          padding: 0 0.25rem;
          
          border-radius: var(---border-radius);
        }

        .amount {
          --decidables-spinner-prefix: "$";
          background-color: var(---color-a-light);
        }

        .amount.interactive {
          --decidables-spinner-input-width: 4rem;
        }

        .delay {
          background-color: var(---color-d-light);
        }
        
        .delay.interactive {
          --decidables-spinner-input-width: 6.75rem;
          --decidables-spinner-postfix: "days";
          --decidables-spinner-postfix-padding: 3.75rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("itc-option-change",{detail:{a:this.a,d:this.d},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.sendEvent()}dInput(t){this.d=parseFloat(t.target.value),this.sendEvent()}render(){return x$2`
      <div class="holder">
        ${"choice"===this.state?this.interactive?x$2`<decidables-spinner
              class="amount interactive"
              ?disabled=${!this.interactive}
              step="1"
              .value="${this.a}"
              @input=${this.aInput.bind(this)}
              ></decidables-spinner>`:x$2`<div
              class="amount static"
              >$${this.a}</div>`:""}
        ${"choice"===this.state?x$2`<div class="in">in</div>`:""}
        ${"choice"===this.state?this.interactive?x$2`<decidables-spinner
              class="delay interactive"
              ?disabled=${!this.interactive}
              min="0" 
              step="1"
              .value="${this.d}"
              @input=${this.dInput.bind(this)}
              ></decidables-spinner>`:x$2`<div
              class="delay static"
              >${this.d} days</div>`:""}
      </div>
    `}}customElements.define("itc-option",ITCOption);class ITCChoice extends DiscountableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.as=10,this.ds=5,this.al=40,this.dl=30}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }

        .holder {
          user-select: none;
        }

        .holder > * {
          vertical-align: middle;
        }

        .query {
          margin: 0 0.5rem;

          font-family: var(--font-family-code);
          font-size: 1.75rem;
        }

        itc-option {
          width: 10rem;
          height: 10rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("itc-choice-change",{detail:{as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0}))}ssChange(t){this.as=parseFloat(t.detail.a),this.ds=parseFloat(t.detail.d),this.sendEvent()}llChange(t){this.al=parseFloat(t.detail.a),this.dl=parseFloat(t.detail.d),this.sendEvent()}render(){return x$2`
      <div class="holder">
        <itc-option
          class="ss"
          state=${this.state}
          ?interactive=${this.interactive}
          amount="${this.as}"
          delay="${this.ds}"
          @itc-option-change=${this.ssChange.bind(this)}>
        </itc-option><span class="query"
         >${"choice"===this.state?"?":"fixation"===this.state?"+":x$2`â`}</span
        ><itc-option
          class="ll"
          state=${this.state}
          ?interactive=${this.interactive}
          amount="${this.al}"
          delay="${this.dl}"
          @itc-option-change=${this.llChange.bind(this)}>
        </itc-option>
      </div>`}}customElements.define("itc-choice",ITCChoice);class ITCTask extends DiscountableElement{static get properties(){return{duration:{attribute:"duration",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}constructor(){super(),this.duration=2e3,this.iti=2e3,this.trials=5,this.running=!1,this.states=["resetted","iti","stimulus","ended"],this.state="resetted",this.range={},this.range.as={start:5,stop:20,step:5},this.range.ds={start:5,stop:20,step:5},this.range.al={start:40,stop:80,step:5},this.range.dl={start:40,stop:80,step:5},this.range.as.values=range$1(this.range.as.start,this.range.as.stop+.01,this.range.as.step),this.range.ds.values=range$1(this.range.ds.start,this.range.ds.stop+.01,this.range.ds.step),this.range.al.values=range$1(this.range.al.start,this.range.al.stop+.01,this.range.al.step),this.range.dl.values=range$1(this.range.dl.start,this.range.dl.stop+.01,this.range.dl.step),this.firstUpdate=!0,this.as=0,this.ds=0,this.al=0,this.dl=0,this.trial=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.runner=void 0}static get styles(){return[super.styles,i$5`
        :host {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div class="holder">
        <itc-choice 
          state="${"stimulus"===this.state?"choice":"iti"===this.state?"fixation":"blank"}"
          amount-ss="${this.as}"
          delay-ss="${this.ds}"
          amount-ll="${this.al}"
          delay-ll="${this.dl}">
        </itc-choice>
      </div>`}update(t){super.update(t),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=now()-this.pauseTime,this.pauseTime=0),this.runner=interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=now())),this.firstUpdate=!1}reset(){this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.as=0,this.ds=0,this.al=0,this.dl=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0}run(){const t=now(),e=this.baseTime?t-this.baseTime:0,i=this.baseTime?e-this.startTime:0;this.lastTime=e,"resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("itc-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&i>=this.iti?(this.trial+=1,this.state="stimulus",this.startTime=e,this.as=this.range.as.values[Math.floor(Math.random()*this.range.as.values.length)],this.ds=this.range.ds.values[Math.floor(Math.random()*this.range.ds.values.length)],this.al=this.range.al.values[Math.floor(Math.random()*this.range.al.values.length)],this.dl=this.range.dl.values[Math.floor(Math.random()*this.range.dl.values.length)],this.dispatchEvent(new CustomEvent("itc-trial-start",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0}))):"stimulus"===this.state&&i>=this.duration&&(this.dispatchEvent(new CustomEvent("itc-trial-end",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.dispatchEvent(new CustomEvent("itc-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e))}}customElements.define("itc-task",ITCTask);class HTDEquationADK2V extends HTDEquation{static get properties(){return{a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.a=100,this.d=30,this.k=HTDMath.k.DEFAULT,this.alignState()}alignState(){this.v=HTDMath.adk2v(this.a,this.d,this.k)}sendEvent(){this.dispatchEvent(new CustomEvent("htd-equation-adk2v-change",{detail:{a:this.a,d:this.d,k:this.k,v:this.v},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dInput(t){this.d=parseFloat(t.target.value),this.alignState(),this.sendEvent()}kInput(t){this.k=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,s;this.numeric?(t=x$2`<decidables-spinner class="a bottom"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.a}
          @input=${this.aInput.bind(this)}
        >
          <var class="math-var">A</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="d bottom"
          ?disabled=${!this.interactive}
          min="0"
          step="1"
          .value=${this.d}
          @input=${this.dInput.bind(this)}
        >
          <var class="math-var">D</var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="k bottom"
          ?disabled=${!this.interactive}
          min=${HTDMath.k.MIN}
          max=${HTDMath.k.MAX}
          step=${HTDMath.k.STEP}
          .value=${this.k}
          @input=${this.kInput.bind(this)}
        >
          <var class="math-var">k</var>
        </decidables-spinner>`,s=x$2`<decidables-spinner class="v bottom"
          disabled
          step=".001"
          .value=${+this.v.toFixed(3)}
        >
          <var class="math-var">V</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var a">A</var>`,e=x$2`<var class="math-var d">D</var>`,i=x$2`<var class="math-var k">k</var>`,s=x$2`<var class="math-var v">V</var>`);const n=x$2`
      <tr>
        <td rowspan="2">
          ${s}<span class="equals">=</span>
        </td>
        <td class="underline">
          ${t}
        </td>
      </tr>
      <tr>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${i}${e}<span class="paren tight">)</span>
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("htd-equation-adk2v",HTDEquationADK2V);class HTDExample extends DiscountableElement{static get styles(){return[super.styles,i$5`
        :host {
          ---border: var(--border, 1px solid var(---color-border));
          display: inline-block;

          margin-bottom: 1rem;
        }

        .holder {
          display: flex;
        }

        .body {
          display: flex;

          flex-wrap: wrap;

          align-items: center;
          justify-content: left;

          padding: 0.625rem;

          border: var(---border);
          border-radius: 0.25rem;
        }

        .body ::slotted(*) {
          margin: 0.625rem;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > rdk-task + sdt-response,
        ::slotted(rdk-task) + ::slotted(sdt-response) { */
        /* .body ::slotted(sdt-response) {
          margin-left: 0;
        } */

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > sdt-control + rdk-task,
        ::slotted(sdt-control) + ::slotted(rdk-task) {
          margin-left: 0;
        } */
        /* .body ::slotted(rdk-task) {
          margin-left: 0;
        } */
      `]}render(){return x$2`
      <div class="holder">
        <div class="body">
          <slot>Empty!</slot>
        </div>
      </div>`}}customElements.define("htd-example",HTDExample);class HTDExampleHuman extends HTDExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},k:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trials=10,this.duration=2e3,this.k=HTDMath.k.DEFAULT,this.discountableControl=null,this.itcTask=null,this.discountableResponse=null,this.htdFit=null,this.htdParameters=null,this.htdCurves=null}connectedCallback(){super.connectedCallback(),this.discountableControl=this.querySelector("discountable-control"),this.itcTask=this.querySelector("itc-task"),this.discountableResponse=this.querySelector("discountable-response"),this.htdFit=this.querySelector("htd-fit"),this.htdParameters=this.querySelector("htd-parameters"),this.htdCurves=this.querySelector("htd-curves"),this.discountableControl&&(this.discountableControl.addEventListener("discountable-control-trials",t=>{this.trials=t.detail.trials}),this.discountableControl.addEventListener("discountable-control-duration",t=>{this.duration=t.detail.duration}),this.discountableControl.addEventListener("discountable-control-run",()=>{this.itcTask&&(this.itcTask.running=!0)}),this.discountableControl.addEventListener("discountable-control-pause",()=>{this.itcTask&&(this.itcTask.running=!1)}),this.discountableControl.addEventListener("discountable-control-reset",()=>{this.itcTask&&this.itcTask.reset(),this.discountableResponse&&this.discountableResponse.reset(),this.htdFit&&this.htdFit.clear(),this.htdCurves&&this.htdCurves.clearOptions()})),this.itcTask&&(this.itcTask.addEventListener("itc-trial-start",t=>{this.discountableResponse&&this.discountableResponse.start(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial),this.htdCurves&&(this.htdCurves.setOption(t.detail.as,t.detail.ds,"smaller-sooner","s"),this.htdCurves.setOption(t.detail.al,t.detail.dl,"larger-later","l"))}),this.itcTask.addEventListener("itc-trial-end",()=>{this.discountableResponse&&this.discountableResponse.stop(),this.htdCurves&&(this.htdCurves.removeOption("smaller-sooner"),this.htdCurves.removeOption("larger-later"))}),this.itcTask.addEventListener("itc-block-end",()=>{this.discountableControl&&this.discountableControl.complete()})),this.discountableResponse&&this.discountableResponse.addEventListener("discountable-response",t=>{this.htdFit&&this.htdFit.set(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())}),this.htdFit&&this.htdFit.addEventListener("htd-fit-update",t=>{this.k=t.detail.k})}update(t){super.update(t),this.discountableControl&&(this.discountableControl.trials=null!=this.discountableControl.trials?this.trials:void 0,this.discountableControl.duration=null!=this.discountableControl.duration?this.duration:void 0),this.discountableResponse&&(this.discountableResponse.trialTotal=this.trials),this.itcTask&&(this.itcTask.duration=this.duration,this.itcTask.iti=this.duration,this.itcTask.trials=this.trials),this.htdCurves&&(this.htdCurves.k=this.k),this.htdParameters&&(this.htdParameters.k=null!=this.htdParameters.k?this.k:void 0)}}customElements.define("htd-example-human",HTDExampleHuman);class HTDExampleInteractive extends HTDExample{static get properties(){return{as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.as=10,this.ds=1,this.al=50,this.dl=40,this.k=HTDMath.k.DEFAULT,this.htdCalculation=null,this.htdCurves=null,this.htdParameters=null,this.itcChoice=null}connectedCallback(){super.connectedCallback(),this.htdCalculation=this.querySelector("htd-calculation"),this.htdCurves=this.querySelector("htd-curves"),this.htdParameters=this.querySelector("htd-parameters"),this.itcChoice=this.querySelector("itc-choice"),this.htdCalculation&&this.htdCalculation.addEventListener("htd-calculation-change",t=>{this.as=t.detail.as,this.ds=t.detail.ds,this.al=t.detail.al,this.dl=t.detail.dl,this.k=t.detail.k}),this.htdCurves&&this.htdCurves.addEventListener("htd-curves-change",t=>{this.k=t.detail.k,"default"===t.detail.name?(this.as=t.detail.a,this.ds=t.detail.d):"larger-later"===t.detail.name&&(this.al=t.detail.a,this.dl=t.detail.d)}),this.htdParameters&&this.htdParameters.addEventListener("htd-parameters-k",t=>{this.k=t.detail.k}),this.itcChoice&&this.itcChoice.addEventListener("itc-choice-change",t=>{this.as=t.detail.as,this.ds=t.detail.ds,this.al=t.detail.al,this.dl=t.detail.dl}),this.requestUpdate()}update(t){super.update(t),this.htdCalculation&&(this.htdCalculation.as=this.as,this.htdCalculation.ds=this.ds,this.htdCalculation.al=this.al,this.htdCalculation.dl=this.dl,this.htdCalculation.k=this.k),this.htdCurves&&(this.htdCurves.setOption(this.as,this.ds,"default","s"),this.htdCurves.setOption(this.al,this.dl,"larger-later","l"),this.htdCurves.k=this.k),this.htdParameters&&(this.htdParameters.k=null!=this.htdParameters.k?this.k:void 0),this.itcChoice&&(this.itcChoice.as=this.as,this.itcChoice.ds=this.ds,this.itcChoice.al=this.al,this.itcChoice.dl=this.dl)}}customElements.define("htd-example-interactive",HTDExampleInteractive);class HTDExampleModel extends HTDExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.trials=10,this.duration=2e3,this.k=HTDMath.k.DEFAULT,this.discountableControl=null,this.discountableResponse=null,this.htdCalculation=null,this.htdCurves=null,this.htdParameters=null,this.itcTask=null}connectedCallback(){super.connectedCallback(),this.discountableControl=this.querySelector("discountable-control"),this.discountableResponse=this.querySelector("discountable-response"),this.htdCalculation=this.querySelector("htd-calculation"),this.htdCurves=this.querySelector("htd-curves"),this.htdParameters=this.querySelector("htd-parameters"),this.itcTask=this.querySelector("itc-task"),this.discountableControl&&(this.discountableControl.addEventListener("discountable-control-trials",t=>{this.trials=t.detail.trials}),this.discountableControl.addEventListener("discountable-control-duration",t=>{this.duration=t.detail.duration}),this.discountableControl.addEventListener("discountable-control-run",()=>{this.htdCurves&&this.htdCurves.resumeTrial(),this.itcTask&&(this.itcTask.running=!0)}),this.discountableControl.addEventListener("discountable-control-pause",()=>{this.htdCurves&&this.htdCurves.pauseTrial(),this.itcTask&&(this.itcTask.running=!1)}),this.discountableControl.addEventListener("discountable-control-reset",()=>{this.discountableResponse&&this.discountableResponse.reset(),this.htdCurves&&this.htdCurves.clearOptions(),this.itcTask&&this.itcTask.reset()})),this.htdCurves&&(this.htdCurves.addEventListener("htd-curves-change",t=>{this.k=t.detail.k}),this.htdCurves.addEventListener("discountable-response",t=>{this.discountableResponse&&this.discountableResponse.responded(t.detail.response)})),this.htdParameters&&this.htdParameters.addEventListener("htd-parameters-k",t=>{this.k=t.detail.k}),this.itcTask&&(this.itcTask.addEventListener("itc-trial-start",t=>{this.discountableResponse&&this.discountableResponse.start(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial);const e=HTDMath.adk2v(t.detail.as,t.detail.ds,this.k)>HTDMath.adk2v(t.detail.al,t.detail.dl,this.k)?"first":"second";this.htdCurves&&this.htdCurves.trial(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial,e)}),this.itcTask.addEventListener("itc-trial-end",()=>{this.discountableResponse&&this.discountableResponse.stop()}),this.itcTask.addEventListener("itc-block-end",()=>{this.discountableControl&&this.discountableControl.complete()})),this.requestUpdate()}update(t){super.update(t),this.discountableControl&&(this.discountableControl.trials=null!=this.discountableControl.trials?this.trials:void 0,this.discountableControl.duration=null!=this.discountableControl.duration?this.duration:void 0),this.discountableResponse&&(this.discountableResponse.trialTotal=this.trials),this.itcTask&&(this.itcTask.duration=this.duration,this.itcTask.iti=this.duration,this.itcTask.trials=this.trials),this.htdCalculation&&(this.htdCalculation.k=this.k),this.htdCurves&&(this.htdCurves.k=this.k),this.htdParameters&&(this.htdParameters.k=null!=this.htdParameters.k?this.k:void 0)}}customElements.define("htd-example-model",HTDExampleModel);
//# sourceMappingURL=page.js.map