function _mergeNamespaces(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(i){if("default"!==i&&!(i in t)){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}})}),Object.freeze(t)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if("function"==typeof e){var i=function t(){var i=!1;try{i=this instanceof t}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(i,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})}),i}var check=function(t){return t&&t.Math===Math&&t},globalThis_1=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||check("object"==typeof globalThis_1&&globalThis_1)||function(){return this}()||Function("return this")(),globalThis$H=globalThis_1,path$1=globalThis$H,fails$t=function(t){try{return!!t()}catch(t){return!0}},fails$s=fails$t,functionBindNative=!fails$s(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),NATIVE_BIND$3=functionBindNative,FunctionPrototype$2=Function.prototype,call$v=FunctionPrototype$2.call,uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$2.bind.bind(call$v,call$v),functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(t){return function(){return call$v.apply(t,arguments)}},isNullOrUndefined$5=function(t){return null==t},isNullOrUndefined$4=isNullOrUndefined$5,$TypeError$o=TypeError,requireObjectCoercible$9=function(t){if(isNullOrUndefined$4(t))throw new $TypeError$o("Can't call method on "+t);return t},requireObjectCoercible$8=requireObjectCoercible$9,$Object$4=Object,toObject$5=function(t){return $Object$4(requireObjectCoercible$8(t))},uncurryThis$D=functionUncurryThis,toObject$4=toObject$5,hasOwnProperty=uncurryThis$D({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(t,e){return hasOwnProperty(toObject$4(t),e)},wellKnownSymbolWrapped={},sharedStore={exports:{}},isPure=!1,globalThis$G=globalThis_1,defineProperty$7=Object.defineProperty,defineGlobalProperty$3=function(t,e){try{defineProperty$7(globalThis$G,t,{value:e,configurable:!0,writable:!0})}catch(i){globalThis$G[t]=e}return e},globalThis$F=globalThis_1,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=sharedStore.exports=globalThis$F[SHARED]||defineGlobalProperty$2(SHARED,{});(store$3.versions||(store$3.versions=[])).push({version:"3.46.0",mode:"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"});var match,version$3,sharedStoreExports=sharedStore.exports,store$2=sharedStoreExports,shared$4=function(t,e){return store$2[t]||(store$2[t]=e||{})},uncurryThis$C=functionUncurryThis,id$1=0,postfix=Math.random(),toString$c=uncurryThis$C(1.1.toString),uid$4=function(t){return"Symbol("+(void 0===t?"":t)+")_"+toString$c(++id$1+postfix,36)},globalThis$E=globalThis_1,navigator$1=globalThis$E.navigator,userAgent$3=navigator$1&&navigator$1.userAgent,environmentUserAgent=userAgent$3?String(userAgent$3):"",globalThis$D=globalThis_1,userAgent$2=environmentUserAgent,process$2=globalThis$D.process,Deno$1=globalThis$D.Deno,versions=process$2&&process$2.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8;v8&&(version$3=(match=v8.split("."))[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version$3&&userAgent$2&&(!(match=userAgent$2.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent$2.match(/Chrome\/(\d+)/))&&(version$3=+match[1]);var environmentV8Version=version$3,V8_VERSION$1=environmentV8Version,fails$r=fails$t,globalThis$C=globalThis_1,$String$6=globalThis$C.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$r(function(){var t=Symbol("symbol detection");return!$String$6(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41}),NATIVE_SYMBOL$1=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,globalThis$B=globalThis_1,shared$3=shared$4,hasOwn$i=hasOwnProperty_1,uid$3=uid$4,NATIVE_SYMBOL=symbolConstructorDetection,USE_SYMBOL_AS_UID$1=useSymbolAsUid,Symbol$3=globalThis$B.Symbol,WellKnownSymbolsStore=shared$3("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID$1?Symbol$3.for||Symbol$3:Symbol$3&&Symbol$3.withoutSetter||uid$3,wellKnownSymbol$l=function(t){return hasOwn$i(WellKnownSymbolsStore,t)||(WellKnownSymbolsStore[t]=NATIVE_SYMBOL&&hasOwn$i(Symbol$3,t)?Symbol$3[t]:createWellKnownSymbol("Symbol."+t)),WellKnownSymbolsStore[t]},wellKnownSymbol$k=wellKnownSymbol$l;wellKnownSymbolWrapped.f=wellKnownSymbol$k;var objectDefineProperty={},fails$q=fails$t,descriptors=!fails$q(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),documentAll="object"==typeof document&&document.all,isCallable$l=void 0===documentAll&&void 0!==documentAll?function(t){return"function"==typeof t||t===documentAll}:function(t){return"function"==typeof t},isCallable$k=isCallable$l,isObject$f=function(t){return"object"==typeof t?null!==t:isCallable$k(t)},globalThis$A=globalThis_1,isObject$e=isObject$f,document$1=globalThis$A.document,EXISTS$1=isObject$e(document$1)&&isObject$e(document$1.createElement),documentCreateElement$1=function(t){return EXISTS$1?document$1.createElement(t):{}},DESCRIPTORS$i=descriptors,fails$p=fails$t,createElement$1=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$i&&!fails$p(function(){return 7!==Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a}),DESCRIPTORS$h=descriptors,fails$o=fails$t,v8PrototypeDefineBug=DESCRIPTORS$h&&fails$o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),isObject$d=isObject$f,$String$5=String,$TypeError$n=TypeError,anObject$s=function(t){if(isObject$d(t))return t;throw new $TypeError$n($String$5(t)+" is not an object")},NATIVE_BIND$2=functionBindNative,call$u=Function.prototype.call,functionCall=NATIVE_BIND$2?call$u.bind(call$u):function(){return call$u.apply(call$u,arguments)},globalThis$z=globalThis_1,isCallable$j=isCallable$l,aFunction=function(t){return isCallable$j(t)?t:void 0},getBuiltIn$j=function(t,e){return arguments.length<2?aFunction(globalThis$z[t]):globalThis$z[t]&&globalThis$z[t][e]},uncurryThis$B=functionUncurryThis,objectIsPrototypeOf=uncurryThis$B({}.isPrototypeOf),getBuiltIn$i=getBuiltIn$j,isCallable$i=isCallable$l,isPrototypeOf$5=objectIsPrototypeOf,USE_SYMBOL_AS_UID=useSymbolAsUid,$Object$3=Object,isSymbol$4=USE_SYMBOL_AS_UID?function(t){return"symbol"==typeof t}:function(t){var e=getBuiltIn$i("Symbol");return isCallable$i(e)&&isPrototypeOf$5(e.prototype,$Object$3(t))},$String$4=String,tryToString$3=function(t){try{return $String$4(t)}catch(t){return"Object"}},isCallable$h=isCallable$l,tryToString$2=tryToString$3,$TypeError$m=TypeError,aCallable$n=function(t){if(isCallable$h(t))return t;throw new $TypeError$m(tryToString$2(t)+" is not a function")},aCallable$m=aCallable$n,isNullOrUndefined$3=isNullOrUndefined$5,getMethod$b=function(t,e){var i=t[e];return isNullOrUndefined$3(i)?void 0:aCallable$m(i)},call$t=functionCall,isCallable$g=isCallable$l,isObject$c=isObject$f,$TypeError$l=TypeError,ordinaryToPrimitive$1=function(t,e){var i,r;if("string"===e&&isCallable$g(i=t.toString)&&!isObject$c(r=call$t(i,t)))return r;if(isCallable$g(i=t.valueOf)&&!isObject$c(r=call$t(i,t)))return r;if("string"!==e&&isCallable$g(i=t.toString)&&!isObject$c(r=call$t(i,t)))return r;throw new $TypeError$l("Can't convert object to primitive value")},call$s=functionCall,isObject$b=isObject$f,isSymbol$3=isSymbol$4,getMethod$a=getMethod$b,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$j=wellKnownSymbol$l,$TypeError$k=TypeError,TO_PRIMITIVE=wellKnownSymbol$j("toPrimitive"),toPrimitive$2=function(t,e){if(!isObject$b(t)||isSymbol$3(t))return t;var i,r=getMethod$a(t,TO_PRIMITIVE);if(r){if(void 0===e&&(e="default"),i=call$s(r,t,e),!isObject$b(i)||isSymbol$3(i))return i;throw new $TypeError$k("Can't convert object to primitive value")}return void 0===e&&(e="number"),ordinaryToPrimitive(t,e)},toPrimitive$1=toPrimitive$2,isSymbol$2=isSymbol$4,toPropertyKey$3=function(t){var e=toPrimitive$1(t,"string");return isSymbol$2(e)?e:e+""},DESCRIPTORS$g=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$r=anObject$s,toPropertyKey$2=toPropertyKey$3,$TypeError$j=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$g?V8_PROTOTYPE_DEFINE_BUG$1?function(t,e,i){if(anObject$r(t),e=toPropertyKey$2(e),anObject$r(i),"function"==typeof t&&"prototype"===e&&"value"in i&&WRITABLE in i&&!i[WRITABLE]){var r=$getOwnPropertyDescriptor$1(t,e);r&&r[WRITABLE]&&(t[e]=i.value,i={configurable:CONFIGURABLE$1 in i?i[CONFIGURABLE$1]:r[CONFIGURABLE$1],enumerable:ENUMERABLE in i?i[ENUMERABLE]:r[ENUMERABLE],writable:!1})}return $defineProperty(t,e,i)}:$defineProperty:function(t,e,i){if(anObject$r(t),e=toPropertyKey$2(e),anObject$r(i),IE8_DOM_DEFINE$1)try{return $defineProperty(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new $TypeError$j("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var path=path$1,hasOwn$h=hasOwnProperty_1,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineProperty$6=objectDefineProperty.f,wellKnownSymbolDefine=function(t){var e=path.Symbol||(path.Symbol={});hasOwn$h(e,t)||defineProperty$6(e,t,{value:wrappedWellKnownSymbolModule.f(t)})},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$4=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$4&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(t){var e=getOwnPropertyDescriptor$4(this,t);return!!e&&e.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$6=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},uncurryThis$A=functionUncurryThis,toString$b=uncurryThis$A({}.toString),stringSlice$3=uncurryThis$A("".slice),classofRaw$2=function(t){return stringSlice$3(toString$b(t),8,-1)},uncurryThis$z=functionUncurryThis,fails$n=fails$t,classof$d=classofRaw$2,$Object$2=Object,split=uncurryThis$z("".split),indexedObject=fails$n(function(){return!$Object$2("z").propertyIsEnumerable(0)})?function(t){return"String"===classof$d(t)?split(t,""):$Object$2(t)}:$Object$2,IndexedObject=indexedObject,requireObjectCoercible$7=requireObjectCoercible$9,toIndexedObject$8=function(t){return IndexedObject(requireObjectCoercible$7(t))},DESCRIPTORS$f=descriptors,call$r=functionCall,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$5=createPropertyDescriptor$6,toIndexedObject$7=toIndexedObject$8,toPropertyKey$1=toPropertyKey$3,hasOwn$g=hasOwnProperty_1,IE8_DOM_DEFINE=ie8DomDefine,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$f?$getOwnPropertyDescriptor:function(t,e){if(t=toIndexedObject$7(t),e=toPropertyKey$1(e),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(t,e)}catch(t){}if(hasOwn$g(t,e))return createPropertyDescriptor$5(!call$r(propertyIsEnumerableModule.f,t,e),t[e])};var globalThis$y=globalThis_1,defineWellKnownSymbol$1=wellKnownSymbolDefine,defineProperty$5=objectDefineProperty.f,getOwnPropertyDescriptor$3=objectGetOwnPropertyDescriptor.f,Symbol$2=globalThis$y.Symbol;if(defineWellKnownSymbol$1("asyncDispose"),Symbol$2){var descriptor$2=getOwnPropertyDescriptor$3(Symbol$2,"asyncDispose");descriptor$2.enumerable&&descriptor$2.configurable&&descriptor$2.writable&&defineProperty$5(Symbol$2,"asyncDispose",{value:descriptor$2.value,enumerable:!1,configurable:!1,writable:!1})}var globalThis$x=globalThis_1,defineWellKnownSymbol=wellKnownSymbolDefine,defineProperty$4=objectDefineProperty.f,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,Symbol$1=globalThis$x.Symbol;if(defineWellKnownSymbol("dispose"),Symbol$1){var descriptor$1=getOwnPropertyDescriptor$2(Symbol$1,"dispose");descriptor$1.enumerable&&descriptor$1.configurable&&descriptor$1.writable&&defineProperty$4(Symbol$1,"dispose",{value:descriptor$1.value,enumerable:!1,configurable:!1,writable:!1})}var DESCRIPTORS$e=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$4=createPropertyDescriptor$6,createNonEnumerableProperty$7=DESCRIPTORS$e?function(t,e,i){return definePropertyModule$4.f(t,e,createPropertyDescriptor$4(1,i))}:function(t,e,i){return t[e]=i,t},makeBuiltIn$3={exports:{}},DESCRIPTORS$d=descriptors,hasOwn$f=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$d&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$f(FunctionPrototype$1,"name"),CONFIGURABLE=EXISTS&&(!DESCRIPTORS$d||DESCRIPTORS$d&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={CONFIGURABLE:CONFIGURABLE},uncurryThis$y=functionUncurryThis,isCallable$f=isCallable$l,store$1=sharedStoreExports,functionToString=uncurryThis$y(Function.toString);isCallable$f(store$1.inspectSource)||(store$1.inspectSource=function(t){return functionToString(t)});var set$4,get$3,has$7,inspectSource$2=store$1.inspectSource,globalThis$w=globalThis_1,isCallable$e=isCallable$l,WeakMap$2=globalThis$w.WeakMap,weakMapBasicDetection=isCallable$e(WeakMap$2)&&/native code/.test(String(WeakMap$2)),shared$2=shared$4,uid$2=uid$4,keys$1=shared$2("keys"),sharedKey$3=function(t){return keys$1[t]||(keys$1[t]=uid$2(t))},hiddenKeys$4={},NATIVE_WEAK_MAP=weakMapBasicDetection,globalThis$v=globalThis_1,isObject$a=isObject$f,createNonEnumerableProperty$6=createNonEnumerableProperty$7,hasOwn$e=hasOwnProperty_1,shared$1=sharedStoreExports,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$5=globalThis$v.TypeError,WeakMap$1=globalThis$v.WeakMap,enforce=function(t){return has$7(t)?get$3(t):set$4(t,{})},getterFor=function(t){return function(e){var i;if(!isObject$a(e)||(i=get$3(e)).type!==t)throw new TypeError$5("Incompatible receiver, "+t+" required");return i}};if(NATIVE_WEAK_MAP||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$1);store.get=store.get,store.has=store.has,store.set=store.set,set$4=function(t,e){if(store.has(t))throw new TypeError$5(OBJECT_ALREADY_INITIALIZED);return e.facade=t,store.set(t,e),e},get$3=function(t){return store.get(t)||{}},has$7=function(t){return store.has(t)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$4=function(t,e){if(hasOwn$e(t,STATE))throw new TypeError$5(OBJECT_ALREADY_INITIALIZED);return e.facade=t,createNonEnumerableProperty$6(t,STATE,e),e},get$3=function(t){return hasOwn$e(t,STATE)?t[STATE]:{}},has$7=function(t){return hasOwn$e(t,STATE)}}var internalState={set:set$4,get:get$3,has:has$7,enforce:enforce,getterFor:getterFor},uncurryThis$x=functionUncurryThis,fails$m=fails$t,isCallable$d=isCallable$l,hasOwn$d=hasOwnProperty_1,DESCRIPTORS$c=descriptors,CONFIGURABLE_FUNCTION_NAME=functionName.CONFIGURABLE,inspectSource$1=inspectSource$2,InternalStateModule$5=internalState,enforceInternalState$1=InternalStateModule$5.enforce,getInternalState$2=InternalStateModule$5.get,$String$3=String,defineProperty$3=Object.defineProperty,stringSlice$2=uncurryThis$x("".slice),replace$1=uncurryThis$x("".replace),join$2=uncurryThis$x([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$c&&!fails$m(function(){return 8!==defineProperty$3(function(){},"length",{value:8}).length}),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(t,e,i){"Symbol("===stringSlice$2($String$3(e),0,7)&&(e="["+replace$1($String$3(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!hasOwn$d(t,"name")||CONFIGURABLE_FUNCTION_NAME&&t.name!==e)&&(DESCRIPTORS$c?defineProperty$3(t,"name",{value:e,configurable:!0}):t.name=e),CONFIGURABLE_LENGTH&&i&&hasOwn$d(i,"arity")&&t.length!==i.arity&&defineProperty$3(t,"length",{value:i.arity});try{i&&hasOwn$d(i,"constructor")&&i.constructor?DESCRIPTORS$c&&defineProperty$3(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=enforceInternalState$1(t);return hasOwn$d(r,"source")||(r.source=join$2(TEMPLATE,"string"==typeof e?e:"")),t};Function.prototype.toString=makeBuiltIn$2(function(){return isCallable$d(this)&&getInternalState$2(this).source||inspectSource$1(this)},"toString");var makeBuiltInExports=makeBuiltIn$3.exports,isCallable$c=isCallable$l,definePropertyModule$3=objectDefineProperty,makeBuiltIn$1=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$b=function(t,e,i,r){r||(r={});var n=r.enumerable,a=void 0!==r.name?r.name:e;if(isCallable$c(i)&&makeBuiltIn$1(i,a,r),r.global)n?t[e]=i:defineGlobalProperty$1(e,i);else{try{r.unsafe?t[e]&&(n=!0):delete t[e]}catch(t){}n?t[e]=i:definePropertyModule$3.f(t,e,{value:i,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},objectGetOwnPropertyNames={},ceil$1=Math.ceil,floor=Math.floor,mathTrunc=Math.trunc||function(t){var e=+t;return(e>0?floor:ceil$1)(e)},trunc=mathTrunc,toIntegerOrInfinity$9=function(t){var e=+t;return e!=e||0===e?0:trunc(e)},toIntegerOrInfinity$8=toIntegerOrInfinity$9,max$4=Math.max,min$6=Math.min,toAbsoluteIndex$2=function(t,e){var i=toIntegerOrInfinity$8(t);return i<0?max$4(i+e,0):min$6(i,e)},toIntegerOrInfinity$7=toIntegerOrInfinity$9,min$5=Math.min,toLength$3=function(t){var e=toIntegerOrInfinity$7(t);return e>0?min$5(e,9007199254740991):0},toLength$2=toLength$3,lengthOfArrayLike$8=function(t){return toLength$2(t.length)},toIndexedObject$6=toIndexedObject$8,toAbsoluteIndex$1=toAbsoluteIndex$2,lengthOfArrayLike$7=lengthOfArrayLike$8,createMethod$2=function(t){return function(e,i,r){var n=toIndexedObject$6(e),a=lengthOfArrayLike$7(n);if(0===a)return!t&&-1;var s,o=toAbsoluteIndex$1(r,a);if(t&&i!=i){for(;a>o;)if((s=n[o++])!=s)return!0}else for(;a>o;o++)if((t||o in n)&&n[o]===i)return t||o||0;return!t&&-1}},arrayIncludes={indexOf:createMethod$2(!1)},uncurryThis$w=functionUncurryThis,hasOwn$c=hasOwnProperty_1,toIndexedObject$5=toIndexedObject$8,indexOf$1=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$7=uncurryThis$w([].push),objectKeysInternal=function(t,e){var i,r=toIndexedObject$5(t),n=0,a=[];for(i in r)!hasOwn$c(hiddenKeys$2,i)&&hasOwn$c(r,i)&&push$7(a,i);for(;e.length>n;)hasOwn$c(r,i=e[n++])&&(~indexOf$1(a,i)||push$7(a,i));return a},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(t){return internalObjectKeys$1(t,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$h=getBuiltIn$j,uncurryThis$v=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$q=anObject$s,concat=uncurryThis$v([].concat),ownKeys$1=getBuiltIn$h("Reflect","ownKeys")||function(t){var e=getOwnPropertyNamesModule.f(anObject$q(t)),i=getOwnPropertySymbolsModule.f;return i?concat(e,i(t)):e},hasOwn$b=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$2=objectDefineProperty,copyConstructorProperties$2=function(t,e,i){for(var r=ownKeys(e),n=definePropertyModule$2.f,a=getOwnPropertyDescriptorModule.f,s=0;s<r.length;s++){var o=r[s];hasOwn$b(t,o)||i&&hasOwn$b(i,o)||n(t,o,a(e,o))}},fails$l=fails$t,isCallable$b=isCallable$l,replacement=/#|\.prototype\./,isForced$1=function(t,e){var i=data$4[normalize$1(t)];return i===POLYFILL||i!==NATIVE&&(isCallable$b(e)?fails$l(e):!!e)},normalize$1=isForced$1.normalize=function(t){return String(t).replace(replacement,".").toLowerCase()},data$4=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,globalThis$u=globalThis_1,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$5=createNonEnumerableProperty$7,defineBuiltIn$a=defineBuiltIn$b,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$1=copyConstructorProperties$2,isForced=isForced_1,_export=function(t,e){var i,r,n,a,s,o=t.target,l=t.global,c=t.stat;if(i=l?globalThis$u:c?globalThis$u[o]||defineGlobalProperty(o,{}):globalThis$u[o]&&globalThis$u[o].prototype)for(r in e){if(a=e[r],n=t.dontCallGetSet?(s=getOwnPropertyDescriptor$1(i,r))&&s.value:i[r],!isForced(l?r:o+(c?".":"#")+r,t.forced)&&void 0!==n){if(typeof a==typeof n)continue;copyConstructorProperties$1(a,n)}(t.sham||n&&n.sham)&&createNonEnumerableProperty$5(a,"sham",!0),defineBuiltIn$a(i,r,a,t)}},wellKnownSymbol$i=wellKnownSymbol$l,TO_STRING_TAG$7=wellKnownSymbol$i("toStringTag"),test={};test[TO_STRING_TAG$7]="z";var toStringTagSupport="[object z]"===String(test),TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$a=isCallable$l,classofRaw$1=classofRaw$2,wellKnownSymbol$h=wellKnownSymbol$l,TO_STRING_TAG$6=wellKnownSymbol$h("toStringTag"),$Object$1=Object,CORRECT_ARGUMENTS="Arguments"===classofRaw$1(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}},classof$c=TO_STRING_TAG_SUPPORT?classofRaw$1:function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=tryGet(e=$Object$1(t),TO_STRING_TAG$6))?i:CORRECT_ARGUMENTS?classofRaw$1(e):"Object"===(r=classofRaw$1(e))&&isCallable$a(e.callee)?"Arguments":r},$$T=_export,getBuiltIn$g=getBuiltIn$j,isObject$9=isObject$f,classof$b=classof$c,fails$k=fails$t,ERROR="Error",DOM_EXCEPTION$1="DOMException",PROTOTYPE_SETTING_AVAILABLE=Object.setPrototypeOf||{}.__proto__,DOMException$1=getBuiltIn$g(DOM_EXCEPTION$1),$Error$2=Error,$isError=$Error$2.isError,FORCED$c=!$isError||!PROTOTYPE_SETTING_AVAILABLE||fails$k(function(){return DOMException$1&&!$isError(new DOMException$1(DOM_EXCEPTION$1))||!$isError(new $Error$2(ERROR,{cause:function(){}}))||$isError(getBuiltIn$g("Object","create")($Error$2.prototype))});$$T({target:"Error",stat:!0,sham:!0,forced:FORCED$c},{isError:function(t){if(!isObject$9(t))return!1;var e=classof$b(t);return e===ERROR||e===DOM_EXCEPTION$1}});var fails$j=fails$t,correctPrototypeGetter=!fails$j(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),hasOwn$a=hasOwnProperty_1,isCallable$9=isCallable$l,toObject$3=toObject$5,sharedKey$1=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO$1=sharedKey$1("IE_PROTO"),$Object=Object,ObjectPrototype$1=$Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(t){var e=toObject$3(t);if(hasOwn$a(e,IE_PROTO$1))return e[IE_PROTO$1];var i=e.constructor;return isCallable$9(i)&&e instanceof i?i.prototype:e instanceof $Object?ObjectPrototype$1:null},uncurryThis$u=functionUncurryThis,aCallable$l=aCallable$n,functionUncurryThisAccessor=function(t,e,i){try{return uncurryThis$u(aCallable$l(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},isObject$8=isObject$f,isPossiblePrototype$1=function(t){return isObject$8(t)||null===t},isPossiblePrototype=isPossiblePrototype$1,$String$2=String,$TypeError$i=TypeError,aPossiblePrototype$1=function(t){if(isPossiblePrototype(t))return t;throw new $TypeError$i("Can't set "+$String$2(t)+" as a prototype")},uncurryThisAccessor$3=functionUncurryThisAccessor,isObject$7=isObject$f,requireObjectCoercible$6=requireObjectCoercible$9,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=uncurryThisAccessor$3(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,r){return requireObjectCoercible$6(i),aPossiblePrototype(r),isObject$7(i)?(e?t(i,r):i.__proto__=r,i):i}}():void 0),objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$2=Object.keys||function(t){return internalObjectKeys(t,enumBugKeys$1)},DESCRIPTORS$b=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$1=objectDefineProperty,anObject$p=anObject$s,toIndexedObject$4=toIndexedObject$8,objectKeys$1=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$b&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(t,e){anObject$p(t);for(var i,r=toIndexedObject$4(e),n=objectKeys$1(e),a=n.length,s=0;a>s;)definePropertyModule$1.f(t,i=n[s++],r[i]);return t};var activeXDocument,getBuiltIn$f=getBuiltIn$j,html$2=getBuiltIn$f("document","documentElement"),anObject$o=anObject$s,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement=documentCreateElement$1,sharedKey=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return LT+SCRIPT+GT+t+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e},NullProtoObjectViaIFrame=function(){var t,e=documentCreateElement("iframe"),i="java"+SCRIPT+":";return e.style.display="none",html$1.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(t){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var t=enumBugKeys.length;t--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[t]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0;var objectCreate=Object.create||function(t,e){var i;return null!==t?(EmptyConstructor[PROTOTYPE]=anObject$o(t),i=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,i[IE_PROTO]=t):i=NullProtoObject(),void 0===e?i:definePropertiesModule.f(i,e)},uncurryThis$t=functionUncurryThis,$Error$1=Error,replace=uncurryThis$t("".replace),TEST=String(new $Error$1("zxcasd").stack),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(t,e){if(IS_V8_OR_CHAKRA_STACK&&"string"==typeof t&&!$Error$1.prepareStackTrace)for(;e--;)t=replace(t,V8_OR_CHAKRA_STACK_ENTRY,"");return t},fails$i=fails$t,createPropertyDescriptor$3=createPropertyDescriptor$6,errorStackInstallable=!fails$i(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",createPropertyDescriptor$3(1,7)),7!==t.stack)}),createNonEnumerableProperty$4=createNonEnumerableProperty$7,clearErrorStack$1=errorStackClear,ERROR_STACK_INSTALLABLE$1=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(t,e,i,r){ERROR_STACK_INSTALLABLE$1&&(captureStackTrace?captureStackTrace(t,e):createNonEnumerableProperty$4(t,"stack",clearErrorStack$1(i,r)))},classof$a=classof$c,$String$1=String,toString$a=function(t){if("Symbol"===classof$a(t))throw new TypeError("Cannot convert a Symbol value to a string");return $String$1(t)},toString$9=toString$a,normalizeStringArgument$2=function(t,e){return void 0===t?arguments.length<2?"":e:toString$9(t)},$$S=_export,globalThis$t=globalThis_1,isPrototypeOf$4=objectIsPrototypeOf,getPrototypeOf$4=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,copyConstructorProperties=copyConstructorProperties$2,create$7=objectCreate,createNonEnumerableProperty$3=createNonEnumerableProperty$7,createPropertyDescriptor$2=createPropertyDescriptor$6,installErrorStack=errorStackInstall,normalizeStringArgument$1=normalizeStringArgument$2,wellKnownSymbol$g=wellKnownSymbol$l,fails$h=fails$t,NativeSuppressedError=globalThis$t.SuppressedError,TO_STRING_TAG$5=wellKnownSymbol$g("toStringTag"),$Error=Error,WRONG_ARITY$1=!!NativeSuppressedError&&3!==NativeSuppressedError.length,EXTRA_ARGS_SUPPORT=!!NativeSuppressedError&&fails$h(function(){return 4===new NativeSuppressedError(1,2,3,{cause:4}).cause}),PATCH=WRONG_ARITY$1||EXTRA_ARGS_SUPPORT,$SuppressedError=function(t,e,i){var r,n=isPrototypeOf$4(SuppressedErrorPrototype,this);return setPrototypeOf$2?r=!PATCH||n&&getPrototypeOf$4(this)!==SuppressedErrorPrototype?setPrototypeOf$2(new $Error,n?getPrototypeOf$4(this):SuppressedErrorPrototype):new NativeSuppressedError:(r=n?this:create$7(SuppressedErrorPrototype),createNonEnumerableProperty$3(r,TO_STRING_TAG$5,"Error")),void 0!==i&&createNonEnumerableProperty$3(r,"message",normalizeStringArgument$1(i)),installErrorStack(r,$SuppressedError,r.stack,1),createNonEnumerableProperty$3(r,"error",t),createNonEnumerableProperty$3(r,"suppressed",e),r};setPrototypeOf$2?setPrototypeOf$2($SuppressedError,$Error):copyConstructorProperties($SuppressedError,$Error,{name:!0});var SuppressedErrorPrototype=$SuppressedError.prototype=PATCH?NativeSuppressedError.prototype:create$7($Error.prototype,{constructor:createPropertyDescriptor$2(1,$SuppressedError),message:createPropertyDescriptor$2(1,""),name:createPropertyDescriptor$2(1,"SuppressedError")});PATCH&&(SuppressedErrorPrototype.constructor=$SuppressedError),$$S({global:!0,constructor:!0,arity:3,forced:PATCH},{SuppressedError:$SuppressedError});var classof$9=classofRaw$2,isArray$5=Array.isArray||function(t){return"Array"===classof$9(t)},DESCRIPTORS$a=descriptors,isArray$4=isArray$5,$TypeError$h=TypeError,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(t,e){if(isArray$4(t)&&!getOwnPropertyDescriptor(t,"length").writable)throw new $TypeError$h("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},$TypeError$g=TypeError,MAX_SAFE_INTEGER$1=9007199254740991,doesNotExceedSafeInteger$3=function(t){if(t>MAX_SAFE_INTEGER$1)throw $TypeError$g("Maximum allowed index exceeded");return t},$$R=_export,toObject$2=toObject$5,lengthOfArrayLike$6=lengthOfArrayLike$8,setArrayLength=arraySetLength,doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$3,fails$g=fails$t,INCORRECT_TO_LENGTH=fails$g(function(){return 4294967297!==[].push.call({length:4294967296},1)}),properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},FORCED$b=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength();$$R({target:"Array",proto:!0,arity:1,forced:FORCED$b},{push:function(t){var e=toObject$2(this),i=lengthOfArrayLike$6(e),r=arguments.length;doesNotExceedSafeInteger$2(i+r);for(var n=0;n<r;n++)e[i]=arguments[n],i++;return setArrayLength(e,i),i}});var lengthOfArrayLike$5=lengthOfArrayLike$8,arrayToReversed$2=function(t,e){for(var i=lengthOfArrayLike$5(t),r=new e(i),n=0;n<i;n++)r[n]=t[i-n-1];return r},wellKnownSymbol$f=wellKnownSymbol$l,create$6=objectCreate,defineProperty$2=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$f("unscopables"),ArrayPrototype$1=Array.prototype;void 0===ArrayPrototype$1[UNSCOPABLES]&&defineProperty$2(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$6(null)});var addToUnscopables$3=function(t){ArrayPrototype$1[UNSCOPABLES][t]=!0},$$Q=_export,arrayToReversed$1=arrayToReversed$2,toIndexedObject$3=toIndexedObject$8,addToUnscopables$2=addToUnscopables$3,$Array$5=Array;$$Q({target:"Array",proto:!0},{toReversed:function(){return arrayToReversed$1(toIndexedObject$3(this),$Array$5)}}),addToUnscopables$2("toReversed");var lengthOfArrayLike$4=lengthOfArrayLike$8,arrayFromConstructorAndList$3=function(t,e,i){for(var r=0,n=arguments.length>2?i:lengthOfArrayLike$4(e),a=new t(n);n>r;)a[r]=e[r++];return a},globalThis$s=globalThis_1,getBuiltInPrototypeMethod$2=function(t,e){var i=globalThis$s[t],r=i&&i.prototype;return r&&r[e]},$$P=_export,uncurryThis$s=functionUncurryThis,aCallable$k=aCallable$n,toIndexedObject$2=toIndexedObject$8,arrayFromConstructorAndList$2=arrayFromConstructorAndList$3,getBuiltInPrototypeMethod$1=getBuiltInPrototypeMethod$2,addToUnscopables$1=addToUnscopables$3,$Array$4=Array,sort$3=uncurryThis$s(getBuiltInPrototypeMethod$1("Array","sort"));$$P({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&aCallable$k(t);var e=toIndexedObject$2(this),i=arrayFromConstructorAndList$2($Array$4,e);return sort$3(i,t)}}),addToUnscopables$1("toSorted");var $$O=_export,addToUnscopables=addToUnscopables$3,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$3,lengthOfArrayLike$3=lengthOfArrayLike$8,toAbsoluteIndex=toAbsoluteIndex$2,toIndexedObject$1=toIndexedObject$8,toIntegerOrInfinity$6=toIntegerOrInfinity$9,$Array$3=Array,max$3=Math.max,min$4=Math.min;$$O({target:"Array",proto:!0},{toSpliced:function(t,e){var i,r,n,a,s=toIndexedObject$1(this),o=lengthOfArrayLike$3(s),l=toAbsoluteIndex(t,o),c=arguments.length,g=0;for(0===c?i=r=0:1===c?(i=0,r=o-l):(i=c-2,r=min$4(max$3(toIntegerOrInfinity$6(e),0),o-l)),n=doesNotExceedSafeInteger$1(o+i-r),a=$Array$3(n);g<l;g++)a[g]=s[g];for(;g<l+i;g++)a[g]=arguments[g-l+2];for(;g<n;g++)a[g]=s[g+r-i];return a}}),addToUnscopables("toSpliced");var lengthOfArrayLike$2=lengthOfArrayLike$8,toIntegerOrInfinity$5=toIntegerOrInfinity$9,$RangeError$6=RangeError,arrayWith$2=function(t,e,i,r){var n=lengthOfArrayLike$2(t),a=toIntegerOrInfinity$5(i),s=a<0?n+a:a;if(s>=n||s<0)throw new $RangeError$6("Incorrect index");for(var o=new e(n),l=0;l<n;l++)o[l]=l===s?r:t[l];return o},$$N=_export,arrayWith$1=arrayWith$2,toIndexedObject=toIndexedObject$8,$Array$2=Array,INCORRECT_EXCEPTION_ON_COERCION_FAIL=function(){try{[].with({valueOf:function(){throw 4}},null)}catch(t){return 4!==t}}();$$N({target:"Array",proto:!0,forced:INCORRECT_EXCEPTION_ON_COERCION_FAIL},{with:function(t,e){return arrayWith$1(toIndexedObject(this),$Array$2,t,e)}});var $$M=_export,uncurryThis$r=functionUncurryThis,pow$4=Math.pow,EXP_MASK16=31,SIGNIFICAND_MASK16=1023,MIN_SUBNORMAL16=pow$4(2,-24),SIGNIFICAND_DENOM16=.0009765625,unpackFloat16=function(t){var e=t>>>15,i=t>>>10&EXP_MASK16,r=t&SIGNIFICAND_MASK16;return i===EXP_MASK16?0===r?0===e?1/0:-1/0:NaN:0===i?r*(0===e?MIN_SUBNORMAL16:-MIN_SUBNORMAL16):pow$4(2,i-15)*(0===e?1+r*SIGNIFICAND_DENOM16:-1-r*SIGNIFICAND_DENOM16)},getUint16=uncurryThis$r(DataView.prototype.getUint16);$$M({target:"DataView",proto:!0},{getFloat16:function(t){return unpackFloat16(getUint16(this,t,arguments.length>1&&arguments[1]))}});var classof$8=classof$c,$TypeError$f=TypeError,aDataView$1=function(t){if("DataView"===classof$8(t))return t;throw new $TypeError$f("Argument is not a DataView")},toIntegerOrInfinity$4=toIntegerOrInfinity$9,toLength$1=toLength$3,$RangeError$5=RangeError,toIndex$2=function(t){if(void 0===t)return 0;var e=toIntegerOrInfinity$4(t),i=toLength$1(e);if(e!==i)throw new $RangeError$5("Wrong length or index");return i},log$2=Math.log,LN2=Math.LN2,mathLog2=Math.log2||function(t){return log$2(t)/LN2},EPSILON$1=2220446049250313e-31,INVERSE_EPSILON=1/EPSILON$1,mathRoundTiesToEven=function(t){return t+INVERSE_EPSILON-INVERSE_EPSILON},$$L=_export,uncurryThis$q=functionUncurryThis,aDataView=aDataView$1,toIndex$1=toIndex$2,log2=mathLog2,roundTiesToEven$1=mathRoundTiesToEven,pow$3=Math.pow,MIN_INFINITY16=65520,MIN_NORMAL16=61005353927612305e-21,REC_MIN_SUBNORMAL16=16777216,REC_SIGNIFICAND_DENOM16=1024,packFloat16=function(t){if(t!=t)return 32256;if(0===t)return(1/t==-1/0)<<15;var e=t<0;if(e&&(t=-t),t>=MIN_INFINITY16)return e<<15|31744;if(t<MIN_NORMAL16)return e<<15|roundTiesToEven$1(t*REC_MIN_SUBNORMAL16);var i=0|log2(t);if(-15===i)return e<<15|REC_SIGNIFICAND_DENOM16;var r=roundTiesToEven$1((t*pow$3(2,-i)-1)*REC_SIGNIFICAND_DENOM16);return r===REC_SIGNIFICAND_DENOM16?e<<15|i+16<<10:e<<15|i+15<<10|r},setUint16=uncurryThis$q(DataView.prototype.setUint16);$$L({target:"DataView",proto:!0},{setFloat16:function(t,e){setUint16(aDataView(this),toIndex$1(t),packFloat16(+e),arguments.length>2&&arguments[2])}});var makeBuiltIn=makeBuiltInExports,defineProperty$1=objectDefineProperty,defineBuiltInAccessor$7=function(t,e,i){return i.get&&makeBuiltIn(i.get,e,{getter:!0}),i.set&&makeBuiltIn(i.set,e,{setter:!0}),defineProperty$1.f(t,e,i)},arrayBufferBasicDetection="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,globalThis$r=globalThis_1,uncurryThisAccessor$2=functionUncurryThisAccessor,classof$7=classofRaw$2,ArrayBuffer$2=globalThis$r.ArrayBuffer,TypeError$4=globalThis$r.TypeError,arrayBufferByteLength$2=ArrayBuffer$2&&uncurryThisAccessor$2(ArrayBuffer$2.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==classof$7(t))throw new TypeError$4("ArrayBuffer expected");return t.byteLength},globalThis$q=globalThis_1,NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,arrayBufferByteLength$1=arrayBufferByteLength$2,DataView$2=globalThis$q.DataView,arrayBufferIsDetached=function(t){if(!NATIVE_ARRAY_BUFFER$1||0!==arrayBufferByteLength$1(t))return!1;try{return new DataView$2(t),!1}catch(t){return!0}},DESCRIPTORS$9=descriptors,defineBuiltInAccessor$6=defineBuiltInAccessor$7,isDetached$1=arrayBufferIsDetached,ArrayBufferPrototype$1=ArrayBuffer.prototype;DESCRIPTORS$9&&!("detached"in ArrayBufferPrototype$1)&&defineBuiltInAccessor$6(ArrayBufferPrototype$1,"detached",{configurable:!0,get:function(){return isDetached$1(this)}});var WorkerThreads,channel$1,buffer,$detach,isDetached=arrayBufferIsDetached,$TypeError$e=TypeError,arrayBufferNotDetached=function(t){if(isDetached(t))throw new $TypeError$e("ArrayBuffer is detached");return t},globalThis$p=globalThis_1,userAgent$1=environmentUserAgent,classof$6=classofRaw$2,userAgentStartsWith=function(t){return userAgent$1.slice(0,t.length)===t},environment=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":globalThis$p.Bun&&"string"==typeof Bun.version?"BUN":globalThis$p.Deno&&"object"==typeof Deno.version?"DENO":"process"===classof$6(globalThis$p.process)?"NODE":globalThis$p.window&&globalThis$p.document?"BROWSER":"REST",ENVIRONMENT$2=environment,environmentIsNode="NODE"===ENVIRONMENT$2,globalThis$o=globalThis_1,IS_NODE$1=environmentIsNode,getBuiltInNodeModule$1=function(t){if(IS_NODE$1){try{return globalThis$o.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}},globalThis$n=globalThis_1,fails$f=fails$t,V8=environmentV8Version,ENVIRONMENT$1=environment,structuredClone$3=globalThis$n.structuredClone,structuredCloneProperTransfer=!!structuredClone$3&&!fails$f(function(){if("DENO"===ENVIRONMENT$1&&V8>92||"NODE"===ENVIRONMENT$1&&V8>94||"BROWSER"===ENVIRONMENT$1&&V8>97)return!1;var t=new ArrayBuffer(8),e=structuredClone$3(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}),globalThis$m=globalThis_1,getBuiltInNodeModule=getBuiltInNodeModule$1,PROPER_STRUCTURED_CLONE_TRANSFER$2=structuredCloneProperTransfer,structuredClone$2=globalThis$m.structuredClone,$ArrayBuffer=globalThis$m.ArrayBuffer,$MessageChannel=globalThis$m.MessageChannel,detach=!1;if(PROPER_STRUCTURED_CLONE_TRANSFER$2)detach=function(t){structuredClone$2(t,{transfer:[t]})};else if($ArrayBuffer)try{$MessageChannel||(WorkerThreads=getBuiltInNodeModule("worker_threads"))&&($MessageChannel=WorkerThreads.MessageChannel),$MessageChannel&&(channel$1=new $MessageChannel,buffer=new $ArrayBuffer(2),$detach=function(t){channel$1.port1.postMessage(null,[t])},2===buffer.byteLength&&($detach(buffer),0===buffer.byteLength&&(detach=$detach)))}catch(t){}var detachTransferable$2=detach,globalThis$l=globalThis_1,uncurryThis$p=functionUncurryThis,uncurryThisAccessor$1=functionUncurryThisAccessor,toIndex=toIndex$2,notDetached$4=arrayBufferNotDetached,arrayBufferByteLength=arrayBufferByteLength$2,detachTransferable$1=detachTransferable$2,PROPER_STRUCTURED_CLONE_TRANSFER$1=structuredCloneProperTransfer,structuredClone$1=globalThis$l.structuredClone,ArrayBuffer$1=globalThis$l.ArrayBuffer,DataView$1=globalThis$l.DataView,min$3=Math.min,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataViewPrototype=DataView$1.prototype,slice$4=uncurryThis$p(ArrayBufferPrototype.slice),isResizable=uncurryThisAccessor$1(ArrayBufferPrototype,"resizable","get"),maxByteLength=uncurryThisAccessor$1(ArrayBufferPrototype,"maxByteLength","get"),getInt8=uncurryThis$p(DataViewPrototype.getInt8),setInt8=uncurryThis$p(DataViewPrototype.setInt8),arrayBufferTransfer=(PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1)&&function(t,e,i){var r,n=arrayBufferByteLength(t),a=void 0===e?n:toIndex(e),s=!isResizable||!isResizable(t);if(notDetached$4(t),PROPER_STRUCTURED_CLONE_TRANSFER$1&&(t=structuredClone$1(t,{transfer:[t]}),n===a&&(i||s)))return t;if(n>=a&&(!i||s))r=slice$4(t,0,a);else{var o=i&&!s&&maxByteLength?{maxByteLength:maxByteLength(t)}:void 0;r=new ArrayBuffer$1(a,o);for(var l=new DataView$1(t),c=new DataView$1(r),g=min$3(a,n),d=0;d<g;d++)setInt8(c,d,getInt8(l,d))}return PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1(t),r},$$K=_export,$transfer$1=arrayBufferTransfer;$transfer$1&&$$K({target:"ArrayBuffer",proto:!0},{transfer:function(){return $transfer$1(this,arguments.length?arguments[0]:void 0,!0)}});var $$J=_export,$transfer=arrayBufferTransfer;$transfer&&$$J({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return $transfer(this,arguments.length?arguments[0]:void 0,!1)}});var isPrototypeOf$3=objectIsPrototypeOf,$TypeError$d=TypeError,anInstance$4=function(t,e){if(isPrototypeOf$3(e,t))return t;throw new $TypeError$d("Incorrect invocation")},defineBuiltIn$9=defineBuiltIn$b,defineBuiltIns$4=function(t,e,i){for(var r in e)defineBuiltIn$9(t,r,e[r],i);return t},classofRaw=classofRaw$2,uncurryThis$o=functionUncurryThis,functionUncurryThisClause=function(t){if("Function"===classofRaw(t))return uncurryThis$o(t)},uncurryThis$n=functionUncurryThisClause,aCallable$j=aCallable$n,NATIVE_BIND$1=functionBindNative,bind$4=functionUncurryThisClause(functionUncurryThisClause.bind),functionBindContext=function(t,e){return aCallable$j(t),void 0===e?t:NATIVE_BIND$1?bind$4(t,e):function(){return t.apply(e,arguments)}},getBuiltIn$e=getBuiltIn$j,call$q=functionCall,uncurryThis$m=functionUncurryThis,bind$3=functionBindContext,anObject$n=anObject$s,aCallable$i=aCallable$n,isNullOrUndefined$2=isNullOrUndefined$5,getMethod$9=getMethod$b,wellKnownSymbol$e=wellKnownSymbol$l,ASYNC_DISPOSE$2=wellKnownSymbol$e("asyncDispose"),DISPOSE$2=wellKnownSymbol$e("dispose"),push$6=uncurryThis$m([].push),getDisposeMethod=function(t,e){if("async-dispose"===e){var i=getMethod$9(t,ASYNC_DISPOSE$2);return void 0!==i||void 0===(i=getMethod$9(t,DISPOSE$2))?i:function(){var t=this;return new(getBuiltIn$e("Promise"))(function(e){call$q(i,t),e(void 0)})}}return getMethod$9(t,DISPOSE$2)},createDisposableResource=function(t,e,i){return arguments.length<3&&!isNullOrUndefined$2(t)&&(i=aCallable$i(getDisposeMethod(anObject$n(t),e))),void 0===i?function(){}:bind$3(i,t)},addDisposableResource$2=function(t,e,i,r){var n;if(arguments.length<4){if(isNullOrUndefined$2(e)&&"sync-dispose"===i)return;n=createDisposableResource(e,i)}else n=createDisposableResource(void 0,i,r);push$6(t.stack,n)},$$I=_export,DESCRIPTORS$8=descriptors,getBuiltIn$d=getBuiltIn$j,aCallable$h=aCallable$n,anInstance$3=anInstance$4,defineBuiltIn$8=defineBuiltIn$b,defineBuiltIns$3=defineBuiltIns$4,defineBuiltInAccessor$5=defineBuiltInAccessor$7,wellKnownSymbol$d=wellKnownSymbol$l,InternalStateModule$4=internalState,addDisposableResource$1=addDisposableResource$2,SuppressedError$1=getBuiltIn$d("SuppressedError"),$ReferenceError$1=ReferenceError,DISPOSE$1=wellKnownSymbol$d("dispose"),TO_STRING_TAG$4=wellKnownSymbol$d("toStringTag"),DISPOSABLE_STACK="DisposableStack",setInternalState$3=InternalStateModule$4.set,getDisposableStackInternalState=InternalStateModule$4.getterFor(DISPOSABLE_STACK),HINT$1="sync-dispose",DISPOSED$1="disposed",PENDING$1="pending",getPendingDisposableStackInternalState=function(t){var e=getDisposableStackInternalState(t);if(e.state===DISPOSED$1)throw new $ReferenceError$1(DISPOSABLE_STACK+" already disposed");return e},$DisposableStack=function(){setInternalState$3(anInstance$3(this,DisposableStackPrototype),{type:DISPOSABLE_STACK,state:PENDING$1,stack:[]}),DESCRIPTORS$8||(this.disposed=!1)},DisposableStackPrototype=$DisposableStack.prototype;defineBuiltIns$3(DisposableStackPrototype,{dispose:function(){var t=getDisposableStackInternalState(this);if(t.state!==DISPOSED$1){t.state=DISPOSED$1,DESCRIPTORS$8||(this.disposed=!0);for(var e,i=t.stack,r=i.length,n=!1;r;){var a=i[--r];i[r]=null;try{a()}catch(t){n?e=new SuppressedError$1(t,e):(n=!0,e=t)}}if(t.stack=null,n)throw e}},use:function(t){return addDisposableResource$1(getPendingDisposableStackInternalState(this),t,HINT$1),t},adopt:function(t,e){var i=getPendingDisposableStackInternalState(this);return aCallable$h(e),addDisposableResource$1(i,void 0,HINT$1,function(){e(t)}),t},defer:function(t){var e=getPendingDisposableStackInternalState(this);aCallable$h(t),addDisposableResource$1(e,void 0,HINT$1,t)},move:function(){var t=getPendingDisposableStackInternalState(this),e=new $DisposableStack;return getDisposableStackInternalState(e).stack=t.stack,t.stack=[],t.state=DISPOSED$1,DESCRIPTORS$8||(this.disposed=!0),e}}),DESCRIPTORS$8&&defineBuiltInAccessor$5(DisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getDisposableStackInternalState(this).state===DISPOSED$1}}),defineBuiltIn$8(DisposableStackPrototype,DISPOSE$1,DisposableStackPrototype.dispose,{name:"dispose"}),defineBuiltIn$8(DisposableStackPrototype,TO_STRING_TAG$4,DISPOSABLE_STACK,{nonWritable:!0}),$$I({global:!0,constructor:!0},{DisposableStack:$DisposableStack});var IteratorPrototype$4,PrototypeOfArrayIteratorPrototype,arrayIterator$1,DESCRIPTORS$7=descriptors,definePropertyModule=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$6,createProperty$3=function(t,e,i){DESCRIPTORS$7?definePropertyModule.f(t,e,createPropertyDescriptor$1(0,i)):t[e]=i},fails$e=fails$t,isCallable$8=isCallable$l,isObject$6=isObject$f,getPrototypeOf$3=objectGetPrototypeOf,defineBuiltIn$7=defineBuiltIn$b,wellKnownSymbol$c=wellKnownSymbol$l,ITERATOR$4=wellKnownSymbol$c("iterator");[].keys&&"next"in(arrayIterator$1=[].keys())&&(PrototypeOfArrayIteratorPrototype=getPrototypeOf$3(getPrototypeOf$3(arrayIterator$1)))!==Object.prototype&&(IteratorPrototype$4=PrototypeOfArrayIteratorPrototype);var NEW_ITERATOR_PROTOTYPE=!isObject$6(IteratorPrototype$4)||fails$e(function(){var t={};return IteratorPrototype$4[ITERATOR$4].call(t)!==t});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$4={}),isCallable$8(IteratorPrototype$4[ITERATOR$4])||defineBuiltIn$7(IteratorPrototype$4,ITERATOR$4,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$4},$$H=_export,globalThis$k=globalThis_1,anInstance$2=anInstance$4,anObject$m=anObject$s,isCallable$7=isCallable$l,getPrototypeOf$2=objectGetPrototypeOf,defineBuiltInAccessor$4=defineBuiltInAccessor$7,createProperty$2=createProperty$3,fails$d=fails$t,hasOwn$9=hasOwnProperty_1,wellKnownSymbol$b=wellKnownSymbol$l,IteratorPrototype$3=iteratorsCore.IteratorPrototype,DESCRIPTORS$6=descriptors,CONSTRUCTOR="constructor",ITERATOR$3="Iterator",TO_STRING_TAG$3=wellKnownSymbol$b("toStringTag"),$TypeError$c=TypeError,NativeIterator=globalThis$k[ITERATOR$3],FORCED$a=!isCallable$7(NativeIterator)||NativeIterator.prototype!==IteratorPrototype$3||!fails$d(function(){NativeIterator({})}),IteratorConstructor=function(){if(anInstance$2(this,IteratorPrototype$3),getPrototypeOf$2(this)===IteratorPrototype$3)throw new $TypeError$c("Abstract class Iterator not directly constructable")},defineIteratorPrototypeAccessor=function(t,e){DESCRIPTORS$6?defineBuiltInAccessor$4(IteratorPrototype$3,t,{configurable:!0,get:function(){return e},set:function(e){if(anObject$m(this),this===IteratorPrototype$3)throw new $TypeError$c("You can't redefine this property");hasOwn$9(this,t)?this[t]=e:createProperty$2(this,t,e)}}):IteratorPrototype$3[t]=e};hasOwn$9(IteratorPrototype$3,TO_STRING_TAG$3)||defineIteratorPrototypeAccessor(TO_STRING_TAG$3,ITERATOR$3),!FORCED$a&&hasOwn$9(IteratorPrototype$3,CONSTRUCTOR)&&IteratorPrototype$3[CONSTRUCTOR]!==Object||defineIteratorPrototypeAccessor(CONSTRUCTOR,IteratorConstructor),IteratorConstructor.prototype=IteratorPrototype$3,$$H({global:!0,constructor:!0,forced:FORCED$a},{Iterator:IteratorConstructor});var call$p=functionCall,defineBuiltIn$6=defineBuiltIn$b,getMethod$8=getMethod$b,hasOwn$8=hasOwnProperty_1,wellKnownSymbol$a=wellKnownSymbol$l,IteratorPrototype$2=iteratorsCore.IteratorPrototype,DISPOSE=wellKnownSymbol$a("dispose");hasOwn$8(IteratorPrototype$2,DISPOSE)||defineBuiltIn$6(IteratorPrototype$2,DISPOSE,function(){var t=getMethod$8(this,"return");t&&call$p(t,this)});var getIteratorDirect$g=function(t){return{iterator:t,next:t.next,done:!1}},$RangeError$4=RangeError,notANan=function(t){if(t==t)return t;throw new $RangeError$4("NaN is not allowed")},toIntegerOrInfinity$3=toIntegerOrInfinity$9,$RangeError$3=RangeError,toPositiveInteger$2=function(t){var e=toIntegerOrInfinity$3(t);if(e<0)throw new $RangeError$3("The argument can't be less than 0");return e},call$o=functionCall,anObject$l=anObject$s,getMethod$7=getMethod$b,iteratorClose$h=function(t,e,i){var r,n;anObject$l(t);try{if(!(r=getMethod$7(t,"return"))){if("throw"===e)throw i;return i}r=call$o(r,t)}catch(t){n=!0,r=t}if("throw"===e)throw i;if(n)throw r;return anObject$l(r),i},createIterResultObject$2=function(t,e){return{value:t,done:e}},iteratorClose$g=iteratorClose$h,iteratorCloseAll$1=function(t,e,i){for(var r=t.length-1;r>=0;r--)if(void 0!==t[r])try{i=iteratorClose$g(t[r].iterator,e,i)}catch(t){e="throw",i=t}if("throw"===e)throw i;return i},call$n=functionCall,create$5=objectCreate,createNonEnumerableProperty$2=createNonEnumerableProperty$7,defineBuiltIns$2=defineBuiltIns$4,wellKnownSymbol$9=wellKnownSymbol$l,InternalStateModule$3=internalState,getMethod$6=getMethod$b,IteratorPrototype$1=iteratorsCore.IteratorPrototype,createIterResultObject$1=createIterResultObject$2,iteratorClose$f=iteratorClose$h,iteratorCloseAll=iteratorCloseAll$1,TO_STRING_TAG$2=wellKnownSymbol$9("toStringTag"),ITERATOR_HELPER="IteratorHelper",WRAP_FOR_VALID_ITERATOR="WrapForValidIterator",NORMAL="normal",THROW="throw",setInternalState$2=InternalStateModule$3.set,createIteratorProxyPrototype=function(t){var e=InternalStateModule$3.getterFor(t?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER);return defineBuiltIns$2(create$5(IteratorPrototype$1),{next:function(){var i=e(this);if(t)return i.nextHandler();if(i.done)return createIterResultObject$1(void 0,!0);try{var r=i.nextHandler();return i.returnHandlerResult?r:createIterResultObject$1(r,i.done)}catch(t){throw i.done=!0,t}},return:function(){var i=e(this),r=i.iterator;if(i.done=!0,t){var n=getMethod$6(r,"return");return n?call$n(n,r):createIterResultObject$1(void 0,!0)}if(i.inner)try{iteratorClose$f(i.inner.iterator,NORMAL)}catch(t){return iteratorClose$f(r,THROW,t)}if(i.openIters)try{iteratorCloseAll(i.openIters,NORMAL)}catch(t){return iteratorClose$f(r,THROW,t)}return r&&iteratorClose$f(r,NORMAL),createIterResultObject$1(void 0,!0)}})},WrapForValidIteratorPrototype=createIteratorProxyPrototype(!0),IteratorHelperPrototype=createIteratorProxyPrototype(!1);createNonEnumerableProperty$2(IteratorHelperPrototype,TO_STRING_TAG$2,"Iterator Helper");var iteratorCreateProxy=function(t,e,i){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=e?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER,n.returnHandlerResult=!!i,n.nextHandler=t,n.counter=0,n.done=!1,setInternalState$2(this,n)};return r.prototype=e?WrapForValidIteratorPrototype:IteratorHelperPrototype,r},iteratorHelperThrowsOnInvalidIterator$4=function(t,e){var i="function"==typeof Iterator&&Iterator.prototype[t];if(i)try{i.call({next:null},e).next()}catch(t){return!0}},globalThis$j=globalThis_1,iteratorHelperWithoutClosingOnEarlyError$a=function(t,e){var i=globalThis$j.Iterator,r=i&&i.prototype,n=r&&r[t],a=!1;if(n)try{n.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(t){t instanceof e||(a=!1)}if(!a)return n},$$G=_export,call$m=functionCall,anObject$k=anObject$s,getIteratorDirect$f=getIteratorDirect$g,notANaN$1=notANan,toPositiveInteger$1=toPositiveInteger$2,iteratorClose$e=iteratorClose$h,createIteratorProxy$5=iteratorCreateProxy,iteratorHelperThrowsOnInvalidIterator$3=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$9=iteratorHelperWithoutClosingOnEarlyError$a,DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$3("drop",0),dropWithoutClosingOnEarlyError=!DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$9("drop",RangeError),FORCED$9=DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR||dropWithoutClosingOnEarlyError,IteratorProxy$5=createIteratorProxy$5(function(){for(var t,e=this.iterator,i=this.next;this.remaining;)if(this.remaining--,t=anObject$k(call$m(i,e)),this.done=!!t.done)return;if(t=anObject$k(call$m(i,e)),!(this.done=!!t.done))return t.value});$$G({target:"Iterator",proto:!0,real:!0,forced:FORCED$9},{drop:function(t){var e;anObject$k(this);try{e=toPositiveInteger$1(notANaN$1(+t))}catch(t){iteratorClose$e(this,"throw",t)}return dropWithoutClosingOnEarlyError?call$m(dropWithoutClosingOnEarlyError,this,e):new IteratorProxy$5(getIteratorDirect$f(this),{remaining:e})}});var iterators={},wellKnownSymbol$8=wellKnownSymbol$l,Iterators$1=iterators,ITERATOR$2=wellKnownSymbol$8("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(t){return void 0!==t&&(Iterators$1.Array===t||ArrayPrototype[ITERATOR$2]===t)},classof$5=classof$c,getMethod$5=getMethod$b,isNullOrUndefined$1=isNullOrUndefined$5,Iterators=iterators,wellKnownSymbol$7=wellKnownSymbol$l,ITERATOR$1=wellKnownSymbol$7("iterator"),getIteratorMethod$4=function(t){if(!isNullOrUndefined$1(t))return getMethod$5(t,ITERATOR$1)||getMethod$5(t,"@@iterator")||Iterators[classof$5(t)]},call$l=functionCall,aCallable$g=aCallable$n,anObject$j=anObject$s,tryToString$1=tryToString$3,getIteratorMethod$3=getIteratorMethod$4,$TypeError$b=TypeError,getIterator$3=function(t,e){var i=arguments.length<2?getIteratorMethod$3(t):e;if(aCallable$g(i))return anObject$j(call$l(i,t));throw new $TypeError$b(tryToString$1(t)+" is not iterable")},bind$2=functionBindContext,call$k=functionCall,anObject$i=anObject$s,tryToString=tryToString$3,isArrayIteratorMethod=isArrayIteratorMethod$1,lengthOfArrayLike$1=lengthOfArrayLike$8,isPrototypeOf$2=objectIsPrototypeOf,getIterator$2=getIterator$3,getIteratorMethod$2=getIteratorMethod$4,iteratorClose$d=iteratorClose$h,$TypeError$a=TypeError,Result=function(t,e){this.stopped=t,this.result=e},ResultPrototype=Result.prototype,iterate$c=function(t,e,i){var r,n,a,s,o,l,c,g=i&&i.that,d=!(!i||!i.AS_ENTRIES),u=!(!i||!i.IS_RECORD),B=!(!i||!i.IS_ITERATOR),F=!(!i||!i.INTERRUPTED),h=bind$2(e,g),Q=function(t){return r&&iteratorClose$d(r,"normal"),new Result(!0,t)},U=function(t){return d?(anObject$i(t),F?h(t[0],t[1],Q):h(t[0],t[1])):F?h(t,Q):h(t)};if(u)r=t.iterator;else if(B)r=t;else{if(!(n=getIteratorMethod$2(t)))throw new $TypeError$a(tryToString(t)+" is not iterable");if(isArrayIteratorMethod(n)){for(a=0,s=lengthOfArrayLike$1(t);s>a;a++)if((o=U(t[a]))&&isPrototypeOf$2(ResultPrototype,o))return o;return new Result(!1)}r=getIterator$2(t,n)}for(l=u?t.next:r.next;!(c=call$k(l,r)).done;){try{o=U(c.value)}catch(t){iteratorClose$d(r,"throw",t)}if("object"==typeof o&&o&&isPrototypeOf$2(ResultPrototype,o))return o}return new Result(!1)},$$F=_export,call$j=functionCall,iterate$b=iterate$c,aCallable$f=aCallable$n,anObject$h=anObject$s,getIteratorDirect$e=getIteratorDirect$g,iteratorClose$c=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$8=iteratorHelperWithoutClosingOnEarlyError$a,everyWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$8("every",TypeError);$$F({target:"Iterator",proto:!0,real:!0,forced:everyWithoutClosingOnEarlyError},{every:function(t){anObject$h(this);try{aCallable$f(t)}catch(t){iteratorClose$c(this,"throw",t)}if(everyWithoutClosingOnEarlyError)return call$j(everyWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$e(this),i=0;return!iterate$b(e,function(e,r){if(!t(e,i++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var anObject$g=anObject$s,iteratorClose$b=iteratorClose$h,callWithSafeIterationClosing$2=function(t,e,i,r){try{return r?e(anObject$g(i)[0],i[1]):e(i)}catch(e){iteratorClose$b(t,"throw",e)}},$$E=_export,call$i=functionCall,aCallable$e=aCallable$n,anObject$f=anObject$s,getIteratorDirect$d=getIteratorDirect$g,createIteratorProxy$4=iteratorCreateProxy,callWithSafeIterationClosing$1=callWithSafeIterationClosing$2,iteratorClose$a=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator$2=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$7=iteratorHelperWithoutClosingOnEarlyError$a,FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$2("filter",function(){}),filterWithoutClosingOnEarlyError=!FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$7("filter",TypeError),FORCED$8=FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR||filterWithoutClosingOnEarlyError,IteratorProxy$4=createIteratorProxy$4(function(){for(var t,e,i=this.iterator,r=this.predicate,n=this.next;;){if(t=anObject$f(call$i(n,i)),this.done=!!t.done)return;if(e=t.value,callWithSafeIterationClosing$1(i,r,[e,this.counter++],!0))return e}});$$E({target:"Iterator",proto:!0,real:!0,forced:FORCED$8},{filter:function(t){anObject$f(this);try{aCallable$e(t)}catch(t){iteratorClose$a(this,"throw",t)}return filterWithoutClosingOnEarlyError?call$i(filterWithoutClosingOnEarlyError,this,t):new IteratorProxy$4(getIteratorDirect$d(this),{predicate:t})}});var $$D=_export,call$h=functionCall,iterate$a=iterate$c,aCallable$d=aCallable$n,anObject$e=anObject$s,getIteratorDirect$c=getIteratorDirect$g,iteratorClose$9=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$6=iteratorHelperWithoutClosingOnEarlyError$a,findWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$6("find",TypeError);$$D({target:"Iterator",proto:!0,real:!0,forced:findWithoutClosingOnEarlyError},{find:function(t){anObject$e(this);try{aCallable$d(t)}catch(t){iteratorClose$9(this,"throw",t)}if(findWithoutClosingOnEarlyError)return call$h(findWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$c(this),i=0;return iterate$a(e,function(e,r){if(t(e,i++))return r(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var call$g=functionCall,anObject$d=anObject$s,getIteratorDirect$b=getIteratorDirect$g,getIteratorMethod$1=getIteratorMethod$4,getIteratorFlattenable$2=function(t,e){e&&"string"==typeof t||anObject$d(t);var i=getIteratorMethod$1(t);return getIteratorDirect$b(anObject$d(void 0!==i?call$g(i,t):t))},$$C=_export,call$f=functionCall,aCallable$c=aCallable$n,anObject$c=anObject$s,getIteratorDirect$a=getIteratorDirect$g,getIteratorFlattenable$1=getIteratorFlattenable$2,createIteratorProxy$3=iteratorCreateProxy,iteratorClose$8=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator$1=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$5=iteratorHelperWithoutClosingOnEarlyError$a,FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator$1("flatMap",function(){}),flatMapWithoutClosingOnEarlyError=!FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$5("flatMap",TypeError),FORCED$7=FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR||flatMapWithoutClosingOnEarlyError,IteratorProxy$3=createIteratorProxy$3(function(){for(var t,e,i=this.iterator,r=this.mapper;;){if(e=this.inner)try{if(!(t=anObject$c(call$f(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){iteratorClose$8(i,"throw",t)}if(t=anObject$c(call$f(this.next,i)),this.done=!!t.done)return;try{this.inner=getIteratorFlattenable$1(r(t.value,this.counter++),!1)}catch(t){iteratorClose$8(i,"throw",t)}}});$$C({target:"Iterator",proto:!0,real:!0,forced:FORCED$7},{flatMap:function(t){anObject$c(this);try{aCallable$c(t)}catch(t){iteratorClose$8(this,"throw",t)}return flatMapWithoutClosingOnEarlyError?call$f(flatMapWithoutClosingOnEarlyError,this,t):new IteratorProxy$3(getIteratorDirect$a(this),{mapper:t,inner:null})}});var $$B=_export,call$e=functionCall,iterate$9=iterate$c,aCallable$b=aCallable$n,anObject$b=anObject$s,getIteratorDirect$9=getIteratorDirect$g,iteratorClose$7=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$4=iteratorHelperWithoutClosingOnEarlyError$a,forEachWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$4("forEach",TypeError);$$B({target:"Iterator",proto:!0,real:!0,forced:forEachWithoutClosingOnEarlyError},{forEach:function(t){anObject$b(this);try{aCallable$b(t)}catch(t){iteratorClose$7(this,"throw",t)}if(forEachWithoutClosingOnEarlyError)return call$e(forEachWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$9(this),i=0;iterate$9(e,function(e){t(e,i++)},{IS_RECORD:!0})}});var $$A=_export,call$d=functionCall,toObject$1=toObject$5,isPrototypeOf$1=objectIsPrototypeOf,IteratorPrototype=iteratorsCore.IteratorPrototype,createIteratorProxy$2=iteratorCreateProxy,getIteratorFlattenable=getIteratorFlattenable$2,FORCED$6=function(){try{Iterator.from({return:null}).return()}catch(t){return!0}}(),IteratorProxy$2=createIteratorProxy$2(function(){return call$d(this.next,this.iterator)},!0);$$A({target:"Iterator",stat:!0,forced:FORCED$6},{from:function(t){var e=getIteratorFlattenable("string"==typeof t?toObject$1(t):t,!0);return isPrototypeOf$1(IteratorPrototype,e.iterator)?e.iterator:new IteratorProxy$2(e)}});var $$z=_export,call$c=functionCall,aCallable$a=aCallable$n,anObject$a=anObject$s,getIteratorDirect$8=getIteratorDirect$g,createIteratorProxy$1=iteratorCreateProxy,callWithSafeIterationClosing=callWithSafeIterationClosing$2,iteratorClose$6=iteratorClose$h,iteratorHelperThrowsOnInvalidIterator=iteratorHelperThrowsOnInvalidIterator$4,iteratorHelperWithoutClosingOnEarlyError$3=iteratorHelperWithoutClosingOnEarlyError$a,MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR=!iteratorHelperThrowsOnInvalidIterator("map",function(){}),mapWithoutClosingOnEarlyError=!MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR&&iteratorHelperWithoutClosingOnEarlyError$3("map",TypeError),FORCED$5=MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR||mapWithoutClosingOnEarlyError,IteratorProxy$1=createIteratorProxy$1(function(){var t=this.iterator,e=anObject$a(call$c(this.next,t));if(!(this.done=!!e.done))return callWithSafeIterationClosing(t,this.mapper,[e.value,this.counter++],!0)});$$z({target:"Iterator",proto:!0,real:!0,forced:FORCED$5},{map:function(t){anObject$a(this);try{aCallable$a(t)}catch(t){iteratorClose$6(this,"throw",t)}return mapWithoutClosingOnEarlyError?call$c(mapWithoutClosingOnEarlyError,this,t):new IteratorProxy$1(getIteratorDirect$8(this),{mapper:t})}});var NATIVE_BIND=functionBindNative,FunctionPrototype=Function.prototype,apply$5=FunctionPrototype.apply,call$b=FunctionPrototype.call,functionApply="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND?call$b.bind(apply$5):function(){return call$b.apply(apply$5,arguments)}),$$y=_export,iterate$8=iterate$c,aCallable$9=aCallable$n,anObject$9=anObject$s,getIteratorDirect$7=getIteratorDirect$g,iteratorClose$5=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$2=iteratorHelperWithoutClosingOnEarlyError$a,apply$4=functionApply,fails$c=fails$t,$TypeError$9=TypeError,FAILS_ON_INITIAL_UNDEFINED=fails$c(function(){[].keys().reduce(function(){},void 0)}),reduceWithoutClosingOnEarlyError=!FAILS_ON_INITIAL_UNDEFINED&&iteratorHelperWithoutClosingOnEarlyError$2("reduce",$TypeError$9);$$y({target:"Iterator",proto:!0,real:!0,forced:FAILS_ON_INITIAL_UNDEFINED||reduceWithoutClosingOnEarlyError},{reduce:function(t){anObject$9(this);try{aCallable$9(t)}catch(t){iteratorClose$5(this,"throw",t)}var e=arguments.length<2,i=e?void 0:arguments[1];if(reduceWithoutClosingOnEarlyError)return apply$4(reduceWithoutClosingOnEarlyError,this,e?[t]:[t,i]);var r=getIteratorDirect$7(this),n=0;if(iterate$8(r,function(r){e?(e=!1,i=r):i=t(i,r,n),n++},{IS_RECORD:!0}),e)throw new $TypeError$9("Reduce of empty iterator with no initial value");return i}});var $$x=_export,call$a=functionCall,iterate$7=iterate$c,aCallable$8=aCallable$n,anObject$8=anObject$s,getIteratorDirect$6=getIteratorDirect$g,iteratorClose$4=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError$1=iteratorHelperWithoutClosingOnEarlyError$a,someWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$1("some",TypeError);$$x({target:"Iterator",proto:!0,real:!0,forced:someWithoutClosingOnEarlyError},{some:function(t){anObject$8(this);try{aCallable$8(t)}catch(t){iteratorClose$4(this,"throw",t)}if(someWithoutClosingOnEarlyError)return call$a(someWithoutClosingOnEarlyError,this,t);var e=getIteratorDirect$6(this),i=0;return iterate$7(e,function(e,r){if(t(e,i++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var $$w=_export,call$9=functionCall,anObject$7=anObject$s,getIteratorDirect$5=getIteratorDirect$g,notANaN=notANan,toPositiveInteger=toPositiveInteger$2,createIteratorProxy=iteratorCreateProxy,iteratorClose$3=iteratorClose$h,iteratorHelperWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError$a,takeWithoutClosingOnEarlyError=iteratorHelperWithoutClosingOnEarlyError("take",RangeError),IteratorProxy=createIteratorProxy(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,iteratorClose$3(t,"normal",void 0);var e=anObject$7(call$9(this.next,t));return(this.done=!!e.done)?void 0:e.value});$$w({target:"Iterator",proto:!0,real:!0,forced:takeWithoutClosingOnEarlyError},{take:function(t){var e;anObject$7(this);try{e=toPositiveInteger(notANaN(+t))}catch(t){iteratorClose$3(this,"throw",t)}return takeWithoutClosingOnEarlyError?call$9(takeWithoutClosingOnEarlyError,this,e):new IteratorProxy(getIteratorDirect$5(this),{remaining:e})}});var $$v=_export,anObject$6=anObject$s,iterate$6=iterate$c,getIteratorDirect$4=getIteratorDirect$g,push$5=[].push;$$v({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return iterate$6(getIteratorDirect$4(anObject$6(this)),push$5,{that:t,IS_RECORD:!0}),t}});var uncurryThis$l=functionUncurryThis,MapPrototype=Map.prototype,mapHelpers={Map:Map,set:uncurryThis$l(MapPrototype.set),get:uncurryThis$l(MapPrototype.get),has:uncurryThis$l(MapPrototype.has),remove:uncurryThis$l(MapPrototype.delete)},$$u=_export,uncurryThis$k=functionUncurryThis,aCallable$7=aCallable$n,requireObjectCoercible$5=requireObjectCoercible$9,iterate$5=iterate$c,MapHelpers$1=mapHelpers,fails$b=fails$t,Map$2=MapHelpers$1.Map,has$6=MapHelpers$1.has,get$2=MapHelpers$1.get,set$3=MapHelpers$1.set,push$4=uncurryThis$k([].push),DOES_NOT_WORK_WITH_PRIMITIVES$1=fails$b(function(){return 1!==Map$2.groupBy("ab",function(t){return t}).get("a").length});$$u({target:"Map",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES$1},{groupBy:function(t,e){requireObjectCoercible$5(t),aCallable$7(e);var i=new Map$2,r=0;return iterate$5(t,function(t){var n=e(t,r++);has$6(i,n)?push$4(get$2(i,n),t):set$3(i,n,[t])}),i}});var mathSign=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1},sign$3=mathSign,roundTiesToEven=mathRoundTiesToEven,abs$3=Math.abs,EPSILON=2220446049250313e-31,mathFloatRound=function(t,e,i,r){var n=+t,a=abs$3(n),s=sign$3(n);if(a<r)return s*roundTiesToEven(a/r/e)*r*e;var o=(1+e/EPSILON)*a,l=o-(o-a);return l>i||l!=l?s*(1/0):s*l},$$t=_export,floatRound=mathFloatRound,FLOAT16_EPSILON=.0009765625,FLOAT16_MAX_VALUE=65504,FLOAT16_MIN_VALUE=6103515625e-14;$$t({target:"Math",stat:!0},{f16round:function(t){return floatRound(t,FLOAT16_EPSILON,FLOAT16_MAX_VALUE,FLOAT16_MIN_VALUE)}});var $$s=_export,uncurryThis$j=functionUncurryThis,iterate$4=iterate$c,$RangeError$2=RangeError,$TypeError$8=TypeError,$Infinity=1/0,$NaN=NaN,abs$2=Math.abs,pow$2=Math.pow,push$3=uncurryThis$j([].push),POW_2_1023=pow$2(2,1023),MAX_SAFE_INTEGER=pow$2(2,53)-1,MAX_DOUBLE=Number.MAX_VALUE,MAX_ULP=pow$2(2,971),NOT_A_NUMBER={},MINUS_INFINITY={},PLUS_INFINITY={},MINUS_ZERO={},FINITE={},twosum=function(t,e){var i=t+e;return{hi:i,lo:e-(i-t)}};$$s({target:"Math",stat:!0},{sumPrecise:function(t){var e=[],i=0,r=MINUS_ZERO;switch(iterate$4(t,function(t){if(++i>=MAX_SAFE_INTEGER)throw new $RangeError$2("Maximum allowed index exceeded");if("number"!=typeof t)throw new $TypeError$8("Value is not a number");r!==NOT_A_NUMBER&&(t!=t?r=NOT_A_NUMBER:t===$Infinity?r=r===MINUS_INFINITY?NOT_A_NUMBER:PLUS_INFINITY:t===-$Infinity?r=r===PLUS_INFINITY?NOT_A_NUMBER:MINUS_INFINITY:0===t&&1/t!==$Infinity||r!==MINUS_ZERO&&r!==FINITE||(r=FINITE,push$3(e,t)))}),r){case NOT_A_NUMBER:return $NaN;case MINUS_INFINITY:return-$Infinity;case PLUS_INFINITY:return $Infinity;case MINUS_ZERO:return-0}for(var n,a,s,o,l,c,g=[],d=0,u=0;u<e.length;u++){n=e[u];for(var B=0,F=0;F<g.length;F++){if(a=g[F],abs$2(n)<abs$2(a)&&(c=n,n=a,a=c),o=(s=twosum(n,a)).hi,l=s.lo,abs$2(o)===$Infinity){var h=o===$Infinity?1:-1;d+=h,abs$2(n=n-h*POW_2_1023-h*POW_2_1023)<abs$2(a)&&(c=n,n=a,a=c),o=(s=twosum(n,a)).hi,l=s.lo}0!==l&&(g[B++]=l),n=o}g.length=B,0!==n&&push$3(g,n)}var Q=g.length-1;if(o=0,l=0,0!==d){var U=Q>=0?g[Q]:0;if(Q--,abs$2(d)>1||d>0&&U>0||d<0&&U<0)return d>0?$Infinity:-$Infinity;if(o=(s=twosum(d*POW_2_1023,U/2)).hi,l=s.lo,l*=2,abs$2(2*o)===$Infinity)return o>0?o===POW_2_1023&&l===-MAX_ULP/2&&Q>=0&&g[Q]<0?MAX_DOUBLE:$Infinity:o===-POW_2_1023&&l===MAX_ULP/2&&Q>=0&&g[Q]>0?-MAX_DOUBLE:-$Infinity;0!==l&&(g[++Q]=l,l=0),o*=2}for(;Q>=0&&(o=(s=twosum(o,g[Q--])).hi,0===(l=s.lo)););return Q>=0&&(l<0&&g[Q]<0||l>0&&g[Q]>0)&&(a=2*l)===(n=o+a)-o&&(o=n),o}});var $$r=_export,createProperty$1=createProperty$3,getBuiltIn$c=getBuiltIn$j,uncurryThis$i=functionUncurryThis,aCallable$6=aCallable$n,requireObjectCoercible$4=requireObjectCoercible$9,toPropertyKey=toPropertyKey$3,iterate$3=iterate$c,fails$a=fails$t,nativeGroupBy=Object.groupBy,create$4=getBuiltIn$c("Object","create"),push$2=uncurryThis$i([].push),DOES_NOT_WORK_WITH_PRIMITIVES=!nativeGroupBy||fails$a(function(){return 1!==nativeGroupBy("ab",function(t){return t}).a.length});$$r({target:"Object",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES},{groupBy:function(t,e){requireObjectCoercible$4(t),aCallable$6(e);var i=create$4(null),r=0;return iterate$3(t,function(t){var n=toPropertyKey(e(t,r++));n in i?push$2(i[n],t):createProperty$1(i,n,[t])}),i}});var uncurryThis$h=functionUncurryThis,arraySlice$2=uncurryThis$h([].slice),newPromiseCapability={},aCallable$5=aCallable$n,$TypeError$7=TypeError,PromiseCapability=function(t){var e,i;this.promise=new t(function(t,r){if(void 0!==e||void 0!==i)throw new $TypeError$7("Bad Promise constructor");e=t,i=r}),this.resolve=aCallable$5(e),this.reject=aCallable$5(i)};newPromiseCapability.f=function(t){return new PromiseCapability(t)};var perform$1=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},$$q=_export,globalThis$i=globalThis_1,apply$3=functionApply,slice$3=arraySlice$2,newPromiseCapabilityModule$1=newPromiseCapability,aCallable$4=aCallable$n,perform=perform$1,Promise$4=globalThis$i.Promise,ACCEPT_ARGUMENTS=!1,FORCED$4=!Promise$4||!Promise$4.try||perform(function(){Promise$4.try(function(t){ACCEPT_ARGUMENTS=8===t},8)}).error||!ACCEPT_ARGUMENTS;$$q({target:"Promise",stat:!0,forced:FORCED$4},{try:function(t){var e=arguments.length>1?slice$3(arguments,1):[],i=newPromiseCapabilityModule$1.f(this),r=perform(function(){return apply$3(aCallable$4(t),void 0,e)});return(r.error?i.reject:i.resolve)(r.value),i.promise}});var $$p=_export,newPromiseCapabilityModule=newPromiseCapability;$$p({target:"Promise",stat:!0},{withResolvers:function(){var t=newPromiseCapabilityModule.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var uncurryThis$g=functionUncurryThis,fails$9=fails$t,isCallable$6=isCallable$l,classof$4=classof$c,getBuiltIn$b=getBuiltIn$j,inspectSource=inspectSource$2,noop$6=function(){},construct=getBuiltIn$b("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$g(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop$6),isConstructorModern=function(t){if(!isCallable$6(t))return!1;try{return construct(noop$6,[],t),!0}catch(t){return!1}},isConstructorLegacy=function(t){if(!isCallable$6(t))return!1;switch(classof$4(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(t))}catch(t){return!0}};isConstructorLegacy.sham=!0;var AsyncIteratorPrototype$2,prototype,isConstructor$2=!construct||fails$9(function(){var t;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){t=!0})||t})?isConstructorLegacy:isConstructorModern,globalThis$h=globalThis_1,shared=sharedStoreExports,isCallable$5=isCallable$l,getPrototypeOf$1=objectGetPrototypeOf,defineBuiltIn$5=defineBuiltIn$b,wellKnownSymbol$6=wellKnownSymbol$l,USE_FUNCTION_CONSTRUCTOR="USE_FUNCTION_CONSTRUCTOR",ASYNC_ITERATOR$2=wellKnownSymbol$6("asyncIterator"),AsyncIterator=globalThis$h.AsyncIterator,PassedAsyncIteratorPrototype=shared.AsyncIteratorPrototype;if(PassedAsyncIteratorPrototype)AsyncIteratorPrototype$2=PassedAsyncIteratorPrototype;else if(isCallable$5(AsyncIterator))AsyncIteratorPrototype$2=AsyncIterator.prototype;else if(shared[USE_FUNCTION_CONSTRUCTOR]||globalThis$h[USE_FUNCTION_CONSTRUCTOR])try{prototype=getPrototypeOf$1(getPrototypeOf$1(getPrototypeOf$1(Function("return async function*(){}()")()))),getPrototypeOf$1(prototype)===Object.prototype&&(AsyncIteratorPrototype$2=prototype)}catch(t){}AsyncIteratorPrototype$2||(AsyncIteratorPrototype$2={}),isCallable$5(AsyncIteratorPrototype$2[ASYNC_ITERATOR$2])||defineBuiltIn$5(AsyncIteratorPrototype$2,ASYNC_ITERATOR$2,function(){return this});var asyncIteratorPrototype=AsyncIteratorPrototype$2,call$8=functionCall,anObject$5=anObject$s,create$3=objectCreate,getMethod$4=getMethod$b,defineBuiltIns$1=defineBuiltIns$4,InternalStateModule$2=internalState,iteratorClose$2=iteratorClose$h,getBuiltIn$a=getBuiltIn$j,AsyncIteratorPrototype$1=asyncIteratorPrototype,createIterResultObject=createIterResultObject$2,Promise$3=getBuiltIn$a("Promise"),ASYNC_FROM_SYNC_ITERATOR="AsyncFromSyncIterator",setInternalState$1=InternalStateModule$2.set,getInternalState$1=InternalStateModule$2.getterFor(ASYNC_FROM_SYNC_ITERATOR),asyncFromSyncIteratorContinuation=function(t,e,i,r,n){var a=t.done;Promise$3.resolve(t.value).then(function(t){e(createIterResultObject(t,a))},function(t){if(!a&&n)try{iteratorClose$2(r,"throw",t)}catch(e){t=e}i(t)})},AsyncFromSyncIterator$2=function(t){t.type=ASYNC_FROM_SYNC_ITERATOR,setInternalState$1(this,t)};AsyncFromSyncIterator$2.prototype=defineBuiltIns$1(create$3(AsyncIteratorPrototype$1),{next:function(){var t=getInternalState$1(this);return new Promise$3(function(e,i){var r=anObject$5(call$8(t.next,t.iterator));asyncFromSyncIteratorContinuation(r,e,i,t.iterator,!0)})},return:function(){var t=getInternalState$1(this).iterator;return new Promise$3(function(e,i){var r=getMethod$4(t,"return");if(void 0===r)return e(createIterResultObject(void 0,!0));var n=anObject$5(call$8(r,t));asyncFromSyncIteratorContinuation(n,e,i,t)})}});var asyncFromSyncIterator=AsyncFromSyncIterator$2,call$7=functionCall,AsyncFromSyncIterator$1=asyncFromSyncIterator,anObject$4=anObject$s,getIterator$1=getIterator$3,getIteratorDirect$3=getIteratorDirect$g,getMethod$3=getMethod$b,wellKnownSymbol$5=wellKnownSymbol$l,ASYNC_ITERATOR$1=wellKnownSymbol$5("asyncIterator"),getAsyncIterator$1=function(t,e){var i=arguments.length<2?getMethod$3(t,ASYNC_ITERATOR$1):e;return i?anObject$4(call$7(i,t)):new AsyncFromSyncIterator$1(getIteratorDirect$3(getIterator$1(t)))},call$6=functionCall,getBuiltIn$9=getBuiltIn$j,getMethod$2=getMethod$b,asyncIteratorClose=function(t,e,i,r){try{var n=getMethod$2(t,"return");if(n)return getBuiltIn$9("Promise").resolve(call$6(n,t)).then(function(){e(i)},function(t){r(t)})}catch(t){return r(t)}e(i)},call$5=functionCall,aCallable$3=aCallable$n,anObject$3=anObject$s,isObject$5=isObject$f,doesNotExceedSafeInteger=doesNotExceedSafeInteger$3,getBuiltIn$8=getBuiltIn$j,getIteratorDirect$2=getIteratorDirect$g,closeAsyncIteration=asyncIteratorClose,createMethod$1=function(t){var e=0===t,i=1===t,r=2===t,n=3===t;return function(t,a,s){anObject$3(t);var o=void 0!==a;!o&&e||aCallable$3(a);var l=getIteratorDirect$2(t),c=getBuiltIn$8("Promise"),g=l.iterator,d=l.next,u=0;return new c(function(t,l){var B=function(t){closeAsyncIteration(g,l,t,l)},F=function(){try{if(o)try{doesNotExceedSafeInteger(u)}catch(t){B(t)}c.resolve(anObject$3(call$5(d,g))).then(function(d){try{if(anObject$3(d).done)e?(s.length=u,t(s)):t(!n&&(r||void 0));else{var h=d.value;try{if(o){var Q=a(h,u),U=function(a){if(i)F();else if(r)a?F():closeAsyncIteration(g,t,!1,l);else if(e)try{s[u++]=a,F()}catch(t){B(t)}else a?closeAsyncIteration(g,t,n||h,l):F()};isObject$5(Q)?c.resolve(Q).then(U,B):U(Q)}else s[u++]=h,F()}catch(t){B(t)}}}catch(t){l(t)}},l)}catch(t){l(t)}};F()})}},asyncIteratorIteration={toArray:createMethod$1(0)},bind$1=functionBindContext,uncurryThis$f=functionUncurryThis,toObject=toObject$5,isConstructor$1=isConstructor$2,getAsyncIterator=getAsyncIterator$1,getIterator=getIterator$3,getIteratorDirect$1=getIteratorDirect$g,getIteratorMethod=getIteratorMethod$4,getMethod$1=getMethod$b,getBuiltIn$7=getBuiltIn$j,getBuiltInPrototypeMethod=getBuiltInPrototypeMethod$2,wellKnownSymbol$4=wellKnownSymbol$l,AsyncFromSyncIterator=asyncFromSyncIterator,toArray=asyncIteratorIteration.toArray,ASYNC_ITERATOR=wellKnownSymbol$4("asyncIterator"),arrayIterator=uncurryThis$f(getBuiltInPrototypeMethod("Array","values")),arrayIteratorNext=uncurryThis$f(arrayIterator([]).next),safeArrayIterator=function(){return new SafeArrayIterator(this)},SafeArrayIterator=function(t){this.iterator=arrayIterator(t)};SafeArrayIterator.prototype.next=function(){return arrayIteratorNext(this.iterator)};var arrayFromAsync=function(t){var e=this,i=arguments.length,r=i>1?arguments[1]:void 0,n=i>2?arguments[2]:void 0;return new(getBuiltIn$7("Promise"))(function(i){var a=toObject(t);void 0!==r&&(r=bind$1(r,n));var s=getMethod$1(a,ASYNC_ITERATOR),o=s?void 0:getIteratorMethod(a)||safeArrayIterator,l=isConstructor$1(e)?new e:[],c=s?getAsyncIterator(a,s):new AsyncFromSyncIterator(getIteratorDirect$1(getIterator(a,o)));i(toArray(c,r,l))})},$$o=_export,fromAsync=arrayFromAsync,fails$8=fails$t,nativeFromAsync=Array.fromAsync,INCORRECT_CONSTRUCTURING=!nativeFromAsync||fails$8(function(){var t=0;return nativeFromAsync.call(function(){return t++,[]},{length:0}),1!==t});$$o({target:"Array",stat:!0,forced:INCORRECT_CONSTRUCTURING},{fromAsync:fromAsync});var $$n=_export,DESCRIPTORS$5=descriptors,getBuiltIn$6=getBuiltIn$j,aCallable$2=aCallable$n,anInstance$1=anInstance$4,defineBuiltIn$4=defineBuiltIn$b,defineBuiltIns=defineBuiltIns$4,defineBuiltInAccessor$3=defineBuiltInAccessor$7,wellKnownSymbol$3=wellKnownSymbol$l,InternalStateModule$1=internalState,addDisposableResource=addDisposableResource$2,V8_VERSION=environmentV8Version,Promise$2=getBuiltIn$6("Promise"),SuppressedError=getBuiltIn$6("SuppressedError"),$ReferenceError=ReferenceError,ASYNC_DISPOSE$1=wellKnownSymbol$3("asyncDispose"),TO_STRING_TAG$1=wellKnownSymbol$3("toStringTag"),ASYNC_DISPOSABLE_STACK="AsyncDisposableStack",setInternalState=InternalStateModule$1.set,getAsyncDisposableStackInternalState=InternalStateModule$1.getterFor(ASYNC_DISPOSABLE_STACK),HINT="async-dispose",DISPOSED="disposed",PENDING="pending",getPendingAsyncDisposableStackInternalState=function(t){var e=getAsyncDisposableStackInternalState(t);if(e.state===DISPOSED)throw new $ReferenceError(ASYNC_DISPOSABLE_STACK+" already disposed");return e},$AsyncDisposableStack=function(){setInternalState(anInstance$1(this,AsyncDisposableStackPrototype),{type:ASYNC_DISPOSABLE_STACK,state:PENDING,stack:[]}),DESCRIPTORS$5||(this.disposed=!1)},AsyncDisposableStackPrototype=$AsyncDisposableStack.prototype;defineBuiltIns(AsyncDisposableStackPrototype,{disposeAsync:function(){var t=this;return new Promise$2(function(e,i){var r=getAsyncDisposableStackInternalState(t);if(r.state===DISPOSED)return e(void 0);r.state=DISPOSED,DESCRIPTORS$5||(t.disposed=!0);var n,a=r.stack,s=a.length,o=!1,l=function(t){o?n=new SuppressedError(t,n):(o=!0,n=t),c()},c=function(){if(s){var t=a[--s];a[s]=null;try{Promise$2.resolve(t()).then(c,l)}catch(t){l(t)}}else r.stack=null,o?i(n):e(void 0)};c()})},use:function(t){return addDisposableResource(getPendingAsyncDisposableStackInternalState(this),t,HINT),t},adopt:function(t,e){var i=getPendingAsyncDisposableStackInternalState(this);return aCallable$2(e),addDisposableResource(i,void 0,HINT,function(){return e(t)}),t},defer:function(t){var e=getPendingAsyncDisposableStackInternalState(this);aCallable$2(t),addDisposableResource(e,void 0,HINT,t)},move:function(){var t=getPendingAsyncDisposableStackInternalState(this),e=new $AsyncDisposableStack;return getAsyncDisposableStackInternalState(e).stack=t.stack,t.stack=[],t.state=DISPOSED,DESCRIPTORS$5||(this.disposed=!0),e}}),DESCRIPTORS$5&&defineBuiltInAccessor$3(AsyncDisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getAsyncDisposableStackInternalState(this).state===DISPOSED}}),defineBuiltIn$4(AsyncDisposableStackPrototype,ASYNC_DISPOSE$1,AsyncDisposableStackPrototype.disposeAsync,{name:"disposeAsync"}),defineBuiltIn$4(AsyncDisposableStackPrototype,TO_STRING_TAG$1,ASYNC_DISPOSABLE_STACK,{nonWritable:!0});var SYNC_DISPOSE_RETURNING_PROMISE_RESOLUTION_BUG=V8_VERSION&&V8_VERSION<136;$$n({global:!0,constructor:!0,forced:SYNC_DISPOSE_RETURNING_PROMISE_RESOLUTION_BUG},{AsyncDisposableStack:$AsyncDisposableStack});var call$4=functionCall,defineBuiltIn$3=defineBuiltIn$b,getBuiltIn$5=getBuiltIn$j,getMethod=getMethod$b,hasOwn$7=hasOwnProperty_1,wellKnownSymbol$2=wellKnownSymbol$l,AsyncIteratorPrototype=asyncIteratorPrototype,ASYNC_DISPOSE=wellKnownSymbol$2("asyncDispose"),Promise$1=getBuiltIn$5("Promise");hasOwn$7(AsyncIteratorPrototype,ASYNC_DISPOSE)||defineBuiltIn$3(AsyncIteratorPrototype,ASYNC_DISPOSE,function(){var t=this;return new Promise$1(function(e,i){var r=getMethod(t,"return");r?Promise$1.resolve(call$4(r,t)).then(function(){e(void 0)},i):e(void 0)})});var $TypeError$6=TypeError,aString$4=function(t){if("string"==typeof t)return t;throw new $TypeError$6("Argument is not a string")},toIntegerOrInfinity$2=toIntegerOrInfinity$9,toString$8=toString$a,requireObjectCoercible$3=requireObjectCoercible$9,$RangeError$1=RangeError,stringRepeat=function(t){var e=toString$8(requireObjectCoercible$3(this)),i="",r=toIntegerOrInfinity$2(t);if(r<0||r===1/0)throw new $RangeError$1("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i},uncurryThis$e=functionUncurryThis,toLength=toLength$3,toString$7=toString$a,$repeat=stringRepeat,requireObjectCoercible$2=requireObjectCoercible$9,repeat=uncurryThis$e($repeat),stringSlice$1=uncurryThis$e("".slice),ceil=Math.ceil,createMethod=function(t){return function(e,i,r){var n,a,s=toString$7(requireObjectCoercible$2(e)),o=toLength(i),l=s.length,c=void 0===r?" ":toString$7(r);return o<=l||""===c?s:((a=repeat(c,ceil((n=o-l)/c.length))).length>n&&(a=stringSlice$1(a,0,n)),t?s+a:a+s)}},stringPad={start:createMethod(!1)},whitespaces="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",$$m=_export,uncurryThis$d=functionUncurryThis,aString$3=aString$4,hasOwn$6=hasOwnProperty_1,padStart=stringPad.start,WHITESPACES=whitespaces,$Array$1=Array,$escape=RegExp.escape,charAt$2=uncurryThis$d("".charAt),charCodeAt$2=uncurryThis$d("".charCodeAt),numberToString$1=uncurryThis$d(1.1.toString),join$1=uncurryThis$d([].join),FIRST_DIGIT_OR_ASCII=/^[0-9a-z]/i,SYNTAX_SOLIDUS=/^[$()*+./?[\\\]^{|}]/,OTHER_PUNCTUATORS_AND_WHITESPACES=RegExp("^[!\"#%&',\\-:;<=>@`~"+WHITESPACES+"]"),exec$1=uncurryThis$d(FIRST_DIGIT_OR_ASCII.exec),ControlEscape={"\t":"t","\n":"n","\v":"v","\f":"f","\r":"r"},escapeChar=function(t){var e=numberToString$1(charCodeAt$2(t,0),16);return e.length<3?"\\x"+padStart(e,2,"0"):"\\u"+padStart(e,4,"0")},FORCED$3=!$escape||"\\x61b"!==$escape("ab");$$m({target:"RegExp",stat:!0,forced:FORCED$3},{escape:function(t){aString$3(t);for(var e=t.length,i=$Array$1(e),r=0;r<e;r++){var n=charAt$2(t,r);if(0===r&&exec$1(FIRST_DIGIT_OR_ASCII,n))i[r]=escapeChar(n);else if(hasOwn$6(ControlEscape,n))i[r]="\\"+ControlEscape[n];else if(exec$1(SYNTAX_SOLIDUS,n))i[r]="\\"+n;else if(exec$1(OTHER_PUNCTUATORS_AND_WHITESPACES,n))i[r]=escapeChar(n);else{var a=charCodeAt$2(n,0);55296!=(63488&a)?i[r]=n:a>=56320||r+1>=e||56320!=(64512&charCodeAt$2(t,r+1))?i[r]=escapeChar(n):(i[r]=n,i[++r]=charAt$2(t,r))}}return join$1(i,"")}});var globalThis$g=globalThis_1,fails$7=fails$t,RegExp$1=globalThis$g.RegExp,FLAGS_GETTER_IS_CORRECT=!fails$7(function(){var t=!0;try{RegExp$1(".","d")}catch(e){t=!1}var e={},i="",r=t?"dgimsy":"gimsy",n=function(t,r){Object.defineProperty(e,t,{get:function(){return i+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(a.hasIndices="d"),a)n(s,a[s]);return Object.getOwnPropertyDescriptor(RegExp$1.prototype,"flags").get.call(e)!==r||i!==r}),regexpFlagsDetection={correct:FLAGS_GETTER_IS_CORRECT},anObject$2=anObject$s,regexpFlags=function(){var t=anObject$2(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},DESCRIPTORS$4=descriptors,defineBuiltInAccessor$2=defineBuiltInAccessor$7,regExpFlagsDetection$1=regexpFlagsDetection,regExpFlagsGetterImplementation$1=regexpFlags;DESCRIPTORS$4&&!regExpFlagsDetection$1.correct&&(defineBuiltInAccessor$2(RegExp.prototype,"flags",{configurable:!0,get:regExpFlagsGetterImplementation$1}),regExpFlagsDetection$1.correct=!0);var uncurryThis$c=functionUncurryThis,SetPrototype$1=Set.prototype,setHelpers={Set:Set,add:uncurryThis$c(SetPrototype$1.add),has:uncurryThis$c(SetPrototype$1.has),remove:uncurryThis$c(SetPrototype$1.delete),proto:SetPrototype$1},has$5=setHelpers.has,aSet$7=function(t){return has$5(t),t},call$3=functionCall,iterateSimple$7=function(t,e,i){for(var r,n,a=i?t:t.iterator,s=t.next;!(r=call$3(s,a)).done;)if(void 0!==(n=e(r.value)))return n},uncurryThis$b=functionUncurryThis,iterateSimple$6=iterateSimple$7,SetHelpers$6=setHelpers,Set$4=SetHelpers$6.Set,SetPrototype=SetHelpers$6.proto,forEach$2=uncurryThis$b(SetPrototype.forEach),keys=uncurryThis$b(SetPrototype.keys),next=keys(new Set$4).next,setIterate$1=function(t,e,i){return i?iterateSimple$6({iterator:keys(t),next:next},e):forEach$2(t,e)},SetHelpers$5=setHelpers,iterate$2=setIterate$1,Set$3=SetHelpers$5.Set,add$3=SetHelpers$5.add,setClone=function(t){var e=new Set$3;return iterate$2(t,function(t){add$3(e,t)}),e},uncurryThisAccessor=functionUncurryThisAccessor,SetHelpers$4=setHelpers,setSize=uncurryThisAccessor(SetHelpers$4.proto,"size","get")||function(t){return t.size},aCallable$1=aCallable$n,anObject$1=anObject$s,call$2=functionCall,toIntegerOrInfinity$1=toIntegerOrInfinity$9,getIteratorDirect=getIteratorDirect$g,INVALID_SIZE="Invalid size",$RangeError=RangeError,$TypeError$5=TypeError,max$2=Math.max,SetRecord=function(t,e){this.set=t,this.size=max$2(e,0),this.has=aCallable$1(t.has),this.keys=aCallable$1(t.keys)};SetRecord.prototype={getIterator:function(){return getIteratorDirect(anObject$1(call$2(this.keys,this.set)))},includes:function(t){return call$2(this.has,this.set,t)}};var getSetRecord$7=function(t){anObject$1(t);var e=+t.size;if(e!=e)throw new $TypeError$5(INVALID_SIZE);var i=toIntegerOrInfinity$1(e);if(i<0)throw new $RangeError(INVALID_SIZE);return new SetRecord(t,i)},aSet$6=aSet$7,SetHelpers$3=setHelpers,clone$3=setClone,size$4=setSize,getSetRecord$6=getSetRecord$7,iterateSet$2=setIterate$1,iterateSimple$5=iterateSimple$7,has$4=SetHelpers$3.has,remove$2=SetHelpers$3.remove,setDifference=function(t){var e=aSet$6(this),i=getSetRecord$6(t),r=clone$3(e);return size$4(e)<=i.size?iterateSet$2(e,function(t){i.includes(t)&&remove$2(r,t)}):iterateSimple$5(i.getIterator(),function(t){has$4(r,t)&&remove$2(r,t)}),r},getBuiltIn$4=getBuiltIn$j,createSetLike=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},createSetLikeWithInfinitySize=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}},setMethodAcceptSetLike$7=function(t,e){var i=getBuiltIn$4("Set");try{(new i)[t](createSetLike(0));try{return(new i)[t](createSetLike(-1)),!1}catch(n){if(!e)return!0;try{return(new i)[t](createSetLikeWithInfinitySize(-1/0)),!1}catch(n){var r=new i;return r.add(1),r.add(2),e(r[t](createSetLikeWithInfinitySize(1/0)))}}}catch(t){return!1}},$$l=_export,difference$1=setDifference,fails$6=fails$t,setMethodAcceptSetLike$6=setMethodAcceptSetLike$7,SET_LIKE_INCORRECT_BEHAVIOR=!setMethodAcceptSetLike$6("difference",function(t){return 0===t.size}),FORCED$2=SET_LIKE_INCORRECT_BEHAVIOR||fails$6(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var i=t++>1;return e.has(1)&&e.clear(),{done:i,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size});$$l({target:"Set",proto:!0,real:!0,forced:FORCED$2},{difference:difference$1});var aSet$5=aSet$7,SetHelpers$2=setHelpers,size$3=setSize,getSetRecord$5=getSetRecord$7,iterateSet$1=setIterate$1,iterateSimple$4=iterateSimple$7,Set$2=SetHelpers$2.Set,add$2=SetHelpers$2.add,has$3=SetHelpers$2.has,setIntersection=function(t){var e=aSet$5(this),i=getSetRecord$5(t),r=new Set$2;return size$3(e)>i.size?iterateSimple$4(i.getIterator(),function(t){has$3(e,t)&&add$2(r,t)}):iterateSet$1(e,function(t){i.includes(t)&&add$2(r,t)}),r},$$k=_export,fails$5=fails$t,intersection=setIntersection,setMethodAcceptSetLike$5=setMethodAcceptSetLike$7,INCORRECT$3=!setMethodAcceptSetLike$5("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||fails$5(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))});$$k({target:"Set",proto:!0,real:!0,forced:INCORRECT$3},{intersection:intersection});var aSet$4=aSet$7,has$2=setHelpers.has,size$2=setSize,getSetRecord$4=getSetRecord$7,iterateSet=setIterate$1,iterateSimple$3=iterateSimple$7,iteratorClose$1=iteratorClose$h,setIsDisjointFrom=function(t){var e=aSet$4(this),i=getSetRecord$4(t);if(size$2(e)<=i.size)return!1!==iterateSet(e,function(t){if(i.includes(t))return!1},!0);var r=i.getIterator();return!1!==iterateSimple$3(r,function(t){if(has$2(e,t))return iteratorClose$1(r,"normal",!1)})},$$j=_export,isDisjointFrom=setIsDisjointFrom,setMethodAcceptSetLike$4=setMethodAcceptSetLike$7,INCORRECT$2=!setMethodAcceptSetLike$4("isDisjointFrom",function(t){return!t});$$j({target:"Set",proto:!0,real:!0,forced:INCORRECT$2},{isDisjointFrom:isDisjointFrom});var aSet$3=aSet$7,size$1=setSize,iterate$1=setIterate$1,getSetRecord$3=getSetRecord$7,setIsSubsetOf=function(t){var e=aSet$3(this),i=getSetRecord$3(t);return!(size$1(e)>i.size)&&!1!==iterate$1(e,function(t){if(!i.includes(t))return!1},!0)},$$i=_export,isSubsetOf=setIsSubsetOf,setMethodAcceptSetLike$3=setMethodAcceptSetLike$7,INCORRECT$1=!setMethodAcceptSetLike$3("isSubsetOf",function(t){return t});$$i({target:"Set",proto:!0,real:!0,forced:INCORRECT$1},{isSubsetOf:isSubsetOf});var aSet$2=aSet$7,has$1=setHelpers.has,size=setSize,getSetRecord$2=getSetRecord$7,iterateSimple$2=iterateSimple$7,iteratorClose=iteratorClose$h,setIsSupersetOf=function(t){var e=aSet$2(this),i=getSetRecord$2(t);if(size(e)<i.size)return!1;var r=i.getIterator();return!1!==iterateSimple$2(r,function(t){if(!has$1(e,t))return iteratorClose(r,"normal",!1)})},$$h=_export,isSupersetOf=setIsSupersetOf,setMethodAcceptSetLike$2=setMethodAcceptSetLike$7,INCORRECT=!setMethodAcceptSetLike$2("isSupersetOf",function(t){return!t});$$h({target:"Set",proto:!0,real:!0,forced:INCORRECT},{isSupersetOf:isSupersetOf});var aSet$1=aSet$7,SetHelpers$1=setHelpers,clone$2=setClone,getSetRecord$1=getSetRecord$7,iterateSimple$1=iterateSimple$7,add$1=SetHelpers$1.add,has=SetHelpers$1.has,remove$1=SetHelpers$1.remove,setSymmetricDifference=function(t){var e=aSet$1(this),i=getSetRecord$1(t).getIterator(),r=clone$2(e);return iterateSimple$1(i,function(t){has(e,t)?remove$1(r,t):add$1(r,t)}),r},setMethodGetKeysBeforeCloningDetection=function(t){try{var e=new Set,i={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[t](i);return 1===r.size&&4===r.values().next().value}catch(t){return!1}},$$g=_export,symmetricDifference=setSymmetricDifference,setMethodGetKeysBeforeCloning$1=setMethodGetKeysBeforeCloningDetection,setMethodAcceptSetLike$1=setMethodAcceptSetLike$7,FORCED$1=!setMethodAcceptSetLike$1("symmetricDifference")||!setMethodGetKeysBeforeCloning$1("symmetricDifference");$$g({target:"Set",proto:!0,real:!0,forced:FORCED$1},{symmetricDifference:symmetricDifference});var aSet=aSet$7,add=setHelpers.add,clone$1=setClone,getSetRecord=getSetRecord$7,iterateSimple=iterateSimple$7,setUnion=function(t){var e=aSet(this),i=getSetRecord(t).getIterator(),r=clone$1(e);return iterateSimple(i,function(t){add(r,t)}),r},$$f=_export,union=setUnion,setMethodGetKeysBeforeCloning=setMethodGetKeysBeforeCloningDetection,setMethodAcceptSetLike=setMethodAcceptSetLike$7,FORCED=!setMethodAcceptSetLike("union")||!setMethodGetKeysBeforeCloning("union");$$f({target:"Set",proto:!0,real:!0,forced:FORCED},{union:union});var $$e=_export,uncurryThis$a=functionUncurryThis,requireObjectCoercible$1=requireObjectCoercible$9,toString$6=toString$a,charCodeAt$1=uncurryThis$a("".charCodeAt);$$e({target:"String",proto:!0},{isWellFormed:function(){for(var t=toString$6(requireObjectCoercible$1(this)),e=t.length,i=0;i<e;i++){var r=charCodeAt$1(t,i);if(55296==(63488&r)&&(r>=56320||++i>=e||56320!=(64512&charCodeAt$1(t,i))))return!1}return!0}});var $$d=_export,call$1=functionCall,uncurryThis$9=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$9,toString$5=toString$a,fails$4=fails$t,$Array=Array,charAt$1=uncurryThis$9("".charAt),charCodeAt=uncurryThis$9("".charCodeAt),join=uncurryThis$9([].join),$toWellFormed="".toWellFormed,REPLACEMENT_CHARACTER="ï¿½",TO_STRING_CONVERSION_BUG=$toWellFormed&&fails$4(function(){return"1"!==call$1($toWellFormed,1)});$$d({target:"String",proto:!0,forced:TO_STRING_CONVERSION_BUG},{toWellFormed:function(){var t=toString$5(requireObjectCoercible(this));if(TO_STRING_CONVERSION_BUG)return call$1($toWellFormed,t);for(var e=t.length,i=$Array(e),r=0;r<e;r++){var n=charCodeAt(t,r);55296!=(63488&n)?i[r]=charAt$1(t,r):n>=56320||r+1>=e||56320!=(64512&charCodeAt(t,r+1))?i[r]=REPLACEMENT_CHARACTER:(i[r]=charAt$1(t,r),i[++r]=charAt$1(t,r))}return join(i,"")}});var NAME$3,Constructor,Prototype,NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection,DESCRIPTORS$3=descriptors,globalThis$f=globalThis_1,isCallable$4=isCallable$l,isObject$4=isObject$f,hasOwn$5=hasOwnProperty_1,classof$3=classof$c,createNonEnumerableProperty$1=createNonEnumerableProperty$7,defineBuiltIn$2=defineBuiltIn$b,defineBuiltInAccessor$1=defineBuiltInAccessor$7,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,wellKnownSymbol$1=wellKnownSymbol$l,uid$1=uid$4,InternalStateModule=internalState,enforceInternalState=InternalStateModule.enforce,getInternalState=InternalStateModule.get,Int8Array$1=globalThis$f.Int8Array,Int8ArrayPrototype=Int8Array$1&&Int8Array$1.prototype,Uint8ClampedArray$1=globalThis$f.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray$1&&Uint8ClampedArray$1.prototype,TypedArray$1=Int8Array$1&&getPrototypeOf(Int8Array$1),TypedArrayPrototype=Int8ArrayPrototype&&getPrototypeOf(Int8ArrayPrototype),ObjectPrototype=Object.prototype,TypeError$3=globalThis$f.TypeError,TO_STRING_TAG=wellKnownSymbol$1("toStringTag"),TYPED_ARRAY_TAG=uid$1("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS=NATIVE_ARRAY_BUFFER&&!!setPrototypeOf$1&&"Opera"!==classof$3(globalThis$f.opera),TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},getTypedArrayConstructor$3=function(t){var e=getPrototypeOf(t);if(isObject$4(e)){var i=getInternalState(e);return i&&hasOwn$5(i,TYPED_ARRAY_CONSTRUCTOR)?i[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor$3(e)}},isTypedArray$2=function(t){if(!isObject$4(t))return!1;var e=classof$3(t);return hasOwn$5(TypedArrayConstructorsList,e)||hasOwn$5(BigIntArrayConstructorsList,e)},aTypedArray$3=function(t){if(isTypedArray$2(t))return t;throw new TypeError$3("Target is not a typed array")},exportTypedArrayMethod$3=function(t,e,i,r){if(DESCRIPTORS$3){if(i)for(var n in TypedArrayConstructorsList){var a=globalThis$f[n];if(a&&hasOwn$5(a.prototype,t))try{delete a.prototype[t]}catch(i){try{a.prototype[t]=e}catch(t){}}}TypedArrayPrototype[t]&&!i||defineBuiltIn$2(TypedArrayPrototype,t,i?e:NATIVE_ARRAY_BUFFER_VIEWS&&Int8ArrayPrototype[t]||e,r)}};for(NAME$3 in TypedArrayConstructorsList)(Prototype=(Constructor=globalThis$f[NAME$3])&&Constructor.prototype)?enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS=!1;for(NAME$3 in BigIntArrayConstructorsList)(Prototype=(Constructor=globalThis$f[NAME$3])&&Constructor.prototype)&&(enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS||!isCallable$4(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw new TypeError$3("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$3 in TypedArrayConstructorsList)globalThis$f[NAME$3]&&setPrototypeOf$1(globalThis$f[NAME$3],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS||!TypedArrayPrototype||TypedArrayPrototype===ObjectPrototype)&&(TypedArrayPrototype=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$3 in TypedArrayConstructorsList)globalThis$f[NAME$3]&&setPrototypeOf$1(globalThis$f[NAME$3].prototype,TypedArrayPrototype);if(NATIVE_ARRAY_BUFFER_VIEWS&&getPrototypeOf(Uint8ClampedArrayPrototype)!==TypedArrayPrototype&&setPrototypeOf$1(Uint8ClampedArrayPrototype,TypedArrayPrototype),DESCRIPTORS$3&&!hasOwn$5(TypedArrayPrototype,TO_STRING_TAG))for(NAME$3 in defineBuiltInAccessor$1(TypedArrayPrototype,TO_STRING_TAG,{configurable:!0,get:function(){return isObject$4(this)?this[TYPED_ARRAY_TAG]:void 0}}),TypedArrayConstructorsList)globalThis$f[NAME$3]&&createNonEnumerableProperty$1(globalThis$f[NAME$3],TYPED_ARRAY_TAG,NAME$3);var arrayBufferViewCore={aTypedArray:aTypedArray$3,exportTypedArrayMethod:exportTypedArrayMethod$3,getTypedArrayConstructor:getTypedArrayConstructor$3,TypedArrayPrototype:TypedArrayPrototype},arrayToReversed=arrayToReversed$2,ArrayBufferViewCore$2=arrayBufferViewCore,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$2=ArrayBufferViewCore$2.exportTypedArrayMethod,getTypedArrayConstructor$2=ArrayBufferViewCore$2.getTypedArrayConstructor;exportTypedArrayMethod$2("toReversed",function(){return arrayToReversed(aTypedArray$2(this),getTypedArrayConstructor$2(this))});var ArrayBufferViewCore$1=arrayBufferViewCore,uncurryThis$8=functionUncurryThis,aCallable=aCallable$n,arrayFromConstructorAndList$1=arrayFromConstructorAndList$3,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,getTypedArrayConstructor$1=ArrayBufferViewCore$1.getTypedArrayConstructor,exportTypedArrayMethod$1=ArrayBufferViewCore$1.exportTypedArrayMethod,sort$2=uncurryThis$8(ArrayBufferViewCore$1.TypedArrayPrototype.sort);exportTypedArrayMethod$1("toSorted",function(t){void 0!==t&&aCallable(t);var e=aTypedArray$1(this),i=arrayFromConstructorAndList$1(getTypedArrayConstructor$1(e),e);return sort$2(i,t)});var classof$2=classof$c,isBigIntArray$2=function(t){var e=classof$2(t);return"BigInt64Array"===e||"BigUint64Array"===e},toPrimitive=toPrimitive$2,$TypeError$4=TypeError,toBigInt$1=function(t){var e=toPrimitive(t,"number");if("number"==typeof e)throw new $TypeError$4("Can't convert number to bigint");return BigInt(e)},arrayWith=arrayWith$2,ArrayBufferViewCore=arrayBufferViewCore,isBigIntArray$1=isBigIntArray$2,toIntegerOrInfinity=toIntegerOrInfinity$9,toBigInt=toBigInt$1,aTypedArray=ArrayBufferViewCore.aTypedArray,getTypedArrayConstructor=ArrayBufferViewCore.getTypedArrayConstructor,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,PROPER_ORDER=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),THROW_ON_NEGATIVE_FRACTIONAL_INDEX=PROPER_ORDER&&function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}}();exportTypedArrayMethod("with",{with:function(t,e){var i=aTypedArray(this),r=toIntegerOrInfinity(t),n=isBigIntArray$1(i)?toBigInt(e):+e;return arrayWith(i,getTypedArrayConstructor(i),r,n)}}.with,!PROPER_ORDER||THROW_ON_NEGATIVE_FRACTIONAL_INDEX);var isObject$3=isObject$f,$String=String,$TypeError$3=TypeError,anObjectOrUndefined$2=function(t){if(void 0===t||isObject$3(t))return t;throw new $TypeError$3($String(t)+" is not an object or undefined")},commonAlphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",base64Alphabet$2=commonAlphabet+"+/",base64UrlAlphabet$2=commonAlphabet+"-_",inverse=function(t){for(var e={},i=0;i<64;i++)e[t.charAt(i)]=i;return e},base64Map$2={i2c:base64Alphabet$2,c2i:inverse(base64Alphabet$2),i2cUrl:base64UrlAlphabet$2,c2iUrl:inverse(base64UrlAlphabet$2)},$TypeError$2=TypeError,getAlphabetOption$2=function(t){var e=t&&t.alphabet;if(void 0===e||"base64"===e||"base64url"===e)return e||"base64";throw new $TypeError$2("Incorrect `alphabet` option")},globalThis$e=globalThis_1,uncurryThis$7=functionUncurryThis,anObjectOrUndefined$1=anObjectOrUndefined$2,aString$2=aString$4,hasOwn$4=hasOwnProperty_1,base64Map$1=base64Map$2,getAlphabetOption$1=getAlphabetOption$2,notDetached$3=arrayBufferNotDetached,base64Alphabet$1=base64Map$1.c2i,base64UrlAlphabet$1=base64Map$1.c2iUrl,SyntaxError$2=globalThis$e.SyntaxError,TypeError$2=globalThis$e.TypeError,at=uncurryThis$7("".charAt),skipAsciiWhitespace=function(t,e){for(var i=t.length;e<i;e++){var r=at(t,e);if(" "!==r&&"\t"!==r&&"\n"!==r&&"\f"!==r&&"\r"!==r)break}return e},decodeBase64Chunk=function(t,e,i){var r=t.length;r<4&&(t+=2===r?"AA":"A");var n=(e[at(t,0)]<<18)+(e[at(t,1)]<<12)+(e[at(t,2)]<<6)+e[at(t,3)],a=[n>>16&255,n>>8&255,255&n];if(2===r){if(i&&0!==a[1])throw new SyntaxError$2("Extra bits");return[a[0]]}if(3===r){if(i&&0!==a[2])throw new SyntaxError$2("Extra bits");return[a[0],a[1]]}return a},writeBytes=function(t,e,i){for(var r=e.length,n=0;n<r;n++)t[i+n]=e[n];return i+r},uint8FromBase64=function(t,e,i,r){aString$2(t),anObjectOrUndefined$1(e);var n="base64"===getAlphabetOption$1(e)?base64Alphabet$1:base64UrlAlphabet$1,a=e?e.lastChunkHandling:void 0;if(void 0===a&&(a="loose"),"loose"!==a&&"strict"!==a&&"stop-before-partial"!==a)throw new TypeError$2("Incorrect `lastChunkHandling` option");i&&notDetached$3(i.buffer);var s=t.length,o=i||[],l=0,c=0,g="",d=0;if(r)for(;;){if((d=skipAsciiWhitespace(t,d))===s){if(g.length>0){if("stop-before-partial"===a)break;if("loose"!==a)throw new SyntaxError$2("Missing padding");if(1===g.length)throw new SyntaxError$2("Malformed padding: exactly one additional character");l=writeBytes(o,decodeBase64Chunk(g,n,!1),l)}c=s;break}var u=at(t,d);if(++d,"="===u){if(g.length<2)throw new SyntaxError$2("Padding is too early");if(d=skipAsciiWhitespace(t,d),2===g.length){if(d===s){if("stop-before-partial"===a)break;throw new SyntaxError$2("Malformed padding: only one =")}"="===at(t,d)&&(++d,d=skipAsciiWhitespace(t,d))}if(d<s)throw new SyntaxError$2("Unexpected character after padding");l=writeBytes(o,decodeBase64Chunk(g,n,"strict"===a),l),c=s;break}if(!hasOwn$4(n,u))throw new SyntaxError$2("Unexpected character");var B=r-l;if(1===B&&2===g.length||2===B&&3===g.length)break;if(4===(g+=u).length&&(l=writeBytes(o,decodeBase64Chunk(g,n,!1),l),g="",c=d,l===r))break}return{bytes:o,read:c,written:l}},$$c=_export,globalThis$d=globalThis_1,arrayFromConstructorAndList=arrayFromConstructorAndList$3,$fromBase64$1=uint8FromBase64,Uint8Array$5=globalThis$d.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$3=!Uint8Array$5||!Uint8Array$5.fromBase64||!function(){try{return void Uint8Array$5.fromBase64("a")}catch(t){}try{Uint8Array$5.fromBase64("",null)}catch(t){return!0}}();Uint8Array$5&&$$c({target:"Uint8Array",stat:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$3},{fromBase64:function(t){var e=$fromBase64$1(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return arrayFromConstructorAndList(Uint8Array$5,e.bytes)}});var globalThis$c=globalThis_1,uncurryThis$6=functionUncurryThis,Uint8Array$4=globalThis$c.Uint8Array,SyntaxError$1=globalThis$c.SyntaxError,parseInt$1=globalThis$c.parseInt,min$2=Math.min,NOT_HEX=/[^\da-f]/i,exec=uncurryThis$6(NOT_HEX.exec),stringSlice=uncurryThis$6("".slice),uint8FromHex=function(t,e){var i=t.length;if(i%2!=0)throw new SyntaxError$1("String should be an even number of characters");for(var r=e?min$2(e.length,i/2):i/2,n=e||new Uint8Array$4(r),a=0,s=0;s<r;){var o=stringSlice(t,a,a+=2);if(exec(NOT_HEX,o))throw new SyntaxError$1("String should only contain hex characters");n[s++]=parseInt$1(o,16)}return{bytes:n,read:a}},$$b=_export,globalThis$b=globalThis_1,aString$1=aString$4,$fromHex$1=uint8FromHex;globalThis$b.Uint8Array&&$$b({target:"Uint8Array",stat:!0},{fromHex:function(t){return $fromHex$1(aString$1(t)).bytes}});var classof$1=classof$c,$TypeError$1=TypeError,anUint8Array$4=function(t){if("Uint8Array"===classof$1(t))return t;throw new $TypeError$1("Argument is not an Uint8Array")},$$a=_export,globalThis$a=globalThis_1,$fromBase64=uint8FromBase64,anUint8Array$3=anUint8Array$4,Uint8Array$3=globalThis$a.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$2=!Uint8Array$3||!Uint8Array$3.prototype.setFromBase64||!function(){var t=new Uint8Array$3([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(t){}try{return void t.setFromBase64("a")}catch(t){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();Uint8Array$3&&$$a({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$2},{setFromBase64:function(t){anUint8Array$3(this);var e=$fromBase64(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}});var $$9=_export,globalThis$9=globalThis_1,aString=aString$4,anUint8Array$2=anUint8Array$4,notDetached$2=arrayBufferNotDetached,$fromHex=uint8FromHex;globalThis$9.Uint8Array&&$$9({target:"Uint8Array",proto:!0},{setFromHex:function(t){anUint8Array$2(this),aString(t),notDetached$2(this.buffer);var e=$fromHex(t,this).read;return{read:e,written:e/2}}});var $$8=_export,globalThis$8=globalThis_1,uncurryThis$5=functionUncurryThis,anObjectOrUndefined=anObjectOrUndefined$2,anUint8Array$1=anUint8Array$4,notDetached$1=arrayBufferNotDetached,base64Map=base64Map$2,getAlphabetOption=getAlphabetOption$2,base64Alphabet=base64Map.i2c,base64UrlAlphabet=base64Map.i2cUrl,charAt=uncurryThis$5("".charAt),Uint8Array$2=globalThis$8.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$1=!Uint8Array$2||!Uint8Array$2.prototype.toBase64||!function(){try{(new Uint8Array$2).toBase64(null)}catch(t){return!0}}();Uint8Array$2&&$$8({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS$1},{toBase64:function(){var t=anUint8Array$1(this),e=arguments.length?anObjectOrUndefined(arguments[0]):void 0,i="base64"===getAlphabetOption(e)?base64Alphabet:base64UrlAlphabet,r=!!e&&!!e.omitPadding;notDetached$1(this.buffer);for(var n,a="",s=0,o=t.length,l=function(t){return charAt(i,n>>6*t&63)};s+2<o;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],a+=l(3)+l(2)+l(1)+l(0);return s+2===o?(n=(t[s]<<16)+(t[s+1]<<8),a+=l(3)+l(2)+l(1)+(r?"":"=")):s+1===o&&(n=t[s]<<16,a+=l(3)+l(2)+(r?"":"==")),a}});var $$7=_export,globalThis$7=globalThis_1,uncurryThis$4=functionUncurryThis,anUint8Array=anUint8Array$4,notDetached=arrayBufferNotDetached,numberToString=uncurryThis$4(1.1.toString),Uint8Array$1=globalThis$7.Uint8Array,INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS=!Uint8Array$1||!Uint8Array$1.prototype.toHex||!function(){try{return"ffffffffffffffff"===new Uint8Array$1([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();Uint8Array$1&&$$7({target:"Uint8Array",proto:!0,forced:INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS},{toHex:function(){anUint8Array(this),notDetached(this.buffer);for(var t="",e=0,i=this.length;e<i;e++){var r=numberToString(this[e],16);t+=1===r.length?"0"+r:r}return t}});var isCallable$3=isCallable$l,isObject$2=isObject$f,setPrototypeOf=objectSetPrototypeOf,inheritIfRequired$1=function(t,e,i){var r,n;return setPrototypeOf&&isCallable$3(r=e.constructor)&&r!==i&&isObject$2(n=r.prototype)&&n!==i.prototype&&setPrototypeOf(t,n),t},domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},$$6=_export,globalThis$6=globalThis_1,getBuiltIn$3=getBuiltIn$j,createPropertyDescriptor=createPropertyDescriptor$6,defineProperty=objectDefineProperty.f,hasOwn$3=hasOwnProperty_1,anInstance=anInstance$4,inheritIfRequired=inheritIfRequired$1,normalizeStringArgument=normalizeStringArgument$2,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS$2=descriptors,DOM_EXCEPTION="DOMException",Error$2=getBuiltIn$3("Error"),NativeDOMException=getBuiltIn$3(DOM_EXCEPTION),$DOMException=function(){anInstance(this,DOMExceptionPrototype);var t=arguments.length,e=normalizeStringArgument(t<1?void 0:arguments[0]),i=normalizeStringArgument(t<2?void 0:arguments[1],"Error"),r=new NativeDOMException(e,i),n=new Error$2(e);return n.name=DOM_EXCEPTION,defineProperty(r,"stack",createPropertyDescriptor(1,clearErrorStack(n.stack,1))),inheritIfRequired(r,this,$DOMException),r},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in new Error$2(DOM_EXCEPTION),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor=NativeDOMException&&DESCRIPTORS$2&&Object.getOwnPropertyDescriptor(globalThis$6,DOM_EXCEPTION),BUGGY_DESCRIPTOR=!(!descriptor||descriptor.writable&&descriptor.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$6({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$3(DOM_EXCEPTION),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException)for(var key in defineProperty(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor(1,PolyfilledDOMException)),DOMExceptionConstants)if(hasOwn$3(DOMExceptionConstants,key)){var constant$7=DOMExceptionConstants[key],constantName=constant$7.s;hasOwn$3(PolyfilledDOMException,constantName)||defineProperty(PolyfilledDOMException,constantName,createPropertyDescriptor(6,constant$7.c))}var $location,defer,channel,port,$TypeError=TypeError,validateArgumentsLength$7=function(t,e){if(t<e)throw new $TypeError("Not enough arguments");return t},userAgent=environmentUserAgent,environmentIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent),globalThis$5=globalThis_1,apply$2=functionApply,bind=functionBindContext,isCallable$2=isCallable$l,hasOwn$2=hasOwnProperty_1,fails$3=fails$t,html=html$2,arraySlice$1=arraySlice$2,createElement=documentCreateElement$1,validateArgumentsLength$6=validateArgumentsLength$7,IS_IOS=environmentIsIos,IS_NODE=environmentIsNode,set$2=globalThis$5.setImmediate,clear=globalThis$5.clearImmediate,process$1=globalThis$5.process,Dispatch$1=globalThis$5.Dispatch,Function$2=globalThis$5.Function,MessageChannel=globalThis$5.MessageChannel,String$1=globalThis$5.String,counter=0,queue$1={},ONREADYSTATECHANGE="onreadystatechange";fails$3(function(){$location=globalThis$5.location});var run=function(t){if(hasOwn$2(queue$1,t)){var e=queue$1[t];delete queue$1[t],e()}},runner=function(t){return function(){run(t)}},eventListener=function(t){run(t.data)},globalPostMessageDefer=function(t){globalThis$5.postMessage(String$1(t),$location.protocol+"//"+$location.host)};set$2&&clear||(set$2=function(t){validateArgumentsLength$6(arguments.length,1);var e=isCallable$2(t)?t:Function$2(t),i=arraySlice$1(arguments,1);return queue$1[++counter]=function(){apply$2(e,void 0,i)},defer(counter),counter},clear=function(t){delete queue$1[t]},IS_NODE?defer=function(t){process$1.nextTick(runner(t))}:Dispatch$1&&Dispatch$1.now?defer=function(t){Dispatch$1.now(runner(t))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=eventListener,defer=bind(port.postMessage,port)):globalThis$5.addEventListener&&isCallable$2(globalThis$5.postMessage)&&!globalThis$5.importScripts&&$location&&"file:"!==$location.protocol&&!fails$3(globalPostMessageDefer)?(defer=globalPostMessageDefer,globalThis$5.addEventListener("message",eventListener,!1)):defer=ONREADYSTATECHANGE in createElement("script")?function(t){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(t)}}:function(t){setTimeout(runner(t),0)});var task={set:set$2,clear:clear},$$5=_export,globalThis$4=globalThis_1,clearImmediate=task.clear;$$5({global:!0,bind:!0,enumerable:!0,forced:globalThis$4.clearImmediate!==clearImmediate},{clearImmediate:clearImmediate});var globalThis$3=globalThis_1,apply$1=functionApply,isCallable$1=isCallable$l,ENVIRONMENT=environment,USER_AGENT=environmentUserAgent,arraySlice=arraySlice$2,validateArgumentsLength$5=validateArgumentsLength$7,Function$1=globalThis$3.Function,WRAP=/MSIE .\./.test(USER_AGENT)||"BUN"===ENVIRONMENT&&function(){var t=globalThis$3.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),schedulersFix$1=function(t,e){var i=e?2:1;return WRAP?function(r,n){var a=validateArgumentsLength$5(arguments.length,1)>i,s=isCallable$1(r)?r:Function$1(r),o=a?arraySlice(arguments,i):[],l=a?function(){apply$1(s,this,o)}:s;return e?t(l,n):t(l)}:t},$$4=_export,globalThis$2=globalThis_1,setTask=task.set,schedulersFix=schedulersFix$1,setImmediate$1=globalThis$2.setImmediate?schedulersFix(setTask,!1):setTask;$$4({global:!0,bind:!0,enumerable:!0,forced:globalThis$2.setImmediate!==setImmediate$1},{setImmediate:setImmediate$1});var call=functionCall,hasOwn$1=hasOwnProperty_1,isPrototypeOf=objectIsPrototypeOf,regExpFlagsDetection=regexpFlagsDetection,regExpFlagsGetterImplementation=regexpFlags,RegExpPrototype=RegExp.prototype,regexpGetFlags=regExpFlagsDetection.correct?function(t){return t.flags}:function(t){return regExpFlagsDetection.correct||!isPrototypeOf(RegExpPrototype,t)||hasOwn$1(t,"flags")?t.flags:call(regExpFlagsGetterImplementation,t)},$$3=_export,globalThis$1=globalThis_1,getBuiltIn$2=getBuiltIn$j,uncurryThis$3=functionUncurryThis,fails$2=fails$t,uid=uid$4,isCallable=isCallable$l,isConstructor=isConstructor$2,isNullOrUndefined=isNullOrUndefined$5,isObject$1=isObject$f,isSymbol$1=isSymbol$4,iterate=iterate$c,anObject=anObject$s,classof=classof$c,hasOwn=hasOwnProperty_1,createProperty=createProperty$3,createNonEnumerableProperty=createNonEnumerableProperty$7,lengthOfArrayLike=lengthOfArrayLike$8,validateArgumentsLength$4=validateArgumentsLength$7,getRegExpFlags=regexpGetFlags,MapHelpers=mapHelpers,SetHelpers=setHelpers,setIterate=setIterate$1,detachTransferable=detachTransferable$2,ERROR_STACK_INSTALLABLE=errorStackInstallable,PROPER_STRUCTURED_CLONE_TRANSFER=structuredCloneProperTransfer,Object$1=globalThis$1.Object,Array$1=globalThis$1.Array,Date$1=globalThis$1.Date,Error$1=globalThis$1.Error,TypeError$1=globalThis$1.TypeError,PerformanceMark=globalThis$1.PerformanceMark,DOMException=getBuiltIn$2("DOMException"),Map$1=MapHelpers.Map,mapHas=MapHelpers.has,mapGet=MapHelpers.get,mapSet=MapHelpers.set,Set$1=SetHelpers.Set,setAdd=SetHelpers.add,setHas=SetHelpers.has,objectKeys=getBuiltIn$2("Object","keys"),push$1=uncurryThis$3([].push),thisBooleanValue=uncurryThis$3((!0).valueOf),thisNumberValue=uncurryThis$3(1.1.valueOf),thisStringValue=uncurryThis$3("".valueOf),thisTimeValue=uncurryThis$3(Date$1.prototype.getTime),PERFORMANCE_MARK=uid("structuredClone"),DATA_CLONE_ERROR="DataCloneError",TRANSFERRING="Transferring",checkBasicSemantic=function(t){return!fails$2(function(){var e=new globalThis$1.Set([7]),i=t(e),r=t(Object$1(7));return i===e||!i.has(7)||!isObject$1(r)||7!==+r})&&t},checkErrorsCloning=function(t,e){return!fails$2(function(){var i=new e,r=t({a:i,b:i});return!(r&&r.a===r.b&&r.a instanceof e&&r.a.stack===i.stack)})},checkNewErrorsCloningSemantic=function(t){return!fails$2(function(){var e=t(new globalThis$1.AggregateError([1],PERFORMANCE_MARK,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==PERFORMANCE_MARK||3!==e.cause})},nativeStructuredClone=globalThis$1.structuredClone,FORCED_REPLACEMENT=!checkErrorsCloning(nativeStructuredClone,Error$1)||!checkErrorsCloning(nativeStructuredClone,DOMException)||!checkNewErrorsCloningSemantic(nativeStructuredClone),structuredCloneFromMark=!nativeStructuredClone&&checkBasicSemantic(function(t){return new PerformanceMark(PERFORMANCE_MARK,{detail:t}).detail}),nativeRestrictedStructuredClone=checkBasicSemantic(nativeStructuredClone)||structuredCloneFromMark,throwUncloneable=function(t){throw new DOMException("Uncloneable type: "+t,DATA_CLONE_ERROR)},throwUnpolyfillable=function(t,e){throw new DOMException((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",DATA_CLONE_ERROR)},tryNativeRestrictedStructuredClone=function(t,e){return nativeRestrictedStructuredClone||throwUnpolyfillable(e),nativeRestrictedStructuredClone(t)},createDataTransfer=function(){var t;try{t=new globalThis$1.DataTransfer}catch(e){try{t=new globalThis$1.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null},cloneBuffer=function(t,e,i){if(mapHas(e,t))return mapGet(e,t);var r,n,a,s,o,l;if("SharedArrayBuffer"===(i||classof(t)))r=nativeRestrictedStructuredClone?nativeRestrictedStructuredClone(t):t;else{var c=globalThis$1.DataView;c||isCallable(t.slice)||throwUnpolyfillable("ArrayBuffer");try{if(isCallable(t.slice)&&!t.resizable)r=t.slice(0);else{n=t.byteLength,a="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,r=new ArrayBuffer(n,a),s=new c(t),o=new c(r);for(l=0;l<n;l++)o.setUint8(l,s.getUint8(l))}}catch(t){throw new DOMException("ArrayBuffer is detached",DATA_CLONE_ERROR)}}return mapSet(e,t,r),r},cloneView=function(t,e,i,r,n){var a=globalThis$1[e];return isObject$1(a)||throwUnpolyfillable(e),new a(cloneBuffer(t.buffer,n),i,r)},structuredCloneInternal=function(t,e){if(isSymbol$1(t)&&throwUncloneable("Symbol"),!isObject$1(t))return t;if(e){if(mapHas(e,t))return mapGet(e,t)}else e=new Map$1;var i,r,n,a,s,o,l,c,g=classof(t);switch(g){case"Array":n=Array$1(lengthOfArrayLike(t));break;case"Object":n={};break;case"Map":n=new Map$1;break;case"Set":n=new Set$1;break;case"RegExp":n=new RegExp(t.source,getRegExpFlags(t));break;case"Error":switch(r=t.name){case"AggregateError":n=new(getBuiltIn$2(r))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":n=new(getBuiltIn$2(r));break;case"CompileError":case"LinkError":case"RuntimeError":n=new(getBuiltIn$2("WebAssembly",r));break;default:n=new Error$1}break;case"DOMException":n=new DOMException(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":n=cloneBuffer(t,e,g);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":o="DataView"===g?t.byteLength:t.length,n=cloneView(t,g,t.byteOffset,o,e);break;case"DOMQuad":try{n=new DOMQuad(structuredCloneInternal(t.p1,e),structuredCloneInternal(t.p2,e),structuredCloneInternal(t.p3,e),structuredCloneInternal(t.p4,e))}catch(e){n=tryNativeRestrictedStructuredClone(t,g)}break;case"File":if(nativeRestrictedStructuredClone)try{n=nativeRestrictedStructuredClone(t),classof(n)!==g&&(n=void 0)}catch(t){}if(!n)try{n=new File([t],t.name,t)}catch(t){}n||throwUnpolyfillable(g);break;case"FileList":if(a=createDataTransfer()){for(s=0,o=lengthOfArrayLike(t);s<o;s++)a.items.add(structuredCloneInternal(t[s],e));n=a.files}else n=tryNativeRestrictedStructuredClone(t,g);break;case"ImageData":try{n=new ImageData(structuredCloneInternal(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){n=tryNativeRestrictedStructuredClone(t,g)}break;default:if(nativeRestrictedStructuredClone)n=nativeRestrictedStructuredClone(t);else switch(g){case"BigInt":n=Object$1(t.valueOf());break;case"Boolean":n=Object$1(thisBooleanValue(t));break;case"Number":n=Object$1(thisNumberValue(t));break;case"String":n=Object$1(thisStringValue(t));break;case"Date":n=new Date$1(thisTimeValue(t));break;case"Blob":try{n=t.slice(0,t.size,t.type)}catch(t){throwUnpolyfillable(g)}break;case"DOMPoint":case"DOMPointReadOnly":i=globalThis$1[g];try{n=i.fromPoint?i.fromPoint(t):new i(t.x,t.y,t.z,t.w)}catch(t){throwUnpolyfillable(g)}break;case"DOMRect":case"DOMRectReadOnly":i=globalThis$1[g];try{n=i.fromRect?i.fromRect(t):new i(t.x,t.y,t.width,t.height)}catch(t){throwUnpolyfillable(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=globalThis$1[g];try{n=i.fromMatrix?i.fromMatrix(t):new i(t)}catch(t){throwUnpolyfillable(g)}break;case"AudioData":case"VideoFrame":isCallable(t.clone)||throwUnpolyfillable(g);try{n=t.clone()}catch(t){throwUncloneable(g)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(g);default:throwUncloneable(g)}}switch(mapSet(e,t,n),g){case"Array":case"Object":for(l=objectKeys(t),s=0,o=lengthOfArrayLike(l);s<o;s++)c=l[s],createProperty(n,c,structuredCloneInternal(t[c],e));break;case"Map":t.forEach(function(t,i){mapSet(n,structuredCloneInternal(i,e),structuredCloneInternal(t,e))});break;case"Set":t.forEach(function(t){setAdd(n,structuredCloneInternal(t,e))});break;case"Error":createNonEnumerableProperty(n,"message",structuredCloneInternal(t.message,e)),hasOwn(t,"cause")&&createNonEnumerableProperty(n,"cause",structuredCloneInternal(t.cause,e)),"AggregateError"===r?n.errors=structuredCloneInternal(t.errors,e):"SuppressedError"===r&&(n.error=structuredCloneInternal(t.error,e),n.suppressed=structuredCloneInternal(t.suppressed,e));case"DOMException":ERROR_STACK_INSTALLABLE&&createNonEnumerableProperty(n,"stack",structuredCloneInternal(t.stack,e))}return n},tryToTransfer=function(t,e){if(!isObject$1(t))throw new TypeError$1("Transfer option cannot be converted to a sequence");var i=[];iterate(t,function(t){push$1(i,anObject(t))});for(var r,n,a,s,o,l=0,c=lengthOfArrayLike(i),g=new Set$1;l<c;){if(r=i[l++],"ArrayBuffer"===(n=classof(r))?setHas(g,r):mapHas(e,r))throw new DOMException("Duplicate transferable",DATA_CLONE_ERROR);if("ArrayBuffer"!==n){if(PROPER_STRUCTURED_CLONE_TRANSFER)s=nativeStructuredClone(r,{transfer:[r]});else switch(n){case"ImageBitmap":a=globalThis$1.OffscreenCanvas,isConstructor(a)||throwUnpolyfillable(n,TRANSFERRING);try{(o=new a(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),s=o.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":isCallable(r.clone)&&isCallable(r.close)||throwUnpolyfillable(n,TRANSFERRING);try{s=r.clone(),r.close()}catch(t){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":throwUnpolyfillable(n,TRANSFERRING)}if(void 0===s)throw new DOMException("This object cannot be transferred: "+n,DATA_CLONE_ERROR);mapSet(e,r,s)}else setAdd(g,r)}return g},detachBuffers=function(t){setIterate(t,function(t){PROPER_STRUCTURED_CLONE_TRANSFER?nativeRestrictedStructuredClone(t,{transfer:[t]}):isCallable(t.transfer)?t.transfer():detachTransferable?detachTransferable(t):throwUnpolyfillable("ArrayBuffer",TRANSFERRING)})};$$3({global:!0,enumerable:!0,sham:!PROPER_STRUCTURED_CLONE_TRANSFER,forced:FORCED_REPLACEMENT},{structuredClone:function(t){var e,i,r=validateArgumentsLength$4(arguments.length,1)>1&&!isNullOrUndefined(arguments[1])?anObject(arguments[1]):void 0,n=r?r.transfer:void 0;void 0!==n&&(e=new Map$1,i=tryToTransfer(n,e));var a=structuredCloneInternal(t,e);return i&&detachBuffers(i),a}});var fails$1=fails$t,wellKnownSymbol=wellKnownSymbol$l,DESCRIPTORS$1=descriptors,IS_PURE=isPure,ITERATOR=wellKnownSymbol("iterator"),urlConstructorDetection=!fails$1(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach(function(t,i){e.delete("b"),r+=i+t}),i.delete("a",2),i.delete("b",void 0),IS_PURE&&(!t.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!e.size&&(IS_PURE||!DESCRIPTORS$1)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("https://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}),$$2=_export,getBuiltIn$1=getBuiltIn$j,fails=fails$t,validateArgumentsLength$3=validateArgumentsLength$7,toString$4=toString$a,USE_NATIVE_URL$1=urlConstructorDetection,URL$2=getBuiltIn$1("URL"),THROWS_WITHOUT_ARGUMENTS=USE_NATIVE_URL$1&&fails(function(){URL$2.canParse()}),WRONG_ARITY=fails(function(){return 1!==URL$2.canParse.length});$$2({target:"URL",stat:!0,forced:!THROWS_WITHOUT_ARGUMENTS||WRONG_ARITY},{canParse:function(t){var e=validateArgumentsLength$3(arguments.length,1),i=toString$4(t),r=e<2||void 0===arguments[1]?void 0:toString$4(arguments[1]);try{return!!new URL$2(i,r)}catch(t){return!1}}});var $$1=_export,getBuiltIn=getBuiltIn$j,validateArgumentsLength$2=validateArgumentsLength$7,toString$3=toString$a,USE_NATIVE_URL=urlConstructorDetection,URL$1=getBuiltIn("URL");$$1({target:"URL",stat:!0,forced:!USE_NATIVE_URL},{parse:function(t){var e=validateArgumentsLength$2(arguments.length,1),i=toString$3(t),r=e<2||void 0===arguments[1]?void 0:toString$3(arguments[1]);try{return new URL$1(i,r)}catch(t){return null}}});var defineBuiltIn$1=defineBuiltIn$b,uncurryThis$2=functionUncurryThis,toString$2=toString$a,validateArgumentsLength$1=validateArgumentsLength$7,$URLSearchParams$1=URLSearchParams,URLSearchParamsPrototype$2=$URLSearchParams$1.prototype,append$2=uncurryThis$2(URLSearchParamsPrototype$2.append),$delete=uncurryThis$2(URLSearchParamsPrototype$2.delete),forEach$1=uncurryThis$2(URLSearchParamsPrototype$2.forEach),push=uncurryThis$2([].push),params$1=new $URLSearchParams$1("a=1&a=2&b=3");params$1.delete("a",1),params$1.delete("b",void 0),params$1+""!="a=2"&&defineBuiltIn$1(URLSearchParamsPrototype$2,"delete",function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return $delete(this,t);var r=[];forEach$1(this,function(t,e){push(r,{key:e,value:t})}),validateArgumentsLength$1(e,1);for(var n,a=toString$2(t),s=toString$2(i),o=0,l=0,c=!1,g=r.length;o<g;)n=r[o++],c||n.key===a?(c=!0,$delete(this,n.key)):l++;for(;l<g;)(n=r[l++]).key===a&&n.value===s||append$2(this,n.key,n.value)},{enumerable:!0,unsafe:!0});var defineBuiltIn=defineBuiltIn$b,uncurryThis$1=functionUncurryThis,toString$1=toString$a,validateArgumentsLength=validateArgumentsLength$7,$URLSearchParams=URLSearchParams,URLSearchParamsPrototype$1=$URLSearchParams.prototype,getAll=uncurryThis$1(URLSearchParamsPrototype$1.getAll),$has=uncurryThis$1(URLSearchParamsPrototype$1.has),params=new $URLSearchParams("a=1");!params.has("a",2)&&params.has("a",void 0)||defineBuiltIn(URLSearchParamsPrototype$1,"has",function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return $has(this,t);var r=getAll(this,t);validateArgumentsLength(e,1);for(var n=toString$1(i),a=0;a<r.length;)if(r[a++]===n)return!0;return!1},{enumerable:!0,unsafe:!0});var DESCRIPTORS=descriptors,uncurryThis=functionUncurryThis,defineBuiltInAccessor=defineBuiltInAccessor$7,URLSearchParamsPrototype=URLSearchParams.prototype,forEach=uncurryThis(URLSearchParamsPrototype.forEach);DESCRIPTORS&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor(URLSearchParamsPrototype,"size",{get:function(){var t=0;return forEach(this,function(){t++}),t},configurable:!0,enumerable:!0});const elementMap=new Map;var Data={set(t,e,i){elementMap.has(t)||elementMap.set(t,new Map);const r=elementMap.get(t);r.has(e)||0===r.size?r.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,e)=>elementMap.has(t)&&elementMap.get(t).get(e)||null,remove(t,e){if(!elementMap.has(t))return;const i=elementMap.get(t);i.delete(e),0===i.size&&elementMap.delete(t)}};const MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),toType=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const r=Number.parseFloat(e),n=Number.parseFloat(i);return r||n?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0},triggerTransitionEnd=t=>{t.dispatchEvent(new Event(TRANSITION_END))},isElement=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),getElement=t=>isElement(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(parseSelector(t)):null,isVisible$1=t=>{if(!isElement(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),reflow=t=>{t.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=t=>{"loading"===document.readyState?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of DOMContentLoadedCallbacks)t()}),DOMContentLoadedCallbacks.push(t)):t()},defineJQueryPlugin=t=>{onDOMContentLoaded(()=>{const e=getjQuery();if(e){const i=t.NAME,r=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=r,t.jQueryInterface)}})},execute=(t,e=[],i=t)=>"function"==typeof t?t.call(...e):i,executeAfterTransition=(t,e,i=!0)=>{if(!i)return void execute(t);const r=getTransitionDurationFromElement(e)+5;let n=!1;const a=({target:i})=>{i===e&&(n=!0,e.removeEventListener(TRANSITION_END,a),execute(t))};e.addEventListener(TRANSITION_END,a),setTimeout(()=>{n||triggerTransitionEnd(e)},r)},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(t,e){return e&&`${e}::${uidEvent++}`||t.uidEvent||uidEvent++}function getElementEvents(t){const e=makeEventUid(t);return t.uidEvent=e,eventRegistry[e]=eventRegistry[e]||{},eventRegistry[e]}function bootstrapHandler(t,e){return function i(r){return hydrateObj(r,{delegateTarget:t}),i.oneOff&&EventHandler.off(t,r.type,e),e.apply(t,[r])}}function bootstrapDelegationHandler(t,e,i){return function r(n){const a=t.querySelectorAll(e);for(let{target:s}=n;s&&s!==this;s=s.parentNode)for(const o of a)if(o===s)return hydrateObj(n,{delegateTarget:s}),r.oneOff&&EventHandler.off(t,n.type,e,i),i.apply(s,[n])}}function findHandler(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function normalizeParameters(t,e,i){const r="string"==typeof e,n=r?i:e||i;let a=getTypeEvent(t);return nativeEvents.has(a)||(a=t),[r,n,a]}function addHandler(t,e,i,r,n){if("string"!=typeof e||!t)return;let[a,s,o]=normalizeParameters(e,i,r);if(e in customEvents){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};s=t(s)}const l=getElementEvents(t),c=l[o]||(l[o]={}),g=findHandler(c,s,a?i:null);if(g)return void(g.oneOff=g.oneOff&&n);const d=makeEventUid(s,e.replace(namespaceRegex,"")),u=a?bootstrapDelegationHandler(t,i,s):bootstrapHandler(t,s);u.delegationSelector=a?i:null,u.callable=s,u.oneOff=n,u.uidEvent=d,c[d]=u,t.addEventListener(o,u,a)}function removeHandler(t,e,i,r,n){const a=findHandler(e[i],r,n);a&&(t.removeEventListener(i,a,Boolean(n)),delete e[i][a.uidEvent])}function removeNamespacedHandlers(t,e,i,r){const n=e[i]||{};for(const[a,s]of Object.entries(n))a.includes(r)&&removeHandler(t,e,i,s.callable,s.delegationSelector)}function getTypeEvent(t){return t=t.replace(stripNameRegex,""),customEvents[t]||t}const EventHandler={on(t,e,i,r){addHandler(t,e,i,r,!1)},one(t,e,i,r){addHandler(t,e,i,r,!0)},off(t,e,i,r){if("string"!=typeof e||!t)return;const[n,a,s]=normalizeParameters(e,i,r),o=s!==e,l=getElementEvents(t),c=l[s]||{},g=e.startsWith(".");if(void 0===a){if(g)for(const i of Object.keys(l))removeNamespacedHandlers(t,l,i,e.slice(1));for(const[i,r]of Object.entries(c)){const n=i.replace(stripUidRegex,"");o&&!e.includes(n)||removeHandler(t,l,s,r.callable,r.delegationSelector)}}else{if(!Object.keys(c).length)return;removeHandler(t,l,s,a,n?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const r=getjQuery();let n=null,a=!0,s=!0,o=!1;e!==getTypeEvent(e)&&r&&(n=r.Event(e,i),r(t).trigger(n),a=!n.isPropagationStopped(),s=!n.isImmediatePropagationStopped(),o=n.isDefaultPrevented());const l=hydrateObj(new Event(e,{bubbles:a,cancelable:!0}),i);return o&&l.preventDefault(),s&&t.dispatchEvent(l),l.defaultPrevented&&n&&n.preventDefault(),l}};function hydrateObj(t,e={}){for(const[i,r]of Object.entries(e))try{t[i]=r}catch{Object.defineProperty(t,i,{configurable:!0,get:()=>r})}return t}function normalizeData(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function normalizeDataKey(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Manipulator={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${normalizeDataKey(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${normalizeDataKey(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const r of i){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=normalizeData(t.dataset[r])}return e},getDataAttribute:(t,e)=>normalizeData(t.getAttribute(`data-bs-${normalizeDataKey(e)}`))};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=isElement(e)?Manipulator.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...isElement(e)?Manipulator.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,r]of Object.entries(e)){const e=t[i],n=isElement(e)?"element":toType(e);if(!new RegExp(r).test(n))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${n}" but expected type "${r}".`)}}}const VERSION="5.3.8";class BaseComponent extends Config{constructor(t,e){super(),(t=getElement(t))&&(this._element=t,this._config=this._getConfig(e),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){executeAfterTransition(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Data.get(getElement(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const NAME$2="button",DATA_KEY$1="bs.button",EVENT_KEY$1=`.${DATA_KEY$1}`,DATA_API_KEY$1=".data-api",CLASS_NAME_ACTIVE="active",SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$1}.data-api`;class Button extends BaseComponent{static get NAME(){return NAME$2}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=Button.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,t=>{t.preventDefault();const e=t.target.closest(SELECTOR_DATA_TOGGLE$1);Button.getOrCreateInstance(e).toggle()}),defineJQueryPlugin(Button);const getSelector=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map(t=>parseSelector(t)).join(","):null},SelectorEngine={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const i=[];let r=t.parentNode.closest(e);for(;r;)i.push(r),r=r.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!isDisabled(t)&&isVisible$1(t))},getSelectorFromElement(t){const e=getSelector(t);return e&&SelectorEngine.findOne(e)?e:null},getElementFromSelector(t){const e=getSelector(t);return e?SelectorEngine.findOne(e):null},getMultipleElementsFromSelector(t){const e=getSelector(t);return e?SelectorEngine.find(e):[]}},NAME$1="collapse",DATA_KEY="bs.collapse",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,CLASS_NAME_SHOW="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=":scope .collapse .collapse",CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE='[data-bs-toggle="collapse"]',Default={parent:null,toggle:!0},DefaultType={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=SelectorEngine.find(SELECTOR_DATA_TOGGLE);for(const t of i){const e=SelectorEngine.getSelectorFromElement(t),i=SelectorEngine.find(e).filter(t=>t===this._element);null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME$1}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(t=>t!==this._element).map(t=>Collapse.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[e]="",EventHandler.trigger(this._element,EVENT_SHOWN)},this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,reflow(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");for(const t of this._triggerArray){const e=SelectorEngine.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),EventHandler.trigger(this._element,EVENT_HIDDEN)},this._element,!0)}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=getElement(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE);for(const e of t){const t=SelectorEngine.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Collapse.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(t,{toggle:!1}).toggle()}),defineJQueryPlugin(Collapse);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$2=globalThis,e$3=t$2.ShadowRoot&&(void 0===t$2.ShadyCSS||t$2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$6=new WeakMap;let n$4=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(e$3&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=o$6.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&o$6.set(e,t))}return t}toString(){return this.cssText}};const r$4=t=>new n$4("string"==typeof t?t:t+"",void 0,s$4),i$6=(t,...e)=>{const i=1===t.length?t[0]:e.reduce((e,i,r)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[r+1],t[0]);return new n$4(i,t,s$4)},S$1=(t,e)=>{if(e$3)t.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const i of e){const e=document.createElement("style"),r=t$2.litNonce;void 0!==r&&e.setAttribute("nonce",r),e.textContent=i.cssText,t.appendChild(e)}},c$6=e$3?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return r$4(e)})(t):t,{is:i$5,defineProperty:e$2,getOwnPropertyDescriptor:h$2,getOwnPropertyNames:r$3,getOwnPropertySymbols:o$5,getPrototypeOf:n$3}=Object,a$3=globalThis,c$5=a$3.trustedTypes,l$1=c$5?c$5.emptyScript:"",p$1=a$3.reactiveElementPolyfillSupport,d$2=(t,e)=>t,u$1={toAttribute(t,e){switch(e){case Boolean:t=t?l$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f$3=(t,e)=>!i$5(t,e),b$2={attribute:!0,type:String,converter:u$1,reflect:!1,useDefault:!1,hasChanged:f$3};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */Symbol.metadata??=Symbol("metadata"),a$3.litPropertyMetadata??=new WeakMap;let y$2=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=b$2){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,e);void 0!==r&&e$2(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){const{get:r,set:n}=h$2(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:r,set(e){const a=r?.call(this);n?.call(this,e),this.requestUpdate(t,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b$2}static _$Ei(){if(this.hasOwnProperty(d$2("elementProperties")))return;const t=n$3(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d$2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$2("properties"))){const t=this.properties,e=[...r$3(t),...o$5(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(c$6(t))}else void 0!==t&&e.push(c$6(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ET(t,e){const i=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,i);if(void 0!==r&&!0===i.reflect){const n=(void 0!==i.converter?.toAttribute?i.converter:u$1).toAttribute(e,i.type);this._$Em=t,null==n?this.removeAttribute(r):this.setAttribute(r,n),this._$Em=null}}_$AK(t,e){const i=this.constructor,r=i._$Eh.get(t);if(void 0!==r&&this._$Em!==r){const t=i.getPropertyOptions(r),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u$1;this._$Em=r;const a=n.fromAttribute(e,t.type);this[r]=a??this._$Ej?.get(r)??a,this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){const r=this.constructor,n=this[t];if(i??=r.getPropertyOptions(t),!((i.hasChanged??f$3)(n,e)||i.useDefault&&i.reflect&&n===this._$Ej?.get(t)&&!this.hasAttribute(r._$Eu(t,i))))return;this.C(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:i,reflect:r,wrapped:n},a){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,a??e??this[t]),!0!==n||void 0!==a)||(this._$AL.has(t)||(this.hasUpdated||i||(e=void 0),this._$AL.set(t,e)),!0===r&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t){const{wrapped:t}=i,r=this[e];!0!==t||this._$AL.has(e)||void 0===r||this.C(e,void 0,i,r)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(t){}firstUpdated(t){}};y$2.elementStyles=[],y$2.shadowRootOptions={mode:"open"},y$2[d$2("elementProperties")]=new Map,y$2[d$2("finalized")]=new Map,p$1?.({ReactiveElement:y$2}),(a$3.reactiveElementVersions??=[]).push("2.1.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$1=globalThis,i$4=t$1.trustedTypes,s$3=i$4?i$4.createPolicy("lit-html",{createHTML:t=>t}):void 0,e$1="$lit$",h$1=`lit$${Math.random().toFixed(9).slice(2)}$`,o$4="?"+h$1,n$2=`<${o$4}>`,r$2=document,l=()=>r$2.createComment(""),c$4=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a$2=Array.isArray,u=t=>a$2(t)||"function"==typeof t?.[Symbol.iterator],d$1="[ \t\n\f\r]",f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$1=/-->/g,_$2=/>/g,m=RegExp(`>|${d$1}(?:([^\\s"'>=/]+)(${d$1}*=${d$1}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g$1=/"/g,$=/^(?:script|style|textarea|title)$/i,y$1=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),x$2=y$1(1),b$1=y$1(2),T=Symbol.for("lit-noChange"),E$1=Symbol.for("lit-nothing"),A$2=new WeakMap,C$1=r$2.createTreeWalker(r$2,129);function P(t,e){if(!a$2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s$3?s$3.createHTML(e):e}const V=(t,e)=>{const i=t.length-1,r=[];let n,a=2===e?"<svg>":3===e?"<math>":"",s=f$2;for(let e=0;e<i;e++){const i=t[e];let o,l,c=-1,g=0;for(;g<i.length&&(s.lastIndex=g,l=s.exec(i),null!==l);)g=s.lastIndex,s===f$2?"!--"===l[1]?s=v$1:void 0!==l[1]?s=_$2:void 0!==l[2]?($.test(l[2])&&(n=RegExp("</"+l[2],"g")),s=m):void 0!==l[3]&&(s=m):s===m?">"===l[0]?(s=n??f$2,c=-1):void 0===l[1]?c=-2:(c=s.lastIndex-l[2].length,o=l[1],s=void 0===l[3]?m:'"'===l[3]?g$1:p):s===g$1||s===p?s=m:s===v$1||s===_$2?s=f$2:(s=m,n=void 0);const d=s===m&&t[e+1].startsWith("/>")?" ":"";a+=s===f$2?i+n$2:c>=0?(r.push(o),i.slice(0,c)+e$1+i.slice(c)+h$1+d):i+h$1+(-2===c?e:d)}return[P(t,a+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]};let N$1=class t{constructor({strings:e,_$litType$:i},r){let n;this.parts=[];let a=0,s=0;const o=e.length-1,c=this.parts,[g,d]=V(e,i);if(this.el=t.createElement(g,r),C$1.currentNode=this.el.content,2===i||3===i){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(n=C$1.nextNode())&&c.length<o;){if(1===n.nodeType){if(n.hasAttributes())for(const t of n.getAttributeNames())if(t.endsWith(e$1)){const e=d[s++],i=n.getAttribute(t).split(h$1),r=/([.?@])?(.*)/.exec(e);c.push({type:1,index:a,name:r[2],strings:i,ctor:"."===r[1]?H:"?"===r[1]?I:"@"===r[1]?L:k$1}),n.removeAttribute(t)}else t.startsWith(h$1)&&(c.push({type:6,index:a}),n.removeAttribute(t));if($.test(n.tagName)){const t=n.textContent.split(h$1),e=t.length-1;if(e>0){n.textContent=i$4?i$4.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],l()),C$1.nextNode(),c.push({type:2,index:++a});n.append(t[e],l())}}}else if(8===n.nodeType)if(n.data===o$4)c.push({type:2,index:a});else{let t=-1;for(;-1!==(t=n.data.indexOf(h$1,t+1));)c.push({type:7,index:a}),t+=h$1.length-1}a++}}static createElement(t,e){const i=r$2.createElement("template");return i.innerHTML=t,i}};function S(t,e,i=t,r){if(e===T)return e;let n=void 0!==r?i._$Co?.[r]:i._$Cl;const a=c$4(e)?void 0:e._$litDirective$;return n?.constructor!==a&&(n?._$AO?.(!1),void 0===a?n=void 0:(n=new a(t),n._$AT(t,i,r)),void 0!==r?(i._$Co??=[])[r]=n:i._$Cl=n),void 0!==n&&(e=S(t,n._$AS(t,e.values),n,r)),e}let M$1=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,r=(t?.creationScope??r$2).importNode(e,!0);C$1.currentNode=r;let n=C$1.nextNode(),a=0,s=0,o=i[0];for(;void 0!==o;){if(a===o.index){let e;2===o.type?e=new R$1(n,n.nextSibling,this,t):1===o.type?e=new o.ctor(n,o.name,o.strings,this,t):6===o.type&&(e=new z(n,this,t)),this._$AV.push(e),o=i[++s]}a!==o?.index&&(n=C$1.nextNode(),a++)}return C$1.currentNode=r$2,r}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}},R$1=class t{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,r){this.type=2,this._$AH=E$1,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=S(this,t,e),c$4(t)?t===E$1||null==t||""===t?(this._$AH!==E$1&&this._$AR(),this._$AH=E$1):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E$1&&c$4(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$2.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=N$1.createElement(P(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(e);else{const t=new M$1(r,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=A$2.get(t.strings);return void 0===e&&A$2.set(t.strings,e=new N$1(t)),e}k(e){a$2(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,n=0;for(const a of e)n===i.length?i.push(r=new t(this.O(l()),this.O(l()),this,this.options)):r=i[n],r._$AI(a),n++;n<i.length&&(this._$AR(r&&r._$AB.nextSibling,n),i.length=n)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}},k$1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,r,n){this.type=1,this._$AH=E$1,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=E$1}_$AI(t,e=this,i,r){const n=this.strings;let a=!1;if(void 0===n)t=S(this,t,e,0),a=!c$4(t)||t!==this._$AH&&t!==T,a&&(this._$AH=t);else{const r=t;let s,o;for(t=n[0],s=0;s<n.length-1;s++)o=S(this,r[i+s],e,s),o===T&&(o=this._$AH[s]),a||=!c$4(o)||o!==this._$AH[s],o===E$1?t=E$1:t!==E$1&&(t+=(o??"")+n[s+1]),this._$AH[s]=o}a&&!r&&this.j(t)}j(t){t===E$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class H extends k$1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E$1?void 0:t}}class I extends k$1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E$1)}}class L extends k$1{constructor(t,e,i,r,n){super(t,e,i,r,n),this.type=5}_$AI(t,e=this){if((t=S(this,t,e,0)??E$1)===T)return;const i=this._$AH,r=t===E$1&&i!==E$1||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,n=t!==E$1&&(i===E$1||r);r&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j$1=t$1.litHtmlPolyfillSupport;j$1?.(N$1,R$1),(t$1.litHtmlVersions??=[]).push("3.3.1");const B$1=(t,e,i)=>{const r=i?.renderBefore??e;let n=r._$litPart$;if(void 0===n){const t=i?.renderBefore??null;r._$litPart$=n=new R$1(e.insertBefore(l(),t),t,void 0,i??{})}return n._$AI(t),n},s$2=globalThis;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let i$3=class extends y$2{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=B$1(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return T}};i$3._$litElement$=!0,i$3.finalized=!0,s$2.litElementHydrateSupport?.({LitElement:i$3});const o$3=s$2.litElementPolyfillSupport;function ascending$3(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending$1(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,i,r;function n(t,r,n=0,a=t.length){if(n<a){if(0!==e(r,r))return a;do{const e=n+a>>>1;i(t[e],r)<0?n=e+1:a=e}while(n<a)}return n}return 2!==t.length?(e=ascending$3,i=(e,i)=>ascending$3(t(e),i),r=(e,i)=>t(e)-i):(e=t===ascending$3||t===descending$1?t:zero$1,i=t,r=t),{left:n,center:function(t,e,i=0,a=t.length){const s=n(t,e,i,a-1);return s>i&&r(t[s-1],e)>-r(t[s],e)?s-1:s},right:function(t,r,n=0,a=t.length){if(n<a){if(0!==e(r,r))return a;do{const e=n+a>>>1;i(t[e],r)<=0?n=e+1:a=e}while(n<a)}return n}}}function zero$1(){return 0}function number$5(t){return null===t?NaN:+t}function*numbers(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(r=+r)>=r&&(yield r)}}o$3?.({LitElement:i$3}),(s$2.litElementVersions??=[]).push("4.2.1");const ascendingBisect=bisector(ascending$3),bisectRight=ascendingBisect.right;function count(t,e){let i=0;for(let e of t)null!=e&&(e=+e)>=e&&++i;return i}function length$2(t){return 0|t.length}function empty$1(t){return!(t>0)}function arrayify$1(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function reducer(t){return e=>t(...e)}function cross(...t){const e="function"==typeof t[t.length-1]&&reducer(t.pop()),i=(t=t.map(arrayify$1)).map(length$2),r=t.length-1,n=new Array(r+1).fill(0),a=[];if(r<0||i.some(empty$1))return a;for(;;){a.push(n.map((e,i)=>t[i][e]));let s=r;for(;++n[s]===i[s];){if(0===s)return e?a.map(e):a;n[s--]=0}}}function cumsum(t,e){var i=0;return Float64Array.from(t,t=>i+=+t||0)}function variance(t,e){let i,r=0,n=0,a=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(i=e-n,n+=i/++r,a+=i*(e-n));else{let s=-1;for(let o of t)null!=(o=e(o,++s,t))&&(o=+o)>=o&&(i=o-n,n+=i/++r,a+=i*(o-n))}if(r>1)return a/(r-1)}function deviation(t,e){const i=variance(t,e);return i?Math.sqrt(i):i}function extent$2(t,e){let i,r;if(void 0===e)for(const e of t)null!=e&&(void 0===i?e>=e&&(i=r=e):(i>e&&(i=e),r<e&&(r=e)));else{let n=-1;for(let a of t)null!=(a=e(a,++n,t))&&(void 0===i?a>=a&&(i=r=a):(i>a&&(i=a),r<a&&(r=a)))}return[i,r]}bisector(number$5).center;class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const n=e[r],a=t+n,s=Math.abs(t)<Math.abs(n)?t-(a-n):n-(a-t);s&&(e[i++]=s),t=a}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e,i,r,n=this._n,a=0;if(n>0){for(a=t[--n];n>0&&(e=a,i=t[--n],a=e+i,r=i-(a-e),!r););n>0&&(r<0&&t[n-1]<0||r>0&&t[n-1]>0)&&(i=2*r,e=a+i,i==e-a&&(a=e))}return a}}class InternMap extends Map{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,i]of t)this.set(e,i)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,e){return super.set(intern_set(this,t),e)}delete(t){return super.delete(intern_delete(this,t))}}class InternSet extends Set{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(intern_get(this,t))}add(t){return super.add(intern_set(this,t))}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:t,_key:e},i){const r=e(i);return t.has(r)?t.get(r):i}function intern_set({_intern:t,_key:e},i){const r=e(i);return t.has(r)?t.get(r):(t.set(r,i),i)}function intern_delete({_intern:t,_key:e},i){const r=e(i);return t.has(r)&&(i=t.get(r),t.delete(r)),i}function keyof$1(t){return null!==t&&"object"==typeof t?t.valueOf():t}function identity$f(t){return t}function group(t,...e){return nest(t,identity$f,identity$f,e)}function rollup(t,e,...i){return nest(t,identity$f,e,i)}function rollups(t,e,...i){return nest(t,Array.from,e,i)}function nest(t,e,i,r){return function t(n,a){if(a>=r.length)return i(n);const s=new InternMap,o=r[a++];let l=-1;for(const t of n){const e=o(t,++l,n),i=s.get(e);i?i.push(t):s.set(e,[t])}for(const[e,i]of s)s.set(e,t(i,a));return e(s)}(t,0)}function permute(t,e){return Array.from(e,e=>t[e])}function sort$1(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[i]=e;if(i&&2!==i.length||e.length>1){const r=Uint32Array.from(t,(t,e)=>e);return e.length>1?(e=e.map(e=>t.map(e)),r.sort((t,i)=>{for(const r of e){const e=ascendingDefined$1(r[t],r[i]);if(e)return e}})):(i=t.map(i),r.sort((t,e)=>ascendingDefined$1(i[t],i[e]))),permute(t,r)}return t.sort(compareDefined(i))}function compareDefined(t=ascending$3){if(t===ascending$3)return ascendingDefined$1;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,i)=>{const r=t(e,i);return r||0===r?r:(0===t(i,i))-(0===t(e,e))}}function ascendingDefined$1(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function groupSort(t,e,i){return(2!==e.length?sort$1(rollup(t,e,i),([t,e],[i,r])=>ascending$3(e,r)||ascending$3(t,i)):sort$1(group(t,i),([t,i],[r,n])=>e(i,n)||ascending$3(t,r))).map(([t])=>t)}var array$4=Array.prototype,slice$2=array$4.slice;function constant$6(t){return()=>t}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,i){const r=(e-t)/Math.max(0,i),n=Math.floor(Math.log10(r)),a=r/Math.pow(10,n),s=a>=e10?10:a>=e5?5:a>=e2?2:1;let o,l,c;return n<0?(c=Math.pow(10,-n)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,n)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=i&&i<2?tickSpec(t,e,2*i):[o,l,c]}function ticks$1(t,e,i){if(!((i=+i)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[n,a,s]=r?tickSpec(e,t,i):tickSpec(t,e,i);if(!(a>=n))return[];const o=a-n+1,l=new Array(o);if(r)if(s<0)for(let t=0;t<o;++t)l[t]=(a-t)/-s;else for(let t=0;t<o;++t)l[t]=(a-t)*s;else if(s<0)for(let t=0;t<o;++t)l[t]=(n+t)/-s;else for(let t=0;t<o;++t)l[t]=(n+t)*s;return l}function tickIncrement$1(t,e,i){return tickSpec(t=+t,e=+e,i=+i)[2]}function tickStep(t,e,i){i=+i;const r=(e=+e)<(t=+t),n=r?tickIncrement$1(e,t,i):tickIncrement$1(t,e,i);return(r?-1:1)*(n<0?1/-n:n)}function nice$1(t,e,i){let r;for(;;){const n=tickIncrement$1(t,e,i);if(n===r||0===n||!isFinite(n))return[t,e];n>0?(t=Math.floor(t/n)*n,e=Math.ceil(e/n)*n):n<0&&(t=Math.ceil(t*n)/n,e=Math.floor(e*n)/n),r=n}}function thresholdSturges(t){return Math.max(1,Math.ceil(Math.log(count(t))/Math.LN2)+1)}function bin(){var t=identity$f,e=extent$2,i=thresholdSturges;function r(r){Array.isArray(r)||(r=Array.from(r));var n,a,s,o=r.length,l=new Array(o);for(n=0;n<o;++n)l[n]=t(r[n],n,r);var c=e(l),g=c[0],d=c[1],u=i(l,g,d);if(!Array.isArray(u)){const t=d,i=+u;if(e===extent$2&&([g,d]=nice$1(g,d,i)),(u=ticks$1(g,d,i))[0]<=g&&(s=tickIncrement$1(g,d,i)),u[u.length-1]>=d)if(t>=d&&e===extent$2){const t=tickIncrement$1(g,d,i);isFinite(t)&&(t>0?d=(Math.floor(d/t)+1)*t:t<0&&(d=(Math.ceil(d*-t)+1)/-t))}else u.pop()}for(var B=u.length,F=0,h=B;u[F]<=g;)++F;for(;u[h-1]>d;)--h;(F||h<B)&&(u=u.slice(F,h),B=h-F);var Q,U=new Array(B+1);for(n=0;n<=B;++n)(Q=U[n]=[]).x0=n>0?u[n-1]:g,Q.x1=n<B?u[n]:d;if(isFinite(s)){if(s>0)for(n=0;n<o;++n)null!=(a=l[n])&&g<=a&&a<=d&&U[Math.min(B,Math.floor((a-g)/s))].push(r[n]);else if(s<0)for(n=0;n<o;++n)if(null!=(a=l[n])&&g<=a&&a<=d){const t=Math.floor((g-a)*s);U[Math.min(B,t+(u[t]<=a))].push(r[n])}}else for(n=0;n<o;++n)null!=(a=l[n])&&g<=a&&a<=d&&U[bisectRight(u,a,0,B)].push(r[n]);return U}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:constant$6(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:constant$6([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:constant$6(Array.isArray(t)?slice$2.call(t):t),r):i},r}function max$1(t,e){let i;if(void 0===e)for(const e of t)null!=e&&(i<e||void 0===i&&e>=e)&&(i=e);else{let r=-1;for(let n of t)null!=(n=e(n,++r,t))&&(i<n||void 0===i&&n>=n)&&(i=n)}return i}function maxIndex(t,e){let i,r=-1,n=-1;if(void 0===e)for(const e of t)++n,null!=e&&(i<e||void 0===i&&e>=e)&&(i=e,r=n);else for(let a of t)null!=(a=e(a,++n,t))&&(i<a||void 0===i&&a>=a)&&(i=a,r=n);return r}function min$1(t,e){let i;if(void 0===e)for(const e of t)null!=e&&(i>e||void 0===i&&e>=e)&&(i=e);else{let r=-1;for(let n of t)null!=(n=e(n,++r,t))&&(i>n||void 0===i&&n>=n)&&(i=n)}return i}function minIndex(t,e){let i,r=-1,n=-1;if(void 0===e)for(const e of t)++n,null!=e&&(i>e||void 0===i&&e>=e)&&(i=e,r=n);else for(let a of t)null!=(a=e(a,++n,t))&&(i>a||void 0===i&&a>=a)&&(i=a,r=n);return r}function quickselect(t,e,i=0,r=1/0,n){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(t.length-1,r)),!(i<=e&&e<=r))return t;for(n=void 0===n?ascendingDefined$1:compareDefined(n);r>i;){if(r-i>600){const a=r-i+1,s=e-i+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);quickselect(t,e,Math.max(i,Math.floor(e-s*l/a+c)),Math.min(r,Math.floor(e+(a-s)*l/a+c)),n)}const a=t[e];let s=i,o=r;for(swap(t,i,e),n(t[r],a)>0&&swap(t,i,r);s<o;){for(swap(t,s,o),++s,--o;n(t[s],a)<0;)++s;for(;n(t[o],a)>0;)--o}0===n(t[i],a)?swap(t,i,o):(++o,swap(t,o,r)),o<=e&&(i=o+1),e<=o&&(r=o-1)}return t}function swap(t,e,i){const r=t[e];t[e]=t[i],t[i]=r}function greatest(t,e=ascending$3){let i,r=!1;if(1===e.length){let n;for(const a of t){const t=e(a);(r?ascending$3(t,n)>0:0===ascending$3(t,t))&&(i=a,n=t,r=!0)}}else for(const n of t)(r?e(n,i)>0:0===e(n,n))&&(i=n,r=!0);return i}function quantile$1(t,e,i){if((r=(t=Float64Array.from(numbers(t,i))).length)&&!isNaN(e=+e)){if(e<=0||r<2)return min$1(t);if(e>=1)return max$1(t);var r,n=(r-1)*e,a=Math.floor(n),s=max$1(quickselect(t,a).subarray(0,a+1));return s+(min$1(t.subarray(a+1))-s)*(n-a)}}function quantileSorted(t,e,i=number$5){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+i(t[0],0,t);if(e>=1)return+i(t[r-1],r-1,t);var r,n=(r-1)*e,a=Math.floor(n),s=+i(t[a],a,t);return s+(+i(t[a+1],a+1,t)-s)*(n-a)}}function thresholdFreedmanDiaconis(t,e,i){const r=count(t),n=quantile$1(t,.75)-quantile$1(t,.25);return r&&n?Math.ceil((i-e)/(2*n*Math.pow(r,-1/3))):1}function thresholdScott(t,e,i){const r=count(t),n=deviation(t);return r&&n?Math.ceil((i-e)*Math.cbrt(r)/(3.49*n)):1}function mean(t,e){let i=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++i,r+=e);else{let n=-1;for(let a of t)null!=(a=e(a,++n,t))&&(a=+a)>=a&&(++i,r+=a)}if(i)return r/i}function median(t,e){return quantile$1(t,.5,e)}function*flatten(t){for(const e of t)yield*e}function merge(t){return Array.from(flatten(t))}function mode(t,e){const i=new InternMap;if(void 0===e)for(let e of t)null!=e&&e>=e&&i.set(e,(i.get(e)||0)+1);else{let r=-1;for(let n of t)null!=(n=e(n,++r,t))&&n>=n&&i.set(n,(i.get(n)||0)+1)}let r,n=0;for(const[t,e]of i)e>n&&(n=e,r=t);return r}function pairs(t,e=pair){const i=[];let r,n=!1;for(const a of t)n&&i.push(e(r,a)),r=a,n=!0;return i}function pair(t,e){return[t,e]}function range$1(t,e,i){t=+t,e=+e,i=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+i;for(var r=-1,n=0|Math.max(0,Math.ceil((e-t)/i)),a=new Array(n);++r<n;)a[r]=t+r*i;return a}function sum(t,e){let i=0;if(void 0===e)for(let e of t)(e=+e)&&(i+=e);else{let r=-1;for(let n of t)(n=+e(n,++r,t))&&(i+=n)}return i}function reverse(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function identity$e(t){return t}var top=1,right=2,bottom=3,left=4,epsilon$6=1e-6;function translateX(t){return"translate("+t+",0)"}function translateY(t){return"translate(0,"+t+")"}function number$4(t){return e=>+t(e)}function center(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function entering(){return!this.__axis}function axis(t,e){var i=[],r=null,n=null,a=6,s=6,o=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=t===top||t===left?-1:1,g=t===left||t===right?"x":"y",d=t===top||t===bottom?translateX:translateY;function u(u){var B=null==r?e.ticks?e.ticks.apply(e,i):e.domain():r,F=null==n?e.tickFormat?e.tickFormat.apply(e,i):identity$e:n,h=Math.max(a,0)+o,Q=e.range(),U=+Q[0]+l,I=+Q[Q.length-1]+l,b=(e.bandwidth?center:number$4)(e.copy(),l),p=u.selection?u.selection():u,y=p.selectAll(".domain").data([null]),m=p.selectAll(".tick").data(B,e).order(),C=m.exit(),f=m.enter().append("g").attr("class","tick"),x=m.select("line"),A=m.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(f),x=x.merge(f.append("line").attr("stroke","currentColor").attr(g+"2",c*a)),A=A.merge(f.append("text").attr("fill","currentColor").attr(g,c*h).attr("dy",t===top?"0em":t===bottom?"0.71em":"0.32em")),u!==p&&(y=y.transition(u),m=m.transition(u),x=x.transition(u),A=A.transition(u),C=C.transition(u).attr("opacity",epsilon$6).attr("transform",function(t){return isFinite(t=b(t))?d(t+l):this.getAttribute("transform")}),f.attr("opacity",epsilon$6).attr("transform",function(t){var e=this.parentNode.__axis;return d((e&&isFinite(e=e(t))?e:b(t))+l)})),C.remove(),y.attr("d",t===left||t===right?s?"M"+c*s+","+U+"H"+l+"V"+I+"H"+c*s:"M"+l+","+U+"V"+I:s?"M"+U+","+c*s+"V"+l+"H"+I+"V"+c*s:"M"+U+","+l+"H"+I),m.attr("opacity",1).attr("transform",function(t){return d(b(t)+l)}),x.attr(g+"2",c*a),A.attr(g,c*h).text(F),p.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===right?"start":t===left?"end":"middle"),p.each(function(){this.__axis=b})}return u.scale=function(t){return arguments.length?(e=t,u):e},u.ticks=function(){return i=Array.from(arguments),u},u.tickArguments=function(t){return arguments.length?(i=null==t?[]:Array.from(t),u):i.slice()},u.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),u):r&&r.slice()},u.tickFormat=function(t){return arguments.length?(n=t,u):n},u.tickSize=function(t){return arguments.length?(a=s=+t,u):a},u.tickSizeInner=function(t){return arguments.length?(a=+t,u):a},u.tickSizeOuter=function(t){return arguments.length?(s=+t,u):s},u.tickPadding=function(t){return arguments.length?(o=+t,u):o},u.offset=function(t){return arguments.length?(l=+t,u):l},u}function axisRight(t){return axis(right,t)}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}var noop$5={value:()=>{}};function dispatch(){for(var t,e=0,i=arguments.length,r={};e<i;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Dispatch(r)}function Dispatch(t){this._=t}function parseTypenames$1(t,e){return t.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function get$1(t,e){for(var i,r=0,n=t.length;r<n;++r)if((i=t[r]).name===e)return i.value}function set$1(t,e,i){for(var r=0,n=t.length;r<n;++r)if(t[r].name===e){t[r]=noop$5,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=i&&t.push({name:e,value:i}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var i,r=this._,n=parseTypenames$1(t+"",r),a=-1,s=n.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=n[a]).type)r[i]=set$1(r[i],t.name,e);else if(null==e)for(i in r)r[i]=set$1(r[i],t.name,null);return this}for(;++a<s;)if((i=(t=n[a]).type)&&(i=get$1(r[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Dispatch(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,r,n=new Array(i),a=0;a<i;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,i=(r=this._[t]).length;a<i;++a)r[a].value.apply(e,n)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],n=0,a=r.length;n<a;++n)r[n].value.apply(e,i)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(t):e.createElementNS(i,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector$1(t){return null==t?none:function(){return this.querySelector(t)}}function selection_select(t){"function"!=typeof t&&(t=selector$1(t));for(var e=this._groups,i=e.length,r=new Array(i),n=0;n<i;++n)for(var a,s,o=e[n],l=o.length,c=r[n]=new Array(l),g=0;g<l;++g)(a=o[g])&&(s=t.call(a,a.__data__,g,o))&&("__data__"in a&&(s.__data__=a.__data__),c[g]=s);return new Selection$1(r,this._parents)}function array$3(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function empty(){return[]}function selectorAll(t){return null==t?empty:function(){return this.querySelectorAll(t)}}function arrayAll(t){return function(){return array$3(t.apply(this,arguments))}}function selection_selectAll(t){t="function"==typeof t?arrayAll(t):selectorAll(t);for(var e=this._groups,i=e.length,r=[],n=[],a=0;a<i;++a)for(var s,o=e[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(r.push(t.call(s,s.__data__,c,o)),n.push(s));return new Selection$1(r,n)}function matcher(t){return function(){return this.matches(t)}}function childMatcher(t){return function(e){return e.matches(t)}}var find=Array.prototype.find;function childFind(t){return function(){return find.call(this.children,t)}}function childFirst(){return this.firstElementChild}function selection_selectChild(t){return this.select(null==t?childFirst:childFind("function"==typeof t?t:childMatcher(t)))}var filter$2=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(t){return function(){return filter$2.call(this.children,t)}}function selection_selectChildren(t){return this.selectAll(null==t?children:childrenFilter("function"==typeof t?t:childMatcher(t)))}function selection_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,i=e.length,r=new Array(i),n=0;n<i;++n)for(var a,s=e[n],o=s.length,l=r[n]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new Selection$1(r,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function constant$5(t){return function(){return t}}function bindIndex(t,e,i,r,n,a){for(var s,o=0,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):i[o]=new EnterNode(t,a[o]);for(;o<l;++o)(s=e[o])&&(n[o]=s)}function bindKey(t,e,i,r,n,a,s){var o,l,c,g=new Map,d=e.length,u=a.length,B=new Array(d);for(o=0;o<d;++o)(l=e[o])&&(B[o]=c=s.call(l,l.__data__,o,e)+"",g.has(c)?n[o]=l:g.set(c,l));for(o=0;o<u;++o)c=s.call(t,a[o],o,a)+"",(l=g.get(c))?(r[o]=l,l.__data__=a[o],g.delete(c)):i[o]=new EnterNode(t,a[o]);for(o=0;o<d;++o)(l=e[o])&&g.get(B[o])===l&&(n[o]=l)}function datum(t){return t.__data__}function selection_data(t,e){if(!arguments.length)return Array.from(this,datum);var i=e?bindKey:bindIndex,r=this._parents,n=this._groups;"function"!=typeof t&&(t=constant$5(t));for(var a=n.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var g=r[c],d=n[c],u=d.length,B=arraylike(t.call(g,g&&g.__data__,c,r)),F=B.length,h=o[c]=new Array(F),Q=s[c]=new Array(F);i(g,d,h,Q,l[c]=new Array(u),B,e);for(var U,I,b=0,p=0;b<F;++b)if(U=h[b]){for(b>=p&&(p=b+1);!(I=Q[p])&&++p<F;);U._next=I||null}}return(s=new Selection$1(s,r))._enter=o,s._exit=l,s}function arraylike(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(t,e,i){var r=this.enter(),n=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(n=e(n))&&(n=n.selection()),null==i?a.remove():i(a),r&&n?r.merge(n).order():n}function selection_merge(t){for(var e=t.selection?t.selection():t,i=this._groups,r=e._groups,n=i.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var c,g=i[l],d=r[l],u=g.length,B=o[l]=new Array(u),F=0;F<u;++F)(c=g[F]||d[F])&&(B[F]=c);for(;l<n;++l)o[l]=i[l];return new Selection$1(o,this._parents)}function selection_order(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var r,n=t[e],a=n.length-1,s=n[a];--a>=0;)(r=n[a])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this}function selection_sort(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=ascending$2);for(var i=this._groups,r=i.length,n=new Array(r),a=0;a<r;++a){for(var s,o=i[a],l=o.length,c=n[a]=new Array(l),g=0;g<l;++g)(s=o[g])&&(c[g]=s);c.sort(e)}return new Selection$1(n,this._parents).order()}function ascending$2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],n=0,a=r.length;n<a;++n){var s=r[n];if(s)return s}return null}function selection_size(){let t=0;for(const e of this)++t;return t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var n,a=e[i],s=0,o=a.length;s<o;++s)(n=a[s])&&t.call(n,n.__data__,s,a);return this}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS$1(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction$1(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function attrFunctionNS$1(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function selection_attr(t,e){var i=namespace(t);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((null==e?i.local?attrRemoveNS$1:attrRemove$1:"function"==typeof e?i.local?attrFunctionNS$1:attrFunction$1:i.local?attrConstantNS$1:attrConstant$1)(i,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove$1(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(t,e,i){return function(){this.style.setProperty(t,e,i)}}function styleFunction$1(t,e,i){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,i)}}function selection_style(t,e,i){return arguments.length>1?this.each((null==e?styleRemove$1:"function"==typeof e?styleFunction$1:styleConstant$1)(t,e,null==i?"":i)):styleValue(this.node(),t)}function styleValue(t,e){return t.style.getPropertyValue(e)||defaultView(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function selection_property(t,e){return arguments.length>1?this.each((null==e?propertyRemove:"function"==typeof e?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var i=classList(t),r=-1,n=e.length;++r<n;)i.add(e[r])}function classedRemove(t,e){for(var i=classList(t),r=-1,n=e.length;++r<n;)i.remove(e[r])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var i=classArray(t+"");if(arguments.length<2){for(var r=classList(this.node()),n=-1,a=i.length;++n<a;)if(!r.contains(i[n]))return!1;return!0}return this.each(("function"==typeof e?classedFunction:e?classedTrue:classedFalse)(i,e))}function textRemove(){this.textContent=""}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction$1:textConstant$1)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function selection_html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e="function"==typeof t?t:creator(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(t,e){var i="function"==typeof t?t:creator(t),r=null==e?constantNull:"function"==typeof e?e:selector$1(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}function contextListener(t){return function(e){t.call(this,e,this.__data__)}}function parseTypenames(t){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function onRemove(t){return function(){var e=this.__on;if(e){for(var i,r=0,n=-1,a=e.length;r<a;++r)i=e[r],t.type&&i.type!==t.type||i.name!==t.name?e[++n]=i:this.removeEventListener(i.type,i.listener,i.options);++n?e.length=n:delete this.__on}}}function onAdd(t,e,i){return function(){var r,n=this.__on,a=contextListener(e);if(n)for(var s=0,o=n.length;s<o;++s)if((r=n[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=i),void(r.value=e);this.addEventListener(t.type,a,i),r={type:t.type,name:t.name,value:e,listener:a,options:i},n?n.push(r):this.__on=[r]}}function selection_on(t,e,i){var r,n,a=parseTypenames(t+""),s=a.length;if(!(arguments.length<2)){for(o=e?onAdd:onRemove,r=0;r<s;++r)this.each(o(a[r],e,i));return this}var o=this.node().__on;if(o)for(var l,c=0,g=o.length;c<g;++c)for(r=0,l=o[c];r<s;++r)if((n=a[r]).type===l.type&&n.name===l.name)return l.value}function dispatchEvent(t,e,i){var r=defaultView(t),n=r.CustomEvent;"function"==typeof n?n=new n(e,i):(n=r.document.createEvent("Event"),i?(n.initEvent(e,i.bubbles,i.cancelable),n.detail=i.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each(("function"==typeof e?dispatchFunction:dispatchConstant)(t,e))}function*selection_iterator(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r,n=t[e],a=0,s=n.length;a<s;++a)(r=n[a])&&(yield r)}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var root=[null];function Selection$1(t,e){this._groups=t,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}function select$5(t){return"string"==typeof t?new Selection$1([[document.querySelector(t)]],[document.documentElement]):new Selection$1([[t]],root)}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};var nextId=0;function local(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}function sourceEvent(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pointof(t,e){if(t=sourceEvent(t),void 0===e&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}}return[t.pageX,t.pageY]}Local.prototype=local.prototype={constructor:Local,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation(t){t.stopImmediatePropagation()}function noevent(t){t.preventDefault(),t.stopImmediatePropagation()}function dragDisable(t){var e=t.document.documentElement,i=select$5(t).on("dragstart.drag",noevent,nonpassivecapture);"onselectstart"in e?i.on("selectstart.drag",noevent,nonpassivecapture):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(t,e){var i=t.document.documentElement,r=select$5(t).on("dragstart.drag",null);e&&(r.on("click.drag",noevent,nonpassivecapture),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in i?r.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var constant$4=t=>()=>t;function DragEvent(t,{sourceEvent:e,subject:i,target:r,identifier:n,active:a,x:s,y:o,dx:l,dy:c,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:g}})}function defaultFilter(t){return!t.ctrlKey&&!t.button}function defaultContainer(){return this.parentNode}function defaultSubject(t,e){return null==e?{x:t.x,y:t.y}:e}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var t,e,i,r,n=defaultFilter,a=defaultContainer,s=defaultSubject,o=defaultTouchable,l={},c=dispatch("start","drag","end"),g=0,d=0;function u(t){t.on("mousedown.drag",B).filter(o).on("touchstart.drag",Q).on("touchmove.drag",U,nonpassive).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function B(s,o){if(!r&&n.call(this,s,o)){var l=b(this,a.call(this,s,o),s,o,"mouse");l&&(select$5(s.view).on("mousemove.drag",F,nonpassivecapture).on("mouseup.drag",h,nonpassivecapture),dragDisable(s.view),nopropagation(s),i=!1,t=s.clientX,e=s.clientY,l("start",s))}}function F(r){if(noevent(r),!i){var n=r.clientX-t,a=r.clientY-e;i=n*n+a*a>d}l.mouse("drag",r)}function h(t){select$5(t.view).on("mousemove.drag mouseup.drag",null),yesdrag(t.view,i),noevent(t),l.mouse("end",t)}function Q(t,e){if(n.call(this,t,e)){var i,r,s=t.changedTouches,o=a.call(this,t,e),l=s.length;for(i=0;i<l;++i)(r=b(this,o,t,e,s[i].identifier,s[i]))&&(nopropagation(t),r("start",t,s[i]))}}function U(t){var e,i,r=t.changedTouches,n=r.length;for(e=0;e<n;++e)(i=l[r[e].identifier])&&(noevent(t),i("drag",t,r[e]))}function I(t){var e,i,n=t.changedTouches,a=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<a;++e)(i=l[n[e].identifier])&&(nopropagation(t),i("end",t,n[e]))}function b(t,e,i,r,n,a){var o,d,B,F=c.copy(),h=pointof(a||i,e);if(null!=(B=s.call(t,new DragEvent("beforestart",{sourceEvent:i,target:u,identifier:n,active:g,x:h[0],y:h[1],dx:0,dy:0,dispatch:F}),r)))return o=B.x-h[0]||0,d=B.y-h[1]||0,function i(a,s,c){var Q,U=h;switch(a){case"start":l[n]=i,Q=g++;break;case"end":delete l[n],--g;case"drag":h=pointof(c||s,e),Q=g}F.call(a,t,new DragEvent(a,{sourceEvent:s,subject:B,target:u,identifier:n,active:Q,x:h[0]+o,y:h[1]+d,dx:h[0]-U[0],dy:h[1]-U[1],dispatch:F}),r)}}return u.filter=function(t){return arguments.length?(n="function"==typeof t?t:constant$4(!!t),u):n},u.container=function(t){return arguments.length?(a="function"==typeof t?t:constant$4(t),u):a},u.subject=function(t){return arguments.length?(s="function"==typeof t?t:constant$4(t),u):s},u.touchable=function(t){return arguments.length?(o="function"==typeof t?t:constant$4(!!t),u):o},u.on=function(){var t=c.on.apply(c,arguments);return t===c?u:t},u.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,u):Math.sqrt(d)},u}function define(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function extend$1(t,e){var i=Object.create(t.prototype);for(var r in e)i[r]=e[r];return i}function Color$C(){}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$3(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?rgbn(e):3===i?new Rgb(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?rgba$3(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?rgba$3(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger.exec(t))?rgba$3(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba$3(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named$1.hasOwnProperty(t)?rgbn(named$1[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba$3(t,e,i,r){return r<=0&&(t=e=i=NaN),new Rgb(t,e,i,r)}function rgbConvert(t){return t instanceof Color$C||(t=color$3(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,i,r){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,i,null==r?1:r)}function Rgb(t,e,i,r){this.r=+t,this.g=+e,this.b=+i,this.opacity=+r}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${1===t?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===t?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return((t=clampi(t))<16?"0":"")+t.toString(16)}function hsla(t,e,i,r){return r<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,i,r)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color$C||(t=color$3(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,i=t.g/255,r=t.b/255,n=Math.min(e,i,r),a=Math.max(e,i,r),s=NaN,o=a-n,l=(a+n)/2;return o?(s=e===a?(i-r)/o+6*(i<r):i===a?(r-e)/o+2:(e-i)/o+4,o/=l<.5?a+n:2-a-n,s*=60):o=l>0&&l<1?0:s,new Hsl(s,o,l,t.opacity)}function hsl$1(t,e,i,r){return 1===arguments.length?hslConvert(t):new Hsl(t,e,i,null==r?1:r)}function Hsl(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}function clamph(t){return(t=(t||0)%360)<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb$1(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}define(Color$C,color$3,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend$1(Color$C,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl$1,extend$1(Color$C,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,n=2*i-r;return new Rgb(hsl2rgb$1(t>=240?t-240:t+120,n,r),hsl2rgb$1(t,n,r),hsl2rgb$1(t<120?t+240:t-120,n,r),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${1===t?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===t?")":`, ${t})`}`}}));const radians$2=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$2=4/29,t1$2=6/29,t2=3*t1$2*t1$2,t3=t1$2*t1$2*t1$2;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl)return hcl2lab(t);t instanceof Rgb||(t=rgbConvert(t));var e,i,r=rgb2lrgb(t.r),n=rgb2lrgb(t.g),a=rgb2lrgb(t.b),s=xyz2lab((.2225045*r+.7168786*n+.0606169*a)/1);return r===n&&n===a?e=i=s:(e=xyz2lab((.4360747*r+.3850649*n+.1430804*a)/Xn),i=xyz2lab((.0139322*r+.0971045*n+.7141733*a)/Zn)),new Lab(116*s-16,500*(e-s),200*(s-i),t.opacity)}function lab$1(t,e,i,r){return 1===arguments.length?labConvert(t):new Lab(t,e,i,null==r?1:r)}function Lab(t,e,i,r){this.l=+t,this.a=+e,this.b=+i,this.opacity=+r}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0$2}function lab2xyz(t){return t>t1$2?t*t*t:t2*(t-t0$2)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*degrees$2;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hcl$1(t,e,i,r){return 1===arguments.length?hclConvert(t):new Hcl(t,e,i,null==r?1:r)}function Hcl(t,e,i,r){this.h=+t,this.c=+e,this.l=+i,this.opacity=+r}function hcl2lab(t){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*radians$2;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}define(Lab,lab$1,extend$1(Color$C,{brighter(t){return new Lab(this.l+K*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Lab(this.l-K*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=Xn*lab2xyz(e))-1.6168667*(t=1*lab2xyz(t))-.4906146*(i=Zn*lab2xyz(i))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*i),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),define(Hcl,hcl$1,extend$1(Color$C,{brighter(t){return new Hcl(this.h,this.c,this.l+K*(null==t?1:t),this.opacity)},darker(t){return new Hcl(this.h,this.c,this.l-K*(null==t?1:t),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A$1=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A$1;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,i=t.g/255,r=t.b/255,n=(BC_DA*r+ED*e-EB*i)/(BC_DA+ED-EB),a=r-n,s=(E*(i-n)-C*a)/D,o=Math.sqrt(s*s+a*a)/(E*n*(1-n)),l=o?Math.atan2(s,a)*degrees$2-120:NaN;return new Cubehelix(l<0?l+360:l,o,n,t.opacity)}function cubehelix$1(t,e,i,r){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,e,i,null==r?1:r)}function Cubehelix(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}function basis(t,e,i,r,n){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*i+(1+3*t+3*a-3*s)*r+s*n)/6}function basis$1(t){var e=t.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),n=t[r],a=t[r+1],s=r>0?t[r-1]:2*n-a,o=r<e-1?t[r+2]:2*a-n;return basis((i-r/e)*e,s,n,a,o)}}define(Cubehelix,cubehelix$1,extend$1(Color$C,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*radians$2,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),n=Math.sin(t);return new Rgb(255*(e+i*(A$1*r+B*n)),255*(e+i*(C*r+D*n)),255*(e+i*(E*r)),this.opacity)}}));var constant$3=t=>()=>t;function linear$2(t,e){return function(i){return t+i*e}}function exponential(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(r){return Math.pow(t+r*e,i)}}function hue(t,e){var i=e-t;return i?linear$2(t,i>180||i<-180?i-360*Math.round(i/360):i):constant$3(isNaN(t)?e:t)}function gamma(t){return 1===(t=+t)?nogamma:function(e,i){return i-e?exponential(e,i,t):constant$3(isNaN(e)?i:e)}}function nogamma(t,e){var i=e-t;return i?linear$2(t,i):constant$3(isNaN(t)?e:t)}var interpolateRgb=function t(e){var i=gamma(e);function r(t,e){var r=i((t=rgb(t)).r,(e=rgb(e)).r),n=i(t.g,e.g),a=i(t.b,e.b),s=nogamma(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=n(e),t.b=a(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function rgbSpline(t){return function(e){var i,r,n=e.length,a=new Array(n),s=new Array(n),o=new Array(n);for(i=0;i<n;++i)r=rgb(e[i]),a[i]=r.r||0,s[i]=r.g||0,o[i]=r.b||0;return a=t(a),s=t(s),o=t(o),r.opacity=1,function(t){return r.r=a(t),r.g=s(t),r.b=o(t),r+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(t,e){e||(e=[]);var i,r=t?Math.min(e.length,t.length):0,n=e.slice();return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function isNumberArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var i,r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r);for(i=0;i<n;++i)a[i]=interpolate$1(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(t){for(i=0;i<n;++i)s[i]=a[i](t);return s}}function date$1(t,e){var i=new Date;return t=+t,e=+e,function(r){return i.setTime(t*(1-r)+e*r),i}}function interpolateNumber(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function object(t,e){var i,r={},n={};for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?r[i]=interpolate$1(t[i],e[i]):n[i]=e[i];return function(t){for(i in r)n[i]=r[i](t);return n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one$1(t){return function(e){return t(e)+""}}function interpolateString(t,e){var i,r,n,a=reA.lastIndex=reB.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(i=reA.exec(t))&&(r=reB.exec(e));)(n=r.index)>a&&(n=e.slice(a,n),o[s]?o[s]+=n:o[++s]=n),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:interpolateNumber(i,r)})),a=reB.lastIndex;return a<e.length&&(n=e.slice(a),o[s]?o[s]+=n:o[++s]=n),o.length<2?l[0]?one$1(l[0].x):zero(e):(e=l.length,function(t){for(var i,r=0;r<e;++r)o[(i=l[r]).i]=i.x(t);return o.join("")})}function interpolate$1(t,e){var i,r=typeof e;return null==e||"boolean"===r?constant$3(e):("number"===r?interpolateNumber:"string"===r?(i=color$3(e))?(e=i,interpolateRgb):interpolateString:e instanceof color$3?interpolateRgb:e instanceof Date?date$1:isNumberArray$1(e)?numberArray:Array.isArray(e)?genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:interpolateNumber)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var svgNode,degrees$1=180/Math.PI,identity$d={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,i,r,n,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*i+e*r)&&(i-=t*l,r-=e*l),(o=Math.sqrt(i*i+r*r))&&(i/=o,r/=o,l/=o),t*r<e*i&&(t=-t,e=-e,l=-l,s=-s),{translateX:n,translateY:a,rotate:Math.atan2(e,t)*degrees$1,skewX:Math.atan(l)*degrees$1,scaleX:s,scaleY:o}}function parseCss(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?identity$d:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(t){return null==t?identity$d:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",t),(t=svgNode.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):identity$d)}function interpolateTransform(t,e,i,r){function n(t){return t.length?t.pop()+" ":""}return function(a,s){var o=[],l=[];return a=t(a),s=t(s),function(t,r,n,a,s,o){if(t!==n||r!==a){var l=s.push("translate(",null,e,null,i);o.push({i:l-4,x:interpolateNumber(t,n)},{i:l-2,x:interpolateNumber(r,a)})}else(n||a)&&s.push("translate("+n+e+a+i)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(t,e,i,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:i.push(n(i)+"rotate(",null,r)-2,x:interpolateNumber(t,e)})):e&&i.push(n(i)+"rotate("+e+r)}(a.rotate,s.rotate,o,l),function(t,e,i,a){t!==e?a.push({i:i.push(n(i)+"skewX(",null,r)-2,x:interpolateNumber(t,e)}):e&&i.push(n(i)+"skewX("+e+r)}(a.skewX,s.skewX,o,l),function(t,e,i,r,a,s){if(t!==i||e!==r){var o=a.push(n(a)+"scale(",null,",",null,")");s.push({i:o-4,x:interpolateNumber(t,i)},{i:o-2,x:interpolateNumber(e,r)})}else 1===i&&1===r||a.push(n(a)+"scale("+i+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(t){for(var e,i=-1,r=l.length;++i<r;)o[(e=l[i]).i]=e.x(t);return o.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hsl(t){return function(e,i){var r=t((e=hsl$1(e)).h,(i=hsl$1(i)).h),n=nogamma(e.s,i.s),a=nogamma(e.l,i.l),s=nogamma(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=n(t),e.l=a(t),e.opacity=s(t),e+""}}}var interpolateHsl=hsl(hue);function lab(t,e){var i=nogamma((t=lab$1(t)).l,(e=lab$1(e)).l),r=nogamma(t.a,e.a),n=nogamma(t.b,e.b),a=nogamma(t.opacity,e.opacity);return function(e){return t.l=i(e),t.a=r(e),t.b=n(e),t.opacity=a(e),t+""}}function hcl(t){return function(e,i){var r=t((e=hcl$1(e)).h,(i=hcl$1(i)).h),n=nogamma(e.c,i.c),a=nogamma(e.l,i.l),s=nogamma(e.opacity,i.opacity);return function(t){return e.h=r(t),e.c=n(t),e.l=a(t),e.opacity=s(t),e+""}}}var interpolateHcl=hcl(hue);function cubehelix(t){return function e(i){function r(e,r){var n=t((e=cubehelix$1(e)).h,(r=cubehelix$1(r)).h),a=nogamma(e.s,r.s),s=nogamma(e.l,r.l),o=nogamma(e.opacity,r.opacity);return function(t){return e.h=n(t),e.s=a(t),e.l=s(Math.pow(t,i)),e.opacity=o(t),e+""}}return i=+i,r.gamma=e,r}(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(t,e){void 0===e&&(e=t,t=interpolate$1);for(var i=0,r=e.length-1,n=e[0],a=new Array(r<0?0:r);i<r;)a[i]=t(n,n=e[++i]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}function quantize(t,e){for(var i=new Array(e),r=0;r<e;++r)i[r]=t(r/(e-1));return i}var taskHead,taskTail,frame$1=0,timeout$1=0,interval$1=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,i){var r=new Timer;return r.restart(t,e,i),r}function timerFlush(){now(),++frame$1;for(var t,e=taskHead;e;)(t=clockNow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var t=clock.now(),e=t-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=t)}function nap(){for(var t,e,i=taskHead,r=1/0;i;)i._call?(r>i._time&&(r=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:taskHead=e);taskTail=t,sleep(r)}function sleep(t){frame$1||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),t-clockNow>24?(t<1/0&&(timeout$1=setTimeout(wake,t-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake)))}function timeout(t,e,i){var r=new Timer;return e=null==e?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,i),r}function interval(t,e,i){var r=new Timer,n=e;return r._restart=r.restart,r.restart=function(t,e,i){e=+e,i=null==i?now():+i,r._restart(function a(s){s+=n,r._restart(a,n+=e,i),t(s)},e,i)},r.restart(t,e,i),r}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?now():+i)+(null==e?0:+e),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=t,this._time=i,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(t,e,i,r,n,a){var s=t.__transition;if(s){if(i in s)return}else t.__transition={};create$2(t,i,{name:e,index:r,group:n,on:emptyOn,tween:emptyTween,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CREATED})}function init(t,e){var i=get(t,e);if(i.state>CREATED)throw new Error("too late; already scheduled");return i}function set(t,e){var i=get(t,e);if(i.state>STARTED)throw new Error("too late; already running");return i}function get(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function create$2(t,e,i){var r,n=t.__transition;function a(l){var c,g,d,u;if(i.state!==SCHEDULED)return o();for(c in n)if((u=n[c]).name===i.name){if(u.state===STARTED)return timeout(a);u.state===RUNNING?(u.state=ENDED,u.timer.stop(),u.on.call("interrupt",t,t.__data__,u.index,u.group),delete n[c]):+c<e&&(u.state=ENDED,u.timer.stop(),u.on.call("cancel",t,t.__data__,u.index,u.group),delete n[c])}if(timeout(function(){i.state===STARTED&&(i.state=RUNNING,i.timer.restart(s,i.delay,i.time),s(l))}),i.state=STARTING,i.on.call("start",t,t.__data__,i.index,i.group),i.state===STARTING){for(i.state=STARTED,r=new Array(d=i.tween.length),c=0,g=-1;c<d;++c)(u=i.tween[c].value.call(t,t.__data__,i.index,i.group))&&(r[++g]=u);r.length=g+1}}function s(e){for(var n=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(o),i.state=ENDING,1),a=-1,s=r.length;++a<s;)r[a].call(t,n);i.state===ENDING&&(i.on.call("end",t,t.__data__,i.index,i.group),o())}function o(){for(var r in i.state=ENDED,i.timer.stop(),delete n[e],n)return;delete t.__transition}n[e]=i,i.timer=timer(function(t){i.state=SCHEDULED,i.timer.restart(a,i.delay,i.time),i.delay<=t&&a(t-i.delay)},0,i.time)}function interrupt(t,e){var i,r,n,a=t.__transition,s=!0;if(a){for(n in e=null==e?null:e+"",a)(i=a[n]).name===e?(r=i.state>STARTING&&i.state<ENDING,i.state=ENDED,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete a[n]):s=!1;s&&delete t.__transition}}function selection_interrupt(t){return this.each(function(){interrupt(this,t)})}function tweenRemove(t,e){var i,r;return function(){var n=set(this,t),a=n.tween;if(a!==i)for(var s=0,o=(r=i=a).length;s<o;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}n.tween=r}}function tweenFunction(t,e,i){var r,n;if("function"!=typeof i)throw new Error;return function(){var a=set(this,t),s=a.tween;if(s!==r){n=(r=s).slice();for(var o={name:e,value:i},l=0,c=n.length;l<c;++l)if(n[l].name===e){n[l]=o;break}l===c&&n.push(o)}a.tween=n}}function transition_tween(t,e){var i=this._id;if(t+="",arguments.length<2){for(var r,n=get(this.node(),i).tween,a=0,s=n.length;a<s;++a)if((r=n[a]).name===t)return r.value;return null}return this.each((null==e?tweenRemove:tweenFunction)(i,t,e))}function tweenValue(t,e,i){var r=t._id;return t.each(function(){var t=set(this,r);(t.value||(t.value={}))[e]=i.apply(this,arguments)}),function(t){return get(t,r).value[e]}}function interpolate(t,e){var i;return("number"==typeof e?interpolateNumber:e instanceof color$3?interpolateRgb:(i=color$3(e))?(e=i,interpolateRgb):interpolateString)(t,e)}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e,i){var r,n,a=i+"";return function(){var s=this.getAttribute(t);return s===a?null:s===r?n:n=e(r=s,i)}}function attrConstantNS(t,e,i){var r,n,a=i+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===r?n:n=e(r=s,i)}}function attrFunction(t,e,i){var r,n,a;return function(){var s,o,l=i(this);if(null!=l)return(s=this.getAttribute(t))===(o=l+"")?null:s===r&&o===n?a:(n=o,a=e(r=s,l));this.removeAttribute(t)}}function attrFunctionNS(t,e,i){var r,n,a;return function(){var s,o,l=i(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(o=l+"")?null:s===r&&o===n?a:(n=o,a=e(r=s,l));this.removeAttributeNS(t.space,t.local)}}function transition_attr(t,e){var i=namespace(t),r="transform"===i?interpolateTransformSvg:interpolate;return this.attrTween(t,"function"==typeof e?(i.local?attrFunctionNS:attrFunction)(i,r,tweenValue(this,"attr."+t,e)):null==e?(i.local?attrRemoveNS:attrRemove)(i):(i.local?attrConstantNS:attrConstant)(i,r,e))}function attrInterpolate(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function attrInterpolateNS(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function attrTweenNS(t,e){var i,r;function n(){var n=e.apply(this,arguments);return n!==r&&(i=(r=n)&&attrInterpolateNS(t,n)),i}return n._value=e,n}function attrTween(t,e){var i,r;function n(){var n=e.apply(this,arguments);return n!==r&&(i=(r=n)&&attrInterpolate(t,n)),i}return n._value=e,n}function transition_attrTween(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var r=namespace(t);return this.tween(i,(r.local?attrTweenNS:attrTween)(r,e))}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function transition_delay(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction:delayConstant)(e,t)):get(this.node(),e).delay}function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}}function transition_duration(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction:durationConstant)(e,t)):get(this.node(),e).duration}function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){set(this,t).ease=e}}function transition_ease(t){var e=this._id;return arguments.length?this.each(easeConstant(e,t)):get(this.node(),e).ease}function easeVarying(t,e){return function(){var i=e.apply(this,arguments);if("function"!=typeof i)throw new Error;set(this,t).ease=i}}function transition_easeVarying(t){if("function"!=typeof t)throw new Error;return this.each(easeVarying(this._id,t))}function transition_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,i=e.length,r=new Array(i),n=0;n<i;++n)for(var a,s=e[n],o=s.length,l=r[n]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,r=e.length,n=i.length,a=Math.min(r,n),s=new Array(r),o=0;o<a;++o)for(var l,c=e[o],g=i[o],d=c.length,u=s[o]=new Array(d),B=0;B<d;++B)(l=c[B]||g[B])&&(u[B]=l);for(;o<r;++o)s[o]=e[o];return new Transition(s,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function onFunction(t,e,i){var r,n,a=start(e)?init:set;return function(){var s=a(this,t),o=s.on;o!==r&&(n=(r=o).copy()).on(e,i),s.on=n}}function transition_on(t,e){var i=this._id;return arguments.length<2?get(this.node(),i).on.on(t):this.each(onFunction(i,t,e))}function removeFunction(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=selector$1(t));for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s)for(var o,l,c=r[s],g=c.length,d=a[s]=new Array(g),u=0;u<g;++u)(o=c[u])&&(l=t.call(o,o.__data__,u,c))&&("__data__"in o&&(l.__data__=o.__data__),d[u]=l,schedule(d[u],e,i,u,d,get(o,i)));return new Transition(a,this._parents,e,i)}function transition_selectAll(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=selectorAll(t));for(var r=this._groups,n=r.length,a=[],s=[],o=0;o<n;++o)for(var l,c=r[o],g=c.length,d=0;d<g;++d)if(l=c[d]){for(var u,B=t.call(l,l.__data__,d,c),F=get(l,i),h=0,Q=B.length;h<Q;++h)(u=B[h])&&schedule(u,e,i,h,B,F);a.push(B),s.push(l)}return new Transition(a,s,e,i)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(t,e){var i,r,n;return function(){var a=styleValue(this,t),s=(this.style.removeProperty(t),styleValue(this,t));return a===s?null:a===i&&s===r?n:n=e(i=a,r=s)}}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,i){var r,n,a=i+"";return function(){var s=styleValue(this,t);return s===a?null:s===r?n:n=e(r=s,i)}}function styleFunction(t,e,i){var r,n,a;return function(){var s=styleValue(this,t),o=i(this),l=o+"";return null==o&&(this.style.removeProperty(t),l=o=styleValue(this,t)),s===l?null:s===r&&l===n?a:(n=l,a=e(r=s,o))}}function styleMaybeRemove(t,e){var i,r,n,a,s="style."+e,o="end."+s;return function(){var l=set(this,t),c=l.on,g=null==l.value[s]?a||(a=styleRemove(e)):void 0;c===i&&n===g||(r=(i=c).copy()).on(o,n=g),l.on=r}}function transition_style(t,e,i){var r="transform"==(t+="")?interpolateTransformCss:interpolate;return null==e?this.styleTween(t,styleNull(t,r)).on("end.style."+t,styleRemove(t)):"function"==typeof e?this.styleTween(t,styleFunction(t,r,tweenValue(this,"style."+t,e))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant(t,r,e),i).on("end.style."+t,null)}function styleInterpolate(t,e,i){return function(r){this.style.setProperty(t,e.call(this,r),i)}}function styleTween(t,e,i){var r,n;function a(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&styleInterpolate(t,a,i)),r}return a._value=e,a}function transition_styleTween(t,e,i){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,styleTween(t,e,null==i?"":i))}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function transition_text(t){return this.tween("text","function"==typeof t?textFunction(tweenValue(this,"text",t)):textConstant(null==t?"":t+""))}function textInterpolate(t){return function(e){this.textContent=t.call(this,e)}}function textTween(t){var e,i;function r(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&textInterpolate(r)),e}return r._value=t,r}function transition_textTween(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,textTween(t))}function transition_transition(){for(var t=this._name,e=this._id,i=newId(),r=this._groups,n=r.length,a=0;a<n;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var g=get(s,e);schedule(s,t,i,c,o,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Transition(r,this._parents,t,i)}function transition_end(){var t,e,i=this,r=i._id,n=i.size();return new Promise(function(a,s){var o={value:s},l={value:function(){0===--n&&a()}};i.each(function(){var i=set(this,r),n=i.on;n!==t&&((e=(t=n).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),i.on=e}),0===n&&a()})}var id=0;function Transition(t,e,i,r){this._groups=t,this._parents=e,this._name=i,this._id=r}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};const linear$1=t=>+t;function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit$1(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function selection_transition(t){var e,i;t instanceof Transition?(e=t._id,t=t._name):(e=newId(),(i=defaultTiming).time=now(),t=null==t?null:t+"");for(var r=this._groups,n=r.length,a=0;a<n;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)(s=o[c])&&schedule(s,t,e,c,o,i||inherit$1(s,e));return new Transition(r,this._parents,t,e)}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;const pi$3=Math.PI,tau$3=2*pi$3,epsilon$5=1e-6,tauEpsilon=tau$3-1e-6;function append$1(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function appendRound$1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append$1;const i=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*i)/i+t[e]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?append$1:appendRound$1(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,n,a){this._append`C${+t},${+e},${+i},${+r},${this._x1=+n},${this._y1=+a}`}arcTo(t,e,i,r,n){if(t=+t,e=+e,i=+i,r=+r,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=this._x1,s=this._y1,o=i-t,l=r-e,c=a-t,g=s-e,d=c*c+g*g;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(d>1e-6)if(Math.abs(g*o-l*c)>1e-6&&n){let u=i-a,B=r-s,F=o*o+l*l,h=u*u+B*B,Q=Math.sqrt(F),U=Math.sqrt(d),I=n*Math.tan((pi$3-Math.acos((F+d-h)/(2*Q*U)))/2),b=I/U,p=I/Q;Math.abs(b-1)>1e-6&&this._append`L${t+b*c},${e+b*g}`,this._append`A${n},${n},0,0,${+(g*u>c*B)},${this._x1=t+p*o},${this._y1=e+p*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,i,r,n,a){if(t=+t,e=+e,a=!!a,(i=+i)<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(r),o=i*Math.sin(r),l=t+s,c=e+o,g=1^a,d=a?r-n:n-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&this._append`L${l},${c}`,i&&(d<0&&(d=d%tau$3+tau$3),d>tauEpsilon?this._append`A${i},${i},0,1,${g},${t-s},${e-o}A${i},${i},0,1,${g},${this._x1=l},${this._y1=c}`:d>1e-6&&this._append`A${i},${i},0,${+(d>=pi$3)},${g},${this._x1=t+i*Math.cos(n)},${this._y1=e+i*Math.sin(n)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function pathRound(t=3){return new Path(+t)}var array$2=Array.prototype,slice$1=array$2.slice;function ascending$1(t,e){return t-e}function area(t){for(var e=0,i=t.length,r=t[i-1][1]*t[0][0]-t[i-1][0]*t[0][1];++e<i;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}var constant$2=t=>()=>t;function contains(t,e){for(var i,r=-1,n=e.length;++r<n;)if(i=ringContains(t,e[r]))return i;return 0}function ringContains(t,e){for(var i=e[0],r=e[1],n=-1,a=0,s=t.length,o=s-1;a<s;o=a++){var l=t[a],c=l[0],g=l[1],d=t[o],u=d[0],B=d[1];if(segmentContains(l,d,e))return 0;g>r!=B>r&&i<(u-c)*(r-g)/(B-g)+c&&(n=-n)}return n}function segmentContains(t,e,i){var r;return collinear(t,e,i)&&within(t[r=+(t[0]===e[0])],i[r],e[r])}function collinear(t,e,i){return(e[0]-t[0])*(i[1]-t[1])===(i[0]-t[0])*(e[1]-t[1])}function within(t,e,i){return t<=e&&e<=i||i<=e&&e<=t}function noop$4(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var t=1,e=1,i=thresholdSturges,r=o;function n(t){var e=i(t);if(Array.isArray(e))e=e.slice().sort(ascending$1);else{const i=extent$2(t,finite$1);for(e=ticks$1(...nice$1(i[0],i[1],e),e);e[e.length-1]>=i[1];)e.pop();for(;e[1]<i[0];)e.shift()}return e.map(e=>a(t,e))}function a(i,n){const a=null==n?NaN:+n;if(isNaN(a))throw new Error(`invalid value: ${n}`);var o=[],l=[];return function(i,r,n){var a,o,l,c,g,d,u=new Array,B=new Array;a=o=-1,c=above(i[0],r),cases[c<<1].forEach(F);for(;++a<t-1;)l=c,c=above(i[a+1],r),cases[l|c<<1].forEach(F);cases[c|0].forEach(F);for(;++o<e-1;){for(a=-1,c=above(i[o*t+t],r),g=above(i[o*t],r),cases[c<<1|g<<2].forEach(F);++a<t-1;)l=c,c=above(i[o*t+t+a+1],r),d=g,g=above(i[o*t+a+1],r),cases[l|c<<1|g<<2|d<<3].forEach(F);cases[c|g<<3].forEach(F)}a=-1,g=i[o*t]>=r,cases[g<<2].forEach(F);for(;++a<t-1;)d=g,g=above(i[o*t+a+1],r),cases[g<<2|d<<3].forEach(F);function F(t){var e,i,r=[t[0][0]+a,t[0][1]+o],l=[t[1][0]+a,t[1][1]+o],c=s(r),g=s(l);(e=B[c])?(i=u[g])?(delete B[e.end],delete u[i.start],e===i?(e.ring.push(l),n(e.ring)):u[e.start]=B[i.end]={start:e.start,end:i.end,ring:e.ring.concat(i.ring)}):(delete B[e.end],e.ring.push(l),B[e.end=g]=e):(e=u[g])?(i=B[c])?(delete u[e.start],delete B[i.end],e===i?(e.ring.push(l),n(e.ring)):u[i.start]=B[e.end]={start:i.start,end:e.end,ring:i.ring.concat(e.ring)}):(delete u[e.start],e.ring.unshift(r),u[e.start=c]=e):u[c]=B[g]={start:c,end:g,ring:[r,l]}}cases[g<<3].forEach(F)}(i,a,function(t){r(t,i,a),area(t)>0?o.push([t]):l.push(t)}),l.forEach(function(t){for(var e,i=0,r=o.length;i<r;++i)if(-1!==contains((e=o[i])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:n,coordinates:o}}function s(e){return 2*e[0]+e[1]*(t+1)*4}function o(i,r,n){i.forEach(function(i){var a=i[0],s=i[1],o=0|a,l=0|s,c=valid(r[l*t+o]);a>0&&a<t&&o===a&&(i[0]=smooth1(a,valid(r[l*t+o-1]),c,n)),s>0&&s<e&&l===s&&(i[1]=smooth1(s,valid(r[(l-1)*t+o]),c,n))})}return n.contour=a,n.size=function(i){if(!arguments.length)return[t,e];var r=Math.floor(i[0]),a=Math.floor(i[1]);if(!(r>=0&&a>=0))throw new Error("invalid size");return t=r,e=a,n},n.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:Array.isArray(t)?constant$2(slice$1.call(t)):constant$2(t),n):i},n.smooth=function(t){return arguments.length?(r=t?o:noop$4,n):r===o},n}function finite$1(t){return isFinite(t)?t:NaN}function above(t,e){return null!=t&&+t>=e}function valid(t){return null==t||isNaN(t=+t)?-1/0:t}function smooth1(t,e,i,r){const n=r-e,a=i-e,s=isFinite(n)||isFinite(a)?n/a:Math.sign(n)/Math.sign(a);return isNaN(s)?t:t+s-.5}function formatDecimal$1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts$1(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,r=t.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+t.slice(i+1)]}function exponent$1(t){return(t=formatDecimalParts$1(Math.abs(t)))?t[1]:NaN}function formatGroup$1(t,e){return function(i,r){for(var n=i.length,a=[],s=0,o=t[0],l=0;n>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(i.substring(n-=o,n+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function formatNumerals$1(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}var prefixExponent$1,re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier$1(t){if(!(e=re$2.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier$1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function FormatSpecifier$1(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function formatTrim$1(t){t:for(var e,i=t.length,r=1,n=-1;r<i;++r)switch(t[r]){case".":n=e=r;break;case"0":0===n&&(n=r),e=r;break;default:if(!+t[r])break t;n>0&&(n=0)}return n>0?t.slice(0,n)+t.slice(e+1):t}function formatPrefixAuto$1(t,e){var i=formatDecimalParts$1(t,e);if(!i)return t+"";var r=i[0],n=i[1],a=n-(prefixExponent$1=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+formatDecimalParts$1(t,Math.max(0,e+a-1))[0]}function formatRounded$1(t,e){var i=formatDecimalParts$1(t,e);if(!i)return t+"";var r=i[0],n=i[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}formatSpecifier$1.prototype=FormatSpecifier$1.prototype,FormatSpecifier$1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes$1={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal$1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded$1(100*t,e),r:formatRounded$1,s:formatPrefixAuto$1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$c(t){return t}var locale$3,format$4,formatPrefix$1,map$2=Array.prototype.map,prefixes$1=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$4(t){var e=void 0===t.grouping||void 0===t.thousands?identity$c:formatGroup$1(map$2.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",n=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?identity$c:formatNumerals$1(map$2.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",o=void 0===t.minus?"â":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){var c=(t=formatSpecifier$1(t)).fill,g=t.align,d=t.sign,u=t.symbol,B=t.zero,F=t.width,h=t.comma,Q=t.precision,U=t.trim,I=t.type;"n"===I?(h=!0,I="g"):formatTypes$1[I]||(void 0===Q&&(Q=12),U=!0,I="g"),(B||"0"===c&&"="===g)&&(B=!0,c="0",g="=");var b="$"===u?i:"#"===u&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",p="$"===u?r:/[%p]/.test(I)?s:"",y=formatTypes$1[I],m=/[defgprs%]/.test(I);function C(t){var i,r,s,u=b,C=p;if("c"===I)C=y(t)+C,t="";else{var f=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:y(Math.abs(t),Q),U&&(t=formatTrim$1(t)),f&&0===+t&&"+"!==d&&(f=!1),u=(f?"("===d?d:o:"-"===d||"("===d?"":d)+u,C=("s"===I?prefixes$1[8+prefixExponent$1/3]:"")+C+(f&&"("===d?")":""),m)for(i=-1,r=t.length;++i<r;)if(48>(s=t.charCodeAt(i))||s>57){C=(46===s?n+t.slice(i+1):t.slice(i))+C,t=t.slice(0,i);break}}h&&!B&&(t=e(t,1/0));var x=u.length+t.length+C.length,A=x<F?new Array(F-x+1).join(c):"";switch(h&&B&&(t=e(A+t,A.length?F-C.length:1/0),A=""),g){case"<":t=u+t+C+A;break;case"=":t=u+A+t+C;break;case"^":t=A.slice(0,x=A.length>>1)+u+t+C+A.slice(x);break;default:t=A+u+t+C}return a(t)}return Q=void 0===Q?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,Q)):Math.max(0,Math.min(20,Q)),C.toString=function(){return t+""},C}return{format:c,formatPrefix:function(t,e){var i=c(((t=formatSpecifier$1(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(exponent$1(e)/3))),n=Math.pow(10,-r),a=prefixes$1[8+r/3];return function(t){return i(n*t)+a}}}}function defaultLocale$3(t){return locale$3=formatLocale$4(t),format$4=locale$3.format,formatPrefix$1=locale$3.formatPrefix,locale$3}function precisionFixed$1(t){return Math.max(0,-exponent$1(Math.abs(t)))}function precisionPrefix$1(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent$1(e)/3)))-exponent$1(Math.abs(t)))}function precisionRound$1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent$1(e)-exponent$1(t))+1}defaultLocale$3({thousands:",",grouping:[3],currency:["$",""]});var epsilon$4=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi$1=pi$2/2,quarterPi=pi$2/4,tau$2=2*pi$2,degrees=180/pi$2,radians$1=pi$2/180,abs$1=Math.abs,atan=Math.atan,atan2$2=Math.atan2,cos$2=Math.cos,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$2=Math.sin,sign$2=Math.sign||function(t){return t>0?1:t<0?-1:0},sqrt$1=Math.sqrt,tan=Math.tan;function acos$1(t){return t>1?0:t<-1?pi$2:Math.acos(t)}function asin$1(t){return t>1?halfPi$1:t<-1?-halfPi$1:Math.asin(t)}function noop$3(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,r=-1,n=i.length;++r<n;)streamGeometry(i[r].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,r=-1,n=i.length;++r<n;)t=i[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,r=-1,n=i.length;++r<n;)streamLine(i[r],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,r=-1,n=i.length;++r<n;)streamPolygon(i[r],e)},GeometryCollection:function(t,e){for(var i=t.geometries,r=-1,n=i.length;++r<n;)streamGeometry(i[r],e)}};function streamLine(t,e,i){var r,n=-1,a=t.length-i;for(e.lineStart();++n<a;)r=t[n],e.point(r[0],r[1],r[2]);e.lineEnd()}function streamPolygon(t,e){var i=-1,r=t.length;for(e.polygonStart();++i<r;)streamLine(t[i],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}function spherical(t){return[atan2$2(t[1],t[0]),asin$1(t[2])]}function cartesian$1(t){var e=t[0],i=t[1],r=cos$2(i);return[r*cos$2(e),r*sin$2(e),sin$2(i)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=sqrt$1(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function compose(t,e){function i(i,r){return i=t(i,r),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,r){return(i=e.invert(i,r))&&t.invert(i[0],i[1])}),i}function rotationIdentity(t,e){return abs$1(t)>pi$2&&(t-=Math.round(t/tau$2)*tau$2),[t,e]}function rotateRadians(t,e,i){return(t%=tau$2)?e||i?compose(rotationLambda(t),rotationPhiGamma(e,i)):rotationLambda(t):e||i?rotationPhiGamma(e,i):rotationIdentity}function forwardRotationLambda(t){return function(e,i){return abs$1(e+=t)>pi$2&&(e-=Math.round(e/tau$2)*tau$2),[e,i]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var i=cos$2(t),r=sin$2(t),n=cos$2(e),a=sin$2(e);function s(t,e){var s=cos$2(e),o=cos$2(t)*s,l=sin$2(t)*s,c=sin$2(e),g=c*i+o*r;return[atan2$2(l*n-g*a,o*i-c*r),asin$1(g*n+l*a)]}return s.invert=function(t,e){var s=cos$2(e),o=cos$2(t)*s,l=sin$2(t)*s,c=sin$2(e),g=c*n-l*a;return[atan2$2(l*n+c*a,o*i+g*r),asin$1(g*i-o*r)]},s}function rotation(t){function e(e){return(e=t(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e}return t=rotateRadians(t[0]*radians$1,t[1]*radians$1,t.length>2?t[2]*radians$1:0),e.invert=function(e){return(e=t.invert(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e},e}function circleStream(t,e,i,r,n,a){if(i){var s=cos$2(e),o=sin$2(e),l=r*i;null==n?(n=e+r*tau$2,a=e-l/2):(n=circleRadius(s,n),a=circleRadius(s,a),(r>0?n<a:n>a)&&(n+=r*tau$2));for(var c,g=n;r>0?g>a:g<a;g-=l)c=spherical([s,-o*cos$2(g),-o*sin$2(g)]),t.point(c[0],c[1])}}function circleRadius(t,e){(e=cartesian$1(e))[0]-=t,cartesianNormalizeInPlace(e);var i=acos$1(-e[1]);return((-e[2]<0?-i:i)+tau$2-epsilon$4)%tau$2}function clipBuffer(){var t,e=[];return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){e.push(t=[])},lineEnd:noop$3,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function pointEqual(t,e){return abs$1(t[0]-e[0])<epsilon$4&&abs$1(t[1]-e[1])<epsilon$4}function Intersection(t,e,i,r){this.x=t,this.z=e,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function clipRejoin(t,e,i,r,n){var a,s,o=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i,r=t[0],s=t[e];if(pointEqual(r,s)){if(!r[2]&&!s[2]){for(n.lineStart(),a=0;a<e;++a)n.point((r=t[a])[0],r[1]);return void n.lineEnd()}s[0]+=2*epsilon$4}o.push(i=new Intersection(r,t,null,!0)),l.push(i.o=new Intersection(r,null,i,!1)),o.push(i=new Intersection(s,t,null,!1)),l.push(i.o=new Intersection(s,null,i,!0))}}),o.length){for(l.sort(e),link(o),link(l),a=0,s=l.length;a<s;++a)l[a].e=i=!i;for(var c,g,d=o[0];;){for(var u=d,B=!0;u.v;)if((u=u.n)===d)return;c=u.z,n.lineStart();do{if(u.v=u.o.v=!0,u.e){if(B)for(a=0,s=c.length;a<s;++a)n.point((g=c[a])[0],g[1]);else r(u.x,u.n.x,1,n);u=u.n}else{if(B)for(c=u.p.z,a=c.length-1;a>=0;--a)n.point((g=c[a])[0],g[1]);else r(u.x,u.p.x,-1,n);u=u.p}c=(u=u.o).z,B=!B}while(!u.v);n.lineEnd()}}}function link(t){if(e=t.length){for(var e,i,r=0,n=t[0];++r<e;)n.n=i=t[r],i.p=n,n=i;n.n=i=t[0],i.p=n}}function longitude(t){return abs$1(t[0])<=pi$2?t[0]:sign$2(t[0])*((abs$1(t[0])+pi$2)%tau$2-pi$2)}function polygonContains(t,e){var i=longitude(e),r=e[1],n=sin$2(r),a=[sin$2(i),-cos$2(i),0],s=0,o=0,l=new Adder;1===n?r=halfPi$1+epsilon$4:-1===n&&(r=-halfPi$1-epsilon$4);for(var c=0,g=t.length;c<g;++c)if(u=(d=t[c]).length)for(var d,u,B=d[u-1],F=longitude(B),h=B[1]/2+quarterPi,Q=sin$2(h),U=cos$2(h),I=0;I<u;++I,F=p,Q=m,U=C,B=b){var b=d[I],p=longitude(b),y=b[1]/2+quarterPi,m=sin$2(y),C=cos$2(y),f=p-F,x=f>=0?1:-1,A=x*f,v=A>pi$2,L=Q*m;if(l.add(atan2$2(L*x*sin$2(A),U*C+L*cos$2(A))),s+=v?f+x*tau$2:f,v^F>=i^p>=i){var R=cartesianCross(cartesian$1(B),cartesian$1(b));cartesianNormalizeInPlace(R);var S=cartesianCross(a,R);cartesianNormalizeInPlace(S);var G=(v^f>=0?-1:1)*asin$1(S[2]);(r>G||r===G&&(R[0]||R[1]))&&(o+=v^f>=0?1:-1)}}return(s<-epsilon$4||s<epsilon$4&&l<-epsilon2)^1&o}function clip(t,e,i,r){return function(n){var a,s,o,l=e(n),c=clipBuffer(),g=e(c),d=!1,u={point:B,lineStart:h,lineEnd:Q,polygonStart:function(){u.point=U,u.lineStart=I,u.lineEnd=b,s=[],a=[]},polygonEnd:function(){u.point=B,u.lineStart=h,u.lineEnd=Q,s=merge(s);var t=polygonContains(a,r);s.length?(d||(n.polygonStart(),d=!0),clipRejoin(s,compareIntersection,t,i,n)):t&&(d||(n.polygonStart(),d=!0),n.lineStart(),i(null,null,1,n),n.lineEnd()),d&&(n.polygonEnd(),d=!1),s=a=null},sphere:function(){n.polygonStart(),n.lineStart(),i(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function B(e,i){t(e,i)&&n.point(e,i)}function F(t,e){l.point(t,e)}function h(){u.point=F,l.lineStart()}function Q(){u.point=B,l.lineEnd()}function U(t,e){o.push([t,e]),g.point(t,e)}function I(){g.lineStart(),o=[]}function b(){U(o[0][0],o[0][1]),g.lineEnd();var t,e,i,r,l=g.clean(),u=c.result(),B=u.length;if(o.pop(),a.push(o),o=null,B)if(1&l){if((e=(i=u[0]).length-1)>0){for(d||(n.polygonStart(),d=!0),n.lineStart(),t=0;t<e;++t)n.point((r=i[t])[0],r[1]);n.lineEnd()}}else B>1&&2&l&&u.push(u.pop().concat(u.shift())),s.push(u.filter(validSegment))}return u}}function validSegment(t){return t.length>1}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-halfPi$1-epsilon$4:halfPi$1-t[1])-((e=e.x)[0]<0?e[1]-halfPi$1-epsilon$4:halfPi$1-e[1])}rotationIdentity.invert=rotationIdentity;var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi$1]);function clipAntimeridianLine(t){var e,i=NaN,r=NaN,n=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var o=a>0?pi$2:-pi$2,l=abs$1(a-i);abs$1(l-pi$2)<epsilon$4?(t.point(i,r=(r+s)/2>0?halfPi$1:-halfPi$1),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(o,r),t.point(a,r),e=0):n!==o&&l>=pi$2&&(abs$1(i-n)<epsilon$4&&(i-=n*epsilon$4),abs$1(a-o)<epsilon$4&&(a-=o*epsilon$4),r=clipAntimeridianIntersect(i,r,a,s),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(o,r),e=0),t.point(i=a,r=s),n=o},lineEnd:function(){t.lineEnd(),i=r=NaN},clean:function(){return 2-e}}}function clipAntimeridianIntersect(t,e,i,r){var n,a,s=sin$2(t-i);return abs$1(s)>epsilon$4?atan((sin$2(e)*(a=cos$2(r))*sin$2(i)-sin$2(r)*(n=cos$2(e))*sin$2(t))/(n*a*s)):(e+r)/2}function clipAntimeridianInterpolate(t,e,i,r){var n;if(null==t)n=i*halfPi$1,r.point(-pi$2,n),r.point(0,n),r.point(pi$2,n),r.point(pi$2,0),r.point(pi$2,-n),r.point(0,-n),r.point(-pi$2,-n),r.point(-pi$2,0),r.point(-pi$2,n);else if(abs$1(t[0]-e[0])>epsilon$4){var a=t[0]<e[0]?pi$2:-pi$2;n=i*a/2,r.point(-a,n),r.point(0,n),r.point(a,n)}else r.point(e[0],e[1])}function clipCircle(t){var e=cos$2(t),i=2*radians$1,r=e>0,n=abs$1(e)>epsilon$4;function a(t,i){return cos$2(t)*cos$2(i)>e}function s(t,i,r){var n=[1,0,0],a=cartesianCross(cartesian$1(t),cartesian$1(i)),s=cartesianDot(a,a),o=a[0],l=s-o*o;if(!l)return!r&&t;var c=e*s/l,g=-e*o/l,d=cartesianCross(n,a),u=cartesianScale(n,c);cartesianAddInPlace(u,cartesianScale(a,g));var B=d,F=cartesianDot(u,B),h=cartesianDot(B,B),Q=F*F-h*(cartesianDot(u,u)-1);if(!(Q<0)){var U=sqrt$1(Q),I=cartesianScale(B,(-F-U)/h);if(cartesianAddInPlace(I,u),I=spherical(I),!r)return I;var b,p=t[0],y=i[0],m=t[1],C=i[1];y<p&&(b=p,p=y,y=b);var f=y-p,x=abs$1(f-pi$2)<epsilon$4;if(!x&&C<m&&(b=m,m=C,C=b),x||f<epsilon$4?x?m+C>0^I[1]<(abs$1(I[0]-p)<epsilon$4?m:C):m<=I[1]&&I[1]<=C:f>pi$2^(p<=I[0]&&I[0]<=y)){var A=cartesianScale(B,(-F+U)/h);return cartesianAddInPlace(A,u),[I,spherical(A)]}}}function o(e,i){var n=r?t:pi$2-t,a=0;return e<-n?a|=1:e>n&&(a|=2),i<-n?a|=4:i>n&&(a|=8),a}return clip(a,function(t){var e,i,l,c,g;return{lineStart:function(){c=l=!1,g=1},point:function(d,u){var B,F=[d,u],h=a(d,u),Q=r?h?0:o(d,u):h?o(d+(d<0?pi$2:-pi$2),u):0;if(!e&&(c=l=h)&&t.lineStart(),h!==l&&(!(B=s(e,F))||pointEqual(e,B)||pointEqual(F,B))&&(F[2]=1),h!==l)g=0,h?(t.lineStart(),B=s(F,e),t.point(B[0],B[1])):(B=s(e,F),t.point(B[0],B[1],2),t.lineEnd()),e=B;else if(n&&e&&r^h){var U;Q&i||!(U=s(F,e,!0))||(g=0,r?(t.lineStart(),t.point(U[0][0],U[0][1]),t.point(U[1][0],U[1][1]),t.lineEnd()):(t.point(U[1][0],U[1][1]),t.lineEnd(),t.lineStart(),t.point(U[0][0],U[0][1],3)))}!h||e&&pointEqual(e,F)||t.point(F[0],F[1]),e=F,l=h,i=Q},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return g|(c&&l)<<1}}},function(e,r,n,a){circleStream(a,t,i,n,e,r)},r?[0,-t]:[-pi$2,t-pi$2])}function clipLine(t,e,i,r,n,a){var s,o=t[0],l=t[1],c=0,g=1,d=e[0]-o,u=e[1]-l;if(s=i-o,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<g&&(g=s)}else if(d>0){if(s>g)return;s>c&&(c=s)}if(s=n-o,d||!(s<0)){if(s/=d,d<0){if(s>g)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<g&&(g=s)}if(s=r-l,u||!(s>0)){if(s/=u,u<0){if(s<c)return;s<g&&(g=s)}else if(u>0){if(s>g)return;s>c&&(c=s)}if(s=a-l,u||!(s<0)){if(s/=u,u<0){if(s>g)return;s>c&&(c=s)}else if(u>0){if(s<c)return;s<g&&(g=s)}return c>0&&(t[0]=o+c*d,t[1]=l+c*u),g<1&&(e[0]=o+g*d,e[1]=l+g*u),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(t,e,i,r){function n(n,a){return t<=n&&n<=i&&e<=a&&a<=r}function a(n,a,o,c){var g=0,d=0;if(null==n||(g=s(n,o))!==(d=s(a,o))||l(n,a)<0^o>0)do{c.point(0===g||3===g?t:i,g>1?r:e)}while((g=(g+o+4)%4)!==d);else c.point(a[0],a[1])}function s(r,n){return abs$1(r[0]-t)<epsilon$4?n>0?0:3:abs$1(r[0]-i)<epsilon$4?n>0?2:1:abs$1(r[1]-e)<epsilon$4?n>0?1:0:n>0?3:2}function o(t,e){return l(t.x,e.x)}function l(t,e){var i=s(t,1),r=s(e,1);return i!==r?i-r:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(s){var l,c,g,d,u,B,F,h,Q,U,I,b=s,p=clipBuffer(),y={point:m,lineStart:function(){y.point=C,c&&c.push(g=[]);U=!0,Q=!1,F=h=NaN},lineEnd:function(){l&&(C(d,u),B&&Q&&p.rejoin(),l.push(p.result()));y.point=m,Q&&b.lineEnd()},polygonStart:function(){b=p,l=[],c=[],I=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,n=c.length;i<n;++i)for(var a,s,o=c[i],l=1,g=o.length,d=o[0],u=d[0],B=d[1];l<g;++l)a=u,s=B,u=(d=o[l])[0],B=d[1],s<=r?B>r&&(u-a)*(r-s)>(B-s)*(t-a)&&++e:B<=r&&(u-a)*(r-s)<(B-s)*(t-a)&&--e;return e}(),i=I&&e,n=(l=merge(l)).length;(i||n)&&(s.polygonStart(),i&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),n&&clipRejoin(l,o,e,a,s),s.polygonEnd());b=s,l=c=g=null}};function m(t,e){n(t,e)&&b.point(t,e)}function C(a,s){var o=n(a,s);if(c&&g.push([a,s]),U)d=a,u=s,B=o,U=!1,o&&(b.lineStart(),b.point(a,s));else if(o&&Q)b.point(a,s);else{var l=[F=Math.max(clipMin,Math.min(clipMax,F)),h=Math.max(clipMin,Math.min(clipMax,h))],p=[a=Math.max(clipMin,Math.min(clipMax,a)),s=Math.max(clipMin,Math.min(clipMax,s))];clipLine(l,p,t,e,i,r)?(Q||(b.lineStart(),b.point(l[0],l[1])),b.point(p[0],p[1]),o||b.lineEnd(),I=!1):o&&(b.lineStart(),b.point(a,s),I=!1)}F=a,h=s,Q=o}return y}}var x00$2,y00$2,x0$3,y0$3,identity$b=t=>t,areaSum=new Adder,areaRingSum=new Adder,areaStream={point:noop$3,lineStart:noop$3,lineEnd:noop$3,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$3,areaSum.add(abs$1(areaRingSum)),areaRingSum=new Adder},result:function(){var t=areaSum/2;return areaSum=new Adder,t}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(t,e){areaStream.point=areaPoint,x00$2=x0$3=t,y00$2=y0$3=e}function areaPoint(t,e){areaRingSum.add(y0$3*t-x0$3*e),x0$3=t,y0$3=e}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$3,lineEnd:noop$3,polygonStart:noop$3,polygonEnd:noop$3,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint(t,e){t<x0$2&&(x0$2=t),t>x1&&(x1=t),e<y0$2&&(y0$2=e),e>y1&&(y1=e)}var x00$1,y00$1,x0$1,y0$1,X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var t=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,t}};function centroidPoint(t,e){X0+=t,Y0+=e,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){centroidStream.point=centroidPointLine,centroidPoint(x0$1=t,y0$1=e)}function centroidPointLine(t,e){var i=t-x0$1,r=e-y0$1,n=sqrt$1(i*i+r*r);X1+=n*(x0$1+t)/2,Y1+=n*(y0$1+e)/2,Z1+=n,centroidPoint(x0$1=t,y0$1=e)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,e){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=t,y00$1=y0$1=e)}function centroidPointRing(t,e){var i=t-x0$1,r=e-y0$1,n=sqrt$1(i*i+r*r);X1+=n*(x0$1+t)/2,Y1+=n*(y0$1+e)/2,Z1+=n,X2+=(n=y0$1*t-x0$1*e)*(x0$1+t),Y2+=n*(y0$1+e),Z2+=3*n,centroidPoint(x0$1=t,y0$1=e)}function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tau$2)}},result:noop$3};var lengthRing,x00,y00,x0,y0,lengthSum=new Adder,lengthStream={point:noop$3,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$3},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum;return lengthSum=new Adder,t}};function lengthPointFirst(t,e){lengthStream.point=lengthPoint,x00=x0=t,y00=y0=e}function lengthPoint(t,e){x0-=t,y0-=e,lengthSum.add(sqrt$1(x0*x0+y0*y0)),x0=t,y0=e}let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(t){this._append=null==t?append:appendRound(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==cacheRadius||this._append!==cacheAppend){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,cacheRadius=t,cacheAppend=this._append,cacheCircle=this._,this._=e}this._+=cacheCircle}}result(){const t=this._;return this._="",t.length?t:null}}function append(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function appendRound(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return append;if(e!==cacheDigits){const t=10**e;cacheDigits=e,cacheAppend=function(e){let i=1;this._+=e[0];for(const r=e.length;i<r;++i)this._+=Math.round(arguments[i]*t)/t+e[i]}}return cacheAppend}function geoPath(t,e){let i,r,n=3,a=4.5;function s(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),geoStream(t,i(r))),r.result()}return s.area=function(t){return geoStream(t,i(areaStream)),areaStream.result()},s.measure=function(t){return geoStream(t,i(lengthStream)),lengthStream.result()},s.bounds=function(t){return geoStream(t,i(boundsStream)),boundsStream.result()},s.centroid=function(t){return geoStream(t,i(centroidStream)),centroidStream.result()},s.projection=function(e){return arguments.length?(i=null==e?(t=null,identity$b):(t=e).stream,s):t},s.context=function(t){return arguments.length?(r=null==t?(e=null,new PathString(n)):new PathContext(e=t),"function"!=typeof a&&r.pointRadius(a),s):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),s):a},s.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);n=e}return null===e&&(r=new PathString(n)),s},s.projection(t).digits(n).context(e)}function geoTransform(t){return{stream:transformer$2(t)}}function transformer$2(t){return function(e){var i=new TransformStream;for(var r in t)i[r]=t[r];return i.stream=e,i}}function TransformStream(){}function fit(t,e,i){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),geoStream(i,t.stream(boundsStream)),e(boundsStream.result()),null!=r&&t.clipExtent(r),t}function fitExtent(t,e,i){return fit(t,function(i){var r=e[1][0]-e[0][0],n=e[1][1]-e[0][1],a=Math.min(r/(i[1][0]-i[0][0]),n/(i[1][1]-i[0][1])),s=+e[0][0]+(r-a*(i[1][0]+i[0][0]))/2,o=+e[0][1]+(n-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([s,o])},i)}function fitSize(t,e,i){return fitExtent(t,[[0,0],e],i)}function fitWidth(t,e,i){return fit(t,function(i){var r=+e,n=r/(i[1][0]-i[0][0]),a=(r-n*(i[1][0]+i[0][0]))/2,s=-n*i[0][1];t.scale(150*n).translate([a,s])},i)}function fitHeight(t,e,i){return fit(t,function(i){var r=+e,n=r/(i[1][1]-i[0][1]),a=-n*i[0][0],s=(r-n*(i[1][1]+i[0][1]))/2;t.scale(150*n).translate([a,s])},i)}TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos$2(30*radians$1);function resample(t,e){return+e?resample$1(t,e):resampleNone(t)}function resampleNone(t){return transformer$2({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function resample$1(t,e){function i(r,n,a,s,o,l,c,g,d,u,B,F,h,Q){var U=c-r,I=g-n,b=U*U+I*I;if(b>4*e&&h--){var p=s+u,y=o+B,m=l+F,C=sqrt$1(p*p+y*y+m*m),f=asin$1(m/=C),x=abs$1(abs$1(m)-1)<epsilon$4||abs$1(a-d)<epsilon$4?(a+d)/2:atan2$2(y,p),A=t(x,f),v=A[0],L=A[1],R=v-r,S=L-n,G=I*R-U*S;(G*G/b>e||abs$1((U*R+I*S)/b-.5)>.3||s*u+o*B+l*F<cosMinDistance)&&(i(r,n,a,s,o,l,v,L,x,p/=C,y/=C,m,h,Q),Q.point(v,L),i(v,L,x,p,y,m,c,g,d,u,B,F,h,Q))}}return function(e){var r,n,a,s,o,l,c,g,d,u,B,F,h={point:Q,lineStart:U,lineEnd:b,polygonStart:function(){e.polygonStart(),h.lineStart=p},polygonEnd:function(){e.polygonEnd(),h.lineStart=U}};function Q(i,r){i=t(i,r),e.point(i[0],i[1])}function U(){g=NaN,h.point=I,e.lineStart()}function I(r,n){var a=cartesian$1([r,n]),s=t(r,n);i(g,d,c,u,B,F,g=s[0],d=s[1],c=r,u=a[0],B=a[1],F=a[2],maxDepth,e),e.point(g,d)}function b(){h.point=Q,e.lineEnd()}function p(){U(),h.point=y,h.lineEnd=m}function y(t,e){I(r=t,e),n=g,a=d,s=u,o=B,l=F,h.point=I}function m(){i(g,d,c,u,B,F,n,a,r,s,o,l,maxDepth,e),h.lineEnd=b,b()}return h}}var transformRadians=transformer$2({point:function(t,e){this.stream.point(t*radians$1,e*radians$1)}});function transformRotate(t){return transformer$2({point:function(e,i){var r=t(e,i);return this.stream.point(r[0],r[1])}})}function scaleTranslate(t,e,i,r,n){function a(a,s){return[e+t*(a*=r),i-t*(s*=n)]}return a.invert=function(a,s){return[(a-e)/t*r,(i-s)/t*n]},a}function scaleTranslateRotate(t,e,i,r,n,a){if(!a)return scaleTranslate(t,e,i,r,n);var s=cos$2(a),o=sin$2(a),l=s*t,c=o*t,g=s/t,d=o/t,u=(o*i-s*e)/t,B=(o*e+s*i)/t;function F(t,a){return[l*(t*=r)-c*(a*=n)+e,i-c*t-l*a]}return F.invert=function(t,e){return[r*(g*t-d*e+u),n*(B-d*t-g*e)]},F}function projection$1(t){return projectionMutator(function(){return t})()}function projectionMutator(t){var e,i,r,n,a,s,o,l,c,g,d=150,u=480,B=250,F=0,h=0,Q=0,U=0,I=0,b=0,p=1,y=1,m=null,C=clipAntimeridian,f=null,x=identity$b,A=.5;function v(t){return l(t[0]*radians$1,t[1]*radians$1)}function L(t){return(t=l.invert(t[0],t[1]))&&[t[0]*degrees,t[1]*degrees]}function R(){var t=scaleTranslateRotate(d,0,0,p,y,b).apply(null,e(F,h)),r=scaleTranslateRotate(d,u-t[0],B-t[1],p,y,b);return i=rotateRadians(Q,U,I),o=compose(e,r),l=compose(i,o),s=resample(o,A),S()}function S(){return c=g=null,v}return v.stream=function(t){return c&&g===t?c:c=transformRadians(transformRotate(i)(C(s(x(g=t)))))},v.preclip=function(t){return arguments.length?(C=t,m=void 0,S()):C},v.postclip=function(t){return arguments.length?(x=t,f=r=n=a=null,S()):x},v.clipAngle=function(t){return arguments.length?(C=+t?clipCircle(m=t*radians$1):(m=null,clipAntimeridian),S()):m*degrees},v.clipExtent=function(t){return arguments.length?(x=null==t?(f=r=n=a=null,identity$b):clipRectangle(f=+t[0][0],r=+t[0][1],n=+t[1][0],a=+t[1][1]),S()):null==f?null:[[f,r],[n,a]]},v.scale=function(t){return arguments.length?(d=+t,R()):d},v.translate=function(t){return arguments.length?(u=+t[0],B=+t[1],R()):[u,B]},v.center=function(t){return arguments.length?(F=t[0]%360*radians$1,h=t[1]%360*radians$1,R()):[F*degrees,h*degrees]},v.rotate=function(t){return arguments.length?(Q=t[0]%360*radians$1,U=t[1]%360*radians$1,I=t.length>2?t[2]%360*radians$1:0,R()):[Q*degrees,U*degrees,I*degrees]},v.angle=function(t){return arguments.length?(b=t%360*radians$1,R()):b*degrees},v.reflectX=function(t){return arguments.length?(p=t?-1:1,R()):p<0},v.reflectY=function(t){return arguments.length?(y=t?-1:1,R()):y<0},v.precision=function(t){return arguments.length?(s=resample(o,A=t*t),S()):sqrt$1(A)},v.fitExtent=function(t,e){return fitExtent(v,t,e)},v.fitSize=function(t,e){return fitSize(v,t,e)},v.fitWidth=function(t,e){return fitWidth(v,t,e)},v.fitHeight=function(t,e){return fitHeight(v,t,e)},function(){return e=t.apply(this,arguments),v.invert=e.invert&&L,R()}}function conicProjection$1(t){var e=0,i=pi$2/3,r=projectionMutator(t),n=r(e,i);return n.parallels=function(t){return arguments.length?r(e=t[0]*radians$1,i=t[1]*radians$1):[e*degrees,i*degrees]},n}function cylindricalEqualAreaRaw(t){var e=cos$2(t);function i(t,i){return[t*e,sin$2(i)/e]}return i.invert=function(t,i){return[t/e,asin$1(i*e)]},i}function conicEqualAreaRaw(t,e){var i=sin$2(t),r=(i+sin$2(e))/2;if(abs$1(r)<epsilon$4)return cylindricalEqualAreaRaw(t);var n=1+i*(2*r-i),a=sqrt$1(n)/r;function s(t,e){var i=sqrt$1(n-2*r*sin$2(e))/r;return[i*sin$2(t*=r),a-i*cos$2(t)]}return s.invert=function(t,e){var i=a-e,s=atan2$2(t,abs$1(i))*sign$2(i);return i*r<0&&(s-=pi$2*sign$2(t)*sign$2(i)),[s/r,asin$1((n-(t*t+i*i)*r*r)/(2*r))]},s}function geoConicEqualArea(){return conicProjection$1(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(t){var e=t.length;return{point:function(i,r){for(var n=-1;++n<e;)t[n].point(i,r)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}function geoAlbersUsa(){var t,e,i,r,n,a,s=geoAlbers(),o=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){a=[t,e]}};function g(t){var e=t[0],s=t[1];return a=null,i.point(e,s),a||(r.point(e,s),a)||(n.point(e,s),a)}function d(){return t=e=null,g}return g.invert=function(t){var e=s.scale(),i=s.translate(),r=(t[0]-i[0])/e,n=(t[1]-i[1])/e;return(n>=.12&&n<.234&&r>=-.425&&r<-.214?o:n>=.166&&n<.234&&r>=-.214&&r<-.115?l:s).invert(t)},g.stream=function(i){return t&&e===i?t:t=multiplex([s.stream(e=i),o.stream(i),l.stream(i)])},g.precision=function(t){return arguments.length?(s.precision(t),o.precision(t),l.precision(t),d()):s.precision()},g.scale=function(t){return arguments.length?(s.scale(t),o.scale(.35*t),l.scale(t),g.translate(s.translate())):s.scale()},g.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),a=+t[0],g=+t[1];return i=s.translate(t).clipExtent([[a-.455*e,g-.238*e],[a+.455*e,g+.238*e]]).stream(c),r=o.translate([a-.307*e,g+.201*e]).clipExtent([[a-.425*e+epsilon$4,g+.12*e+epsilon$4],[a-.214*e-epsilon$4,g+.234*e-epsilon$4]]).stream(c),n=l.translate([a-.205*e,g+.212*e]).clipExtent([[a-.214*e+epsilon$4,g+.166*e+epsilon$4],[a-.115*e-epsilon$4,g+.234*e-epsilon$4]]).stream(c),d()},g.fitExtent=function(t,e){return fitExtent(g,t,e)},g.fitSize=function(t,e){return fitSize(g,t,e)},g.fitWidth=function(t,e){return fitWidth(g,t,e)},g.fitHeight=function(t,e){return fitHeight(g,t,e)},g.scale(1070)}function azimuthalRaw(t){return function(e,i){var r=cos$2(e),n=cos$2(i),a=t(r*n);return a===1/0?[2,0]:[a*n*sin$2(e),a*sin$2(i)]}}function azimuthalInvert(t){return function(e,i){var r=sqrt$1(e*e+i*i),n=t(r),a=sin$2(n),s=cos$2(n);return[atan2$2(e*a,r*s),asin$1(r&&i*a/r)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(t){return sqrt$1(2/(1+t))});function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert(function(t){return 2*asin$1(t/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(t){return(t=acos$1(t))&&t/sin$2(t)});function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(t,e){return[t,log$1(tan((halfPi$1+e)/2))]}function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$2)}function mercatorProjection(t){var e,i,r,n=projection$1(t),a=n.center,s=n.scale,o=n.translate,l=n.clipExtent,c=null;function g(){var a=pi$2*s(),o=n(rotation(n.rotate()).invert([0,0]));return l(null==c?[[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]]:t===mercatorRaw?[[Math.max(o[0]-a,c),e],[Math.min(o[0]+a,i),r]]:[[c,Math.max(o[1]-a,e)],[i,Math.min(o[1]+a,r)]])}return n.scale=function(t){return arguments.length?(s(t),g()):s()},n.translate=function(t){return arguments.length?(o(t),g()):o()},n.center=function(t){return arguments.length?(a(t),g()):a()},n.clipExtent=function(t){return arguments.length?(null==t?c=e=i=r=null:(c=+t[0][0],e=+t[0][1],i=+t[1][0],r=+t[1][1]),g()):null==c?null:[[c,e],[i,r]]},g()}function tany(t){return tan((halfPi$1+t)/2)}function conicConformalRaw(t,e){var i=cos$2(t),r=t===e?sin$2(t):log$1(i/cos$2(e))/log$1(tany(e)/tany(t)),n=i*pow$1(tany(t),r)/r;if(!r)return mercatorRaw;function a(t,e){n>0?e<-halfPi$1+epsilon$4&&(e=-halfPi$1+epsilon$4):e>halfPi$1-epsilon$4&&(e=halfPi$1-epsilon$4);var i=n/pow$1(tany(e),r);return[i*sin$2(r*t),n-i*cos$2(r*t)]}return a.invert=function(t,e){var i=n-e,a=sign$2(r)*sqrt$1(t*t+i*i),s=atan2$2(t,abs$1(i))*sign$2(i);return i*r<0&&(s-=pi$2*sign$2(t)*sign$2(i)),[s/r,2*atan(pow$1(n/a,1/r))-halfPi$1]},a}function geoConicConformal(){return conicProjection$1(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,e){return[t,e]}function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,e){var i=cos$2(t),r=t===e?sin$2(t):(i-cos$2(e))/(e-t),n=i/r+t;if(abs$1(r)<epsilon$4)return equirectangularRaw;function a(t,e){var i=n-e,a=r*t;return[i*sin$2(a),n-i*cos$2(a)]}return a.invert=function(t,e){var i=n-e,a=atan2$2(t,abs$1(i))*sign$2(i);return i*r<0&&(a-=pi$2*sign$2(t)*sign$2(i)),[a/r,n-sign$2(r)*sqrt$1(t*t+i*i)]},a}function geoConicEquidistant(){return conicProjection$1(conicEquidistantRaw).scale(131.154).center([0,13.9389])}azimuthalEquidistantRaw.invert=azimuthalInvert(function(t){return t}),mercatorRaw.invert=function(t,e){return[t,2*atan(exp(e))-halfPi$1]},equirectangularRaw.invert=equirectangularRaw;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$1(3)/2,iterations=12;function equalEarthRaw(t,e){var i=asin$1(M*sin$2(e)),r=i*i,n=r*r*r;return[t*cos$2(i)/(M*(A1+3*A2*r+n*(7*A3+9*A4*r))),i*(A1+A2*r+n*(A3+A4*r))]}function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(t,e){var i=cos$2(e),r=cos$2(t)*i;return[i*sin$2(t)/r,sin$2(e)/r]}function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function identity$a(){var t,e,i,r,n,a,s,o=1,l=0,c=0,g=1,d=1,u=0,B=null,F=1,h=1,Q=transformer$2({point:function(t,e){var i=b([t,e]);this.stream.point(i[0],i[1])}}),U=identity$b;function I(){return F=o*g,h=o*d,a=s=null,b}function b(i){var r=i[0]*F,n=i[1]*h;if(u){var a=n*t-r*e;r=r*t+n*e,n=a}return[r+l,n+c]}return b.invert=function(i){var r=i[0]-l,n=i[1]-c;if(u){var a=n*t+r*e;r=r*t-n*e,n=a}return[r/F,n/h]},b.stream=function(t){return a&&s===t?a:a=Q(U(s=t))},b.postclip=function(t){return arguments.length?(U=t,B=i=r=n=null,I()):U},b.clipExtent=function(t){return arguments.length?(U=null==t?(B=i=r=n=null,identity$b):clipRectangle(B=+t[0][0],i=+t[0][1],r=+t[1][0],n=+t[1][1]),I()):null==B?null:[[B,i],[r,n]]},b.scale=function(t){return arguments.length?(o=+t,I()):o},b.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],I()):[l,c]},b.angle=function(i){return arguments.length?(e=sin$2(u=i%360*radians$1),t=cos$2(u),I()):u*degrees},b.reflectX=function(t){return arguments.length?(g=t?-1:1,I()):g<0},b.reflectY=function(t){return arguments.length?(d=t?-1:1,I()):d<0},b.fitExtent=function(t,e){return fitExtent(b,t,e)},b.fitSize=function(t,e){return fitSize(b,t,e)},b.fitWidth=function(t,e){return fitWidth(b,t,e)},b.fitHeight=function(t,e){return fitHeight(b,t,e)},b}function orthographicRaw(t,e){return[cos$2(e)*sin$2(t),sin$2(e)]}function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$4)}function stereographicRaw(t,e){var i=cos$2(e),r=1+cos$2(t)*i;return[i*sin$2(t)/r,sin$2(e)/r]}function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,e){return[log$1(tan((halfPi$1+e)/2)),-t]}function geoTransverseMercator(){var t=mercatorProjection(transverseMercatorRaw),e=t.center,i=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?i([t[0],t[1],t.length>2?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90]).scale(159.155)}equalEarthRaw.invert=function(t,e){for(var i,r=e,n=r*r,a=n*n*n,s=0;s<iterations&&(a=(n=(r-=i=(r*(A1+A2*n+a*(A3+A4*n))-e)/(A1+3*A2*n+a*(7*A3+9*A4*n)))*r)*n*n,!(abs$1(i)<epsilon2));++s);return[M*t*(A1+3*A2*n+a*(7*A3+9*A4*n))/cos$2(r),asin$1(sin$2(r)/M)]},gnomonicRaw.invert=azimuthalInvert(atan),orthographicRaw.invert=azimuthalInvert(asin$1),stereographicRaw.invert=azimuthalInvert(function(t){return 2*atan(t)}),transverseMercatorRaw.invert=function(t,e){return[-e,2*atan(exp(t))-halfPi$1]};var defaultSource=Math.random,uniform=function t(e){function i(t,i){return t=null==t?0:+t,i=null==i?1:+i,1===arguments.length?(i=t,t=0):i-=t,function(){return e()*i+t}}return i.source=t,i}(defaultSource),normal=function t(e){function i(t,i){var r,n;return t=null==t?0:+t,i=null==i?1:+i,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,n=r*r+a*a}while(!n||n>1);return t+i*a*Math.sqrt(-2*Math.log(n)/n)}}return i.source=t,i}(defaultSource);const mul=1664525,inc=1013904223,eps=1/4294967296;function lcg(t=Math.random()){let e=0|(0<=t&&t<1?t/eps:Math.abs(t));return()=>(e=mul*e+inc|0,eps*(e>>>0))}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],i=[],r=implicit;function n(n){let a=t.get(n);if(void 0===a){if(r!==implicit)return r;t.set(n,a=e.push(n)-1)}return i[a%i.length]}return n.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const r of i)t.has(r)||t.set(r,e.push(r)-1);return n},n.range=function(t){return arguments.length?(i=Array.from(t),n):i.slice()},n.unknown=function(t){return arguments.length?(r=t,n):r},n.copy=function(){return ordinal(e,i).unknown(r)},initRange.apply(n,arguments),n}function band(){var t,e,i=ordinal().unknown(void 0),r=i.domain,n=i.range,a=0,s=1,o=!1,l=0,c=0,g=.5;function d(){var i=r().length,d=s<a,u=d?s:a,B=d?a:s;t=(B-u)/Math.max(1,i-l+2*c),o&&(t=Math.floor(t)),u+=(B-u-t*(i-l))*g,e=t*(1-l),o&&(u=Math.round(u),e=Math.round(e));var F=range$1(i).map(function(e){return u+t*e});return n(d?F.reverse():F)}return delete i.unknown,i.domain=function(t){return arguments.length?(r(t),d()):r()},i.range=function(t){return arguments.length?([a,s]=t,a=+a,s=+s,d()):[a,s]},i.rangeRound=function(t){return[a,s]=t,a=+a,s=+s,o=!0,d()},i.bandwidth=function(){return e},i.step=function(){return t},i.round=function(t){return arguments.length?(o=!!t,d()):o},i.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),d()):l},i.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),d()):l},i.paddingOuter=function(t){return arguments.length?(c=+t,d()):c},i.align=function(t){return arguments.length?(g=Math.max(0,Math.min(1,t)),d()):g},i.copy=function(){return band(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(g)},initRange.apply(d(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point$4(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants$N(t){return function(){return t}}function number$3(t){return+t}var unit$1=[0,1];function identity$9(t){return t}function normalize(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:constants$N(isNaN(e)?NaN:.5)}function clamper(t,e){var i;return t>e&&(i=t,t=e,e=i),function(i){return Math.max(t,Math.min(e,i))}}function bimap(t,e,i){var r=t[0],n=t[1],a=e[0],s=e[1];return n<r?(r=normalize(n,r),a=i(s,a)):(r=normalize(r,n),a=i(a,s)),function(t){return a(r(t))}}function polymap(t,e,i){var r=Math.min(t.length,e.length)-1,n=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)n[s]=normalize(t[s],t[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var i=bisectRight(t,e,1,r)-1;return a[i](n[i](e))}}function copy$2(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$1(){var t,e,i,r,n,a,s=unit$1,o=unit$1,l=interpolate$1,c=identity$9;function g(){var t=Math.min(s.length,o.length);return c!==identity$9&&(c=clamper(s[0],s[t-1])),r=t>2?polymap:bimap,n=a=null,d}function d(e){return null==e||isNaN(e=+e)?i:(n||(n=r(s.map(t),o,l)))(t(c(e)))}return d.invert=function(i){return c(e((a||(a=r(o,s.map(t),interpolateNumber)))(i)))},d.domain=function(t){return arguments.length?(s=Array.from(t,number$3),g()):s.slice()},d.range=function(t){return arguments.length?(o=Array.from(t),g()):o.slice()},d.rangeRound=function(t){return o=Array.from(t),l=interpolateRound,g()},d.clamp=function(t){return arguments.length?(c=!!t||identity$9,g()):c!==identity$9},d.interpolate=function(t){return arguments.length?(l=t,g()):l},d.unknown=function(t){return arguments.length?(i=t,d):i},function(i,r){return t=i,e=r,g()}}function continuous(){return transformer$1()(identity$9,identity$9)}function tickFormat(t,e,i,r){var n,a=tickStep(t,e,i);switch((r=formatSpecifier$1(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(n=precisionPrefix$1(a,s))||(r.precision=n),formatPrefix$1(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(n=precisionRound$1(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=n-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(n=precisionFixed$1(a))||(r.precision=n-2*("%"===r.type))}return format$4(r)}function linearish(t){var e=t.domain;return t.ticks=function(t){var i=e();return ticks$1(i[0],i[i.length-1],null==t?10:t)},t.tickFormat=function(t,i){var r=e();return tickFormat(r[0],r[r.length-1],null==t?10:t,i)},t.nice=function(i){null==i&&(i=10);var r,n,a=e(),s=0,o=a.length-1,l=a[s],c=a[o],g=10;for(c<l&&(n=l,l=c,c=n,n=s,s=o,o=n);g-- >0;){if((n=tickIncrement$1(l,c,i))===r)return a[s]=l,a[o]=c,e(a);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n}r=n}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$2(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$8(t){var e;function i(t){return null==t||isNaN(t=+t)?e:t}return i.invert=i,i.domain=i.range=function(e){return arguments.length?(t=Array.from(e,number$3),i):t.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return identity$8(t).unknown(e)},t=arguments.length?Array.from(t,number$3):[0,1],linearish(i)}function nice(t,e){var i,r=0,n=(t=t.slice()).length-1,a=t[r],s=t[n];return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function transformLog$1(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,i)=>-t(-e,i)}function loggish(t){const e=t(transformLog$1,transformExp),i=e.domain;let r,n,a=10;function s(){return r=logp(a),n=powp(a),i()[0]<0?(r=reflect(r),n=reflect(n),t(transformLogn,transformExpn)):t(transformLog$1,transformExp),e}return e.base=function(t){return arguments.length?(a=+t,s()):a},e.domain=function(t){return arguments.length?(i(t),s()):i()},e.ticks=t=>{const e=i();let s=e[0],o=e[e.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,g,d=r(s),u=r(o);const B=null==t?10:+t;let F=[];if(!(a%1)&&u-d<B){if(d=Math.floor(d),u=Math.ceil(u),s>0){for(;d<=u;++d)for(c=1;c<a;++c)if(g=d<0?c/n(-d):c*n(d),!(g<s)){if(g>o)break;F.push(g)}}else for(;d<=u;++d)for(c=a-1;c>=1;--c)if(g=d>0?c/n(-d):c*n(d),!(g<s)){if(g>o)break;F.push(g)}2*F.length<B&&(F=ticks$1(s,o,B))}else F=ticks$1(d,u,Math.min(u-d,B)).map(n);return l?F.reverse():F},e.tickFormat=(t,i)=>{if(null==t&&(t=10),null==i&&(i=10===a?"s":","),"function"!=typeof i&&(a%1||null!=(i=formatSpecifier$1(i)).precision||(i.trim=!0),i=format$4(i)),t===1/0)return i;const s=Math.max(1,a*t/e.ticks().length);return t=>{let e=t/n(Math.round(r(t)));return e*a<a-.5&&(e*=a),e<=s?i(t):""}},e.nice=()=>i(nice(i(),{floor:t=>n(Math.floor(r(t))),ceil:t=>n(Math.ceil(r(t)))})),e}function log(){const t=loggish(transformer$1()).domain([1,10]);return t.copy=()=>copy$2(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog$1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,i=t(transformSymlog$1(e),transformSymexp(e));return i.constant=function(i){return arguments.length?t(transformSymlog$1(e=+i),transformSymexp(e)):e},linearish(i)}function symlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy$2(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow$1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt$1(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$9,identity$9),i=1;return e.exponent=function(e){return arguments.length?1===(i=+e)?t(identity$9,identity$9):.5===i?t(transformSqrt$1,transformSquare):t(transformPow$1(i),transformPow$1(1/i)):i},linearish(e)}function pow(){var t=powish(transformer$1());return t.copy=function(){return copy$2(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function quantile(){var t,e=[],i=[],r=[];function n(){var t=0,n=Math.max(1,i.length);for(r=new Array(n-1);++t<n;)r[t-1]=quantileSorted(e,t/n);return a}function a(e){return null==e||isNaN(e=+e)?t:i[bisectRight(r,e)]}return a.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?r[n-1]:e[0],n<r.length?r[n]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let i of t)null==i||isNaN(i=+i)||e.push(i);return e.sort(ascending$3),n()},a.range=function(t){return arguments.length?(i=Array.from(t),n()):i.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return quantile().domain(e).range(i).unknown(t)},initRange.apply(a,arguments)}function threshold(){var t,e=[.5],i=[0,1],r=1;function n(n){return null!=n&&n<=n?i[bisectRight(e,n,0,r)]:t}return n.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,i.length-1),n):e.slice()},n.range=function(t){return arguments.length?(i=Array.from(t),r=Math.min(e.length,i.length-1),n):i.slice()},n.invertExtent=function(t){var r=i.indexOf(t);return[e[r-1],e[r]]},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return threshold().domain(e).range(i).unknown(t)},initRange.apply(n,arguments)}const t0$1=new Date,t1$1=new Date;function timeInterval$1(t,e,i,r){function n(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return n.floor=e=>(t(e=new Date(+e)),e),n.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),n.round=t=>{const e=n(t),i=n.ceil(t);return t-e<i-t?e:i},n.offset=(t,i)=>(e(t=new Date(+t),null==i?1:Math.floor(i)),t),n.range=(i,r,a)=>{const s=[];if(i=n.ceil(i),a=null==a?1:Math.floor(a),!(i<r&&a>0))return s;let o;do{s.push(o=new Date(+i)),e(i,a),t(i)}while(o<i&&i<r);return s},n.filter=i=>timeInterval$1(e=>{if(e>=e)for(;t(e),!i(e);)e.setTime(e-1)},(t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!i(t););else for(;--r>=0;)for(;e(t,1),!i(t););}),i&&(n.count=(e,r)=>(t0$1.setTime(+e),t1$1.setTime(+r),t(t0$1),t(t1$1),Math.floor(i(t0$1,t1$1))),n.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?n.filter(r?e=>r(e)%t===0:e=>n.count(0,e)%t===0):n:null)),n}const millisecond$1=timeInterval$1(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond$1.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?timeInterval$1(e=>{e.setTime(Math.floor(e/t)*t)},(e,i)=>{e.setTime(+e+i*t)},(e,i)=>(i-e)/t):millisecond$1:null),millisecond$1.range;const durationSecond$2=1e3,durationMinute$2=6e4,durationHour$2=36e5,durationDay$2=864e5,durationWeek$2=6048e5,durationMonth$1=2592e6,durationYear$1=31536e6,second$2=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+1e3*e)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds());second$2.range;const timeMinute=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getMinutes());timeMinute.range;const utcMinute$1=timeInterval$1(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes());utcMinute$1.range;const timeHour=timeInterval$1(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getHours());timeHour.range;const utcHour$1=timeInterval$1(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours());utcHour$1.range;const timeDay=timeInterval$1(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1);timeDay.range;const utcDay$1=timeInterval$1(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1);utcDay$1.range;const unixDay=timeInterval$1(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5));function timeWeekday(t){return timeInterval$1(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5)}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday$1(t){return timeInterval$1(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/6048e5)}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday$1=utcWeekday$1(0),utcMonday$1=utcWeekday$1(1),utcTuesday$1=utcWeekday$1(2),utcWednesday$1=utcWeekday$1(3),utcThursday$1=utcWeekday$1(4),utcFriday$1=utcWeekday$1(5),utcSaturday$1=utcWeekday$1(6);utcSunday$1.range,utcMonday$1.range,utcTuesday$1.range,utcWednesday$1.range,utcThursday$1.range,utcFriday$1.range,utcSaturday$1.range;const timeMonth=timeInterval$1(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth());timeMonth.range;const utcMonth$1=timeInterval$1(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth());utcMonth$1.range;const timeYear=timeInterval$1(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i*t)}):null,timeYear.range;const utcYear$1=timeInterval$1(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function ticker(t,e,i,r,n,a){const s=[[second$2,1,1e3],[second$2,5,5e3],[second$2,15,15e3],[second$2,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[r,1,864e5],[r,2,1728e5],[i,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function o(e,i,r){const n=Math.abs(i-e)/r,a=bisector(([,,t])=>t).right(s,n);if(a===s.length)return t.every(tickStep(e/31536e6,i/31536e6,r));if(0===a)return millisecond$1.every(Math.max(tickStep(e,i,r),1));const[o,l]=s[n/s[a-1][2]<s[a][2]/n?a-1:a];return o.every(l)}return[function(t,e,i){const r=e<t;r&&([t,e]=[e,t]);const n=i&&"function"==typeof i.range?i:o(t,e,i),a=n?n.range(t,+e+1):[];return r?a.reverse():a},o]}utcYear$1.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)}):null,utcYear$1.range;const[utcTicks,utcTickInterval]=ticker(utcYear$1,utcMonth$1,utcSunday$1,unixDay,utcHour$1,utcMinute$1),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate$1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate$1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate$1(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function formatLocale$3(t){var e=t.dateTime,i=t.date,r=t.time,n=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=formatRe$1(n),g=formatLookup$1(n),d=formatRe$1(a),u=formatLookup$1(a),B=formatRe$1(s),F=formatLookup$1(s),h=formatRe$1(o),Q=formatLookup$1(o),U=formatRe$1(l),I=formatLookup$1(l),b={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:formatDayOfMonth$1,e:formatDayOfMonth$1,f:formatMicroseconds$1,g:formatYearISO$1,G:formatFullYearISO$1,H:formatHour24$1,I:formatHour12$1,j:formatDayOfYear$1,L:formatMilliseconds$1,m:formatMonthNumber$1,M:formatMinutes$1,p:function(t){return n[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:formatUnixTimestamp$1,s:formatUnixTimestampSeconds$1,S:formatSeconds$1,u:formatWeekdayNumberMonday$1,U:formatWeekNumberSunday$1,V:formatWeekNumberISO$1,w:formatWeekdayNumberSunday$1,W:formatWeekNumberMonday$1,x:null,X:null,y:formatYear$2,Y:formatFullYear$1,Z:formatZone$1,"%":formatLiteralPercent$1},p={a:function(t){return s[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth$1,e:formatUTCDayOfMonth$1,f:formatUTCMicroseconds$1,g:formatUTCYearISO$1,G:formatUTCFullYearISO$1,H:formatUTCHour24$1,I:formatUTCHour12$1,j:formatUTCDayOfYear$1,L:formatUTCMilliseconds$1,m:formatUTCMonthNumber$1,M:formatUTCMinutes$1,p:function(t){return n[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:formatUnixTimestamp$1,s:formatUnixTimestampSeconds$1,S:formatUTCSeconds$1,u:formatUTCWeekdayNumberMonday$1,U:formatUTCWeekNumberSunday$1,V:formatUTCWeekNumberISO$1,w:formatUTCWeekdayNumberSunday$1,W:formatUTCWeekNumberMonday$1,x:null,X:null,y:formatUTCYear$1,Y:formatUTCFullYear$1,Z:formatUTCZone$1,"%":formatLiteralPercent$1},y={a:function(t,e,i){var r=B.exec(e.slice(i));return r?(t.w=F.get(r[0].toLowerCase()),i+r[0].length):-1},A:function(t,e,i){var r=d.exec(e.slice(i));return r?(t.w=u.get(r[0].toLowerCase()),i+r[0].length):-1},b:function(t,e,i){var r=U.exec(e.slice(i));return r?(t.m=I.get(r[0].toLowerCase()),i+r[0].length):-1},B:function(t,e,i){var r=h.exec(e.slice(i));return r?(t.m=Q.get(r[0].toLowerCase()),i+r[0].length):-1},c:function(t,i,r){return f(t,e,i,r)},d:parseDayOfMonth$1,e:parseDayOfMonth$1,f:parseMicroseconds$1,g:parseYear$1,G:parseFullYear$1,H:parseHour24$1,I:parseHour24$1,j:parseDayOfYear$1,L:parseMilliseconds$1,m:parseMonthNumber$1,M:parseMinutes$1,p:function(t,e,i){var r=c.exec(e.slice(i));return r?(t.p=g.get(r[0].toLowerCase()),i+r[0].length):-1},q:parseQuarter$1,Q:parseUnixTimestamp$1,s:parseUnixTimestampSeconds$1,S:parseSeconds$1,u:parseWeekdayNumberMonday$1,U:parseWeekNumberSunday$1,V:parseWeekNumberISO$1,w:parseWeekdayNumberSunday$1,W:parseWeekNumberMonday$1,x:function(t,e,r){return f(t,i,e,r)},X:function(t,e,i){return f(t,r,e,i)},y:parseYear$1,Y:parseFullYear$1,Z:parseZone$1,"%":parseLiteralPercent$1};function m(t,e){return function(i){var r,n,a,s=[],o=-1,l=0,c=t.length;for(i instanceof Date||(i=new Date(+i));++o<c;)37===t.charCodeAt(o)&&(s.push(t.slice(l,o)),null!=(n=pads$1[r=t.charAt(++o)])?r=t.charAt(++o):n="e"===r?" ":"0",(a=e[r])&&(r=a(i,n)),s.push(r),l=o+1);return s.push(t.slice(l,o)),s.join("")}}function C(t,e){return function(i){var r,n,a=newDate$1(1900,void 0,1);if(f(a,t,i+="",0)!=i.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(n=(r=utcDate$1(newDate$1(a.y,0,1))).getUTCDay(),r=n>4||0===n?utcMonday$1.ceil(r):utcMonday$1(r),r=utcDay$1.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(n=(r=localDate$1(newDate$1(a.y,0,1))).getDay(),r=n>4||0===n?timeMonday.ceil(r):timeMonday(r),r=timeDay.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),n="Z"in a?utcDate$1(newDate$1(a.y,0,1)).getUTCDay():localDate$1(newDate$1(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(n+5)%7:a.w+7*a.U-(n+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate$1(a)):localDate$1(a)}}function f(t,e,i,r){for(var n,a,s=0,o=e.length,l=i.length;s<o;){if(r>=l)return-1;if(37===(n=e.charCodeAt(s++))){if(n=e.charAt(s++),!(a=y[n in pads$1?e.charAt(s++):n])||(r=a(t,i,r))<0)return-1}else if(n!=i.charCodeAt(r++))return-1}return r}return b.x=m(i,b),b.X=m(r,b),b.c=m(e,b),p.x=m(i,p),p.X=m(r,p),p.c=m(e,p),{format:function(t){var e=m(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=m(t+="",p);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}var locale$2,timeFormat$1,utcFormat$3,pads$1={"-":"",_:" ",0:"0"},numberRe$1=/^\s*\d+/,percentRe$1=/^%/,requoteRe$1=/[\\^$*+?|[\]().{}]/g;function pad$2(t,e,i){var r=t<0?"-":"",n=(r?-t:t)+"",a=n.length;return r+(a<i?new Array(i-a+1).join(e)+n:n)}function requote$1(t){return t.replace(requoteRe$1,"\\$&")}function formatRe$1(t){return new RegExp("^(?:"+t.map(requote$1).join("|")+")","i")}function formatLookup$1(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function parseWeekdayNumberSunday$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+1));return r?(t.w=+r[0],i+r[0].length):-1}function parseWeekdayNumberMonday$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+1));return r?(t.u=+r[0],i+r[0].length):-1}function parseWeekNumberSunday$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.U=+r[0],i+r[0].length):-1}function parseWeekNumberISO$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.V=+r[0],i+r[0].length):-1}function parseWeekNumberMonday$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.W=+r[0],i+r[0].length):-1}function parseFullYear$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+4));return r?(t.y=+r[0],i+r[0].length):-1}function parseYear$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function parseZone$1(t,e,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function parseQuarter$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+1));return r?(t.q=3*r[0]-3,i+r[0].length):-1}function parseMonthNumber$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.m=r[0]-1,i+r[0].length):-1}function parseDayOfMonth$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.d=+r[0],i+r[0].length):-1}function parseDayOfYear$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+3));return r?(t.m=0,t.d=+r[0],i+r[0].length):-1}function parseHour24$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.H=+r[0],i+r[0].length):-1}function parseMinutes$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.M=+r[0],i+r[0].length):-1}function parseSeconds$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+2));return r?(t.S=+r[0],i+r[0].length):-1}function parseMilliseconds$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+3));return r?(t.L=+r[0],i+r[0].length):-1}function parseMicroseconds$1(t,e,i){var r=numberRe$1.exec(e.slice(i,i+6));return r?(t.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function parseLiteralPercent$1(t,e,i){var r=percentRe$1.exec(e.slice(i,i+1));return r?i+r[0].length:-1}function parseUnixTimestamp$1(t,e,i){var r=numberRe$1.exec(e.slice(i));return r?(t.Q=+r[0],i+r[0].length):-1}function parseUnixTimestampSeconds$1(t,e,i){var r=numberRe$1.exec(e.slice(i));return r?(t.s=+r[0],i+r[0].length):-1}function formatDayOfMonth$1(t,e){return pad$2(t.getDate(),e,2)}function formatHour24$1(t,e){return pad$2(t.getHours(),e,2)}function formatHour12$1(t,e){return pad$2(t.getHours()%12||12,e,2)}function formatDayOfYear$1(t,e){return pad$2(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds$1(t,e){return pad$2(t.getMilliseconds(),e,3)}function formatMicroseconds$1(t,e){return formatMilliseconds$1(t,e)+"000"}function formatMonthNumber$1(t,e){return pad$2(t.getMonth()+1,e,2)}function formatMinutes$1(t,e){return pad$2(t.getMinutes(),e,2)}function formatSeconds$1(t,e){return pad$2(t.getSeconds(),e,2)}function formatWeekdayNumberMonday$1(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday$1(t,e){return pad$2(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO$1(t){var e=t.getDay();return e>=4||0===e?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO$1(t,e){return t=dISO$1(t),pad$2(timeThursday.count(timeYear(t),t)+(4===timeYear(t).getDay()),e,2)}function formatWeekdayNumberSunday$1(t){return t.getDay()}function formatWeekNumberMonday$1(t,e){return pad$2(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear$2(t,e){return pad$2(t.getFullYear()%100,e,2)}function formatYearISO$1(t,e){return pad$2((t=dISO$1(t)).getFullYear()%100,e,2)}function formatFullYear$1(t,e){return pad$2(t.getFullYear()%1e4,e,4)}function formatFullYearISO$1(t,e){var i=t.getDay();return pad$2((t=i>=4||0===i?timeThursday(t):timeThursday.ceil(t)).getFullYear()%1e4,e,4)}function formatZone$1(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad$2(e/60|0,"0",2)+pad$2(e%60,"0",2)}function formatUTCDayOfMonth$1(t,e){return pad$2(t.getUTCDate(),e,2)}function formatUTCHour24$1(t,e){return pad$2(t.getUTCHours(),e,2)}function formatUTCHour12$1(t,e){return pad$2(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear$1(t,e){return pad$2(1+utcDay$1.count(utcYear$1(t),t),e,3)}function formatUTCMilliseconds$1(t,e){return pad$2(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds$1(t,e){return formatUTCMilliseconds$1(t,e)+"000"}function formatUTCMonthNumber$1(t,e){return pad$2(t.getUTCMonth()+1,e,2)}function formatUTCMinutes$1(t,e){return pad$2(t.getUTCMinutes(),e,2)}function formatUTCSeconds$1(t,e){return pad$2(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday$1(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday$1(t,e){return pad$2(utcSunday$1.count(utcYear$1(t)-1,t),e,2)}function UTCdISO$1(t){var e=t.getUTCDay();return e>=4||0===e?utcThursday$1(t):utcThursday$1.ceil(t)}function formatUTCWeekNumberISO$1(t,e){return t=UTCdISO$1(t),pad$2(utcThursday$1.count(utcYear$1(t),t)+(4===utcYear$1(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday$1(t){return t.getUTCDay()}function formatUTCWeekNumberMonday$1(t,e){return pad$2(utcMonday$1.count(utcYear$1(t)-1,t),e,2)}function formatUTCYear$1(t,e){return pad$2(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO$1(t,e){return pad$2((t=UTCdISO$1(t)).getUTCFullYear()%100,e,2)}function formatUTCFullYear$1(t,e){return pad$2(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO$1(t,e){var i=t.getUTCDay();return pad$2((t=i>=4||0===i?utcThursday$1(t):utcThursday$1.ceil(t)).getUTCFullYear()%1e4,e,4)}function formatUTCZone$1(){return"+0000"}function formatLiteralPercent$1(){return"%"}function formatUnixTimestamp$1(t){return+t}function formatUnixTimestampSeconds$1(t){return Math.floor(+t/1e3)}function defaultLocale$2(t){return locale$2=formatLocale$3(t),timeFormat$1=locale$2.format,locale$2.parse,utcFormat$3=locale$2.utcFormat,locale$2.utcParse,locale$2}function date(t){return new Date(t)}function number$2(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,i,r,n,a,s,o,l,c){var g=continuous(),d=g.invert,u=g.domain,B=c(".%L"),F=c(":%S"),h=c("%I:%M"),Q=c("%I %p"),U=c("%a %d"),I=c("%b %d"),b=c("%B"),p=c("%Y");function y(t){return(l(t)<t?B:o(t)<t?F:s(t)<t?h:a(t)<t?Q:r(t)<t?n(t)<t?U:I:i(t)<t?b:p)(t)}return g.invert=function(t){return new Date(d(t))},g.domain=function(t){return arguments.length?u(Array.from(t,number$2)):u().map(date)},g.ticks=function(e){var i=u();return t(i[0],i[i.length-1],null==e?10:e)},g.tickFormat=function(t,e){return null==e?y:c(e)},g.nice=function(t){var i=u();return t&&"function"==typeof t.range||(t=e(i[0],i[i.length-1],null==t?10:t)),t?u(nice(i,t)):g},g.copy=function(){return copy$2(g,calendar(t,e,i,r,n,a,s,o,l,c))},g}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second$2,timeFormat$1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear$1,utcMonth$1,utcSunday$1,utcDay$1,utcHour$1,utcMinute$1,second$2,utcFormat$3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function copy$1(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function transformer(){var t,e,i,r,n,a,s,o=0,l=.5,c=1,g=1,d=identity$9,u=!1;function B(t){return isNaN(t=+t)?s:(t=.5+((t=+a(t))-e)*(g*t<g*e?r:n),d(u?Math.max(0,Math.min(1,t)):t))}function F(t){return function(e){var i,r,n;return arguments.length?([i,r,n]=e,d=piecewise(t,[i,r,n]),B):[d(0),d(.5),d(1)]}}return B.domain=function(s){return arguments.length?([o,l,c]=s,t=a(o=+o),e=a(l=+l),i=a(c=+c),r=t===e?0:.5/(e-t),n=e===i?0:.5/(i-e),g=e<t?-1:1,B):[o,l,c]},B.clamp=function(t){return arguments.length?(u=!!t,B):u},B.interpolator=function(t){return arguments.length?(d=t,B):d},B.range=F(interpolate$1),B.rangeRound=F(interpolateRound),B.unknown=function(t){return arguments.length?(s=t,B):s},function(s){return a=s,t=s(o),e=s(l),i=s(c),r=t===e?0:.5/(e-t),n=e===i?0:.5/(i-e),g=e<t?-1:1,B}}function diverging(){var t=linearish(transformer()(identity$9));return t.copy=function(){return copy$1(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy$1(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy$1(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy$1(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function colors$4(t){for(var e=t.length/6|0,i=new Array(e),r=0;r<e;)i[r]="#"+t.slice(6*r,6*++r);return i}defaultLocale$2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var schemeCategory10=colors$4("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors$4("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors$4("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors$4("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors$4("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors$4("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors$4("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors$4("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors$4("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors$4("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),schemeTableau10=colors$4("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=t=>rgbBasis(t[t.length-1]),scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors$4),interpolateBrBG=ramp$1(scheme$q),scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors$4),interpolatePRGn=ramp$1(scheme$p),scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors$4),interpolatePiYG=ramp$1(scheme$o),scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors$4),interpolatePuOr=ramp$1(scheme$n),scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors$4),interpolateRdBu=ramp$1(scheme$m),scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors$4),interpolateRdGy=ramp$1(scheme$l),scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors$4),interpolateRdYlBu=ramp$1(scheme$k),scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors$4),interpolateRdYlGn=ramp$1(scheme$j),scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors$4),interpolateSpectral=ramp$1(scheme$i),scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors$4),interpolateBuGn=ramp$1(scheme$h),scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors$4),interpolateBuPu=ramp$1(scheme$g),scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors$4),interpolateGnBu=ramp$1(scheme$f),scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors$4),interpolateOrRd=ramp$1(scheme$e),scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors$4),interpolatePuBuGn=ramp$1(scheme$d),scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors$4),interpolatePuBu=ramp$1(scheme$c),scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors$4),interpolatePuRd=ramp$1(scheme$b),scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors$4),interpolateRdPu=ramp$1(scheme$a),scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors$4),interpolateYlGnBu=ramp$1(scheme$9),scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors$4),interpolateYlGn=ramp$1(scheme$8),scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors$4),interpolateYlOrBr=ramp$1(scheme$7),scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors$4),interpolateYlOrRd=ramp$1(scheme$6),scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors$4),interpolateBlues=ramp$1(scheme$5),scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors$4),interpolateGreens=ramp$1(scheme$4),scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors$4),interpolateGreys=ramp$1(scheme$3),scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors$4),interpolatePurples=ramp$1(scheme$2),scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors$4),interpolateReds=ramp$1(scheme$1),scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors$4),interpolateOranges=ramp$1(scheme);function interpolateCividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var interpolateCubehelixDefault=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1)),warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$3=cubehelix$1();function interpolateRainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return c$3.h=360*t-100,c$3.s=1.5-1.5*e,c$3.l=.8-.9*e,c$3+""}var c$2=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function interpolateSinebow(t){var e;return t=(.5-t)*Math.PI,c$2.r=255*(e=Math.sin(t))*e,c$2.g=255*(e=Math.sin(t+pi_1_3))*e,c$2.b=255*(e=Math.sin(t+pi_2_3))*e,c$2+""}function interpolateTurbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function ramp(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}var interpolateViridis=ramp(colors$4("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp(colors$4("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors$4("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors$4("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(t){return function(){return t}}const abs=Math.abs,atan2$1=Math.atan2,cos$1=Math.cos,max=Math.max,min=Math.min,sin$1=Math.sin,sqrt=Math.sqrt,epsilon$3=1e-12,pi$1=Math.PI,halfPi=pi$1/2,tau$1=2*pi$1;function acos(t){return t>1?0:t<-1?pi$1:Math.acos(t)}function asin(t){return t>=1?halfPi:t<=-1?-halfPi:Math.asin(t)}function withPath(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(null==i)e=null;else{const t=Math.floor(i);if(!(t>=0))throw new RangeError(`invalid digits: ${i}`);e=t}return t},()=>new Path(e)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function intersect(t,e,i,r,n,a,s,o){var l=i-t,c=r-e,g=s-n,d=o-a,u=d*l-g*c;if(!(u*u<1e-12))return[t+(u=(g*(e-a)-d*(t-n))/u)*l,e+u*c]}function cornerTangents(t,e,i,r,n,a,s){var o=t-i,l=e-r,c=(s?a:-a)/sqrt(o*o+l*l),g=c*l,d=-c*o,u=t+g,B=e+d,F=i+g,h=r+d,Q=(u+F)/2,U=(B+h)/2,I=F-u,b=h-B,p=I*I+b*b,y=n-a,m=u*h-F*B,C=(b<0?-1:1)*sqrt(max(0,y*y*p-m*m)),f=(m*b-I*C)/p,x=(-m*I-b*C)/p,A=(m*b+I*C)/p,v=(-m*I+b*C)/p,L=f-Q,R=x-U,S=A-Q,G=v-U;return L*L+R*R>S*S+G*G&&(f=A,x=v),{cx:f,cy:x,x01:-g,y01:-d,x11:f*(n/y-1),y11:x*(n/y-1)}}function arc(){var t=arcInnerRadius,e=arcOuterRadius,i=constant$1(0),r=null,n=arcStartAngle,a=arcEndAngle,s=arcPadAngle,o=null,l=withPath(c);function c(){var c,g,d=+t.apply(this,arguments),u=+e.apply(this,arguments),B=n.apply(this,arguments)-halfPi,F=a.apply(this,arguments)-halfPi,h=abs(F-B),Q=F>B;if(o||(o=c=l()),u<d&&(g=u,u=d,d=g),u>1e-12)if(h>tau$1-1e-12)o.moveTo(u*cos$1(B),u*sin$1(B)),o.arc(0,0,u,B,F,!Q),d>1e-12&&(o.moveTo(d*cos$1(F),d*sin$1(F)),o.arc(0,0,d,F,B,Q));else{var U,I,b=B,p=F,y=B,m=F,C=h,f=h,x=s.apply(this,arguments)/2,A=x>1e-12&&(r?+r.apply(this,arguments):sqrt(d*d+u*u)),v=min(abs(u-d)/2,+i.apply(this,arguments)),L=v,R=v;if(A>1e-12){var S=asin(A/d*sin$1(x)),G=asin(A/u*sin$1(x));(C-=2*S)>1e-12?(y+=S*=Q?1:-1,m-=S):(C=0,y=m=(B+F)/2),(f-=2*G)>1e-12?(b+=G*=Q?1:-1,p-=G):(f=0,b=p=(B+F)/2)}var E=u*cos$1(b),V=u*sin$1(b),Z=d*cos$1(m),N=d*sin$1(m);if(v>1e-12){var D,w=u*cos$1(p),X=u*sin$1(p),W=d*cos$1(y),H=d*sin$1(y);if(h<pi$1)if(D=intersect(E,V,W,H,w,X,Z,N)){var T=E-D[0],M=V-D[1],k=w-D[0],Y=X-D[1],J=1/sin$1(acos((T*k+M*Y)/(sqrt(T*T+M*M)*sqrt(k*k+Y*Y)))/2),$=sqrt(D[0]*D[0]+D[1]*D[1]);L=min(v,(d-$)/(J-1)),R=min(v,(u-$)/(J+1))}else L=R=0}f>1e-12?R>1e-12?(U=cornerTangents(W,H,E,V,u,R,Q),I=cornerTangents(w,X,Z,N,u,R,Q),o.moveTo(U.cx+U.x01,U.cy+U.y01),R<v?o.arc(U.cx,U.cy,R,atan2$1(U.y01,U.x01),atan2$1(I.y01,I.x01),!Q):(o.arc(U.cx,U.cy,R,atan2$1(U.y01,U.x01),atan2$1(U.y11,U.x11),!Q),o.arc(0,0,u,atan2$1(U.cy+U.y11,U.cx+U.x11),atan2$1(I.cy+I.y11,I.cx+I.x11),!Q),o.arc(I.cx,I.cy,R,atan2$1(I.y11,I.x11),atan2$1(I.y01,I.x01),!Q))):(o.moveTo(E,V),o.arc(0,0,u,b,p,!Q)):o.moveTo(E,V),d>1e-12&&C>1e-12?L>1e-12?(U=cornerTangents(Z,N,w,X,d,-L,Q),I=cornerTangents(E,V,W,H,d,-L,Q),o.lineTo(U.cx+U.x01,U.cy+U.y01),L<v?o.arc(U.cx,U.cy,L,atan2$1(U.y01,U.x01),atan2$1(I.y01,I.x01),!Q):(o.arc(U.cx,U.cy,L,atan2$1(U.y01,U.x01),atan2$1(U.y11,U.x11),!Q),o.arc(0,0,d,atan2$1(U.cy+U.y11,U.cx+U.x11),atan2$1(I.cy+I.y11,I.cx+I.x11),Q),o.arc(I.cx,I.cy,L,atan2$1(I.y11,I.x11),atan2$1(I.y01,I.x01),!Q))):o.arc(0,0,d,m,y,Q):o.lineTo(Z,N)}else o.moveTo(0,0);if(o.closePath(),c)return o=null,c+""||null}return c.centroid=function(){var i=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-pi$1/2;return[cos$1(r)*i,sin$1(r)*i]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:constant$1(+t),c):e},c.cornerRadius=function(t){return arguments.length?(i="function"==typeof t?t:constant$1(+t),c):i},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:constant$1(+t),c):r},c.startAngle=function(t){return arguments.length?(n="function"==typeof t?t:constant$1(+t),c):n},c.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:constant$1(+t),c):a},c.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:constant$1(+t),c):s},c.context=function(t){return arguments.length?(o=null==t?null:t,c):o},c}function array$1(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x$1(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var i=constant$1(!0),r=null,n=curveLinear,a=null,s=withPath(o);function o(o){var l,c,g,d=(o=array$1(o)).length,u=!1;for(null==r&&(a=n(g=s())),l=0;l<=d;++l)!(l<d&&i(c=o[l],l,o))===u&&((u=!u)?a.lineStart():a.lineEnd()),u&&a.point(+t(c,l,o),+e(c,l,o));if(g)return a=null,g+""||null}return t="function"==typeof t?t:void 0===t?x$1:constant$1(t),e="function"==typeof e?e:void 0===e?y:constant$1(e),o.x=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:constant$1(+t),o):e},o.defined=function(t){return arguments.length?(i="function"==typeof t?t:constant$1(!!t),o):i},o.curve=function(t){return arguments.length?(n=t,null!=r&&(a=n(r)),o):n},o.context=function(t){return arguments.length?(null==t?r=a=null:a=n(r=t),o):r},o}function descending(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function identity$7(t){return t}function pie(){var t=identity$7,e=descending,i=null,r=constant$1(0),n=constant$1(tau$1),a=constant$1(0);function s(s){var o,l,c,g,d,u=(s=array$1(s)).length,B=0,F=new Array(u),h=new Array(u),Q=+r.apply(this,arguments),U=Math.min(tau$1,Math.max(-tau$1,n.apply(this,arguments)-Q)),I=Math.min(Math.abs(U)/u,a.apply(this,arguments)),b=I*(U<0?-1:1);for(o=0;o<u;++o)(d=h[F[o]=o]=+t(s[o],o,s))>0&&(B+=d);for(null!=e?F.sort(function(t,i){return e(h[t],h[i])}):null!=i&&F.sort(function(t,e){return i(s[t],s[e])}),o=0,c=B?(U-u*b)/B:0;o<u;++o,Q=g)l=F[o],g=Q+((d=h[l])>0?d*c:0)+b,h[l]={data:s[l],index:o,value:d,startAngle:Q,endAngle:g,padAngle:I};return h}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,i=null,s):e},s.sort=function(t){return arguments.length?(i=t,e=null,s):i},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:constant$1(+t),s):r},s.endAngle=function(t){return arguments.length?(n="function"==typeof t?t:constant$1(+t),s):n},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:constant$1(+t),s):a},s}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Bump{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const sqrt3$3=sqrt(3);var symbolAsterisk={draw(t,e){const i=.59436*sqrt(e+min(e/28,.75)),r=i/2,n=r*sqrt3$3;t.moveTo(0,i),t.lineTo(0,-i),t.moveTo(-n,-r),t.lineTo(n,r),t.moveTo(-n,r),t.lineTo(n,-r)}},symbolCircle={draw(t,e){const i=sqrt(e/pi$1);t.moveTo(i,0),t.arc(0,0,i,0,tau$1)}},symbolCross={draw(t,e){const i=sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};const tan30=sqrt(1/3),tan30_2=2*tan30;var symbolDiamond={draw(t,e){const i=sqrt(e/tan30_2),r=i*tan30;t.moveTo(0,-i),t.lineTo(r,0),t.lineTo(0,i),t.lineTo(-r,0),t.closePath()}},symbolDiamond2={draw(t,e){const i=.62625*sqrt(e);t.moveTo(0,-i),t.lineTo(i,0),t.lineTo(0,i),t.lineTo(-i,0),t.closePath()}},symbolPlus={draw(t,e){const i=.87559*sqrt(e-min(e/7,2));t.moveTo(-i,0),t.lineTo(i,0),t.moveTo(0,i),t.lineTo(0,-i)}},symbolSquare={draw(t,e){const i=sqrt(e),r=-i/2;t.rect(r,r,i,i)}},symbolSquare2={draw(t,e){const i=.4431*sqrt(e);t.moveTo(i,i),t.lineTo(i,-i),t.lineTo(-i,-i),t.lineTo(-i,i),t.closePath()}};const ka=.8908130915292852,kr=sin$1(pi$1/10)/sin$1(7*pi$1/10),kx=sin$1(tau$1/10)*kr,ky=-cos$1(tau$1/10)*kr;var symbolStar={draw(t,e){const i=sqrt(e*ka),r=kx*i,n=ky*i;t.moveTo(0,-i),t.lineTo(r,n);for(let e=1;e<5;++e){const a=tau$1*e/5,s=cos$1(a),o=sin$1(a);t.lineTo(o*i,-s*i),t.lineTo(s*r-o*n,o*r+s*n)}t.closePath()}};const sqrt3$2=sqrt(3);var symbolTriangle={draw(t,e){const i=-sqrt(e/(3*sqrt3$2));t.moveTo(0,2*i),t.lineTo(-sqrt3$2*i,-i),t.lineTo(sqrt3$2*i,-i),t.closePath()}};const sqrt3$1=sqrt(3);var symbolTriangle2={draw(t,e){const i=.6824*sqrt(e),r=i/2,n=i*sqrt3$1/2;t.moveTo(0,-i),t.lineTo(n,r),t.lineTo(-n,r),t.closePath()}};const c$1=-.5,s$1=sqrt(3)/2,k=1/sqrt(12),a$1=3*(k/2+1);var symbolWye={draw(t,e){const i=sqrt(e/a$1),r=i/2,n=i*k,a=r,s=i*k+i,o=-a,l=s;t.moveTo(r,n),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(c$1*r-s$1*n,s$1*r+c$1*n),t.lineTo(c$1*a-s$1*s,s$1*a+c$1*s),t.lineTo(c$1*o-s$1*l,s$1*o+c$1*l),t.lineTo(c$1*r+s$1*n,c$1*n-s$1*r),t.lineTo(c$1*a+s$1*s,c$1*s-s$1*a),t.lineTo(c$1*o+s$1*l,c$1*l-s$1*o),t.closePath()}},symbolTimes={draw(t,e){const i=.6189*sqrt(e-min(e/6,1.7));t.moveTo(-i,-i),t.lineTo(i,i),t.moveTo(-i,i),t.lineTo(i,-i)}};const symbolsFill=[symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye],symbolsStroke=[symbolCircle,symbolPlus,symbolTimes,symbolTriangle2,symbolAsterisk,symbolSquare2,symbolDiamond2];function noop$2(){}function point$3(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function Basis(t){this._context=t}function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}function curveBasisOpen(t){return new BasisOpen(t)}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var r,n=t[0],a=e[0],s=t[i]-n,o=e[i]-a,l=-1;++l<=i;)r=l/i,this._basis.point(this._beta*t[l]+(1-this._beta)*(n+r*s),this._beta*e[l]+(1-this._beta)*(a+r*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var curveBundle=function t(e){function i(t){return 1===e?new Basis(t):new Bundle(t,e)}return i.beta=function(e){return t(+e)},i}(.85);function point$2(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinal=function t(e){function i(t){return new Cardinal(t,e)}return i.tension=function(e){return t(+e)},i}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalClosed=function t(e){function i(t){return new CardinalClosed(t,e)}return i.tension=function(e){return t(+e)},i}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalOpen=function t(e){function i(t){return new CardinalOpen(t,e)}return i.tension=function(e){return t(+e)},i}(0);function point$1(t,e,i){var r=t._x1,n=t._y1,a=t._x2,s=t._y2;if(t._l01_a>1e-12){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,n=(n*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/g,s=(s*c+t._y1*t._l23_2a-i*t._l12_2a)/g}t._context.bezierCurveTo(r,n,a,s,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRom=function t(e){function i(t){return e?new CatmullRom(t,e):new Cardinal(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomClosed=function t(e){function i(t){return e?new CatmullRomClosed(t,e):new CardinalClosed(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomOpen=function t(e){function i(t){return e?new CatmullRomOpen(t,e):new CardinalOpen(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function LinearClosed(t){this._context=t}function curveLinearClosed(t){return new LinearClosed(t)}function sign$1(t){return t<0?-1:1}function slope3(t,e,i){var r=t._x1-t._x0,n=e-t._x1,a=(t._y1-t._y0)/(r||n<0&&-0),s=(i-t._y1)/(n||r<0&&-0),o=(a*n+s*r)/(r+n);return(sign$1(a)+sign$1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function slope2(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function point(t,e,i){var r=t._x0,n=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,n+o*e,a-o,s-o*i,a,s)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,i,r=t.length-1,n=new Array(r),a=new Array(r),s=new Array(r);for(n[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)n[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(n[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)i=n[e]/a[e-1],a[e]-=i,s[e]-=i*s[e-1];for(n[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)n[e]=(s[e]-n[e+1])/a[e];for(a[r-1]=(t[r]+n[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-n[e+1];return[n,a]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function Transform(t,e,i){this.k=t,this.x=e,this.y=i}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,i=slope3(this,t,e)),i);break;default:point(this,this._t0,i=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,r,n,a){this._context.bezierCurveTo(e,t,r,i,a,n)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var r=controlPoints(t),n=controlPoints(e),a=0,s=1;s<i;++a,++s)this._context.bezierCurveTo(r[0][a],n[0][a],r[1][a],n[1][a],t[s],e[s]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}},Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Transform.prototype;class DecidablesElement extends i$3{getComputedStyleValue(t){return getComputedStyle(this).getPropertyValue(t).trim()}firstUpdated(t){super.firstUpdated(t),select$5(this.renderRoot.host).classed("keyboard",!0).on("mousemove.keyboard touchstart.keyboard",t=>{select$5(t.currentTarget.renderRoot.host).classed("keyboard",!1).on("mousemove.keyboard touchstart.keyboard",null)}).on("keydown.keyboard",t=>{select$5(t.currentTarget.renderRoot.host).classed("keyboard",!0).on("keydown.keyboard mousemove.keyboard touchstart.keyboard",null)})}static get greys(){const t="#999999",e={white:"#ffffff"};return e.light75=interpolateRgb(t,"#ffffff")(.75),e.light50=interpolateRgb(t,"#ffffff")(.5),e.light25=interpolateRgb(t,"#ffffff")(.25),e.grey=t,e.dark25=interpolateRgb(t,"#000000")(.25),e.dark50=interpolateRgb(t,"#000000")(.5),e.dark75=interpolateRgb(t,"#000000")(.75),e.black="#000000",e}static get shadows(){return{elevations:[0,2,4,8,16],baselineColor:"#000000",baselineColorString:"0, 0, 0",inverseBaselineColor:"#FFFFFF",inverseBaselineColorString:"255, 255, 255",opacityUmbra:.2,opacityPenumbra:.14,opacityAmbient:.12,opacityBoost:.2,mapUmbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:3,b:1,s:-2},4:{x:0,y:2,b:4,s:-1},8:{x:0,y:5,b:5,s:-3},16:{x:0,y:8,b:10,s:-5}},mapPenumbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:2,b:2,s:0},4:{x:0,y:4,b:5,s:0},8:{x:0,y:8,b:10,s:1},16:{x:0,y:16,b:24,s:2}},mapAmbient:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:1,b:5,s:0},4:{x:0,y:1,b:10,s:0},8:{x:0,y:3,b:14,s:2},16:{x:0,y:6,b:30,s:5}}}}static cssBoxShadow(t,e=!1,i=!1){const r=this.shadows.opacityUmbra+this.shadows.opacityBoost,n=this.shadows.opacityPenumbra+this.shadows.opacityBoost,a=this.shadows.opacityAmbient+this.shadows.opacityBoost,s=i?`rgba(${this.shadows.inverseBaselineColorString}, ${r})`:`rgba(${this.shadows.baselineColorString}, ${r})`,o=i?`rgba(${this.shadows.inverseBaselineColorString}, ${n})`:`rgba(${this.shadows.baselineColorString}, ${n})`,l=i?`rgba(${this.shadows.inverseBaselineColorString}, ${a})`:`rgba(${this.shadows.baselineColorString}, ${a})`,c=this.shadows.mapUmbra[t],g=this.shadows.mapPenumbra[t],d=this.shadows.mapAmbient[t];return`${e?`${-c.y}px ${c.y/2}px ${c.b}px ${c.s}px`:`${c.y/2}px ${c.y}px ${c.b}px ${c.s}px`} ${s}, ${e?`${-g.y}px ${g.y/2}px ${g.b}px ${g.s}px`:`${g.y/2}px ${g.y}px ${g.b}px ${g.s}px`} ${o}, ${e?`${-d.y}px ${d.y/2}px ${d.b}px ${d.s}px`:`${d.y/2}px ${d.y}px ${d.b}px ${d.s}px`} ${l}`}static get svgDefs(){const t=DecidablesElement.shadows,e=t.elevations.map(e=>`\n        <filter id=shadow-${e} filterUnits="userSpaceOnUse" x="-100%" y="-100%" width="200%" height="200%">\n          <feComponentTransfer in="SourceAlpha" result="solid">\n            <feFuncA type="table" tableValues="0 1 1"/>\n          </feComponentTransfer>\n          <feOffset in="solid" result="offU" dx=${t.mapUmbra[e].y/2} dy=${t.mapUmbra[e].y} />\n          <feOffset in="solid" result="offP" dx=${t.mapPenumbra[e].y/2} dy=${t.mapPenumbra[e].y} />\n          <feOffset in="solid" result="offA" dx=${t.mapAmbient[e].y/2} dy=${t.mapAmbient[e].y} />\n          ${0===t.mapUmbra[e].s?"":`<feMorphology in="offU" result="spreadU" operator=${t.mapUmbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapUmbra[e].s)} />`}\n          ${0===t.mapPenumbra[e].s?"":`<feMorphology in="offP" result="spreadP" operator=${t.mapPenumbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapPenumbra[e].s)} />`}\n          ${0===t.mapAmbient[e].s?"":`<feMorphology in="offA" result="spreadA" operator=${t.mapAmbient[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapAmbient[e].s)} />`}\n          <feGaussianBlur in=${0===t.mapUmbra[e].s?"offU":"spreadU"} result="blurU" stdDeviation=${t.mapUmbra[e].b/2} />\n          <feGaussianBlur in=${0===t.mapPenumbra[e].s?"offP":"spreadP"} result="blurP" stdDeviation=${t.mapPenumbra[e].b/2} />\n          <feGaussianBlur in=${0===t.mapAmbient[e].s?"offA":"spreadA"} result="blurA" stdDeviation=${t.mapAmbient[e].b/2} />\n          <feFlood in="SourceGraphic" result="opU" flood-color=${t.baselineColor} flood-opacity=${t.opacityUmbra+t.opacityBoost} />\n          <feFlood in="SourceGraphic" result="opP" flood-color=${t.baselineColor} flood-opacity=${t.opacityPenumbra+t.opacityBoost} />\n          <feFlood in="SourceGraphic" result="opA" flood-color=${t.baselineColor} flood-opacity=${t.opacityAmbient+t.opacityBoost} />\n          <feComposite in="opU" in2="blurU" result="shU" operator="in" />\n          <feComposite in="opP" in2="blurP" result="shP" operator="in" />\n          <feComposite in="opA" in2="blurA" result="shA" operator="in" />\n          <feMorphology in="solid" result="smaller" operator="erode" radius="1" />\n          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />\n          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />\n          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />\n          <feMerge>\n            <feMergeNode in="finalU" />\n            <feMergeNode in="finalP" />\n            <feMergeNode in="finalA" />\n            <feMergeNode in="SourceGraphic" />\n          </feMerge>\n        </filter>`);return`\n      <defs>\n        ${e}\n      </defs>\n    `}static get svgFilters(){const t=DecidablesElement.shadows,e=t.elevations.map(e=>b$1`
        <filter id=${`shadow-${e}`} x="-250%" y="-250%" width="600%" height="600%">
          <feComponentTransfer in="SourceAlpha" result="solid">
            <feFuncA type="table" tableValues="0 1 1"/>
          </feComponentTransfer>
          <feOffset in="solid" result="offU" dx=${t.mapUmbra[e].y/2} dy=${t.mapUmbra[e].y} />
          <feOffset in="solid" result="offP" dx=${t.mapPenumbra[e].y/2} dy=${t.mapPenumbra[e].y} />
          <feOffset in="solid" result="offA" dx=${t.mapAmbient[e].y/2} dy=${t.mapAmbient[e].y} />
          ${0===t.mapUmbra[e].s?b$1``:b$1`<feMorphology in="offU" result="spreadU" operator=${t.mapUmbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapUmbra[e].s)} />`}
          ${0===t.mapPenumbra[e].s?b$1``:b$1`<feMorphology in="offP" result="spreadP" operator=${t.mapPenumbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapPenumbra[e].s)} />`}
          ${0===t.mapAmbient[e].s?b$1``:b$1`<feMorphology in="offA" result="spreadA" operator=${t.mapAmbient[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapAmbient[e].s)} />`}
          <feGaussianBlur in=${0===t.mapUmbra[e].s?"offU":"spreadU"} result="blurU" stdDeviation=${t.mapUmbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapPenumbra[e].s?"offP":"spreadP"} result="blurP" stdDeviation=${t.mapPenumbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapAmbient[e].s?"offA":"spreadA"} result="blurA" stdDeviation=${t.mapAmbient[e].b/2} />
          <feFlood in="SourceGraphic" result="opU" flood-color=${t.baselineColor} flood-opacity=${t.opacityUmbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opP" flood-color=${t.baselineColor} flood-opacity=${t.opacityPenumbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opA" flood-color=${t.baselineColor} flood-opacity=${t.opacityAmbient+t.opacityBoost} />
          <feComposite in="opU" in2="blurU" result="shU" operator="in" />
          <feComposite in="opP" in2="blurP" result="shP" operator="in" />
          <feComposite in="opA" in2="blurA" result="shA" operator="in" />
          <feMorphology in="solid" result="smaller" operator="erode" radius="1" />
          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />
          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />
          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />
          <feMerge>
            <feMergeNode in="finalU" />
            <feMergeNode in="finalP" />
            <feMergeNode in="finalA" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>`);return b$1`
      <svg class="defs">
        <defs>
          ${e}
        </defs>
      </svg>
    `}static get styles(){return i$6`
      :host {
        ---shadow-0: var(--shadow-0, ${r$4(this.cssBoxShadow(0))});
        ---shadow-2: var(--shadow-2, ${r$4(this.cssBoxShadow(2))});
        ---shadow-4: var(--shadow-4, ${r$4(this.cssBoxShadow(4))});
        ---shadow-8: var(--shadow-8, ${r$4(this.cssBoxShadow(8))});

        ---color-background: var(--color-background, ${r$4(this.greys.white)});
        ---color-border: var(--color-border, ${r$4(this.greys.light75)});
        ---color-text: var(--color-text, ${r$4(this.greys.dark75)});
        ---color-text-inverse: var(--color-text-inverse, ${r$4(this.greys.white)});
        ---color-link: var(--color-link, ${r$4(this.greys.dark25)});
        ---color-element-background: var(--color-element-background, ${r$4(this.greys.light75)});
        ---color-element-disabled: var(--color-element-disabled, ${r$4(this.greys.light50)});
        ---color-element-enabled: var(--color-element-enabled, ${r$4(this.greys.dark25)});
        ---color-element-selected: var(--color-element-selected, ${r$4(this.greys.grey)});
        ---color-element-border: var(--color-element-border, ${r$4(this.greys.dark50)});
        ---color-element-emphasis: var(--color-element-emphasis, ${r$4(this.greys.dark75)});

        ---font-family-base: var(--font-family-base, "Source Sans", sans-serif);
        ---font-family-math: var(--font-family-math, "Source Serif", serif);

        ---border: var(--border, 1px solid var(---color-border));
        ---border-radius: var(--border-radius, 0.25rem);
        ---transition-duration: var(--transition-duration, 500ms);

        font-family: var(---font-family-base);
        font-weight: normal;
      }

      :host,
      :host *,
      :host *::before,
      :host *::after {
        box-sizing: border-box;
      }

      .math-greek {
        font-family: var(---font-family-math);
        font-style: normal;
      }

      .math-num {
        font-family: var(---font-family-base);
        font-style: normal;
      }

      .math-var {
        font-family: var(---font-family-math);
        font-style: italic;
      }

      .defs {
        display: block;

        width: 0;
        height: 0;
      }
    `}}class DecidablesButton extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$6`
        :host {
          ---decidables-button-background-color-disabled: var(--decidables-button-background-color, var(---color-element-disabled));
          ---decidables-button-background-color-enabled: var(--decidables-button-background-color, var(---color-element-enabled));

          margin: 0.25rem;
        }

        button {
          width: 100%;
          height: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);

          border: 0;
          border-radius: var(---border-radius);
          outline: none;
        }

        button:disabled {
          background-color: var(---decidables-button-background-color-disabled);
          outline: none;
          box-shadow: none;
        }

        button:enabled {
          cursor: pointer;

          background-color: var(---decidables-button-background-color-enabled);
          outline: none;
          box-shadow: var(---shadow-2);
        }

        button:enabled:hover {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        button:enabled:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(.keyboard) button:enabled:focus {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) button:enabled:focus:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$2`
      <button ?disabled=${this.disabled}>
        <slot></slot>
      </button>
    `}}customElements.define("decidables-button",DecidablesButton);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const o$2=t=>t??E$1;class DecidablesSlider extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},scale:{attribute:"scale",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0},nonlinear:{attribute:!1,type:Boolean,reflect:!1}}}constructor(){super(),this.disabled=!1,this.scale=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0,this.nonlinear=!1,this.rangeMax=void 0,this.rangeMin=void 0,this.rangeStep=void 0,this.rangeValue=void 0,this.toRange=void 0,this.fromRange=void 0}nonlinearRange(t,e,i){this.nonlinear=t,this.toRange=t?e:void 0,this.fromRange=t?i:void 0}rangeChanged(t){this.value=this.nonlinear?this.fromRange(t.target.value):t.target.value,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value},bubbles:!0}))}rangeInputted(t){this.value=this.nonlinear?this.fromRange(t.target.value):t.target.value}spinnerInputted(t){this.value=t.target.value}willUpdate(){this.rangeMax=void 0===this.max?void 0:this.nonlinear?this.toRange(this.max):this.max,this.rangeMin=void 0===this.min?void 0:this.nonlinear?this.toRange(this.min):this.min,this.rangeStep=void 0===this.step?void 0:this.nonlinear?"any":this.step,this.rangeValue=void 0===this.value?void 0:this.nonlinear?this.toRange(this.value):this.value}static get styles(){return[super.styles,i$6`
        :host {
          ---decidables-slider-background-color: var(--decidables-slider-background-color, var(---color-element-disabled));
          ---decidables-slider-color: var(--decidables-slider-color, var(---color-element-enabled));
          ---decidables-spinner-background-color: var(--decidables-slider-background-color, none);

          ---shadow-2-rotate: var(--shadow-2-rotate, ${r$4(this.cssBoxShadow(2,!0,!1))});
          ---shadow-4-rotate: var(--shadow-4-rotate, ${r$4(this.cssBoxShadow(4,!0,!1))});
          ---shadow-8-rotate: var(--shadow-8-rotate, ${r$4(this.cssBoxShadow(8,!0,!1))});

          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        label {
          margin: 0.25rem 0.25rem 0;
        }

        .range {
          position: relative;
          display: flex;

          flex-direction: row;

          width: 3.5rem;
          height: 4.75rem;
          margin: 0 0.25rem 0.25rem;
        }

        decidables-spinner {
          --decidables-spinner-input-width: 3.5rem;

          margin: 0 0.25rem 0.25rem;

          background: var(---decidables-spinner-background-color);
        }

        /* Adapted from http://danielstern.ca/range.css/#/ */
        /* Overall */
        input[type=range] {
          width: 4.75rem;
          height: 3.5rem;
          padding: 0;
          margin: 0;

          background-color: unset;

          transform: rotate(-90deg);
          transform-origin: 2.375rem 2.375rem;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:enabled {
          cursor: ns-resize;
        }

        input[type=range]:focus {
          outline: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-tooltip {
          display: none;
        }

        /* Track */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-runnable-track {
          width: 100%;
          height: 4px;

          background: var(---decidables-slider-background-color);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        input[type=range]:focus::-webkit-slider-runnable-track {
          background: var(---decidables-slider-background-color);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-track {
          width: 100%;
          height: 4px;

          background: var(---decidables-slider-background-color);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-track {
          width: 100%;
          height: 4px;

          color: transparent;

          background: transparent;
          border-color: transparent;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-lower {
          background: #cccccc;
          /* background: var(---decidables-slider-background-color); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-upper {
          background: #cccccc;
          /* background: var(---decidables-slider-background-color); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-lower {
          background: var(---decidables-slider-background-color);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-upper {
          background: var(---decidables-slider-background-color);
        }

        /* Thumb */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-thumb {
          width: 10px;
          height: 20px;
          margin-top: -8px;

          border: 0;
          border-radius: 4px;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:disabled::-webkit-slider-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        input[type=range]:enabled::-webkit-slider-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        input[type=range]:enabled:hover::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        input[type=range]:enabled:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:focus:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-thumb {
          width: 10px;
          height: 20px;

          border: 0;
          border-radius: 4px;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-moz-range-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-moz-range-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-thumb {
          width: 10px;
          height: 20px;
          margin-top: 0;

          background: #999999;
          /* background: var(---color-element-enabled); */
          border: 0;
          border-radius: 4px;
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-ms-thumb {
          background: var(---decidables-slider-background-color);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-ms-thumb {
          background: var(---decidables-slider-color);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        :host(.keyboard) input[type=range]:enabled:focus::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        datalist {
          position: absolute;
          left: 2rem;
          z-index: -1;
          display: flex;

          flex-direction: column;

          align-items: flex-start;
          justify-content: space-between;

          height: 4.75rem;

          font-size: 0.75rem;
        }

        option {
          padding: 0;

          line-height: 0.8;
          min-block-size: 0;
        }

        option::before {
          content: "â ";
        }
      `]}render(){return x$2`
      <label for="slider">
        <slot></slot>
      </label>
      <div class="range">
        <input ?disabled=${this.disabled} type="range" id="slider" min=${o$2(this.rangeMin)} max=${o$2(this.rangeMax)} step=${o$2(this.rangeStep)} .value=${this.rangeValue} @change=${this.rangeChanged.bind(this)} @input=${this.rangeInputted.bind(this)}>
        ${this.scale?x$2`
            <datalist id="ticks">
              <option value=${o$2(this.rangeMax)} label=${o$2(this.max)}></option>
              <option value=${o$2(this.rangeMin)} label=${o$2(this.min)}></option>
            </datalist>
          `:x$2``}
      </div>
      <decidables-spinner ?disabled=${this.disabled} min=${o$2(this.min)} max=${o$2(this.max)} step=${o$2(this.step)} .value=${this.value} @input=${this.spinnerInputted.bind(this)}></decidables-spinner>
    `}}customElements.define("decidables-slider",DecidablesSlider);class DecidablesSpinner extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}constructor(){super(),this.disabled=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0}inputted(t){this.value=t.target.value}static get styles(){return[super.styles,i$6`
        :host {
          ---decidables-spinner-font-size: var(--decidables-spinner-font-size, 1.125rem);
          ---decidables-spinner-input-width: var(--decidables-spinner-input-width, 4rem);
          ---decidables-spinner-prefix: var(--decidables-spinner-prefix, "");

          ---decidables-spinner-postfix: var(--decidables-spinner-postfix, "");
          ---decidables-spinner-postfix-padding: var(--decidables-spinner-postfix-padding, 0);

          display: block;
        }

        label {
          position: relative;
          display: flex;

          flex-direction: column;

          align-items: center;

          margin: 0;

          font-size: 0.75rem;
        }

        label::before {
          position: absolute;
          bottom: 1px;
          left: calc(50% - var(---decidables-spinner-input-width) / 2 + 0.25rem);

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-prefix);
        }

        label::after {
          position: absolute;
          right: 0.25rem;
          bottom: 1px;

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-postfix);
        }

        input[type=number] {
          width: var(---decidables-spinner-input-width);
          padding-right: var(---decidables-spinner-postfix-padding);

          font-family: var(---font-family-base);
          font-size: var(---decidables-spinner-font-size);
          color: inherit;
          text-align: right;

          background: none;
          border: 0;
          border-radius: 0;
          outline: none;
          box-shadow: var(---shadow-2);

          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }

        input[type=number]:hover {
          box-shadow: var(---shadow-4);
        }

        input[type=number]:focus,
        input[type=number]:active {
          box-shadow: var(---shadow-8);
        }

        input[type=number]:disabled {
          color: var(---color-text);

          border: 0;
          box-shadow: none;

          /* HACK: Use correct text color in Safari */
          -webkit-opacity: 1;
          /* HACK: Hide spinners in disabled input for Firefox and Safari */
          -moz-appearance: textfield; /* stylelint-disable-line property-no-vendor-prefix */
          /* HACK: Use correct text color in Safari */
          -webkit-text-fill-color: var(---color-text);
        }

        /* HACK: Hide spinners in disabled input for Firefox and Safari */
        input[type=number]:disabled::-webkit-outer-spin-button,
        input[type=number]:disabled::-webkit-inner-spin-button {
          margin: 0;
          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }
      `]}render(){return x$2`
      <label>
        <slot></slot>
        <input ?disabled=${this.disabled} type="number" min=${o$2(this.min)} max=${o$2(this.max)} step=${o$2(this.step)} .value=${this.value} @input=${this.inputted.bind(this)}>
      </label>
    `}}customElements.define("decidables-spinner",DecidablesSpinner);class DecidablesSwitch extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        /* Adapted from https://codepen.io/guuslieben/pen/YyPRVP */
        input[type=checkbox] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=checkbox] + label {
          order: 1;

          margin: 0 0.25rem 0.25rem;

          font-weight: 400;
        }

        input[type=checkbox] + label + label {
          position: relative;

          min-width: 24px;
          padding: 0 0 36px;
          margin: 0.25rem 0.25rem 0;

          font-weight: 400;

          outline: none;
        }

        input[type=checkbox] + label + label::before,
        input[type=checkbox] + label + label::after {
          position: absolute;

          left: 50%;

          margin: 0;

          content: "";

          outline: 0;

          transition: all var(---transition-duration) ease;
          transform: translate(-50%, 0);
        }

        input[type=checkbox] + label + label::before {
          bottom: 1px;

          width: 8px;
          height: 34px;

          background-color: var(---color-element-disabled);
          border-radius: 4px;
        }

        input[type=checkbox] + label + label::after {
          bottom: 0;

          width: 18px;
          height: 18px;

          background-color: var(---color-element-enabled);
          border-radius: 50%;
          box-shadow: var(---shadow-2);
        }

        input[type=checkbox]:checked + label + label::after {
          transform: translate(-50%, -100%);
        }

        input[type=checkbox]:disabled + label + label::after {
          background-color: var(---color-element-disabled);
          box-shadow: none;
        }

        input[type=checkbox]:enabled + label,
        input[type=checkbox]:enabled + label + label {
          cursor: pointer;
        }

        input[type=checkbox]:enabled + label:hover + label::after,
        input[type=checkbox]:enabled + label + label:hover::after {
          box-shadow: var(---shadow-4);
        }

        input[type=checkbox]:enabled + label:active + label::after,
        input[type=checkbox]:enabled + label + label:active::after {
          box-shadow: var(---shadow-8);
        }

        /* stylelint-disable-next-line selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label::after {
          box-shadow: var(---shadow-4);
        }

        /* stylelint-disable selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label:active::after,
        :host(.keyboard) input[type=checkbox]:enabled:focus:active + label + label::after {
          box-shadow: var(---shadow-8);
        }
        /* stylelint-enable selector-max-compound-selectors */
        `]}render(){return x$2`
      <input type="checkbox" id="switch" ?checked=${this.checked} ?disabled=${this.disabled} @change=${this.changed.bind(this)}>
      <label for="switch">
        <slot name="off-label"></slot>
      </label>
      <label for="switch">
        <slot></slot>
      </label>
    `}}customElements.define("decidables-switch",DecidablesSwitch);class DecidablesToggle extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$6`
        fieldset {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;

          margin: 0.25rem;

          border: 0;
        }

        legend {
          text-align: center;
        }
      `]}render(){return x$2`
      <fieldset ?disabled=${this.disabled}>
        <legend><slot name="label"></slot></legend>
        <slot></slot>
      </fieldset>
    `}}customElements.define("decidables-toggle",DecidablesToggle);class DecidablesToggleOption extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},name:{attribute:"name",type:String,reflect:!0},value:{attribute:"value",type:String,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1,this.name=void 0,this.value=void 0}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked,value:this.value},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: flex;
        }

        input[type=radio] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=radio] + label {
          width: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);
          text-align: center;

          cursor: pointer;

          background-color: var(---color-element-enabled);
          border: 0;
          border-radius: 0;
          outline: none;

          box-shadow: var(---shadow-2);
        }

        input[type=radio]:checked + label {
          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-2);
        }

        input[type=radio] + label:hover {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        input[type=radio] + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(:first-of-type) input[type=radio] + label {
          border-top-left-radius: 0.25rem;
          border-top-right-radius: 0.25rem;
        }

        :host(:last-of-type) input[type=radio] + label {
          border-bottom-right-radius: 0.25rem;
          border-bottom-left-radius: 0.25rem;
        }

        :host(.keyboard) input[type=radio]:focus + label {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus:checked + label {
          z-index: 1;

          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$2`
      <input type="radio" id="toggle-option" name=${this.name} value=${this.value} .checked=${this.checked} @change=${this.changed.bind(this)}>
      <label for="toggle-option">
        <slot></slot>
      </label>
    `}}customElements.define("decidables-toggle-option",DecidablesToggleOption);const DecidablesConverterArray={fromAttribute:t=>t.split(/\s+/).map(t=>Number.parseFloat(t)),toAttribute:t=>t.length?t.map(t=>t.toFixed(3)).join(" "):null},DecidablesConverterSet={fromAttribute:t=>new Set(t.split(/\s+/)),toAttribute:t=>t.size?[...t].join(" "):null};function DecidablesMixinResizeable(t){return class extends t{static get properties(){return{width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.width=NaN,this.height=NaN,this.rem=NaN}getDimensions(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(this.getDimensions.bind(this)),this.resizeObserver.observe(this)}disconnectedCallback(){this.resizeObserver.unobserve(this),super.disconnectedCallback()}}}var data$3={colors:{h:"#4daf4a",m:"#ff7f00",fa:"#377eb8",cr:"#e41a1c",hr:"#ffff33",far:"#984ea3",acc:"#999999",d:"#f781bf",c:"#a65628",s:"#4545d0",present:"#f032e6",absent:"#10dbc9",correct:"#ffffff",error:"#000000",nr:"#cccccc"}},colors$3=data$3.colors;class DetectableElement extends DecidablesElement{static get properties(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}constructor(){super(),this.interactive=!1}static get colors(){return colors$3}static get lights(){return Object.keys(DetectableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(DetectableElement.colors[e],"#ffffff")(.5),t),{})}static get darks(){return Object.keys(DetectableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(DetectableElement.colors[e],"#000000")(.5),t),{})}static get styles(){return[super.styles,i$6`
        :host {
          ---color-h: var(--color-h, ${r$4(this.colors.h)});
          ---color-m: var(--color-m, ${r$4(this.colors.m)});
          ---color-fa: var(--color-fa, ${r$4(this.colors.fa)});
          ---color-cr: var(--color-cr, ${r$4(this.colors.cr)});
          ---color-hr: var(--color-hr, ${r$4(this.colors.hr)});
          ---color-far: var(--color-far, ${r$4(this.colors.far)});
          ---color-acc: var(--color-acc, ${r$4(this.colors.acc)});
          ---color-d: var(--color-d, ${r$4(this.colors.d)});
          ---color-c: var(--color-c, ${r$4(this.colors.c)});
          ---color-s: var(--color-s, ${r$4(this.colors.s)});
          ---color-present: var(--color-present, ${r$4(this.colors.present)});
          ---color-absent: var(--color-absent, ${r$4(this.colors.absent)});
          ---color-correct: var(--color-correct, ${r$4(this.colors.correct)});
          ---color-error: var(--color-error, ${r$4(this.colors.error)});
          ---color-nr: var(--color-nr, ${r$4(this.colors.nr)});

          ---color-h-light: var(--color-h-light, ${r$4(this.lights.h)});
          ---color-m-light: var(--color-m-light, ${r$4(this.lights.m)});
          ---color-fa-light: var(--color-fa-light, ${r$4(this.lights.fa)});
          ---color-cr-light: var(--color-cr-light, ${r$4(this.lights.cr)});
          ---color-hr-light: var(--color-hr-light, ${r$4(this.lights.hr)});
          ---color-far-light: var(--color-far-light, ${r$4(this.lights.far)});
          ---color-acc-light: var(--color-acc-light, ${r$4(this.lights.acc)});
          ---color-d-light: var(--color-d-light, ${r$4(this.lights.d)});
          ---color-c-light: var(--color-c-light, ${r$4(this.lights.c)});
          ---color-s-light: var(--color-s-light, ${r$4(this.lights.s)});
          ---color-present-light: var(--color-present-light, ${r$4(this.lights.present)});
          ---color-absent-light: var(--color-absent-light, ${r$4(this.lights.absent)});
          ---color-correct-light: var(--color-correct-light, ${r$4(this.lights.correct)});
          ---color-error-light: var(--color-error-light, ${r$4(this.lights.error)});
          ---color-nr-light: var(--color-nr-light, ${r$4(this.lights.nr)});

          ---color-h-dark: var(--color-h-dark, ${r$4(this.darks.h)});
          ---color-m-dark: var(--color-m-dark, ${r$4(this.darks.m)});
          ---color-fa-dark: var(--color-fa-dark, ${r$4(this.darks.fa)});
          ---color-cr-dark: var(--color-cr-dark, ${r$4(this.darks.cr)});
          ---color-hr-dark: var(--color-hr-dark, ${r$4(this.darks.hr)});
          ---color-far-dark: var(--color-far-dark, ${r$4(this.darks.far)});
          ---color-acc-dark: var(--color-acc-dark, ${r$4(this.darks.acc)});
          ---color-d-dark: var(--color-d-dark, ${r$4(this.darks.d)});
          ---color-c-dark: var(--color-c-dark, ${r$4(this.darks.c)});
          ---color-s-dark: var(--color-s-dark, ${r$4(this.darks.s)});
          ---color-present-dark: var(--color-present-dark, ${r$4(this.darks.present)});
          ---color-absent-dark: var(--color-absent-dark, ${r$4(this.darks.absent)});
          ---color-correct-dark: var(--color-correct-dark, ${r$4(this.darks.correct)});
          ---color-error-dark: var(--color-error-dark, ${r$4(this.darks.error)});
          ---color-nr-dark: var(--color-nr-dark, ${r$4(this.darks.nr)});
        }
      `]}}class DetectableControl extends DetectableElement{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},coherence:{attribute:"coherence",type:Number,reflect:!0},payoff:{attribute:"payoff",type:Number,reflect:!0},color:{attribute:"color",type:String,reflect:!0},zRoc:{attribute:"z-roc",type:Boolean,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}constructor(){super(),this.trials=void 0,this.duration=void 0,this.coherence=void 0,this.payoff=void 0,this.colors=["none","accuracy","stimulus","response","outcome","all"],this.color=void 0,this.zRoc=void 0,this.run=!1,this.pause=!1,this.reset=!1,this.states=["resetted","running","paused","ended"],this.state="resetted"}setTrials(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("detectable-control-trials",{detail:{trials:this.trials},bubbles:!0}))}setDuration(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("detectable-control-duration",{detail:{duration:this.duration},bubbles:!0}))}setCoherence(t){this.coherence=t.target.value,this.dispatchEvent(new CustomEvent("detectable-control-coherence",{detail:{coherence:this.coherence},bubbles:!0}))}setPayoff(t){this.payoff=t.target.value,this.dispatchEvent(new CustomEvent("detectable-control-payoff",{detail:{payoff:this.payoff},bubbles:!0}))}chooseColor(t){this.color=t.target.value,this.dispatchEvent(new CustomEvent("detectable-control-color",{detail:{color:this.color},bubbles:!0}))}flipZRoc(t){this.zRoc=t.target.checked,this.dispatchEvent(new CustomEvent("detectable-control-z-roc",{detail:{zRoc:this.zRoc},bubbles:!0}))}doRun(){this.state="running",this.dispatchEvent(new CustomEvent("detectable-control-run",{detail:{},bubbles:!0}))}doPause(){this.state="paused",this.dispatchEvent(new CustomEvent("detectable-control-pause",{detail:{},bubbles:!0}))}doReset(){this.state="resetted",this.dispatchEvent(new CustomEvent("detectable-control-reset",{detail:{},bubbles:!0}))}complete(){this.state="ended"}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .buttons {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }

        /* Payoff  Slider */
        .payoff {
          --decidables-spinner-prefix: "$";
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.trials?x$2`<decidables-slider min="1" max="100" step="1" .value=${this.trials} @change=${this.setTrials.bind(this)} @input=${this.setTrials.bind(this)}>Trials</decidables-slider>`:x$2``}
        ${null!=this.duration?x$2`<decidables-slider min="10" max="2000" step="10" .value=${this.duration} @change=${this.setDuration.bind(this)} @input=${this.setDuration.bind(this)}>Duration</decidables-slider>`:x$2``}
        ${null!=this.coherence?x$2`<decidables-slider min="0" max="1" step=".01" .value=${this.coherence} @change=${this.setCoherence.bind(this)} @input=${this.setCoherence.bind(this)}>Coherence</decidables-slider>`:x$2``}
        ${null!=this.payoff?x$2`<decidables-slider class="payoff" min="0" max="100" step="1" .value=${this.payoff} @change=${this.setPayoff.bind(this)} @input=${this.setPayoff.bind(this)}>Payoff</decidables-slider>`:x$2``}
        ${null!=this.color?x$2`
            <decidables-toggle @change=${this.chooseColor.bind(this)}>
              <span slot="label">Emphasis</span>
              <decidables-toggle-option name="toggle" value="none" ?checked=${"none"===this.color}>None</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="accuracy" ?checked=${"accuracy"===this.color}>Accuracy</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="stimulus" ?checked=${"stimulus"===this.color}>Stimulus</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="response" ?checked=${"response"===this.color}>Response</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="outcome" ?checked=${"outcome"===this.color}>Outcome</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="all" ?checked=${"all"===this.color}>All</decidables-toggle-option>
            </decidables-toggle>
          `:x$2``}
        ${null!=this.zRoc?x$2`
            <decidables-switch ?checked=${this.zRoc} @change=${this.flipZRoc.bind(this)}>
              <span class="math-var">z</span>ROC
              <span slot="off-label">ROC</span>
            </decidables-switch>
          `:x$2``}
        ${this.run||this.pause||this.reset?x$2`
            <div class="buttons">
              ${this.run?x$2`<decidables-button name="run" ?disabled=${"running"===this.state||"ended"===this.state} @click=${this.doRun.bind(this)}>Run</decidables-button>`:x$2``}
              ${this.pause?x$2`<decidables-button name="pause" ?disabled=${"running"!==this.state} @click=${this.doPause.bind(this)}>Pause</decidables-button>`:x$2``}
              ${this.reset?x$2`<decidables-button name="reset" ?disabled=${"resetted"===this.state} @click=${this.doReset.bind(this)}>Reset</decidables-button>`:x$2``}
            </div>
          `:x$2``}
      </div>`}}customElements.define("detectable-control",DetectableControl);class DetectableResponse extends DetectableElement{static get properties(){return{feedback:{attribute:"feedback",type:String,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},payoff:{attribute:"payoff",type:String,reflect:!0},hPayoff:{attribute:"hit-payoff",type:Number,reflect:!0},mPayoff:{attribute:"miss-payoff",type:Number,reflect:!0},faPayoff:{attribute:"false-alarm-payoff",type:Number,reflect:!0},crPayoff:{attribute:"correct-rejection-payoff",type:Number,reflect:!0},nrPayoff:{attribute:"no-response-payoff",type:Number,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.feedbacks=["none","accuracy","outcome"],this.feedback="outcome",this.trial=!1,this.payoffs=["none","trial","total"],this.payoff="none",this.hPayoff=0,this.mPayoff=0,this.crPayoff=0,this.faPayoff=0,this.nrPayoff=0,this.states=["off","waiting","feedback"],this.state="off",this.trialCount=0,this.trialTotal=0,this.signals=["present","absent"],this.signal=void 0,this.responses=["present","absent"],this.response=void 0,this.outcomes=["h","m","fa","cr","nr"],this.outcome=void 0,this.accuracies=["c","e","nr"],this.accuracy=void 0,this.h=0,this.m=0,this.cr=0,this.fa=0,this.c=0,this.e=0,this.nr=0}get trialPayoff(){switch(this.outcome){case"h":return this.hPayoff;case"m":return this.mPayoff;case"fa":return this.faPayoff;case"cr":return this.crPayoff;case"nr":return this.nrPayoff;default:return}}get totalPayoff(){return this.h*this.hPayoff+this.m*this.mPayoff+this.cr*this.crPayoff+this.fa*this.faPayoff+this.nr*this.nrPayoff}start(t,e){this.trialCount=e,this.state="waiting",this.signal=t,this.response=void 0,this.outcome=void 0}stop(){this.state="feedback",void 0===this.response&&(this.outcome="nr",this.nr+=1,this.accuracy="nr")}present(){this.responded("present")}absent(){this.responded("absent")}responded(t){this.state="feedback",this.response=t,"present"===this.signal&&"present"===this.response?(this.outcome="h",this.h+=1,this.accuracy="c",this.c+=1):"present"===this.signal&&"absent"===this.response?(this.outcome="m",this.m+=1,this.accuracy="e",this.e+=1):"absent"===this.signal&&"present"===this.response?(this.outcome="fa",this.fa+=1,this.accuracy="e",this.e+=1):"absent"===this.signal&&"absent"===this.response&&(this.outcome="cr",this.cr+=1,this.accuracy="c",this.c+=1),this.dispatchEvent(new CustomEvent("detectable-response",{detail:{trial:this.trialCount,signal:this.signal,response:this.response,outcome:this.outcome,payoff:this.trialPayoff,h:this.h,m:this.m,fa:this.fa,cr:this.cr,nr:this.nr,totalPayoff:this.totalPayoff},bubbles:!0}))}reset(){this.state="off",this.trialCount=0,this.signal=void 0,this.response=void 0,this.outcome=void 0,this.accuracy=void 0,this.h=0,this.m=0,this.cr=0,this.fa=0,this.nr=0,this.c=0,this.e=0}keydown(t){"waiting"===this.state&&("ArrowUp"===t.key?(this.responded("present"),t.preventDefault()):"ArrowDown"===t.key&&(this.responded("absent"),t.preventDefault()))}connectedCallback(){super.connectedCallback(),window.addEventListener("keydown",this.keydown.bind(this))}disconnectedCallback(){window.removeEventListener("keydown",this.keydown.bind(this)),super.disconnectedCallback()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        /* Overall container */
        .holder {
          display: flex;

          flex-direction: row;
        }

        /* Response buttons */
        .responses {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }

        .waiting[disabled] {
          --decidables-button-background-color: var(---color-element-enabled);
        }

        .selected[disabled][name="present"] {
          --decidables-button-background-color: var(---color-present);
        }

        .selected[disabled][name="absent"] {
          --decidables-button-background-color: var(---color-absent);
        }

        /* Feedback messages */
        .feedbacks {
          display: flex;

          flex-direction: column;

          justify-content: center;
        }

        /* Trial feedback */
        .trial {
          text-align: center;
        }

        .trial .label {
          font-weight: 600;
        }

        /* Outcome feedback */
        .feedback {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;

          width: 6rem;
          height: 3.5rem;
          padding: 0.375rem 0.75rem;
          margin: 0.25rem;

          text-align: center;

          background-color: var(---color-element-background);
          border: 1px solid var(---color-element-border);
        }

        :host([payoff="trial"]) .feedback,
        :host([payoff="total"]) .feedback {
          height: 5rem;
        }

        .feedback.h {
          background-color: var(---color-h-light);
        }

        .feedback.m {
          background-color: var(---color-m-light);
        }

        .feedback.fa {
          background-color: var(---color-fa-light);
        }

        .feedback.cr {
          background-color: var(---color-cr-light);
        }

        .feedback.nr {
          background-color: var(---color-nr-light);
        }

        .feedback.c {
          background-color: var(---color-correct-light);
        }

        .feedback.e {
          color: var(---color-text-inverse);

          background-color: var(---color-error-light);
        }

        .feedback .outcome {
          font-weight: 600;
          line-height: 1.15;
        }

        /* Payoff feedback */
        .total {
          text-align: center;
        }

        .total .label {
          font-weight: 600;
        }
      `]}render(){const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),e=e=>t.formatToParts(e).map(({type:t,value:e})=>"minusSign"===t?"â":e).reduce((t,e)=>t+e);return x$2`
      <div class="holder">
        <div class="responses">
          <decidables-button name="present" class=${"feedback"===this.state&&"present"===this.response?"selected":"waiting"===this.state?"waiting":""} ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.present.bind(this)}>Present</decidables-button>
          <decidables-button name="absent" class=${"feedback"===this.state&&"absent"===this.response?"selected":"waiting"===this.state?"waiting":""} ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.absent.bind(this)}>Absent</decidables-button>
        </div>
        ${this.trial||"none"!==this.feedback||"total"===this.payoff?x$2`
            <div class="feedbacks">
              ${this.trial?x$2`
                  <div class="trial">
                    <span class="label">Trial: </span><span class="count">${this.trialCount}</span><span class="of"> of </span><span class="total">${this.trialTotal}</span>
                  </div>`:x$2``}
              ${"none"!==this.feedback?x$2`
                  <div class=${`feedback ${"feedback"===this.state?"outcome"===this.feedback?this.outcome:this.accuracy:""}`}>
                    ${"feedback"===this.state?"outcome"===this.feedback?"h"===this.outcome?x$2`<span class="outcome">Hit</span>`:"m"===this.outcome?x$2`<span class="outcome">Miss</span>`:"fa"===this.outcome?x$2`<span class="outcome">False<br>Alarm</span>`:"cr"===this.outcome?x$2`<span class="outcome">Correct<br>Rejection</span>`:x$2`<span class="outcome">No<br>Response</span>`:"c"===this.accuracy?x$2`<span class="outcome">Correct</span>`:"e"===this.accuracy?x$2`<span class="outcome">Error</span>`:x$2`<span class="outcome">No<br>Response</span>`:""}
                    ${"feedback"!==this.state||"trial"!==this.payoff&&"total"!==this.payoff?x$2``:x$2`<span class="payoff">${e(this.trialPayoff)}</span>`}
                  </div>`:x$2``}
              ${"total"===this.payoff?x$2`
                  <div class="total">
                    <span class="label">Total: </span><span class="value">${e(this.totalPayoff)}</span>
                  </div>`:x$2``}
            </div>`:x$2``}
      </div>`}}customElements.define("detectable-response",DetectableResponse);var jstat$1={exports:{}},jstat=jstat$1.exports;jstat$1.exports=function(){var t=function(t,e){var i=Array.prototype.concat,r=Array.prototype.slice,n=Object.prototype.toString;function a(e,i){var r=e>i?e:i;return t.pow(10,17-~~(t.log(r>0?r:-r)*t.LOG10E))}var s=Array.isArray||function(t){return"[object Array]"===n.call(t)};function o(t){return"[object Function]"===n.call(t)}function l(t){return"number"==typeof t&&t-t===0}function c(t){return i.apply([],t)}function g(){return new g._init(arguments)}function d(){return 0}function u(){return 1}function B(t,e){return t===e?1:0}g.fn=g.prototype,g._init=function(t){if(s(t[0]))if(s(t[0][0])){o(t[1])&&(t[0]=g.map(t[0],t[1]));for(var e=0;e<t[0].length;e++)this[e]=t[0][e];this.length=t[0].length}else this[0]=o(t[1])?g.map(t[0],t[1]):t[0],this.length=1;else if(l(t[0]))this[0]=g.seq.apply(null,t),this.length=1;else{if(t[0]instanceof g)return g(t[0].toArray());this[0]=[],this.length=1}return this},g._init.prototype=g.prototype,g._init.constructor=g,g.utils={calcRdx:a,isArray:s,isFunction:o,isNumber:l,toVector:c},g._random_fn=t.random,g.setRandom=function(t){if("function"!=typeof t)throw new TypeError("fn is not a function");g._random_fn=t},g.extend=function(t){var e,i;if(1===arguments.length){for(i in t)g[i]=t[i];return this}for(e=1;e<arguments.length;e++)for(i in arguments[e])t[i]=arguments[e][i];return t},g.rows=function(t){return t.length||1},g.cols=function(t){return t[0].length||1},g.dimensions=function(t){return{rows:g.rows(t),cols:g.cols(t)}},g.row=function(t,e){return s(e)?e.map(function(e){return g.row(t,e)}):t[e]},g.rowa=function(t,e){return g.row(t,e)},g.col=function(t,e){if(s(e)){var i=g.arange(t.length).map(function(){return new Array(e.length)});return e.forEach(function(e,r){g.arange(t.length).forEach(function(n){i[n][r]=t[n][e]})}),i}for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=[t[n][e]];return r},g.cola=function(t,e){return g.col(t,e).map(function(t){return t[0]})},g.diag=function(t){for(var e=g.rows(t),i=new Array(e),r=0;r<e;r++)i[r]=[t[r][r]];return i},g.antidiag=function(t){for(var e=g.rows(t)-1,i=new Array(e),r=0;e>=0;e--,r++)i[r]=[t[r][e]];return i},g.transpose=function(t){var e,i,r,n,a,o=[];for(s(t[0])||(t=[t]),i=t.length,r=t[0].length,a=0;a<r;a++){for(e=new Array(i),n=0;n<i;n++)e[n]=t[n][a];o.push(e)}return 1===o.length?o[0]:o},g.map=function(t,e,i){var r,n,a,o,l;for(s(t[0])||(t=[t]),n=t.length,a=t[0].length,o=i?t:new Array(n),r=0;r<n;r++)for(o[r]||(o[r]=new Array(a)),l=0;l<a;l++)o[r][l]=e(t[r][l],r,l);return 1===o.length?o[0]:o},g.cumreduce=function(t,e,i){var r,n,a,o,l;for(s(t[0])||(t=[t]),n=t.length,a=t[0].length,o=i?t:new Array(n),r=0;r<n;r++)for(o[r]||(o[r]=new Array(a)),a>0&&(o[r][0]=t[r][0]),l=1;l<a;l++)o[r][l]=e(o[r][l-1],t[r][l]);return 1===o.length?o[0]:o},g.alter=function(t,e){return g.map(t,e,!0)},g.create=function(t,e,i){var r,n,a=new Array(t);for(o(e)&&(i=e,e=t),r=0;r<t;r++)for(a[r]=new Array(e),n=0;n<e;n++)a[r][n]=i(r,n);return a},g.zeros=function(t,e){return l(e)||(e=t),g.create(t,e,d)},g.ones=function(t,e){return l(e)||(e=t),g.create(t,e,u)},g.rand=function(t,e){return l(e)||(e=t),g.create(t,e,g._random_fn)},g.identity=function(t,e){return l(e)||(e=t),g.create(t,e,B)},g.symmetric=function(t){var e,i,r=t.length;if(t.length!==t[0].length)return!1;for(e=0;e<r;e++)for(i=0;i<r;i++)if(t[i][e]!==t[e][i])return!1;return!0},g.clear=function(t){return g.alter(t,d)},g.seq=function(t,e,i,r){o(r)||(r=!1);var n,s=[],l=a(t,e),c=(e*l-t*l)/((i-1)*l),g=t;for(n=0;g<=e&&n<i;g=(t*l+c*l*++n)/l)s.push(r?r(g,n):g);return s},g.arange=function(t,i,r){var n,a=[];if(r=r||1,i===e&&(i=t,t=0),t===i||0===r)return[];if(t<i&&r<0)return[];if(t>i&&r>0)return[];if(r>0)for(n=t;n<i;n+=r)a.push(n);else for(n=t;n>i;n+=r)a.push(n);return a},g.slice=function(){function t(t,i,r,n){var a,s=[],o=t.length;if(i===e&&r===e&&n===e)return g.copy(t);if(n=n||1,(i=(i=i||0)>=0?i:o+i)===(r=(r=r||t.length)>=0?r:o+r)||0===n)return[];if(i<r&&n<0)return[];if(i>r&&n>0)return[];if(n>0)for(a=i;a<r;a+=n)s.push(t[a]);else for(a=i;a>r;a+=n)s.push(t[a]);return s}function i(e,i){var r,n;return l((i=i||{}).row)?l(i.col)?e[i.row][i.col]:t(g.rowa(e,i.row),(r=i.col||{}).start,r.end,r.step):l(i.col)?t(g.cola(e,i.col),(n=i.row||{}).start,n.end,n.step):(n=i.row||{},r=i.col||{},t(e,n.start,n.end,n.step).map(function(e){return t(e,r.start,r.end,r.step)}))}return i}(),g.sliceAssign=function(i,r,n){var a,s;if(l(r.row)){if(l(r.col))return i[r.row][r.col]=n;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||i[0].length,r.col.step=r.col.step||1,a=g.arange(r.col.start,t.min(i.length,r.col.end),r.col.step);var o=r.row;return a.forEach(function(t,e){i[o][t]=n[e]}),i}if(l(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||i.length,r.row.step=r.row.step||1,s=g.arange(r.row.start,t.min(i[0].length,r.row.end),r.row.step);var c=r.col;return s.forEach(function(t,e){i[t][c]=n[e]}),i}return n[0].length===e&&(n=[n]),r.row.start=r.row.start||0,r.row.end=r.row.end||i.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||i[0].length,r.col.step=r.col.step||1,s=g.arange(r.row.start,t.min(i.length,r.row.end),r.row.step),a=g.arange(r.col.start,t.min(i[0].length,r.col.end),r.col.step),s.forEach(function(t,e){a.forEach(function(r,a){i[t][r]=n[e][a]})}),i},g.diagonal=function(t){var e=g.zeros(t.length,t.length);return t.forEach(function(t,i){e[i][i]=t}),e},g.copy=function(t){return t.map(function(t){return l(t)?t:t.map(function(t){return t})})};var F=g.prototype;return F.length=0,F.push=Array.prototype.push,F.sort=Array.prototype.sort,F.splice=Array.prototype.splice,F.slice=Array.prototype.slice,F.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},F.map=function(t,e){return g(g.map(this,t,e))},F.cumreduce=function(t,e){return g(g.cumreduce(this,t,e))},F.alter=function(t){return g.alter(this,t),this},function(t){for(var e=0;e<t.length;e++)(function(t){F[t]=function(e){var i,r=this;return e?(setTimeout(function(){e.call(r,F[t].call(r))}),this):(i=g[t](this),s(i)?g(i):i)}})(t[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var e=0;e<t.length;e++)(function(t){F[t]=function(e,i){var r=this;return i?(setTimeout(function(){i.call(r,F[t].call(r,e))}),this):g(g[t](this,e))}})(t[e])}("row col".split(" ")),function(t){for(var e=0;e<t.length;e++)(function(t){F[t]=function(){return g(g[t].apply(null,arguments))}})(t[e])}("create zeros ones rand identity".split(" ")),g}(Math);return function(t,e){var i=t.utils.isFunction;function r(t,e){return t-e}function n(t,i,r){return e.max(i,e.min(t,r))}t.sum=function(t){for(var e=0,i=t.length;--i>=0;)e+=t[i];return e},t.sumsqrd=function(t){for(var e=0,i=t.length;--i>=0;)e+=t[i]*t[i];return e},t.sumsqerr=function(e){for(var i,r=t.mean(e),n=0,a=e.length;--a>=0;)n+=(i=e[a]-r)*i;return n},t.sumrow=function(t){for(var e=0,i=t.length;--i>=0;)e+=t[i];return e},t.product=function(t){for(var e=1,i=t.length;--i>=0;)e*=t[i];return e},t.min=function(t){for(var e=t[0],i=0;++i<t.length;)t[i]<e&&(e=t[i]);return e},t.max=function(t){for(var e=t[0],i=0;++i<t.length;)t[i]>e&&(e=t[i]);return e},t.unique=function(t){for(var e={},i=[],r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0,i.push(t[r]));return i},t.mean=function(e){return t.sum(e)/e.length},t.meansqerr=function(e){return t.sumsqerr(e)/e.length},t.geomean=function(i){var r=i.map(e.log),n=t.mean(r);return e.exp(n)},t.median=function(t){var e=t.length,i=t.slice().sort(r);return 1&e?i[e/2|0]:(i[e/2-1]+i[e/2])/2},t.cumsum=function(e){return t.cumreduce(e,function(t,e){return t+e})},t.cumprod=function(e){return t.cumreduce(e,function(t,e){return t*e})},t.diff=function(t){var e,i=[],r=t.length;for(e=1;e<r;e++)i.push(t[e]-t[e-1]);return i},t.rank=function(t){var e,i=[],n={};for(e=0;e<t.length;e++)n[l=t[e]]?n[l]++:(n[l]=1,i.push(l));var a=i.sort(r),s={},o=1;for(e=0;e<a.length;e++){var l,c=n[l=a[e]],g=(o+(o+c-1))/2;s[l]=g,o+=c}return t.map(function(t){return s[t]})},t.mode=function(t){var e,i=t.length,n=t.slice().sort(r),a=1,s=0,o=0,l=[];for(e=0;e<i;e++)n[e]===n[e+1]?a++:(a>s?(l=[n[e]],s=a,o=0):a===s&&(l.push(n[e]),o++),a=1);return 0===o?l[0]:l},t.range=function(e){return t.max(e)-t.min(e)},t.variance=function(e,i){return t.sumsqerr(e)/(e.length-(i?1:0))},t.pooledvariance=function(e){var i=e.reduce(function(e,i){return e+t.sumsqerr(i)},0),r=e.reduce(function(t,e){return t+e.length},0);return i/(r-e.length)},t.deviation=function(e){for(var i=t.mean(e),r=e.length,n=new Array(r),a=0;a<r;a++)n[a]=e[a]-i;return n},t.stdev=function(i,r){return e.sqrt(t.variance(i,r))},t.pooledstdev=function(i){return e.sqrt(t.pooledvariance(i))},t.meandev=function(i){for(var r=t.mean(i),n=[],a=i.length-1;a>=0;a--)n.push(e.abs(i[a]-r));return t.mean(n)},t.meddev=function(i){for(var r=t.median(i),n=[],a=i.length-1;a>=0;a--)n.push(e.abs(i[a]-r));return t.median(n)},t.coeffvar=function(e){return t.stdev(e)/t.mean(e)},t.quartiles=function(t){var i=t.length,n=t.slice().sort(r);return[n[e.round(i/4)-1],n[e.round(i/2)-1],n[e.round(3*i/4)-1]]},t.quantiles=function(t,i,a,s){var o,l,c,g,d,u=t.slice().sort(r),B=[i.length],F=t.length;for(void 0===a&&(a=3/8),void 0===s&&(s=3/8),o=0;o<i.length;o++)c=F*(l=i[o])+(a+l*(1-a-s)),g=e.floor(n(c,1,F-1)),d=n(c-g,0,1),B[o]=(1-d)*u[g-1]+d*u[g];return B},t.percentile=function(t,e,i){var n=t.slice().sort(r),a=e*(n.length+(i?1:-1))+(i?0:1),s=parseInt(a),o=a-s;return s+1<n.length?n[s-1]+o*(n[s]-n[s-1]):n[s-1]},t.percentileOfScore=function(t,e,i){var r,n,a=0,s=t.length,o=!1;for("strict"===i&&(o=!0),n=0;n<s;n++)r=t[n],(o&&r<e||!o&&r<=e)&&a++;return a/s},t.histogram=function(i,r){r=r||4;var n,a=t.min(i),s=(t.max(i)-a)/r,o=i.length,l=[];for(n=0;n<r;n++)l[n]=0;for(n=0;n<o;n++)l[e.min(e.floor((i[n]-a)/s),r-1)]+=1;return l},t.covariance=function(e,i){var r,n=t.mean(e),a=t.mean(i),s=e.length,o=new Array(s);for(r=0;r<s;r++)o[r]=(e[r]-n)*(i[r]-a);return t.sum(o)/(s-1)},t.corrcoeff=function(e,i){return t.covariance(e,i)/t.stdev(e,1)/t.stdev(i,1)},t.spearmancoeff=function(e,i){return e=t.rank(e),i=t.rank(i),t.corrcoeff(e,i)},t.stanMoment=function(i,r){for(var n=t.mean(i),a=t.stdev(i),s=i.length,o=0,l=0;l<s;l++)o+=e.pow((i[l]-n)/a,r);return o/i.length},t.skewness=function(e){return t.stanMoment(e,3)},t.kurtosis=function(e){return t.stanMoment(e,4)-3};var a=t.prototype;!function(e){for(var r=0;r<e.length;r++)(function(e){a[e]=function(r,n){var s=[],o=0,l=this;if(i(r)&&(n=r,r=!1),n)return setTimeout(function(){n.call(l,a[e].call(l,r))}),this;if(this.length>1){for(l=!0===r?this:this.transpose();o<l.length;o++)s[o]=t[e](l[o]);return s}return t[e](this[0],r)}})(e[r])}("cumsum cumprod".split(" ")),function(e){for(var r=0;r<e.length;r++)(function(e){a[e]=function(r,n){var s=[],o=0,l=this;if(i(r)&&(n=r,r=!1),n)return setTimeout(function(){n.call(l,a[e].call(l,r))}),this;if(this.length>1){for("sumrow"!==e&&(l=!0===r?this:this.transpose());o<l.length;o++)s[o]=t[e](l[o]);return!0===r?t[e](t.utils.toVector(s)):s}return t[e](this[0],r)}})(e[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(e){for(var r=0;r<e.length;r++)(function(e){a[e]=function(){var r,n=[],s=0,o=this,l=Array.prototype.slice.call(arguments);if(i(l[l.length-1])){r=l[l.length-1];var c=l.slice(0,l.length-1);return setTimeout(function(){r.call(o,a[e].apply(o,c))}),this}r=void 0;var g=function(i){return t[e].apply(o,[i].concat(l))};if(this.length>1){for(o=o.transpose();s<o.length;s++)n[s]=g(o[s]);return n}return g(this[0])}})(e[r])}("quantiles percentileOfScore".split(" "))}(t,Math),function(t,e){t.gammaln=function(t){var i,r,n,a=0,s=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],o=1.000000000190015;for(n=(r=i=t)+5.5,n-=(i+.5)*e.log(n);a<6;a++)o+=s[a]/++r;return e.log(2.5066282746310007*o/i)-n},t.loggam=function(t){var i,r,n,a,s,o,l,c=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(i=t,l=0,1==t||2==t)return 0;for(t<=7&&(i=t+(l=e.floor(7-t))),r=1/(i*i),n=2*e.PI,s=c[9],o=8;o>=0;o--)s*=r,s+=c[o];if(a=s/i+.5*e.log(n)+(i-.5)*e.log(i)-i,t<=7)for(o=1;o<=l;o++)a-=e.log(i-1),i-=1;return a},t.gammafn=function(t){var i,r,n,a,s=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],o=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,c=0,g=0,d=0,u=t;if(t>171.6243769536076)return 1/0;if(u<=0){if(!(a=u%1+36e-17))return 1/0;l=(1&u?-1:1)*e.PI/e.sin(e.PI*a),u=1-u}for(n=u,r=u<1?u++:(u-=c=(0|u)-1)-1,i=0;i<8;++i)d=(d+s[i])*r,g=g*r+o[i];if(a=d/g+1,n<u)a/=n;else if(n>u)for(i=0;i<c;++i)a*=u,u++;return l&&(a=l/a),a},t.gammap=function(e,i){return t.lowRegGamma(e,i)*t.gammafn(e)},t.lowRegGamma=function(i,r){var n,a=t.gammaln(i),s=i,o=1/i,l=o,c=r+1-i,g=1/1e-30,d=1/c,u=d,B=1,F=-~(8.5*e.log(i>=1?i:1/i)+.4*i+17);if(r<0||i<=0)return NaN;if(r<i+1){for(;B<=F;B++)o+=l*=r/++s;return o*e.exp(-r+i*e.log(r)-a)}for(;B<=F;B++)u*=(d=1/(d=(n=-B*(B-i))*d+(c+=2)))*(g=c+n/g);return 1-u*e.exp(-r+i*e.log(r)-a)},t.factorialln=function(e){return e<0?NaN:t.gammaln(e+1)},t.factorial=function(e){return e<0?NaN:t.gammafn(e+1)},t.combination=function(i,r){return i>170||r>170?e.exp(t.combinationln(i,r)):t.factorial(i)/t.factorial(r)/t.factorial(i-r)},t.combinationln=function(e,i){return t.factorialln(e)-t.factorialln(i)-t.factorialln(e-i)},t.permutation=function(e,i){return t.factorial(e)/t.factorial(e-i)},t.betafn=function(i,r){if(!(i<=0||r<=0))return i+r>170?e.exp(t.betaln(i,r)):t.gammafn(i)*t.gammafn(r)/t.gammafn(i+r)},t.betaln=function(e,i){return t.gammaln(e)+t.gammaln(i)-t.gammaln(e+i)},t.betacf=function(t,i,r){var n,a,s,o,l=1e-30,c=1,g=i+r,d=i+1,u=i-1,B=1,F=1-g*t/d;for(e.abs(F)<l&&(F=l),o=F=1/F;c<=100&&(F=1+(a=c*(r-c)*t/((u+(n=2*c))*(i+n)))*F,e.abs(F)<l&&(F=l),B=1+a/B,e.abs(B)<l&&(B=l),o*=(F=1/F)*B,F=1+(a=-(i+c)*(g+c)*t/((i+n)*(d+n)))*F,e.abs(F)<l&&(F=l),B=1+a/B,e.abs(B)<l&&(B=l),o*=s=(F=1/F)*B,!(e.abs(s-1)<3e-7));c++);return o},t.gammapinv=function(i,r){var n,a,s,o,l,c,g=0,d=r-1,u=1e-8,B=t.gammaln(r);if(i>=1)return e.max(100,r+100*e.sqrt(r));if(i<=0)return 0;for(r>1?(l=e.log(d),c=e.exp(d*(l-1)-B),o=i<.5?i:1-i,n=(2.30753+.27061*(a=e.sqrt(-2*e.log(o))))/(1+a*(.99229+.04481*a))-a,i<.5&&(n=-n),n=e.max(.001,r*e.pow(1-1/(9*r)-n/(3*e.sqrt(r)),3))):n=i<(a=1-r*(.253+.12*r))?e.pow(i/a,1/r):1-e.log(1-(i-a)/(1-a));g<12;g++){if(n<=0)return 0;if((n-=a=(s=(t.lowRegGamma(r,n)-i)/(a=r>1?c*e.exp(-(n-d)+d*(e.log(n)-l)):e.exp(-n+d*e.log(n)-B)))/(1-.5*e.min(1,s*((r-1)/n-1))))<=0&&(n=.5*(n+a)),e.abs(a)<u*n)break}return n},t.erf=function(t){var i,r,n,a,s=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],o=s.length-1,l=!1,c=0,g=0;for(t<0&&(t=-t,l=!0),r=4*(i=2/(2+t))-2;o>0;o--)n=c,c=r*c-g+s[o],g=n;return a=i*e.exp(-t*t+.5*(s[0]+r*c)-g),l?a-1:1-a},t.erfc=function(e){return 1-t.erf(e)},t.erfcinv=function(i){var r,n,a,s,o=0;if(i>=2)return-100;if(i<=0)return 100;for(s=i<1?i:2-i,r=-.70711*((2.30753+.27061*(a=e.sqrt(-2*e.log(s/2))))/(1+a*(.99229+.04481*a))-a);o<2;o++)r+=(n=t.erfc(r)-s)/(1.1283791670955126*e.exp(-r*r)-r*n);return i<1?r:-r},t.ibetainv=function(i,r,n){var a,s,o,l,c,g,d,u,B,F,h=1e-8,Q=r-1,U=n-1,I=0;if(i<=0)return 0;if(i>=1)return 1;for(r>=1&&n>=1?(o=i<.5?i:1-i,g=(2.30753+.27061*(l=e.sqrt(-2*e.log(o))))/(1+l*(.99229+.04481*l))-l,i<.5&&(g=-g),d=(g*g-3)/6,u=2/(1/(2*r-1)+1/(2*n-1)),B=g*e.sqrt(d+u)/u-(1/(2*n-1)-1/(2*r-1))*(d+5/6-2/(3*u)),g=r/(r+n*e.exp(2*B))):(a=e.log(r/(r+n)),s=e.log(n/(r+n)),g=i<(l=e.exp(r*a)/r)/(B=l+(c=e.exp(n*s)/n))?e.pow(r*B*i,1/r):1-e.pow(n*B*(1-i),1/n)),F=-t.gammaln(r)-t.gammaln(n)+t.gammaln(r+n);I<10;I++){if(0===g||1===g)return g;if((g-=l=(c=(t.ibeta(g,r,n)-i)/(l=e.exp(Q*e.log(g)+U*e.log(1-g)+F)))/(1-.5*e.min(1,c*(Q/g-U/(1-g)))))<=0&&(g=.5*(g+l)),g>=1&&(g=.5*(g+l+1)),e.abs(l)<h*g&&I>0)break}return g},t.ibeta=function(i,r,n){var a=0===i||1===i?0:e.exp(t.gammaln(r+n)-t.gammaln(r)-t.gammaln(n)+r*e.log(i)+n*e.log(1-i));return!(i<0||i>1)&&(i<(r+1)/(r+n+2)?a*t.betacf(i,r,n)/r:1-a*t.betacf(1-i,n,r)/n)},t.randn=function(i,r){var n,a,s,o,l;if(r||(r=i),i)return t.create(i,r,function(){return t.randn()});do{n=t._random_fn(),a=1.7156*(t._random_fn()-.5),l=(s=n-.449871)*s+(o=e.abs(a)+.386595)*(.196*o-.25472*s)}while(l>.27597&&(l>.27846||a*a>-4*e.log(n)*n*n));return a/n},t.randg=function(i,r,n){var a,s,o,l,c,g,d=i;if(n||(n=r),i||(i=1),r)return(g=t.zeros(r,n)).alter(function(){return t.randg(i)}),g;i<1&&(i+=1),a=i-1/3,s=1/e.sqrt(9*a);do{do{l=1+s*(c=t.randn())}while(l<=0);l*=l*l,o=t._random_fn()}while(o>1-.331*e.pow(c,4)&&e.log(o)>.5*c*c+a*(1-l+e.log(l)));if(i==d)return a*l;do{o=t._random_fn()}while(0===o);return e.pow(o,1/d)*a*l},function(e){for(var i=0;i<e.length;i++)(function(e){t.fn[e]=function(){return t(t.map(this,function(i){return t[e](i)}))}})(e[i])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var i=0;i<e.length;i++)(function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}})(e[i])}("randn".split(" "))}(t,Math),function(t,e){function i(t,i,r,n){for(var a,s=0,o=1,l=1,c=1,g=0,d=0;e.abs((l-d)/l)>n;)d=l,o=c+(a=-(i+g)*(i+r+g)*t/(i+2*g)/(i+2*g+1))*o,l=(s=l+a*s)+(a=(g+=1)*(r-g)*t/(i+2*g-1)/(i+2*g))*l,s/=c=o+a*c,o/=c,l/=c,c=1;return l/i}function r(t){return t/e.abs(t)}function n(i,r,n){var a=12,s=6,o=-30,l=-50,c=60,g=8,d=3,u=2,B=3,F=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],h=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],Q=.5*i;if(Q>=g)return 1;var U,I=2*t.normal.cdf(Q,0,1,1,0)-1;I=I>=e.exp(l/n)?e.pow(I,n):0;for(var b=Q,p=(g-Q)/(U=i>d?u:B),y=b+p,m=0,C=n-1,f=1;f<=U;f++){for(var x=0,A=.5*(y+b),v=.5*(y-b),L=1;L<=a;L++){var R,S=A+v*(s<L?F[(R=a-L+1)-1]:-F[(R=L)-1]),G=S*S;if(G>c)break;var E=2*t.normal.cdf(S,0,1,1,0)*.5-2*t.normal.cdf(S,i,1,1,0)*.5;E>=e.exp(o/C)&&(x+=E=h[R-1]*e.exp(-.5*G)*e.pow(E,C))}m+=x*=2*v*n/e.sqrt(2*e.PI),b=y,y+=p}return(I+=m)<=e.exp(o/r)?0:(I=e.pow(I,r))>=1?1:I}function a(t,i,r){var n=.322232421088,a=.099348462606,s=-1,o=.588581570495,l=-.342242088547,c=.531103462366,g=-.204231210125,d=.10353775285,u=-453642210148e-16,B=.0038560700634,F=.8832,h=.2368,Q=1.208,U=1.4142,I=120,b=.5-.5*t,p=e.sqrt(e.log(1/(b*b))),y=p+((((p*u+g)*p+l)*p+s)*p+n)/((((p*B+d)*p+c)*p+o)*p+a);r<I&&(y+=(y*y*y+y)/r/4);var m=F-h*y;return r<I&&(m+=-1.214/r+Q*y/r),y*(m*e.log(i-1)+U)}!function(e){for(var i=0;i<e.length;i++)(function(e){t[e]=function t(e,i,r){return this instanceof t?(this._a=e,this._b=i,this._c=r,this):new t(e,i,r)},t.fn[e]=function(i,r,n){var a=t[e](i,r,n);return a.data=this,a},t[e].prototype.sample=function(i){var r=this._a,n=this._b,a=this._c;return i?t.alter(i,function(){return t[e].sample(r,n,a)}):t[e].sample(r,n,a)},function(i){for(var r=0;r<i.length;r++)(function(i){t[e].prototype[i]=function(r){var n=this._a,a=this._b,s=this._c;return r||0===r||(r=this.data),"number"!=typeof r?t.fn.map.call(r,function(r){return t[e][i](r,n,a,s)}):t[e][i](r,n,a,s)}})(i[r])}("pdf cdf inv".split(" ")),function(i){for(var r=0;r<i.length;r++)(function(i){t[e].prototype[i]=function(){return t[e][i](this._a,this._b,this._c)}})(i[r])}("mean median mode variance".split(" "))})(e[i])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(i,r,n){return i>1||i<0?0:1==r&&1==n?1:r<512&&n<512?e.pow(i,r-1)*e.pow(1-i,n-1)/t.betafn(r,n):e.exp((r-1)*e.log(i)+(n-1)*e.log(1-i)-t.betaln(r,n))},cdf:function(e,i,r){return e>1||e<0?1*(e>1):t.ibeta(e,i,r)},inv:function(e,i,r){return t.ibetainv(e,i,r)},mean:function(t,e){return t/(t+e)},median:function(e,i){return t.ibetainv(.5,e,i)},mode:function(t,e){return(t-1)/(t+e-2)},sample:function(e,i){var r=t.randg(e);return r/(r+t.randg(i))},variance:function(t,i){return t*i/(e.pow(t+i,2)*(t+i+1))}}),t.extend(t.centralF,{pdf:function(i,r,n){var a;return i<0?0:r<=2?0===i&&r<2?1/0:0===i&&2===r?1:1/t.betafn(r/2,n/2)*e.pow(r/n,r/2)*e.pow(i,r/2-1)*e.pow(1+r/n*i,-(r+n)/2):(a=r*i/(n+i*r),r*(n/(n+i*r))/2*t.binomial.pdf((r-2)/2,(r+n-2)/2,a))},cdf:function(e,i,r){return e<0?0:t.ibeta(i*e/(i*e+r),i/2,r/2)},inv:function(e,i,r){return r/(i*(1/t.ibetainv(e,i/2,r/2)-1))},mean:function(t,e){return e>2?e/(e-2):void 0},mode:function(t,e){return t>2?e*(t-2)/(t*(e+2)):void 0},sample:function(e,i){return 2*t.randg(e/2)/e/(2*t.randg(i/2)/i)},variance:function(t,e){if(!(e<=4))return 2*e*e*(t+e-2)/(t*(e-2)*(e-2)*(e-4))}}),t.extend(t.cauchy,{pdf:function(t,i,r){return r<0?0:r/(e.pow(t-i,2)+e.pow(r,2))/e.PI},cdf:function(t,i,r){return e.atan((t-i)/r)/e.PI+.5},inv:function(t,i,r){return i+r*e.tan(e.PI*(t-.5))},median:function(t){return t},mode:function(t){return t},sample:function(i,r){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*r+i}}),t.extend(t.chisquare,{pdf:function(i,r){return i<0?0:0===i&&2===r?.5:e.exp((r/2-1)*e.log(i)-i/2-r/2*e.log(2)-t.gammaln(r/2))},cdf:function(e,i){return e<0?0:t.lowRegGamma(i/2,e/2)},inv:function(e,i){return 2*t.gammapinv(e,.5*i)},mean:function(t){return t},median:function(t){return t*e.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(e){return 2*t.randg(e/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,i){return t<0?0:i*e.exp(-i*t)},cdf:function(t,i){return t<0?0:1-e.exp(-i*t)},inv:function(t,i){return-e.log(1-t)/i},mean:function(t){return 1/t},median:function(t){return 1/t*e.log(2)},mode:function(){return 0},sample:function(i){return-1/i*e.log(t._random_fn())},variance:function(t){return e.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(i,r,n){return i<0?0:0===i&&1===r?1/n:e.exp((r-1)*e.log(i)-i/n-t.gammaln(r)-r*e.log(n))},cdf:function(e,i,r){return e<0?0:t.lowRegGamma(i,e/r)},inv:function(e,i,r){return t.gammapinv(e,i)*r},mean:function(t,e){return t*e},mode:function(t,e){if(t>1)return(t-1)*e},sample:function(e,i){return t.randg(e)*i},variance:function(t,e){return t*e*e}}),t.extend(t.invgamma,{pdf:function(i,r,n){return i<=0?0:e.exp(-(r+1)*e.log(i)-n/i-t.gammaln(r)+r*e.log(n))},cdf:function(e,i,r){return e<=0?0:1-t.lowRegGamma(i,r/e)},inv:function(e,i,r){return r/t.gammapinv(1-e,i)},mean:function(t,e){return t>1?e/(t-1):void 0},mode:function(t,e){return e/(t+1)},sample:function(e,i){return i/t.randg(e)},variance:function(t,e){if(!(t<=2))return e*e/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,i,r){return 0===t&&1===i?r:1===t&&1===r?i:e.exp(e.log(i)+e.log(r)+(i-1)*e.log(t)+(r-1)*e.log(1-e.pow(t,i)))},cdf:function(t,i,r){return t<0?0:t>1?1:1-e.pow(1-e.pow(t,i),r)},inv:function(t,i,r){return e.pow(1-e.pow(1-t,1/r),1/i)},mean:function(e,i){return i*t.gammafn(1+1/e)*t.gammafn(i)/t.gammafn(1+1/e+i)},median:function(t,i){return e.pow(1-e.pow(2,-1/i),1/t)},mode:function(t,i){if(t>=1&&i>=1&&1!==t&&1!==i)return e.pow((t-1)/(t*i-1),1/t)},variance:function(){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,i,r){return t<=0?0:e.exp(-e.log(t)-.5*e.log(2*e.PI)-e.log(r)-e.pow(e.log(t)-i,2)/(2*r*r))},cdf:function(i,r,n){return i<0?0:.5+.5*t.erf((e.log(i)-r)/e.sqrt(2*n*n))},inv:function(i,r,n){return e.exp(-1.4142135623730951*n*t.erfcinv(2*i)+r)},mean:function(t,i){return e.exp(t+i*i/2)},median:function(t){return e.exp(t)},mode:function(t,i){return e.exp(t-i*i)},sample:function(i,r){return e.exp(t.randn()*r+i)},variance:function(t,i){return(e.exp(i*i)-1)*e.exp(2*t+i*i)}}),t.extend(t.noncentralt,{pdf:function(i,r,n){var a=1e-14;return e.abs(n)<a?t.studentt.pdf(i,r):e.abs(i)<a?e.exp(t.gammaln((r+1)/2)-n*n/2-.5*e.log(e.PI*r)-t.gammaln(r/2)):r/i*(t.noncentralt.cdf(i*e.sqrt(1+2/r),r+2,n)-t.noncentralt.cdf(i,r,n))},cdf:function(i,r,n){var a=1e-14,s=200;if(e.abs(n)<a)return t.studentt.cdf(i,r);var o=!1;i<0&&(o=!0,n=-n);for(var l=t.normal.cdf(-n,0,1),c=a+1,g=c,d=i*i/(i*i+r),u=0,B=e.exp(-n*n/2),F=e.exp(-n*n/2-.5*e.log(2)-t.gammaln(1.5))*n;u<s||g>a||c>a;)g=c,u>0&&(B*=n*n/(2*u),F*=n*n/(2*(u+.5))),l+=.5*(c=B*t.beta.cdf(d,u+.5,r/2)+F*t.beta.cdf(d,u+1,r/2)),u++;return o?1-l:l}}),t.extend(t.normal,{pdf:function(t,i,r){return e.exp(-.5*e.log(2*e.PI)-e.log(r)-e.pow(t-i,2)/(2*r*r))},cdf:function(i,r,n){return.5*(1+t.erf((i-r)/e.sqrt(2*n*n)))},inv:function(e,i,r){return-1.4142135623730951*r*t.erfcinv(2*e)+i},mean:function(t){return t},median:function(t){return t},mode:function(t){return t},sample:function(e,i){return t.randn()*i+e},variance:function(t,e){return e*e}}),t.extend(t.pareto,{pdf:function(t,i,r){return t<i?0:r*e.pow(i,r)/e.pow(t,r+1)},cdf:function(t,i,r){return t<i?0:1-e.pow(i/t,r)},inv:function(t,i,r){return i/e.pow(1-t,1/r)},mean:function(t,i){if(!(i<=1))return i*e.pow(t,i)/(i-1)},median:function(t,i){return t*(i*e.SQRT2)},mode:function(t){return t},variance:function(t,i){if(!(i<=2))return t*t*i/(e.pow(i-1,2)*(i-2))}}),t.extend(t.studentt,{pdf:function(i,r){return r=r>1e100?1e100:r,1/(e.sqrt(r)*t.betafn(.5,r/2))*e.pow(1+i*i/r,-(r+1)/2)},cdf:function(i,r){var n=r/2;return t.ibeta((i+e.sqrt(i*i+r))/(2*e.sqrt(i*i+r)),n,n)},inv:function(i,r){var n=t.ibetainv(2*e.min(i,1-i),.5*r,.5);return n=e.sqrt(r*(1-n)/n),i>.5?n:-n},mean:function(t){return t>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(i){return t.randn()*e.sqrt(i/(2*t.randg(i/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,i,r){return t<0||i<0||r<0?0:r/i*e.pow(t/i,r-1)*e.exp(-e.pow(t/i,r))},cdf:function(t,i,r){return t<0?0:1-e.exp(-e.pow(t/i,r))},inv:function(t,i,r){return i*e.pow(-e.log(1-t),1/r)},mean:function(e,i){return e*t.gammafn(1+1/i)},median:function(t,i){return t*e.pow(e.log(2),1/i)},mode:function(t,i){return i<=1?0:t*e.pow((i-1)/i,1/i)},sample:function(i,r){return i*e.pow(-e.log(t._random_fn()),1/r)},variance:function(i,r){return i*i*t.gammafn(1+2/r)-e.pow(t.weibull.mean(i,r),2)}}),t.extend(t.uniform,{pdf:function(t,e,i){return t<e||t>i?0:1/(i-e)},cdf:function(t,e,i){return t<e?0:t<i?(t-e)/(i-e):1},inv:function(t,e,i){return e+t*(i-e)},mean:function(t,e){return.5*(t+e)},median:function(e,i){return t.mean(e,i)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(e,i){return e/2+i/2+(i/2-e/2)*(2*t._random_fn()-1)},variance:function(t,i){return e.pow(i-t,2)/12}}),t.extend(t.binomial,{pdf:function(i,r,n){return 0===n||1===n?r*n===i?1:0:t.combination(r,i)*e.pow(n,i)*e.pow(1-n,r-i)},cdf:function(r,n,a){var s,o=1e-10;if(r<0)return 0;if(r>=n)return 1;if(a<0||a>1||n<=0)return NaN;var l=a,c=(r=e.floor(r))+1,g=n-r,d=c+g,u=e.exp(t.gammaln(d)-t.gammaln(g)-t.gammaln(c)+c*e.log(l)+g*e.log(1-l));return s=l<(c+1)/(d+2)?u*i(l,c,g,o):1-u*i(1-l,g,c,o),e.round(1/o*(1-s))/(1/o)}}),t.extend(t.negbin,{pdf:function(i,r,n){return i===i>>>0&&(i<0?0:t.combination(i+r-1,r-1)*e.pow(1-n,i)*e.pow(n,r))},cdf:function(e,i,r){var n=0,a=0;if(e<0)return 0;for(;a<=e;a++)n+=t.negbin.pdf(a,i,r);return n}}),t.extend(t.hypgeom,{pdf:function(i,r,n,a){if(i!=i|0)return!1;if(i<0||i<n-(r-a))return 0;if(i>a||i>n)return 0;if(2*n>r)return 2*a>r?t.hypgeom.pdf(r-n-a+i,r,r-n,r-a):t.hypgeom.pdf(a-i,r,r-n,a);if(2*a>r)return t.hypgeom.pdf(n-i,r,n,r-a);if(n<a)return t.hypgeom.pdf(i,r,a,n);for(var s=1,o=0,l=0;l<i;l++){for(;s>1&&o<a;)s*=1-n/(r-o),o++;s*=(a-l)*(n-l)/((l+1)*(r-n-a+l+1))}for(;o<a;o++)s*=1-n/(r-o);return e.min(1,e.max(0,s))},cdf:function(i,r,n,a){if(i<0||i<n-(r-a))return 0;if(i>=a||i>=n)return 1;if(2*n>r)return 2*a>r?t.hypgeom.cdf(r-n-a+i,r,r-n,r-a):1-t.hypgeom.cdf(a-i-1,r,r-n,a);if(2*a>r)return 1-t.hypgeom.cdf(n-i-1,r,n,r-a);if(n<a)return t.hypgeom.cdf(i,r,a,n);for(var s=1,o=1,l=0,c=0;c<i;c++){for(;s>1&&l<a;){var g=1-n/(r-l);o*=g,s*=g,l++}s+=o*=(a-c)*(n-c)/((c+1)*(r-n-a+c+1))}for(;l<a;l++)s*=1-n/(r-l);return e.min(1,e.max(0,s))}}),t.extend(t.poisson,{pdf:function(i,r){return r<0||i%1!=0||i<0?0:e.pow(r,i)*e.exp(-r)/t.factorial(i)},cdf:function(e,i){var r=[],n=0;if(e<0)return 0;for(;n<=e;n++)r.push(t.poisson.pdf(n,i));return t.sum(r)},mean:function(t){return t},variance:function(t){return t},sampleSmall:function(i){var r=1,n=0,a=e.exp(-i);do{n++,r*=t._random_fn()}while(r>a);return n-1},sampleLarge:function(i){var r,n,a,s,o,l,c,g,d,u,B=i;for(s=e.sqrt(B),o=e.log(B),l=.02483*(c=.931+2.53*s)-.059,g=1.1239+1.1328/(c-3.4),d=.9277-3.6224/(c-2);;){if(n=e.random()-.5,a=e.random(),u=.5-e.abs(n),r=e.floor((2*l/u+c)*n+B+.43),u>=.07&&a<=d)return r;if(!(r<0||u<.013&&a>u)&&e.log(a)+e.log(g)-e.log(l/(u*u)+c)<=r*o-B-t.loggam(r+1))return r}},sample:function(t){return t<10?this.sampleSmall(t):this.sampleLarge(t)}}),t.extend(t.triangular,{pdf:function(t,e,i,r){return i<=e||r<e||r>i?NaN:t<e||t>i?0:t<r?2*(t-e)/((i-e)*(r-e)):t===r?2/(i-e):2*(i-t)/((i-e)*(i-r))},cdf:function(t,i,r,n){return r<=i||n<i||n>r?NaN:t<=i?0:t>=r?1:t<=n?e.pow(t-i,2)/((r-i)*(n-i)):1-e.pow(r-t,2)/((r-i)*(r-n))},inv:function(t,i,r,n){return r<=i||n<i||n>r?NaN:t<=(n-i)/(r-i)?i+(r-i)*e.sqrt(t*((n-i)/(r-i))):i+(r-i)*(1-e.sqrt((1-t)*(1-(n-i)/(r-i))))},mean:function(t,e,i){return(t+e+i)/3},median:function(t,i,r){return r<=(t+i)/2?i-e.sqrt((i-t)*(i-r))/e.sqrt(2):r>(t+i)/2?t+e.sqrt((i-t)*(r-t))/e.sqrt(2):void 0},mode:function(t,e,i){return i},sample:function(i,r,n){var a=t._random_fn();return a<(n-i)/(r-i)?i+e.sqrt(a*(r-i)*(n-i)):r-e.sqrt((1-a)*(r-i)*(r-n))},variance:function(t,e,i){return(t*t+e*e+i*i-t*e-t*i-e*i)/18}}),t.extend(t.arcsine,{pdf:function(t,i,r){return r<=i?NaN:t<=i||t>=r?0:2/e.PI*e.pow(e.pow(r-i,2)-e.pow(2*t-i-r,2),-.5)},cdf:function(t,i,r){return t<i?0:t<r?2/e.PI*e.asin(e.sqrt((t-i)/(r-i))):1},inv:function(t,i,r){return i+(.5-.5*e.cos(e.PI*t))*(r-i)},mean:function(t,e){return e<=t?NaN:(t+e)/2},median:function(t,e){return e<=t?NaN:(t+e)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(i,r){return(i+r)/2+(r-i)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(t,i){return i<=t?NaN:e.pow(i-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,i,r){return r<=0?0:e.exp(-e.abs(t-i)/r)/(2*r)},cdf:function(t,i,r){return r<=0?0:t<i?.5*e.exp((t-i)/r):1-.5*e.exp(-(t-i)/r)},mean:function(t){return t},median:function(t){return t},mode:function(t){return t},variance:function(t,e){return 2*e*e},sample:function(i,n){var a=t._random_fn()-.5;return i-n*r(a)*e.log(1-2*e.abs(a))}}),t.extend(t.tukey,{cdf:function(i,r,a){var s=1,o=r,l=16,c=8,g=-30,d=1e-14,u=100,B=800,F=5e3,h=25e3,Q=1,U=.5,I=.25,b=.125,p=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],y=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(i<=0)return 0;if(a<2||s<1||o<2)return NaN;if(!Number.isFinite(i))return 1;if(a>h)return n(i,s,o);var m,C=.5*a,f=C*e.log(a)-a*e.log(2)-t.gammaln(C),x=C-1,A=.25*a;m=a<=u?Q:a<=B?U:a<=F?I:b,f+=e.log(m);for(var v=0,L=1;L<=50;L++){for(var R=0,S=(2*L-1)*m,G=1;G<=l;G++){var E,V;c<G?(E=G-c-1,V=f+x*e.log(S+p[E]*m)-(p[E]*m+S)*A):(E=G-1,V=f+x*e.log(S-p[E]*m)+(p[E]*m-S)*A),V>=g&&(R+=n(c<G?i*e.sqrt(.5*(p[E]*m+S)):i*e.sqrt(.5*(-p[E]*m+S)),s,o)*y[E]*e.exp(V))}if(L*m>=1&&R<=d)break;v+=R}if(R>d)throw new Error("tukey.cdf failed to converge");return v>1&&(v=1),v},inv:function(i,r,n){var s=1e-4,o=50;if(n<2||r<2)return NaN;if(i<0||i>1)return NaN;if(0===i)return 0;if(1===i)return 1/0;var l,c=a(i,r,n),g=t.tukey.cdf(c,r,n)-i;l=g>0?e.max(0,c-1):c+1;for(var d,u=t.tukey.cdf(l,r,n)-i,B=1;B<o;B++)if(d=l-u*(l-c)/(u-g),g=u,c=l,d<0&&(d=0,u=-i),u=t.tukey.cdf(d,r,n)-i,l=d,e.abs(l-c)<s)return d;throw new Error("tukey.inv failed to converge")}})}(t,Math),function(t,e){var i=Array.prototype.push,r=t.utils.isArray;function n(e){return r(e)||e instanceof t}t.extend({add:function(e,i){return n(i)?(n(i[0])||(i=[i]),t.map(e,function(t,e,r){return t+i[e][r]})):t.map(e,function(t){return t+i})},subtract:function(e,i){return n(i)?(n(i[0])||(i=[i]),t.map(e,function(t,e,r){return t-i[e][r]||0})):t.map(e,function(t){return t-i})},divide:function(e,i){return n(i)?(n(i[0])||(i=[i]),t.multiply(e,t.inv(i))):t.map(e,function(t){return t/i})},multiply:function(e,i){var r,a,s,o,l,c,g,d;if(void 0===e.length&&void 0===i.length)return e*i;if(l=e.length,c=e[0].length,g=t.zeros(l,s=n(i)?i[0].length:c),d=0,n(i)){for(;d<s;d++)for(r=0;r<l;r++){for(o=0,a=0;a<c;a++)o+=e[r][a]*i[a][d];g[r][d]=o}return 1===l&&1===d?g[0][0]:g}return t.map(e,function(t){return t*i})},outer:function(e,i){return t.multiply(e.map(function(t){return[t]}),[i])},dot:function(e,i){n(e[0])||(e=[e]),n(i[0])||(i=[i]);for(var r,a,s=1===e[0].length&&1!==e.length?t.transpose(e):e,o=1===i[0].length&&1!==i.length?t.transpose(i):i,l=[],c=0,g=s.length,d=s[0].length;c<g;c++){for(l[c]=[],r=0,a=0;a<d;a++)r+=s[c][a]*o[c][a];l[c]=r}return 1===l.length?l[0]:l},pow:function(i,r){return t.map(i,function(t){return e.pow(t,r)})},exp:function(i){return t.map(i,function(t){return e.exp(t)})},log:function(i){return t.map(i,function(t){return e.log(t)})},abs:function(i){return t.map(i,function(t){return e.abs(t)})},norm:function(t,i){var r=0,a=0;for(isNaN(i)&&(i=2),n(t[0])&&(t=t[0]);a<t.length;a++)r+=e.pow(e.abs(t[a]),i);return e.pow(r,1/i)},angle:function(i,r){return e.acos(t.dot(i,r)/(t.norm(i)*t.norm(r)))},aug:function(t,e){var r,n=[];for(r=0;r<t.length;r++)n.push(t[r].slice());for(r=0;r<n.length;r++)i.apply(n[r],e[r]);return n},inv:function(e){for(var i,r=e.length,n=e[0].length,a=t.identity(r,n),s=t.gauss_jordan(e,a),o=[],l=0;l<r;l++)for(o[l]=[],i=n;i<s[0].length;i++)o[l][i-n]=s[l][i];return o},det:function t(e){if(2===e.length)return e[0][0]*e[1][1]-e[0][1]*e[1][0];for(var i=0,r=0;r<e.length;r++){for(var n=[],a=1;a<e.length;a++){n[a-1]=[];for(var s=0;s<e.length;s++)s<r?n[a-1][s]=e[a][s]:s>r&&(n[a-1][s-1]=e[a][s])}var o=r%2?-1:1;i+=t(n)*e[0][r]*o}return i},gauss_elimination:function(i,r){var n,a,s,o,l=0,c=0,g=i.length,d=i[0].length,u=1,B=0,F=[];for(n=(i=t.aug(i,r))[0].length,l=0;l<g;l++){for(a=i[l][l],c=l,o=l+1;o<d;o++)a<e.abs(i[o][l])&&(a=i[o][l],c=o);if(c!=l)for(o=0;o<n;o++)s=i[l][o],i[l][o]=i[c][o],i[c][o]=s;for(c=l+1;c<g;c++)for(u=i[c][l]/i[l][l],o=l;o<n;o++)i[c][o]=i[c][o]-u*i[l][o]}for(l=g-1;l>=0;l--){for(B=0,c=l+1;c<=g-1;c++)B+=F[c]*i[l][c];F[l]=(i[l][n-1]-B)/i[l][l]}return F},gauss_jordan:function(i,r){var n,a,s,o=t.aug(i,r),l=o.length,c=o[0].length,g=0;for(a=0;a<l;a++){var d=a;for(s=a+1;s<l;s++)e.abs(o[s][a])>e.abs(o[d][a])&&(d=s);var u=o[a];for(o[a]=o[d],o[d]=u,s=a+1;s<l;s++)for(g=o[s][a]/o[a][a],n=a;n<c;n++)o[s][n]-=o[a][n]*g}for(a=l-1;a>=0;a--){for(g=o[a][a],s=0;s<a;s++)for(n=c-1;n>a-1;n--)o[s][n]-=o[a][n]*o[s][a]/g;for(o[a][a]/=g,n=l;n<c;n++)o[a][n]/=g}return o},triaUpSolve:function(e,i){var r,n=e[0].length,a=t.zeros(1,n)[0],s=!1;return null!=i[0].length&&(i=i.map(function(t){return t[0]}),s=!0),t.arange(n-1,-1,-1).forEach(function(s){r=t.arange(s+1,n).map(function(t){return a[t]*e[s][t]}),a[s]=(i[s]-t.sum(r))/e[s][s]}),s?a.map(function(t){return[t]}):a},triaLowSolve:function(e,i){var r,n=e[0].length,a=t.zeros(1,n)[0],s=!1;return null!=i[0].length&&(i=i.map(function(t){return t[0]}),s=!0),t.arange(n).forEach(function(n){r=t.arange(n).map(function(t){return e[n][t]*a[t]}),a[n]=(i[n]-t.sum(r))/e[n][n]}),s?a.map(function(t){return[t]}):a},lu:function(e){var i,r=e.length,n=t.identity(r),a=t.zeros(e.length,e[0].length);return t.arange(r).forEach(function(t){a[0][t]=e[0][t]}),t.arange(1,r).forEach(function(s){t.arange(s).forEach(function(r){i=t.arange(r).map(function(t){return n[s][t]*a[t][r]}),n[s][r]=(e[s][r]-t.sum(i))/a[r][r]}),t.arange(s,r).forEach(function(r){i=t.arange(s).map(function(t){return n[s][t]*a[t][r]}),a[s][r]=e[i.length][r]-t.sum(i)})}),[n,a]},cholesky:function(i){var r,n=i.length,a=t.zeros(i.length,i[0].length);return t.arange(n).forEach(function(s){r=t.arange(s).map(function(t){return e.pow(a[s][t],2)}),a[s][s]=e.sqrt(i[s][s]-t.sum(r)),t.arange(s+1,n).forEach(function(e){r=t.arange(s).map(function(t){return a[s][t]*a[e][t]}),a[e][s]=(i[s][e]-t.sum(r))/a[s][s]})}),a},gauss_jacobi:function(i,r,n,a){for(var s,o,l,c,g=0,d=0,u=i.length,B=[],F=[],h=[];g<u;g++)for(B[g]=[],F[g]=[],h[g]=[],d=0;d<u;d++)g>d?(B[g][d]=i[g][d],F[g][d]=h[g][d]=0):g<d?(F[g][d]=i[g][d],B[g][d]=h[g][d]=0):(h[g][d]=i[g][d],B[g][d]=F[g][d]=0);for(l=t.multiply(t.multiply(t.inv(h),t.add(B,F)),-1),o=t.multiply(t.inv(h),r),s=n,c=t.add(t.multiply(l,n),o),g=2;e.abs(t.norm(t.subtract(c,s)))>a;)s=c,c=t.add(t.multiply(l,s),o),g++;return c},gauss_seidel:function(i,r,n,a){for(var s,o,l,c,g,d=0,u=i.length,B=[],F=[],h=[];d<u;d++)for(B[d]=[],F[d]=[],h[d]=[],s=0;s<u;s++)d>s?(B[d][s]=i[d][s],F[d][s]=h[d][s]=0):d<s?(F[d][s]=i[d][s],B[d][s]=h[d][s]=0):(h[d][s]=i[d][s],B[d][s]=F[d][s]=0);for(c=t.multiply(t.multiply(t.inv(t.add(h,B)),F),-1),l=t.multiply(t.inv(t.add(h,B)),r),o=n,g=t.add(t.multiply(c,n),l),d=2;e.abs(t.norm(t.subtract(g,o)))>a;)o=g,g=t.add(t.multiply(c,o),l),d+=1;return g},SOR:function(i,r,n,a,s){for(var o,l,c,g,d,u=0,B=i.length,F=[],h=[],Q=[];u<B;u++)for(F[u]=[],h[u]=[],Q[u]=[],o=0;o<B;o++)u>o?(F[u][o]=i[u][o],h[u][o]=Q[u][o]=0):u<o?(h[u][o]=i[u][o],F[u][o]=Q[u][o]=0):(Q[u][o]=i[u][o],F[u][o]=h[u][o]=0);for(g=t.multiply(t.inv(t.add(Q,t.multiply(F,s))),t.subtract(t.multiply(Q,1-s),t.multiply(h,s))),c=t.multiply(t.multiply(t.inv(t.add(Q,t.multiply(F,s))),r),s),l=n,d=t.add(t.multiply(g,n),c),u=2;e.abs(t.norm(t.subtract(d,l)))>a;)l=d,d=t.add(t.multiply(g,l),c),u++;return d},householder:function(i){for(var r,n,a,s,o=i.length,l=i[0].length,c=0,g=[],d=[];c<o-1;c++){for(r=0,s=c+1;s<l;s++)r+=i[s][c]*i[s][c];for(r=(i[c+1][c]>0?-1:1)*e.sqrt(r),n=e.sqrt((r*r-i[c+1][c]*r)/2),(g=t.zeros(o,1))[c+1][0]=(i[c+1][c]-r)/(2*n),a=c+2;a<o;a++)g[a][0]=i[a][c]/(2*n);d=t.subtract(t.identity(o,l),t.multiply(t.multiply(g,t.transpose(g)),2)),i=t.multiply(d,t.multiply(i,d))}return i},QR:function(){var i=t.sum,r=t.arange;function n(n){var a,s,o,l=n.length,c=n[0].length,g=t.zeros(c,c);for(n=t.copy(n),s=0;s<c;s++){for(g[s][s]=e.sqrt(i(r(l).map(function(t){return n[t][s]*n[t][s]}))),a=0;a<l;a++)n[a][s]=n[a][s]/g[s][s];for(o=s+1;o<c;o++)for(g[s][o]=i(r(l).map(function(t){return n[t][s]*n[t][o]})),a=0;a<l;a++)n[a][o]=n[a][o]-n[a][s]*g[s][o]}return[n,g]}return n}(),lstsq:function(){function e(e){var i=(e=t.copy(e)).length,r=t.identity(i);return t.arange(i-1,-1,-1).forEach(function(i){t.sliceAssign(r,{row:i},t.divide(t.slice(r,{row:i}),e[i][i])),t.sliceAssign(e,{row:i},t.divide(t.slice(e,{row:i}),e[i][i])),t.arange(i).forEach(function(n){var a=t.multiply(e[n][i],-1),s=t.slice(e,{row:n}),o=t.multiply(t.slice(e,{row:i}),a);t.sliceAssign(e,{row:n},t.add(s,o));var l=t.slice(r,{row:n}),c=t.multiply(t.slice(r,{row:i}),a);t.sliceAssign(r,{row:n},t.add(l,c))})}),r}function i(i,r){var n=!1;void 0===r[0].length&&(r=r.map(function(t){return[t]}),n=!0);var a=t.QR(i),s=a[0],o=a[1],l=i[0].length,c=t.slice(s,{col:{end:l}}),g=e(t.slice(o,{row:{end:l}})),d=t.transpose(c);void 0===d[0].length&&(d=[d]);var u=t.multiply(t.multiply(g,d),r);return void 0===u.length&&(u=[[u]]),n?u.map(function(t){return t[0]}):u}return i}(),jacobi:function(i){for(var r,n,a,s,o,l,c,g=1,d=i.length,u=t.identity(d,d),B=[];1===g;){for(o=i[0][1],a=0,s=1,r=0;r<d;r++)for(n=0;n<d;n++)r!=n&&o<e.abs(i[r][n])&&(o=e.abs(i[r][n]),a=r,s=n);for(l=i[a][a]===i[s][s]?i[a][s]>0?e.PI/4:-e.PI/4:e.atan(2*i[a][s]/(i[a][a]-i[s][s]))/2,(c=t.identity(d,d))[a][a]=e.cos(l),c[a][s]=-e.sin(l),c[s][a]=e.sin(l),c[s][s]=e.cos(l),u=t.multiply(u,c),i=t.multiply(t.multiply(t.inv(c),i),c),g=0,r=1;r<d;r++)for(n=1;n<d;n++)r!=n&&e.abs(i[r][n])>.001&&(g=1)}for(r=0;r<d;r++)B.push(i[r][r]);return[u,B]},rungekutta:function(t,e,i,r,n,a){var s,o,l;if(2===a)for(;r<=i;)n+=((s=e*t(r,n))+(o=e*t(r+e,n+s)))/2,r+=e;if(4===a)for(;r<=i;)n+=((s=e*t(r,n))+2*(o=e*t(r+e/2,n+s/2))+2*(l=e*t(r+e/2,n+o/2))+e*t(r+e,n+l))/6,r+=e;return n},romberg:function(t,i,r,n){for(var a,s,o,l,c,g=0,d=(r-i)/2,u=[],B=[],F=[];g<n/2;){for(c=t(i),o=i,l=0;o<=r;o+=d,l++)u[l]=o;for(a=u.length,o=1;o<a-1;o++)c+=(o%2!=0?4:2)*t(u[o]);c=d/3*(c+t(r)),F[g]=c,d/=2,g++}for(s=F.length,a=1;1!==s;){for(o=0;o<s-1;o++)B[o]=(e.pow(4,a)*F[o+1]-F[o])/(e.pow(4,a)-1);s=B.length,F=B,B=[],a++}return F},richardson:function(t,i,r,n){function a(t,e){for(var i,r=0,n=t.length;r<n;r++)t[r]===e&&(i=r);return i}for(var s,o,l,c,g,d=e.abs(r-t[a(t,r)+1]),u=0,B=[],F=[];n>=d;)s=a(t,r+n),o=a(t,r),B[u]=(i[s]-2*i[o]+i[2*o-s])/(n*n),n/=2,u++;for(c=B.length,l=1;1!=c;){for(g=0;g<c-1;g++)F[g]=(e.pow(4,l)*B[g+1]-B[g])/(e.pow(4,l)-1);c=F.length,B=F,F=[],l++}return B},simpson:function(t,e,i,r){for(var n,a=(i-e)/r,s=t(e),o=[],l=e,c=0,g=1;l<=i;l+=a,c++)o[c]=l;for(n=o.length;g<n-1;g++)s+=(g%2!=0?4:2)*t(o[g]);return a/3*(s+t(i))},hermite:function(t,e,i,r){for(var n,a=t.length,s=0,o=0,l=[],c=[],g=[],d=[];o<a;o++){for(l[o]=1,n=0;n<a;n++)o!=n&&(l[o]*=(r-t[n])/(t[o]-t[n]));for(c[o]=0,n=0;n<a;n++)o!=n&&(c[o]+=1/(t[o]-t[n]));g[o]=(1-2*(r-t[o])*c[o])*(l[o]*l[o]),d[o]=(r-t[o])*(l[o]*l[o]),s+=g[o]*e[o]+d[o]*i[o]}return s},lagrange:function(t,e,i){for(var r,n,a=0,s=0,o=t.length;s<o;s++){for(n=e[s],r=0;r<o;r++)s!=r&&(n*=(i-t[r])/(t[s]-t[r]));a+=n}return a},cubic_spline:function(e,i,r){for(var n,a=e.length,s=0,o=[],l=[],c=[],g=[],d=[],u=[],B=[];s<a-1;s++)d[s]=e[s+1]-e[s];for(c[0]=0,s=1;s<a-1;s++)c[s]=3/d[s]*(i[s+1]-i[s])-3/d[s-1]*(i[s]-i[s-1]);for(s=1;s<a-1;s++)o[s]=[],l[s]=[],o[s][s-1]=d[s-1],o[s][s]=2*(d[s-1]+d[s]),o[s][s+1]=d[s],l[s][0]=c[s];for(g=t.multiply(t.inv(o),l),n=0;n<a-1;n++)u[n]=(i[n+1]-i[n])/d[n]-d[n]*(g[n+1][0]+2*g[n][0])/3,B[n]=(g[n+1][0]-g[n][0])/(3*d[n]);for(n=0;n<a&&!(e[n]>r);n++);return i[n-=1]+(r-e[n])*u[n]+t.sq(r-e[n])*g[n]+(r-e[n])*t.sq(r-e[n])*B[n]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){var i,r,n=e.length,a=e[0].length,s=0,o=[],l=[],c=[],g=[],d=[],u=[],B=[],F=[],h=[],Q=[];for(s=0;s<n;s++)o[s]=t.sum(e[s])/a;for(s=0;s<a;s++)for(B[s]=[],i=0;i<n;i++)B[s][i]=e[i][s]-o[i];for(B=t.transpose(B),s=0;s<n;s++)for(F[s]=[],i=0;i<n;i++)F[s][i]=t.dot([B[s]],[B[i]])/(a-1);for(h=(c=t.jacobi(F))[0],l=c[1],Q=t.transpose(h),s=0;s<l.length;s++)for(i=s;i<l.length;i++)l[s]<l[i]&&(r=l[s],l[s]=l[i],l[i]=r,g=Q[s],Q[s]=Q[i],Q[i]=g);for(u=t.transpose(B),s=0;s<n;s++)for(d[s]=[],i=0;i<u.length;i++)d[s][i]=t.dot([Q[s]],[u[i]]);return[e,l,Q,d]}}),function(e){for(var i=0;i<e.length;i++)(function(e){t.fn[e]=function(i,r){var n=this;return r?(setTimeout(function(){r.call(n,t.fn[e].call(n,i))},15),this):"number"==typeof t[e](this,i)?t[e](this,i):t(t[e](this,i))}})(e[i])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(t,Math),function(t,e){var i=[].slice,r=t.utils.isNumber,n=t.utils.isArray;function a(t,i,r,n){if(t>1||r>1||t<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var a=(t*i+r*n)/(i+n);return(t-r)/e.sqrt(a*(1-a)*(1/i+1/n))}t.extend({zscore:function(){var e=i.call(arguments);return r(e[1])?(e[0]-e[1])/e[2]:(e[0]-t.mean(e[1]))/t.stdev(e[1],e[2])},ztest:function(){var r,a=i.call(arguments);return n(a[1])?(r=t.zscore(a[0],a[1],a[3]),1===a[2]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):a.length>2?(r=t.zscore(a[0],a[1],a[2]),1===a[3]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):(r=a[0],1===a[1]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1))}}),t.extend(t.fn,{zscore:function(t,e){return(t-this.mean())/this.stdev(e)},ztest:function(i,r,n){var a=e.abs(this.zscore(i,n));return 1===r?t.normal.cdf(-a,0,1):2*t.normal.cdf(-a,0,1)}}),t.extend({tscore:function(){var r=i.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/e.sqrt(r[3])):(r[0]-t.mean(r[1]))/(t.stdev(r[1],!0)/e.sqrt(r[1].length))},ttest:function(){var n,a=i.call(arguments);return 5===a.length?(n=e.abs(t.tscore(a[0],a[1],a[2],a[3])),1===a[4]?t.studentt.cdf(-n,a[3]-1):2*t.studentt.cdf(-n,a[3]-1)):r(a[1])?(n=e.abs(a[0]),1==a[2]?t.studentt.cdf(-n,a[1]-1):2*t.studentt.cdf(-n,a[1]-1)):(n=e.abs(t.tscore(a[0],a[1])),1==a[2]?t.studentt.cdf(-n,a[1].length-1):2*t.studentt.cdf(-n,a[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(i,r){return 1===r?1-t.studentt.cdf(e.abs(this.tscore(i)),this.cols()-1):2*t.studentt.cdf(-e.abs(this.tscore(i)),this.cols()-1)}}),t.extend({anovafscore:function(){var r,n,a,s,o,l,c,g,d=i.call(arguments);if(1===d.length){for(o=new Array(d[0].length),c=0;c<d[0].length;c++)o[c]=d[0][c];d=o}for(n=new Array,c=0;c<d.length;c++)n=n.concat(d[c]);for(a=t.mean(n),r=0,c=0;c<d.length;c++)r+=d[c].length*e.pow(t.mean(d[c])-a,2);for(r/=d.length-1,l=0,c=0;c<d.length;c++)for(s=t.mean(d[c]),g=0;g<d[c].length;g++)l+=e.pow(d[c][g]-s,2);return r/(l/=n.length-d.length)},anovaftest:function(){var e,n,a,s,o=i.call(arguments);if(r(o[0]))return 1-t.centralF.cdf(o[0],o[1],o[2]);var l=t.anovafscore(o);for(e=o.length-1,a=0,s=0;s<o.length;s++)a+=o[s].length;return n=a-e-1,1-t.centralF.cdf(l,e,n)},ftest:function(e,i,r){return 1-t.centralF.cdf(e,i,r)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var e,i=0;for(e=0;e<this.length;e++)i+=this[e].length;return t.ftest(this.anovafscore(),this.length-1,i-this.length)}}),t.extend({qscore:function(){var n,a,s,o,l,c=i.call(arguments);return r(c[0])?(n=c[0],a=c[1],s=c[2],o=c[3],l=c[4]):(n=t.mean(c[0]),a=t.mean(c[1]),s=c[0].length,o=c[1].length,l=c[2]),e.abs(n-a)/(l*e.sqrt((1/s+1/o)/2))},qtest:function(){var e,r=i.call(arguments);3===r.length?(e=r[0],r=r.slice(1)):7===r.length?(e=t.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(e=t.qscore(r[0],r[1],r[2]),r=r.slice(3));var n=r[0],a=r[1];return 1-t.tukey.cdf(e,a,n-a)},tukeyhsd:function(e){for(var i=t.pooledstdev(e),r=e.map(function(e){return t.mean(e)}),n=e.reduce(function(t,e){return t+e.length},0),a=[],s=0;s<e.length;++s)for(var o=s+1;o<e.length;++o){var l=t.qtest(r[s],r[o],e[s].length,e[o].length,i,n,e.length);a.push([[s,o],l])}return a}}),t.extend({normalci:function(){var r,n=i.call(arguments),a=new Array(2);return r=4===n.length?e.abs(t.normal.inv(n[1]/2,0,1)*n[2]/e.sqrt(n[3])):e.abs(t.normal.inv(n[1]/2,0,1)*t.stdev(n[2])/e.sqrt(n[2].length)),a[0]=n[0]-r,a[1]=n[0]+r,a},tci:function(){var r,n=i.call(arguments),a=new Array(2);return r=4===n.length?e.abs(t.studentt.inv(n[1]/2,n[3]-1)*n[2]/e.sqrt(n[3])):e.abs(t.studentt.inv(n[1]/2,n[2].length-1)*t.stdev(n[2],!0)/e.sqrt(n[2].length)),a[0]=n[0]-r,a[1]=n[0]+r,a},significant:function(t,e){return t<e}}),t.extend(t.fn,{normalci:function(e,i){return t.normalci(e,i,this.toArray())},tci:function(e,i){return t.tci(e,i,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(e,i,r,n){var s=a(e,i,r,n);return t.ztest(s,1)},twoSidedDifferenceOfProportions:function(e,i,r,n){var s=a(e,i,r,n);return t.ztest(s,2)}})}(t,Math),t.models=function(){function e(e){var r=e[0].length,n=t.arange(r).map(function(n){var a=t.arange(r).filter(function(t){return t!==n});return i(t.col(e,n).map(function(t){return t[0]}),t.col(e,a))});return n}function i(e,i){var r=e.length,n=i[0].length-1,a=r-n-1,s=t.lstsq(i,e),o=t.multiply(i,s.map(function(t){return[t]})).map(function(t){return t[0]}),l=t.subtract(e,o),c=t.mean(e),g=t.sum(o.map(function(t){return Math.pow(t-c,2)})),d=t.sum(e.map(function(t,e){return Math.pow(t-o[e],2)})),u=g+d;return{exog:i,endog:e,nobs:r,df_model:n,df_resid:a,coef:s,predict:o,resid:l,ybar:c,SST:u,SSE:g,SSR:d,R2:g/u}}function r(i){var r=e(i.exog),n=Math.sqrt(i.SSR/i.df_resid),a=r.map(function(t){var e=t.SST,i=t.R2;return n/Math.sqrt(e*(1-i))}),s=i.coef.map(function(t,e){return(t-0)/a[e]}),o=s.map(function(e){var r=t.studentt.cdf(e,i.df_resid);return 2*(r>.5?1-r:r)}),l=t.studentt.inv(.975,i.df_resid),c=i.coef.map(function(t,e){var i=l*a[e];return[t-i,t+i]});return{se:a,t:s,p:o,sigmaHat:n,interval95:c}}function n(e){var i=e.R2/e.df_model/((1-e.R2)/e.df_resid),r=function(e,i,r){return t.beta.cdf(e/(r/i+e),i/2,r/2)};return{F_statistic:i,pvalue:1-r(i,e.df_model,e.df_resid)}}function a(t,e){var a=i(t,e),s=r(a),o=n(a),l=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=s,a.f=o,a.adjust_R2=l,a}return{ols:a}}(),t.extend({buildxmatrix:function(){for(var e=new Array(arguments.length),i=0;i<arguments.length;i++){var r=[1];e[i]=r.concat(arguments[i])}return t(e)},builddxmatrix:function(){for(var e=new Array(arguments[0].length),i=0;i<arguments[0].length;i++){var r=[1];e[i]=r.concat(arguments[0][i])}return t(e)},buildjxmatrix:function(e){for(var i=new Array(e.length),r=0;r<e.length;r++)i[r]=e[r];return t.builddxmatrix(i)},buildymatrix:function(e){return t(e).transpose()},buildjymatrix:function(t){return t.transpose()},matrixmult:function(e,i){var r,n,a,s,o;if(e.cols()==i.rows()){if(i.rows()>1){for(s=[],r=0;r<e.rows();r++)for(s[r]=[],n=0;n<i.cols();n++){for(o=0,a=0;a<e.cols();a++)o+=e.toArray()[r][a]*i.toArray()[a][n];s[r][n]=o}return t(s)}for(s=[],r=0;r<e.rows();r++)for(s[r]=[],n=0;n<i.cols();n++){for(o=0,a=0;a<e.cols();a++)o+=e.toArray()[r][a]*i.toArray()[n];s[r][n]=o}return t(s)}},regress:function(e,i){var r=t.xtranspxinv(e),n=e.transpose(),a=t.matrixmult(t(r),n);return t.matrixmult(a,i)},regresst:function(e,i,r){var n=t.regress(e,i),a={anova:{}},s=t.jMatYBar(e,n);a.yBar=s;var o=i.mean();a.anova.residuals=t.residuals(i,s),a.anova.ssr=t.ssr(s,o),a.anova.msr=a.anova.ssr/(e[0].length-1),a.anova.sse=t.sse(i,s),a.anova.mse=a.anova.sse/(i.length-(e[0].length-1)-1),a.anova.sst=t.sst(i,o),a.anova.mst=a.anova.sst/(i.length-1),a.anova.r2=1-a.anova.sse/a.anova.sst,a.anova.r2<0&&(a.anova.r2=0),a.anova.fratio=a.anova.msr/a.anova.mse,a.anova.pvalue=t.anovaftest(a.anova.fratio,e[0].length-1,i.length-(e[0].length-1)-1),a.anova.rmse=Math.sqrt(a.anova.mse),a.anova.r2adj=1-a.anova.mse/a.anova.mst,a.anova.r2adj<0&&(a.anova.r2adj=0),a.stats=new Array(e[0].length);for(var l,c,g,d=t.xtranspxinv(e),u=0;u<n.length;u++)l=Math.sqrt(a.anova.mse*Math.abs(d[u][u])),c=Math.abs(n[u]/l),g=t.ttest(c,i.length-e[0].length-1,r),a.stats[u]=[n[u],l,c,g];return a.regress=n,a},xtranspx:function(e){return t.matrixmult(e.transpose(),e)},xtranspxinv:function(e){var i=t.matrixmult(e.transpose(),e);return t.inv(i)},jMatYBar:function(e,i){var r=t.matrixmult(e,i);return new t(r)},residuals:function(e,i){return t.matrixsubtract(e,i)},ssr:function(t,e){for(var i=0,r=0;r<t.length;r++)i+=Math.pow(t[r]-e,2);return i},sse:function(t,e){for(var i=0,r=0;r<t.length;r++)i+=Math.pow(t[r]-e[r],2);return i},sst:function(t,e){for(var i=0,r=0;r<t.length;r++)i+=Math.pow(t[r]-e,2);return i},matrixsubtract:function(e,i){for(var r=new Array(e.length),n=0;n<e.length;n++){r[n]=new Array(e[n].length);for(var a=0;a<e[n].length;a++)r[n][a]=e[n][a]-i[n][a]}return t(r)}}),t.jStat=t,t}();var jstatExports=jstat$1.exports,jStat=getDefaultExportFromCjs(jstatExports);class SDTMath{static d={DEFAULT:1,MIN:-6,MAX:6,STEP:.01,JUMP:.1};static c={DEFAULT:0,MIN:-3,MAX:3,STEP:.01,JUMP:.1};static s={DEFAULT:1,MIN:.8,MAX:40,STEP:.01,JUMP:.05};static hM2Hr(t,e){return 0===t&&0===e?0:t/(t+e)}static faCr2Far(t,e){return 0===t&&0===e?0:t/(t+e)}static hMFaCr2Acc(t,e,i,r){return 0===t&&0===e&&0===i&&0===r?0:(t+r)/(t+e+i+r)}static hrFar2Acc(t,e){return(t+(1-e))/2}static hFa2Ppv(t,e){return 0===t&&0===e?0:t/(t+e)}static mCr2Fomr(t,e){return 0===t&&0===e?0:t/(t+e)}static hrFar2D(t,e,i=1){return 1===i?jStat.normal.inv(t,0,1)-jStat.normal.inv(e,0,1):Math.sqrt(2/(i*i+1))*(i*jStat.normal.inv(t,0,1)-jStat.normal.inv(e,0,1))}static hrFar2C(t,e,i=1){return 1===i?-(jStat.normal.inv(t,0,1)+jStat.normal.inv(e,0,1))/2:Math.sqrt(2/(i*i+1))*(i/(i+1))*-(jStat.normal.inv(t,0,1)+jStat.normal.inv(e,0,1))}static dC2Hr(t,e,i=1){return 1===i?jStat.normal.cdf(t/2-e,0,1):jStat.normal.cdf(Math.sqrt((i*i+1)/2)*(t/(1+i)-e/i),0,1)}static dC2Far(t,e,i=1){return 1===i?jStat.normal.cdf(-(t/2+e),0,1):jStat.normal.cdf(Math.sqrt((i*i+1)/2)*-(t/(1+i)+e),0,1)}static dFar2Hr(t,e,i=1){return 1===i?jStat.normal.cdf(t+jStat.normal.inv(e,0,1),0,1):jStat.normal.cdf((Math.sqrt((i*i+1)/2)*t+jStat.normal.inv(e,0,1))/i,0,1)}static cFar2Hr(t,e,i=1){return 1===i?jStat.normal.cdf(-2*t-jStat.normal.inv(e,0,1),0,1):jStat.normal.cdf(-Math.sqrt((i*i+1)/2)*((i+1)/i)*t-jStat.normal.inv(e,0,1),0,1)}static d2MuN(t,e=1){return 1===e?-t/2:-Math.sqrt((e*e+1)/2)*(1/(e+1))*t}static muN2D(t,e=1){return 1===e?-2*t:-Math.sqrt(2/(e*e+1))*(e+1)*t}static d2MuS(t,e=1){return 1===e?t/2:Math.sqrt((e*e+1)/2)*(e/(e+1))*t}static muS2D(t,e=1){return 1===e?2*t:Math.sqrt(2/(e*e+1))*((e+1)/e)*t}static c2L(t,e=1){return 1===e?t:Math.sqrt((e*e+1)/2)*t}static l2C(t,e=1){return 1===e?t:Math.sqrt(2/(e*e+1))*t}static s2H(t=1){return 1/(t*Math.sqrt(2*Math.PI))}static h2S(t){return 1/(t*Math.sqrt(2*Math.PI))}static hr2Zhr(t){return jStat.normal.inv(t,0,1)}static far2Zfar(t){return jStat.normal.inv(t,0,1)}static zhr2Hr(t){return jStat.normal.cdf(t,0,1)}static zfar2Far(t){return jStat.normal.cdf(t,0,1)}}class DetectableTable extends DetectableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},summary:{attribute:"summary",converter:DecidablesConverterSet,reflect:!0},color:{attribute:"color",type:String,reflect:!0},h:{attribute:"hits",type:Number,reflect:!0},m:{attribute:"misses",type:Number,reflect:!0},fa:{attribute:"false-alarms",type:Number,reflect:!0},cr:{attribute:"correct-rejections",type:Number,reflect:!0},payoff:{attribute:"payoff",type:Boolean,reflect:!0},hPayoff:{attribute:"hit-payoff",type:Number,reflect:!0},mPayoff:{attribute:"miss-payoff",type:Number,reflect:!0},faPayoff:{attribute:"false-alarm-payoff",type:Number,reflect:!0},crPayoff:{attribute:"correct-rejection-payoff",type:Number,reflect:!0},far:{attribute:!1,type:Number,reflect:!1},hr:{attribute:!1,type:Number,reflect:!1},acc:{attribute:!1,type:Number,reflect:!1},ppv:{attribute:!1,type:Number,reflect:!1},fomr:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.numeric=!1,this.summaries=["stimulusRates","responseRates","accuracy"],this.summary=new Set,this.colors=["none","accuracy","stimulus","response","outcome","all"],this.color="all",this.payoff=!1,this.hPayoff=void 0,this.mPayoff=void 0,this.crPayoff=void 0,this.faPayoff=void 0,this.h=40,this.m=60,this.fa=75,this.cr=25,this.alignState()}alignState(){this.hr=SDTMath.hM2Hr(this.h,this.m),this.far=SDTMath.faCr2Far(this.fa,this.cr),this.acc=SDTMath.hMFaCr2Acc(this.h,this.m,this.fa,this.cr),this.ppv=SDTMath.hFa2Ppv(this.h,this.fa),this.fomr=SDTMath.mCr2Fomr(this.m,this.cr)}sendEvent(){this.dispatchEvent(new CustomEvent("detectable-table-change",{detail:{h:this.h,m:this.m,hr:this.hr,fa:this.fa,cr:this.cr,far:this.far,acc:this.acc,ppv:this.ppv,fomr:this.fomr},bubbles:!0}))}hInput(t){this.h=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}mInput(t){this.m=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}faInput(t){this.fa=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}crInput(t){this.cr=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}hrInput(t){const e=parseFloat(t.target.value),i=this.h+this.m;this.h=Math.round(e*i),this.m=i-this.h,this.alignState(),this.sendEvent()}farInput(t){const e=parseFloat(t.target.value),i=this.fa+this.cr;this.fa=Math.round(e*i),this.cr=i-this.fa,this.alignState(),this.sendEvent()}accInput(t){const e=parseFloat(t.target.value),i=this.h+this.m,r=this.fa+this.cr,n=(this.hr+this.far-1)/2;let a=n+e,s=1+n-e;s>1&&(s=1,a=s+2*e-1),s<0&&(s=0,a=s+2*e-1),a>1&&(a=1,s=a-2*e+1),a<0&&(a=0,s=a-2*e+1),this.h=Math.round(a*i),this.m=i-this.h,this.fa=Math.round(s*r),this.cr=r-this.fa,this.alignState(),this.sendEvent()}ppvInput(t){const e=parseFloat(t.target.value),i=this.h+this.fa;this.h=Math.round(e*i),this.fa=i-this.h,this.alignState(),this.sendEvent()}fomrInput(t){const e=parseFloat(t.target.value),i=this.m+this.cr;this.m=Math.round(e*i),this.cr=i-this.m,this.alignState(),this.sendEvent()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        /* Overall element */
        table {
          text-align: center;

          border-collapse: collapse;

          border: 0;
        }

        /* Headers */
        .th-main {
          padding: 0;

          font-weight: bold;
        }

        .th-sub {
          padding: 0 0.25rem;

          font-weight: 600;
        }

        .th-left {
          padding-left: 0;

          text-align: right;
        }

        /* Cells */
        .td {
          width: 10rem;

          padding: 0.25rem 0.25rem 0.375rem;

          transition: all var(---transition-duration) ease;
        }

        .numeric .td {
          width: 7rem;
        }

        /* Labels */
        .payoff {
          font-weight: 600;
          line-height: 0.75rem;
        }

        /* User interaction <input> */
        .td-data decidables-spinner {
          --decidables-spinner-input-width: 3.5rem;
        }

        .td-summary decidables-spinner {
          --decidables-spinner-input-width: 4.5rem;
        }

        /* Color schemes & Table emphasis */

        /* (Default) All color scheme */
        .h {
          background: var(---color-h-light);
          border-top: 2px solid var(---color-element-emphasis);
          border-left: 2px solid var(---color-element-emphasis);
        }

        .m {
          background: var(---color-m-light);
          border-top: 2px solid var(---color-element-emphasis);
          border-right: 2px solid var(---color-element-emphasis);
        }

        .fa {
          background: var(---color-fa-light);
          border-bottom: 2px solid var(---color-element-emphasis);
          border-left: 2px solid var(---color-element-emphasis);
        }

        .cr {
          background: var(---color-cr-light);
          border-right: 2px solid var(---color-element-emphasis);
          border-bottom: 2px solid var(---color-element-emphasis);
        }

        .hr {
          background: var(---color-hr-light);
        }

        .far {
          background: var(---color-far-light);
        }

        .acc {
          background: var(---color-acc-light);
        }

        .ppv {
          background: var(---color-present-light);
        }

        .fomr {
          background: var(---color-absent-light);
        }

        /* Accuracy color scheme */
        :host([color="accuracy"]) .h,
        :host([color="accuracy"]) .cr {
          background: var(---color-correct-light);
        }

        :host([color="accuracy"]) .m,
        :host([color="accuracy"]) .fa {
          color: var(---color-text-inverse);

          background: var(---color-error-light);
        }

        :host([color="accuracy"]) .hr,
        :host([color="accuracy"]) .far,
        :host([color="accuracy"]) .ppv,
        :host([color="accuracy"]) .fomr {
          background: var(---color-element-background);
        }

        /* Stimulus color scheme */
        :host([color="stimulus"]) .cr,
        :host([color="stimulus"]) .fa {
          background: var(---color-far-light);
        }

        :host([color="stimulus"]) .m,
        :host([color="stimulus"]) .h {
          background: var(---color-hr-light);
        }

        :host([color="stimulus"]) .ppv,
        :host([color="stimulus"]) .fomr,
        :host([color="stimulus"]) .acc {
          background: var(---color-element-background);
        }

        /* Response color scheme */
        :host([color="response"]) .cr,
        :host([color="response"]) .m {
          background: var(---color-absent-light);
        }

        :host([color="response"]) .fa,
        :host([color="response"]) .h {
          background: var(---color-present-light);
        }

        :host([color="response"]) .hr,
        :host([color="response"]) .far,
        :host([color="response"]) .acc {
          background: var(---color-element-background);
        }

        /* Outcome color scheme */
        :host([color="outcome"]) .hr,
        :host([color="outcome"]) .far,
        :host([color="outcome"]) .ppv,
        :host([color="outcome"]) .fomr,
        :host([color="outcome"]) .acc {
          background: var(---color-element-background);
        }

        /* No color scheme */
        :host([color="none"]) .cr,
        :host([color="none"]) .fa,
        :host([color="none"]) .m,
        :host([color="none"]) .h,
        :host([color="none"]) .hr,
        :host([color="none"]) .far,
        :host([color="none"]) .ppv,
        :host([color="none"]) .fomr,
        :host([color="none"]) .acc {
          background: var(---color-element-background);
        }
      `]}willUpdate(){this.alignState()}render(){const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),e=e=>t.formatToParts(e).map(({type:t,value:e})=>"minusSign"===t?"â":e).reduce((t,e)=>t+e);let i,r,n,a,s,o,l,c,g;return this.numeric?(i=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${this.h}" @input=${this.hInput.bind(this)}>
          <span>Hits</span>
          ${this.payoff?x$2`<span class="payoff">${e(this.hPayoff)}</span>`:x$2``}
        </decidables-spinner>
      `,r=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${this.m}" @input=${this.mInput.bind(this)}>
          <span>Misses</span>
          ${this.payoff?x$2`<span class="payoff">${e(this.mPayoff)}</span>`:x$2``}
        </decidables-spinner>
      `,n=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${this.fa}" @input=${this.faInput.bind(this)}>
          <span>False Alarms</span>
          ${this.payoff?x$2`<span class="payoff">${e(this.faPayoff)}</span>`:x$2``}
        </decidables-spinner>
      `,a=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${this.cr}" @input=${this.crInput.bind(this)}>
          <span>Correct Rejections</span>
          ${this.payoff?x$2`<span class="payoff">${e(this.crPayoff)}</span>`:x$2``}
        </decidables-spinner>
      `,s=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" max="1" step=".001" .value="${+this.hr.toFixed(3)}" @input=${this.hrInput.bind(this)}>
          <span>Hit Rate</span>
        </decidables-spinner>
      `,o=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" max="1" step=".001" .value="${+this.far.toFixed(3)}" @input=${this.farInput.bind(this)}>
          <span>False Alarm Rate</span>
        </decidables-spinner>
      `,l=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" max="1" step=".001" .value="${+this.acc.toFixed(3)}" @input=${this.accInput.bind(this)}>
          <span>Accuracy</span>
        </decidables-spinner>
      `,c=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" max="1" step=".001" .value="${+this.ppv.toFixed(3)}" @input=${this.ppvInput.bind(this)}>
          <span>Positive Predictive Value</span>
        </decidables-spinner>
      `,g=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" max="1" step=".001" .value="${+this.fomr.toFixed(3)}" @input=${this.fomrInput.bind(this)}>
          <span>False Omission Rate</span>
        </decidables-spinner>
      `):(i=x$2`<span>Hits</span>
        ${this.payoff?x$2`<span class="payoff">${e(this.hPayoff)}</span>`:x$2``}`,r=x$2`<span>Misses</span>
        ${this.payoff?x$2`<span class="payoff">${e(this.mPayoff)}</span>`:x$2``}`,n=x$2`<span>False Alarms</span>
        ${this.payoff?x$2`<span class="payoff">${e(this.faPayoff)}</span>`:x$2``}`,a=x$2`<span>Correct Rejections</span>
        ${this.payoff?x$2`<span class="payoff">${e(this.crPayoff)}</span>`:x$2``}`,s=x$2`<span>Hit Rate</span>`,o=x$2`<span>False Alarm Rate</span>`,l=x$2`<span>Accuracy</span>`,c=x$2`<span>Positive Predictive Value</span>`,g=x$2`<span>False Omission Rate</span>`),x$2`
      <table class=${this.numeric?"numeric":""}>
        <thead>
          <tr>
            <th colspan="2" rowspan="2"></th>
            <th class="th th-main" colspan="2" scope="col">
              Response
            </th>
          </tr>
          <tr>
            <th class="th th-sub" scope="col">
              âPresentâ
            </th>
            <th class="th th-sub" scope="col">
              âAbsentâ
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="th th-main" rowspan="2" scope="row">
              Signal
            </th>
            <th class="th th-sub th-left" scope="row">
              Present
            </th>
            <td class="td td-data h">
              ${i}
            </td>
            <td class="td td-data m">
              ${r}
            </td>
            ${this.summary.has("stimulusRates")?x$2`
                <td class="td td-summary hr">
                  ${s}
                </td>`:x$2``}
          </tr>
          <tr>
            <th class="th th-sub th-left" scope="row">
              Absent
            </th>
            <td class="td td-data fa">
              ${n}
            </td>
            <td class="td td-data cr">
              ${a}
            </td>
            ${this.summary.has("stimulusRates")?x$2`
                <td class="td td-summary far">
                  ${o}
                </td>`:x$2``}
          </tr>
          ${this.summary.has("responseRates")||this.summary.has("accuracy")?x$2`
              <tr>
                <td colspan="2"></td>
                ${this.summary.has("responseRates")?x$2`
                    <td class="td td-summary ppv">
                      ${c}
                    </td>
                    <td class="td td-summary fomr">
                      ${g}
                    </td>`:x$2`
                    <td colspan="2"></td>`}
                ${this.summary.has("accuracy")?x$2`
                    <td class="td td-summary acc" rowspan="2">
                      ${l}
                    </td>`:x$2``}
              </tr>`:x$2``}
        </tbody>
      </table>`}}customElements.define("detectable-table",DetectableTable);class RDKTask extends(DecidablesMixinResizeable(DetectableElement)){static get properties(){return{coherence:{attribute:"coherence",type:Number,reflect:!0},count:{attribute:"count",type:Number,reflect:!0},probability:{attribute:"probability",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},wait:{attribute:"wait",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},direction:{attribute:!1,type:Number,reflect:!1},lifetime:{attribute:!1,type:Number,reflect:!1},speed:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.coherence=.5,this.count=100,this.probability=.5,this.duration=2e3,this.wait=2e3,this.iti=2e3,this.trials=5,this.running=!1,this.direction=-1,this.lifetime=400,this.speed=50,this.firstUpdate=!0,this.COHERENT=0,this.RANDOM=1,this.dots=[[],[]],this.trial=0,this.states=["resetted","iti","stimulus","wait","ended"],this.state="resetted",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.currentDirection=void 0,this.signals=["present","absent"],this.signal=void 0,this.runner=void 0,this.xScale=void 0,this.yScale=void 0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 10rem;
          height: 10rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        .background {
          fill: var(---color-element-disabled);
          stroke: none;
        }

        .outline {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2px;
        }

        .dot {
          r: 2px;
        }

        .dots.coherent {
          fill: var(---color-background);
        }

        .dots.random {
          fill: var(---color-background);
        }

        .fixation {
          stroke: var(---color-text);
          stroke-width: 2px;
        }

        .query {
          font-size: 1.75rem;
          font-weight: 600;
        }
      `]}render(){return x$2``}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height,r=Math.min(e,i),n=.25*this.rem,a=.25*this.rem,s=.25*this.rem,o=r-(n+a),l=r-(s+.25*this.rem);this.xScale=linear().domain([-1,1]).range([0,l]),this.yScale=linear().domain([1,-1]).range([0,o]);const c=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),g=c.enter().append("svg").classed("main",!0),d=g.merge(c).attr("viewBox",`0 0 ${r} ${r}`);g.append("clipPath").attr("id","clip-rdk-task").append("circle"),d.select("clipPath circle").attr("cx",this.xScale(0)).attr("cy",this.yScale(0)).attr("r",this.xScale(1)-this.xScale(0));const u=g.append("g").classed("plot",!0),B=d.select(".plot").attr("transform",`translate(${s}, ${n})`),F=u.append("g").classed("underlayer",!0),h=B.select(".underlayer");F.append("circle").classed("background",!0),h.select(".background").attr("cx",this.xScale(0)).attr("cy",this.yScale(0)).attr("r",this.xScale(1)-this.xScale(0)),u.append("g").classed("content",!0).attr("clip-path","url(#clip-rdk-task)");B.select(".content").selectAll(".dots").data([[],[]]).enter().append("g").classed("dots",!0).classed("coherent",(t,e)=>e===this.COHERENT).classed("random",(t,e)=>e===this.RANDOM);const Q=u.append("g").classed("overlayer",!0),U=B.select(".overlayer");Q.append("circle").classed("outline",!0),U.select(".outline").attr("cx",this.xScale(0)).attr("cy",this.yScale(0)).attr("r",this.xScale(1)-this.yScale(0)),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=now()-this.pauseTime,this.pauseTime=0),this.runner=interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=now())),this.firstUpdate=!1}reset(){void 0!==this.runner&&this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.signal=void 0,this.currentDirection=void 0;const t=select$5(this.renderRoot).select(".content").selectAll(".dots").data([[],[]]).selectAll(".dot").data(t=>t);t.exit().remove();select$5(this.renderRoot).select(".content").selectAll(".fixation").data([]).exit().remove();select$5(this.renderRoot).select(".content").selectAll(".query").data([]).exit().remove()}run(){const t=now(),e=this.baseTime?t-this.baseTime:0,i=this.baseTime?e-this.startTime:0,r=this.baseTime?e-this.lastTime:0;this.lastTime=e;let n=!1;if("resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("rdk-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&i>=this.iti?(n=!0,this.trial+=1,this.state="stimulus",this.startTime=e,this.signal=Math.random()<this.probability?"present":"absent",this.currentDirection="absent"===this.signal?void 0:this.direction>=0?this.direction:360*Math.random(),this.dispatchEvent(new CustomEvent("rdk-trial-start",{detail:{trials:this.trials,duration:this.duration,wait:this.wait,iti:this.iti,trial:this.trial,signal:this.signal},bubbles:!0}))):"stimulus"===this.state&&i>=this.duration?(this.state="wait",this.startTime=e,this.dispatchEvent(new CustomEvent("rdk-trial-middle",{detail:{trials:this.trials,duration:this.duration,wait:this.wait,iti:this.iti,trial:this.trial,signal:this.signal},bubbles:!0}))):"wait"===this.state&&i>=this.wait&&(this.dispatchEvent(new CustomEvent("rdk-trial-end",{detail:{trials:this.trials,duration:this.duration,wait:this.wait,iti:this.iti,trial:this.trial,signal:this.signal},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.signal=void 0,this.currentDirection=void 0,this.dispatchEvent(new CustomEvent("rdk-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e)),"stimulus"===this.state){this.dots[this.COHERENT].length="present"===this.signal?Math.round(this.count*this.coherence):0,this.dots[this.RANDOM].length="present"===this.signal?this.count-this.dots[this.COHERENT].length:this.count;for(let t=0;t<this.dots.length;t+=1)for(let i=0;i<this.dots[t].length;i+=1){const a=void 0===this.dots[t][i];a&&(this.dots[t][i]={});const s=this.dots[t][i];if(n||a){s.direction=t===this.RANDOM?360*Math.random():this.currentDirection,s.birth=e-Math.floor(Math.random()*this.lifetime);const i=2*Math.random()*Math.PI,r=Math.sqrt(Math.random());s.x=this.xScale(r*Math.cos(i)),s.y=this.yScale(r*Math.sin(i))}else if(e>s.birth+this.lifetime){s.birth+=this.lifetime,s.direction=t===this.RANDOM?360*Math.random():this.currentDirection;const e=2*Math.random()*Math.PI,i=Math.sqrt(Math.random());s.x=this.xScale(i*Math.cos(e)),s.y=this.yScale(i*Math.sin(e))}else{t===this.COHERENT&&(s.direction=this.currentDirection);const e=s.direction*(Math.PI/180);s.dx=this.speed*(r/1e3)*Math.cos(e),s.dy=this.speed*(r/1e3)*Math.sin(e),s.x+=s.dx,s.y+=s.dy;(s.x-this.xScale(0))**2+(s.y-this.yScale(0))**2>(this.xScale(1)-this.xScale(0))**2&&(s.x=-(s.x-this.xScale(0))+this.xScale(0),s.y=-(s.y-this.yScale(0))+this.yScale(0))}}}const a=select$5(this.renderRoot).select(".content").selectAll(".fixation").data("iti"===this.state?[!0]:[]),s=a.enter().append("g").classed("fixation",!0);s.append("line").attr("x1",this.xScale(-.1)).attr("y1",this.xScale(0)).attr("x2",this.xScale(.1)).attr("y2",this.xScale(0)),s.append("line").attr("x1",this.xScale(0)).attr("y1",this.xScale(-.1)).attr("x2",this.xScale(0)).attr("y2",this.xScale(.1)),a.exit().remove();const o=select$5(this.renderRoot).select(".content").selectAll(".dots").data("stimulus"===this.state?this.dots:[[],[]]).selectAll(".dot").data(t=>t);o.enter().append("circle").classed("dot",!0).merge(o).attr("cx",t=>t.x).attr("cy",t=>t.y),o.exit().remove();const l=select$5(this.renderRoot).select(".content").selectAll(".query").data("wait"===this.state?[!0]:[]);l.enter().append("g").classed("query",!0).append("text").attr("x",this.xScale(0)).attr("y",this.xScale(0)).attr("text-anchor","middle").attr("alignment-baseline","middle").text("?"),l.exit().remove()}}customElements.define("rdk-task",RDKTask);class ROCSpace extends(DecidablesMixinResizeable(DetectableElement)){static get properties(){return{contour:{attribute:"contour",type:String,reflect:!0},point:{attribute:"point",type:String,reflect:!0},isoD:{attribute:"iso-d",type:String,reflect:!0},isoC:{attribute:"iso-c",type:String,reflect:!0},zRoc:{attribute:"z-roc",type:Boolean,reflect:!0},far:{attribute:"far",type:Number,reflect:!0},hr:{attribute:"hr",type:Number,reflect:!0},d:{attribute:!1,type:Number,reflect:!1},c:{attribute:!1,type:Number,reflect:!1},s:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.sdt=!1,this.contours=["sensitivity","bias","accuracy"],this.contour=void 0,this.points=["all","first","rest","none"],this.point="all",this.isoDs=["all","first","rest","none"],this.isoD="first",this.isoCs=["all","first","rest","none"],this.isoC="first",this.zRoc=!1,this.far=.25,this.hr=.75,this.s=SDTMath.s.DEFAULT,this.label="",this.locations=[{name:"default",far:this.far,hr:this.hr,s:this.s,label:""}],this.pointArray=[],this.isoDArray=[],this.isoCArray=[],this.alignState()}alignState(){this.locations[0].hr=this.hr,this.locations[0].far=this.far,this.locations[0].s=this.s,this.locations[0].label=this.label,this.d=SDTMath.hrFar2D(this.hr,this.far,this.s),this.c=SDTMath.hrFar2C(this.hr,this.far,this.s),this.pointArray=[],this.isoDArray=[],this.isoCArray=[],this.locations.forEach((t,e)=>{t.d=SDTMath.hrFar2D(t.hr,t.far,t.s),t.c=SDTMath.hrFar2C(t.hr,t.far,t.s),0!==e||"first"!==this.point&&"all"!==this.point?e>0&&("rest"===this.point||"all"===this.point)&&this.pointArray.push(t):this.pointArray.push(t),0!==e||"first"!==this.isoD&&"all"!==this.isoD?e>0&&("rest"===this.isoD||"all"===this.isoD)&&this.isoDArray.push(t):this.isoDArray.push(t),0!==e||"first"!==this.isoC&&"all"!==this.isoC?e>0&&("rest"===this.isoC||"all"===this.isoC)&&this.isoCArray.push(t):this.isoCArray.push(t)})}set(t,e,i="default",r="",n=1){"default"===i&&(this.hr=t,this.far=e,this.s=n,this.label=r);const a=this.locations.find(t=>t.name===i);void 0===a?this.locations.push({name:i,far:e,hr:t,s:n,label:r}):(a.hr=t,a.far=e,a.s=n,a.label=r),this.requestUpdate()}setWithSDT(t,e,i="default",r="",n=1){"default"===i&&(this.hr=SDTMath.dC2Hr(t,e,n),this.far=SDTMath.dC2Far(t,e,n),this.s=n,this.label=r);const a=this.locations.find(t=>t.name===i);void 0===a?this.locations.push({name:i,far:SDTMath.dC2Far(t,e,n),hr:SDTMath.dC2Hr(t,e,n),s:n,label:r}):(a.hr=SDTMath.dC2Hr(t,e,n),a.far=SDTMath.dC2Far(t,e,n),a.s=n,a.label=r),this.sdt=!0,this.requestUpdate()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 20rem;
          height: 20rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        .plot-contour,
        .legend-contour .contour {
          stroke: var(---color-background);
          stroke-width: 0.5;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .point.interactive {
          cursor: move;

          filter: url("#shadow-2");
          outline: none;

          /* HACK: This gets Safari to correctly apply the filter! */
          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */
          stroke: #000000;
          stroke-opacity: 0;
          stroke-width: 0;
        }

        .point.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #ff0000;
        }

        .point.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #00ff00;
        }

        :host(.keyboard) .point.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #0000ff;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y,
        .title-contour {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .axis-x path,
        .axis-x line,
        .axis-y path,
        .axis-y line {
          stroke: var(---color-element-border);
        }

        .axis-contour .domain {
          stroke: none;
        }

        .diagonal {
          stroke: var(---color-element-border);
          stroke-dasharray: 4;
          stroke-width: 1;
        }

        .curve-iso-d {
          fill: none;
          stroke: var(---color-d);
          stroke-width: 2;
        }

        .curve-iso-c {
          fill: none;
          stroke: var(---color-c);
          stroke-width: 2;
        }

        .point .circle {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: central;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        /* Make a larger target for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$2`
      ${DetectableElement.svgFilters}
    `}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height,r=Math.min(e,i),n=2*this.rem,a=3*this.rem,s=3*this.rem,o=r-(n+a),l=r-(s+2*this.rem),c=parseInt(this.getComputedStyleValue("---transition-duration"),10),g=linear().domain(this.zRoc?[-3,3]:[0,1]).range([0,l]);this.xScale=g;const d=linear().domain(this.zRoc?[3,-3]:[1,0]).range([0,o]);this.yScale=d;const u=drag().subject((t,e)=>({x:this.xScale(this.zRoc?SDTMath.far2Zfar(e.far):e.far),y:this.yScale(this.zRoc?SDTMath.hr2Zhr(e.hr):e.hr)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=this.zRoc?SDTMath.zfar2Far(this.xScale.invert(t.x)):this.xScale.invert(t.x),r=this.zRoc?SDTMath.zhr2Hr(this.yScale.invert(t.y)):this.yScale.invert(t.y);e.far=i<.001?.001:i>.999?.999:i,e.hr=r<=.001?.001:r>=.999?.999:r,"default"===e.name&&(this.far=e.far,this.hr=e.hr),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("roc-point-change",{detail:{name:e.name,far:e.far,hr:e.hr,d:e.d,c:e.c,s:e.s,label:e.label},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),B=shapeLine().x(t=>g(this.zRoc?SDTMath.far2Zfar(t.far):t.far)).y(t=>d(this.zRoc?SDTMath.hr2Zhr(t.hr):t.hr)),F=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),h=F.enter().append("svg").classed("main",!0),Q=h.merge(F).attr("viewBox",`0 0 ${r} ${r}`),U=h.append("g").classed("plot",!0),I=Q.select(".plot").attr("transform",`translate(${s}, ${n})`);U.append("clipPath").attr("id","clip-roc-space").append("rect"),I.select("clipPath rect").attr("height",o+1).attr("width",l+1);const b=U.append("g").classed("underlayer",!0),p=I.select(".underlayer");if(b.append("rect").classed("background",!0),p.select(".background").attr("height",o).attr("width",l),this.firstUpdate||t.has("contour")||t.has("zRoc")||t.has("width")||t.has("height")||t.has("rem")||t.has("s"))if(void 0!==this.contour){const t=100,e=[];for(let i=.5,r=0;i<t;i+=1)for(let n=.5;n<t;n+=1,r+=1){const a=this.zRoc?SDTMath.zhr2Hr(n/t*6-3):n/t,s=this.zRoc?SDTMath.zfar2Far(6*(1-i/t)-3):1-i/t;e[r]="bias"===this.contour?SDTMath.hrFar2C(a,s,this.s):"sensitivity"===this.contour?SDTMath.hrFar2D(a,s,this.s):"accuracy"===this.contour?SDTMath.hrFar2Acc(a,s):null}const i="bias"===this.contour?range$1(-3,3,.25):"sensitivity"===this.contour?range$1(-6,6,.5):"accuracy"===this.contour?range$1(0,1,.05):null,r=contours().size([t,t]).thresholds(i),n=this.getComputedStyleValue("bias"===this.contour?"---color-element-background":"sensitivity"===this.contour?"---color-d":"accuracy"===this.contour?"---color-acc-dark":null),a=this.getComputedStyleValue("bias"===this.contour?"---color-c":"sensitivity"===this.contour||"accuracy"===this.contour?"---color-element-background":null),s=linear().domain(extent$2(i)).interpolate(()=>interpolateRgb(n,a)),o=p.selectAll(".plot-contour").data([this.contour]),g=o.enter().append("g").classed("plot-contour",!0).merge(o).selectAll(".contour").data(r(e));g.enter().append("path").classed("contour",!0).merge(g).transition().duration(2*c).ease(cubicOut).attr("d",geoPath(identity$a().scale(l/t))).attr("fill",t=>s(t.value)),g.exit().remove();const d=p.selectAll(".title-contour").data([this.contour]);d.enter().append("text").classed("title-contour",!0).attr("text-anchor","middle").merge(d).classed("math-var","bias"===this.contour||"sensitivity"===this.contour).attr("transform","bias"===this.contour||"sensitivity"===this.contour?`translate(${l+1.25*this.rem}, ${this.rem})`:"accuracy"===this.contour?`translate(${l+1.125*this.rem}, ${this.rem})`:null).text("bias"===this.contour?"c":"sensitivity"===this.contour?"dâ²":"accuracy"===this.contour?"Acc":null);const u=100,B=[];for(let e=.5,i=0;e<u;e+=1,i+=4)B[i]="bias"===this.contour?-(e/t*6-3):"sensitivity"===this.contour?e/t*12-6:"accuracy"===this.contour?e/t:null,B[i+1]=B[i],B[i+2]=B[i],B[i+3]=B[i];const F=contours().size([4,u]).thresholds(i),h=linear().domain("bias"===this.contour?[3,-3]:"sensitivity"===this.contour?[6,-6]:"accuracy"===this.contour?[1,0]:null).range([0,10*this.rem]),Q=p.selectAll(".legend-contour").data([this.contour]),U=Q.enter().append("g").classed("legend-contour",!0),I=U.merge(Q).attr("transform","bias"===this.contour||"sensitivity"===this.contour?`translate(${l+1.25*this.rem}, ${1.5*this.rem})`:"accuracy"===this.contour?`translate(${l+1.5*this.rem}, ${1.5*this.rem})`:null);Q.exit().remove(),U.append("g").classed("axis-contour",!0),I.select(".axis-contour").call(axisLeft(h).ticks(7).tickSize(0)).attr("font-size",null).attr("font-family",null);const b=I.selectAll(".contour").data(F(B));b.enter().append("path").classed("contour",!0).merge(b).attr("d",geoPath(identity$a().scale(10*this.rem/u))).attr("fill",t=>s(t.value)),b.exit().remove()}else{p.selectAll(".plot-contour").data([]).exit().remove();p.selectAll(".title-contour").data([]).exit().remove();p.selectAll(".legend-contour").data([]).exit().remove()}b.append("g").classed("axis-x",!0);p.select(".axis-x").attr("transform",`translate(0, ${o})`).transition().duration(2*c).ease(cubicOut).call(axisBottom(g)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const y=b.append("text").classed("title-x",!0).attr("text-anchor","middle");y.append("tspan").classed("z math-var",!0),y.append("tspan").classed("name",!0);const m=p.select(".title-x").attr("transform",`translate(${l/2}, ${o+2.25*this.rem})`);m.select("tspan.z").text(this.zRoc?"z":""),m.select("tspan.name").text(this.zRoc?"(False Alarm Rate)":"False Alarm Rate"),b.append("g").classed("axis-y",!0);p.select(".axis-y").transition().duration(2*c).ease(cubicOut).call(axisLeft(d)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const C=b.append("text").classed("title-y",!0).attr("text-anchor","middle");C.append("tspan").classed("z math-var",!0),C.append("tspan").classed("name",!0);const f=p.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${o/2})rotate(-90)`);f.select("tspan.z").text(this.zRoc?"z":""),f.select("tspan.name").text(this.zRoc?"(Hit Rate)":"Hit Rate"),b.append("line").classed("diagonal",!0),p.select(".diagonal").attr("x1",this.zRoc?g(-3):g(0)).attr("y1",this.zRoc?d(-3):d(0)).attr("x2",this.zRoc?g(3):g(1)).attr("y2",this.zRoc?d(3):d(1)),U.append("g").classed("content",!0);const x=I.select(".content"),A=x.selectAll(".curve-iso-d").data(this.isoDArray,t=>t.name),v=A.enter().append("path").classed("curve-iso-d",!0).attr("clip-path","url(#clip-roc-space)").merge(A);this.firstUpdate||t.has("zRoc")?v.transition().duration(this.drag?0:2*c).ease(cubicOut).attr("d",t=>B(range$1(g.range()[0],g.range()[1]+1,1).map(e=>({far:this.zRoc?SDTMath.zfar2Far(g.invert(e)):g.invert(e),hr:this.zRoc?SDTMath.dFar2Hr(t.d,SDTMath.zfar2Far(g.invert(e)),t.s):SDTMath.dFar2Hr(t.d,g.invert(e),t.s)})))):this.sdt?v.transition().duration(this.drag?0:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e];r.hr=void 0,r.far=void 0;const n=interpolate$1(void 0!==r.d?r.d:t.d,t.d),a=interpolate$1(void 0!==r.s?r.s:t.s,t.s);return t=>{r.d=n(t),r.s=a(t);const e=range$1(g.range()[0],g.range()[1]+1,1).map(t=>({far:this.zRoc?SDTMath.zfar2Far(g.invert(t)):g.invert(t),hr:this.zRoc?SDTMath.dFar2Hr(r.d,SDTMath.zfar2Far(g.invert(t)),r.s):SDTMath.dFar2Hr(r.d,g.invert(t),r.s)}));return B(e)}}):v.transition().duration(this.drag?0:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e];r.d=void 0,r.s=void 0;const n=interpolate$1(void 0!==r.hr?r.hr:t.hr,t.hr),a=interpolate$1(void 0!==r.far?r.far:t.far,t.far);return e=>{r.hr=n(e),r.far=a(e);const i=range$1(g.range()[0],g.range()[1]+1,1).map(e=>({far:this.zRoc?SDTMath.zfar2Far(g.invert(e)):g.invert(e),hr:this.zRoc?SDTMath.dFar2Hr(SDTMath.hrFar2D(r.hr,r.far,t.s),SDTMath.zfar2Far(g.invert(e)),t.s):SDTMath.dFar2Hr(SDTMath.hrFar2D(r.hr,r.far,t.s),g.invert(e),t.s)}));return B(i)}}),A.exit().remove();const L=x.selectAll(".curve-iso-c").data(this.isoCArray,t=>t.name),R=L.enter().append("path").classed("curve-iso-c",!0).attr("clip-path","url(#clip-roc-space)").merge(L);this.firstUpdate||t.has("zRoc")?R.transition().duration(this.drag?0:2*c).ease(cubicOut).attr("d",t=>B(range$1(g.range()[0],g.range()[1]+1,1).map(e=>({far:this.zRoc?SDTMath.zfar2Far(g.invert(e)):g.invert(e),hr:this.zRoc?SDTMath.cFar2Hr(t.c,SDTMath.zfar2Far(g.invert(e)),t.s):SDTMath.cFar2Hr(t.c,g.invert(e),t.s)})))):this.sdt?R.transition().duration(this.drag?0:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e];r.hr=void 0,r.far=void 0;const n=interpolate$1(void 0!==r.c?r.c:t.c,t.c),a=interpolate$1(void 0!==r.s?r.s:t.s,t.s);return t=>{r.c=n(t),r.s=a(t);const e=range$1(g.range()[0],g.range()[1]+1,1).map(t=>({far:this.zRoc?SDTMath.zfar2Far(g.invert(t)):g.invert(t),hr:this.zRoc?SDTMath.cFar2Hr(r.c,SDTMath.zfar2Far(g.invert(t)),r.s):SDTMath.cFar2Hr(r.c,g.invert(t),r.s)}));return B(e)}}):R.transition().duration(this.drag?0:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e];r.c=void 0,r.s=void 0;const n=interpolate$1(void 0!==r.hr?r.hr:t.hr,t.hr),a=interpolate$1(void 0!==r.far?r.far:t.far,t.far);return e=>{r.hr=n(e),r.far=a(e);const i=range$1(g.range()[0],g.range()[1]+1,1).map(e=>({far:this.zRoc?SDTMath.zfar2Far(g.invert(e)):g.invert(e),hr:this.zRoc?SDTMath.cFar2Hr(SDTMath.hrFar2C(r.hr,r.far,t.s),SDTMath.zfar2Far(g.invert(e)),t.s):SDTMath.cFar2Hr(SDTMath.hrFar2C(r.hr,r.far,t.s),g.invert(e),t.s)}));return B(i)}}),L.exit().remove();const S=x.selectAll(".point").data(this.pointArray,t=>t.name),G=S.enter().append("g").classed("point",!0);G.append("circle").classed("circle touch",!0),G.append("text").classed("label",!0);const E=G.merge(S);E.select("text").text(t=>t.label),(this.firstUpdate||t.has("interactive"))&&(this.interactive?E.attr("tabindex",0).classed("interactive",!0).call(u).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let i=this.zRoc?SDTMath.hr2Zhr(e.hr):e.hr,r=this.zRoc?SDTMath.far2Zfar(e.far):e.far;switch(t.key){case"ArrowUp":i+=this.zRoc?t.shiftKey?.05:.25:t.shiftKey?.01:.05;break;case"ArrowDown":i-=this.zRoc?t.shiftKey?.05:.25:t.shiftKey?.01:.05;break;case"ArrowRight":r+=this.zRoc?t.shiftKey?.05:.25:t.shiftKey?.01:.05;break;case"ArrowLeft":r-=this.zRoc?t.shiftKey?.05:.25:t.shiftKey?.01:.05}i=this.zRoc?SDTMath.zhr2Hr(i):i,r=this.zRoc?SDTMath.zfar2Far(r):r,i=i<.001?.001:i>.999?.999:i,r=r<.001?.001:r>.999?.999:r,i===e.hr&&r===e.far||(e.hr=i,e.far=r,"default"===e.name&&(this.hr=e.hr,this.far=e.far),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("roc-point-change",{detail:{name:e.name,far:e.far,hr:e.hr,d:e.d,c:e.c,s:e.s,label:e.label},bubbles:!0}))),t.preventDefault()}}):E.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),this.firstUpdate||t.has("zRoc")?E.transition().duration(this.drag?0:2*c).ease(cubicOut).attr("transform",(t,e,i)=>{const r=i[e];return r.d=void 0,r.c=void 0,r.s=void 0,`translate(\n            ${g(this.zRoc?SDTMath.far2Zfar(t.far):t.far)},\n            ${d(this.zRoc?SDTMath.hr2Zhr(t.hr):t.hr)}\n          )`}):this.sdt?E.transition().duration(this.drag?0:c).ease(cubicOut).attrTween("transform",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:t.d,t.d),a=interpolate$1(void 0!==r.c?r.c:t.c,t.c),s=interpolate$1(void 0!==r.s?r.s:t.s,t.s);return t=>(r.d=n(t),r.c=a(t),r.s=s(t),`translate(\n              ${g(this.zRoc?SDTMath.far2Zfar(SDTMath.dC2Far(r.d,r.c,r.s)):SDTMath.dC2Far(r.d,r.c,r.s))},\n              ${d(this.zRoc?SDTMath.hr2Zhr(SDTMath.dC2Hr(r.d,r.c,r.s)):SDTMath.dC2Hr(r.d,r.c,r.s))}\n            )`)}):E.transition().duration(this.drag?0:c).ease(cubicOut).attr("transform",(t,e,i)=>{const r=i[e];return r.d=void 0,r.c=void 0,r.s=void 0,`translate(\n            ${g(this.zRoc?SDTMath.far2Zfar(t.far):t.far)},\n            ${d(this.zRoc?SDTMath.hr2Zhr(t.hr):t.hr)}\n          )`}),S.exit().remove(),this.drag=!1,this.sdt=!1,this.firstUpdate=!1}}customElements.define("roc-space",ROCSpace);class SDTModel extends(DecidablesMixinResizeable(DetectableElement)){static get properties(){return{color:{attribute:"color",type:String,reflect:!0},distributions:{attribute:"distributions",type:Boolean,reflect:!0},threshold:{attribute:"threshold",type:Boolean,reflect:!0},unequal:{attribute:"unequal",type:Boolean,reflect:!0},sensitivity:{attribute:"sensitivity",type:Boolean,reflect:!0},bias:{attribute:"bias",type:Boolean,reflect:!0},variance:{attribute:"variance",type:Boolean,reflect:!0},histogram:{attribute:"histogram",type:Boolean,reflect:!0},d:{attribute:"d",type:Number,reflect:!0},c:{attribute:"c",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0},far:{attribute:!1,type:Number,reflect:!1},hr:{attribute:!1,type:Number,reflect:!1},binWidth:{attribute:!1,type:Number,reflect:!1},trials:{attribute:!1,type:Array,reflect:!1}}}constructor(){super(),this.colors=["all","outcome","response","stimulus","none"],this.color="all",this.distributions=!1,this.threshold=!1,this.unequal=!1,this.sensitivity=!1,this.bias=!1,this.variance=!1,this.histogram=!1,this.d=SDTMath.d.DEFAULT,this.c=SDTMath.c.DEFAULT,this.s=SDTMath.s.DEFAULT,this.binWidth=.25,this.signals=["present","absent"],this.responses=["present","absent"],this.trials=[],this.muN=NaN,this.muS=NaN,this.l=NaN,this.hS=NaN,this.binRange=[-3,3],this.h=0,this.m=0,this.fa=0,this.cr=0,this.firstUpdate=!0,this.drag=!1,this.alignState()}reset(){this.trials=[],this.h=0,this.m=0,this.fa=0,this.cr=0}trial(t,e,i,r,n){const a={new:!0,paused:!1};a.trial=t,a.signal=e,a.duration=i,a.wait=r,a.iti=n,a.evidence=jStat.normal.sample(0,1),this.alignTrial(a),this.trials.push(a),this.requestUpdate()}alignTrial(t){return"present"===t.signal?(t.trueEvidence=t.evidence*this.s+this.muS,t.response=t.trueEvidence>this.l?"present":"absent",t.outcome="present"===t.response?"h":"m"):(t.trueEvidence=t.evidence+this.muN,t.response=t.trueEvidence>this.l?"present":"absent",t.outcome="present"===t.response?"fa":"cr"),t.new||(this[t.outcome]+=1),t}alignState(){this.far=SDTMath.dC2Far(this.d,this.c,this.s),this.hr=SDTMath.dC2Hr(this.d,this.c,this.s),this.muN=SDTMath.d2MuN(this.d,this.s),this.muS=SDTMath.d2MuS(this.d,this.s),this.l=SDTMath.c2L(this.c,this.s),this.hS=SDTMath.s2H(this.s),this.h=0,this.m=0,this.fa=0,this.cr=0;for(let t=0;t<this.trials.length;t+=1)this.alignTrial(this.trials[t])}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 27rem;
          height: 15rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .tick {
          font-size: 0.75rem;
        }

        .axis-x path,
        .axis-x line,
        .axis-y path,
        .axis-y line,
        .axis-y2 path,
        .axis-y2 line {
          stroke: var(---color-element-border);
        }

        .noise.interactive,
        .signal.interactive,
        .threshold.interactive {
          cursor: ew-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .signal.unequal {
          cursor: ns-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .signal.interactive.unequal {
          cursor: move;
        }

        .noise.interactive:hover,
        .signal.interactive:hover,
        .signal.unequal:hover,
        .threshold.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          transform: translateX(0);
        }

        .noise.interactive:active,
        .signal.interactive:active,
        .signal.unequal:active,
        .threshold.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          transform: translateY(0);
        }

        :host(.keyboard) .noise.interactive:focus,
        :host(.keyboard) .signal.interactive:focus,
        :host(.keyboard) .signal.unequal:focus,
        :host(.keyboard) .threshold.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          transform: translateZ(0);
        }

        .underlayer .background {
          fill: var(---color-element-background);
          stroke: none;
        }

        .overlayer .background {
          fill: none;
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y,
        .title-y2 {
          font-weight: 600;

          fill: currentColor;
        }

        .curve-cr,
        .curve-fa,
        .curve-m,
        .curve-h {
          fill-opacity: 0.5;
          stroke: none;

          transition: fill var(---transition-duration) ease;
        }

        .curve-cr {
          fill: var(---color-cr);
        }

        .curve-fa {
          fill: var(---color-fa);
        }

        .curve-m {
          fill: var(---color-m);
        }

        .curve-h {
          fill: var(---color-h);
        }

        :host([color="accuracy"]) .curve-h,
        :host([color="accuracy"]) .curve-cr {
          fill: var(---color-correct);
        }

        :host([color="accuracy"]) .curve-m,
        :host([color="accuracy"]) .curve-fa {
          fill: var(---color-error);
        }

        :host([color="stimulus"]) .curve-cr,
        :host([color="stimulus"]) .curve-fa {
          fill: var(---color-far);
        }

        :host([color="stimulus"]) .curve-m,
        :host([color="stimulus"]) .curve-h {
          fill: var(---color-hr);
        }

        :host([color="response"]) .curve-cr,
        :host([color="response"]) .curve-m {
          fill: var(---color-absent);
        }

        :host([color="response"]) .curve-fa,
        :host([color="response"]) .curve-h {
          fill: var(---color-present);
        }

        :host([color="none"]) .curve-cr,
        :host([color="none"]) .curve-fa,
        :host([color="none"]) .curve-m,
        :host([color="none"]) .curve-h {
          fill: var(---color-element-enabled);
        }

        .curve-noise,
        .curve-signal {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .measure-d,
        .measure-c,
        .measure-s {
          pointer-events: none;
        }

        .threshold .line {
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .threshold .handle {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .measure-d .line,
        .measure-d .cap-left,
        .measure-d .cap-right {
          stroke: var(---color-d);
          stroke-width: 2;
          shape-rendering: crispEdges;
        }

        .measure-d .label {
          font-size: 0.75rem;

          text-anchor: start;
          fill: currentColor;
        }

        .measure-c .line,
        .measure-c .cap-zero {
          stroke: var(---color-c);
          stroke-width: 2;
          shape-rendering: crispEdges;
        }

        .measure-c .label {
          font-size: 0.75rem;

          fill: currentColor;
        }

        .measure-s .line,
        .measure-s .cap-left,
        .measure-s .cap-right {
          stroke: var(---color-s);
          stroke-width: 2;
          shape-rendering: crispEdges;
        }

        .measure-s .label {
          font-size: 0.75rem;

          text-anchor: middle;
          fill: currentColor;
        }

        /* Make a larger target for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$2`
      ${DetectableElement.svgFilters}
    `}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-model-change",{detail:{d:this.d,c:this.c,s:this.s,far:this.far,hr:this.hr,h:this.h,m:this.m,fa:this.fa,cr:this.cr},bubbles:!0}))}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height;let r,n;e/i>1.8?(n=i,r=1.8*n):(r=e,n=r/1.8);const a=2*this.rem,s=3*this.rem,o=3*this.rem,l=n-(a+s),c=r-(o+(this.histogram&&this.distributions?3:.75)*this.rem),g=parseInt(this.getComputedStyleValue("---transition-duration"),10),d=linear().domain([-3,3]).range([0,c]),u=linear().domain([.5,0]).range([0,l]),B=d(this.binWidth)-d(0),F=linear().domain([l/B,0]).range([0,l]),h=drag().subject(()=>({x:d(this.l),y:0})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",t=>{this.drag=!0;const e=d.invert(t.x),i=SDTMath.l2C(e,this.s);this.c=i<SDTMath.c.MIN?SDTMath.c.MIN:i>SDTMath.c.MAX?SDTMath.c.MAX:i,this.alignState(),this.sendEvent()}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),Q=drag().subject(()=>({x:d(this.muN),y:0})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",t=>{this.drag=!0;const e=d.invert(t.x),i=SDTMath.muN2D(e,this.s);this.d=i<SDTMath.d.MIN?SDTMath.d.MIN:i>SDTMath.d.MAX?SDTMath.d.MAX:i,this.alignState(),this.sendEvent()}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),U=drag().subject(()=>({x:d(this.muS),y:u(this.hS)})).on("start",(t,e)=>{select$5(t.currentTarget).classed("dragging",!0),e.startX=t.x,e.startY=t.y,e.startHS=this.hS,e.startMuS=this.muS}).on("drag",(t,e)=>{this.drag=!0;let i=this.muS;this.interactive&&(i=d.invert(t.x));let r=this.hS;if(this.unequal&&(r=u.invert(t.y)),this.interactive&&this.unequal&&t.sourceEvent.shiftKey&&(Math.abs(t.x-e.startX)>Math.abs(t.y-e.startY)?r=e.startHS:i=e.startMuS),this.unequal){const t=SDTMath.h2S(r);this.s=t<SDTMath.s.MIN?SDTMath.s.MIN:t>SDTMath.s.MAX?SDTMath.s.MAX:t;const e=SDTMath.l2C(this.l,this.s);this.c=e<SDTMath.c.MIN?SDTMath.c.MIN:e>SDTMath.c.MAX?SDTMath.c.MAX:e}const n=SDTMath.muS2D(i,this.s);this.d=n<SDTMath.d.MIN?SDTMath.d.MIN:n>SDTMath.d.MAX?SDTMath.d.MAX:n,this.alignState(),this.sendEvent()}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),I=shapeLine().x(t=>d(t.e)).y(t=>u(t.p)),b=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),p=b.enter().append("svg").classed("main",!0),y=p.merge(b).attr("viewBox",`0 0 ${r} ${n}`),m=p.append("g").classed("plot",!0),C=y.select(".plot").attr("transform",`translate(${o}, ${a})`),f=m.append("g").classed("underlayer",!0),x=C.select(".underlayer");f.append("rect").classed("background",!0),x.select(".background").attr("height",l).attr("width",c),f.append("g").classed("axis-x",!0);x.select(".axis-x").attr("transform",`translate(0, ${l})`).call(axisBottom(d)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),f.append("text").classed("title-x",!0).attr("text-anchor","middle").text("Evidence"),x.select(".title-x").attr("transform",`translate(${c/2}, ${l+2.25*this.rem})`);const A=x.selectAll(".axis-y").data(this.distributions?[{}]:[]);A.enter().append("g").classed("axis-y",!0).merge(A).call(axisLeft(u).ticks(5)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),A.exit().remove();const v=x.selectAll(".title-y").data(this.distributions?[{}]:[]);v.enter().append("text").classed("title-y",!0).attr("text-anchor","middle").text("Probability").merge(v).attr("transform",`translate(${-2*this.rem}, ${l/2})rotate(-90)`),v.exit().remove();const L=x.selectAll(".axis-y2").data(this.histogram?[{}]:[]);L.enter().append("g").classed("axis-y2",!0).merge(L).attr("transform",this.distributions?`translate(${c}, 0)`:"").call(this.distributions?axisRight(F).ticks(10):axisLeft(F).ticks(10)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),L.exit().remove();const R=x.selectAll(".title-y2").data(this.histogram?[{}]:[]);R.enter().append("text").classed("title-y2",!0).attr("text-anchor","middle").text("Count").merge(R).attr("transform",this.distributions?`translate(${c+1.5*this.rem}, ${l/2})rotate(90)`:`translate(${-1.5*this.rem}, ${l/2})rotate(-90)`),R.exit().remove(),m.append("g").classed("content",!0);const S=C.select(".content"),G=S.selectAll(".signal-noise").data(this.distributions?[{}]:[]),E=G.enter().append("g").classed("signal-noise",!0),V=E.merge(G);G.exit().remove();const Z=E.append("g").classed("noise",!0),N=V.selectAll(".noise").attr("tabindex",this.interactive?0:null).classed("interactive",this.interactive).on("keydown",this.interactive?t=>{if(["ArrowRight","ArrowLeft"].includes(t.key)){let e=this.muN;switch(t.key){case"ArrowRight":e+=t.shiftKey?.01:.1;break;case"ArrowLeft":e-=t.shiftKey?.01:.1}const i=SDTMath.muN2D(e,this.s);this.d=i<SDTMath.d.MIN?SDTMath.d.MIN:i>SDTMath.d.MAX?SDTMath.d.MAX:i,this.alignState(),this.sendEvent(),t.preventDefault()}}:null);(this.firstUpdate||t.has("interactive"))&&(this.interactive?N.call(Q):N.on(".drag",null)),Z.append("path").classed("curve-cr",!0),N.select(".curve-cr").transition().duration(this.drag?0:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:this.d,this.d),a=interpolate$1(void 0!==r.c?r.c:this.c,this.c),s=interpolate$1(void 0!==r.s?r.s:this.s,this.s);return t=>{r.d=n(t),r.c=a(t),r.s=s(t);const e=range$1(d.domain()[0],SDTMath.c2L(r.c,r.s),.05).map(t=>({e:t,p:jStat.normal.pdf(t,SDTMath.d2MuN(r.d,r.s),1)}));return e.push({e:SDTMath.c2L(r.c,r.s),p:jStat.normal.pdf(SDTMath.c2L(r.c,r.s),SDTMath.d2MuN(r.d,r.s),1)}),e.push({e:SDTMath.c2L(r.c,r.s),p:0}),e.push({e:d.domain()[0],p:0}),I(e)}}),Z.append("path").classed("curve-fa",!0),N.select(".curve-fa").transition().duration(this.drag?0:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:this.d,this.d),a=interpolate$1(void 0!==r.c?r.c:this.c,this.c),s=interpolate$1(void 0!==r.s?r.s:this.s,this.s);return t=>{r.d=n(t),r.c=a(t),r.s=s(t);const e=range$1(SDTMath.c2L(r.c,r.s),d.domain()[1],.05).map(t=>({e:t,p:jStat.normal.pdf(t,SDTMath.d2MuN(r.d,r.s),1)}));return e.push({e:d.domain()[1],p:jStat.normal.pdf(d.domain()[1],SDTMath.d2MuN(r.d,r.s),1)}),e.push({e:d.domain()[1],p:0}),e.push({e:SDTMath.c2L(r.c,r.s),p:0}),I(e)}}),Z.append("path").classed("curve-noise",!0),N.select(".curve-noise").transition().duration(this.drag?0:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:this.d,this.d),a=interpolate$1(void 0!==r.s?r.s:this.s,this.s);return t=>{r.d=n(t),r.s=a(t);const e=range$1(d.domain()[0],d.domain()[1],.05).map(t=>({e:t,p:jStat.normal.pdf(t,SDTMath.d2MuN(r.d,r.s),1)}));return e.push({e:d.domain()[1],p:jStat.normal.pdf(d.domain()[1],SDTMath.d2MuN(r.d,r.s),1)}),I(e)}});const D=E.append("g").classed("signal",!0),w=V.selectAll(".signal").attr("tabindex",this.interactive||this.unequal?0:null).classed("interactive",this.interactive).classed("unequal",this.unequal).on("keydown.sensitivity",this.interactive?t=>{if(["ArrowRight","ArrowLeft"].includes(t.key)){let e=this.muS;switch(t.key){case"ArrowRight":e+=t.shiftKey?.01:.1;break;case"ArrowLeft":e-=t.shiftKey?.01:.1}const i=SDTMath.muS2D(e,this.s);this.d=i<SDTMath.d.MIN?SDTMath.d.MIN:i>SDTMath.d.MAX?SDTMath.d.MAX:i,this.alignState(),this.sendEvent(),t.preventDefault()}}:null).on("keydown.variance",this.unequal?t=>{if(["ArrowUp","ArrowDown"].includes(t.key)){let e=this.hS;switch(t.key){case"ArrowUp":e+=t.shiftKey?.002:.02;break;case"ArrowDown":e-=t.shiftKey?.002:.02}e=e<0?0:e;const i=SDTMath.h2S(e);this.s=i<SDTMath.s.MIN?SDTMath.s.MIN:i>SDTMath.s.MAX?SDTMath.s.MAX:i,this.d=SDTMath.muN2D(this.muN,this.s),this.c=SDTMath.l2C(this.l,this.s),this.alignState(),this.sendEvent(),t.preventDefault()}}:null);(this.firstUpdate||t.has("interactive")||t.has("unequal"))&&(this.interactive||this.unequal?w.call(U):w.on(".drag",null)),D.append("path").classed("curve-m",!0),w.select(".curve-m").transition().duration(this.drag?0:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:this.d,this.d),a=interpolate$1(void 0!==r.c?r.c:this.c,this.c),s=interpolate$1(void 0!==r.s?r.s:this.s,this.s);return t=>{r.d=n(t),r.c=a(t),r.s=s(t);const e=range$1(d.domain()[0],SDTMath.c2L(r.c,r.s),.05).map(t=>({e:t,p:jStat.normal.pdf(t,SDTMath.d2MuS(r.d,r.s),r.s)}));return e.push({e:SDTMath.c2L(r.c,r.s),p:jStat.normal.pdf(SDTMath.c2L(r.c,r.s),SDTMath.d2MuS(r.d,r.s),r.s)}),e.push({e:SDTMath.c2L(r.c,r.s),p:0}),e.push({e:d.domain()[0],p:0}),I(e)}}),D.append("path").classed("curve-h",!0),w.select(".curve-h").transition().duration(this.drag?0:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:this.d,this.d),a=interpolate$1(void 0!==r.c?r.c:this.c,this.c),s=interpolate$1(void 0!==r.s?r.s:this.s,this.s);return t=>{r.d=n(t),r.c=a(t),r.s=s(t);const e=range$1(SDTMath.c2L(r.c,r.s),d.domain()[1],.05).map(t=>({e:t,p:jStat.normal.pdf(t,SDTMath.d2MuS(r.d,r.s),r.s)}));return e.push({e:d.domain()[1],p:jStat.normal.pdf(d.domain()[1],SDTMath.d2MuS(r.d,r.s),r.s)}),e.push({e:d.domain()[1],p:0}),e.push({e:SDTMath.c2L(r.c,r.s),p:0}),I(e)}}),D.append("path").classed("curve-signal",!0),w.select(".curve-signal").transition().duration(this.drag?0:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:this.d,this.d),a=interpolate$1(void 0!==r.s?r.s:this.s,this.s);return t=>{r.d=n(t),r.s=a(t);const e=range$1(d.domain()[0],d.domain()[1],.05).map(t=>({e:t,p:jStat.normal.pdf(t,SDTMath.d2MuS(r.d,r.s),r.s)}));return e.push({e:d.domain()[1],p:jStat.normal.pdf(d.domain()[1],SDTMath.d2MuS(r.d,r.s),r.s)}),I(e)}});const X=S.selectAll(".measure-d").data(this.sensitivity?[{}]:[]),W=X.enter().append("g").classed("measure-d",!0);W.append("line").classed("line",!0),W.append("line").classed("cap-left",!0),W.append("line").classed("cap-right",!0);const H=W.append("text").classed("label",!0);H.append("tspan").classed("d math-var",!0).text("dâ²"),H.append("tspan").classed("equals",!0).text(" = "),H.append("tspan").classed("value",!0);const T=W.merge(X);T.select(".line").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.muN)).attr("y1",u(.43)).attr("x2",d(this.muS)).attr("y2",u(.43)),T.select(".cap-left").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.muN)).attr("y1",u(.43)+5).attr("x2",d(this.muN)).attr("y2",u(.43)-5),T.select(".cap-right").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.muS)).attr("y1",u(.43)+5).attr("x2",d(this.muS)).attr("y2",u(.43)-5);T.select(".label").transition().duration(this.drag?0:g).ease(cubicOut).attr("x",d(this.muN>this.muS?this.muN:this.muS)+5).attr("y",u(.43)+3).select(".value").tween("text",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:this.d,this.d);return t=>{r.d=n(t),select$5(r).text(format$4(".3")(r.d))}}),X.exit().remove();const M=S.selectAll(".measure-c").data(this.bias?[{}]:[]),k=M.enter().append("g").classed("measure-c",!0);k.append("line").classed("line",!0),k.append("line").classed("cap-zero",!0);const Y=k.append("text").classed("label",!0);Y.append("tspan").classed("c math-var",!0).text("c"),Y.append("tspan").classed("equals",!0).text(" = "),Y.append("tspan").classed("value",!0);const J=k.merge(M);J.select(".line").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.l)).attr("y1",u(.47)).attr("x2",d(0)).attr("y2",u(.47)),J.select(".cap-zero").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(0)).attr("y1",u(.47)+5).attr("x2",d(0)).attr("y2",u(.47)-5);J.select(".label").transition().duration(this.drag?0:g).ease(cubicOut).attr("x",d(0)+(this.l<0?5:-5)).attr("y",u(.47)+3).attr("text-anchor",this.c<0?"start":"end").select(".value").tween("text",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.c?r.c:this.c,this.c);return t=>{r.c=n(t),select$5(r).text(format$4(".3")(r.c))}}),M.exit().remove();const $=S.selectAll(".measure-s").data(this.variance?[{}]:[]),z=$.enter().append("g").classed("measure-s",!0);z.append("line").classed("line",!0),z.append("line").classed("cap-left",!0),z.append("line").classed("cap-right",!0);const O=z.append("text").classed("label",!0);O.append("tspan").classed("s math-var",!0).text("Ï"),O.append("tspan").classed("equals",!0).text(" = "),O.append("tspan").classed("value",!0);const K=z.merge($);K.select(".line").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.muS-this.s)).attr("y1",u(jStat.normal.pdf(this.s,0,this.s))+10/this.s).attr("x2",d(this.muS+this.s)).attr("y2",u(jStat.normal.pdf(this.s,0,this.s))+10/this.s),K.select(".cap-left").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.muS-this.s)).attr("y1",u(jStat.normal.pdf(this.s,0,this.s))+10/this.s+5).attr("x2",d(this.muS-this.s)).attr("y2",u(jStat.normal.pdf(this.s,0,this.s))+10/this.s-5),K.select(".cap-right").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.muS+this.s)).attr("y1",u(jStat.normal.pdf(this.s,0,this.s))+10/this.s+5).attr("x2",d(this.muS+this.s)).attr("y2",u(jStat.normal.pdf(this.s,0,this.s))+10/this.s-5);K.select(".label").transition().duration(this.drag?0:g).ease(cubicOut).attr("x",d(this.muS)).attr("y",u(jStat.normal.pdf(this.s,0,this.s))+10/this.s-3).select(".value").tween("text",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.s?r.s:this.s,this.s);return t=>{r.s=n(t),select$5(r).text(format$4(".3")(r.s))}}),$.exit().remove();const _=S.selectAll(".threshold").data(this.threshold?[{}]:[]),P=_.enter().append("g").classed("threshold",!0);P.append("line").classed("line",!0),P.append("line").classed("line touch",!0),P.append("circle").classed("handle touch",!0);const j=P.merge(_).attr("tabindex",this.interactive?0:null).classed("interactive",this.interactive);(this.firstUpdate||t.has("interactive"))&&(this.interactive?j.call(h).on("keydown",t=>{if(["ArrowRight","ArrowLeft"].includes(t.key)){let e=this.l;switch(t.key){case"ArrowRight":e+=t.shiftKey?.01:.1;break;case"ArrowLeft":e-=t.shiftKey?.01:.1}const i=SDTMath.l2C(e,this.s);this.c=i<SDTMath.c.MIN?SDTMath.c.MIN:i>SDTMath.c.MAX?SDTMath.c.MAX:i,this.alignState(),this.sendEvent(),t.preventDefault()}}):j.on("drag",null).on("keydown",null)),j.select(".line").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.l)).attr("y1",u(0)).attr("x2",d(this.l)).attr("y2",u(.54)),j.select(".line.touch").transition().duration(this.drag?0:g).ease(cubicOut).attr("x1",d(this.l)).attr("y1",u(0)).attr("x2",d(this.l)).attr("y2",u(.54)),j.select(".handle").transition().duration(this.drag?0:g).ease(cubicOut).attr("cx",d(this.l)).attr("cy",u(.54)),_.exit().remove();const q=S.selectAll(".histogram").data(this.histogram?[{}]:[]),tt=q.enter().append("g").classed("histogram",!0).merge(q);if(q.exit().remove(),this.histogram){const t=bin().value(t=>t.trueEvidence).domain(d.domain()).thresholds(range$1(this.binRange[0],this.binRange[1],this.binWidth)),e=t(this.trials);let i=-1,r=-1;for(let t=0;t<e.length;t+=1)for(let n=0;n<e[t].length;n+=1)e[t][n].binValue=e[t].x0,e[t][n].binCount=n,0===t&&(i=n),t===e.length-1&&(r=n);for(let t=0;t<this.trials.length;t+=1)this.trials[t].trueEvidence<this.binRange[0]&&(i+=1,this.trials[t].binCount=i,this.trials[t].binValue=e[0].x0),this.trials[t].trueEvidence>this.binRange[1]&&(r+=1,this.trials[t].binCount=r,this.trials[t].binValue=e[e.length-1].x0);const n=tt.selectAll(".trial").data(this.trials,t=>t.trial),a=n.enter().append("rect").attr("stroke-width",3).attr("data-new-trial-ease-time",0).attr("stroke",this.getComputedStyleValue("---color-acc")).attr("fill",this.getComputedStyleValue("---color-acc-light")).merge(n).attr("class",t=>`trial ${t.outcome}`).attr("width",B-3).attr("height",B-3),s=a.filter(t=>t.new&&!t.paused);if(!s.empty()){const t=s.attr("data-new-trial-ease-time"),e=e=>linear().domain([0,1]).range([t,1])(e),i=e=>i=>linear().domain([e(t),1]).range([0,1])(e(i));s.transition("new").duration(e=>Math.floor((.75*e.duration+.25*e.wait)*(1-t))).ease(e).attr("data-new-trial-ease-time",1).attrTween("stroke",(t,e,r)=>{const n=r[e],a=interpolateRgb(n.getAttribute("stroke"),"stimulus"===this.color?"present"===t.signal?this.getComputedStyleValue("---color-hr"):this.getComputedStyleValue("---color-far"):"response"===this.color?this.getComputedStyleValue(`---color-${t.response}`):"outcome"===this.color||"all"===this.color?this.getComputedStyleValue(`---color-${t.outcome}`):this.getComputedStyleValue("---color-acc"));return t=>a(i(cubicIn)(t))}).attrTween("fill",(t,e,r)=>{const n=r[e],a=interpolateRgb(n.getAttribute("fill"),"stimulus"===this.color?"present"===t.signal?this.getComputedStyleValue("---color-hr-light"):this.getComputedStyleValue("---color-far-light"):"response"===this.color?this.getComputedStyleValue(`---color-${t.response}-light`):"outcome"===this.color||"all"===this.color?this.getComputedStyleValue(`---color-${t.outcome}-light`):this.getComputedStyleValue("---color-acc-light"));return t=>a(i(cubicIn)(t))}).attrTween("x",(t,e,r)=>{const n=interpolate$1(r[e].getAttribute("x"),d(t.binValue)+1.5);return t=>n(i(cubicOut)(t))}).attrTween("y",(t,e,r)=>{const n=interpolate$1(r[e].getAttribute("y"),u(0)+1.5-(t.binCount+1)*B);return t=>n(i(cubicIn)(t))}).on("end",(t,e,i)=>{i[e].removeAttribute("data-new-trial-ease-time"),t.new=!1,this.alignTrial(t),this.dispatchEvent(new CustomEvent("detectable-response",{detail:{stimulus:t.signal,response:t.response,outcome:t.outcome,h:this.h,m:this.m,fa:this.fa,cr:this.cr,nr:0},bubbles:!0}))})}const o=a.filter(t=>t.new&&t.paused);if(!o.empty()){const t=o.attr("data-new-trial-ease-time");o.transition().duration(g).ease(cubicOut).attr("x",e=>interpolate$1(0,d(e.binValue)+1.5)(cubicOut(t))).attr("y",e=>interpolate$1(0,u(0)+1.5-(e.binCount+1)*B)(cubicIn(t))).attr("stroke",e=>interpolateRgb(this.getComputedStyleValue("---color-acc"),"stimulus"===this.color?"present"===e.signal?this.getComputedStyleValue("---color-hr"):this.getComputedStyleValue("---color-far"):"response"===this.color?this.getComputedStyleValue(`---color-${e.response}`):"outcome"===this.color||"all"===this.color?this.getComputedStyleValue(`---color-${e.outcome}`):this.getComputedStyleValue("---color-acc"))(cubicIn(t))).attr("fill",e=>interpolateRgb(this.getComputedStyleValue("---color-acc-light"),"stimulus"===this.color?"present"===e.signal?this.getComputedStyleValue("---color-hr-light"):this.getComputedStyleValue("---color-far-light"):"response"===this.color?this.getComputedStyleValue(`---color-${e.response}-light`):"outcome"===this.color||"all"===this.color?this.getComputedStyleValue(`---color-${e.outcome}-light`):this.getComputedStyleValue("---color-acc-light"))(cubicIn(t)))}a.filter(t=>!t.new).transition().duration(g).ease(cubicOut).attr("x",t=>d(t.binValue)+1.5).attr("y",t=>u(0)+1.5-(t.binCount+1)*B).attr("stroke",t=>"stimulus"===this.color?"present"===t.signal?this.getComputedStyleValue("---color-hr"):this.getComputedStyleValue("---color-far"):"response"===this.color?this.getComputedStyleValue(`---color-${t.response}`):"outcome"===this.color||"all"===this.color?this.getComputedStyleValue(`---color-${t.outcome}`):this.getComputedStyleValue("---color-acc")).attr("fill",t=>"stimulus"===this.color?"present"===t.signal?this.getComputedStyleValue("---color-hr-light"):this.getComputedStyleValue("---color-far-light"):"response"===this.color?this.getComputedStyleValue(`---color-${t.response}-light`):"outcome"===this.color||"all"===this.color?this.getComputedStyleValue(`---color-${t.outcome}-light`):this.getComputedStyleValue("---color-acc-light")),n.exit().transition().duration(g).ease(linear$1).attrTween("stroke",(t,e,i)=>{const r=i[e],n=interpolateRgb(r.getAttribute("stroke"),this.getComputedStyleValue("---color-acc"));return t=>n(cubicIn(t))}).attrTween("fill",(t,e,i)=>{const r=i[e],n=interpolateRgb(r.getAttribute("fill"),this.getComputedStyleValue("---color-acc-light"));return t=>n(cubicIn(t))}).attrTween("x",(t,e,i)=>{const r=interpolate$1(i[e].getAttribute("x"),0);return t=>r(cubicIn(t))}).attrTween("y",(t,e,i)=>{const r=interpolate$1(i[e].getAttribute("y"),0);return t=>r(cubicOut(t))}).remove()}const et=m.append("g").classed("overlayer",!0),it=C.select(".overlayer");et.append("rect").classed("background",!0),it.select(".background").attr("height",l).attr("width",c),this.drag=!1,this.firstUpdate=!1}pauseTrial(){const t=select$5(this.renderRoot).select(".trial[data-new-trial-ease-time]");t.interrupt("new"),t.datum(t=>(t.paused=!0,t))}resumeTrial(){select$5(this.renderRoot).select(".trial[data-new-trial-ease-time]").datum(t=>(t.paused=!1,t)),this.requestUpdate()}}customElements.define("sdt-model",SDTModel);class SDTParameters extends DetectableElement{static get properties(){return{d:{attribute:"d",type:Number,reflect:!0},c:{attribute:"c",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0}}}constructor(){super(),this.d=void 0,this.c=void 0,this.s=void 0}setSensitivity(t){this.d=+t.target.value,this.dispatchEvent(new CustomEvent("sdt-parameters-d",{detail:{d:this.d},bubbles:!0}))}setBias(t){this.c=+t.target.value,this.dispatchEvent(new CustomEvent("sdt-parameters-c",{detail:{c:this.c},bubbles:!0}))}setVariance(t){this.s=+t.target.value,this.dispatchEvent(new CustomEvent("sdt-parameters-s",{detail:{s:this.s},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        decidables-slider {
          line-height: 1;
          text-align: center;
        }

        decidables-slider  div {
          margin-bottom: 0.25rem;
        }

        .d {
          --decidables-slider-background-color: var(---color-d-light);
          --decidables-slider-color: var(---color-d);
        }

        .c {
          --decidables-slider-background-color: var(---color-c-light);
          --decidables-slider-color: var(---color-c);
        }

        .s {
          --decidables-slider-background-color: var(---color-s-light);
          --decidables-slider-color: var(---color-s);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.d?x$2`<decidables-slider class="d"
            ?disabled=${!this.interactive}
            scale
            min=${SDTMath.d.MIN}
            max=${SDTMath.d.MAX}
            step=${SDTMath.d.STEP}
            .value=${+this.d.toFixed(2)}
            @change=${this.setSensitivity.bind(this)}
            @input=${this.setSensitivity.bind(this)}
          ><div>Sensitivity<br><span class="math-var">dâ²</span></div></decidables-slider>`:x$2``}
        ${null!=this.c?x$2`<decidables-slider class="c"
            ?disabled=${!this.interactive}
            scale
            min=${SDTMath.c.MIN}
            max=${SDTMath.c.MAX}
            step=${SDTMath.c.STEP}
            .value=${+this.c.toFixed(2)}
            @change=${this.setBias.bind(this)}
            @input=${this.setBias.bind(this)}
          ><div>Bias<br><span class="math-var">c</span></div></decidables-slider>`:x$2``}
        ${null!=this.s?x$2`<decidables-slider class="s"
            ?disabled=${!this.interactive}
            scale
            min=${SDTMath.s.MIN}
            max=${SDTMath.s.MAX}
            step=${SDTMath.s.STEP}
            .value=${+this.s.toFixed(2)}
            @change=${this.setVariance.bind(this)}
            @input=${this.setVariance.bind(this)}
          ><div>Variance<br><span class="math-var">Ï</span></div></decidables-slider>`:x$2``}
      </div>`}}customElements.define("sdt-parameters",SDTParameters);class SDTEquation extends DetectableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}constructor(){super(),this.numeric=!1}static get styles(){return[super.styles,i$6`
        :host {
          display: block;

          margin: 1rem;
        }

        /* Containing <div> */
        .holder {
          display: flex;

          flex-direction: row;

          justify-content: left;
        }

        /* Overall <table> */
        .equation {
          text-align: center;
          white-space: nowrap;

          border-collapse: collapse;

          border: 0;
        }

        /* Modifies <td> */
        .underline {
          border-bottom: 1px solid var(---color-text);
        }

        /* Basic <span> and <var> w/modifiers */
        span,
        var {
          padding: 0 0.25rem;

          font-style: normal;
        }

        var {
          border-radius: var(---border-radius);
        }

        .tight {
          padding: 0;
        }

        .paren {
          font-size: 150%;
        }

        .bracket {
          font-size: 175%;
        }

        .exp {
          font-size: 0.75rem;
        }

        /* Input wrapping <label> */
        decidables-spinner {
          --decidables-spinner-input-width: 4rem;

          display: inline-block;

          padding: 0.125rem 0.375rem 0.375rem;

          vertical-align: middle;

          border-radius: var(---border-radius);
        }

        .bottom {
          vertical-align: bottom;
        }

        /* Color scheme */
        .h {
          background: var(---color-h-light);
        }

        .m {
          background: var(---color-m-light);
        }

        .hr {
          background: var(---color-hr-light);
        }

        .fa {
          background: var(---color-fa-light);
        }

        .ppv {
          background: var(---color-present-light);
        }

        .fomr {
          background: var(---color-absent-light);
        }

        .acc {
          background: var(---color-acc-light);
        }

        .cr {
          background: var(---color-cr-light);
        }

        .far {
          background: var(---color-far-light);
        }

        .d {
          background: var(---color-d-light);
        }

        .c {
          background: var(---color-c-light);
        }

        .s {
          background: var(---color-s-light);
        }
      `]}}class SDTEquationDC2Far extends SDTEquation{static get properties(){return{unequal:{attribute:"unequal",type:Boolean,reflect:!0},d:{attribute:"d",type:Number,reflect:!0},c:{attribute:"c",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0},far:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.unequal=!1,this.d=SDTMath.d.DEFAULT,this.c=SDTMath.c.DEFAULT,this.s=SDTMath.s.DEFAULT,this.alignState()}alignState(){this.far=SDTMath.dC2Far(this.d,this.c,this.s)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-dc2far-change",{detail:{d:this.d,c:this.c,s:this.s,far:this.far},bubbles:!0}))}dInput(t){this.d=parseFloat(t.target.value),this.alignState(),this.sendEvent()}cInput(t){this.c=parseFloat(t.target.value),this.alignState(),this.sendEvent()}sInput(t){this.s=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r,n;return this.numeric?(t=x$2`
        <decidables-spinner class="d bottom" 
          ?disabled=${!this.interactive}
          step=${SDTMath.d.STEP}
          .value=${this.d}
          @input=${this.dInput.bind(this)}
        >
          <var class="math-var">dâ²</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="c bottom"
          ?disabled=${!this.interactive}
          step=${SDTMath.c.DEFAULT}
          .value=${this.c}
          @input=${this.cInput.bind(this)}
        >
          <var class="math-var">c</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="s bottom"
          ?disabled=${!this.interactive}
          min=${SDTMath.s.MIN}
          step=${SDTMath.s.STEP}
          .value=${this.s}
          @input=${this.sInput.bind(this)}
        >
          <var class="math-var">Ï</var>
        </decidables-spinner>
      `,r=x$2`
        <decidables-spinner class="far bottom"
          disabled min="0"
          max="1"
          step=".001"
          .value=${+this.far.toFixed(3)}
        >
          <var>False Alarm Rate</var>
        </decidables-spinner>
      `):(t=x$2`<var class="math-var d">dâ²</var>`,e=x$2`<var class="math-var c">c</var>`,i=x$2`<var class="math-var s">Ï</var>`,r=x$2`<var class="far">False Alarm Rate</var>`),n=this.unequal?x$2`
        <tr>
          <td rowspan="2">
            ${r}<span class="equals">=</span><var class="math-greek phi tight">Î¦</var><span class="paren tight">(</span><span class="bracket tight">[</span>
          </td>
          <td class="underline bottom">
            <span>1</span><span class="plus tight">+</span><span>${i}<sup class="exp">2</sup></span>
          </td>
          <td rowspan="2">
            <span class="bracket tight">]<sup class="exp">Â½</sup></span><span class="bracket tight">[</span>
          </td>
          <td class="underline">
            <span class="minus tight">â</span>${t}
          </td>
          <td rowspan="2">
            <span class="minus">â</span>${e}<span class="bracket tight">]</span><span class="paren tight">)</span>
          </td>
        </tr>
        <tr>
          <td>
            <span>2</span>
          </td>
          <td>
            <span><span>1</span><span class="plus">+</span>${i}</span>
          </td>
        </tr>`:x$2`
        <tr>
          <td rowspan="2">
            ${r}<span class="equals">=</span><var class="math-greek phi tight">Î¦</var><span class="paren tight">(</span><span class="minus tight">â</span>
          </td>
          <td class="underline">
            ${t}
          </td>
          <td rowspan="2">
            <span class="minus">â</span>${e}<span class="paren tight">)</span>
          </td>
        </tr>
        <tr>
          <td>
            <span>2</span>
          </td>
        </tr>`,x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("sdt-equation-dc2far",SDTEquationDC2Far);class SDTEquationDC2Hr extends SDTEquation{static get properties(){return{unequal:{attribute:"unequal",type:Boolean,reflect:!0},d:{attribute:"d",type:Number,reflect:!0},c:{attribute:"c",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0},hr:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.unequal=!1,this.d=SDTMath.d.DEFAULT,this.c=SDTMath.c.DEFAULT,this.s=SDTMath.s.DEFAULT,this.alignState()}alignState(){this.hr=SDTMath.dC2Hr(this.d,this.c,this.s)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-dc2hr-change",{detail:{d:this.d,c:this.c,s:this.s,hr:this.hr},bubbles:!0}))}dInput(t){this.d=parseFloat(t.target.value),this.alignState(),this.sendEvent()}cInput(t){this.c=parseFloat(t.target.value),this.alignState(),this.sendEvent()}sInput(t){this.s=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r,n;return this.numeric?(t=x$2`
        <decidables-spinner class="d bottom"
          ?disabled=${!this.interactive}
          step=${SDTMath.d.STEP}
          .value=${this.d}
          @input=${this.dInput.bind(this)}
        >
          <var class="math-var">dâ²</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="c bottom"
          ?disabled=${!this.interactive}
          step=${SDTMath.c.STEP}
          .value=${this.c}
          @input=${this.cInput.bind(this)}
        >
          <var class="math-var">c</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="s bottom"
          ?disabled=${!this.interactive}
          min=${SDTMath.s.MIN}
          step=${SDTMath.s.STEP}
          .value=${this.s}
          @input=${this.sInput.bind(this)}
        >
          <var class="math-var">Ï</var>
        </decidables-spinner>
      `,r=x$2`
        <decidables-spinner class="hr bottom"
          disabled
          min="0"
          max="1"
          step=".001"
          .value=${+this.hr.toFixed(3)}
        >
          <var>Hit Rate</var>
        </decidables-spinner>
      `):(t=x$2`<var class="math-var d">dâ²</var>`,e=x$2`<var class="math-var c">c</var>`,i=x$2`<var class="math-var s">Ï</var>`,r=x$2`<var class="hr">Hit Rate</var>`),n=this.unequal?x$2`
        <tr>
          <td rowspan="2">
            ${r}<span class="equals">=</span><var class="math-greek phi tight">Î¦</var><span class="paren tight">(</span><span class="bracket tight">[</span>
          </td>
          <td class="underline bottom">
            <span>1</span><span class="plus tight">+</span><span>${i}<sup class="exp">2</sup></span>
          </td>
          <td rowspan="2">
            <span class="bracket tight">]<sup class="exp">Â½</sup></span><span class="bracket tight">[</span>
          </td>
          <td class="underline">
            ${t}
          </td>
          <td rowspan="2">
            <span class="minus">â</span>
          </td>
          <td class="underline">
            ${e}
          </td>
          <td rowspan="2">
            <span class="bracket tight">]</span><span class="paren tight">)</span>
          </td>
        </tr>
        <tr>
          <td>
            <span>2</span>
          </td>
          <td>
            <span><span>1</span><span class="plus">+</span>${i}</span>
          </td>
          <td>
            ${i}
          </td>
        </tr>`:x$2`
        <tr>
          <td rowspan="2">
            ${r}<span class="equals">=</span><var class="math-greek phi tight">Î¦</var><span class="paren tight">(</span>
          </td>
          <td class="underline">
            ${t}
          </td>
          <td rowspan="2">
            <span class="minus">â</span>${e}<span class="paren tight">)</span>
          </td>
        </tr>
        <tr>
          <td>
            <span>2</span>
          </td>
        </tr>`,x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("sdt-equation-dc2hr",SDTEquationDC2Hr);class SDTEquationFaCr2Far extends SDTEquation{static get properties(){return{fa:{attribute:"false-alarms",type:Number,reflect:!0},cr:{attribute:"correct-rejections",type:Number,reflect:!0},far:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.fa=0,this.cr=0,this.alignState()}alignState(){this.far=SDTMath.faCr2Far(this.fa,this.cr)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-facr2far-change",{detail:{fa:this.fa,cr:this.cr,far:this.far},bubbles:!0}))}faInput(t){this.fa=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}crInput(t){this.cr=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i;return this.numeric?(t=x$2`
        <decidables-spinner class="fa"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.fa}
          @input=${this.faInput.bind(this)}
        >
          <var>False Alarms</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="cr"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.cr}
          @input=${this.crInput.bind(this)}
        >
          <var>Correct Rejections</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="far"
          disabled
          min="0"
          max="1"
          step=".001"
          .value=${+this.far.toFixed(3)}
        >
          <var>False Alarm Rate</var>
        </decidables-spinner>
      `):(t=x$2`<var class="fa">False Alarms</var>`,e=x$2`<var class="cr">Correct Rejections</var>`,i=x$2`<var class="far">False Alarm Rate</var>`),x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            <tr>
              <td rowspan="2">
                ${i}<span class="equals">=</span>
              </td>
              <td class="underline">
                ${t}
              </td>
            </tr>
            <tr>
              <td>
                ${t}<span class="plus">+</span>${e}
              </td>
            </tr>
          </tbody>
        </table>
      </div>`}}customElements.define("sdt-equation-facr2far",SDTEquationFaCr2Far);class SDTEquationHFa2Ppv extends SDTEquation{static get properties(){return{h:{attribute:"hits",type:Number,reflect:!0},fa:{attribute:"false-alarms",type:Number,reflect:!0},ppv:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.h=0,this.fa=0,this.alignState()}alignState(){this.ppv=SDTMath.hFa2Ppv(this.h,this.fa)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-hfa2ppv-change",{detail:{h:this.h,fa:this.fa,ppv:this.ppv},bubbles:!0}))}hInput(t){this.h=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}faInput(t){this.fa=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i;return this.numeric?(t=x$2`
        <decidables-spinner class="h"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.h}
          @input=${this.hInput.bind(this)}
        >
          <var>Hits</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="fa"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.fa}
          @input=${this.faInput.bind(this)}
        >
          <var>False Alarms</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="ppv"
          disabled
          min="0"
          max="1"
          step=".001"
          .value=${+this.ppv.toFixed(3)}
        >
          <var>Positive Predictive Value</var>
        </decidables-spinner>
      `):(t=x$2`<var class="h">Hits</var>`,e=x$2`<var class="fa">False Alarms</var>`,i=x$2`<var class="ppv">Positive Predictive Value</var>`),x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            <tr>
              <td rowspan="2">
                ${i}<span class="equals">=</span>
              </td>
              <td class="underline">
                ${t}
              </td>
            </tr>
            <tr>
              <td>
                ${t}<span class="plus">+</span>${e}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    `}}customElements.define("sdt-equation-hfa2ppv",SDTEquationHFa2Ppv);class SDTEquationHM2Hr extends SDTEquation{static get properties(){return{h:{attribute:"hits",type:Number,reflect:!0},m:{attribute:"misses",type:Number,reflect:!0},hr:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.h=0,this.m=0,this.alignState()}alignState(){this.hr=SDTMath.hM2Hr(this.h,this.m)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-hm2hr-change",{detail:{h:this.h,m:this.m,hr:this.hr},bubbles:!0}))}hInput(t){this.h=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}mInput(t){this.m=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i;return this.numeric?(t=x$2`
        <decidables-spinner class="h"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.h}
          @input=${this.hInput.bind(this)}
        >
          <var>Hits</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="m"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.m}
          @input=${this.mInput.bind(this)}
        >
          <var>Misses</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="hr"
          disabled
          min="0"
          max="1"
          step=".001"
          .value=${+this.hr.toFixed(3)}
        >
          <var>Hit Rate</var>
        </decidables-spinner>
      `):(t=x$2`<var class="h">Hits</var>`,e=x$2`<var class="m">Misses</var>`,i=x$2`<var class="hr">Hit Rate</var>`),x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            <tr>
              <td rowspan="2">
                ${i}<span class="equals">=</span>
              </td>
              <td class="underline">
                ${t}
              </td>
            </tr>
            <tr>
              <td>
                ${t}<span class="plus">+</span>${e}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    `}}customElements.define("sdt-equation-hm2hr",SDTEquationHM2Hr);class SDTEquationHMFaCr2Acc extends SDTEquation{static get properties(){return{h:{attribute:"hits",type:Number,reflect:!0},m:{attribute:"misses",type:Number,reflect:!0},fa:{attribute:"false-alarms",type:Number,reflect:!0},cr:{attribute:"correct-rejections",type:Number,reflect:!0},acc:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.h=0,this.m=0,this.fa=0,this.cr=0,this.alignState()}alignState(){this.acc=SDTMath.hMFaCr2Acc(this.h,this.m,this.fa,this.cr)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-hmfacr2acc-change",{detail:{h:this.h,m:this.m,fa:this.fa,cr:this.cr,acc:this.acc},bubbles:!0}))}hInput(t){this.h=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}mInput(t){this.m=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}faInput(t){this.fa=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}crInput(t){this.cr=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r,n;return this.numeric?(t=x$2`
        <decidables-spinner class="h"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.h}
          @input=${this.hInput.bind(this)}
        >
          <var>Hits</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="m"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.m}
          @input=${this.mInput.bind(this)}
        >
          <var>Misses</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="fa"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.fa}
          @input=${this.faInput.bind(this)}
        >
          <var>False Alarms</var>
        </decidables-spinner>
      `,r=x$2`
        <decidables-spinner class="cr"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.cr}
          @input=${this.crInput.bind(this)}
        >
          <var>Correct Rejections</var>
        </decidables-spinner>
      `,n=x$2`
        <decidables-spinner class="acc"
          disabled
          min="0"
          max="1"
          step=".001"
          .value=${+this.acc.toFixed(3)}
        >
          <var>Accuracy</var>
        </decidables-spinner>
      `):(t=x$2`<var class="h">Hits</var>`,e=x$2`<var class="m">Misses</var>`,i=x$2`<var class="fa">False Alarms</var>`,r=x$2`<var class="cr">Correct Rejections</var>`,n=x$2`<var class="acc">Accuracy</var>`),x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            <tr>
              <td rowspan="2">
                ${n}<span class="equals">=</span>
              </td>
              <td class="underline">
                ${t}<span class="plus">+</span>${r}
              </td>
            </tr>
            <tr>
              <td>
                ${t}<span class="plus">+</span>${r}<span class="plus">+</span>${e}<span class="plus">+</span>${i}
              </td>
            </tr>
          </tbody>
        </table>
      </div>`}}customElements.define("sdt-equation-hmfacr2acc",SDTEquationHMFaCr2Acc);class SDTEquationHrFar2C extends SDTEquation{static get properties(){return{unequal:{attribute:"unequal",type:Boolean,reflect:!0},hr:{attribute:"hit-rate",type:Number,reflect:!0},far:{attribute:"false-alarm-rate",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0},c:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.unequal=!1,this.hr=0,this.far=0,this.s=SDTMath.s.DEFAULT,this.alignState()}alignState(){this.c=SDTMath.hrFar2C(this.hr,this.far,this.s)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-hrfar2c-change",{detail:{hr:this.hr,far:this.far,s:this.s,c:this.c},bubbles:!0}))}hrInput(t){this.hr=parseFloat(t.target.value),this.alignState(),this.sendEvent()}farInput(t){this.far=parseFloat(t.target.value),this.alignState(),this.sendEvent()}sInput(t){this.s=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r,n;return this.numeric?(t=x$2`
        <decidables-spinner class="hr bottom"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".001"
          .value=${this.hr}
          @input=${this.hrInput.bind(this)}
        >
          <var>Hit Rate</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="far bottom"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".001"
          .value=${this.far}
          @input=${this.farInput.bind(this)}
        >
          <var>False Alarm Rate</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="s bottom"
          ?disabled=${!this.interactive}
          min=${SDTMath.s.MIN}
          step=${SDTMath.s.STEP}
          .value=${this.s}
          @input=${this.sInput.bind(this)}
        >
          <var class="math-var">Ï</var>
        </decidables-spinner>
      `,r=x$2`
        <decidables-spinner class="c bottom"
          disabled
          step=${SDTMath.c.MIN}
          .value=${+this.c.toFixed(3)}
        >
          <var class="math-var">c</var>
        </decidables-spinner>
      `):(t=x$2`<var class="hr">Hit Rate</var>`,e=x$2`<var class="far">False Alarm Rate</var>`,i=x$2`<var class="math-var s">Ï</var>`,r=x$2`<var class="math-var c">c</var>`),n=this.unequal?x$2`
        <tr>
          <td rowspan="2">
            ${r}<span class="equals">=</span><span class="bracket tight">(</span>
          </td>
          <td class="underline bottom">
            <span>1</span><span class="plus tight">+</span><span>${i}<sup class="exp">2</sup></span>
          </td>
          <td rowspan="2">
            <span class="bracket tight">)<sup class="exp">âÂ½</sup></span><span class="bracket tight">(</span>
          </td>
          <td class="underline bottom">
            <span class="minus tight">â</span>${i}
          </td>
          <td rowspan="2">
            <span class="bracket tight">)</span><span class="bracket">[</span><span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${t}<span class="paren tight">)</span><span class="plus">+</span><span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${e}<span class="paren tight">)</span><span class="bracket">]</span>
          </td>
        </tr>
        <tr>
          <td>
            <span>2</span>
          </td>
          <td>
            <span><span>1</span><span class="plus">+</span>${i}</span>
          </td>
        </tr>`:x$2`
        <tr>
          <td rowspan="2">
            ${r}<span class="equals">=</span>
          </td>
          <td class="underline">
            <span class="minus tight">â</span><span class="bracket tight">[</span><span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${t}<span class="paren tight">)</span><span class="plus">+</span><span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${e}<span class="paren tight">)</span><span class="bracket tight">]</span>
          </td>
        </tr>
        <tr>
          <td>
            <span>2</span>
          </td>
        </tr>`,x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("sdt-equation-hrfar2c",SDTEquationHrFar2C);class SDTEquationHrFar2D extends SDTEquation{static get properties(){return{unequal:{attribute:"unequal",type:Boolean,reflect:!0},hr:{attribute:"hit-rate",type:Number,reflect:!0},far:{attribute:"false-alarm-rate",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0},d:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.unequal=!1,this.hr=0,this.far=0,this.s=SDTMath.s.DEFAULT,this.alignState()}alignState(){this.d=SDTMath.hrFar2D(this.hr,this.far,this.s)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-hrfar2d-change",{detail:{hr:this.hr,far:this.far,s:this.s,d:this.d},bubbles:!0}))}hrInput(t){this.hr=parseFloat(t.target.value),this.alignState(),this.sendEvent()}farInput(t){this.far=parseFloat(t.target.value),this.alignState(),this.sendEvent()}sInput(t){this.s=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r,n;return this.numeric?(t=x$2`
        <decidables-spinner class="hr bottom"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".001"
          .value=${this.hr}
          @input=${this.hrInput.bind(this)}
        >
          <var>Hit Rate</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="far bottom"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".001"
          .value=${this.far}
          @input=${this.farInput.bind(this)}
        >
          <var>False Alarm Rate</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="s bottom"
          ?disabled=${!this.interactive}
          min="0"
          step=".001"
          .value=${this.s}
          @input=${this.sInput.bind(this)}
        >
          <var class="math-var">Ï</var>
        </decidables-spinner>
      `,r=x$2`
        <decidables-spinner class="d bottom"
          disabled
          step=${SDTMath.d.STEP}
          .value=${+this.d.toFixed(3)}
        >
          <var class="math-var">dâ²</var>
        </decidables-spinner>
      `):(t=x$2`<var class="hr">Hit Rate</var>`,e=x$2`<var class="far">False Alarm Rate</var>`,i=x$2`<var class="math-var s">Ï</var>`,r=x$2`<var class="math-var d">dâ²</var>`),n=this.unequal?x$2`
        <tr>
          <td rowspan="2">
            ${r}<span class="equals">=</span><span class="bracket tight">(</span>
          </td>
          <td class="underline bottom">
            <span>1</span><span class="plus tight">+</span><span>${i}<sup class="exp">2</sup></span>
          </td>
          <td rowspan="2">
            <span class="bracket tight">)<sup class="exp">âÂ½</sup></span><span class="bracket">[</span>${i}<span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${t}<span class="paren tight">)</span><span class="minus">â</span><span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${e}<span class="paren tight">)</span><span class="bracket">]</span>
          </td>
        </tr>
        <tr>
          <td>
            <span>2</span>
          </td>
        </tr>`:x$2`
        <tr>
          <td>
              ${r}<span class="equals">=</span><span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${t}<span class="paren tight">)</span><span class="minus">â</span><span class="tight"><var class="math-greek phi tight">Î¦</var><sup class="exp">â1</sup></span><span class="paren tight">(</span>${e}<span class="paren tight">)</span>
          </td>
        </tr>`,x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("sdt-equation-hrfar2d",SDTEquationHrFar2D);class SDTEquationMCr2Fomr extends SDTEquation{static get properties(){return{m:{attribute:"misses",type:Number,reflect:!0},cr:{attribute:"correct-rejections",type:Number,reflect:!0},fomr:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.m=0,this.cr=0,this.alignState()}alignState(){this.fomr=SDTMath.mCr2Fomr(this.m,this.cr)}sendEvent(){this.dispatchEvent(new CustomEvent("sdt-equation-mcr2fomr-change",{detail:{m:this.m,cr:this.cr,fomr:this.fomr},bubbles:!0}))}mInput(t){this.m=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}crInput(t){this.cr=parseInt(t.target.value,10),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i;return this.numeric?(t=x$2`
        <decidables-spinner class="m"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.m}
          @input=${this.mInput.bind(this)}
        >
          <var>Misses</var>
        </decidables-spinner>
      `,e=x$2`
        <decidables-spinner class="cr"
          ?disabled=${!this.interactive}
          min="0"
          .value=${this.cr}
          @input=${this.crInput.bind(this)}
        >
          <var>Correct Rejections</var>
        </decidables-spinner>
      `,i=x$2`
        <decidables-spinner class="fomr"
          disabled
          min="0"
          max="1"
          step=".001"
          .value=${+this.fomr.toFixed(3)}
        >
          <var>False Omission Rate</var>
        </decidables-spinner>
      `):(t=x$2`<var class="m">Misses</var>`,e=x$2`<var class="cr">Correct Rejections</var>`,i=x$2`<var class="fomr">False Omission Rate</var>`),x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            <tr>
              <td rowspan="2">
                ${i}<span class="equals">=</span>
              </td>
              <td class="underline">
                ${t}
              </td>
            </tr>
            <tr>
              <td>
                ${t}<span class="plus">+</span>${e}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    `}}customElements.define("sdt-equation-mcr2fomr",SDTEquationMCr2Fomr);class SDTExample extends DetectableElement{static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          margin-bottom: 1rem;
        }

        .holder {
          display: flex;
        }

        .body {
          display: flex;

          flex-wrap: wrap;

          align-items: center;
          justify-content: left;

          padding: 0.625rem;

          border: var(---border);
          border-radius: var(---border-radius);
        }

        .body ::slotted(*) {
          margin: 0.625rem;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > rdk-task + detectable-response,
        ::slotted(rdk-task) + ::slotted(detectable-response) { */
        .body ::slotted(detectable-response) {
          margin-left: 0;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > detectable-control + rdk-task,
        ::slotted(detectable-control) + ::slotted(rdk-task) {
          margin-left: 0;
        } */
        .body ::slotted(rdk-task) {
          margin-left: 0;
        }
      `]}render(){return x$2`
      <div class="holder">
        <div class="body">
          <slot>Empty!</slot>
        </div>
      </div>`}}customElements.define("sdt-example",SDTExample);class SDTExampleDoubleInteractive extends SDTExample{connectedCallback(){super.connectedCallback(),this.one={},this.one.h=95,this.one.m=5,this.one.fa=35,this.one.cr=65,this.one.hr=SDTMath.hM2Hr(this.one.h,this.one.m),this.one.far=SDTMath.faCr2Far(this.one.fa,this.one.cr),this.one.d=SDTMath.hrFar2D(this.one.hr,this.one.far),this.one.c=SDTMath.hrFar2C(this.one.hr,this.one.far),this.two={},this.two.h=40,this.two.m=60,this.two.fa=20,this.two.cr=80,this.two.hr=SDTMath.hM2Hr(this.two.h,this.two.m),this.two.far=SDTMath.faCr2Far(this.two.fa,this.two.cr),this.two.d=SDTMath.hrFar2D(this.two.hr,this.two.far),this.two.c=SDTMath.hrFar2C(this.two.hr,this.two.far),this.detectableTableOne=this.querySelector("detectable-table:nth-of-type(1)"),this.detectableTableTwo=this.querySelector("detectable-table:nth-of-type(2)"),this.rocSpace=this.querySelector("roc-space"),this.sdtModelOne=this.querySelector("sdt-model:nth-of-type(1)"),this.sdtModelTwo=this.querySelector("sdt-model:nth-of-type(2)"),this.detectableTableOne&&(this.detectableTableOne.h=this.one.h,this.detectableTableOne.m=this.one.m,this.detectableTableOne.fa=this.one.fa,this.detectableTableOne.cr=this.one.cr,this.detectableTableOne.addEventListener("detectable-table-change",t=>{this.rocSpace&&this.rocSpace.set(t.detail.hr,t.detail.far,"default","â"),this.sdtModelOne&&(this.sdtModelOne.d=SDTMath.hrFar2D(t.detail.hr,t.detail.far),this.sdtModelOne.c=SDTMath.hrFar2C(t.detail.hr,t.detail.far))})),this.detectableTableTwo&&(this.detectableTableTwo.h=this.two.h,this.detectableTableTwo.m=this.two.m,this.detectableTableTwo.fa=this.two.fa,this.detectableTableTwo.cr=this.two.cr,this.detectableTableTwo.addEventListener("detectable-table-change",t=>{this.rocSpace&&this.rocSpace.set(t.detail.hr,t.detail.far,"two","â"),this.sdtModelTwo&&(this.sdtModelTwo.d=SDTMath.hrFar2D(t.detail.hr,t.detail.far),this.sdtModelTwo.c=SDTMath.hrFar2C(t.detail.hr,t.detail.far))})),this.rocSpace&&(this.rocSpace.set(this.one.hr,this.one.far,"default","â"),this.rocSpace.set(this.two.hr,this.two.far,"two","â"),this.rocSpace.addEventListener("roc-point-change",t=>{if("default"===t.detail.name&&this.sdtModelOne?(this.sdtModelOne.d=t.detail.d,this.sdtModelOne.c=t.detail.c):"two"===t.detail.name&&this.sdtModelTwo&&(this.sdtModelTwo.d=t.detail.d,this.sdtModelTwo.c=t.detail.c),"default"===t.detail.name&&this.detectableTableOne){const e=Math.round((this.detectableTableOne.h+this.detectableTableOne.m)*t.detail.hr),i=this.detectableTableOne.h+this.detectableTableOne.m-e,r=Math.round((this.detectableTableOne.fa+this.detectableTableOne.cr)*t.detail.far),n=this.detectableTableOne.fa+this.detectableTableOne.cr-r;this.detectableTableOne.h=e,this.detectableTableOne.m=i,this.detectableTableOne.fa=r,this.detectableTableOne.cr=n}else if("two"===t.detail.name&&this.detectableTableTwo){const e=Math.round((this.detectableTableTwo.h+this.detectableTableTwo.m)*t.detail.hr),i=this.detectableTableTwo.h+this.detectableTableTwo.m-e,r=Math.round((this.detectableTableTwo.fa+this.detectableTableTwo.cr)*t.detail.far),n=this.detectableTableTwo.fa+this.detectableTableTwo.cr-r;this.detectableTableTwo.h=e,this.detectableTableTwo.m=i,this.detectableTableTwo.fa=r,this.detectableTableTwo.cr=n}})),this.sdtModelOne&&(this.sdtModelOne.d=this.one.d,this.sdtModelOne.c=this.one.c,this.sdtModelOne.addEventListener("sdt-model-change",t=>{if(this.rocSpace&&this.rocSpace.setWithSDT(t.detail.d,t.detail.c,"default","â"),this.detectableTableOne){const e=Math.round((this.detectableTableOne.h+this.detectableTableOne.m)*t.detail.hr),i=this.detectableTableOne.h+this.detectableTableOne.m-e,r=Math.round((this.detectableTableOne.fa+this.detectableTableOne.cr)*t.detail.far),n=this.detectableTableOne.fa+this.detectableTableOne.cr-r;this.detectableTableOne.h=e,this.detectableTableOne.m=i,this.detectableTableOne.fa=r,this.detectableTableOne.cr=n}})),this.sdtModelTwo&&(this.sdtModelTwo.d=this.two.d,this.sdtModelTwo.c=this.two.c,this.sdtModelTwo.addEventListener("sdt-model-change",t=>{if(this.rocSpace&&this.rocSpace.setWithSDT(t.detail.d,t.detail.c,"two","â"),this.detectableTableTwo){const e=Math.round((this.detectableTableTwo.h+this.detectableTableTwo.m)*t.detail.hr),i=this.detectableTableTwo.h+this.detectableTableTwo.m-e,r=Math.round((this.detectableTableTwo.fa+this.detectableTableTwo.cr)*t.detail.far),n=this.detectableTableTwo.fa+this.detectableTableTwo.cr-r;this.detectableTableTwo.h=e,this.detectableTableTwo.m=i,this.detectableTableTwo.fa=r,this.detectableTableTwo.cr=n}}))}}customElements.define("sdt-example-double-interactive",SDTExampleDoubleInteractive);class SDTExampleHuman extends SDTExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},coherence:{attribute:"coherence",type:Number,reflect:!0},payoff:{attribute:"payoff",type:Number,reflect:!0},h:{attribute:!1,type:Number,reflect:!1},m:{attribute:!1,type:Number,reflect:!1},fa:{attribute:!1,type:Number,reflect:!1},cr:{attribute:!1,type:Number,reflect:!1},hr:{attribute:!1,type:Number,reflect:!1},far:{attribute:!1,type:Number,reflect:!1},d:{attribute:!1,type:Number,reflect:!1},c:{attribute:!1,type:Number,reflect:!1},s:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trials=10,this.duration=2e3,this.coherence=.5,this.payoff=0,this.h=0,this.m=0,this.fa=0,this.cr=0,this.hr=.5,this.far=.5,this.d=0,this.c=0,this.s=SDTMath.s.DEFAULT,this.count=0,this.detectableControl=null,this.detectableResponse=null,this.detectableTable=null,this.rdkTask=null,this.rocSpace=null,this.sdtModel=null,this.sdtParameters=null}connectedCallback(){super.connectedCallback(),this.count=1,this.detectableControl=this.querySelector("detectable-control"),this.detectableResponse=this.querySelector("detectable-response"),this.detectableTable=this.querySelector("detectable-table"),this.rdkTask=this.querySelector("rdk-task"),this.rocSpace=this.querySelector("roc-space"),this.sdtModel=this.querySelector("sdt-model"),this.sdtParameters=this.querySelector("sdt-parameters"),this.rocSpace&&this.rocSpace.hasAttribute("history")&&this.rocSpace.set(.5,.5,"default",this.count),this.detectableControl&&(this.detectableControl.addEventListener("detectable-control-trials",t=>{this.trials=t.detail.trials}),this.detectableControl.addEventListener("detectable-control-duration",t=>{this.duration=t.detail.duration}),this.detectableControl.addEventListener("detectable-control-coherence",t=>{this.coherence=t.detail.coherence}),this.detectableControl.addEventListener("detectable-control-payoff",t=>{this.payoff=t.detail.payoff}),this.detectableControl.addEventListener("detectable-control-run",()=>{this.rdkTask&&(this.rdkTask.running=!0)}),this.detectableControl.addEventListener("detectable-control-pause",()=>{this.rdkTask&&(this.rdkTask.running=!1)}),this.detectableControl.addEventListener("detectable-control-reset",()=>{this.rdkTask&&this.rdkTask.reset(),this.detectableResponse&&this.detectableResponse.reset(),this.h=0,this.m=0,this.fa=0,this.cr=0,this.hr=.5,this.far=.5,this.d=0,this.c=0,this.rocSpace&&this.rocSpace.hasAttribute("history")&&(this.count+=1,this.rocSpace.set(.5,.5,`point${this.count}`,this.count))})),this.rdkTask&&(this.rdkTask.addEventListener("rdk-trial-start",t=>{this.detectableResponse&&this.detectableResponse.start(t.detail.signal,t.detail.trial)}),this.rdkTask.addEventListener("rdk-trial-end",()=>{this.detectableResponse&&this.detectableResponse.stop()}),this.rdkTask.addEventListener("rdk-block-end",()=>{this.detectableControl&&this.detectableControl.complete()})),this.detectableResponse&&this.detectableResponse.addEventListener("detectable-response",t=>{this.h=t.detail.h,this.m=t.detail.m,this.fa=t.detail.fa,this.cr=t.detail.cr,this.hr=SDTMath.hM2Hr(this.h+1,this.m+1),this.far=SDTMath.faCr2Far(this.fa+1,this.cr+1),this.d=SDTMath.hrFar2D(this.hr,this.far),this.c=SDTMath.hrFar2C(this.hr,this.far),this.rocSpace&&this.rocSpace.hasAttribute("history")&&this.rocSpace.set(this.hr,this.far,1===this.count?"default":`point${this.count}`,this.count)}),this.sdtParameters&&(this.sdtParameters.addEventListener("sdt-parameters-d",t=>{this.d=t.detail.d}),this.sdtParameters.addEventListener("sdt-parameters-c",t=>{this.c=t.detail.c}),this.sdtParameters.addEventListener("sdt-parameters-s",t=>{this.s=t.detail.s}))}update(t){super.update(t),this.detectableControl&&(this.detectableControl.trials=null!=this.detectableControl.trials?this.trials:void 0,this.detectableControl.duration=null!=this.detectableControl.duration?this.duration:void 0,this.detectableControl.coherence=null!=this.detectableControl.coherence?this.coherence:void 0,this.detectableControl.payoff=null!=this.detectableControl.payoff?this.payoff:void 0),this.detectableResponse&&(this.detectableResponse.trialTotal=this.trials,this.detectableResponse.hPayoff=this.payoff,this.detectableResponse.mPayoff=0-this.payoff,this.detectableResponse.faPayoff=0-(100-this.payoff),this.detectableResponse.crPayoff=100-this.payoff),this.detectableTable&&(this.detectableTable.h=this.h,this.detectableTable.m=this.m,this.detectableTable.cr=this.cr,this.detectableTable.fa=this.fa,this.detectableTable.hPayoff=this.payoff,this.detectableTable.mPayoff=0-this.payoff,this.detectableTable.faPayoff=0-(100-this.payoff),this.detectableTable.crPayoff=100-this.payoff),this.rdkTask&&(this.rdkTask.trials=this.trials,this.rdkTask.duration=this.duration,this.rdkTask.wait=this.duration===1/0?0:this.duration,this.rdkTask.iti=this.duration===1/0?0:this.duration,this.rdkTask.coherence=this.coherence),this.rocSpace&&!this.rocSpace.hasAttribute("history")&&(this.rocSpace.hr=this.hr,this.rocSpace.far=this.far),this.sdtModel&&(this.sdtModel.d=this.d,this.sdtModel.c=this.c,this.sdtModel.s=this.s),this.sdtParameters&&(this.sdtParameters.d=null!=this.sdtParameters.d?this.d:void 0,this.sdtParameters.c=null!=this.sdtParameters.c?this.c:void 0,this.sdtParameters.s=null!=this.sdtParameters.s?this.s:void 0)}}customElements.define("sdt-example-human",SDTExampleHuman);class SDTExampleInteractive extends SDTExample{static get properties(){return{color:{attribute:"color",type:String,reflect:!0},zRoc:{attribute:"z-roc",type:Boolean,reflect:!0},h:{attribute:"hits",type:Number,reflect:!0},m:{attribute:"misses",type:Number,reflect:!0},fa:{attribute:"false-alarms",type:Number,reflect:!0},cr:{attribute:"correct-rejections",type:Number,reflect:!0},hr:{attribute:"hr",type:Number,reflect:!0},far:{attribute:"far",type:Number,reflect:!0},d:{attribute:"d",type:Number,reflect:!0},c:{attribute:"c",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0}}}constructor(){super(),this.color="all",this.zRoc=!1,this.h=void 0,this.m=void 0,this.fa=void 0,this.cr=void 0,this.hr=void 0,this.far=void 0,this.d=SDTMath.d.DEFAULT,this.c=SDTMath.c.DEFAULT,this.s=SDTMath.s.DEFAULT,this.detectableControl=null,this.detectableTable=null,this.rocSpace=null,this.sdtModel=null,this.sdtParameters=null,this.rocSpaces=[]}connectedCallback(){if(super.connectedCallback(),this.detectableControl=this.querySelector("detectable-control"),this.detectableTable=this.querySelector("detectable-table"),this.rocSpace=this.querySelector("roc-space"),this.sdtModel=this.querySelector("sdt-model"),this.sdtParameters=this.querySelector("sdt-parameters"),this.rocSpaces=this.querySelectorAll("roc-space"),void 0!==this.h&&void 0!==this.m&&void 0!==this.fa&&void 0!==this.cr)this.hr=SDTMath.hM2Hr(this.h,this.m),this.far=SDTMath.faCr2Far(this.fa,this.cr),this.d=SDTMath.hrFar2D(this.hr,this.far,this.s),this.c=SDTMath.hrFar2C(this.hr,this.far,this.s);else if(void 0!==this.hr&&void 0!==this.far)this.d=SDTMath.hrFar2D(this.hr,this.far,this.s),this.c=SDTMath.hrFar2C(this.hr,this.far,this.s);else if(void 0!==this.d&&void 0!==this.c){this.hr=SDTMath.dC2Hr(this.d,this.c,this.s),this.far=SDTMath.dC2Far(this.d,this.c,this.s);const t=100;this.h=Math.round(t*this.hr),this.m=t-this.h,this.fa=Math.round(t*this.far),this.cr=t-this.fa}this.detectableControl&&(this.detectableControl.addEventListener("detectable-control-color",t=>{this.color=t.detail.color}),this.detectableControl.addEventListener("detectable-control-z-roc",t=>{this.zRoc=t.detail.zRoc})),this.detectableTable&&this.detectableTable.addEventListener("detectable-table-change",t=>{this.h=t.detail.h,this.m=t.detail.m,this.fa=t.detail.fa,this.cr=t.detail.cr,this.far=t.detail.far,this.hr=t.detail.hr,this.d=SDTMath.hrFar2D(this.hr,this.far,this.s),this.c=SDTMath.hrFar2C(this.hr,this.far,this.s)}),this.rocSpace&&this.rocSpace.addEventListener("roc-point-change",t=>{this.d=t.detail.d,this.c=t.detail.c,this.s=t.detail.s,this.hr=t.detail.hr,this.far=t.detail.far;const e=Math.round((this.h+this.m)*this.hr),i=this.h+this.m-e,r=Math.round((this.fa+this.cr)*this.far),n=this.fa+this.cr-r;this.h=e,this.m=i,this.fa=r,this.cr=n}),this.sdtModel&&this.sdtModel.addEventListener("sdt-model-change",t=>{this.d=t.detail.d,this.c=t.detail.c,this.s=t.detail.s,this.hr=t.detail.hr,this.far=t.detail.far;const e=Math.round((this.h+this.m)*this.hr),i=this.h+this.m-e,r=Math.round((this.fa+this.cr)*this.far),n=this.fa+this.cr-r;this.h=e,this.m=i,this.fa=r,this.cr=n}),this.sdtParameters&&(this.sdtParameters.addEventListener("sdt-parameters-d",t=>{this.d=t.detail.d}),this.sdtParameters.addEventListener("sdt-parameters-c",t=>{this.c=t.detail.c}),this.sdtParameters.addEventListener("sdt-parameters-s",t=>{this.s=t.detail.s}))}update(t){super.update(t),this.detectableControl&&(this.detectableControl.color=null!=this.detectableControl.color?this.color:void 0,this.detectableControl.zRoc=null!=this.detectableControl.zRoc?this.zRoc:void 0),this.detectableTable&&(this.detectableTable.color=this.color,this.detectableTable.h=this.h,this.detectableTable.m=this.m,this.detectableTable.cr=this.cr,this.detectableTable.fa=this.fa),this.rocSpace&&(this.rocSpace.hr=this.hr,this.rocSpace.far=this.far),this.sdtModel&&(this.sdtModel.color=this.color,this.sdtModel.d=this.d,this.sdtModel.c=this.c,this.sdtModel.s=this.s),this.rocSpaces.length>0&&this.rocSpaces.forEach(t=>{t.zRoc=this.zRoc,t.setWithSDT(this.d,this.c,"default","",this.s)}),this.sdtParameters&&(this.sdtParameters.d=null!=this.sdtParameters.d?this.d:void 0,this.sdtParameters.c=null!=this.sdtParameters.c?this.c:void 0,this.sdtParameters.s=null!=this.sdtParameters.s?this.s:void 0)}}customElements.define("sdt-example-interactive",SDTExampleInteractive);class SDTExampleModel extends SDTExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},coherence:{attribute:"coherence",type:Number,reflect:!0},color:{attribute:"color",type:String,reflect:!0},d:{attribute:"d",type:Number,reflect:!0},c:{attribute:"c",type:Number,reflect:!0},s:{attribute:"s",type:Number,reflect:!0},h:{attribute:!1,type:Number,reflect:!1},m:{attribute:!1,type:Number,reflect:!1},fa:{attribute:!1,type:Number,reflect:!1},cr:{attribute:!1,type:Number,reflect:!1},hr:{attribute:!1,type:Number,reflect:!1},far:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trials=10,this.duration=2e3,this.coherence=.5,this.color="all",this.d=SDTMath.s.DEFAULT,this.c=SDTMath.s.DEFAULT,this.s=SDTMath.s.DEFAULT,this.h=0,this.m=0,this.fa=0,this.cr=0,this.hr=.5,this.far=.5,this.detectableControl=null,this.detectableResponse=null,this.detectableTable=null,this.rdkTask=null,this.rocSpace=null,this.sdtModel=null,this.sdtParameters=null}connectedCallback(){super.connectedCallback(),this.detectableControl=this.querySelector("detectable-control"),this.detectableResponse=this.querySelector("detectable-response"),this.detectableTable=this.querySelector("detectable-table"),this.rdkTask=this.querySelector("rdk-task"),this.rocSpace=this.querySelector("roc-space"),this.sdtModel=this.querySelector("sdt-model"),this.sdtParameters=this.querySelector("sdt-parameters"),this.detectableControl&&(this.detectableControl.addEventListener("detectable-control-trials",t=>{this.trials=t.detail.trials}),this.detectableControl.addEventListener("detectable-control-coherence",t=>{this.coherence=t.detail.coherence}),this.detectableControl.addEventListener("detectable-control-duration",t=>{this.duration=t.detail.duration}),this.detectableControl.addEventListener("detectable-control-color",t=>{this.color=t.detail.color}),this.detectableControl.addEventListener("detectable-control-run",()=>{this.rdkTask&&(this.rdkTask.running=!0),this.sdtModel&&this.sdtModel.resumeTrial()}),this.detectableControl.addEventListener("detectable-control-pause",()=>{this.rdkTask&&(this.rdkTask.running=!1),this.sdtModel&&this.sdtModel.pauseTrial()}),this.detectableControl.addEventListener("detectable-control-reset",()=>{this.rdkTask&&this.rdkTask.reset(),this.detectableResponse&&this.detectableResponse.reset(),this.sdtModel&&this.sdtModel.reset(),this.h=0,this.m=0,this.fa=0,this.cr=0,this.hr=.5,this.far=.5})),this.rdkTask&&(this.rdkTask.addEventListener("rdk-trial-start",t=>{this.detectableResponse&&this.detectableResponse.start(t.detail.signal,t.detail.trial),this.sdtModel&&this.sdtModel.trial(t.detail.trial,t.detail.signal,t.detail.duration,t.detail.wait,t.detail.iti)}),this.rdkTask.addEventListener("rdk-trial-end",()=>{this.detectableResponse&&this.detectableResponse.stop()}),this.rdkTask.addEventListener("rdk-block-end",()=>{this.detectableControl&&this.detectableControl.complete()})),this.sdtModel&&(this.sdtModel.addEventListener("detectable-response",t=>{this.detectableResponse&&this.detectableResponse.responded(t.detail.response),this.h=t.detail.h,this.m=t.detail.m,this.fa=t.detail.fa,this.cr=t.detail.cr,this.hr=SDTMath.hM2Hr(this.h,this.m),this.far=SDTMath.faCr2Far(this.fa,this.cr)}),this.sdtModel.addEventListener("sdt-model-change",t=>{this.d=t.detail.d,this.c=t.detail.c,this.s=t.detail.s,this.h=t.detail.h,this.m=t.detail.m,this.fa=t.detail.fa,this.cr=t.detail.cr,this.hr=SDTMath.hM2Hr(this.h,this.m),this.far=SDTMath.faCr2Far(this.fa,this.cr)})),this.sdtParameters&&(this.sdtParameters.addEventListener("sdt-parameters-d",t=>{this.d=t.detail.d}),this.sdtParameters.addEventListener("sdt-parameters-c",t=>{this.c=t.detail.c}),this.sdtParameters.addEventListener("sdt-parameters-s",t=>{this.s=t.detail.s}))}update(t){super.update(t),this.detectableControl&&(this.detectableControl.trials=void 0!==this.detectableControl.trials?this.trials:void 0,this.detectableControl.coherence=void 0!==this.detectableControl.coherence?this.coherence:void 0,this.detectableControl.duration=void 0!==this.detectableControl.duration?this.duration:void 0,this.detectableControl.color=void 0!==this.detectableControl.color?this.color:void 0),this.detectableResponse&&(this.detectableResponse.trialTotal=this.trials),this.detectableTable&&(this.detectableTable.color=this.color,this.detectableTable.h=this.h,this.detectableTable.m=this.m,this.detectableTable.cr=this.cr,this.detectableTable.fa=this.fa),this.rdkTask&&(this.rdkTask.trials=this.trials,this.rdkTask.duration=this.duration,this.rdkTask.wait=this.duration,this.rdkTask.iti=this.duration,this.rdkTask.coherence=this.coherence),this.rocSpace&&(this.rocSpace.hr=this.hr,this.rocSpace.far=this.far),this.sdtModel&&(this.sdtModel.color=this.color,this.sdtModel.d=this.d,this.sdtModel.c=this.c,this.sdtModel.s=this.s),this.sdtParameters&&(this.sdtParameters.d=null!=this.sdtParameters.d?this.d:void 0,this.sdtParameters.c=null!=this.sdtParameters.c?this.c:void 0,this.sdtParameters.s=null!=this.sdtParameters.s?this.s:void 0)}}customElements.define("sdt-example-model",SDTExampleModel);class SDTExampleMultiple extends SDTExample{static get properties(){return{variable:{attribute:"variable",type:String,reflect:!0},values:{attribute:"values",converter:DecidablesConverterArray,reflect:!0}}}constructor(){super(),this.variables=["d","c"],this.variable="d",this.values=[0,1]}connectedCallback(){super.connectedCallback(),this.detectableControl=this.querySelector("detectable-control"),this.rocSpace=this.querySelector("roc-space"),this.sdtModel=this.querySelector("sdt-model"),this.detectableControl&&this.detectableControl.addEventListener("detectable-control-z-roc",t=>{this.rocSpace.zRoc=t.detail.zRoc}),this.rocSpace&&(this.rocSpace.setWithSDT(1,0,"default","",1),"d"===this.variable?this.values.forEach((t,e)=>{this.rocSpace.setWithSDT(t,this.sdtModel.c,`point${e}`,e+1,this.sdtModel.s)}):"c"===this.variable&&this.values.forEach((t,e)=>{this.rocSpace.setWithSDT(this.sdtModel.d,t,`point${e}`,e+1,this.sdtModel.s)})),this.sdtModel&&this.sdtModel.addEventListener("sdt-model-change",t=>{this.rocSpace&&(this.rocSpace.setWithSDT(t.detail.d,t.detail.c,"default","",t.detail.s),"d"===this.variable?this.values.forEach((e,i)=>{this.rocSpace.setWithSDT(e,t.detail.c,`point${i}`,i+1,t.detail.s)}):"c"===this.variable&&this.values.forEach((e,i)=>{this.rocSpace.setWithSDT(t.detail.d,e,`point${i}`,i+1,t.detail.s)}))})}}customElements.define("sdt-example-multiple",SDTExampleMultiple);class SDTExampleUnequal extends SDTExample{connectedCallback(){super.connectedCallback(),this.detectableControl=this.querySelector("detectable-control"),this.rocSpace=this.querySelector("roc-space"),this.sdtModel=this.querySelector("sdt-model"),this.detectableControl&&this.detectableControl.addEventListener("detectable-control-z-roc",t=>{this.rocSpace.zRoc=t.detail.zRoc}),this.rocSpace&&(this.rocSpace.setWithSDT(1,0,"default","",1),range$1(-1.5,1.6,.5).forEach((t,e)=>{this.rocSpace.setWithSDT(this.sdtModel.d,t,`point${e}`,"",this.sdtModel.s)})),this.sdtModel&&this.sdtModel.addEventListener("sdt-model-change",t=>{this.rocSpace&&range$1(-1.5,1.6,.5).forEach((e,i)=>{this.rocSpace.setWithSDT(t.detail.d,e,`point${i}`,"",t.detail.s)})})}}customElements.define("sdt-example-unequal",SDTExampleUnequal);var data$2={colors:{x:"#e41a1c",a:"#ff7f00",l:"#ffff33",v:"#f781bf",p:"#377eb8",g:"#4daf4a",w:"#984ea3",u:"#a65628",chosen:"#999999",better:"#4545d0",worse:"#f032e6",even:"#10dbc9",correct:"#ffffff",error:"#000000",nr:"#cccccc"}},colors$2=data$2.colors;class ProspectableElement extends DecidablesElement{static get properties(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}constructor(){super(),this.interactive=!1}static get colors(){return colors$2}static get lights(){return Object.keys(ProspectableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(ProspectableElement.colors[e],"#ffffff")(.5),t),{})}static get darks(){return Object.keys(ProspectableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(ProspectableElement.colors[e],"#000000")(.5),t),{})}static get styles(){return[super.styles,i$6`
        :host {
          ---color-x: var(--color-x, ${r$4(this.colors.x)});
          ---color-a: var(--color-a, ${r$4(this.colors.a)});
          ---color-l: var(--color-l, ${r$4(this.colors.l)});
          ---color-v: var(--color-v, ${r$4(this.colors.v)});
          ---color-p: var(--color-p, ${r$4(this.colors.p)});
          ---color-g: var(--color-g, ${r$4(this.colors.g)});
          ---color-w: var(--color-w, ${r$4(this.colors.w)});
          ---color-u: var(--color-u, ${r$4(this.colors.u)});
          ---color-chosen: var(--color-chosen, ${r$4(this.colors.chosen)});
          ---color-better: var(--color-better, ${r$4(this.colors.better)});
          ---color-worse: var(--color-worse, ${r$4(this.colors.worse)});
          ---color-even: var(--color-even, ${r$4(this.colors.even)});
          ---color-correct: var(--color-correct, ${r$4(this.colors.correct)});
          ---color-error: var(--color-error, ${r$4(this.colors.error)});
          ---color-nr: var(--color-nr, ${r$4(this.colors.nr)});

          ---color-x-light: var(--color-x-light, ${r$4(this.lights.x)});
          ---color-a-light: var(--color-a-light, ${r$4(this.lights.a)});
          ---color-l-light: var(--color-l-light, ${r$4(this.lights.l)});
          ---color-v-light: var(--color-v-light, ${r$4(this.lights.v)});
          ---color-p-light: var(--color-p-light, ${r$4(this.lights.p)});
          ---color-g-light: var(--color-g-light, ${r$4(this.lights.g)});
          ---color-w-light: var(--color-w-light, ${r$4(this.lights.w)});
          ---color-u-light: var(--color-u-light, ${r$4(this.lights.u)});
          ---color-chosen-light: var(--color-chosen-light, ${r$4(this.lights.chosen)});
          ---color-better-light: var(--color-better-light, ${r$4(this.lights.better)});
          ---color-worse-light: var(--color-worse-light, ${r$4(this.lights.worse)});
          ---color-even-light: var(--color-even-light, ${r$4(this.lights.even)});
          ---color-correct-light: var(--color-correct-light, ${r$4(this.lights.correct)});
          ---color-error-light: var(--color-error-light, ${r$4(this.lights.error)});
          ---color-nr-light: var(--color-nr-light, ${r$4(this.lights.nr)});

          ---color-x-dark: var(--color-x-dark, ${r$4(this.darks.x)});
          ---color-a-dark: var(--color-a-dark, ${r$4(this.darks.a)});
          ---color-l-dark: var(--color-l-dark, ${r$4(this.darks.l)});
          ---color-v-dark: var(--color-v-dark, ${r$4(this.darks.v)});
          ---color-p-dark: var(--color-p-dark, ${r$4(this.darks.p)});
          ---color-g-dark: var(--color-g-dark, ${r$4(this.darks.g)});
          ---color-w-dark: var(--color-w-dark, ${r$4(this.darks.w)});
          ---color-u-dark: var(--color-u-dark, ${r$4(this.darks.u)});
          ---color-chosen-dark: var(--color-chosen-dark, ${r$4(this.darks.chosen)});
          ---color-better-dark: var(--color-better-dark, ${r$4(this.darks.better)});
          ---color-worse-dark: var(--color-worse-dark, ${r$4(this.darks.worse)});
          ---color-even-dark: var(--color-even-dark, ${r$4(this.darks.even)});
          ---color-correct-dark: var(--color-correct-dark, ${r$4(this.darks.correct)});
          ---color-error-dark: var(--color-error-dark, ${r$4(this.darks.error)});
          ---color-nr-dark: var(--color-nr-dark, ${r$4(this.darks.nr)});
        }
      `]}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t={CHILD:2},e=t=>(...e)=>({_$litDirective$:t,values:e});let i$2=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f$1=t=>void 0===t.strings,s=(t,e)=>{const i=t._$AN;if(void 0===i)return!1;for(const t of i)t._$AO?.(e,!1),s(t,e);return!0},o$1=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===i?.size)},r$1=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),c(e)}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function h(t){void 0!==this._$AN?(o$1(this),this._$AM=t,r$1(this)):this._$AM=t}function n$1(t,e=!1,i=0){const r=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(e)if(Array.isArray(r))for(let t=i;t<r.length;t++)s(r[t],!1),o$1(r[t]);else null!=r&&(s(r,!1),o$1(r));else s(this,t)}const c=e=>{e.type==t.CHILD&&(e._$AP??=n$1,e._$AQ??=h)};class f extends i$2{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),r$1(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(s(this,t),o$1(this))}setValue(t){if(f$1(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const i$1=new WeakMap;let o=0;const r=new Map,n=new WeakSet,a=()=>new Promise(t=>requestAnimationFrame(t)),d=[{transform:"translateX(-100%) scale(0)",opacity:0}],v=[{opacity:0},{opacity:1}],g=(t,e)=>{const i=t-e;return 0===i?void 0:i},w=(t,e)=>{const i=t/e;return 1===i?void 0:i},N={left:(t,e)=>{const i=g(t,e);return{value:i,transform:null==i||isNaN(i)?void 0:`translateX(${i}px)`}},top:(t,e)=>{const i=g(t,e);return{value:i,transform:null==i||isNaN(i)?void 0:`translateY(${i}px)`}},width:(t,e)=>{let i;0===e&&(e=1,i={width:"1px"});const r=w(t,e);return{value:r,overrideFrom:i,transform:null==r||isNaN(r)?void 0:`scaleX(${r})`}},height:(t,e)=>{let i;0===e&&(e=1,i={height:"1px"});const r=w(t,e);return{value:r,overrideFrom:i,transform:null==r||isNaN(r)?void 0:`scaleY(${r})`}}},A={duration:333,easing:"ease-in-out"},b=["left","top","width","height","opacity","color","background"],j=new WeakMap;class x extends f{constructor(e){if(super(e),this.t=!1,this.i=null,this.o=null,this.h=!0,this.shouldLog=!1,e.type===t.CHILD)throw Error("The `animate` directive must be used in attribute position.");this.createFinished()}createFinished(){this.resolveFinished?.(),this.finished=new Promise(t=>{this.l=t})}async resolveFinished(){this.l?.(),this.l=void 0}render(t){return E$1}getController(){return i$1.get(this.u)}isDisabled(){return this.options.disabled||this.getController()?.disabled}update(t,[e]){const i=void 0===this.u;return i&&(this.u=t.options?.host,this.u.addController(this),this.u.updateComplete.then(t=>this.t=!0),this.element=t.element,j.set(this.element,this)),this.optionsOrCallback=e,(i||"function"!=typeof e)&&this.p(e),this.render(e)}p(t){t=t??{};const e=this.getController();void 0!==e&&((t={...e.defaultOptions,...t}).keyframeOptions={...e.defaultOptions.keyframeOptions,...t.keyframeOptions}),t.properties??=b,this.options=t}m(){const t={},e=this.element.getBoundingClientRect(),i=getComputedStyle(this.element);return this.options.properties.forEach(r=>{const n=e[r]??(N[r]?void 0:i[r]),a=Number(n);t[r]=isNaN(a)?n+"":a}),t}v(){let t,e=!0;return this.options.guard&&(t=this.options.guard(),e=((t,e)=>{if(Array.isArray(t)){if(Array.isArray(e)&&e.length===t.length&&t.every((t,i)=>t===e[i]))return!1}else if(e===t)return!1;return!0})(t,this._)),this.h=this.t&&!this.isDisabled()&&!this.isAnimating()&&e&&this.element.isConnected,this.h&&(this._=Array.isArray(t)?Array.from(t):t),this.h}hostUpdate(){"function"==typeof this.optionsOrCallback&&this.p(this.optionsOrCallback()),this.v()&&(this.A=this.m(),this.i=this.i??this.element.parentNode,this.o=this.element.nextSibling)}async hostUpdated(){if(!this.h||!this.element.isConnected||this.options.skipInitial&&!this.isHostRendered)return;let t;this.prepare(),await a;const e=this.O(),i=this.j(this.options.keyframeOptions,e),n=this.m();if(void 0!==this.A){const{from:i,to:r}=this.N(this.A,n,e);this.log("measured",[this.A,n,i,r]),t=this.calculateKeyframes(i,r)}else{const i=r.get(this.options.inId);if(i){r.delete(this.options.inId);const{from:a,to:s}=this.N(i,n,e);t=this.calculateKeyframes(a,s),t=this.options.in?[{...this.options.in[0],...t[0]},...this.options.in.slice(1),t[1]]:t,o++,t.forEach(t=>t.zIndex=o)}else this.options.in&&(t=[...this.options.in,{}])}this.animate(t,i)}resetStyles(){void 0!==this.P&&(this.element.setAttribute("style",this.P??""),this.P=void 0)}commitStyles(){this.P=this.element.getAttribute("style"),this.webAnimation?.commitStyles(),this.webAnimation?.cancel()}reconnected(){}async disconnected(){if(!this.h)return;if(void 0!==this.options.id&&r.set(this.options.id,this.A),void 0===this.options.out)return;if(this.prepare(),await a(),this.i?.isConnected){const t=this.o&&this.o.parentNode===this.i?this.o:null;if(this.i.insertBefore(this.element,t),this.options.stabilizeOut){const t=this.m();this.log("stabilizing out");const e=this.A.left-t.left,i=this.A.top-t.top;!("static"===getComputedStyle(this.element).position)||0===e&&0===i||(this.element.style.position="relative"),0!==e&&(this.element.style.left=e+"px"),0!==i&&(this.element.style.top=i+"px")}}const t=this.j(this.options.keyframeOptions);await this.animate(this.options.out,t),this.element.remove()}prepare(){this.createFinished()}start(){this.options.onStart?.(this)}didFinish(t){t&&this.options.onComplete?.(this),this.A=void 0,this.animatingProperties=void 0,this.frames=void 0,this.resolveFinished()}O(){const t=[];for(let e=this.element.parentNode;e;e=e?.parentNode){const i=j.get(e);i&&!i.isDisabled()&&i&&t.push(i)}return t}get isHostRendered(){const t=n.has(this.u);return t||this.u.updateComplete.then(()=>{n.add(this.u)}),t}j(t,e=this.O()){const i={...A};return e.forEach(t=>Object.assign(i,t.options.keyframeOptions)),Object.assign(i,t),i}N(t,e,i){t={...t},e={...e};const r=i.map(t=>t.animatingProperties).filter(t=>void 0!==t);let n=1,a=1;return r.length>0&&(r.forEach(t=>{t.width&&(n/=t.width),t.height&&(a/=t.height)}),void 0!==t.left&&void 0!==e.left&&(t.left=n*t.left,e.left=n*e.left),void 0!==t.top&&void 0!==e.top&&(t.top=a*t.top,e.top=a*e.top)),{from:t,to:e}}calculateKeyframes(t,e,i=!1){const r={},n={};let a=!1;const s={};for(const i in e){const o=t[i],l=e[i];if(i in N){const t=N[i];if(void 0===o||void 0===l)continue;const e=t(o,l);void 0!==e.transform&&(s[i]=e.value,a=!0,r.transform=`${r.transform??""} ${e.transform}`,void 0!==e.overrideFrom&&Object.assign(r,e.overrideFrom))}else o!==l&&void 0!==o&&void 0!==l&&(a=!0,r[i]=o,n[i]=l)}return r.transformOrigin=n.transformOrigin=i?"center center":"top left",this.animatingProperties=s,a?[r,n]:void 0}async animate(t,e=this.options.keyframeOptions){this.start(),this.frames=t;let i=!1;if(!this.isAnimating()&&!this.isDisabled()&&(this.options.onFrames&&(this.frames=t=this.options.onFrames(this),this.log("modified frames",t)),void 0!==t)){this.log("animate",[t,e]),i=!0,this.webAnimation=this.element.animate(t,e);const r=this.getController();r?.add(this);try{await this.webAnimation.finished}catch(t){}r?.remove(this)}return this.didFinish(i),i}isAnimating(){return"running"===this.webAnimation?.playState||this.webAnimation?.pending}log(t,e){this.shouldLog&&!this.isDisabled()&&console.log(t,this.options.id,e)}}const F=e(x);class CPTMath{static a={DEFAULT:.5,MIN:0,MAX:1,STEP:.01,JUMP:.05};static l={DEFAULT:2,MIN:0,MAX:10,STEP:.01,JUMP:.05};static g={DEFAULT:.5,MIN:0,MAX:1,STEP:.01,JUMP:.05};static xal2v(t,e,i){return t>=0?t**e:-i*(-t)**e}static xlv2a(t,e,i){return t>=0?Math.log(i)/Math.log(t):(Math.log(-i)-Math.log(e))/Math.log(-t)}static xav2l(t,e,i){return t>=0?NaN:-i/(-t)**e}static pg2w(t,e){return t**e/(t**e+(1-t)**e)**(1/e)}static vw2u(t,e){if("number"==typeof t&&"number"==typeof e)return t*e;if(t instanceof Array&&e instanceof Array&&t.length>0&&t.length===e.length){let i=0;for(let r=0;r<t.length;r+=1)i+=t[r]*e[r];return i}return NaN}}class CPTEquation extends ProspectableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}constructor(){super(),this.numeric=!1}static get styles(){return[super.styles,i$6`
        :host {
          display: block;

          margin: 1rem;
        }

        /* Containing <div> */
        .holder {
          display: flex;

          flex-direction: row;

          justify-content: left;
        }

        /* Overall <table> */
        .equation {
          text-align: center;
          white-space: nowrap;

          border-collapse: collapse;

          border: 0;
        }

        /* Modifies <td> */
        .underline {
          border-bottom: 1px solid var(---color-text);
        }

        /* Basic <span> and <var> w/modifiers */
        span,
        var {
          padding: 0 0.25rem;

          font-style: normal;
        }

        var {
          border-radius: var(---border-radius);
        }

        .tight {
          padding: 0;
        }

        .paren {
          font-size: 150%;
        }

        .bracket {
          font-size: 175%;
        }

        .brace {
          font-size: 200%;
        }

        .addend {
          position: relative;
          display: inline-block;
        }

        .comparison {
          position: relative;
          display: inline-block;

          font-size: 125%;
          font-weight: 600;
        }

        .function {
          display: inline-block;

          border-radius: var(---border-radius);
        }

        :host([numeric]) .function {
          padding: 0.25rem;
        }

        .exp {
          display: inline-block;

          font-size: 0.75rem;
        }

        .subscript {
          display: inline-block;

          font-size: 66.667%;
        }

        .summation {
          display: flex;

          flex-direction: column;

          line-height: 0.8;
        }

        .sigma {
          display: inline-block;

          font-size: 200%;
        }

        /* Input wrapping <label> */
        decidables-spinner {
          --decidables-spinner-input-width: 4rem;

          display: inline-block;

          padding: 0.125rem 0.375rem 0.375rem;

          line-height: 1.5;
          vertical-align: middle;

          border-radius: var(---border-radius);
        }

        .n {
          --decidables-spinner-input-width: 2rem;
        }

        .left {
          text-align: left;
        }

        .right {
          text-align: right;
        }

        .bottom {
          vertical-align: bottom;
        }

        .top {
          vertical-align: top;
        }

        /* Color scheme */
        /* .win {
          background: var(---color-better);
        }

        .loss {
          background: var(---color-worse);
        }

        .sure {
          background: var(---color-even);
        } */

        .x {
          background: var(---color-x-light);
        }

        .a {
          background: var(---color-a-light);
        }

        .l {
          background: var(---color-l-light);
        }

        .v {
          background: var(---color-v-light);
        }

        .p {
          background: var(---color-p-light);
        }

        .g {
          background: var(---color-g-light);
        }

        .w {
          background: var(---color-w-light);
        }

        .u {
          background: var(---color-u-light);
        }
      `]}}class CPTCalculation extends CPTEquation{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}constructor(){super(),this.numeric=!1,this.xl=0,this.xw=100,this.pw=.75,this.xs=50,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.alignState()}alignState(){this.vw=CPTMath.xal2v(this.xw,this.a,this.l),this.vl=CPTMath.xal2v(this.xl,this.a,this.l),this.ww=CPTMath.pg2w(this.pw,this.g),this.wl=1-this.ww,this.vs=CPTMath.xal2v(this.xs,this.a,this.l),this.ug=CPTMath.vw2u([this.vw,this.vl],[this.ww,this.wl]),this.us=this.vs,this.uDiff=this.ug-this.us}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-calculation-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,a:this.a,l:this.l,g:this.g},bubbles:!0}))}xwInput(t){this.xw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}pwInput(t){this.pw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}xsInput(t){this.xs=parseFloat(t.target.value),this.alignState(),this.sendEvent()}static get styles(){return[super.styles,i$6`
        /* :host {
          display: inline-block;
        } */

        var {
          border-radius: var(---border-radius);
        }

        decidables-spinner {
          border-radius: var(---border-radius);
        }
      `]}willUpdate(){this.alignState()}render(){let t,e,i,r,n,a,s,o,l,c,g,d;this.numeric?(t=x$2`<decidables-spinner class="x xw"
          ?disabled=${!this.interactive}
          .value=${this.xw}
          @input=${this.xwInput.bind(this)}
        >
          <var class="math-var">x<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="x xl"
          disabled
          .value=${this.xl}
        >
          <var class="math-var">x<sub class="subscript loss">loss</sub></var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="p pw"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".01"
          .value=${+this.pw.toFixed(2)}
          @input=${this.pwInput.bind(this)}
        >
          <var class="math-var">p<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,r=x$2`<decidables-spinner class="x xs"
          ?disabled=${!this.interactive}
          .value=${this.xs}
          @input=${this.xsInput.bind(this)}
        >
          <var class="math-var">x<sub class="subscript sure">sure</sub></var>
        </decidables-spinner>`,n=x$2`<decidables-spinner class="v vw"
          disabled
          .value=${+this.vw.toFixed(1)}
        >
          <var class="math-var">v<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,a=x$2`<decidables-spinner class="v vl"
          disabled
          .value=${+this.vl.toFixed(1)}
        >
          <var class="math-var">v<sub class="subscript loss">loss</sub></var>
        </decidables-spinner>`,s=x$2`<decidables-spinner class="w ww"
          disabled
          .value=${+this.ww.toFixed(2)}
        >
          <var class="math-var">w<sub class="subscript win">win</sub></var>
        </decidables-spinner>`,o=x$2`<decidables-spinner class="w wl"
          disabled
          .value=${+this.wl.toFixed(2)}
        >
          <var class="math-var">w<sub class="subscript loss">loss</sub></var>
        </decidables-spinner>`,l=x$2`<decidables-spinner class="v vs"
          disabled
          .value=${+this.vs.toFixed(1)}
        >
          <var class="math-var">v<sub class="subscript sure">sure</sub></var>
        </decidables-spinner>`,c=x$2`<decidables-spinner class="u ug"
          disabled
          .value=${+this.ug.toFixed(1)}
        >
          <var class="math-var">U<sub class="subscript gamble">gamble</sub></var>
        </decidables-spinner>`,g=x$2`<decidables-spinner class="u us"
          disabled
          .value=${+this.us.toFixed(1)}
        >
          <var class="math-var">U<sub class="subscript sure">sure</sub></var>
        </decidables-spinner>`,d=x$2`${this.uDiff>0?x$2`<span class="comparison" ${F({in:v})}>&gt;</span>`:this.uDiff<0?x$2`<span class="comparison" ${F({in:v})}>&lt;</span>`:x$2`<span class="comparison" ${F({in:v})}>=</span>`}`):(t=x$2`<var class="math-var x xw">x<sub class="subscript win">win</sub></var>`,e=x$2`<var class="math-var x xl">x<sub class="subscript loss">loss</sub></var>`,i=x$2`<var class="math-var p pw">p<sub class="subscript win">win</sub></var>`,r=x$2`<var class="math-var x xs">x<sub class="subscript sure">sure</sub></var>`,n=x$2`<var class="math-var v vw">v<sub class="subscript win">win</sub></var>`,a=x$2`<var class="math-var v vl">v<sub class="subscript loss">loss</sub></var>`,s=x$2`<var class="math-var w ww">w<sub class="subscript win">win</sub></var>`,o=x$2`<var class="math-var w wl">w<sub class="subscript loss">loss</sub></var>`,l=x$2`<var class="math-var v vs">v<sub class="subscript sure">sure</sub></var>`,c=x$2`<var class="math-var u ug">U<sub class="subscript gamble">gamble</sub></var>`,g=x$2`<var class="math-var u us">U<sub class="subscript sure">sure</sub></var>`,d=x$2`<span class="comparison">â</span>`);const u=x$2`
      <tr>
        <td class="right">
          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>${t}<span class="paren tight">)</span></span>&nbsp;<span class="function w"><var class="math-var w tight">w</var><span class="paren tight">(</span>${i}<span class="paren tight">)</span></span><span class="plus">+</span><span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>${e}<span class="paren tight">)</span></span>&nbsp;<span class="bracket tight">[</span><span class="tight">1</span><span class="minus">â</span><span class="function w"><var class="math-var w">w</var><span class="paren tight">(</span>${i}<span class="paren tight">)</span></span><span class="bracket tight">]</span>
        </td>
        <td>
          ${d}
        </td>
        <td class="left">
          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>${r}<span class="paren tight">)</span></span>
        </td>
      </tr>
      <tr>
        <td class="right">
          ${n}&nbsp;${s}<span class="plus">+</span>${a}&nbsp;${o}
        </td>
        <td>
          ${d}
        </td>
        <td class="left">
          ${l}
        </td>
      </tr>
      <tr>
        <td class="right">
          ${c}
        </td>
        <td>
          ${d}
        </td>
        <td class="left">
          ${g}
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${u}
          </tbody>
        </table>
      </div>`}}customElements.define("cpt-calculation",CPTCalculation);var core$1={},version$2={version:"3.1.1"},npo_src$1={exports:{}},npo_src=npo_src$1.exports;!function(t){!function(e,i,r){i[e]=i[e]||r(),t.exports&&(t.exports=i[e])}("Promise",void 0!==commonjsGlobal?commonjsGlobal:npo_src,function(){var t,e,i,r=Object.prototype.toString,n="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,i,r){return Object.defineProperty(t,e,{value:i,writable:!0,configurable:!1!==r})}}catch(e){t=function(t,e,i){return t[e]=i,t}}function a(t,r){i.add(t,r),e||(e=n(i.drain))}function s(t){var e,i=typeof t;return null==t||"object"!=i&&"function"!=i||(e=t.then),"function"==typeof e&&e}function o(){for(var t=0;t<this.chain.length;t++)l(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function l(t,e,i){var r,n;try{!1===e?i.reject(t.msg):(r=!0===e?t.msg:e.call(void 0,t.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(n=s(r))?n.call(r,i.resolve,i.reject):i.resolve(r)}catch(t){i.reject(t)}}function c(t){var e,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(e=s(t))?a(function(){var r=new u(i);try{e.call(t,function(){c.apply(r,arguments)},function(){g.apply(r,arguments)})}catch(t){g.call(r,t)}}):(i.msg=t,i.state=1,i.chain.length>0&&a(o,i))}catch(t){g.call(new u(i),t)}}}function g(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&a(o,e))}function d(t,e,i,r){for(var n=0;n<e.length;n++)(function(n){t.resolve(e[n]).then(function(t){i(n,t)},r)})(n)}function u(t){this.def=t,this.triggered=!1}function B(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function F(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new B(this);this.then=function(t,i){var r={success:"function"!=typeof t||t,failure:"function"==typeof i&&i};return r.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e}),e.chain.push(r),0!==e.state&&a(o,e),r.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,function(t){c.call(e,t)},function(t){g.call(e,t)})}catch(t){g.call(e,t)}}i=function(){var t,i,r;function n(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,a){r=new n(e,a),i?i.next=r:t=r,i=r,r=void 0},drain:function(){var r=t;for(t=i=e=void 0;r;)r.fn.call(r.self),r=r.next}}}();var h=t({},"constructor",F,!1);return F.prototype=h,t(h,"__NPO__",0,!1),t(F,"resolve",function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");e(t)})}),t(F,"reject",function(t){return new this(function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");i(t)})}),t(F,"all",function(t){var e=this;return"[object Array]"!=r.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(i,r){if("function"!=typeof i||"function"!=typeof r)throw TypeError("Not a function");var n=t.length,a=Array(n),s=0;d(e,t,function(t,e){a[t]=e,++s===n&&i(a)},r)})}),t(F,"race",function(t){var e=this;return"[object Array]"!=r.call(t)?e.reject(TypeError("Not an array")):new e(function(i,r){if("function"!=typeof i||"function"!=typeof r)throw TypeError("Not a function");d(e,t,function(t,e){i(e)},r)})}),F})}(npo_src$1);var lib$1={exports:{}},d3$w={exports:{}};!function(t){(function(){var e={version:"3.8.2"},i=[].slice,r=function(t){return i.call(t)},n=self.document;function a(t){return t&&(t.ownerDocument||t.document||t).documentElement}function s(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(n)try{r(n.documentElement.childNodes)[0].nodeType}catch(t){r=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var o=this.Element.prototype,l=o.setAttribute,c=o.setAttributeNS,g=this.CSSStyleDeclaration.prototype,d=g.setProperty;o.setAttribute=function(t,e){l.call(this,t,e+"")},o.setAttributeNS=function(t,e,i){c.call(this,t,e,i+"")},g.setProperty=function(t,e,i){d.call(this,t,e+"",i)}}function u(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function B(t){return null===t?NaN:+t}function F(t){return!isNaN(t)}function h(t){return{left:function(e,i,r,n){for(arguments.length<3&&(r=0),arguments.length<4&&(n=e.length);r<n;){var a=r+n>>>1;t(e[a],i)<0?r=a+1:n=a}return r},right:function(e,i,r,n){for(arguments.length<3&&(r=0),arguments.length<4&&(n=e.length);r<n;){var a=r+n>>>1;t(e[a],i)>0?n=a:r=a+1}return r}}}e.ascending=u,e.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},e.min=function(t,e){var i,r,n=-1,a=t.length;if(1===arguments.length){for(;++n<a;)if(null!=(r=t[n])&&r>=r){i=r;break}for(;++n<a;)null!=(r=t[n])&&i>r&&(i=r)}else{for(;++n<a;)if(null!=(r=e.call(t,t[n],n))&&r>=r){i=r;break}for(;++n<a;)null!=(r=e.call(t,t[n],n))&&i>r&&(i=r)}return i},e.max=function(t,e){var i,r,n=-1,a=t.length;if(1===arguments.length){for(;++n<a;)if(null!=(r=t[n])&&r>=r){i=r;break}for(;++n<a;)null!=(r=t[n])&&r>i&&(i=r)}else{for(;++n<a;)if(null!=(r=e.call(t,t[n],n))&&r>=r){i=r;break}for(;++n<a;)null!=(r=e.call(t,t[n],n))&&r>i&&(i=r)}return i},e.extent=function(t,e){var i,r,n,a=-1,s=t.length;if(1===arguments.length){for(;++a<s;)if(null!=(r=t[a])&&r>=r){i=n=r;break}for(;++a<s;)null!=(r=t[a])&&(i>r&&(i=r),n<r&&(n=r))}else{for(;++a<s;)if(null!=(r=e.call(t,t[a],a))&&r>=r){i=n=r;break}for(;++a<s;)null!=(r=e.call(t,t[a],a))&&(i>r&&(i=r),n<r&&(n=r))}return[i,n]},e.sum=function(t,e){var i,r=0,n=t.length,a=-1;if(1===arguments.length)for(;++a<n;)F(i=+t[a])&&(r+=i);else for(;++a<n;)F(i=+e.call(t,t[a],a))&&(r+=i);return r},e.mean=function(t,e){var i,r=0,n=t.length,a=-1,s=n;if(1===arguments.length)for(;++a<n;)F(i=B(t[a]))?r+=i:--s;else for(;++a<n;)F(i=B(e.call(t,t[a],a)))?r+=i:--s;if(s)return r/s},e.quantile=function(t,e){var i=(t.length-1)*e+1,r=Math.floor(i),n=+t[r-1],a=i-r;return a?n+a*(t[r]-n):n},e.median=function(t,i){var r,n=[],a=t.length,s=-1;if(1===arguments.length)for(;++s<a;)F(r=B(t[s]))&&n.push(r);else for(;++s<a;)F(r=B(i.call(t,t[s],s)))&&n.push(r);if(n.length)return e.quantile(n.sort(u),.5)},e.variance=function(t,e){var i,r,n=t.length,a=0,s=0,o=-1,l=0;if(1===arguments.length)for(;++o<n;)F(i=B(t[o]))&&(s+=(r=i-a)*(i-(a+=r/++l)));else for(;++o<n;)F(i=B(e.call(t,t[o],o)))&&(s+=(r=i-a)*(i-(a+=r/++l)));if(l>1)return s/(l-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var Q=h(u);function U(t){return t.length}e.bisectLeft=Q.left,e.bisect=e.bisectRight=Q.right,e.bisector=function(t){return h(1===t.length?function(e,i){return u(t(e),i)}:t)},e.shuffle=function(t,e,i){(a=arguments.length)<3&&(i=t.length,a<2&&(e=0));for(var r,n,a=i-e;a;)n=Math.random()*a--|0,r=t[a+e],t[a+e]=t[n+e],t[n+e]=r;return t},e.permute=function(t,e){for(var i=e.length,r=new Array(i);i--;)r[i]=t[e[i]];return r},e.pairs=function(t){for(var e=0,i=t.length-1,r=t[0],n=new Array(i<0?0:i);e<i;)n[e]=[r,r=t[++e]];return n},e.transpose=function(t){if(!(a=t.length))return[];for(var i=-1,r=e.min(t,U),n=new Array(r);++i<r;)for(var a,s=-1,o=n[i]=new Array(a);++s<a;)o[s]=t[s][i];return n},e.zip=function(){return e.transpose(arguments)},e.keys=function(t){var e=[];for(var i in t)e.push(i);return e},e.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},e.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},e.merge=function(t){for(var e,i,r,n=t.length,a=-1,s=0;++a<n;)s+=t[a].length;for(i=new Array(s);--n>=0;)for(e=(r=t[n]).length;--e>=0;)i[--s]=r[e];return i};var I=Math.abs;function b(t,e){for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}function p(){this._=Object.create(null)}e.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i===1/0)throw new Error("infinite range");var r,n=[],a=function(t){var e=1;for(;t*e%1;)e*=10;return e}(I(i)),s=-1;if(t*=a,e*=a,(i*=a)<0)for(;(r=t+i*++s)>e;)n.push(r/a);else for(;(r=t+i*++s)<e;)n.push(r/a);return n},e.map=function(t,e){var i=new p;if(t instanceof p)t.forEach(function(t,e){i.set(t,e)});else if(Array.isArray(t)){var r,n=-1,a=t.length;if(1===arguments.length)for(;++n<a;)i.set(n,t[n]);else for(;++n<a;)i.set(e.call(t,r=t[n],n),r)}else for(var s in t)i.set(s,t[s]);return i};function y(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function m(t){return"\0"===(t+="")[0]?t.slice(1):t}function C(t){return y(t)in this._}function f(t){return(t=y(t))in this._&&delete this._[t]}function x(){var t=[];for(var e in this._)t.push(m(e));return t}function A(){var t=0;for(var e in this._)++t;return t}function v(){for(var t in this._)return!1;return!0}function L(){this._=Object.create(null)}function R(t){return t}function S(t,e,i){return function(){var r=i.apply(e,arguments);return r===e?t:r}}function G(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0,r=E.length;i<r;++i){var n=E[i]+e;if(n in t)return n}}b(p,{has:C,get:function(t){return this._[y(t)]},set:function(t,e){return this._[y(t)]=e},remove:f,keys:x,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:m(e),value:this._[e]});return t},size:A,empty:v,forEach:function(t){for(var e in this._)t.call(this,m(e),this._[e])}}),e.nest=function(){var t,i,r={},n=[],a=[];function s(e,a,o){if(o>=n.length)return i?i.call(r,a):t?a.sort(t):a;for(var l,c,g,d,u=-1,B=a.length,F=n[o++],h=new p;++u<B;)(d=h.get(l=F(c=a[u])))?d.push(c):h.set(l,[c]);return e?(c=e(),g=function(t,i){c.set(t,s(e,i,o))}):(c={},g=function(t,i){c[t]=s(e,i,o)}),h.forEach(g),c}function o(t,e){if(e>=n.length)return t;var i=[],r=a[e++];return t.forEach(function(t,r){i.push({key:t,values:o(r,e)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}return r.map=function(t,e){return s(e,t,0)},r.entries=function(t){return o(s(e.map,t,0),0)},r.key=function(t){return n.push(t),r},r.sortKeys=function(t){return a[n.length-1]=t,r},r.sortValues=function(e){return t=e,r},r.rollup=function(t){return i=t,r},r},e.set=function(t){var e=new L;if(t)for(var i=0,r=t.length;i<r;++i)e.add(t[i]);return e},b(L,{has:C,add:function(t){return this._[y(t+="")]=!0,t},remove:f,values:x,size:A,empty:v,forEach:function(t){for(var e in this._)t.call(this,m(e))}}),e.behavior={},e.rebind=function(t,e){for(var i,r=1,n=arguments.length;++r<n;)t[i=arguments[r]]=S(t,e,e[i]);return t};var E=["webkit","ms","moz","Moz","o","O"];function V(){}function Z(){}function N(t){var e=[],i=new p;function r(){for(var i,r=e,n=-1,a=r.length;++n<a;)(i=r[n].on)&&i.apply(this,arguments);return t}return r.on=function(r,n){var a,s=i.get(r);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,a=e.indexOf(s)).concat(e.slice(a+1)),i.remove(r)),n&&e.push(i.set(r,{on:n})),t)},r}function D(){e.event.preventDefault()}function w(){for(var t,i=e.event;t=i.sourceEvent;)i=t;return i}function X(t){for(var i=new Z,r=0,n=arguments.length;++r<n;)i[arguments[r]]=N(i);return i.of=function(r,n){return function(a){try{var s=a.sourceEvent=e.event;a.target=t,e.event=a,i[a.type].apply(r,n)}finally{e.event=s}}},i}e.dispatch=function(){for(var t=new Z,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=N(t);return t},Z.prototype.on=function(t,e){var i=t.indexOf("."),r="";if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},e.event=null,e.requote=function(t){return t.replace(W,"\\$&")};var W=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]};function T(t){return H(t,J),t}var M=function(t,e){return e.querySelector(t)},k=function(t,e){return e.querySelectorAll(t)},Y=function(t,e){var i=t.matches||t[G(t,"matchesSelector")];return Y=function(t,e){return i.call(t,e)},Y(t,e)};"function"==typeof Sizzle&&(M=function(t,e){return Sizzle(t,e)[0]||null},k=Sizzle,Y=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var J=e.selection.prototype=[];function $(t){return"function"==typeof t?t:function(){return M(t,this)}}function z(t){return"function"==typeof t?t:function(){return k(t,this)}}J.select=function(t){var e,i,r,n,a=[];t=$(t);for(var s=-1,o=this.length;++s<o;){a.push(e=[]),e.parentNode=(r=this[s]).parentNode;for(var l=-1,c=r.length;++l<c;)(n=r[l])?(e.push(i=t.call(n,n.__data__,l,s)),i&&"__data__"in n&&(i.__data__=n.__data__)):e.push(null)}return T(a)},J.selectAll=function(t){var e,i,n=[];t=z(t);for(var a=-1,s=this.length;++a<s;)for(var o=this[a],l=-1,c=o.length;++l<c;)(i=o[l])&&(n.push(e=r(t.call(i,i.__data__,l,a))),e.parentNode=i);return T(n)};var O="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:O,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _(t,i){return t=e.ns.qualify(t),null==i?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof i?t.local?function(){var e=i.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=i.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,i)}:function(){this.setAttribute(t,i)}}function P(t){return t.trim().replace(/\s+/g," ")}function j(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function q(t){return(t+"").trim().split(/^|\s+/)}function tt(t,e){var i=(t=q(t).map(et)).length;return"function"==typeof e?function(){for(var r=-1,n=e.apply(this,arguments);++r<i;)t[r](this,n)}:function(){for(var r=-1;++r<i;)t[r](this,e)}}function et(t){var e=j(t);return function(i,r){if(n=i.classList)return r?n.add(t):n.remove(t);var n=i.getAttribute("class")||"";r?(e.lastIndex=0,e.test(n)||i.setAttribute("class",P(n+" "+t))):i.setAttribute("class",P(n.replace(e," ")))}}function it(t,e,i){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,i)}:function(){this.style.setProperty(t,e,i)}}function rt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}:function(){this[t]=e}}function nt(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,i=this.namespaceURI;return i===O&&e.documentElement.namespaceURI===O?e.createElement(t):e.createElementNS(i,t)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function ot(t){return function(){return Y(this,t)}}function lt(t){return arguments.length||(t=u),function(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}}function ct(t,e){for(var i=0,r=t.length;i<r;i++)for(var n,a=t[i],s=0,o=a.length;s<o;s++)(n=a[s])&&e(n,s,i);return t}function gt(t){return H(t,dt),t}e.ns={prefix:K,qualify:function(t){var e=t.indexOf(":"),i=t;return e>=0&&"xmlns"!==(i=t.slice(0,e))&&(t=t.slice(e+1)),K.hasOwnProperty(i)?{space:K[i],local:t}:t}},J.attr=function(t,i){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(i in t)this.each(_(i,t[i]));return this}return this.each(_(t,i))},J.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),r=(t=q(t)).length,n=-1;if(e=i.classList){for(;++n<r;)if(!e.contains(t[n]))return!1}else for(e=i.getAttribute("class");++n<r;)if(!j(t[n]).test(e))return!1;return!0}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},J.style=function(t,e,i){var r=arguments.length;if(r<3){if("string"!=typeof t){for(i in r<2&&(e=""),t)this.each(it(i,t[i],e));return this}if(r<2){var n=this.node();return s(n).getComputedStyle(n,null).getPropertyValue(t)}i=""}return this.each(it(t,e,i))},J.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},J.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},J.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},J.append=function(t){return t=nt(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},J.insert=function(t,e){return t=nt(t),e=$(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},J.remove=function(){return this.each(at)},J.data=function(t,e){var i,r,n=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++n<a;)(r=i[n])&&(t[n]=r.__data__);return t}function s(t,i){var r,n,a,s=t.length,g=i.length,d=Math.min(s,g),u=new Array(g),B=new Array(g),F=new Array(s);if(e){var h,Q=new p,U=new Array(s);for(r=-1;++r<s;)(n=t[r])&&(Q.has(h=e.call(n,n.__data__,r))?F[r]=n:Q.set(h,n),U[r]=h);for(r=-1;++r<g;)(n=Q.get(h=e.call(i,a=i[r],r)))?!0!==n&&(u[r]=n,n.__data__=a):B[r]=st(a),Q.set(h,!0);for(r=-1;++r<s;)r in U&&!0!==Q.get(U[r])&&(F[r]=t[r])}else{for(r=-1;++r<d;)n=t[r],a=i[r],n?(n.__data__=a,u[r]=n):B[r]=st(a);for(;r<g;++r)B[r]=st(i[r]);for(;r<s;++r)F[r]=t[r]}B.update=u,B.parentNode=u.parentNode=F.parentNode=t.parentNode,o.push(B),l.push(u),c.push(F)}var o=gt([]),l=T([]),c=T([]);if("function"==typeof t)for(;++n<a;)s(i=this[n],t.call(i,i.parentNode.__data__,n));else for(;++n<a;)s(i=this[n],t);return l.enter=function(){return o},l.exit=function(){return c},l},J.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},J.filter=function(t){var e,i,r,n=[];"function"!=typeof t&&(t=ot(t));for(var a=0,s=this.length;a<s;a++){n.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var o=0,l=i.length;o<l;o++)(r=i[o])&&t.call(r,r.__data__,o,a)&&e.push(r)}return T(n)},J.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,r=this[t],n=r.length-1,a=r[n];--n>=0;)(i=r[n])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},J.sort=function(t){t=lt.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},J.each=function(t){return ct(this,function(e,i,r){t.call(e,e.__data__,i,r)})},J.call=function(t){var e=r(arguments);return t.apply(e[0]=this,e),this},J.empty=function(){return!this.node()},J.node=function(){for(var t=0,e=this.length;t<e;t++)for(var i=this[t],r=0,n=i.length;r<n;r++){var a=i[r];if(a)return a}return null},J.size=function(){var t=0;return ct(this,function(){++t}),t};var dt=[];function ut(t,i,n){var a="__on"+t,s=t.indexOf("."),o=Ft;s>0&&(t=t.slice(0,s));var l=Bt.get(t);function c(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}return l&&(t=l,o=ht),s?i?function(){var e=o(i,r(arguments));c.call(this),this.addEventListener(t,this[a]=e,e.$=n),e._=i}:c:i?V:function(){var i,r=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var n in this)if(i=n.match(r)){var a=this[n];this.removeEventListener(i[1],a,a.$),delete this[n]}}}e.selection.enter=gt,e.selection.enter.prototype=dt,dt.append=J.append,dt.empty=J.empty,dt.node=J.node,dt.call=J.call,dt.size=J.size,dt.select=function(t){for(var e,i,r,n,a,s=[],o=-1,l=this.length;++o<l;){r=(n=this[o]).update,s.push(e=[]),e.parentNode=n.parentNode;for(var c=-1,g=n.length;++c<g;)(a=n[c])?(e.push(r[c]=i=t.call(n.parentNode,a.__data__,c,o)),i.__data__=a.__data__):e.push(null)}return T(s)},dt.insert=function(t,e){var i,r,n;return arguments.length<2&&(i=this,e=function(t,e,a){var s,o=i[a].update,l=o.length;for(a!=n&&(n=a,r=0),e>=r&&(r=e+1);!(s=o[r])&&++r<l;);return s}),J.insert.call(this,t,e)},e.select=function(t){var e;return"string"==typeof t?(e=[M(t,n)]).parentNode=n.documentElement:(e=[t]).parentNode=a(t),T([e])},e.selectAll=function(t){var e;return"string"==typeof t?(e=r(k(t,n))).parentNode=n.documentElement:(e=r(t)).parentNode=null,T([e])},J.on=function(t,e,i){var r=arguments.length;if(r<3){if("string"!=typeof t){for(i in r<2&&(e=!1),t)this.each(ut(i,t[i],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;i=!1}return this.each(ut(t,e,i))};var Bt=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ft(t,i){return function(r){var n=e.event;e.event=r,i[0]=this.__data__;try{t.apply(this,i)}finally{e.event=n}}}function ht(t,e){var i=Ft(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||i.call(e,t)}}n&&Bt.forEach(function(t){"on"+t in n&&Bt.remove(t)});var Qt,Ut=0;function It(t){var i=".dragsuppress-"+ ++Ut,r="click"+i,n=e.select(s(t)).on("touchmove"+i,D).on("dragstart"+i,D).on("selectstart"+i,D);if(null==Qt&&(Qt=!("onselectstart"in t)&&G(t.style,"userSelect")),Qt){var o=a(t).style,l=o[Qt];o[Qt]="none"}return function(t){if(n.on(i,null),Qt&&(o[Qt]=l),t){var e=function(){n.on(r,null)};n.on(r,function(){D(),e()},!0),setTimeout(e,0)}}}e.mouse=function(t){return pt(t,w())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function pt(t,i){i.changedTouches&&(i=i.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();if(bt<0){var a=s(t);if(a.scrollX||a.scrollY){var o=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bt=!(o.f||o.e),r.remove()}}return bt?(n.x=i.pageX,n.y=i.pageY):(n.x=i.clientX,n.y=i.clientY),[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var l=t.getBoundingClientRect();return[i.clientX-l.left-t.clientLeft,i.clientY-l.top-t.clientTop]}function yt(){return e.event.changedTouches[0].identifier}e.touch=function(t,e,i){if(arguments.length<3&&(i=e,e=w().changedTouches),e)for(var r,n=0,a=e.length;n<a;++n)if((r=e[n]).identifier===i)return pt(t,r)},e.behavior.drag=function(){var t=X(a,"drag","dragstart","dragend"),i=null,r=o(V,e.mouse,s,"mousemove","mouseup"),n=o(yt,e.touch,R,"touchmove","touchend");function a(){this.on("mousedown.drag",r).on("touchstart.drag",n)}function o(r,n,a,s,o){return function(){var l,c=this,g=e.event.target.correspondingElement||e.event.target,d=c.parentNode,u=t.of(c,arguments),B=0,F=r(),h=".drag"+(null==F?"":"-"+F),Q=e.select(a(g)).on(s+h,function(){var t,e,i=n(d,F);if(!i)return;t=i[0]-I[0],e=i[1]-I[1],B|=t|e,I=i,u({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:e})}).on(o+h,function(){if(!n(d,F))return;Q.on(s+h,null).on(o+h,null),U(B),u({type:"dragend"})}),U=It(g),I=n(d,F);l=i?[(l=i.apply(c,arguments)).x-I[0],l.y-I[1]]:[0,0],u({type:"dragstart"})}}return a.origin=function(t){return arguments.length?(i=t,a):i},e.rebind(a,t,"on")},e.touches=function(t,e){return arguments.length<2&&(e=w().touches),e?r(e).map(function(e){var i=pt(t,e);return i.identifier=e.identifier,i}):[]};var mt=1e-6,Ct=mt*mt,ft=Math.PI,xt=2*ft,At=xt-mt,vt=ft/2,Lt=ft/180,Rt=180/ft;function St(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function Gt(t){return t>1?vt:t<-1?-vt:Math.asin(t)}function Et(t){return((t=Math.exp(t))+1/t)/2}var Vt=Math.SQRT2;e.interpolateZoom=function(t,e){var i,r,n=t[0],a=t[1],s=t[2],o=e[0],l=e[1],c=e[2],g=o-n,d=l-a,u=g*g+d*d;if(u<Ct)r=Math.log(c/s)/Vt,i=function(t){return[n+t*g,a+t*d,s*Math.exp(Vt*t*r)]};else{var B=Math.sqrt(u),F=(c*c-s*s+4*u)/(2*s*2*B),h=(c*c-s*s-4*u)/(2*c*2*B),Q=Math.log(Math.sqrt(F*F+1)-F),U=Math.log(Math.sqrt(h*h+1)-h);r=(U-Q)/Vt,i=function(t){var e=t*r,i=Et(Q),o=s/(2*B)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Vt*e+Q)-function(t){return((t=Math.exp(t))-1/t)/2}(Q));return[n+o*g,a+o*d,s*i/Et(Vt*e+Q)]}}return i.duration=1e3*r,i},e.behavior.zoom=function(){var t,i,r,a,o,l,c,g,d,u={x:0,y:0,k:1},B=[960,500],F=Dt,h=250,Q=0,U="mousedown.zoom",I="mousemove.zoom",b="mouseup.zoom",p="touchstart.zoom",y=X(m,"zoomstart","zoom","zoomend");function m(t){t.on(U,G).on(Nt+".zoom",V).on("dblclick.zoom",Z).on(p,E)}function C(t){return[(t[0]-u.x)/u.k,(t[1]-u.y)/u.k]}function f(t){u.k=Math.max(F[0],Math.min(F[1],t))}function x(t,e){e=function(t){return[t[0]*u.k+u.x,t[1]*u.k+u.y]}(e),u.x+=t[0]-e[0],u.y+=t[1]-e[1]}function A(t,r,n,a){t.__chart__={x:u.x,y:u.y,k:u.k},f(Math.pow(2,a)),x(i=r,n),t=e.select(t),h>0&&(t=t.transition().duration(h)),t.call(m.event)}function v(){c&&c.domain(l.range().map(function(t){return(t-u.x)/u.k}).map(l.invert)),d&&d.domain(g.range().map(function(t){return(t-u.y)/u.k}).map(g.invert))}function L(t){Q++||t({type:"zoomstart"})}function R(t){v(),t({type:"zoom",scale:u.k,translate:[u.x,u.y]})}function S(t){--Q||(t({type:"zoomend"}),i=null)}function G(){var t=this,i=y.of(t,arguments),r=0,n=e.select(s(t)).on(I,function(){r=1,x(e.mouse(t),a),R(i)}).on(b,function(){n.on(I,null).on(b,null),o(r),S(i)}),a=C(e.mouse(t)),o=It(t);On.call(t),L(i)}function E(){var t,i=this,r=y.of(i,arguments),n={},a=0,s=".zoom-"+e.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,g=[],d=e.select(i),B=It(i);function F(){var r=e.touches(i);return t=u.k,r.forEach(function(t){t.identifier in n&&(n[t.identifier]=C(t))}),r}function h(){var t=e.event.target;e.select(t).on(l,Q).on(c,I),g.push(t);for(var r=e.event.changedTouches,s=0,d=r.length;s<d;++s)n[r[s].identifier]=null;var B=F(),h=Date.now();if(1===B.length){if(h-o<500){var U=B[0];A(i,U,n[U.identifier],Math.floor(Math.log(u.k)/Math.LN2)+1),D()}o=h}else if(B.length>1){U=B[0];var b=B[1],p=U[0]-b[0],y=U[1]-b[1];a=p*p+y*y}}function Q(){var s,l,c,g,d=e.touches(i);On.call(i);for(var u=0,B=d.length;u<B;++u,g=null)if(c=d[u],g=n[c.identifier]){if(l)break;s=c,l=g}if(g){var F=(F=c[0]-s[0])*F+(F=c[1]-s[1])*F,h=a&&Math.sqrt(F/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+g[0])/2,(l[1]+g[1])/2],f(h*t)}o=null,x(s,l),R(r)}function I(){if(e.event.touches.length){for(var t=e.event.changedTouches,i=0,a=t.length;i<a;++i)delete n[t[i].identifier];for(var o in n)return void F()}e.selectAll(g).on(s,null),d.on(U,G).on(p,E),B(),S(r)}h(),L(r),d.on(U,null).on(p,h)}function V(){var n=y.of(this,arguments);a?clearTimeout(a):(On.call(this),t=C(i=r||e.mouse(this)),L(n)),a=setTimeout(function(){a=null,S(n)},50),D(),f(Math.pow(2,.002*Zt())*u.k),x(i,t),R(n)}function Z(){var t=e.mouse(this),i=Math.log(u.k)/Math.LN2;A(this,t,C(t),e.event.shiftKey?Math.ceil(i)-1:Math.floor(i)+1)}return Nt||(Nt="onwheel"in n?(Zt=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Zt=function(){return e.event.wheelDelta},"mousewheel"):(Zt=function(){return-e.event.detail},"MozMousePixelScroll")),m.event=function(t){t.each(function(){var t=y.of(this,arguments),r=u;Pn?e.select(this).transition().each("start.zoom",function(){u=this.__chart__||{x:0,y:0,k:1},L(t)}).tween("zoom:zoom",function(){var n=B[0],a=B[1],s=i?i[0]:n/2,o=i?i[1]:a/2,l=e.interpolateZoom([(s-u.x)/u.k,(o-u.y)/u.k,n/u.k],[(s-r.x)/r.k,(o-r.y)/r.k,n/r.k]);return function(e){var i=l(e),r=n/i[2];this.__chart__=u={x:s-i[0]*r,y:o-i[1]*r,k:r},R(t)}}).each("interrupt.zoom",function(){S(t)}).each("end.zoom",function(){S(t)}):(this.__chart__=u,L(t),R(t),S(t))})},m.translate=function(t){return arguments.length?(u={x:+t[0],y:+t[1],k:u.k},v(),m):[u.x,u.y]},m.scale=function(t){return arguments.length?(u={x:u.x,y:u.y,k:null},f(+t),v(),m):u.k},m.scaleExtent=function(t){return arguments.length?(F=null==t?Dt:[+t[0],+t[1]],m):F},m.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],m):r},m.size=function(t){return arguments.length?(B=t&&[+t[0],+t[1]],m):B},m.duration=function(t){return arguments.length?(h=+t,m):h},m.x=function(t){return arguments.length?(c=t,l=t.copy(),u={x:0,y:0,k:1},m):c},m.y=function(t){return arguments.length?(d=t,g=t.copy(),u={x:0,y:0,k:1},m):d},e.rebind(m,y,"on")};var Zt,Nt,Dt=[0,1/0];function wt(){}function Xt(t,e,i){return this instanceof Xt?(this.h=+t,this.s=+e,void(this.l=+i)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.s,t.l):se(""+t,oe,Xt):new Xt(t,e,i)}e.color=wt,wt.prototype.toString=function(){return this.rgb()+""},e.hsl=Xt;var Wt=Xt.prototype=new wt;function Ht(t,e,i){var r,n;function a(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(i=i<0?0:i>1?1:i)-(n=i<=.5?i*(1+e):i+e-i*e),new ee(a(t+120),a(t),a(t-120))}function Tt(t,i,r){return this instanceof Tt?(this.h=+t,this.c=+i,void(this.l=+r)):arguments.length<2?t instanceof Tt?new Tt(t.h,t.c,t.l):Pt(t instanceof Yt?t.l:(t=le((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Tt(t,i,r)}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,t*this.l)},Wt.rgb=function(){return Ht(this.h,this.s,this.l)},e.hcl=Tt;var Mt=Tt.prototype=new wt;function kt(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Yt(i,Math.cos(t*=Lt)*e,Math.sin(t)*e)}function Yt(t,e,i){return this instanceof Yt?(this.l=+t,this.a=+e,void(this.b=+i)):arguments.length<2?t instanceof Yt?new Yt(t.l,t.a,t.b):t instanceof Tt?kt(t.h,t.c,t.l):le((t=ee(t)).r,t.g,t.b):new Yt(t,e,i)}Mt.brighter=function(t){return new Tt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?t:1)))},Mt.darker=function(t){return new Tt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?t:1)))},Mt.rgb=function(){return kt(this.h,this.c,this.l).rgb()},e.lab=Yt;var Jt=18,$t=.95047,zt=1,Ot=1.08883,Kt=Yt.prototype=new wt;function _t(t,e,i){var r=(t+16)/116,n=r+e/500,a=r-i/200;return new ee(te(3.2404542*(n=jt(n)*$t)-1.5371385*(r=jt(r)*zt)-.4985314*(a=jt(a)*Ot)),te(-.969266*n+1.8760108*r+.041556*a),te(.0556434*n-.2040259*r+1.0572252*a))}function Pt(t,e,i){return t>0?new Tt(Math.atan2(i,e)*Rt,Math.sqrt(e*e+i*i),t):new Tt(NaN,NaN,t)}function jt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function qt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function te(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ee(t,e,i){return this instanceof ee?(this.r=~~t,this.g=~~e,void(this.b=~~i)):arguments.length<2?t instanceof ee?new ee(t.r,t.g,t.b):se(""+t,ee,Ht):new ee(t,e,i)}function ie(t){return new ee(t>>16,t>>8&255,255&t)}function re(t){return ie(t)+""}Kt.brighter=function(t){return new Yt(Math.min(100,this.l+Jt*(arguments.length?t:1)),this.a,this.b)},Kt.darker=function(t){return new Yt(Math.max(0,this.l-Jt*(arguments.length?t:1)),this.a,this.b)},Kt.rgb=function(){return _t(this.l,this.a,this.b)},e.rgb=ee;var ne=ee.prototype=new wt;function ae(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function se(t,e,i){var r,n,a,s=0,o=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(n=r[2].split(","),r[1]){case"hsl":return i(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100);case"rgb":return e(ge(n[0]),ge(n[1]),ge(n[2]))}return(a=de.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&a)>>4,s|=s>>4,o=240&a,o|=o>>4,l=15&a,l|=l<<4):7===t.length&&(s=(16711680&a)>>16,o=(65280&a)>>8,l=255&a)),e(s,o,l))}function oe(t,e,i){var r,n,a=Math.min(t/=255,e/=255,i/=255),s=Math.max(t,e,i),o=s-a,l=(s+a)/2;return o?(n=l<.5?o/(s+a):o/(2-s-a),r=t==s?(e-i)/o+(e<i?6:0):e==s?(i-t)/o+2:(t-e)/o+4,r*=60):(r=NaN,n=l>0&&l<1?0:r),new Xt(r,n,l)}function le(t,e,i){var r=qt((.4124564*(t=ce(t))+.3575761*(e=ce(e))+.1804375*(i=ce(i)))/$t),n=qt((.2126729*t+.7151522*e+.072175*i)/zt);return Yt(116*n-16,500*(r-n),200*(n-qt((.0193339*t+.119192*e+.9503041*i)/Ot)))}function ce(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ge(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ne.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,r=this.b,n=30;return e||i||r?(e&&e<n&&(e=n),i&&i<n&&(i=n),r&&r<n&&(r=n),new ee(Math.min(255,e/t),Math.min(255,i/t),Math.min(255,r/t))):new ee(n,n,n)},ne.darker=function(t){return new ee((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ne.hsl=function(){return oe(this.r,this.g,this.b)},ne.toString=function(){return"#"+ae(this.r)+ae(this.g)+ae(this.b)};var de=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ue(t){return"function"==typeof t?t:function(){return t}}function Be(t){return function(e,i,r){return 2===arguments.length&&"function"==typeof i&&(r=i,i=null),Fe(e,i,t,r)}}function Fe(t,i,n,a){var s={},o=e.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,g=null;function d(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=n.call(s,c)}catch(t){return void o.error.call(s,t)}o.load.call(s,t)}else o.error.call(s,c)}return self.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(t)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=d:c.onreadystatechange=function(){c.readyState>3&&d()},c.onprogress=function(t){var i=e.event;e.event=t;try{o.progress.call(s,c)}finally{e.event=i}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(i=null==t?null:t+"",s):i},s.responseType=function(t){return arguments.length?(g=t,s):g},s.response=function(t){return n=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(r(arguments)))}}),s.send=function(e,r,n){if(2===arguments.length&&"function"==typeof r&&(n=r,r=null),c.open(e,t,!0),null==i||"accept"in l||(l.accept=i+",*/*"),c.setRequestHeader)for(var a in l)c.setRequestHeader(a,l[a]);return null!=i&&c.overrideMimeType&&c.overrideMimeType(i),null!=g&&(c.responseType=g),null!=n&&s.on("error",n).on("load",function(t){n(null,t)}),o.beforesend.call(s,c),c.send(null==r?null:r),s},s.abort=function(){return c.abort(),s},e.rebind(s,o,"on"),null==a?s:s.get(function(t){return 1===t.length?function(e,i){t(null==e?i:null)}:t}(a))}de.forEach(function(t,e){de.set(t,ie(e))}),e.functor=ue,e.xhr=Be(R),e.dsv=function(t,e){var i=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function n(t,i,r){arguments.length<3&&(r=i,i=null);var n=Fe(t,e,null==i?a:s(i),r);return n.row=function(t){return arguments.length?n.response(null==(i=t)?a:s(t)):i},n}function a(t){return n.parse(t.responseText)}function s(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(l).join(t)}function l(t){return i.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return n.parse=function(t,e){var i;return n.parseRows(t,function(t,r){if(i)return i(t,r-1);var n=function(e){for(var i={},r=t.length,n=0;n<r;++n)i[t[n]]=e[n];return i};i=e?function(t,i){return e(n(t),i)}:n})},n.parseRows=function(t,e){var i,n,a={},s={},o=[],l=t.length,c=0,g=0;function d(){if(c>=l)return s;if(n)return n=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var i=e;i++<l;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return c=i+2,13===(o=t.charCodeAt(i+1))?(n=!0,10===t.charCodeAt(i+2)&&++c):10===o&&(n=!0),t.slice(e+1,i).replace(/""/g,'"')}for(;c<l;){var o,g=1;if(10===(o=t.charCodeAt(c++)))n=!0;else if(13===o)n=!0,10===t.charCodeAt(c)&&(++c,++g);else if(o!==r)continue;return t.slice(e,c-g)}return t.slice(e)}for(;(i=d())!==s;){for(var u=[];i!==a&&i!==s;)u.push(i),i=d();e&&null==(u=e(u,g++))||o.push(u)}return o},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new L,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(l).join(t)].concat(e.map(function(e){return r.map(function(t){return l(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("\t","text/tab-separated-values");var he,Qe,Ue,Ie,be=this[G(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function pe(t,e,i){var r=arguments.length;r<2&&(e=0),r<3&&(i=Date.now());var n={c:t,t:i+e,n:null};return Qe?Qe.n=n:he=n,Qe=n,Ue||(Ie=clearTimeout(Ie),Ue=1,be(ye)),n}function ye(){var t=me(),e=Ce()-t;e>24?(isFinite(e)&&(clearTimeout(Ie),Ie=setTimeout(ye,e)),Ue=0):(Ue=1,be(ye))}function me(){for(var t=Date.now(),e=he;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ce(){for(var t,e=he,i=1/0;e;)e.c?(e.t<i&&(i=e.t),e=(t=e).n):e=t?t.n=e.n:he=e.n;return Qe=t,i}function fe(t){return t[0]}function xe(t){return t[1]}function Ae(t){for(var e=t.length,i=[0,1],r=2,n=2;n<e;n++){for(;r>1&&St(t[i[r-2]],t[i[r-1]],t[n])<=0;)--r;i[r++]=n}return i.slice(0,r)}function ve(t,e){return t[0]-e[0]||t[1]-e[1]}e.timer=function(){pe.apply(this,arguments)},e.timer.flush=function(){me(),Ce()},e.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},e.geom={},e.geom.hull=function(t){var e=fe,i=xe;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,n=ue(e),a=ue(i),s=t.length,o=[],l=[];for(r=0;r<s;r++)o.push([+n.call(this,t[r],r),+a.call(this,t[r],r),r]);for(o.sort(ve),r=0;r<s;r++)l.push([o[r][0],-o[r][1]]);var c=Ae(o),g=Ae(l),d=g[0]===c[0],u=g[g.length-1]===c[c.length-1],B=[];for(r=c.length-1;r>=0;--r)B.push(t[o[c[r]][2]]);for(r=+d;r<g.length-u;++r)B.push(t[o[g[r]][2]]);return B}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(i=t,r):i},r},e.geom.polygon=function(t){return H(t,Le),t};var Le=e.geom.polygon.prototype=[];function Re(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function Se(t,e,i,r){var n=t[0],a=i[0],s=e[0]-n,o=r[0]-a,l=t[1],c=i[1],g=e[1]-l,d=r[1]-c,u=(o*(l-c)-d*(n-a))/(d*s-o*g);return[n+u*s,l+u*g]}function Ge(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}Le.area=function(){for(var t,e=-1,i=this.length,r=this[i-1],n=0;++e<i;)t=r,r=this[e],n+=t[1]*r[0]-t[0]*r[1];return.5*n},Le.centroid=function(t){var e,i,r=-1,n=this.length,a=0,s=0,o=this[n-1];for(arguments.length||(t=-1/(6*this.area()));++r<n;)e=o,o=this[r],i=e[0]*o[1]-o[0]*e[1],a+=(e[0]+o[0])*i,s+=(e[1]+o[1])*i;return[a*t,s*t]},Le.clip=function(t){for(var e,i,r,n,a,s,o=Ge(t),l=-1,c=this.length-Ge(this),g=this[c-1];++l<c;){for(e=t.slice(),t.length=0,n=this[l],a=e[(r=e.length-o)-1],i=-1;++i<r;)Re(s=e[i],g,n)?(Re(a,g,n)||t.push(Se(a,s,g,n)),t.push(s)):Re(a,g,n)&&t.push(Se(a,s,g,n)),a=s;o&&t.push(t[0]),g=n}return t};var Ee,Ve,Ze,Ne,De,we=[],Xe=[];function We(){ni(this),this.edge=this.site=this.circle=null}function He(t){var e=we.pop()||new We;return e.site=t,e}function Te(t){_e(t),Ze.remove(t),we.push(t),ni(t)}function Me(t){var e=t.circle,i=e.x,r=e.cy,n={x:i,y:r},a=t.P,s=t.N,o=[t];Te(t);for(var l=a;l.circle&&I(i-l.circle.x)<mt&&I(r-l.circle.cy)<mt;)a=l.P,o.unshift(l),Te(l),l=a;o.unshift(l),_e(l);for(var c=s;c.circle&&I(i-c.circle.x)<mt&&I(r-c.circle.cy)<mt;)s=c.N,o.push(c),Te(c),c=s;o.push(c),_e(c);var g,d=o.length;for(g=1;g<d;++g)c=o[g],l=o[g-1],ei(c.edge,l.site,c.site,n);l=o[0],(c=o[d-1]).edge=qe(l.site,c.site,null,n),Ke(l),Ke(c)}function ke(t){for(var e,i,r,n,a=t.x,s=t.y,o=Ze._;o;)if((r=Ye(o,s)-a)>mt)o=o.L;else{if(!((n=a-Je(o,s))>mt)){r>-mt?(e=o.P,i=o):n>-mt?(e=o,i=o.N):e=i=o;break}if(!o.R){e=o;break}o=o.R}var l=He(t);if(Ze.insert(e,l),e||i){if(e===i)return _e(e),i=He(e.site),Ze.insert(l,i),l.edge=i.edge=qe(e.site,l.site),Ke(e),void Ke(i);if(i){_e(e),_e(i);var c=e.site,g=c.x,d=c.y,u=t.x-g,B=t.y-d,F=i.site,h=F.x-g,Q=F.y-d,U=2*(u*Q-B*h),I=u*u+B*B,b=h*h+Q*Q,p={x:(Q*I-B*b)/U+g,y:(u*b-h*I)/U+d};ei(i.edge,c,F,p),l.edge=qe(c,t,null,p),i.edge=qe(t,F,null,p),Ke(e),Ke(i)}else l.edge=qe(e.site,l.site)}}function Ye(t,e){var i=t.site,r=i.x,n=i.y,a=n-e;if(!a)return r;var s=t.P;if(!s)return-1/0;var o=(i=s.site).x,l=i.y,c=l-e;if(!c)return o;var g=o-r,d=1/a-1/c,u=g/c;return d?(-u+Math.sqrt(u*u-2*d*(g*g/(-2*c)-l+c/2+n-a/2)))/d+r:(r+o)/2}function Je(t,e){var i=t.N;if(i)return Ye(i,e);var r=t.site;return r.y===e?r.x:1/0}function $e(t){this.site=t,this.edges=[]}function ze(t,e){return e.angle-t.angle}function Oe(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ke(t){var e=t.P,i=t.N;if(e&&i){var r=e.site,n=t.site,a=i.site;if(r!==a){var s=n.x,o=n.y,l=r.x-s,c=r.y-o,g=a.x-s,d=2*(l*(Q=a.y-o)-c*g);if(!(d>=-Ct)){var u=l*l+c*c,B=g*g+Q*Q,F=(Q*u-c*B)/d,h=(l*B-g*u)/d,Q=h+o,U=Xe.pop()||new Oe;U.arc=t,U.site=n,U.x=F+s,U.y=Q+Math.sqrt(F*F+h*h),U.cy=Q,t.circle=U;for(var I=null,b=De._;b;)if(U.y<b.y||U.y===b.y&&U.x<=b.x){if(!b.L){I=b.P;break}b=b.L}else{if(!b.R){I=b;break}b=b.R}De.insert(I,U),I||(Ne=U)}}}}function _e(t){var e=t.circle;e&&(e.P||(Ne=e.N),De.remove(e),Xe.push(e),ni(e),t.circle=null)}function Pe(t,e){var i=t.b;if(i)return!0;var r,n,a=t.a,s=e[0][0],o=e[1][0],l=e[0][1],c=e[1][1],g=t.l,d=t.r,u=g.x,B=g.y,F=d.x,h=d.y,Q=(u+F)/2,U=(B+h)/2;if(h===B){if(Q<s||Q>=o)return;if(u>F){if(a){if(a.y>=c)return}else a={x:Q,y:l};i={x:Q,y:c}}else{if(a){if(a.y<l)return}else a={x:Q,y:c};i={x:Q,y:l}}}else if(n=U-(r=(u-F)/(h-B))*Q,r<-1||r>1)if(u>F){if(a){if(a.y>=c)return}else a={x:(l-n)/r,y:l};i={x:(c-n)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-n)/r,y:c};i={x:(l-n)/r,y:l}}else if(B<h){if(a){if(a.x>=o)return}else a={x:s,y:r*s+n};i={x:o,y:r*o+n}}else{if(a){if(a.x<s)return}else a={x:o,y:r*o+n};i={x:s,y:r*s+n}}return t.a=a,t.b=i,!0}function je(t,e){this.l=t,this.r=e,this.a=this.b=null}function qe(t,e,i,r){var n=new je(t,e);return Ee.push(n),i&&ei(n,t,e,i),r&&ei(n,e,t,r),Ve[t.i].edges.push(new ii(n,t,e)),Ve[e.i].edges.push(new ii(n,e,t)),n}function ti(t,e,i){var r=new je(t,null);return r.a=e,r.b=i,Ee.push(r),r}function ei(t,e,i,r){t.a||t.b?t.l===i?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=i)}function ii(t,e,i){var r=t.a,n=t.b;this.edge=t,this.site=e,this.angle=i?Math.atan2(i.y-e.y,i.x-e.x):t.l===e?Math.atan2(n.x-r.x,r.y-n.y):Math.atan2(r.x-n.x,n.y-r.y)}function ri(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ai(t,e){var i=e,r=e.R,n=i.U;n?n.L===i?n.L=r:n.R=r:t._=r,r.U=n,i.U=r,i.R=r.L,i.R&&(i.R.U=i),r.L=i}function si(t,e){var i=e,r=e.L,n=i.U;n?n.L===i?n.L=r:n.R=r:t._=r,r.U=n,i.U=r,i.L=r.R,i.L&&(i.L.U=i),r.R=i}function oi(t){for(;t.L;)t=t.L;return t}function li(t,e){var i,r,n,a=t.sort(ci).pop();for(Ee=[],Ve=new Array(t.length),Ze=new ri,De=new ri;;)if(n=Ne,a&&(!n||a.y<n.y||a.y===n.y&&a.x<n.x))a.x===i&&a.y===r||(Ve[a.i]=new $e(a),ke(a),i=a.x,r=a.y),a=t.pop();else{if(!n)break;Me(n.arc)}e&&(function(t){for(var e,i=Ee,r=function(t,e,i,r){return function(n){var a,s=n.a,o=n.b,l=s.x,c=s.y,g=0,d=1,u=o.x-l,B=o.y-c;if(a=t-l,u||!(a>0)){if(a/=u,u<0){if(a<g)return;a<d&&(d=a)}else if(u>0){if(a>d)return;a>g&&(g=a)}if(a=i-l,u||!(a<0)){if(a/=u,u<0){if(a>d)return;a>g&&(g=a)}else if(u>0){if(a<g)return;a<d&&(d=a)}if(a=e-c,B||!(a>0)){if(a/=B,B<0){if(a<g)return;a<d&&(d=a)}else if(B>0){if(a>d)return;a>g&&(g=a)}if(a=r-c,B||!(a<0)){if(a/=B,B<0){if(a>d)return;a>g&&(g=a)}else if(B>0){if(a<g)return;a<d&&(d=a)}return g>0&&(n.a={x:l+g*u,y:c+g*B}),d<1&&(n.b={x:l+d*u,y:c+d*B}),n}}}}}}(t[0][0],t[0][1],t[1][0],t[1][1]),n=i.length;n--;)(!Pe(e=i[n],t)||!r(e)||I(e.a.x-e.b.x)<mt&&I(e.a.y-e.b.y)<mt)&&(e.a=e.b=null,i.splice(n,1))}(e),function(t){for(var e,i,r,n,a,s,o,l,c,g,d=t[0][0],u=t[1][0],B=t[0][1],F=t[1][1],h=Ve,Q=h.length;Q--;)if((a=h[Q])&&a.prepare())for(l=(o=a.edges).length,s=0;s<l;)r=(g=o[s].end()).x,n=g.y,e=(c=o[++s%l].start()).x,i=c.y,(I(r-e)>mt||I(n-i)>mt)&&(o.splice(s,0,new ii(ti(a.site,g,I(r-d)<mt&&F-n>mt?{x:d,y:I(e-d)<mt?i:F}:I(n-F)<mt&&u-r>mt?{x:I(i-F)<mt?e:u,y:F}:I(r-u)<mt&&n-B>mt?{x:u,y:I(e-u)<mt?i:B}:I(n-B)<mt&&r-d>mt?{x:I(i-B)<mt?e:d,y:B}:null),a.site,null)),++l)}(e));var s={cells:Ve,edges:Ee};return Ze=De=Ee=Ve=null,s}function ci(t,e){return e.y-t.y||e.x-t.x}$e.prototype.prepare=function(){for(var t,e=this.edges,i=e.length;i--;)(t=e[i].edge).b&&t.a||e.splice(i,1);return e.sort(ze),e.length},ii.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ri.prototype={insert:function(t,e){var i,r,n;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=oi(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)i===(r=i.U).L?(n=r.R)&&n.C?(i.C=n.C=!1,r.C=!0,t=r):(t===i.R&&(ai(this,i),i=(t=i).U),i.C=!1,r.C=!0,si(this,r)):(n=r.L)&&n.C?(i.C=n.C=!1,r.C=!0,t=r):(t===i.L&&(si(this,i),i=(t=i).U),i.C=!1,r.C=!0,ai(this,r)),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,r,n=t.U,a=t.L,s=t.R;if(i=a?s?oi(s):a:s,n?n.L===t?n.L=i:n.R=i:this._=i,a&&s?(r=i.C,i.C=t.C,i.L=a,a.U=i,i!==s?(n=i.U,i.U=t.U,t=i.R,n.L=t,i.R=s,s.U=i):(i.U=n,n=i,t=i.R)):(r=t.C,t=i),t&&(t.U=n),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===n.L){if((e=n.R).C&&(e.C=!1,n.C=!0,ai(this,n),e=n.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,si(this,e),e=n.R),e.C=n.C,n.C=e.R.C=!1,ai(this,n),t=this._;break}}else if((e=n.L).C&&(e.C=!1,n.C=!0,si(this,n),e=n.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ai(this,e),e=n.L),e.C=n.C,n.C=e.L.C=!1,si(this,n),t=this._;break}e.C=!0,t=n,n=n.U}while(!t.C);t&&(t.C=!1)}}},e.geom.voronoi=function(t){var e=fe,i=xe,r=e,n=i,a=gi;if(t)return s(t);function s(t){var e=new Array(t.length),i=a[0][0],r=a[0][1],n=a[1][0],s=a[1][1];return li(o(t),a).cells.forEach(function(a,o){var l=a.edges,c=a.site,g=e[o]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=i&&c.x<=n&&c.y>=r&&c.y<=s?[[i,s],[n,s],[n,r],[i,r]]:[];g.point=t[o]}),e}function o(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/mt)*mt,y:Math.round(n(t,e)/mt)*mt,i:e}})}return s.links=function(t){return li(o(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},s.triangles=function(t){var e=[];return li(o(t)).cells.forEach(function(i,r){for(var n,a=i.site,s=i.edges.sort(ze),o=-1,l=s.length,c=s[l-1].edge,g=c.l===a?c.r:c.l;++o<l;)n=g,g=(c=s[o].edge).l===a?c.r:c.l,r<n.i&&r<g.i&&di(a,n,g)<0&&e.push([t[r],t[n.i],t[g.i]])}),e},s.x=function(t){return arguments.length?(r=ue(e=t),s):e},s.y=function(t){return arguments.length?(n=ue(i=t),s):i},s.clipExtent=function(t){return arguments.length?(a=null==t?gi:t,s):a===gi?null:a},s.size=function(t){return arguments.length?s.clipExtent(t&&[[0,0],t]):a===gi?null:a&&a[1]},s};var gi=[[-1e6,-1e6],[1e6,1e6]];function di(t,e,i){return(t.x-i.x)*(e.y-t.y)-(t.x-e.x)*(i.y-t.y)}function ui(t){return t.x}function Bi(t){return t.y}function Fi(t,e,i,r,n,a){if(!t(e,i,r,n,a)){var s=.5*(i+n),o=.5*(r+a),l=e.nodes;l[0]&&Fi(t,l[0],i,r,s,o),l[1]&&Fi(t,l[1],s,r,n,o),l[2]&&Fi(t,l[2],i,o,s,a),l[3]&&Fi(t,l[3],s,o,n,a)}}function hi(t,i){t=e.rgb(t),i=e.rgb(i);var r=t.r,n=t.g,a=t.b,s=i.r-r,o=i.g-n,l=i.b-a;return function(t){return"#"+ae(Math.round(r+s*t))+ae(Math.round(n+o*t))+ae(Math.round(a+l*t))}}function Qi(t,e){var i,r={},n={};for(i in t)i in e?r[i]=yi(t[i],e[i]):n[i]=t[i];for(i in e)i in t||(n[i]=e[i]);return function(t){for(i in r)n[i]=r[i](t);return n}}function Ui(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function Ii(t,e){var i,r,n,a=bi.lastIndex=pi.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(i=bi.exec(t))&&(r=pi.exec(e));)(n=r.index)>a&&(n=e.slice(a,n),o[s]?o[s]+=n:o[++s]=n),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:Ui(i,r)})),a=pi.lastIndex;return a<e.length&&(n=e.slice(a),o[s]?o[s]+=n:o[++s]=n),o.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var i,r=0;r<e;++r)o[(i=l[r]).i]=i.x(t);return o.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(t,e,i,r,n){var a,s=fe,o=xe;if(a=arguments.length)return s=ui,o=Bi,3===a&&(n=i,r=e,i=e=0),l(t);function l(t){var l,c,g,d,u,B,F,h,Q,U=ue(s),b=ue(o);if(null!=e)B=e,F=i,h=r,Q=n;else if(h=Q=-(B=F=1/0),c=[],g=[],u=t.length,a)for(d=0;d<u;++d)(l=t[d]).x<B&&(B=l.x),l.y<F&&(F=l.y),l.x>h&&(h=l.x),l.y>Q&&(Q=l.y),c.push(l.x),g.push(l.y);else for(d=0;d<u;++d){var p=+U(l=t[d],d),y=+b(l,d);p<B&&(B=p),y<F&&(F=y),p>h&&(h=p),y>Q&&(Q=y),c.push(p),g.push(y)}var m=h-B,C=Q-F;function f(t,e,i,r,n,a,s,o){if(!isNaN(i)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(I(l-i)+I(c-r)<.01)x(t,e,i,r,n,a,s,o);else{var g=t.point;t.x=t.y=t.point=null,x(t,g,l,c,n,a,s,o),x(t,e,i,r,n,a,s,o)}else t.x=i,t.y=r,t.point=e}else x(t,e,i,r,n,a,s,o)}function x(t,e,i,r,n,a,s,o){var l=.5*(n+s),c=.5*(a+o),g=i>=l,d=r>=c,u=d<<1|g;t.leaf=!1,g?n=l:s=l,d?a=c:o=c,f(t=t.nodes[u]||(t.nodes[u]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,i,r,n,a,s,o)}m>C?Q=F+m:h=B+C;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){f(A,t,+U(t,++d),+b(t,d),B,F,h,Q)}};if(A.visit=function(t){Fi(t,A,B,F,h,Q)},A.find=function(t){return function(t,e,i,r,n,a,s){var o,l=1/0;return function t(c,g,d,u,B){if(!(g>a||d>s||u<r||B<n)){if(F=c.point){var F,h=e-c.x,Q=i-c.y,U=h*h+Q*Q;if(U<l){var I=Math.sqrt(l=U);r=e-I,n=i-I,a=e+I,s=i+I,o=F}}for(var b=c.nodes,p=.5*(g+u),y=.5*(d+B),m=(i>=y)<<1|e>=p,C=m+4;m<C;++m)if(c=b[3&m])switch(3&m){case 0:t(c,g,d,p,y);break;case 1:t(c,p,d,u,y);break;case 2:t(c,g,y,p,B);break;case 3:t(c,p,y,u,B)}}}(t,r,n,a,s),o}(A,t[0],t[1],B,F,h,Q)},d=-1,null==e){for(;++d<u;)f(A,t[d],c[d],g[d],B,F,h,Q);--d}else t.forEach(A.add);return c=g=t=l=null,A}return l.x=function(t){return arguments.length?(s=t,l):s},l.y=function(t){return arguments.length?(o=t,l):o},l.extent=function(t){return arguments.length?(null==t?e=i=r=n=null:(e=+t[0][0],i=+t[0][1],r=+t[1][0],n=+t[1][1]),l):null==e?null:[[e,i],[r,n]]},l.size=function(t){return arguments.length?(null==t?e=i=r=n=null:(e=i=0,r=+t[0],n=+t[1]),l):null==e?null:[r-e,n-i]},l},e.interpolateRgb=hi,e.interpolateObject=Qi,e.interpolateNumber=Ui,e.interpolateString=Ii;var bi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pi=new RegExp(bi.source,"g");function yi(t,i){for(var r,n=e.interpolators.length;--n>=0&&!(r=e.interpolators[n](t,i)););return r}function mi(t,e){var i,r=[],n=[],a=t.length,s=e.length,o=Math.min(t.length,e.length);for(i=0;i<o;++i)r.push(yi(t[i],e[i]));for(;i<a;++i)n[i]=t[i];for(;i<s;++i)n[i]=e[i];return function(t){for(i=0;i<o;++i)n[i]=r[i](t);return n}}e.interpolate=yi,e.interpolators=[function(t,e){var i=typeof e;return("string"===i?de.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?hi:Ii:e instanceof wt?hi:Array.isArray(e)?mi:"object"===i&&isNaN(e)?Qi:Ui)(t,e)}],e.interpolateArray=mi;var Ci=function(){return R},fi=e.map({linear:Ci,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return Li},cubic:function(){return Ri},sin:function(){return Gi},exp:function(){return Ei},circle:function(){return Vi},elastic:function(t,e){var i;arguments.length<2&&(e=.45);arguments.length?i=e/xt*Math.asin(1/t):(t=1,i=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-i)*xt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Zi}}),xi=e.map({in:R,out:Ai,"in-out":vi,"out-in":function(t){return vi(Ai(t))}});function Ai(t){return function(e){return 1-t(1-e)}}function vi(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Li(t){return t*t}function Ri(t){return t*t*t}function Si(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}function Gi(t){return 1-Math.cos(t*vt)}function Ei(t){return Math.pow(2,10*(t-1))}function Vi(t){return 1-Math.sqrt(1-t*t)}function Zi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ni(t,e){return e-=t,function(i){return Math.round(t+e*i)}}function Di(t){var e=[t.a,t.b],i=[t.c,t.d],r=Xi(e),n=wi(e,i),a=Xi(function(t,e,i){return t[0]+=i*e[0],t[1]+=i*e[1],t}(i,e,-n))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,n*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*Rt,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(n,a)*Rt:0}function wi(t,e){return t[0]*e[0]+t[1]*e[1]}function Xi(t){var e=Math.sqrt(wi(t,t));return e&&(t[0]/=e,t[1]/=e),e}e.ease=function(t){var e=t.indexOf("-"),r=e>=0?t.slice(0,e):t,n=e>=0?t.slice(e+1):"in";return r=fi.get(r)||Ci,function(t){return function(e){return e<=0?0:e>=1?1:t(e)}}((n=xi.get(n)||R)(r.apply(null,i.call(arguments,1))))},e.interpolateHcl=function(t,i){t=e.hcl(t),i=e.hcl(i);var r=t.h,n=t.c,a=t.l,s=i.h-r,o=i.c-n,l=i.l-a;isNaN(o)&&(o=0,n=isNaN(n)?i.c:n);isNaN(s)?(s=0,r=isNaN(r)?i.h:r):s>180?s-=360:s<-180&&(s+=360);return function(t){return kt(r+s*t,n+o*t,a+l*t)+""}},e.interpolateHsl=function(t,i){t=e.hsl(t),i=e.hsl(i);var r=t.h,n=t.s,a=t.l,s=i.h-r,o=i.s-n,l=i.l-a;isNaN(o)&&(o=0,n=isNaN(n)?i.s:n);isNaN(s)?(s=0,r=isNaN(r)?i.h:r):s>180?s-=360:s<-180&&(s+=360);return function(t){return Ht(r+s*t,n+o*t,a+l*t)+""}},e.interpolateLab=function(t,i){t=e.lab(t),i=e.lab(i);var r=t.l,n=t.a,a=t.b,s=i.l-r,o=i.a-n,l=i.b-a;return function(t){return _t(r+s*t,n+o*t,a+l*t)+""}},e.interpolateRound=Ni,e.transform=function(t){var i=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(t){if(null!=t){i.setAttribute("transform",t);var e=i.transform.baseVal.consolidate()}return new Di(e?e.matrix:Wi)})(t)},Di.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Wi={a:1,b:0,c:0,d:1,e:0,f:0};function Hi(t){return t.length?t.pop()+",":""}function Ti(t,i){var r=[],n=[];return t=e.transform(t),i=e.transform(i),function(t,e,i,r){if(t[0]!==e[0]||t[1]!==e[1]){var n=i.push("translate(",null,",",null,")");r.push({i:n-4,x:Ui(t[0],e[0])},{i:n-2,x:Ui(t[1],e[1])})}else(e[0]||e[1])&&i.push("translate("+e+")")}(t.translate,i.translate,r,n),function(t,e,i,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:i.push(Hi(i)+"rotate(",null,")")-2,x:Ui(t,e)})):e&&i.push(Hi(i)+"rotate("+e+")")}(t.rotate,i.rotate,r,n),function(t,e,i,r){t!==e?r.push({i:i.push(Hi(i)+"skewX(",null,")")-2,x:Ui(t,e)}):e&&i.push(Hi(i)+"skewX("+e+")")}(t.skew,i.skew,r,n),function(t,e,i,r){if(t[0]!==e[0]||t[1]!==e[1]){var n=i.push(Hi(i)+"scale(",null,",",null,")");r.push({i:n-4,x:Ui(t[0],e[0])},{i:n-2,x:Ui(t[1],e[1])})}else 1===e[0]&&1===e[1]||i.push(Hi(i)+"scale("+e+")")}(t.scale,i.scale,r,n),t=i=null,function(t){for(var e,i=-1,a=n.length;++i<a;)r[(e=n[i]).i]=e.x(t);return r.join("")}}function Mi(t,e){return e=(e-=t=+t)||1/e,function(i){return(i-t)/e}}function ki(t,e){return e=(e-=t=+t)||1/e,function(i){return Math.max(0,Math.min(1,(i-t)/e))}}function Yi(t){for(var e=t.source,i=t.target,r=function(t,e){if(t===e)return t;var i=Ji(t),r=Ji(e),n=i.pop(),a=r.pop(),s=null;for(;n===a;)s=n,n=i.pop(),a=r.pop();return s}(e,i),n=[e];e!==r;)e=e.parent,n.push(e);for(var a=n.length;i!==r;)n.splice(a,0,i),i=i.parent;return n}function Ji(t){for(var e=[],i=t.parent;null!=i;)e.push(t),t=i,i=i.parent;return e.push(t),e}function $i(t){t.fixed|=2}function zi(t){t.fixed&=-7}function Oi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ki(t){t.fixed&=-5}function _i(t,e,i){var r=0,n=0;if(t.charge=0,!t.leaf)for(var a,s=t.nodes,o=s.length,l=-1;++l<o;)null!=(a=s[l])&&(_i(a,e,i),t.charge+=a.charge,r+=a.charge*a.cx,n+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*i[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,n+=c*t.point.y}t.cx=r/t.charge,t.cy=n/t.charge}e.interpolateTransform=Ti,e.layout={},e.layout.bundle=function(){return function(t){for(var e=[],i=-1,r=t.length;++i<r;)e.push(Yi(t[i]));return e}},e.layout.chord=function(){var t,i,r,n,a,s,o,l={},c=0;function g(){var l,g,u,B,F,h={},Q=[],U=e.range(n),I=[];for(t=[],i=[],l=0,B=-1;++B<n;){for(g=0,F=-1;++F<n;)g+=r[B][F];Q.push(g),I.push(e.range(n)),l+=g}for(a&&U.sort(function(t,e){return a(Q[t],Q[e])}),s&&I.forEach(function(t,e){t.sort(function(t,i){return s(r[e][t],r[e][i])})}),l=(xt-c*n)/l,g=0,B=-1;++B<n;){for(u=g,F=-1;++F<n;){var b=U[B],p=I[b][F],y=r[b][p],m=g,C=g+=y*l;h[b+"-"+p]={index:b,subindex:p,startAngle:m,endAngle:C,value:y}}i[b]={index:b,startAngle:u,endAngle:g,value:Q[b]},g+=c}for(B=-1;++B<n;)for(F=B-1;++F<n;){var f=h[B+"-"+F],x=h[F+"-"+B];(f.value||x.value)&&t.push(f.value<x.value?{source:x,target:f}:{source:f,target:x})}o&&d()}function d(){t.sort(function(t,e){return o((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return l.matrix=function(e){return arguments.length?(n=(r=e)&&r.length,t=i=null,l):r},l.padding=function(e){return arguments.length?(c=e,t=i=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,t=i=null,l):a},l.sortSubgroups=function(e){return arguments.length?(s=e,t=null,l):s},l.sortChords=function(e){return arguments.length?(o=e,t&&d(),l):o},l.chords=function(){return t||g(),t},l.groups=function(){return i||g(),i},l},e.layout.force=function(){var t,i,r,n,a,s,o={},l=e.dispatch("start","tick","end"),c=[1,1],g=.9,d=Pi,u=ji,B=-30,F=qi,h=.1,Q=.64,U=[],I=[];function b(t){return function(e,i,r,n){if(e.point!==t){var a=e.cx-t.x,s=e.cy-t.y,o=n-i,l=a*a+s*s;if(o*o/Q<l){if(l<F){var c=e.charge/l;t.px-=a*c,t.py-=s*c}return!0}if(e.point&&l&&l<F){c=e.pointCharge/l;t.px-=a*c,t.py-=s*c}}return!e.charge}}function p(t){t.px=e.event.x,t.py=e.event.y,o.resume()}return o.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var i,o,d,u,F,Q,p,y,m,C=U.length,f=I.length;for(o=0;o<f;++o)u=(d=I[o]).source,(Q=(y=(F=d.target).x-u.x)*y+(m=F.y-u.y)*m)&&(y*=Q=r*a[o]*((Q=Math.sqrt(Q))-n[o])/Q,m*=Q,F.x-=y*(p=u.weight+F.weight?u.weight/(u.weight+F.weight):.5),F.y-=m*p,u.x+=y*(p=1-p),u.y+=m*p);if((p=r*h)&&(y=c[0]/2,m=c[1]/2,o=-1,p))for(;++o<C;)(d=U[o]).x+=(y-d.x)*p,d.y+=(m-d.y)*p;if(B)for(_i(i=e.geom.quadtree(U),r,s),o=-1;++o<C;)(d=U[o]).fixed||i.visit(b(d));for(o=-1;++o<C;)(d=U[o]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*g,d.y-=(d.py-(d.py=d.y))*g);l.tick({type:"tick",alpha:r})},o.nodes=function(t){return arguments.length?(U=t,o):U},o.links=function(t){return arguments.length?(I=t,o):I},o.size=function(t){return arguments.length?(c=t,o):c},o.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,o):d},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(u="function"==typeof t?t:+t,o):u},o.friction=function(t){return arguments.length?(g=+t,o):g},o.charge=function(t){return arguments.length?(B="function"==typeof t?t:+t,o):B},o.chargeDistance=function(t){return arguments.length?(F=t*t,o):Math.sqrt(F)},o.gravity=function(t){return arguments.length?(h=+t,o):h},o.theta=function(t){return arguments.length?(Q=t*t,o):Math.sqrt(Q)},o.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=pe(o.tick)),o):r},o.start=function(){var t,e,i,r=U.length,l=I.length,g=c[0],F=c[1];for(t=0;t<r;++t)(i=U[t]).index=t,i.weight=0;for(t=0;t<l;++t)"number"==typeof(i=I[t]).source&&(i.source=U[i.source]),"number"==typeof i.target&&(i.target=U[i.target]),++i.source.weight,++i.target.weight;for(t=0;t<r;++t)i=U[t],isNaN(i.x)&&(i.x=h("x",g)),isNaN(i.y)&&(i.y=h("y",F)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(n=[],"function"==typeof d)for(t=0;t<l;++t)n[t]=+d.call(this,I[t],t);else for(t=0;t<l;++t)n[t]=d;if(a=[],"function"==typeof u)for(t=0;t<l;++t)a[t]=+u.call(this,I[t],t);else for(t=0;t<l;++t)a[t]=u;if(s=[],"function"==typeof B)for(t=0;t<r;++t)s[t]=+B.call(this,U[t],t);else for(t=0;t<r;++t)s[t]=B;function h(i,n){if(!e){for(e=new Array(r),c=0;c<r;++c)e[c]=[];for(c=0;c<l;++c){var a=I[c];e[a.source.index].push(a.target),e[a.target.index].push(a.source)}}for(var s,o=e[t],c=-1,g=o.length;++c<g;)if(!isNaN(s=o[c][i]))return s;return Math.random()*n}return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){if(i||(i=e.behavior.drag().origin(R).on("dragstart.force",$i).on("drag.force",p).on("dragend.force",zi)),!arguments.length)return i;this.on("mouseover.force",Oi).on("mouseout.force",Ki).call(i)},e.rebind(o,l,"on")};var Pi=20,ji=1,qi=1/0;function tr(t,i){return e.rebind(t,i,"sort","children","value"),t.nodes=t,t.links=sr,t}function er(t,e){for(var i=[t];null!=(t=i.pop());)if(e(t),(n=t.children)&&(r=n.length))for(var r,n;--r>=0;)i.push(n[r])}function ir(t,e){for(var i=[t],r=[];null!=(t=i.pop());)if(r.push(t),(a=t.children)&&(n=a.length))for(var n,a,s=-1;++s<n;)i.push(a[s]);for(;null!=(t=r.pop());)e(t)}function rr(t){return t.children}function nr(t){return t.value}function ar(t,e){return e.value-t.value}function sr(t){return e.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}e.layout.hierarchy=function(){var t=ar,e=rr,i=nr;function r(n){var a,s=[n],o=[];for(n.depth=0;null!=(a=s.pop());)if(o.push(a),(c=e.call(r,a,a.depth))&&(l=c.length)){for(var l,c,g;--l>=0;)s.push(g=c[l]),g.parent=a,g.depth=a.depth+1;i&&(a.value=0),a.children=c}else i&&(a.value=+i.call(r,a,a.depth)||0),delete a.children;return ir(n,function(e){var r,n;t&&(r=e.children)&&r.sort(t),i&&(n=e.parent)&&(n.value+=e.value)}),o}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(i=t,r):i},r.revalue=function(t){return i&&(er(t,function(t){t.children&&(t.value=0)}),ir(t,function(t){var e;t.children||(t.value=+i.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},e.layout.partition=function(){var t=e.layout.hierarchy(),i=[1,1];function r(t,e,i,n){var a=t.children;if(t.x=e,t.y=t.depth*n,t.dx=i,t.dy=n,a&&(s=a.length)){var s,o,l,c=-1;for(i=t.value?i/t.value:0;++c<s;)r(o=a[c],e,l=o.value*i,n),e+=l}}function n(t){var e=t.children,i=0;if(e&&(r=e.length))for(var r,a=-1;++a<r;)i=Math.max(i,n(e[a]));return 1+i}function a(e,a){var s=t.call(this,e,a);return r(s[0],0,i[0],i[1]/n(s[0])),s}return a.size=function(t){return arguments.length?(i=t,a):i},tr(a,t)},e.layout.pie=function(){var t=Number,i=or,r=0,n=xt,a=0;function s(o){var l,c=o.length,g=o.map(function(e,i){return+t.call(s,e,i)}),d=+("function"==typeof r?r.apply(this,arguments):r),u=("function"==typeof n?n.apply(this,arguments):n)-d,B=Math.min(Math.abs(u)/c,+("function"==typeof a?a.apply(this,arguments):a)),F=B*(u<0?-1:1),h=e.sum(g),Q=h?(u-c*F)/h:0,U=e.range(c),I=[];return null!=i&&U.sort(i===or?function(t,e){return g[e]-g[t]}:function(t,e){return i(o[t],o[e])}),U.forEach(function(t){I[t]={data:o[t],value:l=g[t],startAngle:d,endAngle:d+=l*Q+F,padAngle:B}}),I}return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(t){return arguments.length?(i=t,s):i},s.startAngle=function(t){return arguments.length?(r=t,s):r},s.endAngle=function(t){return arguments.length?(n=t,s):n},s.padAngle=function(t){return arguments.length?(a=t,s):a},s};var or={};function lr(t){return t.x}function cr(t){return t.y}function gr(t,e,i){t.y0=e,t.y=i}e.layout.stack=function(){var t=R,i=Br,r=Fr,n=gr,a=lr,s=cr;function o(l,c){if(!(B=l.length))return l;var g=l.map(function(e,i){return t.call(o,e,i)}),d=g.map(function(t){return t.map(function(t,e){return[a.call(o,t,e),s.call(o,t,e)]})}),u=i.call(o,d,c);g=e.permute(g,u),d=e.permute(d,u);var B,F,h,Q,U=r.call(o,d,c),I=g[0].length;for(h=0;h<I;++h)for(n.call(o,g[0][h],Q=U[h],d[0][h][1]),F=1;F<B;++F)n.call(o,g[F][h],Q+=d[F-1][h][1],d[F][h][1]);return l}return o.values=function(e){return arguments.length?(t=e,o):t},o.order=function(t){return arguments.length?(i="function"==typeof t?t:dr.get(t)||Br,o):i},o.offset=function(t){return arguments.length?(r="function"==typeof t?t:ur.get(t)||Fr,o):r},o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(s=t,o):s},o.out=function(t){return arguments.length?(n=t,o):n},o};var dr=e.map({"inside-out":function(t){var i,r,n=t.length,a=t.map(hr),s=t.map(Qr),o=e.range(n).sort(function(t,e){return a[t]-a[e]}),l=0,c=0,g=[],d=[];for(i=0;i<n;++i)r=o[i],l<c?(l+=s[r],g.push(r)):(c+=s[r],d.push(r));return d.reverse().concat(g)},reverse:function(t){return e.range(t.length).reverse()},default:Br}),ur=e.map({silhouette:function(t){var e,i,r,n=t.length,a=t[0].length,s=[],o=0,l=[];for(i=0;i<a;++i){for(e=0,r=0;e<n;e++)r+=t[e][i][1];r>o&&(o=r),s.push(r)}for(i=0;i<a;++i)l[i]=(o-s[i])/2;return l},wiggle:function(t){var e,i,r,n,a,s,o,l,c,g=t.length,d=t[0],u=d.length,B=[];for(B[0]=l=c=0,i=1;i<u;++i){for(e=0,n=0;e<g;++e)n+=t[e][i][1];for(e=0,a=0,o=d[i][0]-d[i-1][0];e<g;++e){for(r=0,s=(t[e][i][1]-t[e][i-1][1])/(2*o);r<e;++r)s+=(t[r][i][1]-t[r][i-1][1])/o;a+=s*t[e][i][1]}B[i]=l-=n?a/n*o:0,l<c&&(c=l)}for(i=0;i<u;++i)B[i]-=c;return B},expand:function(t){var e,i,r,n=t.length,a=t[0].length,s=1/n,o=[];for(i=0;i<a;++i){for(e=0,r=0;e<n;e++)r+=t[e][i][1];if(r)for(e=0;e<n;e++)t[e][i][1]/=r;else for(e=0;e<n;e++)t[e][i][1]=s}for(i=0;i<a;++i)o[i]=0;return o},zero:Fr});function Br(t){return e.range(t.length)}function Fr(t){for(var e=-1,i=t[0].length,r=[];++e<i;)r[e]=0;return r}function hr(t){for(var e,i=1,r=0,n=t[0][1],a=t.length;i<a;++i)(e=t[i][1])>n&&(r=i,n=e);return r}function Qr(t){return t.reduce(Ur,0)}function Ur(t,e){return t+e[1]}function Ir(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var i=-1,r=+t[0],n=(t[1]-r)/e,a=[];++i<=e;)a[i]=n*i+r;return a}function pr(t){return[e.min(t),e.max(t)]}function yr(t,e){return t.value-e.value}function mr(t,e){var i=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=i,i._pack_prev=e}function Cr(t,e){t._pack_next=e,e._pack_prev=t}function fr(t,e){var i=e.x-t.x,r=e.y-t.y,n=t.r+e.r;return.999*n*n>i*i+r*r}function xr(t){if((e=t.children)&&(l=e.length)){var e,i,r,n,a,s,o,l,c=1/0,g=-1/0,d=1/0,u=-1/0;if(e.forEach(Ar),(i=e[0]).x=-i.r,i.y=0,b(i),l>1&&((r=e[1]).x=r.r,r.y=0,b(r),l>2))for(Rr(i,r,n=e[2]),b(n),mr(i,n),i._pack_prev=n,mr(n,r),r=i._pack_next,a=3;a<l;a++){Rr(i,r,n=e[a]);var B=0,F=1,h=1;for(s=r._pack_next;s!==r;s=s._pack_next,F++)if(fr(s,n)){B=1;break}if(1==B)for(o=i._pack_prev;o!==s._pack_prev&&!fr(o,n);o=o._pack_prev,h++);B?(F<h||F==h&&r.r<i.r?Cr(i,r=s):Cr(i=o,r),a--):(mr(i,n),r=n,b(n))}var Q=(c+g)/2,U=(d+u)/2,I=0;for(a=0;a<l;a++)(n=e[a]).x-=Q,n.y-=U,I=Math.max(I,n.r+Math.sqrt(n.x*n.x+n.y*n.y));t.r=I,e.forEach(vr)}function b(t){c=Math.min(t.x-t.r,c),g=Math.max(t.x+t.r,g),d=Math.min(t.y-t.r,d),u=Math.max(t.y+t.r,u)}}function Ar(t){t._pack_next=t._pack_prev=t}function vr(t){delete t._pack_next,delete t._pack_prev}function Lr(t,e,i,r){var n=t.children;if(t.x=e+=r*t.x,t.y=i+=r*t.y,t.r*=r,n)for(var a=-1,s=n.length;++a<s;)Lr(n[a],e,i,r)}function Rr(t,e,i){var r=t.r+i.r,n=e.x-t.x,a=e.y-t.y;if(r&&(n||a)){var s=e.r+i.r,o=n*n+a*a,l=.5+((r*=r)-(s*=s))/(2*o),c=Math.sqrt(Math.max(0,2*s*(r+o)-(r-=o)*r-s*s))/(2*o);i.x=t.x+l*n+c*a,i.y=t.y+l*a-c*n}else i.x=t.x+r,i.y=t.y}function Sr(t,e){return t.parent==e.parent?1:2}function Gr(t){var e=t.children;return e.length?e[0]:t.t}function Er(t){var e,i=t.children;return(e=i.length)?i[e-1]:t.t}function Vr(t,e,i){var r=i/(e.i-t.i);e.c-=r,e.s+=i,t.c+=r,e.z+=i,e.m+=i}function Zr(t,e,i){return t.a.parent===e.parent?t.a:i}function Nr(t){var e=t.children;return e&&e.length?Nr(e[0]):t}function Dr(t){var e,i=t.children;return i&&(e=i.length)?Dr(i[e-1]):t}function wr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Xr(t,e){var i=t.x+e[3],r=t.y+e[0],n=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return n<0&&(i+=n/2,n=0),a<0&&(r+=a/2,a=0),{x:i,y:r,dx:n,dy:a}}function Wr(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]}function Hr(t){return t.rangeExtent?t.rangeExtent():Wr(t.range())}function Tr(t,e,i,r){var n=i(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(n(t))}}function Mr(t,e){var i,r=0,n=t.length-1,a=t[r],s=t[n];return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function kr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Yr}e.layout.histogram=function(){var t=!0,i=Number,r=pr,n=Ir;function a(a,s){for(var o,l,c=[],g=a.map(i,this),d=r.call(this,g,s),u=n.call(this,d,g,s),B=(s=-1,g.length),F=u.length-1,h=t?1:1/B;++s<F;)(o=c[s]=[]).dx=u[s+1]-(o.x=u[s]),o.y=0;if(F>0)for(s=-1;++s<B;)(l=g[s])>=d[0]&&l<=d[1]&&((o=c[e.bisect(u,l,1,F)-1]).y+=h,o.push(a[s]));return c}return a.value=function(t){return arguments.length?(i=t,a):i},a.range=function(t){return arguments.length?(r=ue(t),a):r},a.bins=function(t){return arguments.length?(n="number"==typeof t?function(e){return br(e,t)}:ue(t),a):n},a.frequency=function(e){return arguments.length?(t=!!e,a):t},a},e.layout.pack=function(){var t,i=e.layout.hierarchy().sort(yr),r=0,n=[1,1];function a(e,a){var s=i.call(this,e,a),o=s[0],l=n[0],c=n[1],g=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,ir(o,function(t){t.r=+g(t.value)}),ir(o,xr),r){var d=r*(t?1:Math.max(2*o.r/l,2*o.r/c))/2;ir(o,function(t){t.r+=d}),ir(o,xr),ir(o,function(t){t.r-=d})}return Lr(o,l/2,c/2,t?1:1/Math.max(2*o.r/l,2*o.r/c)),s}return a.size=function(t){return arguments.length?(n=t,a):n},a.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,a):t},a.padding=function(t){return arguments.length?(r=+t,a):r},tr(a,i)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),i=Sr,r=[1,1],n=null;function a(e,a){var c=t.call(this,e,a),g=c[0],d=function(t){var e,i={A:null,children:[t]},r=[i];for(;null!=(e=r.pop());)for(var n,a=e.children,s=0,o=a.length;s<o;++s)r.push((a[s]=n={_:a[s],parent:e,children:(n=a[s].children)&&n.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=n);return i.children[0]}(g);if(ir(d,s),d.parent.m=-d.z,er(d,o),n)er(g,l);else{var u=g,B=g,F=g;er(g,function(t){t.x<u.x&&(u=t),t.x>B.x&&(B=t),t.depth>F.depth&&(F=t)});var h=i(u,B)/2-u.x,Q=r[0]/(B.x+i(B,u)/2+h),U=r[1]/(F.depth||1);er(g,function(t){t.x=(t.x+h)*Q,t.y=t.depth*U})}return c}function s(t){var e=t.children,r=t.parent.children,n=t.i?r[t.i-1]:null;if(e.length){!function(t){var e,i=0,r=0,n=t.children,a=n.length;for(;--a>=0;)(e=n[a]).z+=i,e.m+=i,i+=e.s+(r+=e.c)}(t);var a=(e[0].z+e[e.length-1].z)/2;n?(t.z=n.z+i(t._,n._),t.m=t.z-a):t.z=a}else n&&(t.z=n.z+i(t._,n._));t.parent.A=function(t,e,r){if(e){for(var n,a=t,s=t,o=e,l=a.parent.children[0],c=a.m,g=s.m,d=o.m,u=l.m;o=Er(o),a=Gr(a),o&&a;)l=Gr(l),(s=Er(s)).a=t,(n=o.z+d-a.z-c+i(o._,a._))>0&&(Vr(Zr(o,t,r),t,n),c+=n,g+=n),d+=o.m,c+=a.m,u+=l.m,g+=s.m;o&&!Er(s)&&(s.t=o,s.m+=d-g),a&&!Gr(l)&&(l.t=a,l.m+=c-u,r=t)}return r}(t,n,t.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=r[0],t.y=t.depth*r[1]}return a.separation=function(t){return arguments.length?(i=t,a):i},a.size=function(t){return arguments.length?(n=null==(r=t)?l:null,a):n?null:r},a.nodeSize=function(t){return arguments.length?(n=null==(r=t)?null:l,a):n?r:null},tr(a,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),i=Sr,r=[1,1],n=!1;function a(a,s){var o,l=t.call(this,a,s),c=l[0],g=0;ir(c,function(t){var r=t.children;r&&r.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(r),t.y=function(t){return 1+e.max(t,function(t){return t.y})}(r)):(t.x=o?g+=i(t,o):0,t.y=0,o=t)});var d=Nr(c),u=Dr(c),B=d.x-i(d,u)/2,F=u.x+i(u,d)/2;return ir(c,n?function(t){t.x=(t.x-c.x)*r[0],t.y=(c.y-t.y)*r[1]}:function(t){t.x=(t.x-B)/(F-B)*r[0],t.y=(1-(c.y?t.y/c.y:1))*r[1]}),l}return a.separation=function(t){return arguments.length?(i=t,a):i},a.size=function(t){return arguments.length?(n=null==(r=t),a):n?null:r},a.nodeSize=function(t){return arguments.length?(n=null!=(r=t),a):n?r:null},tr(a,t)},e.layout.treemap=function(){var t,i=e.layout.hierarchy(),r=Math.round,n=[1,1],a=null,s=wr,o=!1,l="squarify",c=.5*(1+Math.sqrt(5));function g(t,e){for(var i,r,n=-1,a=t.length;++n<a;)r=(i=t[n]).value*(e<0?0:e),i.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var i,r,n,a=s(t),o=[],c=e.slice(),u=1/0,h="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(g(c,a.dx*a.dy/t.value),o.area=0;(n=c.length)>0;)o.push(i=c[n-1]),o.area+=i.area,"squarify"!==l||(r=B(o,h))<=u?(c.pop(),u=r):(o.area-=o.pop().area,F(o,h,a,!1),h=Math.min(a.dx,a.dy),o.length=o.area=0,u=1/0);o.length&&(F(o,h,a,!0),o.length=o.area=0),e.forEach(d)}}function u(t){var e=t.children;if(e&&e.length){var i,r=s(t),n=e.slice(),a=[];for(g(n,r.dx*r.dy/t.value),a.area=0;i=n.pop();)a.push(i),a.area+=i.area,null!=i.z&&(F(a,i.z?r.dx:r.dy,r,!n.length),a.length=a.area=0);e.forEach(u)}}function B(t,e){for(var i,r=t.area,n=0,a=1/0,s=-1,o=t.length;++s<o;)(i=t[s].area)&&(i<a&&(a=i),i>n&&(n=i));return e*=e,(r*=r)?Math.max(e*n*c/r,r/(e*a*c)):1/0}function F(t,e,i,n){var a,s=-1,o=t.length,l=i.x,c=i.y,g=e?r(t.area/e):0;if(e==i.dx){for((n||g>i.dy)&&(g=i.dy);++s<o;)(a=t[s]).x=l,a.y=c,a.dy=g,l+=a.dx=Math.min(i.x+i.dx-l,g?r(a.area/g):0);a.z=!0,a.dx+=i.x+i.dx-l,i.y+=g,i.dy-=g}else{for((n||g>i.dx)&&(g=i.dx);++s<o;)(a=t[s]).x=l,a.y=c,a.dx=g,c+=a.dy=Math.min(i.y+i.dy-c,g?r(a.area/g):0);a.z=!1,a.dy+=i.y+i.dy-c,i.x+=g,i.dx-=g}}function h(e){var r=t||i(e),a=r[0];return a.x=a.y=0,a.value?(a.dx=n[0],a.dy=n[1]):a.dx=a.dy=0,t&&i.revalue(a),g([a],a.dx*a.dy/a.value),(t?u:d)(a),o&&(t=r),r}return h.size=function(t){return arguments.length?(n=t,h):n},h.padding=function(t){if(!arguments.length)return a;function e(e){return Xr(e,t)}var i;return s=null==(a=t)?wr:"function"==(i=typeof t)?function(e){var i=t.call(h,e,e.depth);return null==i?wr(e):Xr(e,"number"==typeof i?[i,i,i,i]:i)}:"number"===i?(t=[t,t,t,t],e):e,h},h.round=function(t){return arguments.length?(r=t?Math.round:Number,h):r!=Number},h.sticky=function(e){return arguments.length?(o=e,t=null,h):o},h.ratio=function(t){return arguments.length?(c=t,h):c},h.mode=function(t){return arguments.length?(l=t+"",h):l},tr(h,i)},e.random={normal:function(t,e){var i=arguments.length;return i<2&&(e=1),i<1&&(t=0),function(){var i,r,n;do{n=(i=2*Math.random()-1)*i+(r=2*Math.random()-1)*r}while(!n||n>1);return t+e*i*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var i=e.random.irwinHall(t);return function(){return i()/t}},irwinHall:function(t){return function(){for(var e=0,i=0;i<t;i++)e+=Math.random();return e}}},e.scale={};var Yr={floor:R,ceil:R};function Jr(t,i,r,n){var a=[],s=[],o=0,l=Math.min(t.length,i.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),i=i.slice().reverse());++o<=l;)a.push(r(t[o-1],t[o])),s.push(n(i[o-1],i[o]));return function(i){var r=e.bisect(t,i,1,l)-1;return s[r](a[r](i))}}function $r(t,e,i,r){var n,a;function s(){var s=Math.min(t.length,e.length)>2?Jr:Tr,l=r?ki:Mi;return n=s(t,e,l,i),a=s(e,t,l,yi),o}function o(t){return n(t)}return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),s()):t},o.range=function(t){return arguments.length?(e=t,s()):e},o.rangeRound=function(t){return o.range(t).interpolate(Ni)},o.clamp=function(t){return arguments.length?(r=t,s()):r},o.interpolate=function(t){return arguments.length?(i=t,s()):i},o.ticks=function(e){return _r(t,e)},o.tickFormat=function(e,i){return d3_scale_linearTickFormat(t,e,i)},o.nice=function(e){return Or(t,e),s()},o.copy=function(){return $r(t,e,i,r)},s()}function zr(t,i){return e.rebind(t,i,"range","rangeRound","interpolate","clamp")}function Or(t,e){return Mr(t,kr(Kr(t,e)[2])),Mr(t,kr(Kr(t,e)[2])),t}function Kr(t,e){null==e&&(e=10);var i=Wr(t),r=i[1]-i[0],n=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*n;return a<=.15?n*=10:a<=.35?n*=5:a<=.75&&(n*=2),i[0]=Math.ceil(i[0]/n)*n,i[1]=Math.floor(i[1]/n)*n+.5*n,i[2]=n,i}function _r(t,i){return e.range.apply(e,Kr(t,i))}function Pr(t,e,i,r){function n(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return i?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(n(e))}return s.invert=function(e){return a(t.invert(e))},s.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((r=e.map(Number)).map(n)),s):r},s.base=function(i){return arguments.length?(e=+i,t.domain(r.map(n)),s):e},s.nice=function(){var e=Mr(r.map(n),i?Math:jr);return t.domain(e),r=e.map(a),s},s.ticks=function(){var t=Wr(r),s=[],o=t[0],l=t[1],c=Math.floor(n(o)),g=Math.ceil(n(l)),d=e%1?2:e;if(isFinite(g-c)){if(i){for(;c<g;c++)for(var u=1;u<d;u++)s.push(a(c)*u);s.push(a(c))}else for(s.push(a(c));c++<g;)for(u=d-1;u>0;u--)s.push(a(c)*u);for(c=0;s[c]<o;c++);for(g=s.length;s[g-1]>l;g--);s=s.slice(c,g)}return s},s.copy=function(){return Pr(t.copy(),e,i,r)},zr(s,t)}e.scale.linear=function(){return $r([0,1],[0,1],yi,!1)},e.scale.log=function(){return Pr(e.scale.linear().domain([0,1]),10,!0,[1,10])};var jr={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function qr(t,e,i){var r=tn(e),n=tn(1/e);function a(e){return t(r(e))}return a.invert=function(e){return n(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),a):i},a.ticks=function(t){return _r(i,t)},a.tickFormat=function(t,e){return d3_scale_linearTickFormat(i,t,e)},a.nice=function(t){return a.domain(Or(i,t))},a.exponent=function(s){return arguments.length?(r=tn(e=s),n=tn(1/e),t.domain(i.map(r)),a):e},a.copy=function(){return qr(t.copy(),e,i)},zr(a,t)}function tn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function en(t,i){var r,n,a;function s(e){return n[((r.get(e)||("range"===i.t?r.set(e,t.push(e)):NaN))-1)%n.length]}function o(i,r){return e.range(t.length).map(function(t){return i+r*t})}return s.domain=function(e){if(!arguments.length)return t;t=[],r=new p;for(var n,a=-1,o=e.length;++a<o;)r.has(n=e[a])||r.set(n,t.push(n));return s[i.t].apply(s,i.a)},s.range=function(t){return arguments.length?(n=t,a=0,i={t:"range",a:arguments},s):n},s.rangePoints=function(e,r){arguments.length<2&&(r=0);var l=e[0],c=e[1],g=t.length<2?(l=(l+c)/2,0):(c-l)/(t.length-1+r);return n=o(l+g*r/2,g),a=0,i={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(e,r){arguments.length<2&&(r=0);var l=e[0],c=e[1],g=t.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(t.length-1+r)|0;return n=o(l+Math.round(g*r/2+(c-l-(t.length-1+r)*g)/2),g),a=0,i={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(e,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=e[1]<e[0],g=e[c-0],d=(e[1-c]-g)/(t.length-r+2*l);return n=o(g+d*l,d),c&&n.reverse(),a=d*(1-r),i={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(e,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=e[1]<e[0],g=e[c-0],d=e[1-c],u=Math.floor((d-g)/(t.length-r+2*l));return n=o(g+Math.round((d-g-(t.length-r)*u)/2),u),c&&n.reverse(),a=Math.round(u*(1-r)),i={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return a},s.rangeExtent=function(){return Wr(i.a[0])},s.copy=function(){return en(t,i)},s.domain(t)}e.scale.pow=function(){return qr(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return en([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(rn)},e.scale.category20=function(){return e.scale.ordinal().range(nn)},e.scale.category20b=function(){return e.scale.ordinal().range(an)},e.scale.category20c=function(){return e.scale.ordinal().range(sn)};var rn=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(re),nn=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(re),an=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(re),sn=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(re);function on(t,i){var r;function n(){var n=0,s=i.length;for(r=[];++n<s;)r[n-1]=e.quantile(t,n/s);return a}function a(t){if(!isNaN(t=+t))return i[e.bisect(r,t)]}return a.domain=function(e){return arguments.length?(t=e.map(B).filter(F).sort(u),n()):t},a.range=function(t){return arguments.length?(i=t,n()):i},a.quantiles=function(){return r},a.invertExtent=function(e){return(e=i.indexOf(e))<0?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]},a.copy=function(){return on(t,i)},n()}function ln(t,e,i){var r,n;function a(e){return i[Math.max(0,Math.min(n,Math.floor(r*(e-t))))]}function s(){return r=i.length/(e-t),n=i.length-1,a}return a.domain=function(i){return arguments.length?(t=+i[0],e=+i[i.length-1],s()):[t,e]},a.range=function(t){return arguments.length?(i=t,s()):i},a.invertExtent=function(e){return[e=(e=i.indexOf(e))<0?NaN:e/r+t,e+1/r]},a.copy=function(){return ln(t,e,i)},s()}function cn(t,i){function r(r){if(r<=r)return i[e.bisect(t,r)]}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(t){return arguments.length?(i=t,r):i},r.invertExtent=function(e){return e=i.indexOf(e),[t[e-1],t[e]]},r.copy=function(){return cn(t,i)},r}function gn(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(t=i.map(e),e):t},e.ticks=function(e){return _r(t,e)},e.tickFormat=function(e,i){return d3_scale_linearTickFormat(t,e,i)},e.copy=function(){return gn(t)},e}function dn(){return 0}e.scale.quantile=function(){return on([],[])},e.scale.quantize=function(){return ln(0,1,[0,1])},e.scale.threshold=function(){return cn([.5],[0,1])},e.scale.identity=function(){return gn([0,1])},e.svg={},e.svg.arc=function(){var t=Bn,e=Fn,i=dn,r=un,n=hn,a=Qn,s=Un;function o(){var o=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),g=n.apply(this,arguments)-vt,d=a.apply(this,arguments)-vt,u=Math.abs(d-g),B=g>d?0:1;if(c<o&&(F=c,c=o,o=F),u>=At)return l(c,B)+(o?l(o,1-B):"")+"Z";var F,h,Q,U,I,b,p,y,m,C,f,x,A=0,v=0,L=[];if((U=(+s.apply(this,arguments)||0)/2)&&(Q=r===un?Math.sqrt(o*o+c*c):+r.apply(this,arguments),B||(v*=-1),c&&(v=Gt(Q/c*Math.sin(U))),o&&(A=Gt(Q/o*Math.sin(U)))),c){I=c*Math.cos(g+v),b=c*Math.sin(g+v),p=c*Math.cos(d-v),y=c*Math.sin(d-v);var R=Math.abs(d-g-2*v)<=ft?0:1;if(v&&In(I,b,p,y)===B^R){var S=(g+d)/2;I=c*Math.cos(S),b=c*Math.sin(S),p=y=null}}else I=b=0;if(o){m=o*Math.cos(d-A),C=o*Math.sin(d-A),f=o*Math.cos(g+A),x=o*Math.sin(g+A);var G=Math.abs(g-d+2*A)<=ft?0:1;if(A&&In(m,C,f,x)===1-B^G){var E=(g+d)/2;m=o*Math.cos(E),C=o*Math.sin(E),f=x=null}}else m=C=0;if(u>mt&&(F=Math.min(Math.abs(c-o)/2,+i.apply(this,arguments)))>.001){h=o<c^B?0:1;var V=F,Z=F;if(u<ft){var N=null==f?[m,C]:null==p?[I,b]:Se([I,b],[f,x],[p,y],[m,C]),D=I-N[0],w=b-N[1],X=p-N[0],W=y-N[1],H=1/Math.sin(Math.acos((D*X+w*W)/(Math.sqrt(D*D+w*w)*Math.sqrt(X*X+W*W)))/2),T=Math.sqrt(N[0]*N[0]+N[1]*N[1]);Z=Math.min(F,(o-T)/(H-1)),V=Math.min(F,(c-T)/(H+1))}if(null!=p){var M=bn(null==f?[m,C]:[f,x],[I,b],c,V,B),k=bn([p,y],[m,C],c,V,B);F===V?L.push("M",M[0],"A",V,",",V," 0 0,",h," ",M[1],"A",c,",",c," 0 ",1-B^In(M[1][0],M[1][1],k[1][0],k[1][1]),",",B," ",k[1],"A",V,",",V," 0 0,",h," ",k[0]):L.push("M",M[0],"A",V,",",V," 0 1,",h," ",k[0])}else L.push("M",I,",",b);if(null!=f){var Y=bn([I,b],[f,x],o,-Z,B),J=bn([m,C],null==p?[I,b]:[p,y],o,-Z,B);F===Z?L.push("L",J[0],"A",Z,",",Z," 0 0,",h," ",J[1],"A",o,",",o," 0 ",B^In(J[1][0],J[1][1],Y[1][0],Y[1][1]),",",1-B," ",Y[1],"A",Z,",",Z," 0 0,",h," ",Y[0]):L.push("L",J[0],"A",Z,",",Z," 0 0,",h," ",Y[0])}else L.push("L",m,",",C)}else L.push("M",I,",",b),null!=p&&L.push("A",c,",",c," 0 ",R,",",B," ",p,",",y),L.push("L",m,",",C),null!=f&&L.push("A",o,",",o," 0 ",G,",",1-B," ",f,",",x);return L.push("Z"),L.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return o.innerRadius=function(e){return arguments.length?(t=ue(e),o):t},o.outerRadius=function(t){return arguments.length?(e=ue(t),o):e},o.cornerRadius=function(t){return arguments.length?(i=ue(t),o):i},o.padRadius=function(t){return arguments.length?(r=t==un?un:ue(t),o):r},o.startAngle=function(t){return arguments.length?(n=ue(t),o):n},o.endAngle=function(t){return arguments.length?(a=ue(t),o):a},o.padAngle=function(t){return arguments.length?(s=ue(t),o):s},o.centroid=function(){var i=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-vt;return[Math.cos(r)*i,Math.sin(r)*i]},o};var un="auto";function Bn(t){return t.innerRadius}function Fn(t){return t.outerRadius}function hn(t){return t.startAngle}function Qn(t){return t.endAngle}function Un(t){return t&&t.padAngle}function In(t,e,i,r){return(t-i)*e-(e-r)*t>0?0:1}function bn(t,e,i,r,n){var a=t[0]-e[0],s=t[1]-e[1],o=(n?r:-r)/Math.sqrt(a*a+s*s),l=o*s,c=-o*a,g=t[0]+l,d=t[1]+c,u=e[0]+l,B=e[1]+c,F=(g+u)/2,h=(d+B)/2,Q=u-g,U=B-d,I=Q*Q+U*U,b=i-r,p=g*B-u*d,y=(U<0?-1:1)*Math.sqrt(Math.max(0,b*b*I-p*p)),m=(p*U-Q*y)/I,C=(-p*Q-U*y)/I,f=(p*U+Q*y)/I,x=(-p*Q+U*y)/I,A=m-F,v=C-h,L=f-F,R=x-h;return A*A+v*v>L*L+R*R&&(m=f,C=x),[[m-l,C-c],[m*i/b,C*i/b]]}function pn(){return!0}function yn(t){var e=fe,i=xe,r=pn,n=Cn,a=n.key,s=.7;function o(a){var o,l=[],c=[],g=-1,d=a.length,u=ue(e),B=ue(i);function F(){l.push("M",n(t(c),s))}for(;++g<d;)r.call(this,o=a[g],g)?c.push([+u.call(this,o,g),+B.call(this,o,g)]):c.length&&(F(),c=[]);return c.length&&F(),l.length?l.join(""):null}return o.x=function(t){return arguments.length?(e=t,o):e},o.y=function(t){return arguments.length?(i=t,o):i},o.defined=function(t){return arguments.length?(r=t,o):r},o.interpolate=function(t){return arguments.length?(a="function"==typeof t?n=t:(n=mn.get(t)||Cn).key,o):a},o.tension=function(t){return arguments.length?(s=t,o):s},o}e.svg.line=function(){return yn(R)};var mn=e.map({linear:Cn,"linear-closed":fn,step:function(t){var e=0,i=t.length,r=t[0],n=[r[0],",",r[1]];for(;++e<i;)n.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);i>1&&n.push("H",r[0]);return n.join("")},"step-before":xn,"step-after":An,basis:Rn,"basis-open":function(t){if(t.length<4)return Cn(t);var e,i=[],r=-1,n=t.length,a=[0],s=[0];for(;++r<3;)e=t[r],a.push(e[0]),s.push(e[1]);i.push(Sn(Vn,a)+","+Sn(Vn,s)),--r;for(;++r<n;)e=t[r],a.shift(),a.push(e[0]),s.shift(),s.push(e[1]),Zn(i,a,s);return i.join("")},"basis-closed":function(t){var e,i,r=-1,n=t.length,a=n+4,s=[],o=[];for(;++r<4;)i=t[r%n],s.push(i[0]),o.push(i[1]);e=[Sn(Vn,s),",",Sn(Vn,o)],--r;for(;++r<a;)i=t[r%n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),Zn(e,s,o);return e.join("")},bundle:function(t,e){var i=t.length-1;if(i)for(var r,n,a=t[0][0],s=t[0][1],o=t[i][0]-a,l=t[i][1]-s,c=-1;++c<=i;)n=c/i,(r=t[c])[0]=e*r[0]+(1-e)*(a+n*o),r[1]=e*r[1]+(1-e)*(s+n*l);return Rn(t)},cardinal:function(t,e){return t.length<3?Cn(t):t[0]+vn(t,Ln(t,e))},"cardinal-open":function(t,e){return t.length<4?Cn(t):t[1]+vn(t.slice(1,-1),Ln(t,e))},"cardinal-closed":function(t,e){return t.length<3?fn(t):t[0]+vn((t.push(t[0]),t),Ln([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Cn(t):t[0]+vn(t,function(t){var e,i,r,n,a=[],s=function(t){var e=0,i=t.length-1,r=[],n=t[0],a=t[1],s=r[0]=Nn(n,a);for(;++e<i;)r[e]=(s+(s=Nn(n=a,a=t[e+1])))/2;return r[e]=s,r}(t),o=-1,l=t.length-1;for(;++o<l;)e=Nn(t[o],t[o+1]),I(e)<mt?s[o]=s[o+1]=0:(n=(i=s[o]/e)*i+(r=s[o+1]/e)*r)>9&&(n=3*e/Math.sqrt(n),s[o]=n*i,s[o+1]=n*r);o=-1;for(;++o<=l;)n=(t[Math.min(l,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),a.push([n||0,s[o]*n||0]);return a}(t))}});function Cn(t){return t.length>1?t.join("L"):t+"Z"}function fn(t){return t.join("L")+"Z"}function xn(t){for(var e=0,i=t.length,r=t[0],n=[r[0],",",r[1]];++e<i;)n.push("V",(r=t[e])[1],"H",r[0]);return n.join("")}function An(t){for(var e=0,i=t.length,r=t[0],n=[r[0],",",r[1]];++e<i;)n.push("H",(r=t[e])[0],"V",r[1]);return n.join("")}function vn(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Cn(t);var i=t.length!=e.length,r="",n=t[0],a=t[1],s=e[0],o=s,l=1;if(i&&(r+="Q"+(a[0]-2*s[0]/3)+","+(a[1]-2*s[1]/3)+","+a[0]+","+a[1],n=t[1],l=2),e.length>1){o=e[1],a=t[l],l++,r+="C"+(n[0]+s[0])+","+(n[1]+s[1])+","+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,l++)a=t[l],o=e[c],r+="S"+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1]}if(i){var g=t[l];r+="Q"+(a[0]+2*o[0]/3)+","+(a[1]+2*o[1]/3)+","+g[0]+","+g[1]}return r}function Ln(t,e){for(var i,r=[],n=(1-e)/2,a=t[0],s=t[1],o=1,l=t.length;++o<l;)i=a,a=s,s=t[o],r.push([n*(s[0]-i[0]),n*(s[1]-i[1])]);return r}function Rn(t){if(t.length<3)return Cn(t);var e=1,i=t.length,r=t[0],n=r[0],a=r[1],s=[n,n,n,(r=t[1])[0]],o=[a,a,a,r[1]],l=[n,",",a,"L",Sn(Vn,s),",",Sn(Vn,o)];for(t.push(t[i-1]);++e<=i;)r=t[e],s.shift(),s.push(r[0]),o.shift(),o.push(r[1]),Zn(l,s,o);return t.pop(),l.push("L",r),l.join("")}function Sn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}mn.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Gn=[0,2/3,1/3,0],En=[0,1/3,2/3,0],Vn=[0,1/6,2/3,1/6];function Zn(t,e,i){t.push("C",Sn(Gn,e),",",Sn(Gn,i),",",Sn(En,e),",",Sn(En,i),",",Sn(Vn,e),",",Sn(Vn,i))}function Nn(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Dn(t){for(var e,i,r,n=-1,a=t.length;++n<a;)i=(e=t[n])[0],r=e[1]-vt,e[0]=i*Math.cos(r),e[1]=i*Math.sin(r);return t}function wn(t){var e=fe,i=fe,r=0,n=xe,a=pn,s=Cn,o=s.key,l=s,c="L",g=.7;function d(o){var d,u,B,F=[],h=[],Q=[],U=-1,I=o.length,b=ue(e),p=ue(r),y=e===i?function(){return u}:ue(i),m=r===n?function(){return B}:ue(n);function C(){F.push("M",s(t(Q),g),c,l(t(h.reverse()),g),"Z")}for(;++U<I;)a.call(this,d=o[U],U)?(h.push([u=+b.call(this,d,U),B=+p.call(this,d,U)]),Q.push([+y.call(this,d,U),+m.call(this,d,U)])):h.length&&(C(),h=[],Q=[]);return h.length&&C(),F.length?F.join(""):null}return d.x=function(t){return arguments.length?(e=i=t,d):i},d.x0=function(t){return arguments.length?(e=t,d):e},d.x1=function(t){return arguments.length?(i=t,d):i},d.y=function(t){return arguments.length?(r=n=t,d):n},d.y0=function(t){return arguments.length?(r=t,d):r},d.y1=function(t){return arguments.length?(n=t,d):n},d.defined=function(t){return arguments.length?(a=t,d):a},d.interpolate=function(t){return arguments.length?(o="function"==typeof t?s=t:(s=mn.get(t)||Cn).key,l=s.reverse||s,c=s.closed?"M":"L",d):o},d.tension=function(t){return arguments.length?(g=t,d):g},d}function Xn(t){return t.source}function Wn(t){return t.target}function Hn(t){return t.radius}function Tn(t){return[t.x,t.y]}function Mn(){return 64}function kn(){return"circle"}function Yn(t){var e=Math.sqrt(t/ft);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}e.svg.line.radial=function(){var t=yn(Dn);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},xn.reverse=An,An.reverse=xn,e.svg.area=function(){return wn(R)},e.svg.area.radial=function(){var t=wn(Dn);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},e.svg.chord=function(){var t=Xn,e=Wn,i=Hn,r=hn,n=Qn;function a(i,r){var n=s(this,t,i,r),a=s(this,e,i,r);return"M"+n.p0+o(n.r,n.p1,n.a1-n.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(n,a)?l(n.r,n.p1,n.r,n.p0):l(n.r,n.p1,a.r,a.p0)+o(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,n.r,n.p0))+"Z"}function s(t,e,a,s){var o=e.call(t,a,s),l=i.call(t,o,s),c=r.call(t,o,s)-vt,g=n.call(t,o,s)-vt;return{r:l,a0:c,a1:g,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(g),l*Math.sin(g)]}}function o(t,e,i){return"A"+t+","+t+" 0 "+ +(i>ft)+",1 "+e}function l(t,e,i,r){return"Q 0,0 "+r}return a.radius=function(t){return arguments.length?(i=ue(t),a):i},a.source=function(e){return arguments.length?(t=ue(e),a):t},a.target=function(t){return arguments.length?(e=ue(t),a):e},a.startAngle=function(t){return arguments.length?(r=ue(t),a):r},a.endAngle=function(t){return arguments.length?(n=ue(t),a):n},a},e.svg.diagonal=function(){var t=Xn,e=Wn,i=Tn;function r(r,n){var a=t.call(this,r,n),s=e.call(this,r,n),o=(a.y+s.y)/2,l=[a,{x:a.x,y:o},{x:s.x,y:o},s];return"M"+(l=l.map(i))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=ue(e),r):t},r.target=function(t){return arguments.length?(e=ue(t),r):e},r.projection=function(t){return arguments.length?(i=t,r):i},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),i=Tn,r=t.projection;return t.projection=function(t){return arguments.length?r(function(t){return function(){var e=t.apply(this,arguments),i=e[0],r=e[1]-vt;return[i*Math.cos(r),i*Math.sin(r)]}}(i=t)):i},t},e.svg.symbol=function(){var t=kn,e=Mn;function i(i,r){return(Jn.get(t.call(this,i,r))||Yn)(e.call(this,i,r))}return i.type=function(e){return arguments.length?(t=ue(e),i):t},i.size=function(t){return arguments.length?(e=ue(t),i):e},i};var Jn=e.map({circle:Yn,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*zn)),i=e*zn;return"M0,"+-e+"L"+i+",0 0,"+e+" "+-i+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/$n),i=e*$n/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/$n),i=e*$n/2;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});e.svg.symbolTypes=Jn.keys();var $n=Math.sqrt(3),zn=Math.tan(30*Lt);J.transition=function(t){for(var e,i,r=Pn||++ta,n=ra(t),a=[],s=jn||{time:Date.now(),ease:Si,delay:0,duration:250},o=-1,l=this.length;++o<l;){a.push(e=[]);for(var c=this[o],g=-1,d=c.length;++g<d;)(i=c[g])&&na(i,g,n,r,s),e.push(i)}return _n(a,n,r)},J.interrupt=function(t){return this.each(null==t?On:Kn(ra(t)))};var On=Kn(ra());function Kn(t){return function(){var e,i,r;(e=this[t])&&(r=e[i=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[i]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function _n(t,e,i){return H(t,qn),t.namespace=e,t.id=i,t}var Pn,jn,qn=[],ta=0;function ea(t,e,i,r){var n=t.id,a=t.namespace;return ct(t,"function"==typeof i?function(t,s,o){t[a][n].tween.set(e,r(i.call(t,t.__data__,s,o)))}:(i=r(i),function(t){t[a][n].tween.set(e,i)}))}function ia(t){return null==t&&(t=""),function(){this.textContent=t}}function ra(t){return null==t?"__transition__":"__transition_"+t+"__"}function na(t,e,i,r,n){var a,s,o,l,c,g=t[i]||(t[i]={active:0,count:0}),d=g[r];function u(i){var n=g.active,u=g[n];for(var F in u&&(u.timer.c=null,u.timer.t=NaN,--g.count,delete g[n],u.event&&u.event.interrupt.call(t,t.__data__,u.index)),g)if(+F<r){var h=g[F];h.timer.c=null,h.timer.t=NaN,--g.count,delete g[F]}s.c=B,pe(function(){return s.c&&B(i||1)&&(s.c=null,s.t=NaN),1},0,a),g.active=r,d.event&&d.event.start.call(t,t.__data__,e),c=[],d.tween.forEach(function(i,r){(r=r.call(t,t.__data__,e))&&c.push(r)}),l=d.ease,o=d.duration}function B(n){for(var a=n/o,s=l(a),u=c.length;u>0;)c[--u].call(t,s);if(a>=1)return d.event&&d.event.end.call(t,t.__data__,e),--g.count?delete g[r]:delete t[i],1}d||(a=n.time,s=pe(function(t){var e=d.delay;if(s.t=e+a,e<=t)return u(t-e);s.c=u},0,a),d=g[r]={tween:new p,time:a,timer:s,delay:n.delay,duration:n.duration,ease:n.ease,index:e},n=null,++g.count)}qn.call=J.call,qn.empty=J.empty,qn.node=J.node,qn.size=J.size,e.transition=function(t,i){return t&&t.transition?Pn?t.transition(i):t:e.selection().transition(t)},e.transition.prototype=qn,qn.select=function(t){var e,i,r,n=this.id,a=this.namespace,s=[];t=$(t);for(var o=-1,l=this.length;++o<l;){s.push(e=[]);for(var c=this[o],g=-1,d=c.length;++g<d;)(r=c[g])&&(i=t.call(r,r.__data__,g,o))?("__data__"in r&&(i.__data__=r.__data__),na(i,g,a,n,r[a][n]),e.push(i)):e.push(null)}return _n(s,a,n)},qn.selectAll=function(t){var e,i,r,n,a,s=this.id,o=this.namespace,l=[];t=z(t);for(var c=-1,g=this.length;++c<g;)for(var d=this[c],u=-1,B=d.length;++u<B;)if(r=d[u]){a=r[o][s],i=t.call(r,r.__data__,u,c),l.push(e=[]);for(var F=-1,h=i.length;++F<h;)(n=i[F])&&na(n,F,o,s,a),e.push(n)}return _n(l,o,s)},qn.filter=function(t){var e,i,r=[];"function"!=typeof t&&(t=ot(t));for(var n=0,a=this.length;n<a;n++){r.push(e=[]);for(var s,o=0,l=(s=this[n]).length;o<l;o++)(i=s[o])&&t.call(i,i.__data__,o,n)&&e.push(i)}return _n(r,this.namespace,this.id)},qn.tween=function(t,e){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(t):ct(this,null==e?function(e){e[r][i].tween.remove(t)}:function(n){n[r][i].tween.set(t,e)})},qn.attr=function(t,i){if(arguments.length<2){for(i in t)this.attr(i,t[i]);return this}var r="transform"==t?Ti:yi,n=e.ns.qualify(t);function a(){this.removeAttribute(n)}function s(){this.removeAttributeNS(n.space,n.local)}return ea(this,"attr."+t,i,n.local?function(t){return null==t?s:(t+="",function(){var e,i=this.getAttributeNS(n.space,n.local);return i!==t&&(e=r(i,t),function(t){this.setAttributeNS(n.space,n.local,e(t))})})}:function(t){return null==t?a:(t+="",function(){var e,i=this.getAttribute(n);return i!==t&&(e=r(i,t),function(t){this.setAttribute(n,e(t))})})})},qn.attrTween=function(t,i){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}:function(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}})},qn.style=function(t,e,i){var r=arguments.length;if(r<3){if("string"!=typeof t){for(i in r<2&&(e=""),t)this.style(i,t[i],e);return this}i=""}function n(){this.style.removeProperty(t)}return ea(this,"style."+t,e,function(e){return null==e?n:(e+="",function(){var r,n=s(this).getComputedStyle(this,null).getPropertyValue(t);return n!==e&&(r=yi(n,e),function(e){this.style.setProperty(t,r(e),i)})})})},qn.styleTween=function(t,e,i){return arguments.length<3&&(i=""),this.tween("style."+t,function(r,n){var a=e.call(this,r,n,s(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}})},qn.text=function(t){return ea(this,"text",t,ia)},qn.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},qn.ease=function(t){var i=this.id,r=this.namespace;return arguments.length<1?this.node()[r][i].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),ct(this,function(e){e[r][i].ease=t}))},qn.delay=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].delay:ct(this,"function"==typeof t?function(r,n,a){r[i][e].delay=+t.call(r,r.__data__,n,a)}:(t=+t,function(r){r[i][e].delay=t}))},qn.duration=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].duration:ct(this,"function"==typeof t?function(r,n,a){r[i][e].duration=Math.max(1,t.call(r,r.__data__,n,a))}:(t=Math.max(1,t),function(r){r[i][e].duration=t}))},qn.each=function(t,i){var r=this.id,n=this.namespace;if(arguments.length<2){var a=jn,s=Pn;try{Pn=r,ct(this,function(e,i,a){jn=e[n][r],t.call(e,e.__data__,i,a)})}finally{jn=a,Pn=s}}else ct(this,function(a){var s=a[n][r];(s.event||(s.event=e.dispatch("start","end","interrupt"))).on(t,i)});return this},qn.transition=function(){for(var t,e,i,r=this.id,n=++ta,a=this.namespace,s=[],o=0,l=this.length;o<l;o++){s.push(t=[]);for(var c,g=0,d=(c=this[o]).length;g<d;g++)(e=c[g])&&na(e,g,a,n,{time:(i=e[a][r]).time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration}),t.push(e)}return _n(s,a,n)},e.svg.axis=function(){var t,i=e.scale.linear(),n=aa,a=6,s=6,o=3,l=[10],c=null;function g(r){r.each(function(){var r,g=e.select(this),d=this.__chart__||i,u=this.__chart__=i.copy(),B=null==c?u.ticks?u.ticks.apply(u,l):u.domain():c,F=null==t?u.tickFormat?u.tickFormat.apply(u,l):R:t,h=g.selectAll(".tick").data(B,u),Q=h.enter().insert("g",".domain").attr("class","tick").style("opacity",mt),U=e.transition(h.exit()).style("opacity",mt).remove(),I=e.transition(h.order()).style("opacity",1),b=Math.max(a,0)+o,p=Hr(u),y=g.selectAll(".domain").data([0]),m=(y.enter().append("path").attr("class","domain"),e.transition(y));Q.append("line"),Q.append("text");var C,f,x,A,v=Q.select("line"),L=I.select("line"),S=h.select("text").text(F),G=Q.select("text"),E=I.select("text"),V="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(r=oa,C="x",x="y",f="x2",A="y2",S.attr("dy",V<0?"0em":".71em").style("text-anchor","middle"),m.attr("d","M"+p[0]+","+V*s+"V0H"+p[1]+"V"+V*s)):(r=la,C="y",x="x",f="y2",A="x2",S.attr("dy",".32em").style("text-anchor",V<0?"end":"start"),m.attr("d","M"+V*s+","+p[0]+"H0V"+p[1]+"H"+V*s)),v.attr(A,V*a),G.attr(x,V*b),L.attr(f,0).attr(A,V*a),E.attr(C,0).attr(x,V*b),u.rangeBand){var Z=u,N=Z.rangeBand()/2;d=u=function(t){return Z(t)+N}}else d.rangeBand?d=u:U.call(r,u,d);Q.call(r,d,u),I.call(r,u,u)})}return g.scale=function(t){return arguments.length?(i=t,g):i},g.orient=function(t){return arguments.length?(n=t in sa?t+"":aa,g):n},g.ticks=function(){return arguments.length?(l=r(arguments),g):l},g.tickValues=function(t){return arguments.length?(c=t,g):c},g.tickFormat=function(e){return arguments.length?(t=e,g):t},g.tickSize=function(t){var e=arguments.length;return e?(a=+t,s=+arguments[e-1],g):a},g.innerTickSize=function(t){return arguments.length?(a=+t,g):a},g.outerTickSize=function(t){return arguments.length?(s=+t,g):s},g.tickPadding=function(t){return arguments.length?(o=+t,g):o},g.tickSubdivide=function(){return arguments.length&&g},g};var aa="bottom",sa={top:1,right:1,bottom:1,left:1};function oa(t,e,i){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:i(t))+",0)"})}function la(t,e,i){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:i(t))+")"})}e.svg.brush=function(){var t,i,r=X(u,"brushstart","brush","brushend"),n=null,a=null,o=[0,0],l=[0,0],c=!0,g=!0,d=ga[0];function u(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Q).on("touchstart.brush",Q),i=t.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(d,R);r.exit().remove(),r.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ca[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",u.empty()?"none":null);var s,o=e.transition(t),l=e.transition(i);n&&(s=Hr(n),l.attr("x",s[0]).attr("width",s[1]-s[0]),F(o)),a&&(s=Hr(a),l.attr("y",s[0]).attr("height",s[1]-s[0]),h(o)),B(o)})}function B(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+o[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"})}function F(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function h(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function Q(){var d,Q,U=this,I=e.select(e.event.target),b=r.of(U,arguments),p=e.select(U),y=I.datum(),m=!/^(n|s)$/.test(y)&&n,C=!/^(e|w)$/.test(y)&&a,f=I.classed("extent"),x=It(U),A=e.mouse(U),v=e.select(s(U)).on("keydown.brush",function(){32==e.event.keyCode&&(f||(d=null,A[0]-=o[1],A[1]-=l[1],f=2),D())}).on("keyup.brush",function(){32==e.event.keyCode&&2==f&&(A[0]+=o[1],A[1]+=l[1],f=0,D())});if(e.event.changedTouches?v.on("touchmove.brush",S).on("touchend.brush",E):v.on("mousemove.brush",S).on("mouseup.brush",E),p.interrupt().selectAll("*").interrupt(),f)A[0]=o[0]-A[0],A[1]=l[0]-A[1];else if(y){var L=+/w$/.test(y),R=+/^n/.test(y);Q=[o[1-L]-A[0],l[1-R]-A[1]],A[0]=o[L],A[1]=l[R]}else e.event.altKey&&(d=A.slice());function S(){var t=e.mouse(U),i=!1;Q&&(t[0]+=Q[0],t[1]+=Q[1]),f||(e.event.altKey?(d||(d=[(o[0]+o[1])/2,(l[0]+l[1])/2]),A[0]=o[+(t[0]<d[0])],A[1]=l[+(t[1]<d[1])]):d=null),m&&G(t,n,0)&&(F(p),i=!0),C&&G(t,a,1)&&(h(p),i=!0),i&&(B(p),b({type:"brush",mode:f?"move":"resize"}))}function G(e,r,n){var a,s,u=Hr(r),B=u[0],F=u[1],h=A[n],Q=n?l:o,U=Q[1]-Q[0];if(f&&(B-=h,F-=U+h),a=(n?g:c)?Math.max(B,Math.min(F,e[n])):e[n],f?s=(a+=h)+U:(d&&(h=Math.max(B,Math.min(F,2*d[n]-a))),h<a?(s=a,a=h):s=h),Q[0]!=a||Q[1]!=s)return n?i=null:t=null,Q[0]=a,Q[1]=s,!0}function E(){S(),p.style("pointer-events","all").selectAll(".resize").style("display",u.empty()?"none":null),e.select("body").style("cursor",null),v.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x(),b({type:"brushend"})}p.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",I.style("cursor")),b({type:"brushstart"}),S()}return u.event=function(n){n.each(function(){var n=r.of(this,arguments),a={x:o,y:l,i:t,j:i},s=this.__chart__||a;this.__chart__=a,Pn?e.select(this).transition().each("start.brush",function(){t=s.i,i=s.j,o=s.x,l=s.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=mi(o,a.x),r=mi(l,a.y);return t=i=null,function(t){o=a.x=e(t),l=a.y=r(t),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=a.i,i=a.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},u.x=function(t){return arguments.length?(d=ga[!(n=t)<<1|!a],u):n},u.y=function(t){return arguments.length?(d=ga[!n<<1|!(a=t)],u):a},u.clamp=function(t){return arguments.length?(n&&a?(c=!!t[0],g=!!t[1]):n?c=!!t:a&&(g=!!t),u):n&&a?[c,g]:n?c:a?g:null},u.extent=function(e){var r,s,c,g,d;return arguments.length?(n&&(r=e[0],s=e[1],a&&(r=r[0],s=s[0]),t=[r,s],n.invert&&(r=n(r),s=n(s)),s<r&&(d=r,r=s,s=d),r==o[0]&&s==o[1]||(o=[r,s])),a&&(c=e[0],g=e[1],n&&(c=c[1],g=g[1]),i=[c,g],a.invert&&(c=a(c),g=a(g)),g<c&&(d=c,c=g,g=d),c==l[0]&&g==l[1]||(l=[c,g])),u):(n&&(t?(r=t[0],s=t[1]):(r=o[0],s=o[1],n.invert&&(r=n.invert(r),s=n.invert(s)),s<r&&(d=r,r=s,s=d))),a&&(i?(c=i[0],g=i[1]):(c=l[0],g=l[1],a.invert&&(c=a.invert(c),g=a.invert(g)),g<c&&(d=c,c=g,g=d))),n&&a?[[r,c],[s,g]]:n?[r,s]:a&&[c,g])},u.clear=function(){return u.empty()||(o=[0,0],l=[0,0],t=i=null),u},u.empty=function(){return!!n&&o[0]==o[1]||!!a&&l[0]==l[1]},e.rebind(u,r,"on")};var ca={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ga=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function da(t){return JSON.parse(t.responseText)}function ua(t){var e=n.createRange();return e.selectNode(n.body),e.createContextualFragment(t.responseText)}e.text=Be(function(t){return t.responseText}),e.json=function(t,e){return Fe(t,"application/json",da,e)},e.html=function(t,e){return Fe(t,"text/html",ua,e)},e.xml=Be(function(t){return t.responseXML}),t.exports?t.exports=e:this.d3=e}).apply(self)}(d3$w);var d3Exports=d3$w.exports,t0=new Date,t1=new Date;function newInterval(t,e,i,r){function n(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return n.floor=function(e){return t(e=new Date(+e)),e},n.ceil=function(i){return t(i=new Date(i-1)),e(i,1),t(i),i},n.round=function(t){var e=n(t),i=n.ceil(t);return t-e<i-t?e:i},n.offset=function(t,i){return e(t=new Date(+t),null==i?1:Math.floor(i)),t},n.range=function(i,r,a){var s,o=[];if(i=n.ceil(i),a=null==a?1:Math.floor(a),!(i<r&&a>0))return o;do{o.push(s=new Date(+i)),e(i,a),t(i)}while(s<i&&i<r);return o},n.filter=function(i){return newInterval(function(e){if(e>=e)for(;t(e),!i(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!i(t););else for(;--r>=0;)for(;e(t,1),!i(t););})},i&&(n.count=function(e,r){return t0.setTime(+e),t1.setTime(+r),t(t0),t(t1),Math.floor(i(t0,t1))},n.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?n.filter(r?function(e){return r(e)%t===0}:function(e){return n.count(0,e)%t===0}):n:null}),n}var millisecond=newInterval(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});millisecond.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?newInterval(function(e){e.setTime(Math.floor(e/t)*t)},function(e,i){e.setTime(+e+i*t)},function(e,i){return(i-e)/t}):millisecond:null};var milliseconds=millisecond.range,durationSecond$1=1e3,durationMinute$1=6e4,durationHour$1=36e5,durationDay$1=864e5,durationWeek$1=6048e5,second$1=newInterval(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*durationSecond$1)},function(t,e){return(e-t)/durationSecond$1},function(t){return t.getUTCSeconds()}),seconds=second$1.range,minute=newInterval(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond$1)},function(t,e){t.setTime(+t+e*durationMinute$1)},function(t,e){return(e-t)/durationMinute$1},function(t){return t.getMinutes()}),minutes=minute.range,hour=newInterval(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond$1-t.getMinutes()*durationMinute$1)},function(t,e){t.setTime(+t+e*durationHour$1)},function(t,e){return(e-t)/durationHour$1},function(t){return t.getHours()}),hours=hour.range,day=newInterval(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$1)/durationDay$1},function(t){return t.getDate()-1}),days=day.range;function weekday(t){return newInterval(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$1)/durationWeek$1})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,tuesdays=tuesday.range,wednesdays=wednesday.range,thursdays=thursday.range,fridays=friday.range,saturdays=saturday.range,month=newInterval(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),months=month.range,year=newInterval(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});year.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*t)}):null};var years=year.range,utcMinute=newInterval(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*durationMinute$1)},function(t,e){return(e-t)/durationMinute$1},function(t){return t.getUTCMinutes()}),utcMinutes=utcMinute.range,utcHour=newInterval(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*durationHour$1)},function(t,e){return(e-t)/durationHour$1},function(t){return t.getUTCHours()}),utcHours=utcHour.range,utcDay=newInterval(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/durationDay$1},function(t){return t.getUTCDate()-1}),utcDays=utcDay.range;function utcWeekday(t){return newInterval(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/durationWeek$1})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,utcMonth=newInterval(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),utcMonths=utcMonth.range,utcYear=newInterval(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});utcYear.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)}):null};var utcYears=utcYear.range,src$2=Object.freeze({__proto__:null,timeDay:day,timeDays:days,timeFriday:friday,timeFridays:fridays,timeHour:hour,timeHours:hours,timeInterval:newInterval,timeMillisecond:millisecond,timeMilliseconds:milliseconds,timeMinute:minute,timeMinutes:minutes,timeMonday:monday,timeMondays:mondays,timeMonth:month,timeMonths:months,timeSaturday:saturday,timeSaturdays:saturdays,timeSecond:second$1,timeSeconds:seconds,timeSunday:sunday,timeSundays:sundays,timeThursday:thursday,timeThursdays:thursdays,timeTuesday:tuesday,timeTuesdays:tuesdays,timeWednesday:wednesday,timeWednesdays:wednesdays,timeWeek:sunday,timeWeeks:sundays,timeYear:year,timeYears:years,utcDay:utcDay,utcDays:utcDays,utcFriday:utcFriday,utcFridays:utcFridays,utcHour:utcHour,utcHours:utcHours,utcMillisecond:millisecond,utcMilliseconds:milliseconds,utcMinute:utcMinute,utcMinutes:utcMinutes,utcMonday:utcMonday,utcMondays:utcMondays,utcMonth:utcMonth,utcMonths:utcMonths,utcSaturday:utcSaturday,utcSaturdays:utcSaturdays,utcSecond:second$1,utcSeconds:seconds,utcSunday:utcSunday,utcSundays:utcSundays,utcThursday:utcThursday,utcThursdays:utcThursdays,utcTuesday:utcTuesday,utcTuesdays:utcTuesdays,utcWednesday:utcWednesday,utcWednesdays:utcWednesdays,utcWeek:utcSunday,utcWeeks:utcSundays,utcYear:utcYear,utcYears:utcYears});function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function formatLocale$2(t){var e=t.dateTime,i=t.date,r=t.time,n=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=formatRe(n),g=formatLookup(n),d=formatRe(a),u=formatLookup(a),B=formatRe(s),F=formatLookup(s),h=formatRe(o),Q=formatLookup(o),U=formatRe(l),I=formatLookup(l),b={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return n[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},p={a:function(t){return s[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return n[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},y={a:function(t,e,i){var r=B.exec(e.slice(i));return r?(t.w=F[r[0].toLowerCase()],i+r[0].length):-1},A:function(t,e,i){var r=d.exec(e.slice(i));return r?(t.w=u[r[0].toLowerCase()],i+r[0].length):-1},b:function(t,e,i){var r=U.exec(e.slice(i));return r?(t.m=I[r[0].toLowerCase()],i+r[0].length):-1},B:function(t,e,i){var r=h.exec(e.slice(i));return r?(t.m=Q[r[0].toLowerCase()],i+r[0].length):-1},c:function(t,i,r){return f(t,e,i,r)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,e,i){var r=c.exec(e.slice(i));return r?(t.p=g[r[0].toLowerCase()],i+r[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,e,r){return f(t,i,e,r)},X:function(t,e,i){return f(t,r,e,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function m(t,e){return function(i){var r,n,a,s=[],o=-1,l=0,c=t.length;for(i instanceof Date||(i=new Date(+i));++o<c;)37===t.charCodeAt(o)&&(s.push(t.slice(l,o)),null!=(n=pads[r=t.charAt(++o)])?r=t.charAt(++o):n="e"===r?" ":"0",(a=e[r])&&(r=a(i,n)),s.push(r),l=o+1);return s.push(t.slice(l,o)),s.join("")}}function C(t,e){return function(i){var r,n,a=newDate(1900,void 0,1);if(f(a,t,i+="",0)!=i.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(n=(r=utcDate(newDate(a.y,0,1))).getUTCDay(),r=n>4||0===n?utcMonday.ceil(r):utcMonday(r),r=utcDay.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(n=(r=localDate(newDate(a.y,0,1))).getDay(),r=n>4||0===n?monday.ceil(r):monday(r),r=day.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),n="Z"in a?utcDate(newDate(a.y,0,1)).getUTCDay():localDate(newDate(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(n+5)%7:a.w+7*a.U-(n+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate(a)):localDate(a)}}function f(t,e,i,r){for(var n,a,s=0,o=e.length,l=i.length;s<o;){if(r>=l)return-1;if(37===(n=e.charCodeAt(s++))){if(n=e.charAt(s++),!(a=y[n in pads?e.charAt(s++):n])||(r=a(t,i,r))<0)return-1}else if(n!=i.charCodeAt(r++))return-1}return r}return b.x=m(i,b),b.X=m(r,b),b.c=m(e,b),p.x=m(i,p),p.X=m(r,p),p.c=m(e,p),{format:function(t){var e=m(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=m(t+="",p);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}var locale$1,timeFormat,timeParse,utcFormat$2,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(t,e,i){var r=t<0?"-":"",n=(r?-t:t)+"",a=n.length;return r+(a<i?new Array(i-a+1).join(e)+n:n)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var e={},i=-1,r=t.length;++i<r;)e[t[i].toLowerCase()]=i;return e}function parseWeekdayNumberSunday(t,e,i){var r=numberRe.exec(e.slice(i,i+1));return r?(t.w=+r[0],i+r[0].length):-1}function parseWeekdayNumberMonday(t,e,i){var r=numberRe.exec(e.slice(i,i+1));return r?(t.u=+r[0],i+r[0].length):-1}function parseWeekNumberSunday(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.U=+r[0],i+r[0].length):-1}function parseWeekNumberISO(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.V=+r[0],i+r[0].length):-1}function parseWeekNumberMonday(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.W=+r[0],i+r[0].length):-1}function parseFullYear(t,e,i){var r=numberRe.exec(e.slice(i,i+4));return r?(t.y=+r[0],i+r[0].length):-1}function parseYear(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function parseZone(t,e,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function parseQuarter(t,e,i){var r=numberRe.exec(e.slice(i,i+1));return r?(t.q=3*r[0]-3,i+r[0].length):-1}function parseMonthNumber(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.m=r[0]-1,i+r[0].length):-1}function parseDayOfMonth(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.d=+r[0],i+r[0].length):-1}function parseDayOfYear(t,e,i){var r=numberRe.exec(e.slice(i,i+3));return r?(t.m=0,t.d=+r[0],i+r[0].length):-1}function parseHour24(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.H=+r[0],i+r[0].length):-1}function parseMinutes(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.M=+r[0],i+r[0].length):-1}function parseSeconds(t,e,i){var r=numberRe.exec(e.slice(i,i+2));return r?(t.S=+r[0],i+r[0].length):-1}function parseMilliseconds(t,e,i){var r=numberRe.exec(e.slice(i,i+3));return r?(t.L=+r[0],i+r[0].length):-1}function parseMicroseconds(t,e,i){var r=numberRe.exec(e.slice(i,i+6));return r?(t.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function parseLiteralPercent(t,e,i){var r=percentRe.exec(e.slice(i,i+1));return r?i+r[0].length:-1}function parseUnixTimestamp(t,e,i){var r=numberRe.exec(e.slice(i));return r?(t.Q=+r[0],i+r[0].length):-1}function parseUnixTimestampSeconds(t,e,i){var r=numberRe.exec(e.slice(i));return r?(t.s=+r[0],i+r[0].length):-1}function formatDayOfMonth(t,e){return pad$1(t.getDate(),e,2)}function formatHour24(t,e){return pad$1(t.getHours(),e,2)}function formatHour12(t,e){return pad$1(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad$1(1+day.count(year(t),t),e,3)}function formatMilliseconds(t,e){return pad$1(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad$1(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad$1(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad$1(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad$1(sunday.count(year(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||0===e?thursday(t):thursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad$1(thursday.count(year(t),t)+(4===year(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad$1(monday.count(year(t)-1,t),e,2)}function formatYear$1(t,e){return pad$1(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return pad$1((t=dISO(t)).getFullYear()%100,e,2)}function formatFullYear(t,e){return pad$1(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var i=t.getDay();return pad$1((t=i>=4||0===i?thursday(t):thursday.ceil(t)).getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad$1(e/60|0,"0",2)+pad$1(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad$1(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad$1(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad$1(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad$1(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad$1(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad$1(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad$1(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad$1(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad$1(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||0===e?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad$1(utcThursday.count(utcYear(t),t)+(4===utcYear(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad$1(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad$1(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return pad$1((t=UTCdISO(t)).getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad$1(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var i=t.getUTCDay();return pad$1((t=i>=4||0===i?utcThursday(t):utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale$1(t){return locale$1=formatLocale$2(t),timeFormat=locale$1.format,timeParse=locale$1.parse,utcFormat$2=locale$1.utcFormat,utcParse=locale$1.utcParse,locale$1}defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(t){return t.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat$2(isoSpecifier);function parseIsoNative(t){var e=new Date(t);return isNaN(e)?null:e}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier),src$1=Object.freeze({__proto__:null,isoFormat:formatIso,isoParse:parseIso,get timeFormat(){return timeFormat},timeFormatDefaultLocale:defaultLocale$1,timeFormatLocale:formatLocale$2,get timeParse(){return timeParse},get utcFormat(){return utcFormat$2},get utcParse(){return utcParse}}),require$$1=getAugmentedNamespace(src$1);function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,r=t.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+t.slice(i+1)]}function exponent(t){return(t=formatDecimalParts(Math.abs(t)))?t[1]:NaN}function formatGroup(t,e){return function(i,r){for(var n=i.length,a=[],s=0,o=t[0],l=0;n>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(i.substring(n-=o,n+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}var prefixExponent,re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re$1.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function FormatSpecifier(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function formatTrim(t){t:for(var e,i=t.length,r=1,n=-1;r<i;++r)switch(t[r]){case".":n=e=r;break;case"0":0===n&&(n=r),e=r;break;default:if(!+t[r])break t;n>0&&(n=0)}return n>0?t.slice(0,n)+t.slice(e+1):t}function formatPrefixAuto(t,e){var i=formatDecimalParts(t,e);if(!i)return t+"";var r=i[0],n=i[1],a=n-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+formatDecimalParts(t,Math.max(0,e+a-1))[0]}function formatRounded(t,e){var i=formatDecimalParts(t,e);if(!i)return t+"";var r=i[0],n=i[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:formatDecimal,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded(100*t,e)},r:formatRounded,s:formatPrefixAuto,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function identity$6(t){return t}var locale,format$3,formatPrefix,map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=void 0===t.grouping||void 0===t.thousands?identity$6:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",n=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?identity$6:formatNumerals(map$1.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",o=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){var c=(t=formatSpecifier(t)).fill,g=t.align,d=t.sign,u=t.symbol,B=t.zero,F=t.width,h=t.comma,Q=t.precision,U=t.trim,I=t.type;"n"===I?(h=!0,I="g"):formatTypes[I]||(void 0===Q&&(Q=12),U=!0,I="g"),(B||"0"===c&&"="===g)&&(B=!0,c="0",g="=");var b="$"===u?i:"#"===u&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",p="$"===u?r:/[%p]/.test(I)?s:"",y=formatTypes[I],m=/[defgprs%]/.test(I);function C(t){var i,r,s,u=b,C=p;if("c"===I)C=y(t)+C,t="";else{var f=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:y(Math.abs(t),Q),U&&(t=formatTrim(t)),f&&0===+t&&"+"!==d&&(f=!1),u=(f?"("===d?d:o:"-"===d||"("===d?"":d)+u,C=("s"===I?prefixes[8+prefixExponent/3]:"")+C+(f&&"("===d?")":""),m)for(i=-1,r=t.length;++i<r;)if(48>(s=t.charCodeAt(i))||s>57){C=(46===s?n+t.slice(i+1):t.slice(i))+C,t=t.slice(0,i);break}}h&&!B&&(t=e(t,1/0));var x=u.length+t.length+C.length,A=x<F?new Array(F-x+1).join(c):"";switch(h&&B&&(t=e(A+t,A.length?F-C.length:1/0),A=""),g){case"<":t=u+t+C+A;break;case"=":t=u+A+t+C;break;case"^":t=A.slice(0,x=A.length>>1)+u+t+C+A.slice(x);break;default:t=A+u+t+C}return a(t)}return Q=void 0===Q?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,Q)):Math.max(0,Math.min(20,Q)),C.toString=function(){return t+""},C}return{format:c,formatPrefix:function(t,e){var i=c(((t=formatSpecifier(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3))),n=Math.pow(10,-r),a=prefixes[8+r/3];return function(t){return i(n*t)+a}}}}function defaultLocale(t){return locale=formatLocale$1(t),format$3=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});for(var src=Object.freeze({__proto__:null,FormatSpecifier:FormatSpecifier,get format(){return format$3},formatDefaultLocale:defaultLocale,formatLocale:formatLocale$1,get formatPrefix(){return formatPrefix},formatSpecifier:formatSpecifier,precisionFixed:precisionFixed,precisionPrefix:precisionPrefix,precisionRound:precisionRound}),require$$2=getAugmentedNamespace(src),isStringBlank=function(t){for(var e,i=t.length,r=0;r<i;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0},allBlankCharCodes=isStringBlank,fastIsnumeric=function(t){var e=typeof t;if("string"===e){var i=t;if(0===(t=+t)&&allBlankCharCodes(i))return!1}else if("number"!==e)return!1;return t-t<1},numerical={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"â"},array={},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var encode=function(t){var e,i=new Uint8Array(t),r=i.length,n="";for(e=0;e<r;e+=3)n+=chars[i[e]>>2],n+=chars[(3&i[e])<<4|i[e+1]>>4],n+=chars[(15&i[e+1])<<2|i[e+2]>>6],n+=chars[63&i[e+2]];return r%3==2?n=n.substring(0,n.length-1)+"=":r%3==1&&(n=n.substring(0,n.length-2)+"=="),n},decode=function(t){var e,i,r,n,a,s=.75*t.length,o=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),g=new Uint8Array(c);for(e=0;e<o;e+=4)i=lookup[t.charCodeAt(e)],r=lookup[t.charCodeAt(e+1)],n=lookup[t.charCodeAt(e+2)],a=lookup[t.charCodeAt(e+3)],g[l++]=i<<2|r>>4,g[l++]=(15&r)<<4|n>>2,g[l++]=(3&n)<<6|63&a;return c},base64Arraybuffer_es5=Object.freeze({__proto__:null,decode:decode,encode:encode}),require$$4=getAugmentedNamespace(base64Arraybuffer_es5),is_plain_object=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")},b64decode=require$$4.decode,isPlainObject$6=is_plain_object,isArray$3=Array.isArray,ab=ArrayBuffer,dv=DataView;function isTypedArray$1(t){return ab.isView(t)&&!(t instanceof dv)}function isArrayOrTypedArray$c(t){return isArray$3(t)||isTypedArray$1(t)}function isArray1D(t){return!isArrayOrTypedArray$c(t[0])}array.isTypedArray=isTypedArray$1,array.isArrayOrTypedArray=isArrayOrTypedArray$c,array.isArray1D=isArray1D,array.ensureArray=function(t,e){return isArray$3(t)||(t=[]),t.length=e,t};var typedArrays={u1c:"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,i1:"undefined"==typeof Int8Array?void 0:Int8Array,u1:"undefined"==typeof Uint8Array?void 0:Uint8Array,i2:"undefined"==typeof Int16Array?void 0:Int16Array,u2:"undefined"==typeof Uint16Array?void 0:Uint16Array,i4:"undefined"==typeof Int32Array?void 0:Int32Array,u4:"undefined"==typeof Uint32Array?void 0:Uint32Array,f4:"undefined"==typeof Float32Array?void 0:Float32Array,f8:"undefined"==typeof Float64Array?void 0:Float64Array};function isArrayBuffer(t){return t.constructor===ArrayBuffer}function coerceTypedArraySpec(t){return{bdata:t.bdata,dtype:t.dtype,shape:t.shape}}function _rowLength(t,e,i){if(isArrayOrTypedArray$c(t)){if(isArrayOrTypedArray$c(t[0])){for(var r=i,n=0;n<t.length;n++)r=e(r,t[n].length);return r}return t.length}return 0}typedArrays.uint8c=typedArrays.u1c,typedArrays.uint8=typedArrays.u1,typedArrays.int8=typedArrays.i1,typedArrays.uint16=typedArrays.u2,typedArrays.int16=typedArrays.i2,typedArrays.uint32=typedArrays.u4,typedArrays.int32=typedArrays.i4,typedArrays.float32=typedArrays.f4,typedArrays.float64=typedArrays.f8,array.isArrayBuffer=isArrayBuffer,array.decodeTypedArraySpec=function(t){var e=[],i=coerceTypedArraySpec(t),r=i.dtype,n=typedArrays[r];if(!n)throw new Error('Error in dtype: "'+r+'"');var a=n.BYTES_PER_ELEMENT,s=i.bdata;isArrayBuffer(s)||(s=b64decode(s));var o=void 0===i.shape?[s.byteLength/a]:(""+i.shape).split(",");o.reverse();var l,c,g=o.length,d=+o[0],u=a*d,B=0;if(1===g)e=new n(s);else if(2===g)for(l=+o[1],c=0;c<l;c++)e[c]=new n(s,B,d),B+=u;else{if(3!==g)throw new Error("ndim: "+g+'is not supported with the shape:"'+i.shape+'"');l=+o[1];for(var F=+o[2],h=0;h<F;h++)for(e[h]=[],c=0;c<l;c++)e[h][c]=new n(s,B,d),B+=u}return e.bdata=i.bdata,e.dtype=i.dtype,e.shape=o.reverse().join(","),t._inputArray=e,e},array.isTypedArraySpec=function(t){return isPlainObject$6(t)&&t.hasOwnProperty("dtype")&&"string"==typeof t.dtype&&t.hasOwnProperty("bdata")&&("string"==typeof t.bdata||isArrayBuffer(t.bdata))&&(void 0===t.shape||t.hasOwnProperty("shape")&&("string"==typeof t.shape||"number"==typeof t.shape))},array.concat=function(){var t,e,i,r,n,a,s,o,l=[],c=!0,g=0;for(i=0;i<arguments.length;i++)(a=(r=arguments[i]).length)&&(e?l.push(r):(e=r,n=a),isArray$3(r)?t=!1:(c=!1,g?t!==r.constructor&&(t=!1):t=r.constructor),g+=a);if(!g)return[];if(!l.length)return e;if(c)return e.concat.apply(e,l);if(t){for((s=new t(g)).set(e),i=0;i<l.length;i++)r=l[i],s.set(r,n),n+=r.length;return s}for(s=new Array(g),o=0;o<e.length;o++)s[o]=e[o];for(i=0;i<l.length;i++){for(r=l[i],o=0;o<r.length;o++)s[n+o]=r[o];n+=o}return s},array.maxRowLength=function(t){return _rowLength(t,Math.max,0)},array.minRowLength=function(t){return _rowLength(t,Math.min,1/0)};var isNumeric$y=fastIsnumeric,isArrayOrTypedArray$b=array.isArrayOrTypedArray,nested_property=function(t,e){if(isNumeric$y(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";var i,r,n,a,s=e.split(".");for(a=0;a<s.length;a++)if("__"===String(s[a]).slice(0,2))throw"bad property string";for(a=0;a<s.length;){if(i=String(s[a]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(i[1])s[a]=i[1];else{if(0!==a)throw"bad property string";s.splice(0,1)}for(r=i[2].substr(1,i[2].length-2).split("]["),n=0;n<r.length;n++)a++,s.splice(a,0,Number(r[n]))}a++}return"object"!=typeof t?badContainer(t,e,s):{set:npSet(t,s,e),get:npGet(t,s),astr:e,parts:s,obj:t}};function npGet(t,e){return function(i){var r,n,a,s,o,l=t;for(s=0;s<e.length-1;s++){if(-1===(r=e[s])){for(n=!0,a=[],o=0;o<l.length;o++)a[o]=npGet(l[o],e.slice(s+1))(i),a[o]!==a[0]&&(n=!1);return n?a[0]:a}if("number"==typeof r&&!isArrayOrTypedArray$b(l))return;if("object"!=typeof(l=l[r])||null===l)return}if("object"==typeof l&&null!==l&&(a=l[e[s]],i||null!==a))return a}}var ARGS_PATTERN=/(^|\.)args\[/;function isDeletable(t,e){return void 0===t||null===t&&!e.match(ARGS_PATTERN)}function npSet(t,e,i){return function(r){var n,a,s=t,o="",l=isDeletable(r,i);for(a=0;a<e.length-1;a++){if("number"==typeof(n=e[a])&&!isArrayOrTypedArray$b(s))throw"array index but container is not an array";if(-1===n){if(l=!setArrayAll(s,e.slice(a+1),r,i))break;return}if(!checkNewContainer(s,n,e[a+1],l))break;if("object"!=typeof(s=s[n])||null===s)throw"container is not an object";o=joinPropStr(o,n)}if(l){if(a===e.length-1&&(delete s[e[a]],Array.isArray(s)&&+e[a]===s.length-1))for(;s.length&&void 0===s[s.length-1];)s.pop()}else s[e[a]]=r}}function joinPropStr(t,e){var i=e;return isNumeric$y(e)?i="["+e+"]":t&&(i="."+e),t+i}function setArrayAll(t,e,i,r){var n,a=isArrayOrTypedArray$b(i),s=!0,o=i,l=r.replace("-1",0),c=!a&&isDeletable(i,l),g=e[0];for(n=0;n<t.length;n++)l=r.replace("-1",n),a&&(c=isDeletable(o=i[n%i.length],l)),c&&(s=!1),checkNewContainer(t,n,g,c)&&npSet(t[n],e,r.replace("-1",n))(o);return s}function checkNewContainer(t,e,i,r){if(void 0===t[e]){if(r)return!1;t[e]="number"==typeof i?[]:{}}return!0}function badContainer(t,e,i){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:i,obj:t}}var nestedProperty$1=nested_property,SIMPLE_PROPERTY_REGEX$1=/^\w*$/,NONE=0,NAME=1,VALUE=2,BOTH=3,UNSET=4,keyed_container=function(t,e,i,r){var n,a,s;i=i||"name",r=r||"value";var o={};e&&e.length?(s=nestedProperty$1(t,e),a=s.get()):a=t,e=e||"";var l={};if(a)for(n=0;n<a.length;n++)l[a[n][i]]=n;var c=SIMPLE_PROPERTY_REGEX$1.test(r),g={set:function(t,e){var n=null===e?UNSET:NONE;if(!a){if(!s||n===UNSET)return;a=[],s.set(a)}var d=l[t];if(void 0===d){if(n===UNSET)return;n|=BOTH,d=a.length,l[t]=d}else e!==(c?a[d][r]:nestedProperty$1(a[d],r).get())&&(n|=VALUE);var u=a[d]=a[d]||{};return u[i]=t,c?u[r]=e:nestedProperty$1(u,r).set(e),null!==e&&(n&=~UNSET),o[d]=o[d]|n,g},get:function(t){if(a){var e=l[t];return void 0===e?void 0:c?a[e][r]:nestedProperty$1(a[e],r).get()}},rename:function(t,e){var r=l[t];return void 0===r||(o[r]=o[r]|NAME,l[e]=r,delete l[t],a[r][i]=e),g},remove:function(t){var e=l[t];if(void 0===e)return g;var s=a[e];if(Object.keys(s).length>2)return o[e]=o[e]|VALUE,g.set(t,null);if(c){for(n=e;n<a.length;n++)o[n]=o[n]|BOTH;for(n=e;n<a.length;n++)l[a[n][i]]--;a.splice(e,1),delete l[t]}else nestedProperty$1(s,r).set(null),o[e]=o[e]|VALUE|UNSET;return g},constructUpdate:function(){for(var t,n,s={},l=Object.keys(o),g=0;g<l.length;g++)n=l[g],t=e+"["+n+"]",a[n]?(o[n]&NAME&&(s[t+"."+i]=a[n][i]),o[n]&VALUE&&(s[t+"."+r]=c?o[n]&UNSET?null:a[n][r]:o[n]&UNSET?null:nestedProperty$1(a[n],r).get())):s[t]=null;return s}};return g},ASCEND=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,SIMPLEATTR=/^[^\.\[\]]+$/,relative_attr=function(t,e){for(;e;){var i=t.match(ASCEND);if(i)t=i[1];else{if(!t.match(SIMPLEATTR))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e},isNumeric$x=fastIsnumeric,to_log_range=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var i=Math.log(Math.min(e[0],e[1]))/Math.LN10;return isNumeric$x(i)||(i=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),i},isArrayOrTypedArray$a=array.isArrayOrTypedArray,isPlainObject$5=is_plain_object,relink_private=function t(e,i){for(var r in i){var n=i[r],a=e[r];if(a!==n)if("_"===r.charAt(0)||"function"==typeof n){if(r in e)continue;e[r]=n}else if(isArrayOrTypedArray$a(n)&&isArrayOrTypedArray$a(a)&&isPlainObject$5(n[0])){if("customdata"===r||"ids"===r)continue;for(var s=Math.min(n.length,a.length),o=0;o<s;o++)a[o]!==n[o]&&isPlainObject$5(n[o])&&isPlainObject$5(a[o])&&t(a[o],n[o])}else isPlainObject$5(n)&&isPlainObject$5(a)&&(t(a,n),Object.keys(a).length||delete e[r])}};function mod$2(t,e){var i=t%e;return i<0?i+e:i}function modHalf$1(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}var mod_1={mod:mod$2,modHalf:modHalf$1},coerce={},tinycolor$a={exports:{}},tinycolor$9=tinycolor$a.exports;tinycolor$a.exports=function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=/^\s+/,i=/\s+$/;function r(t,e){if(e=e||{},(t=t||"")instanceof r)return t;if(!(this instanceof r))return new r(t,e);var i=n(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function n(e){var i={r:0,g:0,b:0},r=1,n=null,s=null,l=null,g=!1,d=!1;return"string"==typeof e&&(e=k(e)),"object"==t(e)&&(M(e.r)&&M(e.g)&&M(e.b)?(i=a(e.r,e.g,e.b),g=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):M(e.h)&&M(e.s)&&M(e.v)?(n=N(e.s),s=N(e.v),i=c(e.h,n,s),g=!0,d="hsv"):M(e.h)&&M(e.s)&&M(e.l)&&(n=N(e.s),l=N(e.l),i=o(e.h,n,l),g=!0,d="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=L(r),{ok:g,format:e.format||d,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:r}}function a(t,e,i){return{r:255*R(t,255),g:255*R(e,255),b:255*R(i,255)}}function s(t,e,i){t=R(t,255),e=R(e,255),i=R(i,255);var r,n,a=Math.max(t,e,i),s=Math.min(t,e,i),o=(a+s)/2;if(a==s)r=n=0;else{var l=a-s;switch(n=o>.5?l/(2-a-s):l/(a+s),a){case t:r=(e-i)/l+(e<i?6:0);break;case e:r=(i-t)/l+2;break;case i:r=(t-e)/l+4}r/=6}return{h:r,s:n,l:o}}function o(t,e,i){var r,n,a;function s(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}if(t=R(t,360),e=R(e,100),i=R(i,100),0===e)r=n=a=i;else{var o=i<.5?i*(1+e):i+e-i*e,l=2*i-o;r=s(l,o,t+1/3),n=s(l,o,t),a=s(l,o,t-1/3)}return{r:255*r,g:255*n,b:255*a}}function l(t,e,i){t=R(t,255),e=R(e,255),i=R(i,255);var r,n,a=Math.max(t,e,i),s=Math.min(t,e,i),o=a,l=a-s;if(n=0===a?0:l/a,a==s)r=0;else{switch(a){case t:r=(e-i)/l+(e<i?6:0);break;case e:r=(i-t)/l+2;break;case i:r=(t-e)/l+4}r/=6}return{h:r,s:n,v:o}}function c(t,e,i){t=6*R(t,360),e=R(e,100),i=R(i,100);var r=Math.floor(t),n=t-r,a=i*(1-e),s=i*(1-n*e),o=i*(1-(1-n)*e),l=r%6;return{r:255*[i,s,a,a,o,i][l],g:255*[o,i,i,s,a,a][l],b:255*[a,a,o,i,i,s][l]}}function g(t,e,i,r){var n=[Z(Math.round(t).toString(16)),Z(Math.round(e).toString(16)),Z(Math.round(i).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function d(t,e,i,r,n){var a=[Z(Math.round(t).toString(16)),Z(Math.round(e).toString(16)),Z(Math.round(i).toString(16)),Z(D(r))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function u(t,e,i,r){return[Z(D(r)),Z(Math.round(t).toString(16)),Z(Math.round(e).toString(16)),Z(Math.round(i).toString(16))].join("")}function B(t,e){e=0===e?0:e||10;var i=r(t).toHsl();return i.s-=e/100,i.s=S(i.s),r(i)}function F(t,e){e=0===e?0:e||10;var i=r(t).toHsl();return i.s+=e/100,i.s=S(i.s),r(i)}function h(t){return r(t).desaturate(100)}function Q(t,e){e=0===e?0:e||10;var i=r(t).toHsl();return i.l+=e/100,i.l=S(i.l),r(i)}function U(t,e){e=0===e?0:e||10;var i=r(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(-e/100*255))),i.g=Math.max(0,Math.min(255,i.g-Math.round(-e/100*255))),i.b=Math.max(0,Math.min(255,i.b-Math.round(-e/100*255))),r(i)}function I(t,e){e=0===e?0:e||10;var i=r(t).toHsl();return i.l-=e/100,i.l=S(i.l),r(i)}function b(t,e){var i=r(t).toHsl(),n=(i.h+e)%360;return i.h=n<0?360+n:n,r(i)}function p(t){var e=r(t).toHsl();return e.h=(e.h+180)%360,r(e)}function y(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=r(t).toHsl(),n=[r(t)],a=360/e,s=1;s<e;s++)n.push(r({h:(i.h+s*a)%360,s:i.s,l:i.l}));return n}function m(t){var e=r(t).toHsl(),i=e.h;return[r(t),r({h:(i+72)%360,s:e.s,l:e.l}),r({h:(i+216)%360,s:e.s,l:e.l})]}function C(t,e,i){e=e||6,i=i||30;var n=r(t).toHsl(),a=360/i,s=[r(t)];for(n.h=(n.h-(a*e>>1)+720)%360;--e;)n.h=(n.h+a)%360,s.push(r(n));return s}function f(t,e){e=e||6;for(var i=r(t).toHsv(),n=i.h,a=i.s,s=i.v,o=[],l=1/e;e--;)o.push(r({h:n,s:a,v:s})),s=(s+l)%1;return o}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,i,r=this.toRgb();return t=r.r/255,e=r.g/255,i=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=L(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=Math.round(360*t.h),i=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+r+"%)":"hsva("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=Math.round(360*t.h),i=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return d(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*R(this._r,255))+"%",g:Math.round(100*R(this._g,255))+"%",b:Math.round(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*R(this._r,255))+"%, "+Math.round(100*R(this._g,255))+"%, "+Math.round(100*R(this._b,255))+"%)":"rgba("+Math.round(100*R(this._r,255))+"%, "+Math.round(100*R(this._g,255))+"%, "+Math.round(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+u(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var a=r(t);i="#"+u(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Q,arguments)},brighten:function(){return this._applyModification(U,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(B,arguments)},saturate:function(){return this._applyModification(F,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(p,arguments)},monochromatic:function(){return this._applyCombination(f,arguments)},splitcomplement:function(){return this._applyCombination(m,arguments)},triad:function(){return this._applyCombination(y,[3])},tetrad:function(){return this._applyCombination(y,[4])}},r.fromRatio=function(e,i){if("object"==t(e)){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]="a"===a?e[a]:N(e[a]));e=n}return r(e,i)},r.equals=function(t,e){return!(!t||!e)&&r(t).toRgbString()==r(e).toRgbString()},r.random=function(){return r.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},r.mix=function(t,e,i){i=0===i?0:i||50;var n=r(t).toRgb(),a=r(e).toRgb(),s=i/100;return r({r:(a.r-n.r)*s+n.r,g:(a.g-n.g)*s+n.g,b:(a.b-n.b)*s+n.b,a:(a.a-n.a)*s+n.a})},r.readability=function(t,e){var i=r(t),n=r(e);return(Math.max(i.getLuminance(),n.getLuminance())+.05)/(Math.min(i.getLuminance(),n.getLuminance())+.05)},r.isReadable=function(t,e,i){var n,a,s=r.readability(t,e);switch(a=!1,(n=Y(i)).level+n.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7}return a},r.mostReadable=function(t,e,i){var n,a,s,o,l=null,c=0;a=(i=i||{}).includeFallbackColors,s=i.level,o=i.size;for(var g=0;g<e.length;g++)(n=r.readability(t,e[g]))>c&&(c=n,l=r(e[g]));return r.isReadable(t,l,{level:s,size:o})||!a?l:(i.includeFallbackColors=!1,r.mostReadable(t,["#fff","#000"],i))};var x=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=r.hexNames=v(x);function v(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function L(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function R(t,e){E(t)&&(t="100%");var i=V(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function S(t){return Math.min(1,Math.max(0,t))}function G(t){return parseInt(t,16)}function E(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function V(t){return"string"==typeof t&&-1!=t.indexOf("%")}function Z(t){return 1==t.length?"0"+t:""+t}function N(t){return t<=1&&(t=100*t+"%"),t}function D(t){return Math.round(255*parseFloat(t)).toString(16)}function w(t){return G(t)/255}var X,W,H,T=(W="[\\s|\\(]+("+(X="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",H="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",{CSS_UNIT:new RegExp(X),rgb:new RegExp("rgb"+W),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+W),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+W),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function M(t){return!!T.CSS_UNIT.exec(t)}function k(t){t=t.replace(e,"").replace(i,"").toLowerCase();var r,n=!1;if(x[t])t=x[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(r=T.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=T.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=T.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=T.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=T.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=T.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=T.hex8.exec(t))?{r:G(r[1]),g:G(r[2]),b:G(r[3]),a:w(r[4]),format:n?"name":"hex8"}:(r=T.hex6.exec(t))?{r:G(r[1]),g:G(r[2]),b:G(r[3]),format:n?"name":"hex"}:(r=T.hex4.exec(t))?{r:G(r[1]+""+r[1]),g:G(r[2]+""+r[2]),b:G(r[3]+""+r[3]),a:w(r[4]+""+r[4]),format:n?"name":"hex8"}:!!(r=T.hex3.exec(t))&&{r:G(r[1]+""+r[1]),g:G(r[2]+""+r[2]),b:G(r[3]+""+r[3]),format:n?"name":"hex"}}function Y(t){var e,i;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(i=(t.size||"small").toLowerCase())&&"large"!==i&&(i="small"),{level:e,size:i}}return r}();var font_attributes,hasRequiredFont_attributes,tinycolorExports=tinycolor$a.exports,extend={},isPlainObject$4=is_plain_object,isArray$2=Array.isArray;function primitivesLoopSplice(t,e){var i,r;for(i=0;i<t.length;i++){if(null!==(r=t[i])&&"object"==typeof r)return!1;void 0!==r&&(e[i]=r)}return!0}function _extend(t,e,i,r){var n,a,s,o,l,c,g=t[0],d=t.length;if(2===d&&isArray$2(g)&&isArray$2(t[1])&&0===g.length){if(primitivesLoopSplice(t[1],g))return g;g.splice(0,g.length)}for(var u=1;u<d;u++)for(a in n=t[u])s=g[a],o=n[a],r&&isArray$2(o)?g[a]=o:e&&o&&(isPlainObject$4(o)||(l=isArray$2(o)))?(l?(l=!1,c=s&&isArray$2(s)?s:[]):c=s&&isPlainObject$4(s)?s:{},g[a]=_extend([c,o],e,i,r)):(void 0!==o||i)&&(g[a]=o);return g}function requireFont_attributes(){return hasRequiredFont_attributes||(hasRequiredFont_attributes=1,font_attributes=function(t){var e=t.variantValues,i=t.editType,r=t.colorEditType;void 0===r&&(r=i);var n={editType:i,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal",description:["Sets the weight (or boldness) of the font."].join(" ")};t.noNumericWeightValues&&(n.valType="enumerated",n.values=n.extras,n.extras=void 0,n.min=void 0,n.max=void 0);var a={family:{valType:"string",noBlank:!0,strict:!0,editType:i,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser can only apply a font if it is available on the system where","it runs. Provide multiple font families, separated by commas, to indicate","the order in which to apply fonts if they aren't available."].join(" ")},size:{valType:"number",min:1,editType:i},color:{valType:"color",editType:r},weight:n,style:{editType:i,valType:"enumerated",values:["normal","italic"],dflt:"normal",description:["Sets whether a font should be styled with a normal or italic face from its family."].join(" ")},variant:t.noFontVariant?void 0:{editType:i,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal",description:["Sets the variant of the font."].join(" ")},textcase:t.noFontTextcase?void 0:{editType:i,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal",description:["Sets capitalization of text.","It can be used to make text appear in all-uppercase or all-lowercase,","or with each word capitalized."].join(" ")},lineposition:t.noFontLineposition?void 0:{editType:i,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none",description:["Sets the kind of decoration line(s) with text,","such as an *under*, *over* or *through*","as well as combinations e.g. *under+over*, etc."].join(" ")},shadow:t.noFontShadow?void 0:{editType:i,valType:"string",dflt:t.autoShadowDflt?"auto":"none",description:["Sets the shape and color of the shadow behind text.","*auto* places minimal shadow and applies contrast text font color.","See https://developer.mozilla.org/en-US/docs/Web/CSS/text-shadow for additional options."].join(" ")},editType:i,description:""+(t.description||"")};return t.autoSize&&(a.size.dflt="auto"),t.autoColor&&(a.color.dflt="auto"),t.arrayOk&&(a.family.arrayOk=!0,a.weight.arrayOk=!0,a.style.arrayOk=!0,t.noFontVariant||(a.variant.arrayOk=!0),t.noFontTextcase||(a.textcase.arrayOk=!0),t.noFontLineposition||(a.lineposition.arrayOk=!0),t.noFontShadow||(a.shadow.arrayOk=!0),a.size.arrayOk=!0,a.color.arrayOk=!0),a}),font_attributes}extend.extendFlat=function(){return _extend(arguments,!1,!1,!1)},extend.extendDeep=function(){return _extend(arguments,!0,!1,!1)},extend.extendDeepAll=function(){return _extend(arguments,!0,!0,!1)},extend.extendDeepNoArrays=function(){return _extend(arguments,!0,!1,!0)};var constants$M={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"},constants$L=constants$M,fontAttrs$g=requireFont_attributes(),font=fontAttrs$g({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});font.family.dflt=constants$L.HOVERFONT,font.size.dflt=constants$L.HOVERFONTSIZE;var layout_attributes$6={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions.","If *closest*, a single hoverlabel will appear","for the *closest* point within the `hoverdistance`.","If *x* (or *y*), multiple hoverlabels will appear for multiple points","at the *closest* x- (or y-) coordinate within the `hoverdistance`,","with the caveat that no more than one hoverlabel will appear per trace.","If *x unified* (or *y unified*), a single hoverlabel will appear","multiple points at the closest x- (or y-) coordinate within the `hoverdistance`","with the caveat that no more than one hoverlabel will appear per trace.","In this mode, spikelines are enabled by default perpendicular to the specified axis.","If false, hover interactions are disabled."].join(" ")},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none",description:["Determines expansion of hover effects to other subplots","If *single* just the axis pair of the primary point is included without overlaying subplots.","If *overlaying* all subplots using the main axis and occupying the same space are included.","If *axis*, also include stacked subplots using the same axis","when `hovermode` is set to *x*, *x unified*, *y* or *y unified*."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:font,grouptitlefont:fontAttrs$g({editType:"none",description:["Sets the font for group titles in hover (unified modes).","Defaults to `hoverlabel.font`."].join(" ")}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none",description:["Sets the horizontal alignment of the text content within hover label box.","Has an effect only if the hover label text spans more two or more lines"].join(" ")},namelength:{valType:"integer",min:-1,dflt:15,editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},showarrow:{valType:"boolean",dflt:!0,editType:"none",description:["Sets whether or not to show the hover label arrow/triangle","pointing to the data point."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",description:["When `dragmode` is set to *select*, this limits the selection of the drag to","horizontal, vertical or diagonal. *h* only allows horizontal selection,","*v* only vertical, *d* only diagonal and *any* sets no limit."].join(" "),editType:"none"}},fontAttrs$f=requireFont_attributes(),hoverLabelAttrs=layout_attributes$6.hoverlabel,extendFlat$k=extend.extendFlat,attributes$M={hoverlabel:{bgcolor:extendFlat$k({},hoverLabelAttrs.bgcolor,{arrayOk:!0,description:"Sets the background color of the hover labels for this trace"}),bordercolor:extendFlat$k({},hoverLabelAttrs.bordercolor,{arrayOk:!0,description:"Sets the border color of the hover labels for this trace."}),font:fontAttrs$f({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),align:extendFlat$k({},hoverLabelAttrs.align,{arrayOk:!0}),namelength:extendFlat$k({},hoverLabelAttrs.namelength,{arrayOk:!0}),showarrow:extendFlat$k({},hoverLabelAttrs.showarrow),editType:"none"}},fontAttrs$e=requireFont_attributes(),fxAttrs$1=attributes$M,attributes$L={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legend:{valType:"subplotid",dflt:"legend",editType:"style",description:["Sets the reference to a legend to show this trace in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")},legendgroup:{valType:"string",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style",description:["Sets the title of the legend group."].join(" ")},font:fontAttrs$e({editType:"style",description:["Sets this legend group's title font."].join(" ")}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style",description:["Sets the legend rank for this trace.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items.","When having unranked or equal rank items shapes would be displayed after traces","i.e. according to their order in data and layout."].join(" ")},legendwidth:{valType:"number",min:0,editType:"style",description:"Sets the width (in px or fraction) of the legend for this trace."},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",editType:"style",description:["Sets the trace name.","The trace name appears as the legend item and on hover."].join(" ")},uid:{valType:"string",editType:"plot",anim:!0,description:["Assign an id to this trace,","Use this to provide object constancy between traces during animations","and transitions."].join(" ")},ids:{valType:"data_array",editType:"calc",anim:!0,description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation.","Should be an array of strings, not numbers or any other type."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information associated with this trace","that can be used in various text attributes.","Attributes such as trace `name`, graph, axis and colorbar `title.text`, annotation `text`","`rangeselector`, `updatemenues` and `sliders` `label` text","all support `meta`.","To access the trace `meta` values in an attribute in the same trace, simply use","`%{meta[i]}` where `i` is the index or key of the `meta`","item in question.","To access trace `meta` in layout attributes, use","`%{data[n[.meta[i]}` where `i` is the index or key of the `meta`","and `n` is the trace index."].join(" ")},selectedpoints:{valType:"any",editType:"calc",description:["Array containing integer indices of selected points.","Has an effect only for traces that support selections.","Note that an empty array means an empty selection where the `unselected`","are turned on for all points, whereas, any other non-array values means no","selection all where the `selected` and `unselected` styles have no effect."].join(" ")},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:fxAttrs$1.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://chart-studio.plotly.com/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"},uirevision:{valType:"any",editType:"none",description:["Controls persistence of some user-driven changes to the trace:","`constraintrange` in `parcoords` traces, as well as some","`editable: true` modifications such as `name` and `colorbar.title`.","Defaults to `layout.uirevision`.","Note that other user-driven trace attribute changes are controlled","by `layout` attributes:","`trace.visible` is controlled by `layout.legend.uirevision`,","`selectedpoints` is controlled by `layout.selectionrevision`,","and `colorbar.(x|y)` (accessible with `config: {editable: true}`)","is controlled by `layout.editrevision`.","Trace changes are tracked by `uid`, which only falls back on trace","index if no `uid` is provided. So if your app can add/remove traces","before the end of the `data` array, such that the same trace has a","different index, you can still preserve user-driven changes if you","give each trace a `uid` that stays with it as it moves."].join(" ")}},tinycolor$8=tinycolorExports,scales$2={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},defaultScale=scales$2.RdBu;function getScale(t,e){if(e||(e=defaultScale),!t)return e;function i(){try{t=scales$2[t]||JSON.parse(t)}catch(i){t=e}}return"string"==typeof t&&(i(),"string"==typeof t&&i()),isValidScaleArray(t)?t:e}function isValidScaleArray(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!==+t[0][0]||1!==+t[t.length-1][0])return!1;for(var i=0;i<t.length;i++){var r=t[i];if(2!==r.length||+r[0]<e||!tinycolor$8(r[1]).isValid())return!1;e=+r[0]}return!0}function isValidScale$2(t){return void 0!==scales$2[t]||isValidScaleArray(t)}var scales_1={scales:scales$2,defaultScale:defaultScale,get:getScale,isValid:isValidScale$2},color$2={exports:{}},attributes$K={defaults:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],defaultLine:"#444",lightLine:"#eee",background:"#fff",borderLine:"#BEC8D9",lightFraction:1e3/11},tinycolor$7=tinycolorExports,isNumeric$w=fastIsnumeric,isTypedArray=array.isTypedArray,color$1=color$2.exports={},colorAttrs$6=attributes$K;color$1.defaults=colorAttrs$6.defaults;var defaultLine=color$1.defaultLine=colorAttrs$6.defaultLine;color$1.lightLine=colorAttrs$6.lightLine;var background=color$1.background=colorAttrs$6.background;function cleanOne(t){if(isNumeric$w(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var i=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!i)return t;var r=i[1].trim().split(/\s*[\s,]\s*/),n="a"===e.charAt(3)&&4===r.length;if(!n&&3!==r.length)return t;for(var a=0;a<r.length;a++){if(!r[a].length)return t;if(r[a]=Number(r[a]),!(r[a]>=0))return t;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return t}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return n?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}color$1.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},color$1.rgb=function(t){return color$1.tinyRGB(tinycolor$7(t))},color$1.opacity=function(t){return t?tinycolor$7(t).getAlpha():0},color$1.addOpacity=function(t,e){var i=tinycolor$7(t).toRgb();return"rgba("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+", "+e+")"},color$1.combine=function(t,e){var i=tinycolor$7(t).toRgb();if(1===i.a)return tinycolor$7(t).toRgbString();var r=tinycolor$7(e||background).toRgb(),n=1===r.a?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},a={r:n.r*(1-i.a)+i.r*i.a,g:n.g*(1-i.a)+i.g*i.a,b:n.b*(1-i.a)+i.b*i.a};return tinycolor$7(a).toRgbString()},color$1.interpolate=function(t,e,i){var r=tinycolor$7(t).toRgb(),n=tinycolor$7(e).toRgb(),a={r:i*r.r+(1-i)*n.r,g:i*r.g+(1-i)*n.g,b:i*r.b+(1-i)*n.b};return tinycolor$7(a).toRgbString()},color$1.contrast=function(t,e,i){var r=tinycolor$7(t);return 1!==r.getAlpha()&&(r=tinycolor$7(color$1.combine(t,background))),(r.isDark()?e?r.lighten(e):background:i?r.darken(i):defaultLine).toString()},color$1.stroke=function(t,e){var i=tinycolor$7(e);t.style({stroke:color$1.tinyRGB(i),"stroke-opacity":i.getAlpha()})},color$1.fill=function(t,e){var i=tinycolor$7(e);t.style({fill:color$1.tinyRGB(i),"fill-opacity":i.getAlpha()})},color$1.clean=function(t){if(t&&"object"==typeof t){var e,i,r,n,a=Object.keys(t);for(e=0;e<a.length;e++)if(n=t[r=a[e]],"color"===r.substr(r.length-5))if(Array.isArray(n))for(i=0;i<n.length;i++)n[i]=cleanOne(n[i]);else t[r]=cleanOne(n);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(n))for(i=0;i<n.length;i++)Array.isArray(n[i])&&(n[i][1]=cleanOne(n[i][1]));else if(Array.isArray(n)){var s=n[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(i=0;i<n.length;i++)color$1.clean(n[i])}else n&&"object"==typeof n&&!isTypedArray(n)&&color$1.clean(n)}};var colorExports=color$2.exports,interactions={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2},regex={counter:function(t,e,i,r){var n=(e||"")+(i?"":"$"),a=!1===r?"":"^";return"xy"===t?new RegExp(a+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(a+t+"([2-9]|[1-9][0-9]+)?"+n)}};!function(t){var e=fastIsnumeric,i=tinycolorExports,r=extend.extendFlat,n=attributes$L,a=scales_1,s=colorExports,o=interactions.DESELECTDIM,l=nested_property,c=regex.counter,g=mod_1.modHalf,d=array.isArrayOrTypedArray,u=array.isTypedArraySpec,B=array.decodeTypedArraySpec;function F(e,i){var r=t.valObjectMeta[i.valType];if(i.arrayOk&&d(e))return!0;if(r.validateFunction)return r.validateFunction(e,i);var n={},a=n,s={set:function(t){a=t}};return r.coerceFunction(e,s,n,i),a!==n}t.valObjectMeta={data_array:{description:["An {array} of data.","The value must represent an {array} or it will be ignored,","but this array can be provided in several forms:","(1) a regular {array} object","(2) a typed array (e.g. Float32Array)","(3) an object with keys dtype, bdata, and optionally shape.","In this 3rd form, dtype is one of","*f8*, *f4*.","*i4*, *u4*,","*i2*, *u2*,","*i1*, *u1* or *u1c* for Uint8ClampedArray.","In addition to shorthand `dtype` above one could also use the following forms:","*float64*, *float32*,","*int32*, *uint32*,","*int16*, *uint16*,","*int8*, *uint8* or *uint8c* for Uint8ClampedArray.","`bdata` is either a base64-encoded string or the ArrayBuffer of","an integer or float typed array.","For either multi-dimensional arrays you must also","provide its dimensions separated by comma via `shape`.","For example using `dtype`: *f4* and `shape`: *5,100* you can","declare a 2-D array that has 5 rows and 100 columns","containing float32 values i.e. 4 bits per value.","`shape` is optional for one dimensional arrays."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,i){e.set(d(t)?t:u(t)?B(t):i)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(t,e,i,r){r.coerceNumber&&(t=+t),-1===r.values.indexOf(t)?e.set(i):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var i=e.values,r=0;r<i.length;r++){var n=String(i[r]);if("/"===n.charAt(0)&&"/"===n.charAt(n.length-1)){if(new RegExp(n.substr(1,n.length-2)).test(t))return!0}else if(t===i[r])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,i){!0===t||!1===t?e.set(t):e.set(i)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(t,i,r,n){u(t)&&(t=B(t)),!e(t)||void 0!==n.min&&t<n.min||void 0!==n.max&&t>n.max?i.set(r):i.set(+t)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk","extras"],coerceFunction:function(t,i,r,n){-1===(n.extras||[]).indexOf(t)?(u(t)&&(t=B(t)),t%1||!e(t)||void 0!==n.min&&t<n.min||void 0!==n.max&&t>n.max?i.set(r):i.set(+t)):i.set(t)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(t,e,i,r){if("string"!=typeof t){var n="number"==typeof t;!0!==r.strict&&n?e.set(String(t)):e.set(i)}else r.noBlank&&!t?e.set(i):e.set(t)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,e,r){u(t)&&(t=B(t)),i(t).isValid()?e.set(t):e.set(r)}},colorlist:{description:["A list of colors.","Must be an {array} containing valid colors."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){Array.isArray(t)&&t.length&&t.every(function(t){return i(t).isValid()})?e.set(t):e.set(r)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",Object.keys(a.scales).join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,i){e.set(a.get(t,i))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,i,r){u(t)&&(t=B(t)),"auto"===t?i.set("auto"):e(t)?i.set(g(+t,360)):i.set(r)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:["regex"],coerceFunction:function(t,e,i,r){var n=r.regex||c(i);"string"==typeof t&&n.test(t)?e.set(t):e.set(i)},validateFunction:function(t,e){var i=e.dflt;return t===i||"string"==typeof t&&!!c(i).test(t)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(t,e,i,r){if(-1===(r.extras||[]).indexOf(t))if("string"==typeof t){for(var n=t.split("+"),a=0;a<n.length;){var s=n[a];-1===r.flags.indexOf(s)||n.indexOf(s)<a?n.splice(a,1):a++}n.length?e.set(n.join("+")):e.set(i)}else e.set(i);else e.set(t)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(t,e,i){void 0===t?e.set(i):e.set(u(t)?B(t):t)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength","dimensions"],coerceFunction:function(e,i,r,n){function a(e,i,r){var n,a={set:function(t){n=t}};return void 0===r&&(r=i.dflt),t.valObjectMeta[i.valType].coerceFunction(e,a,r,i),n}if(u(e)&&(e=B(e)),d(e)){var s,o,l,c,g,F,h=2===n.dimensions||"1-2"===n.dimensions&&Array.isArray(e)&&d(e[0]),Q=n.items,U=[],I=Array.isArray(Q),b=I&&h&&d(Q[0]),p=h&&I&&!b,y=I&&!p?Q.length:e.length;if(r=Array.isArray(r)?r:[],h)for(s=0;s<y;s++)for(U[s]=[],l=d(e[s])?e[s]:[],g=p?Q.length:I?Q[s].length:l.length,o=0;o<g;o++)c=p?Q[o]:I?Q[s][o]:Q,void 0!==(F=a(l[o],c,(r[s]||[])[o]))&&(U[s][o]=F);else for(s=0;s<y;s++)void 0!==(F=a(e[s],I?Q[s]:Q,r[s]))&&(U[s]=F);i.set(U)}else i.set(r)},validateFunction:function(t,e){if(!d(t))return!1;var i=e.items,r=Array.isArray(i),n=2===e.dimensions;if(!e.freeLength&&t.length!==i.length)return!1;for(var a=0;a<t.length;a++)if(n){if(!d(t[a])||!e.freeLength&&t[a].length!==i[a].length)return!1;for(var s=0;s<t[a].length;s++)if(!F(t[a][s],r?i[a][s]:i))return!1}else if(!F(t[a],r?i[a]:i))return!1;return!0}}},t.coerce=function(e,i,r,n,a){var s=l(r,n).get(),o=l(e,n),c=l(i,n),g=o.get(),h=i._template;if(void 0===g&&h&&(g=l(h,n).get(),h=0),void 0===a&&(a=s.dflt),s.arrayOk){if(d(g))return c.set(g),g;if(u(g))return g=B(g),c.set(g),g}var Q=t.valObjectMeta[s.valType].coerceFunction;Q(g,c,a,s);var U=c.get();return h&&U===a&&!F(g,s)&&(Q(g=l(h,n).get(),c,a,s),U=c.get()),U},t.coerce2=function(e,i,r,n,a){var s=l(e,n),o=t.coerce(e,i,r,n,a),c=s.get();return null!=c&&o},t.coerceFont=function(t,e,i,n){n||(n={}),i=r({},i);var a={family:t(e+".family",(i=r(i,n.overrideDflt||{})).family),size:t(e+".size",i.size),color:t(e+".color",i.color),weight:t(e+".weight",i.weight),style:t(e+".style",i.style)};if(n.noFontVariant||(a.variant=t(e+".variant",i.variant)),n.noFontLineposition||(a.lineposition=t(e+".lineposition",i.lineposition)),n.noFontTextcase||(a.textcase=t(e+".textcase",i.textcase)),!n.noFontShadow){var s=i.shadow;"none"===s&&n.autoShadowDflt&&(s="auto"),a.shadow=t(e+".shadow",s)}return a},t.coercePattern=function(t,e,i,r){var n,a=t(e+".shape");if(a||(n=t(e+".path")),a||n){a&&t(e+".solidity"),t(e+".size");var o="overlay"===t(e+".fillmode");if(!r){var l=t(e+".bgcolor",o?i:void 0);t(e+".fgcolor",o?s.contrast(l):i)}t(e+".fgopacity",o?.5:1)}},t.coerceHoverinfo=function(e,i,r){var a,s=i._module.attributes,o=s.hoverinfo?s:n,l=o.hoverinfo;if(1===r._dataLength){var c="all"===l.dflt?l.flags.slice():l.dflt.split("+");c.splice(c.indexOf("name"),1),a=c.join("+")}return t.coerce(e,i,o,"hoverinfo",a)},t.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var i,r,n=t.marker.opacity;if(void 0!==n)d(n)||t.selected||t.unselected||(i=n,r=o*n),e("selected.marker.opacity",i),e("unselected.marker.opacity",r)}},t.validate=F}(coerce);var dates={},loggers$2={exports:{}},configAttributes={staticPlot:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are interactive or not.","If *false*, no interactivity, for export or image generation."].join(" ")},typesetMath:{valType:"boolean",dflt:!0,description:["Determines whether math should be typeset or not,","when MathJax (either v2 or v3) is present on the page."].join(" ")},plotlyServerURL:{valType:"string",dflt:"",description:["When set it determines base URL for","the 'Edit in Chart Studio' `showEditInChartStudio`/`showSendToCloud` mode bar button","and the showLink/sendData on-graph link.","To enable sending your data to Chart Studio Cloud, you need to","set both `plotlyServerURL` to 'https://chart-studio.plotly.com' and","also set `showSendToCloud` to true."].join(" ")},editable:{valType:"boolean",dflt:!1,description:["Determines whether the graph is editable or not.","Sets all pieces of `edits`","unless a separate `edits` config item overrides individual parts."].join(" ")},edits:{annotationPosition:{valType:"boolean",dflt:!1,description:["Determines if the main anchor of the annotation is editable.","The main anchor corresponds to the","text (if no arrow) or the arrow (which drags the whole thing leaving","the arrow length & direction unchanged)."].join(" ")},annotationTail:{valType:"boolean",dflt:!1,description:["Has only an effect for annotations with arrows.","Enables changing the length and direction of the arrow."].join(" ")},annotationText:{valType:"boolean",dflt:!1,description:"Enables editing annotation text."},axisTitleText:{valType:"boolean",dflt:!1,description:"Enables editing axis title text."},colorbarPosition:{valType:"boolean",dflt:!1,description:"Enables moving colorbars."},colorbarTitleText:{valType:"boolean",dflt:!1,description:"Enables editing colorbar title text."},legendPosition:{valType:"boolean",dflt:!1,description:"Enables moving the legend."},legendText:{valType:"boolean",dflt:!1,description:"Enables editing the trace name fields from the legend"},shapePosition:{valType:"boolean",dflt:!1,description:"Enables moving shapes."},titleText:{valType:"boolean",dflt:!1,description:"Enables editing the global layout title."}},editSelection:{valType:"boolean",dflt:!0,description:"Enables moving selections."},autosizable:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are plotted with respect to","layout.autosize:true and infer its container size."].join(" ")},responsive:{valType:"boolean",dflt:!1,description:["Determines whether to change the layout size when window is resized.","In v3, this option will be removed and will always be true."].join(" ")},fillFrame:{valType:"boolean",dflt:!1,description:["When `layout.autosize` is turned on, determines whether the graph","fills the container (the default) or the screen (if set to *true*)."].join(" ")},frameMargins:{valType:"number",dflt:0,min:0,max:.5,description:["When `layout.autosize` is turned on, set the frame margins","in fraction of the graph size."].join(" ")},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map",description:["Determines whether mouse wheel or two-finger scroll zooms is enable.","Turned on by default for gl3d, geo, mapbox and map subplots","(as these subplot types do not have zoombox via pan),","but turned off by default for cartesian subplots.","Set `scrollZoom` to *false* to disable scrolling for all subplots."].join(" ")},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize",description:["Sets the double click interaction mode.","Has an effect only in cartesian plots.","If *false*, double click is disable.","If *reset*, double click resets the axis ranges to their initial values.","If *autosize*, double click set the axis ranges to their autorange values.","If *reset+autosize*, the odd double clicks resets the axis ranges","to their initial values and even double clicks set the axis ranges","to their autorange values."].join(" ")},doubleClickDelay:{valType:"number",dflt:300,min:0,description:["Sets the delay for registering a double-click in ms.","This is the time interval (in ms) between first mousedown and","2nd mouseup to constitute a double-click.","This setting propagates to all on-subplot double clicks","(except for geo, mapbox and map) and on-legend double clicks."].join(" ")},showAxisDragHandles:{valType:"boolean",dflt:!0,description:["Set to *false* to omit cartesian axis pan/zoom drag handles."].join(" ")},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0,description:["Set to *false* to omit direct range entry at the pan/zoom drag points,","note that `showAxisDragHandles` must be enabled to have an effect."].join(" ")},showTips:{valType:"boolean",dflt:!0,description:["Determines whether or not tips are shown while interacting","with the resulting graphs."].join(" ")},showLink:{valType:"boolean",dflt:!1,description:["Determines whether a link to Chart Studio Cloud is displayed","at the bottom right corner of resulting graphs.","Use with `sendData` and `linkText`."].join(" ")},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0,description:["Sets the text appearing in the `showLink` link."].join(" ")},sendData:{valType:"boolean",dflt:!0,description:["If *showLink* is true, does it contain data","just link to a Chart Studio Cloud file?"].join(" ")},showSources:{valType:"any",dflt:!1,description:["Adds a source-displaying function to show sources on","the resulting graphs."].join(" ")},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover",description:["Determines the mode bar display mode.","If *true*, the mode bar is always visible.","If *false*, the mode bar is always hidden.","If *hover*, the mode bar is visible while the mouse cursor","is on the graph container."].join(" ")},showSendToCloud:{valType:"boolean",dflt:!1,description:['Should we include a ModeBar button, labeled "Edit in Chart Studio",',"that sends this chart to chart-studio.plotly.com (formerly plot.ly) or another plotly server","as specified by `plotlyServerURL` for editing, export, etc? Prior to version 1.43.0","this button was included by default, now it is opt-in using this flag.","Note that this button can (depending on `plotlyServerURL` being set) send your data","to an external server. However that server does not persist your data",'until you arrive at the Chart Studio and explicitly click "Save".'].join(" ")},showEditInChartStudio:{valType:"boolean",dflt:!1,description:["Same as `showSendToCloud`, but use a pencil icon instead of a floppy-disk.","Note that if both `showSendToCloud` and `showEditInChartStudio` are turned,","only `showEditInChartStudio` will be honored."].join(" ")},modeBarButtonsToRemove:{valType:"any",dflt:[],description:["Remove mode bar buttons by name.","See ./components/modebar/buttons.js for the list of names."].join(" ")},modeBarButtonsToAdd:{valType:"any",dflt:[],description:["Add mode bar button using config objects","See ./components/modebar/buttons.js for list of arguments.","To enable predefined modebar buttons e.g. shape drawing, hover and spikelines,","simply provide their string name(s). This could include:","*v1hovermode*, *hoverclosest*, *hovercompare*, *togglehover*, *togglespikelines*,","*drawline*, *drawopenpath*, *drawclosedpath*, *drawcircle*, *drawrect* and *eraseshape*.","Please note that these predefined buttons will only be shown if they are compatible","with all trace types used in a graph."].join(" ")},modeBarButtons:{valType:"any",dflt:!1,description:["Define fully custom mode bar buttons as nested array,","where the outer arrays represents button groups, and","the inner arrays have buttons config objects or names of default buttons","See ./components/modebar/buttons.js for more info."].join(" ")},toImageButtonOptions:{valType:"any",dflt:{},description:["Statically override options for toImage modebar button","allowed keys are format, filename, width, height, scale","see ../components/modebar/buttons.js"].join(" ")},displaylogo:{valType:"boolean",dflt:!0,description:["Determines whether or not the plotly logo is displayed","on the end of the mode bar."].join(" ")},watermark:{valType:"boolean",dflt:!1,description:"watermark the images with the company's logo"},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4,description:["Set the pixel ratio during WebGL image export."].join(" ")},setBackground:{valType:"any",dflt:"transparent",description:["Set function to add the background color (i.e. `layout.paper_color`)","to a different container.","This function take the graph div as first argument and the current background","color as second argument.","Alternatively, set to string *opaque* to ensure there is white behind it."].join(" ")},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/",description:["Set the URL to topojson used in geo charts.","By default, the topojson files are fetched from cdn.plot.ly.","For example, set this option to:","<path-to-plotly.js>/dist/topojson/","to render geographical feature using the topojson files","that ship with the plotly.js module."].join(" ")},mapboxAccessToken:{valType:"string",dflt:null,description:["Mapbox access token (required to plot mapbox trace types)","If using an Mapbox Atlas server, set this option to ''","so that plotly.js won't attempt to authenticate to the public Mapbox server."].join(" ")},logging:{valType:"integer",min:0,max:2,dflt:1,description:["Turn all console logging on or off (errors will be thrown)","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0,description:["Set on-graph logging (notifier) level","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no on-graph logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},queueLength:{valType:"integer",min:0,dflt:0,description:"Sets the length of the undo/redo queue."},locale:{valType:"string",dflt:"en-US",description:["Which localization should we use?","Should be a string like 'en' or 'en-US'."].join(" ")},locales:{valType:"any",dflt:{},description:["Localization definitions","Locales can be provided either here (specific to one chart) or globally","by registering them as modules.","Should be an object of objects {locale: {dictionary: {...}, format: {...}}}","{","  da: {","      dictionary: {'Reset axes': 'Nulstil aksler', ...},","      format: {months: [...], shortMonths: [...]}","  },","  ...","}","All parts are optional. When looking for translation or format fields, we","look first for an exact match in a config locale, then in a registered","module. If those fail, we strip off any regionalization ('en-US' -> 'en')","and try each (config, registry) again. The final fallback for translation","is untranslated (which is US English) and for formats is the base English","(the only consequence being the last fallback date format %x is DD/MM/YYYY","instead of MM/DD/YYYY). Currently `grouping` and `currency` are ignored","for our automatic number formatting, but can be used in custom formats."].join(" ")}},dfltConfig$4={};function crawl$1(t,e){for(var i in t){var r=t[i];r.valType?e[i]=r.dflt:(e[i]||(e[i]={}),crawl$1(r,e[i]))}}crawl$1(configAttributes,dfltConfig$4);var plot_config={configAttributes:configAttributes,dfltConfig:dfltConfig$4},d3$v=d3Exports,isNumeric$v=fastIsnumeric,NOTEDATA=[],notifier$1=function(t,e){if(-1===NOTEDATA.indexOf(t)){NOTEDATA.push(t);var i=1e3;isNumeric$v(e)?i=e:"long"===e&&(i=3e3);var r=d3$v.select("body").selectAll(".plotly-notifier").data([0]);r.enter().append("div").classed("plotly-notifier",!0),r.selectAll(".notifier-note").data(NOTEDATA).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var r=d3$v.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(n)});for(var a=r.append("p"),s=t.split(/<br\s*\/?>/g),o=0;o<s.length;o++)o&&a.append("br"),a.append("span").text(s[o]);"stick"===e?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(i).call(n)})}function n(t){t.duration(700).style("opacity",0).each("end",function(t){var e=NOTEDATA.indexOf(t);-1!==e&&NOTEDATA.splice(e,1),d3$v.select(this).remove()})}},dfltConfig$3=plot_config.dfltConfig,notifier=notifier$1,loggers$1=loggers$2.exports={};loggers$1.log=function(){var t;if(dfltConfig$3.logging>1){var e=["LOG:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(dfltConfig$3.notifyOnLogging>1){var i=[];for(t=0;t<arguments.length;t++)i.push(arguments[t]);notifier(i.join("<br>"),"long")}},loggers$1.warn=function(){var t;if(dfltConfig$3.logging>0){var e=["WARN:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(dfltConfig$3.notifyOnLogging>0){var i=[];for(t=0;t<arguments.length;t++)i.push(arguments[t]);notifier(i.join("<br>"),"stick")}},loggers$1.error=function(){var t;if(dfltConfig$3.logging>0){var e=["ERROR:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}if(dfltConfig$3.notifyOnLogging>0){var i=[];for(t=0;t<arguments.length;t++)i.push(arguments[t]);notifier(i.join("<br>"),"stick")}};var loggersExports=loggers$2.exports,registry$1={},noop$1=function(){},push_unique=function(t,e){if(e instanceof RegExp){for(var i=e.toString(),r=0;r<t.length;r++)if(t[r]instanceof RegExp&&t[r].toString()===i)return t;t.push(e)}else!e&&0!==e||-1!==t.indexOf(e)||t.push(e);return t},matrix$1={},create_1=create$1;function create$1(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}var clone_1=clone;function clone(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var copy_1=copy;function copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var identity_1=identity$5;function identity$5(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}var transpose_1=transpose;function transpose(t,e){if(t===e){var i=e[1],r=e[2],n=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=n,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}var invert_1=invert;function invert(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],g=e[8],d=e[9],u=e[10],B=e[11],F=e[12],h=e[13],Q=e[14],U=e[15],I=i*o-r*s,b=i*l-n*s,p=i*c-a*s,y=r*l-n*o,m=r*c-a*o,C=n*c-a*l,f=g*h-d*F,x=g*Q-u*F,A=g*U-B*F,v=d*Q-u*h,L=d*U-B*h,R=u*U-B*Q,S=I*R-b*L+p*v+y*A-m*x+C*f;return S?(S=1/S,t[0]=(o*R-l*L+c*v)*S,t[1]=(n*L-r*R-a*v)*S,t[2]=(h*C-Q*m+U*y)*S,t[3]=(u*m-d*C-B*y)*S,t[4]=(l*A-s*R-c*x)*S,t[5]=(i*R-n*A+a*x)*S,t[6]=(Q*p-F*C-U*b)*S,t[7]=(g*C-u*p+B*b)*S,t[8]=(s*L-o*A+c*f)*S,t[9]=(r*A-i*L-a*f)*S,t[10]=(F*m-h*p+U*I)*S,t[11]=(d*p-g*m-B*I)*S,t[12]=(o*x-s*v-l*f)*S,t[13]=(i*v-r*x+n*f)*S,t[14]=(h*b-F*y-Q*I)*S,t[15]=(g*y-d*b+u*I)*S,t):null}var adjoint_1=adjoint;function adjoint(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],g=e[8],d=e[9],u=e[10],B=e[11],F=e[12],h=e[13],Q=e[14],U=e[15];return t[0]=o*(u*U-B*Q)-d*(l*U-c*Q)+h*(l*B-c*u),t[1]=-(r*(u*U-B*Q)-d*(n*U-a*Q)+h*(n*B-a*u)),t[2]=r*(l*U-c*Q)-o*(n*U-a*Q)+h*(n*c-a*l),t[3]=-(r*(l*B-c*u)-o*(n*B-a*u)+d*(n*c-a*l)),t[4]=-(s*(u*U-B*Q)-g*(l*U-c*Q)+F*(l*B-c*u)),t[5]=i*(u*U-B*Q)-g*(n*U-a*Q)+F*(n*B-a*u),t[6]=-(i*(l*U-c*Q)-s*(n*U-a*Q)+F*(n*c-a*l)),t[7]=i*(l*B-c*u)-s*(n*B-a*u)+g*(n*c-a*l),t[8]=s*(d*U-B*h)-g*(o*U-c*h)+F*(o*B-c*d),t[9]=-(i*(d*U-B*h)-g*(r*U-a*h)+F*(r*B-a*d)),t[10]=i*(o*U-c*h)-s*(r*U-a*h)+F*(r*c-a*o),t[11]=-(i*(o*B-c*d)-s*(r*B-a*d)+g*(r*c-a*o)),t[12]=-(s*(d*Q-u*h)-g*(o*Q-l*h)+F*(o*u-l*d)),t[13]=i*(d*Q-u*h)-g*(r*Q-n*h)+F*(r*u-n*d),t[14]=-(i*(o*Q-l*h)-s*(r*Q-n*h)+F*(r*l-n*o)),t[15]=i*(o*u-l*d)-s*(r*u-n*d)+g*(r*l-n*o),t}var determinant_1=determinant;function determinant(t){var e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],s=t[5],o=t[6],l=t[7],c=t[8],g=t[9],d=t[10],u=t[11],B=t[12],F=t[13],h=t[14],Q=t[15];return(e*s-i*a)*(d*Q-u*h)-(e*o-r*a)*(g*Q-u*F)+(e*l-n*a)*(g*h-d*F)+(i*o-r*s)*(c*Q-u*B)-(i*l-n*s)*(c*h-d*B)+(r*l-n*o)*(c*F-g*B)}var multiply_1=multiply;function multiply(t,e,i){var r=e[0],n=e[1],a=e[2],s=e[3],o=e[4],l=e[5],c=e[6],g=e[7],d=e[8],u=e[9],B=e[10],F=e[11],h=e[12],Q=e[13],U=e[14],I=e[15],b=i[0],p=i[1],y=i[2],m=i[3];return t[0]=b*r+p*o+y*d+m*h,t[1]=b*n+p*l+y*u+m*Q,t[2]=b*a+p*c+y*B+m*U,t[3]=b*s+p*g+y*F+m*I,b=i[4],p=i[5],y=i[6],m=i[7],t[4]=b*r+p*o+y*d+m*h,t[5]=b*n+p*l+y*u+m*Q,t[6]=b*a+p*c+y*B+m*U,t[7]=b*s+p*g+y*F+m*I,b=i[8],p=i[9],y=i[10],m=i[11],t[8]=b*r+p*o+y*d+m*h,t[9]=b*n+p*l+y*u+m*Q,t[10]=b*a+p*c+y*B+m*U,t[11]=b*s+p*g+y*F+m*I,b=i[12],p=i[13],y=i[14],m=i[15],t[12]=b*r+p*o+y*d+m*h,t[13]=b*n+p*l+y*u+m*Q,t[14]=b*a+p*c+y*B+m*U,t[15]=b*s+p*g+y*F+m*I,t}var translate_1=translate;function translate(t,e,i){var r,n,a,s,o,l,c,g,d,u,B,F,h=i[0],Q=i[1],U=i[2];return e===t?(t[12]=e[0]*h+e[4]*Q+e[8]*U+e[12],t[13]=e[1]*h+e[5]*Q+e[9]*U+e[13],t[14]=e[2]*h+e[6]*Q+e[10]*U+e[14],t[15]=e[3]*h+e[7]*Q+e[11]*U+e[15]):(r=e[0],n=e[1],a=e[2],s=e[3],o=e[4],l=e[5],c=e[6],g=e[7],d=e[8],u=e[9],B=e[10],F=e[11],t[0]=r,t[1]=n,t[2]=a,t[3]=s,t[4]=o,t[5]=l,t[6]=c,t[7]=g,t[8]=d,t[9]=u,t[10]=B,t[11]=F,t[12]=r*h+o*Q+d*U+e[12],t[13]=n*h+l*Q+u*U+e[13],t[14]=a*h+c*Q+B*U+e[14],t[15]=s*h+g*Q+F*U+e[15]),t}var scale_1=scale;function scale(t,e,i){var r=i[0],n=i[1],a=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var rotate_1=rotate$1;function rotate$1(t,e,i,r){var n,a,s,o,l,c,g,d,u,B,F,h,Q,U,I,b,p,y,m,C,f,x,A,v,L=r[0],R=r[1],S=r[2],G=Math.sqrt(L*L+R*R+S*S);return Math.abs(G)<1e-6?null:(L*=G=1/G,R*=G,S*=G,n=Math.sin(i),s=1-(a=Math.cos(i)),o=e[0],l=e[1],c=e[2],g=e[3],d=e[4],u=e[5],B=e[6],F=e[7],h=e[8],Q=e[9],U=e[10],I=e[11],b=L*L*s+a,p=R*L*s+S*n,y=S*L*s-R*n,m=L*R*s-S*n,C=R*R*s+a,f=S*R*s+L*n,x=L*S*s+R*n,A=R*S*s-L*n,v=S*S*s+a,t[0]=o*b+d*p+h*y,t[1]=l*b+u*p+Q*y,t[2]=c*b+B*p+U*y,t[3]=g*b+F*p+I*y,t[4]=o*m+d*C+h*f,t[5]=l*m+u*C+Q*f,t[6]=c*m+B*C+U*f,t[7]=g*m+F*C+I*f,t[8]=o*x+d*A+h*v,t[9]=l*x+u*A+Q*v,t[10]=c*x+B*A+U*v,t[11]=g*x+F*A+I*v,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}var rotateX_1=rotateX;function rotateX(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[4],s=e[5],o=e[6],l=e[7],c=e[8],g=e[9],d=e[10],u=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*n+c*r,t[5]=s*n+g*r,t[6]=o*n+d*r,t[7]=l*n+u*r,t[8]=c*n-a*r,t[9]=g*n-s*r,t[10]=d*n-o*r,t[11]=u*n-l*r,t}var rotateY_1=rotateY;function rotateY(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[0],s=e[1],o=e[2],l=e[3],c=e[8],g=e[9],d=e[10],u=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n-c*r,t[1]=s*n-g*r,t[2]=o*n-d*r,t[3]=l*n-u*r,t[8]=a*r+c*n,t[9]=s*r+g*n,t[10]=o*r+d*n,t[11]=l*r+u*n,t}var rotateZ_1=rotateZ;function rotateZ(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[0],s=e[1],o=e[2],l=e[3],c=e[4],g=e[5],d=e[6],u=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n+c*r,t[1]=s*n+g*r,t[2]=o*n+d*r,t[3]=l*n+u*r,t[4]=c*n-a*r,t[5]=g*n-s*r,t[6]=d*n-o*r,t[7]=u*n-l*r,t}var fromRotation_1=fromRotation;function fromRotation(t,e,i){var r,n,a,s=i[0],o=i[1],l=i[2],c=Math.sqrt(s*s+o*o+l*l);return Math.abs(c)<1e-6?null:(s*=c=1/c,o*=c,l*=c,r=Math.sin(e),a=1-(n=Math.cos(e)),t[0]=s*s*a+n,t[1]=o*s*a+l*r,t[2]=l*s*a-o*r,t[3]=0,t[4]=s*o*a-l*r,t[5]=o*o*a+n,t[6]=l*o*a+s*r,t[7]=0,t[8]=s*l*a+o*r,t[9]=o*l*a-s*r,t[10]=l*l*a+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}var fromRotationTranslation_1=fromRotationTranslation;function fromRotationTranslation(t,e,i){var r=e[0],n=e[1],a=e[2],s=e[3],o=r+r,l=n+n,c=a+a,g=r*o,d=r*l,u=r*c,B=n*l,F=n*c,h=a*c,Q=s*o,U=s*l,I=s*c;return t[0]=1-(B+h),t[1]=d+I,t[2]=u-U,t[3]=0,t[4]=d-I,t[5]=1-(g+h),t[6]=F+Q,t[7]=0,t[8]=u+U,t[9]=F-Q,t[10]=1-(g+B),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}var fromScaling_1=fromScaling;function fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}var fromTranslation_1=fromTranslation;function fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}var fromXRotation_1=fromXRotation;function fromXRotation(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}var fromYRotation_1=fromYRotation;function fromYRotation(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}var fromZRotation_1=fromZRotation;function fromZRotation(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}var fromQuat_1=fromQuat;function fromQuat(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=i+i,o=r+r,l=n+n,c=i*s,g=r*s,d=r*o,u=n*s,B=n*o,F=n*l,h=a*s,Q=a*o,U=a*l;return t[0]=1-d-F,t[1]=g+U,t[2]=u-Q,t[3]=0,t[4]=g-U,t[5]=1-c-F,t[6]=B+h,t[7]=0,t[8]=u+Q,t[9]=B-h,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}var frustum_1=frustum;function frustum(t,e,i,r,n,a,s){var o=1/(i-e),l=1/(n-r),c=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(i+e)*o,t[9]=(n+r)*l,t[10]=(s+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*c,t[15]=0,t}var perspective_1=perspective;function perspective(t,e,i,r,n){var a=1/Math.tan(e/2),s=1/(r-n);return t[0]=a/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*r*s,t[15]=0,t}var perspectiveFromFieldOfView_1=perspectiveFromFieldOfView;function perspectiveFromFieldOfView(t,e,i,r){var n=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),l=2/(s+o),c=2/(n+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(s-o)*l*.5,t[9]=(n-a)*c*.5,t[10]=r/(i-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i/(i-r),t[15]=0,t}var ortho_1=ortho;function ortho(t,e,i,r,n,a,s){var o=1/(e-i),l=1/(r-n),c=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*o,t[13]=(n+r)*l,t[14]=(s+a)*c,t[15]=1,t}var identity$4=identity$5,lookAt_1=lookAt;function lookAt(t,e,i,r){var n,a,s,o,l,c,g,d,u,B,F=e[0],h=e[1],Q=e[2],U=r[0],I=r[1],b=r[2],p=i[0],y=i[1],m=i[2];return Math.abs(F-p)<1e-6&&Math.abs(h-y)<1e-6&&Math.abs(Q-m)<1e-6?identity$4(t):(g=F-p,d=h-y,u=Q-m,n=I*(u*=B=1/Math.sqrt(g*g+d*d+u*u))-b*(d*=B),a=b*(g*=B)-U*u,s=U*d-I*g,(B=Math.sqrt(n*n+a*a+s*s))?(n*=B=1/B,a*=B,s*=B):(n=0,a=0,s=0),o=d*s-u*a,l=u*n-g*s,c=g*a-d*n,(B=Math.sqrt(o*o+l*l+c*c))?(o*=B=1/B,l*=B,c*=B):(o=0,l=0,c=0),t[0]=n,t[1]=o,t[2]=g,t[3]=0,t[4]=a,t[5]=l,t[6]=d,t[7]=0,t[8]=s,t[9]=c,t[10]=u,t[11]=0,t[12]=-(n*F+a*h+s*Q),t[13]=-(o*F+l*h+c*Q),t[14]=-(g*F+d*h+u*Q),t[15]=1,t)}var str_1=str;function str(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}var glMat4={create:create_1,clone:clone_1,copy:copy_1,identity:identity$5,transpose:transpose_1,invert:invert_1,adjoint:adjoint_1,determinant:determinant_1,multiply:multiply_1,translate:translate_1,scale:scale_1,rotate:rotate_1,rotateX:rotateX_1,rotateY:rotateY_1,rotateZ:rotateZ_1,fromRotation:fromRotation_1,fromRotationTranslation:fromRotationTranslation_1,fromScaling:fromScaling_1,fromTranslation:fromTranslation_1,fromXRotation:fromXRotation_1,fromYRotation:fromYRotation_1,fromZRotation:fromZRotation_1,fromQuat:fromQuat_1,frustum:frustum_1,perspective:perspective_1,perspectiveFromFieldOfView:perspectiveFromFieldOfView_1,ortho:ortho_1,lookAt:lookAt_1,str:str_1};!function(t){var e=glMat4;t.init2dArray=function(t,e){for(var i=new Array(t),r=0;r<t;r++)i[r]=new Array(e);return i},t.transposeRagged=function(t){var e,i,r=0,n=t.length;for(e=0;e<n;e++)r=Math.max(r,t[e].length);var a=new Array(r);for(e=0;e<r;e++)for(a[e]=new Array(n),i=0;i<n;i++)a[e][i]=t[i][e];return a},t.dot=function(e,i){if(!e.length||!i.length||e.length!==i.length)return null;var r,n,a=e.length;if(e[0].length)for(r=new Array(a),n=0;n<a;n++)r[n]=t.dot(e[n],i);else if(i[0].length){var s=t.transposeRagged(i);for(r=new Array(s.length),n=0;n<s.length;n++)r[n]=t.dot(e,s[n])}else for(r=0,n=0;n<a;n++)r+=e[n]*i[n];return r},t.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},t.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},t.rotationXYMatrix=function(e,i,r){return t.dot(t.dot(t.translationMatrix(i,r),t.rotationMatrix(e)),t.translationMatrix(-i,-r))},t.apply3DTransform=function(e){return function(){var i=arguments,r=1===arguments.length?i[0]:[i[0],i[1],i[2]||0];return t.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},t.apply2DTransform=function(e){return function(){var i=arguments;3===i.length&&(i=i[0]);var r=1===arguments.length?i[0]:[i[0],i[1]];return t.dot(e,[r[0],r[1],1]).slice(0,2)}},t.apply2DTransform2=function(e){var i=t.apply2DTransform(e);return function(t){return i(t.slice(0,2)).concat(i(t.slice(2,4)))}},t.convertCssMatrix=function(t){if(t){var e=t.length;if(16===e)return t;if(6===e)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.inverseTransformMatrix=function(t){var i=[];return e.invert(i,t),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}}(matrix$1);var d3$u=d3Exports,loggers=loggersExports,matrix=matrix$1,mat4X4=glMat4;function getGraphDiv$2(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null==t)throw new Error("DOM element provided is null or undefined");return t}function isPlotDiv(t){var e=d3$u.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")}function removeElement$1(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function addStyleRule(t,e){addRelatedStyleRule("global",t,e)}function addRelatedStyleRule(t,e,i){var r="plotly.js-style-"+t,n=document.getElementById(r);if(!n||!n.matches(".no-inline-styles")){n||((n=document.createElement("style")).setAttribute("id",r),n.appendChild(document.createTextNode("")),document.head.appendChild(n));var a=n.sheet;a?a.insertRule?a.insertRule(e+"{"+i+"}",0):a.addRule?a.addRule(e,i,0):loggers.warn("addStyleRule failed"):loggers.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function deleteRelatedStyleRule(t){var e="plotly.js-style-"+t,i=document.getElementById(e);i&&removeElement$1(i)}function setStyleOnHover(t,e,i,r,n,a){var s=r.split(":"),o=n.split(":"),l="data-btn-style-event-added";a||(a=document),a.querySelectorAll(t).forEach(function(t){t.getAttribute(l)||(t.addEventListener("mouseenter",function(){var t=this.querySelector(i);t&&(t.style[s[0]]=s[1])}),t.addEventListener("mouseleave",function(){var t=this.querySelector(i);t&&(e&&this.matches(e)?t.style[s[0]]=s[1]:t.style[o[0]]=o[1])}),t.setAttribute(l,!0))})}function getFullTransformMatrix(t){var e=getElementAndAncestors(t),i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach(function(t){var e=getElementTransformMatrix(t);if(e){var r=matrix.convertCssMatrix(e);i=mat4X4.multiply(i,i,r)}}),i}function getElementTransformMatrix(t){var e=window.getComputedStyle(t,null),i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");return"none"===i?null:i.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(t){return+t})}function getElementAndAncestors(t){for(var e=[];isTransformableElement(t);)e.push(t),t=t.parentNode,"function"==typeof ShadowRoot&&t instanceof ShadowRoot&&(t=t.host);return e}function isTransformableElement(t){return t&&(t instanceof Element||t instanceof HTMLElement)}function equalDomRects(t,e){return t&&e&&t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}var dom={getGraphDiv:getGraphDiv$2,isPlotDiv:isPlotDiv,removeElement:removeElement$1,addStyleRule:addStyleRule,addRelatedStyleRule:addRelatedStyleRule,deleteRelatedStyleRule:deleteRelatedStyleRule,setStyleOnHover:setStyleOnHover,getFullTransformMatrix:getFullTransformMatrix,getElementTransformMatrix:getElementTransformMatrix,getElementAndAncestors:getElementAndAncestors,equalDomRects:equalDomRects},animation_attributes={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none",description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none",description:"The easing function used for the transition"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none",description:["Determines whether the figure's layout or traces smoothly transitions","during updates that make both traces and layout change."].join(" ")}}},extendFlat$j=extend.extendFlat,isPlainObject$3=is_plain_object,traceOpts={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* (re)plots but without first clearing `gd.calcdata`.","*style* only calls `module.style` (or module.editStyle) for all trace modules and redraws the legend.","*markerSize* is like *style*, but propagate axis-range changes due to scatter `marker.size`","*colorbars* only redraws colorbars."].join(" ")},layoutOpts={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*plot* (re)plots but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*axrange* minimal sequence when updating axis ranges.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed.","*colorbars* only redraws colorbars."].join(" ")},traceEditTypeFlags=traceOpts.flags.slice().concat(["fullReplot"]),layoutEditTypeFlags=layoutOpts.flags.slice().concat("layoutReplot"),edit_types={traces:traceOpts,layout:layoutOpts,traceFlags:function(){return falseObj(traceEditTypeFlags)},layoutFlags:function(){return falseObj(layoutEditTypeFlags)},update:function(t,e){var i=e.editType;if(i&&"none"!==i)for(var r=i.split("+"),n=0;n<r.length;n++)t[r[n]]=!0},overrideAll:overrideAll$b};function falseObj(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=!1;return e}function overrideAll$b(t,e,i){var r=extendFlat$j({},t);for(var n in r){var a=r[n];isPlainObject$3(a)&&(r[n]=overrideOne(a,e,i,n))}return"from-root"===i&&(r.editType=e),r}function overrideOne(t,e,i,r){if(t.valType){var n=extendFlat$j({},t);if(n.editType=e,Array.isArray(t.items)){n.items=new Array(t.items.length);for(var a=0;a<t.items.length;a++)n.items[a]=overrideOne(t.items[a],e)}return n}return overrideAll$b(t,e,"_"===r.charAt(0)?"nested":"from-root")}var attributes$J={};attributes$J.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")},attributes$J.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style",description:["Sets the shape of the pattern fill.","By default, no pattern is used for filling the area."].join(" ")},path:{valType:"string",arrayOk:!0,editType:"style",description:["Sets a custom path for pattern fill.","Use with no `shape` or `solidity`, provide an SVG path string for","the regions of the square from (0,0) to (`size`,`size`) to color."].join(" ")},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style",description:["Determines whether `marker.color` should be used","as a default to `bgcolor` or a `fgcolor`."].join(" ")},bgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of background pattern fill.","Defaults to a `marker.color` background when `fillmode` is *overlay*.","Otherwise, defaults to a transparent background."].join(" ")},fgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of foreground pattern fill.","Defaults to a `marker.color` background when `fillmode` is *replace*.","Otherwise, defaults to dark grey or white","to increase contrast with the `bgcolor`."].join(" ")},fgopacity:{valType:"number",editType:"style",min:0,max:1,description:["Sets the opacity of the foreground pattern fill.","Defaults to a 0.5 when `fillmode` is *overlay*.","Otherwise, defaults to 1."].join(" ")},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style",description:["Sets the size of unit squares of the pattern fill in pixels,","which corresponds to the interval of repetition of the pattern."].join(" ")},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style",description:["Sets the solidity of the pattern fill.","Solidity is roughly the fraction of the area filled by the pattern.","Solidity of 0 shows only the background color without pattern","and solidty of 1 shows only the foreground color without pattern."].join(" ")},editType:"style",description:["Sets the pattern within the marker."].join(" ")};var template_attributes={},docs$2={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"},docs$1=docs$2,FORMAT_LINK$1=docs$1.FORMAT_LINK,DATE_FORMAT_LINK$1=docs$1.DATE_FORMAT_LINK;function templateFormatStringDescription$1(t){return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(t&&t.supportOther?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),'Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',FORMAT_LINK$1,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',DATE_FORMAT_LINK$1,"for details on the date formatting syntax."].join(" ")}function shapeTemplateFormatStringDescription(){return["Variables are inserted using %{variable},",'for example "x0: %{x0}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{x0:$.2f}". See',FORMAT_LINK$1,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{x0|%m %b %Y}". See',DATE_FORMAT_LINK$1,"for details on the date formatting syntax.","A single multiplication or division operation may be applied to numeric variables, and combined with",'d3 number formatting, for example "Length in cm: %{x0*2.54}", "%{slope*60:.1f} meters per second."',"For log axes, variable values are given in log units.","For date axes, x/y coordinate variables and center variables use datetimes, while all other variable values use values in ms."].join(" ")}function describeVariables(t){var e=t.description?" "+t.description:"",i=t.keys||[];if(i.length>0){for(var r=[],n=0;n<i.length;n++)r[n]="`"+i[n]+"`";e+="Finally, the template string has access to ",e=1===i.length?e+"variable "+r[0]:e+"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return e}function d2l(t,e){return e?e.d2l(t):t}function l2d(t,e){return e?e.l2d(t):t}function x0Fn(t){return t.x0}function x1Fn(t){return t.x1}function y0Fn(t){return t.y0}function y1Fn(t){return t.y1}function x0shiftFn(t){return t.x0shift||0}function x1shiftFn(t){return t.x1shift||0}function y0shiftFn(t){return t.y0shift||0}function y1shiftFn(t){return t.y1shift||0}function dxFn(t,e){return d2l(t.x1,e)+x1shiftFn(t)-d2l(t.x0,e)-x0shiftFn(t)}function dyFn(t,e,i){return d2l(t.y1,i)+y1shiftFn(t)-d2l(t.y0,i)-y0shiftFn(t)}function widthFn(t,e){return Math.abs(dxFn(t,e))}function heightFn(t,e,i){return Math.abs(dyFn(t,e,i))}function lengthFn(t,e,i){return"line"!==t.type?void 0:Math.sqrt(Math.pow(dxFn(t,e),2)+Math.pow(dyFn(t,e,i),2))}function xcenterFn(t,e){return l2d((d2l(t.x1,e)+x1shiftFn(t)+d2l(t.x0,e)+x0shiftFn(t))/2,e)}function ycenterFn(t,e,i){return l2d((d2l(t.y1,i)+y1shiftFn(t)+d2l(t.y0,i)+y0shiftFn(t))/2,i)}function slopeFn(t,e,i){return"line"!==t.type?void 0:dyFn(t,e,i)/dxFn(t,e)}template_attributes.templateFormatStringDescription=templateFormatStringDescription$1,template_attributes.hovertemplateAttrs=function(t,e){t=t||{};var i=describeVariables(e=e||{}),r={valType:"string",dflt:"",editType:t.editType||"none",description:["Template string used for rendering the information that appear on hover box.","Note that this will override `hoverinfo`.",templateFormatStringDescription$1({supportOther:!0}),"The variables available in `hovertemplate` are the ones emitted as event data described at this link https://plotly.com/javascript/plotlyjs-events/#event-data.","Additionally, every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",i,"Anything contained in tag `<extra>` is displayed in the secondary box, for example `<extra>%{fullData.name}</extra>`.","To hide the secondary box completely, use an empty tag `<extra></extra>`."].join(" ")};return!1!==t.arrayOk&&(r.arrayOk=!0),r},template_attributes.texttemplateAttrs=function(t,e){t=t||{};var i=describeVariables(e=e||{}),r={valType:"string",dflt:"",editType:t.editType||"calc",description:["Template string used for rendering the information text that appear on points.","Note that this will override `textinfo`.",templateFormatStringDescription$1(),"Every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",i].join(" ")};return!1!==t.arrayOk&&(r.arrayOk=!0),r},template_attributes.shapeTexttemplateAttrs=function(t,e){e=e||{};var i=(t=t||{}).newshape?"new ":"",r=describeVariables(e);return{valType:"string",dflt:"",editType:t.editType||"arraydraw",description:["Template string used for rendering the "+i+"shape's label.","Note that this will override `text`.",shapeTemplateFormatStringDescription(),r].join(" ")}};var label_texttemplate={x0:x0Fn,x1:x1Fn,y0:y0Fn,y1:y1Fn,slope:slopeFn,dx:dxFn,dy:dyFn,width:widthFn,height:heightFn,length:lengthFn,xcenter:xcenterFn,ycenter:ycenterFn},overrideAll$a=edit_types.overrideAll,basePlotAttributes$1=attributes$L,fontAttrs$d=requireFont_attributes(),dash$5=attributes$J.dash,extendFlat$i=extend.extendFlat,shapeTexttemplateAttrs$1=template_attributes.shapeTexttemplateAttrs,shapeLabelTexttemplateVars$2=label_texttemplate,attributes$I=overrideAll$a({newshape:{visible:extendFlat$i({},basePlotAttributes$1.visible,{description:["Determines whether or not new shape is visible.","If *legendonly*, the shape is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")}),showlegend:{valType:"boolean",dflt:!1,description:["Determines whether or not new","shape is shown in the legend."].join(" ")},legend:extendFlat$i({},basePlotAttributes$1.legend,{description:["Sets the reference to a legend to show new shape in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")}),legendgroup:extendFlat$i({},basePlotAttributes$1.legendgroup,{description:["Sets the legend group for new shape.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")}),legendgrouptitle:{text:extendFlat$i({},basePlotAttributes$1.legendgrouptitle.text,{}),font:fontAttrs$d({description:["Sets this legend group's title font."].join(" ")})},legendrank:extendFlat$i({},basePlotAttributes$1.legendrank,{description:["Sets the legend rank for new shape.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items."].join(" ")}),legendwidth:extendFlat$i({},basePlotAttributes$1.legendwidth,{description:"Sets the width (in px or fraction) of the legend for new shape."}),line:{color:{valType:"color",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:0,dflt:4,description:"Sets the line width (in px)."},dash:extendFlat$i({},dash$5,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:["Sets the color filling new shapes' interior.","Please note that if using a fillcolor with alpha greater than half,","drag inside the active shape starts moving the shape underneath,","otherwise a new shape could be started over."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",description:["Determines the path's interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:"Sets the opacity of new shapes."},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",description:["Specifies whether new shapes are drawn below gridlines (*below*),","between gridlines and traces (*between*) or above traces (*above*)."].join(" ")},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",description:["When `dragmode` is set to *drawrect*, *drawline* or *drawcircle*","this limits the drag to be horizontal, vertical or diagonal.","Using *diagonal* there is no limit e.g. in drawing lines in any direction.","*ortho* limits the draw to be either horizontal or vertical.","*horizontal* allows horizontal extend.","*vertical* allows vertical extend."].join(" ")},name:extendFlat$i({},basePlotAttributes$1.name,{description:["Sets new shape name.","The name appears as the legend item."].join(" ")}),label:{text:{valType:"string",dflt:"",description:["Sets the text to display with the new shape.","It is also used for legend item if `name` is not provided."].join(" ")},texttemplate:shapeTexttemplateAttrs$1({newshape:!0},{keys:Object.keys(shapeLabelTexttemplateVars$2)}),font:fontAttrs$d({description:"Sets the new shape label text font."}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],description:["Sets the position of the label text relative to the new shape.","Supported values for rectangles, circles and paths are","*top left*, *top center*, *top right*, *middle left*,","*middle center*, *middle right*, *bottom left*, *bottom center*,","and *bottom right*.","Supported values for lines are *start*, *middle*, and *end*.","Default: *middle center* for rectangles, circles, and paths; *middle* for lines."].join(" ")},textangle:{valType:"angle",dflt:"auto",description:["Sets the angle at which the label text is drawn","with respect to the horizontal. For lines, angle *auto*","is the same angle as the line. For all other shapes,","angle *auto* is horizontal."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",description:["Sets the label's horizontal position anchor","This anchor binds the specified `textposition` to the *left*, *center*","or *right* of the label text.","For example, if `textposition` is set to *top right* and","`xanchor` to *right* then the right-most portion of the","label text lines up with the right-most edge of the","new shape."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets the label's vertical position anchor","This anchor binds the specified `textposition` to the *top*, *middle*","or *bottom* of the label text.","For example, if `textposition` is set to *top right* and","`yanchor` to *top* then the top-most portion of the","label text lines up with the top-most edge of the","new shape."].join(" ")},padding:{valType:"number",dflt:3,min:0,description:"Sets padding (in px) between edge of label and edge of new shape."}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,description:"Sets the opacity of the active shape."}}},"none","from-root"),dash$4=attributes$J.dash,extendFlat$h=extend.extendFlat,attributes$H={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none",description:["Describes how a new selection is created.","If `immediate`, a new selection is created after first mouse up.","If `gradual`, a new selection is not created after first mouse.","By adding to and subtracting from the initial selection,","this option allows declaring extra outlines of the selection."].join(" ")},line:{color:{valType:"color",editType:"none",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:1,dflt:1,editType:"none",description:"Sets the line width (in px)."},dash:extendFlat$h({},dash$4,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none",description:"Sets the color filling the active selection' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none",description:"Sets the opacity of the active selection."},editType:"none"}},pad_attributes=function(t){var e=t.editType;return{t:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the left side of the component."},editType:e}},fontAttrs$c=requireFont_attributes(),animationAttrs$2=animation_attributes,colorAttrs$5=attributes$K,drawNewShapeAttrs=attributes$I,drawNewSelectionAttrs=attributes$H,padAttrs$2=pad_attributes,extendFlat$g=extend.extendFlat,globalFont=fontAttrs$c({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});globalFont.family.dflt='"Open Sans", verdana, arial, sans-serif',globalFont.size.dflt=12,globalFont.color.dflt=colorAttrs$5.defaultLine;var layout_attributes$5={font:globalFont,title:{text:{valType:"string",editType:"layoutstyle",description:"Sets the plot's title."},font:fontAttrs$c({editType:"layoutstyle",description:"Sets the title font."}),subtitle:{text:{valType:"string",editType:"layoutstyle",description:"Sets the plot's subtitle."},font:fontAttrs$c({editType:"layoutstyle",description:"Sets the subtitle font."}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle",description:["Sets the x position with respect to `xref` in normalized","coordinates from *0* (left) to *1* (right)."].join(" ")},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle",description:["Sets the y position with respect to `yref` in normalized","coordinates from *0* (bottom) to *1* (top).","*auto* places the baseline of the title onto the","vertical center of the top margin."].join(" ")},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle",description:["Sets the title's horizontal alignment with respect to its x position.","*left* means that the title starts at x,","*right* means that the title ends at x","and *center* means that the title's center is at x.","*auto* divides `xref` by three and calculates the `xanchor`","value automatically based on the value of `x`."].join(" ")},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle",description:["Sets the title's vertical alignment with respect to its y position.","*top* means that the title's cap line is at y,","*bottom* means that the title's baseline is at y","and *middle* means that the title's midline is at y.","*auto* divides `yref` by three and calculates the `yanchor`","value automatically based on the value of `y`."].join(" ")},pad:extendFlat$g(padAttrs$2({editType:"layoutstyle"}),{description:["Sets the padding of the title.","Each padding value only applies when the corresponding","`xanchor`/`yanchor` value is set accordingly. E.g. for left","padding to take effect, `xanchor` must be set to *left*.","The same rule applies if `xanchor`/`yanchor` is determined automatically.","Padding is muted if the respective anchor value is *middle*/*center*."].join(" ")}),automargin:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether the title can automatically push the figure margins.","If `yref='paper'` then the margin will expand to ensure that the title doesnât","overlap with the edges of the container. If `yref='container'` then the margins","will ensure that the title doesnât overlap with the plot area, tick labels,","and axis titles. If `automargin=true` and the margins need to be expanded,","then y will be set to a default 1 and yanchor will be set to an appropriate","default to ensure that minimal margin space is needed. Note that when `yref='paper'`,","only 1 or 0 are allowed y values. Invalid values will be reset to the default 1."].join(" ")},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot",description:["Determines how the font size for various text","elements are uniformed between each trace type.","If the computed text sizes were smaller than","the minimum size defined by `uniformtext.minsize`","using *hide* option hides the text; and","using *show* option shows the text without further downscaling.","Please note that if the size defined by `minsize` is greater than","the font size defined by trace, then the `minsize` is used."].join(" ")},minsize:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the minimum text size between traces of the same type."].join(" ")},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",min:10,dflt:700,editType:"plot",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",min:10,dflt:450,editType:"plot",description:["Sets the plot's height (in px)."].join(" ")},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot",description:"Minimum width of the plot with margin.automargin applied (in px)"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot",description:"Minimum height of the plot with margin.automargin applied (in px)"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",min:0,dflt:100,editType:"plot",description:"Sets the top margin (in px)."},b:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",dflt:!0,editType:"plot",description:["Turns on/off margin expansion computations.","Legends, colorbars, updatemenus, sliders, axis rangeselector and rangeslider","are allowed to push the margins by defaults."].join(" ")},editType:"plot"},computed:{valType:"any",editType:"none",description:["Placeholder for exporting automargin-impacting values namely","`margin.t`, `margin.b`, `margin.l` and `margin.r` in *full-json* mode."].join(" ")},paper_bgcolor:{valType:"color",dflt:colorAttrs$5.background,editType:"plot",description:"Sets the background color of the paper where the graph is drawn."},plot_bgcolor:{valType:"color",dflt:colorAttrs$5.background,editType:"layoutstyle",description:["Sets the background color of the plotting area in-between x and y axes."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","This is the default value; however it could be overridden for individual axes."].join(" ")},separators:{valType:"string",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise)."].join(" ")},showlegend:{valType:"boolean",editType:"legend",description:["Determines whether or not a legend is drawn.","Default is `true` if there is a trace to show and any of these:","a) Two or more traces would by default be shown in the legend.","b) One pie trace is shown in the legend.","c) One trace is explicitly given with `showlegend: true`."].join(" ")},colorway:{valType:"colorlist",dflt:colorAttrs$5.defaults,editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",editType:"calc",description:["If provided, a changed value tells `Plotly.react` that","one or more data arrays has changed. This way you can modify","arrays in-place rather than making a complete new copy for an","incremental change.","If NOT provided, `Plotly.react` assumes that data arrays are","being treated as immutable, thus any data array with a","different identity from its predecessor contains new data."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Used to allow user interactions with the plot to persist after","`Plotly.react` calls that are unaware of these interactions.","If `uirevision` is omitted, or if it is given and it changed from","the previous `Plotly.react` call, the exact new figure is used.","If `uirevision` is truthy and did NOT change, any attribute","that has been affected by user interactions and did not receive a","different value in the new figure will keep the interaction value.","`layout.uirevision` attribute serves as the default for","`uirevision` attributes in various sub-containers. For finer","control you can set these sub-attributes directly. For example,","if your app separately controls the data on the x and y axes you","might set `xaxis.uirevision=*time*` and `yaxis.uirevision=*cost*`.","Then if only the y data is changed, you can update","`yaxis.uirevision=*quantity*` and the y axis range will reset but","the x axis range will retain any user-driven zoom."].join(" ")},editrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in `editable: true`","configuration, other than trace names and axis titles.","Defaults to `layout.uirevision`."].join(" ")},selectionrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in selected points","from all traces."].join(" ")},template:{valType:"any",editType:"calc",description:["Default attributes to be applied to the plot. Templates can be","created from existing plots using `Plotly.makeTemplate`, or","created manually. They should be objects with format:","`{layout: layoutTemplate, data: {[type]: [traceTemplate, ...]}, ...}`","`layoutTemplate` and `traceTemplate` are objects matching the","attribute structure of `layout` and a data trace. ","Trace templates are applied cyclically to traces of each type.","Container arrays (eg `annotations`) have special handling:","An object ending in `defaults` (eg `annotationdefaults`) is applied","to each array item. But if an item has a `templateitemname` key","we look in the template array for an item with matching `name` and","apply that instead. If no matching `name` is found we mark the item","invisible. Any named template item not referenced is appended to","the end of the array, so you can use this for a watermark annotation","or a logo image, for example. To omit one of these items on the plot,","make an item with matching `templateitemname` and `visible: false`."].join(" ")},newshape:drawNewShapeAttrs.newshape,activeshape:drawNewShapeAttrs.activeshape,newselection:drawNewSelectionAttrs.newselection,activeselection:drawNewSelectionAttrs.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information that can be used in various `text` attributes.","Attributes such as the graph, axis and colorbar `title.text`, annotation `text`","`trace.name` in legend items, `rangeselector`, `updatemenus` and `sliders` `label` text","all support `meta`. One can access `meta` fields using template strings:","`%{meta[i]}` where `i` is the index of the `meta`","item in question.","`meta` can also be an object for example `{key: value}` which can be accessed","%{meta[key]}."].join(" ")},transition:extendFlat$g({},animationAttrs$2.transition,{description:["Sets transition options used during Plotly.react updates."].join(" "),editType:"none"})};!function(t){var e=loggersExports,i=noop$1,r=push_unique,n=is_plain_object,a=dom.addStyleRule,s=extend,o=attributes$L,l=layout_attributes$5,c=s.extendFlat,g=s.extendDeepAll;function d(i){var r=i.name,n=i.categories,s=i.meta;if(t.modules[r])e.log("Type "+r+" already registered");else{t.subplotsRegistry[i.basePlotModule.name]||function(i){var r=i.name;if(t.subplotsRegistry[r])return void e.log("Plot type "+r+" already registered.");for(var n in h(i),t.subplotsRegistry[r]=i,t.componentsRegistry)U(n,i.name)}(i.basePlotModule);for(var o={},l=0;l<n.length;l++)o[n[l]]=!0,t.allCategories[n[l]]=!0;for(var g in t.modules[r]={_module:i,categories:o},s&&Object.keys(s).length&&(t.modules[r].meta=s),t.allTypes.push(r),t.componentsRegistry)Q(g,r);i.layoutAttributes&&c(t.traceLayoutAttributes,i.layoutAttributes);var d=i.basePlotModule,u=d.name;if("mapbox"===u){var B=d.constants.styleRules;for(var F in B)a(".js-plotly-plot .plotly .mapboxgl-"+F,B[F])}"map"===u&&require("maplibre-gl/dist/maplibre-gl.css"),"geo"!==u&&"mapbox"!==u&&"map"!==u||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function u(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");var i=e.name;for(var n in t.componentsRegistry[i]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&r(t.layoutArrayContainers,i),h(e)),t.modules)Q(i,n);for(var a in t.subplotsRegistry)U(i,a);e.schema&&e.schema.layout&&g(l,e.schema.layout)}function B(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var i="Transform module "+t.name,r="function"==typeof t.transform,a="function"==typeof t.calcTransform;if(!r&&!a)throw new Error(i+" is missing a *transform* or *calcTransform* method.");r&&a&&e.log([i+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),n(t.attributes)||e.log(i+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&e.log(i+" registered without a *supplyDefaults* method.")}function F(e){var i=e.name,r=i.split("-")[0],n=e.dictionary,a=e.format,s=n&&Object.keys(n).length,o=a&&Object.keys(a).length,l=t.localeRegistry,c=l[i];if(c||(l[i]=c={}),r!==i){var g=l[r];g||(l[r]=g={}),s&&g.dictionary===c.dictionary&&(g.dictionary=n),o&&g.format===c.format&&(g.format=a)}s&&(c.dictionary=n),o&&(c.format=a)}function h(e){if(e.layoutAttributes){var i=e.layoutAttributes._arrayAttrRegexps;if(i)for(var n=0;n<i.length;n++)r(t.layoutArrayRegexes,i[n])}}function Q(e,i){var r=t.componentsRegistry[e].schema;if(r&&r.traces){var n=r.traces[i];n&&g(t.modules[i]._module.attributes,n)}}function U(e,i){var r=t.componentsRegistry[e].schema;if(r&&r.subplots){var n=t.subplotsRegistry[i],a=n.layoutAttributes,s="subplot"===n.attr?n.name:n.attr;Array.isArray(s)&&(s=s[0]);var o=r.subplots[s];a&&o&&g(a,o)}}function I(t){return"object"==typeof t&&(t=t.type),t}t.modules={},t.allCategories={},t.allTypes=[],t.subplotsRegistry={},t.componentsRegistry={},t.layoutArrayContainers=[],t.layoutArrayRegexes=[],t.traceLayoutAttributes={},t.localeRegistry={},t.apiMethodRegistry={},t.collectableSubplotTypes=null,t.register=function(e){if(t.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":d(r);break;case"transform":B(r);break;case"component":u(r);break;case"locale":F(r);break;case"apiMethod":var n=r.name;t.apiMethodRegistry[n]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},t.getModule=function(e){var i=t.modules[I(e)];return!!i&&i._module},t.traceIs=function(i,r){if("various"===(i=I(i)))return!1;var n=t.modules[i];return n||(i&&e.log("Unrecognized trace type "+i+"."),n=t.modules[o.type.dflt]),!!n.categories[r]},t.getComponentMethod=function(e,r){var n=t.componentsRegistry[e];return n&&n[r]||i},t.call=function(){var e=arguments[0],i=[].slice.call(arguments,1);return t.apiMethodRegistry[e].apply(null,i)}}(registry$1),function(t){var e,i,r=require$$1.timeFormat,n=fastIsnumeric,a=loggersExports,s=mod_1.mod,o=numerical,l=o.BADNUM,c=o.ONEDAY,g=o.ONEHOUR,d=o.ONEMIN,u=o.ONESEC,B=o.EPOCHJD,F=registry$1,h=require$$1.utcFormat,Q=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,U=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,I=(new Date).getFullYear()-70;function b(t){return t&&F.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function p(t,e){return String(t+Math.pow(10,e)).substr(1)}t.dateTick0=function(e,i){var r=function(t,e){return b(t)?e?F.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:F.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"}(e,!!i);if(i<2)return r;var n=t.dateTime2ms(r,e);return n+=c*(i-1),t.ms2DateTime(n,0,e)},t.dfltRange=function(t){return b(t)?F.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},t.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},t.dateTime2ms=function(r,n){if(t.isJSDate(r)){var a=r.getTimezoneOffset()*d,o=(r.getUTCMinutes()-r.getMinutes())*d+(r.getUTCSeconds()-r.getSeconds())*u+(r.getUTCMilliseconds()-r.getMilliseconds());if(o){var h=3*d;a=a-h/2+s(o-a+h/2,h)}return(r=Number(r)-a)>=e&&r<=i?r:l}if("string"!=typeof r&&"number"!=typeof r)return l;r=String(r);var p=b(n),y=r.charAt(0);!p||"G"!==y&&"g"!==y||(r=r.substr(1),n="");var m=p&&"chinese"===n.substr(0,7),C=r.match(m?U:Q);if(!C)return l;var f=C[1],x=C[3]||"1",A=Number(C[5]||1),v=Number(C[7]||0),L=Number(C[9]||0),R=Number(C[11]||0);if(p){if(2===f.length)return l;var S;f=Number(f);try{var G=F.getComponentMethod("calendars","getCal")(n);if(m){var E="i"===x.charAt(x.length-1);x=parseInt(x,10),S=G.newDate(f,G.toMonthIndex(f,x,E),A)}else S=G.newDate(f,Number(x),A)}catch(t){return l}return S?(S.toJD()-B)*c+v*g+L*d+R*u:l}f=2===f.length?(Number(f)+2e3-I)%100+I:Number(f),x-=1;var V=new Date(Date.UTC(2e3,x,A,v,L));return V.setUTCFullYear(f),V.getUTCMonth()!==x||V.getUTCDate()!==A?l:V.getTime()+R*u},e=t.MIN_MS=t.dateTime2ms("-9999"),i=t.MAX_MS=t.dateTime2ms("9999-12-31 23:59:59.9999"),t.isDateTime=function(e,i){return t.dateTime2ms(e,i)!==l};var y=90*c,m=3*g,C=5*d;function f(t,e,i,r,n){if((e||i||r||n)&&(t+=" "+p(e,2)+":"+p(i,2),(r||n)&&(t+=":"+p(r,2),n))){for(var a=4;n%10==0;)a-=1,n/=10;t+="."+p(n,a)}return t}t.ms2DateTime=function(t,r,n){if("number"!=typeof t||!(t>=e&&t<=i))return l;r||(r=0);var a,o,Q,U,I,p,x=Math.floor(10*s(t+.05,1)),A=Math.round(t-x/10);if(b(n)){var v=Math.floor(A/c)+B,L=Math.floor(s(t,c));try{a=F.getComponentMethod("calendars","getCal")(n).fromJD(v).formatDate("yyyy-mm-dd")}catch(t){a=h("G%Y-%m-%d")(new Date(A))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=r<y?Math.floor(L/g):0,Q=r<y?Math.floor(L%g/d):0,U=r<m?Math.floor(L%d/u):0,I=r<C?L%u*10+x:0}else p=new Date(A),a=h("%Y-%m-%d")(p),o=r<y?p.getUTCHours():0,Q=r<y?p.getUTCMinutes():0,U=r<m?p.getUTCSeconds():0,I=r<C?10*p.getUTCMilliseconds()+x:0;return f(a,o,Q,U,I)},t.ms2DateTimeLocal=function(t){if(!(t>=e+c&&t<=i-c))return l;var n=Math.floor(10*s(t+.05,1)),a=new Date(Math.round(t-n/10));return f(r("%Y-%m-%d")(a),a.getHours(),a.getMinutes(),a.getSeconds(),10*a.getUTCMilliseconds()+n)},t.cleanDate=function(e,i,r){if(e===l)return i;if(t.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(b(r))return a.error("JS Dates and milliseconds are incompatible with world calendars",e),i;if(!(e=t.ms2DateTimeLocal(+e))&&void 0!==i)return i}else if(!t.isDateTime(e,r))return a.error("unrecognized date",e),i;return e};var x=/%\d?f/g,A=/%h/g,v={1:"1",2:"1",3:"2",4:"2"};function L(t,e,i,r){t=t.replace(x,function(t){var i=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(i).substr(2).replace(/0+$/,"")||"0"});var n=new Date(Math.floor(e+.05));if(t=t.replace(A,function(){return v[i("%q")(n)]}),b(r))try{t=F.getComponentMethod("calendars","worldCalFmt")(t,e,r)}catch(t){return"Invalid"}return i(t)(n)}var R=[59,59.9,59.99,59.999,59.9999];t.formatDate=function(t,e,i,r,a,o){if(a=b(a)&&a,!e)if("y"===i)e=o.year;else if("m"===i)e=o.month;else{if("d"!==i)return function(t,e){var i=s(t+.05,c),r=p(Math.floor(i/g),2)+":"+p(s(Math.floor(i/d),60),2);if("M"!==e){n(e)||(e=0);var a=(100+Math.min(s(t/u,60),R[e])).toFixed(e).substr(1);e>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+a}return r}(t,i)+"\n"+L(o.dayMonthYear,t,r,a);e=o.dayMonth+"\n"+o.year}return L(e,t,r,a)};var S=3*c;t.incrementMonth=function(t,e,i){i=b(i)&&i;var r=s(t,c);if(t=Math.round(t-r),i)try{var n=Math.round(t/c)+B,o=F.getComponentMethod("calendars","getCal")(i),l=o.fromJD(n);return e%12?o.add(l,e,"m"):o.add(l,e/12,"y"),(l.toJD()-B)*c+r}catch(e){a.error("invalid ms "+t+" in calendar "+i)}var g=new Date(t+S);return g.setUTCMonth(g.getUTCMonth()+e)+r-S},t.findExactDates=function(t,e){for(var i,r,a=0,s=0,o=0,l=0,g=b(e)&&F.getComponentMethod("calendars","getCal")(e),d=0;d<t.length;d++)if(r=t[d],n(r)){if(!(r%c))if(g)try{1===(i=g.fromJD(r/c+B)).day()?1===i.month()?a++:s++:o++}catch(t){}else 1===(i=new Date(r)).getUTCDate()?0===i.getUTCMonth()?a++:s++:o++}else l++;o+=s+=a;var u=t.length-l;return{exactYears:a/u,exactMonths:s/u,exactDays:o/u}}}(dates);var identity$3,hasRequiredIdentity,search={};function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,identity$3=function(t){return t}),identity$3}!function(t){var e=fastIsnumeric,i=loggersExports,r=requireIdentity(),n=numerical.BADNUM,a=1e-9;function s(t,e){return t<e}function o(t,e){return t<=e}function l(t,e){return t>e}function c(t,e){return t>=e}t.findBin=function(t,r,n){if(e(r.start))return n?Math.ceil((t-r.start)/r.size-a)-1:Math.floor((t-r.start)/r.size+a);var g,d,u=0,B=r.length,F=0,h=B>1?(r[B-1]-r[0])/(B-1):1;for(d=h>=0?n?s:o:n?c:l,t+=h*a*(n?-1:1)*(h>=0?1:-1);u<B&&F++<100;)d(r[g=Math.floor((u+B)/2)],t)?u=g+1:B=g;return F>90&&i.log("Long binary search..."),u-1},t.sorterAsc=function(t,e){return t-e},t.sorterDes=function(t,e){return e-t},t.distinctVals=function(e){var i,r=e.slice();for(r.sort(t.sorterAsc),i=r.length-1;i>-1&&r[i]===n;i--);for(var a,s=r[i]-r[0]||1,o=s/(i||1)/1e4,l=[],c=0;c<=i;c++){var g=r[c],d=g-a;void 0===a?(l.push(g),a=g):d>o&&(s=Math.min(s,d),l.push(g),a=g)}return{vals:l,minDiff:s}},t.roundUp=function(t,e,i){for(var r,n=0,a=e.length-1,s=0,o=i?0:1,l=i?1:0,c=i?Math.ceil:Math.floor;n<a&&s++<100;)e[r=c((n+a)/2)]<=t?n=r+o:a=r-l;return e[n]},t.sort=function(t,e){for(var i=0,r=0,n=1;n<t.length;n++){var a=e(t[n],t[n-1]);if(a<0?i=1:a>0&&(r=1),i&&r)return t.sort(e)}return r?t:t.reverse()},t.findIndexOfMin=function(t,e){e=e||r;for(var i,n=1/0,a=0;a<t.length;a++){var s=e(t[a]);s<n&&(n=s,i=a)}return i}}(search);var sort_object_keys=function(t){return Object.keys(t).sort()},stats={};!function(t){var e=fastIsnumeric,i=array.isArrayOrTypedArray;t.aggNums=function(r,n,a,s){var o,l;if((!s||s>a.length)&&(s=a.length),e(n)||(n=!1),i(a[0])){for(l=new Array(s),o=0;o<s;o++)l[o]=t.aggNums(r,n,a[o]);a=l}for(o=0;o<s;o++)e(n)?e(a[o])&&(n=r(+n,+a[o])):n=a[o];return n},t.len=function(e){return t.aggNums(function(t){return t+1},0,e)},t.mean=function(e,i){return i||(i=t.len(e)),t.aggNums(function(t,e){return t+e},0,e)/i},t.geometricMean=function(e,i){return i||(i=t.len(e)),Math.pow(t.aggNums(function(t,e){return t*e},1,e),1/i)},t.midRange=function(e){if(void 0!==e&&0!==e.length)return(t.aggNums(Math.max,null,e)+t.aggNums(Math.min,null,e))/2},t.variance=function(i,r,n){return r||(r=t.len(i)),e(n)||(n=t.mean(i,r)),t.aggNums(function(t,e){return t+Math.pow(e-n,2)},0,i)/r},t.stdev=function(e,i,r){return Math.sqrt(t.variance(e,i,r))},t.median=function(e){var i=e.slice().sort();return t.interp(i,.5)},t.interp=function(t,i){if(!e(i))throw"n should be a finite number";if((i=i*t.length-.5)<0)return t[0];if(i>t.length-1)return t[t.length-1];var r=i%1;return r*t[Math.ceil(i)]+(1-r)*t[Math.floor(i)]}}(stats);var modModule$1=mod_1,mod$1=modModule$1.mod,modHalf=modModule$1.modHalf,PI=Math.PI,twoPI=2*PI;function deg2rad(t){return t/180*PI}function rad2deg(t){return t/PI*180}function isFullCircle(t){return Math.abs(t[1]-t[0])>twoPI-1e-14}function angleDelta(t,e){return modHalf(e-t,twoPI)}function angleDist(t,e){return Math.abs(angleDelta(t,e))}function isAngleInsideSector(t,e){if(isFullCircle(e))return!0;var i,r;e[0]<e[1]?(i=e[0],r=e[1]):(i=e[1],r=e[0]),(i=mod$1(i,twoPI))>(r=mod$1(r,twoPI))&&(r+=twoPI);var n=mod$1(t,twoPI),a=n+twoPI;return n>=i&&n<=r||a>=i&&a<=r}function isPtInsideSector(t,e,i,r){return!!isAngleInsideSector(e,r)&&(i[0]<i[1]?(n=i[0],a=i[1]):(n=i[1],a=i[0]),t>=n&&t<=a);var n,a}function _path(t,e,i,r,n,a,s){n=n||0,a=a||0;var o,l,c,g,d,u=isFullCircle([i,r]);function B(t,e){return[t*Math.cos(e)+n,a-t*Math.sin(e)]}u?(o=0,l=PI,c=twoPI):i<r?(o=i,c=r):(o=r,c=i),t<e?(g=t,d=e):(g=e,d=t);var F,h=Math.abs(c-o)<=PI?0:1;function Q(t,e,i){return"A"+[t,t]+" "+[0,h,i]+" "+B(t,e)}return u?F=null===g?"M"+B(d,o)+Q(d,l,0)+Q(d,c,0)+"Z":"M"+B(g,o)+Q(g,l,0)+Q(g,c,0)+"ZM"+B(d,o)+Q(d,l,1)+Q(d,c,1)+"Z":null===g?(F="M"+B(d,o)+Q(d,c,0),s&&(F+="L0,0Z")):F="M"+B(g,o)+"L"+B(d,o)+Q(d,c,0)+"L"+B(g,c)+Q(g,o,1)+"Z",F}function pathArc(t,e,i,r,n){return _path(null,t,e,i,r,n,0)}function pathSector(t,e,i,r,n){return _path(null,t,e,i,r,n,1)}function pathAnnulus(t,e,i,r,n,a){return _path(t,e,i,r,n,a,1)}var locationCache,workingPath,workingTextWidth,angles={deg2rad:deg2rad,rad2deg:rad2deg,angleDelta:angleDelta,angleDist:angleDist,isFullCircle:isFullCircle,isAngleInsideSector:isAngleInsideSector,isPtInsideSector:isPtInsideSector,pathArc:pathArc,pathSector:pathSector,pathAnnulus:pathAnnulus},anchor_utils={isLeftAnchor:function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},isCenterAnchor:function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},isRightAnchor:function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},isTopAnchor:function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},isMiddleAnchor:function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},isBottomAnchor:function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},geometry2d={},mod=mod_1.mod;function segmentsIntersect$1(t,e,i,r,n,a,s,o){var l=i-t,c=n-t,g=s-n,d=r-e,u=a-e,B=o-a,F=l*B-g*d;if(0===F)return null;var h=(c*B-g*u)/F,Q=(c*d-l*u)/F;return Q<0||Q>1||h<0||h>1?null:{x:t+l*h,y:e+d*h}}function perpDistance2(t,e,i,r,n){var a=r*t+n*e;if(a<0)return r*r+n*n;if(a>i){var s=r-t,o=n-e;return s*s+o*o}var l=r*e-n*t;return l*l/i}geometry2d.segmentsIntersect=segmentsIntersect$1,geometry2d.segmentDistance=function(t,e,i,r,n,a,s,o){if(segmentsIntersect$1(t,e,i,r,n,a,s,o))return 0;var l=i-t,c=r-e,g=s-n,d=o-a,u=l*l+c*c,B=g*g+d*d,F=Math.min(perpDistance2(l,c,u,n-t,a-e),perpDistance2(l,c,u,s-t,o-e),perpDistance2(g,d,B,t-n,e-a),perpDistance2(g,d,B,i-n,r-a));return Math.sqrt(F)},geometry2d.getTextLocation=function(t,e,i,r){if(t===workingPath&&r===workingTextWidth||(locationCache={},workingPath=t,workingTextWidth=r),locationCache[i])return locationCache[i];var n=t.getPointAtLength(mod(i-r/2,e)),a=t.getPointAtLength(mod(i+r/2,e)),s=Math.atan((a.y-n.y)/(a.x-n.x)),o=t.getPointAtLength(mod(i,e)),l={x:(4*o.x+n.x+a.x)/6,y:(4*o.y+n.y+a.y)/6,theta:s};return locationCache[i]=l,l},geometry2d.clearLocationCache=function(){workingPath=null},geometry2d.getVisibleSegment=function(t,e,i){var r,n,a=e.left,s=e.right,o=e.top,l=e.bottom,c=0,g=t.getTotalLength(),d=g;function u(e){var i=t.getPointAtLength(e);0===e?r=i:e===g&&(n=i);var c=i.x<a?a-i.x:i.x>s?i.x-s:0,d=i.y<o?o-i.y:i.y>l?i.y-l:0;return Math.sqrt(c*c+d*d)}for(var B=u(c);B;){if((c+=B+i)>d)return;B=u(c)}for(B=u(d);B;){if(c>(d-=B+i))return;B=u(d)}return{min:c,max:d,len:d-c,total:g,isClosed:0===c&&d===g&&Math.abs(r.x-n.x)<.1&&Math.abs(r.y-n.y)<.1}},geometry2d.findPointOnPath=function(t,e,i,r){for(var n,a,s,o=(r=r||{}).pathLength||t.getTotalLength(),l=r.tolerance||.001,c=r.iterationLimit||30,g=t.getPointAtLength(0)[i]>t.getPointAtLength(o)[i]?-1:1,d=0,u=0,B=o;d<c;){if(n=(u+B)/2,s=(a=t.getPointAtLength(n))[i]-e,Math.abs(s)<l)return a;g*s>0?B=n:u=n,d++}return a};var throttle$2={};!function(t){var e={};function i(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}t.throttle=function(t,r,n){var a=e[t],s=Date.now();if(!a){for(var o in e)e[o].ts<s-6e4&&delete e[o];a=e[t]={ts:0,timer:null}}function l(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}i(a),s>a.ts+r?l():a.timer=setTimeout(function(){l(),a.timer=null},r)},t.done=function(t){var i=e[t];return i&&i.timer?new Promise(function(t){var e=i.onDone;i.onDone=function(){e&&e(),t(),i.onDone=null}}):Promise.resolve()},t.clear=function(r){if(r)i(e[r]),delete e[r];else for(var n in e)t.clear(n)}}(throttle$2);var clear_responsive=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)},isMobile$1={exports:{}};isMobile$1.exports=isMobile,isMobile$1.exports.isMobile=isMobile,isMobile$1.exports.default=isMobile;const mobileRE=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,notMobileRE=/CrOS/,tabletRE=/android|ipad|playbook|silk/i;function isMobile(t){t||(t={});let e=t.ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;let i=mobileRE.test(e)&&!notMobileRE.test(e)||!!t.tablet&&tabletRE.test(e);return!i&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(i=!0),i}var isMobileExports=isMobile$1.exports,isNumeric$u=fastIsnumeric,isMobileOrTablet=isMobileExports,preserve_drawing_buffer=function(t){var e;if("string"!=typeof(e=t&&t.hasOwnProperty("userAgent")?t.userAgent:getUserAgent()))return!0;var i=isMobileOrTablet({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!i)for(var r=e.split(" "),n=1;n<r.length;n++){if(-1!==r[n].indexOf("Safari"))for(var a=n-1;a>-1;a--){var s=r[a];if("Version/"===s.substr(0,8)){var o=s.substr(8).split(".")[0];if(isNumeric$u(o)&&(o=+o),o>=13)return!0}}}return i};function getUserAgent(){var t;return"undefined"!=typeof navigator&&(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),t}var d3$t=d3Exports,make_trace_groups=function(t,e,i){var r=t.selectAll("g."+i.replace(/\s/g,".")).data(e,function(t){return t[0].trace.uid});r.exit().remove(),r.enter().append("g").attr("class",i),r.order();var n=t.classed("rangeplot")?"nodeRangePlot3":"node3";return r.each(function(t){t[0][n]=d3$t.select(this)}),r},Registry$M=registry$1,localize=function(t,e){for(var i=t._context.locale,r=0;r<2;r++){for(var n=t._context.locales,a=0;a<2;a++){var s=(n[i]||{}).dictionary;if(s){var o=s[e];if(o)return o}n=Registry$M.localeRegistry}var l=i.split("-")[0];if(l===i)break;i=l}return e},filter_unique=function(t){for(var e={},i=[],r=0,n=0;n<t.length;n++){var a=t[n];1!==e[a]&&(e[a]=1,i[r++]=a)}return i},filter_visible=function(t){for(var e=isCalcData(t)?calcDataFilter:baseFilter,i=[],r=0;r<t.length;r++){var n=t[r];e(n)&&i.push(n)}return i};function baseFilter(t){return!0===t.visible}function calcDataFilter(t){var e=t[0].trace;return!0===e.visible&&0!==e._length}function isCalcData(t){return Array.isArray(t)&&Array.isArray(t[0])&&t[0][0]&&t[0][0].trace}var increment=function(t,e){if(!e)return t;var i=1/Math.abs(e),r=i>1?(i*t+i*e)/i:t+e,n=String(r).length;if(n>16){var a=String(e).length;if(n>=String(t).length+a){var s=parseFloat(r).toPrecision(12);-1===s.indexOf("e+")&&(r=+s)}}return r},isNumeric$t=fastIsnumeric,BADNUM$a=numerical.BADNUM,JUNK=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g,clean_number=function(t){return"string"==typeof t&&(t=t.replace(JUNK,"")),isNumeric$t(t)?Number(t):BADNUM$a},d3$s=d3Exports,utcFormat$1=require$$1.utcFormat,d3Format=require$$2.format,isNumeric$s=fastIsnumeric,numConstants$4=numerical,MAX_SAFE=numConstants$4.FP_SAFE,MIN_SAFE=-MAX_SAFE,BADNUM$9=numConstants$4.BADNUM,lib=lib$1.exports={};lib.adjustFormat=function(t){return!t||/^\d[.]\df/.test(t)||/[.]\d%/.test(t)?t:"0.f"===t?"~f":/^\d%/.test(t)?"~%":/^\ds/.test(t)?"~s":!/^[~,.0$]/.test(t)&&/[&fps]/.test(t)?"~"+t:t};var seenBadFormats={};lib.warnBadFormat=function(t){var e=String(t);seenBadFormats[e]||(seenBadFormats[e]=1,lib.warn('encountered bad format: "'+e+'"'))},lib.noFormat=function(t){return String(t)},lib.numberFormat=function(t){var e;try{e=d3Format(lib.adjustFormat(t))}catch(e){return lib.warnBadFormat(t),lib.noFormat}return e},lib.nestedProperty=nested_property,lib.keyedContainer=keyed_container,lib.relativeAttr=relative_attr,lib.isPlainObject=is_plain_object,lib.toLogRange=to_log_range,lib.relinkPrivateKeys=relink_private;var arrayModule=array;lib.isArrayBuffer=arrayModule.isArrayBuffer,lib.isTypedArray=arrayModule.isTypedArray,lib.isArrayOrTypedArray=arrayModule.isArrayOrTypedArray,lib.isArray1D=arrayModule.isArray1D,lib.ensureArray=arrayModule.ensureArray,lib.concat=arrayModule.concat,lib.maxRowLength=arrayModule.maxRowLength,lib.minRowLength=arrayModule.minRowLength;var modModule=mod_1;lib.mod=modModule.mod,lib.modHalf=modModule.modHalf;var coerceModule=coerce;lib.valObjectMeta=coerceModule.valObjectMeta,lib.coerce=coerceModule.coerce,lib.coerce2=coerceModule.coerce2,lib.coerceFont=coerceModule.coerceFont,lib.coercePattern=coerceModule.coercePattern,lib.coerceHoverinfo=coerceModule.coerceHoverinfo,lib.coerceSelectionMarkerOpacity=coerceModule.coerceSelectionMarkerOpacity,lib.validate=coerceModule.validate;var datesModule=dates;lib.dateTime2ms=datesModule.dateTime2ms,lib.isDateTime=datesModule.isDateTime,lib.ms2DateTime=datesModule.ms2DateTime,lib.ms2DateTimeLocal=datesModule.ms2DateTimeLocal,lib.cleanDate=datesModule.cleanDate,lib.isJSDate=datesModule.isJSDate,lib.formatDate=datesModule.formatDate,lib.incrementMonth=datesModule.incrementMonth,lib.dateTick0=datesModule.dateTick0,lib.dfltRange=datesModule.dfltRange,lib.findExactDates=datesModule.findExactDates,lib.MIN_MS=datesModule.MIN_MS,lib.MAX_MS=datesModule.MAX_MS;var searchModule=search;lib.findBin=searchModule.findBin,lib.sorterAsc=searchModule.sorterAsc,lib.sorterDes=searchModule.sorterDes,lib.distinctVals=searchModule.distinctVals,lib.roundUp=searchModule.roundUp,lib.sort=searchModule.sort,lib.findIndexOfMin=searchModule.findIndexOfMin,lib.sortObjectKeys=sort_object_keys;var statsModule=stats;lib.aggNums=statsModule.aggNums,lib.len=statsModule.len,lib.mean=statsModule.mean,lib.geometricMean=statsModule.geometricMean,lib.median=statsModule.median,lib.midRange=statsModule.midRange,lib.variance=statsModule.variance,lib.stdev=statsModule.stdev,lib.interp=statsModule.interp;var matrixModule=matrix$1;lib.init2dArray=matrixModule.init2dArray,lib.transposeRagged=matrixModule.transposeRagged,lib.dot=matrixModule.dot,lib.translationMatrix=matrixModule.translationMatrix,lib.rotationMatrix=matrixModule.rotationMatrix,lib.rotationXYMatrix=matrixModule.rotationXYMatrix,lib.apply3DTransform=matrixModule.apply3DTransform,lib.apply2DTransform=matrixModule.apply2DTransform,lib.apply2DTransform2=matrixModule.apply2DTransform2,lib.convertCssMatrix=matrixModule.convertCssMatrix,lib.inverseTransformMatrix=matrixModule.inverseTransformMatrix;var anglesModule=angles;lib.deg2rad=anglesModule.deg2rad,lib.rad2deg=anglesModule.rad2deg,lib.angleDelta=anglesModule.angleDelta,lib.angleDist=anglesModule.angleDist,lib.isFullCircle=anglesModule.isFullCircle,lib.isAngleInsideSector=anglesModule.isAngleInsideSector,lib.isPtInsideSector=anglesModule.isPtInsideSector,lib.pathArc=anglesModule.pathArc,lib.pathSector=anglesModule.pathSector,lib.pathAnnulus=anglesModule.pathAnnulus;var anchorUtils=anchor_utils;lib.isLeftAnchor=anchorUtils.isLeftAnchor,lib.isCenterAnchor=anchorUtils.isCenterAnchor,lib.isRightAnchor=anchorUtils.isRightAnchor,lib.isTopAnchor=anchorUtils.isTopAnchor,lib.isMiddleAnchor=anchorUtils.isMiddleAnchor,lib.isBottomAnchor=anchorUtils.isBottomAnchor;var geom2dModule=geometry2d;lib.segmentsIntersect=geom2dModule.segmentsIntersect,lib.segmentDistance=geom2dModule.segmentDistance,lib.getTextLocation=geom2dModule.getTextLocation,lib.clearLocationCache=geom2dModule.clearLocationCache,lib.getVisibleSegment=geom2dModule.getVisibleSegment,lib.findPointOnPath=geom2dModule.findPointOnPath;var extendModule=extend;lib.extendFlat=extendModule.extendFlat,lib.extendDeep=extendModule.extendDeep,lib.extendDeepAll=extendModule.extendDeepAll,lib.extendDeepNoArrays=extendModule.extendDeepNoArrays;var loggersModule=loggersExports;lib.log=loggersModule.log,lib.warn=loggersModule.warn,lib.error=loggersModule.error;var regexModule=regex;lib.counterRegex=regexModule.counter;var throttleModule=throttle$2;lib.throttle=throttleModule.throttle,lib.throttleDone=throttleModule.done,lib.clearThrottle=throttleModule.clear;var domModule=dom;function makePtIndex2PtNumber(t){var e={};for(var i in t)for(var r=t[i],n=0;n<r.length;n++)e[r[n]]=+i;return e}function minExtend(t,e,i){var r={};"object"!=typeof e&&(e={});var n,a,s,o="pieLike"===i?-1:3,l=Object.keys(t);for(n=0;n<l.length;n++)s=t[a=l[n]],"_"!==a.charAt(0)&&"function"!=typeof s&&("module"===a?r[a]=s:Array.isArray(s)?r[a]="colorscale"===a||-1===o?s.slice():s.slice(0,o):lib.isTypedArray(s)?r[a]=-1===o?s.subarray():s.subarray(0,o):r[a]=s&&"object"==typeof s?minExtend(t[a],e[a],i):s);for(l=Object.keys(e),n=0;n<l.length;n++)"object"==typeof(s=e[a=l[n]])&&a in r&&"object"==typeof r[a]||(r[a]=s);return r}lib.getGraphDiv=domModule.getGraphDiv,lib.isPlotDiv=domModule.isPlotDiv,lib.removeElement=domModule.removeElement,lib.addStyleRule=domModule.addStyleRule,lib.addRelatedStyleRule=domModule.addRelatedStyleRule,lib.deleteRelatedStyleRule=domModule.deleteRelatedStyleRule,lib.setStyleOnHover=domModule.setStyleOnHover,lib.getFullTransformMatrix=domModule.getFullTransformMatrix,lib.getElementTransformMatrix=domModule.getElementTransformMatrix,lib.getElementAndAncestors=domModule.getElementAndAncestors,lib.equalDomRects=domModule.equalDomRects,lib.clearResponsive=clear_responsive,lib.preserveDrawingBuffer=preserve_drawing_buffer,lib.makeTraceGroups=make_trace_groups,lib._=localize,lib.notifier=notifier$1,lib.filterUnique=filter_unique,lib.filterVisible=filter_visible,lib.pushUnique=push_unique,lib.increment=increment,lib.cleanNumber=clean_number,lib.ensureNumber=function(t){return isNumeric$s(t)?(t=Number(t))>MAX_SAFE||t<MIN_SAFE?BADNUM$9:t:BADNUM$9},lib.isIndex=function(t,e){return!(void 0!==e&&t>=e)&&(isNumeric$s(t)&&t>=0&&t%1==0)},lib.noop=noop$1,lib.identity=requireIdentity(),lib.repeat=function(t,e){for(var i=new Array(e),r=0;r<e;r++)i[r]=t;return i},lib.swapAttrs=function(t,e,i,r){i||(i="x"),r||(r="y");for(var n=0;n<e.length;n++){var a=e[n],s=lib.nestedProperty(t,a.replace("?",i)),o=lib.nestedProperty(t,a.replace("?",r)),l=s.get();s.set(o.get()),o.set(l)}},lib.raiseToTop=function(t){t.parentNode.appendChild(t)},lib.cancelTransition=function(t){return t.transition().duration(0)},lib.constrain=function(t,e,i){return e>i?Math.max(i,Math.min(e,t)):Math.max(e,Math.min(i,t))},lib.bBoxIntersect=function(t,e,i){return i=i||0,t.left<=e.right+i&&e.left<=t.right+i&&t.top<=e.bottom+i&&e.top<=t.bottom+i},lib.simpleMap=function(t,e,i,r,n){for(var a=t.length,s=new Array(a),o=0;o<a;o++)s[o]=e(t[o],i,r,n);return s},lib.randstr=function t(e,i,r,n){if(r||(r=16),void 0===i&&(i=24),i<=0)return"0";var a,s,o=Math.log(Math.pow(2,i))/Math.log(r),l="";for(a=2;o===1/0;a*=2)o=Math.log(Math.pow(2,i/a))/Math.log(r)*a;var c=o-Math.floor(o);for(a=0;a<Math.floor(o);a++)l=Math.floor(Math.random()*r).toString(r)+l;c&&(s=Math.pow(r,c),l=Math.floor(Math.random()*s).toString(r)+l);var g=parseInt(l,r);return e&&e[l]||g!==1/0&&g>=Math.pow(2,i)?n>10?(lib.warn("randstr failed uniqueness"),l):t(e,i,r,(n||0)+1):l},lib.OptionControl=function(t,e){t||(t={}),e||(e="opt");var i={optionList:[],_newoption:function(r){r[e]=t,i[r.name]=r,i.optionList.push(r)}};return i["_"+e]=t,i},lib.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var i,r,n,a,s=t.length,o=2*s,l=2*e-1,c=new Array(l),g=new Array(s);for(i=0;i<l;i++)c[i]=(1-Math.cos(Math.PI*(i+1)/e))/(2*e);for(i=0;i<s;i++){for(a=0,r=0;r<l;r++)(n=i+r+1-e)<-s?n-=o*Math.round(n/o):n>=o&&(n-=o*Math.floor(n/o)),n<0?n=-1-n:n>=s&&(n=o-1-n),a+=t[n]*c[r];g[i]=a}return g},lib.syncOrAsync=function(t,e,i){var r;function n(){return lib.syncOrAsync(t,e,i)}for(;t.length;)if((r=(0,t.splice(0,1)[0])(e))&&r.then)return r.then(n);return i&&i(e)},lib.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},lib.noneOrAll=function(t,e,i){if(t){var r,n=!1,a=!0;for(r=0;r<i.length;r++)null!=t[i[r]]?n=!0:a=!1;if(n&&!a)for(r=0;r<i.length;r++)t[i[r]]=e[i[r]]}},lib.mergeArray=function(t,e,i,r){var n="function"==typeof r;if(lib.isArrayOrTypedArray(t))for(var a=Math.min(t.length,e.length),s=0;s<a;s++){var o=t[s];e[s][i]=n?r(o):o}},lib.mergeArrayCastPositive=function(t,e,i){return lib.mergeArray(t,e,i,function(t){var e=+t;return isFinite(e)&&e>0?e:0})},lib.fillArray=function(t,e,i,r){if(r=r||lib.identity,lib.isArrayOrTypedArray(t))for(var n=0;n<e.length;n++)e[n][i]=r(t[n])},lib.castOption=function(t,e,i,r){r=r||lib.identity;var n=lib.nestedProperty(t,i).get();return lib.isArrayOrTypedArray(n)?Array.isArray(e)&&lib.isArrayOrTypedArray(n[e[0]])?r(n[e[0]][e[1]]):r(n[e]):n},lib.extractOption=function(t,e,i,r){if(i in t)return t[i];var n=lib.nestedProperty(e,r).get();return Array.isArray(n)?void 0:n},lib.tagSelected=function(t,e,i){var r,n=e.selectedpoints,a=e._indexToPoints;function s(e){return void 0!==e&&e<t.length}a&&(r=makePtIndex2PtNumber(a));for(var o=0;o<n.length;o++){var l=n[o];if(lib.isIndex(l)||lib.isArrayOrTypedArray(l)&&lib.isIndex(l[0])&&lib.isIndex(l[1])){var c=r?r[l]:l,g=i?i[c]:c;s(g)&&(t[g].selected=1)}}},lib.selIndices2selPoints=function(t){var e=t.selectedpoints,i=t._indexToPoints;if(i){for(var r=makePtIndex2PtNumber(i),n=[],a=0;a<e.length;a++){var s=e[a];if(lib.isIndex(s)){var o=r[s];lib.isIndex(o)&&n.push(o)}}return n}return e},lib.getTargetArray=function(t,e){var i=e.target;if("string"==typeof i&&i){var r=lib.nestedProperty(t,i).get();return!!lib.isArrayOrTypedArray(r)&&r}return!!lib.isArrayOrTypedArray(i)&&i},lib.minExtend=minExtend,lib.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},lib.containsAny=function(t,e){for(var i=0;i<e.length;i++)if(-1!==t.indexOf(e[i]))return!0;return!1};var IS_SAFARI_REGEX=/Version\/[\d\.]+.*Safari/;lib.isSafari=function(){return IS_SAFARI_REGEX.test(window.navigator.userAgent)};var IS_IOS_REGEX=/iPad|iPhone|iPod/;lib.isIOS=function(){return IS_IOS_REGEX.test(window.navigator.userAgent)};const IS_MAC_WKWEBVIEW_REGEX=/Macintosh.+AppleWebKit.+Gecko\)$/;lib.isMacWKWebView=()=>IS_MAC_WKWEBVIEW_REGEX.test(window.navigator.userAgent);var FIREFOX_VERSION_REGEX=/Firefox\/(\d+)\.\d+/;lib.getFirefoxVersion=function(){var t=FIREFOX_VERSION_REGEX.exec(window.navigator.userAgent);if(t&&2===t.length){var e=parseInt(t[1]);if(!isNaN(e))return e}return null},lib.isD3Selection=function(t){return t instanceof d3$s.selection},lib.ensureSingle=function(t,e,i,r){var n=t.select(e+(i?"."+i:""));if(n.size())return n;var a=t.append(e);return i&&a.classed(i,!0),r&&a.call(r),a},lib.ensureSingleById=function(t,e,i,r){var n=t.select(e+"#"+i);if(n.size())return n;var a=t.append(e).attr("id",i);return r&&a.call(r),a},lib.objectFromPath=function(t,e){for(var i,r=t.split("."),n=i={},a=0;a<r.length;a++){var s=r[a],o=null,l=r[a].match(/(.*)\[([0-9]+)\]/);l?(s=l[1],o=l[2],i=i[s]=[],a===r.length-1?i[o]=e:i[o]={},i=i[o]):(a===r.length-1?i[s]=e:i[s]={},i=i[s])}return n};var dottedPropertyRegex=/^([^\[\.]+)\.(.+)?/,indexedPropertyRegex=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function notValid(t){return"__"===t.slice(0,2)}lib.expandObjectPaths=function(t){var e,i,r,n,a,s,o;if("object"==typeof t&&!Array.isArray(t))for(i in t)if(t.hasOwnProperty(i))if(e=i.match(dottedPropertyRegex)){if(n=t[i],notValid(r=e[1]))continue;delete t[i],t[r]=lib.extendDeepNoArrays(t[r]||{},lib.objectFromPath(i,lib.expandObjectPaths(n))[r])}else if(e=i.match(indexedPropertyRegex)){if(n=t[i],notValid(r=e[1]))continue;if(a=parseInt(e[2]),delete t[i],t[r]=t[r]||[],"."===e[3])o=e[4],s=t[r][a]=t[r][a]||{},lib.extendDeepNoArrays(s,lib.objectFromPath(o,lib.expandObjectPaths(n)));else{if(notValid(r))continue;t[r][a]=lib.expandObjectPaths(n)}}else{if(notValid(i))continue;t[i]=lib.expandObjectPaths(t[i])}return t},lib.numSeparate=function(t,e,i){if(i||(i=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,n=e.charAt(0),a=e.charAt(1),s=t.split("."),o=s[0],l=s.length>1?n+s[1]:"";if(a&&(s.length>1||o.length>4||i))for(;r.test(o);)o=o.replace(r,"$1"+a+"$2");return o+l},lib.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var SIMPLE_PROPERTY_REGEX=/^\w*$/;lib.templateString=function(t,e){var i={};return t.replace(lib.TEMPLATE_STRING_REGEX,function(t,r){var n;return SIMPLE_PROPERTY_REGEX.test(r)?n=e[r]:(i[r]=i[r]||lib.nestedProperty(e,r).get,n=i[r](!0)),void 0!==n?n:""})};var hovertemplateWarnings={max:10,count:0,name:"hovertemplate"};lib.hovertemplateString=function(){return templateFormatString.apply(hovertemplateWarnings,arguments)};var texttemplateWarnings={max:10,count:0,name:"texttemplate"};lib.texttemplateString=function(){return templateFormatString.apply(texttemplateWarnings,arguments)};var MULT_DIV_REGEX=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function multDivParser(t){var e=t.match(MULT_DIV_REGEX);return e?{key:e[1],op:e[2],number:Number(e[3])}:{key:t,op:null,number:null}}var texttemplateWarningsForShapes={max:10,count:0,name:"texttemplate",parseMultDiv:!0};lib.texttemplateStringForShapes=function(){return templateFormatString.apply(texttemplateWarningsForShapes,arguments)};var TEMPLATE_STRING_FORMAT_SEPARATOR=/^[:|\|]/;function templateFormatString(t,e,i){var r=this,n=arguments;return e||(e={}),t.replace(lib.TEMPLATE_STRING_REGEX,function(t,a,s){var o="_xother"===a||"_yother"===a,l="_xother_"===a||"_yother_"===a,c="xother_"===a||"yother_"===a,g="xother"===a||"yother"===a||o||c||l,d=a;(o||l)&&(d=d.substring(1)),(c||l)&&(d=d.substring(0,d.length-1));var u,B,F,h=null,Q=null;if(r.parseMultDiv){var U=multDivParser(d);d=U.key,h=U.op,Q=U.number}if(g){if(void 0===(u=e[d]))return""}else for(F=3;F<n.length;F++)if(B=n[F]){if(B.hasOwnProperty(d)){u=B[d];break}if(SIMPLE_PROPERTY_REGEX.test(d)||(u=lib.nestedProperty(B,d).get(!0)),void 0!==u)break}if(void 0!==u&&("*"===h&&(u*=Q),"/"===h&&(u/=Q)),void 0===u&&r)return r.count<r.max&&(lib.warn("Variable '"+d+"' in "+r.name+" could not be found!"),u=t),r.count===r.max&&lib.warn("Too many "+r.name+" warnings - additional warnings will be suppressed"),r.count++,t;if(s){var I;if(":"===s[0]&&(I=i?i.numberFormat:lib.numberFormat,""!==u&&(u=I(s.replace(TEMPLATE_STRING_FORMAT_SEPARATOR,""))(u))),"|"===s[0]){I=i?i.timeFormat:utcFormat$1;var b=lib.dateTime2ms(u);u=lib.formatDate(b,s.replace(TEMPLATE_STRING_FORMAT_SEPARATOR,""),!1,I)}}else{var p=d+"Label";e.hasOwnProperty(p)&&(u=e[p])}return g&&(u="("+u+")",(o||l)&&(u=" "+u),(c||l)&&(u+=" ")),u})}var char0=48,char9=57;lib.subplotSort=function(t,e){for(var i=Math.min(t.length,e.length)+1,r=0,n=0,a=0;a<i;a++){var s=t.charCodeAt(a)||0,o=e.charCodeAt(a)||0,l=s>=char0&&s<=char9,c=o>=char0&&o<=char9;if(l&&(r=10*r+s-char0),c&&(n=10*n+o-char0),!l||!c){if(r!==n)return r-n;if(s!==o)return s-o}}return n-r};var randSeed=2e9;lib.seedPseudoRandom=function(){randSeed=2e9},lib.pseudoRandom=function(){var t=randSeed;return randSeed=(69069*randSeed+1)%4294967296,Math.abs(randSeed-t)<429496729?lib.pseudoRandom():randSeed/4294967296},lib.fillText=function(t,e,i){var r=Array.isArray(i)?function(t){i.push(t)}:function(t){i.text=t},n=lib.extractOption(t,e,"htx","hovertext");if(lib.isValidTextValue(n))return r(n);var a=lib.extractOption(t,e,"tx","text");return lib.isValidTextValue(a)?r(a):void 0},lib.isValidTextValue=function(t){return t||0===t},lib.formatPercent=function(t,e){e=e||0;for(var i=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",r=0;r<e;r++)-1!==i.indexOf(".")&&(i=(i=i.replace("0%","%")).replace(".%","%"));return i},lib.isHidden=function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e},lib.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""},lib.strRotate=function(t){return t?"rotate("+t+")":""},lib.strScale=function(t){return 1!==t?"scale("+t+")":""},lib.getTextTransform=function(t){var e=t.noCenter,i=t.textX,r=t.textY,n=t.targetX,a=t.targetY,s=t.anchorX||0,o=t.anchorY||0,l=t.rotate,c=t.scale;return c?c>1&&(c=1):c=0,lib.strTranslate(n-c*(i+s),a-c*(r+o))+lib.strScale(c)+(l?"rotate("+l+(e?"":" "+i+" "+r)+")":"")},lib.setTransormAndDisplay=function(t,e){t.attr("transform",lib.getTextTransform(e)),t.style("display",e.scale?null:"none")},lib.ensureUniformFontSize=function(t,e){var i=lib.extendFlat({},e);return i.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),i},lib.join2=function(t,e,i){var r=t.length;return r>1?t.slice(0,-1).join(e)+i+t[r-1]:t.join(e)},lib.bigFont=function(t){return Math.round(1.2*t)};var firefoxVersion=lib.getFirefoxVersion(),isProblematicFirefox=null!==firefoxVersion&&firefoxVersion<86;lib.getPositionFromD3Event=function(){return isProblematicFirefox?[d3$s.event.layerX,d3$s.event.layerY]:[d3$s.event.offsetX,d3$s.event.offsetY]};var libExports=lib$1.exports,Lib$1H=libExports,rules={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var selector in rules){var fullSelector=selector.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");Lib$1H.addStyleRule(fullSelector,rules[selector])}var hasHover$1,ReflectOwnKeys,plot_api$1={},plot_api={},server=!1,isBrowser=server,hasHover_1=hasHover$1="function"==typeof commonjsGlobal.matchMedia?!commonjsGlobal.matchMedia("(hover: none)").matches:isBrowser,events$1={exports:{}},R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};function ProcessEmitWarning(t){console&&console.warn&&console.warn(t)}ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var NumberIsNaN=Number.isNaN||function(t){return t!=t};function EventEmitter$3(){EventEmitter$3.init.call(this)}events$1.exports=EventEmitter$3,events$1.exports.once=once,EventEmitter$3.EventEmitter=EventEmitter$3,EventEmitter$3.prototype._events=void 0,EventEmitter$3.prototype._eventsCount=0,EventEmitter$3.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function _getMaxListeners(t){return void 0===t._maxListeners?EventEmitter$3.defaultMaxListeners:t._maxListeners}function _addListener(t,e,i,r){var n,a,s;if(checkListener(i),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),a=t._events),s=a[e]),void 0===s)s=a[e]=i,++t._eventsCount;else if("function"==typeof s?s=a[e]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(n=_getMaxListeners(t))>0&&s.length>n&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,ProcessEmitWarning(o)}return t}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(t,e,i){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},n=onceWrapper.bind(r);return n.listener=i,r.wrapFn=n,n}function _listeners(t,e,i){var r=t._events;if(void 0===r)return[];var n=r[e];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?unwrapListeners(n):arrayClone(n,n.length)}function listenerCount(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function arrayClone(t,e){for(var i=new Array(e),r=0;r<e;++r)i[r]=t[r];return i}function spliceOne(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function unwrapListeners(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}function once(t,e){return new Promise(function(i,r){function n(i){t.removeListener(e,a),r(i)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",n),i([].slice.call(arguments))}eventTargetAgnosticAddListener(t,e,a,{once:!0}),"error"!==e&&addErrorHandlerIfEventEmitter(t,n,{once:!0})})}function addErrorHandlerIfEventEmitter(t,e,i){"function"==typeof t.on&&eventTargetAgnosticAddListener(t,"error",e,i)}function eventTargetAgnosticAddListener(t,e,i,r){if("function"==typeof t.on)r.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function n(a){r.once&&t.removeEventListener(e,n),i(a)})}}Object.defineProperty(EventEmitter$3,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(t){if("number"!=typeof t||t<0||NumberIsNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");defaultMaxListeners=t}}),EventEmitter$3.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$3.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},EventEmitter$3.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter$3.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var o=n[t];if(void 0===o)return!1;if("function"==typeof o)ReflectApply(o,this,e);else{var l=o.length,c=arrayClone(o,l);for(i=0;i<l;++i)ReflectApply(c[i],this,e)}return!0},EventEmitter$3.prototype.addListener=function(t,e){return _addListener(this,t,e,!1)},EventEmitter$3.prototype.on=EventEmitter$3.prototype.addListener,EventEmitter$3.prototype.prependListener=function(t,e){return _addListener(this,t,e,!0)},EventEmitter$3.prototype.once=function(t,e){return checkListener(e),this.on(t,_onceWrap(this,t,e)),this},EventEmitter$3.prototype.prependOnceListener=function(t,e){return checkListener(e),this.prependListener(t,_onceWrap(this,t,e)),this},EventEmitter$3.prototype.removeListener=function(t,e){var i,r,n,a,s;if(checkListener(e),void 0===(r=this._events))return this;if(void 0===(i=r[t]))return this;if(i===e||i.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(n=-1,a=i.length-1;a>=0;a--)if(i[a]===e||i[a].listener===e){s=i[a].listener,n=a;break}if(n<0)return this;0===n?i.shift():spliceOne(i,n),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},EventEmitter$3.prototype.off=EventEmitter$3.prototype.removeListener,EventEmitter$3.prototype.removeAllListeners=function(t){var e,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var n,a=Object.keys(i);for(r=0;r<a.length;++r)"removeListener"!==(n=a[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},EventEmitter$3.prototype.listeners=function(t){return _listeners(this,t,!0)},EventEmitter$3.prototype.rawListeners=function(t){return _listeners(this,t,!1)},EventEmitter$3.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):listenerCount.call(t,e)},EventEmitter$3.prototype.listenerCount=listenerCount,EventEmitter$3.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var eventsExports=events$1.exports,EventEmitter$2=eventsExports.EventEmitter,Events$3={init:function(t){if(t._ev instanceof EventEmitter$2)return t;var e=new EventEmitter$2,i=new EventEmitter$2;return t._ev=e,t._internalEv=i,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=i.on.bind(i),t._internalOnce=i.once.bind(i),t._removeInternalListener=i.removeListener.bind(i),t._removeAllInternalListeners=i.removeAllListeners.bind(i),t.emit=function(t,r){e.emit(t,r),i.emit(t,r)},"function"==typeof t.addEventListener&&t.addEventListener("wheel",()=>{},{passive:!0}),t},triggerHandler:function(t,e,i){var r=t._ev;if(r){var n=r._events[e];if(n){var a;for(n=Array.isArray(n)?n:[n],a=0;a<n.length-1;a++)s(n[a]);return s(n[a])}}function s(t){return t.listener?(r.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(r,[i]))):t.apply(r,[i])}},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}},events=Events$3,Lib$1G=libExports,dfltConfig$2=plot_config.dfltConfig;function copyArgArray(t,e){for(var i,r=[],n=0;n<e.length;n++)i=e[n],r[n]=i===t?i:"object"==typeof i?Array.isArray(i)?Lib$1G.extendDeep([],i):Lib$1G.extendDeepAll({},i):i;return r}var queue={add:function(t,e,i,r,n){var a,s;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,a),t.undoQueue.index+=1):a=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(i),a.redo.calls.push(r),a.redo.args.push(n)),t.undoQueue.queue.length>dfltConfig$2.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,i;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,i=0;i<e.undo.calls.length;i++)queue.plotDo(t,e.undo.calls[i],e.undo.args[i]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,i;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,i=0;i<e.redo.calls.length;i++)queue.plotDo(t,e.redo.calls[i],e.redo.args[i]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},plotDo:function(t,e,i){t.autoplay=!0,i=copyArgArray(t,i),e.apply(null,i)}},queue_1=queue,plot_schema={},frame_attributes={_isLinkedToArray:"frames_entry",group:{valType:"string",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",description:"A label by which to identify the frame"},traces:{valType:"any",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}};!function(t){var e=registry$1,i=libExports,r=attributes$L,n=layout_attributes$5,a=frame_attributes,s=animation_attributes,o=plot_config.configAttributes,l=edit_types,c=i.extendDeepAll,g=i.isPlainObject,d=i.isArrayOrTypedArray,u=i.nestedProperty,B=i.valObjectMeta,F="_isSubplotObj",h="_isLinkedToArray",Q="_deprecated",U=[F,h,"_arrayAttrRegexps",Q];function I(t,e,i){if(!t)return!1;if(t._isLinkedToArray)if(b(e[i]))i++;else if(i<e.length)return!1;for(;i<e.length;i++){var r=t[e[i]];if(!g(r))break;if(t=r,i===e.length-1)break;if(t._isLinkedToArray){if(!b(e[++i]))return!1}else if("info_array"===t.valType){var n=e[++i];if(!b(n))return!1;var a=t.items;if(Array.isArray(a)){if(n>=a.length)return!1;if(2===t.dimensions){if(i++,e.length===i)return t;var s=e[i];if(!b(s))return!1;t=a[n][s]}else t=a[n]}else t=a}}return t}function b(t){return t===Math.round(t)&&t>=0}function p(){var t,i,r={};for(t in c(r,n),e.subplotsRegistry){if((i=e.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(i.attr))for(var a=0;a<i.attr.length;a++)C(r,i,i.attr[a]);else C(r,i,"subplot"===i.attr?i.name:i.attr)}for(t in e.componentsRegistry){var s=(i=e.componentsRegistry[t]).schema;if(s&&(s.subplots||s.layout)){var o=s.subplots;if(o&&o.xaxis&&!o.yaxis)for(var l in o.xaxis)delete r.yaxis[l];delete r.xaxis.shift,delete r.xaxis.autoshift}else"colorscale"===i.name?c(r,i.layoutAttributes):i.layoutAttributes&&f(r,i.layoutAttributes,i.name)}return{layoutAttributes:m(r)}}function y(){var t={frames:c({},a)};return m(t),t.frames}function m(e){return function(e){function i(t){return{valType:"string",description:"Sets the source reference on Chart Studio Cloud for `"+t+"`.",editType:"none"}}function r(e,r,n){t.isValObject(e)?!0!==e.arrayOk&&"data_array"!==e.valType||(n[r+"src"]=i(r)):g(e)&&(e.role="object")}t.crawl(e,r)}(e),function(e){function i(t,e,i){if(t){var r=t[h];r&&(delete t[h],i[e]={items:{}},i[e].items[r]=t,i[e].role="object")}}t.crawl(e,i)}(e),function(t){function e(t){for(var i in t)if(g(t[i]))e(t[i]);else if(Array.isArray(t[i]))for(var r=0;r<t[i].length;r++)e(t[i][r]);else t[i]instanceof RegExp&&(t[i]=t[i].toString())}e(t)}(e),e}function C(t,e,i){var r=u(t,i),n=c({},e.layoutAttributes);n[F]=!0,r.set(n)}function f(t,e,i){var r=u(t,i);r.set(c(r.get()||{},e))}t.IS_SUBPLOT_OBJ=F,t.IS_LINKED_TO_ARRAY=h,t.DEPRECATED=Q,t.UNDERSCORE_ATTRS=U,t.get=function(){var i={};return e.allTypes.forEach(function(n){i[n]=function(i){var n,a;n=e.modules[i]._module,a=n.basePlotModule;var s={type:null},o=c({},r),l=c({},n.attributes);t.crawl(l,function(t,e,i,r,n){u(o,n).set(void 0),void 0===t&&u(l,n).set(void 0)}),c(s,o),e.traceIs(i,"noOpacity")&&delete s.opacity;e.traceIs(i,"showLegend")||(delete s.showlegend,delete s.legendgroup);e.traceIs(i,"noHover")&&(delete s.hoverinfo,delete s.hoverlabel);n.selectPoints||delete s.selectedpoints;c(s,l),a.attributes&&c(s,a.attributes);s.type=i;var g={meta:n.meta||{},categories:n.categories||{},animatable:Boolean(n.animatable),type:i,attributes:m(s)};if(n.layoutAttributes){var d={};c(d,n.layoutAttributes),g.layoutAttributes=m(d)}n.animatable||t.crawl(g,function(e){t.isValObject(e)&&"anim"in e&&delete e.anim});return g}(n)}),{defs:{valObjects:B,metaKeys:U.concat(["description","role","editType","impliedEdits"]),editType:{traces:l.traces,layout:l.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:i,layout:p(),frames:y(),animation:m(s),config:m(o)}},t.crawl=function(e,i,r,n){var a=r||0;n=n||"",Object.keys(e).forEach(function(r){var s=e[r];if(-1===U.indexOf(r)){var o=(n?n+".":"")+r;i(s,r,e,a,o),t.isValObject(s)||g(s)&&"impliedEdits"!==r&&t.crawl(s,i,a+1,o)}})},t.isValObject=function(t){return t&&void 0!==t.valType},t.findArrayAttributes=function(e){var i,n,a=[],s=[],o=[];function l(t,e,r,n){s=s.slice(0,n).concat([e]),o=o.slice(0,n).concat([t&&t._isLinkedToArray]),t&&("data_array"===t.valType||!0===t.arrayOk)&&!("colorbar"===s[n-1]&&("ticktext"===e||"tickvals"===e))&&c(i,0,"")}function c(t,e,i){var r=t[s[e]],l=i+s[e];if(e===s.length-1)d(r)&&a.push(n+l);else if(o[e]){if(Array.isArray(r))for(var u=0;u<r.length;u++)g(r[u])&&c(r[u],e+1,l+"["+u+"].")}else g(r)&&c(r,e+1,l+".")}return i=e,n="",t.crawl(r,l),e._module&&e._module.attributes&&t.crawl(e._module.attributes,l),a},t.getTraceValObject=function(t,i){var n,a,s=i[0],o=t._module;if(o||(o=(e.modules[t.type||r.type.dflt]||{})._module),!o)return!1;if(!(a=(n=o.attributes)&&n[s])){var l=o.basePlotModule;l&&l.attributes&&(a=l.attributes[s])}return a||(a=r[s]),I(a,i,1)},t.getLayoutValObject=function(t,i){var r=function(t,i){var r,a,s,o,l=t._basePlotModules;if(l){var c;for(r=0;r<l.length;r++){if((s=l[r]).attrRegex&&s.attrRegex.test(i)){if(s.layoutAttrOverrides)return s.layoutAttrOverrides;!c&&s.layoutAttributes&&(c=s.layoutAttributes)}var g=s.baseLayoutAttrOverrides;if(g&&i in g)return g[i]}if(c)return c}var d=t._modules;if(d)for(r=0;r<d.length;r++)if((o=d[r].layoutAttributes)&&i in o)return o[i];for(a in e.componentsRegistry){if("colorscale"===(s=e.componentsRegistry[a]).name&&0===i.indexOf("coloraxis"))return s.layoutAttributes[i];if(!s.schema&&i===s.name)return s.layoutAttributes}return i in n&&n[i]}(t,i[0]);return I(r,i,1)}}(plot_schema);var plots$2={exports:{}},plot_template={},Lib$1F=libExports,plotAttributes$1=attributes$L,TEMPLATEITEMNAME="templateitemname",templateAttrs={name:{valType:"string",editType:"none",description:["When used in a template, named items are created in the output figure","in addition to any items the figure already has in this array.","You can modify these items in the output figure by making your own","item with `templateitemname` matching this `name`","alongside your modifications (including `visible: false` or","`enabled: false` to hide it).","Has no effect outside of a template."].join(" ")}};function validItemName(t){return t&&"string"==typeof t}function arrayDefaultKey(t){var e=t.length-1;return"s"!==t.charAt(e)&&Lib$1F.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}templateAttrs[TEMPLATEITEMNAME]={valType:"string",editType:"calc",description:["Used to refer to a named item in this array in the template. Named","items from the template will be created even without a matching item","in the input figure, but you can modify one by making an item with","`templateitemname` matching its `name`, alongside your modifications","(including `visible: false` or `enabled: false` to hide it).","If there is no template or no matching item, this item will be","hidden unless you explicitly show it with `visible: true`."].join(" ")},plot_template.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=templateAttrs.name,e[TEMPLATEITEMNAME]=templateAttrs[TEMPLATEITEMNAME],e},plot_template.traceTemplater=function(t){var e,i,r={};for(e in t)i=t[e],Array.isArray(i)&&i.length&&(r[e]=0);return{newTrace:function(n){var a={type:e=Lib$1F.coerce(n,{},plotAttributes$1,"type"),_template:null};if(e in r){i=t[e];var s=r[e]%i.length;r[e]++,a._template=i[s]}return a}}},plot_template.newContainer=function(t,e,i){var r=t._template,n=r&&(r[e]||i&&r[i]);return Lib$1F.isPlainObject(n)||(n=null),t[e]={_template:n}},plot_template.arrayTemplater=function(t,e,i){var r=t._template,n=r&&r[arrayDefaultKey(e)],a=r&&r[e];Array.isArray(a)&&a.length||(a=[]);var s={};return{newItem:function(t){var e={name:t.name,_input:t},r=e[TEMPLATEITEMNAME]=t[TEMPLATEITEMNAME];if(!validItemName(r))return e._template=n,e;for(var o=0;o<a.length;o++){var l=a[o];if(l.name===r)return s[r]=1,e._template=l,e}return e[i]=t[i]||!1,e._template=!1,e},defaultItems:function(){for(var t=[],e=0;e<a.length;e++){var i=a[e],r=i.name;if(validItemName(r)&&!s[r]){var n={_template:i,name:r,_input:{_templateitemname:r}};n[TEMPLATEITEMNAME]=i[TEMPLATEITEMNAME],t.push(n),s[r]=1}}return t}}},plot_template.arrayDefaultKey=arrayDefaultKey,plot_template.arrayEditor=function(t,e,i){var r=(Lib$1F.nestedProperty(t,e).get()||[]).length,n=i._index,a=n>=r&&(i._input||{})._templateitemname;a&&(n=r);var s,o=e+"["+n+"]";function l(){s={},a&&(s[o]={},s[o][TEMPLATEITEMNAME]=a)}function c(t,e){a?Lib$1F.nestedProperty(s[o],t).set(e):s[o+"."+t]=e}function g(){var t=s;return l(),t}return l(),{modifyBase:function(t,e){s[t]=e},modifyItem:c,getUpdateObj:g,applyUpdate:function(e,i){e&&c(e,i);var r=g();for(var n in r)Lib$1F.nestedProperty(t,n).set(r[n])}}};var axis_ids$1={},counterRegex$2=regex.counter,constants$K={idRegex:{x:counterRegex$2("x","( domain)?"),y:counterRegex$2("y","( domain)?")},attrRegex:counterRegex$2("[xy]axis"),xAxisMatch:counterRegex$2("xaxis"),yAxisMatch:counterRegex$2("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"};function clearOutlineControllers$3(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()}function clearOutline$5(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._outlining=!1}!function(t){var e=registry$1,i=constants$K;function r(t,e){if(e&&e.length)for(var i=0;i<e.length;i++)if(e[i][t])return!0;return!1}t.id2name=function(t){if("string"==typeof t&&t.match(i.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},t.name2id=function(t){if(t.match(i.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},t.cleanId=function(t,e,r){var n=/( domain)$/.test(t);if("string"==typeof t&&t.match(i.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!n||r)){var a=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===a&&(a=""),t.charAt(0)+a+(n&&r?" domain":"")}},t.list=function(e,i,r){var n=e._fullLayout;if(!n)return[];var a,s=t.listIds(e,i),o=new Array(s.length);for(a=0;a<s.length;a++){var l=s[a];o[a]=n[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var c=n._subplots.gl3d||[];for(a=0;a<c.length;a++){var g=n[c[a]];i?o.push(g[i+"axis"]):o.push(g.xaxis,g.yaxis,g.zaxis)}}return o},t.listIds=function(t,e){var i=t._fullLayout;if(!i)return[];var r=i._subplots;return e?r[e+"axis"]:r.xaxis.concat(r.yaxis)},t.getFromId=function(e,i,r){var n=e._fullLayout;return i=void 0===i||"string"!=typeof i?i:i.replace(" domain",""),"x"===r?i=i.replace(/y[0-9]*/,""):"y"===r&&(i=i.replace(/x[0-9]*/,"")),n[t.id2name(i)]},t.getFromTrace=function(i,r,n){var a=i._fullLayout,s=null;if(e.traceIs(r,"gl3d")){var o=r.scene;"scene"===o.substr(0,5)&&(s=a[o][n+"axis"])}else s=t.getFromId(i,r[n+"axis"]||n);return s},t.idSort=function(t,e){var i=t.charAt(0),r=e.charAt(0);return i!==r?i>r?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},t.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},t.isLinked=function(t,e){return r(e,t._axisMatchGroups)||r(e,t._axisConstraintGroups)}}(axis_ids$1);var handle_outline={clearOutlineControllers:clearOutlineControllers$3,clearOutline:clearOutline$5},layout_attributes$4={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc",description:["Determines how scatter points at the same location coordinate","are displayed on the graph.","With *group*, the scatter points are plotted next to one another","centered around the shared location.","With *overlay*, the scatter points are plotted over one another,","you might need to reduce *opacity* to see multiple scatter points."].join(" ")},scattergap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between scatter points of","adjacent location coordinates.","Defaults to `bargap`."].join(" ")}},get_data={},Registry$L=registry$1;constants$K.SUBPLOT_PATTERN,get_data.getSubplotCalcData=function(t,e,i){var r=Registry$L.subplotsRegistry[e];if(!r)return[];for(var n=r.attr,a=[],s=0;s<t.length;s++){var o=t[s];o[0].trace[n]===i&&a.push(o)}return a},get_data.getModuleCalcData=function(t,e,i){var r,n=[],a=[];if(!(r="string"==typeof e?Registry$L.getModule(e).plot:"function"==typeof e?e:e.plot))return[n,t];for(var s=i,o=0;o<t.length;o++){var l=t[o],c=l[0].trace,g=void 0!==c.zorder;!0===c.visible&&0!==c._length&&(!c._module||c._module.plot!==r||g&&c.zorder!==s?a.push(l):n.push(l))}return[n,a]},get_data.getSubplotData=function(t,e,i){if(!Registry$L.subplotsRegistry[e])return[];for(var r,n=Registry$L.subplotsRegistry[e].attr,a=[],s=0;s<t.length;s++)(r=t[s])[n]===i&&a.push(r);return a};var hasRequiredCommand,command={};function requireCommand(){return hasRequiredCommand||(hasRequiredCommand=1,function(t){var e=registry$1,i=libExports;function r(t,e,r){var n,a,s,o=!1;if("data"===e.type)n=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;n=t._fullLayout}return a=i.nestedProperty(n,e.prop).get(),(s=r[e.type]=r[e.type]||{}).hasOwnProperty(e.prop)&&s[e.prop]!==a&&(o=!0),s[e.prop]=a,{changed:o,value:a}}function n(t,e){var r=[],n=e[0],a={};if("string"==typeof n)a[n]=e[1];else{if(!i.isPlainObject(n))return r;a=n}return s(a,function(t,e,i){r.push({type:"layout",prop:t,value:i})},"",0),r}function a(t,e){var r,n,a,o,l=[];if(n=e[0],a=e[1],r=e[2],o={},"string"==typeof n)o[n]=a;else{if(!i.isPlainObject(n))return l;o=n,void 0===r&&(r=a)}return void 0===r&&(r=null),s(o,function(e,i,n){var a,s;if(Array.isArray(n)){s=n.slice();var o=Math.min(s.length,t.data.length);r&&(o=Math.min(o,r.length)),a=[];for(var c=0;c<o;c++)a[c]=r?r[c]:c}else s=n,a=r?r.slice():null;if(null===a)Array.isArray(s)&&(s=s[0]);else if(Array.isArray(a)){if(!Array.isArray(s)){var g=s;s=[];for(var d=0;d<a.length;d++)s[d]=g}s.length=Math.min(a.length,s.length)}l.push({type:"data",prop:e,traces:a,value:s})},"",0),l}function s(t,e,r,n){Object.keys(t).forEach(function(a){var o=t[a];if("_"!==a[0]){var l=r+(n>0?".":"")+a;i.isPlainObject(o)?s(o,e,l,n+1):e(l,a,o)}})}t.manageCommandObserver=function(e,n,a,s){var o={},l=!0;n&&n._commandObserver&&(o=n._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var c=t.hasSimpleAPICommandBindings(e,a,o.lookupTable);if(n&&n._commandObserver){if(c)return o;if(n._commandObserver.remove)return n._commandObserver.remove(),n._commandObserver=null,o}if(c){r(e,c,o.cache),o.check=function(){if(l){var t=r(e,c,o.cache);return t.changed&&s&&void 0!==o.lookupTable[t.value]&&(o.disable(),Promise.resolve(s({value:t.value,type:c.type,prop:c.prop,traces:c.traces,index:o.lookupTable[t.value]})).then(o.enable,o.enable)),t.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<g.length;d++)e._internalOn(g[d],o.check);o.remove=function(){for(var t=0;t<g.length;t++)e._removeInternalListener(g[t],o.check)}}else i.log("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){l=!1},o.enable=function(){l=!0},n&&(n._commandObserver=o),o},t.hasSimpleAPICommandBindings=function(e,i,r){var n,a,s=i.length;for(n=0;n<s;n++){var o,l=i[n],c=l.method,g=l.args;if(Array.isArray(g)||(g=[]),!c)return!1;var d=t.computeAPICommandBindings(e,c,g);if(1!==d.length)return!1;if(a){if((o=d[0]).type!==a.type)return!1;if(o.prop!==a.prop)return!1;if(Array.isArray(a.traces)){if(!Array.isArray(o.traces))return!1;o.traces.sort();for(var u=0;u<a.traces.length;u++)if(a.traces[u]!==o.traces[u])return!1}else if(o.prop!==a.prop)return!1}else a=d[0],Array.isArray(a.traces)&&a.traces.sort();var B=(o=d[0]).value;if(Array.isArray(B)){if(1!==B.length)return!1;B=B[0]}r&&(r[B]=n)}return a},t.executeAPICommand=function(t,r,n){if("skip"===r)return Promise.resolve();var a=e.apiMethodRegistry[r],s=[t];Array.isArray(n)||(n=[]);for(var o=0;o<n.length;o++)s.push(n[o]);return a.apply(null,s).catch(function(t){return i.warn("API call to Plotly."+r+" rejected.",t),Promise.reject(t)})},t.computeAPICommandBindings=function(t,e,i){var r;switch(Array.isArray(i)||(i=[]),e){case"restyle":r=a(t,i);break;case"relayout":r=n(t,i);break;case"update":r=a(t,[i[0],i[2]]).concat(n(t,[i[1]]));break;case"animate":r=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,i);break;default:r=[]}return r}}(command)),command}var d3$r=d3Exports,timeFormatLocale=require$$1.timeFormatLocale,formatLocale=require$$2.formatLocale,isNumeric$r=fastIsnumeric,b64encode=require$$4,Registry$K=registry$1,PlotSchema$2=plot_schema,Template$9=plot_template,Lib$1E=libExports,Color$B=colorExports,BADNUM$8=numerical.BADNUM,axisIDs$1=axis_ids$1,clearOutline$4=handle_outline.clearOutline,scatterAttrs$2=layout_attributes$4,animationAttrs$1=animation_attributes,frameAttrs=frame_attributes,getModuleCalcData$1=get_data.getModuleCalcData,relinkPrivateKeys=Lib$1E.relinkPrivateKeys,_$1=Lib$1E._,plots$1=plots$2.exports={};Lib$1E.extendFlat(plots$1,Registry$K),plots$1.attributes=attributes$L,plots$1.attributes.type.values=plots$1.allTypes,plots$1.fontAttrs=requireFont_attributes(),plots$1.layoutAttributes=layout_attributes$5;var commandModule=requireCommand();function positionPlayWithData(t,e){e.text("");var i=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)i.on("click",function(){plots$1.sendDataToCloud(t)});else{var r=window.location.pathname.split("/"),n=window.location.search;i.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+n})}}plots$1.executeAPICommand=commandModule.executeAPICommand,plots$1.computeAPICommandBindings=commandModule.computeAPICommandBindings,plots$1.manageCommandObserver=commandModule.manageCommandObserver,plots$1.hasSimpleAPICommandBindings=commandModule.hasSimpleAPICommandBindings,plots$1.redrawText=function(t){return t=Lib$1E.getGraphDiv(t),new Promise(function(e){setTimeout(function(){t._fullLayout&&(Registry$K.getComponentMethod("annotations","draw")(t),Registry$K.getComponentMethod("legend","draw")(t),Registry$K.getComponentMethod("colorbar","draw")(t),e(plots$1.previousPromises(t)))},300)})},plots$1.resize=function(t){var e;t=Lib$1E.getGraphDiv(t);var i=new Promise(function(i,r){t&&!Lib$1E.isHidden(t)||r(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=i,t._redrawTimer=setTimeout(function(){if(!t.layout||t.layout.width&&t.layout.height||Lib$1E.isHidden(t))i(t);else{delete t.layout.width,delete t.layout.height;var e=t.changed;t.autoplay=!0,Registry$K.call("relayout",t,{autosize:!0}).then(function(){t.changed=e,t._resolveResize===i&&(delete t._resolveResize,i(t))})}},100)});return e&&e(i),i},plots$1.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})},plots$1.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,i=Lib$1E.ensureSingle(e._paper,"text","js-plot-link-container",function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:Color$B.defaultLine,"pointer-events":"all"}).each(function(){var t=d3$r.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)})}),r=i.node(),n={y:e._paper.attr("height")-9};document.body.contains(r)&&r.getComputedTextLength()>=e.width-20?(n["text-anchor"]="start",n.x=5):(n["text-anchor"]="end",n.x=e._paper.attr("width")-7),i.attr(n);var a=i.select(".js-link-to-tool"),s=i.select(".js-link-spacer"),o=i.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&positionPlayWithData(t,a),s.text(a.text()&&o.text()?" - ":"")}},plots$1.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var i=d3$r.select(t).append("div").attr("id","hiddenform").style("display","none"),r=i.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return r.append("input").attr({type:"text",name:"data"}).node().value=plots$1.graphJson(t,!1,"keepdata"),r.node().submit(),i.remove(),t.emit("plotly_afterexport"),!1}};var d3FormatKeys=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],extraFormatKeys=["year","month","dayMonth","dayMonthYear"];function getTraceUids(t,e){var i,r,n=e.length,a=[];for(i=0;i<t.length;i++){var s=t[i]._fullInput;s!==r&&a.push(s),r=s}var o=a.length,l=new Array(n),c={};function g(t,e){l[e]=t,c[t]=1}function d(t,e){if(t&&"string"==typeof t&&!c[t])return g(t,e),!0}for(i=0;i<n;i++){var u=e[i].uid;"number"==typeof u&&(u=String(u)),d(u,i)||(i<o&&d(a[i].uid,i)||g(Lib$1E.randstr(c),i))}return l}function emptySubplotLists(){var t,e,i=Registry$K.collectableSubplotTypes,r={};if(!i){i=[];var n=Registry$K.subplotsRegistry;for(var a in n){var s=n[a].attr;if(s&&(i.push(a),Array.isArray(s)))for(e=0;e<s.length;e++)Lib$1E.pushUnique(i,s[e])}}for(t=0;t<i.length;t++)r[i[t]]=[];return r}function getFormatObj(t,e){var i=t._context.locale;i||(i="en-US");var r=!1,n={};function a(t){for(var i=!0,a=0;a<e.length;a++){var s=e[a];n[s]||(t[s]?n[s]=t[s]:i=!1)}i&&(r=!0)}for(var s=0;s<2;s++){for(var o=t._context.locales,l=0;l<2;l++){var c=(o[i]||{}).format;if(c&&(a(c),r))break;o=Registry$K.localeRegistry}var g=i.split("-")[0];if(r||g===i)break;i=g}return r||a(Registry$K.localeRegistry.en.format),n}function getFormatter(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:function(e){try{e=formatLocale(t).format(Lib$1E.adjustFormat(e))}catch(t){return Lib$1E.warnBadFormat(e),Lib$1E.noFormat}return e},timeFormat:timeFormatLocale(t).utcFormat}}function fillMetaTextHelpers(t,e){var i,r=[];e.meta&&(i=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var n=0;n<t.length;n++){var a=t[n];a.meta?r[a.index]=a._meta={meta:a.meta}:e.meta&&(a._meta={meta:e.meta}),e.meta&&(a._meta.layout={meta:e.meta})}r.length&&(i||(i=e._meta={}),i.data=r)}function findMainSubplot(t,e){var i={_fullLayout:e},r="x"===t._id.charAt(0),n=t._mainAxis._anchorAxis,a="",s="",o="";if(n&&(o=n._mainAxis._id,a=r?t._id+o:o+t._id),!a||!e._plots[a]){a="";for(var l=t._counterAxes,c=0;c<l.length;c++){var g=l[c],d=r?t._id+g:g+t._id;s||(s=d);var u=axisIDs$1.getFromId(i,g);if(o&&u.overlaying===o){a=d;break}}}return a||s}function getComputedSize(t){return"string"==typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function initMargins(t){var e=t.margin;if(!t._size){var i=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};i.w=Math.round(t.width)-i.l-i.r,i.h=Math.round(t.height)-i.t-i.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={}),t._reservedMargin||(t._reservedMargin={})}plots$1.supplyDefaults=function(t,e){var i=e&&e.skipUpdateCalc,r=t._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var n,a=t._fullLayout={},s=t.layout||{},o=t._fullData||[],l=t._fullData=[],c=t.data||[],g=t.calcdata||[],d=t._context||{};t._transitionData||plots$1.createTransitionData(t),a._dfltTitle={plot:_$1(t,"Click to enter Plot title"),subtitle:_$1(t,"Click to enter Plot subtitle"),x:_$1(t,"Click to enter X axis title"),y:_$1(t,"Click to enter Y axis title"),colorbar:_$1(t,"Click to enter Colorscale title"),annotation:_$1(t,"new text")},a._traceWord=_$1(t,"trace");var u=getFormatObj(t,d3FormatKeys);if(a._mapboxAccessToken=d.mapboxAccessToken,r._initialAutoSizeIsDone){var B=r.width,F=r.height;plots$1.supplyLayoutGlobalDefaults(s,a,u),s.width||(a.width=B),s.height||(a.height=F),plots$1.sanitizeMargins(a)}else{plots$1.supplyLayoutGlobalDefaults(s,a,u);var h=!s.width||!s.height,Q=a.autosize,U=d.autosizable;h&&(Q||U)?plots$1.plotAutoSize(t,s,a):h&&plots$1.sanitizeMargins(a),!Q&&h&&(s.width=a.width,s.height=a.height)}a._d3locale=getFormatter(u,a.separators),a._extraFormat=getFormatObj(t,extraFormatKeys),a._initialAutoSizeIsDone=!0,a._dataLength=c.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var I=a._subplots=emptySubplotLists(),b=a._splomAxes={x:{},y:{}},p=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=getTraceUids(o,c),plots$1.supplyDataDefaults(c,l,s,a);var y=Object.keys(b.x),m=Object.keys(b.y);if(y.length>1&&m.length>1){for(Registry$K.getComponentMethod("grid","sizeDefaults")(s,a),n=0;n<y.length;n++)Lib$1E.pushUnique(I.xaxis,y[n]);for(n=0;n<m.length;n++)Lib$1E.pushUnique(I.yaxis,m[n]);for(var C in p)Lib$1E.pushUnique(I.cartesian,C)}if(a._has=plots$1._hasPlotType.bind(a),o.length===l.length)for(n=0;n<l.length;n++)relinkPrivateKeys(l[n],o[n]);plots$1.supplyLayoutModuleDefaults(s,a,l,t._transitionData);var f=a._visibleModules,x=[];for(n=0;n<f.length;n++){var A=f[n].crossTraceDefaults;A&&Lib$1E.pushUnique(x,A)}for(n=0;n<x.length;n++)x[n](l,a);a._hasOnlyLargeSploms=1===a._basePlotModules.length&&"splom"===a._basePlotModules[0].name&&y.length>15&&m.length>15&&0===a.shapes.length&&0===a.images.length,plots$1.linkSubplots(l,a,o,r),plots$1.cleanPlot(l,a,o,r);var v=!(!r._has||!r._has("cartesian")),L=!(!a._has||!a._has("cartesian"));v&&!L?r._bgLayer.remove():L&&!v&&(a._shouldCreateBgLayer=!0),r._zoomlayer&&!t._dragging&&clearOutline$4({_fullLayout:r}),fillMetaTextHelpers(l,a),relinkPrivateKeys(a,r),Registry$K.getComponentMethod("colorscale","crossTraceDefaults")(l,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var R,S=a._tracePreGUI,G={};for(R in S)G[R]="old";for(n=0;n<l.length;n++)G[R=l[n]._fullInput.uid]||(S[R]={}),G[R]="new";for(R in G)"old"===G[R]&&delete S[R];initMargins(a),Registry$K.getComponentMethod("rangeslider","makeData")(a),i||g.length!==l.length||plots$1.supplyDefaultsUpdateCalc(g,l)}},plots$1.supplyDefaultsUpdateCalc=function(t,e){for(var i=0;i<e.length;i++){var r=e[i],n=(t[i]||[])[0];if(n&&n.trace){var a=n.trace;if(a._hasCalcTransform){var s,o,l,c=a._arrayAttrs;for(s=0;s<c.length;s++)o=c[s],l=Lib$1E.nestedProperty(a,o).get().slice(),Lib$1E.nestedProperty(r,o).set(l)}n.trace=r}}},plots$1.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},plots$1._hasPlotType=function(t){var e,i=this._basePlotModules||[];for(e=0;e<i.length;e++)if(i[e].name===t)return!0;var r=this._modules||[];for(e=0;e<r.length;e++){var n=r[e].name;if(n===t)return!0;var a=Registry$K.modules[n];if(a&&a.categories[t])return!0}return!1},plots$1.cleanPlot=function(t,e,i,r){var n,a,s=r._basePlotModules||[];for(n=0;n<s.length;n++){var o=s[n];o.clean&&o.clean(t,e,i,r)}var l=r._has&&r._has("gl"),c=e._has&&e._has("gl");l&&!c&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var g=!!r._infolayer;t:for(n=0;n<i.length;n++){var d=i[n].uid;for(a=0;a<t.length;a++){if(d===t[a].uid)continue t}g&&r._infolayer.select(".cb"+d).remove()}},plots$1.linkSubplots=function(t,e,i,r){var n,a,s=r._plots||{},o=e._plots={},l={_fullData:t,_fullLayout:e},c=e._subplots.cartesian||[];for(n=0;n<c.length;n++){var g,d=c[n],u=s[d],B=axisIDs$1.getFromId(l,d,"x"),F=axisIDs$1.getFromId(l,d,"y");for(u?g=o[d]=u:(g=o[d]={}).id=d,B._counterAxes.push(F._id),F._counterAxes.push(B._id),B._subplotsWith.push(d),F._subplotsWith.push(d),g.xaxis=B,g.yaxis=F,g._hasClipOnAxisFalse=!1,a=0;a<t.length;a++){var h=t[a];if(h.xaxis===g.xaxis._id&&h.yaxis===g.yaxis._id&&!1===h.cliponaxis){g._hasClipOnAxisFalse=!0;break}}}var Q,U=axisIDs$1.list(l,null,!0);for(n=0;n<U.length;n++){var I=null;(Q=U[n]).overlaying&&(I=axisIDs$1.getFromId(l,Q.overlaying))&&I.overlaying&&(Q.overlaying=!1,I=null),Q._mainAxis=I||Q,I&&(Q.domain=I.domain.slice()),Q._anchorAxis="free"===Q.anchor?null:axisIDs$1.getFromId(l,Q.anchor)}for(n=0;n<U.length;n++)if((Q=U[n])._counterAxes.sort(axisIDs$1.idSort),Q._subplotsWith.sort(Lib$1E.subplotSort),Q._mainSubplot=findMainSubplot(Q,e),Q._counterAxes.length&&(Q.spikemode&&-1!==Q.spikemode.indexOf("across")||Q.automargin&&Q.mirror&&"free"!==Q.anchor||Registry$K.getComponentMethod("rangeslider","isVisible")(Q))){var b=1,p=0;for(a=0;a<Q._counterAxes.length;a++){var y=axisIDs$1.getFromId(l,Q._counterAxes[a]);b=Math.min(b,y.domain[0]),p=Math.max(p,y.domain[1])}b<p&&(Q._counterDomainMin=b,Q._counterDomainMax=p)}},plots$1.clearExpandedTraceDefaultColors=function(t){var e,i,r;for(i=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],PlotSchema$2.crawl(t._module.attributes,function(t,r,n,a){i[a]=r,i.length=a+1,"color"===t.valType&&void 0===t.dflt&&e.push(i.join("."))})),r=0;r<e.length;r++){Lib$1E.nestedProperty(t,"_input."+e[r]).get()||Lib$1E.nestedProperty(t,e[r]).set(null)}},plots$1.supplyDataDefaults=function(t,e,i,r){var n,a,s,o=r._modules,l=r._visibleModules,c=r._basePlotModules,g=0;function d(t){e.push(t);var i=t._module;i&&(Lib$1E.pushUnique(o,i),!0===t.visible&&Lib$1E.pushUnique(l,i),Lib$1E.pushUnique(c,t._module.basePlotModule),!1!==t._input.visible&&g++)}r._transformModules=[];var u={},B=[],F=(i.template||{}).data||{},h=Template$9.traceTemplater(F);for(n=0;n<t.length;n++)s=t[n],(a=h.newTrace(s)).uid=r._traceUids[n],plots$1.supplyTraceDefaults(s,a,g,r,n),a.index=n,a._input=s,a._fullInput=a,d(a),Registry$K.traceIs(a,"carpetAxis")&&(u[a.carpet]=a),Registry$K.traceIs(a,"carpetDependent")&&B.push(n);for(n=0;n<B.length;n++)if((a=e[B[n]]).visible){var Q=u[a.carpet];a._carpet=Q,Q&&Q.visible?(a.xaxis=Q.xaxis,a.yaxis=Q.yaxis):a.visible=!1}},plots$1.supplyAnimationDefaults=function(t){var e;t=t||{};var i={};function r(e,r){return Lib$1E.coerce(t||{},i,animationAttrs$1,e,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(t.frame))for(i.frame=[],e=0;e<t.frame.length;e++)i.frame[e]=plots$1.supplyAnimationFrameDefaults(t.frame[e]||{});else i.frame=plots$1.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(i.transition=[],e=0;e<t.transition.length;e++)i.transition[e]=plots$1.supplyAnimationTransitionDefaults(t.transition[e]||{});else i.transition=plots$1.supplyAnimationTransitionDefaults(t.transition||{});return i},plots$1.supplyAnimationFrameDefaults=function(t){var e={};function i(i,r){return Lib$1E.coerce(t||{},e,animationAttrs$1.frame,i,r)}return i("duration"),i("redraw"),e},plots$1.supplyAnimationTransitionDefaults=function(t){var e={};function i(i,r){return Lib$1E.coerce(t||{},e,animationAttrs$1.transition,i,r)}return i("duration"),i("easing"),e},plots$1.supplyFrameDefaults=function(t){var e={};function i(i,r){return Lib$1E.coerce(t,e,frameAttrs,i,r)}return i("group"),i("name"),i("traces"),i("baseframe"),i("data"),i("layout"),e},plots$1.supplyTraceDefaults=function(t,e,i,r,n){var a,s=r.colorway||Color$B.defaults,o=s[i%s.length];function l(i,r){return Lib$1E.coerce(t,e,plots$1.attributes,i,r)}var c=l("visible");l("type"),l("name",r._traceWord+" "+n),l("uirevision",r.uirevision);var g=plots$1.getModule(e);if(e._module=g,g){var d=g.basePlotModule,u=d.attr,B=d.attributes;if(u&&B){var F=r._subplots,h="";if(Array.isArray(u))for(a=0;a<u.length;a++){var Q=u[a],U=Lib$1E.coerce(t,e,B,Q);F[Q]&&Lib$1E.pushUnique(F[Q],U),h+=U}else h=Lib$1E.coerce(t,e,B,u);F[d.name]&&Lib$1E.pushUnique(F[d.name],h)}}if(c&&(l("customdata"),l("ids"),l("meta"),Registry$K.traceIs(e,"showLegend")?(Lib$1E.coerce(t,e,g.attributes.showlegend?g.attributes:plots$1.attributes,"showlegend"),l("legend"),l("legendwidth"),l("legendgroup"),l("legendgrouptitle.text"),l("legendrank"),e._dfltShowLegend=!0):e._dfltShowLegend=!1,g&&g.supplyDefaults(t,e,o,r),Registry$K.traceIs(e,"noOpacity")||l("opacity"),Registry$K.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),Registry$K.traceIs(e,"noHover")||(e.hovertemplate||Lib$1E.coerceHoverinfo(t,e,r),"parcats"!==e.type&&Registry$K.getComponentMethod("fx","supplyDefaults")(t,e,o,r)),g&&g.selectPoints)){var I=l("selectedpoints");Lib$1E.isTypedArray(I)&&(e.selectedpoints=Array.from(I))}return e},plots$1.supplyLayoutGlobalDefaults=function(t,e,i){function r(i,r){return Lib$1E.coerce(t,e,plots$1.layoutAttributes,i,r)}var n=t.template;Lib$1E.isPlainObject(n)&&(e.template=n,e._template=n.layout,e._dataTemplate=n.data),r("autotypenumbers");var a=Lib$1E.coerceFont(r,"font"),s=a.size;Lib$1E.coerceFont(r,"title.font",a,{overrideDflt:{size:Math.round(1.4*s)}}),r("title.text",e._dfltTitle.plot),r("title.xref");var o=r("title.yref");r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l");var l=r("title.automargin");r("title.x"),r("title.xanchor"),r("title.y"),r("title.yanchor"),r("title.subtitle.text",e._dfltTitle.subtitle),Lib$1E.coerceFont(r,"title.subtitle.font",a,{overrideDflt:{size:Math.round(.7*e.title.font.size)}}),l&&("paper"===o&&(0!==e.title.y&&(e.title.y=1),"auto"===e.title.yanchor&&(e.title.yanchor=0===e.title.y?"top":"bottom")),"container"===o&&("auto"===e.title.y&&(e.title.y=1),"auto"===e.title.yanchor&&(e.title.yanchor=e.title.y<.5?"bottom":"top"))),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(t.width&&t.height)),r("width"),r("height"),r("minreducedwidth"),r("minreducedheight"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),t.width&&t.height&&plots$1.sanitizeMargins(e),Registry$K.getComponentMethod("grid","sizeDefaults")(t,e),r("paper_bgcolor"),r("separators",i.decimal+i.thousands),r("hidesources"),r("colorway"),r("datarevision");var c=r("uirevision");r("editrevision",c),r("selectionrevision",c),Registry$K.getComponentMethod("modebar","supplyLayoutDefaults")(t,e),Registry$K.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,r),Registry$K.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(t,e,r),r("meta"),Lib$1E.isPlainObject(t.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),Registry$K.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),Registry$K.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,r),Lib$1E.coerce(t,e,scatterAttrs$2,"scattermode")},plots$1.plotAutoSize=function(t,e,i){var r,n,a=t._context||{},s=a.frameMargins,o=Lib$1E.isPlotDiv(t);if(o&&t.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,n=window.innerHeight,document.body.style.overflow="hidden";else{var l=o?window.getComputedStyle(t):{};if(r=getComputedSize(l.width)||getComputedSize(l.maxWidth)||i.width,n=getComputedSize(l.height)||getComputedSize(l.maxHeight)||i.height,isNumeric$r(s)&&s>0){var c=1-2*s;r=Math.round(c*r),n=Math.round(c*n)}}var g=plots$1.layoutAttributes.width.min,d=plots$1.layoutAttributes.height.min;r<g&&(r=g),n<d&&(n=d);var u=!e.width&&Math.abs(i.width-r)>1,B=!e.height&&Math.abs(i.height-n)>1;(B||u)&&(u&&(i.width=r),B&&(i.height=n)),t._initialAutoSize||(t._initialAutoSize={width:r,height:n}),plots$1.sanitizeMargins(i)},plots$1.supplyLayoutModuleDefaults=function(t,e,i,r){var n,a,s,o=Registry$K.componentsRegistry,l=e._basePlotModules,c=Registry$K.subplotsRegistry.cartesian;for(n in o)(s=o[n]).includeBasePlot&&s.includeBasePlot(t,e);for(var g in l.length||l.push(c),e._has("cartesian")&&(Registry$K.getComponentMethod("grid","contentDefaults")(t,e),c.finalizeSubplots(t,e)),e._subplots)e._subplots[g].sort(Lib$1E.subplotSort);for(a=0;a<l.length;a++)(s=l[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,i);var d=e._modules;for(a=0;a<d.length;a++)(s=d[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,i);var u=e._transformModules;for(a=0;a<u.length;a++)(s=u[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,i,r);for(n in o)(s=o[n]).supplyLayoutDefaults&&s.supplyLayoutDefaults(t,e,i)},plots$1.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),Lib$1E.clearThrottle(),Lib$1E.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},plots$1.style=function(t){var e,i=t._fullLayout._visibleModules,r=[];for(e=0;e<i.length;e++){var n=i[e];n.style&&Lib$1E.pushUnique(r,n.style)}for(e=0;e<r.length;e++)r[e](t)},plots$1.sanitizeMargins=function(t){if(t&&t.margin){var e,i=t.width,r=t.height,n=t.margin,a=i-(n.l+n.r),s=r-(n.t+n.b);a<0&&(e=(i-1)/(n.l+n.r),n.l=Math.floor(e*n.l),n.r=Math.floor(e*n.r)),s<0&&(e=(r-1)/(n.t+n.b),n.t=Math.floor(e*n.t),n.b=Math.floor(e*n.b))}},plots$1.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},plots$1.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1};var MIN_SPECIFIED_WIDTH=2,MIN_SPECIFIED_HEIGHT=2;function needsRedrawForShift(t){if("_redrawFromAutoMarginCount"in t._fullLayout)return!1;var e=axisIDs$1.list(t,"",!0);for(var i in e)if(e[i].autoshift||e[i].shift)return!0;return!1}function refineTicks(t){var e=axisIDs$1.list(t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var i=0;i<e.length;i++){var r=e[i][t];r&&r()}})}plots$1.autoMargin=function(t,e,i){var r=t._fullLayout,n=r.width,a=r.height,s=r.margin,o=r.minreducedwidth,l=r.minreducedheight,c=Lib$1E.constrain(n-s.l-s.r,MIN_SPECIFIED_WIDTH,o),g=Lib$1E.constrain(a-s.t-s.b,MIN_SPECIFIED_HEIGHT,l),d=Math.max(0,n-c),u=Math.max(0,a-g),B=r._pushmargin,F=r._pushmarginIds;if(!1!==s.autoexpand){if(i){var h=i.pad;if(void 0===h&&(h=Math.min(12,s.l,s.r,s.t,s.b)),d){var Q=(i.l+i.r)/d;Q>1&&(i.l/=Q,i.r/=Q)}if(u){var U=(i.t+i.b)/u;U>1&&(i.t/=U,i.b/=U)}var I=void 0!==i.xl?i.xl:i.x,b=void 0!==i.xr?i.xr:i.x,p=void 0!==i.yt?i.yt:i.y,y=void 0!==i.yb?i.yb:i.y;B[e]={l:{val:I,size:i.l+h},r:{val:b,size:i.r+h},b:{val:y,size:i.b+h},t:{val:p,size:i.t+h}},F[e]=1}else delete B[e],delete F[e];if(!r._replotting)return plots$1.doAutoMargin(t)}},plots$1.doAutoMargin=function(t){var e=t._fullLayout,i=e.width,r=e.height;e._size||(e._size={}),initMargins(e);var n=e._size,a=e.margin,s={t:0,b:0,l:0,r:0},o=Lib$1E.extendFlat({},n),l=a.l,c=a.r,g=a.t,d=a.b,u=e._pushmargin,B=e._pushmarginIds,F=e.minreducedwidth,h=e.minreducedheight;if(!1!==a.autoexpand){for(var Q in u)B[Q]||delete u[Q];var U=t._fullLayout._reservedMargin;for(var I in U)for(var b in U[I]){var p=U[I][b];s[b]=Math.max(s[b],p)}for(var y in u.base={l:{val:0,size:l},r:{val:1,size:c},t:{val:1,size:g},b:{val:0,size:d}},s){var m=0;for(var C in u)"base"!==C&&isNumeric$r(u[C][y].size)&&(m=u[C][y].size>m?u[C][y].size:m);var f=Math.max(0,a[y]-m);s[y]=Math.max(0,s[y]-f)}for(var x in u){var A=u[x].l||{},v=u[x].b||{},L=A.val,R=A.size,S=v.val,G=v.size,E=i-s.r-s.l,V=r-s.t-s.b;for(var Z in u){if(isNumeric$r(R)&&u[Z].r){var N=u[Z].r.val,D=u[Z].r.size;if(N>L){var w=(R*N+(D-E)*L)/(N-L),X=(D*(1-L)+(R-E)*(1-N))/(N-L);w+X>l+c&&(l=w,c=X)}}if(isNumeric$r(G)&&u[Z].t){var W=u[Z].t.val,H=u[Z].t.size;if(W>S){var T=(G*W+(H-V)*S)/(W-S),M=(H*(1-S)+(G-V)*(1-W))/(W-S);T+M>d+g&&(d=T,g=M)}}}}}var k=Lib$1E.constrain(i-a.l-a.r,MIN_SPECIFIED_WIDTH,F),Y=Lib$1E.constrain(r-a.t-a.b,MIN_SPECIFIED_HEIGHT,h),J=Math.max(0,i-k),$=Math.max(0,r-Y);if(J){var z=(l+c)/J;z>1&&(l/=z,c/=z)}if($){var O=(d+g)/$;O>1&&(d/=O,g/=O)}if(n.l=Math.round(l)+s.l,n.r=Math.round(c)+s.r,n.t=Math.round(g)+s.t,n.b=Math.round(d)+s.b,n.p=Math.round(a.pad),n.w=Math.round(i)-n.l-n.r,n.h=Math.round(r)-n.t-n.b,!e._replotting&&(plots$1.didMarginChange(o,n)||needsRedrawForShift(t))){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var K=3*(1+Object.keys(B).length);if(e._redrawFromAutoMarginCount<K)return Registry$K.call("_doPlot",t);e._size=o,Lib$1E.warn("Too many auto-margin redraws.")}refineTicks(t)};var marginKeys=["l","r","t","b","p","w","h"];function _transition(t,e,i){var r=!1;var n=[plots$1.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},i.prepareFn,plots$1.rehover,plots$1.reselect,function(){return t.emit("plotly_transitioning",[]),new Promise(function(n){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push(function(){r=!0}),i.redraw&&t._transitionData._interruptCallbacks.push(function(){return Registry$K.call("redraw",t)}),t._transitionData._interruptCallbacks.push(function(){t.emit("plotly_transitioninterrupted",[])});var a=0,s=0;function o(){return a++,function(){s++,r||s!==a||function(e){if(!t._transitionData)return;(function(t){if(t)for(;t.length;)t.shift()})(t._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(i.redraw)return Registry$K.call("redraw",t)}).then(function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])}).then(e)}(n)}}i.runFn(o),setTimeout(o())})}],a=Lib$1E.syncOrAsync(n,t);return a&&a.then||(a=Promise.resolve()),a.then(function(){return t})}plots$1.didMarginChange=function(t,e){for(var i=0;i<marginKeys.length;i++){var r=marginKeys[i],n=t[r],a=e[r];if(!isNumeric$r(n)||Math.abs(a-n)>1)return!0}return!1},plots$1.graphJson=function(t,e,i,r,n,a){(n&&e&&!t._fullData||n&&!e&&!t._fullLayout)&&plots$1.supplyDefaults(t);var s=n?t._fullData:t.data,o=n?t._fullLayout:t.layout,l=(t._transitionData||{})._frames;function c(t,e){if("function"==typeof t)return e?"_function_":null;if(Lib$1E.isPlainObject(t)){var r,n={};return Object.keys(t).sort().forEach(function(a){if(-1===["_","["].indexOf(a.charAt(0)))if("function"!=typeof t[a]){if("keepdata"===i){if("src"===a.substr(a.length-3))return}else if("keepstream"===i){if("string"==typeof(r=t[a+"src"])&&r.indexOf(":")>0&&!Lib$1E.isPlainObject(t.stream))return}else if("keepall"!==i&&"string"==typeof(r=t[a+"src"])&&r.indexOf(":")>0)return;n[a]=c(t[a],e)}else e&&(n[a]="_function")}),n}var a=Array.isArray(t),s=Lib$1E.isTypedArray(t);if((a||s)&&t.dtype&&t.shape){var o=t.bdata;return c({dtype:t.dtype,shape:t.shape,bdata:Lib$1E.isArrayBuffer(o)?b64encode.encode(o):o},e)}return a?t.map(function(t){return c(t,e)}):s?Lib$1E.simpleMap(t,Lib$1E.identity):Lib$1E.isJSDate(t)?Lib$1E.ms2DateTimeLocal(+t):t}var g={data:(s||[]).map(function(t){var i=c(t);return e&&delete i.fit,i})};if(!e&&(g.layout=c(o),n)){var d=o._size;g.layout.computed={margin:{b:d.b,l:d.l,r:d.r,t:d.t}}}return l&&(g.frames=c(l)),a&&(g.config=c(t._context,!0)),"object"===r?g:JSON.stringify(g)},plots$1.modifyFrames=function(t,e){var i,r,n,a=t._transitionData._frames,s=t._transitionData._frameHash;for(i=0;i<e.length;i++)switch((r=e[i]).type){case"replace":n=r.value;var o=(a[r.index]||{}).name,l=n.name;a[r.index]=s[l]=n,l!==o&&(delete s[o],s[l]=n);break;case"insert":s[(n=r.value).name]=n,a.splice(r.index,0,n);break;case"delete":delete s[(n=a[r.index]).name],a.splice(r.index,1)}return Promise.resolve()},plots$1.computeFrame=function(t,e){var i,r,n,a,s=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var o=s[e.toString()];if(!o)return!1;for(var l=[o],c=[o.name];o.baseframe&&(o=s[o.baseframe.toString()])&&-1===c.indexOf(o.name);)l.push(o),c.push(o.name);for(var g={};o=l.pop();)if(o.layout&&(g.layout=plots$1.extendLayout(g.layout,o.layout)),o.data){if(g.data||(g.data=[]),!(r=o.traces))for(r=[],i=0;i<o.data.length;i++)r[i]=i;for(g.traces||(g.traces=[]),i=0;i<o.data.length;i++)null!=(n=r[i])&&(-1===(a=g.traces.indexOf(n))&&(a=g.data.length,g.traces[a]=n),g.data[a]=plots$1.extendTrace(g.data[a],o.data[i]))}return g},plots$1.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},i=t._transitionData._frames,r=0;r<i.length;r++){var n=i[r];n&&n.name&&(e[n.name]=n)}},plots$1.extendObjectWithContainers=function(t,e,i){var r,n,a,s,o,l,c,g=Lib$1E.extendDeepNoArrays({},e||{}),d=Lib$1E.expandObjectPaths(g),u={};if(i&&i.length)for(a=0;a<i.length;a++)void 0===(n=(r=Lib$1E.nestedProperty(d,i[a])).get())?Lib$1E.nestedProperty(u,i[a]).set(null):(r.set(null),Lib$1E.nestedProperty(u,i[a]).set(n));if(t=Lib$1E.extendDeepNoArrays(t||{},d),i&&i.length)for(a=0;a<i.length;a++)if(l=Lib$1E.nestedProperty(u,i[a]).get()){for(c=(o=Lib$1E.nestedProperty(t,i[a])).get(),Array.isArray(c)||(c=[],o.set(c)),s=0;s<l.length;s++){var B=l[s];c[s]=null===B?null:plots$1.extendObjectWithContainers(c[s],B)}o.set(c)}return t},plots$1.dataArrayContainers=["transforms","dimensions"],plots$1.layoutArrayContainers=Registry$K.layoutArrayContainers,plots$1.extendTrace=function(t,e){return plots$1.extendObjectWithContainers(t,e,plots$1.dataArrayContainers)},plots$1.extendLayout=function(t,e){return plots$1.extendObjectWithContainers(t,e,plots$1.layoutArrayContainers)},plots$1.transition=function(t,e,i,r,n,a){var s={redraw:n.redraw},o={},l=[];return s.prepareFn=function(){for(var n=Array.isArray(e)?e.length:0,a=r.slice(0,n),s=0;s<a.length;s++){var c=a[s],g=t._fullData[c]._module;if(g){if(g.animatable){var d=g.basePlotModule.name;o[d]||(o[d]=[]),o[d].push(c)}t.data[a[s]]=plots$1.extendTrace(t.data[a[s]],e[s])}}var u=Lib$1E.expandObjectPaths(Lib$1E.extendDeepNoArrays({},i)),B=/^[xy]axis[0-9]*$/;for(var F in u)B.test(F)&&delete u[F].range;plots$1.extendLayout(t.layout,u),delete t.calcdata,plots$1.supplyDefaults(t),plots$1.doCalcdata(t);var h=Lib$1E.expandObjectPaths(i);if(h){var Q=t._fullLayout._plots;for(var U in Q){var I=Q[U],b=I.xaxis,p=I.yaxis,y=b.range.slice(),m=p.range.slice(),C=null,f=null,x=null,A=null;Array.isArray(h[b._name+".range"])?C=h[b._name+".range"].slice():Array.isArray((h[b._name]||{}).range)&&(C=h[b._name].range.slice()),Array.isArray(h[p._name+".range"])?f=h[p._name+".range"].slice():Array.isArray((h[p._name]||{}).range)&&(f=h[p._name].range.slice()),y&&C&&(b.r2l(y[0])!==b.r2l(C[0])||b.r2l(y[1])!==b.r2l(C[1]))&&(x={xr0:y,xr1:C}),m&&f&&(p.r2l(m[0])!==p.r2l(f[0])||p.r2l(m[1])!==p.r2l(f[1]))&&(A={yr0:m,yr1:f}),(x||A)&&l.push(Lib$1E.extendFlat({plotinfo:I},x,A))}}return Promise.resolve()},s.runFn=function(e){var r,n,s=t._fullLayout._basePlotModules,c=l.length;if(i)for(n=0;n<s.length;n++)s[n].transitionAxes&&s[n].transitionAxes(t,l,a,e);for(var g in c?((r=Lib$1E.extendFlat({},a)).duration=0,delete o.cartesian):r=a,o){var d=o[g];t._fullData[d[0]]._module.basePlotModule.plot(t,d,r,e)}},_transition(t,a,s)},plots$1.transitionFromReact=function(t,e,i,r){var n=t._fullLayout,a=n.transition,s={},o=[];return s.prepareFn=function(){var t=n._plots;for(var a in s.redraw=!1,"some"===e.anim&&(s.redraw=!0),"some"===i.anim&&(s.redraw=!0),t){var l=t[a],c=l.xaxis,g=l.yaxis,d=r[c._name].range.slice(),u=r[g._name].range.slice(),B=c.range.slice(),F=g.range.slice();c.setScale(),g.setScale();var h=null,Q=null;c.r2l(d[0])===c.r2l(B[0])&&c.r2l(d[1])===c.r2l(B[1])||(h={xr0:d,xr1:B}),g.r2l(u[0])===g.r2l(F[0])&&g.r2l(u[1])===g.r2l(F[1])||(Q={yr0:u,yr1:F}),(h||Q)&&o.push(Lib$1E.extendFlat({plotinfo:l},h,Q))}return Promise.resolve()},s.runFn=function(i){for(var r,n,s,l=t._fullData,c=t._fullLayout._basePlotModules,g=[],d=0;d<l.length;d++)g.push(d);function u(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].transitionAxes&&c[e].transitionAxes(t,o,r,i)}function B(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].plot(t,s,n,i)}o.length&&e.anim?"traces first"===a.ordering?(r=Lib$1E.extendFlat({},a,{duration:0}),s=g,n=a,setTimeout(u,a.duration),B()):(r=a,s=null,n=Lib$1E.extendFlat({},a,{duration:0}),setTimeout(B,r.duration),u()):o.length?(r=a,u()):e.anim&&(s=g,n=a,B())},_transition(t,a,s)},plots$1.doCalcdata=function(t,e){var i,r,n,a,s=axisIDs$1.list(t),o=t._fullData,l=t._fullLayout,c=new Array(o.length),g=(t.calcdata||[]).slice();for(t.calcdata=c,l._numBoxes=0,l._numViolins=0,l._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,l._piecolormap={},l._sunburstcolormap={},l._treemapcolormap={},l._iciclecolormap={},l._funnelareacolormap={},n=0;n<o.length;n++)Array.isArray(e)&&-1===e.indexOf(n)&&(c[n]=g[n]);for(n=0;n<o.length;n++)(i=o[n])._arrayAttrs=PlotSchema$2.findArrayAttributes(i),i._extremes={};var d=l._subplots.polar||[];for(n=0;n<d.length;n++)s.push(l[d[n]].radialaxis,l[d[n]].angularaxis);for(var u in l._colorAxes){var B=l[u];!1!==B.cauto&&(delete B.cmin,delete B.cmax)}var F=!1;function h(e){if(i=o[e],r=i._module,!0===i.visible&&i.transforms){if(r&&r.calc){var n=r.calc(t,i);n[0]&&n[0].t&&n[0].t._scene&&delete n[0].t._scene.dirty}for(a=0;a<i.transforms.length;a++){var s=i.transforms[a];(r=transformsRegistry[s.type])&&r.calcTransform&&(i._hasCalcTransform=!0,F=!0,r.calcTransform(t,i,s))}}}function Q(e,n){if(i=o[e],!!(r=i._module).isContainer===n){var s=[];if(!0===i.visible&&0!==i._length){delete i._indexToPoints;var l=i.transforms||[];for(a=l.length-1;a>=0;a--)if(l[a].enabled){i._indexToPoints=l[a]._indexToPoints;break}r&&r.calc&&(s=r.calc(t,i))}Array.isArray(s)&&s[0]||(s=[{x:BADNUM$8,y:BADNUM$8}]),s[0].t||(s[0].t={}),s[0].trace=i,c[e]=s}}for(setupAxisCategories(s,o,l),n=0;n<o.length;n++)Q(n,!0);for(n=0;n<o.length;n++)h(n);for(F&&setupAxisCategories(s,o,l),n=0;n<o.length;n++)Q(n,!0);for(n=0;n<o.length;n++)Q(n,!1);doCrossTraceCalc(t);var U=sortAxisCategoriesByValue(s,t);if(U.length){for(l._numBoxes=0,l._numViolins=0,n=0;n<U.length;n++)Q(U[n],!0);for(n=0;n<U.length;n++)Q(U[n],!1);doCrossTraceCalc(t)}Registry$K.getComponentMethod("fx","calc")(t),Registry$K.getComponentMethod("errorbars","calc")(t)};var sortAxisCategoriesByValueRegex=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function sortAxisCategoriesByValue(t,e){var i,r,n,a,s,o=[];function l(t,i,r){var n=i._id.charAt(0);if("histogram2dcontour"===t){var a=i._counterAxes[0],s=axisIDs$1.getFromId(e,a),o="x"===n||"x"===a&&"category"===s.type,l="y"===n||"y"===a&&"category"===s.type;return function(t,e){return 0===t||0===e||o&&t===r[e].length-1||l&&e===r.length-1?-1:("y"===n?e:t)-1}}return function(t,e){return"y"===n?e:t}}var c={min:function(t){return Lib$1E.aggNums(Math.min,null,t)},max:function(t){return Lib$1E.aggNums(Math.max,null,t)},sum:function(t){return Lib$1E.aggNums(function(t,e){return t+e},null,t)},total:function(t){return Lib$1E.aggNums(function(t,e){return t+e},null,t)},mean:function(t){return Lib$1E.mean(t)},"geometric mean":function(t){return Lib$1E.geometricMean(t)},median:function(t){return Lib$1E.median(t)}};function g(t,e){return t[1]-e[1]}function d(t,e){return e[1]-t[1]}for(i=0;i<t.length;i++){var u=t[i];if("category"===u.type){var B=u.categoryorder.match(sortAxisCategoriesByValueRegex);if(B){var F=B[1],h=B[2],Q=u._id.charAt(0),U="x"===Q,I=[];for(r=0;r<u._categories.length;r++)I.push([u._categories[r],[]]);for(r=0;r<u._traceIndices.length;r++){var b=u._traceIndices[r],p=e._fullData[b];if(!0===p.visible){var y=p.type;Registry$K.traceIs(p,"histogram")&&(delete p._xautoBinFinished,delete p._yautoBinFinished);var m="splom"===y,C="scattergl"===y,f=e.calcdata[b];for(n=0;n<f.length;n++){var x,A,v=f[n];if(m){var L=p._axesDim[u._id];if(!U){var R=p._diag[L][0];R&&(u=e._fullLayout[axisIDs$1.id2name(R)])}var S=v.trace.dimensions[L].values;for(a=0;a<S.length;a++)for(x=u._categoriesMap[S[a]],s=0;s<v.trace.dimensions.length;s++)if(s!==L){var G=v.trace.dimensions[s];I[x][1].push(G.values[a])}}else if(C){for(a=0;a<v.t.x.length;a++)U?(x=v.t.x[a],A=v.t.y[a]):(x=v.t.y[a],A=v.t.x[a]),I[x][1].push(A);v.t&&v.t._scene&&delete v.t._scene.dirty}else if(v.hasOwnProperty("z")){A=v.z;var E=l(p.type,u,A);for(a=0;a<A.length;a++)for(s=0;s<A[a].length;s++)(x=E(s,a))+1&&I[x][1].push(A[a][s])}else for(void 0===(x=v.p)&&(x=v[Q]),void 0===(A=v.s)&&(A=v.v),void 0===A&&(A=U?v.y:v.x),Array.isArray(A)||(A=void 0===A?[]:[A]),a=0;a<A.length;a++)I[x][1].push(A[a])}}}u._categoriesValue=I;var V=[];for(r=0;r<I.length;r++)V.push([I[r][0],c[F](I[r][1])]);V.sort("descending"===h?d:g),u._categoriesAggregatedValue=V,u._initialCategories=V.map(function(t){return t[0]}),o=o.concat(u.sortByInitialCategories())}}}return o}function setupAxisCategories(t,e,i){var r={};function n(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),r[t._id]=1}Lib$1E.simpleMap(t,n);for(var a=i._axisMatchGroups||[],s=0;s<a.length;s++)for(var o in a[s])r[o]||n(i[axisIDs$1.id2name(o)])}function doCrossTraceCalc(t){var e,i,r,n=t._fullLayout,a=n._visibleModules,s={};for(i=0;i<a.length;i++){var o=a[i],l=o.crossTraceCalc;if(l){var c=o.basePlotModule.name;s[c]?Lib$1E.pushUnique(s[c],l):s[c]=[l]}}for(r in s){var g=s[r],d=n._subplots[r];if(Array.isArray(d))for(e=0;e<d.length;e++){var u=d[e],B="cartesian"===r?n._plots[u]:n[u];for(i=0;i<g.length;i++)g[i](t,B,u)}else for(i=0;i<g.length;i++)g[i](t)}}plots$1.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},plots$1.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},plots$1.reselect=function(t){var e=t._fullLayout,i=(t.layout||{}).selections,r=e._previousSelections;e._previousSelections=i;var n=e._reselect||JSON.stringify(i)!==JSON.stringify(r);Registry$K.getComponentMethod("selections","reselect")(t,n)},plots$1.generalUpdatePerTraceModule=function(t,e,i,r){var n,a=e.traceHash,s={};for(n=0;n<i.length;n++){var o=i[n],l=o[0].trace;l.visible&&(s[l.type]=s[l.type]||[],s[l.type].push(o))}for(var c in a)if(!s[c]){var g=a[c][0];g[0].trace.visible=!1,s[c]=[g]}for(var d in s){var u=s[d];u[0][0].trace._module.plot(t,e,Lib$1E.filterVisible(u),r)}e.traceHash=s},plots$1.plotBasePlot=function(t,e,i,r,n){var a=Registry$K.getModule(t),s=getModuleCalcData$1(e.calcdata,a)[0];a.plot(e,s,r,n)},plots$1.cleanBasePlot=function(t,e,i,r,n){var a=n._has&&n._has(t),s=i._has&&i._has(t);a&&!s&&n["_"+t+"layer"].selectAll("g.trace").remove()};var plotsExports=plots$2.exports,axes$1={exports:{}},svg_text_utils={},xmlns_namespaces={};!function(t){t.xmlns="http://www.w3.org/2000/xmlns/",t.svg="http://www.w3.org/2000/svg",t.xlink="http://www.w3.org/1999/xlink",t.svgAttrs={xmlns:t.svg,"xmlns:xlink":t.xlink}}(xmlns_namespaces);var alignment$1={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}};!function(t){var e=d3Exports,i=libExports,r=i.strTranslate,n=xmlns_namespaces,a=alignment$1.LINE_SPACING,s=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;t.convertToTspans=function(F,x,A){var R=F.text(),S=!F.attr("data-notex")&&x&&x._context.typesetMath&&"undefined"!=typeof MathJax&&R.match(s),G=e.select(F.node().parentNode);if(!G.empty()){var E=F.attr("class")?F.attr("class").split(" ")[0]:"text";return E+="-math",G.selectAll("svg."+E).remove(),G.selectAll("g."+E+"-group").remove(),F.style("display",null).attr({"data-unformatted":R,"data-math":"N"}),S?(x&&x._promises||[]).push(new Promise(function(t){F.style("display","none");var n=parseInt(F.node().style.fontSize,10),a={fontSize:n};!function(t,r,n){var a,s,g,d,u=parseInt((MathJax.version||"").split(".")[0]);if(2!==u&&3!==u)return void i.warn("No MathJax version:",MathJax.version);var B=function(){return s=i.extendDeepAll({},MathJax.Hub.config),g=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:c},displayAlign:"left"})},F=function(){s=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=c},h=function(){if("SVG"!==(a=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Q=function(){"svg"!==(a=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg")},U=function(){var n="math-output-"+i.randstr({},64);d=e.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(function(t){return t.replace(o,"\\lt ").replace(l,"\\gt ")}(t));var a=d.node();return 2===u?MathJax.Hub.Typeset(a):MathJax.typeset([a])},I=function(){var r=d.select(2===u?".MathJax_SVG":".MathJax"),a=!r.empty()&&d.select("svg").node();if(a){var s,o=a.getBoundingClientRect();s=2===u?e.select("body").select("#MathJax_SVG_glyphs"):r.select("defs"),n(r,s,o)}else i.log("There was an error in the tex syntax.",t),n();d.remove()},b=function(){if("SVG"!==a)return MathJax.Hub.setRenderer(a)},p=function(){"svg"!==a&&(MathJax.config.startup.output=a)},y=function(){return void 0!==g&&(MathJax.Hub.processSectionDelay=g),MathJax.Hub.Config(s)},m=function(){MathJax.config=s};2===u?MathJax.Hub.Queue(B,h,U,I,b,y):3===u&&(F(),Q(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){U(),I(),p(),m()}))}(S[2],a,function(e,i,a){G.selectAll("svg."+E).remove(),G.selectAll("g."+E+"-group").remove();var s=e&&e.select("svg");if(!s||!s.node())return V(),void t();var o=G.append("g").classed(E+"-group",!0).attr({"pointer-events":"none","data-unformatted":R,"data-math":"Y"});o.node().appendChild(s.node()),i&&i.node()&&s.node().insertBefore(i.node().cloneNode(!0),s.node().firstChild);var l=a.width,c=a.height;s.attr({class:E,height:c,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var g=F.node().style.fill||"black",d=s.select("g");d.attr({fill:g,stroke:g});var u=d.node().getBoundingClientRect(),B=u.width,h=u.height;(B>l||h>c)&&(s.style("overflow","hidden"),B=(u=s.node().getBoundingClientRect()).width,h=u.height);var Q=+F.attr("x"),U=+F.attr("y"),I=-(n||F.node().getBoundingClientRect().height)/4;if("y"===E[0])o.attr({transform:"rotate("+[-90,Q,U]+")"+r(-B/2,I-h/2)});else if("l"===E[0])U=I-h/2;else if("a"===E[0]&&0!==E.indexOf("atitle"))Q=0,U=I;else{var b=F.attr("text-anchor");Q-=B*("middle"===b?.5:"end"===b?1:0),U=U+I-h/2}s.attr({x:Q,y:U}),A&&A.call(F,o),t(o)})})):V(),F}function V(){G.empty()||(E=F.attr("class")+"-math",G.select("svg."+E).remove()),F.text("").style("white-space","pre");var r=function(t,r){r=r.replace(h," ");var s,o=!1,l=[],c=-1;function F(){c++;var i=document.createElementNS(n.svg,"tspan");e.select(i).attr({class:"line",dy:c*a+"em"}),t.appendChild(i),s=i;var r=l;if(l=[{node:i}],r.length>1)for(var o=1;o<r.length;o++)x(r[o])}function x(t){var i,r=t.type,a={};if("a"===r){i="a";var o=t.target,c=t.href,g=t.popup;c&&(a={"xlink:xlink:show":"_blank"===o||"_"!==o.charAt(0)?"new":"replace",target:o,"xlink:xlink:href":c},g&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+g+'");return false;'))}else i="tspan";t.style&&(a.style=t.style);var F=document.createElementNS(n.svg,i);if("sup"===r||"sub"===r){A(s,B),s.appendChild(F);var h=document.createElementNS(n.svg,"tspan");A(h,B),e.select(h).attr("dy",u[r]),a.dy=d[r],s.appendChild(F),s.appendChild(h)}else s.appendChild(F);e.select(F).attr(a),s=t.node=F,l.push(t)}function A(t,e){t.appendChild(document.createTextNode(e))}function R(t){if(1!==l.length){var e=l.pop();t!==e.type&&i.log("Start tag <"+e.type+"> doesnt match end tag <"+t+">. Pretending it did match.",r),s=l[l.length-1].node}else i.log("Ignoring unexpected end tag </"+t+">.",r)}var S=I.test(r);S?F():(s=t,l=[{node:t}]);for(var G=r.split(Q),E=0;E<G.length;E++){var V=G[E],Z=V.match(U),N=Z&&Z[2].toLowerCase(),D=g[N];if("br"===N)F();else if(void 0===D)A(s,v(V));else if(Z[1])R(N);else{var w=Z[4],X={type:N},W=C(w,b);if(W?(W=W.replace(f,"$1 fill:"),D&&(W+=";"+D)):D&&(W=D),W&&(X.style=W),"a"===N){o=!0;var H=C(w,p);if(H){var T=L(H);T&&(X.href=T,X.target=C(w,y)||"_blank",X.popup=C(w,m))}}x(X)}}return o}(F.node(),R);r&&F.style("pointer-events","all"),t.positionText(F),A&&A.call(F)}};var o=/(<|&lt;|&#60;)/g,l=/(>|&gt;|&#62;)/g;var c=[["$","$"],["\\(","\\)"]];var g={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},B="â",F=["http:","https:","mailto:","",void 0,":"],h=t.NEWLINES=/(\r\n?|\n)/g,Q=/(<[^<>]*>)/,U=/<(\/?)([^ >]*)(\s+(.*))?>/i,I=/<br(\s+.*)?>/i;t.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,p=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function C(t,e){if(!t)return null;var i=t.match(e),r=i&&(i[3]||i[4]);return r&&v(r)}var f=/(^|;)\s*color:/;t.plainText=function(t,e){for(var i=void 0!==(e=e||{}).len&&-1!==e.len?e.len:1/0,r=void 0!==e.allowedTags?e.allowedTags:["br"],n=t.split(Q),a=[],s="",o=0,l=0;l<n.length;l++){var c=n[l],g=c.match(U),d=g&&g[2].toLowerCase();if(d)-1!==r.indexOf(d)&&(a.push(c),s=d);else{var u=c.length;if(o+u<i)a.push(c),o+=u;else if(o<i){var B=i-o;s&&("br"!==s||B<=3||u<=3)&&a.pop(),i>3?a.push(c.substr(0,B-3)+"..."):a.push(c.substr(0,B));break}s=""}}return a.join("")};var x={mu:"Î¼",amp:"&",lt:"<",gt:">",nbsp:"Â ",times:"Ã",plusmn:"Â±",deg:"Â°"},A=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function v(t){return t.replace(A,function(t,e){var i;return i="#"===e.charAt(0)?function(t){if(t>1114111)return;var e=String.fromCodePoint;if(e)return e(t);var i=String.fromCharCode;return t<=65535?i(t):i(55232+(t>>10),t%1024+56320)}("x"===e.charAt(1)?parseInt(e.substr(2),16):parseInt(e.substr(1),10)):x[e],i||t})}function L(t){var e=encodeURI(decodeURI(t)),i=document.createElement("a"),r=document.createElement("a");i.href=t,r.href=e;var n=i.protocol,a=r.protocol;return-1!==F.indexOf(n)&&-1!==F.indexOf(a)?e:""}function R(t,e,r){var n,a,s,o=r.horizontalAlign,l=r.verticalAlign||"top",c=t.node().getBoundingClientRect(),g=e.node().getBoundingClientRect();return a="bottom"===l?function(){return c.bottom-n.height}:"middle"===l?function(){return c.top+(c.height-n.height)/2}:function(){return c.top},s="right"===o?function(){return c.right-n.width}:"center"===o?function(){return c.left+(c.width-n.width)/2}:function(){return c.left},function(){n=this.node().getBoundingClientRect();var t=s()-g.left,e=a()-g.top,o=r.gd||{};if(r.gd){o._fullLayout._calcInverseTransform(o);var l=i.apply3DTransform(o._fullLayout._invTransform)(t,e);t=l[0],e=l[1]}return this.style({top:e+"px",left:t+"px","z-index":1e3}),this}}t.convertEntities=v,t.sanitizeHTML=function(t){t=t.replace(h," ");for(var i=document.createElement("p"),r=i,n=[],a=t.split(Q),s=0;s<a.length;s++){var o=a[s],l=o.match(U),c=l&&l[2].toLowerCase();if(c in g)if(l[1])n.length&&(r=n.pop());else{var d=l[4],u=C(d,b),B=u?{style:u}:{};if("a"===c){var F=C(d,p);if(F){var I=L(F);if(I){B.href=I;var m=C(d,y);m&&(B.target=m)}}}var f=document.createElement(c);r.appendChild(f),e.select(f).attr(B),r=f,n.push(f)}else r.appendChild(document.createTextNode(v(o)))}return i.innerHTML},t.lineCount=function(t){return t.selectAll("tspan.line").size()||1},t.positionText=function(t,i,r){return t.each(function(){var t=e.select(this);function n(e,i){return void 0===i?null===(i=t.attr(e))&&(t.attr(e,0),i=0):t.attr(e,i),i}var a=n("x",i),s=n("y",r);"text"===this.nodeName&&t.selectAll("tspan.line").attr({x:a,y:s})})};var S="1px ";t.makeTextShadow=function(t){return S+S+S+t+", -"+S+"-"+S+S+t+", "+S+"-"+S+S+t+", -"+S+S+S+t},t.makeEditable=function(t,i){var r=i.gd,n=i.delegate,a=e.dispatch("edit","input","cancel"),s=n||t;if(t.style({"pointer-events":n?"none":"all"}),1!==t.size())throw new Error("boo");function o(){!function(){var n=e.select(r).select(".svg-container"),s=n.append("div"),o=t.node().style,c=parseFloat(o.fontSize||12),g=i.text;void 0===g&&(g=t.attr("data-unformatted"));s.classed("plugin-editable editable",!0).style({position:"absolute","font-family":o.fontFamily||"Arial","font-size":c,color:i.fill||o.fill||"black",opacity:1,"background-color":i.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(g).call(R(t,n,i)).on("blur",function(){r._editing=!1,t.text(this.textContent).style({opacity:1});var i,n=e.select(this).attr("class");(i=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(t.node().parentNode).select(i).style({opacity:0});var s=this.textContent;e.select(this).transition().duration(0).remove(),e.select(document).on("mouseup",null),a.edit.call(t,s)}).on("focus",function(){var t=this;r._editing=!0,e.select(document).on("mouseup",function(){if(e.event.target===t)return!1;document.activeElement===s.node()&&s.node().blur()})}).on("keyup",function(){27===e.event.which?(r._editing=!1,t.style({opacity:1}),e.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(t,this.textContent)):(a.input.call(t,this.textContent),e.select(this).call(R(t,n,i)))}).on("keydown",function(){13===e.event.which&&this.blur()}).call(l)}(),t.style({opacity:0});var n,o=s.attr("class");(n=o?"."+o.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(t.node().parentNode).select(n).style({opacity:0})}function l(t){var e=t.node(),i=document.createRange();i.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(i),e.focus()}return i.immediate?o():s.on("click",o),e.rebind(t,a,"on")}}(svg_text_utils);var drawing$1={exports:{}},d3$q=d3Exports,tinycolor$6=tinycolorExports,isNumeric$q=fastIsnumeric,Lib$1D=libExports,Color$A=colorExports,isValidScale$1=scales_1.isValid;function hasColorscale$6(t,e,i){var r=e?Lib$1D.nestedProperty(t,e).get()||{}:t,n=r[i||"color"];n&&n._inputArray&&(n=n._inputArray);var a=!1;if(Lib$1D.isArrayOrTypedArray(n))for(var s=0;s<n.length;s++)if(isNumeric$q(n[s])){a=!0;break}return Lib$1D.isPlainObject(r)&&(a||!0===r.showscale||isNumeric$q(r.cmin)&&isNumeric$q(r.cmax)||isValidScale$1(r.colorscale)||Lib$1D.isPlainObject(r.colorbar))}var constantAttrs=["showscale","autocolorscale","colorscale","reversescale","colorbar"],letterAttrs=["min","max","mid","auto"];function extractOpts$4(t){var e,i,r,n=t._colorAx,a=n||t,s={};for(i=0;i<constantAttrs.length;i++)s[r=constantAttrs[i]]=a[r];if(n)for(e="c",i=0;i<letterAttrs.length;i++)s[r=letterAttrs[i]]=a["c"+r];else{var o;for(i=0;i<letterAttrs.length;i++)((o="c"+(r=letterAttrs[i]))in a||(o="z"+r)in a)&&(s[r]=a[o]);e=o.charAt(0)}return s._sync=function(t,i){var r=-1!==letterAttrs.indexOf(t)?e+t:t;a[r]=a["_"+r]=i},s}function extractScale(t){for(var e=extractOpts$4(t),i=e.min,r=e.max,n=e.reversescale?flipScale$1(e.colorscale):e.colorscale,a=n.length,s=new Array(a),o=new Array(a),l=0;l<a;l++){var c=n[l];s[l]=i+c[0]*(r-i),o[l]=c[1]}return{domain:s,range:o}}function flipScale$1(t){for(var e=t.length,i=new Array(e),r=e-1,n=0;r>=0;r--,n++){var a=t[r];i[n]=[1-a[0],a[1]]}return i}function makeColorScaleFunc(t,e){e=e||{};for(var i=t.domain,r=t.range,n=r.length,a=new Array(n),s=0;s<n;s++){var o=tinycolor$6(r[s]).toRgb();a[s]=[o.r,o.g,o.b,o.a]}var l,c=d3$q.scale.linear().domain(i).range(a).clamp(!0),g=e.noNumericCheck,d=e.returnArray;return l=g&&d?c:g?function(t){return colorArray2rbga(c(t))}:d?function(t){return isNumeric$q(t)?c(t):tinycolor$6(t).isValid()?t:Color$A.defaultLine}:function(t){return isNumeric$q(t)?colorArray2rbga(c(t)):tinycolor$6(t).isValid()?t:Color$A.defaultLine},l.domain=c.domain,l.range=function(){return r},l}function makeColorScaleFuncFromTrace(t,e){return makeColorScaleFunc(extractScale(t),e)}function colorArray2rbga(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return tinycolor$6(e).toRgbString()}var helpers$A={hasColorscale:hasColorscale$6,extractOpts:extractOpts$4,extractScale:extractScale,flipScale:flipScale$1,makeColorScaleFunc:makeColorScaleFunc,makeColorScaleFuncFromTrace:makeColorScaleFuncFromTrace},docs=docs$2,FORMAT_LINK=docs.FORMAT_LINK,DATE_FORMAT_LINK=docs.DATE_FORMAT_LINK;function axisHoverFormat$7(t,e){return{valType:"string",dflt:"",editType:"none",description:(e?descriptionOnlyNumbers:descriptionWithDates$1)("hover text",t)+["By default the values are formatted using "+(e?"generic number format":"`"+t+"axis.hoverformat`")+"."].join(" ")}}function descriptionOnlyNumbers(t,e){return["Sets the "+t+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+FORMAT_LINK+"."].join(" ")}function descriptionWithDates$1(t,e){return descriptionOnlyNumbers(t,e)+[" And for dates see: "+DATE_FORMAT_LINK+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}var axis_format_attributes={axisHoverFormat:axisHoverFormat$7,descriptionWithDates:descriptionWithDates$1},fontAttrs$b=requireFont_attributes(),colorAttrs$4=attributes$K,dash$3=attributes$J.dash,extendFlat$f=extend.extendFlat,templatedArray$8=plot_template.templatedArray,templateFormatStringDescription=template_attributes.templateFormatStringDescription,descriptionWithDates=axis_format_attributes.descriptionWithDates,ONEDAY$3=numerical.ONEDAY,constants$J=constants$K,HOUR$1=constants$J.HOUR_PATTERN,DAY_OF_WEEK$1=constants$J.WEEKDAY_PATTERN,minorTickmode={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},tickmode=extendFlat$f({},minorTickmode,{values:minorTickmode.values.slice().concat(["sync"]),description:[minorTickmode.description,"If *sync*, the number of ticks will sync with the overlayed axis","set by `overlaying` property."].join(" ")});function makeNticks(t){return{valType:"integer",min:0,dflt:t?5:0,editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")}}var tick0={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},tickvals={valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticks={valType:"enumerated",values:["outside","inside",""],editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")};function makeTicklen(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the tick length (in px)."};return t||(e.dflt=5),e}function makeTickwidth(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the tick width (in px)."};return t||(e.dflt=1),e}var tickcolor={valType:"color",dflt:colorAttrs$4.defaultLine,editType:"ticks",description:"Sets the tick color."},gridcolor={valType:"color",dflt:colorAttrs$4.lightLine,editType:"ticks",description:"Sets the color of the grid lines."};function makeGridwidth(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the width (in px) of the grid lines."};return t||(e.dflt=1),e}var griddash=extendFlat$f({},dash$3,{editType:"ticks"}),showgrid={valType:"boolean",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},layout_attributes$3={visible:{valType:"boolean",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:colorAttrs$4.defaultLine,editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{text:{valType:"string",editType:"ticks",description:"Sets the title of this axis."},font:fontAttrs$b({editType:"ticks",description:"Sets this axis' title font."}),standoff:{valType:"number",min:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis labels and the title text","The default value is a function of the axis tick labels, the title `font.size`","and the axis `linewidth`.","Note that the axis title position is always constrained within the margins,","so the actual standoff distance is always less than the set or default value.","By setting `standoff` and turning on `automargin`, plotly.js will push the","margins to fit the axis title at given standoff distance."].join(" ")},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","Defaults to layout.autotypenumbers."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided and it has a value for both the","lower and upper bound, `autorange` is set to *false*.","Using *min* applies autorange only to set the minimum.","Using *max* applies autorange only to set the maximum.","Using *min reversed* applies autorange only to set the minimum on a reversed axis.","Using *max reversed* applies autorange only to set the maximum on a reversed axis.","Using *reversed* applies autorange on both ends and reverses the axis direction."].join(" ")},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Use this value exactly as autorange minimum."].join(" ")},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Use this value exactly as autorange maximum."].join(" ")},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Clip autorange minimum if it goes beyond this value.","Has no effect when `autorangeoptions.minallowed` is provided."].join(" ")},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Clip autorange maximum if it goes beyond this value.","Has no effect when `autorangeoptions.maxallowed` is provided."].join(" ")},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Ensure this value is included in autorange."].join(" ")},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","Applies only to linear axes."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0,description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears.","Leaving either or both elements `null` impacts the default `autorange`."].join(" ")},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1},description:["Determines the minimum range of this axis."].join(" ")},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1},description:["Determines the maximum range of this axis."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar",description:["Disables certain modebar buttons for this axis.","*autoscale* disables the autoscale buttons, *zoominout*","disables the zoom-in and zoom-out buttons."].join(" ")},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Could be used to set the desired inside range of this axis","(excluding the labels) when `ticklabelposition` of","the anchored axis has *inside*.","Not implemented for axes with `type` *log*.","This would be ignored when `range` is provided."].join(" ")},scaleanchor:{valType:"enumerated",values:[constants$J.idRegex.x.toString(),constants$J.idRegex.y.toString(),!1],editType:"plot",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Setting `false` allows to remove a default constraint (occasionally,","you may need to prevent a default `scaleanchor` constraint from",'being applied, eg. when having an image trace `yaxis: {scaleanchor: "x"}`',"is set automatically in order for pixels to be rendered as squares,","setting `yaxis: {scaleanchor: false}` allows to remove the constraint)."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range*, or by decreasing the *domain*.","Default is *domain* for axes containing image traces, *range* otherwise."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},matches:{valType:"enumerated",values:[constants$J.idRegex.x.toString(),constants$J.idRegex.y.toString()],editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","will match the range of the corresponding axis in data-coordinates space.","Moreover, matching axes share auto-range values, category lists and","histogram auto-bins.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Moreover, note that matching axes must have the same `type`."].join(" ")},rangebreaks:templatedArray$8("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this axis rangebreak is enabled or disabled.","Please note that `rangebreaks` only work for *date* axis type."].join(" ")},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the lower and upper bounds of this axis rangebreak.","Can be used with `pattern`."].join(" ")},pattern:{valType:"enumerated",values:[DAY_OF_WEEK$1,HOUR$1,""],editType:"calc",description:["Determines a pattern on the time line that generates breaks.","If *"+DAY_OF_WEEK$1+"* - days of the week in English e.g. 'Sunday' or `sun`","(matching is case-insensitive and considers only the first three characters),","as well as Sunday-based integers between 0 and 6.","If *"+HOUR$1+"* - hour (24-hour clock) as decimal numbers between 0 and 24.","for more info.","Examples:","- { pattern: '"+DAY_OF_WEEK$1+"', bounds: [6, 1] }"," or simply { bounds: ['sat', 'mon'] }","  breaks from Saturday to Monday (i.e. skips the weekends).","- { pattern: '"+HOUR$1+"', bounds: [17, 8] }","  breaks from 5pm to 8am (i.e. skips non-work hours)."].join(" ")},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"},description:["Sets the coordinate values corresponding to the rangebreaks.","An alternative to `bounds`.","Use `dvalue` to set the size of the values along the axis."].join(" ")},dvalue:{valType:"number",editType:"calc",min:0,dflt:ONEDAY$3,description:["Sets the size of each `values` item.","The default is one day in milliseconds."].join(" ")},editType:"calc"}),tickmode:tickmode,nticks:makeNticks(),tick0:tick0,dtick:dtick,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks",description:["Sets the spacing between tick labels as compared to the spacing between ticks.","A value of 1 (default) means each tick gets a label.","A value of 2 means shows every 2nd label.","A larger value n means only every nth tick is labeled.","`tick0` determines which labels are shown.","Not implemented for axes with `type` *log* or *multicategory*, or when `tickmode` is *array*."].join(" ")},tickvals:tickvals,ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:ticks,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks",description:["Determines where ticks and grid lines are drawn with respect to their","corresponding tick labels.","Only has an effect for axes of `type` *category* or *multicategory*.","When set to *boundaries*, ticks and grid lines are drawn half a category","to the left/bottom of labels."].join(" ")},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks",description:["Determines where tick labels are drawn with respect to their","corresponding ticks and grid lines.","Only has an effect for axes of `type` *date*","When set to *period*, tick labels are drawn in the middle of the period","between ticks."].join(" ")},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc",description:["Determines where tick labels are drawn with respect to the axis.","Please note that","top or bottom has no effect on x axes or when `ticklabelmode` is set to *period*","or when `tickson` is set to *boundaries*. Similarly,","left or right has no effect on y axes or when `ticklabelmode` is set to *period*","or when `tickson` is set to *boundaries*.","Has no effect on *multicategory* axes.","When used on axes linked by `matches` or `scaleanchor`,","no extra padding for inside labels would be added by autorange,","so that the scales could match."].join(" ")},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc",description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","Otherwise on *category* and *multicategory* axes the default is *allow*.","In other cases the default is *hide past div*."].join(" ")},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks",description:["Shifts the tick labels by the specified number of pixels in parallel to the axis.","Positive values move the labels in the positive direction of the axis."].join(" ")},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis tick labels and their default position.","A positive `ticklabelstandoff` moves the labels farther away from the plot area","if `ticklabelposition` is *outside*, and deeper into the plot area if","`ticklabelposition` is *inside*. A negative `ticklabelstandoff` works in the opposite","direction, moving outside ticks towards the plot area and inside ticks towards","the outside. If the negative value is large enough, inside ticks can even end up","outside and vice versa."].join(" ")},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc",description:["Only for axes with `type` *date* or *linear*.","Instead of drawing the major tick label, draw the label for the minor tick","that is n positions away from the major tick. E.g. to always draw the label for the","minor tick before each major tick, choose `ticklabelindex` -1. This is useful for date","axes with `ticklabelmode` *period* if you want to label the period that ends with each","major tick instead of the period that begins there."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:makeTicklen(),tickwidth:makeTickwidth(),tickcolor:tickcolor,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks",description:"Determines whether or not the tick labels are drawn."},labelalias:{valType:"any",dflt:!1,editType:"ticks",description:["Replacement text for specific tick or hover labels.","For example using {US: 'USA', CA: 'Canada'} changes US to USA","and CA to Canada. The labels we would have shown must match","the keys exactly, after adding any tickprefix or ticksuffix.","For negative numbers the minus sign symbol used (U+2212) is wider than the regular ascii dash.","That means you need to use â1 instead of -1.","labelalias can be used with any axis type, and both keys (if needed)","and values (if desired) can include html-like tags or MathJax."].join(" ")},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks",description:["Determines whether long tick labels automatically grow the figure","margins."].join(" ")},showspikes:{valType:"boolean",dflt:!1,editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:extendFlat$f({},dash$3,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:fontAttrs$b({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks",description:["When `tickangle` is set to *auto*, it will be set to the first","angle in this array that is large enough to prevent label","overlap."].join(" ")},tickprefix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks",description:["Hide SI prefix for 10^n if |n| is below this number.","This only has an effect when `tickformat` is *SI* or *B*."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",editType:"ticks",description:descriptionWithDates("tick label")},tickformatstops:templatedArray$8("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not this stop is used.","If `false`, this stop is ignored even within its `dtickrange`."].join(" ")},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks",description:["range [*min*, *max*], where *min*, *max* - dtick values","which describe some zoom level, it is possible to omit *min*","or *max* value by passing *null*"].join(" ")},value:{valType:"string",dflt:"",editType:"ticks",description:["string - dtickformat for described zoom level, the same as *tickformat*"].join(" ")},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:descriptionWithDates("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none",description:["Template string used for rendering the title that appear on x or y unified hover box.",templateFormatStringDescription()].join(" ")},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:colorAttrs$4.defaultLine,editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:showgrid,gridcolor:gridcolor,gridwidth:makeGridwidth(),griddash:griddash,zeroline:{valType:"boolean",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:colorAttrs$4.defaultLine,editType:"ticks",description:"Sets the line color of the zero line."},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot",description:["Sets the layer on which this zeroline is displayed.","If *above traces*, this zeroline is displayed above all the subplot's traces","If *below traces*, this zeroline is displayed below all the subplot's traces,","but above the grid lines. Limitation: *zerolinelayer* currently has no effect","if the *zorder* property is set on any trace."].join(" ")},zerolinewidth:{valType:"number",dflt:1,editType:"ticks",description:"Sets the width (in px) of the zero line."},showdividers:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not a dividers are drawn","between the category levels of this axis.","Only has an effect on *multicategory* axes."].join(" ")},dividercolor:{valType:"color",dflt:colorAttrs$4.defaultLine,editType:"ticks",description:["Sets the color of the dividers","Only has an effect on *multicategory* axes."].join(" ")},dividerwidth:{valType:"number",dflt:1,editType:"ticks",description:["Sets the width (in px) of the dividers","Only has an effect on *multicategory* axes."].join(" ")},anchor:{valType:"enumerated",values:["free",constants$J.idRegex.x.toString(),constants$J.idRegex.y.toString()],editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",constants$J.idRegex.x.toString(),constants$J.idRegex.y.toString()],editType:"plot",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis, with traces and axes visible for both","axes.","If *false*, this axis does not overlay any same-letter axes.","In this case, for axes with overlapping domains only the highest-numbered","axis will be visible."].join(" ")},minor:{tickmode:minorTickmode,nticks:makeNticks("minor"),tick0:tick0,dtick:dtick,tickvals:tickvals,ticks:ticks,ticklen:makeTicklen("minor"),tickwidth:makeTickwidth("minor"),tickcolor:tickcolor,gridcolor:gridcolor,gridwidth:makeGridwidth("minor"),griddash:griddash,showgrid:showgrid,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc",description:["Determines how minor log labels are displayed.","If *small digits*, small digits i.e. 2 or 5 are displayed.","If *complete*, complete digits are displayed.","If *none*, no labels are displayed."].join(" ")},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},autoshift:{valType:"boolean",dflt:!1,editType:"plot",description:["Automatically reposition the axis to avoid","overlap with other axes with the same `overlaying` value.","This repositioning will account for any `shift` amount applied to other","axes on the same side with `autoshift` is set to true.","Only has an effect if `anchor` is set to *free*."].join(" ")},shift:{valType:"number",editType:"plot",description:["Moves the axis a given number of pixels from where it would have been otherwise.","Accepts both positive and negative values, which will shift the axis either right","or left, respectively.","If `autoshift` is set to true, then this defaults to a padding of -3 if `side` is set to *left*.","and defaults to +3 if `side` is set to *right*. Defaults to 0 if `autoshift` is set to false.","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`.","Set `categoryorder` to *total ascending* or *total descending* if order should be determined by the","numerical order of the values.","Similarly, the order can be determined by the min, max, sum, mean, geometric mean or median of all the values."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, and `title` if in `editable: true` configuration.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"},axesAttrs=layout_attributes$3,fontAttrs$a=requireFont_attributes(),extendFlat$e=extend.extendFlat,overrideAll$9=edit_types.overrideAll,attributes$G=overrideAll$9({orientation:{valType:"enumerated",values:["h","v"],dflt:"v",description:"Sets the orientation of the colorbar."},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",description:["Sets the x position with respect to `xref` of the color bar (in plot fraction).","When `xref` is *paper*, defaults to 1.02 when `orientation` is *v* and","0.5 when `orientation` is *h*.","When `xref` is *container*, defaults to *1* when `orientation` is *v* and","0.5 when `orientation` is *h*.","Must be between *0* and *1* if `xref` is *container*","and between *-2* and *3* if `xref` is *paper*."].join(" ")},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar.","Defaults to *left* when `orientation` is *v* and","*center* when `orientation` is *h*."].join(" ")},xpad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",description:["Sets the y position with respect to `yref` of the color bar (in plot fraction).","When `yref` is *paper*, defaults to 0.5 when `orientation` is *v* and","1.02 when `orientation` is *h*.","When `yref` is *container*, defaults to 0.5 when `orientation` is *v* and","1 when `orientation` is *h*.","Must be between *0* and *1* if `yref` is *container*","and between *-2* and *3* if `yref` is *paper*."].join(" ")},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar.","Defaults to *middle* when `orientation` is *v* and","*bottom* when `orientation` is *h*."].join(" ")},ypad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:axesAttrs.linecolor,outlinewidth:axesAttrs.linewidth,bordercolor:axesAttrs.linecolor,borderwidth:{valType:"number",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:axesAttrs.minor.tickmode,nticks:axesAttrs.nticks,tick0:axesAttrs.tick0,dtick:axesAttrs.dtick,tickvals:axesAttrs.tickvals,ticktext:axesAttrs.ticktext,ticks:extendFlat$e({},axesAttrs.ticks,{dflt:""}),ticklabeloverflow:extendFlat$e({},axesAttrs.ticklabeloverflow,{description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","In other cases the default is *hide past div*."].join(" ")}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",description:["Determines where tick labels are drawn relative to the ticks.","Left and right options are used when `orientation` is *h*,","top and bottom when `orientation` is *v*."].join(" ")},ticklen:axesAttrs.ticklen,tickwidth:axesAttrs.tickwidth,tickcolor:axesAttrs.tickcolor,ticklabelstep:axesAttrs.ticklabelstep,showticklabels:axesAttrs.showticklabels,labelalias:axesAttrs.labelalias,tickfont:fontAttrs$a({description:"Sets the color bar's tick label font"}),tickangle:axesAttrs.tickangle,tickformat:axesAttrs.tickformat,tickformatstops:axesAttrs.tickformatstops,tickprefix:axesAttrs.tickprefix,showtickprefix:axesAttrs.showtickprefix,ticksuffix:axesAttrs.ticksuffix,showticksuffix:axesAttrs.showticksuffix,separatethousands:axesAttrs.separatethousands,exponentformat:axesAttrs.exponentformat,minexponent:axesAttrs.minexponent,showexponent:axesAttrs.showexponent,title:{text:{valType:"string",description:"Sets the title of the color bar."},font:fontAttrs$a({description:"Sets this color bar's title font."}),side:{valType:"enumerated",values:["right","top","bottom"],description:["Determines the location of color bar's title","with respect to the color bar.","Defaults to *top* when `orientation` if *v* and ","defaults to *right* when `orientation` if *h*."].join(" ")}}},"colorbars","from-root"),colorbarAttrs=attributes$G,counterRegex$1=regex.counter,sortObjectKeys$1=sort_object_keys,palettes=scales_1.scales,paletteStr=sortObjectKeys$1(palettes);function code(t){return"`"+t+"`"}var attributes$F=function(t,e){t=t||"";var i,r,n=(e=e||{}).cLetter||"c",a="onlyIfNumerical"in e?e.onlyIfNumerical:Boolean(t),s="noScale"in e?e.noScale:"marker.line"===t,o="showScaleDflt"in e?e.showScaleDflt:"z"===n,l="string"==typeof e.colorscaleDflt?palettes[e.colorscaleDflt]:null,c=e.editTypeOverride||"",g=t?t+".":"";"colorAttr"in e?(i=e.colorAttr,r=e.colorAttr):r="in "+code(g+(i={z:"z",c:"color"}[n]));var d=a?" Has an effect only if "+r+" is set to a numerical array.":"",u=n+"auto",B=n+"min",F=n+"max",h=n+"mid",Q=code(g+u),U=code(g+B),I=code(g+F),b=U+" and "+I,p={};p[B]=p[F]=void 0;var y={};y[u]=!1;var m={};return"color"===i&&(m.color={valType:"color",arrayOk:!0,editType:c||"style",description:["Sets the",t,"color.","It accepts either a specific color","or an array of numbers that are mapped to the colorscale","relative to the max and min values of the array or relative to",b,"if set."].join(" ")},e.anim&&(m.color.anim=!0)),m[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:p,description:["Determines whether or not the color domain is computed","with respect to the input data (here "+r+") or the bounds set in",b+d,"Defaults to `false` when",b,"are set by the user."].join(" ")},m[B]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:y,description:["Sets the lower bound of the color domain."+d,"Value should have the same units as",r,"and if set,",I,"must be set as well."].join(" ")},m[F]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:y,description:["Sets the upper bound of the color domain."+d,"Value should have the same units as",r,"and if set,",U,"must be set as well."].join(" ")},m[h]={valType:"number",dflt:null,editType:"calc",impliedEdits:p,description:["Sets the mid-point of the color domain by scaling",U,"and/or",I,"to be equidistant to this point."+d,"Value should have the same units as",r+".","Has no effect when",Q,"is `false`."].join(" ")},m.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1},description:["Sets the colorscale."+d,"The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)'], [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in color space,","use",b+".","Alternatively, `colorscale` may be a palette name string","of the following list: "+paletteStr+"."].join(" ")},m.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by",code(g+"colorscale")+"."+d,"In case `colorscale` is unspecified or `autocolorscale` is true, the default","palette will be chosen according to whether numbers in the `color` array are","all positive, all negative or mixed."].join(" ")},m.reversescale={valType:"boolean",dflt:!1,editType:"plot",description:["Reverses the color mapping if true."+d,"If true,",U,"will correspond to the last color","in the array and",I,"will correspond to the first color."].join(" ")},s||(m.showscale={valType:"boolean",dflt:o,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace."+d].join(" ")},m.colorbar=colorbarAttrs),e.noColorAxis||(m.coloraxis={valType:"subplotid",regex:counterRegex$1("coloraxis"),dflt:null,editType:"calc",description:["Sets a reference to a shared color axis.","References to these shared color axes are *coloraxis*, *coloraxis2*, *coloraxis3*, etc.","Settings for these shared color axes are set in the layout, under","`layout.coloraxis`, `layout.coloraxis2`, etc.","Note that multiple color scales can be linked to the same color axis."].join(" ")}),m},extendFlat$d=extend.extendFlat,colorScaleAttrs$6=attributes$F,scales$1=scales_1.scales,msg="Note that `autocolorscale` must be true for this attribute to work.",layout_attributes$2={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:scales$1.Reds,editType:"calc",description:["Sets the default sequential colorscale for positive values.",msg].join(" ")},sequentialminus:{valType:"colorscale",dflt:scales$1.Blues,editType:"calc",description:["Sets the default sequential colorscale for negative values.",msg].join(" ")},diverging:{valType:"colorscale",dflt:scales$1.RdBu,editType:"calc",description:["Sets the default diverging colorscale.",msg].join(" ")}},coloraxis:extendFlat$d({_isSubplotObj:!0,editType:"calc",description:[""].join(" ")},colorScaleAttrs$6("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))},Lib$1C=libExports,has_colorbar=function(t){return Lib$1C.isPlainObject(t.colorbar)},clean_ticks={},isNumeric$p=fastIsnumeric,Lib$1B=libExports,constants$I=numerical,ONEDAY$2=constants$I.ONEDAY,ONEWEEK$3=constants$I.ONEWEEK;clean_ticks.dtick=function(t,e){var i="log"===e,r="date"===e,n="category"===e,a=r?ONEDAY$2:1;if(!t)return a;if(isNumeric$p(t))return(t=Number(t))<=0?a:n?Math.max(1,Math.round(t)):r?Math.max(.1,t):t;if("string"!=typeof t||!r&&!i)return a;var s=t.charAt(0),o=t.substr(1);return(o=isNumeric$p(o)?Number(o):0)<=0||!(r&&"M"===s&&o===Math.round(o)||i&&"L"===s||i&&"D"===s&&(1===o||2===o))?a:t},clean_ticks.tick0=function(t,e,i,r){return"date"===e?Lib$1B.cleanDate(t,Lib$1B.dateTick0(i,r%ONEWEEK$3===0?1:0)):"D1"!==r&&"D2"!==r?isNumeric$p(t)?Number(t):0:void 0};var cleanTicks$1=clean_ticks,isArrayOrTypedArray$9=libExports.isArrayOrTypedArray,isTypedArraySpec$2=array.isTypedArraySpec,decodeTypedArraySpec=array.decodeTypedArraySpec,tick_value_defaults=function(t,e,i,r,n){n||(n={});var a=n.isMinor,s=a?t.minor||{}:t,o=a?e.minor:e,l=a?"minor.":"";function c(t){var e=s[t];return isTypedArraySpec$2(e)&&(e=decodeTypedArraySpec(e)),void 0!==e?e:(o._template||{})[t]}var g=c("tick0"),d=c("dtick"),u=c("tickvals"),B=i(l+"tickmode",isArrayOrTypedArray$9(u)?"array":d?"linear":"auto");if("auto"===B||"sync"===B)i(l+"nticks");else if("linear"===B){var F=o.dtick=cleanTicks$1.dtick(d,r);o.tick0=cleanTicks$1.tick0(g,r,e.calendar,F)}else if("multicategory"!==r){void 0===i(l+"tickvals")?o.tickmode="auto":a||i("ticktext")}},Lib$1A=libExports,layoutAttributes$9=layout_attributes$3,tick_mark_defaults=function(t,e,i,r){var n=r.isMinor,a=n?t.minor||{}:t,s=n?e.minor:e,o=n?layoutAttributes$9.minor:layoutAttributes$9,l=n?"minor.":"",c=Lib$1A.coerce2(a,s,o,"ticklen",n?.6*(e.ticklen||5):void 0),g=Lib$1A.coerce2(a,s,o,"tickwidth",n?e.tickwidth||1:void 0),d=Lib$1A.coerce2(a,s,o,"tickcolor",(n?e.tickcolor:void 0)||s.color);i(l+"ticks",!n&&r.outerTicks||c||g||d?"outside":"")||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)},show_dflt=function(t){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(e){return void 0!==t[e]});if(e.every(function(i){return t[i]===t[e[0]]})||1===e.length)return t[e[0]]},Lib$1z=libExports,Template$8=plot_template,array_container_defaults=function(t,e,i){var r,n,a=i.name,s=i.inclusionAttr||"visible",o=e[a],l=Lib$1z.isArrayOrTypedArray(t[a])?t[a]:[],c=e[a]=[],g=Template$8.arrayTemplater(e,a,s);for(r=0;r<l.length;r++){var d=l[r];Lib$1z.isPlainObject(d)?n=g.newItem(d):(n=g.newItem({}))[s]=!1,n._index=r,!1!==n[s]&&i.handleItemDefaults(d,n,e,i),c.push(n)}var u=g.defaultItems();for(r=0;r<u.length;r++)(n=u[r])._index=c.length,i.handleItemDefaults({},n,e,i,{}),c.push(n);if(Lib$1z.isArrayOrTypedArray(o)){var B=Math.min(o.length,c.length);for(r=0;r<B;r++)Lib$1z.relinkPrivateKeys(c[r],o[r])}return c},Lib$1y=libExports,contrast=colorExports.contrast,layoutAttributes$8=layout_attributes$3,getShowAttrDflt$1=show_dflt,handleArrayContainerDefaults$9=array_container_defaults,tick_label_defaults=function(t,e,i,r,n){n||(n={});var a=i("labelalias");Lib$1y.isPlainObject(a)||delete e.labelalias;var s=getShowAttrDflt$1(t);if(i("showticklabels")){n.noTicklabelshift||i("ticklabelshift"),n.noTicklabelstandoff||i("ticklabelstandoff");var o=n.font||{},l=e.color,c=-1!==(e.ticklabelposition||"").indexOf("inside")?contrast(n.bgColor):l&&l!==layoutAttributes$8.color.dflt?l:o.color;if(Lib$1y.coerceFont(i,"tickfont",o,{overrideDflt:{color:c}}),n.noTicklabelstep||"multicategory"===r||"log"===r||i("ticklabelstep"),!n.noAng){var g=i("tickangle");n.noAutotickangles||"auto"!==g||i("autotickangles")}if("category"!==r){var d=i("tickformat");handleArrayContainerDefaults$9(t,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:tickformatstopDefaults}),e.tickformatstops.length||delete e.tickformatstops,n.noExp||d||"date"===r||(i("showexponent",s),i("exponentformat"),i("minexponent"),i("separatethousands"))}n.noMinorloglabels||"log"!==r||i("minorloglabels")}};function tickformatstopDefaults(t,e){function i(i,r){return Lib$1y.coerce(t,e,layoutAttributes$8.tickformatstops,i,r)}i("enabled")&&(i("dtickrange"),i("value"))}var getShowAttrDflt=show_dflt,prefix_suffix_defaults=function(t,e,i,r,n){n||(n={});var a=n.tickSuffixDflt,s=getShowAttrDflt(t);i("tickprefix")&&i("showtickprefix",s),i("ticksuffix",a)&&i("showticksuffix",s)},Lib$1x=libExports,Template$7=plot_template,handleTickValueDefaults$1=tick_value_defaults,handleTickMarkDefaults$1=tick_mark_defaults,handleTickLabelDefaults$1=tick_label_defaults,handlePrefixSuffixDefaults$1=prefix_suffix_defaults,attributes$E=attributes$G,defaults$u=function(t,e,i){var r=Template$7.newContainer(e,"colorbar"),n=t.colorbar||{};function a(t,e){return Lib$1x.coerce(n,r,attributes$E,t,e)}var s=i.margin||{t:0,b:0,l:0,r:0},o=i.width-s.l-s.r,l=i.height-s.t-s.b,c="v"===a("orientation"),g=a("thicknessmode");a("thickness","fraction"===g?30/(c?o:l):30);var d=a("lenmode");a("len","fraction"===d?1:c?l:o);var u,B,F,h="paper"===a("yref"),Q="paper"===a("xref"),U="left";c?(F="middle",U=Q?"left":"right",u=Q?1.02:1,B=.5):(F=h?"bottom":"top",U="center",u=.5,B=h?1.02:1),Lib$1x.coerce(n,r,{x:{valType:"number",min:Q?-2:0,max:Q?3:1,dflt:u}},"x"),Lib$1x.coerce(n,r,{y:{valType:"number",min:h?-2:0,max:h?3:1,dflt:B}},"y"),a("xanchor",U),a("xpad"),a("yanchor",F),a("ypad"),Lib$1x.noneOrAll(n,r,["x","y"]),a("outlinecolor"),a("outlinewidth"),a("bordercolor"),a("borderwidth"),a("bgcolor");var I=Lib$1x.coerce(n,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");a("ticklabeloverflow",-1!==I.indexOf("inside")?"hide past domain":"hide past div"),handleTickValueDefaults$1(n,r,a,"linear");var b=i.font,p={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,font:b};-1!==I.indexOf("inside")&&(p.bgColor="black"),handlePrefixSuffixDefaults$1(n,r,a,"linear",p),handleTickLabelDefaults$1(n,r,a,"linear",p),handleTickMarkDefaults$1(n,r,a,"linear"),a("title.text",i._dfltTitle.colorbar);var y=r.showticklabels?r.tickfont:b,m=Lib$1x.extendFlat({},b,{family:y.family,size:Lib$1x.bigFont(y.size)});Lib$1x.coerceFont(a,"title.font",m),a("title.side",c?"top":"right")},isNumeric$o=fastIsnumeric,Lib$1w=libExports,hasColorbar=has_colorbar,colorbarDefaults=defaults$u,isValidScale=scales_1.isValid,traceIs$1=registry$1.traceIs;function npMaybe(t,e){var i=e.slice(0,e.length-1);return e?Lib$1w.nestedProperty(t,i).get()||{}:t}var defaults$t=function t(e,i,r,n,a){var s=a.prefix,o=a.cLetter,l="_module"in i,c=npMaybe(e,s),g=npMaybe(i,s),d=npMaybe(i._template||{},s)||{},u=function(){return delete e.coloraxis,delete i.coloraxis,t(e,i,r,n,a)};if(l){var B=r._colorAxes||{},F=n(s+"coloraxis");if(F){var h=traceIs$1(i,"contour")&&Lib$1w.nestedProperty(i,"contours.coloring").get()||"heatmap",Q=B[F];return void(Q?(Q[2].push(u),Q[0]!==h&&(Q[0]=!1,Lib$1w.warn(["Ignoring coloraxis:",F,"setting","as it is linked to incompatible colorscales."].join(" ")))):B[F]=[h,i,[u]])}}var U=c[o+"min"],I=c[o+"max"],b=isNumeric$o(U)&&isNumeric$o(I)&&U<I;n(s+o+"auto",!b)?n(s+o+"mid"):(n(s+o+"min"),n(s+o+"max"));var p,y,m=c.colorscale,C=d.colorscale;(void 0!==m&&(p=!isValidScale(m)),void 0!==C&&(p=!isValidScale(C)),n(s+"autocolorscale",p),n(s+"colorscale"),n(s+"reversescale"),"marker.line."!==s)&&(s&&l&&(y=hasColorbar(c)),n(s+"showscale",y)&&(s&&d&&(g._template=d),colorbarDefaults(c,g,r)))},Lib$1v=libExports,Template$6=plot_template,colorScaleAttrs$5=layout_attributes$2,colorScaleDefaults=defaults$t,layout_defaults$4=function(t,e){function i(i,r){return Lib$1v.coerce(t,e,colorScaleAttrs$5,i,r)}i("colorscale.sequential"),i("colorscale.sequentialminus"),i("colorscale.diverging");var r,n,a=e._colorAxes;function s(t,e){return Lib$1v.coerce(r,n,colorScaleAttrs$5.coloraxis,t,e)}for(var o in a){var l=a[o];if(l[0])r=t[o]||{},(n=Template$6.newContainer(e,o,"coloraxis"))._name=o,colorScaleDefaults(r,n,e,s,{prefix:"",cLetter:"c"});else{for(var c=0;c<l[2].length;c++)l[2][c]();delete e._colorAxes[o]}}},Lib$1u=libExports,hasColorscale$5=helpers$A.hasColorscale,extractOpts$3=helpers$A.extractOpts,cross_trace_defaults$2=function(t,e){function i(t,e){var i=t["_"+e];void 0!==i&&(t[e]=i)}function r(t,r){var n=r.container?Lib$1u.nestedProperty(t,r.container).get():t;if(n)if(n.coloraxis)n._colorAx=e[n.coloraxis];else{var a=extractOpts$3(n),s=a.auto;(s||void 0===a.min)&&i(n,r.min),(s||void 0===a.max)&&i(n,r.max),a.autocolorscale&&i(n,"colorscale")}}for(var n=0;n<t.length;n++){var a=t[n],s=a._module.colorbar;if(s)if(Array.isArray(s))for(var o=0;o<s.length;o++)r(a,s[o]);else r(a,s);hasColorscale$5(a,"marker.line")&&r(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in e._colorAxes)r(e[l],{min:"cmin",max:"cmax"})},isNumeric$n=fastIsnumeric,Lib$1t=libExports,extractOpts$2=helpers$A.extractOpts,calc$7=function(t,e,i){var r,n=t._fullLayout,a=i.vals,s=i.containerStr,o=s?Lib$1t.nestedProperty(e,s).get():e,l=extractOpts$2(o),c=!1!==l.auto,g=l.min,d=l.max,u=l.mid,B=function(){return Lib$1t.aggNums(Math.min,null,a)},F=function(){return Lib$1t.aggNums(Math.max,null,a)};(void 0===g?g=B():c&&(g=o._colorAx&&isNumeric$n(g)?Math.min(g,B()):B()),void 0===d?d=F():c&&(d=o._colorAx&&isNumeric$n(d)?Math.max(d,F()):F()),c&&void 0!==u&&(d-u>u-g?g=u-(d-u):d-u<u-g&&(d=u+(u-g))),g===d&&(g-=.5,d+=.5),l._sync("min",g),l._sync("max",d),l.autocolorscale)&&(r=g*d<0?n.colorscale.diverging:g>=0?n.colorscale.sequential:n.colorscale.sequentialminus,l._sync("colorscale",r))},scales=scales_1,helpers$z=helpers$A,colorscale={moduleType:"component",name:"colorscale",attributes:attributes$F,layoutAttributes:layout_attributes$2,supplyLayoutDefaults:layout_defaults$4,handleDefaults:defaults$t,crossTraceDefaults:cross_trace_defaults$2,calc:calc$7,scales:scales.scales,defaultScale:scales.defaultScale,getScale:scales.get,isValidScale:scales.isValid,hasColorscale:helpers$z.hasColorscale,extractOpts:helpers$z.extractOpts,extractScale:helpers$z.extractScale,flipScale:helpers$z.flipScale,makeColorScaleFunc:helpers$z.makeColorScaleFunc,makeColorScaleFuncFromTrace:helpers$z.makeColorScaleFuncFromTrace},Lib$1s=libExports,isTypedArraySpec$1=array.isTypedArraySpec,subtypes$3={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){var e=t.marker;return Lib$1s.isPlainObject(e)&&(Lib$1s.isArrayOrTypedArray(e.size)||isTypedArraySpec$1(e.size))}},isNumeric$m=fastIsnumeric,make_bubble_size_func=function(t,e){e||(e=2);var i=t.marker,r=i.sizeref||1,n=i.sizemin||0,a="area"===i.sizemode?function(t){return Math.sqrt(t/r)}:function(t){return t/r};return function(t){var i=a(t/e);return isNumeric$m(i)&&i>0?Math.max(i,n):0}},helpers$y={};!function(t){var e=libExports;t.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},t.isTraceInSubplots=function(e,i){if("splom"===e.type){for(var r=e.xaxes||[],n=e.yaxes||[],a=0;a<r.length;a++)for(var s=0;s<n.length;s++)if(-1!==i.indexOf(r[a]+n[s]))return!0;return!1}return-1!==i.indexOf(t.getSubplot(e))},t.flat=function(t,e){for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]=e;return i},t.p2c=function(t,e){for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]=t[r].p2c(e);return i},t.getDistanceFunction=function(e,i,r,n){return"closest"===e?n||t.quadrature(i,r):"x"===e.charAt(0)?i:r},t.getClosest=function(t,e,i){if(!1!==i.index)i.index>=0&&i.index<t.length?i.distance=0:i.index=!1;else for(var r=1/0,n=t.length,a=0;a<n;a++)(r=e(t[a]))<=i.distance&&(i.index=a,i.distance=r);return i},t.inbox=function(t,e,i){return t*e<0||0===t?i:1/0},t.quadrature=function(t,e){return function(i){var r=t(i),n=e(i);return Math.sqrt(r*r+n*n)}},t.makeEventData=function(e,i,r){var n="index"in e?e.index:e.pointNumber,a={data:i._input,fullData:i,curveNumber:i.index,pointNumber:n};if(i._indexToPoints){var s=i._indexToPoints[n];1===s.length?a.pointIndex=s[0]:a.pointIndices=s}else a.pointIndex=n;return i._module.eventData?a=i._module.eventData(a,e,i,r,n):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),void 0!==e.zLabelVal&&(a.z=e.zLabelVal)),t.appendArrayPointValue(a,i,n),a},t.appendArrayPointValue=function(t,i,a){var s=i._arrayAttrs;if(s)for(var o=0;o<s.length;o++){var l=s[o],c=r(l);if(void 0===t[c]){var g=n(e.nestedProperty(i,l).get(),a);void 0!==g&&(t[c]=g)}}},t.appendArrayMultiPointValues=function(t,i,a){var s=i._arrayAttrs;if(s)for(var o=0;o<s.length;o++){var l=s[o],c=r(l);if(void 0===t[c]){for(var g=e.nestedProperty(i,l).get(),d=new Array(a.length),u=0;u<a.length;u++)d[u]=n(g,a[u]);t[c]=d}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function r(t){return i[t]||t}function n(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}var a={x:!0,y:!0},s={"x unified":!0,"y unified":!0};t.isUnifiedHover=function(t){return"string"==typeof t&&!!s[t]},t.isXYhover=function(t){return"string"==typeof t&&!!a[t]}}(helpers$y);var parseSvgPath=parse$3,length$1={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},segment=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function parse$3(t){var e=[];return t.replace(segment,function(t,i,r){var n=i.toLowerCase();for(r=parseValues(r),"m"==n&&r.length>2&&(e.push([i].concat(r.splice(0,2))),n="l",i="m"==i?"l":"L");;){if(r.length==length$1[n])return r.unshift(i),e.push(r);if(r.length<length$1[n])throw new Error("malformed path data");e.push([i].concat(r.splice(0,length$1[n])))}}),e}var symbol_defs,hasRequiredSymbol_defs,number$1=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function parseValues(t){var e=t.match(number$1);return e?e.map(Number):[]}function requireSymbol_defs(){if(hasRequiredSymbol_defs)return symbol_defs;hasRequiredSymbol_defs=1;var t,e,i,r,n=parseSvgPath,a=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},s="M0,0Z",o=Math.sqrt(2),l=Math.sqrt(3),c=Math.PI,g=Math.cos,d=Math.sin;function u(t){return null===t}function B(a,s,o){if(!(a&&a%360!=0||s))return o;if(i===a&&r===s&&t===o)return e;function l(t,e){var i=g(t),r=d(t),n=e[0],a=e[1]+(s||0);return[n*i-a*r,n*r+a*i]}i=a,r=s,t=o;for(var u=a/180*c,B=0,F=0,h=n(o),Q="",U=0;U<h.length;U++){var I=h[U],b=I[0],p=B,y=F;if("M"===b||"L"===b)B=+I[1],F=+I[2];else if("m"===b||"l"===b)B+=+I[1],F+=+I[2];else if("H"===b)B=+I[1];else if("h"===b)B+=+I[1];else if("V"===b)F=+I[1];else if("v"===b)F+=+I[1];else if("A"===b){B=+I[1],F=+I[2];var m=l(u,[+I[6],+I[7]]);I[6]=m[0],I[7]=m[1],I[3]=+I[3]+a}"H"!==b&&"V"!==b||(b="L"),"h"!==b&&"v"!==b||(b="l"),"m"!==b&&"l"!==b||(B-=p,F-=y);var C=l(u,[B,F]);"H"!==b&&"V"!==b||(b="L"),"M"!==b&&"L"!==b&&"m"!==b&&"l"!==b||(I[1]=C[0],I[2]=C[1]),I[0]=b,Q+=I[0]+I.slice(1).join(",")}return e=Q,Q}return symbol_defs={circle:{n:0,f:function(t,e,i){if(u(e))return s;var r=a(t,2),n="M"+r+",0A"+r+","+r+" 0 1,1 0,-"+r+"A"+r+","+r+" 0 0,1 "+r+",0Z";return i?B(e,i,n):n}},square:{n:1,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M"+r+","+r+"H-"+r+"V-"+r+"H"+r+"Z")}},diamond:{n:2,f:function(t,e,i){if(u(e))return s;var r=a(1.3*t,2);return B(e,i,"M"+r+",0L0,"+r+"L-"+r+",0L0,-"+r+"Z")}},cross:{n:3,f:function(t,e,i){if(u(e))return s;var r=a(.4*t,2),n=a(1.2*t,2);return B(e,i,"M"+n+","+r+"H"+r+"V"+n+"H-"+r+"V"+r+"H-"+n+"V-"+r+"H-"+r+"V-"+n+"H"+r+"V-"+r+"H"+n+"Z")}},x:{n:4,f:function(t,e,i){if(u(e))return s;var r=a(.8*t/o,2),n="l"+r+","+r,l="l"+r+",-"+r,c="l-"+r+",-"+r,g="l-"+r+","+r;return B(e,i,"M0,"+r+n+l+c+l+c+g+c+g+n+g+n+"Z")}},"triangle-up":{n:5,f:function(t,e,i){if(u(e))return s;var r=a(2*t/l,2);return B(e,i,"M-"+r+","+a(t/2,2)+"H"+r+"L0,-"+a(t,2)+"Z")}},"triangle-down":{n:6,f:function(t,e,i){if(u(e))return s;var r=a(2*t/l,2);return B(e,i,"M-"+r+",-"+a(t/2,2)+"H"+r+"L0,"+a(t,2)+"Z")}},"triangle-left":{n:7,f:function(t,e,i){if(u(e))return s;var r=a(2*t/l,2);return B(e,i,"M"+a(t/2,2)+",-"+r+"V"+r+"L-"+a(t,2)+",0Z")}},"triangle-right":{n:8,f:function(t,e,i){if(u(e))return s;var r=a(2*t/l,2);return B(e,i,"M-"+a(t/2,2)+",-"+r+"V"+r+"L"+a(t,2)+",0Z")}},"triangle-ne":{n:9,f:function(t,e,i){if(u(e))return s;var r=a(.6*t,2),n=a(1.2*t,2);return B(e,i,"M-"+n+",-"+r+"H"+r+"V"+n+"Z")}},"triangle-se":{n:10,f:function(t,e,i){if(u(e))return s;var r=a(.6*t,2),n=a(1.2*t,2);return B(e,i,"M"+r+",-"+n+"V"+r+"H-"+n+"Z")}},"triangle-sw":{n:11,f:function(t,e,i){if(u(e))return s;var r=a(.6*t,2),n=a(1.2*t,2);return B(e,i,"M"+n+","+r+"H-"+r+"V-"+n+"Z")}},"triangle-nw":{n:12,f:function(t,e,i){if(u(e))return s;var r=a(.6*t,2),n=a(1.2*t,2);return B(e,i,"M-"+r+","+n+"V-"+r+"H"+n+"Z")}},pentagon:{n:13,f:function(t,e,i){if(u(e))return s;var r=a(.951*t,2),n=a(.588*t,2),o=a(-t,2),l=a(-.309*t,2);return B(e,i,"M"+r+","+l+"L"+n+","+a(.809*t,2)+"H-"+n+"L-"+r+","+l+"L0,"+o+"Z")}},hexagon:{n:14,f:function(t,e,i){if(u(e))return s;var r=a(t,2),n=a(t/2,2),o=a(t*l/2,2);return B(e,i,"M"+o+",-"+n+"V"+n+"L0,"+r+"L-"+o+","+n+"V-"+n+"L0,-"+r+"Z")}},hexagon2:{n:15,f:function(t,e,i){if(u(e))return s;var r=a(t,2),n=a(t/2,2),o=a(t*l/2,2);return B(e,i,"M-"+n+","+o+"H"+n+"L"+r+",0L"+n+",-"+o+"H-"+n+"L-"+r+",0Z")}},octagon:{n:16,f:function(t,e,i){if(u(e))return s;var r=a(.924*t,2),n=a(.383*t,2);return B(e,i,"M-"+n+",-"+r+"H"+n+"L"+r+",-"+n+"V"+n+"L"+n+","+r+"H-"+n+"L-"+r+","+n+"V-"+n+"Z")}},star:{n:17,f:function(t,e,i){if(u(e))return s;var r=1.4*t,n=a(.225*r,2),o=a(.951*r,2),l=a(.363*r,2),c=a(.588*r,2),g=a(-r,2),d=a(-.309*r,2),F=a(.118*r,2),h=a(.809*r,2);return B(e,i,"M"+n+","+d+"H"+o+"L"+l+","+F+"L"+c+","+h+"L0,"+a(.382*r,2)+"L-"+c+","+h+"L-"+l+","+F+"L-"+o+","+d+"H-"+n+"L0,"+g+"Z")}},hexagram:{n:18,f:function(t,e,i){if(u(e))return s;var r=a(.66*t,2),n=a(.38*t,2),o=a(.76*t,2);return B(e,i,"M-"+o+",0l-"+n+",-"+r+"h"+o+"l"+n+",-"+r+"l"+n+","+r+"h"+o+"l-"+n+","+r+"l"+n+","+r+"h-"+o+"l-"+n+","+r+"l-"+n+",-"+r+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(t,e,i){if(u(e))return s;var r=a(t*l*.8,2),n=a(.8*t,2),o=a(1.6*t,2),c=a(4*t,2),g="A "+c+","+c+" 0 0 1 ";return B(e,i,"M-"+r+","+n+g+r+","+n+g+"0,-"+o+g+"-"+r+","+n+"Z")}},"star-triangle-down":{n:20,f:function(t,e,i){if(u(e))return s;var r=a(t*l*.8,2),n=a(.8*t,2),o=a(1.6*t,2),c=a(4*t,2),g="A "+c+","+c+" 0 0 1 ";return B(e,i,"M"+r+",-"+n+g+"-"+r+",-"+n+g+"0,"+o+g+r+",-"+n+"Z")}},"star-square":{n:21,f:function(t,e,i){if(u(e))return s;var r=a(1.1*t,2),n=a(2*t,2),o="A "+n+","+n+" 0 0 1 ";return B(e,i,"M-"+r+",-"+r+o+"-"+r+","+r+o+r+","+r+o+r+",-"+r+o+"-"+r+",-"+r+"Z")}},"star-diamond":{n:22,f:function(t,e,i){if(u(e))return s;var r=a(1.4*t,2),n=a(1.9*t,2),o="A "+n+","+n+" 0 0 1 ";return B(e,i,"M-"+r+",0"+o+"0,"+r+o+r+",0"+o+"0,-"+r+o+"-"+r+",0Z")}},"diamond-tall":{n:23,f:function(t,e,i){if(u(e))return s;var r=a(.7*t,2),n=a(1.4*t,2);return B(e,i,"M0,"+n+"L"+r+",0L0,-"+n+"L-"+r+",0Z")}},"diamond-wide":{n:24,f:function(t,e,i){if(u(e))return s;var r=a(1.4*t,2),n=a(.7*t,2);return B(e,i,"M0,"+n+"L"+r+",0L0,-"+n+"L-"+r+",0Z")}},hourglass:{n:25,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M"+r+","+r+"H-"+r+"L"+r+",-"+r+"H-"+r+"Z")},noDot:!0},bowtie:{n:26,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M"+r+","+r+"V-"+r+"L-"+r+","+r+"V-"+r+"Z")},noDot:!0},"circle-cross":{n:27,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M0,"+r+"V-"+r+"M"+r+",0H-"+r+"M"+r+",0A"+r+","+r+" 0 1,1 0,-"+r+"A"+r+","+r+" 0 0,1 "+r+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t,e,i){if(u(e))return s;var r=a(t,2),n=a(t/o,2);return B(e,i,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+r+",0A"+r+","+r+" 0 1,1 0,-"+r+"A"+r+","+r+" 0 0,1 "+r+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M0,"+r+"V-"+r+"M"+r+",0H-"+r+"M"+r+","+r+"H-"+r+"V-"+r+"H"+r+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+r+","+r+"H-"+r+"V-"+r+"H"+r+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t,e,i){if(u(e))return s;var r=a(1.3*t,2);return B(e,i,"M"+r+",0L0,"+r+"L-"+r+",0L0,-"+r+"ZM0,-"+r+"V"+r+"M-"+r+",0H"+r)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t,e,i){if(u(e))return s;var r=a(1.3*t,2),n=a(.65*t,2);return B(e,i,"M"+r+",0L0,"+r+"L-"+r+",0L0,-"+r+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t,e,i){if(u(e))return s;var r=a(1.4*t,2);return B(e,i,"M0,"+r+"V-"+r+"M"+r+",0H-"+r)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t,e,i){if(u(e))return s;var r=a(1.2*t,2),n=a(.85*t,2);return B(e,i,"M0,"+r+"V-"+r+"M"+r+",0H-"+r+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t,e,i){if(u(e))return s;var r=a(t/2,2),n=a(t,2);return B(e,i,"M"+r+","+n+"V-"+n+"M"+(r-n)+",-"+n+"V"+n+"M"+n+","+r+"H-"+n+"M-"+n+","+(r-n)+"H"+n)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t,e,i){if(u(e))return s;var r=a(1.2*t,2),n=a(1.6*t,2),o=a(.8*t,2);return B(e,i,"M-"+r+","+o+"L0,0M"+r+","+o+"L0,0M0,-"+n+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t,e,i){if(u(e))return s;var r=a(1.2*t,2),n=a(1.6*t,2),o=a(.8*t,2);return B(e,i,"M-"+r+",-"+o+"L0,0M"+r+",-"+o+"L0,0M0,"+n+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t,e,i){if(u(e))return s;var r=a(1.2*t,2),n=a(1.6*t,2),o=a(.8*t,2);return B(e,i,"M"+o+","+r+"L0,0M"+o+",-"+r+"L0,0M-"+n+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t,e,i){if(u(e))return s;var r=a(1.2*t,2),n=a(1.6*t,2),o=a(.8*t,2);return B(e,i,"M-"+o+","+r+"L0,0M-"+o+",-"+r+"L0,0M"+n+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t,e,i){if(u(e))return s;var r=a(1.4*t,2);return B(e,i,"M"+r+",0H-"+r)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t,e,i){if(u(e))return s;var r=a(1.4*t,2);return B(e,i,"M0,"+r+"V-"+r)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M"+r+",-"+r+"L-"+r+","+r)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M"+r+","+r+"L-"+r+",-"+r)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M0,0L-"+r+","+a(2*t,2)+"H"+r+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M0,0L-"+r+",-"+a(2*t,2)+"H"+r+"Z")},noDot:!0},"arrow-left":{n:47,f:function(t,e,i){if(u(e))return s;var r=a(2*t,2),n=a(t,2);return B(e,i,"M0,0L"+r+",-"+n+"V"+n+"Z")},noDot:!0},"arrow-right":{n:48,f:function(t,e,i){if(u(e))return s;var r=a(2*t,2),n=a(t,2);return B(e,i,"M0,0L-"+r+",-"+n+"V"+n+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M-"+r+",0H"+r+"M0,0L-"+r+","+a(2*t,2)+"H"+r+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t,e,i){if(u(e))return s;var r=a(t,2);return B(e,i,"M-"+r+",0H"+r+"M0,0L-"+r+",-"+a(2*t,2)+"H"+r+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t,e,i){if(u(e))return s;var r=a(2*t,2),n=a(t,2);return B(e,i,"M0,-"+n+"V"+n+"M0,0L"+r+",-"+n+"V"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t,e,i){if(u(e))return s;var r=a(2*t,2),n=a(t,2);return B(e,i,"M0,-"+n+"V"+n+"M0,0L-"+r+",-"+n+"V"+n+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(t,e,i){if(u(e))return s;var r=c/2.5,n=2*t*g(r),a=2*t*d(r);return B(e,i,"M0,0L"+-n+","+a+"L"+n+","+a+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(t,e,i){if(u(e))return s;var r=c/4,n=2*t*g(r),a=2*t*d(r);return B(e,i,"M0,0L"+-n+","+a+"A "+2*t+","+2*t+" 0 0 1 "+n+","+a+"Z")},backoff:.4,noDot:!0}},symbol_defs}var d3$p=d3Exports,Lib$1r=libExports,numberFormat$3=Lib$1r.numberFormat,isNumeric$l=fastIsnumeric,tinycolor$5=tinycolorExports,Registry$J=registry$1,Color$z=colorExports,Colorscale$1=colorscale,strTranslate$c=Lib$1r.strTranslate,svgTextUtils$d=svg_text_utils,xmlnsNamespaces$3=xmlns_namespaces,alignment=alignment$1,LINE_SPACING$7=alignment.LINE_SPACING,DESELECTDIM=interactions.DESELECTDIM,subTypes$7=subtypes$3,makeBubbleSizeFn$1=make_bubble_size_func,appendArrayPointValue$2=helpers$y.appendArrayPointValue,drawing=drawing$1.exports={};function dropNone(t){return"none"===t?void 0:t}drawing.font=function(t,e){var i=e.variant,r=e.style,n=e.weight,a=e.color,s=e.size,o=e.family,l=e.shadow,c=e.lineposition,g=e.textcase;o&&t.style("font-family",o),s+1&&t.style("font-size",s+"px"),a&&t.call(Color$z.fill,a),n&&t.style("font-weight",n),r&&t.style("font-style",r),i&&t.style("font-variant",i),g&&t.style("text-transform",dropNone(textcase2transform(g))),l&&t.style("text-shadow","auto"===l?svgTextUtils$d.makeTextShadow(Color$z.contrast(a)):dropNone(l)),c&&t.style("text-decoration-line",dropNone(lineposition2decorationLine(c)))};var textcase2transformOptions={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function textcase2transform(t){return textcase2transformOptions[t]}function lineposition2decorationLine(t){return t.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}function setFillStyle(t,e,i,r){var n=e.fillpattern,a=e.fillgradient,s=drawing.getPatternAttr,o=n&&(s(n.shape,0,"")||s(n.path,0,""));if(o){var l=s(n.bgcolor,0,null),c=s(n.fgcolor,0,null),g=n.fgopacity,d=s(n.size,0,8),u=s(n.solidity,0,.3),B=e.uid;drawing.pattern(t,"point",i,B,o,d,u,void 0,n.fillmode,l,c,g)}else if(a&&"none"!==a.type){var F,h,Q=a.type,U="scatterfill-"+e.uid;if(r&&(U="legendfill-"+e.uid),r||void 0===a.start&&void 0===a.stop)"horizontal"===Q&&(Q+="reversed"),t.call(drawing.gradient,i,U,Q,a.colorscale,"fill");else"horizontal"===Q?(F={x:a.start,y:0},h={x:a.stop,y:0}):"vertical"===Q&&(F={x:0,y:a.start},h={x:0,y:a.stop}),F.x=e._xA.c2p(void 0===F.x?e._extremes.x.min[0].val:F.x,!0),F.y=e._yA.c2p(void 0===F.y?e._extremes.y.min[0].val:F.y,!0),h.x=e._xA.c2p(void 0===h.x?e._extremes.x.max[0].val:h.x,!0),h.y=e._yA.c2p(void 0===h.y?e._extremes.y.max[0].val:h.y,!0),t.call(gradientWithBounds,i,U,"linear",a.colorscale,"fill",F,h,!0,!1)}else e.fillcolor&&t.call(Color$z.fill,e.fillcolor)}drawing.setPosition=function(t,e,i){t.attr("x",e).attr("y",i)},drawing.setSize=function(t,e,i){t.attr("width",e).attr("height",i)},drawing.setRect=function(t,e,i,r,n){t.call(drawing.setPosition,e,i).call(drawing.setSize,r,n)},drawing.translatePoint=function(t,e,i,r){var n=i.c2p(t.x),a=r.c2p(t.y);return!!(isNumeric$l(n)&&isNumeric$l(a)&&e.node())&&("text"===e.node().nodeName?e.attr("x",n).attr("y",a):e.attr("transform",strTranslate$c(n,a)),!0)},drawing.translatePoints=function(t,e,i){t.each(function(t){var r=d3$p.select(this);drawing.translatePoint(t,r,e,i)})},drawing.hideOutsideRangePoint=function(t,e,i,r,n,a){e.attr("display",i.isPtWithinRange(t,n)&&r.isPtWithinRange(t,a)?null:"none")},drawing.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var i=e.xaxis,r=e.yaxis;t.each(function(e){var n=e[0].trace,a=n.xcalendar,s=n.ycalendar,o=Registry$J.traceIs(n,"bar-like")?".bartext":".point,.textpoint";t.selectAll(o).each(function(t){drawing.hideOutsideRangePoint(t,d3$p.select(this),i,r,a,s)})})}},drawing.crispRound=function(t,e,i){return e&&isNumeric$l(e)?t._context.staticPlot?e:e<1?1:Math.round(e):i||0},drawing.singleLineStyle=function(t,e,i,r,n){e.style("fill","none");var a=(((t||[])[0]||{}).trace||{}).line||{},s=i||a.width||0,o=n||a.dash||"";Color$z.stroke(e,r||a.color),drawing.dashLine(e,o,s)},drawing.lineGroupStyle=function(t,e,i,r){t.style("fill","none").each(function(t){var n=(((t||[])[0]||{}).trace||{}).line||{},a=e||n.width||0,s=r||n.dash||"";d3$p.select(this).call(Color$z.stroke,i||n.color).call(drawing.dashLine,s,a)})},drawing.dashLine=function(t,e,i){i=+i||0,e=drawing.dashStyle(e,i),t.style({"stroke-dasharray":e,"stroke-width":i+"px"})},drawing.dashStyle=function(t,e){e=+e||1;var i=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=i+"px,"+i+"px":"dash"===t?t=3*i+"px,"+3*i+"px":"longdash"===t?t=5*i+"px,"+5*i+"px":"dashdot"===t?t=3*i+"px,"+i+"px,"+i+"px,"+i+"px":"longdashdot"===t&&(t=5*i+"px,"+2*i+"px,"+i+"px,"+2*i+"px"),t},drawing.singleFillStyle=function(t,e){var i=d3$p.select(t.node());setFillStyle(t,((i.data()[0]||[])[0]||{}).trace||{},e,!1)},drawing.fillGroupStyle=function(t,e,i){t.style("stroke-width",0).each(function(t){var r=d3$p.select(this);t[0].trace&&setFillStyle(r,t[0].trace,e,i)})};var SYMBOLDEFS=requireSymbol_defs();drawing.symbolNames=[],drawing.symbolFuncs=[],drawing.symbolBackOffs=[],drawing.symbolNeedLines={},drawing.symbolNoDot={},drawing.symbolNoFill={},drawing.symbolList=[],Object.keys(SYMBOLDEFS).forEach(function(t){var e=SYMBOLDEFS[t],i=e.n;drawing.symbolList.push(i,String(i),t,i+100,String(i+100),t+"-open"),drawing.symbolNames[i]=t,drawing.symbolFuncs[i]=e.f,drawing.symbolBackOffs[i]=e.backoff||0,e.needLine&&(drawing.symbolNeedLines[i]=!0),e.noDot?drawing.symbolNoDot[i]=!0:drawing.symbolList.push(i+200,String(i+200),t+"-dot",i+300,String(i+300),t+"-open-dot"),e.noFill&&(drawing.symbolNoFill[i]=!0)});var MAXSYMBOL=drawing.symbolNames.length,DOTPATH="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function makePointPath(t,e,i,r){var n=t%100;return drawing.symbolFuncs[n](e,i,r)+(t>=200?DOTPATH:"")}drawing.symbolNumber=function(t){if(isNumeric$l(t))t=+t;else if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=drawing.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=MAXSYMBOL||t>=400?0:Math.floor(Math.max(t,0))};var stopFormatter=numberFormat$3("~f"),gradientInfo={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function gradientWithBounds(t,e,i,r,n,a,s,o,l,c){var g,d=n.length;"linear"===r?g={node:"linearGradient",attrs:{x1:s.x,y1:s.y,x2:o.x,y2:o.y,gradientUnits:l?"userSpaceOnUse":"objectBoundingBox"},reversed:c}:"radial"===r&&(g={node:"radialGradient",reversed:c});for(var u=new Array(d),B=0;B<d;B++)g.reversed?u[d-1-B]=[stopFormatter(100*(1-n[B][0])),n[B][1]]:u[B]=[stopFormatter(100*n[B][0]),n[B][1]];var F=e._fullLayout,h="g"+F._uid+"-"+i,Q=F._defs.select(".gradients").selectAll("#"+h).data([r+u.join(";")],Lib$1r.identity);Q.exit().remove(),Q.enter().append(g.node).each(function(){var t=d3$p.select(this);g.attrs&&t.attr(g.attrs),t.attr("id",h);var e=t.selectAll("stop").data(u);e.exit().remove(),e.enter().append("stop"),e.each(function(t){var e=tinycolor$5(t[1]);d3$p.select(this).attr({offset:t[0]+"%","stop-color":Color$z.tinyRGB(e),"stop-opacity":e.getAlpha()})})}),t.style(a,getFullUrl(h,e)).style(a+"-opacity",null),t.classed("gradient_filled",!0)}drawing.gradient=function(t,e,i,r,n,a){var s=gradientInfo[r];return gradientWithBounds(t,e,i,s.type,n,a,s.start,s.stop,!1,s.reversed)},drawing.pattern=function(t,e,i,r,n,a,s,o,l,c,g,d){var u="legend"===e;o&&("overlay"===l?(c=o,g=Color$z.contrast(c)):(c=void 0,g=o));var B,F,h,Q,U,I,b=i._fullLayout,p="p"+b._uid+"-"+r,y={},m=tinycolor$5(g),C=Color$z.tinyRGB(m),f=d*m.getAlpha();switch(n){case"/":B=a*Math.sqrt(2),F=a*Math.sqrt(2),I="path",y={d:h="M-"+B/4+","+F/4+"l"+B/2+",-"+F/2+"M0,"+F+"L"+B+",0M"+B/4*3+","+F/4*5+"l"+B/2+",-"+F/2,opacity:f,stroke:C,"stroke-width":(Q=s*a)+"px"};break;case"\\":B=a*Math.sqrt(2),F=a*Math.sqrt(2),I="path",y={d:h="M"+B/4*3+",-"+F/4+"l"+B/2+","+F/2+"M0,0L"+B+","+F+"M-"+B/4+","+F/4*3+"l"+B/2+","+F/2,opacity:f,stroke:C,"stroke-width":(Q=s*a)+"px"};break;case"x":B=a*Math.sqrt(2),F=a*Math.sqrt(2),h="M-"+B/4+","+F/4+"l"+B/2+",-"+F/2+"M0,"+F+"L"+B+",0M"+B/4*3+","+F/4*5+"l"+B/2+",-"+F/2+"M"+B/4*3+",-"+F/4+"l"+B/2+","+F/2+"M0,0L"+B+","+F+"M-"+B/4+","+F/4*3+"l"+B/2+","+F/2,Q=a-a*Math.sqrt(1-s),I="path",y={d:h,opacity:f,stroke:C,"stroke-width":Q+"px"};break;case"|":I="path",I="path",y={d:h="M"+(B=a)/2+",0L"+B/2+","+(F=a),opacity:f,stroke:C,"stroke-width":(Q=s*a)+"px"};break;case"-":I="path",I="path",y={d:h="M0,"+(F=a)/2+"L"+(B=a)+","+F/2,opacity:f,stroke:C,"stroke-width":(Q=s*a)+"px"};break;case"+":I="path",h="M"+(B=a)/2+",0L"+B/2+","+(F=a)+"M0,"+F/2+"L"+B+","+F/2,Q=a-a*Math.sqrt(1-s),I="path",y={d:h,opacity:f,stroke:C,"stroke-width":Q+"px"};break;case".":B=a,F=a,U=s<Math.PI/4?Math.sqrt(s*a*a/Math.PI):function(t,e,i,r,n){return r+(n-r)*(t-e)/(i-e)}(s,Math.PI/4,1,a/2,a/Math.sqrt(2)),I="circle",y={cx:B/2,cy:F/2,r:U,opacity:f,fill:C};break;default:B=a,F=a,I="path",y={d:n,opacity:f,fill:C}}var x=[n||"noSh",c||"noBg",g||"noFg",a,s].join(";"),A=b._defs.select(".patterns").selectAll("#"+p).data([x],Lib$1r.identity);A.exit().remove(),A.enter().append("pattern").each(function(){var t=d3$p.select(this);if(t.attr({id:p,width:B+"px",height:F+"px",patternUnits:"userSpaceOnUse",patternTransform:u?"scale(0.8)":""}),c){var e=tinycolor$5(c),i=Color$z.tinyRGB(e),r=e.getAlpha(),n=t.selectAll("rect").data([0]);n.exit().remove(),n.enter().append("rect").attr({width:B+"px",height:F+"px",fill:i,"fill-opacity":r})}var a=t.selectAll(I).data([0]);a.exit().remove(),a.enter().append(I).attr(y)}),t.style("fill",getFullUrl(p,i)).style("fill-opacity",null),t.classed("pattern_filled",!0)},drawing.initGradients=function(t){var e=t._fullLayout;Lib$1r.ensureSingle(e._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),d3$p.select(t).selectAll(".gradient_filled").classed("gradient_filled",!1)},drawing.initPatterns=function(t){var e=t._fullLayout;Lib$1r.ensureSingle(e._defs,"g","patterns").selectAll("pattern").remove(),d3$p.select(t).selectAll(".pattern_filled").classed("pattern_filled",!1)},drawing.getPatternAttr=function(t,e,i){return t&&Lib$1r.isArrayOrTypedArray(t)?e<t.length?t[e]:i:t},drawing.pointStyle=function(t,e,i,r){if(t.size()){var n=drawing.makePointStyleFns(e);t.each(function(t){drawing.singlePointStyle(t,d3$p.select(this),e,n,i,r)})}},drawing.singlePointStyle=function(t,e,i,r,n,a){var s=i.marker,o=s.line;if(a&&a.i>=0&&void 0===t.i&&(t.i=a.i),e.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(t):void 0===t.mo?s.opacity:t.mo),r.ms2mrc){var l;l="various"===t.ms||"various"===s.size?3:r.ms2mrc(t.ms),t.mrc=l,r.selectedSizeFn&&(l=t.mrc=r.selectedSizeFn(t));var c=drawing.symbolNumber(t.mx||s.symbol)||0;t.om=c%200>=100;var g=getMarkerAngle(t,i),d=getMarkerStandoff(t,i);e.attr("d",makePointPath(c,l,g,d))}var u,B,F,h=!1;if(t.so)F=o.outlierwidth,B=o.outliercolor,u=s.outliercolor;else{var Q=(o||{}).width;F=(t.mlw+1||Q+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,B="mlc"in t?t.mlcc=r.lineScale(t.mlc):Lib$1r.isArrayOrTypedArray(o.color)?Color$z.defaultLine:o.color,Lib$1r.isArrayOrTypedArray(s.color)&&(u=Color$z.defaultLine,h=!0),u="mc"in t?t.mcc=r.markerScale(t.mc):s.color||s.colors||"rgba(0,0,0,0)",r.selectedColorFn&&(u=r.selectedColorFn(t))}if(t.om)e.call(Color$z.stroke,u).style({"stroke-width":(F||1)+"px",fill:"none"});else{e.style("stroke-width",(t.isBlank?0:F)+"px");var U=s.gradient,I=t.mgt;I?h=!0:I=U&&U.type,Lib$1r.isArrayOrTypedArray(I)&&(I=I[0],gradientInfo[I]||(I=0));var b=s.pattern,p=drawing.getPatternAttr,y=b&&(p(b.shape,t.i,"")||p(b.path,t.i,""));if(I&&"none"!==I){var m=t.mgc;m?h=!0:m=U.color;var C=i.uid;h&&(C+="-"+t.i),drawing.gradient(e,n,C,I,[[0,m],[1,u]],"fill")}else if(y){var f=!1,x=b.fgcolor;!x&&a&&a.color&&(x=a.color,f=!0);var A=p(x,t.i,a&&a.color||null),v=p(b.bgcolor,t.i,null),L=b.fgopacity,R=p(b.size,t.i,8),S=p(b.solidity,t.i,.3);f=f||t.mcc||Lib$1r.isArrayOrTypedArray(b.shape)||Lib$1r.isArrayOrTypedArray(b.path)||Lib$1r.isArrayOrTypedArray(b.bgcolor)||Lib$1r.isArrayOrTypedArray(b.fgcolor)||Lib$1r.isArrayOrTypedArray(b.size)||Lib$1r.isArrayOrTypedArray(b.solidity);var G=i.uid;f&&(G+="-"+t.i),drawing.pattern(e,"point",n,G,y,R,S,t.mcc,b.fillmode,v,A,L)}else Lib$1r.isArrayOrTypedArray(u)?Color$z.fill(e,u[t.i]):Color$z.fill(e,u);F&&Color$z.stroke(e,B)}},drawing.makePointStyleFns=function(t){var e={},i=t.marker;return e.markerScale=drawing.tryColorscale(i,""),e.lineScale=drawing.tryColorscale(i,"line"),Registry$J.traceIs(t,"symbols")&&(e.ms2mrc=subTypes$7.isBubble(t)?makeBubbleSizeFn$1(t):function(){return(i.size||6)/2}),t.selectedpoints&&Lib$1r.extendFlat(e,drawing.makeSelectedPointStyleFns(t)),e},drawing.makeSelectedPointStyleFns=function(t){var e={},i=t.selected||{},r=t.unselected||{},n=t.marker||{},a=i.marker||{},s=r.marker||{},o=n.opacity,l=a.opacity,c=s.opacity,g=void 0!==l,d=void 0!==c;(Lib$1r.isArrayOrTypedArray(o)||g||d)&&(e.selectedOpacityFn=function(t){var e=void 0===t.mo?n.opacity:t.mo;return t.selected?g?l:e:d?c:DESELECTDIM*e});var u=n.color,B=a.color,F=s.color;(B||F)&&(e.selectedColorFn=function(t){var e=t.mcc||u;return t.selected?B||e:F||e});var h=n.size,Q=a.size,U=s.size,I=void 0!==Q,b=void 0!==U;return Registry$J.traceIs(t,"symbols")&&(I||b)&&(e.selectedSizeFn=function(t){var e=t.mrc||h/2;return t.selected?I?Q/2:e:b?U/2:e}),e},drawing.makeSelectedTextStyleFns=function(t){var e={},i=t.selected||{},r=t.unselected||{},n=t.textfont||{},a=i.textfont||{},s=r.textfont||{},o=n.color,l=a.color,c=s.color;return e.selectedTextColorFn=function(t){var e=t.tc||o;return t.selected?l||e:c||(l?e:Color$z.addOpacity(e,DESELECTDIM))},e},drawing.selectedPointStyle=function(t,e){if(t.size()&&e.selectedpoints){var i=drawing.makeSelectedPointStyleFns(e),r=e.marker||{},n=[];i.selectedOpacityFn&&n.push(function(t,e){t.style("opacity",i.selectedOpacityFn(e))}),i.selectedColorFn&&n.push(function(t,e){Color$z.fill(t,i.selectedColorFn(e))}),i.selectedSizeFn&&n.push(function(t,n){var a=n.mx||r.symbol||0,s=i.selectedSizeFn(n);t.attr("d",makePointPath(drawing.symbolNumber(a),s,getMarkerAngle(n,e),getMarkerStandoff(n,e))),n.mrc2=s}),n.length&&t.each(function(t){for(var e=d3$p.select(this),i=0;i<n.length;i++)n[i](e,t)})}},drawing.tryColorscale=function(t,e){var i=e?Lib$1r.nestedProperty(t,e).get():t;if(i){var r=i.color;if((i.colorscale||i._colorAx)&&Lib$1r.isArrayOrTypedArray(r))return Colorscale$1.makeColorScaleFuncFromTrace(i)}return Lib$1r.identity};var TEXTOFFSETSIGN={start:1,end:-1,middle:0,bottom:1,top:-1};function textPointPosition(t,e,i,r,n){var a=d3$p.select(t.node().parentNode),s=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",o=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",l=r?r/.8+1:0,c=(svgTextUtils$d.lineCount(t)-1)*LINE_SPACING$7+1,g=TEXTOFFSETSIGN[o]*l,d=.75*i+TEXTOFFSETSIGN[s]*l+(TEXTOFFSETSIGN[s]-1)*c*i/2;t.attr("text-anchor",o),n||a.attr("transform",strTranslate$c(g,d))}function extracTextFontSize(t,e){var i=t.ts||e.textfont.size;return isNumeric$l(i)&&i>0?i:0}drawing.textPointStyle=function(t,e,i){if(t.size()){var r;if(e.selectedpoints){var n=drawing.makeSelectedTextStyleFns(e);r=n.selectedTextColorFn}var a=e.texttemplate,s=i._fullLayout;t.each(function(t){var n=d3$p.select(this),o=a?Lib$1r.extractOption(t,e,"txt","texttemplate"):Lib$1r.extractOption(t,e,"tx","text");if(o||0===o){if(a){var l=e._module.formatLabels,c=l?l(t,e,s):{},g={};appendArrayPointValue$2(g,e,t.i);var d=e._meta||{};o=Lib$1r.texttemplateString(o,c,s._d3locale,g,t,d)}var u=t.tp||e.textposition,B=extracTextFontSize(t,e),F=r?r(t):t.tc||e.textfont.color;n.call(drawing.font,{family:t.tf||e.textfont.family,weight:t.tw||e.textfont.weight,style:t.ty||e.textfont.style,variant:t.tv||e.textfont.variant,textcase:t.tC||e.textfont.textcase,lineposition:t.tE||e.textfont.lineposition,shadow:t.tS||e.textfont.shadow,size:B,color:F}).text(o).call(svgTextUtils$d.convertToTspans,i).call(textPointPosition,u,B,t.mrc)}else n.remove()})}},drawing.selectedTextStyle=function(t,e){if(t.size()&&e.selectedpoints){var i=drawing.makeSelectedTextStyleFns(e);t.each(function(t){var r=d3$p.select(this),n=i.selectedTextColorFn(t),a=t.tp||e.textposition,s=extracTextFontSize(t,e);Color$z.fill(r,n);var o=Registry$J.traceIs(e,"bar-like");textPointPosition(r,a,s,t.mrc2||t.mrc,o)})}};var lastDrawnX,lastDrawnY,CatmullRomExp=.5;function roundEnd(t,e,i){return i&&(t=applyBackoff(t)),e?roundY(t[1]):roundX(t[0])}function roundX(t){var e=d3$p.round(t,2);return lastDrawnX=e,e}function roundY(t){var e=d3$p.round(t,2);return lastDrawnY=e,e}function makeTangent(t,e,i,r){var n=t[0]-e[0],a=t[1]-e[1],s=i[0]-e[0],o=i[1]-e[1],l=Math.pow(n*n+a*a,CatmullRomExp/2),c=Math.pow(s*s+o*o,CatmullRomExp/2),g=(c*c*n-l*l*s)*r,d=(c*c*a-l*l*o)*r,u=3*c*(l+c),B=3*l*(l+c);return[[roundX(e[0]+(u&&g/u)),roundY(e[1]+(u&&d/u))],[roundX(e[0]-(B&&g/B)),roundY(e[1]-(B&&d/B))]]}drawing.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var i,r="M"+t[0],n=[];for(i=1;i<t.length-1;i++)n.push(makeTangent(t[i-1],t[i],t[i+1],e));for(r+="Q"+n[0][0]+" "+t[1],i=2;i<t.length-1;i++)r+="C"+n[i-2][1]+" "+n[i-1][0]+" "+t[i];return r+="Q"+n[t.length-3][1]+" "+t[t.length-1]},drawing.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var i,r="M"+t[0],n=t.length-1,a=[makeTangent(t[n],t[0],t[1],e)];for(i=1;i<n;i++)a.push(makeTangent(t[i-1],t[i],t[i+1],e));for(a.push(makeTangent(t[n-1],t[n],t[0],e)),i=1;i<=n;i++)r+="C"+a[i-1][1]+" "+a[i][0]+" "+t[i];return r+="C"+a[n][1]+" "+a[0][0]+" "+t[0]+"Z"};var STEPPATH={hv:function(t,e,i){return"H"+roundX(e[0])+"V"+roundEnd(e,1,i)},vh:function(t,e,i){return"V"+roundY(e[1])+"H"+roundEnd(e,0,i)},hvh:function(t,e,i){return"H"+roundX((t[0]+e[0])/2)+"V"+roundY(e[1])+"H"+roundEnd(e,0,i)},vhv:function(t,e,i){return"V"+roundY((t[1]+e[1])/2)+"H"+roundX(e[0])+"V"+roundEnd(e,1,i)}},STEPLINEAR=function(t,e,i){return"L"+roundEnd(e,0,i)+","+roundEnd(e,1,i)};function applyBackoff(t,e){var i=t.backoff,r=t.trace,n=t.d,a=t.i;if(i&&r&&r.marker&&r.marker.angle%360==0&&r.line&&"spline"!==r.line.shape){var s=Lib$1r.isArrayOrTypedArray(i),o=t,l=e?e[0]:lastDrawnX||0,c=e?e[1]:lastDrawnY||0,g=o[0],d=o[1],u=g-l,B=d-c,F=Math.atan2(B,u),h=s?i[a]:i;if("auto"===h){var Q=o.i;"scatter"===r.type&&Q--;var U=o.marker,I=U.symbol;Lib$1r.isArrayOrTypedArray(I)&&(I=I[Q]);var b=U.size;Lib$1r.isArrayOrTypedArray(b)&&(b=b[Q]),h=U?drawing.symbolBackOffs[drawing.symbolNumber(I)]*b:0,h+=drawing.getMarkerStandoff(n[Q],r)||0}var p=g-h*Math.cos(F),y=d-h*Math.sin(F);(p<=g&&p>=l||p>=g&&p<=l)&&(y<=d&&y>=c||y>=d&&y<=c)&&(t=[p,y])}return t}drawing.steps=function(t){var e=STEPPATH[t]||STEPLINEAR;return function(t){for(var i="M"+roundX(t[0][0])+","+roundY(t[0][1]),r=t.length,n=1;n<r;n++)i+=e(t[n-1],t[n],n===r-1);return i}},drawing.applyBackoff=applyBackoff,drawing.makeTester=function(){var t=Lib$1r.ensureSingleById(d3$p.select("body"),"svg","js-plotly-tester",function(t){t.attr(xmlnsNamespaces$3.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),e=Lib$1r.ensureSingle(t,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});drawing.tester=t,drawing.testref=e},drawing.savedBBoxes={};var savedBBoxesCount=0,maxSavedBBoxes=1e4;function nodeHash(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}function getFullUrl(t,e){if(!t)return null;var i=e._context,r=i._exportedPlot?"":i._baseUrl||"";return r?"url('"+r+"#"+t+"')":"url(#"+t+")"}drawing.bBox=function(t,e,i){var r,n,a;if(i||(i=nodeHash(t)),i){if(r=drawing.savedBBoxes[i])return Lib$1r.extendFlat({},r)}else if(1===t.childNodes.length){var s=t.childNodes[0];if(i=nodeHash(s)){var o=+s.getAttribute("x")||0,l=+s.getAttribute("y")||0,c=s.getAttribute("transform");if(!c){var g=drawing.bBox(s,!1,i);return o&&(g.left+=o,g.right+=o),l&&(g.top+=l,g.bottom+=l),g}if(i+="~"+o+"~"+l+"~"+c,r=drawing.savedBBoxes[i])return Lib$1r.extendFlat({},r)}}e?n=t:(a=drawing.tester.node(),n=t.cloneNode(!0),a.appendChild(n)),d3$p.select(n).attr("transform",null).call(svgTextUtils$d.positionText,0,0);var d=n.getBoundingClientRect(),u=drawing.testref.node().getBoundingClientRect();e||a.removeChild(n);var B={height:d.height,width:d.width,left:d.left-u.left,top:d.top-u.top,right:d.right-u.left,bottom:d.bottom-u.top};return savedBBoxesCount>=maxSavedBBoxes&&(drawing.savedBBoxes={},savedBBoxesCount=0),i&&(drawing.savedBBoxes[i]=B),savedBBoxesCount++,Lib$1r.extendFlat({},B)},drawing.setClipUrl=function(t,e,i){t.attr("clip-path",getFullUrl(e,i))},drawing.getTranslate=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(t,e,i){return[e,i].join(" ")}).split(" ");return{x:+e[0]||0,y:+e[1]||0}},drawing.setTranslate=function(t,e,i){var r=t.attr?"attr":"getAttribute",n=t.attr?"attr":"setAttribute",a=t[r]("transform")||"";return e=e||0,i=i||0,a=a.replace(/(\btranslate\(.*?\);?)/,"").trim(),a=(a+=strTranslate$c(e,i)).trim(),t[n]("transform",a),a},drawing.getScale=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(t,e,i){return[e,i].join(" ")}).split(" ");return{x:+e[0]||1,y:+e[1]||1}},drawing.setScale=function(t,e,i){var r=t.attr?"attr":"getAttribute",n=t.attr?"attr":"setAttribute",a=t[r]("transform")||"";return e=e||1,i=i||1,a=a.replace(/(\bscale\(.*?\);?)/,"").trim(),a=(a+="scale("+e+","+i+")").trim(),t[n]("transform",a),a};var SCALE_RE=/\s*sc.*/;drawing.setPointGroupScale=function(t,e,i){if(e=e||1,i=i||1,t){var r=1===e&&1===i?"":"scale("+e+","+i+")";t.each(function(){var t=(this.getAttribute("transform")||"").replace(SCALE_RE,"");t=(t+=r).trim(),this.setAttribute("transform",t)})}};var TEXT_POINT_LAST_TRANSLATION_RE=/translate\([^)]*\)\s*$/;function getMarkerStandoff(t,e){var i;return t&&(i=t.mf),void 0===i&&(i=e.marker&&e.marker.standoff||0),e._geo||e._xA?i:-i}drawing.setTextPointsScale=function(t,e,i){t&&t.each(function(){var t,r=d3$p.select(this),n=r.select("text");if(n.node()){var a=parseFloat(n.attr("x")||0),s=parseFloat(n.attr("y")||0),o=(r.attr("transform")||"").match(TEXT_POINT_LAST_TRANSLATION_RE);t=1===e&&1===i?[]:[strTranslate$c(a,s),"scale("+e+","+i+")",strTranslate$c(-a,-s)],o&&t.push(o),r.attr("transform",t.join(""))}})},drawing.getMarkerStandoff=getMarkerStandoff;var previousLon,previousLat,previousX,previousY,previousI,previousTraceUid,atan2=Math.atan2,cos=Math.cos,sin=Math.sin;function rotate(t,e){var i=e[0],r=e[1];return[i*cos(t)-r*sin(t),i*sin(t)+r*cos(t)]}function getMarkerAngle(t,e){var i,r,n=t.ma;void 0===n&&((n=e.marker.angle)&&!Lib$1r.isArrayOrTypedArray(n)||(n=0));var a=e.marker.angleref;if("previous"===a||"north"===a){if(e._geo){var s=e._geo.project(t.lonlat);i=s[0],r=s[1]}else{var o=e._xA,l=e._yA;if(!o||!l)return 90;i=o.c2p(t.x),r=l.c2p(t.y)}if(e._geo){var c,g=t.lonlat[0],d=t.lonlat[1],u=e._geo.project([g,d+1e-5]),B=e._geo.project([g+1e-5,d]),F=atan2(B[1]-r,B[0]-i),h=atan2(u[1]-r,u[0]-i);if("north"===a)c=n/180*Math.PI;else if("previous"===a){var Q=g/180*Math.PI,U=d/180*Math.PI,I=previousLon/180*Math.PI,b=previousLat/180*Math.PI,p=I-Q,y=cos(b)*sin(p),m=sin(b)*cos(U)-cos(b)*sin(U)*cos(p);c=-atan2(y,m)-Math.PI,previousLon=g,previousLat=d}var C=rotate(F,[cos(c),0]),f=rotate(h,[sin(c),0]);n=atan2(C[1]+f[1],C[0]+f[0])/Math.PI*180,"previous"!==a||previousTraceUid===e.uid&&t.i===previousI+1||(n=null)}if("previous"===a&&!e._geo)if(previousTraceUid===e.uid&&t.i===previousI+1&&isNumeric$l(i)&&isNumeric$l(r)){var x=i-previousX,A=r-previousY,v=e.line&&e.line.shape||"",L=v.slice(v.length-1);"h"===L&&(A=0),"v"===L&&(x=0),n+=atan2(A,x)/Math.PI*180+90}else n=null}return previousX=i,previousY=r,previousI=t.i,previousTraceUid=e.uid,n}drawing.getMarkerAngle=getMarkerAngle;var drawingExports=drawing$1.exports,d3$o=d3Exports,isNumeric$k=fastIsnumeric,Plots$c=plotsExports,Registry$I=registry$1,Lib$1q=libExports,strTranslate$b=Lib$1q.strTranslate,Drawing$o=drawingExports,Color$y=colorExports,svgTextUtils$c=svg_text_utils,interactConstants=interactions,OPPOSITE_SIDE$1=alignment$1.OPPOSITE_SIDE,numStripRE=/ [XY][0-9]* /,SUBTITLE_PADDING_MATHJAX_EM=1.6,SUBTITLE_PADDING_EM=1.6;function draw$c(t,e,i){var r,n=t._fullLayout,a=i.propContainer,s=i.propName,o=i.placeholder,l=i.traceIndex,c=i.avoid||{},g=i.attributes,d=i.transform,u=i.containerGroup,B=1,F=a.title,h=(F&&F.text?F.text:"").trim(),Q=!1,U=F&&F.font?F.font:{},I=U.family,b=U.size,p=U.color,y=U.weight,m=U.style,C=U.variant,f=U.textcase,x=U.lineposition,A=U.shadow,v=!!i.subtitlePropName,L=i.subtitlePlaceholder,R=(a.title||{}).subtitle||{text:"",font:{}},S=R.text.trim(),G=!1,E=1,V=R.font,Z=V.family,N=V.size,D=V.color,w=V.weight,X=V.style,W=V.variant,H=V.textcase,T=V.lineposition,M=V.shadow;"title.text"===s?r="titleText":-1!==s.indexOf("axis")?r="axisTitleText":-1!==s.indexOf("colorbar")&&(r="colorbarTitleText");var k=t._context.edits[r];function Y(t,e){return void 0!==t&&void 0!==e&&t.replace(numStripRE," % ")===e.replace(numStripRE," % ")}""===h?B=0:Y(h,o)&&(k||(h=""),B=.2,Q=!0),v&&(""===S?E=0:Y(S,L)&&(k||(S=""),E=.2,G=!0)),i._meta?h=Lib$1q.templateString(h,i._meta):n._meta&&(h=Lib$1q.templateString(h,n._meta));var J,$=h||S||k;u||(u=Lib$1q.ensureSingle(n._infolayer,"g","g-"+e),J=n._hColorbarMoveTitle);var z=u.selectAll("text."+e).data($?[0]:[]);z.enter().append("text"),z.text(h).attr("class",e),z.exit().remove();var O=null,K=e+"-subtitle",_=S||k;if(v&&_&&((O=u.selectAll("text."+K).data(_?[0]:[])).enter().append("text"),O.text(S).attr("class",K),O.exit().remove()),!$)return u;function P(t,e){Lib$1q.syncOrAsync([j,q],{title:t,subtitle:e})}function j(i){var r,n=i.title,a=i.subtitle;if(!d&&J&&(d={}),d?(r="",d.rotate&&(r+="rotate("+[d.rotate,g.x,g.y]+")"),(d.offset||J)&&(r+=strTranslate$b(0,(d.offset||0)-(J||0)))):r=null,n.attr("transform",r),n.style("opacity",B*Color$y.opacity(p)).call(Drawing$o.font,{color:Color$y.rgb(p),size:d3$o.round(b,2),family:I,weight:y,style:m,variant:C,textcase:f,shadow:A,lineposition:x}).attr(g).call(svgTextUtils$c.convertToTspans,t,function(t){if(t){var e=d3$o.select(t.node().parentNode).select("."+K);if(!e.empty()){var i=t.node().getBBox();if(i.height){var r=i.y+i.height+SUBTITLE_PADDING_MATHJAX_EM*N;e.attr("y",r)}}}}),a){var s=u.select("."+e+"-math-group"),o=n.node().getBBox(),l=s.node()?s.node().getBBox():void 0,c=l?l.y+l.height+SUBTITLE_PADDING_MATHJAX_EM*N:o.y+o.height+SUBTITLE_PADDING_EM*N,F=Lib$1q.extendFlat({},g,{y:c});a.attr("transform",r),a.style("opacity",E*Color$y.opacity(D)).call(Drawing$o.font,{color:Color$y.rgb(D),size:d3$o.round(N,2),family:Z,weight:w,style:X,variant:W,textcase:H,shadow:M,lineposition:T}).attr(F).call(svgTextUtils$c.convertToTspans,t)}return Plots$c.previousPromises(t)}function q(e){var i=e.title,r=d3$o.select(i.node().parentNode);if(c&&c.selection&&c.side&&h){r.attr("transform",null);var s=OPPOSITE_SIDE$1[c.side],o="left"===c.side||"top"===c.side?-1:1,l=isNumeric$k(c.pad)?c.pad:2,g=Drawing$o.bBox(r.node()),d={t:0,b:0,l:0,r:0},u=t._fullLayout._reservedMargin;for(var B in u)for(var F in u[B]){var Q=u[B][F];d[F]=Math.max(d[F],Q)}var U={left:d.l,top:d.t,right:n.width-d.r,bottom:n.height-d.b},I=c.maxShift||o*(U[c.side]-g[c.side]),b=0;if(I<0)b=I;else{var p=c.offsetLeft||0,y=c.offsetTop||0;g.left-=p,g.right-=p,g.top-=y,g.bottom-=y,c.selection.each(function(){var t=Drawing$o.bBox(this);Lib$1q.bBoxIntersect(g,t,l)&&(b=Math.max(b,o*(t[c.side]-g[s])+l))}),b=Math.min(I,b),a._titleScoot=Math.abs(b)}if(b>0||I<0){var m={left:[-b,0],right:[b,0],top:[0,-b],bottom:[0,b]}[c.side];r.attr("transform",strTranslate$b(m[0],m[1]))}}}function tt(t,e){t.text(e).on("mouseover.opacity",function(){d3$o.select(this).transition().duration(interactConstants.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){d3$o.select(this).transition().duration(interactConstants.HIDE_PLACEHOLDER).style("opacity",0)})}if(z.call(P,O),k&&(h?z.on(".opacity",null):(tt(z,o),Q=!0),z.call(svgTextUtils$c.makeEditable,{gd:t}).on("edit",function(e){void 0!==l?Registry$I.call("_guiRestyle",t,s,e,l):Registry$I.call("_guiRelayout",t,s,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(P)}).on("input",function(t){this.text(t||" ").call(svgTextUtils$c.positionText,g.x,g.y)}),v)){if(v&&!h){var et=z.node().getBBox(),it=et.y+et.height+SUBTITLE_PADDING_EM*N;O.attr("y",it)}S?O.on(".opacity",null):(tt(O,L),G=!0),O.call(svgTextUtils$c.makeEditable,{gd:t}).on("edit",function(e){Registry$I.call("_guiRelayout",t,"title.subtitle.text",e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(P)}).on("input",function(t){this.text(t||" ").call(svgTextUtils$c.positionText,O.attr("x"),O.attr("y"))})}return z.classed("js-placeholder",Q),O&&O.classed("js-placeholder",G),u}var titles={draw:draw$c,SUBTITLE_PADDING_EM:SUBTITLE_PADDING_EM,SUBTITLE_PADDING_MATHJAX_EM:SUBTITLE_PADDING_MATHJAX_EM},d3$n=d3Exports,utcFormat=require$$1.utcFormat,Lib$1p=libExports,numberFormat$2=Lib$1p.numberFormat,isNumeric$j=fastIsnumeric,cleanNumber$1=Lib$1p.cleanNumber,ms2DateTime=Lib$1p.ms2DateTime,dateTime2ms$1=Lib$1p.dateTime2ms,ensureNumber=Lib$1p.ensureNumber,isArrayOrTypedArray$8=Lib$1p.isArrayOrTypedArray,numConstants$3=numerical,FP_SAFE=numConstants$3.FP_SAFE,BADNUM$7=numConstants$3.BADNUM,LOG_CLIP$1=numConstants$3.LOG_CLIP,ONEWEEK$2=numConstants$3.ONEWEEK,ONEDAY$1=numConstants$3.ONEDAY,ONEHOUR$1=numConstants$3.ONEHOUR,ONEMIN$1=numConstants$3.ONEMIN,ONESEC$1=numConstants$3.ONESEC,axisIds$8=axis_ids$1,constants$H=constants$K,HOUR_PATTERN=constants$H.HOUR_PATTERN,WEEKDAY_PATTERN=constants$H.WEEKDAY_PATTERN;function fromLog(t){return Math.pow(10,t)}function isValidCategory(t){return null!=t}var autorange$2,hasRequiredAutorange,set_convert=function(t,e){e=e||{};var i=t._id||"x",r=i.charAt(0);function n(e,i){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&i&&t.range&&2===t.range.length){var r=t.range[0],n=t.range[1];return.5*(r+n-2*LOG_CLIP$1*Math.abs(r-n))}return BADNUM$7}function a(e,i,r,n){if((n||{}).msUTC&&isNumeric$j(e))return+e;var a=dateTime2ms$1(e,r||t.calendar);if(a===BADNUM$7){if(!isNumeric$j(e))return BADNUM$7;e=+e;var s=Math.floor(10*Lib$1p.mod(e+.05,1)),o=Math.round(e-s/10);a=dateTime2ms$1(new Date(o))+s/10}return a}function s(e,i,r){return ms2DateTime(e,i,r||t.calendar)}function o(e){return t._categories[Math.round(e)]}function l(e){if(isValidCategory(e)){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push("number"==typeof e?String(e):e);var i=t._categories.length-1;return t._categoriesMap[e]=i,i}return BADNUM$7}function c(e){if(t._categoriesMap)return t._categoriesMap[e]}function g(t){var e=c(t);return void 0!==e?e:isNumeric$j(t)?+t:void 0}function d(t){return isNumeric$j(t)?+t:c(t)}function u(t,e,i){return d3$n.round(i+e*t,2)}function B(t,e,i){return(t-i)/e}var F=function(e){return isNumeric$j(e)?u(e,t._m,t._b):BADNUM$7},h=function(e){return B(e,t._m,t._b)};if(t.rangebreaks){var Q="y"===r;F=function(e){if(!isNumeric$j(e))return BADNUM$7;var i=t._rangebreaks.length;if(!i)return u(e,t._m,t._b);var r=Q;t.range[0]>t.range[1]&&(r=!r);for(var n=r?-1:1,a=n*e,s=0,o=0;o<i;o++){var l=n*t._rangebreaks[o].min,c=n*t._rangebreaks[o].max;if(a<l)break;if(!(a>c)){s=a<(l+c)/2?o:o+1;break}s=o+1}var g=t._B[s]||0;return isFinite(g)?u(e,t._m2,g):0},h=function(e){var i=t._rangebreaks.length;if(!i)return B(e,t._m,t._b);for(var r=0,n=0;n<i&&!(e<t._rangebreaks[n].pmin);n++)e>t._rangebreaks[n].pmax&&(r=n+1);return B(e,t._m2,t._B[r])}}t.c2l="log"===t.type?n:ensureNumber,t.l2c="log"===t.type?fromLog:ensureNumber,t.l2p=F,t.p2l=h,t.c2p="log"===t.type?function(t,e){return F(n(t,e))}:F,t.p2c="log"===t.type?function(t){return fromLog(h(t))}:h,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=cleanNumber$1,t.c2d=t.c2r=t.l2d=t.l2r=ensureNumber,t.d2p=t.r2p=function(e){return t.l2p(cleanNumber$1(e))},t.p2d=t.p2r=h,t.cleanPos=ensureNumber):"log"===t.type?(t.d2r=t.d2l=function(t,e){return n(cleanNumber$1(t),e)},t.r2d=t.r2c=function(t){return fromLog(cleanNumber$1(t))},t.d2c=t.r2l=cleanNumber$1,t.c2d=t.l2r=ensureNumber,t.c2r=n,t.l2d=fromLog,t.d2p=function(e,i){return t.l2p(t.d2r(e,i))},t.p2d=function(t){return fromLog(h(t))},t.r2p=function(e){return t.l2p(cleanNumber$1(e))},t.p2r=h,t.cleanPos=ensureNumber):"date"===t.type?(t.d2r=t.r2d=Lib$1p.identity,t.d2c=t.r2c=t.d2l=t.r2l=a,t.c2d=t.c2r=t.l2d=t.l2r=s,t.d2p=t.r2p=function(e,i,r){return t.l2p(a(e,0,r))},t.p2d=t.p2r=function(t,e,i){return s(h(t),e,i)},t.cleanPos=function(e){return Lib$1p.cleanDate(e,BADNUM$7,t.calendar)}):"category"===t.type?(t.d2c=t.d2l=l,t.r2d=t.c2d=t.l2d=o,t.d2r=t.d2l_noadd=g,t.r2c=function(e){var i=d(e);return void 0!==i?i:t.fraction2r(.5)},t.l2r=t.c2r=ensureNumber,t.r2l=d,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return o(h(t))},t.r2p=t.d2p,t.p2r=h,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:ensureNumber(t)}):"multicategory"===t.type&&(t.r2d=t.c2d=t.l2d=o,t.d2r=t.d2l_noadd=g,t.r2c=function(e){var i=g(e);return void 0!==i?i:t.fraction2r(.5)},t.r2c_just_indices=c,t.l2r=t.c2r=ensureNumber,t.r2l=g,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return o(h(t))},t.r2p=t.d2p,t.p2r=h,t.cleanPos=function(t){return Array.isArray(t)||"string"==typeof t&&""!==t?t:ensureNumber(t)},t.setupMultiCategory=function(n){var a,s,o=t._traceIndices,c=t._matchGroup;if(c&&0===t._categories.length)for(var g in c)if(g!==i){var d=e[axisIds$8.id2name(g)];o=o.concat(d._traceIndices)}var u=[[0,{}],[0,{}]],B=[];for(a=0;a<o.length;a++){var F=n[o[a]];if(r in F){var h=F[r],Q=F._length||Lib$1p.minRowLength(h);if(isArrayOrTypedArray$8(h[0])&&isArrayOrTypedArray$8(h[1]))for(s=0;s<Q;s++){var U=h[0][s],I=h[1][s];isValidCategory(U)&&isValidCategory(I)&&(B.push([U,I]),U in u[0][1]||(u[0][1][U]=u[0][0]++),I in u[1][1]||(u[1][1][I]=u[1][0]++))}}}for(B.sort(function(t,e){var i=u[0][1],r=i[t[0]]-i[e[0]];if(r)return r;var n=u[1][1];return n[t[1]]-n[e[1]]}),a=0;a<B.length;a++)l(B[a])}),t.fraction2r=function(e){var i=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return t.l2r(i+e*(r-i))},t.r2fraction=function(e){var i=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return(t.r2l(e)-i)/(r-i)},t.limitRange=function(e){var i=t.minallowed,r=t.maxallowed;if(void 0!==i||void 0!==r){e||(e="range");var n=Lib$1p.nestedProperty(t,e).get(),a=Lib$1p.simpleMap(n,t.r2l),s=a[1]<a[0];s&&a.reverse();var o=Lib$1p.simpleMap([i,r],t.r2l);if(void 0!==i&&a[0]<o[0]&&(n[s?1:0]=i),void 0!==r&&a[1]>o[1]&&(n[s?0:1]=r),n[0]===n[1]){var l=t.l2r(i),c=t.l2r(r);if(void 0!==i){var g=l+1;void 0!==r&&(g=Math.min(g,c)),n[s?1:0]=g}if(void 0!==r){var d=c+1;void 0!==i&&(d=Math.max(d,l)),n[s?0:1]=d}}}},t.cleanRange=function(e,i){t._cleanRange(e,i),t.limitRange(e)},t._cleanRange=function(e,i){i||(i={}),e||(e="range");var n,a,s=Lib$1p.nestedProperty(t,e).get();if(a=(a="date"===t.type?Lib$1p.dfltRange(t.calendar):"y"===r?constants$H.DFLTRANGEY:"realaxis"===t._name?[0,1]:i.dfltRange||constants$H.DFLTRANGEX).slice(),"tozero"!==t.rangemode&&"nonnegative"!==t.rangemode||(a[0]=0),s&&2===s.length){var o=null===s[0],l=null===s[1];for("date"!==t.type||t.autorange||(s[0]=Lib$1p.cleanDate(s[0],BADNUM$7,t.calendar),s[1]=Lib$1p.cleanDate(s[1],BADNUM$7,t.calendar)),n=0;n<2;n++)if("date"===t.type){if(!Lib$1p.isDateTime(s[n],t.calendar)){t[e]=a;break}if(t.r2l(s[0])===t.r2l(s[1])){var c=Lib$1p.constrain(t.r2l(s[0]),Lib$1p.MIN_MS+1e3,Lib$1p.MAX_MS-1e3);s[0]=t.l2r(c-1e3),s[1]=t.l2r(c+1e3);break}}else{if(!isNumeric$j(s[n])){if(o||l||!isNumeric$j(s[1-n])){t[e]=a;break}s[n]=s[1-n]*(n?10:.1)}if(s[n]<-FP_SAFE?s[n]=-FP_SAFE:s[n]>FP_SAFE&&(s[n]=FP_SAFE),s[0]===s[1]){var g=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=g,s[1]+=g}}}else Lib$1p.nestedProperty(t,e).set(a)},t.setScale=function(i){var n=e._size;if(t.overlaying){var a=axisIds$8.getFromId({_fullLayout:e},t.overlaying);t.domain=a.domain}var s=i&&t._r?"_r":"range",o=t.calendar;t.cleanRange(s);var l,c,g=t.r2l(t[s][0],o),d=t.r2l(t[s][1],o),u="y"===r;if((u?(t._offset=n.t+(1-t.domain[1])*n.h,t._length=n.h*(t.domain[1]-t.domain[0]),t._m=t._length/(g-d),t._b=-t._m*d):(t._offset=n.l+t.domain[0]*n.w,t._length=n.w*(t.domain[1]-t.domain[0]),t._m=t._length/(d-g),t._b=-t._m*g),t._rangebreaks=[],t._lBreaks=0,t._m2=0,t._B=[],t.rangebreaks)&&(t._rangebreaks=t.locateBreaks(Math.min(g,d),Math.max(g,d)),t._rangebreaks.length)){for(l=0;l<t._rangebreaks.length;l++)c=t._rangebreaks[l],t._lBreaks+=Math.abs(c.max-c.min);var B=u;g>d&&(B=!B),B&&t._rangebreaks.reverse();var h=B?-1:1;for(t._m2=h*t._length/(Math.abs(d-g)-t._lBreaks),t._B.push(-t._m2*(u?d:g)),l=0;l<t._rangebreaks.length;l++)c=t._rangebreaks[l],t._B.push(t._B[t._B.length-1]-h*t._m2*(c.max-c.min));for(l=0;l<t._rangebreaks.length;l++)(c=t._rangebreaks[l]).pmin=F(c.min),c.pmax=F(c.max)}if(!isFinite(t._m)||!isFinite(t._b)||t._length<0)throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.maskBreaks=function(e){var i,r,n,a,s,o=t.rangebreaks||[];o._cachedPatterns||(o._cachedPatterns=o.map(function(e){return e.enabled&&e.bounds?Lib$1p.simpleMap(e.bounds,e.pattern?cleanNumber$1:t.d2c):null})),o._cachedValues||(o._cachedValues=o.map(function(e){return e.enabled&&e.values?Lib$1p.simpleMap(e.values,t.d2c).sort(Lib$1p.sorterAsc):null}));for(var l=0;l<o.length;l++){var c=o[l];if(c.enabled)if(c.bounds){var g=c.pattern;switch(r=(i=o._cachedPatterns[l])[0],n=i[1],g){case WEEKDAY_PATTERN:a=(s=new Date(e)).getUTCDay(),r>n&&(n+=7,a<r&&(a+=7));break;case HOUR_PATTERN:a=(s=new Date(e)).getUTCHours()+(s.getUTCMinutes()/60+s.getUTCSeconds()/3600+s.getUTCMilliseconds()/36e5),r>n&&(n+=24,a<r&&(a+=24));break;case"":a=e}if(a>=r&&a<n)return BADNUM$7}else for(var d=o._cachedValues[l],u=0;u<d.length;u++)if(n=(r=d[u])+c.dvalue,e>=r&&e<n)return BADNUM$7}return e},t.locateBreaks=function(e,i){var r,n,a,s,o=[];if(!t.rangebreaks)return o;var l=t.rangebreaks.slice().sort(function(t,e){return t.pattern===WEEKDAY_PATTERN&&e.pattern===HOUR_PATTERN?-1:e.pattern===WEEKDAY_PATTERN&&t.pattern===HOUR_PATTERN?1:0}),c=function(t,r){if((t=Lib$1p.constrain(t,e,i))!==(r=Lib$1p.constrain(r,e,i))){for(var n=!0,a=0;a<o.length;a++){var s=o[a];t<s.max&&r>=s.min&&(t<s.min&&(s.min=t),r>s.max&&(s.max=r),n=!1)}n&&o.push({min:t,max:r})}};for(r=0;r<l.length;r++){var g=l[r];if(g.enabled)if(g.bounds){var d=e,u=i;g.pattern&&(d=Math.floor(d)),a=(n=Lib$1p.simpleMap(g.bounds,g.pattern?cleanNumber$1:t.r2l))[0],s=n[1];var B,F,h=new Date(d);switch(g.pattern){case WEEKDAY_PATTERN:F=ONEWEEK$2,B=(s-a+(s<a?7:0))*ONEDAY$1,d+=a*ONEDAY$1-(h.getUTCDay()*ONEDAY$1+h.getUTCHours()*ONEHOUR$1+h.getUTCMinutes()*ONEMIN$1+h.getUTCSeconds()*ONESEC$1+h.getUTCMilliseconds());break;case HOUR_PATTERN:F=ONEDAY$1,B=(s-a+(s<a?24:0))*ONEHOUR$1,d+=a*ONEHOUR$1-(h.getUTCHours()*ONEHOUR$1+h.getUTCMinutes()*ONEMIN$1+h.getUTCSeconds()*ONESEC$1+h.getUTCMilliseconds());break;default:d=Math.min(n[0],n[1]),B=F=(u=Math.max(n[0],n[1]))-d}for(var Q=d;Q<u;Q+=F)c(Q,Q+B)}else for(var U=Lib$1p.simpleMap(g.values,t.d2c),I=0;I<U.length;I++)c(a=U[I],s=a+g.dvalue)}return o.sort(function(t,e){return t.min-e.min}),o},t.makeCalcdata=function(e,i,r){var n,a,s,o,l=t.type,g="date"===l&&e[i+"calendar"];if(i in e){if(n=e[i],o=e._length||Lib$1p.minRowLength(n),Lib$1p.isTypedArray(n)&&("linear"===l||"log"===l)){if(o===n.length)return n;if(n.subarray)return n.subarray(0,o)}if("multicategory"===l)return function(t,e){for(var i=new Array(e),r=0;r<e;r++){var n=(t[0]||[])[r],a=(t[1]||[])[r];i[r]=c([n,a])}return i}(n,o);for(a=new Array(o),s=0;s<o;s++)a[s]=t.d2c(n[s],0,g,r)}else{var d=i+"0"in e?t.d2c(e[i+"0"],0,g):0,u=e["d"+i]?Number(e["d"+i]):1;for(n=e[{x:"y",y:"x"}[i]],o=e._length||n.length,a=new Array(o),s=0;s<o;s++)a[s]=d+s*u}if(t.rangebreaks)for(s=0;s<o;s++)a[s]=t.maskBreaks(a[s]);return a},t.isValidRange=function(e,i){return Array.isArray(e)&&2===e.length&&(i&&null===e[0]||isNumeric$j(t.r2l(e[0])))&&(i&&null===e[1]||isNumeric$j(t.r2l(e[1])))},t.getAutorangeDflt=function(e,i){var r=!t.isValidRange(e,"nullOk");return r&&i&&i.reverseDflt?r="reversed":e&&(null===e[0]&&null===e[1]?r=!0:null===e[0]&&null!==e[1]?r="min":null!==e[0]&&null===e[1]&&(r="max")),r},t.isReversed=function(){var e=t.autorange;return"reversed"===e||"min reversed"===e||"max reversed"===e},t.isPtWithinRange=function(e,i){var n=t.c2l(e[r],null,i),a=t.r2l(t.range[0]),s=t.r2l(t.range[1]);return a<s?a<=n&&n<=s:s<=n&&n<=a},t._emptyCategories=function(){t._categories=[],t._categoriesMap={}},t.clearCalc=function(){var i=t._matchGroup;if(i){var r=null,n=null;for(var a in i){var s=e[axisIds$8.id2name(a)];if(s._categories){r=s._categories,n=s._categoriesMap;break}}r&&n?(t._categories=r,t._categoriesMap=n):t._emptyCategories()}else t._emptyCategories();if(t._initialCategories)for(var o=0;o<t._initialCategories.length;o++)l(t._initialCategories[o])},t.sortByInitialCategories=function(){var r=[];if(t._emptyCategories(),t._initialCategories)for(var n=0;n<t._initialCategories.length;n++)l(t._initialCategories[n]);r=r.concat(t._traceIndices);var a=t._matchGroup;for(var s in a)if(i!==s){var o=e[axisIds$8.id2name(s)];o._categories=t._categories,o._categoriesMap=t._categoriesMap,r=r.concat(o._traceIndices)}return r};var U=e._d3locale;"date"===t.type&&(t._dateFormat=U?U.timeFormat:utcFormat,t._extraFormat=e._extraFormat),t._separators=e.separators,t._numFormat=U?U.numberFormat:numberFormat$2,delete t._minDtick,delete t._forceTick0},isNumeric$i=fastIsnumeric,Lib$1o=libExports,BADNUM$6=numerical.BADNUM,isArrayOrTypedArray$7=Lib$1o.isArrayOrTypedArray,isDateTime=Lib$1o.isDateTime,cleanNumber=Lib$1o.cleanNumber,round=Math.round,axis_autotype=function(t,e,i){var r=t,n=i.noMultiCategory;if(isArrayOrTypedArray$7(r)&&!r.length)return"-";if(!n&&multiCategory(r))return"multicategory";if(n&&Array.isArray(r[0])){for(var a=[],s=0;s<r.length;s++)if(isArrayOrTypedArray$7(r[s]))for(var o=0;o<r[s].length;o++)a.push(r[s][o]);r=a}if(moreDates(r,e))return"date";var l="strict"!==i.autotypenumbers;return category(r,l)?"category":linearOK(r,l)?"linear":"-"};function hasTypeNumber(t,e){return e?isNumeric$i(t):"number"==typeof t}function linearOK(t,e){for(var i=t.length,r=0;r<i;r++)if(hasTypeNumber(t[r],e))return!0;return!1}function moreDates(t,e){for(var i=t.length,r=getIncrement(i),n=0,a=0,s={},o=0;o<i;o+=r){var l=t[round(o)],c=String(l);s[c]||(s[c]=1,isDateTime(l,e)&&n++,isNumeric$i(l)&&a++)}return n>2*a}function getIncrement(t){return Math.max(1,(t-1)/1e3)}function category(t,e){for(var i=t.length,r=getIncrement(i),n=0,a=0,s={},o=0;o<i;o+=r){var l=t[round(o)],c=String(l);if(!s[c]){s[c]=1;var g=typeof l;"boolean"===g?a++:(e?cleanNumber(l)!==BADNUM$6:"number"===g)?n++:"string"===g&&a++}}return a>2*n}function multiCategory(t){return isArrayOrTypedArray$7(t[0])&&isArrayOrTypedArray$7(t[1])}function requireAutorange(){if(hasRequiredAutorange)return autorange$2;hasRequiredAutorange=1;var t=d3Exports,e=fastIsnumeric,i=libExports,r=numerical.FP_SAFE,n=registry$1,a=drawingExports,s=axis_ids$1,o=s.getFromId,l=s.isLinked;function c(t,e){var r,n,a=[],s=t._fullLayout,o=d(s,e,0),l=d(s,e,1),c=B(t,e),u=c.min,F=c.max;if(0===u.length||0===F.length)return i.simpleMap(e.range,e.r2l);var h=u[0].val,Q=F[0].val;for(r=1;r<u.length&&h===Q;r++)h=Math.min(h,u[r].val);for(r=1;r<F.length&&h===Q;r++)Q=Math.max(Q,F[r].val);var U=e.autorange,I="reversed"===U||"min reversed"===U||"max reversed"===U;if(!I&&e.range){var b=i.simpleMap(e.range,e.r2l);I=b[1]<b[0]}"reversed"===e.autorange&&(e.autorange=!0);var p,m,C,f,x,A,v=e.rangemode,L="tozero"===v,R="nonnegative"===v,S=e._length,G=S/10,E=0;for(r=0;r<u.length;r++)for(p=u[r],n=0;n<F.length;n++)(A=(m=F[n]).val-p.val-g(e,p.val,m.val))>0&&((x=S-o(p)-l(m))>G?A/x>E&&(C=p,f=m,E=A/x):A/S>E&&(C={val:p.val,nopad:1},f={val:m.val,nopad:1},E=A/S));if(h===Q){var V=h-1,Z=h+1;if(L)if(0===h)a=[0,1];else{var N=(h>0?F:u).reduce(function(t,e){return Math.max(t,l(e))},0),D=h/(1-Math.min(.5,N/S));a=h>0?[0,D]:[D,0]}else a=R?[Math.max(0,V),Math.max(1,Z)]:[V,Z]}else L?(C.val>=0&&(C={val:0,nopad:1}),f.val<=0&&(f={val:0,nopad:1})):R&&(C.val-E*o(C)<0&&(C={val:0,nopad:1}),f.val<=0&&(f={val:1,nopad:1})),E=(f.val-C.val-g(e,p.val,m.val))/(S-o(C)-l(f)),a=[C.val-E*o(C),f.val+E*l(f)];return a=y(a,e),e.limitRange&&e.limitRange(),I&&a.reverse(),i.simpleMap(a,e.l2r||Number)}function g(t,e,i){var r=0;if(t.rangebreaks)for(var n=t.locateBreaks(e,i),a=0;a<n.length;a++){var s=n[a];r+=s.max-s.min}return r}function d(e,r,n){var s=.05*r._length,o=r._anchorAxis||{};if(-1!==(r.ticklabelposition||"").indexOf("inside")||-1!==(o.ticklabelposition||"").indexOf("inside")){var c=r.isReversed();if(!c){var g=i.simpleMap(r.range,r.r2l);c=g[1]<g[0]}c&&(n=!n)}var d=0;return l(e,r._id)||(d=function(e,r,n){var s=0,o="x"===r._id.charAt(0);for(var l in e._plots){var c=e._plots[l];if(r._id===c.xaxis._id||r._id===c.yaxis._id){var g=(o?c.yaxis:c.xaxis)||{};if(-1!==(g.ticklabelposition||"").indexOf("inside")&&(!n&&("left"===g.side||"bottom"===g.side)||n&&("top"===g.side||"right"===g.side))){if(g._vals){var d=i.deg2rad(g._tickAngles[g._id+"tick"]||0),B=Math.abs(Math.cos(d)),F=Math.abs(Math.sin(d));if(!g._vals[0].bb){var h=g._id+"tick";g._selections[h].each(function(e){var i=t.select(this);i.select(".text-math-group").empty()&&(e.bb=a.bBox(i.node()))})}for(var Q=0;Q<g._vals.length;Q++){var U=g._vals[Q].bb;if(U){var I=2*u+U.width,b=2*u+U.height;s=Math.max(s,o?Math.max(I*B,b*F):Math.max(b*B,I*F))}}}"inside"===g.ticks&&"inside"===g.ticklabelposition&&(s+=g.ticklen||0)}}}return s}(e,r,n)),s=Math.max(d,s),"domain"===r.constrain&&r._inputDomain&&(s*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(t){return t.nopad?0:t.pad+(t.extrapad?s:d)}}autorange$2={applyAutorangeOptions:y,getAutoRange:c,makePadFn:d,doAutoRange:function(t,e,r){if(e.setScale(),e.autorange){e.range=r?r.slice():c(t,e),e._r=e.range.slice(),e._rl=i.simpleMap(e._r,e.r2l);var a=e._input,s={};s[e._attr+".range"]=e.range,s[e._attr+".autorange"]=e.autorange,n.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,s),a.range=e.range.slice(),a.autorange=e.autorange}var o=e._anchorAxis;if(o&&o.rangeslider){var l=o.rangeslider[e._name];l&&"auto"===l.rangemode&&(l.range=c(t,e)),o._input.rangeslider[e._name]=i.extendFlat({},l)}},findExtremes:function(t,i,n){n||(n={});t._m||t.setScale();var a,s,o,l,c,g,d,u,B,Q=[],I=[],b=i.length,p=n.padded||!1,y=n.tozero&&("linear"===t.type||"-"===t.type),m="log"===t.type,C=!1,f=n.vpadLinearized||!1;function x(t){if(Array.isArray(t))return C=!0,function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}var A=x((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),v=x((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),L=x(n.vpadplus||n.vpad),R=x(n.vpadminus||n.vpad);if(!C){if(u=1/0,B=-1/0,m)for(a=0;a<b;a++)(s=i[a])<u&&s>0&&(u=s),s>B&&s<r&&(B=s);else for(a=0;a<b;a++)(s=i[a])<u&&s>-r&&(u=s),s>B&&s<r&&(B=s);i=[u,B],b=2}var S={tozero:y,extrapad:p};function G(r){o=i[r],e(o)&&(g=A(r),d=v(r),f?(l=t.c2l(o)-R(r),c=t.c2l(o)+L(r)):(u=o-R(r),B=o+L(r),m&&u<B/10&&(u=B/10),l=t.c2l(u),c=t.c2l(B)),y&&(l=Math.min(0,l),c=Math.max(0,c)),U(l)&&F(Q,l,d,S),U(c)&&h(I,c,g,S))}var E=Math.min(6,b);for(a=0;a<E;a++)G(a);for(a=b-1;a>=E;a--)G(a);return{min:Q,max:I,opts:n}},concatExtremes:B};var u=3;function B(t,e,i){var r,n,a,s=e._id,l=t._fullData,c=t._fullLayout,g=[],d=[];function u(t,e){for(r=0;r<e.length;r++){var i=t[e[r]],o=(i._extremes||{})[s];if(!0===i.visible&&o){for(n=0;n<o.min.length;n++)a=o.min[n],F(g,a.val,a.pad,{extrapad:a.extrapad});for(n=0;n<o.max.length;n++)a=o.max[n],h(d,a.val,a.pad,{extrapad:a.extrapad})}}}if(u(l,e._traceIndices),u(c.annotations||[],e._annIndices||[]),u(c.shapes||[],e._shapeIndices||[]),e._matchGroup&&!i)for(var Q in e._matchGroup)if(Q!==e._id){var U=o(t,Q),I=B(t,U,!0),b=e._length/U._length;for(n=0;n<I.min.length;n++)a=I.min[n],F(g,a.val,a.pad*b,{extrapad:a.extrapad});for(n=0;n<I.max.length;n++)a=I.max[n],h(d,a.val,a.pad*b,{extrapad:a.extrapad})}return{min:g,max:d}}function F(t,e,i,r){Q(t,e,i,r,I)}function h(t,e,i,r){Q(t,e,i,r,b)}function Q(t,e,i,r,n){for(var a=r.tozero,s=r.extrapad,o=!0,l=0;l<t.length&&o;l++){var c=t[l];if(n(c.val,e)&&c.pad>=i&&(c.extrapad||!s)){o=!1;break}n(e,c.val)&&c.pad<=i&&(s||!c.extrapad)&&(t.splice(l,1),l--)}if(o){var g=a&&0===e;t.push({val:e,pad:g?0:i,extrapad:!g&&s})}}function U(t){return e(t)&&Math.abs(t)<r}function I(t,e){return t<=e}function b(t,e){return t>=e}function p(t,e,i){return void 0===e||void 0===i||(e=t.d2l(e))<(i=t.d2l(i))}function y(t,e){if(!e||!e.autorangeoptions)return t;var r=t[0],n=t[1],a=e.autorangeoptions.include;if(void 0!==a){var s=e.d2l(r),o=e.d2l(n);i.isArrayOrTypedArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var c=e.d2l(a[l]);s>=c&&(s=c,r=c),o<=c&&(o=c,n=c)}}return r=function(t,e){var i=e.autorangeoptions;return i&&void 0!==i.minallowed&&p(e,i.minallowed,i.maxallowed)?i.minallowed:i&&void 0!==i.clipmin&&p(e,i.clipmin,i.clipmax)?Math.max(t,e.d2l(i.clipmin)):t}(r,e),n=function(t,e){var i=e.autorangeoptions;return i&&void 0!==i.maxallowed&&p(e,i.minallowed,i.maxallowed)?i.maxallowed:i&&void 0!==i.clipmax&&p(e,i.clipmin,i.clipmax)?Math.min(t,e.d2l(i.clipmax)):t}(n,e),[r,n]}return autorange$2}var d3$m=d3Exports,isNumeric$h=fastIsnumeric,Plots$b=plotsExports,Registry$H=registry$1,Lib$1n=libExports,strTranslate$a=Lib$1n.strTranslate,svgTextUtils$b=svg_text_utils,Titles$1=titles,Color$x=colorExports,Drawing$n=drawingExports,axAttrs=layout_attributes$3,cleanTicks=clean_ticks,constants$G=numerical,ONEMAXYEAR=constants$G.ONEMAXYEAR,ONEAVGYEAR=constants$G.ONEAVGYEAR,ONEMINYEAR=constants$G.ONEMINYEAR,ONEMAXQUARTER=constants$G.ONEMAXQUARTER,ONEAVGQUARTER=constants$G.ONEAVGQUARTER,ONEMINQUARTER=constants$G.ONEMINQUARTER,ONEMAXMONTH=constants$G.ONEMAXMONTH,ONEAVGMONTH$1=constants$G.ONEAVGMONTH,ONEMINMONTH=constants$G.ONEMINMONTH,ONEWEEK$1=constants$G.ONEWEEK,ONEDAY=constants$G.ONEDAY,HALFDAY=ONEDAY/2,ONEHOUR=constants$G.ONEHOUR,ONEMIN=constants$G.ONEMIN,ONESEC=constants$G.ONESEC,ONEMILLI=constants$G.ONEMILLI,ONEMICROSEC=constants$G.ONEMICROSEC,MINUS_SIGN=constants$G.MINUS_SIGN,BADNUM$5=constants$G.BADNUM,ZERO_PATH={K:"zeroline"},GRID_PATH={K:"gridline",L:"path"},MINORGRID_PATH={K:"minor-gridline",L:"path"},TICK_PATH={K:"tick",L:"path"},TICK_TEXT={K:"tick",L:"text"},MARGIN_MAPPING={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},alignmentConstants$4=alignment$1,MID_SHIFT=alignmentConstants$4.MID_SHIFT,CAP_SHIFT=alignmentConstants$4.CAP_SHIFT,LINE_SPACING$6=alignmentConstants$4.LINE_SPACING,OPPOSITE_SIDE=alignmentConstants$4.OPPOSITE_SIDE,TEXTPAD$1=3,axes=axes$1.exports={};axes.setConvert=set_convert;var autoType=axis_autotype,axisIds$7=axis_ids$1,idSort=axisIds$7.idSort,isLinked=axisIds$7.isLinked;axes.id2name=axisIds$7.id2name,axes.name2id=axisIds$7.name2id,axes.cleanId=axisIds$7.cleanId,axes.list=axisIds$7.list,axes.listIds=axisIds$7.listIds,axes.getFromId=axisIds$7.getFromId,axes.getFromTrace=axisIds$7.getFromTrace;var autorange$1=requireAutorange();axes.getAutoRange=autorange$1.getAutoRange,axes.findExtremes=autorange$1.findExtremes;var epsilon$2=1e-4;function expandRange(t){var e=(t[1]-t[0])*epsilon$2;return[t[0]-e,t[1]+e]}axes.coerceRef=function(t,e,i,r,n,a){var s=r.charAt(r.length-1),o=i._fullLayout._subplots[s+"axis"],l=r+"ref",c={};return n||(n=o[0]||("string"==typeof a?a:a[0])),a||(a=n),o=o.concat(o.map(function(t){return t+" domain"})),c[l]={valType:"enumerated",values:o.concat(a?"string"==typeof a?[a]:a:[]),dflt:n},Lib$1n.coerce(t,e,c,l)},axes.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},axes.coercePosition=function(t,e,i,r,n,a){var s,o;if("range"!==axes.getRefType(r))s=Lib$1n.ensureNumber,o=i(n,a);else{var l=axes.getFromId(e,r);o=i(n,a=l.fraction2r(a)),s=l.cleanPos}t[n]=s(o)},axes.cleanPosition=function(t,e,i){return("paper"===i||"pixel"===i?Lib$1n.ensureNumber:axes.getFromId(e,i).cleanPos)(t)},axes.redrawComponents=function(t,e){e=e||axes.listIds(t);var i=t._fullLayout;function r(r,n,a,s){for(var o=Registry$H.getComponentMethod(r,n),l={},c=0;c<e.length;c++)for(var g=i[axes.id2name(e[c])][a],d=0;d<g.length;d++){var u=g[d];if(!l[u]&&(o(t,u),l[u]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0),r("selections","drawOne","_selectionIndices")};var getDataConversions=axes.getDataConversions=function(t,e,i,r){var n,a="x"===i||"y"===i||"z"===i?i:r;if(Lib$1n.isArrayOrTypedArray(a)){if(n={type:autoType(r,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},axes.setConvert(n),"category"===n.type)for(var s=0;s<r.length;s++)n.d2c(r[s])}else n=axes.getFromTrace(t,e,a);return n?{d2c:n.d2c,c2d:n.c2d}:"ids"===a?{d2c:toString,c2d:toString}:{d2c:toNum,c2d:toNum}};function toNum(t){return+t}function toString(t){return String(t)}function autoShiftNumericBins(t,e,i,r,n){var a=0,s=0,o=0,l=0;function c(e){return(1+100*(e-t)/i.dtick)%100<2}for(var g=0;g<e.length;g++)e[g]%1==0?o++:isNumeric$h(e[g])||l++,c(e[g])&&a++,c(e[g]+i.dtick/2)&&s++;var d=e.length-l;if(o===d&&"date"!==i.type)i.dtick<1?t=r-.5*i.dtick:(t-=.5)+i.dtick<r&&(t+=i.dtick);else if(s<.1*d&&(a>.3*d||c(r)||c(n))){var u=i.dtick/2;t+=t+u<r?u:-u}return t}function autoShiftMonthBins(t,e,i,r,n){var a=Lib$1n.findExactDates(e,n);if(a.exactDays>.8){var s=Number(i.substr(1));a.exactYears>.8&&s%12==0?t=axes.tickIncrement(t,"M6","reverse")+1.5*ONEDAY:a.exactMonths>.8?t=axes.tickIncrement(t,"M1","reverse")+15.5*ONEDAY:t-=HALFDAY;var o=axes.tickIncrement(t,i);if(o<=r)return o}return t}function isMultiple(t,e){return Math.abs((t/e+.5)%1-.5)<.001}function isClose(t,e){return Math.abs(t/e-1)<.001}function nMonths(t){return+t.substring(1)}function adjustPeriodDelta(t){var e;function i(){return!(isNumeric$h(t.dtick)||"M"!==t.dtick.charAt(0))}var r=i(),n=axes.getTickFormat(t);if(n){var a=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(n)||(/%[HI]/.test(n)?(e=ONEHOUR,a&&!r&&t.dtick<ONEHOUR&&(t.dtick=ONEHOUR)):/%p/.test(n)?(e=HALFDAY,a&&!r&&t.dtick<HALFDAY&&(t.dtick=HALFDAY)):/%[Aadejuwx]/.test(n)?(e=ONEDAY,a&&!r&&t.dtick<ONEDAY&&(t.dtick=ONEDAY)):/%[UVW]/.test(n)?(e=ONEWEEK$1,a&&!r&&t.dtick<ONEWEEK$1&&(t.dtick=ONEWEEK$1)):/%[Bbm]/.test(n)?(e=ONEAVGMONTH$1,a&&(r?nMonths(t.dtick)<1:t.dtick<ONEMINMONTH)&&(t.dtick="M1")):/%[q]/.test(n)?(e=ONEAVGQUARTER,a&&(r?nMonths(t.dtick)<3:t.dtick<ONEMINQUARTER)&&(t.dtick="M3")):/%[Yy]/.test(n)&&(e=ONEAVGYEAR,a&&(r?nMonths(t.dtick)<12:t.dtick<ONEMINYEAR)&&(t.dtick="M12")))}(r=i())&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0),t._definedDelta=e}function positionPeriodTicks(t,e,i){for(var r=0;r<t.length;r++){var n=t[r].value,a=r,s=r+1;r<t.length-1?(a=r,s=r+1):r>0?(a=r-1,s=r):(a=r,s=r);var o,l=t[a].value,c=t[s].value,g=Math.abs(c-l),d=i||g,u=0;d>=ONEMINYEAR?u=g>=ONEMINYEAR&&g<=ONEMAXYEAR?g:ONEAVGYEAR:i===ONEAVGQUARTER&&d>=ONEMINQUARTER?u=g>=ONEMINQUARTER&&g<=ONEMAXQUARTER?g:ONEAVGQUARTER:d>=ONEMINMONTH?u=g>=ONEMINMONTH&&g<=ONEMAXMONTH?g:ONEAVGMONTH$1:i===ONEWEEK$1&&d>=ONEWEEK$1?u=ONEWEEK$1:d>=ONEDAY?u=ONEDAY:i===HALFDAY&&d>=HALFDAY?u=HALFDAY:i===ONEHOUR&&d>=ONEHOUR&&(u=ONEHOUR),u>=g&&(u=g,o=!0);var B=n+u;if(e.rangebreaks&&u>0){for(var F=0,h=0;h<84;h++){var Q=(h+.5)/84;e.maskBreaks(n*(1-Q)+Q*B)!==BADNUM$5&&F++}(u*=F/84)||(t[r].drop=!0),o&&g>ONEWEEK$1&&(u=g)}(u>0||0===r)&&(t[r].periodX=n+u/2)}}function filterRangeBreaks(t,e){return t.rangebreaks&&(e=e.filter(function(e){return t.maskBreaks(e.x)!==BADNUM$5})),e}function syncTicks(t){var e=t._mainAxis,i=[];if(e._vals)for(var r=0;r<e._vals.length;r++)if(!e._vals[r].noTick){var n=e.l2p(e._vals[r].x),a=t.p2l(n),s=axes.tickText(t,a);e._vals[r].minor&&(s.minor=!0,s.text=""),i.push(s)}return i=filterRangeBreaks(t,i)}function arrayTicks(t,e){var i=expandRange(Lib$1n.simpleMap(t.range,t.r2l)),r=Math.min(i[0],i[1]),n=Math.max(i[0],i[1]),a="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var s=[],o=0;o<=1;o++)if((void 0===e||!(e&&o||!1===e&&!o))&&(!o||t.minor)){var l=o?t.minor.tickvals:t.tickvals,c=o?[]:t.ticktext;if(l){Lib$1n.isArrayOrTypedArray(c)||(c=[]);for(var g=0;g<l.length;g++){var d=a(l[g]);if(d>r&&d<n){var u=axes.tickText(t,d,!1,String(c[g]));o&&(u.minor=!0,u.text=""),s.push(u)}}}}return s=filterRangeBreaks(t,s)}axes.getDataToCoordFunc=function(t,e,i,r){return getDataConversions(t,e,i,r).d2c},axes.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},axes.minDtick=function(t,e,i,r){-1===["log","category","multicategory"].indexOf(t.type)&&r?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=i):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((i-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=i):((e/t._minDtick+1e-6)%1>2e-6||((i-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},axes.saveRangeInitial=function(t,e){for(var i=axes.list(t,"",!0),r=!1,n=0;n<i.length;n++){var a=i[n],s=void 0===a._rangeInitial0&&void 0===a._rangeInitial1,o=s||a.range[0]!==a._rangeInitial0||a.range[1]!==a._rangeInitial1,l=a.autorange;(s&&!0!==l||e&&o)&&(a._rangeInitial0="min"===l||"max reversed"===l?void 0:a.range[0],a._rangeInitial1="max"===l||"min reversed"===l?void 0:a.range[1],a._autorangeInitial=l,r=!0)}return r},axes.saveShowSpikeInitial=function(t,e){for(var i=axes.list(t,"",!0),r=!1,n="on",a=0;a<i.length;a++){var s=i[a],o=void 0===s._showSpikeInitial,l=o||!(s.showspikes===s._showspikes);(o||e&&l)&&(s._showSpikeInitial=s.showspikes,r=!0),"on"!==n||s.showspikes||(n="off")}return t._fullLayout._cartesianSpikesEnabled=n,r},axes.autoBin=function(t,e,i,r,n,a){var s,o=Lib$1n.aggNums(Math.min,null,t),l=Lib$1n.aggNums(Math.max,null,t);if("category"===e.type||"multicategory"===e.type)return{start:o-.5,end:l+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:l-o};if(n||(n=e.calendar),s="log"===e.type?{type:"linear",range:[o,l]}:{type:e.type,range:Lib$1n.simpleMap([o,l],e.c2r,0,n),calendar:n},axes.setConvert(s),a=a&&cleanTicks.dtick(a,s.type))s.dtick=a,s.tick0=cleanTicks.tick0(void 0,s.type,n);else{var c;if(i)c=(l-o)/i;else{var g=Lib$1n.distinctVals(t),d=Math.pow(10,Math.floor(Math.log(g.minDiff)/Math.LN10)),u=d*Lib$1n.roundUp(g.minDiff/d,[.9,1.9,4.9,9.9],!0);c=Math.max(u,2*Lib$1n.stdev(t)/Math.pow(t.length,r?.25:.4)),isNumeric$h(c)||(c=1)}axes.autoTicks(s,c)}var B,F=s.dtick,h=axes.tickIncrement(axes.tickFirst(s),F,"reverse",n);if("number"==typeof F)B=(h=autoShiftNumericBins(h,t,s,o,l))+(1+Math.floor((l-h)/F))*F;else for("M"===s.dtick.charAt(0)&&(h=autoShiftMonthBins(h,t,F,o,n)),B=h,0;B<=l;)B=axes.tickIncrement(B,F,!1,n);return{start:e.c2r(h,0,n),end:e.c2r(B,0,n),size:F,_dataSpan:l-o}},axes.prepMinorTicks=function(t,e,i){if(!e.minor.dtick){delete t.dtick;var r,n=e.dtick&&isNumeric$h(e._tmin);if(n){var a=axes.tickIncrement(e._tmin,e.dtick,!0);r=[e._tmin,.99*a+.01*e._tmin]}else{var s=Lib$1n.simpleMap(e.range,e.r2l);r=[s[0],.8*s[0]+.2*s[1]]}if(t.range=Lib$1n.simpleMap(r,e.l2r),t._isMinor=!0,axes.prepTicks(t,i),n){var o=isNumeric$h(e.dtick),l=isNumeric$h(t.dtick),c=o?e.dtick:+e.dtick.substring(1),g=l?t.dtick:+t.dtick.substring(1);o&&l?isMultiple(c,g)?c===2*ONEWEEK$1&&g===2*ONEDAY&&(t.dtick=ONEWEEK$1):c===2*ONEWEEK$1&&g===3*ONEDAY?t.dtick=ONEWEEK$1:c!==ONEWEEK$1||(e._input.minor||{}).nticks?isClose(c/g,2.5)?t.dtick=c/2:t.dtick=c:t.dtick=ONEDAY:"M"===String(e.dtick).charAt(0)?l?t.dtick="M1":isMultiple(c,g)?c>=12&&2===g&&(t.dtick="M3"):t.dtick=e.dtick:"L"===String(t.dtick).charAt(0)?"L"===String(e.dtick).charAt(0)?isMultiple(c,g)||(t.dtick=isClose(c/g,2.5)?e.dtick/2:e.dtick):t.dtick="D1":"D2"===t.dtick&&+e.dtick>1&&(t.dtick=1)}t.range=e.range}void 0===e.minor._tick0Init&&(t.tick0=e.tick0)},axes.prepTicks=function(t,e){var i=Lib$1n.simpleMap(t.range,t.r2l,void 0,void 0,e);if("auto"===t.tickmode||!t.dtick){var r,n=t.nticks;n||("category"===t.type||"multicategory"===t.type?(r=t.tickfont?Lib$1n.bigFont(t.tickfont.size||12):15,n=t._length/r):(r="y"===t._id.charAt(0)?40:80,n=Lib$1n.constrain(t._length/r,4,9)+1),"radialaxis"===t._name&&(n*=2)),t.minor&&"array"!==t.minor.tickmode||"array"===t.tickmode&&(n*=100),t._roughDTick=Math.abs(i[1]-i[0])/n,axes.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}"period"===t.ticklabelmode&&adjustPeriodDelta(t),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),autoTickRound(t)},axes.calcTicks=function(t,e){for(var i,r,n=t.type,a=t.calendar,s=t.ticklabelstep,o="period"===t.ticklabelmode,l=t.range[0]>t.range[1],c=!t.ticklabelindex||Lib$1n.isArrayOrTypedArray(t.ticklabelindex)?t.ticklabelindex:[t.ticklabelindex],g=Lib$1n.simpleMap(t.range,t.r2l,void 0,void 0,e),d=g[1]<g[0],u=Math.min(g[0],g[1]),B=Math.max(g[0],g[1]),F=Math.max(1e3,t._length||0),h=[],Q=[],U=[],I=[],b=[],p=t.minor&&(t.minor.ticks||t.minor.showgrid),y=1;y>=(p?0:1);y--){var m=!y;y?(t._dtickInit=t.dtick,t._tick0Init=t.tick0):(t.minor._dtickInit=t.minor.dtick,t.minor._tick0Init=t.minor.tick0);var C=y?t:Lib$1n.extendFlat({},t,t.minor);if(m?axes.prepMinorTicks(C,t,e):axes.prepTicks(C,e),"array"!==C.tickmode)if("sync"!==C.tickmode){var f=expandRange(g),x=f[0],A=f[1],v=isNumeric$h(C.dtick),L="log"===n&&!(v||"L"===C.dtick.charAt(0)),R=axes.tickFirst(C,e);if(y){if(t._tmin=R,R<x!==d)break;"category"!==n&&"multicategory"!==n||(A=d?Math.max(-.5,A):Math.min(t._categories.length-.5,A))}var S,G,E=null,V=R;if(y)v?G=t.dtick:"date"===n?"string"==typeof t.dtick&&"M"===t.dtick.charAt(0)&&(G=ONEAVGMONTH$1*t.dtick.substring(1)):G=t._roughDTick,S=Math.round((t.r2l(V)-t.r2l(t.tick0))/G)-1;var Z=C.dtick;for(C.rangebreaks&&C._tick0Init!==C.tick0&&(V=moveOutsideBreak(V,t),d||(V=axes.tickIncrement(V,Z,!d,a))),y&&o&&(V=axes.tickIncrement(V,Z,!d,a),S--);d?V>=A:V<=A;V=axes.tickIncrement(V,Z,d,a)){if(y&&S++,C.rangebreaks&&!d){if(V<x)continue;if(C.maskBreaks(V)===BADNUM$5&&moveOutsideBreak(V,C)>=B)break}if(U.length>F||V===E)break;E=V;var N={value:V};y?(L&&V!==(0|V)&&(N.simpleLabel=!0),s>1&&S%s&&(N.skipLabel=!0),U.push(N)):(N.minor=!0,I.push(N))}}else U=[],h=syncTicks(t);else y?(U=[],h=arrayTicks(t,!m)):(I=[],Q=arrayTicks(t,!m))}!I||I.length<2?c=!1:periodCompatibleWithTickformat((I[1].value-I[0].value)*(l?-1:1),t.tickformat)||(c=!1);if(c){var D=U.concat(I);o&&U.length&&(D=D.slice(1)),D=D.sort(function(t,e){return t.value-e.value}).filter(function(t,e,i){return 0===e||t.value!==i[e-1].value}),D.map(function(t,e){return void 0!==t.minor||t.skipLabel?null:e}).filter(function(t){return null!==t}).forEach(function(t){c.map(function(e){var i=t+e;i>=0&&i<D.length&&Lib$1n.pushUnique(b,D[i])})})}else b=U;if(p&&!("inside"===t.minor.ticks&&"outside"===t.ticks||"outside"===t.minor.ticks&&"inside"===t.ticks)){for(var w=U.map(function(t){return t.value}),X=[],W=0;W<I.length;W++){var H=I[W],T=H.value;if(-1===w.indexOf(T)){for(var M=!1,k=0;!M&&k<U.length;k++)1e7+U[k].value===1e7+T&&(M=!0);M||X.push(H)}}I=X}if(o&&positionPeriodTicks(b,t,t._definedDelta),t.rangebreaks){var Y="y"===t._id.charAt(0),J=1;"auto"===t.tickmode&&(J=t.tickfont?t.tickfont.size:12);var $=NaN;for(i=U.length-1;i>-1;i--)if(U[i].drop)U.splice(i,1);else{U[i].value=moveOutsideBreak(U[i].value,t);var z=t.c2p(U[i].value);(Y?$>z-J:$<z+J)?U.splice(d?i+1:i,1):$=z}}isAngular(t)&&360===Math.abs(g[1]-g[0])&&U.pop(),t._tmax=(U[U.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var O,K=function(e){e.text="",t._prevDateHead=r};function _(t,e){var i=axes.tickText(t,e.value,!1,e.simpleLabel),r=e.periodX;return void 0!==r&&(i.periodX=r,(r>B||r<u)&&(r>B&&(i.periodX=B),r<u&&(i.periodX=u),K(i))),i}for(U=U.concat(I),i=0;i<U.length;i++){var P=U[i].minor,j=U[i].value;P?((O=c&&-1!==b.indexOf(U[i])?_(t,U[i]):{x:j}).minor=!0,Q.push(O)):(r=t._prevDateHead,O=_(t,U[i]),(U[i].skipLabel||c&&-1===b.indexOf(U[i]))&&K(O),h.push(O))}return h=h.concat(Q),t._inCalcTicks=!1,o&&h.length&&(h[0].noTick=!0),h};var roundBase10=[2,5,10],roundBase24=[1,2,3,6,12],roundBase60=[1,2,5,10,15,30],roundDays=[1,2,3,7,14],roundLog1=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],roundLog2=[-.301,0,.301,.699,1],roundAngles=[15,30,45,90,180];function roundDTick(t,e,i){return e*Lib$1n.roundUp(t/e,i)}function autoTickRound(t){var e=t.dtick;if(t._tickexponent=0,isNumeric$h(e)||"string"==typeof e||(e=1),"category"!==t.type&&"multicategory"!==t.type||(t._tickround=null),"date"===t.type){var i=t.r2l(t.tick0),r=t.l2r(i).replace(/(^-|i)/g,""),n=r.length;if("M"===String(e).charAt(0))n>10||"01-01"!==r.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=ONEDAY&&n<=10||e>=15*ONEDAY)t._tickround="d";else if(e>=ONEMIN&&n<=16||e>=ONEHOUR)t._tickround="M";else if(e>=ONESEC&&n<=19||e>=ONEMIN)t._tickround="S";else{var a=t.l2r(i+e).replace(/^-/,"").length;t._tickround=Math.max(n,a)-20,t._tickround<0&&(t._tickround=4)}}else if(isNumeric$h(e)||"L"===e.charAt(0)){var s=t.range.map(t.r2d||Number);isNumeric$h(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var o=Math.max(Math.abs(s[0]),Math.abs(s[1])),l=Math.floor(Math.log(o)/Math.LN10+.01),c=void 0===t.minexponent?3:t.minexponent;Math.abs(l)>c&&(isSIFormat(t.exponentformat)&&!beyondSI(l)?t._tickexponent=3*Math.round((l-1)/3):t._tickexponent=l)}else t._tickround=null}function tickTextObj(t,e,i){var r=t.tickfont||{};return{x:e,dx:0,dy:0,text:i||"",fontSize:r.size,font:r.family,fontWeight:r.weight,fontStyle:r.style,fontVariant:r.variant,fontTextcase:r.textcase,fontLineposition:r.lineposition,fontShadow:r.shadow,fontColor:r.color}}function formatDate(t,e,i,r){var n=t._tickround,a=i&&t.hoverformat||axes.getTickFormat(t);(r=!a&&r)&&(n=isNumeric$h(n)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[n]);var s,o=Lib$1n.formatDate(e.x,a,n,t._dateFormat,t.calendar,t._extraFormat),l=o.indexOf("\n");if(-1!==l&&(s=o.substr(l+1),o=o.substr(0,l)),r&&(void 0===s||"00:00:00"!==o&&"00:00"!==o?8===o.length&&(o=o.replace(/:00$/,"")):(o=s,s="")),s)if(i)"d"===n?o+=", "+s:o=s+(o?", "+o:"");else if(t._inCalcTicks&&t._prevDateHead===s){var c=insideTicklabelposition(t),g=t._trueSide||t.side;(!c&&"top"===g||c&&"bottom"===g)&&(o+="<br> ")}else t._prevDateHead=s,o+="<br>"+s;e.text=o}function formatLog(t,e,i,r,n){var a=t.dtick,s=e.x,o=t.tickformat,l="string"==typeof a&&a.charAt(0);if("never"===n&&(n=""),r&&"L"!==l&&(a="L3",l="L"),o||"L"===l)e.text=numFormat(Math.pow(10,s),t,n,r);else if(isNumeric$h(a)||"D"===l&&("complete"===t.minorloglabels||Lib$1n.mod(s+.01,1)<.1)){"complete"!==t.minorloglabels||Lib$1n.mod(s+.01,1)<.1||(e.fontSize*=.75);var c=Math.pow(10,s).toExponential(0).split("e"),g=+c[1],d=Math.abs(g),u=t.exponentformat;"power"===u||isSIFormat(u)&&beyondSI(g)?(e.text=c[0],d>0&&(e.text+="x10"),"1x10"===e.text&&(e.text="10"),0!==g&&1!==g&&(e.text+="<sup>"+(g>0?"":MINUS_SIGN)+d+"</sup>"),e.fontSize*=1.25):("e"===u||"E"===u)&&d>2?e.text=c[0]+u+(g>0?"+":MINUS_SIGN)+d:(e.text=numFormat(Math.pow(10,s),t,"","fakehover"),"D1"===a&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==l)throw"unrecognized dtick "+String(a);e.text="none"===t.minorloglabels?"":String(Math.round(Math.pow(10,Lib$1n.mod(s,1)))),e.fontSize*=.75}if("D1"===t.dtick){var B=String(e.text).charAt(0);"0"!==B&&"1"!==B||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(s<0?.5:.25)))}}function formatCategory(t,e){var i=t._categories[Math.round(e.x)];void 0===i&&(i=""),e.text=String(i)}function formatMultiCategory(t,e,i){var r=Math.round(e.x),n=t._categories[r]||[],a=void 0===n[1]?"":String(n[1]),s=void 0===n[0]?"":String(n[0]);i?e.text=s+" - "+a:(e.text=a,e.text2=s)}function formatLinear(t,e,i,r,n){"never"===n?n="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(n="hide"),e.text=numFormat(e.x,t,n,r)}function formatAngle(t,e,i,r,n){if("radians"!==t.thetaunit||i)e.text=numFormat(e.x,t,n,r);else{var a=e.x/180;if(0===a)e.text="0";else{var s=num2frac(a);if(s[1]>=100)e.text=numFormat(Lib$1n.deg2rad(e.x),t,n,r);else{var o=e.x<0;1===s[1]?1===s[0]?e.text="Ï":e.text=s[0]+"Ï":e.text=["<sup>",s[0],"</sup>","â","<sub>",s[1],"</sub>","Ï"].join(""),o&&(e.text=MINUS_SIGN+e.text)}}}}function num2frac(t){function e(t,e){return Math.abs(t-e)<=1e-6}var i=function(t){for(var i=1;!e(Math.round(t*i)/i,t);)i*=10;return i}(t),r=t*i,n=Math.abs(function t(i,r){return e(r,0)?i:t(r,i%r)}(r,i));return[Math.round(r/n),Math.round(i/n)]}axes.autoTicks=function(t,e,i){var r;function n(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=Lib$1n.dateTick0(t.calendar,0);var a=2*e;if(a>ONEAVGYEAR)e/=ONEAVGYEAR,r=n(10),t.dtick="M"+12*roundDTick(e,r,roundBase10);else if(a>ONEAVGMONTH$1)e/=ONEAVGMONTH$1,t.dtick="M"+roundDTick(e,1,roundBase24);else if(a>ONEDAY){if(t.dtick=roundDTick(e,ONEDAY,t._hasDayOfWeekBreaks?[1,2,7,14]:roundDays),!i){var s=axes.getTickFormat(t),o="period"===t.ticklabelmode;o&&(t._rawTick0=t.tick0),/%[uVW]/.test(s)?t.tick0=Lib$1n.dateTick0(t.calendar,2):t.tick0=Lib$1n.dateTick0(t.calendar,1),o&&(t._dowTick0=t.tick0)}}else a>ONEHOUR?t.dtick=roundDTick(e,ONEHOUR,roundBase24):a>ONEMIN?t.dtick=roundDTick(e,ONEMIN,roundBase60):a>ONESEC?t.dtick=roundDTick(e,ONESEC,roundBase60):(r=n(10),t.dtick=roundDTick(e,r,roundBase10))}else if("log"===t.type){t.tick0=0;var l=Lib$1n.simpleMap(t.range,t.r2l);if(t._isMinor&&(e*=1.5),e>.7)t.dtick=Math.ceil(e);else if(Math.abs(l[1]-l[0])<1){var c=1.5*Math.abs((l[1]-l[0])/e);e=Math.abs(Math.pow(10,l[1])-Math.pow(10,l[0]))/c,r=n(10),t.dtick="L"+roundDTick(e,r,roundBase10)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):isAngular(t)?(t.tick0=0,r=1,t.dtick=roundDTick(e,r,roundAngles)):(t.tick0=0,r=n(10),t.dtick=roundDTick(e,r,roundBase10));if(0===t.dtick&&(t.dtick=1),!isNumeric$h(t.dtick)&&"string"!=typeof t.dtick){var g=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(g)}},axes.tickIncrement=function(t,e,i,r){var n=i?-1:1;if(isNumeric$h(e))return Lib$1n.increment(t,n*e);var a=e.charAt(0),s=n*Number(e.substr(1));if("M"===a)return Lib$1n.incrementMonth(t,s,r);if("L"===a)return Math.log(Math.pow(10,t)+s)/Math.LN10;if("D"===a){var o="D2"===e?roundLog2:roundLog1,l=t+.01*n,c=Lib$1n.roundUp(Lib$1n.mod(l,1),o,i);return Math.floor(l)+Math.log(d3$m.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(e)},axes.tickFirst=function(t,e){var i=t.r2l||Number,r=Lib$1n.simpleMap(t.range,i,void 0,void 0,e),n=r[1]<r[0],a=n?Math.floor:Math.ceil,s=expandRange(r)[0],o=t.dtick,l=i(t.tick0);if(isNumeric$h(o)){var c=a((s-l)/o)*o+l;return"category"!==t.type&&"multicategory"!==t.type||(c=Lib$1n.constrain(c,0,t._categories.length-1)),c}var g=o.charAt(0),d=Number(o.substr(1));if("M"===g){for(var u,B,F,h=0,Q=l;h<10;){if(((u=axes.tickIncrement(Q,o,n,t.calendar))-s)*(Q-s)<=0)return n?Math.min(Q,u):Math.max(Q,u);B=(s-(Q+u)/2)/(u-Q),F=g+(Math.abs(Math.round(B))||1)*d,Q=axes.tickIncrement(Q,F,B<0?!n:n,t.calendar),h++}return Lib$1n.error("tickFirst did not converge",t),Q}if("L"===g)return Math.log(a((Math.pow(10,s)-l)/d)*d+l)/Math.LN10;if("D"===g){var U="D2"===o?roundLog2:roundLog1,I=Lib$1n.roundUp(Lib$1n.mod(s,1),U,n);return Math.floor(s)+Math.log(d3$m.round(Math.pow(10,I),1))/Math.LN10}throw"unrecognized dtick "+String(o)},axes.tickText=function(t,e,i,r){var n,a=tickTextObj(t,e),s="array"===t.tickmode,o=i||s,l=t.type,c="category"===l?t.d2l_noadd:t.d2l,g=function(e){var i=t.l2p(e);return i>=0&&i<=t._length?e:null};if(s&&Lib$1n.isArrayOrTypedArray(t.ticktext)){var d=Lib$1n.simpleMap(t.range,t.r2l),u=(Math.abs(d[1]-d[0])-(t._lBreaks||0))/1e4;for(n=0;n<t.ticktext.length&&!(Math.abs(e-c(t.tickvals[n]))<u);n++);if(n<t.ticktext.length)return a.text=String(t.ticktext[n]),a.xbnd=[g(a.x-.5),g(a.x+t.dtick-.5)],a}function B(r){if(void 0===r)return!0;if(i)return"none"===r;var n={first:t._tmin,last:t._tmax}[r];return"all"!==r&&e!==n}var F=i?"never":"none"!==t.exponentformat&&B(t.showexponent)?"hide":"";if("date"===l?formatDate(t,a,i,o):"log"===l?formatLog(t,a,i,o,F):"category"===l?formatCategory(t,a):"multicategory"===l?formatMultiCategory(t,a,i):isAngular(t)?formatAngle(t,a,i,o,F):formatLinear(t,a,i,o,F),r||(t.tickprefix&&!B(t.showtickprefix)&&(a.text=t.tickprefix+a.text),t.ticksuffix&&!B(t.showticksuffix)&&(a.text+=t.ticksuffix)),t.labelalias&&t.labelalias.hasOwnProperty(a.text)){var h=t.labelalias[a.text];"string"==typeof h&&(a.text=h)}return("boundaries"===t.tickson||t.showdividers)&&(a.xbnd=[g(a.x-.5),g(a.x+t.dtick-.5)]),a},axes.hoverLabelText=function(t,e,i){i&&(t=Lib$1n.extendFlat({},t,{hoverformat:i}));var r=Lib$1n.isArrayOrTypedArray(e)?e[0]:e,n=Lib$1n.isArrayOrTypedArray(e)?e[1]:void 0;if(void 0!==n&&n!==r)return axes.hoverLabelText(t,r,i)+" - "+axes.hoverLabelText(t,n,i);var a="log"===t.type&&r<=0,s=axes.tickText(t,t.c2l(a?-r:r),"hover").text;return a?0===r?"0":MINUS_SIGN+s:s};var SIPREFIXES=["f","p","n","Î¼","m","","k","M","G","T"];function isSIFormat(t){return"SI"===t||"B"===t}function beyondSI(t){return t>14||t<-15}function numFormat(t,e,i,r){var n=t<0,a=e._tickround,s=i||e.exponentformat||"B",o=e._tickexponent,l=axes.getTickFormat(e),c=e.separatethousands;if(r){var g={exponentformat:s,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:isNumeric$h(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};autoTickRound(g),a=(Number(g._tickround)||0)+4,o=g._tickexponent,e.hoverformat&&(l=e.hoverformat)}if(l)return e._numFormat(l)(t).replace(/-/g,MINUS_SIGN);var d,u=Math.pow(10,-a)/2;if("none"===s&&(o=0),(t=Math.abs(t))<u)t="0",n=!1;else{if(t+=u,o&&(t*=Math.pow(10,-o),a+=o),0===a)t=String(Math.floor(t));else if(a<0){t=(t=String(Math.round(t))).substr(0,t.length+a);for(var B=a;B<0;B++)t+="0"}else{var F=(t=String(t)).indexOf(".")+1;F&&(t=t.substr(0,F+a).replace(/\.?0+$/,""))}t=Lib$1n.numSeparate(t,e._separators,c)}o&&"hide"!==s&&(isSIFormat(s)&&beyondSI(o)&&(s="power"),d=o<0?MINUS_SIGN+-o:"power"!==s?"+"+o:String(o),"e"===s||"E"===s?t+=s+d:"power"===s?t+="Ã10<sup>"+d+"</sup>":"B"===s&&9===o?t+="B":isSIFormat(s)&&(t+=SIPREFIXES[o/3+5]));return n?MINUS_SIGN+t:t}function filterPush(t,e){if(t){var i=Object.keys(MARGIN_MAPPING).reduce(function(t,i){return-1!==e.indexOf(i)&&MARGIN_MAPPING[i].forEach(function(e){t[e]=1}),t},{});Object.keys(t).forEach(function(e){i[e]||(1===e.length?t[e]=0:delete t[e])})}}function getBoundaryVals(t,e){var i,r=[],n=function(t,e){var i=t.xbnd[e];null!==i&&r.push(Lib$1n.extendFlat({},t,{x:i}))};if(e.length){for(i=0;i<e.length;i++)n(e[i],0);n(e[i-1],1)}return r}function getSecondaryLabelVals(t,e){for(var i=[],r={},n=0;n<e.length;n++){var a=e[n];r[a.text2]?r[a.text2].push(a.x):r[a.text2]=[a.x]}for(var s in r)i.push(tickTextObj(t,Lib$1n.interp(r[s],.5),s));return i}function getDividerVals(t,e){var i,r,n=[],a=e.length&&e[e.length-1].x<e[0].x,s=function(t,e){var i=t.xbnd[e];null!==i&&n.push(Lib$1n.extendFlat({},t,{x:i}))};if(t.showdividers&&e.length){for(i=0;i<e.length;i++){var o=e[i];o.text2!==r&&s(o,a?1:0),r=o.text2}s(e[i-1],a?0:1)}return n}function calcLabelLevelBbox(t,e,i){var r,n,a,s;if(t._selections[e].size())r=1/0,n=-1/0,a=1/0,s=-1/0,t._selections[e].each(function(){var t=selectTickLabel(this);if("none"!==t.node().style.display){var e=Drawing$n.bBox(t.node().parentNode);r=Math.min(r,e.top),n=Math.max(n,e.bottom),a=Math.min(a,e.left),s=Math.max(s,e.right)}});else{var o=axes.makeLabelFns(t,i);r=n=o.yFn({dx:0,dy:0,fontSize:0}),a=s=o.xFn({dx:0,dy:0,fontSize:0})}return{top:r,bottom:n,left:a,right:s,height:n-r,width:s-a}}function getPosX(t){return void 0!==t.periodX?t.periodX:t.x}function getTickLabelUV(t){var e=t.ticklabelposition||"",i=t.tickson||"",r=function(t){return-1!==e.indexOf(t)},n=r("top"),a=r("left"),s=r("right"),o=r("bottom"),l=r("inside"),c="boundaries"!==i&&(o||a||n||s);if(!c&&!l)return[0,0];var g=t.side,d=c?(t.tickwidth||0)/2:0,u=TEXTPAD$1,B=t.tickfont?t.tickfont.size:12;return(o||n)&&(d+=B*CAP_SHIFT,u+=(t.linewidth||0)/2),(a||s)&&(d+=(t.linewidth||0)/2,u+=TEXTPAD$1),l&&"top"===g&&(u-=B*(1-CAP_SHIFT)),(a||n)&&(d=-d),"bottom"!==g&&"right"!==g||(u=-u),[c?d:0,l?u:0]}function tickDataFn(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function drawDividers(t,e,i){var r=e._id+"divider",n=i.vals,a=i.layer.selectAll("path."+r).data(n,tickDataFn);a.exit().remove(),a.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(Color$x.stroke,e.dividercolor).style("stroke-width",Drawing$n.crispRound(t,e.dividerwidth,1)+"px"),a.attr("transform",i.transFn).attr("d",i.path)}function approxTitleDepth(t){var e=t.title.font.size,i=(t.title.text.match(svgTextUtils$b.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?e*(CAP_SHIFT+i*LINE_SPACING$6):i?e*(i+1)*LINE_SPACING$6:e}function drawTitle(t,e){var i,r=t._fullLayout,n=e._id,a=n.charAt(0),s=e.title.font.size,o=(e.title.text.match(svgTextUtils$b.BR_TAG_ALL)||[]).length;if(e.title.hasOwnProperty("standoff"))"bottom"===e.side||"right"===e.side?i=e._depth+e.title.standoff+s*CAP_SHIFT:"top"!==e.side&&"left"!==e.side||(i=e._depth+e.title.standoff+s*(MID_SHIFT+o*LINE_SPACING$6));else{var l=insideTicklabelposition(e);if("multicategory"===e.type)i=e._depth;else{var c=1.5*s;l&&(c=.5*s,"outside"===e.ticks&&(c+=e.ticklen)),i=10+c+(e.linewidth?e.linewidth-1:0)}l||(i+="x"===a?"top"===e.side?s*(e.showticklabels?1:0):s*(e.showticklabels?1.5:.5):"right"===e.side?s*(e.showticklabels?1:.5):s*(e.showticklabels?.5:0))}var g,d,u,B,F=axes.getPxPosition(t,e);if("x"===a?(d=e._offset+e._length/2,u="top"===e.side?F-i:F+i):(u=e._offset+e._length/2,d="right"===e.side?F+i:F-i,g={rotate:"-90",offset:0}),"multicategory"!==e.type){var h=e._selections[e._id+"tick"];if(B={selection:h,side:e.side},h&&h.node()&&h.node().parentNode){var Q=Drawing$n.getTranslate(h.node().parentNode);B.offsetLeft=Q.x,B.offsetTop=Q.y}e.title.hasOwnProperty("standoff")&&(B.pad=0)}return e._titleStandoff=i,Titles$1.draw(t,n+"title",{propContainer:e,propName:e._name+".title.text",placeholder:r._dfltTitle[a],avoid:B,transform:g,attributes:{x:d,y:u,"text-anchor":"middle"}})}function clipEnds(t,e){var i=t.l2p(e);return i>1&&i<t._length-1}function anyCounterAxLineAtZero(t,e,i,r){var n=i._mainAxis;if(n){var a=t._fullLayout,s=e._id.charAt(0),o=axes.counterLetter(e._id),l=e._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===s)?0:e._length),c=a._plots[i._mainSubplot];if(!(c.mainplotinfo||c).overlays.length)return B(i);for(var g=axes.list(t,o),d=0;d<g.length;d++){var u=g[d];if(u._mainAxis===n&&B(u))return!0}}function B(t){if(!t.showline||!t.linewidth)return!1;var i=Math.max((t.linewidth+e.zerolinewidth)/2,1);function r(t){return"number"==typeof t&&Math.abs(t-l)<i}if(r(t._mainLinePosition)||r(t._mainMirrorPosition))return!0;var n=t._linepositions||{};for(var a in n)if(r(n[a][0])||r(n[a][1]))return!0}}function hasBarsOrFill(t,e){for(var i=t._fullData,r=e._mainSubplot,n=e._id.charAt(0),a=0;a<i.length;a++){var s=i[a];if(!0===s.visible&&s.xaxis+s.yaxis===r){if(Registry$H.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[n])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===n)return!0}}return!1}function selectTickLabel(t){var e=d3$m.select(t),i=e.select(".text-math-group");return i.empty()?e.select("text"):i}function axAutoMarginID(t){return t._id+".automargin"}function axMirrorAutoMarginID(t){return axAutoMarginID(t)+".mirror"}function rangeSliderAutoMarginID(t){return t._id+".rangeslider"}function makeAxisGroups(t,e){var i,r,n=[];for(i=0;i<e.length;i++){var a=[],s=t._fullData[e[i]].xaxis,o=t._fullData[e[i]].yaxis;if(s&&o){for(r=0;r<n.length;r++)-1===n[r].x.indexOf(s)&&-1===n[r].y.indexOf(o)||a.push(r);if(a.length){var l,c=n[a[0]];if(a.length>1)for(r=1;r<a.length;r++)l=n[a[r]],mergeAxisGroups(c.x,l.x),mergeAxisGroups(c.y,l.y);mergeAxisGroups(c.x,[s]),mergeAxisGroups(c.y,[o])}else n.push({x:[s],y:[o]})}}return n}function mergeAxisGroups(t,e){for(var i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i])}function swapAxisGroup(t,e,i){var r,n,a=[],s=[],o=t.layout;for(r=0;r<e.length;r++)a.push(axes.getFromId(t,e[r]));for(r=0;r<i.length;r++)s.push(axes.getFromId(t,i[r]));var l=Object.keys(axAttrs),c=["anchor","domain","overlaying","position","side","tickangle","editType"],g=["linear","log"];for(r=0;r<l.length;r++){var d=l[r],u=a[0][d],B=s[0][d],F=!0,h=!1,Q=!1;if("_"!==d.charAt(0)&&"function"!=typeof u&&-1===c.indexOf(d)){for(n=1;n<a.length&&F;n++){var U=a[n][d];"type"===d&&-1!==g.indexOf(u)&&-1!==g.indexOf(U)&&u!==U?h=!0:U!==u&&(F=!1)}for(n=1;n<s.length&&F;n++){var I=s[n][d];"type"===d&&-1!==g.indexOf(B)&&-1!==g.indexOf(I)&&B!==I?Q=!0:s[n][d]!==B&&(F=!1)}F&&(h&&(o[a[0]._name].type="linear"),Q&&(o[s[0]._name].type="linear"),swapAxisAttrs(o,d,a,s,t._fullLayout._dfltTitle))}}for(r=0;r<t._fullLayout.annotations.length;r++){var b=t._fullLayout.annotations[r];-1!==e.indexOf(b.xref)&&-1!==i.indexOf(b.yref)&&Lib$1n.swapAttrs(o.annotations[r],["?"])}}function swapAxisAttrs(t,e,i,r,n){var a,s=Lib$1n.nestedProperty,o=s(t[i[0]._name],e).get(),l=s(t[r[0]._name],e).get();for("title"===e&&(o&&o.text===n.x&&(o.text=n.y),l&&l.text===n.y&&(l.text=n.x)),a=0;a<i.length;a++)s(t,i[a]._name+"."+e).set(l);for(a=0;a<r.length;a++)s(t,r[a]._name+"."+e).set(o)}function isAngular(t){return"angularaxis"===t._id}function moveOutsideBreak(t,e){for(var i=e._rangebreaks.length,r=0;r<i;r++){var n=e._rangebreaks[r];if(t>=n.min&&t<n.max)return n.max}return t}function insideTicklabelposition(t){return-1!==(t.ticklabelposition||"").indexOf("inside")}function hideCounterAxisInsideTickLabels(t,e){insideTicklabelposition(t._anchorAxis||{})&&t._hideCounterAxisInsideTickLabels&&t._hideCounterAxisInsideTickLabels(e)}function incrementShift(t,e,i,r){var n,a="free"===t.anchor||void 0!==t.overlaying&&!1!==t.overlaying?t.overlaying:t._id;n=r?"right"===t.side?e:-e:e,a in i||(i[a]={}),t.side in i[a]||(i[a][t.side]=0),i[a][t.side]+=n}function setShiftVal(t,e){return t.autoshift?e[t.overlaying][t.side]:t.shift||0}function periodCompatibleWithTickformat(t,e){return/%f/.test(e)?t>=ONEMICROSEC:/%L/.test(e)?t>=ONEMILLI:/%[SX]/.test(e)?t>=ONESEC:/%M/.test(e)?t>=ONEMIN:/%[HI]/.test(e)?t>=ONEHOUR:/%p/.test(e)?t>=HALFDAY:/%[Aadejuwx]/.test(e)?t>=ONEDAY:/%[UVW]/.test(e)?t>=ONEWEEK$1:/%[Bbm]/.test(e)?t>=ONEMINMONTH:/%[q]/.test(e)?t>=ONEMINQUARTER:!/%[Yy]/.test(e)||t>=ONEMINYEAR}axes.getTickFormat=function(t){var e,i,r;function n(t){return"string"!=typeof t?t:Number(t.replace("M",""))*ONEAVGMONTH$1}function a(t,e){var i=["L","D"];if(typeof t==typeof e){if("number"==typeof t)return t-e;var r=i.indexOf(t.charAt(0)),n=i.indexOf(e.charAt(0));return r===n?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):r-n}return"number"==typeof t?1:-1}function s(t,e,i){var r=i||function(t){return t},n=e[0],a=e[1];return(!n&&"number"!=typeof n||r(n)<=r(t))&&(!a&&"number"!=typeof a||r(a)>=r(t))}function o(t,e){var i=null===e[0],r=null===e[1],n=a(t,e[0])>=0,s=a(t,e[1])<=0;return(i||n)&&(r||s)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&s(t.dtick,r.dtickrange,n)){i=r;break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&o(t.dtick,r.dtickrange)){i=r;break}}return i?i.value:t.tickformat},axes.getSubplots=function(t,e){var i=t._fullLayout._subplots,r=i.cartesian.concat(i.gl2d||[]),n=e?axes.findSubplotsWithAxis(r,e):r;return n.sort(function(t,e){var i=t.substr(1).split("y"),r=e.substr(1).split("y");return i[0]===r[0]?+i[1]-+r[1]:+i[0]-+r[0]}),n},axes.findSubplotsWithAxis=function(t,e){for(var i=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],n=0;n<t.length;n++){var a=t[n];i.test(a)&&r.push(a)}return r},axes.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var i,r,n={_offset:0,_length:e.width,_id:""},a={_offset:0,_length:e.height,_id:""},s=axes.list(t,"x",!0),o=axes.list(t,"y",!0),l=[];for(i=0;i<s.length;i++)for(l.push({x:s[i],y:a}),r=0;r<o.length;r++)0===i&&l.push({x:n,y:o[r]}),l.push({x:s[i],y:o[r]});var c=e._clips.selectAll(".axesclip").data(l,function(t){return t.x._id+t.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+e._uid+t.x._id+t.y._id}).append("rect"),c.exit().remove(),c.each(function(t){d3$m.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})}},axes.draw=function(t,e,i){var r=t._fullLayout;"redraw"===e&&r._paper.selectAll("g.subplot").each(function(t){var e=t[0],i=r._plots[e];if(i){var n=i.xaxis,a=i.yaxis;i.xaxislayer.selectAll("."+n._id+"tick").remove(),i.yaxislayer.selectAll("."+a._id+"tick").remove(),i.xaxislayer.selectAll("."+n._id+"tick2").remove(),i.yaxislayer.selectAll("."+a._id+"tick2").remove(),i.xaxislayer.selectAll("."+n._id+"divider").remove(),i.yaxislayer.selectAll("."+a._id+"divider").remove(),i.minorGridlayer&&i.minorGridlayer.selectAll("path").remove(),i.gridlayer&&i.gridlayer.selectAll("path").remove(),i.zerolinelayer&&i.zerolinelayer.selectAll("path").remove(),i.zerolinelayerAbove&&i.zerolinelayerAbove.selectAll("path").remove(),r._infolayer.select(".g-"+n._id+"title").remove(),r._infolayer.select(".g-"+a._id+"title").remove()}});var n=e&&"redraw"!==e?e:axes.listIds(t),a=axes.list(t).filter(function(t){return t.autoshift}).map(function(t){return t.overlaying});n.map(function(e){var i=axes.getFromId(t,e);if("sync"===i.tickmode&&i.overlaying){var r=n.findIndex(function(t){return t===i.overlaying});r>=0&&n.unshift(n.splice(r,1).shift())}});var s={false:{left:0,right:0}};return Lib$1n.syncOrAsync(n.map(function(e){return function(){if(e){var r=axes.getFromId(t,e);i||(i={}),i.axShifts=s,i.overlayingShiftedAx=a;var n=axes.drawOne(t,r,i);return r._shiftPusher&&incrementShift(r,r._fullDepth||0,s,!0),r._r=r.range.slice(),r._rl=Lib$1n.simpleMap(r._r,r.r2l),n}}}))},axes.drawOne=function(t,e,i){var r,n,a,s=(i=i||{}).axShifts||{},o=i.overlayingShiftedAx||[];e.setScale();var l=t._fullLayout,c=e._id,g=c.charAt(0),d=axes.counterLetter(c),u=l._plots[e._mainSubplot],B="above traces"===e.zerolinelayer;if(u){if(e._shiftPusher=e.autoshift||-1!==o.indexOf(e._id)||-1!==o.indexOf(e.overlaying),e._shiftPusher&"free"===e.anchor){var F=e.linewidth/2||0;"inside"===e.ticks&&(F+=e.ticklen),incrementShift(e,F,s,!0),incrementShift(e,e.shift||0,s,!1)}!0===i.skipTitle&&void 0!==e._shift||(e._shift=setShiftVal(e,s));var h=u[g+"axislayer"],Q=e._mainLinePosition,U=Q+=e._shift,I=e._mainMirrorPosition,b=e._vals=axes.calcTicks(e),p=[e.mirror,U,I].join("_");for(r=0;r<b.length;r++)b[r].axInfo=p;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var y={};if(e.visible){var m,C,f=axes.makeTransTickFn(e),x=axes.makeTransTickLabelFn(e),A="inside"===e.ticks,v="outside"===e.ticks;if("boundaries"===e.tickson){var L=getBoundaryVals(e,b);C=axes.clipEnds(e,L),m=A?C:L}else C=axes.clipEnds(e,b),m=A&&"period"!==e.ticklabelmode?C:b;var R,S=e._gridVals=C,G=getDividerVals(e,b);if(!l._hasOnlyLargeSploms){var E=e._subplotsWith,V={};for(r=0;r<E.length;r++){n=E[r];var Z=(a=l._plots[n])[d+"axis"],N=Z._mainAxis._id;if(!V[N]){V[N]=1;var D="x"===g?"M0,"+Z._offset+"v"+Z._length:"M"+Z._offset+",0h"+Z._length;axes.drawGrid(t,e,{vals:S,counterAxis:Z,layer:a.gridlayer.select("."+c),minorLayer:a.minorGridlayer.select("."+c),path:D,transFn:f}),axes.drawZeroLine(t,e,{counterAxis:Z,layer:B?a.zerolinelayerAbove:a.zerolinelayer,path:D,transFn:f})}}}var w=axes.getTickSigns(e),X=axes.getTickSigns(e,"minor");if(e.ticks||e.minor&&e.minor.ticks){var W,H,T,M,k=axes.makeTickPath(e,U,w[2]),Y=axes.makeTickPath(e,U,X[2],{minor:!0});if(e._anchorAxis&&e.mirror&&!0!==e.mirror?(W=axes.makeTickPath(e,I,w[3]),H=axes.makeTickPath(e,I,X[3],{minor:!0}),T=k+W,M=Y+H):(W="",H="",T=k,M=Y),e.showdividers&&v&&"boundaries"===e.tickson){var J={};for(r=0;r<G.length;r++)J[G[r].x]=1;R=function(t){return J[t.x]?W:T}}else R=function(t){return t.minor?M:T}}if(axes.drawTicks(t,e,{vals:m,layer:h,path:R,transFn:f}),"allticks"===e.mirror){var $=Object.keys(e._linepositions||{});for(r=0;r<$.length;r++){n=$[r],a=l._plots[n];var z=e._linepositions[n]||[],O=z[0],K=z[1],_=z[2],P=axes.makeTickPath(e,O,_?w[0]:X[0],{minor:_})+axes.makeTickPath(e,K,_?w[1]:X[1],{minor:_});axes.drawTicks(t,e,{vals:m,layer:a[g+"axislayer"],path:P,transFn:f})}}var j=[];if(j.push(function(){return axes.drawLabels(t,e,{vals:b,layer:h,plotinfo:a,transFn:x,labelFns:axes.makeLabelFns(e,U)})}),"multicategory"===e.type){var q={x:2,y:10}[g];j.push(function(){var i={x:"height",y:"width"}[g],r=et()[i]+q+(e._tickAngles[c+"tick"]?e.tickfont.size*LINE_SPACING$6:0);return axes.drawLabels(t,e,{vals:getSecondaryLabelVals(e,b),layer:h,cls:c+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:f,labelFns:axes.makeLabelFns(e,U+r*w[4])})}),j.push(function(){return e._depth=w[4]*(et("tick2")[e.side]-U),drawDividers(t,e,{vals:G,layer:h,path:axes.makeTickPath(e,U,w[4],{len:e._depth}),transFn:f})})}else e.title.hasOwnProperty("standoff")&&j.push(function(){e._depth=w[4]*(et()[e.side]-U)});var tt=Registry$H.getComponentMethod("rangeslider","isVisible")(e);return i.skipTitle||tt&&"bottom"===e.side||j.push(function(){return drawTitle(t,e)}),j.push(function(){var i,r,n,a,s=e.side.charAt(0),o=OPPOSITE_SIDE[e.side].charAt(0),c=axes.getPxPosition(t,e),u=v?e.ticklen:0;(e.automargin||tt||e._shiftPusher)&&("multicategory"===e.type?i=et("tick2"):(i=et(),"x"===g&&"b"===s&&(e._depth=Math.max(i.width>0?i.bottom-c:0,u))));var B=0,F=0;if(e._shiftPusher&&(B=Math.max(u,i.height>0?"l"===s?c-i.left:i.right-c:0),e.title.text!==l._dfltTitle[g]&&(F=(e._titleStandoff||0)+(e._titleScoot||0),"l"===s&&(F+=approxTitleDepth(e))),e._fullDepth=Math.max(B,F)),e.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var h=[0,1],Q="number"==typeof e._shift?e._shift:0;if("x"===g){if("b"===s?r[s]=e._depth:(r[s]=e._depth=Math.max(i.width>0?c-i.top:0,u),h.reverse()),i.width>0){var U=i.right-(e._offset+e._length);U>0&&(r.xr=1,r.r=U);var I=e._offset-i.left;I>0&&(r.xl=0,r.l=I)}}else if("l"===s?(e._depth=Math.max(i.height>0?c-i.left:0,u),r[s]=e._depth-Q):(e._depth=Math.max(i.height>0?i.right-c:0,u),r[s]=e._depth+Q,h.reverse()),i.height>0){var b=i.bottom-(e._offset+e._length);b>0&&(r.yb=0,r.b=b);var p=e._offset-i.top;p>0&&(r.yt=1,r.t=p)}r[d]="free"===e.anchor?e.position:e._anchorAxis.domain[h[0]],e.title.text!==l._dfltTitle[g]&&(r[s]+=approxTitleDepth(e)+(e.title.standoff||0)),e.mirror&&"free"!==e.anchor&&((n={x:0,y:0,r:0,l:0,t:0,b:0})[o]=e.linewidth,e.mirror&&!0!==e.mirror&&(n[o]+=u),!0===e.mirror||"ticks"===e.mirror?n[d]=e._anchorAxis.domain[h[1]]:"all"!==e.mirror&&"allticks"!==e.mirror||(n[d]=[e._counterDomainMin,e._counterDomainMax][h[1]]))}tt&&(a=Registry$H.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),"string"==typeof e.automargin&&(filterPush(r,e.automargin),filterPush(n,e.automargin)),Plots$b.autoMargin(t,axAutoMarginID(e),r),Plots$b.autoMargin(t,axMirrorAutoMarginID(e),n),Plots$b.autoMargin(t,rangeSliderAutoMarginID(e),a)}),Lib$1n.syncOrAsync(j)}}function et(t){var i=c+(t||"tick");return y[i]||(y[i]=calcLabelLevelBbox(e,i,U)),y[i]}},axes.getTickSigns=function(t,e){var i=t._id.charAt(0),r={x:"top",y:"right"}[i],n=t.side===r?1:-1,a=[-1,1,n,-n];return"inside"!==(e?(t.minor||{}).ticks:t.ticks)==("x"===i)&&(a=a.map(function(t){return-t})),t.side&&a.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),a},axes.makeTransTickFn=function(t){return"x"===t._id.charAt(0)?function(e){return strTranslate$a(t._offset+t.l2p(e.x),0)}:function(e){return strTranslate$a(0,t._offset+t.l2p(e.x))}},axes.makeTransTickLabelFn=function(t){var e=getTickLabelUV(t),i=t.ticklabelshift||0,r=t.ticklabelstandoff||0,n=e[0],a=e[1],s=t.range[0]>t.range[1],o=t.ticklabelposition&&-1!==t.ticklabelposition.indexOf("inside"),l=!o;i&&(i*=s?-1:1);if(r){var c=t.side;r*=o&&("top"===c||"left"===c)||l&&("bottom"===c||"right"===c)?1:-1}return"x"===t._id.charAt(0)?function(e){return strTranslate$a(n+t._offset+t.l2p(getPosX(e))+i,a+r)}:function(e){return strTranslate$a(a+r,n+t._offset+t.l2p(getPosX(e))+i)}},axes.makeTickPath=function(t,e,i,r){r||(r={});var n=r.minor;if(n&&!t.minor)return"";var a=void 0!==r.len?r.len:n?t.minor.ticklen:t.ticklen,s=t._id.charAt(0),o=(t.linewidth||1)/2;return"x"===s?"M0,"+(e+o*i)+"v"+a*i:"M"+(e+o*i)+",0h"+a*i},axes.makeLabelFns=function(t,e,i){var r=t.ticklabelposition||"",n=t.tickson||"",a=function(t){return-1!==r.indexOf(t)},s=a("top"),o=a("left"),l=a("right"),c=a("bottom"),g="boundaries"!==n&&(c||o||s||l),d=a("inside"),u="inside"===r&&"inside"===t.ticks||!d&&"outside"===t.ticks&&"boundaries"!==n,B=0,F=0,h=u?t.ticklen:0;if(d?h*=-1:g&&(h=0),u&&(B+=h,i)){var Q=Lib$1n.deg2rad(i);B=h*Math.cos(Q)+1,F=h*Math.sin(Q)}t.showticklabels&&(u||t.showline)&&(B+=.2*t.tickfont.size);var U,I,b,p,y,m={labelStandoff:B+=(t.linewidth||1)/2*(d?-1:1),labelShift:F},C=0,f=t.side,x=t._id.charAt(0),A=t.tickangle;if("x"===x)p=(y=!d&&"bottom"===f||d&&"top"===f)?1:-1,d&&(p*=-1),U=F*p,I=e+B*p,b=y?1:-.2,90===Math.abs(A)&&(d?b+=MID_SHIFT:b=-90===A&&"bottom"===f?CAP_SHIFT:90===A&&"top"===f?MID_SHIFT:.5,C=MID_SHIFT/2*(A/90)),m.xFn=function(t){return t.dx+U+C*t.fontSize},m.yFn=function(t){return t.dy+I+t.fontSize*b},m.anchorFn=function(t,e){if(g){if(o)return"end";if(l)return"start"}return isNumeric$h(e)&&0!==e&&180!==e?e*p<0!==d?"end":"start":"middle"},m.heightFn=function(e,i,r){return i<-60||i>60?-.5*r:"top"===t.side!==d?-r:0};else if("y"===x){if(p=(y=!d&&"left"===f||d&&"right"===f)?1:-1,d&&(p*=-1),U=B,I=F*p,b=0,d||90!==Math.abs(A)||(b=-90===A&&"left"===f||90===A&&"right"===f?CAP_SHIFT:.5),d){var v=isNumeric$h(A)?+A:0;if(0!==v){var L=Lib$1n.deg2rad(v);C=Math.abs(Math.sin(L))*CAP_SHIFT*p,b=0}}m.xFn=function(t){return t.dx+e-(U+t.fontSize*b)*p+C*t.fontSize},m.yFn=function(t){return t.dy+I+t.fontSize*MID_SHIFT},m.anchorFn=function(t,e){return isNumeric$h(e)&&90===Math.abs(e)?"middle":y?"end":"start"},m.heightFn=function(e,i,r){return"right"===t.side&&(i*=-1),i<-30?-r:i<30?-.5*r:0}}return m},axes.drawTicks=function(t,e,i){i=i||{};var r=e._id+"tick",n=[].concat(e.minor&&e.minor.ticks?i.vals.filter(function(t){return t.minor&&!t.noTick}):[]).concat(e.ticks?i.vals.filter(function(t){return!t.minor&&!t.noTick}):[]),a=i.layer.selectAll("path."+r).data(n,tickDataFn);a.exit().remove(),a.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==i.crisp).each(function(t){return Color$x.stroke(d3$m.select(this),t.minor?e.minor.tickcolor:e.tickcolor)}).style("stroke-width",function(i){return Drawing$n.crispRound(t,i.minor?e.minor.tickwidth:e.tickwidth,1)+"px"}).attr("d",i.path).style("display",null),hideCounterAxisInsideTickLabels(e,[TICK_PATH]),a.attr("transform",i.transFn)},axes.drawGrid=function(t,e,i){if(i=i||{},"sync"!==e.tickmode){var r=e._id+"grid",n=e.minor&&e.minor.showgrid,a=n?i.vals.filter(function(t){return t.minor}):[],s=e.showgrid?i.vals.filter(function(t){return!t.minor}):[],o=i.counterAxis;if(o&&axes.shouldShowZeroLine(t,e,o))for(var l="array"===e.tickmode,c=0;c<s.length;c++){var g=s[c].x;if(l?!g:Math.abs(g)<e.dtick/100){if(s=s.slice(0,c).concat(s.slice(c+1)),!l)break;c--}}e._gw=Drawing$n.crispRound(t,e.gridwidth,1);for(var d=n?Drawing$n.crispRound(t,e.minor.gridwidth,1):0,u=i.layer,B=i.minorLayer,F=1;F>=0;F--){var h=F?u:B;if(h){var Q=h.selectAll("path."+r).data(F?s:a,tickDataFn);Q.exit().remove(),Q.enter().append("path").classed(r,1).classed("crisp",!1!==i.crisp),Q.attr("transform",i.transFn).attr("d",i.path).each(function(t){return Color$x.stroke(d3$m.select(this),t.minor?e.minor.gridcolor:e.gridcolor||"#ddd")}).style("stroke-dasharray",function(t){return Drawing$n.dashStyle(t.minor?e.minor.griddash:e.griddash,t.minor?e.minor.gridwidth:e.gridwidth)}).style("stroke-width",function(t){return(t.minor?d:e._gw)+"px"}).style("display",null),"function"==typeof i.path&&Q.attr("d",i.path)}}hideCounterAxisInsideTickLabels(e,[GRID_PATH,MINORGRID_PATH])}},axes.drawZeroLine=function(t,e,i){i=i||i;var r=e._id+"zl",n=axes.shouldShowZeroLine(t,e,i.counterAxis),a=i.layer.selectAll("path."+r).data(n?[{x:0,id:e._id}]:[]);a.exit().remove(),a.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==i.crisp).each(function(){i.layer.selectAll("path").sort(function(t,e){return idSort(t.id,e.id)})}),a.attr("transform",i.transFn).attr("d",i.path).call(Color$x.stroke,e.zerolinecolor||Color$x.defaultLine).style("stroke-width",Drawing$n.crispRound(t,e.zerolinewidth,e._gw||1)+"px").style("display",null),hideCounterAxisInsideTickLabels(e,[ZERO_PATH])},axes.drawLabels=function(t,e,i){i=i||{};var r=t._fullLayout,n=e._id,a="above traces"===e.zerolinelayer,s=i.cls||n+"tick",o=i.vals.filter(function(t){return t.text}),l=i.labelFns,c=i.secondary?0:e.tickangle,g=(e._prevTickAngles||{})[s],d=i.layer.selectAll("g."+s).data(e.showticklabels?o:[],tickDataFn),u=[];function B(t,r){t.each(function(t){var n=d3$m.select(this),a=n.select(".text-math-group"),s=l.anchorFn(t,r),o=i.transFn.call(n.node(),t)+(isNumeric$h(r)&&0!==+r?" rotate("+r+","+l.xFn(t)+","+(l.yFn(t)-t.fontSize/2)+")":""),c=svgTextUtils$b.lineCount(n),g=LINE_SPACING$6*t.fontSize,d=l.heightFn(t,isNumeric$h(r)?+r:0,(c-1)*g);if(d&&(o+=strTranslate$a(0,d)),a.empty()){var u=n.select("text");u.attr({transform:o,"text-anchor":s}),u.style("display",null),e._adjustTickLabelsOverflow&&e._adjustTickLabelsOverflow()}else{var B=Drawing$n.bBox(a.node()).width*{end:-.5,start:.5}[s];a.attr("transform",o+strTranslate$a(B,0))}})}d.enter().append("g").classed(s,1).append("text").attr("text-anchor","middle").each(function(e){var i=d3$m.select(this),r=t._promises.length;i.call(svgTextUtils$b.positionText,l.xFn(e),l.yFn(e)).call(Drawing$n.font,{family:e.font,size:e.fontSize,color:e.fontColor,weight:e.fontWeight,style:e.fontStyle,variant:e.fontVariant,textcase:e.fontTextcase,lineposition:e.fontLineposition,shadow:e.fontShadow}).text(e.text).call(svgTextUtils$b.convertToTspans,t),t._promises[r]?u.push(t._promises.pop().then(function(){B(i,c)})):B(i,c)}),hideCounterAxisInsideTickLabels(e,[TICK_TEXT]),d.exit().remove(),i.repositionOnUpdate&&d.each(function(t){d3$m.select(this).select("text").call(svgTextUtils$b.positionText,l.xFn(t),l.yFn(t))}),e._adjustTickLabelsOverflow=function(){var i=e.ticklabeloverflow;if(i&&"allow"!==i){var n=-1!==i.indexOf("hide"),a="x"===e._id.charAt(0),s=0,o=a?t._fullLayout.width:t._fullLayout.height;if(-1!==i.indexOf("domain")){var l=Lib$1n.simpleMap(e.range,e.r2l);s=e.l2p(l[0])+e._offset,o=e.l2p(l[1])+e._offset}var c=Math.min(s,o),g=Math.max(s,o),u=e.side,B=1/0,F=-1/0;for(var h in d.each(function(t){var i=d3$m.select(this);if(i.select(".text-math-group").empty()){var r=Drawing$n.bBox(i.node()),s=0;a?(r.right>g||r.left<c)&&(s=1):(r.bottom>g||r.top+(e.tickangle?0:t.fontSize/4)<c)&&(s=1);var o=i.select("text");s?n&&o.style("display","none"):"none"!==o.node().style.display&&(o.style("display",null),B="bottom"===u||"right"===u?Math.min(B,a?r.top:r.left):-1/0,F="top"===u||"left"===u?Math.max(F,a?r.bottom:r.right):1/0)}}),r._plots){var Q=r._plots[h];if(e._id===Q.xaxis._id||e._id===Q.yaxis._id){var U=a?Q.yaxis:Q.xaxis;U&&(U["_visibleLabelMin_"+e._id]=B,U["_visibleLabelMax_"+e._id]=F)}}}},e._hideCounterAxisInsideTickLabels=function(t){var i="x"===e._id.charAt(0),n=[];for(var s in r._plots){var o=r._plots[s];e._id!==o.xaxis._id&&e._id!==o.yaxis._id||n.push(i?o.yaxis:o.xaxis)}n.forEach(function(i,n){i&&insideTicklabelposition(i)&&(t||[ZERO_PATH,MINORGRID_PATH,GRID_PATH,TICK_PATH,TICK_TEXT]).forEach(function(t){var s,o="tick"===t.K&&"text"===t.L&&"period"===e.ticklabelmode,l=r._plots[e._mainSubplot];t.K===ZERO_PATH.K?s=(a?l.zerolinelayerAbove:l.zerolinelayer).selectAll("."+e._id+"zl"):s=t.K===MINORGRID_PATH.K?l.minorGridlayer.selectAll("."+e._id):t.K===GRID_PATH.K?l.gridlayer.selectAll("."+e._id):l[e._id.charAt(0)+"axislayer"];s.each(function(){var r=d3$m.select(this);t.L&&(r=r.selectAll(t.L)),r.each(function(r){var a=e.l2p(o?getPosX(r):r.x)+e._offset,s=d3$m.select(this);a<e["_visibleLabelMax_"+i._id]&&a>e["_visibleLabelMin_"+i._id]?s.style("display","none"):"tick"!==t.K||n||"none"===s.node().style.display||s.style("display",null)})})})})},B(d,g+1?g:c);var F=null;e._selections&&(e._selections[s]=d);var h=[function(){return u.length&&Promise.all(u)}];e.automargin&&r._redrawFromAutoMarginCount&&90===g?(F=g,h.push(function(){B(d,g)})):h.push(function(){if(B(d,c),o.length&&e.autotickangles&&("log"!==e.type||"D"!==String(e.dtick).charAt(0))){F=e.autotickangles[0];var t,r=0,n=[],a=1;d.each(function(t){r=Math.max(r,t.fontSize);var i=e.l2p(t.x),s=selectTickLabel(this),o=Drawing$n.bBox(s.node());a=Math.max(a,svgTextUtils$b.lineCount(s)),n.push({top:0,bottom:10,height:10,left:i-o.width/2,right:i+o.width/2+2,width:o.width+2})});var s=("boundaries"===e.tickson||e.showdividers)&&!i.secondary,l=o.length,g=Math.abs((o[l-1].x-o[0].x)*e._m)/(l-1),u=s?g/2:g,h=s?e.ticklen:1.25*r*a,Q=u/Math.sqrt(Math.pow(u,2)+Math.pow(h,2)),U=e.autotickangles.map(function(t){return t*Math.PI/180}),I=U.find(function(t){return Math.abs(Math.cos(t))<=Q});void 0===I&&(I=U.reduce(function(t,e){return Math.abs(Math.cos(t))<Math.abs(Math.cos(e))?t:e},U[0]));var b=I*(180/Math.PI);if(s){var p=2;for(e.ticks&&(p+=e.tickwidth/2),t=0;t<n.length;t++){var y=o[t].xbnd,m=n[t];if(null!==y[0]&&m.left-e.l2p(y[0])<p||null!==y[1]&&e.l2p(y[1])-m.right<p){F=b;break}}}else{var C=e.ticklabelposition||"",f=e.tickson||"",x=function(t){return-1!==C.indexOf(t)},A=x("top"),v=x("left"),L=x("right"),R=x("bottom"),S="boundaries"!==f&&(R||v||A||L)?(e.tickwidth||0)+2*TEXTPAD$1:0;for(t=0;t<n.length-1;t++)if(Lib$1n.bBoxIntersect(n[t],n[t+1],S)){F=b;break}}F&&B(d,F)}}),e._tickAngles&&h.push(function(){e._tickAngles[s]=null===F?isNumeric$h(c)?c:0:F});var Q=function(){var t=0,i=0;return d.each(function(r,n){var a,s=selectTickLabel(this);s.select(".text-math-group").empty()&&(e._vals[n]&&(a=e._vals[n].bb||Drawing$n.bBox(s.node()),e._vals[n].bb=a),t=Math.max(t,a.width),i=Math.max(i,a.height))}),{labelsMaxW:t,labelsMaxH:i}},U=e._anchorAxis;if(U&&(U.autorange||U.insiderange)&&insideTicklabelposition(e)&&!isLinked(r,e._id)&&(r._insideTickLabelsUpdaterange||(r._insideTickLabelsUpdaterange={}),U.autorange&&(r._insideTickLabelsUpdaterange[U._name+".autorange"]=U.autorange,h.push(Q)),U.insiderange)){var I=Q(),b="y"===e._id.charAt(0)?I.labelsMaxW:I.labelsMaxH;b+=2*TEXTPAD$1,"inside"===e.ticklabelposition&&(b+=e.ticklen||0);var p="right"===e.side||"top"===e.side?1:-1,y=1===p?1:0,m=1===p?0:1,C=[];C[m]=U.range[m];var f=U.range,x=U.r2p(f[y]),A=U.r2p(f[m]),v=r._insideTickLabelsUpdaterange[U._name+".range"];if(v){var L=U.r2p(v[y]),R=U.r2p(v[m]),S=p*("y"===e._id.charAt(0)?1:-1);S*x<S*L&&(x=L,C[y]=f[y]=v[y]),S*A>S*R&&(A=R,C[m]=f[m]=v[m])}var G=Math.abs(A-x);G-b>0?b*=1+b/(G-=b):b=0,"y"!==e._id.charAt(0)&&(b=-b),C[y]=U.p2r(U.r2p(f[y])+p*b),"min"===U.autorange||"max reversed"===U.autorange?(C[0]=null,U._rangeInitial0=void 0,U._rangeInitial1=void 0):"max"!==U.autorange&&"min reversed"!==U.autorange||(C[1]=null,U._rangeInitial0=void 0,U._rangeInitial1=void 0),r._insideTickLabelsUpdaterange[U._name+".range"]=C}var E=Lib$1n.syncOrAsync(h);return E&&E.then&&t._promises.push(E),E},axes.getPxPosition=function(t,e){var i,r=t._fullLayout._size,n=e._id.charAt(0),a=e.side;return"free"!==e.anchor?i=e._anchorAxis:"x"===n?i={_offset:r.t+(1-(e.position||0))*r.h,_length:0}:"y"===n&&(i={_offset:r.l+(e.position||0)*r.w+e._shift,_length:0}),"top"===a||"left"===a?i._offset:"bottom"===a||"right"===a?i._offset+i._length:void 0},axes.shouldShowZeroLine=function(t,e,i){var r=Lib$1n.simpleMap(e.range,e.r2l);return r[0]*r[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===BADNUM$5)&&(clipEnds(e,0)||!anyCounterAxLineAtZero(t,e,i,r)||hasBarsOrFill(t,e))},axes.clipEnds=function(t,e){return e.filter(function(e){return clipEnds(t,e.x)})},axes.allowAutoMargin=function(t){for(var e=axes.list(t,"",!0),i=0;i<e.length;i++){var r=e[i];r.automargin&&(Plots$b.allowAutoMargin(t,axAutoMarginID(r)),r.mirror&&Plots$b.allowAutoMargin(t,axMirrorAutoMarginID(r))),Registry$H.getComponentMethod("rangeslider","isVisible")(r)&&Plots$b.allowAutoMargin(t,rangeSliderAutoMarginID(r))}},axes.swap=function(t,e){for(var i=makeAxisGroups(t,e),r=0;r<i.length;r++)swapAxisGroup(t,i[r].x,i[r].y)};var axesExports=axes$1.exports,autorange_options_defaults=function(t,e,i){var r,n;if(i){var a="reversed"===e||"min reversed"===e||"max reversed"===e;r=i[a?1:0],n=i[a?0:1]}var s=t("autorangeoptions.minallowed",null===n?r:void 0),o=t("autorangeoptions.maxallowed",null===r?n:void 0);void 0===s&&t("autorangeoptions.clipmin"),void 0===o&&t("autorangeoptions.clipmax"),t("autorangeoptions.include")},handleAutorangeOptionsDefaults=autorange_options_defaults,range_defaults=function(t,e,i,r){var n=e._template||{},a=e.type||n.type||"-";i("minallowed"),i("maxallowed");var s,o=i("range");o||(r.noInsiderange||"log"===a||(!(s=i("insiderange"))||null!==s[0]&&null!==s[1]||(e.insiderange=!1,s=void 0),s&&(o=i("range",s))));var l,c=e.getAutorangeDflt(o,r),g=i("autorange",c);!o||(null!==o[0]||null!==o[1])&&(null!==o[0]&&null!==o[1]||"reversed"!==g&&!0!==g)&&(null===o[0]||"min"!==g&&"max reversed"!==g)&&(null===o[1]||"max"!==g&&"min reversed"!==g)||(o=void 0,delete e.range,e.autorange=!0,l=!0),l||(g=i("autorange",c=e.getAutorangeDflt(o,r))),g&&(handleAutorangeOptionsDefaults(i,g,o),"linear"!==a&&"-"!==a||i("rangemode")),e.cleanRange()},graph_interact={},dragelement={exports:{}},rootPosition={left:0,top:0},mouseEventOffset_1=mouseEventOffset;function mouseEventOffset(t,e,i){e=e||t.currentTarget||t.srcElement,Array.isArray(i)||(i=[0,0]);var r=t.clientX||0,n=t.clientY||0,a=getBoundingClientOffset(e);return i[0]=r-a.left,i[1]=n-a.top,i}function getBoundingClientOffset(t){return t===window||t===document||t===document.body?rootPosition:t.getBoundingClientRect()}var align=function(t,e,i,r,n){var a=(t-i)/(r-i),s=a+e/(r-i),o=(a+s)/2;return"left"===n||"bottom"===n?a:"center"===n||"middle"===n?o:"right"===n||"top"===n?s:a<2/3-o?a:s>4/3-o?s:o},Lib$1m=libExports,cursorset=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]],cursor=function(t,e,i,r){return t="left"===i?0:"center"===i?1:"right"===i?2:Lib$1m.constrain(Math.floor(3*t),0,2),e="bottom"===r?0:"middle"===r?1:"top"===r?2:Lib$1m.constrain(Math.floor(3*e),0,2),cursorset[e][t]},unhover$2={exports:{}},Events$2=events,throttle$1=throttle$2,getGraphDiv$1=dom.getGraphDiv,hoverConstants=constants$M,unhover$1=unhover$2.exports={};unhover$1.wrapped=function(t,e,i){(t=getGraphDiv$1(t))._fullLayout&&throttle$1.clear(t._fullLayout._uid+hoverConstants.HOVERID),unhover$1.raw(t,e,i)},unhover$1.raw=function(t,e){var i=t._fullLayout,r=t._hoverdata;e||(e={}),e.target&&!t._dragged&&!1===Events$2.triggerHandler(t,"plotly_beforehover",e)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&r&&t.emit("plotly_unhover",{event:e,points:r}))};var unhoverExports=unhover$2.exports,mouseOffset=mouseEventOffset_1,hasHover=hasHover_1,removeElement=libExports.removeElement,constants$F=constants$K,dragElement$8=dragelement.exports={};dragElement$8.align=align,dragElement$8.getCursor=cursor;var unhover=unhoverExports;function coverSlip(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function pointerOffset(t){return mouseOffset(t.changedTouches?t.changedTouches[0]:t,document.body)}dragElement$8.unhover=unhover.wrapped,dragElement$8.unhoverRaw=unhover.raw,dragElement$8.init=function(t){var e,i,r,n,a,s,o,l,c=t.gd,g=1,d=c._context.doubleClickDelay,u=t.element;c._mouseDownTime||(c._mouseDownTime=0),u.style.pointerEvents="all",u.onmousedown=F,u.ontouchstart=F;var B=t.clampFn||function(t,e,i){return Math.abs(t)<i&&(t=0),Math.abs(e)<i&&(e=0),[t,e]};function F(B){c._dragged=!1,c._dragging=!0;var F=pointerOffset(B);e=F[0],i=F[1],o=B.target,s=B,l=2===B.buttons||B.ctrlKey,void 0===B.clientX&&void 0===B.clientY&&(B.clientX=e,B.clientY=i),(r=(new Date).getTime())-c._mouseDownTime<d?g+=1:(g=1,c._mouseDownTime=r),t.prepFn&&t.prepFn(B,e,i),hasHover&&!l?(a=coverSlip()).style.cursor=window.getComputedStyle(u).cursor:hasHover||(a=document,n=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(u).cursor),document.addEventListener("mouseup",Q),document.addEventListener("touchend",Q),!1!==t.dragmode&&(B.preventDefault(),document.addEventListener("mousemove",h),document.addEventListener("touchmove",h,{passive:!1}))}function h(r){r.preventDefault();var n=pointerOffset(r),a=t.minDrag||constants$F.MINDRAG,s=B(n[0]-e,n[1]-i,a),o=s[0],g=s[1];(o||g)&&(c._dragged=!0,dragElement$8.unhover(c,r)),c._dragged&&t.moveFn&&!l&&(c._dragdata={element:u,dx:o,dy:g},t.moveFn(o,g))}function Q(e){if(delete c._dragdata,!1!==t.dragmode&&(e.preventDefault(),document.removeEventListener("mousemove",h),document.removeEventListener("touchmove",h)),document.removeEventListener("mouseup",Q),document.removeEventListener("touchend",Q),hasHover?removeElement(a):n&&(a.documentElement.style.cursor=n,n=null),c._dragging){var i;if(c._dragging=!1,(new Date).getTime()-c._mouseDownTime>d&&(g=Math.max(g-1,1)),c._dragged)t.doneFn&&t.doneFn();else s.target===o?i=s:(i={target:o,srcElement:o,toElement:o},Object.keys(s).concat(Object.keys(s.__proto__)).forEach(t=>{var e=s[t];i[t]||"function"==typeof e||(i[t]=e)})),t.clickFn&&t.clickFn(g,i),l||o.dispatchEvent(new MouseEvent("click",e));c._dragging=!1,c._dragged=!1}else c._dragged=!1}},dragElement$8.coverSlip=coverSlip;var dragelementExports=dragelement.exports,hover$4={},setcursor=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)},setCursor$4=setcursor,STASHATTR="data-savedcursor",NO_CURSOR="!!",override_cursor=function(t,e){var i=t.attr(STASHATTR);if(e){if(!i){for(var r=(t.attr("class")||"").split(" "),n=0;n<r.length;n++){var a=r[n];0===a.indexOf("cursor-")&&t.attr(STASHATTR,a.substr(7)).classed(a,!1)}t.attr(STASHATTR)||t.attr(STASHATTR,NO_CURSOR)}setCursor$4(t,e)}else i&&(t.attr(STASHATTR,null),i===NO_CURSOR?setCursor$4(t):setCursor$4(t,i))},fontAttrs$9=requireFont_attributes(),colorAttrs$3=attributes$K,attributes$D={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend",description:["Determines whether or not this legend is visible."].join(" ")},bgcolor:{valType:"color",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:colorAttrs$3.defaultLine,editType:"legend",description:"Sets the color of the border enclosing the legend."},maxheight:{valType:"number",min:0,editType:"legend",description:["Sets the max height (in px) of the legend, or max height ratio (reference height * ratio) if less than or equal to 1.","Default value is: 0.5 for horizontal legends; 1 for vertical legends. The minimum allowed height is 30px.","For a ratio of 0.5, the legend will take up to 50% of the reference height before displaying a scrollbar.","The reference height is the full layout height with the following exception: vertically oriented legends with",'a `yref` of `"paper", located to the side of the plot. In this case, the reference height is the plot height.'].join(" ")},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:fontAttrs$9({editType:"legend",description:"Sets the font used to text the legend items."}),grouptitlefont:fontAttrs$9({editType:"legend",description:["Sets the font for group titles in legend.","Defaults to `legend.font` with its size increased about 10%."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},entrywidth:{valType:"number",min:0,editType:"legend",description:["Sets the width (in px or fraction) of the legend.","Use 0 to size the entry based on the text width,","when `entrywidthmode` is set to *pixels*."].join(" ")},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend",description:"Determines what entrywidth means."},indentation:{valType:"number",min:-15,dflt:0,editType:"legend",description:"Sets the indentation (in px) of the legend entries."},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend",description:"Sets the width (in px) of the legend item symbols (the part other than the title.text)."},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item double-click interactions."].join(" ")},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend",description:["Determines the behavior on legend group item click.","*toggleitem* toggles the visibility of the individual item clicked on the graph.","*togglegroup* toggles the visibility of all items in the same legendgroup as the item clicked on the graph."].join(" ")},x:{valType:"number",editType:"legend",description:["Sets the x position with respect to `xref` (in normalized coordinates) of the legend.","When `xref` is *paper*, defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends.","When `xref` is *container*, defaults to *1* for vertical legends and","defaults to *0* for horizontal legends.","Must be between *0* and *1* if `xref` is *container*.","and between *-2* and *3* if `xref` is *paper*."].join(" ")},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",editType:"legend",description:["Sets the y position with respect to `yref` (in normalized coordinates) of the legend.","When `yref` is *paper*, defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders.","When `yref` is *container*, defaults to *1*.","Must be between *0* and *1* if `yref` is *container*","and between *-2* and *3* if `yref` is *paper*."].join(" ")},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend",description:["Sets the legend's vertical position anchor.","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:fontAttrs$9({editType:"legend",description:["Sets this legend's title font.","Defaults to `legend.font` with its size increased about 20%."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","top center and top right are for horizontal alignment","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"},helpers$x={isGrouped:function(t){return-1!==(t.traceorder||"").indexOf("grouped")},isVertical:function(t){return"h"!==t.orientation},isReversed:function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},Registry$G=registry$1,Lib$1l=libExports,Template$5=plot_template,plotsAttrs=attributes$L,attributes$C=attributes$D,basePlotLayoutAttributes=layout_attributes$5,helpers$w=helpers$x;function groupDefaults(t,e,i,r){var n=e[t]||{},a=Template$5.newContainer(i,t);function s(t,e){return Lib$1l.coerce(n,a,attributes$C,t,e)}var o=Lib$1l.coerceFont(s,"font",i.font);if(s("bgcolor",i.paper_bgcolor),s("bordercolor"),s("visible")){for(var l,c=function(t,e){var i=l._input,r=l;return Lib$1l.coerce(i,r,plotsAttrs,t,e)},g=i.font||{},d=Lib$1l.coerceFont(s,"grouptitlefont",g,{overrideDflt:{size:Math.round(1.1*g.size)}}),u=0,B=!1,F="normal",h=(i.shapes||[]).filter(function(t){return t.showlegend}),Q=r.concat(h).filter(function(e){return t===(e.legend||"legend")}),U=0;U<Q.length;U++)if((l=Q[U]).visible){var I=l._isShape;(l.showlegend||l._dfltShowLegend&&!(l._module&&l._module.attributes&&l._module.attributes.showlegend&&!1===l._module.attributes.showlegend.dflt))&&(u++,l.showlegend&&(B=!0,(!I&&Registry$G.traceIs(l,"pie-like")||!0===l._input.showlegend)&&u++),Lib$1l.coerceFont(c,"legendgrouptitle.font",d)),(!I&&Registry$G.traceIs(l,"bar")&&"stack"===i.barmode||-1!==["tonextx","tonexty"].indexOf(l.fill))&&(F=helpers$w.isGrouped({traceorder:F})?"grouped+reversed":"reversed"),void 0!==l.legendgroup&&""!==l.legendgroup&&(F=helpers$w.isReversed({traceorder:F})?"reversed+grouped":"grouped")}var b=Lib$1l.coerce(e,i,basePlotLayoutAttributes,"showlegend",B&&u>("legend"===t?1:0));if(!1===b&&(i[t]=void 0),(!1!==b||n.uirevision)&&(s("uirevision",i.uirevision),!1!==b)){s("borderwidth");var p,y,m,C="h"===s("orientation"),f="paper"===s("yref"),x="paper"===s("xref"),A="left";if(C?(p=0,Registry$G.getComponentMethod("rangeslider","isVisible")(e.xaxis)?f?(y=1.1,m="bottom"):(y=1,m="top"):f?(y=-.1,m="top"):(y=0,m="bottom")):(y=1,m="auto",x?p=1.02:(p=1,A="right")),Lib$1l.coerce(n,a,{x:{valType:"number",editType:"legend",min:x?-2:0,max:x?3:1,dflt:p}},"x"),Lib$1l.coerce(n,a,{y:{valType:"number",editType:"legend",min:f?-2:0,max:f?3:1,dflt:y}},"y"),s("traceorder",F),helpers$w.isGrouped(i[t])&&s("tracegroupgap"),s("entrywidth"),s("entrywidthmode"),s("indentation"),s("itemsizing"),s("itemwidth"),s("itemclick"),s("itemdoubleclick"),s("groupclick"),s("xanchor",A),s("yanchor",m),s("maxheight"),s("valign"),Lib$1l.noneOrAll(n,a,["x","y"]),s("title.text")){s("title.side",C?"left":"top");var v=Lib$1l.extendFlat({},o,{size:Lib$1l.bigFont(o.size)});Lib$1l.coerceFont(s,"title.font",v)}}}}var defaults$s=function(t,e,i){var r,n=i.slice(),a=e.shapes;if(a)for(r=0;r<a.length;r++){var s=a[r];if(s.showlegend){var o={_input:s._input,visible:s.visible,showlegend:s.showlegend,legend:s.legend};n.push(o)}}var l=["legend"];for(r=0;r<n.length;r++)Lib$1l.pushUnique(l,n[r].legend);for(e._legends=[],r=0;r<l.length;r++){var c=l[r];groupDefaults(c,t,e,n),e[c]&&e[c].visible&&(e[c]._id=c),e._legends.push(c)}},Registry$F=registry$1,Lib$1k=libExports,pushUnique$1=Lib$1k.pushUnique,SHOWISOLATETIP=!0,handle_click=function(t,e,i){var r=e._fullLayout;if(!e._dragged&&!e._editing){var n,a=r.legend.itemclick,s=r.legend.itemdoubleclick,o=r.legend.groupclick;if(1===i&&"toggle"===a&&"toggleothers"===s&&SHOWISOLATETIP&&e.data&&e._context.showTips?(Lib$1k.notifier(Lib$1k._(e,"Double-click on legend to isolate one trace"),"long"),SHOWISOLATETIP=!1):SHOWISOLATETIP=!1,1===i?n=a:2===i&&(n=s),n){var l="togglegroup"===o,c=r.hiddenlabels?r.hiddenlabels.slice():[],g=t.data()[0][0];if(!g.groupTitle||!g.noClick){var d=e._fullData,u=(r.shapes||[]).filter(function(t){return t.showlegend}),B=d.concat(u),F=g.trace;F._isShape&&(F=F._fullInput);var h,Q,U,I,b,p=F.legendgroup,y={},m=[],C=[],f=[],x=(r.shapes||[]).map(function(t){return t._input}),A=!1,v=F.legend,L=F._fullInput;if(!(L&&L._isShape)&&Registry$F.traceIs(F,"pie-like")){var R=g.label,S=c.indexOf(R);if("toggle"===n)-1===S?c.push(R):c.splice(S,1);else if("toggleothers"===n){var G=-1!==S,E=[];for(h=0;h<e.calcdata.length;h++){var V=e.calcdata[h];for(Q=0;Q<V.length;Q++){var Z=V[Q].label;v===V[0].trace.legend&&R!==Z&&(-1===c.indexOf(Z)&&(G=!0),pushUnique$1(c,Z),E.push(Z))}}if(!G)for(var N=0;N<E.length;N++){var D=c.indexOf(E[N]);-1!==D&&c.splice(D,1)}}Registry$F.call("_guiRelayout",e,"hiddenlabels",c)}else{var w,X=p&&p.length,W=[];if(X)for(h=0;h<B.length;h++)(w=B[h]).visible&&w.legendgroup===p&&W.push(h);if("toggle"===n){var H;switch(F.visible){case!0:H="legendonly";break;case!1:H=!1;break;case"legendonly":H=!0}if(X)if(l)for(h=0;h<B.length;h++){var T=B[h];!1!==T.visible&&T.legendgroup===p&&K(T,H)}else K(F,H);else K(F,H)}else if("toggleothers"===n){var M,k,Y,J,$=!0;for(h=0;h<B.length;h++)if(M=(J=B[h])===F,k=!0!==J.showlegend,!(M||k||X&&J.legendgroup===p||J.legend!==v||!0!==J.visible||Registry$F.traceIs(J,"notLegendIsolatable"))){$=!1;break}for(h=0;h<B.length;h++)if(!1!==(J=B[h]).visible&&J.legend===v&&!Registry$F.traceIs(J,"notLegendIsolatable"))switch(F.visible){case"legendonly":K(J,!0);break;case!0:Y=!!$||"legendonly",M=J===F,k=!0!==J.showlegend&&!J.legendgroup,K(J,!(!(M||X&&J.legendgroup===p)&&!k)||Y)}}for(h=0;h<C.length;h++)if(U=C[h]){var z=U.constructUpdate(),O=Object.keys(z);for(Q=0;Q<O.length;Q++)I=O[Q],(y[I]=y[I]||[])[f[h]]=z[I]}for(b=Object.keys(y),h=0;h<b.length;h++)for(I=b[h],Q=0;Q<m.length;Q++)y[I].hasOwnProperty(Q)||(y[I][Q]=void 0);A?Registry$F.call("_guiUpdate",e,y,{shapes:x},m):Registry$F.call("_guiRestyle",e,y,m)}}}}function K(t,e){if(!g.groupTitle||l){var i=t._fullInput||t,r=i._isShape,n=i.index;void 0===n&&(n=i._index);var a,s=!1!==i.visible&&e;r?(a=s,x[n].visible=a,A=!0):function(t,e){var i=m.indexOf(t),r=y.visible;r||(r=y.visible=[]),-1===m.indexOf(t)&&(m.push(t),i=m.length-1),r[i]=e}(n,s)}}},constants$E={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5},Registry$E=registry$1,helpers$v=helpers$x,get_legend_data=function(t,e,i){var r,n,a=e._inHover,s=helpers$v.isGrouped(e),o=helpers$v.isReversed(e),l={},c=[],g=!1,d={},u=0,B=0;function F(t,r,n){if(!1!==e.visible&&(!i||t===e._id))if(""!==r&&helpers$v.isGrouped(e))-1===c.indexOf(r)?(c.push(r),g=!0,l[r]=[n]):l[r].push(n);else{var a="~~i"+u;c.push(a),l[a]=[n],u++}}for(r=0;r<t.length;r++){var h=t[r],Q=h[0],U=Q.trace,I=U.legend,b=U.legendgroup;if(a||U.visible&&U.showlegend)if(Registry$E.traceIs(U,"pie-like"))for(d[b]||(d[b]={}),n=0;n<h.length;n++){var p=h[n].label;d[b][p]||(F(I,b,{label:p,color:h[n].color,i:h[n].i,trace:U,pts:h[n].pts}),d[b][p]=!0,B=Math.max(B,(p||"").length))}else F(I,b,Q),B=Math.max(B,(U.name||"").length)}if(!c.length)return[];var y=!g||!s,m=[];for(r=0;r<c.length;r++){var C=l[c[r]];y?m.push(C[0]):m.push(C)}for(y&&(m=[m]),r=0;r<m.length;r++){var f=1/0;for(n=0;n<m[r].length;n++){var x=m[r][n].trace.legendrank;f>x&&(f=x)}m[r][0]._groupMinRank=f,m[r][0]._preGroupSort=r}var A=function(t,e){return t.trace.legendrank-e.trace.legendrank||t._preSort-e._preSort};for(m.forEach(function(t,e){t[0]._preGroupSort=e}),m.sort(function(t,e){return t[0]._groupMinRank-e[0]._groupMinRank||t[0]._preGroupSort-e[0]._preGroupSort}),r=0;r<m.length;r++){m[r].forEach(function(t,e){t._preSort=e}),m[r].sort(A);var v=m[r][0].trace,L=null;for(n=0;n<m[r].length;n++){var R=m[r][n].trace.legendgrouptitle;if(R&&R.text){L=R,a&&(R.font=e._groupTitleFont);break}}if(o&&m[r].reverse(),L){var S=!1;for(n=0;n<m[r].length;n++)if(Registry$E.traceIs(m[r][n].trace,"pie-like")){S=!0;break}m[r].unshift({i:-1,groupTitle:L,noClick:S,trace:{showlegend:v.showlegend,legendgroup:v.legendgroup,visible:"toggleitem"===e.groupclick||v.visible}})}for(n=0;n<m[r].length;n++)m[r][n]=[m[r][n]]}return e._lgroupsLength=m.length,e._maxNameLength=B,m},helpers$u={};!function(t){var e=libExports;function i(t){return-1!==t.indexOf("e")?t.replace(/[.]?0+e/,"e"):-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}t.formatPiePercent=function(t,r){var n=i((100*t).toPrecision(3));return e.numSeparate(n,r)+"%"},t.formatPieValue=function(t,r){var n=i(t.toPrecision(10));return e.numSeparate(n,r)},t.getFirstFilled=function(t,i){if(e.isArrayOrTypedArray(t))for(var r=0;r<i.length;r++){var n=t[i[r]];if(n||0===n||""===n)return n}},t.castOption=function(i,r){return e.isArrayOrTypedArray(i)?t.getFirstFilled(i,r):i||void 0},t.getRotationAngle=function(t){return("auto"===t?0:t)*Math.PI/180}}(helpers$u);var Drawing$m=drawingExports,Color$w=colorExports,fill_one=function(t,e,i,r){var n=i.marker.pattern;n&&n.shape?Drawing$m.pointStyle(t,i,r,e):Color$w.fill(t,e.color)},Color$v=colorExports,castOption=helpers$u.castOption,fillOne=fill_one,style_one=function(t,e,i,r){var n=i.marker.line,a=castOption(n.color,e.pts)||Color$v.defaultLine,s=castOption(n.width,e.pts)||0;t.call(fillOne,e,i,r).style("stroke-width",s).call(Color$v.stroke,a)},d3$l=d3Exports,Registry$D=registry$1,Lib$1j=libExports,strTranslate$9=Lib$1j.strTranslate,Drawing$l=drawingExports,Color$u=colorExports,extractOpts$1=helpers$A.extractOpts,subTypes$6=subtypes$3,stylePie=style_one,pieCastOption=helpers$u.castOption,constants$D=constants$E,CST_MARKER_SIZE=12,CST_LINE_WIDTH=5,CST_MARKER_LINE_WIDTH=2,MAX_LINE_WIDTH=10,MAX_MARKER_LINE_WIDTH=5,style$5=function(t,e,i){var r=e._fullLayout;i||(i=r.legend);var n="constant"===i.itemsizing,a=i.itemwidth,s=(a+2*constants$D.itemGap)/2,o=strTranslate$9(s,0),l=function(t,e,i,r){var a;if(t+1)a=t;else{if(!(e&&e.width>0))return 0;a=e.width}return n?r:Math.min(a,i)};function c(t,r,n){var a=t[0].trace,s=a.marker||{},c=s.line||{},g=s.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",d=n?a.visible&&a.type===n:Registry$D.traceIs(a,"bar"),u=d3$l.select(r).select("g.legendpoints").selectAll("path.legend"+n).data(d?[t]:[]);u.enter().append("path").classed("legend"+n,!0).attr("d",g).attr("transform",o),u.exit().remove(),u.each(function(t){var r=d3$l.select(this),n=t[0],o=l(n.mlw,s.line,MAX_MARKER_LINE_WIDTH,CST_MARKER_LINE_WIDTH);r.style("stroke-width",o+"px");var g=n.mcc;if(!i._inHover&&"mc"in n){var d=extractOpts$1(s),u=d.mid;void 0===u&&(u=(d.max+d.min)/2),g=Drawing$l.tryColorscale(s,"")(u)}var B=g||n.mc||s.color,F=s.pattern,h=Drawing$l.getPatternAttr,Q=F&&(h(F.shape,0,"")||h(F.path,0,""));if(Q){var U=h(F.bgcolor,0,null),I=h(F.fgcolor,0,null),b=F.fgopacity,p=dimAttr(F.size,8,10),y=dimAttr(F.solidity,.5,1),m="legend-"+a.uid;r.call(Drawing$l.pattern,"legend",e,m,Q,p,y,g,F.fillmode,U,I,b)}else r.call(Color$u.fill,B);o&&Color$u.stroke(r,n.mlc||c.color)})}function g(t,i,r){var n=t[0],a=n.trace,s=r?a.visible&&a.type===r:Registry$D.traceIs(a,r),c=d3$l.select(i).select("g.legendpoints").selectAll("path.legend"+r).data(s?[t]:[]);if(c.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",o),c.exit().remove(),c.size()){var g=a.marker||{},d=l(pieCastOption(g.line.width,n.pts),g.line,MAX_MARKER_LINE_WIDTH,CST_MARKER_LINE_WIDTH),u="pieLike",B=Lib$1j.minExtend(a,{marker:{line:{width:d}}},u),F=Lib$1j.minExtend(n,{trace:B},u);stylePie(c,F,B,e)}}t.each(function(t){var e=d3$l.select(this),r=Lib$1j.ensureSingle(e,"g","layers");r.style("opacity",t[0].trace.opacity);var n=i.indentation,a=i.valign,s=t[0].lineHeight,o=t[0].height;if("middle"===a&&0===n||!s||!o)r.attr("transform",null);else{var l={top:1,bottom:-1}[a]*(.5*(s-o+3))||0,c=i.indentation;r.attr("transform",strTranslate$9(c,l))}r.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),r.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var g=r.selectAll("g.legendsymbols").data([t]);g.enter().append("g").classed("legendsymbols",!0),g.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(function(t){var i,r=t[0].trace,n=[];if(r.visible)switch(r.type){case"histogram2d":case"heatmap":n=[["M-15,-2V4H15V-2Z"]],i=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":n=[["M-6,-6V6H6V-6Z"]],i=!0;break;case"densitymapbox":case"densitymap":n=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],i="radial";break;case"cone":n=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],i=!1;break;case"streamtube":n=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],i=!1;break;case"surface":n=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],i=!0;break;case"mesh3d":n=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],i=!1;break;case"volume":n=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],i=!0;break;case"isosurface":n=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],i=!1}var a=d3$l.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(n);a.enter().append("path").classed("legend3dandfriends",!0).attr("transform",o).style("stroke-miterlimit",1),a.exit().remove(),a.each(function(t,n){var a,s=d3$l.select(this),o=extractOpts$1(r),l=o.colorscale,c=o.reversescale;if(l){if(!i){var g=l.length;a=0===n?l[c?g-1:0][1]:1===n?l[c?0:g-1][1]:l[Math.floor((g-1)/2)][1]}}else{var d=r.vertexcolor||r.facecolor||r.color;a=Lib$1j.isArrayOrTypedArray(d)?d[n]||d[0]:d}s.attr("d",t[0]),a?s.call(Color$u.fill,a):s.call(function(t){if(t.size()){var n="legendfill-"+r.uid;Drawing$l.gradient(t,e,n,getGradientDirection(c,"radial"===i),l,"fill")}})})}).each(function(t){var e=t[0].trace,i="waterfall"===e.type;if(t[0]._distinct&&i){var r=t[0].trace[t[0].dir].marker;return t[0].mc=r.color,t[0].mlw=r.line.width,t[0].mlc=r.line.color,c(t,this,"waterfall")}var n=[];e.visible&&i&&(n=t[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var a=d3$l.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(n);a.enter().append("path").classed("legendwaterfall",!0).attr("transform",o).style("stroke-miterlimit",1),a.exit().remove(),a.each(function(t){var i=d3$l.select(this),r=e[t[0]].marker,n=l(void 0,r.line,MAX_MARKER_LINE_WIDTH,CST_MARKER_LINE_WIDTH);i.attr("d",t[1]).style("stroke-width",n+"px").call(Color$u.fill,r.color),n&&i.call(Color$u.stroke,r.line.color)})}).each(function(t){c(t,this,"funnel")}).each(function(t){c(t,this)}).each(function(t){var i=t[0].trace,r=d3$l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(i.visible&&Registry$D.traceIs(i,"box-violin")?[t]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",o),r.exit().remove(),r.each(function(){var t=d3$l.select(this);if("all"!==i.boxpoints&&"all"!==i.points||0!==Color$u.opacity(i.fillcolor)||0!==Color$u.opacity((i.line||{}).color)){var a=l(void 0,i.line,MAX_MARKER_LINE_WIDTH,CST_MARKER_LINE_WIDTH);t.style("stroke-width",a+"px").call(Color$u.fill,i.fillcolor),a&&Color$u.stroke(t,i.line.color)}else{var s=Lib$1j.minExtend(i,{marker:{size:n?CST_MARKER_SIZE:Lib$1j.constrain(i.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});r.call(Drawing$l.pointStyle,s,e)}})}).each(function(t){g(t,this,"funnelarea")}).each(function(t){g(t,this,"pie")}).each(function(t){var i,r,n=getStyleGuide(t),s=n.showFill,o=n.showLine,c=n.showGradientLine,g=n.showGradientFill,d=n.anyFill,u=n.anyLine,B=t[0],F=B.trace,h=extractOpts$1(F),Q=h.colorscale,U=h.reversescale,I=function(t){if(t.size())if(s)Drawing$l.fillGroupStyle(t,e,!0);else{var i="legendfill-"+F.uid;Drawing$l.gradient(t,e,i,getGradientDirection(U),Q,"fill")}},b=subTypes$6.hasMarkers(F)||!d?"M5,0":u?"M5,-2":"M5,-3",p=d3$l.select(this),y=p.select(".legendfill").selectAll("path").data(s||g?[t]:[]);if(y.enter().append("path").classed("js-fill",!0),y.exit().remove(),y.attr("d",b+"h"+a+"v6h-"+a+"z").call(I),o||c){var m=l(void 0,F.line,MAX_LINE_WIDTH,CST_LINE_WIDTH);r=Lib$1j.minExtend(F,{line:{width:m}}),i=[Lib$1j.minExtend(B,{trace:r})]}var C=p.select(".legendlines").selectAll("path").data(o||c?[i]:[]);C.enter().append("path").classed("js-line",!0),C.exit().remove(),C.attr("d",b+(c?"l"+a+",0.0001":"h"+a)).call(o?Drawing$l.lineGroupStyle:function(t){if(t.size()){var i="legendline-"+F.uid;Drawing$l.lineGroupStyle(t),Drawing$l.gradient(t,e,i,getGradientDirection(U),Q,"stroke")}})}).each(function(t){var i,r,a=getStyleGuide(t),s=a.anyFill,l=a.anyLine,c=a.showLine,g=a.showMarker,d=t[0],u=d.trace,B=!g&&!l&&!s&&subTypes$6.hasText(u);function F(t,e,i,r){var a=Lib$1j.nestedProperty(u,t).get(),s=Lib$1j.isArrayOrTypedArray(a)&&e?e(a):a;if(n&&s&&void 0!==r&&(s=r),i){if(s<i[0])return i[0];if(s>i[1])return i[1]}return s}function h(t){return d._distinct&&d.index&&t[d.index]?t[d.index]:t[0]}if(g||B||c){var Q={},U={};if(g){Q.mc=F("marker.color",h),Q.mx=F("marker.symbol",h),Q.mo=F("marker.opacity",Lib$1j.mean,[.2,1]),Q.mlc=F("marker.line.color",h),Q.mlw=F("marker.line.width",Lib$1j.mean,[0,5],CST_MARKER_LINE_WIDTH),U.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var I=F("marker.size",Lib$1j.mean,[2,16],CST_MARKER_SIZE);Q.ms=I,U.marker.size=I}c&&(U.line={width:F("line.width",h,[0,10],CST_LINE_WIDTH)}),B&&(Q.tx="Aa",Q.tp=F("textposition",h),Q.ts=10,Q.tc=F("textfont.color",h),Q.tf=F("textfont.family",h),Q.tw=F("textfont.weight",h),Q.ty=F("textfont.style",h),Q.tv=F("textfont.variant",h),Q.tC=F("textfont.textcase",h),Q.tE=F("textfont.lineposition",h),Q.tS=F("textfont.shadow",h)),i=[Lib$1j.minExtend(d,Q)],(r=Lib$1j.minExtend(u,U)).selectedpoints=null,r.texttemplate=null}var b=d3$l.select(this).select("g.legendpoints"),p=b.selectAll("path.scatterpts").data(g?i:[]);p.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",o),p.exit().remove(),p.call(Drawing$l.pointStyle,r,e),g&&(i[0].mrc=3);var y=b.selectAll("g.pointtext").data(B?i:[]);y.enter().append("g").classed("pointtext",!0).append("text").attr("transform",o),y.exit().remove(),y.selectAll("text").call(Drawing$l.textPointStyle,r,e)}).each(function(t){var e=t[0].trace,i=d3$l.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(e.visible&&"candlestick"===e.type?[t,t]:[]);i.enter().append("path").classed("legendcandle",!0).attr("d",function(t,e){return e?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",o).style("stroke-miterlimit",1),i.exit().remove(),i.each(function(t,i){var r=d3$l.select(this),n=e[i?"increasing":"decreasing"],a=l(void 0,n.line,MAX_MARKER_LINE_WIDTH,CST_MARKER_LINE_WIDTH);r.style("stroke-width",a+"px").call(Color$u.fill,n.fillcolor),a&&Color$u.stroke(r,n.line.color)})}).each(function(t){var e=t[0].trace,i=d3$l.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(e.visible&&"ohlc"===e.type?[t,t]:[]);i.enter().append("path").classed("legendohlc",!0).attr("d",function(t,e){return e?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",o).style("stroke-miterlimit",1),i.exit().remove(),i.each(function(t,i){var r=d3$l.select(this),n=e[i?"increasing":"decreasing"],a=l(void 0,n.line,MAX_MARKER_LINE_WIDTH,CST_MARKER_LINE_WIDTH);r.style("fill","none").call(Drawing$l.dashLine,n.line.dash,a),a&&Color$u.stroke(r,n.line.color)})})};function getGradientDirection(t,e){return(e?"radial":"horizontal")+(t?"":"reversed")}function getStyleGuide(t){var e=t[0].trace,i=e.contours,r=subTypes$6.hasLines(e),n=subTypes$6.hasMarkers(e),a=e.visible&&e.fill&&"none"!==e.fill,s=!1,o=!1;if(i){var l=i.coloring;"lines"===l?s=!0:r="none"===l||"heatmap"===l||i.showlines,"constraint"===i.type?a="="!==i._operation:"fill"!==l&&"heatmap"!==l||(o=!0)}return{showMarker:n,showLine:r,showFill:a,showGradientLine:s,showGradientFill:o,anyLine:r||s,anyFill:a||o}}function dimAttr(t,e,i){return t&&Lib$1j.isArrayOrTypedArray(t)?e:t>i?i:t}var d3$k=d3Exports,Lib$1i=libExports,Plots$a=plotsExports,Registry$C=registry$1,Events$1=events,dragElement$7=dragelementExports,Drawing$k=drawingExports,Color$t=colorExports,svgTextUtils$a=svg_text_utils,handleClick=handle_click,constants$C=constants$E,alignmentConstants$3=alignment$1,LINE_SPACING$5=alignmentConstants$3.LINE_SPACING,FROM_TL$5=alignmentConstants$3.FROM_TL,FROM_BR$3=alignmentConstants$3.FROM_BR,getLegendData=get_legend_data,style$4=style$5,helpers$t=helpers$x,MAIN_TITLE=1,LEGEND_PATTERN=/^legend[0-9]*$/,draw$b=function(t,e){if(e)drawOne$3(t,e);else{var i=t._fullLayout,r=i._legends;i._infolayer.selectAll('[class^="legend"]').each(function(){var t=d3$k.select(this),e=t.attr("class").split(" ")[0];e.match(LEGEND_PATTERN)&&-1===r.indexOf(e)&&t.remove()});for(var n=0;n<r.length;n++){var a=r[n];drawOne$3(t,t._fullLayout[a])}}};function horizontalAlignTitle(t,e,i){if("top center"===e.title.side||"top right"===e.title.side){var r=e.title.font.size*LINE_SPACING$5,n=0,a=t.node(),s=Drawing$k.bBox(a).width;"top center"===e.title.side?n=.5*(e._width-2*i-2*constants$C.titlePad-s):"top right"===e.title.side&&(n=e._width-2*i-2*constants$C.titlePad-s),svgTextUtils$a.positionText(t,i+constants$C.titlePad+n,i+r)}}function drawOne$3(t,e){var i,r,n=e||{},a=t._fullLayout,s=getId(n),o=n._inHover;if(o?(r=n.layer,i="hover"):(r=a._infolayer,i=s),r){var l;if(i+=a._uid,t._legendMouseDownTime||(t._legendMouseDownTime=0),o){if(!n.entries)return;l=getLegendData(n.entries,n)}else{for(var c=(t.calcdata||[]).slice(),g=a.shapes,d=0;d<g.length;d++){var u=g[d];if(u.showlegend){var B={_isShape:!0,_fullInput:u,index:u._index,name:u.name||u.label.text||"shape "+u._index,legend:u.legend,legendgroup:u.legendgroup,legendgrouptitle:u.legendgrouptitle,legendrank:u.legendrank,legendwidth:u.legendwidth,showlegend:u.showlegend,visible:u.visible,opacity:u.opacity,mode:"line"===u.type?"lines":"markers",line:u.line,marker:{line:u.line,color:u.fillcolor,size:12,symbol:"rect"===u.type?"square":"circle"===u.type?"circle":"hexagon2"}};c.push([{trace:B}])}}l=a.showlegend&&getLegendData(c,n,a._legends.length>1)}var F=a.hiddenlabels||[];if(!(o||a.showlegend&&l.length))return r.selectAll("."+s).remove(),a._topdefs.select("#"+i).remove(),Plots$a.autoMargin(t,s);var h=Lib$1i.ensureSingle(r,"g",s,function(t){o||t.attr("pointer-events","all")}),Q=Lib$1i.ensureSingleById(a._topdefs,"clipPath",i,function(t){t.append("rect")}),U=Lib$1i.ensureSingle(h,"rect","bg",function(t){t.attr("shape-rendering","crispEdges")});U.call(Color$t.stroke,n.bordercolor).call(Color$t.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px");var I,b=Lib$1i.ensureSingle(h,"g","scrollbox"),p=n.title;n._titleWidth=0,n._titleHeight=0,p.text?((I=Lib$1i.ensureSingle(b,"text",s+"titletext")).attr("text-anchor","start").call(Drawing$k.font,p.font).text(p.text),textLayout(I,b,t,n,MAIN_TITLE)):b.selectAll("."+s+"titletext").remove();var y=Lib$1i.ensureSingle(h,"rect","scrollbar",function(t){t.attr(constants$C.scrollBarEnterAttrs).call(Color$t.fill,constants$C.scrollBarColor)}),m=b.selectAll("g.groups").data(l);m.enter().append("g").attr("class","groups"),m.exit().remove();var C=m.selectAll("g.traces").data(Lib$1i.identity);C.enter().append("g").attr("class","traces"),C.exit().remove(),C.style("opacity",function(t){var e=t[0].trace;return Registry$C.traceIs(e,"pie-like")?-1!==F.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1}).each(function(){d3$k.select(this).call(drawTexts,t,n)}).call(style$4,t,n).each(function(){o||d3$k.select(this).call(setupTraceToggle,t,s)}),Lib$1i.syncOrAsync([Plots$a.previousPromises,function(){return computeLegendDimensions(t,m,C,n)},function(){var e,l,c,g,d=a._size,u=n.borderwidth,B="paper"===n.xref,F="paper"===n.yref;if(p.text&&horizontalAlignTitle(I,n,u),!o){var m,C;if(m=B?d.l+d.w*n.x-FROM_TL$5[getXanchor(n)]*n._width:a.width*n.x-FROM_TL$5[getXanchor(n)]*n._width,C=F?d.t+d.h*(1-n.y)-FROM_TL$5[getYanchor(n)]*n._effHeight:a.height*(1-n.y)-FROM_TL$5[getYanchor(n)]*n._effHeight,expandMargin(t,s,m,C))return;if(a.margin.autoexpand){var f=m,x=C;m=B?Lib$1i.constrain(m,0,a.width-n._width):f,C=F?Lib$1i.constrain(C,0,a.height-n._effHeight):x,m!==f&&Lib$1i.log("Constrain "+s+".x to make legend fit inside graph"),C!==x&&Lib$1i.log("Constrain "+s+".y to make legend fit inside graph")}Drawing$k.setTranslate(h,m,C)}if(y.on(".drag",null),h.on("wheel",null),o||n._height<=n._maxHeight||t._context.staticPlot){var A=n._effHeight;o&&(A=n._height),U.attr({width:n._width-u,height:A-u,x:u/2,y:u/2}),Drawing$k.setTranslate(b,0,0),Q.select("rect").attr({width:n._width-2*u,height:A-2*u,x:u,y:u}),Drawing$k.setClipUrl(b,i,t),Drawing$k.setRect(y,0,0,0,0),delete n._scrollY}else{var v,L,R,S=Math.max(constants$C.scrollBarMinHeight,n._effHeight*n._effHeight/n._height),G=n._effHeight-S-2*constants$C.scrollBarMargin,E=n._height-n._effHeight,V=G/E,Z=Math.min(n._scrollY||0,E);U.attr({width:n._width-2*u+constants$C.scrollBarWidth+constants$C.scrollBarMargin,height:n._effHeight-u,x:u/2,y:u/2}),Q.select("rect").attr({width:n._width-2*u+constants$C.scrollBarWidth+constants$C.scrollBarMargin,height:n._effHeight-2*u,x:u,y:u+Z}),Drawing$k.setClipUrl(b,i,t),w(Z,S,V),h.on("wheel",function(){w(Z=Lib$1i.constrain(n._scrollY+d3$k.event.deltaY/G*E,0,E),S,V),0!==Z&&Z!==E&&d3$k.event.preventDefault()});var N=d3$k.behavior.drag().on("dragstart",function(){var t=d3$k.event.sourceEvent;v="touchstart"===t.type?t.changedTouches[0].clientY:t.clientY,R=Z}).on("drag",function(){var t=d3$k.event.sourceEvent;2===t.buttons||t.ctrlKey||(L="touchmove"===t.type?t.changedTouches[0].clientY:t.clientY,Z=function(t,e,i){var r=(i-e)/V+t;return Lib$1i.constrain(r,0,E)}(R,v,L),w(Z,S,V))});y.call(N);var D=d3$k.behavior.drag().on("dragstart",function(){var t=d3$k.event.sourceEvent;"touchstart"===t.type&&(v=t.changedTouches[0].clientY,R=Z)}).on("drag",function(){var t=d3$k.event.sourceEvent;"touchmove"===t.type&&(L=t.changedTouches[0].clientY,Z=function(t,e,i){var r=(e-i)/V+t;return Lib$1i.constrain(r,0,E)}(R,v,L),w(Z,S,V))});b.call(D)}function w(e,i,r){n._scrollY=t._fullLayout[s]._scrollY=e,Drawing$k.setTranslate(b,0,-e),Drawing$k.setRect(y,n._width,constants$C.scrollBarMargin+e*r,constants$C.scrollBarWidth,i),Q.select("rect").attr("y",u+e)}t._context.edits.legendPosition&&(h.classed("cursor-move",!0),dragElement$7.init({element:h.node(),gd:t,prepFn:function(t){if(t.target!==y.node()){var e=Drawing$k.getTranslate(h);c=e.x,g=e.y}},moveFn:function(t,i){if(void 0!==c&&void 0!==g){var r=c+t,a=g+i;Drawing$k.setTranslate(h,r,a),e=dragElement$7.align(r,n._width,d.l,d.l+d.w,n.xanchor),l=dragElement$7.align(a+n._height,-n._height,d.t+d.h,d.t,n.yanchor)}},doneFn:function(){if(void 0!==e&&void 0!==l){var i={};i[s+".x"]=e,i[s+".y"]=l,Registry$C.call("_guiRelayout",t,i)}},clickFn:function(e,i){var n=r.selectAll("g.traces").filter(function(){var t=this.getBoundingClientRect();return i.clientX>=t.left&&i.clientX<=t.right&&i.clientY>=t.top&&i.clientY<=t.bottom});n.size()>0&&clickOrDoubleClick(t,h,n,e,i)}}))}],t)}}function getTraceWidth(t,e,i){var r=t[0],n=r.width,a=e.entrywidthmode,s=r.trace.legendwidth||e.entrywidth;return"fraction"===a?e._maxWidth*s:i+(s||n)}function clickOrDoubleClick(t,e,i,r,n){var a=i.data()[0][0].trace,s={event:n,node:i.node(),curveNumber:a.index,expandedIndex:a.index,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};a._group&&(s.group=a._group),Registry$C.traceIs(a,"pie-like")&&(s.label=i.datum()[0].label);var o=Events$1.triggerHandler(t,"plotly_legendclick",s);if(1===r){if(!1===o)return;e._clickTimeout=setTimeout(function(){t._fullLayout&&handleClick(i,t,r)},t._context.doubleClickDelay)}else if(2===r){e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0,!1!==Events$1.triggerHandler(t,"plotly_legenddoubleclick",s)&&!1!==o&&handleClick(i,t,r)}}function drawTexts(t,e,i){var r,n,a=getId(i),s=t.data()[0][0],o=s.trace,l=Registry$C.traceIs(o,"pie-like"),c=!i._inHover&&e._context.edits.legendText&&!l,g=i._maxNameLength;s.groupTitle?(r=s.groupTitle.text,n=s.groupTitle.font):(n=i.font,i.entries?r=s.text:(r=l?s.label:o.name,o._meta&&(r=Lib$1i.templateString(r,o._meta))));var d=Lib$1i.ensureSingle(t,"text",a+"text");d.attr("text-anchor","start").call(Drawing$k.font,n).text(c?ensureLength(r,g):r);var u=i.indentation+i.itemwidth+2*constants$C.itemGap;svgTextUtils$a.positionText(d,u,0),c?d.call(svgTextUtils$a.makeEditable,{gd:e,text:r}).call(textLayout,t,e,i).on("edit",function(r){this.text(ensureLength(r,g)).call(textLayout,t,e,i);var n=s.trace._fullInput||{},a={};return a.name=r,n._isShape?Registry$C.call("_guiRelayout",e,"shapes["+o.index+"].name",a.name):Registry$C.call("_guiRestyle",e,a,o.index)}):textLayout(d,t,e,i)}function ensureLength(t,e){var i=Math.max(4,e);if(t&&t.trim().length>=i/2)return t;for(var r=i-(t=t||"").length;r>0;r--)t+=" ";return t}function setupTraceToggle(t,e,i){var r,n=e._context.doubleClickDelay,a=1,s=Lib$1i.ensureSingle(t,"rect",i+"toggle",function(t){e._context.staticPlot||t.style("cursor","pointer").attr("pointer-events","all"),t.call(Color$t.fill,"rgba(0,0,0,0)")});e._context.staticPlot||(s.on("mousedown",function(){(r=(new Date).getTime())-e._legendMouseDownTime<n?a+=1:(a=1,e._legendMouseDownTime=r)}),s.on("mouseup",function(){if(!e._dragged&&!e._editing){var r=e._fullLayout[i];(new Date).getTime()-e._legendMouseDownTime>n&&(a=Math.max(a-1,1)),clickOrDoubleClick(e,r,t,a,d3$k.event)}}))}function textLayout(t,e,i,r,n){r._inHover&&t.attr("data-notex",!0),svgTextUtils$a.convertToTspans(t,i,function(){computeTextDimensions(e,i,r,n)})}function computeTextDimensions(t,e,i,r){var n=t.data()[0][0];if(i._inHover||!n||n.trace.showlegend){var a=t.select("g[class*=math-group]"),s=a.node(),o=getId(i);i||(i=e._fullLayout[o]);var l,c,g=i.borderwidth,d=(r===MAIN_TITLE?i.title.font:n.groupTitle?n.groupTitle.font:i.font).size*LINE_SPACING$5;if(s){var u=Drawing$k.bBox(s);l=u.height,c=u.width,r===MAIN_TITLE?Drawing$k.setTranslate(a,g,g+.75*l):Drawing$k.setTranslate(a,0,.25*l)}else{var B="."+o+(r===MAIN_TITLE?"title":"")+"text",F=t.select(B),h=svgTextUtils$a.lineCount(F),Q=F.node();if(l=d*h,c=Q?Drawing$k.bBox(Q).width:0,r===MAIN_TITLE)"left"===i.title.side&&(c+=2*constants$C.itemGap),svgTextUtils$a.positionText(F,g+constants$C.titlePad,g+d);else{var U=2*constants$C.itemGap+i.indentation+i.itemwidth;n.groupTitle&&(U=constants$C.itemGap,c-=i.indentation+i.itemwidth),svgTextUtils$a.positionText(F,U,-d*((h-1)/2-.3))}}r===MAIN_TITLE?(i._titleWidth=c,i._titleHeight=l):(n.lineHeight=d,n.height=Math.max(l,16)+3,n.width=c)}else t.remove()}function getTitleSize(t){var e=0,i=0,r=t.title.side;return r&&(-1!==r.indexOf("left")&&(e=t._titleWidth),-1!==r.indexOf("top")&&(i=t._titleHeight)),[e,i]}function computeLegendDimensions(t,e,i,r){var n=t._fullLayout,a=getId(r);r||(r=n[a]);var s=n._size,o=helpers$t.isVertical(r),l=helpers$t.isGrouped(r),c="fraction"===r.entrywidthmode,g=r.borderwidth,d=2*g,u=constants$C.itemGap,B=r.indentation+r.itemwidth+2*u,F=2*(g+u),h=getYanchor(r),Q=r.y<0||0===r.y&&"top"===h,U=r.y>1||1===r.y&&"bottom"===h,I=r.tracegroupgap,b={};const{orientation:p,yref:y}=r;let{maxheight:m}=r;const C=Q||U||"v"!==p||"paper"!==y;m||=C?.5:1;const f=C?n.height:s.h;r._maxHeight=Math.max(m>1?m:m*f,30);var x=0;r._width=0,r._height=0;var A=getTitleSize(r);if(o)i.each(function(t){var e=t[0].height;Drawing$k.setTranslate(this,g+A[0],g+A[1]+r._height+e/2+u),r._height+=e,r._width=Math.max(r._width,t[0].width)}),x=B+r._width,r._width+=u+B+d,r._height+=F,l&&(e.each(function(t,e){Drawing$k.setTranslate(this,0,e*r.tracegroupgap)}),r._height+=(r._lgroupsLength-1)*r.tracegroupgap);else{var v=getXanchor(r),L=r.x<0||0===r.x&&"right"===v,R=r.x>1||1===r.x&&"left"===v,S=U||Q,G=n.width/2;r._maxWidth=Math.max(L?S&&"left"===v?s.l+s.w:G:R?S&&"right"===v?s.r+s.w:G:s.w,2*B);var E=0,V=0;i.each(function(t){var e=getTraceWidth(t,r,B);E=Math.max(E,e),V+=e}),x=null;var Z=0;if(l){var N=0,D=0,w=0;e.each(function(){var t=0,e=0;d3$k.select(this).selectAll("g.traces").each(function(i){var n=getTraceWidth(i,r,B),a=i[0].height;Drawing$k.setTranslate(this,A[0],A[1]+g+u+a/2+e),e+=a,t=Math.max(t,n),b[i[0].trace.legendgroup]=t});var i=t+u;D>0&&i+g+D>r._maxWidth?(Z=Math.max(Z,D),D=0,w+=N+I,N=e):N=Math.max(N,e),Drawing$k.setTranslate(this,D,w),D+=i}),r._width=Math.max(Z,D)+g,r._height=w+N+F}else{var X=i.size(),W=V+d+(X-1)*u<r._maxWidth,H=0,T=0,M=0,k=0;i.each(function(t){var e=t[0].height,i=getTraceWidth(t,r,B),n=W?i:E;c||(n+=u),n+g+T-u>=r._maxWidth&&(Z=Math.max(Z,k),T=0,M+=H,r._height+=H,H=0),Drawing$k.setTranslate(this,A[0]+g+T,A[1]+g+M+e/2+u),k=T+i+u,T+=n,H=Math.max(H,e)}),W?(r._width=T+d,r._height=H+F):(r._width=Math.max(Z,k)+d,r._height+=H+F)}}r._width=Math.ceil(Math.max(r._width+A[0],r._titleWidth+2*(g+constants$C.titlePad))),r._height=Math.ceil(Math.max(r._height+A[1],r._titleHeight+2*(g+constants$C.itemGap))),r._effHeight=Math.min(r._height,r._maxHeight);var Y=t._context.edits,J=Y.legendText||Y.legendPosition;i.each(function(t){var e=d3$k.select(this).select("."+a+"toggle"),i=t[0].height,n=t[0].trace.legendgroup,s=getTraceWidth(t,r,B);l&&""!==n&&(s=b[n]);var g=J?B:x||s;o||c||(g+=u/2),Drawing$k.setRect(e,0,-i/2,g,i)})}function expandMargin(t,e,i,r){var n=t._fullLayout,a=n[e],s=getXanchor(a),o=getYanchor(a),l="paper"===a.xref,c="paper"===a.yref;t._fullLayout._reservedMargin[e]={};var g=a.y<.5?"b":"t",d=a.x<.5?"l":"r",u={r:n.width-i,l:i+a._width,b:n.height-r,t:r+a._effHeight};if(l&&c)return Plots$a.autoMargin(t,e,{x:a.x,y:a.y,l:a._width*FROM_TL$5[s],r:a._width*FROM_BR$3[s],b:a._effHeight*FROM_BR$3[o],t:a._effHeight*FROM_TL$5[o]});l?t._fullLayout._reservedMargin[e][g]=u[g]:c||"v"===a.orientation?t._fullLayout._reservedMargin[e][d]=u[d]:t._fullLayout._reservedMargin[e][g]=u[g]}function getXanchor(t){return Lib$1i.isRightAnchor(t)?"right":Lib$1i.isCenterAnchor(t)?"center":"left"}function getYanchor(t){return Lib$1i.isBottomAnchor(t)?"bottom":Lib$1i.isMiddleAnchor(t)?"middle":"top"}function getId(t){return t._id||"legend"}var d3$j=d3Exports,isNumeric$g=fastIsnumeric,tinycolor$4=tinycolorExports,Lib$1h=libExports,pushUnique=Lib$1h.pushUnique,strTranslate$8=Lib$1h.strTranslate,strRotate$1=Lib$1h.strRotate,Events=events,svgTextUtils$9=svg_text_utils,overrideCursor=override_cursor,Drawing$j=drawingExports,Color$s=colorExports,dragElement$6=dragelementExports,Axes$l=axesExports,zindexSeparator$1=constants$K.zindexSeparator,Registry$B=registry$1,helpers$s=helpers$y,constants$B=constants$M,legendSupplyDefaults=defaults$s,legendDraw=draw$b,YANGLE=constants$B.YANGLE,YA_RADIANS=Math.PI*YANGLE/180,YFACTOR=1/Math.sin(YA_RADIANS),YSHIFTX=Math.cos(YA_RADIANS),YSHIFTY=Math.sin(YA_RADIANS),HOVERARROWSIZE=constants$B.HOVERARROWSIZE,HOVERTEXTPAD=constants$B.HOVERTEXTPAD,multipleHoverPoints={box:!0,ohlc:!0,violin:!0,candlestick:!0},cartesianScatterPoints={scatter:!0,scattergl:!0,splom:!0};function distanceSort(t,e){return t.distance-e.distance}function _hover(t,e,i,r,n){i||(i="xy"),"string"==typeof i&&(i=i.split(zindexSeparator$1)[0]);var a,s,o,l=Array.isArray(i)?i:[i],c=t._fullLayout,g=c.hoversubplots,d=c._plots||[],u=d[i],B=c._has("cartesian"),F=e.hovermode||c.hovermode,h="x"===(F||"").charAt(0),Q="y"===(F||"").charAt(0);if(B&&(h||Q)&&"axis"===g)for(var U=l.length,I=0;I<U;I++)if(d[a=l[I]]){s=Axes$l.getFromId(t,a,"x"),o=Axes$l.getFromId(t,a,"y");var b=(h?s:o)._subplotsWith;if(b&&b.length)for(var p=0;p<b.length;p++)pushUnique(l,b[p])}if(u&&"single"!==g){var y=u.overlays.map(function(t){return t.id});l=l.concat(y)}for(var m=l.length,C=new Array(m),f=new Array(m),x=!1,A=0;A<m;A++)if(d[a=l[A]])x=!0,C[A]=d[a].xaxis,f[A]=d[a].yaxis;else{if(!c[a]||!c[a]._subplot)return void Lib$1h.warn("Unrecognized subplot: "+a);var v=c[a]._subplot;C[A]=v.xaxis,f[A]=v.yaxis}if(F&&!x&&(F="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(F)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return dragElement$6.unhoverRaw(t,e);var L=c.hoverdistance;-1===L&&(L=1/0);var R=c.spikedistance;-1===R&&(R=1/0);var S,G,E,V,Z,N,D,w,X,W,H,T,M,k=[],Y=[],J={hLinePoint:null,vLinePoint:null},$=!1;if(Array.isArray(e))for(F="array",E=0;E<e.length;E++)(Z=t.calcdata[e[E].curveNumber||0])&&(N=Z[0].trace,"skip"!==Z[0].trace.hoverinfo&&(Y.push(Z),"h"===N.orientation&&($=!0)));else{var z,O,K=t.calcdata.slice();for(K.sort(function(t,e){return(t[0].trace.zorder||0)-(e[0].trace.zorder||0)}),V=0;V<K.length;V++)Z=K[V],"skip"!==(N=Z[0].trace).hoverinfo&&helpers$s.isTraceInSubplots(N,l)&&(Y.push(Z),"h"===N.orientation&&($=!0));if(!n)z="xpx"in e?e.xpx:C[0]._length/2,O="ypx"in e?e.ypx:f[0]._length/2;else{if(!1===Events.triggerHandler(t,"plotly_beforehover",e))return;var _=n.getBoundingClientRect();z=e.clientX-_.left,O=e.clientY-_.top,c._calcInverseTransform(t);var P=Lib$1h.apply3DTransform(c._invTransform)(z,O);if(z=P[0],O=P[1],z<0||z>C[0]._length||O<0||O>f[0]._length)return dragElement$6.unhoverRaw(t,e)}if(e.pointerX=z+C[0]._offset,e.pointerY=O+f[0]._offset,S="xval"in e?helpers$s.flat(l,e.xval):helpers$s.p2c(C,z),G="yval"in e?helpers$s.flat(l,e.yval):helpers$s.p2c(f,O),!isNumeric$g(S[0])||!isNumeric$g(G[0]))return Lib$1h.warn("Fx.hover failed",e,t),dragElement$6.unhoverRaw(t,e)}var j=1/0;function q(i,r){for(V=0;V<Y.length;V++)if((Z=Y[V])&&Z[0]&&Z[0].trace&&!0===(N=Z[0].trace).visible&&0!==N._length&&-1===["carpet","contourcarpet"].indexOf(N._module.name)){if(X=F,helpers$s.isUnifiedHover(X)&&(X=X.charAt(0)),"splom"===N.type?D=l[w=0]:(D=helpers$s.getSubplot(N),w=l.indexOf(D)),T={cd:Z,trace:N,xa:C[w],ya:f[w],maxHoverDistance:L,maxSpikeDistance:R,index:!1,distance:Math.min(j,L),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:Color$s.defaultLine,name:N.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[D]&&(T.subplot=c[D]._subplot),c._splomScenes&&c._splomScenes[N.uid]&&(T.scene=c._splomScenes[N.uid]),"array"===X){var n=e[V];"pointNumber"in n?(T.index=n.pointNumber,X="closest"):(X="","xval"in n&&(W=n.xval,X="x"),"yval"in n&&(H=n.yval,X=X?"closest":"y"))}else void 0!==i&&void 0!==r?(W=i,H=r):(W=S[w],H=G[w]);if(M=k.length,0!==L)if(N._module&&N._module.hoverPoints){var a=N._module.hoverPoints(T,W,H,X,{finiteRange:!0,hoverLayer:c._hoverlayer,hoversubplots:g,gd:t});if(a)for(var s,o=0;o<a.length;o++)s=a[o],isNumeric$g(s.x0)&&isNumeric$g(s.y0)&&k.push(cleanPoint(s,F))}else Lib$1h.log("Unrecognized trace type in hover:",N);if("closest"===F&&k.length>M&&(k.splice(0,M),j=k[0].distance),B&&0!==R&&0===k.length){T.distance=R,T.index=!1;var d=N._module.hoverPoints(T,W,H,"closest",{hoverLayer:c._hoverlayer});if(d&&(d=d.filter(function(t){return t.spikeDistance<=R})),d&&d.length){var u,h=d.filter(function(t){return t.xa.showspikes&&"hovered data"!==t.xa.spikesnap});if(h.length){var Q=h[0];isNumeric$g(Q.x0)&&isNumeric$g(Q.y0)&&(u=et(Q),(!J.vLinePoint||J.vLinePoint.spikeDistance>u.spikeDistance)&&(J.vLinePoint=u))}var U=d.filter(function(t){return t.ya.showspikes&&"hovered data"!==t.ya.spikesnap});if(U.length){var I=U[0];isNumeric$g(I.x0)&&isNumeric$g(I.y0)&&(u=et(I),(!J.hLinePoint||J.hLinePoint.spikeDistance>u.spikeDistance)&&(J.hLinePoint=u))}}}}}function tt(t,e,i){for(var r,n=null,a=1/0,l=0;l<t.length;l++)s&&s._id!==t[l].xa._id||o&&o._id!==t[l].ya._id||(r=t[l].spikeDistance,i&&0===l&&(r=-1/0),r<=a&&r<=e&&(n=t[l],a=r));return n}function et(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}q();var it={fullLayout:c,container:c._hoverlayer,event:e};t._spikepoints;var rt={vLinePoint:J.vLinePoint,hLinePoint:J.hLinePoint};t._spikepoints=rt;var nt=function(){var t=k.filter(function(t){return s&&s._id===t.xa._id&&o&&o._id===t.ya._id}),e=k.filter(function(t){return!(s&&s._id===t.xa._id&&o&&o._id===t.ya._id)});t.sort(distanceSort),e.sort(distanceSort),k=orderRangePoints(k=t.concat(e),F)};nt();var at=F.charAt(0),st=("x"===at||"y"===at)&&k[0]&&cartesianScatterPoints[k[0].trace.type];if(B&&0!==R&&0!==k.length){var ot=k.filter(function(t){return t.ya.showspikes}),lt=tt(ot,R,st);J.hLinePoint=et(lt);var ct=k.filter(function(t){return t.xa.showspikes}),gt=tt(ct,R,st);J.vLinePoint=et(gt)}if(0===k.length){var dt=dragElement$6.unhoverRaw(t,e);return!B||null===J.hLinePoint&&null===J.vLinePoint||spikesChanged()&&createSpikelines(t,J,it),dt}if(B&&spikesChanged()&&createSpikelines(t,J,it),helpers$s.isXYhover(X)&&0!==k[0].length&&"splom"!==k[0].trace.type){var ut=k[0];k=multipleHoverPoints[ut.trace.type]?k.filter(function(t){return t.trace.index===ut.trace.index}):[ut];var Bt=k.length;q(getCoord("x",ut,c),getCoord("y",ut,c));var Ft,ht=[],Qt={},Ut=0,It=function(t){var e=multipleHoverPoints[t.trace.type]?hoverDataKey(t):t.trace.index;if(Qt[e]){var i=Qt[e]-1,r=ht[i];i>0&&Math.abs(t.distance)<Math.abs(r.distance)&&(ht[i]=t)}else Ut++,Qt[e]=Ut,ht.push(t)};for(Ft=0;Ft<Bt;Ft++)It(k[Ft]);for(Ft=k.length-1;Ft>Bt-1;Ft--)It(k[Ft]);k=ht,nt()}var bt=t._hoverdata,pt=[],yt=getTopOffset(t),mt=getLeftOffset(t);for(E=0;E<k.length;E++){var Ct=k[E],ft=helpers$s.makeEventData(Ct,Ct.trace,Ct.cd);if(!1!==Ct.hovertemplate){var xt=!1;Ct.cd[Ct.index]&&Ct.cd[Ct.index].ht&&(xt=Ct.cd[Ct.index].ht),Ct.hovertemplate=xt||Ct.trace.hovertemplate||!1}if(Ct.xa&&Ct.ya){var At=Ct.x0+Ct.xa._offset,vt=Ct.x1+Ct.xa._offset,Lt=Ct.y0+Ct.ya._offset,Rt=Ct.y1+Ct.ya._offset,St=Math.min(At,vt),Gt=Math.max(At,vt),Et=Math.min(Lt,Rt),Vt=Math.max(Lt,Rt);ft.bbox={x0:St+mt,x1:Gt+mt,y0:Et+yt,y1:Vt+yt}}Ct.eventData=[ft],pt.push(ft)}t._hoverdata=pt;var Zt="y"===F&&(Y.length>1||k.length>1)||"closest"===F&&$&&k.length>1,Nt=Color$s.combine(c.plot_bgcolor||Color$s.background,c.paper_bgcolor),Dt=createHoverText(k,{gd:t,hovermode:F,rotateLabels:Zt,bgColor:Nt,container:c._hoverlayer,outerContainer:c._paper.node(),commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance}),wt=Dt.hoverLabels;if(helpers$s.isUnifiedHover(F)||(hoverAvoidOverlaps(wt,Zt,c,Dt.commonLabelBoundingBox),alignHoverText(wt,Zt,c._invScaleX,c._invScaleY)),n&&n.tagName){var Xt=Registry$B.getComponentMethod("annotations","hasClickToShow")(t,pt);overrideCursor(d3$j.select(n),Xt?"pointer":"")}n&&!r&&hoverChanged(t,e,bt)&&(bt&&t.emit("plotly_unhover",{event:e,points:bt}),t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:C,yaxes:f,xvals:S,yvals:G}))}function hoverDataKey(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa?t.xa._id:"",t.ya?t.ya._id:""].join(",")}hover$4.hover=function(t,e,i,r){t=Lib$1h.getGraphDiv(t);var n=e.target;Lib$1h.throttle(t._fullLayout._uid+constants$B.HOVERID,constants$B.HOVERMINTIME,function(){_hover(t,e,i,r,n)})},hover$4.loneHover=function(t,e){var i=!0;Array.isArray(t)||(i=!1,t=[t]);var r=e.gd,n=getTopOffset(r),a=getLeftOffset(r),s=t.map(function(t){var i=t._x0||t.x0||t.x||0,s=t._x1||t.x1||t.x||0,o=t._y0||t.y0||t.y||0,l=t._y1||t.y1||t.y||0,c=t.eventData;if(c){var g=Math.min(i,s),d=Math.max(i,s),u=Math.min(o,l),B=Math.max(o,l),F=t.trace;if(Registry$B.traceIs(F,"gl3d")){var h=r._fullLayout[F.scene]._scene.container,Q=h.offsetLeft,U=h.offsetTop;g+=Q,d+=Q,u+=U,B+=U}c.bbox={x0:g+a,x1:d+a,y0:u+n,y1:B+n},e.inOut_bbox&&e.inOut_bbox.push(c.bbox)}else c=!1;return{color:t.color||Color$s.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,nameLength:t.nameLength,textAlign:t.textAlign,trace:t.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:t.hovertemplate||!1,hovertemplateLabels:t.hovertemplateLabels||!1,eventData:c}}),o=!1,l=createHoverText(s,{gd:r,hovermode:"closest",rotateLabels:o,bgColor:e.bgColor||Color$s.background,container:d3$j.select(e.container),outerContainer:e.outerContainer||e.container}).hoverLabels,c=0,g=0;return l.sort(function(t,e){return t.y0-e.y0}).each(function(t,i){var r=t.y0-t.by/2;t.offset=r-5<c?c-r+5:0,c=r+t.by+t.offset,i===e.anchorIndex&&(g=t.offset)}).each(function(t){t.offset-=g}),alignHoverText(l,o,r._fullLayout._invScaleX,r._fullLayout._invScaleY),i?l:l.node()};var EXTRA_STRING_REGEX=/<extra>([\s\S]*)<\/extra>/;function createHoverText(t,e){var i=e.gd,r=i._fullLayout,n=e.hovermode,a=e.rotateLabels,s=e.bgColor,o=e.container,l=e.outerContainer,c=e.commonLabelOpts||{};if(0===t.length)return[[]];var g=e.fontFamily||constants$B.HOVERFONT,d=e.fontSize||constants$B.HOVERFONTSIZE,u=e.fontWeight||r.font.weight,B=e.fontStyle||r.font.style,F=e.fontVariant||r.font.variant,h=e.fontTextcase||r.font.textcase,Q=e.fontLineposition||r.font.lineposition,U=e.fontShadow||r.font.shadow,I=t[0],b=I.xa,p=I.ya,y=n.charAt(0),m=y+"Label",C=I[m];if(void 0===C&&"multicategory"===b.type)for(var f=0;f<t.length&&void 0===(C=t[f][m]);f++);var x=getBoundingClientRect(i,l),A=x.top,v=x.width,L=x.height,R=void 0!==C&&I.distance<=e.hoverdistance&&("x"===n||"y"===n);if(R){var S,G,E=!0;for(S=0;S<t.length;S++)if(E&&void 0===t[S].zLabel&&(E=!1),G=t[S].hoverinfo||t[S].trace.hoverinfo){var V=Array.isArray(G)?G:G.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(n)){R=!1;break}}E&&(R=!1)}var Z=o.selectAll("g.axistext").data(R?[0]:[]);Z.enter().append("g").classed("axistext",!0),Z.exit().remove();var N={minX:0,maxX:0,minY:0,maxY:0};if(Z.each(function(){var t=d3$j.select(this),e=Lib$1h.ensureSingle(t,"path","",function(t){t.style({"stroke-width":"1px"})}),a=Lib$1h.ensureSingle(t,"text","",function(t){t.attr("data-notex",1)}),s=c.bgcolor||Color$s.defaultLine,o=c.bordercolor||Color$s.contrast(s),l=Color$s.contrast(s),y=c.font,m={weight:y.weight||u,style:y.style||B,variant:y.variant||F,textcase:y.textcase||h,lineposition:y.lineposition||Q,shadow:y.shadow||U,family:y.family||g,size:y.size||d,color:y.color||l};e.style({fill:s,stroke:o}),a.text(C).call(Drawing$j.font,m).call(svgTextUtils$9.positionText,0,0).call(svgTextUtils$9.convertToTspans,i),t.attr("transform","");var f,x,v=getBoundingClientRect(i,a.node());if("x"===n){var L="top"===b.side?"-":"";a.attr("text-anchor","middle").call(svgTextUtils$9.positionText,0,"top"===b.side?A-v.bottom-HOVERARROWSIZE-HOVERTEXTPAD:A-v.top+HOVERARROWSIZE+HOVERTEXTPAD),f=b._offset+(I.x0+I.x1)/2,x=p._offset+("top"===b.side?0:p._length);var R=v.width/2+HOVERTEXTPAD,S=f;f<R?S=R:f>r.width-R&&(S=r.width-R),e.attr("d","M"+(f-S)+",0L"+(f-S+HOVERARROWSIZE)+","+L+HOVERARROWSIZE+"H"+R+"v"+L+(2*HOVERTEXTPAD+v.height)+"H"+-R+"V"+L+HOVERARROWSIZE+"H"+(f-S-HOVERARROWSIZE)+"Z"),f=S,N.minX=f-R,N.maxX=f+R,"top"===b.side?(N.minY=x-(2*HOVERTEXTPAD+v.height),N.maxY=x-HOVERTEXTPAD):(N.minY=x+HOVERTEXTPAD,N.maxY=x+(2*HOVERTEXTPAD+v.height))}else{var G,E,V;"right"===p.side?(G="start",E=1,V="",f=b._offset+b._length):(G="end",E=-1,V="-",f=b._offset),x=p._offset+(I.y0+I.y1)/2,a.attr("text-anchor",G),e.attr("d","M0,0L"+V+HOVERARROWSIZE+","+HOVERARROWSIZE+"V"+(HOVERTEXTPAD+v.height/2)+"h"+V+(2*HOVERTEXTPAD+v.width)+"V-"+(HOVERTEXTPAD+v.height/2)+"H"+V+HOVERARROWSIZE+"V-"+HOVERARROWSIZE+"Z"),N.minY=x-(HOVERTEXTPAD+v.height/2),N.maxY=x+(HOVERTEXTPAD+v.height/2),"right"===p.side?(N.minX=f+HOVERARROWSIZE,N.maxX=f+HOVERARROWSIZE+(2*HOVERTEXTPAD+v.width)):(N.minX=f-HOVERARROWSIZE-(2*HOVERTEXTPAD+v.width),N.maxX=f-HOVERARROWSIZE);var Z,D=v.height/2,w=A-v.top-D,X="clip"+r._uid+"commonlabel"+p._id;if(f<v.width+2*HOVERTEXTPAD+HOVERARROWSIZE){Z="M-"+(HOVERARROWSIZE+HOVERTEXTPAD)+"-"+D+"h-"+(v.width-HOVERTEXTPAD)+"V"+D+"h"+(v.width-HOVERTEXTPAD)+"Z";var W=v.width-f+HOVERTEXTPAD;svgTextUtils$9.positionText(a,W,w),"end"===G&&a.selectAll("tspan").each(function(){var t=d3$j.select(this),e=Drawing$j.tester.append("text").text(t.text()).call(Drawing$j.font,m),r=getBoundingClientRect(i,e.node());Math.round(r.width)<Math.round(v.width)&&t.attr("x",W-r.width),e.remove()})}else svgTextUtils$9.positionText(a,E*(HOVERTEXTPAD+HOVERARROWSIZE),w),Z=null;var H=r._topclips.selectAll("#"+X).data(Z?[0]:[]);H.enter().append("clipPath").attr("id",X).append("path"),H.exit().remove(),H.select("path").attr("d",Z),Drawing$j.setClipUrl(a,Z?X:null,i)}t.attr("transform",strTranslate$8(f,x))}),helpers$s.isUnifiedHover(n)){o.selectAll("g.hovertext").remove();var D=t.filter(function(t){return"none"!==t.hoverinfo});if(0===D.length)return[];var w=r.hoverlabel,X=w.font,W=D[0],H=(("x unified"===n?W.xa:W.ya).unifiedhovertitle||{}).text,T={showlegend:!0,legend:{title:{text:H?Lib$1h.hovertemplateString(H,{},r._d3locale,"x unified"===n?{xa:W.xa,x:W.xVal}:{ya:W.ya,y:W.yVal}):C,font:X},font:X,bgcolor:w.bgcolor,bordercolor:w.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:r.legend?r.legend.traceorder:void 0,orientation:"v"}},M={font:X};legendSupplyDefaults(T,M,i._fullData);var k=M.legend;k.entries=[];for(var Y=0;Y<D.length;Y++){var J=D[Y];if("none"!==J.hoverinfo){var $=getHoverLabelText(J,!0,n,r,C),z=$[0],O=$[1];J.name=O,J.text=""!==O?O+" : "+z:z;var K=J.cd[J.index];K&&(K.mc&&(J.mc=K.mc),K.mcc&&(J.mc=K.mcc),K.mlc&&(J.mlc=K.mlc),K.mlcc&&(J.mlc=K.mlcc),K.mlw&&(J.mlw=K.mlw),K.mrc&&(J.mrc=K.mrc),K.dir&&(J.dir=K.dir)),J._distinct=!0,k.entries.push([J])}}k.entries.sort(function(t,e){return t[0].trace.index-e[0].trace.index}),k.layer=o,k._inHover=!0,k._groupTitleFont=w.grouptitlefont,legendDraw(i,k);var _,P,j,q,tt=o.select("g.legend"),et=getBoundingClientRect(i,tt.node()),it=et.width+2*HOVERTEXTPAD,rt=et.height+2*HOVERTEXTPAD,nt=D[0],at=(nt.x0+nt.x1)/2,st=(nt.y0+nt.y1)/2,ot=!(Registry$B.traceIs(nt.trace,"bar-like")||Registry$B.traceIs(nt.trace,"box-violin"));"y"===y?ot?(P=st-HOVERTEXTPAD,_=st+HOVERTEXTPAD):(P=Math.min.apply(null,D.map(function(t){return Math.min(t.y0,t.y1)})),_=Math.max.apply(null,D.map(function(t){return Math.max(t.y0,t.y1)}))):P=_=Lib$1h.mean(D.map(function(t){return(t.y0+t.y1)/2}))-rt/2,"x"===y?ot?(j=at+HOVERTEXTPAD,q=at-HOVERTEXTPAD):(j=Math.max.apply(null,D.map(function(t){return Math.max(t.x0,t.x1)})),q=Math.min.apply(null,D.map(function(t){return Math.min(t.x0,t.x1)}))):j=q=Lib$1h.mean(D.map(function(t){return(t.x0+t.x1)/2}))-it/2;var lt,ct,gt=b._offset,dt=p._offset;return q+=gt-it,P+=dt-rt,lt=(j+=gt)+it<v&&j>=0?j:q+it<v&&q>=0?q:gt+it<v?gt:j-at<at-q+it?v-it:0,lt+=HOVERTEXTPAD,ct=(_+=dt)+rt<L&&_>=0?_:P+rt<L&&P>=0?P:dt+rt<L?dt:_-st<st-P+rt?L-rt:0,ct+=HOVERTEXTPAD,tt.attr("transform",strTranslate$8(lt-1,ct-1)),tt}var ut=o.selectAll("g.hovertext").data(t,function(t){return hoverDataKey(t)});return ut.enter().append("g").classed("hovertext",!0).each(function(){var t=d3$j.select(this);t.append("rect").call(Color$s.fill,Color$s.addOpacity(s,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(Drawing$j.font,{weight:u,style:B,variant:F,textcase:h,lineposition:Q,shadow:U,family:g,size:d})}),ut.exit().remove(),ut.each(function(t){var e=d3$j.select(this).attr("transform",""),o=t.color;Array.isArray(o)&&(o=o[t.eventData[0].pointNumber]);var l=t.bgcolor||o,c=Color$s.combine(Color$s.opacity(l)?l:Color$s.defaultLine,s),I=Color$s.combine(Color$s.opacity(o)?o:Color$s.defaultLine,s),b=t.borderColor||Color$s.contrast(c),p=getHoverLabelText(t,R,n,r,C,e),y=p[0],m=p[1],f=e.select("text.nums").call(Drawing$j.font,{family:t.fontFamily||g,size:t.fontSize||d,color:t.fontColor||b,weight:t.fontWeight||u,style:t.fontStyle||B,variant:t.fontVariant||F,textcase:t.fontTextcase||h,lineposition:t.fontLineposition||Q,shadow:t.fontShadow||U}).text(y).attr("data-notex",1).call(svgTextUtils$9.positionText,0,0).call(svgTextUtils$9.convertToTspans,i),x=e.select("text.name"),S=0,G=0;if(m&&m!==y){x.call(Drawing$j.font,{family:t.fontFamily||g,size:t.fontSize||d,color:I,weight:t.fontWeight||u,style:t.fontStyle||B,variant:t.fontVariant||F,textcase:t.fontTextcase||h,lineposition:t.fontLineposition||Q,shadow:t.fontShadow||U}).text(m).attr("data-notex",1).call(svgTextUtils$9.positionText,0,0).call(svgTextUtils$9.convertToTspans,i);var E=getBoundingClientRect(i,x.node());S=E.width+2*HOVERTEXTPAD,G=E.height+2*HOVERTEXTPAD}else x.remove(),e.select("rect").remove();e.select("path").style({fill:c,stroke:b});var V=t.xa._offset+(t.x0+t.x1)/2,Z=t.ya._offset+(t.y0+t.y1)/2,N=Math.abs(t.x1-t.x0),D=Math.abs(t.y1-t.y0),w=getBoundingClientRect(i,f.node()),X=w.width/r._invScaleX,W=w.height/r._invScaleY;t.ty0=(A-w.top)/r._invScaleY,t.bx=X+2*HOVERTEXTPAD,t.by=Math.max(W+2*HOVERTEXTPAD,G),t.anchor="start",t.txwidth=X,t.tx2width=S,t.offset=0;var H,T,M=(X+HOVERARROWSIZE+HOVERTEXTPAD+S)*r._invScaleX;if(a)t.pos=V,H=Z+D/2+M<=L,T=Z-D/2-M>=0,"top"!==t.idealAlign&&H||!T?H?(Z+=D/2,t.anchor="start"):t.anchor="middle":(Z-=D/2,t.anchor="end"),t.crossPos=Z;else{if(t.pos=Z,H=V+N/2+M<=v,T=V-N/2-M>=0,"left"!==t.idealAlign&&H||!T)if(H)V+=N/2,t.anchor="start";else{t.anchor="middle";var k=M/2,Y=V+k-v,J=V-k;Y>0&&(V-=Y),J<0&&(V+=-J)}else V-=N/2,t.anchor="end";t.crossPos=V}f.attr("text-anchor",t.anchor),S&&x.attr("text-anchor",t.anchor),e.attr("transform",strTranslate$8(V,Z)+(a?strRotate$1(YANGLE):""))}),{hoverLabels:ut,commonLabelBoundingBox:N}}function getHoverLabelText(t,e,i,r,n,a){var s="",o="";void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name&&(t.trace._meta&&(t.name=Lib$1h.templateString(t.name,t.trace._meta)),s=plainText(t.name,t.nameLength));var l=i.charAt(0),c="x"===l?"y":"x";void 0!==t.zLabel?(void 0!==t.xLabel&&(o+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(o+="y: "+t.yLabel+"<br>"),"choropleth"!==t.trace.type&&"choroplethmapbox"!==t.trace.type&&"choroplethmap"!==t.trace.type&&(o+=(o?"z: ":"")+t.zLabel)):e&&t[l+"Label"]===n?o=t[c+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&"scattercarpet"!==t.trace.type&&(o=t.yLabel):o=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",!t.text&&0!==t.text||Array.isArray(t.text)||(o+=(o?"<br>":"")+t.text),void 0!==t.extraText&&(o+=(o?"<br>":"")+t.extraText),a&&""===o&&!t.hovertemplate&&(""===s&&a.remove(),o=s);var g=t.hovertemplate||!1;if(g){var d=t.hovertemplateLabels||t;t[l+"Label"]!==n&&(d[l+"other"]=d[l+"Val"],d[l+"otherLabel"]=d[l+"Label"]),o=(o=Lib$1h.hovertemplateString(g,d,r._d3locale,t.eventData[0]||{},t.trace._meta)).replace(EXTRA_STRING_REGEX,function(e,i){return s=plainText(i,t.nameLength),""})}return[o,s]}function hoverAvoidOverlaps(t,e,i,r){var n,a,s,o,l,c,g,d=e?"xa":"ya",u=e?"ya":"xa",B=0,F=1,h=t.size(),Q=new Array(h),U=0,I=r.minX,b=r.maxX,p=r.minY,y=r.maxY,m=function(t){return t*i._invScaleX},C=function(t){return t*i._invScaleY};function f(t){var e=t[0],i=t[t.length-1];if(a=e.pmin-e.pos-e.dp+e.size,s=i.pos+i.dp+i.size-e.pmax,a>.01){for(l=t.length-1;l>=0;l--)t[l].dp+=a;n=!1}if(!(s<.01)){if(a<-.01){for(l=t.length-1;l>=0;l--)t[l].dp-=s;n=!1}if(n){var r=0;for(o=0;o<t.length;o++)(c=t[o]).pos+c.dp+c.size>e.pmax&&r++;for(o=t.length-1;o>=0&&!(r<=0);o--)(c=t[o]).pos>e.pmax-1&&(c.del=!0,r--);for(o=0;o<t.length&&!(r<=0);o++)if((c=t[o]).pos<e.pmin+1)for(c.del=!0,r--,s=2*c.size,l=t.length-1;l>=0;l--)t[l].dp-=s;for(o=t.length-1;o>=0&&!(r<=0);o--)(c=t[o]).pos+c.dp+c.size>e.pmax&&(c.del=!0,r--)}}}for(t.each(function(t){var r=t[d],n=t[u],a="x"===r._id.charAt(0),s=r.range;0===U&&s&&s[0]>s[1]!==a&&(F=-1);var o=0,l=a?i.width:i.height;if("x"===i.hovermode||"y"===i.hovermode){var c,g,B=getHoverLabelOffsets(t,e),h=t.anchor,f="end"===h?-1:1;if("middle"===h)g=(c=t.crossPos+(a?C(B.y-t.by/2):m(t.bx/2+t.tx2width/2)))+(a?C(t.by):m(t.bx));else if(a)g=(c=t.crossPos+C(HOVERARROWSIZE+B.y)-C(t.by/2-HOVERARROWSIZE))+C(t.by);else{var x=m(f*HOVERARROWSIZE+B.x),A=x+m(f*t.bx);c=t.crossPos+Math.min(x,A),g=t.crossPos+Math.max(x,A)}a?void 0!==p&&void 0!==y&&Math.min(g,y)-Math.max(c,p)>1&&("left"===n.side?(o=n._mainLinePosition,l=i.width):l=n._mainLinePosition):void 0!==I&&void 0!==b&&Math.min(g,b)-Math.max(c,I)>1&&("top"===n.side?(o=n._mainLinePosition,l=i.height):l=n._mainLinePosition)}Q[U++]=[{datum:t,traceIndex:t.trace.index,dp:0,pos:t.pos,posref:t.posref,size:t.by*(a?YFACTOR:1)/2,pmin:o,pmax:l}]}),Q.sort(function(t,e){return t[0].posref-e[0].posref||F*(e[0].traceIndex-t[0].traceIndex)});!n&&B<=h;){for(B++,n=!0,o=0;o<Q.length-1;){var x=Q[o],A=Q[o+1],v=x[x.length-1],L=A[0];if((a=v.pos+v.dp+v.size-L.pos-L.dp+L.size)>.01){for(l=A.length-1;l>=0;l--)A[l].dp+=a;for(x.push.apply(x,A),Q.splice(o+1,1),g=0,l=x.length-1;l>=0;l--)g+=x[l].dp;for(s=g/x.length,l=x.length-1;l>=0;l--)x[l].dp-=s;n=!1}else o++}Q.forEach(f)}for(o=Q.length-1;o>=0;o--){var R=Q[o];for(l=R.length-1;l>=0;l--){var S=R[l],G=S.datum;G.offset=S.dp,G.del=S.del}}}function getHoverLabelOffsets(t,e){var i=0,r=t.offset;return e&&(r*=-YSHIFTY,i=t.offset*YSHIFTX),{x:i,y:r}}function getTextShiftX(t){var e={start:1,end:-1,middle:0}[t.anchor],i=e*(HOVERARROWSIZE+HOVERTEXTPAD),r=i+e*(t.txwidth+HOVERTEXTPAD);return"middle"===t.anchor&&(i-=t.tx2width/2,r+=t.txwidth/2+HOVERTEXTPAD),{alignShift:e,textShiftX:i,text2ShiftX:r}}function alignHoverText(t,e,i,r){var n=function(t){return t*i},a=function(t){return t*r};t.each(function(t){var i=d3$j.select(this);if(t.del)return i.remove();var r,s=i.select("text.nums"),o=t.anchor,l="end"===o?-1:1,c=getTextShiftX(t),g=getHoverLabelOffsets(t,e),d=g.x,u=g.y,B="middle"===o,F=!("hoverlabel"in t.trace)||t.trace.hoverlabel.showarrow;r=B?"M-"+n(t.bx/2+t.tx2width/2)+","+a(u-t.by/2)+"h"+n(t.bx)+"v"+a(t.by)+"h-"+n(t.bx)+"Z":F?"M0,0L"+n(l*HOVERARROWSIZE+d)+","+a(HOVERARROWSIZE+u)+"v"+a(t.by/2-HOVERARROWSIZE)+"h"+n(l*t.bx)+"v-"+a(t.by)+"H"+n(l*HOVERARROWSIZE+d)+"V"+a(u-HOVERARROWSIZE)+"Z":"M"+n(l*HOVERARROWSIZE+d)+","+a(u-t.by/2)+"h"+n(l*t.bx)+"v"+a(t.by)+"h"+n(-l*t.bx)+"Z",i.select("path").attr("d",r);var h=d+c.textShiftX,Q=u+t.ty0-t.by/2+HOVERTEXTPAD,U=t.textAlign||"auto";"auto"!==U&&("left"===U&&"start"!==o?(s.attr("text-anchor","start"),h=B?-t.bx/2-t.tx2width/2+HOVERTEXTPAD:-t.bx-HOVERTEXTPAD):"right"===U&&"end"!==o&&(s.attr("text-anchor","end"),h=B?t.bx/2-t.tx2width/2-HOVERTEXTPAD:t.bx+HOVERTEXTPAD)),s.call(svgTextUtils$9.positionText,n(h),a(Q)),t.tx2width&&(i.select("text.name").call(svgTextUtils$9.positionText,n(c.text2ShiftX+c.alignShift*HOVERTEXTPAD+d),a(u+t.ty0-t.by/2+HOVERTEXTPAD)),i.select("rect").call(Drawing$j.setRect,n(c.text2ShiftX+(c.alignShift-1)*t.tx2width/2+d),a(u-t.by/2-1),n(t.tx2width),a(t.by+2)))})}function cleanPoint(t,e){var i=t.index,r=t.trace||{},n=t.cd[0],a=t.cd[i]||{};function s(t){return t||isNumeric$g(t)&&0===t}var o=Array.isArray(i)?function(t,e){var a=Lib$1h.castOption(n,i,t);return s(a)?a:Lib$1h.extractOption({},r,"",e)}:function(t,e){return Lib$1h.extractOption(a,r,t,e)};function l(e,i,r){var n=o(i,r);s(n)&&(t[e]=n)}if(l("hoverinfo","hi","hoverinfo"),l("bgcolor","hbg","hoverlabel.bgcolor"),l("borderColor","hbc","hoverlabel.bordercolor"),l("fontFamily","htf","hoverlabel.font.family"),l("fontSize","hts","hoverlabel.font.size"),l("fontColor","htc","hoverlabel.font.color"),l("fontWeight","htw","hoverlabel.font.weight"),l("fontStyle","hty","hoverlabel.font.style"),l("fontVariant","htv","hoverlabel.font.variant"),l("nameLength","hnl","hoverlabel.namelength"),l("textAlign","hta","hoverlabel.align"),t.posref="y"===e||"closest"===e&&"h"===r.orientation?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=Lib$1h.constrain(t.x0,0,t.xa._length),t.x1=Lib$1h.constrain(t.x1,0,t.xa._length),t.y0=Lib$1h.constrain(t.y0,0,t.ya._length),t.y1=Lib$1h.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:Axes$l.hoverLabelText(t.xa,t.xLabelVal,r.xhoverformat),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:Axes$l.hoverLabelText(t.ya,t.yLabelVal,r.yhoverformat),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var c=Axes$l.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+c+" / -"+Axes$l.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+=" Â± "+c,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var g=Axes$l.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+g+" / -"+Axes$l.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+=" Â± "+g,"y"===e&&(t.distance+=1)}var d=t.hoverinfo||t.trace.hoverinfo;return d&&"all"!==d&&(-1===(d=Array.isArray(d)?d:d.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===d.indexOf("y")&&(t.yLabel=void 0),-1===d.indexOf("z")&&(t.zLabel=void 0),-1===d.indexOf("text")&&(t.text=void 0),-1===d.indexOf("name")&&(t.name=void 0)),t}function createSpikelines(t,e,i){var r,n,a=i.container,s=i.fullLayout,o=s._size,l=i.event,c=!!e.hLinePoint,g=!!e.vLinePoint;if(a.selectAll(".spikeline").remove(),g||c){var d=Color$s.combine(s.plot_bgcolor,s.paper_bgcolor);if(c){var u,B,F=e.hLinePoint;r=F&&F.xa,"cursor"===(n=F&&F.ya).spikesnap?(u=l.pointerX,B=l.pointerY):(u=r._offset+F.x,B=n._offset+F.y);var h,Q,U=tinycolor$4.readability(F.color,d)<1.5?Color$s.contrast(d):F.color,I=n.spikemode,b=n.spikethickness,p=n.spikecolor||U,y=Axes$l.getPxPosition(t,n);if(-1!==I.indexOf("toaxis")||-1!==I.indexOf("across")){if(-1!==I.indexOf("toaxis")&&(h=y,Q=u),-1!==I.indexOf("across")){var m=n._counterDomainMin,C=n._counterDomainMax;"free"===n.anchor&&(m=Math.min(m,n.position),C=Math.max(C,n.position)),h=o.l+m*o.w,Q=o.l+C*o.w}a.insert("line",":first-child").attr({x1:h,x2:Q,y1:B,y2:B,"stroke-width":b,stroke:p,"stroke-dasharray":Drawing$j.dashStyle(n.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:h,x2:Q,y1:B,y2:B,"stroke-width":b+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)}-1!==I.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:y+("right"!==n.side?b:-b),cy:B,r:b,fill:p}).classed("spikeline",!0)}if(g){var f,x,A=e.vLinePoint;r=A&&A.xa,n=A&&A.ya,"cursor"===r.spikesnap?(f=l.pointerX,x=l.pointerY):(f=r._offset+A.x,x=n._offset+A.y);var v,L,R=tinycolor$4.readability(A.color,d)<1.5?Color$s.contrast(d):A.color,S=r.spikemode,G=r.spikethickness,E=r.spikecolor||R,V=Axes$l.getPxPosition(t,r);if(-1!==S.indexOf("toaxis")||-1!==S.indexOf("across")){if(-1!==S.indexOf("toaxis")&&(v=V,L=x),-1!==S.indexOf("across")){var Z=r._counterDomainMin,N=r._counterDomainMax;"free"===r.anchor&&(Z=Math.min(Z,r.position),N=Math.max(N,r.position)),v=o.t+(1-N)*o.h,L=o.t+(1-Z)*o.h}a.insert("line",":first-child").attr({x1:f,x2:f,y1:v,y2:L,"stroke-width":G,stroke:E,"stroke-dasharray":Drawing$j.dashStyle(r.spikedash,G)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:f,x2:f,y1:v,y2:L,"stroke-width":G+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)}-1!==S.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:f,cy:V-("top"!==r.side?G:-G),r:G,fill:E}).classed("spikeline",!0)}}}function hoverChanged(t,e,i){if(!i||i.length!==t._hoverdata.length)return!0;for(var r=i.length-1;r>=0;r--){var n=i[r],a=t._hoverdata[r];if(n.curveNumber!==a.curveNumber||String(n.pointNumber)!==String(a.pointNumber)||String(n.pointNumbers)!==String(a.pointNumbers)||n.binNumber!==a.binNumber)return!0}return!1}function spikesChanged(t,e){return!0}function plainText(t,e){return svgTextUtils$9.plainText(t||"",{len:e,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function orderRangePoints(t,e){for(var i=e.charAt(0),r=[],n=[],a=[],s=0;s<t.length;s++){var o=t[s];Registry$B.traceIs(o.trace,"bar-like")||Registry$B.traceIs(o.trace,"box-violin")?a.push(o):o.trace[i+"period"]?n.push(o):r.push(o)}return r.concat(n).concat(a)}function getCoord(t,e,i){var r=e[t+"a"],n=e[t+"Val"],a=e.cd[0];if("category"===r.type||"multicategory"===r.type)n=r._categoriesMap[n];else if("date"===r.type){var s=e.trace[t+"periodalignment"];if(s){var o=e.cd[e.index],l=o[t+"Start"];void 0===l&&(l=o[t]);var c=o[t+"End"];void 0===c&&(c=o[t]);var g=c-l;"end"===s?n+=g:"middle"===s&&(n+=g/2)}n=r.d2c(n)}return a&&a.t&&a.t.posLetter===r._id&&("group"!==i.boxmode&&"group"!==i.violinmode||(n+=a.t.dPos)),n}function getTopOffset(t){return t.offsetTop+t.clientTop}function getLeftOffset(t){return t.offsetLeft+t.clientLeft}function getBoundingClientRect(t,e){var i=t._fullLayout,r=e.getBoundingClientRect(),n=r.left,a=r.top,s=n+r.width,o=a+r.height,l=Lib$1h.apply3DTransform(i._invTransform)(n,a),c=Lib$1h.apply3DTransform(i._invTransform)(s,o),g=l[0],d=l[1],u=c[0],B=c[1];return{x:g,y:d,width:u-g,height:B-d,top:Math.min(d,B),left:Math.min(g,u),right:Math.max(g,u),bottom:Math.max(d,B)}}var Lib$1g=libExports,Color$r=colorExports,isUnifiedHover$1=helpers$y.isUnifiedHover,hoverlabel_defaults=function(t,e,i,r){r=r||{};var n=e.legend;function a(t){r.font[t]||(r.font[t]=n?e.legend.font[t]:e.font[t])}e&&isUnifiedHover$1(e.hovermode)&&(r.font||(r.font={}),a("size"),a("family"),a("color"),a("weight"),a("style"),a("variant"),n?(r.bgcolor||(r.bgcolor=Color$r.combine(e.legend.bgcolor,e.paper_bgcolor)),r.bordercolor||(r.bordercolor=e.legend.bordercolor)):r.bgcolor||(r.bgcolor=e.paper_bgcolor)),i("hoverlabel.bgcolor",r.bgcolor),i("hoverlabel.bordercolor",r.bordercolor),i("hoverlabel.namelength",r.namelength),i("hoverlabel.showarrow",r.showarrow),Lib$1g.coerceFont(i,"hoverlabel.font",r.font),i("hoverlabel.align",r.align)},Lib$1f=libExports,handleHoverLabelDefaults$2=hoverlabel_defaults,layoutAttributes$7=layout_attributes$6,layout_global_defaults=function(t,e){handleHoverLabelDefaults$2(t,e,function(i,r){return Lib$1f.coerce(t,e,layoutAttributes$7,i,r)})},Lib$1e=libExports,attributes$B=attributes$M,handleHoverLabelDefaults$1=hoverlabel_defaults,defaults$r=function(t,e,i,r){var n=Lib$1e.extendFlat({},r.hoverlabel);e.hovertemplate&&(n.namelength=-1),handleHoverLabelDefaults$1(t,e,function(i,r){return Lib$1e.coerce(t,e,attributes$B,i,r)},n)},Lib$1d=libExports,layoutAttributes$6=layout_attributes$6,hovermode_defaults=function(t,e){function i(i,r){return void 0!==e[i]?e[i]:Lib$1d.coerce(t,e,layoutAttributes$6,i,r)}return i("clickmode"),i("hoversubplots"),i("hovermode")},Lib$1c=libExports,layoutAttributes$5=layout_attributes$6,handleHoverModeDefaults=hovermode_defaults,handleHoverLabelDefaults=hoverlabel_defaults,layout_defaults$3=function(t,e){function i(i,r){return Lib$1c.coerce(t,e,layoutAttributes$5,i,r)}handleHoverModeDefaults(t,e)&&(i("hoverdistance"),i("spikedistance")),"select"===i("dragmode")&&i("selectdirection");var r=e._has("mapbox"),n=e._has("map"),a=e._has("geo"),s=e._basePlotModules.length;"zoom"===e.dragmode&&((r||n||a)&&1===s||(r||n)&&a&&2===s)&&(e.dragmode="pan"),handleHoverLabelDefaults(t,e,i),Lib$1c.coerceFont(i,"hoverlabel.grouptitlefont",e.hoverlabel.font)},Lib$1b=libExports,Registry$A=registry$1,calc$6=function(t){var e=t.calcdata,i=t._fullLayout;function r(t){return function(e){return Lib$1b.coerceHoverinfo({hoverinfo:e},{_module:t._module},i)}}for(var n=0;n<e.length;n++){var a=e[n],s=a[0].trace;if(!Registry$A.traceIs(s,"pie-like")){var o=Registry$A.traceIs(s,"2dMap")?paste:Lib$1b.fillArray;o(s.hoverinfo,a,"hi",r(s)),s.hovertemplate&&o(s.hovertemplate,a,"ht"),s.hoverlabel&&(o(s.hoverlabel.bgcolor,a,"hbg"),o(s.hoverlabel.bordercolor,a,"hbc"),o(s.hoverlabel.font.size,a,"hts"),o(s.hoverlabel.font.color,a,"htc"),o(s.hoverlabel.font.family,a,"htf"),o(s.hoverlabel.font.weight,a,"htw"),o(s.hoverlabel.font.style,a,"hty"),o(s.hoverlabel.font.variant,a,"htv"),o(s.hoverlabel.namelength,a,"hnl"),o(s.hoverlabel.align,a,"hta"),o(s.hoverlabel.showarrow,a,"htsa"))}}};function paste(t,e,i,r){r=r||Lib$1b.identity,Array.isArray(t)&&(e[0][i]=r(t))}var Registry$z=registry$1,hover$3=hover$4.hover,click$1=function(t,e,i){var r=Registry$z.getComponentMethod("annotations","onClick")(t,t._hoverdata);function n(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==i&&hover$3(t,e,i,!0),t._hoverdata&&e&&e.target&&(r&&r.then?r.then(n):n(),e.stopImmediatePropagation&&e.stopImmediatePropagation())},d3$i=d3Exports,Lib$1a=libExports,dragElement$5=dragelementExports,helpers$r=helpers$y,layoutAttributes$4=layout_attributes$6,hoverModule=hover$4,fx={moduleType:"component",name:"fx",constants:constants$M,schema:{layout:layout_attributes$6},attributes:attributes$M,layoutAttributes:layout_attributes$6,supplyLayoutGlobalDefaults:layout_global_defaults,supplyDefaults:defaults$r,supplyLayoutDefaults:layout_defaults$3,calc:calc$6,getDistanceFunction:helpers$r.getDistanceFunction,getClosest:helpers$r.getClosest,inbox:helpers$r.inbox,quadrature:helpers$r.quadrature,appendArrayPointValue:helpers$r.appendArrayPointValue,castHoverOption:castHoverOption,castHoverinfo:castHoverinfo,hover:hoverModule.hover,unhover:dragElement$5.unhover,loneHover:hoverModule.loneHover,loneUnhover:loneUnhover,click:click$1};function loneUnhover(t){var e=Lib$1a.isD3Selection(t)?t:d3$i.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()}function castHoverOption(t,e,i){return Lib$1a.castOption(t,e,"hoverlabel."+i)}function castHoverinfo(t,e,i){return Lib$1a.castOption(t,i,"hoverinfo",function(i){return Lib$1a.coerceHoverinfo({hoverinfo:i},{_module:t._module},e)})}var helpers$q={};!function(t){t.selectMode=function(t){return"lasso"===t||"select"===t},t.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},t.openMode=function(t){return"drawline"===t||"drawopenpath"===t},t.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},t.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}}(helpers$q);var clear_gl_canvases=function(t){var e=t._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(t){t.regl&&t.regl.clear({color:!0,depth:!0})})},subroutines={},buttons={exports:{}},ploticon={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}},helpers$p={},CIRCLE_SIDES=32,constants$A={CIRCLE_SIDES:CIRCLE_SIDES,i000:0,i090:CIRCLE_SIDES/4,i180:CIRCLE_SIDES/2,i270:CIRCLE_SIDES/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)},strTranslate$7=libExports.strTranslate;function p2r$2(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}function r2p$1(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}}function axValue$1(t){var e="y"===t._id.charAt(0)?1:0;return function(i){return p2r$2(t,i[e])}}function getTransform$1(t){return strTranslate$7(t.xaxis._offset,t.yaxis._offset)}var helpers$o={p2r:p2r$2,r2p:r2p$1,axValue:axValue$1,getTransform:getTransform$1};!function(t){var e=parseSvgPath,i=constants$A,r=i.CIRCLE_SIDES,n=i.SQRT2,a=helpers$o,s=a.p2r,o=a.r2p,l=[0,3,4,5,6,1,2],c=[0,3,4,1,2];function g(t,e){return Math.abs(t-e)<=1e-6}function d(t,e){var i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+r*r)}t.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var i="",r=0;r<e;r++)for(var n=t[r].length,a=0;a<n;a++){var s=t[r][a][0];if("Z"===s)i+="Z";else for(var o=t[r][a].length,g=0;g<o;g++){var d=g;"Q"===s||"S"===s?d=c[g]:"C"===s&&(d=l[g]),i+=t[r][a][d],g>0&&g<o-1&&(i+=",")}}return i},t.readPaths=function(t,i,n,a){var l,c,g,d=e(t),u=[],B=-1,F=function(){B++,u[B]=[]},h=0,Q=0,U=function(){c=h,g=Q};U();for(var I=0;I<d.length;I++){var b,p,y,m,C=[],f=d[I][0],x=f;switch(f){case"M":F(),h=+d[I][1],Q=+d[I][2],C.push([x,h,Q]),U();break;case"Q":case"S":b=+d[I][1],y=+d[I][2],h=+d[I][3],Q=+d[I][4],C.push([x,h,Q,b,y]);break;case"C":b=+d[I][1],y=+d[I][2],p=+d[I][3],m=+d[I][4],h=+d[I][5],Q=+d[I][6],C.push([x,h,Q,b,y,p,m]);break;case"T":case"L":h=+d[I][1],Q=+d[I][2],C.push([x,h,Q]);break;case"H":x="L",h=+d[I][1],C.push([x,h,Q]);break;case"V":x="L",Q=+d[I][1],C.push([x,h,Q]);break;case"A":x="L";var A=+d[I][1],v=+d[I][2];+d[I][4]||(A=-A,v=-v);var L=h-A,R=Q;for(l=1;l<=r/2;l++){var S=2*Math.PI*l/r;C.push([x,L+A*Math.cos(S),R+v*Math.sin(S)])}break;case"Z":h===c&&Q===g||(h=c,Q=g,C.push([x,h,Q]))}for(var G=(n||{}).domain,E=i._fullLayout._size,V=n&&"pixel"===n.xsizemode,Z=n&&"pixel"===n.ysizemode,N=!1===a,D=0;D<C.length;D++){for(l=0;l+2<7;l+=2){var w=C[D][l+1],X=C[D][l+2];void 0!==w&&void 0!==X&&(h=w,Q=X,n&&(n.xaxis&&n.xaxis.p2r?(N&&(w-=n.xaxis._offset),w=V?o(n.xaxis,n.xanchor)+w:s(n.xaxis,w)):(N&&(w-=E.l),G?w=G.x[0]+w/E.w:w/=E.w),n.yaxis&&n.yaxis.p2r?(N&&(X-=n.yaxis._offset),X=Z?o(n.yaxis,n.yanchor)-X:s(n.yaxis,X)):(N&&(X-=E.t),X=G?G.y[1]-X/E.h:1-X/E.h)),C[D][l+1]=w,C[D][l+2]=X)}u[B].push(C[D].slice())}}return u},t.pointsOnRectangle=function(t){if(5!==t.length)return!1;for(var e=1;e<3;e++){if(!g(t[0][e]-t[1][e],t[3][e]-t[2][e]))return!1;if(!g(t[0][e]-t[3][e],t[1][e]-t[2][e]))return!1}return!(!g(t[0][1],t[1][1])&&!g(t[0][1],t[3][1]))&&!!(d(t[0],t[1])*d(t[0],t[3]))},t.pointsOnEllipse=function(t){var e=t.length;if(e!==r+1)return!1;e=r;for(var i=0;i<e;i++){var n=(2*e-i)%e,a=(e/2+n)%e,s=(e/2+i)%e;if(!g(d(t[i],t[s]),d(t[n],t[a])))return!1}return!0},t.handleEllipse=function(e,i,a){if(!e)return[i,a];var s=t.ellipseOver({x0:i[0],y0:i[1],x1:a[0],y1:a[1]}),o=(s.x1+s.x0)/2,l=(s.y1+s.y0)/2,c=(s.x1-s.x0)/2,g=(s.y1-s.y0)/2;c||(c=g/=n),g||(g=c/=n);for(var d=[],u=0;u<r;u++){var B=2*u*Math.PI/r;d.push([o+c*Math.cos(B),l+g*Math.sin(B)])}return d},t.ellipseOver=function(t){var e=t.x0,i=t.y0,r=t.x1,a=t.y1,s=r-e,o=a-i,l=((e-=s)+r)/2,c=((i-=o)+a)/2;return{x0:l-(s*=n),y0:c-(o*=n),x1:l+s,y1:c+o}},t.fixDatesForPaths=function(t,e,i){var r="date"===e.type,n="date"===i.type;if(!r&&!n)return t;for(var a=0;a<t.length;a++)for(var s=0;s<t[a].length;s++)for(var o=0;o+2<t[a][s].length;o+=2)r&&(t[a][s][o+1]=t[a][s][o+1].replace(" ","_")),n&&(t[a][s][o+2]=t[a][s][o+2].replace(" ","_"));return t}}(helpers$p);var axis_ids=axis_ids$1,dragHelpers$3=helpers$q,drawMode$2=dragHelpers$3.drawMode,openMode$1=dragHelpers$3.openMode,constants$z=constants$A,i000$1=constants$z.i000,i090$1=constants$z.i090,i180$1=constants$z.i180,i270$1=constants$z.i270,cos45=constants$z.cos45,sin45=constants$z.sin45,cartesianHelpers=helpers$o,p2r$1=cartesianHelpers.p2r,r2p=cartesianHelpers.r2p,handleOutline$2=handle_outline,clearOutline$3=handleOutline$2.clearOutline,helpers$n=helpers$p,readPaths$5=helpers$n.readPaths,writePaths$2=helpers$n.writePaths,ellipseOver=helpers$n.ellipseOver,fixDatesForPaths$1=helpers$n.fixDatesForPaths;function newShapes$2(t,e){if(t.length&&t[0][0]){var i=e.gd,r=e.isActiveShape,n=e.dragmode,a=(i.layout||{}).shapes||[];if(!drawMode$2(n)&&void 0!==r){var s=i._fullLayout._activeShapeIndex;if(s<a.length)switch(i._fullLayout.shapes[s].type){case"rect":n="drawrect";break;case"circle":n="drawcircle";break;case"line":n="drawline";break;case"path":var o=a[s].path||"";n="Z"===o[o.length-1]?"drawclosedpath":"drawopenpath"}}var l=createShapeObj$1(t,e,n);clearOutline$3(i);for(var c=e.editHelpers,g=(c||{}).modifyItem,d=[],u=0;u<a.length;u++){var B=i._fullLayout.shapes[u];if(d[u]=B._input,void 0!==r&&u===i._fullLayout._activeShapeIndex){var F=l;switch(B.type){case"line":case"rect":case"circle":var h=axis_ids.getFromId(i,B.xref);"x"===B.xref.charAt(0)&&h.type.includes("category")?(g("x0",F.x0-(B.x0shift||0)),g("x1",F.x1-(B.x1shift||0))):(g("x0",F.x0),g("x1",F.x1));var Q=axis_ids.getFromId(i,B.yref);"y"===B.yref.charAt(0)&&Q.type.includes("category")?(g("y0",F.y0-(B.y0shift||0)),g("y1",F.y1-(B.y1shift||0))):(g("y0",F.y0),g("y1",F.y1));break;case"path":g("path",F.path)}}}return void 0===r?(d.push(l),d):c?c.getUpdateObj():{}}}function createShapeObj$1(t,e,i){var r,n=t[0][0],a=e.gd,s=n.getAttribute("d"),o=a._fullLayout.newshape,l=e.plotinfo,c=e.isActiveShape,g=l.xaxis,d=l.yaxis,u=!!l.domain||!l.xaxis,B=!!l.domain||!l.yaxis,F=openMode$1(i),h=readPaths$5(s,a,l,c),Q={editable:!0,visible:o.visible,name:o.name,showlegend:o.showlegend,legend:o.legend,legendwidth:o.legendwidth,legendgroup:o.legendgroup,legendgrouptitle:{text:o.legendgrouptitle.text,font:o.legendgrouptitle.font},legendrank:o.legendrank,label:o.label,xref:u?"paper":g._id,yref:B?"paper":d._id,layer:o.layer,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};if(F||(Q.fillcolor=o.fillcolor,Q.fillrule=o.fillrule),1===h.length&&(r=h[0]),r&&5===r.length&&"drawrect"===i)Q.type="rect",Q.x0=r[0][1],Q.y0=r[0][2],Q.x1=r[2][1],Q.y1=r[2][2];else if(r&&"drawline"===i)Q.type="line",Q.x0=r[0][1],Q.y0=r[0][2],Q.x1=r[1][1],Q.y1=r[1][2];else if(r&&"drawcircle"===i){Q.type="circle";var U=r[i000$1][1],I=r[i090$1][1],b=r[i180$1][1],p=r[i270$1][1],y=r[i000$1][2],m=r[i090$1][2],C=r[i180$1][2],f=r[i270$1][2],x=l.xaxis&&("date"===l.xaxis.type||"log"===l.xaxis.type),A=l.yaxis&&("date"===l.yaxis.type||"log"===l.yaxis.type);x&&(U=r2p(l.xaxis,U),I=r2p(l.xaxis,I),b=r2p(l.xaxis,b),p=r2p(l.xaxis,p)),A&&(y=r2p(l.yaxis,y),m=r2p(l.yaxis,m),C=r2p(l.yaxis,C),f=r2p(l.yaxis,f));var v=(I+p)/2,L=(y+C)/2,R=ellipseOver({x0:v,y0:L,x1:v+(p-I+b-U)/2*cos45,y1:L+(f-m+C-y)/2*sin45});x&&(R.x0=p2r$1(l.xaxis,R.x0),R.x1=p2r$1(l.xaxis,R.x1)),A&&(R.y0=p2r$1(l.yaxis,R.y0),R.y1=p2r$1(l.yaxis,R.y1)),Q.x0=R.x0,Q.y0=R.y0,Q.x1=R.x1,Q.y1=R.y1}else Q.type="path",g&&d&&fixDatesForPaths$1(h,g,d),Q.path=writePaths$2(h),r=null;return Q}var newshapes={newShapes:newShapes$2,createShapeObj:createShapeObj$1},dragHelpers$2=helpers$q,selectMode$2=dragHelpers$2.selectMode,handleOutline$1=handle_outline,clearOutline$2=handleOutline$1.clearOutline,helpers$m=helpers$p,readPaths$4=helpers$m.readPaths,writePaths$1=helpers$m.writePaths,fixDatesForPaths=helpers$m.fixDatesForPaths,newselections=function(t,e){if(t.length){var i=t[0][0];if(i){var r=i.getAttribute("d"),n=e.gd,a=n._fullLayout.newselection,s=e.plotinfo,o=s.xaxis,l=s.yaxis,c=e.isActiveSelection,g=e.dragmode,d=(n.layout||{}).selections||[];if(!selectMode$2(g)&&void 0!==c){var u=n._fullLayout._activeSelectionIndex;if(u<d.length)switch(n._fullLayout.selections[u].type){case"rect":g="select";break;case"path":g="lasso"}}var B,F=readPaths$4(r,n,s,c),h={xref:o._id,yref:l._id,opacity:a.opacity,line:{color:a.line.color,width:a.line.width,dash:a.line.dash}};1===F.length&&(B=F[0]),B&&5===B.length&&"select"===g?(h.type="rect",h.x0=B[0][1],h.y0=B[0][2],h.x1=B[2][1],h.y1=B[2][2]):(h.type="path",o&&l&&fixDatesForPaths(F,o,l),h.path=writePaths$1(F),B=null),clearOutline$2(n);for(var Q=e.editHelpers,U=(Q||{}).modifyItem,I=[],b=0;b<d.length;b++){var p=n._fullLayout.selections[b];if(p){if(I[b]=p._input,void 0!==c&&b===n._fullLayout._activeSelectionIndex){var y=h;switch(p.type){case"rect":U("x0",y.x0),U("x1",y.x1),U("y0",y.y0),U("y1",y.y1);break;case"path":U("path",y.path)}}}else I[b]=p}return void 0===c?(I.push(h),I):Q?Q.getUpdateObj():{}}}},helpers$l={},constants$y={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}};!function(t){var e=constants$y,i=libExports,r=axesExports;function n(t,e){var i=0;return(e=e||0)&&t&&("category"===t.type||"multicategory"===t.type)&&(i=(t.r2p(1)-t.r2p(0))*e),i}t.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},t.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},t.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},t.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},t.extractPathCoords=function(t,r,n){var a=[];return t.match(e.segmentRE).forEach(function(t){var s=r[t.charAt(0)].drawn;if(void 0!==s){var o=t.substr(1).match(e.paramRE);if(o&&!(o.length<s)){var l=o[s],c=n?l:i.cleanNumber(l);a.push(c)}}}),a},t.getDataToPixel=function(e,i,r,a,s){var o,l=e._fullLayout._size;if(i)if("domain"===s)o=function(t){return i._length*(a?1-t:t)+i._offset};else{var c=t.shapePositionToRange(i);o=function(t){var e=n(i,r);return i._offset+i.r2p(c(t,!0))+e},"date"===i.type&&(o=t.decodeDate(o))}else o=a?function(t){return l.t+l.h*(1-t)}:function(t){return l.l+l.w*t};return o},t.getPixelToData=function(e,i,r,n){var a,s=e._fullLayout._size;if(i)if("domain"===n)a=function(t){var e=(t-i._offset)/i._length;return r?1-e:e};else{var o=t.rangeToShapePosition(i);a=function(t){return o(i.p2r(t-i._offset))}}else a=r?function(t){return 1-(t-s.t)/s.h}:function(t){return(t-s.l)/s.w};return a},t.roundPositionForSharpStrokeRendering=function(t,e){var i=1===Math.round(e%2),r=Math.round(t);return i?r+.5:r},t.makeShapesOptionsAndPlotinfo=function(t,e){var i=t._fullLayout.shapes[e]||{},r=t._fullLayout._plots[i.xref+i.yref];return!!r?r._hadPlotinfo=!0:(r={},i.xref&&"paper"!==i.xref&&(r.xaxis=t._fullLayout[i.xref+"axis"]),i.yref&&"paper"!==i.yref&&(r.yaxis=t._fullLayout[i.yref+"axis"])),r.xsizemode=i.xsizemode,r.ysizemode=i.ysizemode,r.xanchor=i.xanchor,r.yanchor=i.yanchor,{options:i,plotinfo:r}},t.makeSelectionsOptionsAndPlotinfo=function(t,e){var i=t._fullLayout.selections[e]||{},r=t._fullLayout._plots[i.xref+i.yref];return!!r?r._hadPlotinfo=!0:(r={},i.xref&&(r.xaxis=t._fullLayout[i.xref+"axis"]),i.yref&&(r.yaxis=t._fullLayout[i.yref+"axis"])),{options:i,plotinfo:r}},t.getPathString=function(a,s){var o,l,c,g,d,u,B,F,h=s.type,Q=r.getRefType(s.xref),U=r.getRefType(s.yref),I=r.getFromId(a,s.xref),b=r.getFromId(a,s.yref),p=a._fullLayout._size,y=n(I,s.x0shift),m=n(I,s.x1shift),C=n(b,s.y0shift),f=n(b,s.y1shift);if(I?"domain"===Q?l=function(t){return I._offset+I._length*t}:(o=t.shapePositionToRange(I),l=function(t){return I._offset+I.r2p(o(t,!0))}):l=function(t){return p.l+p.w*t},b?"domain"===U?g=function(t){return b._offset+b._length*(1-t)}:(c=t.shapePositionToRange(b),g=function(t){return b._offset+b.r2p(c(t,!0))}):g=function(t){return p.t+p.h*(1-t)},"path"===h)return I&&"date"===I.type&&(l=t.decodeDate(l)),b&&"date"===b.type&&(g=t.decodeDate(g)),function(t,r,n){var a=t.path,s=t.xsizemode,o=t.ysizemode,l=t.xanchor,c=t.yanchor;return a.replace(e.segmentRE,function(t){var a=0,g=t.charAt(0),d=e.paramIsX[g],u=e.paramIsY[g],B=e.numParams[g],F=t.substr(1).replace(e.paramRE,function(t){return d[a]?t="pixel"===s?r(l)+Number(t):r(t):u[a]&&(t="pixel"===o?n(c)-Number(t):n(t)),++a>B&&(t="X"),t});return a>B&&(F=F.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+t)),g+F})}(s,l,g);if("pixel"===s.xsizemode){var x=l(s.xanchor);d=x+s.x0+y,u=x+s.x1+m}else d=l(s.x0)+y,u=l(s.x1)+m;if("pixel"===s.ysizemode){var A=g(s.yanchor);B=A-s.y0+C,F=A-s.y1+f}else B=g(s.y0)+C,F=g(s.y1)+f;if("line"===h)return"M"+d+","+B+"L"+u+","+F;if("rect"===h)return"M"+d+","+B+"H"+u+"V"+F+"H"+d+"Z";var v=(d+u)/2,L=(B+F)/2,R=Math.abs(v-d),S=Math.abs(L-B),G="A"+R+","+S,E=v+R+","+L;return"M"+E+G+" 0 1,1 "+(v+","+(L-S))+G+" 0 0,1 "+E+"Z"}}(helpers$l);var Lib$19=libExports,Axes$k=axesExports,svgTextUtils$8=svg_text_utils,Drawing$i=drawingExports,readPaths$3=helpers$p.readPaths,helpers$k=helpers$l,getPathString$2=helpers$k.getPathString,shapeLabelTexttemplateVars$1=label_texttemplate,FROM_TL$4=alignment$1.FROM_TL,display_labels=function(t,e,i,r){if(r.selectAll(".shape-label").remove(),i.label.text||i.label.texttemplate){var n;if(i.label.texttemplate){var a={};if("path"!==i.type){var s=Axes$k.getFromId(t,i.xref),o=Axes$k.getFromId(t,i.yref);for(var l in shapeLabelTexttemplateVars$1){var c=shapeLabelTexttemplateVars$1[l](i,s,o);void 0!==c&&(a[l]=c)}}n=Lib$19.texttemplateStringForShapes(i.label.texttemplate,{},t._fullLayout._d3locale,a)}else n=i.label.text;var g,d,u,B,F={"data-index":e},h=i.label.font,Q=r.append("g").attr(F).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(n);if(i.path){var U=getPathString$2(t,i),I=readPaths$3(U,t);g=1/0,u=1/0,d=-1/0,B=-1/0;for(var b=0;b<I.length;b++)for(var p=0;p<I[b].length;p++)for(var y=I[b][p],m=1;m<y.length;m+=2){var C=y[m],f=y[m+1];g=Math.min(g,C),d=Math.max(d,C),u=Math.min(u,f),B=Math.max(B,f)}}else{var x=Axes$k.getFromId(t,i.xref),A=i.x0shift,v=i.x1shift,L=Axes$k.getRefType(i.xref),R=Axes$k.getFromId(t,i.yref),S=i.y0shift,G=i.y1shift,E=Axes$k.getRefType(i.yref),V=function(e,i){return helpers$k.getDataToPixel(t,x,i,!1,L)(e)},Z=function(e,i){return helpers$k.getDataToPixel(t,R,i,!0,E)(e)};g=V(i.x0,A),d=V(i.x1,v),u=Z(i.y0,S),B=Z(i.y1,G)}var N=i.label.textangle;"auto"===N&&(N="line"===i.type?calcTextAngle(g,u,d,B):0),Q.call(function(e){return e.call(Drawing$i.font,h).attr({}),svgTextUtils$8.convertToTspans(e,t),e});var D=calcTextPosition(g,u,d,B,i,N,Drawing$i.bBox(Q.node())),w=D.textx,X=D.texty,W=D.xanchor;Q.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[W],y:X,x:w,transform:"rotate("+N+","+w+","+X+")"}).call(svgTextUtils$8.positionText,w,X)}};function calcTextAngle(t,e,i,r){var n,a;return a=Math.abs(i-t),n=i>=t?e-r:r-e,-180/Math.PI*Math.atan2(n,a)}function calcTextPosition(t,e,i,r,n,a,s){var o,l,c,g,d=n.label.textposition,u=n.label.textangle,B=n.label.padding,F=n.type,h=Math.PI/180*a,Q=Math.sin(h),U=Math.cos(h),I=n.label.xanchor,b=n.label.yanchor;if("line"===F){"start"===d?(o=t,l=e):"end"===d?(o=i,l=r):(o=(t+i)/2,l=(e+r)/2),"auto"===I&&(I="start"===d?"auto"===u?i>t?"left":i<t?"right":"center":i>t?"right":i<t?"left":"center":"end"===d?"auto"===u?i>t?"right":i<t?"left":"center":i>t?"left":i<t?"right":"center":"center");var p={bottom:-1,middle:0,top:1};if("auto"===u){var y=p[b];c=-B*Q*y,g=B*U*y}else{c=B*{left:1,center:0,right:-1}[I],g=B*p[b]}o+=c,l+=g}else c=B+3,-1!==d.indexOf("right")?(o=Math.max(t,i)-c,"auto"===I&&(I="right")):-1!==d.indexOf("left")?(o=Math.min(t,i)+c,"auto"===I&&(I="left")):(o=(t+i)/2,"auto"===I&&(I="center")),l=-1!==d.indexOf("top")?Math.min(e,r):-1!==d.indexOf("bottom")?Math.max(e,r):(e+r)/2,g=B,"bottom"===b?l-=g:"top"===b&&(l+=g);var m=FROM_TL$4[b],C=n.label.font.size,f=s.height;return{textx:o+(f*m-C)*Q,texty:l+-(f*m-C)*U,xanchor:I}}var Lib$18=libExports,strTranslate$6=Lib$18.strTranslate,dragElement$4=dragelementExports,dragHelpers$1=helpers$q,drawMode$1=dragHelpers$1.drawMode,selectMode$1=dragHelpers$1.selectMode,Registry$y=registry$1,Color$q=colorExports,constants$x=constants$A,i000=constants$x.i000,i090=constants$x.i090,i180=constants$x.i180,i270=constants$x.i270,handleOutline=handle_outline,clearOutlineControllers$2=handleOutline.clearOutlineControllers,helpers$j=helpers$p,pointsOnRectangle=helpers$j.pointsOnRectangle,pointsOnEllipse=helpers$j.pointsOnEllipse,writePaths=helpers$j.writePaths,newShapes$1=newshapes.newShapes,createShapeObj=newshapes.createShapeObj,newSelections$1=newselections,drawLabel$2=display_labels,display_outlines=function t(e,i,r,n){n||(n=0);var a=r.gd;function s(){t(e,i,r,n++),(pointsOnEllipse(e[0])||r.hasText)&&o({redrawing:!0})}function o(t){var e={};void 0!==r.isActiveShape&&(r.isActiveShape=!1,e=newShapes$1(i,r)),void 0!==r.isActiveSelection&&(r.isActiveSelection=!1,e=newSelections$1(i,r),a._fullLayout._reselect=!0),Object.keys(e).length&&Registry$y.call((t||{}).redrawing?"relayout":"_guiRelayout",a,e)}var l,c,g,d,u,B=a._fullLayout._zoomlayer,F=r.dragmode,h=drawMode$1(F),Q=selectMode$1(F);((h||Q)&&(a._fullLayout._outlining=!0),clearOutlineControllers$2(a),i.attr("d",writePaths(e)),n||!r.isActiveShape&&!r.isActiveSelection)||(u=recordPositions([],e),function(t){l=[];for(var i=0;i<e.length;i++){var n=e[i],s=pointsOnRectangle(n),o=!s&&pointsOnEllipse(n);l[i]=[];for(var c=n.length,g=0;g<c;g++)if("Z"!==n[g][0]&&(!o||g===i000||g===i090||g===i180||g===i270)){var d,u=s&&r.isActiveSelection;u&&(d=getNextPoint(n,g));var B=n[g][1],F=n[g][2],h=t.append(u?"rect":"circle").attr("data-i",i).attr("data-j",g).style({fill:Color$q.background,stroke:Color$q.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(u){var Q=d[1]-B,U=d[2]-F,I=U?5:Math.max(Math.min(25,Math.abs(Q)-5),5),p=Q?5:Math.max(Math.min(25,Math.abs(U)-5),5);h.classed(U?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",I).attr("height",p).attr("x",B-I/2).attr("y",F-p/2).attr("transform",strTranslate$6(Q/2,U/2))}else h.classed("cursor-grab",!0).attr("r",5).attr("cx",B).attr("cy",F);l[i][g]={element:h.node(),gd:a,prepFn:b,doneFn:y,clickFn:m},dragElement$4.init(l[i][g])}}}(B.append("g").attr("class","outline-controllers")),function(){if(c=[],!e.length)return;var t=0;c[t]={element:i[0][0],gd:a,prepFn:f,doneFn:x,clickFn:A},dragElement$4.init(c[t])}());if(h&&r.hasText){var U=B.select(".label-temp"),I=createShapeObj(i,r,r.dragmode);drawLabel$2(a,"label-temp",I,U)}function b(t){g=+t.srcElement.getAttribute("data-i"),d=+t.srcElement.getAttribute("data-j"),l[g][d].moveFn=p}function p(t,i){if(e.length){var n=u[g][d][1],a=u[g][d][2],o=e[g],l=o.length;if(pointsOnRectangle(o)){var c=t,B=i;if(r.isActiveSelection)getNextPoint(o,d)[1]===o[d][1]?B=0:c=0;for(var F=0;F<l;F++)if(F!==d){var h=o[F];h[1]===o[d][1]&&(h[1]=n+c),h[2]===o[d][2]&&(h[2]=a+B)}if(o[d][1]=n+c,o[d][2]=a+B,!pointsOnRectangle(o))for(var Q=0;Q<l;Q++)for(var U=0;U<o[Q].length;U++)o[Q][U]=u[g][Q][U]}else o[d][1]=n+t,o[d][2]=a+i;s()}}function y(){o()}function m(t,i){if(2===t){g=+i.srcElement.getAttribute("data-i"),d=+i.srcElement.getAttribute("data-j");var r=e[g];pointsOnRectangle(r)||pointsOnEllipse(r)||function(){if(e.length&&e[g]&&e[g].length){for(var t=[],i=0;i<e[g].length;i++)i!==d&&t.push(e[g][i]);t.length>1&&(2!==t.length||"Z"!==t[1][0])&&(0===d&&(t[0][0]="M"),e[g]=t,s(),o())}}()}}function C(t,i){!function(t,i){if(e.length)for(var r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)for(var a=0;a+2<e[r][n].length;a+=2)e[r][n][a+1]=u[r][n][a+1]+t,e[r][n][a+2]=u[r][n][a+2]+i}(t,i),s()}function f(t){(g=+t.srcElement.getAttribute("data-i"))||(g=0),c[g].moveFn=C}function x(){o()}function A(t){2===t&&eraseActiveSelection(a)}};function recordPositions(t,e){for(var i=0;i<e.length;i++){var r=e[i];t[i]=[];for(var n=0;n<r.length;n++){t[i][n]=[];for(var a=0;a<r[n].length;a++)t[i][n][a]=r[n][a]}}return t}function getNextPoint(t,e){var i,r,n,a=t[e][1],s=t[e][2],o=t.length;return r=t[i=(e+1)%o][1],n=t[i][2],r===a&&n===s&&(r=t[i=(e+2)%o][1],n=t[i][2]),[i,r,n]}function eraseActiveSelection(t){if(selectMode$1(t._fullLayout.dragmode)){clearOutlineControllers$2(t);var e=t._fullLayout._activeSelectionIndex,i=(t.layout||{}).selections||[];if(e<i.length){for(var r=[],n=0;n<i.length;n++)n!==e&&r.push(i[n]);delete t._fullLayout._activeSelectionIndex;var a=t._fullLayout.selections[e];t._fullLayout._deselect={xref:a.xref,yref:a.yref},Registry$y.call("_guiRelayout",t,{selections:r})}}}var d3$h=d3Exports,Registry$x=registry$1,Lib$17=libExports,Axes$j=axesExports,readPaths$2=helpers$p.readPaths,displayOutlines$2=display_outlines,drawLabel$1=display_labels,clearOutlineControllers$1=handle_outline.clearOutlineControllers,Color$p=colorExports,Drawing$h=drawingExports,arrayEditor$5=plot_template.arrayEditor,dragElement$3=dragelementExports,setCursor$3=setcursor,constants$w=constants$y,helpers$i=helpers$l,getPathString$1=helpers$i.getPathString,draw_1$3={draw:draw$a,drawOne:drawOne$2,eraseActiveShape:eraseActiveShape$2};function draw$a(t){var e=t._fullLayout;for(var i in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeUpperLayer.selectAll("text").remove(),e._shapeLowerLayer.selectAll("text").remove(),e._plots){var r=e._plots[i].shapelayer;r&&(r.selectAll("path").remove(),r.selectAll("text").remove())}for(var n=0;n<e.shapes.length;n++)!0===e.shapes[n].visible&&drawOne$2(t,n)}function shouldSkipEdits(t){return!!t._fullLayout._outlining}function couldHaveActiveShape(t){return!t._context.edits.shapePosition}function drawOne$2(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var i=helpers$i.makeShapesOptionsAndPlotinfo(t,e),r=i.options,n=i.plotinfo;if(r._input&&!0===r.visible)if("above"===r.layer)a(t._fullLayout._shapeUpperLayer);else if("paper"===r.xref||"paper"===r.yref)a(t._fullLayout._shapeLowerLayer);else if("between"===r.layer)a(n.shapelayerBetween);else{if(n._hadPlotinfo)a((n.mainplotinfo||n).shapelayer);else a(t._fullLayout._shapeLowerLayer)}function a(i){var a=getPathString$1(t,r),s={"data-index":e,"fill-rule":r.fillrule,d:a},o=r.opacity,l=r.fillcolor,c=r.line.width?r.line.color:"rgba(0,0,0,0)",g=r.line.width,d=r.line.dash;g||!0!==r.editable||(g=5,d="solid");var u="Z"!==a[a.length-1],B=couldHaveActiveShape(t)&&r.editable&&t._fullLayout._activeShapeIndex===e;B&&(l=u?"rgba(0,0,0,0)":t._fullLayout.activeshape.fillcolor,o=t._fullLayout.activeshape.opacity);var F,h=i.append("g").classed("shape-group",!0).attr({"data-index":e}),Q=h.append("path").attr(s).style("opacity",o).call(Color$p.stroke,c).call(Color$p.fill,l).call(Drawing$h.dashLine,d,g);if(setClipPath$1(h,t,r),drawLabel$1(t,e,r,h),(B||t._context.edits.shapePosition)&&(F=arrayEditor$5(t.layout,"shapes",r)),B){Q.style({cursor:"move"});var U={element:Q.node(),plotinfo:n,gd:t,editHelpers:F,hasText:r.label.text||r.label.texttemplate,isActiveShape:!0},I=readPaths$2(a,t);displayOutlines$2(I,Q,U)}else t._context.edits.shapePosition?setupDragElement(t,Q,r,e,i,F):!0===r.editable&&Q.style("pointer-events",u||Color$p.opacity(l)*o<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return activateShape(t,Q)})}}function setClipPath$1(t,e,i){var r=(i.xref+i.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");Drawing$h.setClipUrl(t,r?"clip"+e._fullLayout._uid+r:null,e)}function setupDragElement(t,e,i,r,n,a){var s,o,l,c,g,d,u,B,F,h,Q,U,I,b,p,y,m="pixel"===i.xsizemode,C="pixel"===i.ysizemode,f="line"===i.type,x="path"===i.type,A=a.modifyItem,v=d3$h.select(e.node().parentNode),L=Axes$j.getFromId(t,i.xref),R=Axes$j.getRefType(i.xref),S=Axes$j.getFromId(t,i.yref),G=Axes$j.getRefType(i.yref),E=i.x0shift,V=i.x1shift,Z=i.y0shift,N=i.y1shift,D=function(e,i){return helpers$i.getDataToPixel(t,L,i,!1,R)(e)},w=function(e,i){return helpers$i.getDataToPixel(t,S,i,!0,G)(e)},X=helpers$i.getPixelToData(t,L,!1,R),W=helpers$i.getPixelToData(t,S,!0,G),H=f?function(){var t=10,a=Math.max(i.line.width,t),s=n.append("g").attr("data-index",r).attr("drag-helper",!0);s.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":a,"stroke-opacity":"0"});var o={"fill-opacity":"0"},l=Math.max(a/2,t);return s.append("circle").attr({"data-line-point":"start-point",cx:m?D(i.xanchor)+i.x0:D(i.x0,E),cy:C?w(i.yanchor)-i.y0:w(i.y0,Z),r:l}).style(o).classed("cursor-grab",!0),s.append("circle").attr({"data-line-point":"end-point",cx:m?D(i.xanchor)+i.x1:D(i.x1,V),cy:C?w(i.yanchor)-i.y1:w(i.y1,N),r:l}).style(o).classed("cursor-grab",!0),s}():e,T={element:H.node(),gd:t,prepFn:function(r){if(shouldSkipEdits(t))return;m&&(g=D(i.xanchor));C&&(d=w(i.yanchor));"path"===i.type?p=i.path:(s=m?i.x0:D(i.x0),o=C?i.y0:w(i.y0),l=m?i.x1:D(i.x1),c=C?i.y1:w(i.y1));s<l?(F=s,I="x0",h=l,b="x1"):(F=l,I="x1",h=s,b="x0");!C&&o<c||C&&o>c?(u=o,Q="y0",B=c,U="y1"):(u=c,Q="y1",B=o,U="y0");M(r),J(n,i),function(t,e,i){var r=e.xref,n=e.yref,a=Axes$j.getFromId(i,r),s=Axes$j.getFromId(i,n),o="";"paper"===r||a.autorange||(o+=r);"paper"===n||s.autorange||(o+=n);Drawing$h.setClipUrl(t,o?"clip"+i._fullLayout._uid+o:null,i)}(e,i,t),T.moveFn="move"===y?k:Y,T.altKey=r.altKey},doneFn:function(){if(shouldSkipEdits(t))return;setCursor$3(e),$(n),setClipPath$1(e,t,i),Registry$x.call("_guiRelayout",t,a.getUpdateObj())},clickFn:function(){if(shouldSkipEdits(t))return;$(n)}};function M(i){if(shouldSkipEdits(t))y=null;else if(f)y="path"===i.target.tagName?"move":"start-point"===i.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=T.element.getBoundingClientRect(),n=r.right-r.left,a=r.bottom-r.top,s=i.clientX-r.left,o=i.clientY-r.top,l=!x&&n>10&&a>10&&!i.shiftKey?dragElement$3.getCursor(s/n,1-o/a):"move";setCursor$3(e,l),y=l.split("-")[0]}}function k(a,u){if("path"===i.type){var B=function(t){return t},F=B,h=B;m?A("xanchor",i.xanchor=X(g+a)):(F=function(t){return X(D(t)+a)},L&&"date"===L.type&&(F=helpers$i.encodeDate(F))),C?A("yanchor",i.yanchor=W(d+u)):(h=function(t){return W(w(t)+u)},S&&"date"===S.type&&(h=helpers$i.encodeDate(h))),A("path",i.path=movePath(p,F,h))}else m?A("xanchor",i.xanchor=X(g+a)):(A("x0",i.x0=X(s+a)),A("x1",i.x1=X(l+a))),C?A("yanchor",i.yanchor=W(d+u)):(A("y0",i.y0=W(o+u)),A("y1",i.y1=W(c+u)));e.attr("d",getPathString$1(t,i)),J(n,i),drawLabel$1(t,r,i,v)}function Y(a,R){if(x){var G=function(t){return t},E=G,V=G;m?A("xanchor",i.xanchor=X(g+a)):(E=function(t){return X(D(t)+a)},L&&"date"===L.type&&(E=helpers$i.encodeDate(E))),C?A("yanchor",i.yanchor=W(d+R)):(V=function(t){return W(w(t)+R)},S&&"date"===S.type&&(V=helpers$i.encodeDate(V))),A("path",i.path=movePath(p,E,V))}else if(f){if("resize-over-start-point"===y){var Z=s+a,N=C?o-R:o+R;A("x0",i.x0=m?Z:X(Z)),A("y0",i.y0=C?N:W(N))}else if("resize-over-end-point"===y){var H=l+a,T=C?c-R:c+R;A("x1",i.x1=m?H:X(H)),A("y1",i.y1=C?T:W(T))}}else{var M=function(t){return-1!==y.indexOf(t)},k=M("n"),Y=M("s"),$=M("w"),z=M("e"),O=k?u+R:u,K=Y?B+R:B,_=$?F+a:F,P=z?h+a:h;C&&(k&&(O=u-R),Y&&(K=B-R)),(!C&&K-O>10||C&&O-K>10)&&(A(Q,i[Q]=C?O:W(O)),A(U,i[U]=C?K:W(K))),P-_>10&&(A(I,i[I]=m?_:X(_)),A(b,i[b]=m?P:X(P)))}e.attr("d",getPathString$1(t,i)),J(n,i),drawLabel$1(t,r,i,v)}function J(t,e){(m||C)&&function(){var i="path"!==e.type,r=t.selectAll(".visual-cue").data([0]),n=1;r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":n}).classed("visual-cue",!0);var a=D(m?e.xanchor:Lib$17.midRange(i?[e.x0,e.x1]:helpers$i.extractPathCoords(e.path,constants$w.paramIsX))),s=w(C?e.yanchor:Lib$17.midRange(i?[e.y0,e.y1]:helpers$i.extractPathCoords(e.path,constants$w.paramIsY)));if(a=helpers$i.roundPositionForSharpStrokeRendering(a,n),s=helpers$i.roundPositionForSharpStrokeRendering(s,n),m&&C){var o="M"+(a-1-n)+","+(s-1-n)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",o)}else if(m){var l="M"+(a-1-n)+","+(s-9-n)+"v18 h2 v-18 Z";r.attr("d",l)}else{var c="M"+(a-9-n)+","+(s-1-n)+"h18 v2 h-18 Z";r.attr("d",c)}}()}function $(t){t.selectAll(".visual-cue").remove()}dragElement$3.init(T),H.node().onmousemove=M}function movePath(t,e,i){return t.replace(constants$w.segmentRE,function(t){var r=0,n=t.charAt(0),a=constants$w.paramIsX[n],s=constants$w.paramIsY[n],o=constants$w.numParams[n];return n+t.substr(1).replace(constants$w.paramRE,function(t){return r>=o||(a[r]?t=e(t):s[r]&&(t=i(t)),r++),t})})}function activateShape(t,e){if(couldHaveActiveShape(t)){var i=+e.node().getAttribute("data-index");if(i>=0){if(i===t._fullLayout._activeShapeIndex)return void deactivateShape(t);t._fullLayout._activeShapeIndex=i,t._fullLayout._deactivateShape=deactivateShape,draw$a(t)}}}function deactivateShape(t){couldHaveActiveShape(t)&&(t._fullLayout._activeShapeIndex>=0&&(clearOutlineControllers$1(t),delete t._fullLayout._activeShapeIndex,draw$a(t)))}function eraseActiveShape$2(t){if(couldHaveActiveShape(t)){clearOutlineControllers$1(t);var e=t._fullLayout._activeShapeIndex,i=(t.layout||{}).shapes||[];if(e<i.length){for(var r=[],n=0;n<i.length;n++)n!==e&&r.push(i[n]);return delete t._fullLayout._activeShapeIndex,Registry$x.call("_guiRelayout",t,{shapes:r})}}}var Registry$w=registry$1,Plots$9=plotsExports,axisIds$6=axis_ids$1,Icons$1=ploticon,eraseActiveShape$1=draw_1$3.eraseActiveShape,Lib$16=libExports,_=Lib$16._,modeBarButtons$2=buttons.exports={};function handleCartesian(t,e){var i,r,n=e.currentTarget,a=n.getAttribute("data-attr"),s=n.getAttribute("data-val")||!0,o=t._fullLayout,l={},c=axisIds$6.list(t,null,!0),g=o._cartesianSpikesEnabled;if("zoom"===a){var d,u="in"===s?.5:2,B=(1+u)/2,F=(1-u)/2;for(r=0;r<c.length;r++)if(("none"===(i=c[r]).modebardisable||-1===i.modebardisable.indexOf("auto"===s||"reset"===s?"autoscale":"zoominout"))&&!i.fixedrange)if(d=i._name,"auto"===s)l[d+".autorange"]=!0;else if("reset"===s)void 0===i._rangeInitial0&&void 0===i._rangeInitial1?l[d+".autorange"]=!0:void 0===i._rangeInitial0?(l[d+".autorange"]=i._autorangeInitial,l[d+".range"]=[null,i._rangeInitial1]):void 0===i._rangeInitial1?(l[d+".range"]=[i._rangeInitial0,null],l[d+".autorange"]=i._autorangeInitial):l[d+".range"]=[i._rangeInitial0,i._rangeInitial1],void 0!==i._showSpikeInitial&&(l[d+".showspikes"]=i._showSpikeInitial,"on"!==g||i._showSpikeInitial||(g="off"));else{var h=[i.r2l(i.range[0]),i.r2l(i.range[1])],Q=[B*h[0]+F*h[1],B*h[1]+F*h[0]];l[d+".range[0]"]=i.l2r(Q[0]),l[d+".range[1]"]=i.l2r(Q[1])}}else"hovermode"!==a||"x"!==s&&"y"!==s||(s=o._isHoriz?"y":"x",n.setAttribute("data-val",s)),l[a]=s;o._cartesianSpikesEnabled=g,Registry$w.call("_guiRelayout",t,l)}function handleDrag3d(t,e){for(var i=e.currentTarget,r=i.getAttribute("data-attr"),n=i.getAttribute("data-val")||!0,a=t._fullLayout._subplots.gl3d||[],s={},o=r.split("."),l=0;l<a.length;l++)s[a[l]+"."+o[1]]=n;var c="pan"===n?n:"zoom";s.dragmode=c,Registry$w.call("_guiRelayout",t,s)}function handleCamera3d(t,e){for(var i=e.currentTarget.getAttribute("data-attr"),r="resetLastSave"===i,n="resetDefault"===i,a=t._fullLayout,s=a._subplots.gl3d||[],o={},l=0;l<s.length;l++){var c,g=s[l],d=g+".camera",u=g+".aspectratio",B=g+".aspectmode",F=a[g]._scene;r?(o[d+".up"]=F.viewInitial.up,o[d+".eye"]=F.viewInitial.eye,o[d+".center"]=F.viewInitial.center,c=!0):n&&(o[d+".up"]=null,o[d+".eye"]=null,o[d+".center"]=null,c=!0),c&&(o[u+".x"]=F.viewInitial.aspectratio.x,o[u+".y"]=F.viewInitial.aspectratio.y,o[u+".z"]=F.viewInitial.aspectratio.z,o[B]=F.viewInitial.aspectmode)}Registry$w.call("_guiRelayout",t,o)}function getNextHover3d(t,e){var i=e.currentTarget,r=i._previousVal,n=t._fullLayout,a=n._subplots.gl3d||[],s=["xaxis","yaxis","zaxis"],o={},l={};if(r)l=r,i._previousVal=null;else{for(var c=0;c<a.length;c++){var g=a[c],d=n[g],u=g+".hovermode";o[u]=d.hovermode,l[u]=!1;for(var B=0;B<3;B++){var F=s[B],h=g+"."+F+".showspikes";l[h]=!1,o[h]=d[F].showspikes}}i._previousVal=o}return l}function handleHover3d(t,e){var i=getNextHover3d(t,e);Registry$w.call("_guiRelayout",t,i)}function handleGeo(t,e){for(var i=e.currentTarget,r=i.getAttribute("data-attr"),n=i.getAttribute("data-val")||!0,a=t._fullLayout,s=a._subplots.geo||[],o=0;o<s.length;o++){var l=s[o],c=a[l];if("zoom"===r){var g=c.projection.scale,d="in"===n?2*g:.5*g;Registry$w.call("_guiRelayout",t,l+".projection.scale",d)}}"reset"===r&&resetView(t,"geo")}function getNextHover(t){var e=t._fullLayout;return!e.hovermode&&(e._has("cartesian")?e._isHoriz?"y":"x":"closest")}function toggleHover(t){var e=getNextHover(t);Registry$w.call("_guiRelayout",t,"hovermode",e)}function setSpikelineVisibility(t){for(var e="on"===t._fullLayout._cartesianSpikesEnabled,i=axisIds$6.list(t,null,!0),r={},n=0;n<i.length;n++){var a=i[n];r[a._name+".showspikes"]=!!e||a._showSpikeInitial}return r}function handleMapboxZoom(t,e){_handleMapZoom(t,e,"mapbox")}function handleMapZoom(t,e){_handleMapZoom(t,e,"map")}function _handleMapZoom(t,e,i){for(var r=e.currentTarget.getAttribute("data-val"),n=t._fullLayout,a=n._subplots[i]||[],s={},o=0;o<a.length;o++){var l=a[o],c=n[l].zoom,g="in"===r?1.05*c:c/1.05;s[l+".zoom"]=g}Registry$w.call("_guiRelayout",t,s)}function resetView(t,e){for(var i=t._fullLayout,r=i._subplots[e]||[],n={},a=0;a<r.length;a++)for(var s=r[a],o=i[s]._subplot.viewInitial,l=Object.keys(o),c=0;c<l.length;c++){var g=l[c];n[s+"."+g]=o[g]}Registry$w.call("_guiRelayout",t,n)}modeBarButtons$2.toImage={name:"toImage",title:function(t){var e=(t._context.toImageButtonOptions||{}).format||"png";return _(t,"png"===e?"Download plot as a PNG":"Download plot")},icon:Icons$1.camera,click:function(t){var e=t._context.toImageButtonOptions,i={format:e.format||"png"};Lib$16.notifier(_(t,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(t){t in e&&(i[t]=e[t])}),Registry$w.call("downloadImage",t,i).then(function(e){Lib$16.notifier(_(t,"Snapshot succeeded")+" - "+e,"long")}).catch(function(){Lib$16.notifier(_(t,"Sorry, there was a problem downloading your snapshot!"),"long")})}},modeBarButtons$2.sendDataToCloud={name:"sendDataToCloud",title:function(t){return _(t,"Edit in Chart Studio")},icon:Icons$1.disk,click:function(t){Plots$9.sendDataToCloud(t)}},modeBarButtons$2.editInChartStudio={name:"editInChartStudio",title:function(t){return _(t,"Edit in Chart Studio")},icon:Icons$1.pencil,click:function(t){Plots$9.sendDataToCloud(t)}},modeBarButtons$2.zoom2d={name:"zoom2d",_cat:"zoom",title:function(t){return _(t,"Zoom")},attr:"dragmode",val:"zoom",icon:Icons$1.zoombox,click:handleCartesian},modeBarButtons$2.pan2d={name:"pan2d",_cat:"pan",title:function(t){return _(t,"Pan")},attr:"dragmode",val:"pan",icon:Icons$1.pan,click:handleCartesian},modeBarButtons$2.select2d={name:"select2d",_cat:"select",title:function(t){return _(t,"Box Select")},attr:"dragmode",val:"select",icon:Icons$1.selectbox,click:handleCartesian},modeBarButtons$2.lasso2d={name:"lasso2d",_cat:"lasso",title:function(t){return _(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:Icons$1.lasso,click:handleCartesian},modeBarButtons$2.drawclosedpath={name:"drawclosedpath",title:function(t){return _(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:Icons$1.drawclosedpath,click:handleCartesian},modeBarButtons$2.drawopenpath={name:"drawopenpath",title:function(t){return _(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:Icons$1.drawopenpath,click:handleCartesian},modeBarButtons$2.drawline={name:"drawline",title:function(t){return _(t,"Draw line")},attr:"dragmode",val:"drawline",icon:Icons$1.drawline,click:handleCartesian},modeBarButtons$2.drawrect={name:"drawrect",title:function(t){return _(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:Icons$1.drawrect,click:handleCartesian},modeBarButtons$2.drawcircle={name:"drawcircle",title:function(t){return _(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:Icons$1.drawcircle,click:handleCartesian},modeBarButtons$2.eraseshape={name:"eraseshape",title:function(t){return _(t,"Erase active shape")},icon:Icons$1.eraseshape,click:eraseActiveShape$1},modeBarButtons$2.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(t){return _(t,"Zoom in")},attr:"zoom",val:"in",icon:Icons$1.zoom_plus,click:handleCartesian},modeBarButtons$2.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(t){return _(t,"Zoom out")},attr:"zoom",val:"out",icon:Icons$1.zoom_minus,click:handleCartesian},modeBarButtons$2.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(t){return _(t,"Autoscale")},attr:"zoom",val:"auto",icon:Icons$1.autoscale,click:handleCartesian},modeBarButtons$2.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(t){return _(t,"Reset axes")},attr:"zoom",val:"reset",icon:Icons$1.home,click:handleCartesian},modeBarButtons$2.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(t){return _(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:Icons$1.tooltip_basic,gravity:"ne",click:handleCartesian},modeBarButtons$2.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(t){return _(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:Icons$1.tooltip_compare,gravity:"ne",click:handleCartesian},modeBarButtons$2.zoom3d={name:"zoom3d",_cat:"zoom",title:function(t){return _(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:Icons$1.zoombox,click:handleDrag3d},modeBarButtons$2.pan3d={name:"pan3d",_cat:"pan",title:function(t){return _(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:Icons$1.pan,click:handleDrag3d},modeBarButtons$2.orbitRotation={name:"orbitRotation",title:function(t){return _(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:Icons$1["3d_rotate"],click:handleDrag3d},modeBarButtons$2.tableRotation={name:"tableRotation",title:function(t){return _(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:Icons$1["z-axis"],click:handleDrag3d},modeBarButtons$2.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(t){return _(t,"Reset camera to default")},attr:"resetDefault",icon:Icons$1.home,click:handleCamera3d},modeBarButtons$2.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(t){return _(t,"Reset camera to last save")},attr:"resetLastSave",icon:Icons$1.movie,click:handleCamera3d},modeBarButtons$2.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(t){return _(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Icons$1.tooltip_basic,gravity:"ne",click:handleHover3d},modeBarButtons$2.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(t){return _(t,"Zoom in")},attr:"zoom",val:"in",icon:Icons$1.zoom_plus,click:handleGeo},modeBarButtons$2.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(t){return _(t,"Zoom out")},attr:"zoom",val:"out",icon:Icons$1.zoom_minus,click:handleGeo},modeBarButtons$2.resetGeo={name:"resetGeo",_cat:"reset",title:function(t){return _(t,"Reset")},attr:"reset",val:null,icon:Icons$1.autoscale,click:handleGeo},modeBarButtons$2.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(t){return _(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Icons$1.tooltip_basic,gravity:"ne",click:toggleHover},modeBarButtons$2.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(t){return _(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:Icons$1.tooltip_basic,gravity:"ne",click:toggleHover},modeBarButtons$2.resetViewSankey={name:"resetSankeyGroup",title:function(t){return _(t,"Reset view")},icon:Icons$1.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},i=0;i<t._fullData.length;i++){var r=t._fullData[i]._viewInitial;e["node.groups"].push(r.node.groups.slice()),e["node.x"].push(r.node.x.slice()),e["node.y"].push(r.node.y.slice())}Registry$w.call("restyle",t,e)}},modeBarButtons$2.toggleHover={name:"toggleHover",title:function(t){return _(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Icons$1.tooltip_basic,gravity:"ne",click:function(t,e){var i=getNextHover3d(t,e);i.hovermode=getNextHover(t),Registry$w.call("_guiRelayout",t,i)}},modeBarButtons$2.resetViews={name:"resetViews",title:function(t){return _(t,"Reset views")},icon:Icons$1.home,click:function(t,e){var i=e.currentTarget;i.setAttribute("data-attr","zoom"),i.setAttribute("data-val","reset"),handleCartesian(t,e),i.setAttribute("data-attr","resetLastSave"),handleCamera3d(t,e),resetView(t,"geo"),resetView(t,"mapbox"),resetView(t,"map")}},modeBarButtons$2.toggleSpikelines={name:"toggleSpikelines",title:function(t){return _(t,"Toggle Spike Lines")},icon:Icons$1.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,i=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled="on"===i?"off":"on",Registry$w.call("_guiRelayout",t,setSpikelineVisibility(t))}},modeBarButtons$2.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(t){return _(t,"Reset view")},attr:"reset",icon:Icons$1.home,click:function(t){resetView(t,"mapbox")}},modeBarButtons$2.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(t){return _(t,"Reset view")},attr:"reset",icon:Icons$1.home,click:function(t){resetView(t,"map")}},modeBarButtons$2.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(t){return _(t,"Zoom in")},attr:"zoom",val:"in",icon:Icons$1.zoom_plus,click:handleMapboxZoom},modeBarButtons$2.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(t){return _(t,"Zoom in")},attr:"zoom",val:"in",icon:Icons$1.zoom_plus,click:handleMapZoom},modeBarButtons$2.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(t){return _(t,"Zoom out")},attr:"zoom",val:"out",icon:Icons$1.zoom_minus,click:handleMapboxZoom},modeBarButtons$2.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(t){return _(t,"Zoom out")},attr:"zoom",val:"out",icon:Icons$1.zoom_minus,click:handleMapZoom};var buttonsExports=buttons.exports,modeBarButtons$1=buttonsExports,buttonList=Object.keys(modeBarButtons$1),DRAW_MODES$1=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],backButtons=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(DRAW_MODES$1),foreButtons=[],addToForeButtons=function(t){if(-1===backButtons.indexOf(t._cat||t.name)){var e=t.name,i=(t._cat||t.name).toLowerCase();-1===foreButtons.indexOf(e)&&foreButtons.push(e),-1===foreButtons.indexOf(i)&&foreButtons.push(i)}};buttonList.forEach(function(t){addToForeButtons(modeBarButtons$1[t])}),foreButtons.sort();var constants$v={DRAW_MODES:DRAW_MODES$1,backButtons:backButtons,foreButtons:foreButtons},constants$u=constants$v,attributes$A={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar",description:"Sets the orientation of the modebar."},bgcolor:{valType:"color",editType:"modebar",description:"Sets the background color of the modebar."},color:{valType:"color",editType:"modebar",description:"Sets the color of the icons in the modebar."},activecolor:{valType:"color",editType:"modebar",description:"Sets the color of the active or hovered on icons in the modebar."},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes related to the modebar,","including `hovermode`, `dragmode`, and `showspikes` at both the","root level and inside subplots. Defaults to `layout.uirevision`."].join(" ")},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to add.","Please note that these buttons will only be shown if they are","compatible with all trace types used in a graph.","Similar to `config.modeBarButtonsToAdd` option.","This may include *"+constants$u.backButtons.join("*, *")+"*."].join(" ")},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to remove.","Similar to `config.modeBarButtonsToRemove` option.","This may include *"+constants$u.foreButtons.join("*, *")+"*."].join(" ")}},Lib$15=libExports,Color$o=colorExports,Template$4=plot_template,attributes$z=attributes$A,defaults$q=function(t,e){var i=t.modebar||{},r=Template$4.newContainer(e,"modebar");function n(t,e){return Lib$15.coerce(i,r,attributes$z,t,e)}n("orientation"),n("bgcolor",Color$o.addOpacity(e.paper_bgcolor,.5));var a=Color$o.contrast(Color$o.rgb(e.modebar.bgcolor));n("color",Color$o.addOpacity(a,.3)),n("activecolor",Color$o.addOpacity(a,.7)),n("uirevision",e.uirevision),n("add"),n("remove")},d3$g=d3Exports,isNumeric$f=fastIsnumeric,Lib$14=libExports,Icons=ploticon,version$1=version$2.version,Parser=new DOMParser;function ModeBar(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var proto$3=ModeBar.prototype;function jsVersion(t){return t+" (v"+version$1+")"}function createModeBar$1(t,e){var i=t._fullLayout,r=new ModeBar({graphInfo:t,container:i._modebardiv.node(),buttons:e});return i._privateplot&&d3$g.select(r.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),r}proto$3.update=function(t,e){this.graphInfo=t;var i=this.graphInfo._context,r=this.graphInfo._fullLayout,n="modebar-"+r._uid;this.element.setAttribute("id",n),this.element.setAttribute("role","toolbar"),this._uid=n,this.element.className="modebar modebar--custom","hover"===i.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",e=e.reverse());var a=r.modebar,s="#"+n+" .modebar-group";document.querySelectorAll(s).forEach(function(t){t.style.backgroundColor=a.bgcolor});var o=!this.hasButtons(e),l=this.hasLogo!==i.displaylogo,c=this.locale!==i.locale;if(this.locale=i.locale,(o||l||c)&&(this.removeAllButtons(),this.updateButtons(e),i.watermark||i.displaylogo)){var g=this.getLogo();i.watermark&&(g.className=g.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(g,this.element.childNodes[0]):this.element.appendChild(g),this.hasLogo=!0}this.updateActiveButton(),Lib$14.setStyleOnHover("#"+n+" .modebar-btn",".active",".icon path","fill: "+a.activecolor,"fill: "+a.color,this.element)},proto$3.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var i=e.createGroup();t.forEach(function(t){var r=t.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");e.buttonsNames.push(r);var n=e.createButton(t);e.buttonElements.push(n),i.appendChild(n)}),e.element.appendChild(i)})},proto$3.createGroup=function(){var t=document.createElement("div");t.className="modebar-group";var e=this.graphInfo._fullLayout.modebar;return t.style.backgroundColor=e.bgcolor,t},proto$3.createButton=function(t){var e=this,i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("rel","tooltip"),i.className="modebar-btn";var r=t.title;void 0===r?r=t.name:"function"==typeof r&&(r=r(this.graphInfo)),(r||0===r)&&(i.setAttribute("data-title",r),i.setAttribute("aria-label",r)),void 0!==t.attr&&i.setAttribute("data-attr",t.attr);var n=t.val;if(void 0!==n&&("function"==typeof n&&(n=n(this.graphInfo)),i.setAttribute("data-val",n)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");i.addEventListener("click",function(i){t.click(e.graphInfo,i),e.updateActiveButton(i.currentTarget)}),i.setAttribute("data-toggle",t.toggle||!1),t.toggle&&d3$g.select(i).classed("active",!0);var a=t.icon;return"function"==typeof a?i.appendChild(a()):i.appendChild(this.createIcon(a||Icons.question)),i.setAttribute("data-gravity",t.gravity||"n"),i},proto$3.createIcon=function(t){var e,i=isNumeric$f(t.height)?Number(t.height):t.ascent-t.descent,r="http://www.w3.org/2000/svg";if(t.path){(e=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,t.width,i].join(" ")),e.setAttribute("class","icon");var n=document.createElementNS(r,"path");n.setAttribute("d",t.path),t.transform?n.setAttribute("transform",t.transform):void 0!==t.ascent&&n.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),e.appendChild(n)}t.svg&&(e=Parser.parseFromString(t.svg,"application/xml").childNodes[0]);return e.setAttribute("height","1em"),e.setAttribute("width","1em"),e},proto$3.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,i=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var r=t.getAttribute("data-val")||!0,n=t.getAttribute("data-attr"),a="true"===t.getAttribute("data-toggle"),s=d3$g.select(t),o=function(t,i){var r=e.modebar,n=t.querySelector(".icon path");n&&(i||t.matches(":hover")?n.style.fill=r.activecolor:n.style.fill=r.color)};if(a){if(n===i){var l=!s.classed("active");s.classed("active",l),o(t,l)}}else{var c=null===n?n:Lib$14.nestedProperty(e,n).get();s.classed("active",c===r),o(t,c===r)}})},proto$3.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i){if(t[i].length!==e[i].length)return!1;for(var r=0;r<t[i].length;r++)if(t[i][r].name!==e[i][r].name)return!1}return!0},proto$3.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plotly.com/",e.target="_blank",e.setAttribute("data-title",jsVersion(Lib$14._(this.graphInfo,"Produced with Plotly.js"))),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(Icons.newplotlylogo)),t.appendChild(e),t},proto$3.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},proto$3.destroy=function(){Lib$14.removeElement(this.container.querySelector(".modebar"))};var modebar$1=createModeBar$1,axisIds$5=axis_ids$1,scatterSubTypes=subtypes$3,Registry$v=registry$1,isUnifiedHover=helpers$y.isUnifiedHover,createModeBar=modebar$1,modeBarButtons=buttonsExports,DRAW_MODES=constants$v.DRAW_MODES,extendDeep$1=libExports.extendDeep,manage=function(t){var e=t._fullLayout,i=t._context,r=e._modeBar;if(i.displayModeBar||i.watermark){if(!Array.isArray(i.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(i.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var n,a=i.modeBarButtons;n=Array.isArray(a)&&a.length?fillCustomButton(a):!i.displayModeBar&&i.watermark?[]:getButtonGroups(t),r?r.update(t,n):e._modeBar=createModeBar(t,n)}else r&&(r.destroy(),delete e._modeBar)};function getButtonGroups(t){var e=t._fullLayout,i=t._fullData,r=t._context;function n(t,e){if("string"==typeof e){if(e.toLowerCase()===t.toLowerCase())return!0}else{var i=e.name,r=e._cat||e.name;if(i===t||r===t.toLowerCase())return!0}return!1}var a=e.modebar.add;"string"==typeof a&&(a=[a]);var s=e.modebar.remove;"string"==typeof s&&(s=[s]);var o=r.modeBarButtonsToAdd.concat(a.filter(function(t){for(var e=0;e<r.modeBarButtonsToRemove.length;e++)if(n(t,r.modeBarButtonsToRemove[e]))return!1;return!0})),l=r.modeBarButtonsToRemove.concat(s.filter(function(t){for(var e=0;e<r.modeBarButtonsToAdd.length;e++)if(n(t,r.modeBarButtonsToAdd[e]))return!1;return!0})),c=e._has("cartesian"),g=e._has("gl3d"),d=e._has("geo"),u=e._has("pie"),B=e._has("funnelarea"),F=e._has("ternary"),h=e._has("mapbox"),Q=e._has("map"),U=e._has("polar"),I=e._has("smith"),b=e._has("sankey"),p=areAllAxesFixed(e),y=isUnifiedHover(e.hovermode),m=[];function C(t){if(t.length){for(var e=[],i=0;i<t.length;i++){for(var r=t[i],n=modeBarButtons[r],a=n.name.toLowerCase(),s=(n._cat||n.name).toLowerCase(),o=!1,c=0;c<l.length;c++){var g=l[c].toLowerCase();if(g===a||g===s){o=!0;break}}o||e.push(modeBarButtons[r])}m.push(e)}}var f=["toImage"];r.showEditInChartStudio?f.push("editInChartStudio"):r.showSendToCloud&&f.push("sendDataToCloud"),C(f);var x=[],A=[],v=[],L=[];(c||u||B||F)+d+g+h+Q+U+I>1?(A=["toggleHover"],v=["resetViews"]):d?(x=["zoomInGeo","zoomOutGeo"],A=["hoverClosestGeo"],v=["resetGeo"]):g?(A=["hoverClosest3d"],v=["resetCameraDefault3d","resetCameraLastSave3d"]):h?(x=["zoomInMapbox","zoomOutMapbox"],A=["toggleHover"],v=["resetViewMapbox"]):Q?(x=["zoomInMap","zoomOutMap"],A=["toggleHover"],v=["resetViewMap"]):u?A=["hoverClosestPie"]:b?(A=["hoverClosestCartesian","hoverCompareCartesian"],v=["resetViewSankey"]):A=["toggleHover"],c&&A.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(hasNoHover(i)||y)&&(A=[]),c&&!p&&(x=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==v[0]&&(v=["resetScale2d"])),g?L=["zoom3d","pan3d","orbitRotation","tableRotation"]:c&&!p||F?L=["zoom2d","pan2d"]:h||Q||d?L=["pan2d"]:U&&(L=["zoom2d"]),isSelectable(i)&&L.push("select2d","lasso2d");var R=[],S=function(t){-1===R.indexOf(t)&&-1!==A.indexOf(t)&&R.push(t)};if(Array.isArray(o)){for(var G=[],E=0;E<o.length;E++){var V=o[E];"string"==typeof V?(V=V.toLowerCase(),-1!==DRAW_MODES.indexOf(V)?(e._has("mapbox")||e._has("map")||e._has("cartesian"))&&L.push(V):"togglespikelines"===V?S("toggleSpikelines"):"togglehover"===V?S("toggleHover"):"hovercompare"===V?S("hoverCompareCartesian"):"hoverclosest"===V?(S("hoverClosestCartesian"),S("hoverClosestGeo"),S("hoverClosest3d"),S("hoverClosestPie")):"v1hovermode"===V&&(S("hoverClosestCartesian"),S("hoverCompareCartesian"),S("hoverClosestGeo"),S("hoverClosest3d"),S("hoverClosestPie"))):G.push(V)}o=G}return C(L),C(x.concat(v)),C(R),appendButtonsToGroups(m,o)}function areAllAxesFixed(t){for(var e=axisIds$5.list({_fullLayout:t},null,!0),i=0;i<e.length;i++){var r=e[i].modebardisable;if(!e[i].fixedrange&&"autoscale+zoominout"!==r&&"zoominout+autoscale"!==r)return!1}return!0}function isSelectable(t){for(var e=!1,i=0;i<t.length&&!e;i++){var r=t[i];r._module&&r._module.selectPoints&&(Registry$v.traceIs(r,"scatter-like")?(scatterSubTypes.hasMarkers(r)||scatterSubTypes.hasText(r))&&(e=!0):Registry$v.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(e=!0))}return e}function hasNoHover(t){for(var e=0;e<t.length;e++)if(!Registry$v.traceIs(t[e],"noHover"))return!1;return!0}function appendButtonsToGroups(t,e){if(e.length)if(Array.isArray(e[0]))for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t}function fillCustomButton(t){for(var e=extendDeep$1([],t),i=0;i<e.length;i++)for(var r=e[i],n=0;n<r.length;n++){var a=r[n];if("string"==typeof a){if(void 0===modeBarButtons[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[i][n]=modeBarButtons[a]}}return e}var modebar={moduleType:"component",name:"modebar",layoutAttributes:attributes$A,supplyLayoutDefaults:defaults$q,manage:manage},constraints={},FROM_BL$1=alignment$1.FROM_BL,scale_zoom=function(t,e,i){void 0===i&&(i=FROM_BL$1[t.constraintoward||"center"]);var r=[t.r2l(t.range[0]),t.r2l(t.range[1])],n=r[0]+(r[1]-r[0])*i;t.range=t._input.range=[t.l2r(n+(r[0]-n)*e),t.l2r(n+(r[1]-n)*e)],t.setScale()},Lib$13=libExports,autorange=requireAutorange(),id2name=axis_ids$1.id2name,layoutAttributes$3=layout_attributes$3,scaleZoom$1=scale_zoom,setConvert$1=set_convert,ALMOST_EQUAL=numerical.ALMOST_EQUAL,FROM_BL=alignment$1.FROM_BL;function handleOneAxDefaults(t,e,i){var r=i.axIds,n=i.layoutOut,a=i.hasImage,s=n._axisConstraintGroups,o=n._axisMatchGroups,l=e._id,c=l.charAt(0),g=((n._splomAxes||{})[c]||{})[l]||{},d=e._id,u="x"===d.charAt(0);function B(i,r){return Lib$13.coerce(t,e,layoutAttributes$3,i,r)}e._matchGroup=null,e._constraintGroup=null,B("constrain",a?"domain":"range"),Lib$13.coerce(t,e,{constraintoward:{valType:"enumerated",values:u?["left","center","right"]:["bottom","middle","top"],dflt:u?"center":"middle"}},"constraintoward");var F,h,Q=e.type,U=[];for(F=0;F<r.length;F++){if((h=r[F])!==d)n[id2name(h)].type===Q&&U.push(h)}var I=getConstraintGroup(s,d);if(I){var b=[];for(F=0;F<U.length;F++)I[h=U[F]]||b.push(h);U=b}var p,y,m=U.length;m&&(t.matches||g.matches)&&(p=Lib$13.coerce(t,e,{matches:{valType:"enumerated",values:U,dflt:-1!==U.indexOf(g.matches)?g.matches:void 0}},"matches"));var C=a&&!u?e.anchor:void 0;if(m&&!p&&(t.scaleanchor||C)&&(y=Lib$13.coerce(t,e,{scaleanchor:{valType:"enumerated",values:U.concat([!1])}},"scaleanchor",C)),p){e._matchGroup=updateConstraintGroups(o,d,p,1);var f=n[id2name(p)],x=extent$1(n,e)/extent$1(n,f);u!==("x"===p.charAt(0))&&(x=(u?"x":"y")+x),updateConstraintGroups(s,d,p,x)}else t.matches&&-1!==r.indexOf(t.matches)&&Lib$13.warn("ignored "+e._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(y){var A=B("scaleratio");A||(A=e.scaleratio=1),updateConstraintGroups(s,d,y,A)}else t.scaleanchor&&-1!==r.indexOf(t.scaleanchor)&&Lib$13.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function extent$1(t,e){var i=e.domain;return i||(i=t[id2name(e.overlaying)].domain),i[1]-i[0]}function getConstraintGroup(t,e){for(var i=0;i<t.length;i++)if(t[i][e])return t[i];return null}function updateConstraintGroups(t,e,i,r){var n,a,s,o,l,c=getConstraintGroup(t,e);null===c?((c={})[e]=1,l=t.length,t.push(c)):l=t.indexOf(c);var g=Object.keys(c);for(n=0;n<t.length;n++)if(s=t[n],n!==l&&s[i]){var d=s[i];for(a=0;a<g.length;a++)s[o=g[a]]=multiplyScales(d,multiplyScales(r,c[o]));return void t.splice(l,1)}if(1!==r)for(a=0;a<g.length;a++){var u=g[a];c[u]=multiplyScales(r,c[u])}c[i]=1}function multiplyScales(t,e){var i,r,n="",a="";"string"==typeof t&&(i=(n=t.match(/^[xy]*/)[0]).length,t=+t.substr(i)),"string"==typeof e&&(r=(a=e.match(/^[xy]*/)[0]).length,e=+e.substr(r));var s=t*e;return i||r?i&&r&&n.charAt(0)!==a.charAt(0)?i===r?s:(i>r?n.substr(r):a.substr(i))+s:n+a+t*e:s}function finalRatios(t,e){for(var i=e._size,r=i.h/i.w,n={},a=Object.keys(t),s=0;s<a.length;s++){var o=a[s],l=t[o];if("string"==typeof l){var c=l.match(/^[xy]*/)[0],g=c.length;l=+l.substr(g);for(var d="y"===c.charAt(0)?r:1/r,u=0;u<g;u++)l*=d}n[o]=l}return n}function updateDomain(t,e){var i=t._inputDomain,r=FROM_BL[t.constraintoward],n=i[0]+(i[1]-i[0])*r;t.domain=t._input.domain=[n+(i[0]-n)/e,n+(i[1]-n)/e],t.setScale()}constraints.handleDefaults=function(t,e,i){var r,n,a,s,o,l,c,g,d=i.axIds,u=i.axHasImage,B=e._axisConstraintGroups=[],F=e._axisMatchGroups=[];for(r=0;r<d.length;r++)handleOneAxDefaults(o=t[s=id2name(d[r])],l=e[s],{axIds:d,layoutOut:e,hasImage:u[s]});function h(t,i){for(r=0;r<t.length;r++)for(a in n=t[r])e[id2name(a)][i]=n}for(h(F,"_matchGroup"),r=0;r<B.length;r++)for(a in n=B[r])if((l=e[id2name(a)]).fixedrange){for(var Q in n){var U=id2name(Q);!1===(t[U]||{}).fixedrange&&Lib$13.warn("fixedrange was specified as false for axis "+U+" but was overridden because another axis in its constraint group has fixedrange true"),e[U].fixedrange=!0}break}for(r=0;r<B.length;){for(a in n=B[r]){(l=e[id2name(a)])._matchGroup&&Object.keys(l._matchGroup).length===Object.keys(n).length&&(B.splice(r,1),r--);break}r++}h(B,"_constraintGroup");var I=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],b=!1,p=!1;function y(){g=l[c],"rangebreaks"===c&&(p=l._hasDayOfWeekBreaks)}for(r=0;r<F.length;r++){n=F[r];for(var m=0;m<I.length;m++){var C;for(a in c=I[m],g=null,n)if(o=t[s=id2name(a)],l=e[s],c in l){if(!l.matches&&(C=l,c in o)){y();break}null===g&&c in o&&y()}if("range"===c&&g&&o.range&&2===o.range.length&&null!==o.range[0]&&null!==o.range[1]&&(b=!0),"autorange"===c&&null===g&&b&&(g=!1),null===g&&c in C&&(g=C[c]),null!==g)for(a in n)(l=e[id2name(a)])[c]="range"===c?g.slice():g,"rangebreaks"===c&&(l._hasDayOfWeekBreaks=p,setConvert$1(l,e))}}},constraints.enforce=function(t){var e,i,r,n,a,s,o,l,c=t._fullLayout,g=c._axisConstraintGroups||[];for(e=0;e<g.length;e++){r=finalRatios(g[e],c);var d=Object.keys(r),u=1/0,B=0,F=1/0,h={},Q={},U=!1;for(i=0;i<d.length;i++)Q[n=d[i]]=a=c[id2name(n)],a._inputDomain?a.domain=a._inputDomain.slice():a._inputDomain=a.domain.slice(),a._inputRange||(a._inputRange=a.range.slice()),a.setScale(),h[n]=s=Math.abs(a._m)/r[n],u=Math.min(u,s),"domain"!==a.constrain&&a._constraintShrinkable||(F=Math.min(F,s)),delete a._constraintShrinkable,B=Math.max(B,s),"domain"===a.constrain&&(U=!0);if(!(u>ALMOST_EQUAL*B)||U)for(i=0;i<d.length;i++)if(s=h[n=d[i]],o=(a=Q[n]).constrain,s!==F||"domain"===o)if(l=s/F,"range"===o)scaleZoom$1(a,l);else{var I=a._inputDomain,b=(a.domain[1]-a.domain[0])/(I[1]-I[0]),p=(a.r2l(a.range[1])-a.r2l(a.range[0]))/(a.r2l(a._inputRange[1])-a.r2l(a._inputRange[0]));if((l/=b)*p<1){a.domain=a._input.domain=I.slice(),scaleZoom$1(a,l);continue}if(p<1&&(a.range=a._input.range=a._inputRange.slice(),l*=p),a.autorange){var y=a.r2l(a.range[0]),m=a.r2l(a.range[1]),C=(y+m)/2,f=C,x=C,A=Math.abs(m-C),v=C-A*l*1.0001,L=C+A*l*1.0001,R=autorange.makePadFn(c,a,0),S=autorange.makePadFn(c,a,1);updateDomain(a,l);var G,E,V=Math.abs(a._m),Z=autorange.concatExtremes(t,a),N=Z.min,D=Z.max;for(E=0;E<N.length;E++)(G=N[E].val-R(N[E])/V)>v&&G<f&&(f=G);for(E=0;E<D.length;E++)(G=D[E].val+S(D[E])/V)<L&&G>x&&(x=G);l/=(x-f)/(2*A),f=a.l2r(f),x=a.l2r(x),a.range=a._input.range=y<m?[f,x]:[x,f]}updateDomain(a,l)}}},constraints.getAxisGroup=function(t,e){for(var i=t._axisMatchGroups,r=0;r<i.length;r++){if(i[r][e])return"g"+r}return e},constraints.clean=function(t,e){if(e._inputDomain){for(var i=!1,r=e._id,n=t._fullLayout._axisConstraintGroups,a=0;a<n.length;a++)if(n[a][r]){i=!0;break}i&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}},function(t){var e=d3Exports,i=registry$1,r=plotsExports,n=libExports,a=svg_text_utils,s=clear_gl_canvases,o=colorExports,l=drawingExports,c=titles,g=modebar,d=axesExports,u=alignment$1,B=constraints,F=B.enforce,h=B.clean,Q=requireAutorange().doAutoRange,U="start",I="middle",b="end",p=constants$K.zindexSeparator;function y(t,e,i){for(var r=0;r<i.length;r++){var n=i[r][0],a=i[r][1];if(!(n[0]>=t[1]||n[1]<=t[0])&&(a[0]<e[1]&&a[1]>e[0]))return!0}return!1}function m(i){var a,s,c,B,F,h,Q=i._fullLayout,U=Q._size,I=U.p,b=d.list(i,"",!0);if(Q._paperdiv.style({width:i._context.responsive&&Q.autosize&&!i._context._hasZeroWidth&&!i.layout.width?"100%":Q.width+"px",height:i._context.responsive&&Q.autosize&&!i._context._hasZeroHeight&&!i.layout.height?"100%":Q.height+"px"}).selectAll(".main-svg").call(l.setSize,Q.width,Q.height),i._context.setBackground(i,Q.paper_bgcolor),t.drawMainTitle(i),g.manage(i),!Q._has("cartesian"))return r.previousPromises(i);function m(t,e,i){var r=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===i?e._offset-I-r:e._offset+e._length+I+r:U.t+U.h*(1-(t.position||0))+r%1:e?"right"===i?e._offset+e._length+I+r:e._offset-I-r:U.l+U.w*(t.position||0)+r%1}for(a=0;a<b.length;a++){var f=(B=b[a])._anchorAxis;B._linepositions={},B._lw=l.crispRound(i,B.linewidth,1),B._mainLinePosition=m(B,f,B.side),B._mainMirrorPosition=B.mirror&&f?m(B,f,u.OPPOSITE_SIDE[B.side]):null}var A=[],v=[],L=[],R=1===o.opacity(Q.paper_bgcolor)&&1===o.opacity(Q.plot_bgcolor)&&Q.paper_bgcolor===Q.plot_bgcolor;for(s in Q._plots)if((c=Q._plots[s]).mainplot)c.bg&&c.bg.remove(),c.bg=void 0;else{var S=c.xaxis.domain,G=c.yaxis.domain,E=c.plotgroup;if(y(S,G,L)&&-1===s.indexOf(p)){var V=E.node(),Z=c.bg=n.ensureSingle(E,"rect","bg");V.insertBefore(Z.node(),V.childNodes[0]),v.push(s)}else E.select("rect.bg").remove(),L.push([S,G]),R||(A.push(s),v.push(s))}var N,D,w,X,W,H,T,M,k,Y,J,$,z,O=Q._bgLayer.selectAll(".bg").data(A);for(O.enter().append("rect").classed("bg",!0),O.exit().remove(),O.each(function(t){Q._plots[t].bg=e.select(this)}),a=0;a<v.length;a++)c=Q._plots[v[a]],F=c.xaxis,h=c.yaxis,c.bg&&void 0!==F._offset&&void 0!==h._offset&&c.bg.call(l.setRect,F._offset-I,h._offset-I,F._length+2*I,h._length+2*I).call(o.fill,Q.plot_bgcolor).style("stroke-width",0);if(!Q._hasOnlyLargeSploms)for(s in Q._plots){c=Q._plots[s],F=c.xaxis,h=c.yaxis;var K,_,P=c.clipId="clip"+Q._uid+s+"plot",j=n.ensureSingleById(Q._clips,"clipPath",P,function(t){t.classed("plotclip",!0).append("rect")});c.clipRect=j.select("rect").attr({width:F._length,height:h._length}),l.setTranslate(c.plot,F._offset,h._offset),c._hasClipOnAxisFalse?(K=null,_=P):(K=P,_=null),l.setClipUrl(c.plot,K,i),c.layerClipId=_}function q(t){return"M"+N+","+t+"H"+D}function tt(t){return"M"+F._offset+","+t+"h"+F._length}function et(t){return"M"+t+","+M+"V"+T}function it(t){return void 0!==h._shift&&(t+=h._shift),"M"+t+","+h._offset+"v"+h._length}function rt(t,e,i){if(!t.showline||s!==t._mainSubplot)return"";if(!t._anchorAxis)return i(t._mainLinePosition);var r=e(t._mainLinePosition);return t.mirror&&(r+=e(t._mainMirrorPosition)),r}for(s in Q._plots){c=Q._plots[s],F=c.xaxis,h=c.yaxis;var nt="M0,0";C(F,s)&&(W=x(F,"left",h,b),N=F._offset-(W?I+W:0),H=x(F,"right",h,b),D=F._offset+F._length+(H?I+H:0),w=m(F,h,"bottom"),X=m(F,h,"top"),!(z=!F._anchorAxis||s!==F._mainSubplot)||"allticks"!==F.mirror&&"all"!==F.mirror||(F._linepositions[s]=[w,X]),nt=rt(F,q,tt),z&&F.showline&&("all"===F.mirror||"allticks"===F.mirror)&&(nt+=q(w)+q(X)),c.xlines.style("stroke-width",F._lw+"px").call(o.stroke,F.showline?F.linecolor:"rgba(0,0,0,0)")),c.xlines.attr("d",nt);var at="M0,0";C(h,s)&&(J=x(h,"bottom",F,b),T=h._offset+h._length+(J?I:0),$=x(h,"top",F,b),M=h._offset-($?I:0),k=m(h,F,"left"),Y=m(h,F,"right"),!(z=!h._anchorAxis||s!==h._mainSubplot)||"allticks"!==h.mirror&&"all"!==h.mirror||(h._linepositions[s]=[k,Y]),at=rt(h,et,it),z&&h.showline&&("all"===h.mirror||"allticks"===h.mirror)&&(at+=et(k)+et(Y)),c.ylines.style("stroke-width",h._lw+"px").call(o.stroke,h.showline?h.linecolor:"rgba(0,0,0,0)")),c.ylines.attr("d",at)}return d.makeClipPaths(i),r.previousPromises(i)}function C(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function f(t,e,i){if(!i.showline||!i._lw)return!1;if("all"===i.mirror||"allticks"===i.mirror)return!0;var r=i._anchorAxis;if(!r)return!1;var n=u.FROM_BL[e];return i.side===e?r.domain[n]===t.domain[n]:i.mirror&&r.domain[1-n]===t.domain[1-n]}function x(t,e,i,r){if(f(t,e,i))return i._lw;for(var n=0;n<r.length;n++){var a=r[n];if(a._mainAxis===i._mainAxis&&f(t,e,a))return a._lw}return 0}function A(t){return"top"===t?u.CAP_SHIFT+.3+"em":"bottom"===t?"-0.3em":u.MID_SHIFT+"em"}t.layoutStyles=function(t){return n.syncOrAsync([r.doAutoMargin,m],t)},t.drawMainTitle=function(t){var i=t._fullLayout.title,s=t._fullLayout,o=function(t){var e=t.title,i=I;n.isRightAnchor(e)?i=b:n.isLeftAnchor(e)&&(i=U);return i}(s),g=function(t){var e=t.title,i="0em";n.isTopAnchor(e)?i=u.CAP_SHIFT+"em":n.isMiddleAnchor(e)&&(i=u.MID_SHIFT+"em");return i}(s),d=function(t,e){var i=t.title,r=t._size,n=0;"0em"!==e&&e?e===u.CAP_SHIFT+"em"&&(n=i.pad.t):n=-i.pad.b;return"auto"===i.y?r.t/2:"paper"===i.yref?r.t+r.h-r.h*i.y+n:t.height-t.height*i.y+n}(s,g),B=function(t,e){var i=t.title,r=t._size,n=0;e===U?n=i.pad.l:e===b&&(n=-i.pad.r);if("paper"===i.xref)return r.l+r.w*i.x+n;return t.width*i.x+n}(s,o);if(c.draw(t,"gtitle",{propContainer:s,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:s._dfltTitle.plot,subtitlePlaceholder:s._dfltTitle.subtitle,attributes:{x:B,y:d,"text-anchor":o,dy:g}}),i.text&&i.automargin){var F=e.select(t).selectAll(".gtitle"),h=l.bBox(e.select(t).selectAll(".g-gtitle").node()).height,Q=function(t,e,i){var r=e.y,n=e.yanchor,a=r>.5?"t":"b",s=t._fullLayout.margin[a],o=0;"paper"===e.yref?o=i+e.pad.t+e.pad.b:"container"===e.yref&&(o=function(t,e,i,r,n){var a=0;"middle"===i&&(a+=n/2);"t"===t?("top"===i&&(a+=n),a+=r-e*r):("bottom"===i&&(a+=n),a+=e*r);return a}(a,r,n,t._fullLayout.height,i)+e.pad.t+e.pad.b);if(o>s)return o;return 0}(t,i,h);if(Q>0){!function(t,e,i,a){var s="title.automargin",o=t._fullLayout.title,l=o.y>.5?"t":"b",c={x:o.x,y:o.y,t:0,b:0},g={};"paper"===o.yref&&function(t,e,i,r,a){var s="paper"===e.yref?t._fullLayout._size.h:t._fullLayout.height,o=n.isTopAnchor(e)?r:r-a,l="b"===i?s-o:o;return!(n.isTopAnchor(e)&&"t"===i||n.isBottomAnchor(e)&&"b"===i)&&l<a}(t,o,l,e,a)?c[l]=i:"container"===o.yref&&(g[l]=i,t._fullLayout._reservedMargin[s]=g);r.allowAutoMargin(t,s),r.autoMargin(t,s,c)}(t,d,Q,h),F.attr({x:B,y:d,"text-anchor":o,dy:A(i.yanchor)}).call(a.positionText,B,d);var p=(i.text.match(a.BR_TAG_ALL)||[]).length;if(p){var y=u.LINE_SPACING*p+u.MID_SHIFT;0===i.y&&(y=-y),F.selectAll(".line").each(function(){var t=+this.getAttribute("dy").slice(0,-2)-y+"em";this.setAttribute("dy",t)})}var m=e.select(t).selectAll(".gtitle-subtitle");if(m.node()){var C=F.node().getBBox(),f=C.y+C.height+c.SUBTITLE_PADDING_EM*i.subtitle.font.size;m.attr({x:B,y:f,"text-anchor":o,dy:A(i.yanchor)}).call(a.positionText,B,f)}}}},t.doTraceStyle=function(e){var n,a=e.calcdata,o=[];for(n=0;n<a.length;n++){var l=a[n],c=l[0]||{},g=c.trace||{},d=g._module||{},u=d.arraysToCalcdata;u&&u(l,g);var B=d.editStyle;B&&o.push({fn:B,cd0:c})}if(o.length){for(n=0;n<o.length;n++){var F=o[n];F.fn(e,F.cd0)}s(e),t.redrawReglTraces(e)}return r.style(e),i.getComponentMethod("legend","draw")(e),r.previousPromises(e)},t.doColorBars=function(t){return i.getComponentMethod("colorbar","draw")(t),r.previousPromises(t)},t.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,i.call("_doPlot",t,"",e)},t.doLegend=function(t){return i.getComponentMethod("legend","draw")(t),r.previousPromises(t)},t.doTicksRelayout=function(e){return d.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(e),s(e),t.redrawReglTraces(e)),t.drawMainTitle(e),r.previousPromises(e)},t.doModeBar=function(t){var e=t._fullLayout;g.manage(t);for(var i=0;i<e._basePlotModules.length;i++){var n=e._basePlotModules[i].updateFx;n&&n(t)}return r.previousPromises(t)},t.doCamera=function(t){for(var e=t._fullLayout,i=e._subplots.gl3d,r=0;r<i.length;r++){var n=e[i[r]];n._scene.setViewport(n)}},t.drawData=function(e){var n=e._fullLayout;s(e);for(var a=n._basePlotModules,o=0;o<a.length;o++)a[o].plot(e);return t.redrawReglTraces(e),r.style(e),i.getComponentMethod("selections","draw")(e),i.getComponentMethod("shapes","draw")(e),i.getComponentMethod("annotations","draw")(e),i.getComponentMethod("images","draw")(e),n._replotting=!1,r.previousPromises(e)},t.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var i,r,a=t._fullData,s=[],o=[];for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),i=0;i<a.length;i++){var l=a[i];!0===l.visible&&0!==l._length&&("splom"===l.type?e._splomScenes[l.uid].draw():"scattergl"===l.type?n.pushUnique(s,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&n.pushUnique(o,l.subplot))}for(i=0;i<s.length;i++)(r=e._plots[s[i]])._scene&&r._scene.draw();for(i=0;i<o.length;i++)(r=e[o[i]]._subplot)._scene&&r._scene.draw()}},t.doAutoRangeAndConstraints=function(t){for(var e,i=d.list(t,"",!0),r={},n=0;n<i.length;n++)if(!r[(e=i[n])._id]){r[e._id]=1,h(t,e),Q(t,e);var a=e._matchGroup;if(a)for(var s in a){var o=d.getFromId(t,s);Q(t,o,e.range),r[s]=1}}F(t)},t.finalDraw=function(t){i.getComponentMethod("rangeslider","draw")(t),i.getComponentMethod("rangeselector","draw")(t)},t.drawMarginPushers=function(t){i.getComponentMethod("legend","draw")(t),i.getComponentMethod("rangeselector","draw")(t),i.getComponentMethod("sliders","draw")(t),i.getComponentMethod("updatemenus","draw")(t),i.getComponentMethod("colorbar","draw")(t)}}(subroutines);var readPaths$1=helpers$p.readPaths,displayOutlines$1=display_outlines,clearOutlineControllers=handle_outline.clearOutlineControllers,Color$n=colorExports,Drawing$g=drawingExports,arrayEditor$4=plot_template.arrayEditor,helpers$h=helpers$l,getPathString=helpers$h.getPathString,draw_1$2={draw:draw$9,drawOne:drawOne$1,activateLastSelection:activateLastSelection$1};function draw$9(t){var e=t._fullLayout;for(var i in clearOutlineControllers(t),e._selectionLayer.selectAll("path").remove(),e._plots){var r=e._plots[i].selectionLayer;r&&r.selectAll("path").remove()}for(var n=0;n<e.selections.length;n++)drawOne$1(t,n)}function couldHaveActiveSelection(t){return t._context.editSelection}function drawOne$1(t,e){t._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+e+'"]').remove();var i=helpers$h.makeSelectionsOptionsAndPlotinfo(t,e),r=i.options,n=i.plotinfo;r._input&&function(i){var a=getPathString(t,r),s={"data-index":e,"fill-rule":"evenodd",d:a},o=r.opacity,l="rgba(0,0,0,0)",c=r.line.color||Color$n.contrast(t._fullLayout.plot_bgcolor),g=r.line.width,d=r.line.dash;g||(g=5,d="solid");var u=couldHaveActiveSelection(t)&&t._fullLayout._activeSelectionIndex===e;u&&(l=t._fullLayout.activeselection.fillcolor,o=t._fullLayout.activeselection.opacity);for(var B=[],F=1;F>=0;F--){var h=i.append("path").attr(s).style("opacity",F?.1:o).call(Color$n.stroke,c).call(Color$n.fill,l).call(Drawing$g.dashLine,F?"solid":d,F?4+g:g);if(setClipPath(h,t,r),u){var Q=arrayEditor$4(t.layout,"selections",r);h.style({cursor:"move"});var U={element:h.node(),plotinfo:n,gd:t,editHelpers:Q,isActiveSelection:!0},I=readPaths$1(a,t);displayOutlines$1(I,h,U)}else h.style("pointer-events",F?"all":"none");B[F]=h}var b=B[0];B[1].node().addEventListener("click",function(){return activateSelection(t,b)})}(t._fullLayout._selectionLayer)}function setClipPath(t,e,i){var r=i.xref+i.yref;Drawing$g.setClipUrl(t,"clip"+e._fullLayout._uid+r,e)}function activateSelection(t,e){if(couldHaveActiveSelection(t)){var i=+e.node().getAttribute("data-index");if(i>=0){if(i===t._fullLayout._activeSelectionIndex)return void deactivateSelection(t);t._fullLayout._activeSelectionIndex=i,t._fullLayout._deactivateSelection=deactivateSelection,draw$9(t)}}}function activateLastSelection$1(t){if(couldHaveActiveSelection(t)){var e=t._fullLayout.selections.length-1;t._fullLayout._activeSelectionIndex=e,t._fullLayout._deactivateSelection=deactivateSelection,draw$9(t)}}function deactivateSelection(t){couldHaveActiveSelection(t)&&(t._fullLayout._activeSelectionIndex>=0&&(clearOutlineControllers(t),delete t._fullLayout._activeSelectionIndex,draw$9(t)))}function BuildLog$1(){var t,e=0,i=!1;function r(e,i){return t.list.push({type:e,data:i?JSON.parse(JSON.stringify(i)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return r("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return r("div_seg",{seg:t,pt:e}),r("chop",{seg:t,pt:e})},statusRemove:function(t){return r("pop_seg",{seg:t})},segmentUpdate:function(t){return r("seg_update",{seg:t})},segmentNew:function(t,e){return r("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return r("rem_seg",{seg:t})},tempStatus:function(t,e,i){return r("temp_status",{seg:t,above:e,below:i})},rewind:function(t){return r("rewind",{seg:t})},status:function(t,e,i){return r("status",{seg:t,above:e,below:i})},vert:function(e){return e===i?t:(i=e,r("vert",{x:e}))},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),r("log",{txt:t})},reset:function(){return r("reset")},selected:function(t){return r("selected",{segs:t})},chainStart:function(t){return r("chain_start",{seg:t})},chainRemoveHead:function(t,e){return r("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return r("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return r("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return r("chain_match",{index:t})},chainClose:function(t){return r("chain_close",{index:t})},chainAddHead:function(t,e){return r("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return r("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return r("chain_con",{index1:t,index2:e})},chainReverse:function(t){return r("chain_rev",{index:t})},chainJoin:function(t,e){return r("chain_join",{index1:t,index2:e})},done:function(){return r("done")}},t}var buildLog$1=BuildLog$1;function Epsilon$1(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,i,r){var n=i[0],a=i[1],s=r[0],o=r[1],l=e[0];return(s-n)*(e[1]-a)-(o-a)*(l-n)>=-t},pointBetween:function(e,i,r){var n=e[1]-i[1],a=r[0]-i[0],s=e[0]-i[0],o=r[1]-i[1],l=s*a+n*o;return!(l<t)&&!(l-(a*a+o*o)>-t)},pointsSameX:function(e,i){return Math.abs(e[0]-i[0])<t},pointsSameY:function(e,i){return Math.abs(e[1]-i[1])<t},pointsSame:function(t,i){return e.pointsSameX(t,i)&&e.pointsSameY(t,i)},pointsCompare:function(t,i){return e.pointsSameX(t,i)?e.pointsSameY(t,i)?0:t[1]<i[1]?-1:1:t[0]<i[0]?-1:1},pointsCollinear:function(e,i,r){var n=e[0]-i[0],a=e[1]-i[1],s=i[0]-r[0],o=i[1]-r[1];return Math.abs(n*o-s*a)<t},linesIntersect:function(e,i,r,n){var a=i[0]-e[0],s=i[1]-e[1],o=n[0]-r[0],l=n[1]-r[1],c=a*l-s*o;if(Math.abs(c)<t)return!1;var g=e[0]-r[0],d=e[1]-r[1],u=(o*d-l*g)/c,B=(a*d-s*g)/c,F={alongA:0,alongB:0,pt:[e[0]+u*a,e[1]+u*s]};return F.alongA=u<=-t?-2:u<t?-1:u-1<=-t?0:u-1<t?1:2,F.alongB=B<=-t?-2:B<t?-1:B-1<=-t?0:B-1<t?1:2,F},pointInsideRegion:function(e,i){for(var r=e[0],n=e[1],a=i[i.length-1][0],s=i[i.length-1][1],o=!1,l=0;l<i.length;l++){var c=i[l][0],g=i[l][1];g-n>t!=s-n>t&&(a-c)*(n-g)/(s-g)+c-r>t&&(o=!o),a=c,s=g}return o}};return e}var epsilon$1=Epsilon$1,LinkedList$1={create:function(){var t={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,i){for(var r=t.root,n=t.root.next;null!==n;){if(i(n))return e.prev=n.prev,e.next=n,n.prev.next=e,void(n.prev=e);r=n,n=n.next}r.next=e,e.prev=r,e.next=null},findTransition:function(e){for(var i=t.root,r=t.root.next;null!==r&&!e(r);)i=r,r=r.next;return{before:i===t.root?null:i,after:r,insert:function(t){return t.prev=i,t.next=r,i.next=t,null!==r&&(r.prev=t),t}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}},linkedList=LinkedList$1,LinkedList=linkedList;function Intersecter$1(t,e,i){function r(t,e){return{id:i?i.segmentId():-1,start:t,end:e,myFill:{above:null,below:null},otherFill:null}}function n(t,e,r){return{id:i?i.segmentId():-1,start:t,end:e,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var a=LinkedList.create();function s(t,i){a.insertBefore(t,function(r){return function(t,i,r,n,a,s){var o=e.pointsCompare(i,a);return 0!==o?o:e.pointsSame(r,s)?0:t!==n?t?1:-1:e.pointAboveOrOnLine(r,n?a:s,n?s:a)?1:-1}(t.isStart,t.pt,i,r.isStart,r.pt,r.other.pt)<0})}function o(t,e){var i=function(t,e){var i=LinkedList.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return s(i,t.end),i}(t,e);return function(t,e,i){var r=LinkedList.node({isStart:!1,pt:e.end,seg:e,primary:i,other:t,status:null});t.other=r,s(r,t.pt)}(i,t,e),i}function l(t,e){var r=n(e,t.seg.end,t.seg);return function(t,e){i&&i.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,s(t.other,t.pt)}(t,e),o(r,t.primary)}function c(r,n){var s=LinkedList.create();function o(t){return s.findTransition(function(i){var r,n,a,s,o,l;return(r=t,n=i.ev,a=r.seg.start,s=r.seg.end,o=n.seg.start,l=n.seg.end,e.pointsCollinear(a,o,l)?e.pointsCollinear(s,o,l)||e.pointAboveOrOnLine(s,o,l)?1:-1:e.pointAboveOrOnLine(a,o,l)?1:-1)>0})}function c(t,r){var n=t.seg,a=r.seg,s=n.start,o=n.end,c=a.start,g=a.end;i&&i.checkIntersection(n,a);var d=e.linesIntersect(s,o,c,g);if(!1===d){if(!e.pointsCollinear(s,o,c))return!1;if(e.pointsSame(s,g)||e.pointsSame(o,c))return!1;var u=e.pointsSame(s,c),B=e.pointsSame(o,g);if(u&&B)return r;var F=!u&&e.pointBetween(s,c,g),h=!B&&e.pointBetween(o,c,g);if(u)return h?l(r,o):l(t,g),r;F&&(B||(h?l(r,o):l(t,g)),l(r,s))}else 0===d.alongA&&(-1===d.alongB?l(t,c):0===d.alongB?l(t,d.pt):1===d.alongB&&l(t,g)),0===d.alongB&&(-1===d.alongA?l(r,s):0===d.alongA?l(r,d.pt):1===d.alongA&&l(r,o));return!1}for(var g=[];!a.isEmpty();){var d=a.getHead();if(i&&i.vert(d.pt[0]),d.isStart){i&&i.segmentNew(d.seg,d.primary);var u=o(d),B=u.before?u.before.ev:null,F=u.after?u.after.ev:null;function h(){if(B){var t=c(d,B);if(t)return t}return!!F&&c(d,F)}i&&i.tempStatus(d.seg,!!B&&B.seg,!!F&&F.seg);var Q,U=h();if(U){var I;if(t)(I=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(U.seg.myFill.above=!U.seg.myFill.above);else U.seg.otherFill=d.seg.myFill;i&&i.segmentUpdate(U.seg),d.other.remove(),d.remove()}if(a.getHead()!==d){i&&i.rewind(d.seg);continue}if(t)I=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=F?F.seg.myFill.above:r,d.seg.myFill.above=I?!d.seg.myFill.below:d.seg.myFill.below;else if(null===d.seg.otherFill)Q=F?d.primary===F.primary?F.seg.otherFill.above:F.seg.myFill.above:d.primary?n:r,d.seg.otherFill={above:Q,below:Q};i&&i.status(d.seg,!!B&&B.seg,!!F&&F.seg),d.other.status=u.insert(LinkedList.node({ev:d}))}else{var b=d.status;if(null===b)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(b.prev)&&s.exists(b.next)&&c(b.prev.ev,b.next.ev),i&&i.statusRemove(b.ev.seg),b.remove(),!d.primary){var p=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=p}g.push(d.seg)}a.getHead().remove()}return i&&i.done(),g}return t?{addRegion:function(t){for(var i,n=t[t.length-1],a=0;a<t.length;a++){i=n,n=t[a];var s=e.pointsCompare(i,n);0!==s&&o(r(s<0?i:n,s<0?n:i),!0)}},calculate:function(t){return c(t,!1)}}:{calculate:function(t,e,i,r){return t.forEach(function(t){o(n(t.start,t.end,t),!0)}),i.forEach(function(t){o(n(t.start,t.end,t),!1)}),c(e,r)}}}var intersecter=Intersecter$1;function SegmentChainer$1(t,e,i){var r=[],n=[];return t.forEach(function(t){var a=t.start,s=t.end;if(e.pointsSame(a,s))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{i&&i.chainStart(t);for(var o={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},c=o,g=0;g<r.length;g++){var d=(Q=r[g])[0];Q[1];var u=Q[Q.length-1];if(Q[Q.length-2],e.pointsSame(d,a)){if(f(g,!0,!0))break}else if(e.pointsSame(d,s)){if(f(g,!0,!1))break}else if(e.pointsSame(u,a)){if(f(g,!1,!0))break}else if(e.pointsSame(u,s)&&f(g,!1,!1))break}if(c===o)return r.push([a,s]),void(i&&i.chainNew(a,s));if(c===l){i&&i.chainMatch(o.index);var B=o.index,F=o.matches_pt1?s:a,h=o.matches_head,Q=r[B],U=h?Q[0]:Q[Q.length-1],I=h?Q[1]:Q[Q.length-2],b=h?Q[Q.length-1]:Q[0],p=h?Q[Q.length-2]:Q[1];return e.pointsCollinear(I,U,F)&&(h?(i&&i.chainRemoveHead(o.index,F),Q.shift()):(i&&i.chainRemoveTail(o.index,F),Q.pop()),U=I),e.pointsSame(b,F)?(r.splice(B,1),e.pointsCollinear(p,b,U)&&(h?(i&&i.chainRemoveTail(o.index,U),Q.pop()):(i&&i.chainRemoveHead(o.index,U),Q.shift())),i&&i.chainClose(o.index),void n.push(Q)):void(h?(i&&i.chainAddHead(o.index,F),Q.unshift(F)):(i&&i.chainAddTail(o.index,F),Q.push(F)))}var y=o.index,m=l.index;i&&i.chainConnect(y,m);var C=r[y].length<r[m].length;o.matches_head?l.matches_head?C?(x(y),A(y,m)):(x(m),A(m,y)):A(m,y):l.matches_head?A(y,m):C?(x(y),A(m,y)):(x(m),A(y,m))}function f(t,e,i){return c.index=t,c.matches_head=e,c.matches_pt1=i,c===o?(c=l,!1):(c=null,!0)}function x(t){i&&i.chainReverse(t),r[t].reverse()}function A(t,n){var a=r[t],s=r[n],o=a[a.length-1],l=a[a.length-2],c=s[0],g=s[1];e.pointsCollinear(l,o,c)&&(i&&i.chainRemoveTail(t,o),a.pop(),o=l),e.pointsCollinear(o,c,g)&&(i&&i.chainRemoveHead(n,c),s.shift()),i&&i.chainJoin(t,n),r[t]=a.concat(s),r.splice(n,1)}}),n}var segmentChainer=SegmentChainer$1;function select$4(t,e,i){var r=[];return t.forEach(function(t){var n=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[n]&&r.push({id:i?i.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[n],below:2===e[n]},otherFill:null})}),i&&i.selected(r),r}var PolyBool,SegmentSelector$1={union:function(t,e){return select$4(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return select$4(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return select$4(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return select$4(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return select$4(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}},segmentSelector=SegmentSelector$1,GeoJSON$1={toPolygon:function(t,e){function i(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function i(e){var i=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[i]})}for(var r=i(e[0]),n=1;n<e.length;n++)r=t.selectDifference(t.combine(r,i(e[n])));return r}if("Polygon"===e.type)return t.polygon(i(e.coordinates));if("MultiPolygon"===e.type){for(var r=t.segments({inverted:!1,regions:[]}),n=0;n<e.coordinates.length;n++)r=t.selectUnion(t.combine(r,i(e.coordinates[n])));return t.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,i){function r(t,i){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],i)}function n(t){return{region:t,children:[]}}i=t.polygon(t.segments(i));var a=n(null);function s(t,e){for(var i=0;i<t.children.length;i++){if(r(e,(o=t.children[i]).region))return void s(o,e)}var a=n(e);for(i=0;i<t.children.length;i++){var o;r((o=t.children[i]).region,e)&&(a.children.push(o),t.children.splice(i,1),i--)}t.children.push(a)}for(var o=0;o<i.regions.length;o++){var l=i.regions[o];l.length<3||s(a,l)}function c(t,e){for(var i=0,r=t[t.length-1][0],n=t[t.length-1][1],a=[],s=0;s<t.length;s++){var o=t[s][0],l=t[s][1];a.push([o,l]),i+=l*r-o*n,r=o,n=l}return i<0!==e&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var g=[];function d(t){var e=[c(t.region,!1)];g.push(e);for(var i=0;i<t.children.length;i++)e.push(u(t.children[i]))}function u(t){for(var e=0;e<t.children.length;e++)d(t.children[e]);return c(t.region,!0)}for(o=0;o<a.children.length;o++)d(a.children[o]);return g.length<=0?{type:"Polygon",coordinates:[]}:1==g.length?{type:"Polygon",coordinates:g[0]}:{type:"MultiPolygon",coordinates:g}}},geojson=GeoJSON$1,BuildLog=buildLog$1,Epsilon=epsilon$1,Intersecter=intersecter,SegmentChainer=segmentChainer,SegmentSelector=segmentSelector,GeoJSON=geojson,buildLog=!1,epsilon=Epsilon();function operate(t,e,i){var r=PolyBool.segments(t),n=PolyBool.segments(e),a=i(PolyBool.combine(r,n));return PolyBool.polygon(a)}PolyBool={buildLog:function(t){return!0===t?buildLog=BuildLog():!1===t&&(buildLog=!1),!1!==buildLog&&buildLog.list},epsilon:function(t){return epsilon.epsilon(t)},segments:function(t){var e=Intersecter(!0,epsilon,buildLog);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:Intersecter(!1,epsilon,buildLog).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:SegmentSelector.union(t.combined,buildLog),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:SegmentSelector.intersect(t.combined,buildLog),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:SegmentSelector.difference(t.combined,buildLog),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:SegmentSelector.differenceRev(t.combined,buildLog),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:SegmentSelector.xor(t.combined,buildLog),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:SegmentChainer(t.segments,epsilon,buildLog),inverted:t.inverted}},polygonFromGeoJSON:function(t){return GeoJSON.toPolygon(PolyBool,t)},polygonToGeoJSON:function(t){return GeoJSON.fromPolygon(PolyBool,epsilon,t)},union:function(t,e){return operate(t,e,PolyBool.selectUnion)},intersect:function(t,e){return operate(t,e,PolyBool.selectIntersect)},difference:function(t,e){return operate(t,e,PolyBool.selectDifference)},differenceRev:function(t,e){return operate(t,e,PolyBool.selectDifferenceRev)},xor:function(t,e){return operate(t,e,PolyBool.selectXor)}},"object"==typeof window&&(window.PolyBool=PolyBool);var polybooljs=PolyBool,nested=function(t,e,i,r){var n=t[0],a=t[1],s=!1;void 0===i&&(i=0),void 0===r&&(r=e.length);for(var o=r-i,l=0,c=o-1;l<o;c=l++){var g=e[l+i][0],d=e[l+i][1],u=e[c+i][0],B=e[c+i][1];d>a!=B>a&&n<(u-g)*(a-d)/(B-d)+g&&(s=!s)}return s},polygon$1={exports:{}},dot$1=matrix$1.dot,BADNUM$4=numerical.BADNUM,polygon=polygon$1.exports={};polygon.tester=function(t){var e,i=t.slice(),r=i[0][0],n=r,a=i[0][1],s=a;for(i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),e=1;e<i.length;e++)r=Math.min(r,i[e][0]),n=Math.max(n,i[e][0]),a=Math.min(a,i[e][1]),s=Math.max(s,i[e][1]);var o,l=!1;5===i.length&&(i[0][0]===i[1][0]?i[2][0]===i[3][0]&&i[0][1]===i[3][1]&&i[1][1]===i[2][1]&&(l=!0,o=function(t){return t[0]===i[0][0]}):i[0][1]===i[1][1]&&i[2][1]===i[3][1]&&i[0][0]===i[3][0]&&i[1][0]===i[2][0]&&(l=!0,o=function(t){return t[1]===i[0][1]}));var c=!0,g=i[0];for(e=1;e<i.length;e++)if(g[0]!==i[e][0]||g[1]!==i[e][1]){c=!1;break}return{xmin:r,xmax:n,ymin:a,ymax:s,pts:i,contains:l?function(t,e){var i=t[0],l=t[1];return!(i===BADNUM$4||i<r||i>n||l===BADNUM$4||l<a||l>s)&&(!e||!o(t))}:function(t,e){var o=t[0],l=t[1];if(o===BADNUM$4||o<r||o>n||l===BADNUM$4||l<a||l>s)return!1;var c,g,d,u,B,F=i.length,h=i[0][0],Q=i[0][1],U=0;for(c=1;c<F;c++)if(g=h,d=Q,h=i[c][0],Q=i[c][1],!(o<(u=Math.min(g,h))||o>Math.max(g,h)||l>Math.max(d,Q)))if(l<Math.min(d,Q))o!==u&&U++;else{if(l===(B=h===g?l:d+(o-g)*(Q-d)/(h-g)))return 1!==c||!e;l<=B&&o!==u&&U++}return U%2==1},isRect:l,degenerate:c}},polygon.isSegmentBent=function(t,e,i,r){var n,a,s,o=t[e],l=[t[i][0]-o[0],t[i][1]-o[1]],c=dot$1(l,l),g=Math.sqrt(c),d=[-l[1]/g,l[0]/g];for(n=e+1;n<i;n++)if(a=[t[n][0]-o[0],t[n][1]-o[1]],(s=dot$1(a,l))<0||s>c||Math.abs(dot$1(a,d))>r)return!0;return!1},polygon.filter=function(t,e){var i=[t[0]],r=0,n=0;function a(a){t.push(a);var s=i.length,o=r;i.splice(n+1);for(var l=o+1;l<t.length;l++)(l===t.length-1||polygon.isSegmentBent(t,o,l+1,e))&&(i.push(t[l]),i.length<s-2&&(r=l,n=i.length-1),o=l)}t.length>1&&a(t.pop());return{addPt:a,raw:t,filtered:i}};var polygonExports=polygon$1.exports,constants$t={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"},polybool=polybooljs,pointInPolygon=nested,Registry$u=registry$1,dashStyle=drawingExports.dashStyle,Color$m=colorExports,Fx$5=fx,makeEventData=helpers$y.makeEventData,dragHelpers=helpers$q,freeMode$1=dragHelpers.freeMode,rectMode=dragHelpers.rectMode,drawMode=dragHelpers.drawMode,openMode=dragHelpers.openMode,selectMode=dragHelpers.selectMode,shapeHelpers=helpers$l,shapeConstants=constants$y,displayOutlines=display_outlines,clearOutline$1=handle_outline.clearOutline,newShapeHelpers=helpers$p,handleEllipse=newShapeHelpers.handleEllipse,readPaths=newShapeHelpers.readPaths,newShapes=newshapes.newShapes,newSelections=newselections,activateLastSelection=draw_1$2.activateLastSelection,Lib$12=libExports,ascending=Lib$12.sorterAsc,libPolygon=polygonExports,throttle=throttle$2,getFromId$1=axis_ids$1.getFromId,clearGlCanvases$1=clear_gl_canvases,redrawReglTraces$1=subroutines.redrawReglTraces,constants$s=constants$t,MINSELECT=constants$s.MINSELECT,filteredPolygon=libPolygon.filter,polygonTester$1=libPolygon.tester,helpers$g=helpers$o,p2r=helpers$g.p2r,axValue=helpers$g.axValue,getTransform=helpers$g.getTransform;function hasSubplot(t){return void 0!==t.subplot}function prepSelect$1(t,e,i,r,n){var a=!hasSubplot(r),s=freeMode$1(n),o=rectMode(n),l=openMode(n),c=drawMode(n),g=selectMode(n),d="drawcircle"===n,u="drawline"===n||d,B=r.gd,F=B._fullLayout,h=g&&"immediate"===F.newselection.mode&&a,Q=F._zoomlayer,U=r.element.getBoundingClientRect(),I=r.plotinfo,b=getTransform(I),p=e-U.left,y=i-U.top;F._calcInverseTransform(B);var m=Lib$12.apply3DTransform(F._invTransform)(p,y);p=m[0],y=m[1];var C,f,x,A,v,L,R,S=F._invScaleX,G=F._invScaleY,E=p,V=y,Z="M"+p+","+y,N=r.xaxes[0],D=r.yaxes[0],w=N._length,X=D._length,W=t.altKey&&!(drawMode(n)&&l);coerceSelectionsCache(t,B,r),s&&(C=filteredPolygon([[p,y]],constants$s.BENDPX));var H=Q.selectAll("path.select-outline-"+I.id).data([1]),T=c?F.newshape:F.newselection;c&&(r.hasText=T.label.text||T.label.texttemplate);var M=c&&!l?T.fillcolor:"rgba(0,0,0,0)",k=T.line.color||(a?Color$m.contrast(B._fullLayout.plot_bgcolor):"#7f7f7f");H.enter().append("path").attr("class","select-outline select-outline-"+I.id).style({opacity:c?T.opacity/2:1,"stroke-dasharray":dashStyle(T.line.dash,T.line.width),"stroke-width":T.line.width+"px","shape-rendering":"crispEdges"}).call(Color$m.stroke,k).call(Color$m.fill,M).attr("fill-rule","evenodd").classed("cursor-move",!!c).attr("transform",b).attr("d",Z+"Z");var Y=Q.append("path").attr("class","zoombox-corners").style({fill:Color$m.background,stroke:Color$m.defaultLine,"stroke-width":1}).attr("transform",b).attr("d","M0,0Z");if(c&&r.hasText){var J=Q.select(".label-temp");J.empty()&&(J=Q.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var $=F._uid+constants$s.SELECTID,z=[],O=determineSearchTraces(B,r.xaxes,r.yaxes,r.subplot);h&&!t.shiftKey&&(r._clearSubplotSelections=function(){if(a){var t=N._id,e=D._id;deselectSubplot(B,t,e,O);for(var i=(B.layout||{}).selections||[],r=[],n=!1,s=0;s<i.length;s++){var o=F.selections[s];o&&o.xref===t&&o.yref===e?n=!0:r.push(i[s])}n&&(B._fullLayout._noEmitSelectedAtStart=!0,Registry$u.call("_guiRelayout",B,{selections:r}))}});var K=getFillRangeItems(r);r.moveFn=function(t,e){r._clearSubplotSelections&&(r._clearSubplotSelections(),r._clearSubplotSelections=void 0),E=Math.max(0,Math.min(w,S*t+p)),V=Math.max(0,Math.min(X,G*e+y));var i=Math.abs(E-p),n=Math.abs(V-y);if(o){var a,h,Q;if(g){var U=F.selectdirection;switch(a="any"===U?n<Math.min(.6*i,MINSELECT)?"h":i<Math.min(.6*n,MINSELECT)?"v":"d":U){case"h":h=d?X/2:0,Q=X;break;case"v":h=d?w/2:0,Q=w}}if(c)switch(F.newshape.drawdirection){case"vertical":a="h",h=d?X/2:0,Q=X;break;case"horizontal":a="v",h=d?w/2:0,Q=w;break;case"ortho":i<n?(a="h",h=y,Q=V):(a="v",h=p,Q=E);break;default:a="d"}"h"===a?((A=u?handleEllipse(d,[E,h],[E,Q]):[[p,h],[p,Q],[E,Q],[E,h]]).xmin=u?E:Math.min(p,E),A.xmax=u?E:Math.max(p,E),A.ymin=Math.min(h,Q),A.ymax=Math.max(h,Q),Y.attr("d","M"+A.xmin+","+(y-MINSELECT)+"h-4v"+2*MINSELECT+"h4ZM"+(A.xmax-1)+","+(y-MINSELECT)+"h4v"+2*MINSELECT+"h-4Z")):"v"===a?((A=u?handleEllipse(d,[h,V],[Q,V]):[[h,y],[h,V],[Q,V],[Q,y]]).xmin=Math.min(h,Q),A.xmax=Math.max(h,Q),A.ymin=u?V:Math.min(y,V),A.ymax=u?V:Math.max(y,V),Y.attr("d","M"+(p-MINSELECT)+","+A.ymin+"v-4h"+2*MINSELECT+"v4ZM"+(p-MINSELECT)+","+(A.ymax-1)+"v4h"+2*MINSELECT+"v-4Z")):"d"===a&&((A=u?handleEllipse(d,[p,y],[E,V]):[[p,y],[p,V],[E,V],[E,y]]).xmin=Math.min(p,E),A.xmax=Math.max(p,E),A.ymin=Math.min(y,V),A.ymax=Math.max(y,V),Y.attr("d","M0,0Z"))}else s&&(C.addPt([E,V]),A=C.filtered);if(r.selectionDefs&&r.selectionDefs.length?(x=mergePolygons(r.mergedPolygons,A,W),A.subtract=W,f=multiTester(r.selectionDefs.concat([A]))):(x=[A],f=polygonTester$1(A)),displayOutlines(convertPoly(x,l),H,r),g){var I,b=reselect(B,!1),m=b.eventData?b.eventData.points.slice():[];b=reselect(B,!1,f,O,r),f=b.selectionTesters,R=b.eventData,I=C?C.filtered:castMultiPolygon(x),throttle.throttle($,constants$s.SELECTDELAY,function(){for(var t=(z=_doSelect(f,O)).slice(),e=0;e<m.length;e++){for(var i=m[e],r=!1,n=0;n<t.length;n++)if(t[n].curveNumber===i.curveNumber&&t[n].pointNumber===i.pointNumber){r=!0;break}r||t.push(i)}t.length&&(R||(R={}),R.points=t),K(R,I),emitSelecting(B,R)})}},r.clickFn=function(t,e){if(Y.remove(),B._fullLayout._activeShapeIndex>=0)B._fullLayout._deactivateShape(B);else if(!c){var i=F.clickmode;throttle.done($).then(function(){if(throttle.clear($),2===t){for(H.remove(),v=0;v<O.length;v++)(L=O[v])._module.selectPoints(L,!1);if(updateSelectedState(B,O),clearSelectionsCache(r),emitDeselect(B),O.length){var n=O[0].xaxis,a=O[0].yaxis;if(n&&a){for(var s=[],o=B._fullLayout.selections,l=0;l<o.length;l++){var c=o[l];c&&(c.xref===n._id&&c.yref===a._id||s.push(c))}s.length<o.length&&(B._fullLayout._noEmitSelectedAtStart=!0,Registry$u.call("_guiRelayout",B,{selections:s}))}}}else i.indexOf("select")>-1&&selectOnClick$1(e,B,r.xaxes,r.yaxes,r.subplot,r,H),"event"===i&&emitSelected(B,void 0);Fx$5.click(B,e,I.id)}).catch(Lib$12.error)}},r.doneFn=function(){Y.remove(),throttle.done($).then(function(){throttle.clear($),!h&&A&&r.selectionDefs&&(A.subtract=W,r.selectionDefs.push(A),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,x)),(h||c)&&clearSelectionsCache(r,h),r.doneFnCompleted&&r.doneFnCompleted(z),g&&emitSelected(B,R)}).catch(Lib$12.error)}}function selectOnClick$1(t,e,i,r,n,a,s){var o,l,c,g,d,u,B,F,h,Q=e._hoverdata,U=e._fullLayout.clickmode.indexOf("event")>-1,I=[];if(isHoverDataSet(Q)){coerceSelectionsCache(t,e,a);var b=extractClickedPtInfo(Q,o=determineSearchTraces(e,i,r,n));if(b.pointNumbers.length>0?isOnlyThisBinSelected(o,b):isOnlyOnePointSelected(o)&&(u=isPointOrBinSelected(b))){for(s&&s.remove(),h=0;h<o.length;h++)(l=o[h])._module.selectPoints(l,!1);updateSelectedState(e,o),clearSelectionsCache(a),U&&emitDeselect(e)}else{for(B=t.shiftKey&&(void 0!==u?u:isPointOrBinSelected(b)),c=newPointSelectionDef(b.pointNumber,b.searchInfo,B),g=multiTester(a.selectionDefs.concat([c])),h=0;h<o.length;h++)if(d=fillSelectionItem(o[h]._module.selectPoints(o[h],g),o[h]),I.length)for(var p=0;p<d.length;p++)I.push(d[p]);else I=d;if(updateSelectedState(e,o,F={points:I}),c&&a&&a.selectionDefs.push(c),s){var y=a.mergedPolygons,m=openMode(a.dragmode);displayOutlines(convertPoly(y,m),s,a)}U&&emitSelected(e,F)}}}function newPointSelectionDef(t,e,i){return{pointNumber:t,searchInfo:e,subtract:!!i}}function isPointSelectionDef(t){return"pointNumber"in t&&"searchInfo"in t}function newPointNumTester(t){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,i,r,n){var a=t.searchInfo.cd[0].trace.index;return n.cd[0].trace.index===a&&r===t.pointNumber},isRect:!1,degenerate:!1,subtract:!!t.subtract}}function multiTester(t){if(t.length){for(var e=[],i=isPointSelectionDef(t[0])?0:t[0][0][0],r=i,n=isPointSelectionDef(t[0])?0:t[0][0][1],a=n,s=0;s<t.length;s++)if(isPointSelectionDef(t[s]))e.push(newPointNumTester(t[s]));else{var o=polygonTester$1(t[s]);o.subtract=!!t[s].subtract,e.push(o),i=Math.min(i,o.xmin),r=Math.max(r,o.xmax),n=Math.min(n,o.ymin),a=Math.max(a,o.ymax)}return{xmin:i,xmax:r,ymin:n,ymax:a,pts:[],contains:function(t,i,r,n){for(var a=!1,s=0;s<e.length;s++)e[s].contains(t,i,r,n)&&(a=!e[s].subtract);return a},isRect:!1,degenerate:!1}}}function coerceSelectionsCache(t,e,i){var r=e._fullLayout,n=i.plotinfo,a=i.dragmode,s=r._lastSelectedSubplot&&r._lastSelectedSubplot===n.id,o=(t.shiftKey||t.altKey)&&!(drawMode(a)&&openMode(a));s&&o&&n.selection&&n.selection.selectionDefs&&!i.selectionDefs?(i.selectionDefs=n.selection.selectionDefs,i.mergedPolygons=n.selection.mergedPolygons):o&&n.selection||clearSelectionsCache(i),s||(clearOutline$1(e),r._lastSelectedSubplot=n.id)}function hasActiveShape(t){return t._fullLayout._activeShapeIndex>=0}function hasActiveSelection(t){return t._fullLayout._activeSelectionIndex>=0}function clearSelectionsCache(t,e){var i=t.dragmode,r=t.plotinfo,n=t.gd;hasActiveShape(n)&&n._fullLayout._deactivateShape(n),hasActiveSelection(n)&&n._fullLayout._deactivateSelection(n);var a=n._fullLayout._zoomlayer,s=drawMode(i),o=selectMode(i);if(s||o){var l,c,g=a.selectAll(".select-outline-"+r.id);if(g&&n._fullLayout._outlining)s&&(l=newShapes(g,t)),l&&Registry$u.call("_guiRelayout",n,{shapes:l}),o&&!hasSubplot(t)&&(c=newSelections(g,t)),c&&(n._fullLayout._noEmitSelectedAtStart=!0,Registry$u.call("_guiRelayout",n,{selections:c}).then(function(){e&&activateLastSelection(n)})),n._fullLayout._outlining=!1}r.selection={},r.selection.selectionDefs=t.selectionDefs=[],r.selection.mergedPolygons=t.mergedPolygons=[]}function getAxId(t){return t._id}function determineSearchTraces(t,e,i,r){if(!t.calcdata)return[];var n,a,s,o=[],l=e.map(getAxId),c=i.map(getAxId);for(s=0;s<t.calcdata.length;s++)if(!0===(a=(n=t.calcdata[s])[0].trace).visible&&a._module&&a._module.selectPoints)if(!hasSubplot({subplot:r})||a.subplot!==r&&a.geo!==r)if("splom"===a.type){if(a._xaxes[l[0]]&&a._yaxes[c[0]]){var g=createSearchInfo(a._module,n,e[0],i[0]);g.scene=t._fullLayout._splomScenes[a.uid],o.push(g)}}else if("sankey"===a.type){var d=createSearchInfo(a._module,n,e[0],i[0]);o.push(d)}else{if(!(-1!==l.indexOf(a.xaxis)||a._xA&&a._xA.overlaying))continue;if(!(-1!==c.indexOf(a.yaxis)||a._yA&&a._yA.overlaying))continue;o.push(createSearchInfo(a._module,n,getFromId$1(t,a.xaxis),getFromId$1(t,a.yaxis)))}else o.push(createSearchInfo(a._module,n,e[0],i[0]));return o}function createSearchInfo(t,e,i,r){return{_module:t,cd:e,xaxis:i,yaxis:r}}function isHoverDataSet(t){return t&&Array.isArray(t)&&!0!==t[0].hoverOnBox}function extractClickedPtInfo(t,e){var i,r,n=t[0],a=-1,s=[];for(r=0;r<e.length;r++)if(i=e[r],n.fullData.index===i.cd[0].trace.index){if(!0===n.hoverOnBox)break;void 0!==n.pointNumber?a=n.pointNumber:void 0!==n.binNumber&&(a=n.binNumber,s=n.pointNumbers);break}return{pointNumber:a,pointNumbers:s,searchInfo:i}}function isPointOrBinSelected(t){var e=t.searchInfo.cd[0].trace,i=t.pointNumber,r=t.pointNumbers,n=r.length>0?r[0]:i;return!!e.selectedpoints&&e.selectedpoints.indexOf(n)>-1}function isOnlyThisBinSelected(t,e){var i,r,n,a=[];for(n=0;n<t.length;n++)(i=t[n]).cd[0].trace.selectedpoints&&i.cd[0].trace.selectedpoints.length>0&&a.push(i);if(1===a.length&&a[0]===e.searchInfo&&(r=e.searchInfo.cd[0].trace).selectedpoints.length===e.pointNumbers.length){for(n=0;n<e.pointNumbers.length;n++)if(r.selectedpoints.indexOf(e.pointNumbers[n])<0)return!1;return!0}return!1}function isOnlyOnePointSelected(t){var e,i,r=0;for(i=0;i<t.length;i++)if((e=t[i].cd[0].trace).selectedpoints){if(e.selectedpoints.length>1)return!1;if((r+=e.selectedpoints.length)>1)return!1}return 1===r}function updateSelectedState(t,e,i){var r,n;for(r=0;r<e.length;r++){var a=e[r].cd[0].trace._fullInput,s=t._fullLayout._tracePreGUI[a.uid]||{};void 0===s.selectedpoints&&(s.selectedpoints=a._input.selectedpoints||null)}if(i){var o=i.points||[];for(r=0;r<e.length;r++)(n=e[r].cd[0].trace)._input.selectedpoints=n._fullInput.selectedpoints=[],n._fullInput!==n&&(n.selectedpoints=[]);for(var l=0;l<o.length;l++){var c=o[l],g=c.data,d=c.fullData,u=c.pointIndex,B=c.pointIndices;B?([].push.apply(g.selectedpoints,B),n._fullInput!==n&&[].push.apply(d.selectedpoints,B)):(g.selectedpoints.push(u),n._fullInput!==n&&d.selectedpoints.push(u))}}else for(r=0;r<e.length;r++)delete(n=e[r].cd[0].trace).selectedpoints,delete n._input.selectedpoints,n._fullInput!==n&&delete n._fullInput.selectedpoints;updateReglSelectedState(t,e)}function updateReglSelectedState(t,e){for(var i=!1,r=0;r<e.length;r++){var n=e[r],a=n.cd;Registry$u.traceIs(a[0].trace,"regl")&&(i=!0);var s=n._module,o=s.styleOnSelect||s.style;o&&(o(t,a,a[0].node3),a[0].nodeRangePlot3&&o(t,a,a[0].nodeRangePlot3))}i&&(clearGlCanvases$1(t),redrawReglTraces$1(t))}function mergePolygons(t,e,i){for(var r=(i?polybool.difference:polybool.union)({regions:t},{regions:[e]}).regions.reverse(),n=0;n<r.length;n++){var a=r[n];a.subtract=getSubtract(a,r.slice(0,n))}return r}function fillSelectionItem(t,e){if(Array.isArray(t))for(var i=e.cd,r=e.cd[0].trace,n=0;n<t.length;n++)t[n]=makeEventData(t[n],r,i);return t}function convertPoly(t,e){for(var i=[],r=0;r<t.length;r++){i[r]=[];for(var n=0;n<t[r].length;n++){i[r][n]=[],i[r][n][0]=n?"L":"M";for(var a=0;a<t[r][n].length;a++)i[r][n].push(t[r][n][a])}e||i[r].push(["Z",i[r][0][1],i[r][0][2]])}return i}function _doSelect(t,e){for(var i,r=[],n=0;n<e.length;n++){var a=e[n];i=fillSelectionItem(a._module.selectPoints(a,t),a),r=r.concat(i)}return r}function reselect(t,e,i,r,n){var a,s,o,l=!!r;n&&(a=n.plotinfo,s=n.xaxes[0]._id,o=n.yaxes[0]._id);var c=[],g=[],d=getLayoutPolygons(t),u=t._fullLayout;if(a){var B=u._zoomlayer,F=u.dragmode,h=drawMode(F),Q=selectMode(F);if(h||Q){var U=getFromId$1(t,s,"x"),I=getFromId$1(t,o,"y");if(U&&I){var b=B.selectAll(".select-outline-"+a.id);if(b&&t._fullLayout._outlining&&b.length){for(var p=b[0][0].getAttribute("d"),y=readPaths(p,t,a),m=[],C=0;C<y.length;C++){for(var f=y[C],x=[],A=0;A<f.length;A++)x.push([convert$4(U,f[A][1]),convert$4(I,f[A][2])]);x.xref=s,x.yref=o,x.subtract=getSubtract(x,m),m.push(x)}d=d.concat(m)}}}}var v=s&&o?[s+o]:u._subplots.cartesian;epmtySplomSelectionBatch(t);for(var L={},R=0;R<v.length;R++){var S=v[R],G=S.indexOf("y"),E=S.slice(0,G),V=S.slice(G),Z=s&&o?i:void 0;if(Z=addTester(d,E,V,Z)){var N=r;if(!l){var D=getFromId$1(t,E,"x"),w=getFromId$1(t,V,"y");N=determineSearchTraces(t,[D],[w],S);for(var X=0;X<N.length;X++){var W=N[X],H=W.cd[0],T=H.trace;if("scattergl"===W._module.name&&!H.t.xpx){var M=T.x,k=T.y,Y=T._length;H.t.xpx=[],H.t.ypx=[];for(var J=0;J<Y;J++)H.t.xpx[J]=D.c2p(M[J]),H.t.ypx[J]=w.c2p(k[J])}"splom"===W._module.name&&(L[T.uid]||(L[T.uid]=!0))}}var $=_doSelect(Z,N);c=c.concat($),g=g.concat(N)}}var z={points:c};updateSelectedState(t,g,z);var O=u.clickmode.indexOf("event")>-1&&e;if(!a&&e){var K=getLayoutPolygons(t,!0);if(K.length){var _=K[0].xref,P=K[0].yref;if(_&&P){var j=castMultiPolygon(K);makeFillRangeItems([getFromId$1(t,_,"x"),getFromId$1(t,P,"y")])(z,j)}}t._fullLayout._noEmitSelectedAtStart?t._fullLayout._noEmitSelectedAtStart=!1:O&&emitSelected(t,z),u._reselect=!1}if(!a&&u._deselect){var q=u._deselect;subplotSelected(s=q.xref,o=q.yref,g)||deselectSubplot(t,s,o,r),O&&(z.points.length?emitSelected(t,z):emitDeselect(t)),u._deselect=!1}return{eventData:z,selectionTesters:i}}function epmtySplomSelectionBatch(t){var e=t.calcdata;if(e)for(var i=0;i<e.length;i++){var r=e[i][0].trace,n=t._fullLayout._splomScenes;if(n){var a=n[r.uid];a&&(a.selectBatch=[])}}}function subplotSelected(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];if(n.xaxis&&n.xaxis._id===t&&n.yaxis&&n.yaxis._id===e)return!0}return!1}function deselectSubplot(t,e,i,r){r=determineSearchTraces(t,[getFromId$1(t,e,"x")],[getFromId$1(t,i,"y")],e+i);for(var n=0;n<r.length;n++){var a=r[n];a._module.selectPoints(a,!1)}updateSelectedState(t,r)}function addTester(t,e,i,r){for(var n,a=0;a<t.length;a++){var s=t[a];if(e===s.xref&&i===s.yref)if(n)r=multiTester(n=mergePolygons(n,s,!!s.subtract));else n=[s],r=polygonTester$1(s)}return r}function getLayoutPolygons(t,e){for(var i=[],r=t._fullLayout,n=r.selections,a=n.length,s=0;s<a;s++)if(!e||s===r._activeSelectionIndex){var o=n[s];if(o){var l,c,g,d,u,B=o.xref,F=o.yref,h=getFromId$1(t,B,"x"),Q=getFromId$1(t,F,"y");if("rect"===o.type){u=[];var U=convert$4(h,o.x0),I=convert$4(h,o.x1),b=convert$4(Q,o.y0),p=convert$4(Q,o.y1);u=[[U,b],[U,p],[I,p],[I,b]],l=Math.min(U,I),c=Math.max(U,I),g=Math.min(b,p),d=Math.max(b,p),u.xmin=l,u.xmax=c,u.ymin=g,u.ymax=d,u.xref=B,u.yref=F,u.subtract=!1,u.isRect=!0,i.push(u)}else if("path"===o.type)for(var y=o.path.split("Z"),m=[],C=0;C<y.length;C++){var f=y[C];if(f){f+="Z";var x=shapeHelpers.extractPathCoords(f,shapeConstants.paramIsX,"raw"),A=shapeHelpers.extractPathCoords(f,shapeConstants.paramIsY,"raw");l=1/0,c=-1/0,g=1/0,d=-1/0,u=[];for(var v=0;v<x.length;v++){var L=convert$4(h,x[v]),R=convert$4(Q,A[v]);u.push([L,R]),l=Math.min(L,l),c=Math.max(L,c),g=Math.min(R,g),d=Math.max(R,d)}u.xmin=l,u.xmax=c,u.ymin=g,u.ymax=d,u.xref=B,u.yref=F,u.subtract=getSubtract(u,m),m.push(u),i.push(u)}}}}return i}function getSubtract(t,e){for(var i=!1,r=0;r<e.length;r++)for(var n=e[r],a=0;a<t.length;a++)if(pointInPolygon(t[a],n)){i=!i;break}return i}function convert$4(t,e){return"date"===t.type&&(e=e.replace("_"," ")),"log"===t.type?t.c2p(e):t.r2p(e,null,t.calendar)}function castMultiPolygon(t){for(var e=t.length,i=[],r=0;r<e;r++){var n=t[r];i=(i=i.concat(n)).concat([n[0]])}return computeRectAndRanges(i)}function computeRectAndRanges(t){return t.isRect=5===t.length&&t[0][0]===t[4][0]&&t[0][1]===t[4][1]&&t[0][0]===t[1][0]&&t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]||t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0],t.isRect&&(t.xmin=Math.min(t[0][0],t[2][0]),t.xmax=Math.max(t[0][0],t[2][0]),t.ymin=Math.min(t[0][1],t[2][1]),t.ymax=Math.max(t[0][1],t[2][1])),t}function makeFillRangeItems(t){return function(e,i){for(var r,n,a=0;a<t.length;a++){var s=t[a],o=s._id,l=o.charAt(0);if(i.isRect){r||(r={});var c=i[l+"min"],g=i[l+"max"];void 0!==c&&void 0!==g&&(r[o]=[p2r(s,c),p2r(s,g)].sort(ascending))}else n||(n={}),n[o]=i.map(axValue(s))}r&&(e.range=r),n&&(e.lassoPoints=n)}}function getFillRangeItems(t){return t.plotinfo.fillRangeItems||makeFillRangeItems(t.xaxes.concat(t.yaxes))}function emitSelecting(t,e){t.emit("plotly_selecting",e)}function emitSelected(t,e){e&&(e.selections=(t.layout||{}).selections||[]),t.emit("plotly_selected",e)}function emitDeselect(t){t.emit("plotly_deselect",null)}var select$3={reselect:reselect,prepSelect:prepSelect$1,clearOutline:clearOutline$1,clearSelectionsCache:clearSelectionsCache,selectOnClick:selectOnClick$1},arrow_paths=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}],axis_placeable_objects={axisRefDescription:function(t,e,i){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+i+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",i,"of the domain of the","second",t,"axis."].join(" ")}},ARROWPATHS$1=arrow_paths,fontAttrs$8=requireFont_attributes(),cartesianConstants$1=constants$K,templatedArray$7=plot_template.templatedArray,axisPlaceableObjs$3=axis_placeable_objects;function arrowAxisRefDescription(t){return["In order for absolute positioning of the arrow to work, *a"+t+"ref* must be exactly the same as *"+t+"ref*, otherwise *a"+t+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+t+"ref* can be set to *pixel*,","in which case the *a"+t+"* value is specified in pixels","relative to *"+t+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function arrowCoordinateDescription(t,e,i){return["Sets the",t,"component of the arrow tail about the arrow head.","If `a"+t+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",i,"to",e,"("+e,"to",i+").","If `a"+t+"ref` is not `pixel` and is exactly the same as `"+t+"ref`,","this is an absolute value on that axis,","like `"+t+"`, specified in the same coordinates as `"+t+"ref`."].join(" ")}var attributes$y=templatedArray$7("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (`<br>`), bold (`<b></b>`), italics (`<i></i>`),","hyperlinks (`<a href='...'></a>`). Tags `<em>`, `<sup>`,","`<sub>`, `<s>`, `<u>`, and `<span>` are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:fontAttrs$8({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:ARROWPATHS$1.length,dflt:1,editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:ARROWPATHS$1.length,dflt:1,editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",editType:"calc+arraydraw",description:[arrowCoordinateDescription("x","left","right")].join(" ")},ay:{valType:"any",editType:"calc+arraydraw",description:[arrowCoordinateDescription("y","top","bottom")].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",cartesianConstants$1.idRegex.x.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",axisPlaceableObjs$3.axisRefDescription("x","left","right"),arrowAxisRefDescription("x")].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",cartesianConstants$1.idRegex.y.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",axisPlaceableObjs$3.axisRefDescription("y","bottom","top"),arrowAxisRefDescription("y")].join(" ")},xref:{valType:"enumerated",values:["paper",cartesianConstants$1.idRegex.x.toString()],editType:"calc",description:["Sets the annotation's x coordinate axis.",axisPlaceableObjs$3.axisRefDescription("x","left","right")].join(" ")},x:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",cartesianConstants$1.idRegex.y.toString()],editType:"calc",description:["Sets the annotation's y coordinate axis.",axisPlaceableObjs$3.axisRefDescription("y","bottom","top")].join(" ")},y:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:fontAttrs$8({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc"}),constants$r={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]},fillcolor_attribute=function(t){return{valType:"color",editType:"style",anim:!0,description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."+(t?" If fillgradient is specified, fillcolor is ignored except for setting the background color of the hover label, if any.":"")].join(" ")}},axisHoverFormat$6=axis_format_attributes.axisHoverFormat,texttemplateAttrs$3=template_attributes.texttemplateAttrs,hovertemplateAttrs$6=template_attributes.hovertemplateAttrs,colorScaleAttrs$4=attributes$F,fontAttrs$7=requireFont_attributes(),dash$2=attributes$J.dash,pattern$1=attributes$J.pattern,Drawing$f=drawingExports,constants$q=constants$r,extendFlat$c=extend.extendFlat,makeFillcolorAttr=fillcolor_attribute;function axisPeriod(t){return{valType:"any",dflt:0,editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the period positioning in milliseconds or *M<n>* on the "+t+" axis.","Special values in the form of *M<n>* could be used to declare","the number of months. In this case `n` must be a positive integer."].join(" ")}}function axisPeriod0(t){return{valType:"any",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the base for period positioning in milliseconds or date string on the "+t+" axis.","When `"+t+"period` is round number of weeks,","the `"+t+"period0` by default would be on a Sunday i.e. 2000-01-02,","otherwise it would be at 2000-01-01."].join(" ")}}function axisPeriodAlignment(t){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the alignment of data points on the "+t+" axis."].join(" ")}}var attributes$x={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},xperiod:axisPeriod("x"),yperiod:axisPeriod("y"),xperiod0:axisPeriod0("x0"),yperiod0:axisPeriod0("y0"),xperiodalignment:axisPeriodAlignment("x"),yperiodalignment:axisPeriodAlignment("y"),xhoverformat:axisHoverFormat$6("x"),yhoverformat:axisHoverFormat$6("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},stackgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several scatter traces (on the same subplot) to the same","stackgroup in order to add their y values (or their x values if","`orientation` is *h*). If blank or omitted this trace will not be","stacked. Stacking also turns `fill` on by default, using *tonexty*","(*tonextx*) if `orientation` is *h* (*v*) and sets the default","`mode` to *lines* irrespective of point count.","You can only stack on a numeric (linear or log) axis.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},orientation:{valType:"enumerated",values:["v","h"],editType:"calc",description:["Only relevant in the following cases:","1. when `scattermode` is set to *group*.","2. when `stackgroup` is used, and only the first","`orientation` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`. Sets the","stacking direction. With *v* (*h*), the y (x) values of subsequent","traces are added. Also affects the default value of `fill`."].join(" ")},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`groupnorm` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Sets the normalization for the sum of this `stackgroup`.","With *fraction*, the value of each trace at each location is","divided by the sum of all trace values at that location.","*percent* is the same but multiplied by 100 to show percentages.","If there are multiple subplots, or multiple `stackgroup`s on one","subplot, each will be normalized within its own set."].join(" ")},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`stackgaps` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Determines how we handle locations at which other traces in this","group have data but this one does not.","With *infer zero* we insert a zero at these locations.","With *interpolate* we linearly interpolate between existing","values, and extrapolate a constant beyond the existing values."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},texttemplate:texttemplateAttrs$3({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+constants$q.PTS_LINESONLY+" points","and the trace is not stacked","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},hovertemplate:hovertemplateAttrs$6({},{keys:constants$q.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0,description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0,description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:extendFlat$c({},dash$2,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot",description:["Sets the line back off from the end point of the nth line segment (in px).","This option is useful e.g. to avoid overlap with arrowhead markers.","With *auto* the lines would trim before markers if `marker.angleref` is set to *previous*."].join(" ")},simplify:{valType:"boolean",dflt:!0,editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc",description:["Sets the area to fill with a solid color.","Defaults to *none* unless this trace is stacked, then it gets","*tonexty* (*tonextx*) if `orientation` is *v* (*h*)","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},fillcolor:makeFillcolorAttr(!0),fillgradient:extendFlat$c({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc",description:["Sets the type/orientation of the color gradient for the fill.","Defaults to *none*."].join(" ")},start:{valType:"number",editType:"calc",description:["Sets the gradient start value.","It is given as the absolute position on the axis determined by","the orientiation. E.g., if orientation is *horizontal*, the","gradient will be horizontal and start from the x-position","given by start. If omitted, the gradient starts at the lowest","value of the trace along the respective axis.","Ignored if orientation is *radial*."].join(" ")},stop:{valType:"number",editType:"calc",description:["Sets the gradient end value.","It is given as the absolute position on the axis determined by","the orientiation. E.g., if orientation is *horizontal*, the","gradient will be horizontal and end at the x-position","given by end. If omitted, the gradient ends at the highest","value of the trace along the respective axis.","Ignored if orientation is *radial*."].join(" ")},colorscale:{valType:"colorscale",editType:"style",description:["Sets the fill gradient colors as a color scale.","The color scale is interpreted as a gradient","applied in the direction specified by *orientation*,","from the lowest to the highest value of the scatter","plot along that axis, or from the center to the most","distant point from it, if orientation is *radial*."].join(" ")},editType:"calc",description:["Sets a fill gradient.","If not specified, the fillcolor is used instead."].join(" ")}),fillpattern:pattern$1,marker:extendFlat$c({symbol:{valType:"enumerated",values:Drawing$f.symbolList,dflt:"circle",arrayOk:!0,editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0,description:"Sets the marker opacity."},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1,description:["Sets the marker angle in respect to `angleref`."].join(" ")},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1,description:["Sets the reference for marker angle.","With *previous*, angle 0 points along the line from the previous point to this one.","With *up*, angle 0 points toward the top of the screen."].join(" ")},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0,description:["Moves the marker away from the data point in the direction of `angle` (in px).","This can be useful for example if you have another marker at this","location and you want to point an arrowhead marker at it."].join(" ")},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0,description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},line:extendFlat$c({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0,description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},colorScaleAttrs$4("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},colorScaleAttrs$4("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",editType:"style",description:"Sets the marker color of selected points."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:fontAttrs$7({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."}),zorder:{valType:"integer",dflt:0,editType:"plot",description:["Sets the layer on which this trace is displayed, relative to","other SVG traces on the same subplot. SVG traces with higher `zorder`","appear in front of those with lower `zorder`."].join(" ")}},annAttrs$2=attributes$y,scatterLineAttrs$2=attributes$x.line,dash$1=attributes$J.dash,extendFlat$b=extend.extendFlat,overrideAll$8=edit_types.overrideAll,templatedArray$6=plot_template.templatedArray,axisPlaceableObjs$2=axis_placeable_objects,attributes$w=overrideAll$8(templatedArray$6("selection",{type:{valType:"enumerated",values:["rect","path"],description:["Specifies the selection type to be drawn.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`) and (`x0`,`y1`).","If *path*, draw a custom SVG path using `path`."].join(" ")},xref:extendFlat$b({},annAttrs$2.xref,{description:["Sets the selection's x coordinate axis.",axisPlaceableObjs$2.axisRefDescription("x","left","right")].join(" ")}),yref:extendFlat$b({},annAttrs$2.yref,{description:["Sets the selection's x coordinate axis.",axisPlaceableObjs$2.axisRefDescription("y","bottom","top")].join(" ")}),x0:{valType:"any",description:"Sets the selection's starting x position."},x1:{valType:"any",description:"Sets the selection's end x position."},y0:{valType:"any",description:"Sets the selection's starting y position."},y1:{valType:"any",description:"Sets the selection's end y position."},path:{valType:"string",editType:"arraydraw",description:["For `type` *path* - a valid SVG path similar to `shapes.path` in data coordinates.","Allowed segments are: M, L and Z."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw",description:"Sets the opacity of the selection."},line:{color:scatterLineAttrs$2.color,width:extendFlat$b({},scatterLineAttrs$2.width,{min:1,dflt:1}),dash:extendFlat$b({},dash$1,{dflt:"dot"})}}),"arraydraw","from-root"),Lib$11=libExports,Axes$i=axesExports,handleArrayContainerDefaults$8=array_container_defaults,attributes$v=attributes$w,helpers$f=helpers$l,defaults$p=function(t,e){handleArrayContainerDefaults$8(t,e,{name:"selections",handleItemDefaults:handleSelectionDefaults});for(var i=e.selections,r=0;r<i.length;r++){var n=i[r];n&&(void 0===n.path&&(void 0!==n.x0&&void 0!==n.x1&&void 0!==n.y0&&void 0!==n.y1||(e.selections[r]=null)))}};function handleSelectionDefaults(t,e,i){function r(i,r){return Lib$11.coerce(t,e,attributes$v,i,r)}var n=r("path"),a="path"!==r("type",n?"path":"rect");a&&delete e.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var s=["x","y"],o=0;o<2;o++){var l,c,g,d=s[o],u={_fullLayout:i},B=Axes$i.coerceRef(t,e,u,d);if((l=Axes$i.getFromId(u,B))._selectionIndices.push(e._index),g=helpers$f.rangeToShapePosition(l),c=helpers$f.shapePositionToRange(l),a){var F=d+"0",h=d+"1",Q=t[F],U=t[h];t[F]=c(t[F],!0),t[h]=c(t[h],!0),Axes$i.coercePosition(e,u,r,B,F),Axes$i.coercePosition(e,u,r,B,h);var I=e[F],b=e[h];void 0!==I&&void 0!==b&&(e[F]=g(I),e[h]=g(b),t[F]=Q,t[h]=U)}}a&&Lib$11.noneOrAll(t,e,["x0","x1","y0","y1"])}var defaults$o=function(t,e,i){i("newselection.mode"),i("newselection.line.width")&&(i("newselection.line.color"),i("newselection.line.dash")),i("activeselection.fillcolor"),i("activeselection.opacity")},Registry$t=registry$1,Lib$10=libExports,axisIds$4=axis_ids$1,include_components=function(t){return function(e,i){var r=e[t];if(Array.isArray(r))for(var n=Registry$t.subplotsRegistry.cartesian,a=n.idRegex,s=i._subplots,o=s.xaxis,l=s.yaxis,c=s.cartesian,g=i._has("cartesian"),d=0;d<r.length;d++){var u=r[d];if(Lib$10.isPlainObject(u)){var B=axisIds$4.cleanId(u.xref,"x",!1),F=axisIds$4.cleanId(u.yref,"y",!1),h=a.x.test(B),Q=a.y.test(F);if(h||Q){g||Lib$10.pushUnique(i._basePlotModules,n);var U=!1;h&&-1===o.indexOf(B)&&(o.push(B),U=!0),Q&&-1===l.indexOf(F)&&(l.push(F),U=!0),U&&h&&Q&&c.push(B+F)}}}}},drawModule$2=draw_1$2,select$2=select$3,selections={moduleType:"component",name:"selections",layoutAttributes:attributes$w,supplyLayoutDefaults:defaults$p,supplyDrawNewSelectionDefaults:defaults$o,includeBasePlot:include_components("selections"),draw:drawModule$2.draw,drawOne:drawModule$2.drawOne,reselect:select$2.reselect,prepSelect:select$2.prepSelect,clearOutline:select$2.clearOutline,clearSelectionsCache:select$2.clearSelectionsCache,selectOnClick:select$2.selectOnClick},d3$f=d3Exports,Lib$$=libExports,numberFormat$1=Lib$$.numberFormat,tinycolor$3=tinycolorExports,Registry$s=registry$1,strTranslate$5=Lib$$.strTranslate,svgTextUtils$7=svg_text_utils,Color$l=colorExports,Drawing$e=drawingExports,Fx$4=fx,Axes$h=axesExports,setCursor$2=setcursor,dragElement$2=dragelementExports,helpers$e=helpers$q,selectingOrDrawing=helpers$e.selectingOrDrawing,freeMode=helpers$e.freeMode,FROM_TL$3=alignment$1.FROM_TL,clearGlCanvases=clear_gl_canvases,redrawReglTraces=subroutines.redrawReglTraces,Plots$8=plotsExports,getFromId=axis_ids$1.getFromId,prepSelect=selections.prepSelect,clearOutline=selections.clearOutline,selectOnClick=selections.selectOnClick,scaleZoom=scale_zoom,constants$p=constants$K,MINDRAG=constants$p.MINDRAG,MINZOOM=constants$p.MINZOOM,SHOWZOOMOUTTIP=!0;function makeDragBox(t,e,i,r,n,a,s,o){var l,c,g,d,u,B,F,h,Q,U,I,b,p,y,m,C,f,x,A,v,L,R,S,G=t._fullLayout._zoomlayer,E=s+o==="nsew",V=1===(s+o).length;function Z(){if(l=e.xaxis,c=e.yaxis,Q=l._length,U=c._length,F=l._offset,h=c._offset,(g={})[l._id]=l,(d={})[c._id]=c,s&&o)for(var i=e.overlays,r=0;r<i.length;r++){var n=i[r].xaxis;g[n._id]=n;var a=i[r].yaxis;d[a._id]=a}u=hashValues(g),B=hashValues(d),p=isDirectionActive(u,o),y=isDirectionActive(B,s),m=!y&&!p,b=calcLinks(t,t._fullLayout._axisMatchGroups,g,d);var L=(I=calcLinks(t,t._fullLayout._axisConstraintGroups,g,d,b)).isSubplotConstrained||b.isSubplotConstrained;C=o||L,f=s||L;var R=t._fullLayout;x=R._has("scattergl"),A=R._has("splom"),v=R._has("svg")}i+=e.yaxis._shift,Z();var N=getDragCursor(y+p,t._fullLayout.dragmode,E),D=makeRectDragger(e,s+o+"drag",N,i,r,n,a);if(m&&!E)return D.onmousedown=null,D.style.pointerEvents="none",D;var w,X,W,H,T,M,k,Y,J,$,z={element:D,gd:t,plotinfo:e};function O(){z.plotinfo.selection=!1,clearOutline(t)}function K(t,i){var r=z.gd;if(r._fullLayout._activeShapeIndex>=0)r._fullLayout._deactivateShape(r);else{var n=r._fullLayout.clickmode;if(removeZoombox(r),2!==t||V||st(),E)n.indexOf("select")>-1&&selectOnClick(i,r,u,B,e.id,z),n.indexOf("event")>-1&&Fx$4.click(r,i,e.id);else if(1===t&&V){var a=s?c:l,g="s"===s||"w"===o?0:1,d=a._name+".range["+g+"]",F=getEndText(a,g),h="left",Q="middle";if(a.fixedrange)return;s?(Q="n"===s?"top":"bottom","right"===a.side&&(h="right")):"e"===o&&(h="right"),r._context.showAxisRangeEntryBoxes&&d3$f.select(D).call(svgTextUtils$7.makeEditable,{gd:r,immediate:!0,background:r._fullLayout.paper_bgcolor,text:String(F),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:h,verticalAlign:Q}).on("edit",function(t){var e=a.d2r(t);void 0!==e&&Registry$s.call("_guiRelayout",r,d,e)})}}}function _(e,i){if(t._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(Q,R*e+w)),n=Math.max(0,Math.min(U,S*i+X)),a=Math.abs(r-w),s=Math.abs(n-X);function o(){k="",W.r=W.l,W.t=W.b,J.attr("d","M0,0Z")}if(W.l=Math.min(w,r),W.r=Math.max(w,r),W.t=Math.min(X,n),W.b=Math.max(X,n),I.isSubplotConstrained)a>MINZOOM||s>MINZOOM?(k="xy",a/Q>s/U?(s=a*U/Q,X>n?W.t=X-s:W.b=X+s):(a=s*Q/U,w>r?W.l=w-a:W.r=w+a),J.attr("d",xyCorners(W))):o();else if(b.isSubplotConstrained)if(a>MINZOOM||s>MINZOOM){k="xy";var l=Math.min(W.l/Q,(U-W.b)/U),c=Math.max(W.r/Q,(U-W.t)/U);W.l=l*Q,W.r=c*Q,W.b=(1-l)*U,W.t=(1-c)*U,J.attr("d",xyCorners(W))}else o();else!y||s<Math.min(Math.max(.6*a,MINDRAG),MINZOOM)?a<MINDRAG||!p?o():(W.t=0,W.b=U,k="x",J.attr("d",xCorners(W,X))):!p||a<Math.min(.6*s,MINZOOM)?(W.l=0,W.r=Q,k="y",J.attr("d",yCorners(W,w))):(k="xy",J.attr("d",xyCorners(W)));W.w=W.r-W.l,W.h=W.b-W.t,k&&($=!0),t._dragged=$,updateZoombox(Y,J,W,T,M,H),P(),t.emit("plotly_relayouting",L),M=!0}function P(){L={},"xy"!==k&&"x"!==k||(zoomAxRanges(u,W.l/Q,W.r/Q,L,I.xaxes),nt("x",L)),"xy"!==k&&"y"!==k||(zoomAxRanges(B,(U-W.b)/U,(U-W.t)/U,L,I.yaxes),nt("y",L))}function j(){P(),removeZoombox(t),ot(),showDoubleClickNotifier(t)}z.prepFn=function(e,i,r){var n=z.dragmode,a=t._fullLayout.dragmode;a!==n&&(z.dragmode=a),Z(),R=t._fullLayout._invScaleX,S=t._fullLayout._invScaleY,m||(E?e.shiftKey?"pan"===a?a="zoom":selectingOrDrawing(a)||(a="pan"):e.ctrlKey&&(a="pan"):a="pan"),freeMode(a)?z.minDrag=1:z.minDrag=void 0,selectingOrDrawing(a)?(z.xaxes=u,z.yaxes=B,prepSelect(e,i,r,z,a)):(z.clickFn=K,selectingOrDrawing(n)&&O(),m||("zoom"===a?(z.moveFn=_,z.doneFn=j,z.minDrag=1,function(e,i,r){var n=D.getBoundingClientRect();w=i-n.left,X=r-n.top,t._fullLayout._calcInverseTransform(t);var a=Lib$$.apply3DTransform(t._fullLayout._invTransform)(w,X);w=a[0],X=a[1],W={l:w,r:w,w:0,t:X,b:X,h:0},H=t._hmpixcount?t._hmlumcount/t._hmpixcount:tinycolor$3(t._fullLayout.plot_bgcolor).getLuminance(),M=!1,k="xy",$=!1,Y=makeZoombox(G,H,F,h,T="M0,0H"+Q+"V"+U+"H0V0"),J=makeCorners(G,F,h)}(0,i,r)):"pan"===a&&(z.moveFn=rt,z.doneFn=ot))),t._fullLayout._redrag=function(){var e=t._dragdata;if(e&&e.element===D){var i=t._fullLayout.dragmode;selectingOrDrawing(i)||(Z(),lt([0,0,Q,U]),z.moveFn(e.dx,e.dy))}}},dragElement$2.init(z);var q=[0,0,Q,U],tt=null,et=constants$p.REDRAWDELAY,it=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function rt(e,i){if(e*=R,i*=S,!t._transitioningWithDuration){if(t._fullLayout._replotting=!0,"ew"===p||"ns"===y){var r=p?-e:0,n=y?-i:0;if(b.isSubplotConstrained){if(p&&y){var a=(e/Q-i/U)/2;r=-(e=a*Q),n=-(i=-a*U)}y?r=-n*Q/U:n=-r*U/Q}return p&&(dragAxList(u,e),nt("x")),y&&(dragAxList(B,i),nt("y")),lt([r,n,Q,U]),at(),void t.emit("plotly_relayouting",L)}var s,o,l="w"===p==("n"===y)?1:-1;if(p&&y&&(I.isSubplotConstrained||b.isSubplotConstrained)){var c=(e/Q+l*i/U)/2;e=c*Q,i=l*c*U}if("w"===p?e=h(u,0,e):"e"===p?e=h(u,1,-e):p||(e=0),"n"===y?i=h(B,1,i):"s"===y?i=h(B,0,-i):y||(i=0),s="w"===p?e:0,o="n"===y?i:0,I.isSubplotConstrained&&!b.isSubplotConstrained||b.isSubplotConstrained&&p&&y&&l>0){var g;if(b.isSubplotConstrained||!p&&1===y.length){for(g=0;g<u.length;g++)u[g].range=u[g]._r.slice(),scaleZoom(u[g],1-i/U);s=(e=i*Q/U)/2}if(b.isSubplotConstrained||!y&&1===p.length){for(g=0;g<B.length;g++)B[g].range=B[g]._r.slice(),scaleZoom(B[g],1-e/Q);o=(i=e*U/Q)/2}}b.isSubplotConstrained&&y||nt("x"),b.isSubplotConstrained&&p||nt("y");var d=Q-e,F=U-i;!b.isSubplotConstrained||p&&y||(p?(o=s?0:e*U/Q,F=d*U/Q):(s=o?0:i*Q/U,d=F*Q/U)),lt([s,o,d,F]),at(),t.emit("plotly_relayouting",L)}function h(t,e,i){for(var r,n,a=1-e,s=0;s<t.length;s++){var o=t[s];if(!o.fixedrange){r=o,n=o._rl[a]+(o._rl[e]-o._rl[a])/dZoom(i/o._length);var l=o.l2r(n);!1!==l&&void 0!==l&&(o.range[e]=l)}}return r._length*(r._rl[e]-n)/(r._rl[e]-r._rl[a])}}function nt(t,e){for(var i=b.isSubplotConstrained?{x:B,y:u}[t]:b[t+"axes"],r=b.isSubplotConstrained?{x:u,y:B}[t]:[],n=0;n<i.length;n++){var a=i[n],s=a._id,o=b.xLinks[s]||b.yLinks[s],l=r[0]||g[o]||d[o];l&&(e?(e[a._name+".range[0]"]=e[l._name+".range[0]"],e[a._name+".range[1]"]=e[l._name+".range[1]"]):a.range=l.range.slice())}}function at(){var i,r=[];function n(t){for(i=0;i<t.length;i++)t[i].fixedrange||r.push(t[i]._id)}function a(t,e){for(i=0;i<t.length;i++){var n=t[i],a=n[e];n.fixedrange||"sync"!==a.tickmode||r.push(a._id)}}for(C&&(n(u),n(I.xaxes),n(b.xaxes),a(e.overlays,"xaxis")),f&&(n(B),n(I.yaxes),n(b.yaxes),a(e.overlays,"yaxis")),L={},i=0;i<r.length;i++){var s=r[i],o=getFromId(t,s);Axes$h.drawOne(t,o,{skipTitle:!0}),L[o._name+".range[0]"]=o.range[0],L[o._name+".range[1]"]=o.range[1]}Axes$h.redrawComponents(t,r)}function st(){if(!t._transitioningWithDuration){var e=t._context.doubleClick,i=[];p&&(i=i.concat(u)),y&&(i=i.concat(B)),b.xaxes&&(i=i.concat(b.xaxes)),b.yaxes&&(i=i.concat(b.yaxes));var r,n,a={};if("reset+autosize"===e)for(e="autosize",n=0;n<i.length;n++){var s=(r=i[n])._rangeInitial0,o=r._rangeInitial1,l=void 0!==s||void 0!==o;if(l&&(void 0!==s&&s!==r.range[0]||void 0!==o&&o!==r.range[1])||!l&&!0!==r.autorange){e="reset";break}}if("autosize"===e)for(n=0;n<i.length;n++)(r=i[n]).fixedrange||(a[r._name+".autorange"]=!0);else if("reset"===e)for((p||I.isSubplotConstrained)&&(i=i.concat(I.xaxes)),y&&!I.isSubplotConstrained&&(i=i.concat(I.yaxes)),I.isSubplotConstrained&&(p?y||(i=i.concat(B)):i=i.concat(u)),n=0;n<i.length;n++)if(!(r=i[n]).fixedrange){var c=r._name,g=r._autorangeInitial;void 0===r._rangeInitial0&&void 0===r._rangeInitial1?a[c+".autorange"]=!0:void 0===r._rangeInitial0?(a[c+".autorange"]=g,a[c+".range"]=[null,r._rangeInitial1]):void 0===r._rangeInitial1?(a[c+".range"]=[r._rangeInitial0,null],a[c+".autorange"]=g):a[c+".range"]=[r._rangeInitial0,r._rangeInitial1]}t.emit("plotly_doubleclick",null),Registry$s.call("_guiRelayout",t,a)}}function ot(){lt([0,0,Q,U]),Lib$$.syncOrAsync([Plots$8.previousPromises,function(){t._fullLayout._replotting=!1,Registry$s.call("_guiRelayout",t,L)}],t)}function lt(e){var i,r,n,a,u=t._fullLayout,B=u._plots,F=u._subplots.cartesian;if(A&&Registry$s.subplotsRegistry.splom.drag(t),x)for(i=0;i<F.length;i++)if(n=(r=B[F[i]]).xaxis,a=r.yaxis,r._scene){n.limitRange&&n.limitRange(),a.limitRange&&a.limitRange();var h=Lib$$.simpleMap(n.range,n.r2l),Q=Lib$$.simpleMap(a.range,a.r2l);r._scene.update({range:[h[0],Q[0],h[1],Q[1]]})}if((A||x)&&(clearGlCanvases(t),redrawReglTraces(t)),v){var U=e[2]/l._length,I=e[3]/c._length;for(i=0;i<F.length;i++){n=(r=B[F[i]]).xaxis,a=r.yaxis;var m,L,R,S,G=(C||b.isSubplotConstrained)&&!n.fixedrange&&g[n._id],E=(f||b.isSubplotConstrained)&&!a.fixedrange&&d[a._id];if(G?(m=U,R=o||b.isSubplotConstrained?e[0]:dt(n,m)):b.xaHash[n._id]?(m=U,R=e[0]*n._length/l._length):b.yaHash[n._id]?(m=I,R="ns"===y?-e[1]*n._length/c._length:dt(n,m,{n:"top",s:"bottom"}[y])):R=gt(n,m=ct(n,U,I)),m>1&&(void 0!==n.maxallowed&&C===(n.range[0]<n.range[1]?"e":"w")||void 0!==n.minallowed&&C===(n.range[0]<n.range[1]?"w":"e"))&&(m=1,R=0),E?(L=I,S=s||b.isSubplotConstrained?e[1]:dt(a,L)):b.yaHash[a._id]?(L=I,S=e[1]*a._length/c._length):b.xaHash[a._id]?(L=U,S="ew"===p?-e[0]*a._length/l._length:dt(a,L,{e:"right",w:"left"}[p])):S=gt(a,L=ct(a,U,I)),L>1&&(void 0!==a.maxallowed&&f===(a.range[0]<a.range[1]?"n":"s")||void 0!==a.minallowed&&f===(a.range[0]<a.range[1]?"s":"n"))&&(L=1,S=0),m||L){m||(m=1),L||(L=1);var V=n._offset-R/m,Z=a._offset-S/L;r.clipRect.call(Drawing$e.setTranslate,R,S).call(Drawing$e.setScale,m,L),r.plot.call(Drawing$e.setTranslate,V,Z).call(Drawing$e.setScale,1/m,1/L),m===r.xScaleFactor&&L===r.yScaleFactor||(Drawing$e.setPointGroupScale(r.zoomScalePts,m,L),Drawing$e.setTextPointsScale(r.zoomScaleTxt,m,L)),Drawing$e.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=m,r.yScaleFactor=L}}}}function ct(t,e,i){return t.fixedrange?0:C&&I.xaHash[t._id]?e:f&&(I.isSubplotConstrained?I.xaHash:I.yaHash)[t._id]?i:0}function gt(t,e){return e?(t.range=t._r.slice(),scaleZoom(t,e),dt(t,e)):0}function dt(t,e,i){return t._length*(1-e)*FROM_TL$3[i||t.constraintoward||"middle"]}return s.length*o.length!==1&&attachWheelEventHandler(D,function(e){if(t._context._scrollZoom.cartesian||t._fullLayout._enablescrollzoom){if(O(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();Z(),clearTimeout(tt);var i=-e.deltaY;if(isFinite(i)||(i=e.wheelDelta/10),isFinite(i)){var r,n=Math.exp(-Math.min(Math.max(i,-20),20)/200),a=it.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-a.left)/a.width,c=(a.bottom-e.clientY)/a.height;if(C){for(o||(l=.5),r=0;r<u.length;r++)g(u[r],l,n);nt("x"),q[2]*=n,q[0]+=q[2]*l*(1/n-1)}if(f){for(s||(c=.5),r=0;r<B.length;r++)g(B[r],c,n);nt("y"),q[3]*=n,q[1]+=q[3]*(1-c)*(1/n-1)}lt(q),at(),t.emit("plotly_relayouting",L),tt=setTimeout(function(){t._fullLayout&&(q=[0,0,Q,U],ot())},et),e.preventDefault()}else Lib$$.log("Did not find wheel motion attributes: ",e)}function g(t,e,i){if(!t.fixedrange){var r=Lib$$.simpleMap(t.range,t.r2l),n=r[0]+(r[1]-r[0])*e;t.range=r.map(function(e){return t.l2r(n+(e-n)*i)})}}}),D}function makeDragger(t,e,i,r){var n=Lib$$.ensureSingle(t.draglayer,e,i,function(e){e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)});return n.call(setCursor$2,r),n.node()}function makeRectDragger(t,e,i,r,n,a,s){var o=makeDragger(t,"rect",e,i);return d3$f.select(o).call(Drawing$e.setRect,r,n,a,s),o}function isDirectionActive(t,e){for(var i=0;i<t.length;i++)if(!t[i].fixedrange)return e;return""}function getEndText(t,e){var i,r=t.range[e],n=Math.abs(r-t.range[1-e]);return"date"===t.type?r:"log"===t.type?(i=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,numberFormat$1("."+i+"g")(Math.pow(10,r))):(i=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,numberFormat$1("."+String(i)+"g")(r))}function zoomAxRanges(t,e,i,r,n){for(var a=0;a<t.length;a++){var s=t[a];if(!s.fixedrange)if(s.rangebreaks){var o="y"===s._id.charAt(0),l=o?1-e:e,c=o?1-i:i;r[s._name+".range[0]"]=s.l2r(s.p2l(l*s._length)),r[s._name+".range[1]"]=s.l2r(s.p2l(c*s._length))}else{var g=s._rl[0],d=s._rl[1]-g;r[s._name+".range[0]"]=s.l2r(g+d*e),r[s._name+".range[1]"]=s.l2r(g+d*i)}}if(n&&n.length){var u=(e+(1-i))/2;zoomAxRanges(n,u,1-u,r,[])}}function dragAxList(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(!r.fixedrange){if(r.rangebreaks){var n=r._length,a=(r.p2l(0+e)-r.p2l(0)+(r.p2l(n+e)-r.p2l(n)))/2;r.range=[r.l2r(r._rl[0]-a),r.l2r(r._rl[1]-a)]}else r.range=[r.l2r(r._rl[0]-e/r._m),r.l2r(r._rl[1]-e/r._m)];r.limitRange&&r.limitRange()}}}function dZoom(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function getDragCursor(t,e,i){return t?"nsew"===t?i?"":"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}function makeZoombox(t,e,i,r,n){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",strTranslate$5(i,r)).attr("d",n+"Z")}function makeCorners(t,e,i){return t.append("path").attr("class","zoombox-corners").style({fill:Color$l.background,stroke:Color$l.defaultLine,"stroke-width":1,opacity:0}).attr("transform",strTranslate$5(e,i)).attr("d","M0,0Z")}function updateZoombox(t,e,i,r,n,a){t.attr("d",r+"M"+i.l+","+i.t+"v"+i.h+"h"+i.w+"v-"+i.h+"h-"+i.w+"Z"),transitionZoombox(t,e,n,a)}function transitionZoombox(t,e,i,r){i||(t.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function removeZoombox(t){d3$f.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function showDoubleClickNotifier(t){SHOWZOOMOUTTIP&&t.data&&t._context.showTips&&(Lib$$.notifier(Lib$$._(t,"Double-click to zoom back out"),"long"),SHOWZOOMOUTTIP=!1)}function xCorners(t,e){return"M"+(t.l-.5)+","+(e-MINZOOM-.5)+"h-3v"+(2*MINZOOM+1)+"h3ZM"+(t.r+.5)+","+(e-MINZOOM-.5)+"h3v"+(2*MINZOOM+1)+"h-3Z"}function yCorners(t,e){return"M"+(e-MINZOOM-.5)+","+(t.t-.5)+"v-3h"+(2*MINZOOM+1)+"v3ZM"+(e-MINZOOM-.5)+","+(t.b+.5)+"v3h"+(2*MINZOOM+1)+"v-3Z"}function xyCorners(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,MINZOOM)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function calcLinks(t,e,i,r,n){for(var a,s,o,l,c=!1,g={},d={},u=(n||{}).xaHash,B=(n||{}).yaHash,F=0;F<e.length;F++){var h=e[F];for(a in i)if(h[a]){for(o in h)n&&(u[o]||B[o])||("x"===o.charAt(0)?i:r)[o]||(g[o]=a);for(s in r)n&&(u[s]||B[s])||!h[s]||(c=!0)}for(s in r)if(h[s])for(l in h)n&&(u[l]||B[l])||("x"===l.charAt(0)?i:r)[l]||(d[l]=s)}c&&(Lib$$.extendFlat(g,d),d={});var Q={},U=[];for(o in g){var I=getFromId(t,o);U.push(I),Q[I._id]=I}var b={},p=[];for(l in d){var y=getFromId(t,l);p.push(y),b[y._id]=y}return{xaHash:Q,yaHash:b,xaxes:U,yaxes:p,xLinks:g,yLinks:d,isSubplotConstrained:c}}function attachWheelEventHandler(t,e){void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}))}function hashValues(t){var e=[];for(var i in t)e.push(t[i]);return e}var dragbox={makeDragBox:makeDragBox};!function(t){var e=d3Exports,i=fx,r=dragelementExports,n=setcursor,a=dragbox.makeDragBox,s=constants$K.DRAGGERSIZE;t.initInteractions=function(n){var o=n._fullLayout;if(n._context.staticPlot)e.select(n).selectAll(".drag").remove();else if(o._has("cartesian")||o._has("splom")){var l=Object.keys(o._plots||{}).sort(function(t,e){if((o._plots[t].mainplot&&!0)===(o._plots[e].mainplot&&!0)){var i=t.split("y"),r=e.split("y");return i[0]===r[0]?Number(i[1]||1)-Number(r[1]||1):Number(i[0]||1)-Number(r[0]||1)}return o._plots[t].mainplot?1:-1});l.forEach(function(t){var e=o._plots[t],l=e.xaxis,c=e.yaxis;if(!e.mainplot){var g=a(n,e,l._offset,c._offset,l._length,c._length,"ns","ew");g.onmousemove=function(e){n._fullLayout._rehover=function(){n._fullLayout._hoversubplot===t&&n._fullLayout._plots[t]&&i.hover(n,e,t)},i.hover(n,e,t),n._fullLayout._lasthover=g,n._fullLayout._hoversubplot=t},g.onmouseout=function(t){n._dragging||(n._fullLayout._hoversubplot=null,r.unhover(n,t))},n._context.showAxisDragHandles&&(a(n,e,l._offset-s,c._offset-s,s,s,"n","w"),a(n,e,l._offset+l._length,c._offset-s,s,s,"n","e"),a(n,e,l._offset-s,c._offset+c._length,s,s,"s","w"),a(n,e,l._offset+l._length,c._offset+c._length,s,s,"s","e"))}if(n._context.showAxisDragHandles){if(t===l._mainSubplot){var d=l._mainLinePosition;"top"===l.side&&(d-=s),a(n,e,l._offset+.1*l._length,d,.8*l._length,s,"","ew"),a(n,e,l._offset,d,.1*l._length,s,"","w"),a(n,e,l._offset+.9*l._length,d,.1*l._length,s,"","e")}if(t===c._mainSubplot){var u=c._mainLinePosition;"right"!==c.side&&(u-=s),a(n,e,u,c._offset+.1*c._length,s,.8*c._length,"ns",""),a(n,e,u,c._offset+.9*c._length,s,.1*c._length,"s",""),a(n,e,u,c._offset,s,.1*c._length,"n","")}}});var c=o._hoverlayer.node();c.onmousemove=function(t){t.target=n._fullLayout._lasthover,i.hover(n,t,o._hoversubplot)},c.onclick=function(t){t.target=n._fullLayout._lasthover,i.click(n,t)},c.onmousedown=function(t){n._fullLayout._lasthover.onmousedown(t)},t.updateFx(n)}},t.updateFx=function(t){var e=t._fullLayout,i="pan"===e.dragmode?"move":"crosshair";n(e._draggers,i)}}(graph_interact);var manage_arrays={},Registry$r=registry$1,container_array_match=function(t){for(var e,i,r=Registry$r.layoutArrayContainers,n=Registry$r.layoutArrayRegexes,a=t.split("[")[0],s=0;s<n.length;s++)if((i=t.match(n[s]))&&0===i.index){e=i[0];break}if(e||(e=r[r.indexOf(a)]),!e)return!1;var o=t.substr(e.length);return o?!!(i=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(i[1]),property:i[3]||""}:{array:e,index:"",property:""}},isPlainObject$2=is_plain_object,noop=noop$1,Loggers=loggersExports,sorterAsc=search.sorterAsc,Registry$q=registry$1;manage_arrays.containerArrayMatch=container_array_match;var isAddVal=manage_arrays.isAddVal=function(t){return"add"===t||isPlainObject$2(t)},isRemoveVal=manage_arrays.isRemoveVal=function(t){return null===t||"remove"===t};manage_arrays.applyContainerArrayChanges=function(t,e,i,r,n){var a=e.astr,s=Registry$q.getComponentMethod(a,"supplyLayoutDefaults"),o=Registry$q.getComponentMethod(a,"draw"),l=Registry$q.getComponentMethod(a,"drawOne"),c=r.replot||r.recalc||s===noop||o===noop,g=t.layout,d=t._fullLayout;if(i[""]){Object.keys(i).length>1&&Loggers.warn("Full array edits are incompatible with other edits",a);var u=i[""][""];if(isRemoveVal(u))e.set(null);else{if(!Array.isArray(u))return Loggers.warn("Unrecognized full array edit value",a,u),!0;e.set(u)}return!c&&(s(g,d),o(t),!0)}var B,F,h,Q,U,I,b,p,y=Object.keys(i).map(Number).sort(sorterAsc),m=e.get(),C=m||[],f=n(d,a).get(),x=[],A=-1,v=C.length;for(B=0;B<y.length;B++)if(Q=i[h=y[B]],U=Object.keys(Q),I=Q[""],b=isAddVal(I),h<0||h>C.length-(b?0:1))Loggers.warn("index out of range",a,h);else if(void 0!==I)U.length>1&&Loggers.warn("Insertion & removal are incompatible with edits to the same index.",a,h),isRemoveVal(I)?x.push(h):b?("add"===I&&(I={}),C.splice(h,0,I),f&&f.splice(h,0,{})):Loggers.warn("Unrecognized full object edit value",a,h,I),-1===A&&(A=h);else for(F=0;F<U.length;F++)p=a+"["+h+"].",n(C[h],U[F],p).set(Q[U[F]]);for(B=x.length-1;B>=0;B--)C.splice(x[B],1),f&&f.splice(x[B],1);if(C.length?m||e.set(C):e.set(null),c)return!1;if(s(g,d),l!==noop){var L;if(-1===A)L=y;else{for(v=Math.max(C.length,v),L=[],B=0;B<y.length&&!((h=y[B])>=A);B++)L.push(h);for(B=A;B<v;B++)L.push(B)}for(B=0;B<L.length;B++)l(t,L[B])}else o(t);return!0};var helpers$d={};!function(t){var e=fastIsnumeric,i=registry$1,r=libExports,n=plotsExports,a=axis_ids$1,s=colorExports,o=a.cleanId,l=a.getFromTrace,c=i.traceIs;function g(t,e){var i=t[e],r=e.charAt(0);i&&"paper"!==i&&(t[e]=o(i,r,!0))}function d(t){if(!r.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function u(t,e,i,r){if(i&&!r)return t;if(r&&!i)return e;if(!t.trim())return e;if(!e.trim())return t;var n,a=Math.min(t.length,e.length);for(n=0;n<a&&t.charAt(n)===e.charAt(n);n++);return t.substr(0,n).trim()}function B(t){var e="middle",i="center";return"string"==typeof t&&(-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?i="left":-1!==t.indexOf("right")&&(i="right")),e+" "+i}function F(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}t.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&r.log("Clearing previous rejected promises from queue."),t._promises=[]},t.cleanLayout=function(e){var i;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var a=(n.subplotsRegistry.cartesian||{}).attrRegex;(n.subplotsRegistry.polar||{}).attrRegex,(n.subplotsRegistry.ternary||{}).attrRegex,(n.subplotsRegistry.gl3d||{}).attrRegex;var l=Object.keys(e);for(i=0;i<l.length;i++){var c=l[i];if(a&&a.test(c)){var d=e[c];d.anchor&&"free"!==d.anchor&&(d.anchor=o(d.anchor)),d.overlaying&&(d.overlaying=o(d.overlaying)),d.type||(d.isdate?d.type="date":d.islog?d.type="log":!1===d.isdate&&!1===d.islog&&(d.type="linear")),"withzero"!==d.autorange&&"tozero"!==d.autorange||(d.autorange=!0,d.rangemode="tozero"),d.insiderange&&delete d.range,delete d.islog,delete d.isdate,delete d.categories,F(d,"domain")&&delete d.domain}}var u=Array.isArray(e.annotations)?e.annotations.length:0;for(i=0;i<u;i++){var B=e.annotations[i];r.isPlainObject(B)&&(g(B,"xref"),g(B,"yref"))}var h=Array.isArray(e.shapes)?e.shapes.length:0;for(i=0;i<h;i++){var Q=e.shapes[i];r.isPlainObject(Q)&&(g(Q,"xref"),g(Q,"yref"))}var U=Array.isArray(e.images)?e.images.length:0;for(i=0;i<U;i++){var I=e.images[i];r.isPlainObject(I)&&(g(I,"xref"),g(I,"yref"))}var b=e.legend;return b&&(b.x>3?(b.x=1.02,b.xanchor="left"):b.x<-2&&(b.x=-.02,b.xanchor="right"),b.y>3?(b.y=1.02,b.yanchor="bottom"):b.y<-2&&(b.y=-.02,b.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),s.clean(e),e.template&&e.template.layout&&t.cleanLayout(e.template.layout),e},t.cleanData=function(e){for(var a=0;a<e.length;a++){var l,g=e[a];if("histogramy"===g.type&&"xbins"in g&&!("ybins"in g)&&(g.ybins=g.xbins,delete g.xbins),"histogramy"===g.type&&t.swapXYData(g),"histogramx"!==g.type&&"histogramy"!==g.type||(g.type="histogram"),"scl"in g&&!("colorscale"in g)&&(g.colorscale=g.scl,delete g.scl),"reversescl"in g&&!("reversescale"in g)&&(g.reversescale=g.reversescl,delete g.reversescl),g.xaxis&&(g.xaxis=o(g.xaxis,"x")),g.yaxis&&(g.yaxis=o(g.yaxis,"y")),c(g,"gl3d")&&g.scene&&(g.scene=n.subplotsRegistry.gl3d.cleanId(g.scene)),!c(g,"pie-like")&&!c(g,"bar-like"))if(Array.isArray(g.textposition))for(l=0;l<g.textposition.length;l++)g.textposition[l]=B(g.textposition[l]);else g.textposition&&(g.textposition=B(g.textposition));var h=i.getModule(g);if(h&&h.colorbar){var Q=h.colorbar.container,U=Q?g[Q]:g;U&&U.colorscale&&("YIGnBu"===U.colorscale&&(U.colorscale="YlGnBu"),"YIOrRd"===U.colorscale&&(U.colorscale="YlOrRd"))}if("surface"===g.type&&r.isPlainObject(g.contours)){var I=["x","y","z"];for(l=0;l<I.length;l++){var b=g.contours[I[l]];r.isPlainObject(b)&&(b.highlightColor&&(b.highlightcolor=b.highlightColor,delete b.highlightColor),b.highlightWidth&&(b.highlightwidth=b.highlightWidth,delete b.highlightWidth))}}if("candlestick"===g.type||"ohlc"===g.type){var p=!1!==(g.increasing||{}).showlegend,y=!1!==(g.decreasing||{}).showlegend,m=d(g.increasing),C=d(g.decreasing);if(!1!==m&&!1!==C){var f=u(m,C,p,y);f&&(g.name=f)}else!m&&!C||g.name||(g.name=m||C)}F(g,"line")&&delete g.line,"marker"in g&&(F(g.marker,"line")&&delete g.marker.line,F(g,"marker")&&delete g.marker),s.clean(g),g.autobinx&&(delete g.autobinx,delete g.xbins),g.autobiny&&(delete g.autobiny,delete g.ybins)}},t.swapXYData=function(t){var e;if(r.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var i=t.error_y,n="copy_ystyle"in i?i.copy_ystyle:!(i.color||i.thickness||i.width);r.swapAttrs(t,["error_?.copy_ystyle"]),n&&r.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var a=t.hoverinfo.split("+");for(e=0;e<a.length;e++)"x"===a[e]?a[e]="y":"y"===a[e]&&(a[e]="x");t.hoverinfo=a.join("+")}},t.coerceTraceIndices=function(t,i){if(e(i))return[i];if(!Array.isArray(i)||!i.length)return t.data.map(function(t,e){return e});if(Array.isArray(i)){for(var n=[],a=0;a<i.length;a++)r.isIndex(i[a],t.data.length)?n.push(i[a]):r.warn("trace index (",i[a],") is not a number or is out of bounds");return n}return i},t.manageArrayContainers=function(t,i,n){var a=t.obj,s=t.parts,o=s.length,l=s[o-1],c=e(l);if(c&&null===i){var g=s.slice(0,o-1).join(".");r.nestedProperty(a,g).get().splice(l,1)}else c&&void 0===t.get()?(void 0===t.get()&&(n[t.astr]=null),t.set(i)):t.set(i)};var h=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function Q(t){var e=t.search(h);if(e>0)return t.substr(0,e)}t.hasParent=function(t,e){for(var i=Q(e);i;){if(i in t)return!0;i=Q(i)}return!1};var U=["x","y","z"];t.clearAxisTypes=function(t,e,i){for(var n=0;n<e.length;n++)for(var a=t._fullData[n],s=0;s<3;s++){var o=l(t,a,U[s]);if(o&&"log"!==o.type){var c=o._name,g=o._id.substr(1);if("scene"===g.substr(0,5)){if(void 0!==i[g])continue;c=g+"."+c}var d=c+".type";void 0===i[c]&&void 0===i[d]&&r.nestedProperty(t.layout,d).set(null)}}}}(helpers$d),function(t){var e=d3Exports,i=fastIsnumeric,r=hasHover_1,n=libExports,a=n.nestedProperty,s=events,o=queue_1,l=registry$1,c=plot_schema,g=plotsExports,d=axesExports,u=range_defaults,B=layout_attributes$3,F=drawingExports,h=colorExports,Q=graph_interact.initInteractions,U=xmlns_namespaces,I=selections.clearOutline,b=plot_config.dfltConfig,p=manage_arrays,y=helpers$d,m=subroutines,C=edit_types,f=constants$K.AX_NAME_PATTERN,x=0;function A(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function v(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){n.error(t)}}function L(t,e){v(t,h.combine(e,"white"))}function R(t,i){if(!t._context){t._context=n.extendDeep({},b);var a=e.select("base");t._context._baseUrl=a.size()&&a.attr("href")?window.location.href.split("#")[0]:""}var s,o,l,c=t._context;if(i){for(o=Object.keys(i),s=0;s<o.length;s++)"editable"!==(l=o[s])&&"edits"!==l&&l in c&&("setBackground"===l&&"opaque"===i[l]?c[l]=L:c[l]=i[l]);var g=i.editable;if(void 0!==g)for(c.editable=g,o=Object.keys(c.edits),s=0;s<o.length;s++)c.edits[o[s]]=g;if(i.edits)for(o=Object.keys(i.edits),s=0;s<o.length;s++)(l=o[s])in c.edits&&(c.edits[l]=i.edits[l]);c._exportedPlot=i._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||r||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=v),c._hasZeroHeight=c._hasZeroHeight||0===t.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===t.clientWidth;var d=c.scrollZoom,u=c._scrollZoom={};if(!0===d)u.cartesian=1,u.gl3d=1,u.geo=1,u.mapbox=1,u.map=1;else if("string"==typeof d){var B=d.split("+");for(s=0;s<B.length;s++)u[B[s]]=1}else!1!==d&&(u.gl3d=1,u.geo=1,u.mapbox=1,u.map=1)}function S(t,e){var i,r,n=e+1,a=[];for(i=0;i<t.length;i++)(r=t[i])<0?a.push(n+r):a.push(r);return a}function G(t,e,i){var r,n;for(r=0;r<e.length;r++){if((n=e[r])!==parseInt(n,10))throw new Error("all values in "+i+" must be integers");if(n>=t.data.length||n<-t.data.length)throw new Error(i+" must be valid indices for gd.data.");if(e.indexOf(n,r+1)>-1||n>=0&&e.indexOf(-t.data.length+n)>-1||n<0&&e.indexOf(t.data.length+n)>-1)throw new Error("each index in "+i+" must be unique.")}}function E(t,e,i){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),G(t,e,"currentIndices"),void 0===i||Array.isArray(i)||(i=[i]),void 0!==i&&G(t,i,"newIndices"),void 0!==i&&e.length!==i.length)throw new Error("current and new indices must be of equal length.")}function V(t,e,r,s,o){!function(t,e,i,r){var a=n.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!n.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===i)throw new Error("indices must be an integer or array of integers");for(var s in G(t,i,"indices"),e){if(!Array.isArray(e[s])||e[s].length!==i.length)throw new Error("attribute "+s+" must be an array of length equal to indices array length");if(a&&(!(s in r)||!Array.isArray(r[s])||r[s].length!==e[s].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}(t,e,r,s);for(var l=function(t,e,r,s){var o,l,c,g,d,u=n.isPlainObject(s),B=[];for(var F in Array.isArray(r)||(r=[r]),r=S(r,t.data.length-1),e)for(var h=0;h<r.length;h++){if(o=t.data[r[h]],l=(c=a(o,F)).get(),g=e[F][h],!n.isArrayOrTypedArray(g))throw new Error("attribute: "+F+" index: "+h+" must be an array");if(!n.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+F);if(l.constructor!==g.constructor)throw new Error("cannot extend array with an array of a different type: "+F);d=u?s[F][h]:s,i(d)||(d=-1),B.push({prop:c,target:l,insert:g,maxp:Math.floor(d)})}return B}(t,e,r,s),c={},g={},d=0;d<l.length;d++){var u=l[d].prop,B=l[d].maxp,F=o(l[d].target,l[d].insert,B);u.set(F[0]),Array.isArray(c[u.astr])||(c[u.astr]=[]),c[u.astr].push(F[1]),Array.isArray(g[u.astr])||(g[u.astr]=[]),g[u.astr].push(l[d].target.length)}return{update:c,maxPoints:g}}function Z(t,e){var i=new t.constructor(t.length+e.length);return i.set(t),i.set(e,t.length),i}function N(e,i,r,a){e=n.getGraphDiv(e),y.clearPromiseQueue(e);var s={};if("string"==typeof i)s[i]=r;else{if(!n.isPlainObject(i))return n.warn("Restyle fail.",i,r,a),Promise.reject();s=n.extendFlat({},i),void 0===a&&(a=r)}Object.keys(s).length&&(e.changed=!0);var l=y.coerceTraceIndices(e,a),c=W(e,s,l),d=c.flags;d.calc&&(e.calcdata=void 0),d.clearAxisTypes&&y.clearAxisTypes(e,l,{});var u=[];d.fullReplot?u.push(t._doPlot):(u.push(g.previousPromises),g.supplyDefaults(e),d.markerSize&&(g.doCalcdata(e),M(u)),d.style&&u.push(m.doTraceStyle),d.colorbars&&u.push(m.doColorBars),u.push(A)),u.push(g.rehover,g.redrag,g.reselect),o.add(e,N,[e,c.undoit,c.traces],N,[e,c.redoit,c.traces]);var B=n.syncOrAsync(u,e);return B&&B.then||(B=Promise.resolve()),B.then(function(){return e.emit("plotly_restyle",c.eventData),e})}function D(t){return void 0===t?null:t}function w(t,e){return e?function(e,i,r){var n=a(e,i),s=n.set;return n.set=function(e){X((r||"")+i,n.get(),e,t),s(e)},n}:a}function X(t,e,i,r){if(Array.isArray(e)||Array.isArray(i))for(var a=Array.isArray(e)?e:[],s=Array.isArray(i)?i:[],o=Math.max(a.length,s.length),l=0;l<o;l++)X(t+"["+l+"]",a[l],s[l],r);else if(n.isPlainObject(e)||n.isPlainObject(i)){var c=n.isPlainObject(e)?e:{},g=n.isPlainObject(i)?i:{},d=n.extendFlat({},c,g);for(var u in d)X(t+"."+u,c[u],g[u],r)}else void 0===r[t]&&(r[t]=D(e))}function W(t,e,i){var r,s,o=t._fullLayout,u=t._fullData,B=t.data,F=o._guiEditing,h=w(o._preGUI,F),Q=n.extendDeepAll({},e),U=C.traceFlags(),I={},b={};function p(){return i.map(function(){})}function m(t){var e=d.id2name(t);-1===s.indexOf(e)&&s.push(e)}function f(t){return"LAYOUT"+t+".autorange"}function x(t){return"LAYOUT"+t+".range"}function A(t){for(var e=t;e<u.length;e++)if(u[e]._input===B[t])return u[e]}function v(r,n,a){if(Array.isArray(r))r.forEach(function(t){v(t,n,a)});else if(!(r in e)&&!y.hasParent(e,r)){var s;if("LAYOUT"===r.substr(0,6))s=h(t.layout,r.replace("LAYOUT",""));else{var l=i[a];s=w(o._tracePreGUI[A(l)._fullInput.uid],F)(B[l],r)}r in b||(b[r]=p()),void 0===b[r][a]&&(b[r][a]=D(s.get())),void 0!==n&&s.set(n)}}function L(t){return function(e){return u[e][t]}}function R(t){return function(e,r){return!1===e?u[i[r]][t]:null}}for(var S in e){if(y.hasParent(e,S))throw new Error("cannot set "+S+" and a parent attribute simultaneously");var G,E,V,Z,N,X,W=e[S];if("autobinx"!==S&&"autobiny"!==S||(S=S.charAt(S.length-1)+"bins",W=Array.isArray(W)?W.map(R(S)):!1===W?i.map(L(S)):null),I[S]=W,"LAYOUT"!==S.substr(0,6)){for(b[S]=p(),r=0;r<i.length;r++){if(G=B[i[r]],E=A(i[r]),Z=(V=w(o._tracePreGUI[E._fullInput.uid],F)(G,S)).get(),void 0!==(N=Array.isArray(W)?W[r%W.length]:W)){var H=V.parts[V.parts.length-1],T=S.substr(0,S.length-H.length-1),M=T?T+".":"",k=T?a(E,T).get():E;if((X=c.getTraceValObject(E,V.parts))&&X.impliedEdits&&null!==N)for(var Y in X.impliedEdits)v(n.relativeAttr(S,Y),X.impliedEdits[Y],r);else if("thicknessmode"!==H&&"lenmode"!==H||Z===N||"fraction"!==N&&"pixels"!==N||!k){if("type"===S&&("pie"===N!=("pie"===Z)||"funnelarea"===N!=("funnelarea"===Z))){var J="x",$="y";"bar"!==N&&"bar"!==Z||"h"!==G.orientation||(J="y",$="x"),n.swapAttrs(G,["?","?src"],"labels",J),n.swapAttrs(G,["d?","?0"],"label",J),n.swapAttrs(G,["?","?src"],"values",$),"pie"===Z||"funnelarea"===Z?(a(G,"marker.color").set(a(G,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):l.traceIs(G,"cartesian")&&a(G,"marker.colors").set(a(G,"marker.color").get())}}else{var z=o._size,O=k.orient,K="top"===O||"bottom"===O;if("thicknessmode"===H){var _=K?z.h:z.w;v(M+"thickness",k.thickness*("fraction"===N?1/_:_),r)}else{var P=K?z.w:z.h;v(M+"len",k.len*("fraction"===N?1/P:P),r)}}b[S][r]=D(Z);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(S)){if("orientation"===S){V.set(N);var j=G.x&&!G.y?"h":"v";if((V.get()||j)===E.orientation)continue}else"orientationaxes"===S&&(G.orientation={v:"h",h:"v"}[E.orientation]);y.swapXYData(G),U.calc=U.clearAxisTypes=!0}else-1!==g.dataArrayContainers.indexOf(V.parts[0])?(y.manageArrayContainers(V,N,b),U.calc=!0):(X?X.arrayOk&&!l.traceIs(E,"regl")&&(n.isArrayOrTypedArray(N)||n.isArrayOrTypedArray(Z))?U.calc=!0:C.update(U,X):U.calc=!0,V.set(N))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(S)&&d.swap(t,i),"orientationaxes"===S){var q=a(t.layout,"hovermode"),tt=q.get();"x"===tt?q.set("y"):"y"===tt?q.set("x"):"x unified"===tt?q.set("y unified"):"y unified"===tt&&q.set("x unified")}if(-1!==["orientation","type"].indexOf(S)){for(s=[],r=0;r<i.length;r++){var et=B[i[r]];l.traceIs(et,"cartesian")&&(m(et.xaxis||"x"),m(et.yaxis||"y"))}v(s.map(f),!0,0),v(s.map(x),[0,1],0)}}else V=h(t.layout,S.replace("LAYOUT","")),b[S]=[D(V.get())],V.set(Array.isArray(W)?W[0]:W),U.calc=!0}return(U.calc||U.plot)&&(U.fullReplot=!0),{flags:U,undoit:b,redoit:I,traces:i,eventData:n.extendDeepNoArrays([],[Q,i])}}function H(t,e,i){t=n.getGraphDiv(t),y.clearPromiseQueue(t);var r={};if("string"==typeof e)r[e]=i;else{if(!n.isPlainObject(e))return n.warn("Relayout fail.",e,i),Promise.reject();r=n.extendFlat({},e)}Object.keys(r).length&&(t.changed=!0);var a=$(t,r),s=a.flags;s.calc&&(t.calcdata=void 0);var l=[g.previousPromises];s.layoutReplot?l.push(m.layoutReplot):Object.keys(r).length&&(T(t,s,a)||g.supplyDefaults(t),s.legend&&l.push(m.doLegend),s.layoutstyle&&l.push(m.layoutStyles),s.axrange&&M(l,a.rangesAltered),s.ticks&&l.push(m.doTicksRelayout),s.modebar&&l.push(m.doModeBar),s.camera&&l.push(m.doCamera),s.colorbars&&l.push(m.doColorBars),l.push(A)),l.push(g.rehover,g.redrag,g.reselect),o.add(t,H,[t,a.undoit],H,[t,a.redoit]);var c=n.syncOrAsync(l,t);return c&&c.then||(c=Promise.resolve(t)),c.then(function(){return t.emit("plotly_relayout",a.eventData),t})}function T(t,e,i){var r,a,s=t._fullLayout;if(!e.axrange)return!1;for(var o in e)if("axrange"!==o&&e[o])return!1;var l=function(t,e){return n.coerce(r,a,B,t,e)},c={};for(var g in i.rangesAltered){var F=d.id2name(g);if(r=t.layout[F],a=s[F],u(r,a,l,c),a._matchGroup)for(var h in a._matchGroup)if(h!==g){var Q=s[d.id2name(h)];Q.autorange=a.autorange,Q.range=a.range.slice(),Q._input.range=a.range.slice()}}return!0}function M(t,e){var i=e?function(t){var i=[];for(var r in e){var n=d.getFromId(t,r);if(i.push(r),-1!==(n.ticklabelposition||"").indexOf("inside")&&n._anchorAxis&&i.push(n._anchorAxis._id),n._matchGroup)for(var a in n._matchGroup)e[a]||i.push(a)}return d.draw(t,i,{skipTitle:!0})}:function(t){return d.draw(t,"redraw")};t.push(I,m.doAutoRangeAndConstraints,i,m.drawData,m.finalDraw)}var k=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Y=/^[xyz]axis[0-9]*\.autorange$/,J=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function $(t,e){var i,r,s,o=t.layout,g=t._fullLayout,u=g._guiEditing,B=w(g._preGUI,u),F=Object.keys(e),h=d.list(t),Q=n.extendDeepAll({},e),U={};for(F=Object.keys(e),r=0;r<F.length;r++)if(0===F[r].indexOf("allaxes")){for(s=0;s<h.length;s++){var I=h[s]._id.substr(1),b=-1!==I.indexOf("scene")?I+".":"",m=F[r].replace("allaxes",b+h[s]._name);e[m]||(e[m]=e[F[r]])}delete e[F[r]]}var x=C.layoutFlags(),A={},v={};function L(t,i){if(Array.isArray(t))t.forEach(function(t){L(t,i)});else if(!(t in e)&&!y.hasParent(e,t)){var r=B(o,t);t in v||(v[t]=D(r.get())),void 0!==i&&r.set(i)}}var R,S={};function G(t){var e=d.name2id(t.split(".")[0]);return S[e]=1,e}for(var E in e){if(y.hasParent(e,E))throw new Error("cannot set "+E+" and a parent attribute simultaneously");for(var V=B(o,E),Z=e[E],N=V.parts.length-1;N>0&&"string"!=typeof V.parts[N];)N--;var X=V.parts[N],W=V.parts[N-1]+"."+X,H=V.parts.slice(0,N).join("."),T=a(t.layout,H).get(),M=a(g,H).get(),$=V.get();if(void 0!==Z){A[E]=Z,v[E]="reverse"===X?Z:D($);var O=c.getLayoutValObject(g,V.parts);if(O&&O.impliedEdits&&null!==Z)for(var K in O.impliedEdits)L(n.relativeAttr(E,K),O.impliedEdits[K]);if(-1!==["width","height"].indexOf(E))if(Z){L("autosize",null);var _="height"===E?"width":"height";L(_,g[_])}else g[E]=t._initialAutoSize[E];else if("autosize"===E)L("width",Z?null:g.width),L("height",Z?null:g.height);else if(W.match(k))G(W),a(g,H+"._inputRange").set(null);else if(W.match(Y)){G(W),a(g,H+"._inputRange").set(null);var P=a(g,H).get();P._inputDomain&&(P._input.domain=P._inputDomain.slice())}else W.match(J)&&a(g,H+"._inputDomain").set(null);if("type"===X){R=T;var j="linear"===M.type&&"log"===Z,q="log"===M.type&&"linear"===Z;if(j||q){if(R&&R.range)if(M.autorange)j&&(R.range=R.range[1]>R.range[0]?[1,2]:[2,1]);else{var tt=R.range[0],et=R.range[1];j?(tt<=0&&et<=0&&L(H+".autorange",!0),tt<=0?tt=et/1e6:et<=0&&(et=tt/1e6),L(H+".range[0]",Math.log(tt)/Math.LN10),L(H+".range[1]",Math.log(et)/Math.LN10)):(L(H+".range[0]",Math.pow(10,tt)),L(H+".range[1]",Math.pow(10,et)))}else L(H+".autorange",!0);Array.isArray(g._subplots.polar)&&g._subplots.polar.length&&g[V.parts[0]]&&"radialaxis"===V.parts[1]&&delete g[V.parts[0]]._subplot.viewInitial["radialaxis.range"],l.getComponentMethod("annotations","convertCoords")(t,M,Z,L),l.getComponentMethod("images","convertCoords")(t,M,Z,L)}else L(H+".autorange",!0),L(H+".range",null);a(g,H+"._inputRange").set(null)}else if(X.match(f)){var it=a(g,E).get(),rt=(Z||{}).type;rt&&"-"!==rt||(rt="linear"),l.getComponentMethod("annotations","convertCoords")(t,it,rt,L),l.getComponentMethod("images","convertCoords")(t,it,rt,L)}var nt=p.containerArrayMatch(E);if(nt){i=nt.array,r=nt.index;var at=nt.property,st=O||{editType:"calc"};""!==r&&""===at&&(p.isAddVal(Z)?v[E]=null:p.isRemoveVal(Z)?v[E]=(a(o,i).get()||[])[r]:n.warn("unrecognized full object value",e)),C.update(x,st),U[i]||(U[i]={});var ot=U[i][r];ot||(ot=U[i][r]={}),ot[at]=Z,delete e[E]}else"reverse"===X?(T.range?T.range.reverse():(L(H+".autorange",!0),T.range=[1,0]),M.autorange?x.calc=!0:x.plot=!0):("dragmode"===E&&(!1===Z&&!1!==$||!1!==Z&&!1===$)||g._has("scatter-like")&&g._has("regl")&&"dragmode"===E&&("lasso"===Z||"select"===Z)&&"lasso"!==$&&"select"!==$?x.plot=!0:O?C.update(x,O):x.calc=!0,V.set(Z))}}for(i in U){p.applyContainerArrayChanges(t,B(o,i),U[i],x,B)||(x.plot=!0)}for(var lt in S){var ct=(R=d.getFromId(t,lt))&&R._constraintGroup;if(ct)for(var gt in x.calc=!0,ct)S[gt]||(d.getFromId(t,gt)._constraintShrinkable=!0)}(z(t)||e.height||e.width)&&(x.plot=!0);var dt=g.shapes;for(r=0;r<dt.length;r++)if(dt[r].showlegend){x.calc=!0;break}return(x.plot||x.calc)&&(x.layoutReplot=!0),{flags:x,rangesAltered:S,undoit:v,redoit:A,eventData:Q}}function z(t){var e=t._fullLayout,i=e.width,r=e.height;return t.layout.autosize&&g.plotAutoSize(t,t.layout,e),e.width!==i||e.height!==r}function O(e,i,r,a){e=n.getGraphDiv(e),y.clearPromiseQueue(e),n.isPlainObject(i)||(i={}),n.isPlainObject(r)||(r={}),Object.keys(i).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var s=y.coerceTraceIndices(e,a),l=W(e,n.extendFlat({},i),s),c=l.flags,d=$(e,n.extendFlat({},r)),u=d.flags;(c.calc||u.calc)&&(e.calcdata=void 0),c.clearAxisTypes&&y.clearAxisTypes(e,s,r);var B=[];u.layoutReplot?B.push(m.layoutReplot):c.fullReplot?B.push(t._doPlot):(B.push(g.previousPromises),T(e,u,d)||g.supplyDefaults(e),c.style&&B.push(m.doTraceStyle),(c.colorbars||u.colorbars)&&B.push(m.doColorBars),u.legend&&B.push(m.doLegend),u.layoutstyle&&B.push(m.layoutStyles),u.axrange&&M(B,d.rangesAltered),u.ticks&&B.push(m.doTicksRelayout),u.modebar&&B.push(m.doModeBar),u.camera&&B.push(m.doCamera),B.push(A)),B.push(g.rehover,g.redrag,g.reselect),o.add(e,O,[e,l.undoit,d.undoit,l.traces],O,[e,l.redoit,d.redoit,l.traces]);var F=n.syncOrAsync(B,e);return F&&F.then||(F=Promise.resolve(e)),F.then(function(){return e.emit("plotly_update",{data:l.eventData,layout:d.eventData}),e})}function K(t){return function(e){e._fullLayout._guiEditing=!0;var i=t.apply(null,arguments);return e._fullLayout._guiEditing=!1,i}}var _=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],P=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function j(t,e){for(var i=0;i<e.length;i++){var r=e[i],n=t.match(r.pattern);if(n){var a=n[1]||"";return{head:a,tail:t.substr(a.length+1),attr:r.attr}}}}function q(t,e){var i=a(e,t).get();if(void 0!==i)return i;var r=t.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(i=a(e,r.join(".")+".uirevision").get()))return i;return e.uirevision}function tt(t,e){for(var i=0;i<e.length;i++)if(e[i]._fullInput.uid===t)return i;return-1}function et(t,e,i){for(var r=0;r<e.length;r++)if(e[r].uid===t)return r;return!e[i]||e[i].uid?-1:i}function it(t,e){var i=n.isPlainObject(t),r=Array.isArray(t);return i||r?(i&&n.isPlainObject(e)||r&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function rt(t,e,i,r){var a,s,o,l=r.getValObject,c=r.flags,g=r.immutable,d=r.inArray,u=r.arrayIndex;function B(){var t=a.editType;d&&-1!==t.indexOf("arraydraw")?n.pushUnique(c.arrays[d],u):(C.update(c,a),"none"!==t&&c.nChanges++,r.transition&&a.anim&&c.nChangesAnim++,(k.test(o)||Y.test(o))&&(c.rangesAltered[i[0]]=1),"datarevision"===s&&(c.newDataRevision=1))}function F(t){return"data_array"===t.valType||t.arrayOk}for(s in t){if(c.calc&&!r.transition)return;var h=t[s],Q=e[s],U=i.concat(s);if(o=U.join("."),"_"!==s.charAt(0)&&"function"!=typeof h&&h!==Q){if(("tick0"===s||"dtick"===s)&&"geo"!==i[0]){var I=e.tickmode;if("auto"===I||"array"===I||!I)continue}if(("range"!==s||!e.autorange)&&("zmin"!==s&&"zmax"!==s||"contourcarpet"!==e.type)&&(a=l(U))&&(!a._compareAsJSON||JSON.stringify(h)!==JSON.stringify(Q))){var b,p=a.valType,y=F(a),m=Array.isArray(h),f=Array.isArray(Q);if(m&&f){var x="_input_"+s,A=t[x],v=e[x];if(Array.isArray(A)&&A===v)continue}if(void 0===Q)y&&m?c.calc=!0:B();else if(a._isLinkedToArray){var L=[],R=!1;d||(c.arrays[s]=L);var S=Math.min(h.length,Q.length),G=Math.max(h.length,Q.length);if(S!==G){if("arraydraw"!==a.editType){B();continue}R=!0}for(b=0;b<S;b++)rt(h[b],Q[b],U.concat(b),n.extendFlat({inArray:s,arrayIndex:b},r));if(R)for(b=S;b<G;b++)L.push(b)}else!p&&n.isPlainObject(h)?rt(h,Q,U,r):y?m&&f?(g&&(c.calc=!0),(g||r.newDataRevision)&&B()):m!==f?c.calc=!0:B():m&&f&&h.length===Q.length&&String(h)===String(Q)||B()}}}for(s in e)if(!(s in t)&&"_"!==s.charAt(0)&&"function"!=typeof e[s]){if(F(a=l(i.concat(s)))&&Array.isArray(e[s]))return void(c.calc=!0);B()}}function nt(t,e){var i;for(i in t)if("_"!==i.charAt(0)){var r=t[i],a=e[i];if(r!==a)if(n.isPlainObject(r)&&n.isPlainObject(a)){if(nt(r,a))return!0}else{if(!Array.isArray(r)||!Array.isArray(a))return!0;if(r.length!==a.length)return!0;for(var s=0;s<r.length;s++)if(r[s]!==a[s]){if(!n.isPlainObject(r[s])||!n.isPlainObject(a[s]))return!0;if(nt(r[s],a[s]))return!0}}}}function at(t){var e=t._fullLayout,i=t.getBoundingClientRect();if(!n.equalDomRects(i,e._lastBBox)){var r=e._invTransform=n.inverseTransformMatrix(n.getFullTransformMatrix(t));e._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),e._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),e._lastBBox=i}}t.animate=function(t,e,i){if(t=n.getGraphDiv(t),!n.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=t._transitionData;r._frameQueue||(r._frameQueue=[]);var a=(i=g.supplyAnimationDefaults(i)).transition,s=i.frame;function o(t){return Array.isArray(a)?t>=a.length?a[0]:a[t]:a}function l(t){return Array.isArray(s)?t>=s.length?s[0]:s[t]:s}function c(t,e){var i=0;return function(){if(t&&++i===e)return t()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise(function(s,d){function u(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var e=r._currentFrame=r._frameQueue.shift();if(e){var i=e.name?e.name.toString():null;t._fullLayout._currentFrame=i,r._lastFrameAt=Date.now(),r._timeToNext=e.frameOpts.duration,g.transition(t,e.frame.data,e.frame.layout,y.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then(function(){e.onComplete&&e.onComplete()}),t.emit("plotly_animatingframe",{name:i,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function B(){t.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var e=function(){r._animationRaf=window.requestAnimationFrame(e),Date.now()-r._lastFrameAt>r._timeToNext&&u()};e()}var F,h,Q=0;function U(t){return Array.isArray(a)?Q>=a.length?t.transitionOpts=a[Q]:t.transitionOpts=a[0]:t.transitionOpts=a,Q++,t}var I=[],b=null==e,p=Array.isArray(e);if(!b&&!p&&n.isPlainObject(e))I.push({type:"object",data:U(n.extendFlat({},e))});else if(b||-1!==["string","number"].indexOf(typeof e))for(F=0;F<r._frames.length;F++)(h=r._frames[F])&&(b||String(h.group)===String(e))&&I.push({type:"byname",name:String(h.name),data:U({name:h.name})});else if(p)for(F=0;F<e.length;F++){var m=e[F];-1!==["number","string"].indexOf(typeof m)?(m=String(m),I.push({type:"byname",name:m,data:U({name:m})})):n.isPlainObject(m)&&I.push({type:"object",data:U(n.extendFlat({},m))})}for(F=0;F<I.length;F++)if("byname"===(h=I[F]).type&&!r._frameHash[h.data.name])return n.warn('animate failure: frame not found: "'+h.data.name+'"'),void d();-1!==["next","immediate"].indexOf(i.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var e=r._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===i.direction&&I.reverse();var C=t._fullLayout._currentFrame;if(C&&i.fromcurrent){var f=-1;for(F=0;F<I.length;F++)if("byname"===(h=I[F]).type&&h.name===C){f=F;break}if(f>0&&f<I.length-1){var x=[];for(F=0;F<I.length;F++)h=I[F],("byname"!==I[F].type||F>f)&&x.push(h);I=x}}I.length>0?function(e){if(0!==e.length){for(var n=0;n<e.length;n++){var a;a="byname"===e[n].type?g.computeFrame(t,e[n].name):e[n].data;var u=l(n),F=o(n);F.duration=Math.min(F.duration,u.duration);var h={frame:a,name:e[n].name,frameOpts:u,transitionOpts:F};n===e.length-1&&(h.onComplete=c(s,2),h.onInterrupt=d),r._frameQueue.push(h)}"immediate"===i.mode&&(r._lastFrameAt=-1/0),r._animationRaf||B()}}(I):(t.emit("plotly_animated"),s())})},t.addFrames=function(t,e,i){if(t=n.getGraphDiv(t),null==e)return Promise.resolve();if(!n.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,a,s,l,c=t._transitionData._frames,d=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var u=c.length+2*e.length,B=[],F={};for(r=e.length-1;r>=0;r--)if(n.isPlainObject(e[r])){var h=e[r].name,Q=(d[h]||F[h]||{}).name,U=e[r].name,I=d[Q]||F[Q];Q&&U&&"number"==typeof U&&I&&x<5&&(x++,n.warn('addFrames: overwriting frame "'+(d[Q]||F[Q]).name+'" with a frame whose name of type "number" also equates to "'+Q+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===x&&n.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),F[h]={name:h},B.push({frame:g.supplyFrameDefaults(e[r]),index:i&&void 0!==i[r]&&null!==i[r]?i[r]:u+r})}B.sort(function(t,e){return t.index>e.index?-1:t.index<e.index?1:0});var b=[],p=[],y=c.length;for(r=B.length-1;r>=0;r--){if("number"==typeof(a=B[r].frame).name&&n.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;d[a.name="frame "+t._transitionData._counter++];);if(d[a.name]){for(s=0;s<c.length&&(c[s]||{}).name!==a.name;s++);b.push({type:"replace",index:s,value:a}),p.unshift({type:"replace",index:s,value:c[s]})}else l=Math.max(0,Math.min(B[r].index,y)),b.push({type:"insert",index:l,value:a}),p.unshift({type:"delete",index:l}),y++}var m=g.modifyFrames,C=g.modifyFrames,f=[t,p],A=[t,b];return o&&o.add(t,m,f,C,A),g.modifyFrames(t,b)},t.deleteFrames=function(t,e){if(t=n.getGraphDiv(t),!n.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var i,r,a=t._transitionData._frames,s=[],l=[];if(!e)for(e=[],i=0;i<a.length;i++)e.push(i);for((e=e.slice()).sort(),i=e.length-1;i>=0;i--)r=e[i],s.push({type:"delete",index:r}),l.unshift({type:"insert",index:r,value:a[r]});var c=g.modifyFrames,d=g.modifyFrames,u=[t,l],B=[t,s];return o&&o.add(t,c,u,d,B),g.modifyFrames(t,s)},t.addTraces=function e(i,r,a){i=n.getGraphDiv(i);var s,l,c=[],g=t.deleteTraces,d=e,u=[i,c],B=[i,r];for(function(t,e,i){var r,n;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if("object"!=typeof(n=e[r])||Array.isArray(n)||null===n)throw new Error("all values in traces array must be non-array objects");if(void 0===i||Array.isArray(i)||(i=[i]),void 0!==i&&i.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(i,r,a),Array.isArray(r)||(r=[r]),r=r.map(function(t){return n.extendFlat({},t)}),y.cleanData(r),s=0;s<r.length;s++)i.data.push(r[s]);for(s=0;s<r.length;s++)c.push(-r.length+s);if(void 0===a)return l=t.redraw(i),o.add(i,g,u,d,B),l;Array.isArray(a)||(a=[a]);try{E(i,c,a)}catch(t){throw i.data.splice(i.data.length-r.length,r.length),t}return o.startSequence(i),o.add(i,g,u,d,B),l=t.moveTraces(i,c,a),o.stopSequence(i),l},t.deleteTraces=function e(i,r){i=n.getGraphDiv(i);var a,s,l=[],c=t.addTraces,g=e,d=[i,l,r],u=[i,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),G(i,r,"indices"),(r=S(r,i.data.length-1)).sort(n.sorterDes),a=0;a<r.length;a+=1)s=i.data.splice(r[a],1)[0],l.push(s);var B=t.redraw(i);return o.add(i,c,d,g,u),B},t.extendTraces=function e(i,r,a,s){var l=V(i=n.getGraphDiv(i),r,a,s,function(t,e,i){var r,a;if(n.isTypedArray(t))if(i<0){var s=new t.constructor(0),o=Z(t,e);i<0?(r=o,a=s):(r=s,a=o)}else if(r=new t.constructor(i),a=new t.constructor(t.length+e.length-i),i===e.length)r.set(e),a.set(t);else if(i<e.length){var l=e.length-i;r.set(e.subarray(l)),a.set(t),a.set(e.subarray(0,l),t.length)}else{var c=i-e.length,g=t.length-c;r.set(t.subarray(g)),r.set(e,c),a.set(t.subarray(0,g))}else r=t.concat(e),a=i>=0&&i<r.length?r.splice(0,r.length-i):[];return[r,a]}),c=t.redraw(i),g=[i,l.update,a,l.maxPoints];return o.add(i,t.prependTraces,g,e,arguments),c},t.moveTraces=function e(i,r,a){var s,l=[],c=[],g=e,d=e,u=[i=n.getGraphDiv(i),a,r],B=[i,r,a];if(E(i,r,a),r=Array.isArray(r)?r:[r],void 0===a)for(a=[],s=0;s<r.length;s++)a.push(-r.length+s);for(a=Array.isArray(a)?a:[a],r=S(r,i.data.length-1),a=S(a,i.data.length-1),s=0;s<i.data.length;s++)-1===r.indexOf(s)&&l.push(i.data[s]);for(s=0;s<r.length;s++)c.push({newIndex:a[s],trace:i.data[r[s]]});for(c.sort(function(t,e){return t.newIndex-e.newIndex}),s=0;s<c.length;s+=1)l.splice(c[s].newIndex,0,c[s].trace);i.data=l;var F=t.redraw(i);return o.add(i,g,u,d,B),F},t.prependTraces=function e(i,r,a,s){var l=V(i=n.getGraphDiv(i),r,a,s,function(t,e,i){var r,a;if(n.isTypedArray(t))if(i<=0){var s=new t.constructor(0),o=Z(e,t);i<0?(r=o,a=s):(r=s,a=o)}else if(r=new t.constructor(i),a=new t.constructor(t.length+e.length-i),i===e.length)r.set(e),a.set(t);else if(i<e.length){var l=e.length-i;r.set(e.subarray(0,l)),a.set(e.subarray(l)),a.set(t,l)}else{var c=i-e.length;r.set(e),r.set(t.subarray(0,c),e.length),a.set(t.subarray(c))}else r=e.concat(t),a=i>=0&&i<r.length?r.splice(i,r.length):[];return[r,a]}),c=t.redraw(i),g=[i,l.update,a,l.maxPoints];return o.add(i,t.extendTraces,g,e,arguments),c},t.newPlot=function(e,i,r,a){return e=n.getGraphDiv(e),g.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),g.purge(e),t._doPlot(e,i,r,a)},t._doPlot=function(i,r,a,o){var c;if(i=n.getGraphDiv(i),s.init(i),n.isPlainObject(r)){var u=r;r=u.data,a=u.layout,o=u.config,c=u.frames}if(!1===s.triggerHandler(i,"plotly_beforeplot",[r,a,o]))return Promise.reject();r||a||n.isPlotDiv(i)||n.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",i),R(i,o),a||(a={}),e.select(i).classed("js-plotly-plot",!0),F.makeTester(),Array.isArray(i._promises)||(i._promises=[]);var B=0===(i.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(y.cleanData(r),B?i.data=r:i.data.push.apply(i.data,r),i.empty=!1),i.layout&&!B||(i.layout=y.cleanLayout(a)),g.supplyDefaults(i);var h=i._fullLayout,I=h._has("cartesian");h._replotting=!0,(B||h._shouldCreateBgLayer)&&(!function(t){var i=e.select(t),r=t._fullLayout;if(r._calcInverseTransform=at,r._calcInverseTransform(t),r._container=i.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var a={};e.selectAll("defs").each(function(){this.id&&(a[this.id.split("-")[1]]=1)}),r._uid=n.randstr(a)}r._paperdiv.selectAll(".main-svg").attr(U.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var s=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=s.append("g").classed("imagelayer",!0),r._shapeLowerLayer=s.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._smithlayer=r._paper.append("g").classed("smithlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._iciclelayer=r._paper.append("g").classed("iciclelayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var o=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=o.append("g").classed("imagelayer",!0),r._shapeUpperLayer=o.append("g").classed("shapelayer",!0),r._selectionLayer=r._toppaper.append("g").classed("selectionlayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}(i),h._shouldCreateBgLayer&&delete h._shouldCreateBgLayer),F.initGradients(i),F.initPatterns(i),B&&d.saveShowSpikeInitial(i);var b=!i.calcdata||i.calcdata.length!==(i._fullData||[]).length;b&&g.doCalcdata(i);for(var p=0;p<i.calcdata.length;p++)i.calcdata[p][0].trace=i._fullData[p];i._context.responsive?i._responsiveChartHandler||(i._responsiveChartHandler=function(){n.isHidden(i)||g.resize(i)},window.addEventListener("resize",i._responsiveChartHandler)):n.clearResponsive(i);var C=n.extendFlat({},h._size),f=0;function x(){if(g.clearAutoMarginIds(i),m.drawMarginPushers(i),d.allowAutoMargin(i),i._fullLayout.title.text&&i._fullLayout.title.automargin&&g.allowAutoMargin(i,"title.automargin"),h._has("pie"))for(var t=i._fullData,e=0;e<t.length;e++){var r=t[e];"pie"===r.type&&r.automargin&&g.allowAutoMargin(i,"pie."+r.uid+".automargin")}return g.doAutoMargin(i),g.previousPromises(i)}function v(){i._transitioning||(m.doAutoRangeAndConstraints(i),B&&d.saveRangeInitial(i),l.getComponentMethod("rangeslider","calcAutorange")(i))}var L=[g.previousPromises,function(){if(c)return t.addFrames(i,c)},function t(){for(var e=h._basePlotModules,r=0;r<e.length;r++)e[r].drawFramework&&e[r].drawFramework(i);!h._glcanvas&&h._has("gl")&&(h._glcanvas=h._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(t){return t.key}),h._glcanvas.enter().append("canvas").attr("class",function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var a=i._context.plotGlPixelRatio;if(h._glcanvas){h._glcanvas.attr("width",h.width*a).attr("height",h.height*a).style("width",h.width+"px").style("height",h.height+"px");var s=h._glcanvas.data()[0].regl;if(s&&(Math.floor(h.width*a)!==s._gl.drawingBufferWidth||Math.floor(h.height*a)!==s._gl.drawingBufferHeight)){var o="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!f)return n.log(o+" Clearing graph and plotting again."),g.cleanPlot([],{},i._fullData,h),g.supplyDefaults(i),h=i._fullLayout,g.doCalcdata(i),f++,t();n.error(o)}}return"h"===h.modebar.orientation?h._modebardiv.style("height",null).style("width","100%"):h._modebardiv.style("width",null).style("height",h.height+"px"),g.previousPromises(i)},x,function(){if(g.didMarginChange(C,h._size))return n.syncOrAsync([x,m.layoutStyles],i)}];I&&L.push(function(){if(b)return n.syncOrAsync([l.getComponentMethod("shapes","calcAutorange"),l.getComponentMethod("annotations","calcAutorange"),v],i);v()}),L.push(m.layoutStyles),I&&L.push(function(){return d.draw(i,B?"":"redraw")},function(t){var e=t._fullLayout._insideTickLabelsUpdaterange;if(e)return t._fullLayout._insideTickLabelsUpdaterange=void 0,H(t,e).then(function(){d.saveRangeInitial(t,!0)})}),L.push(m.drawData,m.finalDraw,Q,g.addLinks,g.rehover,g.redrag,g.reselect,g.doAutoMargin,g.previousPromises);var S=n.syncOrAsync(L,i);return S&&S.then||(S=Promise.resolve()),S.then(function(){return A(i),i})},t.purge=function(t){var e=(t=n.getGraphDiv(t))._fullLayout||{},i=t._fullData||[];return g.cleanPlot([],{},i,e),g.purge(t),s.purge(t),e._container&&e._container.remove(),delete t._context,t},t.react=function(e,i,r,s){var o,d;e=n.getGraphDiv(e),y.clearPromiseQueue(e);var u=e._fullData,B=e._fullLayout;if(n.isPlotDiv(e)&&u&&B){if(n.isPlainObject(i)){var F=i;i=F.data,r=F.layout,s=F.config,o=F.frames}var h=!1;if(s){var Q=n.extendDeep({},e._context);e._context=void 0,R(e,s),h=nt(Q,e._context)}if(h){const n=e._ev.eventNames().map(t=>[t,e._ev.listeners(t)]);d=t.newPlot(e,i,r,s).then(()=>{for(const[t,i]of n)i.forEach(i=>e.on(t,i));return t.react(e,i,r,s)})}else{e.data=i||[],y.cleanData(e.data),e.layout=r||{},y.cleanLayout(e.layout),function(t,e,i,r){var s,o,l,c,g,d,u,B,F,h,Q=r._preGUI,U=[],I={},b={};for(s in Q){if(g=j(s,_)){if(F=g.head,h=g.tail,o=g.attr||F+".uirevision",(c=(l=a(r,o).get())&&q(o,e))&&c===l){if(null===(d=Q[s])&&(d=void 0),it(B=(u=a(e,s)).get(),d)){void 0===B&&"autorange"===h&&U.push(F),u.set(D(a(r,s).get()));continue}if("autorange"===h||"range["===h.substr(0,6)){var p=Q[F+".range[0]"],y=Q[F+".range[1]"],m=Q[F+".autorange"];if(m||null===m&&null===p&&null===y){if(!(F in I)){var C=a(e,F).get();I[F]=C&&(C.autorange||!1!==C.autorange&&(!C.range||2!==C.range.length))}if(I[F]){u.set(D(a(r,s).get()));continue}}}}}else n.warn("unrecognized GUI edit: "+s);delete Q[s],g&&"range["===g.tail.substr(0,6)&&(b[g.head]=1)}for(var f=0;f<U.length;f++){var x=U[f];if(b[x]){var A=a(e,x).get();A&&delete A.autorange}}var v=r._tracePreGUI;for(var L in v){var R,S=v[L],G=null;for(s in S){if(!G){var E=tt(L,i);if(E<0){delete v[L];break}var V=et(L,t,(R=i[E]._fullInput).index);if(V<0){delete v[L];break}G=t[V]}if(g=j(s,P)){if(g.attr?c=(l=a(r,g.attr).get())&&q(g.attr,e):(l=R.uirevision,void 0===(c=G.uirevision)&&(c=e.uirevision)),c&&c===l&&(null===(d=S[s])&&(d=void 0),it(B=(u=a(G,s)).get(),d))){u.set(D(a(R,s).get()));continue}}else n.warn("unrecognized GUI edit: "+s+" in trace uid "+L);delete S[s]}}}(e.data,e.layout,u,B),g.supplyDefaults(e,{skipUpdateCalc:!0});var U=e._fullData,I=e._fullLayout,b=void 0===I.datarevision,p=I.transition,f=function(t,e,i,r,n){var a=C.layoutFlags();function s(t){return c.getLayoutValObject(i,t)}for(var o in a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0,i)if((o.startsWith("xaxis")||o.startsWith("yaxis"))&&e[o]){var l=i[o].domain,g=e[o].domain,d=e[o]._inputDomain;e[o]._inputDomain&&(l[0]===d[0]&&l[1]===d[1]?i[o].domain=e[o].domain:l[0]===g[0]&&l[1]===g[1]||(i[o]._inputDomain=null))}var u={getValObject:s,flags:a,immutable:r,transition:n,gd:t};rt(e,i,[],u),(a.plot||a.calc)&&(a.layoutReplot=!0);n&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?"all":"some");return a}(e,B,I,b,p),x=f.newDataRevision,v=function(t,e,i,r,n,a){var s=e.length===i.length;if(!n&&!s)return{fullReplot:!0,calc:!0};var o,l,g=C.traceFlags();function d(t){var e=c.getTraceValObject(l,t);return!l._module.animatable&&e.anim&&(e.anim=!1),e}g.arrays={},g.nChanges=0,g.nChangesAnim=0;var u={getValObject:d,flags:g,immutable:r,transition:n,newDataRevision:a,gd:t},B={};for(o=0;o<e.length;o++)if(i[o]){if(B[(l=i[o]._fullInput).uid])continue;B[l.uid]=1,rt(e[o]._fullInput,l,[],u)}(g.calc||g.plot)&&(g.fullReplot=!0);n&&g.nChanges&&g.nChangesAnim&&(g.anim=g.nChanges===g.nChangesAnim&&s?"all":"some");return g}(e,u,U,b,p,x);if(z(e)&&(f.layoutReplot=!0),v.calc||f.calc){e.calcdata=void 0;for(var L=Object.getOwnPropertyNames(I),S=0;S<L.length;S++){var G=L[S],E=G.substring(0,5);if("xaxis"===E||"yaxis"===E){var V=I[G]._emptyCategories;V&&V()}}}else g.supplyDefaultsUpdateCalc(e.calcdata,U);var Z=[];if(o&&(e._transitionData={},g.createTransitionData(e),Z.push(function(){return t.addFrames(e,o)})),I.transition&&(v.anim||f.anim))f.ticks&&Z.push(m.doTicksRelayout),g.doCalcdata(e),m.doAutoRangeAndConstraints(e),Z.push(function(){return g.transitionFromReact(e,v,f,B)});else if(v.fullReplot||f.layoutReplot)e._fullLayout._skipDefaults=!0,Z.push(t._doPlot);else{for(var N in f.arrays){var w=f.arrays[N];if(w.length){var X=l.getComponentMethod(N,"drawOne");if(X!==n.noop)for(var W=0;W<w.length;W++)X(e,w[W]);else{var H=l.getComponentMethod(N,"draw");if(H===n.noop)throw new Error("cannot draw components: "+N);H(e)}}}Z.push(g.previousPromises),v.style&&Z.push(m.doTraceStyle),(v.colorbars||f.colorbars)&&Z.push(m.doColorBars),f.legend&&Z.push(m.doLegend),f.layoutstyle&&Z.push(m.layoutStyles),f.axrange&&M(Z),f.ticks&&Z.push(m.doTicksRelayout),f.modebar&&Z.push(m.doModeBar),f.camera&&Z.push(m.doCamera),Z.push(A)}Z.push(g.rehover,g.redrag,g.reselect),(d=n.syncOrAsync(Z,e))&&d.then||(d=Promise.resolve(e))}}else d=t.newPlot(e,i,r,s);return d.then(()=>(h||e.emit("plotly_react",{config:s,data:i,layout:r}),e))},t.redraw=function(e){if(e=n.getGraphDiv(e),!n.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return y.cleanData(e.data),y.cleanLayout(e.layout),e.calcdata=void 0,t._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})},t.relayout=H,t.restyle=N,t.setPlotConfig=function(t){return n.extendFlat(b,t)},t.update=O,t._guiRelayout=K(H),t._guiRestyle=K(N),t._guiUpdate=K(O),t._storeDirectGUIEdit=function(t,e,i){for(var r in i){X(r,a(t,r).get(),i[r],e)}}}(plot_api);var helpers$c={},Registry$p=registry$1;helpers$c.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("mapbox")||t._has("map"))?500:0},helpers$c.getRedrawFunc=function(t){return function(){Registry$p.getComponentMethod("colorbar","draw")(t)}},helpers$c.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)},helpers$c.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var DOM_URL=window.URL||window.webkitURL;function fixBinary(t){for(var e=t.length,i=new ArrayBuffer(e),r=new Uint8Array(i),n=0;n<e;n++)r[n]=t.charCodeAt(n);return i}helpers$c.createObjectURL=function(t){return DOM_URL.createObjectURL(t)},helpers$c.revokeObjectURL=function(t){return DOM_URL.revokeObjectURL(t)},helpers$c.createBlob=function(t,e){if("svg"===e)return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([t],{type:"application/json;charset=utf-8"});var i=fixBinary(window.atob(t));return new window.Blob([i],{type:"image/"+e})},helpers$c.octetStream=function(t){document.location.href="data:application/octet-stream"+t},helpers$c.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/;var d3$e=d3Exports,Drawing$d=drawingExports,Color$k=colorExports,DOUBLEQUOTE_REGEX=/"/g,DUMMY_SUB="TOBESTRIPPED",DUMMY_REGEX=new RegExp('("'+DUMMY_SUB+")|("+DUMMY_SUB+'")',"g");function htmlEntityDecode(t){var e=d3$e.select("body").append("div").style({display:"none"}).html(""),i=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()});return e.remove(),i}function xmlEntityEncode(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}var tosvg=function(t,e,i){var r,n=t._fullLayout,a=n._paper,s=n._toppaper,o=n.width,l=n.height;a.insert("rect",":first-child").call(Drawing$d.setRect,0,0,o,l).call(Color$k.fill,n.paper_bgcolor);var c=n._basePlotModules||[];for(r=0;r<c.length;r++){var g=c[r];g.toSVG&&g.toSVG(t)}if(s){var d=s.node().childNodes,u=Array.prototype.slice.call(d);for(r=0;r<u.length;r++){var B=u[r];B.childNodes.length&&a.node().appendChild(B)}}n._draggers&&n._draggers.remove(),a.node().style.background="",a.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var t=d3$e.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(DOUBLEQUOTE_REGEX,DUMMY_SUB));var i=this.style.fontWeight;!i||"normal"!==i&&"400"!==i||t.style("font-weight",void 0);var r=this.style.fontStyle;r&&"normal"===r&&t.style("font-style",void 0);var n=this.style.fontVariant;n&&"normal"===n&&t.style("font-variant",void 0)}else t.remove()}),a.selectAll(".gradient_filled,.pattern_filled").each(function(){var t=d3$e.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(DOUBLEQUOTE_REGEX,DUMMY_SUB));var i=this.style.stroke;i&&-1!==i.indexOf("url(")&&t.style("stroke",i.replace(DOUBLEQUOTE_REGEX,DUMMY_SUB))}),"pdf"!==e&&"eps"!==e||a.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),"svg"===e&&i&&(a.attr("width",i*o),a.attr("height",i*l),a.attr("viewBox","0 0 "+o+" "+l));var F=(new window.XMLSerializer).serializeToString(a.node());return F=(F=xmlEntityEncode(F=htmlEntityDecode(F))).replace(DUMMY_REGEX,"'")},Lib$_=libExports,EventEmitter$1=eventsExports.EventEmitter,helpers$b=helpers$c;function svgToImg$2(t){var e=t.emitter||new EventEmitter$1,i=new Promise(function(i,r){var n,a,s=window.Image,o=t.svg,l=t.format||"png",c=t.canvas,g=t.scale||1,d=t.width||300,u=t.height||150,B=g*d,F=g*u,h=c.getContext("2d",{willReadFrequently:!0}),Q=new s;"svg"===l||Lib$_.isSafari()?a=helpers$b.encodeSVG(o):(n=helpers$b.createBlob(o,"svg"),a=helpers$b.createObjectURL(n)),c.width=B,c.height=F,Q.onload=function(){var s;switch(n=null,helpers$b.revokeObjectURL(a),"svg"!==l&&h.drawImage(Q,0,0,B,F),l){case"jpeg":s=c.toDataURL("image/jpeg");break;case"png":s=c.toDataURL("image/png");break;case"webp":s=c.toDataURL("image/webp");break;case"svg":s=a;break;default:var o="Image format is not jpeg, png, svg or webp.";if(r(new Error(o)),!t.promise)return e.emit("error",o)}i(s),t.promise||e.emit("success",s)},Q.onerror=function(i){if(n=null,helpers$b.revokeObjectURL(a),r(i),!t.promise)return e.emit("error",i)},Q.src=a});return t.promise?i:e}var svgtoimg=svgToImg$2,isNumeric$e=fastIsnumeric,plotApi=plot_api,plots=plotsExports,Lib$Z=libExports,helpers$a=helpers$c,toSVG$1=tosvg,svgToImg$1=svgtoimg,version=version$2.version,attrs$4={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}};function toImage$2(t,e){var i,r,n,a;function s(t){return!(t in e)||Lib$Z.validate(e[t],attrs$4[t])}if(e=e||{},Lib$Z.isPlainObject(t)?(i=t.data||[],r=t.layout||{},n=t.config||{},a={}):(t=Lib$Z.getGraphDiv(t),i=Lib$Z.extendDeep([],t.data),r=Lib$Z.extendDeep({},t.layout),n=t._context,a=t._fullLayout||{}),!s("width")&&null!==e.width||!s("height")&&null!==e.height)throw new Error("Height and width should be pixel values.");if(!s("format"))throw new Error("Export format is not "+Lib$Z.join2(attrs$4.format.values,", "," or ")+".");var o={};function l(t,i){return Lib$Z.coerce(e,o,attrs$4,t,i)}var c=l("format"),g=l("width"),d=l("height"),u=l("scale"),B=l("setBackground"),F=l("imageDataOnly"),h=document.createElement("div");h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var Q=Lib$Z.extendFlat({},r);g?Q.width=g:null===e.width&&isNumeric$e(a.width)&&(Q.width=a.width),d?Q.height=d:null===e.height&&isNumeric$e(a.height)&&(Q.height=a.height);var U=Lib$Z.extendFlat({},n,{_exportedPlot:!0,staticPlot:!0,setBackground:B}),I=helpers$a.getRedrawFunc(h);function b(){return new Promise(function(t){setTimeout(t,helpers$a.getDelay(h._fullLayout))})}function p(){return new Promise(function(t,e){var i=toSVG$1(h,c,u),r=h._fullLayout.width,n=h._fullLayout.height;function a(){plotApi.purge(h),document.body.removeChild(h)}if("full-json"===c){var s=plots.graphJson(h,!1,"keepdata","object",!0,!0);return s.version=version,s=JSON.stringify(s),a(),t(F?s:helpers$a.encodeJSON(s))}if(a(),"svg"===c)return t(F?i:helpers$a.encodeSVG(i));var o=document.createElement("canvas");o.id=Lib$Z.randstr(),svgToImg$1({format:c,width:r,height:n,scale:u,canvas:o,svg:i,promise:!0}).then(t).catch(e)})}return new Promise(function(t,e){plotApi.newPlot(h,i,Q,U).then(I).then(b).then(p).then(function(e){t(function(t){return F?t.replace(helpers$a.IMAGE_URL_PREFIX,""):t}(e))}).catch(function(t){e(t)})})}var to_image=toImage$2,Lib$Y=libExports,Plots$7=plotsExports,PlotSchema$1=plot_schema,dfltConfig$1=plot_config.dfltConfig,isPlainObject$1=Lib$Y.isPlainObject,isArray$1=Array.isArray,isArrayOrTypedArray$6=Lib$Y.isArrayOrTypedArray,validate=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var i,r,n=PlotSchema$1.get(),a=[],s={_context:Lib$Y.extendFlat({},dfltConfig$1)};isArray$1(t)?(s.data=Lib$Y.extendDeep([],t),i=t):(s.data=[],i=[],a.push(format$2("array","data"))),isPlainObject$1(e)?(s.layout=Lib$Y.extendDeep({},e),r=e):(s.layout={},r={},arguments.length>1&&a.push(format$2("object","layout"))),Plots$7.supplyDefaults(s);for(var o=s._fullData,l=i.length,c=0;c<l;c++){var g=i[c],d=["data",c];if(isPlainObject$1(g)){var u=o[c],B=u.type,F=n.traces[B].attributes;F.type={valType:"enumerated",values:[B]},!1===u.visible&&!1!==g.visible&&a.push(format$2("invisible",d)),crawl(g,u,F,a,d)}else a.push(format$2("object",d))}return crawl(r,s._fullLayout,fillLayoutSchema(n,o),a,"layout"),0===a.length?void 0:a};function crawl(t,e,i,r,n,a){a=a||[];for(var s=Object.keys(t),o=0;o<s.length;o++){var l=s[o],c=a.slice();c.push(l);var g=t[l],d=e[l],u=getNestedSchema(i,l),B=(u||{}).valType,F="info_array"===B,h="colorscale"===B,Q=(u||{}).items;if(isInSchema(i,l))if(isPlainObject$1(g)&&isPlainObject$1(d)&&"any"!==B)crawl(g,d,u,r,n,c);else if(F&&isArray$1(g)){g.length>d.length&&r.push(format$2("unused",n,c.concat(d.length)));var U,I,b,p,y,m=d.length,C=Array.isArray(Q);if(C&&(m=Math.min(m,Q.length)),2===u.dimensions)for(I=0;I<m;I++)if(isArray$1(g[I])){g[I].length>d[I].length&&r.push(format$2("unused",n,c.concat(I,d[I].length)));var f=d[I].length;for(U=0;U<(C?Math.min(f,Q[I].length):f);U++)b=C?Q[I][U]:Q,p=g[I][U],y=d[I][U],Lib$Y.validate(p,b)?y!==p&&y!==+p&&r.push(format$2("dynamic",n,c.concat(I,U),p,y)):r.push(format$2("value",n,c.concat(I,U),p))}else r.push(format$2("array",n,c.concat(I),g[I]));else for(I=0;I<m;I++)b=C?Q[I]:Q,p=g[I],y=d[I],Lib$Y.validate(p,b)?y!==p&&y!==+p&&r.push(format$2("dynamic",n,c.concat(I),p,y)):r.push(format$2("value",n,c.concat(I),p))}else if(u.items&&!F&&isArray$1(g)){var x,A,v=Q[Object.keys(Q)[0]],L=[];for(x=0;x<d.length;x++){var R=d[x]._index||x;if((A=c.slice()).push(R),isPlainObject$1(g[R])&&isPlainObject$1(d[x])){L.push(R);var S=g[R],G=d[x];isPlainObject$1(S)&&!1!==S.visible&&!1===G.visible?r.push(format$2("invisible",n,A)):crawl(S,G,v,r,n,A)}}for(x=0;x<g.length;x++)(A=c.slice()).push(x),isPlainObject$1(g[x])?-1===L.indexOf(x)&&r.push(format$2("unused",n,A)):r.push(format$2("object",n,A,g[x]))}else!isPlainObject$1(g)&&isPlainObject$1(d)?r.push(format$2("object",n,c,g)):isArrayOrTypedArray$6(g)||!isArrayOrTypedArray$6(d)||F||h?l in e?Lib$Y.validate(g,u)?"enumerated"===u.valType&&(u.coerceNumber&&g!==+d||!isArrayOrTypedArray$6(g)&&g!==d||String(g)!==String(d))&&r.push(format$2("dynamic",n,c,g,d)):r.push(format$2("value",n,c,g)):r.push(format$2("unused",n,c,g)):r.push(format$2("array",n,c,g));else r.push(format$2("schema",n,c))}return r}function fillLayoutSchema(t,e){for(var i=t.layout.layoutAttributes,r=0;r<e.length;r++){var n=e[r],a=t.traces[n.type],s=a.layoutAttributes;s&&(n.subplot?Lib$Y.extendFlat(i[a.attributes.subplot.dflt],s):Lib$Y.extendFlat(i,s))}return i}var code2msgFunc={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":inBase(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":inBase(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return inBase(t)+"key "+e+" is not part of the schema"},unused:function(t,e,i){var r=isPlainObject$1(i)?"container":"key";return inBase(t)+r+" "+e+" did not get coerced"},dynamic:function(t,e,i,r){return[inBase(t)+"key",e,"(set to '"+i+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(t,e){return(e?inBase(t)+"item "+e:"Trace "+t[1])+" got defaulted to be not visible"},value:function(t,e,i){return[inBase(t)+"key "+e,"is set to an invalid value ("+i+")"].join(" ")}};function inBase(t){return isArray$1(t)?"In data trace "+t[1]+", ":"In "+t+", "}function format$2(t,e,i,r,n){var a,s;i=i||"",isArray$1(e)?(a=e[0],s=e[1]):(a=e,s=null);var o=convertPathToAttributeString(i),l=code2msgFunc[t](e,o,r,n);return Lib$Y.log(l),{code:t,container:a,trace:s,path:i,astr:o,msg:l}}function isInSchema(t,e){var i=splitKey(e),r=i.keyMinusId,n=i.id;return!!(r in t&&t[r]._isSubplotObj&&n)||e in t}function getNestedSchema(t,e){return e in t?t[e]:t[splitKey(e).keyMinusId]}var idRegex=Lib$Y.counterRegex("([a-z]+)");function splitKey(t){var e=t.match(idRegex);return{keyMinusId:e&&e[1],id:e&&e[2]}}function convertPathToAttributeString(t){if(!isArray$1(t))return String(t);for(var e="",i=0;i<t.length;i++){var r=t[i];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,i<t.length-1&&(e+=".")}return e}var Lib$X=libExports,helpers$9=helpers$c;function fileSaver$1(t,e,i){var r=document.createElement("a"),n="download"in r;return new Promise(function(a,s){var o,l;if(n)return o=helpers$9.createBlob(t,i),l=helpers$9.createObjectURL(o),r.href=l,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),helpers$9.revokeObjectURL(l),o=null,a(e);if(Lib$X.isSafari()){var c="svg"===i?",":";base64,";return helpers$9.octetStream(c+encodeURIComponent(t)),a(e)}s(new Error("download error"))})}var filesaver=fileSaver$1,Lib$W=libExports,toImage$1=to_image,fileSaver=filesaver;function downloadImage(t,e){var i;return Lib$W.isPlainObject(t)||(i=Lib$W.getGraphDiv(t)),(e=e||{}).format=e.format||"png",e.width=e.width||null,e.height=e.height||null,e.imageDataOnly=!0,new Promise(function(r,n){i&&i._snapshotInProgress&&n(new Error("Snapshotting already in progress.")),i&&(i._snapshotInProgress=!0);var a=toImage$1(t,e),s=e.filename||t.fn||"newplot";s+="."+e.format.replace("-","."),a.then(function(t){return i&&(i._snapshotInProgress=!1),fileSaver(t,s,e.format)}).then(function(t){r(t)}).catch(function(t){i&&(i._snapshotInProgress=!1),n(t)})})}var download=downloadImage,template_api={},Lib$V=libExports,isPlainObject=Lib$V.isPlainObject,PlotSchema=plot_schema,Plots$6=plotsExports,plotAttributes=attributes$L,Template$3=plot_template,dfltConfig=plot_config.dfltConfig;function mergeTemplates(t,e){t=Lib$V.extendDeep({},t);var i,r,n=Object.keys(t).sort();function a(e,i,n){if(isPlainObject(i)&&isPlainObject(e))mergeTemplates(e,i);else if(Array.isArray(i)&&Array.isArray(e)){var a=Template$3.arrayTemplater({_template:t},n);for(r=0;r<i.length;r++){var s=i[r],o=a.newItem(s)._template;o&&mergeTemplates(o,s)}var l=a.defaultItems();for(r=0;r<l.length;r++)i.push(l[r]._template);for(r=0;r<i.length;r++)delete i[r].templateitemname}}for(i=0;i<n.length;i++){var s=n[i],o=t[s];if(s in e?a(o,e[s],s):e[s]=o,getBaseKey(s)===s)for(var l in e){var c=getBaseKey(l);l===c||c!==s||l in t||a(o,e[l],s)}}}function getBaseKey(t){return t.replace(/[0-9]+$/,"")}function walkStyleKeys(t,e,i,r,n){var a=n&&i(n);for(var s in t){var o=t[s],l=getNextPath(t,s,r),c=getNextPath(t,s,n),g=i(c);if(!g){var d=getBaseKey(s);d!==s&&(g=i(c=getNextPath(t,d,n)))}if((!a||a!==g)&&!(!g||g._noTemplating||"data_array"===g.valType||g.arrayOk&&Array.isArray(o)))if(!g.valType&&isPlainObject(o))walkStyleKeys(o,e,i,l,c);else if(g._isLinkedToArray&&Array.isArray(o))for(var u=!1,B=0,F={},h=0;h<o.length;h++){var Q=o[h];if(isPlainObject(Q)){var U=Q.name;if(U)F[U]||(walkStyleKeys(Q,e,i,getNextPath(o,B,l),getNextPath(o,B,c)),B++,F[U]=1);else if(!u){var I=getNextPath(t,Template$3.arrayDefaultKey(s),r),b=getNextPath(o,B,l);walkStyleKeys(Q,e,i,b,getNextPath(o,B,c));var p=Lib$V.nestedProperty(e,b);Lib$V.nestedProperty(e,I).set(p.get()),p.set(null),u=!0}}}else{Lib$V.nestedProperty(e,l).set(o)}}}function getLayoutInfo(t,e){return PlotSchema.getLayoutValObject(t,Lib$V.nestedProperty({},e).parts)}function getTraceInfo(t,e){return PlotSchema.getTraceValObject(t,Lib$V.nestedProperty({},e).parts)}function getNextPath(t,e,i){return i?Array.isArray(t)?i+"["+e+"]":i+"."+e:e}function hasPlainObject(t){for(var e=0;e<t.length;e++)if(isPlainObject(t[e]))return!0}function format$1(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":e=t.path?"There are no templates for item "+t.path+" with name "+t.templateitemname:"There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":e=t.path?"The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?"Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":"The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type."}return t.msg=e,t}template_api.makeTemplate=function(t){t=Lib$V.isPlainObject(t)?t:Lib$V.getGraphDiv(t),t=Lib$V.extendDeep({_context:dfltConfig},{data:t.data,layout:t.layout}),Plots$6.supplyDefaults(t);var e=t.data||[],i=t.layout||{};i._basePlotModules=t._fullLayout._basePlotModules,i._modules=t._fullLayout._modules;var r={data:{},layout:{}};e.forEach(function(t){var e={};walkStyleKeys(t,e,getTraceInfo.bind(null,t));var i=Lib$V.coerce(t,{},plotAttributes,"type"),n=r.data[i];n||(n=r.data[i]=[]),n.push(e)}),walkStyleKeys(i,r.layout,getLayoutInfo.bind(null,i)),delete r.layout.template;var n=i.template;if(isPlainObject(n)){var a,s,o,l,c,g,d=n.layout;isPlainObject(d)&&mergeTemplates(d,r.layout);var u=n.data;if(isPlainObject(u)){for(s in r.data)if(o=u[s],Array.isArray(o)){for(g=(c=r.data[s]).length,l=o.length,a=0;a<g;a++)mergeTemplates(o[a%l],c[a]);for(a=g;a<l;a++)c.push(Lib$V.extendDeep({},o[a]))}for(s in u)s in r.data||(r.data[s]=Lib$V.extendDeep([],u[s]))}}return r},template_api.validateTemplate=function(t,e){var i=Lib$V.extendDeep({},{_context:dfltConfig,data:t.data,layout:t.layout}),r=i.layout||{};isPlainObject(e)||(e=r.template||{});var n=e.layout,a=e.data,s=[];i.layout=r,i.layout.template=e,Plots$6.supplyDefaults(i);var o=i._fullLayout,l=i._fullData,c={};if(isPlainObject(n)?(!function t(e,i){for(var r in e)if("_"!==r.charAt(0)&&isPlainObject(e[r])){var n,a=getBaseKey(r),s=[];for(n=0;n<i.length;n++)s.push(getNextPath(e,r,i[n])),a!==r&&s.push(getNextPath(e,a,i[n]));for(n=0;n<s.length;n++)c[s[n]]=1;t(e[r],s)}}(o,["layout"]),function t(e,i){for(var r in e)if(-1===r.indexOf("defaults")&&isPlainObject(e[r])){var n=getNextPath(e,r,i);c[n]?t(e[r],n):s.push({code:"unused",path:n})}}(n,"layout")):s.push({code:"layout"}),isPlainObject(a)){for(var g,d={},u=0;u<l.length;u++){var B=l[u];d[g=B.type]=(d[g]||0)+1,B._fullInput._template||s.push({code:"missing",index:B.index,traceType:g})}for(g in a){var F=a[g].length,h=d[g]||0;F>h?s.push({code:"unused",traceType:g,templateCount:F,dataCount:h}):h>F&&s.push({code:"reused",traceType:g,templateCount:F,dataCount:h})}}else s.push({code:"data"});if(function t(e,i){for(var r in e)if("_"!==r.charAt(0)){var n=e[r],a=getNextPath(e,r,i);isPlainObject(n)?(Array.isArray(e)&&!1===n._template&&n.templateitemname&&s.push({code:"missing",path:a,templateitemname:n.templateitemname}),t(n,a)):Array.isArray(n)&&hasPlainObject(n)&&t(n,a)}}({data:l,layout:o},""),s.length)return s.map(format$1)};var main=plot_api;plot_api$1._doPlot=main._doPlot,plot_api$1.newPlot=main.newPlot,plot_api$1.restyle=main.restyle,plot_api$1.relayout=main.relayout,plot_api$1.redraw=main.redraw,plot_api$1.update=main.update,plot_api$1._guiRestyle=main._guiRestyle,plot_api$1._guiRelayout=main._guiRelayout,plot_api$1._guiUpdate=main._guiUpdate,plot_api$1._storeDirectGUIEdit=main._storeDirectGUIEdit,plot_api$1.react=main.react,plot_api$1.extendTraces=main.extendTraces,plot_api$1.prependTraces=main.prependTraces,plot_api$1.addTraces=main.addTraces,plot_api$1.deleteTraces=main.deleteTraces,plot_api$1.moveTraces=main.moveTraces,plot_api$1.purge=main.purge,plot_api$1.addFrames=main.addFrames,plot_api$1.deleteFrames=main.deleteFrames,plot_api$1.animate=main.animate,plot_api$1.setPlotConfig=main.setPlotConfig;var getGraphDiv=dom.getGraphDiv,eraseActiveShape=draw_1$3.eraseActiveShape;plot_api$1.deleteActiveShape=function(t){return eraseActiveShape(getGraphDiv(t))},plot_api$1.toImage=to_image,plot_api$1.validate=validate,plot_api$1.downloadImage=download;var templateApi=template_api;plot_api$1.makeTemplate=templateApi.makeTemplate,plot_api$1.validateTemplate=templateApi.validateTemplate;var Lib$U=libExports,Registry$o=registry$1,xy_defaults=function(t,e,i,r){var n,a=r("x"),s=r("y");if(Registry$o.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],i),a){var o=Lib$U.minRowLength(a);s?n=Math.min(o,Lib$U.minRowLength(s)):(n=o,r("y0"),r("dy"))}else{if(!s)return 0;n=Lib$U.minRowLength(s),r("x0"),r("dx")}return e._length=n,n},dateTick0=libExports.dateTick0,numConstants$2=numerical,ONEWEEK=numConstants$2.ONEWEEK;function getPeriod0Dflt(t,e){return dateTick0(e,t%ONEWEEK===0?1:0)}var period_defaults=function(t,e,i,r,n){if(n||(n={x:!0,y:!0}),n.x){var a=r("xperiod");a&&(r("xperiod0",getPeriod0Dflt(a,e.xcalendar)),r("xperiodalignment"))}if(n.y){var s=r("yperiod");s&&(r("yperiod0",getPeriod0Dflt(s,e.ycalendar)),r("yperiodalignment"))}},perStackAttrs=["orientation","groupnorm","stackgaps"],stack_defaults=function(t,e,i,r){var n=i._scatterStackOpts,a=r("stackgroup");if(a){var s=e.xaxis+e.yaxis,o=n[s];o||(o=n[s]={});var l=o[a],c=!1;l?l.traces.push(e):(l=o[a]={traceIndices:[],traces:[e]},c=!0);for(var g={orientation:e.x&&!e.y?"h":"v"},d=0;d<perStackAttrs.length;d++){var u=perStackAttrs[d],B=u+"Found";if(!l[B]){var F=void 0!==t[u],h="orientation"===u;if((F||c)&&(l[u]=r(u,g[u]),h&&(l.fillDflt="h"===l[u]?"tonextx":"tonexty"),F&&(l[B]=!0,!c&&(delete l.traces[0][u],h))))for(var Q=0;Q<l.traces.length-1;Q++){var U=l.traces[Q];U._input.fill!==U.fill&&(U.fill=l.fillDflt)}}}return l}},Color$j=colorExports,hasColorscale$4=helpers$A.hasColorscale,colorscaleDefaults$3=defaults$t,subTypes$5=subtypes$3,marker_defaults=function(t,e,i,r,n,a){var s=subTypes$5.isBubble(t),o=(t.line||{}).color;(a=a||{},o&&(i=o),n("marker.symbol"),n("marker.opacity",s?.7:1),n("marker.size"),a.noAngle||(n("marker.angle"),a.noAngleRef||n("marker.angleref"),a.noStandOff||n("marker.standoff")),n("marker.color",i),hasColorscale$4(t,"marker")&&colorscaleDefaults$3(t,e,r,n,{prefix:"marker.",cLetter:"c"}),a.noSelect||(n("selected.marker.color"),n("unselected.marker.color"),n("selected.marker.size"),n("unselected.marker.size")),a.noLine||(n("marker.line.color",o&&!Array.isArray(o)&&e.marker.color!==o?o:s?Color$j.background:Color$j.defaultLine),hasColorscale$4(t,"marker.line")&&colorscaleDefaults$3(t,e,r,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width",s?1:0)),s&&(n("marker.sizeref"),n("marker.sizemin"),n("marker.sizemode")),a.gradient)&&("none"!==n("marker.gradient.type")&&n("marker.gradient.color"))},isArrayOrTypedArray$5=libExports.isArrayOrTypedArray,hasColorscale$3=helpers$A.hasColorscale,colorscaleDefaults$2=defaults$t,line_defaults=function(t,e,i,r,n,a){a||(a={});var s=(t.marker||{}).color;(s&&s._inputArray&&(s=s._inputArray),n("line.color",i),hasColorscale$3(t,"line"))?colorscaleDefaults$2(t,e,r,n,{prefix:"line.",cLetter:"c"}):n("line.color",!isArrayOrTypedArray$5(s)&&s||i);n("line.width"),a.noDash||n("line.dash"),a.backoff&&n("line.backoff")},line_shape_defaults=function(t,e,i){"spline"===i("line.shape")&&i("line.smoothing")},Lib$T=libExports,text_defaults=function(t,e,i,r,n){n=n||{},r("textposition"),Lib$T.coerceFont(r,"textfont",n.font||i.font,n),n.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))},Color$i=colorExports,isArrayOrTypedArray$4=libExports.isArrayOrTypedArray;function averageColors(t){for(var e=Color$i.interpolate(t[0][1],t[1][1],.5),i=2;i<t.length;i++){var r=Color$i.interpolate(t[i-1][1],t[i][1],.5);e=Color$i.interpolate(e,r,t[i-1][0]/t[i][0])}return e}var fillcolor_defaults=function(t,e,i,r,n){n||(n={});var a,s=!1;if(e.marker){var o=e.marker.color,l=(e.marker.line||{}).color;o&&!isArrayOrTypedArray$4(o)?s=o:l&&!isArrayOrTypedArray$4(l)&&(s=l)}if(n.moduleHasFillgradient&&"none"!==r("fillgradient.type")){r("fillgradient.start"),r("fillgradient.stop");var c=r("fillgradient.colorscale");c&&(a=averageColors(c))}r("fillcolor",Color$i.addOpacity((e.line||{}).color||s||a||i,.5))},Lib$S=libExports,Registry$n=registry$1,attributes$u=attributes$x,constants$o=constants$r,subTypes$4=subtypes$3,handleXYDefaults=xy_defaults,handlePeriodDefaults=period_defaults,handleStackDefaults=stack_defaults,handleMarkerDefaults$1=marker_defaults,handleLineDefaults$1=line_defaults,handleLineShapeDefaults=line_shape_defaults,handleTextDefaults$1=text_defaults,handleFillColorDefaults=fillcolor_defaults,coercePattern$1=libExports.coercePattern,defaults$n=function(t,e,i,r){function n(i,r){return Lib$S.coerce(t,e,attributes$u,i,r)}var a=handleXYDefaults(t,e,r,n);if(a||(e.visible=!1),e.visible){handlePeriodDefaults(t,e,r,n),n("xhoverformat"),n("yhoverformat"),n("zorder");var s=handleStackDefaults(t,e,r,n);"group"===r.scattermode&&void 0===e.orientation&&n("orientation","v");var o=!s&&a<constants$o.PTS_LINESONLY?"lines+markers":"lines";n("text"),n("hovertext"),n("mode",o),subTypes$4.hasMarkers(e)&&handleMarkerDefaults$1(t,e,i,r,n,{gradient:!0}),subTypes$4.hasLines(e)&&(handleLineDefaults$1(t,e,i,r,n,{backoff:!0}),handleLineShapeDefaults(t,e,n),n("connectgaps"),n("line.simplify")),subTypes$4.hasText(e)&&(n("texttemplate"),handleTextDefaults$1(t,e,r,n));var l=[];(subTypes$4.hasMarkers(e)||subTypes$4.hasText(e))&&(n("cliponaxis"),n("marker.maxdisplayed"),l.push("points")),n("fill",s?s.fillDflt:"none"),"none"!==e.fill&&(handleFillColorDefaults(t,e,i,n,{moduleHasFillgradient:!0}),subTypes$4.hasLines(e)||handleLineShapeDefaults(t,e,n),coercePattern$1(n,"fillpattern",e.fillcolor,!1));var c=(e.line||{}).color,g=(e.marker||{}).color;"tonext"!==e.fill&&"toself"!==e.fill||l.push("fills"),n("hoveron",l.join("+")||"points"),"fills"!==e.hoveron&&n("hovertemplate");var d=Registry$n.getComponentMethod("errorbars","supplyDefaults");d(t,e,c||g||i,{axis:"y"}),d(t,e,c||g||i,{axis:"x",inherit:"y"}),Lib$S.coerceSelectionMarkerOpacity(e,n)}},getAxisGroup$2=constraints.getAxisGroup,grouping_defaults=function(t,e,i,r,n){var a=e.orientation,s=e[{v:"x",h:"y"}[a]+"axis"],o=getAxisGroup$2(i,s)+a,l=i._alignmentOpts||{},c=r("alignmentgroup"),g=l[o];g||(g=l[o]={});var d=g[c];d?d.traces.push(e):d=g[c]={traces:[e],alignmentIndex:Object.keys(g).length,offsetGroups:{}};var u=r("offsetgroup")||"",B=d.offsetGroups,F=B[u];e._offsetIndex=0,("group"!==n||u)&&(F||(F=B[u]={offsetIndex:Object.keys(B).length}),e._offsetIndex=F.offsetIndex)},Lib$R=libExports,handleGroupingDefaults$1=grouping_defaults,attributes$t=attributes$x,cross_trace_defaults$1=function(t,e){var i,r,n,a=e.scattermode;function s(t){return Lib$R.coerce(r._input,r,attributes$t,t)}if("group"===e.scattermode)for(n=0;n<t.length;n++)"scatter"===(r=t[n]).type&&(i=r._input,handleGroupingDefaults$1(i,r,e,s,a));for(n=0;n<t.length;n++){var o=t[n];if("scatter"===o.type){var l=o.fill;if("none"!==l&&"toself"!==l&&(o.opacity=void 0,"tonexty"===l||"tonextx"===l))for(var c=n-1;c>=0;c--){var g=t[c];if("scatter"===g.type&&g.xaxis===o.xaxis&&g.yaxis===o.yaxis){g.opacity=void 0;break}}}}},Lib$Q=libExports,layoutAttributes$2=layout_attributes$4,layout_defaults$2=function(t,e){var i,r,n="group"===e.barmode;"group"===e.scattermode&&(i="scattergap",r=n?e.bargap:.2,Lib$Q.coerce(t,e,layoutAttributes$2,i,r))},isNumeric$d=fastIsnumeric,Lib$P=libExports,dateTime2ms=Lib$P.dateTime2ms,incrementMonth=Lib$P.incrementMonth,constants$n=numerical,ONEAVGMONTH=constants$n.ONEAVGMONTH,align_period=function(t,e,i,r){if("date"!==e.type)return{vals:r};var n=t[i+"periodalignment"];if(!n)return{vals:r};var a,s=t[i+"period"];if(isNumeric$d(s)){if((s=+s)<=0)return{vals:r}}else if("string"==typeof s&&"M"===s.charAt(0)){var o=+s.substring(1);if(!(o>0&&Math.round(o)===o))return{vals:r};a=o}for(var l=e.calendar,c="start"===n,g="end"===n,d=t[i+"period0"],u=dateTime2ms(d,l)||0,B=[],F=[],h=[],Q=r.length,U=0;U<Q;U++){var I,b,p,y=r[U];if(a){for(I=Math.round((y-u)/(a*ONEAVGMONTH)),p=incrementMonth(u,a*I,l);p>y;)p=incrementMonth(p,-a,l);for(;p<=y;)p=incrementMonth(p,a,l);b=incrementMonth(p,-a,l)}else{for(p=u+(I=Math.round((y-u)/s))*s;p>y;)p-=s;for(;p<=y;)p+=s;b=p-s}B[U]=c?b:g?p:(b+p)/2,F[U]=b,h[U]=p}return{vals:B,starts:F,ends:h}},hasColorscale$2=helpers$A.hasColorscale,calcColorscale$2=calc$7,subTypes$3=subtypes$3,colorscale_calc=function(t,e){subTypes$3.hasLines(e)&&hasColorscale$2(e,"line")&&calcColorscale$2(t,e,{vals:e.line.color,containerStr:"line"}),subTypes$3.hasMarkers(e)&&(hasColorscale$2(e,"marker")&&calcColorscale$2(t,e,{vals:e.marker.color,containerStr:"marker"}),hasColorscale$2(e,"marker.line")&&calcColorscale$2(t,e,{vals:e.marker.line.color,containerStr:"marker.line"}))},Lib$O=libExports,arrays_to_calcdata$1=function(t,e){for(var i=0;i<t.length;i++)t[i].i=i;Lib$O.mergeArray(e.text,t,"tx"),Lib$O.mergeArray(e.texttemplate,t,"txt"),Lib$O.mergeArray(e.hovertext,t,"htx"),Lib$O.mergeArray(e.customdata,t,"data"),Lib$O.mergeArray(e.textposition,t,"tp"),e.textfont&&(Lib$O.mergeArrayCastPositive(e.textfont.size,t,"ts"),Lib$O.mergeArray(e.textfont.color,t,"tc"),Lib$O.mergeArray(e.textfont.family,t,"tf"),Lib$O.mergeArray(e.textfont.weight,t,"tw"),Lib$O.mergeArray(e.textfont.style,t,"ty"),Lib$O.mergeArray(e.textfont.variant,t,"tv"),Lib$O.mergeArray(e.textfont.textcase,t,"tC"),Lib$O.mergeArray(e.textfont.lineposition,t,"tE"),Lib$O.mergeArray(e.textfont.shadow,t,"tS"));var r=e.marker;if(r){Lib$O.mergeArrayCastPositive(r.size,t,"ms"),Lib$O.mergeArrayCastPositive(r.opacity,t,"mo"),Lib$O.mergeArray(r.symbol,t,"mx"),Lib$O.mergeArray(r.angle,t,"ma"),Lib$O.mergeArray(r.standoff,t,"mf"),Lib$O.mergeArray(r.color,t,"mc");var n=r.line;r.line&&(Lib$O.mergeArray(n.color,t,"mlc"),Lib$O.mergeArrayCastPositive(n.width,t,"mlw"));var a=r.gradient;a&&"none"!==a.type&&(Lib$O.mergeArray(a.type,t,"mgt"),Lib$O.mergeArray(a.color,t,"mgc"))}},Lib$N=libExports,calc_selection=function(t,e){Lib$N.isArrayOrTypedArray(e.selectedpoints)&&Lib$N.tagSelected(t,e)},isNumeric$c=fastIsnumeric,Lib$M=libExports,Axes$g=axesExports,alignPeriod=align_period,BADNUM$3=numerical.BADNUM,subTypes$2=subtypes$3,calcColorscale$1=colorscale_calc,arraysToCalcdata$2=arrays_to_calcdata$1,calcSelection=calc_selection;function calc$5(t,e){var i,r,n,a,s,o,l=t._fullLayout,c=e._xA=Axes$g.getFromId(t,e.xaxis||"x","x"),g=e._yA=Axes$g.getFromId(t,e.yaxis||"y","y"),d=c.makeCalcdata(e,"x"),u=g.makeCalcdata(e,"y"),B=alignPeriod(e,c,"x",d),F=alignPeriod(e,g,"y",u),h=B.vals,Q=F.vals,U=e._length,I=new Array(U),b=e.ids,p=getStackOpts(e,l,c,g),y=!1;setFirstScatter(l,e);var m,C="x",f="y";p?(Lib$M.pushUnique(p.traceIndices,e.index),(i="v"===p.orientation)?(f="s",m="x"):(C="s",m="y"),s="interpolate"===p.stackgaps):calcAxisExpansion$1(t,e,c,g,h,Q,calcMarkerSize(e,U));var x=!!e.xperiodalignment,A=!!e.yperiodalignment;for(r=0;r<U;r++){var v=I[r]={},L=isNumeric$c(h[r]),R=isNumeric$c(Q[r]);L&&R?(v[C]=h[r],v[f]=Q[r],x&&(v.orig_x=d[r],v.xEnd=B.ends[r],v.xStart=B.starts[r]),A&&(v.orig_y=u[r],v.yEnd=F.ends[r],v.yStart=F.starts[r])):p&&(i?L:R)?(v[m]=i?h[r]:Q[r],v.gap=!0,s?(v.s=BADNUM$3,y=!0):v.s=0):v[C]=v[f]=BADNUM$3,b&&(v.id=String(b[r]))}if(arraysToCalcdata$2(I,e),calcColorscale$1(t,e),calcSelection(I,e),p){for(r=0;r<I.length;)I[r][m]===BADNUM$3?I.splice(r,1):r++;if(Lib$M.sort(I,function(t,e){return t[m]-e[m]||t.i-e.i}),y){for(r=0;r<I.length-1&&I[r].gap;)r++;for((o=I[r].s)||(o=I[r].s=0),n=0;n<r;n++)I[n].s=o;for(a=I.length-1;a>r&&I[a].gap;)a--;for(o=I[a].s,n=I.length-1;n>a;n--)I[n].s=o;for(;r<a;)if(I[++r].gap){for(n=r+1;I[n].gap;)n++;for(var S=I[r-1][m],G=I[r-1].s,E=(I[n].s-G)/(I[n][m]-S);r<n;)I[r].s=G+(I[r][m]-S)*E,r++}}}return I}function calcAxisExpansion$1(t,e,i,r,n,a,s){var o=e._length,l=t._fullLayout,c=i._id,g=r._id,d=l._firstScatter[firstScatterGroup(e)]===e.uid,u=(getStackOpts(e,l,i,r)||{}).orientation,B=e.fill;i._minDtick=0,r._minDtick=0;var F={padded:!0},h={padded:!0};s&&(F.ppad=h.ppad=s);var Q=o<2||n[0]!==n[o-1]||a[0]!==a[o-1];Q&&("tozerox"===B||"tonextx"===B&&(d||"h"===u))?F.tozero=!0:(e.error_y||{}).visible||"tonexty"!==B&&"tozeroy"!==B&&(subTypes$2.hasMarkers(e)||subTypes$2.hasText(e))||(F.padded=!1,F.ppad=0),Q&&("tozeroy"===B||"tonexty"===B&&(d||"v"===u))?h.tozero=!0:"tonextx"!==B&&"tozerox"!==B||(h.padded=!1),c&&(e._extremes[c]=Axes$g.findExtremes(i,n,F)),g&&(e._extremes[g]=Axes$g.findExtremes(r,a,h))}function calcMarkerSize(t,e){if(subTypes$2.hasMarkers(t)){var i,r=t.marker,n=1.6*(t.marker.sizeref||1);if(i="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/n),3)}:function(t){return Math.max((t||0)/n,3)},Lib$M.isArrayOrTypedArray(r.size)){var a={type:"linear"};Axes$g.setConvert(a);for(var s=a.makeCalcdata(t.marker,"size"),o=new Array(e),l=0;l<e;l++)o[l]=i(s[l]);return o}return i(r.size)}}function setFirstScatter(t,e){var i=firstScatterGroup(e),r=t._firstScatter;r[i]||(r[i]=e.uid)}function firstScatterGroup(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function getStackOpts(t,e,i,r){var n=t.stackgroup;if(n){var a=e._scatterStackOpts[i._id+r._id][n],s="v"===a.orientation?r:i;return"linear"===s.type||"log"===s.type?a:void 0}}var calc_1$2={calc:calc$5,calcMarkerSize:calcMarkerSize,calcAxisExpansion:calcAxisExpansion$1,setFirstScatter:setFirstScatter,getStackOpts:getStackOpts},sieve=Sieve$1,distinctVals$1=libExports.distinctVals;function Sieve$1(t,e){this.traces=t,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var i=1/0,r=e.posAxis._id.charAt(0),n=[],a=0;a<t.length;a++){for(var s=t[a],o=0;o<s.length;o++){var l=s[o],c=l.p;void 0===c&&(c=l[r]),void 0!==c&&n.push(c)}s[0]&&s[0].width1&&(i=Math.min(s[0].width1,i))}this.positions=n;var g=distinctVals$1(n);this.distinctPositions=g.vals,1===g.vals.length&&i!==1/0?this.minDiff=i:this.minDiff=Math.min(g.minDiff,i);var d=(e.posAxis||{}).type;"category"!==d&&"multicategory"!==d||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}Sieve$1.prototype.put=function(t,e,i){var r=this.getLabel(t,e,i),n=this.bins[r]||0;return this.bins[r]=n+i,n},Sieve$1.prototype.get=function(t,e,i){var r=this.getLabel(t,e,i);return this.bins[r]||0},Sieve$1.prototype.getLabel=function(t,e,i){return(i<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))+"g"+e};var isNumeric$b=fastIsnumeric,isArrayOrTypedArray$3=libExports.isArrayOrTypedArray,BADNUM$2=numerical.BADNUM,Registry$m=registry$1,Axes$f=axesExports,getAxisGroup$1=constraints.getAxisGroup,Sieve=sieve;function crossTraceCalc(t,e){for(var i=e.xaxis,r=e.yaxis,n=t._fullLayout,a=t._fullData,s=t.calcdata,o=[],l=[],c=0;c<a.length;c++){var g=a[c];if(!0===g.visible&&Registry$m.traceIs(g,"bar")&&g.xaxis===i._id&&g.yaxis===r._id&&("h"===g.orientation?o.push(s[c]):l.push(s[c]),g._computePh))for(var d=t.calcdata[c],u=0;u<d.length;u++)"function"==typeof d[u].ph0&&(d[u].ph0=d[u].ph0()),"function"==typeof d[u].ph1&&(d[u].ph1=d[u].ph1())}var B={xCat:"category"===i.type||"multicategory"===i.type,yCat:"category"===r.type||"multicategory"===r.type,mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap};setGroupPositions$1(t,i,r,l,B),setGroupPositions$1(t,r,i,o,B)}function setGroupPositions$1(t,e,i,r,n){if(r.length){var a,s,o,l;switch(initBase(i,r),n.mode){case"overlay":setGroupPositionsInOverlayMode(t,e,i,r,n);break;case"group":for(a=[],s=[],o=0;o<r.length;o++)void 0===(l=r[o])[0].trace.offset?s.push(l):a.push(l);s.length&&setGroupPositionsInGroupMode(t,e,i,s,n),a.length&&setGroupPositionsInOverlayMode(t,e,i,a,n);break;case"stack":case"relative":for(a=[],s=[],o=0;o<r.length;o++)void 0===(l=r[o])[0].trace.base?s.push(l):a.push(l);standardizeCornerradius(s),s.length&&setGroupPositionsInStackOrRelativeMode(t,e,i,s,n),a.length&&setGroupPositionsInOverlayMode(t,e,i,a,n)}setCornerradius(r),collectExtents(r,e)}}function setCornerradius(t){var e,i,r,n,a,s,o;for(e=0;e<t.length;e++)r=(i=t[e])[0].trace,void 0===(n=i[0].t).cornerradiusvalue&&void 0!==(a=r.marker?r.marker.cornerradius:void 0)&&(s=isNumeric$b(a)?+a:+a.slice(0,-1),o=isNumeric$b(a)?"px":"%",n.cornerradiusvalue=s,n.cornerradiusform=o)}function standardizeCornerradius(t){if(!(t.length<2)){var e,i,r,n,a,s;for(e=0;e<t.length&&void 0===(n=(i=t[e][0].trace).marker?i.marker.cornerradius:void 0);e++);if(void 0!==n)for(a=isNumeric$b(n)?+n:+n.slice(0,-1),s=isNumeric$b(n)?"px":"%",e=0;e<t.length;e++)(r=t[e][0].t).cornerradiusvalue=a,r.cornerradiusform=s}}function initBase(t,e){var i,r;for(i=0;i<e.length;i++){var n,a=e[i],s=a[0].trace,o="funnel"===s.type?s._base:s.base,l="h"===s.orientation?s.xcalendar:s.ycalendar,c="category"===t.type||"multicategory"===t.type?function(){return null}:t.d2c;if(isArrayOrTypedArray$3(o)){for(r=0;r<Math.min(o.length,a.length);r++)n=c(o[r],0,l),isNumeric$b(n)?(a[r].b=+n,a[r].hasB=1):a[r].b=0;for(;r<a.length;r++)a[r].b=0}else{n=c(o,0,l);var g=isNumeric$b(n);for(n=g?n:0,r=0;r<a.length;r++)a[r].b=n,g&&(a[r].hasB=1)}}}function setGroupPositionsInOverlayMode(t,e,i,r,n){for(var a=0;a<r.length;a++){var s=r[a],o=new Sieve([s],{posAxis:e,sepNegVal:!1,overlapNoMerge:!n.norm});setOffsetAndWidth(t,e,o,n),n.norm?(sieveBars(o),normalizeBars(i,o,n)):setBaseAndTop(i,o)}}function setGroupPositionsInGroupMode(t,e,i,r,n){var a=new Sieve(r,{posAxis:e,sepNegVal:!1,overlapNoMerge:!n.norm});setOffsetAndWidth(t,e,a,n),unhideBarsWithinTrace(a,e),n.norm?(sieveBars(a),normalizeBars(i,a,n)):setBaseAndTop(i,a)}function setGroupPositionsInStackOrRelativeMode(t,e,i,r,n){var a=new Sieve(r,{posAxis:e,sepNegVal:"relative"===n.mode,overlapNoMerge:!(n.norm||"stack"===n.mode||"relative"===n.mode)});setOffsetAndWidth(t,e,a,n),stackBars(i,a,n);for(var s=0;s<r.length;s++)for(var o=r[s],l=o[0].t.offsetindex,c=0;c<o.length;c++){var g=o[c];if(g.s!==BADNUM$2)g.b+g.s===a.get(g.p,l,g.s)&&(g._outmost=!0)}n.norm&&normalizeBars(i,a,n)}function setOffsetAndWidth(t,e,i,r){var n,a,s,o,l=t._fullLayout,c=i.positions,g=i.distinctPositions,d=i.minDiff,u=i.traces,B=u.length,F=c.length!==g.length,h=d*(1-r.gap);if("angularaxis"===e._id)s=-(a=(n=h)*(1-(r.groupgap||0)))/2;else{var Q=getAxisGroup$1(l,e._id)+u[0][0].trace.orientation;o=l._alignmentOpts[Q]||{}}for(var U=0;U<B;U++){var I=u[U],b=I[0].trace;if("angularaxis"!==e._id){var p=o[b.alignmentgroup]||{},y=Object.keys(p.offsetGroups||{}).length;a=(n=y?h/y:F?h/B:h)*(1-(r.groupgap||0)),s=y?((2*b._offsetIndex+1-y)*n-a)/2:F?((2*U+1-B)*n-a)/2:-a/2}var m=I[0].t;m.barwidth=a,m.offsetindex=b._offsetIndex||0,m.poffset=s,m.bargroupwidth=h,m.bardelta=d}i.binWidth=u[0][0].t.barwidth/100,applyAttributes(i),setBarCenterAndWidth(e,i),"angularaxis"===e._id?updatePositionAxis(e,i):updatePositionAxis(e,i,F)}function applyAttributes(t){var e,i,r=t.traces;for(e=0;e<r.length;e++){var n,a=r[e],s=a[0],o=s.trace,l=s.t,c=o._offset||o.offset,g=l.poffset;if(isArrayOrTypedArray$3(c)){for(n=Array.prototype.slice.call(c,0,a.length),i=0;i<n.length;i++)isNumeric$b(n[i])||(n[i]=g);for(i=n.length;i<a.length;i++)n.push(g);l.poffset=n}else void 0!==c&&(l.poffset=c);var d=o._width||o.width,u=l.barwidth;if(isArrayOrTypedArray$3(d)){var B=Array.prototype.slice.call(d,0,a.length);for(i=0;i<B.length;i++)isNumeric$b(B[i])||(B[i]=u);for(i=B.length;i<a.length;i++)B.push(u);if(l.barwidth=B,void 0===c){for(n=[],i=0;i<a.length;i++)n.push(g+(u-B[i])/2);l.poffset=n}}else void 0!==d&&(l.barwidth=d,void 0===c&&(l.poffset=g+(u-d)/2))}}function setBarCenterAndWidth(t,e){for(var i=e.traces,r=getAxisLetter(t),n=0;n<i.length;n++)for(var a=i[n],s=a[0].t,o=s.poffset,l=isArrayOrTypedArray$3(o),c=s.barwidth,g=isArrayOrTypedArray$3(c),d=0;d<a.length;d++){var u=a[d],B=u.w=g?c[d]:c;void 0===u.p&&(u.p=u[r],u["orig_"+r]=u[r]);var F=(l?o[d]:o)+B/2;u[r]=u.p+F}}function updatePositionAxis(t,e,i){var r=e.traces,n=e.minDiff/2;Axes$f.minDtick(t,e.minDiff,e.distinctPositions[0],i);for(var a=0;a<r.length;a++){var s,o,l,c,g=r[a],d=g[0],u=d.trace,B=[];for(c=0;c<g.length;c++)o=(s=g[c]).p-n,l=s.p+n,B.push(o,l);if(u.width||u.offset){var F=d.t,h=F.poffset,Q=F.barwidth,U=isArrayOrTypedArray$3(h),I=isArrayOrTypedArray$3(Q);for(c=0;c<g.length;c++){s=g[c];var b=U?h[c]:h,p=I?Q[c]:Q;l=(o=s.p+b)+p,B.push(o,l)}}u._extremes[t._id]=Axes$f.findExtremes(t,B,{padded:!1})}}function setBaseAndTop(t,e){for(var i=e.traces,r=getAxisLetter(t),n=0;n<i.length;n++){for(var a=i[n],s=a[0].trace,o="scatter"===s.type,l="v"===s.orientation,c=[],g=!1,d=0;d<a.length;d++){var u=a[d],B=o?0:u.b,F=o?l?u.y:u.x:B+u.s;u[r]=F,c.push(F),u.hasB&&c.push(B),u.hasB&&u.b||(g=!0)}s._extremes[t._id]=Axes$f.findExtremes(t,c,{tozero:g,padded:!0})}}function stackBars(t,e,i){var r,n,a,s,o,l,c,g=getAxisLetter(t),d=e.traces;for(s=0;s<d.length;s++)if("funnel"===(n=(r=d[s])[0].trace).type)for(c=r[0].t.offsetindex,o=0;o<r.length;o++)(l=r[o]).s!==BADNUM$2&&e.put(l.p,c,-.5*l.s);for(s=0;s<d.length;s++){a="funnel"===(n=(r=d[s])[0].trace).type,c="barpolar"===n.type?0:r[0].t.offsetindex;var u=[];for(o=0;o<r.length;o++)if((l=r[o]).s!==BADNUM$2){var B;B=a?l.s:l.s+l.b;var F=e.put(l.p,c,B),h=F+B;l.b=F,l[g]=h,i.norm||(u.push(h),l.hasB&&u.push(F))}i.norm||(n._extremes[t._id]=Axes$f.findExtremes(t,u,{tozero:!0,padded:!0}))}}function sieveBars(t){for(var e=t.traces,i=0;i<e.length;i++)for(var r=e[i],n=r[0].t.offsetindex,a=0;a<r.length;a++){var s=r[a];s.s!==BADNUM$2&&t.put(s.p,n,s.b+s.s)}}function unhideBarsWithinTrace(t,e){for(var i=t.traces,r=0;r<i.length;r++){var n=i[r],a=n[0].trace,s=n[0].t.offsetindex;if(void 0===a.base)for(var o=new Sieve([n],{posAxis:e,sepNegVal:!0,overlapNoMerge:!0}),l=0;l<n.length;l++){var c=n[l];if(c.p!==BADNUM$2){var g=o.put(c.p,s,c.b+c.s);g&&(c.b=g)}}}}function normalizeBars(t,e,i){var r=e.traces,n=getAxisLetter(t),a="fraction"===i.norm?1:100,s=a/1e9,o=t.l2c(t.c2l(0)),l="stack"===i.mode?a:o;function c(e){return isNumeric$b(t.c2l(e))&&(e<o-s||e>l+s||!isNumeric$b(o))}for(var g=0;g<r.length;g++){for(var d=r[g],u=d[0].t.offsetindex,B=d[0].trace,F=[],h=!1,Q=!1,U=0;U<d.length;U++){var I=d[U];if(I.s!==BADNUM$2){var b=Math.abs(a/e.get(I.p,u,I.s));I.b*=b,I.s*=b;var p=I.b,y=p+I.s;I[n]=y,F.push(y),Q=Q||c(y),I.hasB&&(F.push(p),Q=Q||c(p)),I.hasB&&I.b||(h=!0)}}B._extremes[t._id]=Axes$f.findExtremes(t,F,{tozero:h,padded:Q})}}function setHelperValuesForRoundedCorners(t,e,i,r){for(var n=getAxisLetter(r),a=0;a<t.length;a++)for(var s=t[a],o=0;o<s.length;o++){var l=s[o],c=l[n];l._sMin=e[c],l._sMax=i[c]}}function collectExtents(t,e){var i,r,n,a=getAxisLetter(e),s={},o=1/0,l=-1/0;for(i=0;i<t.length;i++)for(n=t[i],r=0;r<n.length;r++){var c=n[r].p;isNumeric$b(c)&&(o=Math.min(o,c),l=Math.max(l,c))}var g=1e4/(l-o),d=s.round=function(t){return String(Math.round(g*(t-o)))},u={},B={},F=t.some(function(t){var e=t[0].trace;return"marker"in e&&e.marker.cornerradius});for(i=0;i<t.length;i++){(n=t[i])[0].t.extents=s;var h=n[0].t.poffset,Q=isArrayOrTypedArray$3(h);for(r=0;r<n.length;r++){var U=n[r],I=U[a]-U.w/2;if(isNumeric$b(I)){var b=U[a]+U.w/2,p=d(U.p);s[p]?s[p]=[Math.min(I,s[p][0]),Math.max(b,s[p][1])]:s[p]=[I,b]}if(U.p0=U.p+(Q?h[r]:h),U.p1=U.p0+U.w,U.s0=U.b,U.s1=U.s0+U.s,F){var y=Math.min(U.s0,U.s1)||0,m=Math.max(U.s0,U.s1)||0,C=U[a];u[C]=C in u?Math.min(u[C],y):y,B[C]=C in B?Math.max(B[C],m):m}}}F&&setHelperValuesForRoundedCorners(t,u,B,e)}function getAxisLetter(t){return t._id.charAt(0)}var cross_trace_calc$1={crossTraceCalc:crossTraceCalc,setGroupPositions:setGroupPositions$1},calc$4=calc_1$2,setGroupPositions=cross_trace_calc$1.setGroupPositions;function groupCrossTraceCalc(t,e){for(var i=e.xaxis,r=e.yaxis,n=t._fullLayout,a=t._fullData,s=t.calcdata,o=[],l=[],c=0;c<a.length;c++){var g=a[c];!0===g.visible&&"scatter"===g.type&&g.xaxis===i._id&&g.yaxis===r._id&&("h"===g.orientation?o.push(s[c]):"v"===g.orientation&&l.push(s[c]))}var d={mode:n.scattermode,gap:n.scattergap};setGroupPositions(t,i,r,l,d),setGroupPositions(t,r,i,o,d)}var cross_trace_calc=function(t,e){"group"===t._fullLayout.scattermode&&groupCrossTraceCalc(t,e);var i=e.xaxis,r=e.yaxis,n=i._id+r._id,a=t._fullLayout._scatterStackOpts[n];if(a){var s,o,l,c,g,d,u,B,F,h,Q,U,I,b,p,y=t.calcdata;for(var m in a){var C=(h=a[m]).traceIndices;if(C.length){for(Q="interpolate"===h.stackgaps,U=h.groupnorm,"v"===h.orientation?(I="x",b="y"):(I="y",b="x"),p=new Array(C.length),s=0;s<p.length;s++)p[s]=!1;d=y[C[0]];var f=new Array(d.length);for(s=0;s<d.length;s++)f[s]=d[s][I];for(s=1;s<C.length;s++){for(g=y[C[s]],o=l=0;o<g.length;o++){for(u=g[o][I];u>f[l]&&l<f.length;l++)insertBlank(g,o,f[l],s,p,Q,I),o++;if(u!==f[l]){for(c=0;c<s;c++)insertBlank(y[C[c]],l,u,c,p,Q,I);f.splice(l,0,u)}l++}for(;l<f.length;l++)insertBlank(g,o,f[l],s,p,Q,I),o++}var x=f.length;for(o=0;o<d.length;o++){for(B=d[o][b]=d[o].s,s=1;s<C.length;s++)(g=y[C[s]])[0].trace._rawLength=g[0].trace._length,g[0].trace._length=x,B+=g[o].s,g[o][b]=B;if(U)for(F=("fraction"===U?B:B/100)||1,s=0;s<C.length;s++){var A=y[C[s]][o];A[b]/=F,A.sNorm=A.s/F}}for(s=0;s<C.length;s++){var v=(g=y[C[s]])[0].trace,L=calc$4.calcMarkerSize(v,v._rawLength),R=Array.isArray(L);if(L&&p[s]||R){var S=L;for(L=new Array(x),o=0;o<x;o++)L[o]=g[o].gap?0:R?S[g[o].i]:S}var G=new Array(x),E=new Array(x);for(o=0;o<x;o++)G[o]=g[o].x,E[o]=g[o].y;calc$4.calcAxisExpansion(t,v,i,r,G,E,L),g[0].t.orientation=h.orientation}}}}};function insertBlank(t,e,i,r,n,a,s){n[r]=!0;var o={i:null,gap:!0,s:0};if(o[s]=i,t.splice(e,0,o),e&&i===t[e-1][s]){var l=t[e-1];o.s=l.s,o.i=l.i,o.gap=l.gap}else a&&(o.s=getInterp(t,e,i,s));e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}function getInterp(t,e,i,r){var n=t[e-1],a=t[e+1];return a?n?n.s+(a.s-n.s)*(i-n[r])/(a[r]-n[r]):a.s:n.s}var Drawing$c=drawingExports,numConstants$1=numerical,BADNUM$1=numConstants$1.BADNUM,LOG_CLIP=numConstants$1.LOG_CLIP,LOG_CLIP_PLUS=LOG_CLIP+.5,LOG_CLIP_MINUS=LOG_CLIP-.5,Lib$L=libExports,segmentsIntersect=Lib$L.segmentsIntersect,constrain=Lib$L.constrain,constants$m=constants$r,line_points=function(t,e){var i,r,n,a,s,o,l,c,g,d,u,B,F,h,Q,U,I,b,p=e.trace||{},y=e.xaxis,m=e.yaxis,C="log"===y.type,f="log"===m.type,x=y._length,A=m._length,v=e.backoff,L=p.marker,R=e.connectGaps,S=e.baseTolerance,G=e.shape,E="linear"===G,V=p.fill&&"none"!==p.fill,Z=[],N=constants$m.minTolerance,D=t.length,w=new Array(D),X=0;function W(i){var r=t[i];if(!r)return!1;var n=e.linearized?y.l2p(r.x):y.c2p(r.x),a=e.linearized?m.l2p(r.y):m.c2p(r.y);if(n===BADNUM$1){if(C&&(n=y.c2p(r.x,!0)),n===BADNUM$1)return!1;f&&a===BADNUM$1&&(n*=Math.abs(y._m*A*(y._m>0?LOG_CLIP_PLUS:LOG_CLIP_MINUS)/(m._m*x*(m._m>0?LOG_CLIP_PLUS:LOG_CLIP_MINUS)))),n*=1e3}if(a===BADNUM$1){if(f&&(a=m.c2p(r.y,!0)),a===BADNUM$1)return!1;a*=1e3}return[n,a]}function H(t,e,i,r){var n=i-t,a=r-e,s=.5-t,o=.5-e,l=n*n+a*a,c=n*s+a*o;if(c>0&&c<l){var g=s*a-o*n;if(g*g<l)return!0}}function T(t,e){var i=t[0]/x,r=t[1]/A,n=Math.max(0,-i,i-1,-r,r-1);return n&&void 0!==I&&H(i,r,I,b)&&(n=0),n&&e&&H(i,r,e[0]/x,e[1]/A)&&(n=0),(1+constants$m.toleranceGrowth*n)*S}function M(t,e){var i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}var k,Y,J,$,z,O,K,_=constants$m.maxScreensAway,P=-x*_,j=x*(1+_),q=-A*_,tt=A*(1+_),et=[[P,q,j,q],[j,q,j,tt],[j,tt,P,tt],[P,tt,P,q]];function it(t){if(t[0]<P||t[0]>j||t[1]<q||t[1]>tt)return[constrain(t[0],P,j),constrain(t[1],q,tt)]}function rt(t,e){return t[0]===e[0]&&(t[0]===P||t[0]===j)||(t[1]===e[1]&&(t[1]===q||t[1]===tt)||void 0)}function nt(t,e,i){return function(r,n){var a=it(r),s=it(n),o=[];if(a&&s&&rt(a,s))return o;a&&o.push(a),s&&o.push(s);var l=2*Lib$L.constrain((r[t]+n[t])/2,e,i)-((a||r)[t]+(s||n)[t]);l&&((a&&s?l>0==a[t]>s[t]?a:s:a||s)[t]+=l);return o}}function at(t){var e=t[0],i=t[1],r=e===w[X-1][0],n=i===w[X-1][1];if(!r||!n)if(X>1){var a=e===w[X-2][0],s=i===w[X-2][1];r&&(e===P||e===j)&&a?s?X--:w[X-1]=t:n&&(i===q||i===tt)&&s?a?X--:w[X-1]=t:w[X++]=t}else w[X++]=t}function st(t){w[X-1][0]!==t[0]&&w[X-1][1]!==t[1]&&at([J,$]),at(t),z=null,J=$=0}"linear"===G||"spline"===G?K=function(t,e){for(var i=[],r=0,n=0;n<4;n++){var a=et[n],s=segmentsIntersect(t[0],t[1],e[0],e[1],a[0],a[1],a[2],a[3]);s&&(!r||Math.abs(s.x-i[0][0])>1||Math.abs(s.y-i[0][1])>1)&&(s=[s.x,s.y],r&&M(s,t)<M(i[0],t)?i.unshift(s):i.push(s),r++)}return i}:"hv"===G||"vh"===G?K=function(t,e){var i=[],r=it(t),n=it(e);return r&&n&&rt(r,n)||(r&&i.push(r),n&&i.push(n)),i}:"hvh"===G?K=nt(0,P,j):"vhv"===G&&(K=nt(1,q,tt));var ot=Lib$L.isArrayOrTypedArray(L);function lt(e){if(e&&v&&(e.i=i,e.d=t,e.trace=p,e.marker=ot?L[e.i]:L,e.backoff=v),I=e[0]/x,b=e[1]/A,k=e[0]<P?P:e[0]>j?j:0,Y=e[1]<q?q:e[1]>tt?tt:0,k||Y){if(X)if(z){var r=K(z,e);r.length>1&&(st(r[0]),w[X++]=r[1])}else O=K(w[X-1],e)[0],w[X++]=O;else w[X++]=[k||e[0],Y||e[1]];var n=w[X-1];k&&Y&&(n[0]!==k||n[1]!==Y)?(z&&(J!==k&&$!==Y?at(J&&$?function(t,e){var i=e[0]-t[0],r=(e[1]-t[1])/i;return(t[1]*e[0]-e[1]*t[0])/i>0?[r>0?P:j,tt]:[r>0?j:P,q]}(z,e):[J||k,$||Y]):J&&$&&at([J,$])),at([k,Y])):J-k&&$-Y&&at([k||J,Y||$]),z=e,J=k,$=Y}else z&&st(K(z,e)[0]),w[X++]=e}for(i=0;i<D;i++)if(r=W(i)){for(X=0,z=null,lt(r),i++;i<D;i++){if(!(a=W(i))){if(R)continue;break}if(E&&e.simplify){var ct=W(i+1);if(d=M(a,r),V&&(0===X||X===D-1)||!(d<T(a,ct)*N)){for(c=[(a[0]-r[0])/d,(a[1]-r[1])/d],s=r,u=d,B=h=Q=0,l=!1,n=a,i++;i<t.length;i++){if(o=ct,ct=W(i+1),!o){if(R)continue;break}if(U=(g=[o[0]-r[0],o[1]-r[1]])[0]*c[1]-g[1]*c[0],h=Math.min(h,U),(Q=Math.max(Q,U))-h>T(o,ct))break;n=o,(F=g[0]*c[0]+g[1]*c[1])>u?(u=F,a=o,l=!1):F<B&&(B=F,s=o,l=!0)}if(l?(lt(a),n!==s&&lt(s)):(s!==r&&lt(s),n!==a&&lt(a)),lt(n),i>=t.length||!o)break;lt(o),r=o}}else lt(a)}z&&at([J||z[0],$||z[1]]),Z.push(w.slice(0,X))}var gt=G.slice(G.length-1);if(v&&"h"!==gt&&"v"!==gt){for(var dt=!1,ut=-1,Bt=[],Ft=0;Ft<Z.length;Ft++)for(var ht=0;ht<Z[Ft].length-1;ht++){var Qt=Z[Ft][ht],Ut=Z[Ft][ht+1],It=Drawing$c.applyBackoff(Ut,Qt);It[0]===Ut[0]&&It[1]===Ut[1]||(dt=!0),Bt[ut+1]||(Bt[++ut]=[Qt,[It[0],It[1]]])}return dt?Bt:Z}return Z},LINKEDFILLS={tonextx:1,tonexty:1,tonext:1},link_traces=function(t,e,i){var r,n,a,s,o,l={},c=!1,g=-1,d=0,u=-1;for(n=0;n<i.length;n++)(a=(r=i[n][0].trace).stackgroup||"")?a in l?o=l[a]:(o=l[a]=d,d++):r.fill in LINKEDFILLS&&u>=0?o=u:(o=u=d,d++),o<g&&(c=!0),r._groupIndex=g=o;var B=i.slice();c&&B.sort(function(t,e){var i=t[0].trace,r=e[0].trace;return i._groupIndex-r._groupIndex||i.index-r.index});var F={};for(n=0;n<B.length;n++)a=(r=B[n][0].trace).stackgroup||"",!0===r.visible?(r._nexttrace=null,r.fill in LINKEDFILLS&&(s=F[a],r._prevtrace=s||null,s&&(s._nexttrace=r)),r._ownfill=r.fill&&("tozero"===r.fill.substr(0,6)||"toself"===r.fill||"to"===r.fill.substr(0,2)&&!r._prevtrace),F[a]=r):r._prevtrace=r._nexttrace=r._ownfill=null;return B},d3$d=d3Exports,Registry$l=registry$1,Lib$K=libExports,ensureSingle$1=Lib$K.ensureSingle,identity$2=Lib$K.identity,Drawing$b=drawingExports,subTypes$1=subtypes$3,linePoints=line_points,linkTraces=link_traces,polygonTester=polygonExports.tester,plot$3=function(t,e,i,r,n,a){var s,o,l=!n,c=!!n&&n.duration>0,g=linkTraces(t,e,i);(s=r.selectAll("g.trace").data(g,function(t){return t[0].trace.uid}),s.enter().append("g").attr("class",function(t){return"trace scatter trace"+t[0].trace.uid}).style("stroke-miterlimit",2),s.order(),createFills(t,s,e),c)?(a&&(o=a()),d3$d.transition().duration(n.duration).ease(n.easing).each("end",function(){o&&o()}).each("interrupt",function(){o&&o()}).each(function(){r.selectAll("g.trace").each(function(i,r){plotOne$1(t,r,e,i,g,this,n)})})):s.each(function(i,r){plotOne$1(t,r,e,i,g,this,n)});l&&s.exit().remove(),r.selectAll("path:not([d])").remove()};function createFills(t,e,i){e.each(function(e){var r=ensureSingle$1(d3$d.select(this),"g","fills");Drawing$b.setClipUrl(r,i.layerClipId,t);var n=e[0].trace,a=[];n._ownfill&&a.push("_ownFill"),n._nexttrace&&a.push("_nextFill");var s=r.selectAll("g").data(a,identity$2);s.enter().append("g"),s.exit().each(function(t){n[t]=null}).remove(),s.order().each(function(t){n[t]=ensureSingle$1(d3$d.select(this),"path","js-fill")})})}function plotOne$1(t,e,i,r,n,a,s){var o,l=t._context.staticPlot;selectMarkers(t,e,i,r,n);var c=!!s&&s.duration>0;function g(t){return c?t.transition():t}var d=i.xaxis,u=i.yaxis,B=r[0].trace,F=B.line,h=d3$d.select(a),Q=ensureSingle$1(h,"g","errorbars"),U=ensureSingle$1(h,"g","lines"),I=ensureSingle$1(h,"g","points"),b=ensureSingle$1(h,"g","text");if(Registry$l.getComponentMethod("errorbars","plot")(t,Q,i,s),!0===B.visible){var p,y;g(h).style("opacity",B.opacity);var m,C,f=B.fill.charAt(B.fill.length-1);"x"!==f&&"y"!==f&&(f=""),"y"===f?(m=1,C=u.c2p(0,!0)):"x"===f&&(m=0,C=d.c2p(0,!0)),r[0][i.isRangePlot?"nodeRangePlot3":"node3"]=h;var x,A,v="",L=[],R=B._prevtrace,S=null,G=null;R&&(v=R._prevRevpath||"",y=R._nextFill,L=R._ownPolygons,S=R._fillsegments,G=R._fillElement);var E,V,Z,N,D,w,X="",W="",H=[];B._polygons=[];var T=[],M=[],k=Lib$K.noop;if(p=B._ownFill,subTypes$1.hasLines(B)||"none"!==B.fill){y&&y.datum(r),-1!==["hv","vh","hvh","vhv"].indexOf(F.shape)?(E=Drawing$b.steps(F.shape),V=Drawing$b.steps(F.shape.split("").reverse().join(""))):E=V="spline"===F.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?Drawing$b.smoothclosed(t.slice(1),F.smoothing):Drawing$b.smoothopen(t,F.smoothing)}:function(t){return"M"+t.join("L")},Z=function(t){return V(t.reverse())},M=linePoints(r,{xaxis:d,yaxis:u,trace:B,connectGaps:B.connectgaps,baseTolerance:Math.max(F.width||1,3)/4,shape:F.shape,backoff:F.backoff,simplify:F.simplify,fill:B.fill}),T=new Array(M.length);var Y=0;for(o=0;o<M.length;o++){var J,$=M[o];J&&f?J.push.apply(J,$):(J=$.slice(),T[Y]=J,Y++)}B._fillElement=null,B._fillExclusionElement=G,B._fillsegments=T.slice(0,Y),T=B._fillsegments,M.length&&(N=M[0][0].slice(),w=(D=M[M.length-1])[D.length-1].slice()),k=function(t){return function(e){if(x=E(e),A=Z(e),X?f?(X+="L"+x.substr(1),W=A+"L"+W.substr(1)):(X+="Z"+x,W=A+"Z"+W):(X=x,W=A),subTypes$1.hasLines(B)){var i=d3$d.select(this);if(i.datum(r),t)g(i.style("opacity",0).attr("d",x).call(Drawing$b.lineGroupStyle)).style("opacity",1);else{var n=g(i);n.attr("d",x),Drawing$b.singleLineStyle(r,n)}}}}}var z=U.selectAll(".js-line").data(M);g(z.exit()).style("opacity",0).remove(),z.each(k(!1)),z.enter().append("path").classed("js-line",!0).style("vector-effect",l?"none":"non-scaling-stroke").call(Drawing$b.lineGroupStyle).each(k(!0)),Drawing$b.setClipUrl(z,i.layerClipId,t);var O=function(){var t=new Array(T.length);for(o=0;o<T.length;o++)t[o]=polygonTester(T[o]);return t},K=function(t){var e,i;if(t&&0!==t.length){for(e=new Array(t.length-1+T.length),i=0;i<t.length-1;i++)e[i]=polygonTester(t[i]);var r=t[t.length-1].slice();for(r.reverse(),i=0;i<T.length;i++)e[t.length-1+i]=polygonTester(T[i].concat(r))}else for(e=new Array(T.length),i=0;i<T.length;i++){var n=T[i][0].slice(),a=T[i][T[i].length-1].slice();n[m]=a[m]=C;var s=[a,n].concat(T[i]);e[i]=polygonTester(s)}return e};M.length?(p?(p.datum(r),N&&w&&(f?(N[m]=w[m]=C,g(p).attr("d","M"+w+"L"+N+"L"+X.substr(1)).call(Drawing$b.singleFillStyle,t),H=K(null)):(g(p).attr("d",X+"Z").call(Drawing$b.singleFillStyle,t),H=O())),B._polygons=H,B._fillElement=p):y&&("tonext"===B.fill.substr(0,6)&&X&&v?("tonext"===B.fill?(g(y).attr("d",X+"Z"+v+"Z").call(Drawing$b.singleFillStyle,t),H=O(),B._polygons=H.concat(L)):(g(y).attr("d",X+"L"+v.substr(1)+"Z").call(Drawing$b.singleFillStyle,t),H=K(S),B._polygons=H),B._fillElement=y):P(y)),B._prevRevpath=W):(p?P(p):y&&P(y),B._prevRevpath=null),B._ownPolygons=H,I.datum(r),b.datum(r),function(e,r,n){var a,s=n[0].trace,o=subTypes$1.hasMarkers(s),l=subTypes$1.hasText(s),B=it(s),F=rt,h=rt;if(o||l){var Q=identity$2,U=s.stackgroup,I=U&&"infer zero"===t._fullLayout._scatterStackOpts[d._id+u._id][U].stackgaps;s.marker.maxdisplayed||s._needsCull?Q=I?q:j:U&&!I&&(Q=tt),o&&(F=Q),l&&(h=Q)}var b,p=(a=e.selectAll("path.point").data(F,B)).enter().append("path").classed("point",!0);c&&p.call(Drawing$b.pointStyle,s,t).call(Drawing$b.translatePoints,d,u).style("opacity",0).transition().style("opacity",1),a.order(),o&&(b=Drawing$b.makePointStyleFns(s)),a.each(function(e){var r=d3$d.select(this),n=g(r);Drawing$b.translatePoint(e,n,d,u)?(Drawing$b.singlePointStyle(e,n,s,b,t),i.layerClipId&&Drawing$b.hideOutsideRangePoint(e,n,d,u,s.xcalendar,s.ycalendar),s.customdata&&r.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):n.remove()}),c?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=r.selectAll("g").data(h,B)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each(function(t){var e=d3$d.select(this),r=g(e.select("text"));Drawing$b.translatePoint(t,r,d,u)?i.layerClipId&&Drawing$b.hideOutsideRangePoint(t,e,d,u,s.xcalendar,s.ycalendar):e.remove()}),a.selectAll("text").call(Drawing$b.textPointStyle,s,t).each(function(t){var e=d.c2p(t.x),i=u.c2p(t.y);d3$d.select(this).selectAll("tspan.line").each(function(){g(d3$d.select(this)).attr({x:e,y:i})})}),a.exit().remove()}(I,b,r);var _=!1===B.cliponaxis?null:i.layerClipId;Drawing$b.setClipUrl(I,_,t),Drawing$b.setClipUrl(b,_,t)}function P(t){g(t).attr("d","M0,0Z")}function j(t){return t.filter(function(t){return!t.gap&&t.vis})}function q(t){return t.filter(function(t){return t.vis})}function tt(t){return t.filter(function(t){return!t.gap})}function et(t){return t.id}function it(t){if(t.ids)return et}function rt(){return!1}}function selectMarkers(t,e,i,r,n){var a=i.xaxis,s=i.yaxis,o=d3$d.extent(Lib$K.simpleMap(a.range,a.r2c)),l=d3$d.extent(Lib$K.simpleMap(s.range,s.r2c)),c=r[0].trace;if(subTypes$1.hasMarkers(c)){var g=c.marker.maxdisplayed;if(0!==g){var d=r.filter(function(t){return t.x>=o[0]&&t.x<=o[1]&&t.y>=l[0]&&t.y<=l[1]}),u=Math.ceil(d.length/g),B=0;n.forEach(function(t,i){var r=t[0].trace;subTypes$1.hasMarkers(r)&&r.marker.maxdisplayed>0&&i<e&&B++});var F=Math.round(B*u/3+Math.floor(B/3)*u/7.1);r.forEach(function(t){delete t.vis}),d.forEach(function(t,e){0===Math.round((e+F)%u)&&(t.vis=!0)})}}}var marker_colorbar={container:"marker",min:"cmin",max:"cmax"},Axes$e=axesExports,format_labels=function(t,e,i){var r={},n={_fullLayout:i},a=Axes$e.getFromTrace(n,e,"x"),s=Axes$e.getFromTrace(n,e,"y"),o=t.orig_x;void 0===o&&(o=t.x);var l=t.orig_y;return void 0===l&&(l=t.y),r.xLabel=Axes$e.tickText(a,a.c2l(o),!0).text,r.yLabel=Axes$e.tickText(s,s.c2l(l),!0).text,r},d3$c=d3Exports,Drawing$a=drawingExports,Registry$k=registry$1;function style$3(t){var e=d3$c.select(t).selectAll("g.trace.scatter");e.style("opacity",function(t){return t[0].trace.opacity}),e.selectAll("g.points").each(function(e){stylePoints$1(d3$c.select(this),e.trace||e[0].trace,t)}),e.selectAll("g.text").each(function(e){styleText(d3$c.select(this),e.trace||e[0].trace,t)}),e.selectAll("g.trace path.js-line").call(Drawing$a.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(Drawing$a.fillGroupStyle,t,!1),Registry$k.getComponentMethod("errorbars","style")(e)}function stylePoints$1(t,e,i){Drawing$a.pointStyle(t.selectAll("path.point"),e,i)}function styleText(t,e,i){Drawing$a.textPointStyle(t.selectAll("text"),e,i)}function styleOnSelect$1(t,e,i){var r=e[0].trace;r.selectedpoints?(Drawing$a.selectedPointStyle(i.selectAll("path.point"),r),Drawing$a.selectedTextStyle(i.selectAll("text"),r)):(stylePoints$1(i,r,t),styleText(i,r,t))}var attributes$s,hasRequiredAttributes$1,type_defaults,hasRequiredType_defaults,style_1$1={style:style$3,styleOnSelect:styleOnSelect$1},Color$h=colorExports,subtypes$2=subtypes$3,get_trace_color=function(t,e){var i,r;if("lines"===t.mode)return(i=t.line.color)&&Color$h.opacity(i)?i:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var n=e.mcc||(t.marker||{}).color,a=e.mlcc||((t.marker||{}).line||{}).color;return(r=n&&Color$h.opacity(n)?n:a&&Color$h.opacity(a)&&(e.mlw||((t.marker||{}).line||{}).width)?a:"")?Color$h.opacity(r)<.3?Color$h.addOpacity(r,.3):r:(i=(t.line||{}).color)&&Color$h.opacity(i)&&subtypes$2.hasLines(t)&&t.line.width?i:t.fillcolor},Lib$J=libExports,Fx$3=fx,Registry$j=registry$1,getTraceColor$1=get_trace_color,Color$g=colorExports,fillText$1=Lib$J.fillText,hover$2=function(t,e,i,r){var n=t.cd,a=n[0].trace,s=t.xa,o=t.ya,l=s.c2p(e),c=o.c2p(i),g=[l,c],d=a.hoveron||"",u=-1!==a.mode.indexOf("markers")?3:.5,B=!!a.xperiodalignment,F=!!a.yperiodalignment;if(-1!==d.indexOf("points")){var h=function(t){var e=Math.max(u,t.mrc||0),i=s.c2p(t.x)-l,r=o.c2p(t.y)-c;return Math.max(Math.sqrt(i*i+r*r)-e,1-u/e)},Q=Fx$3.getDistanceFunction(r,function(t){if(B){var e=s.c2p(t.xStart),i=s.c2p(t.xEnd);return l>=Math.min(e,i)&&l<=Math.max(e,i)?0:1/0}var r=Math.max(3,t.mrc||0),n=1-1/r,a=Math.abs(s.c2p(t.x)-l);return a<r?n*a/r:a-r+n},function(t){if(F){var e=o.c2p(t.yStart),i=o.c2p(t.yEnd);return c>=Math.min(e,i)&&c<=Math.max(e,i)?0:1/0}var r=Math.max(3,t.mrc||0),n=1-1/r,a=Math.abs(o.c2p(t.y)-c);return a<r?n*a/r:a-r+n},h);if(Fx$3.getClosest(n,Q,t),!1!==t.index){var U=n[t.index],I=s.c2p(U.x,!0),b=o.c2p(U.y,!0),p=U.mrc||1;t.index=U.i;var y=n[0].t.orientation,m=y&&(U.sNorm||U.s),C="h"===y?m:void 0!==U.orig_x?U.orig_x:U.x,f="v"===y?m:void 0!==U.orig_y?U.orig_y:U.y;return Lib$J.extendFlat(t,{color:getTraceColor$1(a,U),x0:I-p,x1:I+p,xLabelVal:C,y0:b-p,y1:b+p,yLabelVal:f,spikeDistance:h(U),hovertemplate:a.hovertemplate}),fillText$1(U,a,t),Registry$j.getComponentMethod("errorbars","hoverInfo")(U,a,t),[t]}}function x(t){if(!t)return!1;var e=t.node();try{var i=new DOMPoint(g[0],g[1]);return e.isPointInFill(i)}catch(t){var r=e.ownerSVGElement.createSVGPoint();return r.x=g[0],r.y=g[1],e.isPointInFill(r)}}if(-1!==d.indexOf("fills")&&a._fillElement&&(x(a._fillElement)&&!x(a._fillExclusionElement))){var A=function(t){var e,i,r,n,a,l,c,d,u,B=[],F=1/0,h=-1/0,Q=1/0,U=-1/0;for(e=0;e<t.length;e++){var I=t[e];I.contains(g)&&(B.push(I),Q=Math.min(Q,I.ymin),U=Math.max(U,I.ymax))}if(0===B.length)return null;for(i=((Q=Math.max(Q,0))+(U=Math.min(U,o._length)))/2,e=0;e<B.length;e++)for(n=B[e].pts,r=1;r<n.length;r++)(d=n[r-1][1])>i!=(u=n[r][1])>=i&&(l=n[r-1][0],c=n[r][0],u-d&&(a=l+(c-l)*(i-d)/(u-d),F=Math.min(F,a),h=Math.max(h,a)));return{x0:F=Math.max(F,0),x1:h=Math.min(h,s._length),y0:i,y1:i}}(a._polygons);null===A&&(A={x0:g[0],x1:g[0],y0:g[1],y1:g[1]});var v=Color$g.defaultLine;return Color$g.opacity(a.fillcolor)?v=a.fillcolor:Color$g.opacity((a.line||{}).color)&&(v=a.line.color),Lib$J.extendFlat(t,{distance:t.maxHoverDistance,x0:A.x0,x1:A.x1,y0:A.y0,y1:A.y1,color:v,hovertemplate:!1}),delete t.index,a.text&&!Lib$J.isArrayOrTypedArray(a.text)?t.text=String(a.text):t.text=a.name,[t]}},subtypes$1=subtypes$3,select$1=function(t,e){var i,r,n,a,s=t.cd,o=t.xaxis,l=t.yaxis,c=[],g=s[0].trace;if(!subtypes$1.hasMarkers(g)&&!subtypes$1.hasText(g))return[];if(!1===e)for(i=0;i<s.length;i++)s[i].selected=0;else for(i=0;i<s.length;i++)r=s[i],n=o.c2p(r.x),a=l.c2p(r.y),null!==r.i&&e.contains([n,a],!1,i,t)?(c.push({pointNumber:r.i,x:o.c2d(r.x),y:l.c2d(r.y)}),r.selected=1):r.selected=0;return c},cartesian={};function requireAttributes$1(){return hasRequiredAttributes$1?attributes$s:(hasRequiredAttributes$1=1,attributes$s={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}})}function requireType_defaults(){if(hasRequiredType_defaults)return type_defaults;hasRequiredType_defaults=1;var t=registry$1.traceIs,e=axis_autotype;function i(t){return{v:"x",h:"y"}[t.orientation||"v"]}function r(e,r){var n=i(e),a=t(e,"box-violin"),s=t(e._fullInput||{},"candlestick");return a&&!s&&r===n&&void 0===e[n]&&void 0===e[n+"0"]}return type_defaults=function(n,a,s,o){s("autotypenumbers",o.autotypenumbersDflt),"-"===s("type",(o.splomStash||{}).type)&&(!function(n,a){if("-"!==n.type)return;var s,o=n._id,l=o.charAt(0);-1!==o.indexOf("scene")&&(o=l);var c=function(t,e,i){for(var n=0;n<t.length;n++){var a=t[n];if("splom"===a.type&&a._length>0&&(a["_"+i+"axes"]||{})[e])return a;if((a[i+"axis"]||i)===e){if(r(a,i))return a;if((a[i]||[]).length||a[i+"0"])return a}}}(a,o,l);if(!c)return;if("histogram"===c.type&&l==={v:"y",h:"x"}[c.orientation||"v"])return void(n.type="linear");var g=l+"calendar",d=c[g],u={noMultiCategory:!t(c,"cartesian")||t(c,"noMultiCategory")};"box"===c.type&&c._hasPreCompStats&&l==={h:"x",v:"y"}[c.orientation||"v"]&&(u.noMultiCategory=!0);if(u.autotypenumbers=n.autotypenumbers,r(c,l)){var B=i(c),F=[];for(s=0;s<a.length;s++){var h=a[s];t(h,"box-violin")&&(h[l+"axis"]||l)===o&&(void 0!==h[B]?F.push(h[B][0]):void 0!==h.name?F.push(h.name):F.push("text"),h[g]!==d&&(d=void 0))}n.type=e(F,d,u)}else if("splom"===c.type){var Q=c.dimensions[c._axesDim[o]];Q.visible&&(n.type=e(Q.values,d,u))}else n.type=e(c[l]||[c[l+"0"]],d,u)}(a,o.data),"-"===a.type?a.type="linear":n.type=a.type)},type_defaults}var isTypedArraySpec=array.isTypedArraySpec;function findCategories(t,e){var i,r,n,a=e.dataAttr||t._id.charAt(0),s={};if(e.axData)i=e.axData;else for(i=[],r=0;r<e.data.length;r++){var o=e.data[r];o[a+"axis"]===t._id&&i.push(o)}for(r=0;r<i.length;r++){var l=i[r][a];for(n=0;n<l.length;n++){var c=l[n];null!=c&&(s[c]=1)}}return Object.keys(s)}var category_order_defaults=function(t,e,i,r){if("category"===e.type){var n,a=t.categoryarray,s=Array.isArray(a)&&a.length>0||isTypedArraySpec(a);s&&(n="array");var o,l=i("categoryorder",n);"array"===l&&(o=i("categoryarray")),s||"array"!==l||(l=e.categoryorder="trace"),"trace"===l?e._initialCategories=[]:"array"===l?e._initialCategories=o.slice():(o=findCategories(e,r).sort(),"category ascending"===l?e._initialCategories=o:"category descending"===l&&(e._initialCategories=o.reverse()))}},colorMix=tinycolorExports.mix,colorAttrs$2=attributes$K,Lib$I=libExports,line_grid_defaults=function(t,e,i,r){var n=(r=r||{}).dfltColor;function a(i,n){return Lib$I.coerce2(t,e,r.attributes,i,n)}var s=a("linecolor",n),o=a("linewidth");i("showline",r.showLine||!!s||!!o)||(delete e.linecolor,delete e.linewidth);var l=a("gridcolor",colorMix(n,r.bgColor,r.blend||colorAttrs$2.lightFraction).toRgbString()),c=a("gridwidth"),g=a("griddash");if(i("showgrid",r.showGrid||!!l||!!c||!!g)||(delete e.gridcolor,delete e.gridwidth,delete e.griddash),r.hasMinor){var d=a("minor.gridcolor",colorMix(e.gridcolor,r.bgColor,67).toRgbString()),u=a("minor.gridwidth",e.gridwidth||1),B=a("minor.griddash",e.griddash||"solid");i("minor.showgrid",!!d||!!u||!!B)||(delete e.minor.gridcolor,delete e.minor.gridwidth,delete e.minor.griddash)}if(!r.noZeroLine){a("zerolinelayer");var F=a("zerolinecolor",n),h=a("zerolinewidth");i("zeroline",r.showGrid||!!F||!!h)||(delete e.zerolinelayer,delete e.zerolinecolor,delete e.zerolinewidth)}},isNumeric$a=fastIsnumeric,Registry$i=registry$1,Lib$H=libExports,Template$2=plot_template,handleArrayContainerDefaults$7=array_container_defaults,layoutAttributes$1=layout_attributes$3,handleTickValueDefaults=tick_value_defaults,handleTickMarkDefaults=tick_mark_defaults,handleTickLabelDefaults=tick_label_defaults,handlePrefixSuffixDefaults=prefix_suffix_defaults,handleCategoryOrderDefaults=category_order_defaults,handleLineGridDefaults=line_grid_defaults,handleRangeDefaults=range_defaults,setConvert=set_convert,DAY_OF_WEEK=constants$K.WEEKDAY_PATTERN,HOUR=constants$K.HOUR_PATTERN,axis_defaults$1=function(t,e,i,r,n){var a,s=r.letter,o=r.font||{},l=r.splomStash||{},c=i("visible",!r.visibleDflt),g=e._template||{},d=e.type||g.type||"-";"date"===d&&(Registry$i.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",r.calendar),r.noTicklabelmode||(a=i("ticklabelmode")));r.noTicklabelindex||"date"!==d&&"linear"!==d||i("ticklabelindex");var u="";r.noTicklabelposition&&"multicategory"!==d||(u=Lib$H.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===a?["outside","inside"]:"x"===s?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),r.noTicklabeloverflow||i("ticklabeloverflow",-1!==u.indexOf("inside")?"hide past domain":"category"===d||"multicategory"===d?"allow":"hide past div"),setConvert(e,n),handleRangeDefaults(t,e,i,r),handleCategoryOrderDefaults(t,e,i,r),r.noHover||("category"!==d&&i("hoverformat"),r.noUnifiedhovertitle||i("unifiedhovertitle.text"));var B=i("color"),F=B!==layoutAttributes$1.color.dflt?B:o.color,h=l.label||n._dfltTitle[s];if(handlePrefixSuffixDefaults(t,e,i,d,r),!c)return e;i("title.text",h),Lib$H.coerceFont(i,"title.font",o,{overrideDflt:{size:Lib$H.bigFont(o.size),color:F}}),handleTickValueDefaults(t,e,i,d);var Q=r.hasMinor;if(Q&&(Template$2.newContainer(e,"minor"),handleTickValueDefaults(t,e,i,d,{isMinor:!0})),handleTickLabelDefaults(t,e,i,d,r),handleTickMarkDefaults(t,e,i,r),Q){var U=r.isMinor;r.isMinor=!0,handleTickMarkDefaults(t,e,i,r),r.isMinor=U}handleLineGridDefaults(t,e,i,{dfltColor:B,bgColor:r.bgColor,showGrid:r.showGrid,hasMinor:Q,attributes:layoutAttributes$1}),!Q||e.minor.ticks||e.minor.showgrid||delete e.minor,(e.showline||e.ticks)&&i("mirror");var I="multicategory"===d;(r.noTickson||"category"!==d&&!I||!e.ticks&&!e.showgrid||(I?(i("tickson","boundaries"),delete e.ticklabelposition):i("tickson")),I)&&(i("showdividers")&&(i("dividercolor"),i("dividerwidth")));if("date"===d)if(handleArrayContainerDefaults$7(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:rangebreaksDefaults}),e.rangebreaks.length){for(var b=0;b<e.rangebreaks.length;b++)if(e.rangebreaks[b].pattern===DAY_OF_WEEK){e._hasDayOfWeekBreaks=!0;break}if(setConvert(e,n),n._has("scattergl")||n._has("splom"))for(var p=0;p<r.data.length;p++){var y=r.data[p];"scattergl"!==y.type&&"splom"!==y.type||(y.visible=!1,Lib$H.warn(y.type+" traces do not work on axes with rangebreaks. Setting trace "+y.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};function rangebreaksDefaults(t,e,i){function r(i,r){return Lib$H.coerce(t,e,layoutAttributes$1.rangebreaks,i,r)}if(r("enabled")){var n=r("bounds");if(n&&n.length>=2){var a,s,o="";if(2===n.length)for(a=0;a<2;a++)if(s=indexOfDay(n[a])){o=DAY_OF_WEEK;break}var l=r("pattern",o);if(l===DAY_OF_WEEK)for(a=0;a<2;a++)(s=indexOfDay(n[a]))&&(e.bounds[a]=n[a]=s-1);if(l)for(a=0;a<2;a++)switch(s=n[a],l){case DAY_OF_WEEK:if(!isNumeric$a(s))return void(e.enabled=!1);if((s=+s)!==Math.floor(s)||s<0||s>=7)return void(e.enabled=!1);e.bounds[a]=n[a]=s;break;case HOUR:if(!isNumeric$a(s))return void(e.enabled=!1);if((s=+s)<0||s>24)return void(e.enabled=!1);e.bounds[a]=n[a]=s}if(!1===i.autorange){var c=i.range;if(c[0]<c[1]){if(n[0]<c[0]&&n[1]>c[1])return void(e.enabled=!1)}else if(n[0]>c[0]&&n[1]<c[1])return void(e.enabled=!1)}}else{var g=r("values");if(!g||!g.length)return void(e.enabled=!1);r("dvalue")}}}var dayStrToNum={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function indexOfDay(t){if("string"==typeof t)return dayStrToNum[t.substr(0,3).toLowerCase()]}var layout_defaults$1,hasRequiredLayout_defaults,transition_axes,hasRequiredTransition_axes,isNumeric$9=fastIsnumeric,Lib$G=libExports,position_defaults=function(t,e,i,r){var n,a,s,o,l,c,g=r.counterAxes||[],d=r.overlayableAxes||[],u=r.letter,B=r.grid,F=r.overlayingDomain;B&&(a=B._domains[u][B._axisMap[e._id]],n=B._anchors[e._id],a&&(s=B[u+"side"].split(" ")[0],o=B.domain[u]["right"===s||"top"===s?1:0])),a=a||[0,1],n=n||(isNumeric$9(t.position)?"free":g[0]||"free"),s=s||("x"===u?"bottom":"left"),o=o||0,l=0,c=!1;var h=Lib$G.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(g),dflt:n}},"anchor"),Q=Lib$G.coerce(t,e,{side:{valType:"enumerated",values:"x"===u?["bottom","top"]:["left","right"],dflt:s}},"side");if("free"===h){if("y"===u)i("autoshift")&&(o="left"===Q?F[0]:F[1],c=!e.automargin||e.automargin,l="left"===Q?-3:3),i("shift",l);i("position",o)}i("automargin",c);var U=!1;if(d.length&&(U=Lib$G.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!U){var I=i("domain",a);I[0]>I[1]-1/4096&&(e.domain=a),Lib$G.noneOrAll(t.domain,e.domain,a),"sync"===e.tickmode&&(e.tickmode="auto")}return i("layer"),e};function requireLayout_defaults(){if(hasRequiredLayout_defaults)return layout_defaults$1;hasRequiredLayout_defaults=1;var t=libExports,e=colorExports,i=helpers$y.isUnifiedHover,r=hovermode_defaults,n=plot_template,a=layout_attributes$5,s=layout_attributes$3,o=requireType_defaults(),l=axis_defaults$1,c=constraints,g=position_defaults,d=axis_ids$1,u=d.id2name,B=d.name2id,F=constants$K.AX_ID_PATTERN,h=registry$1,Q=h.traceIs,U=h.getComponentMethod;function I(t,e,i){Array.isArray(t[e])?t[e].push(i):t[e]=[i]}return layout_defaults$1=function(h,b,p){var y,m,C=b.autotypenumbers,f={},x={},A={},v={},L={},R={},S={},G={},E={},V={};for(y=0;y<p.length;y++){var Z=p[y];if(Q(Z,"cartesian")){var N,D;if(Z.xaxis)N=u(Z.xaxis),I(f,N,Z);else if(Z.xaxes)for(m=0;m<Z.xaxes.length;m++)I(f,u(Z.xaxes[m]),Z);if(Z.yaxis)D=u(Z.yaxis),I(f,D,Z);else if(Z.yaxes)for(m=0;m<Z.yaxes.length;m++)I(f,u(Z.yaxes[m]),Z);if("funnel"===Z.type?"h"===Z.orientation?(N&&(x[N]=!0),D&&(S[D]=!0)):D&&(A[D]=!0):"image"===Z.type?(D&&(G[D]=!0),N&&(G[N]=!0)):(D&&(L[D]=!0,R[D]=!0),Q(Z,"carpet")&&("carpet"!==Z.type||Z._cheater)||N&&(v[N]=!0)),"carpet"===Z.type&&Z._cheater&&N&&(x[N]=!0),Q(Z,"2dMap")&&(E[N]=!0,E[D]=!0),Q(Z,"oriented"))V["h"===Z.orientation?D:N]=!0}}var w=b._subplots,X=w.xaxis,W=w.yaxis,H=t.simpleMap(X,u),T=t.simpleMap(W,u),M=H.concat(T),k=e.background;X.length&&W.length&&(k=t.coerce(h,b,a,"plot_bgcolor"));var Y,J,$,z,O,K=e.combine(k,b.paper_bgcolor);function _(){var t=f[Y]||[];O._traceIndices=t.map(function(t){return t.index}),O._annIndices=[],O._shapeIndices=[],O._selectionIndices=[],O._imgIndices=[],O._subplotsWith=[],O._counterAxes=[],O._name=O._attr=Y,O._id=J}function P(e,i){return t.coerce(z,O,s,e,i)}function j(e,i){return t.coerce2(z,O,s,e,i)}function q(t){return"x"===t?W:X}function tt(t,e){for(var i="x"===t?H:T,r=[],n=0;n<i.length;n++){var a=i[n];a===e||(h[a]||{}).overlaying||r.push(B(a))}return r}var et={x:q("x"),y:q("y")},it=et.x.concat(et.y),rt={},nt=[];function at(){var t=z.matches;F.test(t)&&-1===it.indexOf(t)&&(rt[t]=z.type,nt=Object.keys(rt))}var st=r(h,b),ot=i(st);for(y=0;y<M.length;y++){Y=M[y],J=B(Y),$=Y.charAt(0),t.isPlainObject(h[Y])||(h[Y]={}),z=h[Y],O=n.newContainer(b,Y,$+"axis"),_();var lt="x"===$&&!v[Y]&&x[Y]||"y"===$&&!L[Y]&&A[Y],ct="y"===$&&(!R[Y]&&S[Y]||G[Y]),gt={hasMinor:!0,letter:$,font:b.font,outerTicks:E[Y],showGrid:!V[Y],data:f[Y]||[],bgColor:K,calendar:b.calendar,automargin:!0,visibleDflt:lt,reverseDflt:ct,autotypenumbersDflt:C,splomStash:((b._splomAxes||{})[$]||{})[J],noAutotickangles:"y"===$};P("uirevision",b.uirevision),o(z,O,P,gt),l(z,O,P,gt,b);var dt=ot&&$===st.charAt(0),ut=j("spikecolor",ot?O.color:void 0),Bt=j("spikethickness",ot?1.5:void 0),Ft=j("spikedash",ot?"dot":void 0),ht=j("spikemode",ot?"across":void 0),Qt=j("spikesnap");P("showspikes",!!(dt||ut||Bt||Ft||ht||Qt))||(delete O.spikecolor,delete O.spikethickness,delete O.spikedash,delete O.spikemode,delete O.spikesnap);var Ut=u(z.overlaying),It=[0,1];if(void 0!==b[Ut]){var bt=u(b[Ut].anchor);void 0!==b[bt]&&(It=b[bt].domain)}g(z,O,P,{letter:$,counterAxes:et[$],overlayableAxes:tt($,Y),grid:b.grid,overlayingDomain:It}),P("title.standoff"),at(),O._input=z}for(y=0;y<nt.length;){J=nt[y++],$=(Y=u(J)).charAt(0),t.isPlainObject(h[Y])||(h[Y]={}),z=h[Y],O=n.newContainer(b,Y,$+"axis"),_();var pt={letter:$,font:b.font,outerTicks:E[Y],showGrid:!V[Y],data:[],bgColor:K,calendar:b.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:C,splomStash:((b._splomAxes||{})[$]||{})[J]};P("uirevision",b.uirevision),O.type=rt[J]||"linear",l(z,O,P,pt,b),g(z,O,P,{letter:$,counterAxes:et[$],overlayableAxes:tt($,Y),grid:b.grid}),P("fixedrange"),P("modebardisable"),at(),O._input=z}var yt=U("rangeslider","handleDefaults"),mt=U("rangeselector","handleDefaults");for(y=0;y<H.length;y++)Y=H[y],z=h[Y],O=b[Y],yt(h,b,Y),"date"===O.type&&mt(z,O,b,T,O.calendar),P("fixedrange"),P("modebardisable");for(y=0;y<T.length;y++){Y=T[y],z=h[Y],O=b[Y];var Ct=b[u(O.anchor)];P("fixedrange",U("rangeslider","isVisible")(Ct)),P("modebardisable")}c.handleDefaults(h,b,{axIds:it.concat(nt).sort(d.idSort),axHasImage:G})},layout_defaults$1}function requireTransition_axes(){if(hasRequiredTransition_axes)return transition_axes;hasRequiredTransition_axes=1;var t=d3Exports,e=registry$1,i=libExports,r=drawingExports,n=axesExports;return transition_axes=function(a,s,o,l){var c=a._fullLayout;if(0!==s.length){var g,d,u,B;l&&(g=l());var F=t.ease(o.easing);return a._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(B),B=null,function(){for(var t={},i=0;i<s.length;i++){var r=s[i],n=r.plotinfo.xaxis,o=r.plotinfo.yaxis;r.xr0&&(t[n._name+".range"]=r.xr0.slice()),r.yr0&&(t[o._name+".range"]=r.yr0.slice())}return e.call("relayout",a,t).then(function(){for(var t=0;t<s.length;t++)h(s[t].plotinfo)})}()}),d=Date.now(),B=window.requestAnimationFrame(function t(){u=Date.now();for(var i=Math.min(1,(u-d)/o.duration),r=F(i),n=0;n<s.length;n++)Q(s[n],r);u-d>o.duration?(!function(){for(var t={},i=0;i<s.length;i++){var r=s[i],n=r.plotinfo.xaxis,o=r.plotinfo.yaxis;r.xr1&&(t[n._name+".range"]=r.xr1.slice()),r.yr1&&(t[o._name+".range"]=r.yr1.slice())}g&&g(),e.call("relayout",a,t).then(function(){for(var t=0;t<s.length;t++)h(s[t].plotinfo)})}(),B=window.cancelAnimationFrame(t)):B=window.requestAnimationFrame(t)}),Promise.resolve()}function h(t){var e=t.xaxis,i=t.yaxis;c._defs.select("#"+t.clipId+"> rect").call(r.setTranslate,0,0).call(r.setScale,1,1),t.plot.call(r.setTranslate,e._offset,i._offset).call(r.setScale,1,1);var n=t.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(r.setPointGroupScale,1,1),n.selectAll(".textpoint").call(r.setTextPointsScale,1,1),n.call(r.hideOutsideRangePoints,t)}function Q(t,e){var s=t.plotinfo,o=s.xaxis,l=s.yaxis,c=o._length,g=l._length,d=!!t.xr1,u=!!t.yr1,B=[];if(d){var F=i.simpleMap(t.xr0,o.r2l),h=i.simpleMap(t.xr1,o.r2l),Q=F[1]-F[0],U=h[1]-h[0];B[0]=(F[0]*(1-e)+e*h[0]-F[0])/(F[1]-F[0])*c,B[2]=c*(1-e+e*U/Q),o.range[0]=o.l2r(F[0]*(1-e)+e*h[0]),o.range[1]=o.l2r(F[1]*(1-e)+e*h[1])}else B[0]=0,B[2]=c;if(u){var I=i.simpleMap(t.yr0,l.r2l),b=i.simpleMap(t.yr1,l.r2l),p=I[1]-I[0],y=b[1]-b[0];B[1]=(I[1]*(1-e)+e*b[1]-I[1])/(I[0]-I[1])*g,B[3]=g*(1-e+e*y/p),l.range[0]=o.l2r(I[0]*(1-e)+e*b[0]),l.range[1]=l.l2r(I[1]*(1-e)+e*b[1])}else B[1]=0,B[3]=g;n.drawOne(a,o,{skipTitle:!0}),n.drawOne(a,l,{skipTitle:!0}),n.redrawComponents(a,[o._id,l._id]);var m=d?c/B[2]:1,C=u?g/B[3]:1,f=d?B[0]:0,x=u?B[1]:0,A=d?B[0]/B[2]*c:0,v=u?B[1]/B[3]*g:0,L=o._offset-A,R=l._offset-v;s.clipRect.call(r.setTranslate,f,x).call(r.setScale,1/m,1/C),s.plot.call(r.setTranslate,L,R).call(r.setScale,m,C),r.setPointGroupScale(s.zoomScalePts,1/m,1/C),r.setTextPointsScale(s.zoomScaleTxt,1/m,1/C)}n.redrawComponents(a)},transition_axes}var d3$b=d3Exports,Registry$h=registry$1,Lib$F=libExports,Plots$5=plotsExports,Drawing$9=drawingExports,getModuleCalcData=get_data.getModuleCalcData,axisIds$3=axis_ids$1,constants$l=constants$K,xmlnsNamespaces$2=xmlns_namespaces,ensureSingle=Lib$F.ensureSingle;function ensureSingleAndAddDatum(t,e,i){return Lib$F.ensureSingle(t,e,i,function(t){t.datum(i)})}var zindexSeparator=constants$l.zindexSeparator;function plotOne(t,e,i,r,n){for(var a,s,o,l=constants$l.traceLayerClasses,c=t._fullLayout,g=c._zindices,d=c._modules,u=[],B=[],F=0;F<g.length;F++)for(var h=g[F],Q=0;Q<d.length;Q++){var U=(a=d[Q]).name,I=Registry$h.modules[U].categories;if(I.svg){var b=a.layerName||U+"layer",p=b+(F?Number(F)+1:""),y=a.plot;o=(s=getModuleCalcData(i,y,h))[0],i=s[1],o.length&&u.push({i:l.indexOf(b),zindex:F,className:p,plotMethod:y,cdModule:o}),I.zoomScale&&B.push("."+p)}}u.sort(function(t,e){return(t.zindex||0)-(e.zindex||0)||t.i-e.i});var m=e.plot.selectAll("g.mlayer").data(u,function(t){return t.className});if(m.enter().append("g").attr("class",function(t){return t.className}).classed("mlayer",!0).classed("rangeplot",e.isRangePlot),m.exit().remove(),m.order(),m.each(function(i){var a=d3$b.select(this),s=i.className;i.plotMethod(t,e,i.cdModule,a,r,n),-1===constants$l.clipOnAxisFalseQuery.indexOf("."+s)&&Drawing$9.setClipUrl(a,e.layerClipId,t)}),c._has("scattergl")&&(a=Registry$h.getModule("scattergl"),o=getModuleCalcData(i,a)[0],a.plot(t,e,o)),!t._context.staticPlot&&(e._hasClipOnAxisFalse&&(e.clipOnAxisFalseTraces=e.plot.selectAll(constants$l.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),B.length)){var C=e.plot.selectAll(B.join(",")).selectAll(".trace");e.zoomScalePts=C.selectAll("path.point"),e.zoomScaleTxt=C.selectAll(".textpoint")}}function makeSubplotData(t){var e,i,r,n,a,s,o=t._fullLayout,l=o._zindices.length,c=o._subplots.cartesian,g=c.length,d=[],u=[];for(e=0;e<g;e++){r=c[e],a=(n=o._plots[r]).xaxis,s=n.yaxis;var B=a._mainAxis,F=s._mainAxis,h=B._id+F._id,Q=o._plots[h];n.overlays=[],h!==r&&Q?(n.mainplot=h,n.mainplotinfo=Q,u.push(r)):(n.mainplot=void 0,n.mainplotinfo=void 0,d.push(r))}for(e=0;e<u.length;e++)r=u[e],(n=o._plots[r]).mainplotinfo.overlays.push(n);var U=d.concat(u),I=[];for(e=0;e<g;e++){r=U[e],a=(n=o._plots[r]).xaxis,s=n.yaxis;for(var b=[],p=1;p<=l;p++){var y="";for(p>1&&(y+=zindexSeparator+p),b.push(r+y),i=0;i<n.overlays.length;i++)b.push(n.overlays[i].id+y)}b=b.concat([a.layer,s.layer,a.overlaying||"",s.overlaying||""]),I.push(b)}return I}function makeSubplotLayer(t,e){var i=t._fullLayout,r=e.plotgroup,n=e.id,a=-1!==n.indexOf(zindexSeparator),s=constants$l.layerValue2layerClass[e.xaxis.layer],o=constants$l.layerValue2layerClass[e.yaxis.layer],l=i._hasOnlyLargeSploms,c=i._zindices.length>1,g=e.mainplotinfo;if(!e.mainplot||c)if(l)e.xlines=ensureSingle(r,"path","xlines-above"),e.ylines=ensureSingle(r,"path","ylines-above"),e.xaxislayer=ensureSingle(r,"g","xaxislayer-above"),e.yaxislayer=ensureSingle(r,"g","yaxislayer-above");else{if(!a){var d=ensureSingle(r,"g","layer-subplot");e.shapelayer=ensureSingle(d,"g","shapelayer"),e.imagelayer=ensureSingle(d,"g","imagelayer"),g&&c?(e.minorGridlayer=g.minorGridlayer,e.gridlayer=g.gridlayer,e.zerolinelayer=g.zerolinelayer):(e.minorGridlayer=ensureSingle(r,"g","minor-gridlayer"),e.gridlayer=ensureSingle(r,"g","gridlayer"),e.zerolinelayer=ensureSingle(r,"g","zerolinelayer"));var u=ensureSingle(r,"g","layer-between");e.shapelayerBetween=ensureSingle(u,"g","shapelayer"),e.imagelayerBetween=ensureSingle(u,"g","imagelayer"),ensureSingle(r,"path","xlines-below"),ensureSingle(r,"path","ylines-below"),e.overlinesBelow=ensureSingle(r,"g","overlines-below"),ensureSingle(r,"g","xaxislayer-below"),ensureSingle(r,"g","yaxislayer-below"),e.overaxesBelow=ensureSingle(r,"g","overaxes-below")}e.overplot=ensureSingle(r,"g","overplot"),e.plot=ensureSingle(e.overplot,"g",n),e.zerolinelayerAbove=g&&c?g.zerolinelayerAbove:ensureSingle(r,"g","zerolinelayer-above"),a||(e.xlines=ensureSingle(r,"path","xlines-above"),e.ylines=ensureSingle(r,"path","ylines-above"),e.overlinesAbove=ensureSingle(r,"g","overlines-above"),ensureSingle(r,"g","xaxislayer-above"),ensureSingle(r,"g","yaxislayer-above"),e.overaxesAbove=ensureSingle(r,"g","overaxes-above"),e.xlines=r.select(".xlines-"+s),e.ylines=r.select(".ylines-"+o),e.xaxislayer=r.select(".xaxislayer-"+s),e.yaxislayer=r.select(".yaxislayer-"+o))}else{var B=g.plotgroup,F=n+"-x",h=n+"-y";e.minorGridlayer=g.minorGridlayer,e.gridlayer=g.gridlayer,e.zerolinelayer=g.zerolinelayer,e.zerolinelayerAbove=g.zerolinelayerAbove,ensureSingle(g.overlinesBelow,"path",F),ensureSingle(g.overlinesBelow,"path",h),ensureSingle(g.overaxesBelow,"g",F),ensureSingle(g.overaxesBelow,"g",h),e.plot=ensureSingle(g.overplot,"g",n),ensureSingle(g.overlinesAbove,"path",F),ensureSingle(g.overlinesAbove,"path",h),ensureSingle(g.overaxesAbove,"g",F),ensureSingle(g.overaxesAbove,"g",h),e.xlines=B.select(".overlines-"+s).select("."+F),e.ylines=B.select(".overlines-"+o).select("."+h),e.xaxislayer=B.select(".overaxes-"+s).select("."+F),e.yaxislayer=B.select(".overaxes-"+o).select("."+h)}a||(l||(ensureSingleAndAddDatum(e.minorGridlayer,"g",e.xaxis._id),ensureSingleAndAddDatum(e.minorGridlayer,"g",e.yaxis._id),e.minorGridlayer.selectAll("g").map(function(t){return t[0]}).sort(axisIds$3.idSort),ensureSingleAndAddDatum(e.gridlayer,"g",e.xaxis._id),ensureSingleAndAddDatum(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map(function(t){return t[0]}).sort(axisIds$3.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0))}function purgeSubplotLayers(t,e){if(t){var i={};for(var r in t.each(function(t){var r=t[0];d3$b.select(this).remove(),removeSubplotExtras(r,e),i[r]=!0}),e._plots)for(var n=e._plots[r].overlays||[],a=0;a<n.length;a++){var s=n[a];i[s.id]&&s.plot.selectAll(".trace").remove()}}}function removeSubplotExtras(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}cartesian.name="cartesian",cartesian.attr=["xaxis","yaxis"],cartesian.idRoot=["x","y"],cartesian.idRegex=constants$l.idRegex,cartesian.attrRegex=constants$l.attrRegex,cartesian.attributes=requireAttributes$1(),cartesian.layoutAttributes=layout_attributes$3,cartesian.supplyLayoutDefaults=requireLayout_defaults(),cartesian.transitionAxes=requireTransition_axes(),cartesian.finalizeSubplots=function(t,e){var i,r,n,a=e._subplots,s=a.xaxis,o=a.yaxis,l=a.cartesian,c=l,g={},d={};for(i=0;i<c.length;i++){var u=c[i].split("y");g[u[0]]=1,d["y"+u[1]]=1}for(i=0;i<s.length;i++)g[r=s[i]]||(n=(t[axisIds$3.id2name(r)]||{}).anchor,constants$l.idRegex.y.test(n)||(n="y"),l.push(r+n),c.push(r+n),d[n]||(d[n]=1,Lib$F.pushUnique(o,n)));for(i=0;i<o.length;i++)d[n=o[i]]||(r=(t[axisIds$3.id2name(n)]||{}).anchor,constants$l.idRegex.x.test(r)||(r="x"),l.push(r+n),c.push(r+n),g[r]||(g[r]=1,Lib$F.pushUnique(s,r)));if(!c.length){for(var B in r="",n="",t){if(constants$l.attrRegex.test(B))"x"===B.charAt(0)?(!r||+B.substr(5)<+r.substr(5))&&(r=B):(!n||+B.substr(5)<+n.substr(5))&&(n=B)}r=r?axisIds$3.name2id(r):"x",n=n?axisIds$3.name2id(n):"y",s.push(r),o.push(n),l.push(r+n)}},cartesian.plot=function(t,e,i,r){var n,a=t._fullLayout,s=a._subplots.cartesian,o=t.calcdata;if(!Array.isArray(e))for(e=[],n=0;n<o.length;n++)e.push(n);for(var l=a._zindices,c=0;c<l.length;c++){var g=l[c];for(n=0;n<s.length;n++){var d=s[n],u=a._plots[d];if(c>0){var B=u.id;if(-1!==B.indexOf(zindexSeparator))continue;B+=zindexSeparator+(c+1),u=Lib$F.extendFlat({},u,{id:B,plot:a._cartesianlayer.selectAll(".subplot").select("."+B)})}for(var F,h=[],Q=0;Q<o.length;Q++){var U=o[Q],I=U[0].trace;g===(I.zorder||0)&&(I.xaxis+I.yaxis===d&&((-1!==e.indexOf(I.index)||I.carpet)&&(F&&F[0].trace.xaxis+F[0].trace.yaxis===d&&-1!==["tonextx","tonexty","tonext"].indexOf(I.fill)&&-1===h.indexOf(F)&&h.push(F),h.push(U)),F=U))}plotOne(t,u,h,i,r)}}},cartesian.clean=function(t,e,i,r){var n,a,s,o=r._plots||{},l=e._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(s in o)(n=o[s]).plotgroup&&n.plotgroup.remove();var g=r._has&&r._has("gl"),d=e._has&&e._has("gl");if(g&&!d)for(s in o)(n=o[s])._scene&&n._scene.destroy();if(c.xaxis&&c.yaxis){var u=axisIds$3.listIds({_fullLayout:r});for(a=0;a<u.length;a++){var B=u[a];e[axisIds$3.id2name(B)]||r._infolayer.selectAll(".g-"+B+"title").remove()}}var F=r._has&&r._has("cartesian"),h=e._has&&e._has("cartesian");if(F&&!h)purgeSubplotLayers(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(c.cartesian)for(a=0;a<c.cartesian.length;a++){var Q=c.cartesian[a];if(-1===Q.indexOf(zindexSeparator)&&!l[Q]){var U="."+Q+",."+Q+"-x,."+Q+"-y";r._cartesianlayer.selectAll(U).remove(),removeSubplotExtras(Q,r)}}},cartesian.drawFramework=function(t){var e,i=t._fullLayout,r=t.calcdata,n={};for(e=0;e<r.length;e++){var a=r[e][0],s=a.trace.zorder||0;n[s]||(n[s]=[]),n[s].push(a)}var o=Object.keys(n).map(Number).sort(Lib$F.sorterAsc);o.length||(o=[0]),i._zindices=o;var l=makeSubplotData(t),c=l.length,g=[];for(e=0;e<c;e++)g[e]=l[e].slice();for(var d=1;d<o.length;d++){var u=[];for(e=0;e<c;e++)u[e]=l[e].slice(),u[e][0]+=zindexSeparator+(d+1);g=g.concat(u)}var B=i._cartesianlayer.selectAll(".subplot").data(g,String);B.enter().append("g").attr("class",function(t){return"subplot "+t[0]}),B.order(),B.exit().call(purgeSubplotLayers,i),B.each(function(e){var r=e[0],n=r.indexOf(zindexSeparator),a=-1!==n,s=a?r.slice(0,n):r,o=i._plots[r];o||(o=Lib$F.extendFlat({},i._plots[s]))&&(o.id=r,i._plots[r]=o,i._subplots.cartesian.push(r)),o&&(o.plotgroup=d3$b.select(this),makeSubplotLayer(t,o),a||(o.draglayer=ensureSingle(i._draggers,"g",r)))})},cartesian.rangePlot=function(t,e,i){makeSubplotLayer(t,e),plotOne(t,e,i),Plots$5.style(t)},cartesian.toSVG=function(t){var e=t._fullLayout._glimages,i=d3$b.select(t).selectAll(".svg-container"),r=i.filter(function(t,e){return e===i.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");r.each(function(){var t=this,i=t.toDataURL("image/png");e.append("svg:image").attr({xmlns:xmlnsNamespaces$2.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})})},cartesian.updateFx=graph_interact.updateFx;var subtypes=subtypes$3,scatter={hasLines:subtypes.hasLines,hasMarkers:subtypes.hasMarkers,hasText:subtypes.hasText,isBubble:subtypes.isBubble,attributes:attributes$x,layoutAttributes:layout_attributes$4,supplyDefaults:defaults$n,crossTraceDefaults:cross_trace_defaults$1,supplyLayoutDefaults:layout_defaults$2,calc:calc_1$2.calc,crossTraceCalc:cross_trace_calc,arraysToCalcdata:arrays_to_calcdata$1,plot:plot$3,colorbar:marker_colorbar,formatLabels:format_labels,style:style_1$1.style,styleOnSelect:style_1$1.styleOnSelect,hoverPoints:hover$2,selectPoints:select$1,animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:cartesian,categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}},d3$a=d3Exports,Color$f=colorExports,ARROWPATHS=arrow_paths,Lib$E=libExports,strScale=Lib$E.strScale,strRotate=Lib$E.strRotate,strTranslate$4=Lib$E.strTranslate,draw_arrow_head=function(t,e,i){var r,n,a,s,o=t.node(),l=ARROWPATHS[i.arrowhead||0],c=ARROWPATHS[i.startarrowhead||0],g=(i.arrowwidth||1)*(i.arrowsize||1),d=(i.arrowwidth||1)*(i.startarrowsize||1),u=e.indexOf("start")>=0,B=e.indexOf("end")>=0,F=l.backoff*g+i.standoff,h=c.backoff*d+i.startstandoff;if("line"===o.nodeName){r={x:+t.attr("x1"),y:+t.attr("y1")},n={x:+t.attr("x2"),y:+t.attr("y2")};var Q=r.x-n.x,U=r.y-n.y;if(s=(a=Math.atan2(U,Q))+Math.PI,F&&h&&F+h>Math.sqrt(Q*Q+U*U))return void L();if(F){if(F*F>Q*Q+U*U)return void L();var I=F*Math.cos(a),b=F*Math.sin(a);n.x+=I,n.y+=b,t.attr({x2:n.x,y2:n.y})}if(h){if(h*h>Q*Q+U*U)return void L();var p=h*Math.cos(a),y=h*Math.sin(a);r.x-=p,r.y-=y,t.attr({x1:r.x,y1:r.y})}}else if("path"===o.nodeName){var m=o.getTotalLength(),C="";if(m<F+h)return void L();var f=o.getPointAtLength(0),x=o.getPointAtLength(.1);a=Math.atan2(f.y-x.y,f.x-x.x),r=o.getPointAtLength(Math.min(h,m)),C="0px,"+h+"px,";var A=o.getPointAtLength(m),v=o.getPointAtLength(m-.1);s=Math.atan2(A.y-v.y,A.x-v.x),n=o.getPointAtLength(Math.max(0,m-F)),C+=m-(C?h+F:F)+"px,"+m+"px",t.style("stroke-dasharray",C)}function L(){t.style("stroke-dasharray","0px,100px")}function R(e,r,n,a){e.path&&(e.noRotate&&(n=0),d3$a.select(o.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:strTranslate$4(r.x,r.y)+strRotate(180*n/Math.PI)+strScale(a)}).style({fill:Color$f.rgb(i.arrowcolor),"stroke-width":0}))}u&&R(c,r,a,d),B&&R(l,n,s,g)},d3$9=d3Exports,Registry$g=registry$1,Plots$4=plotsExports,Lib$D=libExports,strTranslate$3=Lib$D.strTranslate,Axes$d=axesExports,Color$e=colorExports,Drawing$8=drawingExports,Fx$2=fx,svgTextUtils$6=svg_text_utils,setCursor$1=setcursor,dragElement$1=dragelementExports,arrayEditor$3=plot_template.arrayEditor,drawArrowHead=draw_arrow_head,draw_1$1={draw:draw$8,drawOne:drawOne,drawRaw:drawRaw$1};function draw$8(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var i=0;i<e.annotations.length;i++)e.annotations[i].visible&&drawOne(t,i);return Plots$4.previousPromises(t)}function drawOne(t,e){var i=t._fullLayout.annotations[e]||{},r=Axes$d.getFromId(t,i.xref),n=Axes$d.getFromId(t,i.yref);r&&r.setScale(),n&&n.setScale(),drawRaw$1(t,i,e,!1,r,n)}function shiftPosition(t,e,i,r,n){var a=n[i],s=n[i+"ref"],o=-1!==i.indexOf("y"),l="domain"===Axes$d.getRefType(s),c=o?r.h:r.w;return t?l?a+(o?-e:e)/t._length:t.p2r(t.r2p(a)+e):a+(o?-e:e)/c}function drawRaw$1(t,e,i,r,n,a){var s,o,l=t._fullLayout,c=t._fullLayout._size,g=t._context.edits;r?(s="annotation-"+r,o=r+".annotations"):(s="annotation",o="annotations");var d=arrayEditor$3(t.layout,o,e),u=d.modifyBase,B=d.modifyItem,F=d.getUpdateObj;l._infolayer.selectAll("."+s+'[data-index="'+i+'"]').remove();var h="clip"+l._uid+"_ann"+i;if(e._input&&!1!==e.visible){var Q={x:{},y:{}},U=+e.textangle||0,I=l._infolayer.append("g").classed(s,!0).attr("data-index",String(i)).style("opacity",e.opacity),b=I.append("g").classed("annotation-text-g",!0),p=g[e.showarrow?"annotationTail":"annotationPosition"],y=e.captureevents||g.annotationText||p,m=b.append("g").style("pointer-events",y?"all":null).call(setCursor$1,"pointer").on("click",function(){t._dragging=!1,t.emit("plotly_clickannotation",E(d3$9.event))});e.hovertext&&m.on("mouseover",function(){var i=e.hoverlabel,r=i.font,n=this.getBoundingClientRect(),a=t.getBoundingClientRect();Fx$2.loneHover({x0:n.left-a.left,x1:n.right-a.left,y:(n.top+n.bottom)/2-a.top,text:e.hovertext,color:i.bgcolor,borderColor:i.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color,fontWeight:r.weight,fontStyle:r.style,fontVariant:r.variant,fontShadow:r.fontShadow,fontLineposition:r.fontLineposition,fontTextcase:r.fontTextcase},{container:l._hoverlayer.node(),outerContainer:l._paper.node(),gd:t})}).on("mouseout",function(){Fx$2.loneUnhover(l._hoverlayer.node())});var C=e.borderwidth,f=e.borderpad,x=C+f,A=m.append("rect").attr("class","bg").style("stroke-width",C+"px").call(Color$e.stroke,e.bordercolor).call(Color$e.fill,e.bgcolor),v=e.width||e.height,L=l._topclips.selectAll("#"+h).data(v?[0]:[]);L.enter().append("clipPath").classed("annclip",!0).attr("id",h).append("rect"),L.exit().remove();var R=e.font,S=l._meta?Lib$D.templateString(e.text,l._meta):e.text,G=m.append("text").classed("annotation-text",!0).text(S);g.annotationText?G.call(svgTextUtils$6.makeEditable,{delegate:m,gd:t}).call(V).on("edit",function(i){e.text=i,this.call(V),B("text",i),n&&n.autorange&&u(n._name+".autorange",!0),a&&a.autorange&&u(a._name+".autorange",!0),Registry$g.call("_guiRelayout",t,F())}):G.call(V)}else d3$9.selectAll("#"+h).remove();function E(t){var n={index:i,annotation:e._input,fullAnnotation:e,event:t};return r&&(n.subplotId=r),n}function V(i){return i.call(Drawing$8.font,R).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),svgTextUtils$6.convertToTspans(i,t,Z),i}function Z(){var i=G.selectAll("a");1===i.size()&&i.text()===G.text()&&m.insert("a",":first-child").attr({"xlink:xlink:href":i.attr("xlink:href"),"xlink:xlink:show":i.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(A.node());var s=m.select(".annotation-text-math-group"),o=!s.empty(),d=Drawing$8.bBox((o?s:G).node()),y=d.width,f=d.height,R=e.width||y,S=e.height||f,V=Math.round(R+2*x),Z=Math.round(S+2*x);function N(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}for(var D=!1,w=["x","y"],X=0;X<w.length;X++){var W,H,T,M,k,Y=w[X],J=e[Y+"ref"]||Y,$=e["a"+Y+"ref"],z={x:n,y:a}[Y],O=(U+("x"===Y?0:-90))*Math.PI/180,K=V*Math.cos(O),_=Z*Math.sin(O),P=Math.abs(K)+Math.abs(_),j=e[Y+"anchor"],q=e[Y+"shift"]*("x"===Y?1:-1),tt=Q[Y],et=Axes$d.getRefType(J);if(z&&"domain"!==et){var it=z.r2fraction(e[Y]);(it<0||it>1)&&($===J?((it=z.r2fraction(e["a"+Y]))<0||it>1)&&(D=!0):D=!0),W=z._offset+z.r2p(e[Y]),M=.5}else{var rt="domain"===et;"x"===Y?(T=e[Y],W=rt?z._offset+z._length*T:W=c.l+c.w*T):(T=1-e[Y],W=rt?z._offset+z._length*T:W=c.t+c.h*T),M=e.showarrow?.5:T}if(e.showarrow){tt.head=W;var nt=e["a"+Y];if(k=K*N(.5,e.xanchor)-_*N(.5,e.yanchor),$===J){var at=Axes$d.getRefType($);"domain"===at?("y"===Y&&(nt=1-nt),tt.tail=z._offset+z._length*nt):"paper"===at?"y"===Y?(nt=1-nt,tt.tail=c.t+c.h*nt):tt.tail=c.l+c.w*nt:tt.tail=z._offset+z.r2p(nt),H=k}else tt.tail=W+nt,H=k+nt;tt.text=tt.tail+k;var st=l["x"===Y?"width":"height"];if("paper"===J&&(tt.head=Lib$D.constrain(tt.head,1,st-1)),"pixel"===$){var ot=-Math.max(tt.tail-3,tt.text),lt=Math.min(tt.tail+3,tt.text)-st;ot>0?(tt.tail+=ot,tt.text+=ot):lt>0&&(tt.tail-=lt,tt.text-=lt)}tt.tail+=q,tt.head+=q}else H=k=P*N(M,j),tt.text=W+k;tt.text+=q,k+=q,H+=q,e["_"+Y+"padplus"]=P/2+H,e["_"+Y+"padminus"]=P/2-H,e["_"+Y+"size"]=P,e["_"+Y+"shift"]=k}if(D)m.remove();else{var ct=0,gt=0;if("left"!==e.align&&(ct=(R-y)*("center"===e.align?.5:1)),"top"!==e.valign&&(gt=(S-f)*("middle"===e.valign?.5:1)),o)s.select("svg").attr({x:x+ct-1,y:x+gt}).call(Drawing$8.setClipUrl,v?h:null,t);else{var dt=x+gt-d.top,ut=x+ct-d.left;G.call(svgTextUtils$6.positionText,ut,dt).call(Drawing$8.setClipUrl,v?h:null,t)}L.select("rect").call(Drawing$8.setRect,x,x,R,S),A.call(Drawing$8.setRect,C/2,C/2,V-C,Z-C),m.call(Drawing$8.setTranslate,Math.round(Q.x.text-V/2),Math.round(Q.y.text-Z/2)),b.attr({transform:"rotate("+U+","+Q.x.text+","+Q.y.text+")"});var Bt,Ft=function(i,s){I.selectAll(".annotation-arrow-g").remove();var o=Q.x.head,l=Q.y.head,d=Q.x.tail+i,h=Q.y.tail+s,p=Q.x.text+i,y=Q.y.text+s,C=Lib$D.rotationXYMatrix(U,p,y),f=Lib$D.apply2DTransform(C),x=Lib$D.apply2DTransform2(C),v=+A.attr("width"),L=+A.attr("height"),R=p-.5*v,S=R+v,G=y-.5*L,E=G+L,V=[[R,G,R,E],[R,E,S,E],[S,E,S,G],[S,G,R,G]].map(x);if(!V.reduce(function(t,e){return t^!!Lib$D.segmentsIntersect(o,l,o+1e6,l+1e6,e[0],e[1],e[2],e[3])},!1)){V.forEach(function(t){var e=Lib$D.segmentsIntersect(d,h,o,l,t[0],t[1],t[2],t[3]);e&&(d=e.x,h=e.y)});var Z=e.arrowwidth,N=e.arrowcolor,D=e.arrowside,w=I.append("g").style({opacity:Color$e.opacity(N)}).classed("annotation-arrow-g",!0),X=w.append("path").attr("d","M"+d+","+h+"L"+o+","+l).style("stroke-width",Z+"px").call(Color$e.stroke,Color$e.rgb(N));if(drawArrowHead(X,D,e),g.annotationPosition&&X.node().parentNode&&!r){var W=o,H=l;if(e.standoff){var T=Math.sqrt(Math.pow(o-d,2)+Math.pow(l-h,2));W+=e.standoff*(d-o)/T,H+=e.standoff*(h-l)/T}var M,k,Y=w.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(d-W)+","+(h-H),transform:strTranslate$3(W,H)}).style("stroke-width",Z+6+"px").call(Color$e.stroke,"rgba(0,0,0,0)").call(Color$e.fill,"rgba(0,0,0,0)");dragElement$1.init({element:Y.node(),gd:t,prepFn:function(){var t=Drawing$8.getTranslate(m);M=t.x,k=t.y,n&&n.autorange&&u(n._name+".autorange",!0),a&&a.autorange&&u(a._name+".autorange",!0)},moveFn:function(t,i){var r=f(M,k),s=r[0]+t,o=r[1]+i;m.call(Drawing$8.setTranslate,s,o),B("x",shiftPosition(n,t,"x",c,e)),B("y",shiftPosition(a,i,"y",c,e)),e.axref===e.xref&&B("ax",shiftPosition(n,t,"ax",c,e)),e.ayref===e.yref&&B("ay",shiftPosition(a,i,"ay",c,e)),w.attr("transform",strTranslate$3(t,i)),b.attr({transform:"rotate("+U+","+s+","+o+")"})},doneFn:function(){Registry$g.call("_guiRelayout",t,F());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};if(e.showarrow&&Ft(0,0),p)dragElement$1.init({element:m.node(),gd:t,prepFn:function(){Bt=b.attr("transform")},moveFn:function(t,i){var s="pointer";if(e.showarrow)e.axref===e.xref?B("ax",shiftPosition(n,t,"ax",c,e)):B("ax",e.ax+t),e.ayref===e.yref?B("ay",shiftPosition(a,i,"ay",c.w,e)):B("ay",e.ay+i),Ft(t,i);else{if(r)return;var o,l;if(n)o=shiftPosition(n,t,"x",c,e);else{var g=e._xsize/c.w,d=e.x+(e._xshift-e.xshift)/c.w-g/2;o=dragElement$1.align(d+t/c.w,g,0,1,e.xanchor)}if(a)l=shiftPosition(a,i,"y",c,e);else{var u=e._ysize/c.h,F=e.y-(e._yshift+e.yshift)/c.h-u/2;l=dragElement$1.align(F-i/c.h,u,0,1,e.yanchor)}B("x",o),B("y",l),n&&a||(s=dragElement$1.getCursor(n?.5:o,a?.5:l,e.xanchor,e.yanchor))}b.attr({transform:strTranslate$3(t,i)+Bt}),setCursor$1(m,s)},clickFn:function(i,r){e.captureevents&&t.emit("plotly_clickannotation",E(r))},doneFn:function(){setCursor$1(m),Registry$g.call("_guiRelayout",t,F());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}var Lib$C=libExports,Registry$f=registry$1,arrayEditor$2=plot_template.arrayEditor,click={hasClickToShow:hasClickToShow,onClick:onClick};function hasClickToShow(t,e){var i=getToggleSets(t,e);return i.on.length>0||i.explicitOff.length>0}function onClick(t,e){var i,r,n=getToggleSets(t,e),a=n.on,s=n.off.concat(n.explicitOff),o={},l=t._fullLayout.annotations;if(a.length||s.length){for(i=0;i<a.length;i++)(r=arrayEditor$2(t.layout,"annotations",l[a[i]])).modifyItem("visible",!0),Lib$C.extendFlat(o,r.getUpdateObj());for(i=0;i<s.length;i++)(r=arrayEditor$2(t.layout,"annotations",l[s[i]])).modifyItem("visible",!1),Lib$C.extendFlat(o,r.getUpdateObj());return Registry$f.call("update",t,{},o)}}function getToggleSets(t,e){var i,r,n,a,s,o,l,c=t._fullLayout.annotations,g=[],d=[],u=[],B=(e||[]).length;for(i=0;i<c.length;i++)if(a=(n=c[i]).clicktoshow){for(r=0;r<B;r++)if(o=(s=e[r]).xaxis,l=s.yaxis,o._id===n.xref&&l._id===n.yref&&o.d2r(s.x)===clickData2r(n._xclick,o)&&l.d2r(s.y)===clickData2r(n._yclick,l)){(n.visible?"onout"===a?d:u:g).push(i);break}r===B&&n.visible&&"onout"===a&&d.push(i)}return{on:g,off:d,explicitOff:u}}function clickData2r(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}var Lib$B=libExports,Color$d=colorExports,common_defaults=function(t,e,i,r){r("opacity");var n=r("bgcolor"),a=r("bordercolor"),s=Color$d.opacity(a);r("borderpad");var o=r("borderwidth"),l=r("showarrow");if(r("text",l?" ":i._dfltTitle.annotation),r("textangle"),Lib$B.coerceFont(r,"font",i.font),r("width"),r("align"),r("height")&&r("valign"),l){var c,g,d=r("arrowside");-1!==d.indexOf("end")&&(c=r("arrowhead"),g=r("arrowsize")),-1!==d.indexOf("start")&&(r("startarrowhead",c),r("startarrowsize",g)),r("arrowcolor",s?e.bordercolor:Color$d.defaultLine),r("arrowwidth",2*(s&&o||1)),r("standoff"),r("startstandoff")}var u=r("hovertext"),B=i.hoverlabel||{};if(u){var F=r("hoverlabel.bgcolor",B.bgcolor||(Color$d.opacity(n)?Color$d.rgb(n):Color$d.defaultLine)),h=r("hoverlabel.bordercolor",B.bordercolor||Color$d.contrast(F)),Q=Lib$B.extendFlat({},B.font);Q.color||(Q.color=h),Lib$B.coerceFont(r,"hoverlabel.font",Q)}r("captureevents",!!u)},Lib$A=libExports,Axes$c=axesExports,handleArrayContainerDefaults$6=array_container_defaults,handleAnnotationCommonDefaults$1=common_defaults,attributes$r=attributes$y,defaults$m=function(t,e){handleArrayContainerDefaults$6(t,e,{name:"annotations",handleItemDefaults:handleAnnotationDefaults$1})};function handleAnnotationDefaults$1(t,e,i){function r(i,r){return Lib$A.coerce(t,e,attributes$r,i,r)}var n=r("visible"),a=r("clicktoshow");if(n||a){handleAnnotationCommonDefaults$1(t,e,i,r);for(var s=e.showarrow,o=["x","y"],l=[-10,-30],c={_fullLayout:i},g=0;g<2;g++){var d=o[g],u=Axes$c.coerceRef(t,e,c,d,"","paper");if("paper"!==u)Axes$c.getFromId(c,u)._annIndices.push(e._index);if(Axes$c.coercePosition(e,c,r,u,d,.5),s){var B="a"+d,F=Axes$c.coerceRef(t,e,c,B,"pixel",["pixel","paper"]);"pixel"!==F&&F!==u&&(F=e[B]="pixel");var h="pixel"===F?l[g]:.4;Axes$c.coercePosition(e,c,r,F,B,h)}r(d+"anchor"),r(d+"shift")}if(Lib$A.noneOrAll(t,e,["x","y"]),s&&Lib$A.noneOrAll(t,e,["ax","ay"]),a){var Q=r("xclick"),U=r("yclick");e._xclick=void 0===Q?e.x:Axes$c.cleanPosition(Q,c,e.xref),e._yclick=void 0===U?e.y:Axes$c.cleanPosition(U,c,e.yref)}}}var Lib$z=libExports,Axes$b=axesExports,draw$7=draw_1$1.draw,calc_autorange$2=function(t){var e=t._fullLayout;if(Lib$z.filterVisible(e.annotations).length&&t._fullData.length)return Lib$z.syncOrAsync([draw$7,annAutorange],t)};function annAutorange(t){var e=t._fullLayout;Lib$z.filterVisible(e.annotations).forEach(function(e){var i=Axes$b.getFromId(t,e.xref),r=Axes$b.getFromId(t,e.yref),n=Axes$b.getRefType(e.xref),a=Axes$b.getRefType(e.yref);e._extremes={},"range"===n&&calcAxisExpansion(e,i),"range"===a&&calcAxisExpansion(e,r)})}function calcAxisExpansion(t,e){var i,r=e._id,n=r.charAt(0),a=t[n],s=t["a"+n],o=t[n+"ref"],l=t["a"+n+"ref"],c=t["_"+n+"padplus"],g=t["_"+n+"padminus"],d={x:1,y:-1}[n]*t[n+"shift"],u=3*t.arrowsize*t.arrowwidth||0,B=u+d,F=u-d,h=3*t.startarrowsize*t.arrowwidth||0,Q=h+d,U=h-d;if(l===o){var I=Axes$b.findExtremes(e,[e.r2c(a)],{ppadplus:B,ppadminus:F}),b=Axes$b.findExtremes(e,[e.r2c(s)],{ppadplus:Math.max(c,Q),ppadminus:Math.max(g,U)});i={min:[I.min[0],b.min[0]],max:[I.max[0],b.max[0]]}}else Q=s?Q+s:Q,U=s?U-s:U,i=Axes$b.findExtremes(e,[e.r2c(a)],{ppadplus:Math.max(c,B,Q),ppadminus:Math.max(g,F,U)});t._extremes[r]=i}var isNumeric$8=fastIsnumeric,toLogRange$1=to_log_range,convert_coords$1=function(t,e,i,r){e=e||{};var n="log"===i&&"linear"===e.type,a="linear"===i&&"log"===e.type;if(n||a)for(var s,o,l=t._fullLayout.annotations,c=e._id.charAt(0),g=0;g<l.length;g++)s=l[g],o="annotations["+g+"].",s[c+"ref"]===e._id&&d(c),s["a"+c+"ref"]===e._id&&d("a"+c);function d(t){var i=s[t],a=null;a=n?toLogRange$1(i,e.range):Math.pow(10,i),isNumeric$8(a)||(a=null),r(o+t,a)}},drawModule$1=draw_1$1,clickModule=click,annotations={moduleType:"component",name:"annotations",layoutAttributes:attributes$y,supplyLayoutDefaults:defaults$m,includeBasePlot:include_components("annotations"),calcAutorange:calc_autorange$2,draw:drawModule$1.draw,drawOne:drawModule$1.drawOne,drawRaw:drawModule$1.drawRaw,hasClickToShow:clickModule.hasClickToShow,onClick:clickModule.onClick,convertCoords:convert_coords$1},annAttrs$1=attributes$y,overrideAll$7=edit_types.overrideAll,templatedArray$5=plot_template.templatedArray,attributes$q=overrideAll$7(templatedArray$5("annotation",{visible:annAttrs$1.visible,x:{valType:"any",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:annAttrs$1.xanchor,xshift:annAttrs$1.xshift,yanchor:annAttrs$1.yanchor,yshift:annAttrs$1.yshift,text:annAttrs$1.text,textangle:annAttrs$1.textangle,font:annAttrs$1.font,width:annAttrs$1.width,height:annAttrs$1.height,opacity:annAttrs$1.opacity,align:annAttrs$1.align,valign:annAttrs$1.valign,bgcolor:annAttrs$1.bgcolor,bordercolor:annAttrs$1.bordercolor,borderpad:annAttrs$1.borderpad,borderwidth:annAttrs$1.borderwidth,showarrow:annAttrs$1.showarrow,arrowcolor:annAttrs$1.arrowcolor,arrowhead:annAttrs$1.arrowhead,startarrowhead:annAttrs$1.startarrowhead,arrowside:annAttrs$1.arrowside,arrowsize:annAttrs$1.arrowsize,startarrowsize:annAttrs$1.startarrowsize,arrowwidth:annAttrs$1.arrowwidth,standoff:annAttrs$1.standoff,startstandoff:annAttrs$1.startstandoff,hovertext:annAttrs$1.hovertext,hoverlabel:annAttrs$1.hoverlabel,captureevents:annAttrs$1.captureevents}),"calc","from-root"),Lib$y=libExports,Axes$a=axesExports,handleArrayContainerDefaults$5=array_container_defaults,handleAnnotationCommonDefaults=common_defaults,attributes$p=attributes$q,defaults$l=function(t,e,i){handleArrayContainerDefaults$5(t,e,{name:"annotations",handleItemDefaults:handleAnnotationDefaults,fullLayout:i.fullLayout})};function handleAnnotationDefaults(t,e,i,r){function n(i,r){return Lib$y.coerce(t,e,attributes$p,i,r)}function a(t){var r=t+"axis",a={_fullLayout:{}};return a._fullLayout[r]=i[r],Axes$a.coercePosition(e,a,n,t,t,.5)}n("visible")&&(handleAnnotationCommonDefaults(t,e,r.fullLayout,n),a("x"),a("y"),a("z"),Lib$y.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",n("ax",-10),n("ay",-30),Lib$y.noneOrAll(t,e,["ax","ay"])))}var Lib$x=libExports,Axes$9=axesExports,convert$3=function(t){for(var e=t.fullSceneLayout.annotations,i=0;i<e.length;i++)mockAnnAxes(e[i],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()};function mockAnnAxes(t,e){var i=e.fullSceneLayout.domain,r=e.fullLayout._size,n={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},Lib$x.extendFlat(t._xa,n),Axes$9.setConvert(t._xa),t._xa._offset=r.l+i.x[0]*r.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*r.w*(i.x[1]-i.x[0])},t._ya={},Lib$x.extendFlat(t._ya,n),Axes$9.setConvert(t._ya),t._ya._offset=r.t+(1-i.y[1])*r.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*r.h*(i.y[1]-i.y[0])}}function xformMatrix(t,e){var i,r,n=[0,0,0,0];for(i=0;i<4;++i)for(r=0;r<4;++r)n[r]+=t[4*i+r]*e[i];return n}function project$3(t,e){return xformMatrix(t.projection,xformMatrix(t.view,xformMatrix(t.model,[e[0],e[1],e[2],1])))}var project_1=project$3,drawRaw=draw_1$1.drawRaw,project$2=project_1,axLetters=["x","y","z"],draw$6=function(t){for(var e=t.fullSceneLayout,i=t.dataScale,r=e.annotations,n=0;n<r.length;n++){for(var a=r[n],s=!1,o=0;o<3;o++){var l=axLetters[o],c=a[l],g=e[l+"axis"].r2fraction(c);if(g<0||g>1){s=!0;break}}s?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+n+'"]').remove():(a._pdata=project$2(t.glplot.cameraParams,[e.xaxis.r2l(a.x)*i[0],e.yaxis.r2l(a.y)*i[1],e.zaxis.r2l(a.z)*i[2]]),drawRaw(t.graphDiv,a,n,t.id,a._xa,a._ya))}},Registry$e=registry$1,Lib$w=libExports,annotations3d={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:attributes$q}}},layoutAttributes:attributes$q,handleDefaults:defaults$l,includeBasePlot:includeGL3D,convert:convert$3,draw:draw$6};function includeGL3D(t,e){var i=Registry$e.subplotsRegistry.gl3d;if(i)for(var r=i.attrRegex,n=Object.keys(t),a=0;a<n.length;a++){var s=n[a];r.test(s)&&(t[s].annotations||[]).length&&(Lib$w.pushUnique(e._basePlotModules,i),Lib$w.pushUnique(e._subplots.gl3d,s))}}var annAttrs=attributes$y,fontAttrs$6=requireFont_attributes(),scatterLineAttrs$1=attributes$x.line,dash=attributes$J.dash,extendFlat$a=extend.extendFlat,templatedArray$4=plot_template.templatedArray,axisPlaceableObjs$1=axis_placeable_objects,basePlotAttributes=attributes$L,shapeTexttemplateAttrs=template_attributes.shapeTexttemplateAttrs,shapeLabelTexttemplateVars=label_texttemplate,attributes$o=templatedArray$4("shape",{visible:extendFlat$a({},basePlotAttributes.visible,{editType:"calc+arraydraw",description:["Determines whether or not this shape is visible.","If *legendonly*, the shape is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether or not this","shape is shown in the legend."].join(" ")},legend:extendFlat$a({},basePlotAttributes.legend,{editType:"calc+arraydraw",description:["Sets the reference to a legend to show this shape in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")}),legendgroup:extendFlat$a({},basePlotAttributes.legendgroup,{editType:"calc+arraydraw",description:["Sets the legend group for this shape.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")}),legendgrouptitle:{text:extendFlat$a({},basePlotAttributes.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:fontAttrs$6({editType:"calc+arraydraw",description:["Sets this legend group's title font."].join(" ")}),editType:"calc+arraydraw"},legendrank:extendFlat$a({},basePlotAttributes.legendrank,{editType:"calc+arraydraw",description:["Sets the legend rank for this shape.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items.","When having unranked or equal rank items shapes would be displayed after traces","i.e. according to their order in data and layout."].join(" ")}),legendwidth:extendFlat$a({},basePlotAttributes.legendwidth,{editType:"calc+arraydraw",description:"Sets the width (in px or fraction) of the legend for this shape."}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw",description:["Specifies whether shapes are drawn below gridlines (*below*),","between gridlines and traces (*between*) or above traces (*above*)."].join(" ")},xref:extendFlat$a({},annAttrs.xref,{description:["Sets the shape's x coordinate axis.",axisPlaceableObjs$1.axisRefDescription("x","left","right")].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `x0` away from the center of the category when `xref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `x1` away from the center of the category when `xref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},yref:extendFlat$a({},annAttrs.yref,{description:["Sets the shape's y coordinate axis.",axisPlaceableObjs$1.axisRefDescription("y","bottom","top")].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `y0` away from the center of the category when `yref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `y1` away from the center of the category when `yref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},path:{valType:"string",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:extendFlat$a({},scatterLineAttrs$1.color,{editType:"arraydraw"}),width:extendFlat$a({},scatterLineAttrs$1.width,{editType:"calc+arraydraw"}),dash:extendFlat$a({},dash,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color filling the shape's interior. Only applies to closed shapes."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw",description:["Determines which regions of complex paths constitute the interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether the shape could be activated for edit or not.","Has no effect when the older editable shapes mode is enabled via","`config.editable` or `config.edits.shapePosition`."].join(" ")},label:{text:{valType:"string",dflt:"",editType:"arraydraw",description:["Sets the text to display with shape.","It is also used for legend item if `name` is not provided."].join(" ")},texttemplate:shapeTexttemplateAttrs({},{keys:Object.keys(shapeLabelTexttemplateVars)}),font:fontAttrs$6({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the shape label text font."}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw",description:["Sets the position of the label text relative to the shape.","Supported values for rectangles, circles and paths are","*top left*, *top center*, *top right*, *middle left*,","*middle center*, *middle right*, *bottom left*, *bottom center*,","and *bottom right*.","Supported values for lines are *start*, *middle*, and *end*.","Default: *middle center* for rectangles, circles, and paths; *middle* for lines."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw",description:["Sets the angle at which the label text is drawn","with respect to the horizontal. For lines, angle *auto*","is the same angle as the line. For all other shapes,","angle *auto* is horizontal."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the label's horizontal position anchor","This anchor binds the specified `textposition` to the *left*, *center*","or *right* of the label text.","For example, if `textposition` is set to *top right* and","`xanchor` to *right* then the right-most portion of the","label text lines up with the right-most edge of the","shape."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw",description:["Sets the label's vertical position anchor","This anchor binds the specified `textposition` to the *top*, *middle*","or *bottom* of the label text.","For example, if `textposition` is set to *top right* and","`yanchor` to *top* then the top-most portion of the","label text lines up with the top-most edge of the","shape."].join(" ")},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw",description:"Sets padding (in px) between edge of label and edge of shape."},editType:"arraydraw"},editType:"arraydraw"}),Lib$v=libExports,Axes$8=axesExports,handleArrayContainerDefaults$4=array_container_defaults,attributes$n=attributes$o,helpers$8=helpers$l,defaults$k=function(t,e){handleArrayContainerDefaults$4(t,e,{name:"shapes",handleItemDefaults:handleShapeDefaults})};function dfltLabelYanchor$1(t,e){return t?"bottom":-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle"}function handleShapeDefaults(t,e,i){function r(i,r){return Lib$v.coerce(t,e,attributes$n,i,r)}if(e._isShape=!0,r("visible")){r("showlegend")&&(r("legend"),r("legendwidth"),r("legendgroup"),r("legendgrouptitle.text"),Lib$v.coerceFont(r,"legendgrouptitle.font"),r("legendrank"));var n=r("path"),a=r("type",n?"path":"rect"),s="path"!==a;s&&delete e.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var o=r("xsizemode"),l=r("ysizemode"),c=["x","y"],g=0;g<2;g++){var d,u,B,F=c[g],h=F+"anchor",Q="x"===F?o:l,U={_fullLayout:i},I=Axes$8.coerceRef(t,e,U,F,void 0,"paper");if("range"===Axes$8.getRefType(I)?((d=Axes$8.getFromId(U,I))._shapeIndices.push(e._index),B=helpers$8.rangeToShapePosition(d),u=helpers$8.shapePositionToRange(d),"category"!==d.type&&"multicategory"!==d.type||(r(F+"0shift"),r(F+"1shift"))):u=B=Lib$v.identity,s){var b=F+"0",p=F+"1",y=t[b],m=t[p];t[b]=u(t[b],!0),t[p]=u(t[p],!0),"pixel"===Q?(r(b,0),r(p,10)):(Axes$8.coercePosition(e,U,r,I,b,.25),Axes$8.coercePosition(e,U,r,I,p,.75)),e[b]=B(e[b]),e[p]=B(e[p]),t[b]=y,t[p]=m}if("pixel"===Q){var C=t[h];t[h]=u(t[h],!0),Axes$8.coercePosition(e,U,r,I,h,.25),e[h]=B(e[h]),t[h]=C}}s&&Lib$v.noneOrAll(t,e,["x0","x1","y0","y1"]);var f,x,A="line"===a;if(s&&(f=r("label.texttemplate")),f||(x=r("label.text")),x||f){r("label.textangle");var v=r("label.textposition",A?"middle":"middle center");r("label.xanchor"),r("label.yanchor",dfltLabelYanchor$1(A,v)),r("label.padding"),Lib$v.coerceFont(r,"label.font",i.font)}}}var Color$c=colorExports,Lib$u=libExports;function dfltLabelYanchor(t,e){return t?"bottom":-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle"}var defaults$j=function(t,e,i){if(i("newshape.visible"),i("newshape.name"),i("newshape.showlegend"),i("newshape.legend"),i("newshape.legendwidth"),i("newshape.legendgroup"),i("newshape.legendgrouptitle.text"),Lib$u.coerceFont(i,"newshape.legendgrouptitle.font"),i("newshape.legendrank"),i("newshape.drawdirection"),i("newshape.layer"),i("newshape.fillcolor"),i("newshape.fillrule"),i("newshape.opacity"),i("newshape.line.width")){var r=(t||{}).plot_bgcolor||"#FFF";i("newshape.line.color",Color$c.contrast(r)),i("newshape.line.dash")}var n="drawline"===t.dragmode,a=i("newshape.label.text"),s=i("newshape.label.texttemplate");if(a||s){i("newshape.label.textangle");var o=i("newshape.label.textposition",n?"middle":"middle center");i("newshape.label.xanchor"),i("newshape.label.yanchor",dfltLabelYanchor(n,o)),i("newshape.label.padding"),Lib$u.coerceFont(i,"newshape.label.font",e.font)}i("activeshape.fillcolor"),i("activeshape.opacity")},Lib$t=libExports,Axes$7=axesExports,constants$k=constants$y,helpers$7=helpers$l,calc_autorange$1=function(t){var e=t._fullLayout,i=Lib$t.filterVisible(e.shapes);if(i.length&&t._fullData.length)for(var r=0;r<i.length;r++){var n,a,s=i[r];s._extremes={};var o=Axes$7.getRefType(s.xref),l=Axes$7.getRefType(s.yref);"paper"!==s.xref&&"domain"!==o&&(a=shapeBounds(n=Axes$7.getFromId(t,s.xref),s,constants$k.paramIsX))&&(s._extremes[n._id]=Axes$7.findExtremes(n,a,calcXPaddingOptions(s))),"paper"!==s.yref&&"domain"!==l&&(a=shapeBounds(n=Axes$7.getFromId(t,s.yref),s,constants$k.paramIsY))&&(s._extremes[n._id]=Axes$7.findExtremes(n,a,calcYPaddingOptions(s)))}};function calcXPaddingOptions(t){return calcPaddingOptions(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function calcYPaddingOptions(t){return calcPaddingOptions(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function calcPaddingOptions(t,e,i,r,n,a){var s=t/2,o=a;if("pixel"===e){var l=n?helpers$7.extractPathCoords(n,a?constants$k.paramIsY:constants$k.paramIsX):[i,r],c=Lib$t.aggNums(Math.max,null,l),g=Lib$t.aggNums(Math.min,null,l),d=g<0?Math.abs(g)+s:s,u=c>0?c+s:s;return{ppad:s,ppadplus:o?d:u,ppadminus:o?u:d}}return{ppad:s}}function shapeBounds(t,e,i){var r,n,a="x"===t._id.charAt(0)?"x":"y",s="category"===t.type||"multicategory"===t.type,o=0,l=0,c=s?t.r2c:t.d2c;if("scaled"===e[a+"sizemode"]?(r=e[a+"0"],n=e[a+"1"],s&&(o=e[a+"0shift"],l=e[a+"1shift"])):(r=e[a+"anchor"],n=e[a+"anchor"]),void 0!==r)return[c(r)+o,c(n)+l];if(e.path){var g,d,u,B,F=1/0,h=-1/0,Q=e.path.match(constants$k.segmentRE);for("date"===t.type&&(c=helpers$7.decodeDate(c)),g=0;g<Q.length;g++)void 0!==(d=i[Q[g].charAt(0)].drawn)&&(!(u=Q[g].substr(1).match(constants$k.paramRE))||u.length<d||((B=c(u[d]))<F&&(F=B),B>h&&(h=B)));return h>=F?[F,h]:void 0}}var drawModule=draw_1$3,shapes$1={moduleType:"component",name:"shapes",layoutAttributes:attributes$o,supplyLayoutDefaults:defaults$k,supplyDrawNewShapeDefaults:defaults$j,includeBasePlot:include_components("shapes"),calcAutorange:calc_autorange$1,draw:drawModule.draw,drawOne:drawModule.drawOne},cartesianConstants=constants$K,templatedArray$3=plot_template.templatedArray,axisPlaceableObjs=axis_placeable_objects,attributes$m=templatedArray$3("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width.","When `xref` ends with ` domain`, units are sized relative","to the axis width."].join(" ")},sizey:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height.","When `yref` ends with ` domain`, units are sized relative","to the axis height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",cartesianConstants.idRegex.x.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's x coordinate axis.",axisPlaceableObjs.axisRefDescription("x","left","right")].join(" ")},yref:{valType:"enumerated",values:["paper",cartesianConstants.idRegex.y.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's y coordinate axis.",axisPlaceableObjs.axisRefDescription("y","bottom","top")].join(" ")},editType:"arraydraw"}),Lib$s=libExports,Axes$6=axesExports,handleArrayContainerDefaults$3=array_container_defaults,attributes$l=attributes$m,name$4="images",defaults$i=function(t,e){handleArrayContainerDefaults$3(t,e,{name:name$4,handleItemDefaults:imageDefaults})};function imageDefaults(t,e,i){function r(i,r){return Lib$s.coerce(t,e,attributes$l,i,r)}var n=r("source");if(!r("visible",!!n))return e;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var a={_fullLayout:i},s=["x","y"],o=0;o<2;o++){var l=s[o],c=Axes$6.coerceRef(t,e,a,l,"paper",void 0);if("paper"!==c)Axes$6.getFromId(a,c)._imgIndices.push(e._index);Axes$6.coercePosition(e,a,r,c,l,0)}return e}var d3$8=d3Exports,Drawing$7=drawingExports,Axes$5=axesExports,axisIds$2=axis_ids$1,xmlnsNamespaces$1=xmlns_namespaces,draw$5=function(t){var e,i,r=t._fullLayout,n=[],a={},s=[];for(i=0;i<r.images.length;i++){var o=r.images[i];if(o.visible)if("below"===o.layer&&"paper"!==o.xref&&"paper"!==o.yref){e=axisIds$2.ref2id(o.xref)+axisIds$2.ref2id(o.yref);var l=r._plots[e];if(!l){s.push(o);continue}l.mainplot&&(e=l.mainplot.id),a[e]||(a[e]=[]),a[e].push(o)}else"above"===o.layer?n.push(o):s.push(o)}var c={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},g={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function d(e){var i=d3$8.select(this);if(this._imgSrc!==e.source)if(i.attr("xmlns",xmlnsNamespaces$1.svg),!t._context.staticPlot||e.source&&"data:"===e.source.slice(0,5))i.attr("xlink:href",e.source),this._imgSrc=e.source;else{var r=new Promise(function(t){var r=new Image;function n(){i.remove(),t()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=n,r.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var r=e.toDataURL("image/png");i.attr("xlink:href",r),t()},i.on("error",n),r.src=e.source,this._imgSrc=e.source}.bind(this));t._promises.push(r)}}function u(e){var i,n,a=d3$8.select(this),s=Axes$5.getFromId(t,e.xref),o=Axes$5.getFromId(t,e.yref),l="domain"===Axes$5.getRefType(e.xref),d="domain"===Axes$5.getRefType(e.yref),u=r._size;i=void 0!==s?"string"==typeof e.xref&&l?s._length*e.sizex:Math.abs(s.l2p(e.sizex)-s.l2p(0)):e.sizex*u.w,n=void 0!==o?"string"==typeof e.yref&&d?o._length*e.sizey:Math.abs(o.l2p(e.sizey)-o.l2p(0)):e.sizey*u.h;var B,F,h=i*c[e.xanchor].offset,Q=n*g[e.yanchor].offset,U=c[e.xanchor].sizing+g[e.yanchor].sizing;switch(B=void 0!==s?"string"==typeof e.xref&&l?s._length*e.x+s._offset:s.r2p(e.x)+s._offset:e.x*u.w+u.l,B+=h,F=void 0!==o?"string"==typeof e.yref&&d?o._length*(1-e.y)+o._offset:o.r2p(e.y)+o._offset:u.h-e.y*u.h+u.t,F+=Q,e.sizing){case"fill":U+=" slice";break;case"stretch":U="none"}a.attr({x:B,y:F,width:i,height:n,preserveAspectRatio:U,opacity:e.opacity});var I=(s&&"domain"!==Axes$5.getRefType(e.xref)?s._id:"")+(o&&"domain"!==Axes$5.getRefType(e.yref)?o._id:"");Drawing$7.setClipUrl(a,I?"clip"+r._uid+I:null,t)}function B(t){return[t.xref,t.x,t.sizex,t.yref,t.y,t.sizey].join("_")}function F(t,e){return t._index-e._index}var h=r._imageLowerLayer.selectAll("image").data(s,B),Q=r._imageUpperLayer.selectAll("image").data(n,B);h.enter().append("image"),Q.enter().append("image"),h.exit().remove(),Q.exit().remove(),h.each(function(t){d.bind(this)(t),u.bind(this)(t)}),Q.each(function(t){d.bind(this)(t),u.bind(this)(t)}),h.sort(F),Q.sort(F);var U=Object.keys(r._plots);for(i=0;i<U.length;i++){e=U[i];var I=r._plots[e];if(I.imagelayer){var b=I.imagelayer.selectAll("image").data(a[e]||[],B);b.enter().append("image"),b.exit().remove(),b.each(function(t){d.bind(this)(t),u.bind(this)(t)}),b.sort(F)}}},isNumeric$7=fastIsnumeric,toLogRange=to_log_range,convert_coords=function(t,e,i,r){e=e||{};var n="log"===i&&"linear"===e.type,a="linear"===i&&"log"===e.type;if(n||a)for(var s,o,l=t._fullLayout.images,c=e._id.charAt(0),g=0;g<l.length;g++)if(o="images["+g+"].",(s=l[g])[c+"ref"]===e._id){var d=s[c],u=s["size"+c],B=null,F=null;if(n){B=toLogRange(d,e.range);var h=u/Math.pow(10,B)/2;F=2*Math.log(h+Math.sqrt(1+h*h))/Math.LN10}else F=(B=Math.pow(10,d))*(Math.pow(10,u/2)-Math.pow(10,-u/2));isNumeric$7(B)?isNumeric$7(F)||(F=null):(B=null,F=null),r(o+c,B),r(o+"size"+c,F)}},images={moduleType:"component",name:"images",layoutAttributes:attributes$m,supplyLayoutDefaults:defaults$i,includeBasePlot:include_components("images"),draw:draw$5,convertCoords:convert_coords},constants$j={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"â",right:"âº",up:"â²",down:"â¼"}},fontAttrs$5=requireFont_attributes(),colorAttrs$1=attributes$K,extendFlat$9=extend.extendFlat,overrideAll$6=edit_types.overrideAll,padAttrs$1=pad_attributes,templatedArray$2=plot_template.templatedArray,buttonsAttrs=templatedArray$2("button",{visible:{valType:"boolean",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets a 2nd set of `args`,","these arguments values are passed to the Plotly","method set in `method` when clicking this button while in the active state.","Use this to create toggle buttons."].join(" ")},label:{valType:"string",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}}),attributes$k=overrideAll$6(templatedArray$2("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:buttonsAttrs,x:{valType:"number",min:-2,max:3,dflt:-.05,description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:extendFlat$9(padAttrs$1({editType:"arraydraw"}),{description:"Sets the padding around the buttons or dropdown menu."}),font:fontAttrs$5({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:colorAttrs$1.borderLine,description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root"),Lib$r=libExports,handleArrayContainerDefaults$2=array_container_defaults,attributes$j=attributes$k,constants$i=constants$j,name$3=constants$i.name,buttonAttrs$1=attributes$j.buttons,defaults$h=function(t,e){handleArrayContainerDefaults$2(t,e,{name:name$3,handleItemDefaults:menuDefaults})};function menuDefaults(t,e,i){function r(i,r){return Lib$r.coerce(t,e,attributes$j,i,r)}r("visible",handleArrayContainerDefaults$2(t,e,{name:"buttons",handleItemDefaults:buttonDefaults$1}).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),Lib$r.noneOrAll(t,e,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),Lib$r.coerceFont(r,"font",i.font),r("bgcolor",i.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function buttonDefaults$1(t,e){function i(i,r){return Lib$r.coerce(t,e,buttonAttrs$1,i,r)}i("visible","skip"===t.method||Array.isArray(t.args))&&(i("method"),i("args"),i("args2"),i("label"),i("execute"))}var scrollbox=ScrollBox$1,d3$7=d3Exports,Color$b=colorExports,Drawing$6=drawingExports,Lib$q=libExports;function ScrollBox$1(t,e,i){this.gd=t,this.container=e,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}ScrollBox$1.barWidth=2,ScrollBox$1.barLength=20,ScrollBox$1.barRadius=2,ScrollBox$1.barPad=1,ScrollBox$1.barColor="#808BA4",ScrollBox$1.prototype.enable=function(t,e,i){var r=this.gd._fullLayout,n=r.width,a=r.height;this.position=t;var s,o,l,c,g=this.position.l,d=this.position.w,u=this.position.t,B=this.position.h,F=this.position.direction,h="down"===F,Q="left"===F,U="up"===F,I=d,b=B;h||Q||"right"===F||U||(this.position.direction="down",h=!0),h||U?(o=(s=g)+I,h?(l=u,b=(c=Math.min(l+b,a))-l):b=(c=u+b)-(l=Math.max(c-b,0))):(c=(l=u)+b,Q?I=(o=g+I)-(s=Math.max(o-I,0)):(s=g,I=(o=Math.min(s+I,n))-s)),this._box={l:s,t:l,w:I,h:b};var p=d>I,y=ScrollBox$1.barLength+2*ScrollBox$1.barPad,m=ScrollBox$1.barWidth+2*ScrollBox$1.barPad,C=g,f=u+B;f+m>a&&(f=a-m);var x=this.container.selectAll("rect.scrollbar-horizontal").data(p?[0]:[]);x.exit().on(".drag",null).remove(),x.enter().append("rect").classed("scrollbar-horizontal",!0).call(Color$b.fill,ScrollBox$1.barColor),p?(this.hbar=x.attr({rx:ScrollBox$1.barRadius,ry:ScrollBox$1.barRadius,x:C,y:f,width:y,height:m}),this._hbarXMin=C+y/2,this._hbarTranslateMax=I-y):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var A=B>b,v=ScrollBox$1.barWidth+2*ScrollBox$1.barPad,L=ScrollBox$1.barLength+2*ScrollBox$1.barPad,R=g+d,S=u;R+v>n&&(R=n-v);var G=this.container.selectAll("rect.scrollbar-vertical").data(A?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-vertical",!0).call(Color$b.fill,ScrollBox$1.barColor),A?(this.vbar=G.attr({rx:ScrollBox$1.barRadius,ry:ScrollBox$1.barRadius,x:R,y:S,width:v,height:L}),this._vbarYMin=S+L/2,this._vbarTranslateMax=b-L):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var E=this.id,V=s-.5,Z=A?o+v+.5:o+.5,N=l-.5,D=p?c+m+.5:c+.5,w=r._topdefs.selectAll("#"+E).data(p||A?[0]:[]);if(w.exit().remove(),w.enter().append("clipPath").attr("id",E).append("rect"),p||A?(this._clipRect=w.select("rect").attr({x:Math.floor(V),y:Math.floor(N),width:Math.ceil(Z)-Math.floor(V),height:Math.ceil(D)-Math.floor(N)}),this.container.call(Drawing$6.setClipUrl,E,this.gd),this.bg.attr({x:g,y:u,width:d,height:B})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Drawing$6.setClipUrl,null),delete this._clipRect),p||A){var X=d3$7.behavior.drag().on("dragstart",function(){d3$7.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(X);var W=d3$7.behavior.drag().on("dragstart",function(){d3$7.event.sourceEvent.preventDefault(),d3$7.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));p&&this.hbar.on(".drag",null).call(W),A&&this.vbar.on(".drag",null).call(W)}this.setTranslate(e,i)},ScrollBox$1.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Drawing$6.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},ScrollBox$1.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=d3$7.event.dx),this.vbar&&(e-=d3$7.event.dy),this.setTranslate(t,e)},ScrollBox$1.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=d3$7.event.deltaY),this.vbar&&(e+=d3$7.event.deltaY),this.setTranslate(t,e)},ScrollBox$1.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var i=t+this._hbarXMin,r=i+this._hbarTranslateMax;t=(Lib$q.constrain(d3$7.event.x,i,r)-i)/(r-i)*(this.position.w-this._box.w)}if(this.vbar){var n=e+this._vbarYMin,a=n+this._vbarTranslateMax;e=(Lib$q.constrain(d3$7.event.y,n,a)-n)/(a-n)*(this.position.h-this._box.h)}this.setTranslate(t,e)},ScrollBox$1.prototype.setTranslate=function(t,e){var i=this.position.w-this._box.w,r=this.position.h-this._box.h;if(t=Lib$q.constrain(t||0,0,i),e=Lib$q.constrain(e||0,0,r),this.translateX=t,this.translateY=e,this.container.call(Drawing$6.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var n=t/i;this.hbar.call(Drawing$6.setTranslate,t+n*this._hbarTranslateMax,e)}if(this.vbar){var a=e/r;this.vbar.call(Drawing$6.setTranslate,t,e+a*this._vbarTranslateMax)}};var d3$6=d3Exports,Plots$3=plotsExports,Color$a=colorExports,Drawing$5=drawingExports,Lib$p=libExports,svgTextUtils$5=svg_text_utils,arrayEditor$1=plot_template.arrayEditor,LINE_SPACING$4=alignment$1.LINE_SPACING,constants$h=constants$j,ScrollBox=scrollbox,draw$4=function(t){var e=t._fullLayout,i=Lib$p.filterVisible(e[constants$h.name]);function r(e){Plots$3.autoMargin(t,autoMarginId$1(e))}var n=e._menulayer.selectAll("g."+constants$h.containerClassName).data(i.length>0?[0]:[]);if(n.enter().append("g").classed(constants$h.containerClassName,!0).style("cursor","pointer"),n.exit().each(function(){d3$6.select(this).selectAll("g."+constants$h.headerGroupClassName).each(r)}).remove(),0!==i.length){var a=n.selectAll("g."+constants$h.headerGroupClassName).data(i,keyFunction$1);a.enter().append("g").classed(constants$h.headerGroupClassName,!0);for(var s=Lib$p.ensureSingle(n,"g",constants$h.dropdownButtonGroupClassName,function(t){t.style("pointer-events","all")}),o=0;o<i.length;o++){var l=i[o];findDimensions$1(t,l)}var c="updatemenus"+e._uid,g=new ScrollBox(t,s,c);a.enter().size()&&(s.node().parentNode.appendChild(s.node()),s.call(removeAllButtons)),a.exit().each(function(t){s.call(removeAllButtons),r(t)}).remove(),a.each(function(e){var i=d3$6.select(this),r="dropdown"===e.type?s:null;Plots$3.manageCommandObserver(t,e,e.buttons,function(n){setActive$1(t,e,e.buttons[n.index],i,r,g,n.index,!0)}),"dropdown"===e.type?(drawHeader(t,i,s,g,e),isActive$1(s,e)&&drawButtons(t,i,s,g,e)):drawButtons(t,i,null,null,e)})}};function keyFunction$1(t){return t._index}function isFolded(t){return-1===+t.attr(constants$h.menuIndexAttrName)}function isActive$1(t,e){return+t.attr(constants$h.menuIndexAttrName)===e._index}function setActive$1(t,e,i,r,n,a,s,o){e.active=s,arrayEditor$1(t.layout,constants$h.name,e).applyUpdate("active",s),"buttons"===e.type?drawButtons(t,r,null,null,e):"dropdown"===e.type&&(n.attr(constants$h.menuIndexAttrName,"-1"),drawHeader(t,r,n,a,e),o||drawButtons(t,r,n,a,e))}function drawHeader(t,e,i,r,n){var a=Lib$p.ensureSingle(e,"g",constants$h.headerClassName,function(t){t.style("pointer-events","all")}),s=n._dims,o=n.active,l=n.buttons[o]||constants$h.blankHeaderOpts,c={y:n.pad.t,yPad:0,x:n.pad.l,xPad:0,index:0},g={width:s.headerWidth,height:s.headerHeight};a.call(drawItem,n,l,t).call(setItemPosition,n,c,g);var d=Lib$p.ensureSingle(e,"text",constants$h.headerArrowClassName,function(t){t.attr("text-anchor","end").call(Drawing$5.font,n.font).text(constants$h.arrowSymbol[n.direction])});d.attr({x:s.headerWidth-constants$h.arrowOffsetX+n.pad.l,y:s.headerHeight/2+constants$h.textOffsetY+n.pad.t}),a.on("click",function(){i.call(removeAllButtons,String(isActive$1(i,n)?-1:n._index)),drawButtons(t,e,i,r,n)}),a.on("mouseover",function(){a.call(styleOnMouseOver)}),a.on("mouseout",function(){a.call(styleOnMouseOut,n)}),Drawing$5.setTranslate(e,s.lx,s.ly)}function drawButtons(t,e,i,r,n){i||(i=e).attr("pointer-events","all");var a=isFolded(i)&&"buttons"!==n.type?[]:n.buttons,s="dropdown"===n.type?constants$h.dropdownButtonClassName:constants$h.buttonClassName,o=i.selectAll("g."+s).data(Lib$p.filterVisible(a)),l=o.enter().append("g").classed(s,!0),c=o.exit();"dropdown"===n.type?(l.attr("opacity","0").transition().attr("opacity","1"),c.transition().attr("opacity","0").remove()):c.remove();var g=0,d=0,u=n._dims,B=-1!==["up","down"].indexOf(n.direction);"dropdown"===n.type&&(B?d=u.headerHeight+constants$h.gapButtonHeader:g=u.headerWidth+constants$h.gapButtonHeader),"dropdown"===n.type&&"up"===n.direction&&(d=-constants$h.gapButtonHeader+constants$h.gapButton-u.openHeight),"dropdown"===n.type&&"left"===n.direction&&(g=-constants$h.gapButtonHeader+constants$h.gapButton-u.openWidth);var F={x:u.lx+g+n.pad.l,y:u.ly+d+n.pad.t,yPad:constants$h.gapButton,xPad:constants$h.gapButton,index:0},h={l:F.x+n.borderwidth,t:F.y+n.borderwidth};o.each(function(a,s){var l=d3$6.select(this);l.call(drawItem,n,a,t).call(setItemPosition,n,F),l.on("click",function(){d3$6.event.defaultPrevented||(a.execute&&(a.args2&&n.active===s?(setActive$1(t,n,a,e,i,r,-1),Plots$3.executeAPICommand(t,a.method,a.args2)):(setActive$1(t,n,a,e,i,r,s),Plots$3.executeAPICommand(t,a.method,a.args))),t.emit("plotly_buttonclicked",{menu:n,button:a,active:n.active}))}),l.on("mouseover",function(){l.call(styleOnMouseOver)}),l.on("mouseout",function(){l.call(styleOnMouseOut,n),o.call(styleButtons,n)})}),o.call(styleButtons,n),B?(h.w=Math.max(u.openWidth,u.headerWidth),h.h=F.y-h.t):(h.w=F.x-h.l,h.h=Math.max(u.openHeight,u.headerHeight)),h.direction=n.direction,r&&(o.size()?drawScrollBox(t,e,i,r,n,h):hideScrollBox(r))}function drawScrollBox(t,e,i,r,n,a){var s,o,l,c=n.direction,g="up"===c||"down"===c,d=n._dims,u=n.active;if(g)for(o=0,l=0;l<u;l++)o+=d.heights[l]+constants$h.gapButton;else for(s=0,l=0;l<u;l++)s+=d.widths[l]+constants$h.gapButton;r.enable(a,s,o),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function hideScrollBox(t){var e=!!t.hbar,i=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",function(){e=!1,i||t.disable()}),i&&t.vbar.transition().attr("opacity","0").each("end",function(){i=!1,e||t.disable()})}function drawItem(t,e,i,r){t.call(drawItemRect,e).call(drawItemText,e,i,r)}function drawItemRect(t,e){var i=Lib$p.ensureSingle(t,"rect",constants$h.itemRectClassName,function(t){t.attr({rx:constants$h.rx,ry:constants$h.ry,"shape-rendering":"crispEdges"})});i.call(Color$a.stroke,e.bordercolor).call(Color$a.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function drawItemText(t,e,i,r){var n=Lib$p.ensureSingle(t,"text",constants$h.itemTextClassName,function(t){t.attr({"text-anchor":"start","data-notex":1})}),a=i.label,s=r._fullLayout._meta;s&&(a=Lib$p.templateString(a,s)),n.call(Drawing$5.font,e.font).text(a).call(svgTextUtils$5.convertToTspans,r)}function styleButtons(t,e){var i=e.active;t.each(function(t,r){var n=d3$6.select(this);r===i&&e.showactive&&n.select("rect."+constants$h.itemRectClassName).call(Color$a.fill,constants$h.activeColor)})}function styleOnMouseOver(t){t.select("rect."+constants$h.itemRectClassName).call(Color$a.fill,constants$h.hoverColor)}function styleOnMouseOut(t,e){t.select("rect."+constants$h.itemRectClassName).call(Color$a.fill,e.bgcolor)}function findDimensions$1(t,e){var i=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},r=Drawing$5.tester.selectAll("g."+constants$h.dropdownButtonClassName).data(Lib$p.filterVisible(e.buttons));r.enter().append("g").classed(constants$h.dropdownButtonClassName,!0);var n=-1!==["up","down"].indexOf(e.direction);r.each(function(r,a){var s=d3$6.select(this);s.call(drawItem,e,r,t);var o=s.select("."+constants$h.itemTextClassName),l=o.node()&&Drawing$5.bBox(o.node()).width,c=Math.max(l+constants$h.textPadX,constants$h.minWidth),g=e.font.size*LINE_SPACING$4,d=svgTextUtils$5.lineCount(o),u=Math.max(g*d,constants$h.minHeight)+constants$h.textOffsetY;u=Math.ceil(u),c=Math.ceil(c),i.widths[a]=c,i.heights[a]=u,i.height1=Math.max(i.height1,u),i.width1=Math.max(i.width1,c),n?(i.totalWidth=Math.max(i.totalWidth,c),i.openWidth=i.totalWidth,i.totalHeight+=u+constants$h.gapButton,i.openHeight+=u+constants$h.gapButton):(i.totalWidth+=c+constants$h.gapButton,i.openWidth+=c+constants$h.gapButton,i.totalHeight=Math.max(i.totalHeight,u),i.openHeight=i.totalHeight)}),n?i.totalHeight-=constants$h.gapButton:i.totalWidth-=constants$h.gapButton,i.headerWidth=i.width1+constants$h.arrowPadX,i.headerHeight=i.height1,"dropdown"===e.type&&(n?(i.width1+=constants$h.arrowPadX,i.totalHeight=i.height1):i.totalWidth=i.width1,i.totalWidth+=constants$h.arrowPadX),r.remove();var a=i.totalWidth+e.pad.l+e.pad.r,s=i.totalHeight+e.pad.t+e.pad.b,o=t._fullLayout._size;i.lx=o.l+o.w*e.x,i.ly=o.t+o.h*(1-e.y);var l="left";Lib$p.isRightAnchor(e)&&(i.lx-=a,l="right"),Lib$p.isCenterAnchor(e)&&(i.lx-=a/2,l="center");var c="top";Lib$p.isBottomAnchor(e)&&(i.ly-=s,c="bottom"),Lib$p.isMiddleAnchor(e)&&(i.ly-=s/2,c="middle"),i.totalWidth=Math.ceil(i.totalWidth),i.totalHeight=Math.ceil(i.totalHeight),i.lx=Math.round(i.lx),i.ly=Math.round(i.ly),Plots$3.autoMargin(t,autoMarginId$1(e),{x:e.x,y:e.y,l:a*({right:1,center:.5}[l]||0),r:a*({left:1,center:.5}[l]||0),b:s*({top:1,middle:.5}[c]||0),t:s*({bottom:1,middle:.5}[c]||0)})}function autoMarginId$1(t){return constants$h.autoMarginIdRoot+t._index}function setItemPosition(t,e,i,r){r=r||{};var n=t.select("."+constants$h.itemRectClassName),a=t.select("."+constants$h.itemTextClassName),s=e.borderwidth,o=i.index,l=e._dims;Drawing$5.setTranslate(t,s+i.x,s+i.y);var c=-1!==["up","down"].indexOf(e.direction),g=r.height||(c?l.heights[o]:l.height1);n.attr({x:0,y:0,width:r.width||(c?l.width1:l.widths[o]),height:g});var d=e.font.size*LINE_SPACING$4,u=(svgTextUtils$5.lineCount(a)-1)*d/2;svgTextUtils$5.positionText(a,constants$h.textOffsetX,g/2-u+constants$h.textOffsetY),c?i.y+=l.heights[o]+i.yPad:i.x+=l.widths[o]+i.xPad,i.index++}function removeAllButtons(t,e){t.attr(constants$h.menuIndexAttrName,e||"-1").selectAll("g."+constants$h.dropdownButtonClassName).remove()}var constants$g=constants$j,updatemenus={moduleType:"component",name:constants$g.name,layoutAttributes:attributes$k,supplyLayoutDefaults:defaults$h,draw:draw$4},constants$f={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",autoMarginIdRoot:"slider-",railRadius:2,railWidth:5,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickLength:4,currentValueInset:0},fontAttrs$4=requireFont_attributes(),padAttrs=pad_attributes,extendDeepAll=extend.extendDeepAll,overrideAll$5=edit_types.overrideAll,animationAttrs=animation_attributes,templatedArray$1=plot_template.templatedArray,constants$e=constants$f,stepsAttrs=templatedArray$1("step",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",description:"Sets the text label to appear on the slider"},value:{valType:"string",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}}),attributes$i=overrideAll$5(templatedArray$1("slider",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:stepsAttrs,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the x position (in normalized coordinates) of the slider."},pad:extendDeepAll(padAttrs({editType:"arraydraw"}),{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:animationAttrs.transition.easing.values,dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:fontAttrs$4({description:"Sets the font of the current value label text."})},font:fontAttrs$4({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",dflt:constants$e.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",dflt:constants$e.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:constants$e.railBorderColor,description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:constants$e.railBorderWidth,description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:constants$e.tickLength,description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:constants$e.tickColor,description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:constants$e.minorTickLength,description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root"),Lib$o=libExports,handleArrayContainerDefaults$1=array_container_defaults,attributes$h=attributes$i,constants$d=constants$f,name$2=constants$d.name,stepAttrs=attributes$h.steps,defaults$g=function(t,e){handleArrayContainerDefaults$1(t,e,{name:name$2,handleItemDefaults:sliderDefaults})};function sliderDefaults(t,e,i){function r(i,r){return Lib$o.coerce(t,e,attributes$h,i,r)}for(var n=handleArrayContainerDefaults$1(t,e,{name:"steps",handleItemDefaults:stepDefaults}),a=0,s=0;s<n.length;s++)n[s].visible&&a++;if(a<2?e.visible=!1:r("visible")){e._stepCount=a;var o=e._visibleSteps=Lib$o.filterVisible(n);(n[r("active")]||{}).visible||(e.active=o[0]._index),r("x"),r("y"),Lib$o.noneOrAll(t,e,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),Lib$o.coerceFont(r,"font",i.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),Lib$o.coerceFont(r,"currentvalue.font",e.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function stepDefaults(t,e){function i(i,r){return Lib$o.coerce(t,e,stepAttrs,i,r)}if("skip"===t.method||Array.isArray(t.args)?i("visible"):e.visible=!1){i("method"),i("args");var r=i("label","step-"+e._index);i("value",r),i("execute")}}var d3$5=d3Exports,Plots$2=plotsExports,Color$9=colorExports,Drawing$4=drawingExports,Lib$n=libExports,strTranslate$2=Lib$n.strTranslate,svgTextUtils$4=svg_text_utils,arrayEditor=plot_template.arrayEditor,constants$c=constants$f,alignmentConstants$2=alignment$1,LINE_SPACING$3=alignmentConstants$2.LINE_SPACING,FROM_TL$2=alignmentConstants$2.FROM_TL,FROM_BR$2=alignmentConstants$2.FROM_BR,draw$3=function(t){var e=t._context.staticPlot,i=t._fullLayout,r=makeSliderData(i,t),n=i._infolayer.selectAll("g."+constants$c.containerClassName).data(r.length>0?[0]:[]);function a(e){e._commandObserver&&(e._commandObserver.remove(),delete e._commandObserver),Plots$2.autoMargin(t,autoMarginId(e))}if(n.enter().append("g").classed(constants$c.containerClassName,!0).style("cursor",e?null:"ew-resize"),n.exit().each(function(){d3$5.select(this).selectAll("g."+constants$c.groupClassName).each(a)}).remove(),0!==r.length){var s=n.selectAll("g."+constants$c.groupClassName).data(r,keyFunction);s.enter().append("g").classed(constants$c.groupClassName,!0),s.exit().each(a).remove();for(var o=0;o<r.length;o++){var l=r[o];findDimensions(t,l)}s.each(function(e){var i=d3$5.select(this);computeLabelSteps(e),Plots$2.manageCommandObserver(t,e,e._visibleSteps,function(e){var r=i.data()[0];r.active!==e.index&&(r._dragging||setActive(t,i,r,e.index,!1,!0))}),drawSlider(t,d3$5.select(this),e)})}};function autoMarginId(t){return constants$c.autoMarginIdRoot+t._index}function makeSliderData(t,e){for(var i=t[constants$c.name],r=[],n=0;n<i.length;n++){var a=i[n];a.visible&&(a._gd=e,r.push(a))}return r}function keyFunction(t){return t._index}function findDimensions(t,e){var i=Drawing$4.tester.selectAll("g."+constants$c.labelGroupClass).data(e._visibleSteps);i.enter().append("g").classed(constants$c.labelGroupClass,!0);var r=0,n=0;i.each(function(t){var i=drawLabel(d3$5.select(this),{step:t},e).node();if(i){var a=Drawing$4.bBox(i);n=Math.max(n,a.height),r=Math.max(r,a.width)}}),i.remove();var a=e._dims={};a.inputAreaWidth=Math.max(constants$c.railWidth,constants$c.gripHeight);var s=t._fullLayout._size;a.lx=s.l+s.w*e.x,a.ly=s.t+s.h*(1-e.y),"fraction"===e.lenmode?a.outerLength=Math.round(s.w*e.len):a.outerLength=e.len,a.inputAreaStart=0,a.inputAreaLength=Math.round(a.outerLength-e.pad.l-e.pad.r);var o=(a.inputAreaLength-2*constants$c.stepInset)/(e._stepCount-1),l=r+constants$c.labelPadding;if(a.labelStride=Math.max(1,Math.ceil(l/o)),a.labelHeight=n,a.currentValueMaxWidth=0,a.currentValueHeight=0,a.currentValueTotalHeight=0,a.currentValueMaxLines=1,e.currentvalue.visible){var c=Drawing$4.tester.append("g");i.each(function(t){var i=drawCurrentValue(c,e,t.label),r=i.node()&&Drawing$4.bBox(i.node())||{width:0,height:0},n=svgTextUtils$4.lineCount(i);a.currentValueMaxWidth=Math.max(a.currentValueMaxWidth,Math.ceil(r.width)),a.currentValueHeight=Math.max(a.currentValueHeight,Math.ceil(r.height)),a.currentValueMaxLines=Math.max(a.currentValueMaxLines,n)}),a.currentValueTotalHeight=a.currentValueHeight+e.currentvalue.offset,c.remove()}a.height=a.currentValueTotalHeight+constants$c.tickOffset+e.ticklen+constants$c.labelOffset+a.labelHeight+e.pad.t+e.pad.b;var g="left";Lib$n.isRightAnchor(e)&&(a.lx-=a.outerLength,g="right"),Lib$n.isCenterAnchor(e)&&(a.lx-=a.outerLength/2,g="center");var d="top";Lib$n.isBottomAnchor(e)&&(a.ly-=a.height,d="bottom"),Lib$n.isMiddleAnchor(e)&&(a.ly-=a.height/2,d="middle"),a.outerLength=Math.ceil(a.outerLength),a.height=Math.ceil(a.height),a.lx=Math.round(a.lx),a.ly=Math.round(a.ly);var u={y:e.y,b:a.height*FROM_BR$2[d],t:a.height*FROM_TL$2[d]};"fraction"===e.lenmode?(u.l=0,u.xl=e.x-e.len*FROM_TL$2[g],u.r=0,u.xr=e.x+e.len*FROM_BR$2[g]):(u.x=e.x,u.l=a.outerLength*FROM_TL$2[g],u.r=a.outerLength*FROM_BR$2[g]),Plots$2.autoMargin(t,autoMarginId(e),u)}function drawSlider(t,e,i){(i.steps[i.active]||{}).visible||(i.active=i._visibleSteps[0]._index),e.call(drawCurrentValue,i).call(drawRail,i).call(drawLabelGroup,i).call(drawTicks,i).call(drawTouchRect,t,i).call(drawGrip,t,i);var r=i._dims;Drawing$4.setTranslate(e,r.lx+i.pad.l,r.ly+i.pad.t),e.call(setGripPosition,i,!1),e.call(drawCurrentValue,i)}function drawCurrentValue(t,e,i){if(e.currentvalue.visible){var r,n,a=e._dims;switch(e.currentvalue.xanchor){case"right":r=a.inputAreaLength-constants$c.currentValueInset-a.currentValueMaxWidth,n="left";break;case"center":r=.5*a.inputAreaLength,n="middle";break;default:r=constants$c.currentValueInset,n="left"}var s=Lib$n.ensureSingle(t,"text",constants$c.labelClass,function(t){t.attr({"text-anchor":n,"data-notex":1})}),o=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof i)o+=i;else{var l=e.steps[e.active].label,c=e._gd._fullLayout._meta;c&&(l=Lib$n.templateString(l,c)),o+=l}e.currentvalue.suffix&&(o+=e.currentvalue.suffix),s.call(Drawing$4.font,e.currentvalue.font).text(o).call(svgTextUtils$4.convertToTspans,e._gd);var g=svgTextUtils$4.lineCount(s),d=(a.currentValueMaxLines+1-g)*e.currentvalue.font.size*LINE_SPACING$3;return svgTextUtils$4.positionText(s,r,d),s}}function drawGrip(t,e,i){var r=Lib$n.ensureSingle(t,"rect",constants$c.gripRectClass,function(r){r.call(attachGripEvents,e,t,i).style("pointer-events","all")});r.attr({width:constants$c.gripWidth,height:constants$c.gripHeight,rx:constants$c.gripRadius,ry:constants$c.gripRadius}).call(Color$9.stroke,i.bordercolor).call(Color$9.fill,i.bgcolor).style("stroke-width",i.borderwidth+"px")}function drawLabel(t,e,i){var r=Lib$n.ensureSingle(t,"text",constants$c.labelClass,function(t){t.attr({"text-anchor":"middle","data-notex":1})}),n=e.step.label,a=i._gd._fullLayout._meta;return a&&(n=Lib$n.templateString(n,a)),r.call(Drawing$4.font,i.font).text(n).call(svgTextUtils$4.convertToTspans,i._gd),r}function drawLabelGroup(t,e){var i=Lib$n.ensureSingle(t,"g",constants$c.labelsClass),r=e._dims,n=i.selectAll("g."+constants$c.labelGroupClass).data(r.labelSteps);n.enter().append("g").classed(constants$c.labelGroupClass,!0),n.exit().remove(),n.each(function(t){var i=d3$5.select(this);i.call(drawLabel,t,e),Drawing$4.setTranslate(i,normalizedValueToPosition(e,t.fraction),constants$c.tickOffset+e.ticklen+e.font.size*LINE_SPACING$3+constants$c.labelOffset+r.currentValueTotalHeight)})}function handleInput(t,e,i,r,n){var a=Math.round(r*(i._stepCount-1)),s=i._visibleSteps[a]._index;s!==i.active&&setActive(t,e,i,s,!0,n)}function setActive(t,e,i,r,n,a){var s=i.active;i.active=r,arrayEditor(t.layout,constants$c.name,i).applyUpdate("active",r);var o=i.steps[i.active];e.call(setGripPosition,i,a),e.call(drawCurrentValue,i),t.emit("plotly_sliderchange",{slider:i,step:i.steps[i.active],interaction:n,previousActive:s}),o&&o.method&&n&&(e._nextMethod?(e._nextMethod.step=o,e._nextMethod.doCallback=n,e._nextMethod.doTransition=a):(e._nextMethod={step:o,doCallback:n,doTransition:a},e._nextMethodRaf=window.requestAnimationFrame(function(){var i=e._nextMethod.step;i.method&&(i.execute&&Plots$2.executeAPICommand(t,i.method,i.args),e._nextMethod=null,e._nextMethodRaf=null)})))}function attachGripEvents(t,e,i){if(!e._context.staticPlot){var r=i.node(),n=d3$5.select(e);t.on("mousedown",s),t.on("touchstart",s)}function a(){return i.data()[0]}function s(){var t=a();e.emit("plotly_sliderstart",{slider:t});var s=i.select("."+constants$c.gripRectClass);d3$5.event.stopPropagation(),d3$5.event.preventDefault(),s.call(Color$9.fill,t.activebgcolor);var o=positionToNormalizedValue(t,d3$5.mouse(r)[0]);function l(){var t=a(),n=positionToNormalizedValue(t,d3$5.mouse(r)[0]);handleInput(e,i,t,n,!1)}function c(){var t=a();t._dragging=!1,s.call(Color$9.fill,t.bgcolor),n.on("mouseup",null),n.on("mousemove",null),n.on("touchend",null),n.on("touchmove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})}handleInput(e,i,t,o,!0),t._dragging=!0,n.on("mousemove",l),n.on("touchmove",l),n.on("mouseup",c),n.on("touchend",c)}}function drawTicks(t,e){var i=t.selectAll("rect."+constants$c.tickRectClass).data(e._visibleSteps),r=e._dims;i.enter().append("rect").classed(constants$c.tickRectClass,!0),i.exit().remove(),i.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),i.each(function(t,i){var n=i%r.labelStride===0,a=d3$5.select(this);a.attr({height:n?e.ticklen:e.minorticklen}).call(Color$9.fill,e.tickcolor),Drawing$4.setTranslate(a,normalizedValueToPosition(e,i/(e._stepCount-1))-.5*e.tickwidth,(n?constants$c.tickOffset:constants$c.minorTickOffset)+r.currentValueTotalHeight)})}function computeLabelSteps(t){var e=t._dims;e.labelSteps=[];for(var i=t._stepCount,r=0;r<i;r+=e.labelStride)e.labelSteps.push({fraction:r/(i-1),step:t._visibleSteps[r]})}function setGripPosition(t,e,i){for(var r=t.select("rect."+constants$c.gripRectClass),n=0,a=0;a<e._stepCount;a++)if(e._visibleSteps[a]._index===e.active){n=a;break}var s=normalizedValueToPosition(e,n/(e._stepCount-1));if(!e._invokingCommand){var o=r;i&&e.transition.duration>0&&(o=o.transition().duration(e.transition.duration).ease(e.transition.easing)),o.attr("transform",strTranslate$2(s-.5*constants$c.gripWidth,e._dims.currentValueTotalHeight))}}function normalizedValueToPosition(t,e){var i=t._dims;return i.inputAreaStart+constants$c.stepInset+(i.inputAreaLength-2*constants$c.stepInset)*Math.min(1,Math.max(0,e))}function positionToNormalizedValue(t,e){var i=t._dims;return Math.min(1,Math.max(0,(e-constants$c.stepInset-i.inputAreaStart)/(i.inputAreaLength-2*constants$c.stepInset-2*i.inputAreaStart)))}function drawTouchRect(t,e,i){var r=i._dims,n=Lib$n.ensureSingle(t,"rect",constants$c.railTouchRectClass,function(r){r.call(attachGripEvents,e,t,i).style("pointer-events","all")});n.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,constants$c.tickOffset+i.ticklen+r.labelHeight)}).call(Color$9.fill,i.bgcolor).attr("opacity",0),Drawing$4.setTranslate(n,0,r.currentValueTotalHeight)}function drawRail(t,e){var i=e._dims,r=i.inputAreaLength-2*constants$c.railInset,n=Lib$n.ensureSingle(t,"rect",constants$c.railRectClass);n.attr({width:r,height:constants$c.railWidth,rx:constants$c.railRadius,ry:constants$c.railRadius,"shape-rendering":"crispEdges"}).call(Color$9.stroke,e.bordercolor).call(Color$9.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),Drawing$4.setTranslate(n,constants$c.railInset,.5*(i.inputAreaWidth-constants$c.railWidth)+i.currentValueTotalHeight)}var defaults$f,hasRequiredDefaults$2,calc_autorange,hasRequiredCalc_autorange,draw$2,hasRequiredDraw,constants$b=constants$f,sliders={moduleType:"component",name:constants$b.name,layoutAttributes:attributes$i,supplyLayoutDefaults:defaults$g,draw:draw$3},colorAttributes$1=attributes$K,attributes$g={bgcolor:{valType:"color",dflt:colorAttributes$1.background,editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:colorAttributes$1.defaultLine,editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot",description:"Sets the border width of the range slider."},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"},oppaxis_attributes={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"},helpers$6={},constants$a={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15},axisIDs=axis_ids$1,svgTextUtils$3=svg_text_utils,constants$9=constants$a,LINE_SPACING$2=alignment$1.LINE_SPACING,name$1=constants$9.name;function isVisible(t){var e=t&&t[name$1];return e&&e.visible}function requireDefaults$2(){if(hasRequiredDefaults$2)return defaults$f;hasRequiredDefaults$2=1;var t=libExports,e=plot_template,i=axis_ids$1,r=attributes$g,n=oppaxis_attributes;return defaults$f=function(a,s,o){var l=a[o],c=s[o];if(l.rangeslider||s._requestRangeslider[c._id]){t.isPlainObject(l.rangeslider)||(l.rangeslider={});var g,d,u=l.rangeslider,B=e.newContainer(c,"rangeslider");if(y("visible")){y("bgcolor",s.plot_bgcolor),y("bordercolor"),y("borderwidth"),y("thickness"),y("autorange",!c.isValidRange(u.range)),y("range");var F=s._subplots;if(F)for(var h=F.cartesian.filter(function(t){return t.substr(0,t.indexOf("y"))===i.name2id(o)}).map(function(t){return t.substr(t.indexOf("y"),t.length)}),Q=t.simpleMap(h,i.id2name),U=0;U<Q.length;U++){var I=Q[U];g=u[I]||{},d=e.newContainer(B,I,"yaxis");var b,p=s[I];g.range&&p.isValidRange(g.range)&&(b="fixed"),"match"!==m("rangemode",b)&&m("range",p.range.slice())}B._input=u}}function y(e,i){return t.coerce(u,B,r,e,i)}function m(e,i){return t.coerce(g,d,n,e,i)}},defaults$f}function requireCalc_autorange(){if(hasRequiredCalc_autorange)return calc_autorange;hasRequiredCalc_autorange=1;var t=axis_ids$1.list,e=requireAutorange().getAutoRange,i=constants$a;return calc_autorange=function(r){for(var n=t(r,"x",!0),a=0;a<n.length;a++){var s=n[a],o=s[i.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=e(r,s))}},calc_autorange}function requireDraw(){if(hasRequiredDraw)return draw$2;hasRequiredDraw=1;var t=d3Exports,e=registry$1,i=plotsExports,r=libExports,n=r.strTranslate,a=drawingExports,s=colorExports,o=titles,l=cartesian,c=axis_ids$1,g=dragelementExports,d=setcursor,u=constants$a;function B(t){return"number"==typeof t.clientX?t.clientX:t.touches&&t.touches.length>0?t.touches[0].clientX:0}function F(t,e,i,o){var l=r.ensureSingle(t,"rect",u.bgClassName,function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),c=o.borderwidth%2==0?o.borderwidth:o.borderwidth-1,g=-o._offsetShift,d=a.crispRound(e,o.borderwidth);l.attr({width:o._width+c,height:o._height+c,transform:n(g,g),"stroke-width":d}).call(s.stroke,o.bordercolor).call(s.fill,o.bgcolor)}function h(t,e,i,n){var a=e._fullLayout,s=r.ensureSingleById(a._topdefs,"clipPath",n._clipId,function(t){t.append("rect").attr({x:0,y:0})});s.select("rect").attr({width:n._width,height:n._height})}function Q(e,n,s,o){var g,d=n.calcdata,B=e.selectAll("g."+u.rangePlotClassName).data(s._subplotsWith,r.identity);B.enter().append("g").attr("class",function(t){return u.rangePlotClassName+" "+t}).call(a.setClipUrl,o._clipId,n),B.order(),B.exit().remove(),B.each(function(e,r){var a=t.select(this),u=0===r,B=c.getFromId(n,e,"y"),F=B._name,h=o[F],Q={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:o.range.slice(),calendar:s.calendar},width:o._width,height:o._height,margin:{t:0,b:0,l:0,r:0}},_context:n._context};s.rangebreaks&&(Q.layout.xaxis.rangebreaks=s.rangebreaks),Q.layout[F]={type:B.type,domain:[0,1],range:"match"!==h.rangemode?h.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(Q.layout[F].rangebreaks=B.rangebreaks),i.supplyDefaults(Q);var U=Q._fullLayout.xaxis,I=Q._fullLayout[F];U.clearCalc(),U.setScale(),I.clearCalc(),I.setScale();var b={id:e,plotgroup:a,xaxis:U,yaxis:I,isRangePlot:!0};u?g=b:(b.mainplot="xy",b.mainplotinfo=g),l.rangePlot(n,b,function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r],a=n[0].trace;a.xaxis+a.yaxis===e&&i.push(n)}return i}(d,e))})}function U(t,e,i,n,a){var o=r.ensureSingle(t,"rect",u.maskMinClassName,function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",n._height).call(s.fill,u.maskColor);var l=r.ensureSingle(t,"rect",u.maskMaxClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})});if(l.attr("height",n._height).call(s.fill,u.maskColor),"match"!==a.rangemode){var c=r.ensureSingle(t,"rect",u.maskMinOppAxisClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})});c.attr("width",n._width).call(s.fill,u.maskOppAxisColor);var g=r.ensureSingle(t,"rect",u.maskMaxOppAxisClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})});g.attr("width",n._width).style("border-top",u.maskOppBorder).call(s.fill,u.maskOppAxisColor)}}function I(t,e,i,n){if(!e._context.staticPlot){var a=r.ensureSingle(t,"rect",u.slideBoxClassName,function(t){t.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:n._height,fill:u.slideBoxFill})}}function b(t,e,i,n){var a=r.ensureSingle(t,"g",u.grabberMinClassName),o=r.ensureSingle(t,"g",u.grabberMaxClassName),l={x:0,width:u.handleWidth,rx:u.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},c={y:Math.round(n._height/4),height:Math.round(n._height/2)},g=r.ensureSingle(a,"rect",u.handleMinClassName,function(t){t.attr(l)});g.attr(c);var d=r.ensureSingle(o,"rect",u.handleMaxClassName,function(t){t.attr(l)});d.attr(c);var B={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:e._context.staticPlot?void 0:u.grabAreaCursor},F=r.ensureSingle(a,"rect",u.grabAreaMinClassName,function(t){t.attr(B)});F.attr("height",n._height);var h=r.ensureSingle(o,"rect",u.grabAreaMaxClassName,function(t){t.attr(B)});h.attr("height",n._height)}return draw$2=function(i){for(var a=i._fullLayout,s=a._rangeSliderData,l=0;l<s.length;l++){var p=s[l][u.name];p._clipId=p._id+"-"+a._uid}var y=a._infolayer.selectAll("g."+u.containerClassName).data(s,function(t){return t._name});y.exit().each(function(t){var e=t[u.name];a._topdefs.select("#"+e._clipId).remove()}).remove(),0!==s.length&&(y.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),y.each(function(s){var l=t.select(this),p=s[u.name],y=a[c.id2name(s.anchor)],m=p[c.id2name(s.anchor)];if(p.range){var C,f=r.simpleMap(p.range,s.r2l),x=r.simpleMap(s.range,s.r2l);C=x[0]<x[1]?[Math.min(f[0],x[0]),Math.max(f[1],x[1])]:[Math.max(f[0],x[0]),Math.min(f[1],x[1])],p.range=p._input.range=r.simpleMap(C,s.l2r)}s.cleanRange("rangeslider.range");var A=a._size,v=s.domain;p._width=A.w*(v[1]-v[0]);var L=Math.round(A.l+A.w*v[0]),R=Math.round(A.t+A.h*(1-s._counterDomainMin)+("bottom"===s.side?s._depth:0)+p._offsetShift+u.extraPad);l.attr("transform",n(L,R)),p._rl=r.simpleMap(p.range,s.r2l);var S=p._rl[0],G=p._rl[1],E=G-S;if(p.p2d=function(t){return t/p._width*E+S},p.d2p=function(t){return(t-S)/E*p._width},s.rangebreaks){var V=s.locateBreaks(S,G);if(V.length){var Z,N,D=0;for(Z=0;Z<V.length;Z++)D+=(N=V[Z]).max-N.min;var w=p._width/(G-S-D),X=[-w*S];for(Z=0;Z<V.length;Z++)N=V[Z],X.push(X[X.length-1]-w*(N.max-N.min));for(p.d2p=function(t){for(var e=X[0],i=0;i<V.length;i++){var r=V[i];if(t>=r.max)e=X[i+1];else if(t<r.min)break}return e+w*t},Z=0;Z<V.length;Z++)(N=V[Z]).pmin=p.d2p(N.min),N.pmax=p.d2p(N.max);p.p2d=function(t){for(var e=X[0],i=0;i<V.length;i++){var r=V[i];if(t>=r.pmax)e=X[i+1];else if(t<r.pmin)break}return(t-e)/w}}}if("match"!==m.rangemode){var W=y.r2l(m.range[0]),H=y.r2l(m.range[1])-W;p.d2pOppAxis=function(t){return(t-W)/H*p._height}}l.call(F,i,s,p).call(h,i,s,p).call(Q,i,s,p).call(U,i,s,p,m).call(I,i,s,p).call(b,i,s,p),function(i,n,a,s){if(n._context.staticPlot)return;var o=i.select("rect."+u.slideBoxClassName).node(),l=i.select("rect."+u.grabAreaMinClassName).node(),c=i.select("rect."+u.grabAreaMaxClassName).node();function F(){var u=t.event,F=u.target,h=B(u),Q=h-i.node().getBoundingClientRect().left,U=s.d2p(a._rl[0]),I=s.d2p(a._rl[1]),b=g.coverSlip();function p(i){var g,u,p,y=+B(i)-h;switch(F){case o:if(p="ew-resize",U+y>a._length||I+y<0)return;g=U+y,u=I+y;break;case l:if(p="col-resize",U+y>a._length)return;g=U+y,u=I;break;case c:if(p="col-resize",I+y<0)return;g=U,u=I+y;break;default:p="ew-resize",g=Q,u=Q+y}if(u<g){var m=u;u=g,g=m}s._pixelMin=g,s._pixelMax=u,d(t.select(b),p),function(t,i,n,a){function s(t){return n.l2r(r.constrain(t,a._rl[0],a._rl[1]))}var o=s(a.p2d(a._pixelMin)),l=s(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){e.call("_guiRelayout",i,n._name+".range",[o,l])})}(0,n,a,s)}function y(){b.removeEventListener("mousemove",p),b.removeEventListener("mouseup",y),this.removeEventListener("touchmove",p),this.removeEventListener("touchend",y),r.removeElement(b)}this.addEventListener("touchmove",p),this.addEventListener("touchend",y),b.addEventListener("mousemove",p),b.addEventListener("mouseup",y)}i.on("mousedown",F),i.on("touchstart",F)}(l,i,s,p),function(t,e,i,a,s,o){var l=u.handleWidth/2;function c(t){return r.constrain(t,0,a._width)}function g(t){return r.constrain(t,0,a._height)}function d(t){return r.constrain(t,-l,a._width+l)}var B=c(a.d2p(i._rl[0])),F=c(a.d2p(i._rl[1]));if(t.select("rect."+u.slideBoxClassName).attr("x",B).attr("width",F-B),t.select("rect."+u.maskMinClassName).attr("width",B),t.select("rect."+u.maskMaxClassName).attr("x",F).attr("width",a._width-F),"match"!==o.rangemode){var h=a._height-g(a.d2pOppAxis(s._rl[1])),Q=a._height-g(a.d2pOppAxis(s._rl[0]));t.select("rect."+u.maskMinOppAxisClassName).attr("x",B).attr("height",h).attr("width",F-B),t.select("rect."+u.maskMaxOppAxisClassName).attr("x",B).attr("y",Q).attr("height",a._height-Q).attr("width",F-B),t.select("rect."+u.slideBoxClassName).attr("y",h).attr("height",Q-h)}var U=.5,I=Math.round(d(B-l))-U,b=Math.round(d(F-l))+U;t.select("g."+u.grabberMinClassName).attr("transform",n(I,U)),t.select("g."+u.grabberMaxClassName).attr("transform",n(b,U))}(l,0,s,p,y,m),"bottom"===s.side&&o.draw(i,s._id+"title",{propContainer:s,propName:s._name+".title",placeholder:a._dfltTitle.x,attributes:{x:s._offset+s._length/2,y:R+p._height+p._offsetShift+10+1.5*s.title.font.size,"text-anchor":"middle"}})}))},draw$2}helpers$6.isVisible=isVisible,helpers$6.makeData=function(t){for(var e=axisIDs.list({_fullLayout:t},"x",!0),i=t.margin,r=[],n=0;n<e.length;n++){var a=e[n];if(isVisible(a)){r.push(a);var s=a[name$1];s._id=name$1+a._id,s._height=(t.height-i.b-i.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}t._rangeSliderData=r},helpers$6.autoMarginOpts=function(t,e){var i=t._fullLayout,r=e[name$1],n=e._id.charAt(0),a=0,s=0;"bottom"===e.side&&(a=e._depth,e.title.text!==i._dfltTitle[n]&&(s=1.5*e.title.font.size+10+r._offsetShift,s+=(e.title.text.match(svgTextUtils$3.BR_TAG_ALL)||[]).length*e.title.font.size*LINE_SPACING$2));return{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:r._height+a+Math.max(i.margin.b,s),pad:constants$9.extraPad+2*r._offsetShift}};var Lib$m=libExports,attrs$3=attributes$g,oppAxisAttrs=oppaxis_attributes,helpers$5=helpers$6,rangeslider={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:Lib$m.extendFlat({},attrs$3,{yaxis:oppAxisAttrs})}}},layoutAttributes:attributes$g,handleDefaults:requireDefaults$2(),calcAutorange:requireCalc_autorange(),draw:requireDraw(),isVisible:helpers$5.isVisible,makeData:helpers$5.makeData,autoMarginOpts:helpers$5.autoMarginOpts},fontAttrs$3=requireFont_attributes(),colorAttrs=attributes$K,templatedArray=plot_template.templatedArray,buttonAttrs=templatedArray("button",{visible:{valType:"boolean",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),attributes$f={visible:{valType:"boolean",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:buttonAttrs,x:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:fontAttrs$3({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:colorAttrs.lightLine,editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:colorAttrs.defaultLine,editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"},constants$8={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10},Lib$l=libExports,Color$8=colorExports,Template$1=plot_template,handleArrayContainerDefaults=array_container_defaults,attributes$e=attributes$f,constants$7=constants$8,defaults$e=function(t,e,i,r,n){var a=t.rangeselector||{},s=Template$1.newContainer(e,"rangeselector");function o(t,e){return Lib$l.coerce(a,s,attributes$e,t,e)}if(o("visible",handleArrayContainerDefaults(a,s,{name:"buttons",handleItemDefaults:buttonDefaults,calendar:n}).length>0)){var l=getPosDflt(e,i,r);o("x",l[0]),o("y",l[1]),Lib$l.noneOrAll(t,e,["x","y"]),o("xanchor"),o("yanchor"),Lib$l.coerceFont(o,"font",i.font);var c=o("bgcolor");o("activecolor",Color$8.contrast(c,constants$7.lightAmount,constants$7.darkAmount)),o("bordercolor"),o("borderwidth")}};function buttonDefaults(t,e,i,r){var n=r.calendar;function a(i,r){return Lib$l.coerce(t,e,attributes$e.buttons,i,r)}if(a("visible")){var s=a("step");"all"!==s&&(!n||"gregorian"===n||"month"!==s&&"year"!==s?a("stepmode"):e.stepmode="backward",a("count")),a("label")}}function getPosDflt(t,e,i){for(var r=i.filter(function(i){return e[i].anchor===t._id}),n=0,a=0;a<r.length;a++){var s=e[r[a]].domain;s&&(n=Math.max(s[1],n))}return[t.domain[0],n+constants$7.yPad]}var require$$0=getAugmentedNamespace(src$2),d3Time=require$$0,titleCase=libExports.titleCase,get_update_object=function(t,e){var i=t._name,r={};if("all"===e.step)r[i+".autorange"]=!0;else{var n=getXRange(t,e);r[i+".range[0]"]=n[0],r[i+".range[1]"]=n[1]}return r};function getXRange(t,e){var i,r=t.range,n=new Date(t.r2l(r[1])),a=e.step,s=d3Time["utc"+titleCase(a)],o=e.count;switch(e.stepmode){case"backward":i=t.l2r(+s.offset(n,-o));break;case"todate":var l=s.offset(n,-o);i=t.l2r(+s.ceil(l))}return[i,r[1]]}var d3$4=d3Exports,Registry$d=registry$1,Plots$1=plotsExports,Color$7=colorExports,Drawing$3=drawingExports,Lib$k=libExports,strTranslate$1=Lib$k.strTranslate,svgTextUtils$2=svg_text_utils,axisIds$1=axis_ids$1,alignmentConstants$1=alignment$1,LINE_SPACING$1=alignmentConstants$1.LINE_SPACING,FROM_TL$1=alignmentConstants$1.FROM_TL,FROM_BR$1=alignmentConstants$1.FROM_BR,constants$6=constants$8,getUpdateObject=get_update_object,draw$1=function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(makeSelectorData(t),selectorKeyFunc);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each(function(e){var i=d3$4.select(this),r=e,n=r.rangeselector,a=i.selectAll("g.button").data(Lib$k.filterVisible(n.buttons));a.enter().append("g").classed("button",!0),a.exit().remove(),a.each(function(e){var i=d3$4.select(this),a=getUpdateObject(r,e);e._isActive=isActive(r,e,a),i.call(drawButtonRect,n,e),i.call(drawButtonText,n,e,t),i.on("click",function(){t._dragged||Registry$d.call("_guiRelayout",t,a)}),i.on("mouseover",function(){e._isHovered=!0,i.call(drawButtonRect,n,e)}),i.on("mouseout",function(){e._isHovered=!1,i.call(drawButtonRect,n,e)})}),reposition(t,a,n,r._name,i)})};function makeSelectorData(t){for(var e=axisIds$1.list(t,"x",!0),i=[],r=0;r<e.length;r++){var n=e[r];n.rangeselector&&n.rangeselector.visible&&i.push(n)}return i}function selectorKeyFunc(t){return t._id}function isActive(t,e,i){if("all"===e.step)return!0===t.autorange;var r=Object.keys(i);return t.range[0]===i[r[0]]&&t.range[1]===i[r[1]]}function drawButtonRect(t,e,i){var r=Lib$k.ensureSingle(t,"rect","selector-rect",function(t){t.attr("shape-rendering","crispEdges")});r.attr({rx:constants$6.rx,ry:constants$6.ry}),r.call(Color$7.stroke,e.bordercolor).call(Color$7.fill,getFillColor(e,i)).style("stroke-width",e.borderwidth+"px")}function getFillColor(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}function drawButtonText(t,e,i,r){var n=Lib$k.ensureSingle(t,"text","selector-text",function(t){t.attr("text-anchor","middle")});n.call(Drawing$3.font,e.font).text(getLabel(i,r._fullLayout._meta)).call(function(t){svgTextUtils$2.convertToTspans(t,r)})}function getLabel(t,e){return t.label?e?Lib$k.templateString(t.label,e):t.label:"all"===t.step?"all":t.count+t.step.charAt(0)}function reposition(t,e,i,r,n){var a=0,s=0,o=i.borderwidth;e.each(function(){var t=d3$4.select(this).select(".selector-text"),e=i.font.size*LINE_SPACING$1,r=Math.max(e*svgTextUtils$2.lineCount(t),16)+3;s=Math.max(s,r)}),e.each(function(){var t=d3$4.select(this),e=t.select(".selector-rect"),r=t.select(".selector-text"),n=r.node()&&Drawing$3.bBox(r.node()).width,l=i.font.size*LINE_SPACING$1,c=svgTextUtils$2.lineCount(r),g=Math.max(n+10,constants$6.minButtonWidth);t.attr("transform",strTranslate$1(o+a,o)),e.attr({x:0,y:0,width:g,height:s}),svgTextUtils$2.positionText(r,g/2,s/2-(c-1)*l/2+3),a+=g+5});var l=t._fullLayout._size,c=l.l+l.w*i.x,g=l.t+l.h*(1-i.y),d="left";Lib$k.isRightAnchor(i)&&(c-=a,d="right"),Lib$k.isCenterAnchor(i)&&(c-=a/2,d="center");var u="top";Lib$k.isBottomAnchor(i)&&(g-=s,u="bottom"),Lib$k.isMiddleAnchor(i)&&(g-=s/2,u="middle"),a=Math.ceil(a),s=Math.ceil(s),c=Math.round(c),g=Math.round(g),Plots$1.autoMargin(t,r+"-range-selector",{x:i.x,y:i.y,l:a*FROM_TL$1[d],r:a*FROM_BR$1[d],b:s*FROM_BR$1[u],t:s*FROM_TL$1[u]}),n.attr("transform",strTranslate$1(c,g))}var rangeselector={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:attributes$f}}},layoutAttributes:attributes$f,handleDefaults:defaults$e,draw:draw$1},domain={},extendFlat$8=extend.extendFlat;domain.attributes=function(t,e){e=e||{};var i={valType:"info_array",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},r=t.name?t.name+" ":"",n=t.trace?"trace ":"subplot ",a=e.description?" "+e.description:"",s={x:extendFlat$8({},i,{description:["Sets the horizontal domain of this ",r,n,"(in plot fraction).",a].join("")}),y:extendFlat$8({},i,{description:["Sets the vertical domain of this ",r,n,"(in plot fraction).",a].join("")}),editType:t.editType};return t.noGridCell||(s.row={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",r,n,".",a].join("")},s.column={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",r,n,".",a].join("")}),s},domain.defaults=function(t,e,i,r){var n=r&&r.x||[0,1],a=r&&r.y||[0,1],s=e.grid;if(s){var o=i("domain.column");void 0!==o&&(o<s.columns?n=s._domains.x[o]:delete t.domain.column);var l=i("domain.row");void 0!==l&&(l<s.rows?a=s._domains.y[l]:delete t.domain.row)}var c=i("domain.x",n),g=i("domain.y",a);c[0]<c[1]||(t.domain.x=n.slice()),g[0]<g[1]||(t.domain.y=a.slice())};var Lib$j=libExports,counterRegex=regex.counter,domainAttrs=domain.attributes,cartesianIdRegex=constants$K.idRegex,Template=plot_template,gridAttrs={rows:{valType:"integer",min:1,editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[counterRegex("xy").toString(),""],editType:"plot"},editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[cartesianIdRegex.x.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[cartesianIdRegex.y.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:domainAttrs({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function getAxes(t,e,i){var r=e[i+"axes"],n=Object.keys((t._splomAxes||{})[i]||{});return Array.isArray(r)?r:n.length?n:void 0}function sizeDefaults(t,e){var i=t.grid||{},r=getAxes(e,i,"x"),n=getAxes(e,i,"y");if(t.grid||r||n){var a,s,o=Array.isArray(i.subplots)&&Array.isArray(i.subplots[0]),l=Array.isArray(r),c=Array.isArray(n),g=l&&r!==i.xaxes&&c&&n!==i.yaxes;o?(a=i.subplots.length,s=i.subplots[0].length):(c&&(a=n.length),l&&(s=r.length));var d=Template.newContainer(e,"grid"),u=b("rows",a),B=b("columns",s);if(u*B>1){if(!o&&!l&&!c)"independent"===b("pattern")&&(o=!0);d._hasSubplotGrid=o;var F,h,Q="top to bottom"===b("roworder"),U=o?.2:.1,I=o?.3:.1;g&&e._splomGridDflt&&(F=e._splomGridDflt.xside,h=e._splomGridDflt.yside),d._domains={x:fillGridPositions("x",b,U,F,B),y:fillGridPositions("y",b,I,h,u,Q)}}else delete e.grid}function b(t,e){return Lib$j.coerce(i,d,gridAttrs,t,e)}}function fillGridPositions(t,e,i,r,n,a){var s=e(t+"gap",i),o=e("domain."+t);e(t+"side",r);for(var l=new Array(n),c=o[0],g=(o[1]-c)/(n-s),d=g*(1-s),u=0;u<n;u++){var B=c+g*u;l[a?n-1-u:u]=[B,B+d]}return l}function contentDefaults(t,e){var i=e.grid;if(i&&i._domains){var r,n,a,s,o,l,c,g=t.grid||{},d=e._subplots,u=i._hasSubplotGrid,B=i.rows,F=i.columns,h="independent"===i.pattern,Q=i._axisMap={};if(u){var U=g.subplots||[];l=i.subplots=new Array(B);var I=1;for(r=0;r<B;r++){var b=l[r]=new Array(F),p=U[r]||[];for(n=0;n<F;n++)if(h?(o=1===I?"xy":"x"+I+"y"+I,I++):o=p[n],b[n]="",-1!==d.cartesian.indexOf(o)){if(c=o.indexOf("y"),a=o.slice(0,c),s=o.slice(c),void 0!==Q[a]&&Q[a]!==n||void 0!==Q[s]&&Q[s]!==r)continue;b[n]=o,Q[a]=n,Q[s]=r}}}else{var y=getAxes(e,g,"x"),m=getAxes(e,g,"y");i.xaxes=fillGridAxes(y,d.xaxis,F,Q,"x"),i.yaxes=fillGridAxes(m,d.yaxis,B,Q,"y")}var C=i._anchors={},f="top to bottom"===i.roworder;for(var x in Q){var A,v,L,R=x.charAt(0),S=i[R+"side"];if(S.length<8)C[x]="free";else if("x"===R){if("t"===S.charAt(0)===f?(A=0,v=1,L=B):(A=B-1,v=-1,L=-1),u){var G=Q[x];for(r=A;r!==L;r+=v)if((o=l[r][G])&&(c=o.indexOf("y"),o.slice(0,c)===x)){C[x]=o.slice(c);break}}else for(r=A;r!==L;r+=v)if(s=i.yaxes[r],-1!==d.cartesian.indexOf(x+s)){C[x]=s;break}}else if("l"===S.charAt(0)?(A=0,v=1,L=F):(A=F-1,v=-1,L=-1),u){var E=Q[x];for(r=A;r!==L;r+=v)if((o=l[E][r])&&(c=o.indexOf("y"),o.slice(c)===x)){C[x]=o.slice(0,c);break}}else for(r=A;r!==L;r+=v)if(a=i.xaxes[r],-1!==d.cartesian.indexOf(a+x)){C[x]=a;break}}}}function fillGridAxes(t,e,i,r,n){var a,s=new Array(i);function o(t,i){-1!==e.indexOf(i)&&void 0===r[i]?(s[t]=i,r[i]=t):s[t]=""}if(Array.isArray(t))for(a=0;a<i;a++)o(a,t[a]);else for(o(0,n),a=1;a<i;a++)o(a,n+(a+1));return s}var defaults$d,hasRequiredDefaults$1,compute_error,hasRequiredCompute_error,calc$3,hasRequiredCalc,plot$2,hasRequiredPlot,style$2,hasRequiredStyle,grid={moduleType:"component",name:"grid",schema:{layout:{grid:gridAttrs}},layoutAttributes:gridAttrs,sizeDefaults:sizeDefaults,contentDefaults:contentDefaults},attributes$d={visible:{valType:"boolean",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant*, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the square of the","underlying data.","If *data*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style",description:"Sets the stroke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc"};function requireDefaults$1(){if(hasRequiredDefaults$1)return defaults$d;hasRequiredDefaults$1=1;var t=fastIsnumeric,e=registry$1,i=libExports,r=plot_template,n=attributes$d;return defaults$d=function(a,s,o,l){var c="error_"+l.axis,g=r.newContainer(s,c),d=a[c]||{};function u(t,e){return i.coerce(d,g,n,t,e)}if(!1!==u("visible",void 0!==d.array||void 0!==d.value||"sqrt"===d.type)){var B=u("type","array"in d?"data":"percent"),F=!0;"sqrt"!==B&&(F=u("symmetric",!(("data"===B?"arrayminus":"valueminus")in d))),"data"===B?(u("array"),u("traceref"),F||(u("arrayminus"),u("tracerefminus"))):"percent"!==B&&"constant"!==B||(u("value"),F||u("valueminus"));var h="copy_"+l.inherit+"style";if(l.inherit)(s["error_"+l.inherit]||{}).visible&&u(h,!(d.color||t(d.thickness)||t(d.width)));l.inherit&&g[h]||(u("color",o),u("thickness"),u("width",e.traceIs(s,"gl3d")?0:4))}},defaults$d}function requireCompute_error(){if(hasRequiredCompute_error)return compute_error;function t(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}return hasRequiredCompute_error=1,compute_error=function(e){var i=e.type,r=e.symmetric;if("data"===i){var n=e.array||[];if(r)return function(t,e){var i=+n[e];return[i,i]};var a=e.arrayminus||[];return function(t,e){var i=+n[e],r=+a[e];return isNaN(i)&&isNaN(r)?[NaN,NaN]:[r||0,i||0]}}var s=t(i,e.value),o=t(i,e.valueminus);return r||void 0===e.valueminus?function(t){var e=s(t);return[e,e]}:function(t){return[o(t),s(t)]}},compute_error}function requireCalc(){if(hasRequiredCalc)return calc$3;hasRequiredCalc=1;var t=fastIsnumeric,e=registry$1,i=axesExports,r=libExports,n=requireCompute_error();function a(e,a,s,o){var l=a["error_"+o]||{},c=[];if(l.visible&&-1!==["linear","log"].indexOf(s.type)){for(var g=n(l),d=0;d<e.length;d++){var u=e[d],B=u.i;if(void 0===B)B=d;else if(null===B)continue;var F=u[o];if(t(s.c2l(F))){var h=g(F,B);if(t(h[0])&&t(h[1])){var Q=u[o+"s"]=F-h[0],U=u[o+"h"]=F+h[1];c.push(Q,U)}}}var I=s._id,b=a._extremes[I],p=i.findExtremes(s,c,r.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(p.min),b.max=b.max.concat(p.max)}}return calc$3=function(t){for(var r=t.calcdata,n=0;n<r.length;n++){var s=r[n],o=s[0].trace;if(!0===o.visible&&e.traceIs(o,"errorBarsOK")){var l=i.getFromId(t,o.xaxis),c=i.getFromId(t,o.yaxis);a(s,o,l,"x"),a(s,o,c,"y")}}},calc$3}function requirePlot(){if(hasRequiredPlot)return plot$2;hasRequiredPlot=1;var t=d3Exports,e=fastIsnumeric,i=drawingExports,r=subtypes$3;return plot$2=function(n,a,s,o){var l=s.xaxis,c=s.yaxis,g=o&&o.duration>0,d=n._context.staticPlot;a.each(function(a){var u,B=a[0].trace,F=B.error_x||{},h=B.error_y||{};B.ids&&(u=function(t){return t.id});var Q=r.hasMarkers(B)&&B.marker.maxdisplayed>0;h.visible||F.visible||(a=[]);var U=t.select(this).selectAll("g.errorbar").data(a,u);if(U.exit().remove(),a.length){F.visible||U.selectAll("path.xerror").remove(),h.visible||U.selectAll("path.yerror").remove(),U.style("opacity",1);var I=U.enter().append("g").classed("errorbar",!0);g&&I.style("opacity",0).transition().duration(o.duration).style("opacity",1),i.setClipUrl(U,s.layerClipId,n),U.each(function(i){var r=t.select(this),n=function(t,i,r){var n={x:i.c2p(t.x),y:r.c2p(t.y)};void 0!==t.yh&&(n.yh=r.c2p(t.yh),n.ys=r.c2p(t.ys),e(n.ys)||(n.noYS=!0,n.ys=r.c2p(t.ys,!0)));void 0!==t.xh&&(n.xh=i.c2p(t.xh),n.xs=i.c2p(t.xs),e(n.xs)||(n.noXS=!0,n.xs=i.c2p(t.xs,!0)));return n}(i,l,c);if(!Q||i.vis){var a,s=r.select("path.yerror");if(h.visible&&e(n.x)&&e(n.yh)&&e(n.ys)){var u=h.width;a="M"+(n.x-u)+","+n.yh+"h"+2*u+"m-"+u+",0V"+n.ys,n.noYS||(a+="m-"+u+",0h"+2*u),!s.size()?s=r.append("path").style("vector-effect",d?"none":"non-scaling-stroke").classed("yerror",!0):g&&(s=s.transition().duration(o.duration).ease(o.easing)),s.attr("d",a)}else s.remove();var B=r.select("path.xerror");if(F.visible&&e(n.y)&&e(n.xh)&&e(n.xs)){var U=(F.copy_ystyle?h:F).width;a="M"+n.xh+","+(n.y-U)+"v"+2*U+"m0,-"+U+"H"+n.xs,n.noXS||(a+="m0,-"+U+"v"+2*U),!B.size()?B=r.append("path").style("vector-effect",d?"none":"non-scaling-stroke").classed("xerror",!0):g&&(B=B.transition().duration(o.duration).ease(o.easing)),B.attr("d",a)}else B.remove()}})}})},plot$2}function requireStyle(){if(hasRequiredStyle)return style$2;hasRequiredStyle=1;var t=d3Exports,e=colorExports;return style$2=function(i){i.each(function(i){var r=i[0].trace,n=r.error_y||{},a=r.error_x||{},s=t.select(this);s.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(e.stroke,n.color),a.copy_ystyle&&(a=n),s.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(e.stroke,a.color)})},style$2}var Lib$i=libExports,overrideAll$4=edit_types.overrideAll,attributes$c=attributes$d,xyAttrs={error_x:Lib$i.extendFlat({},attributes$c),error_y:Lib$i.extendFlat({},attributes$c)};delete xyAttrs.error_x.copy_zstyle,delete xyAttrs.error_y.copy_zstyle,delete xyAttrs.error_y.copy_ystyle;var xyzAttrs={error_x:Lib$i.extendFlat({},attributes$c),error_y:Lib$i.extendFlat({},attributes$c),error_z:Lib$i.extendFlat({},attributes$c)};delete xyzAttrs.error_x.copy_ystyle,delete xyzAttrs.error_y.copy_ystyle,delete xyzAttrs.error_z.copy_ystyle,delete xyzAttrs.error_z.copy_zstyle;var errorbars={moduleType:"component",name:"errorbars",schema:{traces:{scatter:xyAttrs,bar:xyAttrs,histogram:xyAttrs,scatter3d:overrideAll$4(xyzAttrs,"calc","nested"),scattergl:overrideAll$4(xyAttrs,"calc","nested")}},supplyDefaults:requireDefaults$1(),calc:requireCalc(),makeComputeError:requireCompute_error(),plot:requirePlot(),style:requireStyle(),hoverInfo:hoverInfo};function hoverInfo(t,e,i){(e.error_y||{}).visible&&(i.yerr=t.yh-t.y,e.error_y.symmetric||(i.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(i.xerr=t.xh-t.x,e.error_x.symmetric||(i.xerrneg=t.x-t.xs))}var constants$5={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}},d3$3=d3Exports,tinycolor$2=tinycolorExports,Plots=plotsExports,Registry$c=registry$1,Axes$4=axesExports,dragElement=dragelementExports,Lib$h=libExports,strTranslate=Lib$h.strTranslate,extendFlat$7=extend.extendFlat,setCursor=setcursor,Drawing$2=drawingExports,Color$6=colorExports,Titles=titles,svgTextUtils$1=svg_text_utils,flipScale=helpers$A.flipScale,handleAxisDefaults=axis_defaults$1,handleAxisPositionDefaults=position_defaults,axisLayoutAttrs=layout_attributes$3,alignmentConstants=alignment$1,LINE_SPACING=alignmentConstants.LINE_SPACING,FROM_TL=alignmentConstants.FROM_TL,FROM_BR=alignmentConstants.FROM_BR,cn=constants$5.cn;function draw(t){var e=t._fullLayout._infolayer.selectAll("g."+cn.colorbar).data(makeColorBarData(t),function(t){return t._id});e.enter().append("g").attr("class",function(t){return t._id}).classed(cn.colorbar,!0),e.each(function(e){var i=d3$3.select(this);Lib$h.ensureSingle(i,"rect",cn.cbbg),Lib$h.ensureSingle(i,"g",cn.cbfills),Lib$h.ensureSingle(i,"g",cn.cblines),Lib$h.ensureSingle(i,"g",cn.cbaxis,function(t){t.classed(cn.crisp,!0)}),Lib$h.ensureSingle(i,"g",cn.cbtitleunshift,function(t){t.append("g").classed(cn.cbtitle,!0)}),Lib$h.ensureSingle(i,"rect",cn.cboutline);var r=drawColorBar(i,e,t);r&&r.then&&(t._promises||[]).push(r),t._context.edits.colorbarPosition&&makeEditable(i,e,t)}),e.exit().each(function(e){Plots.autoMargin(t,e._id)}).remove(),e.order()}function makeColorBarData(t){var e,i,r,n,a=t._fullLayout,s=t.calcdata,o=[];function l(t){return extendFlat$7(t,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){"function"==typeof n.calc?n.calc(t,r,e):(e._fillgradient=i.reversescale?flipScale(i.colorscale):i.colorscale,e._zrange=[i[n.min],i[n.max]])}for(var g=0;g<s.length;g++){var d=s[g];if((r=d[0].trace)._module){var u=r._module.colorbar;if(!0===r.visible&&u)for(var B=Array.isArray(u),F=B?u:[u],h=0;h<F.length;h++){var Q=(n=F[h]).container;(i=Q?r[Q]:r)&&i.showscale&&((e=l(i.colorbar))._id="cb"+r.uid+(B&&Q?"-"+Q:""),e._traceIndex=r.index,e._propPrefix=(Q?Q+".":"")+"colorbar.",e._meta=r._meta,c(),o.push(e))}}}for(var U in a._colorAxes)if((i=a[U]).showscale){var I=a._colorAxes[U];(e=l(i.colorbar))._id="cb"+U,e._propPrefix=U+".colorbar.",e._meta=a._meta,n={min:"cmin",max:"cmax"},"heatmap"!==I[0]&&(r=I[1],n.calc=r._module.colorbar.calc),c(),o.push(e)}return o}function drawColorBar(t,e,i){var r="v"===e.orientation,n=e.len,a=e.lenmode,s=e.thickness,o=e.thicknessmode,l=e.outlinewidth,c=e.borderwidth,g=e.bgcolor,d=e.xanchor,u=e.yanchor,B=e.xpad,F=e.ypad,h=e.x,Q=r?e.y:1-e.y,U="paper"===e.yref,I="paper"===e.xref,b=i._fullLayout,p=b._size,y=e._fillcolor,m=e._line,C=e.title,f=C.side,x=e._zrange||d3$3.extent(("function"==typeof y?y:m.color).domain()),A="function"==typeof m.color?m.color:function(){return m.color},v="function"==typeof y?y:function(){return y},L=e._levels,R=calcLevels(i,e,x),S=R.fill,G=R.line,E=Math.round(s*("fraction"===o?r?p.w:p.h:1)),V=E/(r?p.w:p.h),Z=Math.round(n*("fraction"===a?r?p.h:p.w:1)),N=Z/(r?p.h:p.w),D=I?p.w:i._fullLayout.width,w=U?p.h:i._fullLayout.height,X=Math.round(r?h*D+B:Q*w+F),W={center:.5,right:1}[d]||0,H={top:1,middle:.5}[u]||0,T=r?h-W*V:Q-H*V,M=r?Q-H*N:h-W*N,k=Math.round(r?w*(1-M):D*M);e._lenFrac=N,e._thickFrac=V,e._uFrac=T,e._vFrac=M;var Y=e._axis=mockColorBarAxis(i,e,x);Y.position=V+(r?h+B/p.w:Q+F/p.h);var J=-1!==["top","bottom"].indexOf(f);if(r&&J&&(Y.title.side=f,Y.titlex=h+B/p.w,Y.titley=M+("top"===C.side?N-F/p.h:F/p.h)),r||J||(Y.title.side=f,Y.titley=Q+F/p.h,Y.titlex=M+B/p.w),m.color&&"auto"===e.tickmode){Y.tickmode="linear",Y.tick0=L.start;var $=L.size,z=Lib$h.constrain(Z/50,4,15)+1,O=(x[1]-x[0])/((e.nticks||z)*$);if(O>1){var K=Math.pow(10,Math.floor(Math.log(O)/Math.LN10));$*=K*Lib$h.roundUp(O/K,[2,5,10]),(Math.abs(L.start)/L.size+1e-6)%1<2e-6&&(Y.tick0=0)}Y.dtick=$}Y.domain=r?[M+F/p.h,M+N-F/p.h]:[M+B/p.w,M+N-B/p.w],Y.setScale(),t.attr("transform",strTranslate(Math.round(p.l),Math.round(p.t)));var _,P=t.select("."+cn.cbtitleunshift).attr("transform",strTranslate(-Math.round(p.l),-Math.round(p.t))),j=Y.ticklabelposition,q=Y.title.font.size,tt=t.select("."+cn.cbaxis),et=0,it=0;function rt(r,n){var a={propContainer:Y,propName:e._propPrefix+"title",traceIndex:e._traceIndex,_meta:e._meta,placeholder:b._dfltTitle.colorbar,containerGroup:t.select("."+cn.cbtitle)},s="h"===r.charAt(0)?r.substr(1):"h"+r;t.selectAll("."+s+",."+s+"-math-group").remove(),Titles.draw(i,r,extendFlat$7(a,n||{}))}return Lib$h.syncOrAsync([Plots.previousPromises,function(){var t,e;(r&&J||!r&&!J)&&("top"===f&&(t=B+p.l+D*h,e=F+p.t+w*(1-M-N)+3+.75*q),"bottom"===f&&(t=B+p.l+D*h,e=F+p.t+w*(1-M)-3-.25*q),"right"===f&&(e=F+p.t+w*Q+3+.75*q,t=B+p.l+D*M),rt(Y._id+"title",{attributes:{x:t,y:e,"text-anchor":r?"start":"middle"}}))},function(){if(!r&&!J||r&&J){var n,a=t.select("."+cn.cbtitle),s=a.select("text"),o=[-l/2,l/2],c=a.select(".h"+Y._id+"title-math-group").node(),g=15.6;if(s.node()&&(g=parseInt(s.node().style.fontSize,10)*LINE_SPACING),c?(n=Drawing$2.bBox(c),it=n.width,(et=n.height)>g&&(o[1]-=(et-g)/2)):s.node()&&!s.classed(cn.jsPlaceholder)&&(n=Drawing$2.bBox(s.node()),it=n.width,et=n.height),r){if(et){if(et+=5,"top"===f)Y.domain[1]-=et/p.h,o[1]*=-1;else{Y.domain[0]+=et/p.h;var d=svgTextUtils$1.lineCount(s);o[1]+=(1-d)*g}a.attr("transform",strTranslate(o[0],o[1])),Y.setScale()}}else it&&("right"===f&&(Y.domain[0]+=(it+q/2)/p.w),a.attr("transform",strTranslate(o[0],o[1])),Y.setScale())}t.selectAll("."+cn.cbfills+",."+cn.cblines).attr("transform",r?strTranslate(0,Math.round(p.h*(1-Y.domain[1]))):strTranslate(Math.round(p.w*Y.domain[0]),0)),tt.attr("transform",r?strTranslate(0,Math.round(-p.t)):strTranslate(Math.round(-p.l),0));var u=t.select("."+cn.cbfills).selectAll("rect."+cn.cbfill).attr("style","").data(S);u.enter().append("rect").classed(cn.cbfill,!0).attr("style",""),u.exit().remove();var B=x.map(Y.c2p).map(Math.round).sort(function(t,e){return t-e});u.each(function(t,n){var a=[0===n?x[0]:(S[n]+S[n-1])/2,n===S.length-1?x[1]:(S[n]+S[n+1])/2].map(Y.c2p).map(Math.round);r&&(a[1]=Lib$h.constrain(a[1]+(a[1]>a[0])?1:-1,B[0],B[1]));var s=d3$3.select(this).attr(r?"x":"y",X).attr(r?"y":"x",d3$3.min(a)).attr(r?"width":"height",Math.max(E,2)).attr(r?"height":"width",Math.max(d3$3.max(a)-d3$3.min(a),2));if(e._fillgradient)Drawing$2.gradient(s,i,e._id,r?"vertical":"horizontalreversed",e._fillgradient,"fill");else{var o=v(t).replace("e-","");s.attr("fill",tinycolor$2(o).toHexString())}});var F=t.select("."+cn.cblines).selectAll("path."+cn.cbline).data(m.color&&m.width?G:[]);F.enter().append("path").classed(cn.cbline,!0),F.exit().remove(),F.each(function(t){var e=X,i=Math.round(Y.c2p(t))+m.width/2%1;d3$3.select(this).attr("d","M"+(r?e+","+i:i+","+e)+(r?"h":"v")+E).call(Drawing$2.lineGroupStyle,m.width,A(t),m.dash)}),tt.selectAll("g."+Y._id+"tick,path").remove();var h=X+E+(l||0)/2-("outside"===e.ticks?1:0),Q=Axes$4.calcTicks(Y),U=Axes$4.getTickSigns(Y)[2];return Axes$4.drawTicks(i,Y,{vals:"inside"===Y.ticks?Axes$4.clipEnds(Y,Q):Q,layer:tt,path:Axes$4.makeTickPath(Y,h,U),transFn:Axes$4.makeTransTickFn(Y)}),Axes$4.drawLabels(i,Y,{vals:Q,layer:tt,transFn:Axes$4.makeTransTickLabelFn(Y),labelFns:Axes$4.makeLabelFns(Y,h)})},function(){if(r&&!J||!r&&J){var t,n,a=Y.position||0,s=Y._offset+Y._length/2;if("right"===f)n=s,t=p.l+D*a+10+q*(Y.showticklabels?1:.5);else if(t=s,"bottom"===f&&(n=p.t+w*a+10+(-1===j.indexOf("inside")?Y.tickfont.size:0)+("inside"!==Y.ticks&&e.ticklen||0)),"top"===f){var o=C.text.split("<br>").length;n=p.t+w*a+10-E-LINE_SPACING*q*o}rt((r?"h":"v")+Y._id+"title",{avoid:{selection:d3$3.select(i).selectAll("g."+Y._id+"tick"),side:f,offsetTop:r?0:p.t,offsetLeft:r?p.l:0,maxShift:r?b.width:b.height},attributes:{x:t,y:n,"text-anchor":"middle"},transform:{rotate:r?-90:0,offset:0}})}},Plots.previousPromises,function(){var y,m=E+l/2;-1===j.indexOf("inside")&&(y=Drawing$2.bBox(tt.node()),m+=r?y.width:y.height),_=P.select("text");var x=0,A=r&&"top"===f,v=!r&&"right"===f,L=0;if(_.node()&&!_.classed(cn.jsPlaceholder)){var R,S=P.select(".h"+Y._id+"title-math-group").node();S&&(r&&J||!r&&!J)?(x=(y=Drawing$2.bBox(S)).width,R=y.height):(x=(y=Drawing$2.bBox(P.node())).right-p.l-(r?X:k),R=y.bottom-p.t-(r?k:X),r||"top"!==f||(m+=y.height,L=y.height)),v&&(_.attr("transform",strTranslate(x/2+q/2,0)),x*=2),m=Math.max(m,r?x:R)}var G=2*(r?B:F)+m+c+l/2,V=0;!r&&C.text&&"bottom"===u&&Q<=0&&(G+=V=G/2,L+=V),b._hColorbarMoveTitle=V,b._hColorbarMoveCBTitle=L;var N=c+l,D=(r?X:k)-N/2-(r?B:0),w=(r?k:X)-(r?Z:F+L-V);t.select("."+cn.cbbg).attr("x",D).attr("y",w).attr(r?"width":"height",Math.max(G-V,2)).attr(r?"height":"width",Math.max(Z+N,2)).call(Color$6.fill,g).call(Color$6.stroke,e.bordercolor).style("stroke-width",c);var T=v?Math.max(x-10,0):0;t.selectAll("."+cn.cboutline).attr("x",(r?X:k+B)+T).attr("y",(r?k+F-Z:X)+(A?et:0)).attr(r?"width":"height",Math.max(E,2)).attr(r?"height":"width",Math.max(Z-(r?2*F+et:2*B+T),2)).call(Color$6.stroke,e.outlinecolor).style({fill:"none","stroke-width":l});var M=r?W*G:0,$=r?0:(1-H)*G-L;if(M=I?p.l-M:-M,$=U?p.t-$:-$,t.attr("transform",strTranslate(M,$)),!r&&(c||tinycolor$2(g).getAlpha()&&!tinycolor$2.equals(b.paper_bgcolor,g))){var z=tt.selectAll("text"),O=z[0].length,K=t.select("."+cn.cbbg).node(),it=Drawing$2.bBox(K),rt=Drawing$2.getTranslate(t);z.each(function(t,e){var i=O-1;if(0===e||e===i){var r,n=Drawing$2.bBox(this),a=Drawing$2.getTranslate(this);if(e===i){var s=n.right+a.x;(r=it.right+rt.x+k-c-2+h-s)>0&&(r=0)}else if(0===e){var o=n.left+a.x;(r=it.left+rt.x+k+c+2-o)<0&&(r=0)}r&&(O<3?this.setAttribute("transform","translate("+r+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var nt={},at=FROM_TL[d],st=FROM_BR[d],ot=FROM_TL[u],lt=FROM_BR[u],ct=G-E;r?("pixels"===a?(nt.y=Q,nt.t=Z*ot,nt.b=Z*lt):(nt.t=nt.b=0,nt.yt=Q+n*ot,nt.yb=Q-n*lt),"pixels"===o?(nt.x=h,nt.l=G*at,nt.r=G*st):(nt.l=ct*at,nt.r=ct*st,nt.xl=h-s*at,nt.xr=h+s*st)):("pixels"===a?(nt.x=h,nt.l=Z*at,nt.r=Z*st):(nt.l=nt.r=0,nt.xl=h+n*at,nt.xr=h-n*st),"pixels"===o?(nt.y=1-Q,nt.t=G*ot,nt.b=G*lt):(nt.t=ct*ot,nt.b=ct*lt,nt.yt=Q-s*ot,nt.yb=Q+s*lt));var gt=e.y<.5?"b":"t",dt=e.x<.5?"l":"r";i._fullLayout._reservedMargin[e._id]={};var ut={r:b.width-D-M,l:D+nt.r,b:b.height-w-$,t:w+nt.b};I&&U?Plots.autoMargin(i,e._id,nt):I?i._fullLayout._reservedMargin[e._id][gt]=ut[gt]:U||r?i._fullLayout._reservedMargin[e._id][dt]=ut[dt]:i._fullLayout._reservedMargin[e._id][gt]=ut[gt]}],i)}function makeEditable(t,e,i){var r,n,a,s="v"===e.orientation,o=i._fullLayout._size;dragElement.init({element:t.node(),gd:i,prepFn:function(){r=t.attr("transform"),setCursor(t)},moveFn:function(i,l){t.attr("transform",r+strTranslate(i,l)),n=dragElement.align((s?e._uFrac:e._vFrac)+i/o.w,s?e._thickFrac:e._lenFrac,0,1,e.xanchor),a=dragElement.align((s?e._vFrac:1-e._uFrac)-l/o.h,s?e._lenFrac:e._thickFrac,0,1,e.yanchor);var c=dragElement.getCursor(n,a,e.xanchor,e.yanchor);setCursor(t,c)},doneFn:function(){if(setCursor(t),void 0!==n&&void 0!==a){var r={};r[e._propPrefix+"x"]=n,r[e._propPrefix+"y"]=a,void 0!==e._traceIndex?Registry$c.call("_guiRestyle",i,r,e._traceIndex):Registry$c.call("_guiRelayout",i,r)}}})}function calcLevels(t,e,i){var r,n,a=e._levels,s=[],o=[],l=a.end+a.size/100,c=a.size,g=1.001*i[0]-.001*i[1],d=1.001*i[1]-.001*i[0];for(n=0;n<1e5&&(r=a.start+n*c,!(c>0?r>=l:r<=l));n++)r>g&&r<d&&s.push(r);if(e._fillgradient)o=[0];else if("function"==typeof e._fillcolor){var u=e._filllevels;if(u)for(l=u.end+u.size/100,c=u.size,n=0;n<1e5&&(r=u.start+n*c,!(c>0?r>=l:r<=l));n++)r>i[0]&&r<i[1]&&o.push(r);else o=s.map(function(t){return t-a.size/2}),o.push(o[o.length-1]+a.size)}else e._fillcolor&&"string"==typeof e._fillcolor&&(o=[0]);return a.size<0&&(s.reverse(),o.reverse()),{line:s,fill:o}}function mockColorBarAxis(t,e,i){var r=t._fullLayout,n="v"===e.orientation,a={type:"linear",range:i,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,labelalias:e.labelalias,ticklabelposition:e.ticklabelposition,ticklabeloverflow:e.ticklabeloverflow,ticklabelstep:e.ticklabelstep,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:n?"right":"bottom",position:1},s=n?"y":"x",o={type:"linear",_id:s+e._id},l={letter:s,font:r.font,noAutotickangles:"y"===s,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:r.calendar};function c(t,e){return Lib$h.coerce(a,o,axisLayoutAttrs,t,e)}return handleAxisDefaults(a,o,c,l,r),handleAxisPositionDefaults(a,o,c,l),o}var draw_1={draw:draw},colorbar={moduleType:"component",name:"colorbar",attributes:attributes$G,supplyDefaults:defaults$u,draw:draw_1.draw,hasColorbar:has_colorbar},legend={moduleType:"component",name:"legend",layoutAttributes:attributes$D,supplyLayoutDefaults:defaults$s,draw:draw$b,style:style$5},localeEn={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}},localeEnUs={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}},Registry$b=registry$1,Lib$g=libExports,extendFlat$6=Lib$g.extendFlat,extendDeep=Lib$g.extendDeep;function cloneLayoutOverride(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}function keyIsAxis(t){return["xaxis","yaxis","zaxis"].indexOf(t.slice(0,5))>-1}var cloneplot=function(t,e){var i,r=t.data,n=t.layout,a=extendDeep([],r),s=extendDeep({},n,cloneLayoutOverride(e.tileClass)),o=t._context||{};if(e.width&&(s.width=e.width),e.height&&(s.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){s.annotations=[];var l=Object.keys(s);for(i=0;i<l.length;i++)keyIsAxis(l[i])&&(s[l[i]].title={text:""});for(i=0;i<a.length;i++){var c=a[i];c.showscale=!1,c.marker&&(c.marker.showscale=!1),Registry$b.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(e.annotations))for(i=0;i<e.annotations.length;i++)s.annotations.push(e.annotations[i]);var g=Object.keys(s).filter(function(t){return t.match(/^scene\d*$/)});if(g.length){var d={};for("thumbnail"===e.tileClass&&(d={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<g.length;i++){var u=s[g[i]];u.xaxis||(u.xaxis={}),u.yaxis||(u.yaxis={}),u.zaxis||(u.zaxis={}),extendFlat$6(u.xaxis,d),extendFlat$6(u.yaxis,d),extendFlat$6(u.zaxis,d),u._scene=null}}var B=document.createElement("div");e.tileClass&&(B.className=e.tileClass);var F={gd:B,td:B,layout:s,data:a,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:o.mapboxAccessToken}};return"transparent"!==e.setBackground&&(F.config.setBackground=e.setBackground||"opaque"),F.gd.defaultLayout=cloneLayoutOverride(e.tileClass),F},EventEmitter=eventsExports.EventEmitter,Registry$a=registry$1,Lib$f=libExports,helpers$4=helpers$c,clonePlot=cloneplot,toSVG=tosvg,svgToImg=svgtoimg;function toImage(t,e){var i=new EventEmitter,r=clonePlot(t,{}),n=r.gd;n.style.position="absolute",n.style.left="-5000px",document.body.appendChild(n);var a=helpers$4.getRedrawFunc(n);return Registry$a.call("_doPlot",n,r.data,r.layout,r.config).then(a).then(function(){var t=helpers$4.getDelay(n._fullLayout);setTimeout(function(){var t=toSVG(n),r=document.createElement("canvas");r.id=Lib$f.randstr(),(i=svgToImg({format:e.format,width:n._fullLayout.width,height:n._fullLayout.height,canvas:r,emitter:i,svg:t})).clean=function(){n&&document.body.removeChild(n)}},t)}).catch(function(t){i.emit("error",t)}),i}var toimage=toImage,helpers$3=helpers$c,Snapshot={getDelay:helpers$3.getDelay,getRedrawFunc:helpers$3.getRedrawFunc,clone:cloneplot,toSVG:tosvg,svgToImg:svgtoimg,toImage:toimage,downloadImage:download},snapshot=Snapshot;!function(t){t.version=version$2.version;for(var e=registry$1,i=t.register=e.register,r=plot_api$1,n=Object.keys(r),a=0;a<n.length;a++){var s=n[a];"_"!==s.charAt(0)&&(t[s]=r[s]),i({moduleType:"apiMethod",name:s,fn:r[s]})}i(scatter),i([annotations,annotations3d,selections,shapes$1,images,updatemenus,sliders,rangeslider,rangeselector,grid,errorbars,colorscale,colorbar,legend,fx,modebar]),i([localeEn,localeEnUs]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),t.Icons=ploticon;var o=fx,l=plotsExports;t.Plots={resize:l.resize,graphJson:l.graphJson,sendDataToCloud:l.sendDataToCloud},t.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},t.Snapshot=snapshot,t.PlotSchema=plot_schema}(core$1);var core=core$1,constants$4={TEXTPAD:3,eventDataKeys:["value","label"]},scatterAttrs$1=attributes$x,axisHoverFormat$5=axis_format_attributes.axisHoverFormat,hovertemplateAttrs$5=template_attributes.hovertemplateAttrs,texttemplateAttrs$2=template_attributes.texttemplateAttrs,colorScaleAttrs$3=attributes$F,fontAttrs$2=requireFont_attributes(),constants$3=constants$4,pattern=attributes$J.pattern,extendFlat$5=extend.extendFlat,textFontAttrs=fontAttrs$2({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),scatterMarkerAttrs$1=scatterAttrs$1.marker,scatterMarkerLineAttrs$1=scatterMarkerAttrs$1.line,markerLineWidth=extendFlat$5({},scatterMarkerLineAttrs$1.width,{dflt:0}),markerLine=extendFlat$5({width:markerLineWidth,editType:"calc"},colorScaleAttrs$3("marker.line")),marker=extendFlat$5({line:markerLine,editType:"calc"},colorScaleAttrs$3("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style",description:"Sets the opacity of the bars."},pattern:pattern,cornerradius:{valType:"any",editType:"calc",description:["Sets the rounding of corners. May be an integer number of pixels,","or a percentage of bar width (as a string ending in %). Defaults to `layout.barcornerradius`.","In stack or relative barmode, the first trace to set cornerradius is used for the whole stack."].join(" ")}}),attributes$b={x:scatterAttrs$1.x,x0:scatterAttrs$1.x0,dx:scatterAttrs$1.dx,y:scatterAttrs$1.y,y0:scatterAttrs$1.y0,dy:scatterAttrs$1.dy,xperiod:scatterAttrs$1.xperiod,yperiod:scatterAttrs$1.yperiod,xperiod0:scatterAttrs$1.xperiod0,yperiod0:scatterAttrs$1.yperiod0,xperiodalignment:scatterAttrs$1.xperiodalignment,yperiodalignment:scatterAttrs$1.yperiodalignment,xhoverformat:axisHoverFormat$5("x"),yhoverformat:axisHoverFormat$5("y"),text:scatterAttrs$1.text,texttemplate:texttemplateAttrs$2({editType:"plot"},{keys:constants$3.eventDataKeys}),hovertext:scatterAttrs$1.hovertext,hovertemplate:hovertemplateAttrs$5({},{keys:constants$3.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside.","If *none*, no text appears."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:extendFlat$5({},textFontAttrs,{description:"Sets the font used for `text`."}),insidetextfont:extendFlat$5({},textFontAttrs,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:extendFlat$5({},textFontAttrs,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:extendFlat$5({},scatterAttrs$1.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},marker:marker,offsetgroup:scatterAttrs$1.offsetgroup,alignmentgroup:scatterAttrs$1.alignmentgroup,selected:{marker:{opacity:scatterAttrs$1.selected.marker.opacity,color:scatterAttrs$1.selected.marker.color,editType:"style"},textfont:scatterAttrs$1.selected.textfont,editType:"style"},unselected:{marker:{opacity:scatterAttrs$1.unselected.marker.opacity,color:scatterAttrs$1.unselected.marker.color,editType:"style"},textfont:scatterAttrs$1.unselected.textfont,editType:"style"},zorder:scatterAttrs$1.zorder},bin_attributes=function(t,e){return{start:{valType:"any",editType:"calc",description:["Sets the starting value for the",t,"axis bins. Defaults to the minimum data value,","shifted down if necessary to make nice round values","and to remove ambiguous bin edges. For example, if most of the","data is integers we shift the bin edges 0.5 down, so a `size`","of 5 would have a default `start` of -0.5, so it is clear","that 0-4 are in the first bin, 5-9 in the second, but","continuous data gets a start of 0 and bins [0,5), [5,10) etc.","Dates behave similarly, and `start` should be a date string.","For category data, `start` is based on the category serial","numbers, and defaults to -0.5.",e?"If multiple non-overlaying histograms share a subplot, the first explicit `start` is used exactly and all others are shifted down (if necessary) to differ from that one by an integer number of bins.":""].join(" ")},end:{valType:"any",editType:"calc",description:["Sets the end value for the",t,"axis bins. The last bin may not end exactly at this value,","we increment the bin edge by `size` from `start` until we","reach or exceed `end`. Defaults to the maximum data value.","Like `start`, for dates use a date string, and for category","data `end` is based on the category serial numbers."].join(" ")},size:{valType:"any",editType:"calc",description:["Sets the size of each",t,"axis bin.","Default behavior: If `nbins"+t+"` is 0 or omitted,","we choose a nice round bin size such that the number of bins","is about the same as the typical number of samples in each bin.","If `nbins"+t+"` is provided, we choose a nice round","bin size giving no more than that many bins.","For date data, use milliseconds or *M<n>* for months, as in","`axis.dtick`. For category data, the number of categories to","bin together (always defaults to 1).",e?"If multiple non-overlaying histograms share a subplot, the first explicit `size` is used and all others discarded. If no `size` is provided,the sample data from all traces is combined to determine `size` as described above.":""].join(" ")},editType:"calc"}},constants$2={eventDataKeys:["binNumber"]},barAttrs=attributes$b,axisHoverFormat$4=axis_format_attributes.axisHoverFormat,hovertemplateAttrs$4=template_attributes.hovertemplateAttrs,texttemplateAttrs$1=template_attributes.texttemplateAttrs,fontAttrs$1=requireFont_attributes(),makeBinAttrs=bin_attributes,constants$1=constants$2,extendFlat$4=extend.extendFlat,attributes$a={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the x axis."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the y axis."].join(" ")},xhoverformat:axisHoverFormat$4("x"),yhoverformat:axisHoverFormat$4("y"),text:extendFlat$4({},barAttrs.text,{description:["Sets hover text elements associated with each bar.","If a single string, the same string appears over all bars.","If an array of string, the items are mapped in order to the","this trace's coordinates."].join(" ")}),hovertext:extendFlat$4({},barAttrs.hovertext,{description:"Same as `text`."}),orientation:barAttrs.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc",description:["Specifies the binning function used for this histogram trace.","If *count*, the histogram values are computed by counting the","number of values lying inside each bin.","If *sum*, *avg*, *min*, *max*,","the histogram values are computed using","the sum, the average, the minimum or the maximum","of the values lying inside each bin respectively."].join(" ")},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc",description:["Specifies the type of normalization used for this histogram trace.","If **, the span of each bar corresponds to the number of","occurrences (i.e. the number of data points lying inside the bins).","If *percent* / *probability*, the span of each bar corresponds to","the percentage / fraction of occurrences with respect to the total","number of sample points","(here, the sum of all bin HEIGHTS equals 100% / 1).","If *density*, the span of each bar corresponds to the number of","occurrences in a bin divided by the size of the bin interval","(here, the sum of all bin AREAS equals the","total number of sample points).","If *probability density*, the area of each bar corresponds to the","probability that an event will fall into the corresponding bin","(here, the sum of all bin AREAS equals 1)."].join(" ")},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc",description:["If true, display the cumulative distribution by summing the","binned values. Use the `direction` and `centralbin` attributes","to tune the accumulation method.","Note: in this mode, the *density* `histnorm` settings behave","the same as their equivalents without *density*:","** and *density* both rise to the number of data points, and","*probability* and *probability density* both rise to the","number of sample points."].join(" ")},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc",description:["Only applies if cumulative is enabled.","If *increasing* (default) we sum all prior bins, so the result","increases from left to right. If *decreasing* we sum later bins","so the result decreases from left to right."].join(" ")},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc",description:["Only applies if cumulative is enabled.","Sets whether the current bin is included, excluded, or has half","of its value included in the current cumulative value.","*include* is the default for compatibility with various other","tools, however it introduces a half-bin bias to the results.","*exclude* makes the opposite half-bin bias, and *half* removes","it."].join(" ")},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `xbins.size` is provided."].join(" ")},xbins:makeBinAttrs("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `ybins.size` is provided."].join(" ")},ybins:makeBinAttrs("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobinx` is not needed. However, we accept","`autobinx: true` or `false` and will update `xbins` accordingly","before deleting `autobinx` from the trace."].join(" ")},autobiny:{valType:"boolean",dflt:null,editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobiny` is not needed. However, we accept","`autobiny: true` or `false` and will update `ybins` accordingly","before deleting `autobiny` from the trace."].join(" ")},bingroup:{valType:"string",dflt:"",editType:"calc",description:["Set a group of histogram traces which will have compatible bin settings.","Note that traces on the same subplot and with the same *orientation*","under `barmode` *stack*, *relative* and *group* are forced into the same bingroup,","Using `bingroup`, traces under `barmode` *overlay* and on different axes","(of the same axis type) can have compatible bin settings.","Note that histogram and histogram2d* trace can share the same `bingroup`"].join(" ")},hovertemplate:hovertemplateAttrs$4({},{keys:constants$1.eventDataKeys}),texttemplate:texttemplateAttrs$1({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:extendFlat$4({},barAttrs.textposition,{arrayOk:!1}),textfont:fontAttrs$1({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the text font."}),outsidetextfont:fontAttrs$1({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the font used for `text` lying outside the bar."}),insidetextfont:fontAttrs$1({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the font used for `text` lying inside the bar."}),insidetextanchor:barAttrs.insidetextanchor,textangle:barAttrs.textangle,cliponaxis:barAttrs.cliponaxis,constraintext:barAttrs.constraintext,marker:barAttrs.marker,offsetgroup:barAttrs.offsetgroup,alignmentgroup:barAttrs.alignmentgroup,selected:barAttrs.selected,unselected:barAttrs.unselected,zorder:barAttrs.zorder},layout_attributes$1={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to reduce *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")},barcornerradius:{valType:"any",editType:"calc",description:["Sets the rounding of bar corners. May be an integer number of pixels,","or a percentage of bar width (as a string ending in %)."].join(" ")}},Color$5=colorExports,hasColorscale$1=helpers$A.hasColorscale,colorscaleDefaults$1=defaults$t,coercePattern=libExports.coercePattern,style_defaults=function(t,e,i,r,n){var a=i("marker.color",r),s=hasColorscale$1(t,"marker");s&&colorscaleDefaults$1(t,e,n,i,{prefix:"marker.",cLetter:"c"}),i("marker.line.color",Color$5.defaultLine),hasColorscale$1(t,"marker.line")&&colorscaleDefaults$1(t,e,n,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width"),i("marker.opacity"),coercePattern(i,"marker.pattern",a,s),i("selected.marker.color"),i("unselected.marker.color")},isNumeric$6=fastIsnumeric,Lib$e=libExports,coerceFont=Lib$e.coerceFont;function validateCornerradius$2(t){if(isNumeric$6(t)){if((t=+t)>=0)return t}else if("string"==typeof t&&"%"===(t=t.trim()).slice(-1)&&isNumeric$6(t.slice(0,-1))&&(t=+t.slice(0,-1))>=0)return t+"%"}function handleText$1(t,e,i,r,n,a){var s=!(!1===(a=a||{}).moduleHasSelected),o=!(!1===a.moduleHasUnselected),l=!(!1===a.moduleHasConstrain),c=!(!1===a.moduleHasCliponaxis),g=!(!1===a.moduleHasTextangle),d=!(!1===a.moduleHasInsideanchor),u=!!a.hasPathbar,B=Array.isArray(n)||"auto"===n,F=B||"inside"===n,h=B||"outside"===n;if(F||h){var Q=coerceFont(r,"textfont",i.font),U=Lib$e.extendFlat({},Q),I=!(t.textfont&&t.textfont.color);if(I&&delete U.color,coerceFont(r,"insidetextfont",U),u){var b=Lib$e.extendFlat({},Q);I&&delete b.color,coerceFont(r,"pathbar.textfont",b)}h&&coerceFont(r,"outsidetextfont",Q),s&&r("selected.textfont.color"),o&&r("unselected.textfont.color"),l&&r("constraintext"),c&&r("cliponaxis"),g&&r("textangle"),r("texttemplate")}F&&d&&r("insidetextanchor")}var defaults$c={handleText:handleText$1,validateCornerradius:validateCornerradius$2},Registry$9=registry$1,Lib$d=libExports,Color$4=colorExports,handleText=defaults$c.handleText,handleStyleDefaults=style_defaults,attributes$9=attributes$a,defaults$b=function(t,e,i,r){function n(i,r){return Lib$d.coerce(t,e,attributes$9,i,r)}var a=n("x"),s=n("y");n("cumulative.enabled")&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var o=n("textposition");handleText(t,e,r,n,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var l=n("orientation",s&&!a?"h":"v"),c="v"===l?"x":"y",g="v"===l?"y":"x",d=a&&s?Math.min(Lib$d.minRowLength(a)&&Lib$d.minRowLength(s)):Lib$d.minRowLength(e[c]||[]);if(d){e._length=d,Registry$9.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],r),e[g]&&n("histfunc"),n("histnorm"),n("autobin"+c),handleStyleDefaults(t,e,n,i,r),Lib$d.coerceSelectionMarkerOpacity(e,n);var u=(e.marker.line||{}).color,B=Registry$9.getComponentMethod("errorbars","supplyDefaults");B(t,e,u||Color$4.defaultLine,{axis:"y"}),B(t,e,u||Color$4.defaultLine,{axis:"x",inherit:"y"}),n("zorder")}else e.visible=!1},Lib$c=libExports,axisIds=axis_ids$1,traceIs=registry$1.traceIs,handleGroupingDefaults=grouping_defaults,validateCornerradius$1=defaults$c.validateCornerradius,nestedProperty=Lib$c.nestedProperty,getAxisGroup=constraints.getAxisGroup,BINATTRS=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],BINDIRECTIONS=["x","y"],cross_trace_defaults=function(t,e){var i,r,n,a,s,o,l,c=e._histogramBinOpts={},g=[],d={},u=[];function B(t,e){return Lib$c.coerce(i._input,i,i._module.attributes,t,e)}function F(t){return"v"===t.orientation?"x":"y"}function h(t,i,r){var n=t.uid+"__"+r;i||(i=n);var a=function(t,i){return axisIds.getFromTrace({_fullLayout:e},t,i).type}(t,r),s=t[r+"calendar"]||"",o=c[i],l=!0;o&&(a===o.axType&&s===o.calendar?(l=!1,o.traces.push(t),o.dirs.push(r)):(i=n,a!==o.axType&&Lib$c.warn(["Attempted to group the bins of trace",t.index,"set on a","type:"+a,"axis","with bins on","type:"+o.axType,"axis."].join(" ")),s!==o.calendar&&Lib$c.warn(["Attempted to group the bins of trace",t.index,"set with a",s,"calendar","with bins",o.calendar?"on a "+o.calendar+" calendar":"w/o a set calendar"].join(" ")))),l&&(c[i]={traces:[t],dirs:[r],axType:a,calendar:t[r+"calendar"]||""}),t["_"+r+"bingroup"]=i}for(s=0;s<t.length;s++)if(i=t[s],traceIs(i,"histogram")){if(g.push(i),delete i._xautoBinFinished,delete i._yautoBinFinished,"histogram"===i.type){var Q=B("marker.cornerradius",e.barcornerradius);i.marker&&(i.marker.cornerradius=validateCornerradius$1(Q))}traceIs(i,"2dMap")||handleGroupingDefaults(i._input,i,e,B,e.barmode)}var U=e._alignmentOpts||{};for(s=0;s<g.length;s++){if(i=g[s],n="",!traceIs(i,"2dMap")){if(a=F(i),"group"===e.barmode&&i.alignmentgroup){var I=i[a+"axis"],b=getAxisGroup(e,I)+i.orientation;(U[b]||{})[i.alignmentgroup]&&(n=b)}n||"overlay"===e.barmode||(n=getAxisGroup(e,i.xaxis)+getAxisGroup(e,i.yaxis)+F(i))}n?(d[n]||(d[n]=[]),d[n].push(i)):u.push(i)}for(n in d)if(1!==(r=d[n]).length){var p=!1;for(r.length&&(i=r[0],p=B("bingroup")),n=p||n,s=0;s<r.length;s++){var y=(i=r[s])._input.bingroup;y&&y!==n&&Lib$c.warn(["Trace",i.index,"must match","within bingroup",n+".","Ignoring its bingroup:",y,"setting."].join(" ")),i.bingroup=n,h(i,n,F(i))}}else u.push(r[0]);for(s=0;s<u.length;s++){i=u[s];var m=B("bingroup");if(traceIs(i,"2dMap"))for(l=0;l<2;l++){var C=B((a=BINDIRECTIONS[l])+"bingroup",m?m+"__"+a:null);h(i,C,a)}else h(i,m,F(i))}for(n in c){var f=c[n];for(r=f.traces,o=0;o<BINATTRS.length;o++){var x,A,v=BINATTRS[o],L=v.name;if("nbins"!==L||!f.sizeFound){for(s=0;s<r.length;s++){if(i=r[s],a=f.dirs[s],x=v.aStr[a],void 0!==nestedProperty(i._input,x).get()){f[L]=B(x),f[L+"Found"]=!0;break}(A=(i._autoBin||{})[a]||{})[L]&&nestedProperty(i,x).set(A[L])}if("start"===L||"end"===L)for(;s<r.length;s++)(i=r[s])["_"+a+"bingroup"]&&B(x,(A=(i._autoBin||{})[a]||{})[L]);"nbins"!==L||f.sizeFound||f.nbinsFound||(i=r[0],f[L]=B(x))}}}},Registry$8=registry$1,Axes$3=axesExports,Lib$b=libExports,layoutAttributes=layout_attributes$1,validateCornerradius=defaults$c.validateCornerradius,layout_defaults=function(t,e,i){function r(i,r){return Lib$b.coerce(t,e,layoutAttributes,i,r)}for(var n=!1,a=!1,s=!1,o={},l=r("barmode"),c="group"===l,g=0;g<i.length;g++){var d=i[g];if(Registry$8.traceIs(d,"bar")&&d.visible){n=!0;var u=d.xaxis+d.yaxis;if(c?(o[u]&&(s=!0),o[u]=!0):(u+=d._input.offsetgroup,o.length>0&&!o[u]&&(s=!0),o[u]=!0),d.visible&&"histogram"===d.type)"category"!==Axes$3.getFromId({_fullLayout:e},d["v"===d.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}if(n){"overlay"!==l&&r("barnorm"),r("bargap",a&&!s?0:.2),r("bargroupgap");var B=r("barcornerradius");e.barcornerradius=validateCornerradius(B)}else delete e.barmode},Lib$a=libExports,arrays_to_calcdata=function(t,e){for(var i=0;i<t.length;i++)t[i].i=i;Lib$a.mergeArray(e.text,t,"tx"),Lib$a.mergeArray(e.hovertext,t,"htx");var r=e.marker;if(r){Lib$a.mergeArray(r.opacity,t,"mo",!0),Lib$a.mergeArray(r.color,t,"mc");var n=r.line;n&&(Lib$a.mergeArray(n.color,t,"mlc"),Lib$a.mergeArrayCastPositive(n.width,t,"mlw"))}},isNumeric$5=fastIsnumeric,bin_functions={count:function(t,e,i){return i[t]++,1},sum:function(t,e,i,r){var n=r[e];return isNumeric$5(n)?(n=Number(n),i[t]+=n,n):0},avg:function(t,e,i,r,n){var a=r[e];return isNumeric$5(a)&&(a=Number(a),i[t]+=a,n[t]++),0},min:function(t,e,i,r){var n=r[e];if(isNumeric$5(n)){if(n=Number(n),!isNumeric$5(i[t]))return i[t]=n,n;if(i[t]>n){var a=n-i[t];return i[t]=n,a}}return 0},max:function(t,e,i,r){var n=r[e];if(isNumeric$5(n)){if(n=Number(n),!isNumeric$5(i[t]))return i[t]=n,n;if(i[t]<n){var a=n-i[t];return i[t]=n,a}}return 0}},norm_functions={percent:function(t,e){for(var i=t.length,r=100/e,n=0;n<i;n++)t[n]*=r},probability:function(t,e){for(var i=t.length,r=0;r<i;r++)t[r]/=e},density:function(t,e,i,r){var n=t.length;r=r||1;for(var a=0;a<n;a++)t[a]*=i[a]*r},"probability density":function(t,e,i,r){var n=t.length;r&&(e/=r);for(var a=0;a<n;a++)t[a]*=i[a]/e}},average=function(t,e){for(var i=t.length,r=0,n=0;n<i;n++)e[n]?(t[n]/=e[n],r+=t[n]):t[n]=null;return r},numConstants=numerical,oneYear=numConstants.ONEAVGYEAR,oneMonth=numConstants.ONEAVGMONTH,oneDay=numConstants.ONEDAY,oneHour=numConstants.ONEHOUR,oneMin=numConstants.ONEMIN,oneSec=numConstants.ONESEC,tickIncrement=axesExports.tickIncrement,bin_label_vals=function(t,e,i,r,n){var a,s,o=-1.1*e,l=-.1*e,c=t-l,g=i[0],d=i[1],u=Math.min(biggestDigitChanged(g+l,g+c,r,n),biggestDigitChanged(d+l,d+c,r,n)),B=Math.min(biggestDigitChanged(g+o,g+l,r,n),biggestDigitChanged(d+o,d+l,r,n));if(u>B&&B<Math.abs(d-g)/4e3?(a=u,s=!1):(a=Math.min(u,B),s=!0),"date"===r.type&&a>oneDay){var F=a===oneYear?1:6,h=a===oneYear?"M12":"M1";return function(e,i){var a=r.c2d(e,oneYear,n),o=a.indexOf("-",F);o>0&&(a=a.substr(0,o));var l=r.d2c(a,0,n);if(l<e){var c=tickIncrement(l,h,!1,n);(l+c)/2<e+t&&(l=c)}return i&&s?tickIncrement(l,h,!0,n):l}}return function(e,i){var r=a*Math.round(e/a);return r+a/10<e&&r+.9*a<e+t&&(r+=a),i&&s&&(r-=a),r}};function biggestDigitChanged(t,e,i,r){if(t*e<=0)return 1/0;for(var n=Math.abs(e-t),a="date"===i.type,s=biggestGuaranteedDigitChanged(n,a),o=0;o<10;o++){var l=biggestGuaranteedDigitChanged(80*s,a);if(s===l)break;if(!didDigitChange(l,t,e,a,i,r))break;s=l}return s}function biggestGuaranteedDigitChanged(t,e){return e&&t>oneSec?t>oneDay?t>1.1*oneYear?oneYear:t>1.1*oneMonth?oneMonth:oneDay:t>oneHour?oneHour:t>oneMin?oneMin:oneSec:Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function didDigitChange(t,e,i,r,n,a){if(r&&t>oneDay){var s=dateParts(e,n,a),o=dateParts(i,n,a),l=t===oneYear?0:1;return s[l]!==o[l]}return Math.floor(i/t)-Math.floor(e/t)>.1}function dateParts(t,e,i){var r=e.c2d(t,oneYear,i).split("-");return""===r[0]&&(r.unshift(),r[0]="-"+r[0]),r}var isNumeric$4=fastIsnumeric,Lib$9=libExports,Registry$7=registry$1,Axes$2=axesExports;const{hasColorscale:hasColorscale}=helpers$A,colorscaleCalc$1=calc$7;var arraysToCalcdata$1=arrays_to_calcdata,binFunctions=bin_functions,normFunctions=norm_functions,doAvg=average,getBinSpanLabelRound=bin_label_vals;function calc$2(t,e){var i,r,n,a,s=[],o=[],l="h"===e.orientation,c=Axes$2.getFromId(t,l?e.yaxis:e.xaxis),g=l?"y":"x",d={x:"y",y:"x"}[g],u=e[g+"calendar"],B=e.cumulative,F=calcAllAutoBins(t,e,c,g),h=F[0],Q=F[1],U="string"==typeof h.size,I=[],b=U?I:h,p=[],y=[],m=[],C=0,f=e.histnorm,x=e.histfunc,A=-1!==f.indexOf("density");B.enabled&&A&&(f=f.replace(/ ?density$/,""),A=!1);var v,L="max"===x||"min"===x?null:0,R=binFunctions.count,S=normFunctions[f],G=!1,E=function(t){return c.r2c(t,0,u)};for(Lib$9.isArrayOrTypedArray(e[d])&&"count"!==x&&(v=e[d],G="avg"===x,R=binFunctions[x]),i=E(h.start),n=E(h.end)+(i-Axes$2.tickIncrement(i,h.size,!1,u))/1e6;i<n&&s.length<1e6&&(r=Axes$2.tickIncrement(i,h.size,!1,u),s.push((i+r)/2),o.push(L),m.push([]),I.push(i),A&&p.push(1/(r-i)),G&&y.push(0),!(r<=i));)i=r;I.push(i),U||"date"!==c.type||(b={start:E(b.start),end:E(b.end),size:b.size}),t._fullLayout._roundFnOpts||(t._fullLayout._roundFnOpts={});var V=e["_"+g+"bingroup"],Z={leftGap:1/0,rightGap:1/0};V&&(t._fullLayout._roundFnOpts[V]||(t._fullLayout._roundFnOpts[V]=Z),Z=t._fullLayout._roundFnOpts[V]);var N,D=o.length,w=!0,X=Z.leftGap,W=Z.rightGap,H={};for(i=0;i<Q.length;i++){var T=Q[i];(a=Lib$9.findBin(T,b))>=0&&a<D&&(C+=R(a,i,o,v,y),w&&m[a].length&&T!==Q[m[a][0]]&&(w=!1),m[a].push(i),H[i]=a,X=Math.min(X,T-I[a]),W=Math.min(W,I[a+1]-T))}Z.leftGap=X,Z.rightGap=W,w||(N=function(e,i){return function(){var r=t._fullLayout._roundFnOpts[V];return getBinSpanLabelRound(r.leftGap,r.rightGap,I,c,u)(e,i)}}),G&&(C=doAvg(o,y)),S&&S(o,C,p),B.enabled&&cdf(o,B.direction,B.currentbin);var M=Math.min(s.length,o.length),k=[],Y=0,J=M-1;for(i=0;i<M;i++)if(o[i]){Y=i;break}for(i=M-1;i>=Y;i--)if(o[i]){J=i;break}for(i=Y;i<=J;i++)if(isNumeric$4(s[i])&&isNumeric$4(o[i])){var $={p:s[i],s:o[i],b:0};B.enabled||($.pts=m[i],w?$.ph0=$.ph1=m[i].length?Q[m[i][0]]:s[i]:(e._computePh=!0,$.ph0=N(I[i]),$.ph1=N(I[i+1],!0))),k.push($)}return 1===k.length&&(k[0].width1=Axes$2.tickIncrement(k[0].p,h.size,!1,u)-k[0].p),hasColorscale(e,"marker")&&colorscaleCalc$1(t,e,{vals:e.marker.color,containerStr:"marker"}),hasColorscale(e,"marker.line")&&colorscaleCalc$1(t,e,{vals:e.marker.line.color,containerStr:"marker.line"}),arraysToCalcdata$1(k,e),Lib$9.isArrayOrTypedArray(e.selectedpoints)&&Lib$9.tagSelected(k,e,H),k}function calcAllAutoBins(t,e,i,r,n){var a,s,o,l,c,g,d,u=r+"bins",B=t._fullLayout,F=e["_"+r+"bingroup"],h=B._histogramBinOpts[F],Q="overlay"===B.barmode,U=function(t){return i.r2c(t,0,l)},I=function(t){return i.c2r(t,0,l)},b="date"===i.type?function(t){return t||0===t?Lib$9.cleanDate(t,null,l):null}:function(t){return isNumeric$4(t)?Number(t):null};function p(t,e,i){e[t+"Found"]?(e[t]=b(e[t]),null===e[t]&&(e[t]=i[t])):(g[t]=e[t]=i[t],Lib$9.nestedProperty(s[0],u+"."+t).set(i[t]))}if(e["_"+r+"autoBinFinished"])delete e["_"+r+"autoBinFinished"];else{s=h.traces;var y=[],m=!0,C=!1,f=!1;for(a=0;a<s.length;a++)if((o=s[a]).visible){var x=h.dirs[a];c=o["_"+x+"pos0"]=i.makeCalcdata(o,x),y=Lib$9.concat(y,c),delete o["_"+r+"autoBinFinished"],!0===e.visible&&(m?m=!1:(delete o._autoBin,o["_"+r+"autoBinFinished"]=1),Registry$7.traceIs(o,"2dMap")&&(C=!0),"histogram2dcontour"===o.type&&(f=!0))}l=s[0][r+"calendar"];var A=Axes$2.autoBin(y,i,h.nbins,C,l,h.sizeFound&&h.size),v=s[0]._autoBin={};if(g=v[h.dirs[0]]={},f&&(h.size||(A.start=I(Axes$2.tickIncrement(U(A.start),A.size,!0,l))),void 0===h.end&&(A.end=I(Axes$2.tickIncrement(U(A.end),A.size,!1,l)))),Q&&!Registry$7.traceIs(e,"2dMap")&&0===A._dataSpan&&"category"!==i.type&&"multicategory"!==i.type&&""===e.bingroup&&void 0===e.xbins){if(n)return[A,c,!0];A=handleSingleValueOverlays(t,e,i,r,u)}(d=o.cumulative||{}).enabled&&"include"!==d.currentbin&&("decreasing"===d.direction?A.start=I(Axes$2.tickIncrement(U(A.start),A.size,!0,l)):A.end=I(Axes$2.tickIncrement(U(A.end),A.size,!1,l))),h.size=A.size,h.sizeFound||(g.size=A.size,Lib$9.nestedProperty(s[0],u+".size").set(A.size)),p("start",h,A),p("end",h,A)}c=e["_"+r+"pos0"],delete e["_"+r+"pos0"];var L=e._input[u]||{},R=Lib$9.extendFlat({},h),S=h.start,G=i.r2l(L.start),E=void 0!==G;if((h.startFound||E)&&G!==i.r2l(S)){var V=E?G:Lib$9.aggNums(Math.min,null,c),Z={type:"category"===i.type||"multicategory"===i.type?"linear":i.type,r2l:i.r2l,dtick:h.size,tick0:S,calendar:l,range:[V,Axes$2.tickIncrement(V,h.size,!1,l)].map(i.l2r)},N=Axes$2.tickFirst(Z);N>i.r2l(V)&&(N=Axes$2.tickIncrement(N,h.size,!0,l)),R.start=i.l2r(N),E||Lib$9.nestedProperty(e,u+".start").set(R.start)}var D=h.end,w=i.r2l(L.end),X=void 0!==w;if((h.endFound||X)&&w!==i.r2l(D)){var W=X?w:Lib$9.aggNums(Math.max,null,c);R.end=i.l2r(W),X||Lib$9.nestedProperty(e,u+".start").set(R.end)}var H="autobin"+r;return!1===e._input[H]&&(e._input[u]=Lib$9.extendFlat({},e[u]||{}),delete e._input[H],delete e[H]),[R,c]}function handleSingleValueOverlays(t,e,i,r,n){var a,s,o,l=t._fullLayout,c=getConnectedHistograms(t,e),g=!1,d=1/0,u=[e];for(a=0;a<c.length;a++)if((s=c[a])===e)g=!0;else if(g){var B=calcAllAutoBins(t,s,i,r,!0),F=B[0],h=B[2];s["_"+r+"autoBinFinished"]=1,s["_"+r+"pos0"]=B[1],h?u.push(s):d=Math.min(d,F.size)}else o=l._histogramBinOpts[s["_"+r+"bingroup"]],d=Math.min(d,o.size||s[n].size);var Q=new Array(u.length);for(a=0;a<u.length;a++)for(var U=u[a]["_"+r+"pos0"],I=0;I<U.length;I++)if(void 0!==U[I]){Q[a]=U[I];break}for(isFinite(d)||(d=Lib$9.distinctVals(Q).minDiff),a=0;a<u.length;a++){var b=(s=u[a])[r+"calendar"],p={start:i.c2r(Q[a]-d/2,0,b),end:i.c2r(Q[a]+d/2,0,b),size:d};s._input[n]=s[n]=p,(o=l._histogramBinOpts[s["_"+r+"bingroup"]])&&Lib$9.extendFlat(o,p)}return e[n]}function getConnectedHistograms(t,e){for(var i=e.xaxis,r=e.yaxis,n=e.orientation,a=[],s=t._fullData,o=0;o<s.length;o++){var l=s[o];"histogram"===l.type&&!0===l.visible&&l.orientation===n&&l.xaxis===i&&l.yaxis===r&&a.push(l)}return a}function cdf(t,e,i){var r,n,a;function s(e){a=t[e],t[e]/=2}function o(e){n=t[e],t[e]=a+n/2,a+=n}if("half"===i)if("increasing"===e)for(s(0),r=1;r<t.length;r++)o(r);else for(s(t.length-1),r=t.length-2;r>=0;r--)o(r);else if("increasing"===e){for(r=1;r<t.length;r++)t[r]+=t[r-1];"exclude"===i&&(t.unshift(0),t.pop())}else{for(r=t.length-2;r>=0;r--)t[r]+=t[r+1];"exclude"===i&&(t.push(0),t.shift())}}var calc_1$1={calc:calc$2},d3$2=d3Exports,Lib$8=libExports;function resizeText$1(t,e,i){var r=t._fullLayout,n=r["_"+i+"Text_minsize"];if(n){var a,s="hide"===r.uniformtext.mode;switch(i){case"funnelarea":case"pie":case"sunburst":a="g.slice";break;case"treemap":case"icicle":a="g.slice, g.pathbar";break;default:a="g.points > g.point"}e.selectAll(a).each(function(t){var e=t.transform;if(e){e.scale=s&&e.hide?0:n/e.fontSize;var i=d3$2.select(this).select("text");Lib$8.setTransormAndDisplay(i,e)}})}}function recordMinTextSize$1(t,e,i){if(i.uniformtext.mode){var r=getMinKey(t),n=i.uniformtext.minsize,a=e.scale*e.fontSize;e.hide=a<n,i[r]=i[r]||1/0,e.hide||(i[r]=Math.min(i[r],Math.max(a,n)))}}function clearMinTextSize$1(t,e){e[getMinKey(t)]=void 0}function getMinKey(t){return"_"+t+"Text_minsize"}var uniform_text={recordMinTextSize:recordMinTextSize$1,clearMinTextSize:clearMinTextSize$1,resizeText:resizeText$1},helpers$2={},isNumeric$3=fastIsnumeric,tinycolor$1=tinycolorExports,isArrayOrTypedArray$2=libExports.isArrayOrTypedArray;helpers$2.coerceString=function(t,e,i){if("string"==typeof e){if(e||!t.noBlank)return e}else if(("number"==typeof e||!0===e)&&!t.strict)return String(e);return void 0!==i?i:t.dflt},helpers$2.coerceNumber=function(t,e,i){if(isNumeric$3(e)){e=+e;var r=t.min,n=t.max;if(!(void 0!==r&&e<r||void 0!==n&&e>n))return e}return void 0!==i?i:t.dflt},helpers$2.coerceColor=function(t,e,i){return tinycolor$1(e).isValid()?e:void 0!==i?i:t.dflt},helpers$2.coerceEnumerated=function(t,e,i){return t.coerceNumber&&(e=+e),-1!==t.values.indexOf(e)?e:void 0!==i?i:t.dflt},helpers$2.getValue=function(t,e){var i;return isArrayOrTypedArray$2(t)?e<t.length&&(i=t[e]):i=t,i},helpers$2.getLineWidth=function(t,e){return 0<e.mlw?e.mlw:isArrayOrTypedArray$2(t.marker.line.width)?0:t.marker.line.width};var d3$1=d3Exports,Color$3=colorExports,Drawing$1=drawingExports,Lib$7=libExports,Registry$6=registry$1,resizeText=uniform_text.resizeText,attributes$8=attributes$b,attributeTextFont=attributes$8.textfont,attributeInsideTextFont=attributes$8.insidetextfont,attributeOutsideTextFont=attributes$8.outsidetextfont,helpers$1=helpers$2;function style$1(t){var e=d3$1.select(t).selectAll('g[class^="barlayer"]').selectAll("g.trace");resizeText(t,e,"bar");var i=e.size(),r=t._fullLayout;e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===r.barmode&&i>1||0===r.bargap&&0===r.bargroupgap&&!t[0].trace.marker.line.width)&&d3$1.select(this).attr("shape-rendering","crispEdges")}),e.selectAll("g.points").each(function(e){stylePoints(d3$1.select(this),e[0].trace,t)}),Registry$6.getComponentMethod("errorbars","style")(e)}function stylePoints(t,e,i){Drawing$1.pointStyle(t.selectAll("path"),e,i),styleTextPoints(t,e,i)}function styleTextPoints(t,e,i){t.selectAll("text").each(function(t){var r=d3$1.select(this),n=Lib$7.ensureUniformFontSize(i,determineFont(r,t,e,i));Drawing$1.font(r,n)})}function styleOnSelect(t,e,i){var r=e[0].trace;r.selectedpoints?stylePointsInSelectionMode(i,r,t):(stylePoints(i,r,t),Registry$6.getComponentMethod("errorbars","style")(i))}function stylePointsInSelectionMode(t,e,i){Drawing$1.selectedPointStyle(t.selectAll("path"),e),styleTextInSelectionMode(t.selectAll("text"),e,i)}function styleTextInSelectionMode(t,e,i){t.each(function(t){var r,n=d3$1.select(this);if(t.selected){r=Lib$7.ensureUniformFontSize(i,determineFont(n,t,e,i));var a=e.selected.textfont&&e.selected.textfont.color;a&&(r.color=a),Drawing$1.font(n,r)}else Drawing$1.selectedTextStyle(n,e)})}function determineFont(t,e,i,r){var n=r._fullLayout.font,a=i.textfont;if(t.classed("bartext-inside")){var s=getBarColor(e,i);a=getInsideTextFont(i,e.i,n,s)}else t.classed("bartext-outside")&&(a=getOutsideTextFont(i,e.i,n));return a}function getTextFont(t,e,i){return getFontValue(attributeTextFont,t.textfont,e,i)}function getInsideTextFont(t,e,i,r){var n=getTextFont(t,e,i);return(void 0===t._input.textfont||void 0===t._input.textfont.color||Array.isArray(t.textfont.color)&&void 0===t.textfont.color[e])&&(n={color:Color$3.contrast(r),family:n.family,size:n.size,weight:n.weight,style:n.style,variant:n.variant,textcase:n.textcase,lineposition:n.lineposition,shadow:n.shadow}),getFontValue(attributeInsideTextFont,t.insidetextfont,e,n)}function getOutsideTextFont(t,e,i){var r=getTextFont(t,e,i);return getFontValue(attributeOutsideTextFont,t.outsidetextfont,e,r)}function getFontValue(t,e,i,r){e=e||{};var n=helpers$1.getValue(e.family,i),a=helpers$1.getValue(e.size,i),s=helpers$1.getValue(e.color,i),o=helpers$1.getValue(e.weight,i),l=helpers$1.getValue(e.style,i),c=helpers$1.getValue(e.variant,i),g=helpers$1.getValue(e.textcase,i),d=helpers$1.getValue(e.lineposition,i),u=helpers$1.getValue(e.shadow,i);return{family:helpers$1.coerceString(t.family,n,r.family),size:helpers$1.coerceNumber(t.size,a,r.size),color:helpers$1.coerceColor(t.color,s,r.color),weight:helpers$1.coerceString(t.weight,o,r.weight),style:helpers$1.coerceString(t.style,l,r.style),variant:helpers$1.coerceString(t.variant,c,r.variant),textcase:helpers$1.coerceString(t.variant,g,r.textcase),lineposition:helpers$1.coerceString(t.variant,d,r.lineposition),shadow:helpers$1.coerceString(t.variant,u,r.shadow)}}function getBarColor(t,e){return"waterfall"===e.type?e[t.dir].marker.color:t.mcc||t.mc||e.marker.color}var style_1={style:style$1,styleTextPoints:styleTextPoints,styleOnSelect:styleOnSelect,getInsideTextFont:getInsideTextFont,getOutsideTextFont:getOutsideTextFont,getBarColor:getBarColor,resizeText:resizeText},d3=d3Exports,isNumeric$2=fastIsnumeric,Lib$6=libExports,svgTextUtils=svg_text_utils,Color$2=colorExports,Drawing=drawingExports,Registry$5=registry$1,tickText=axesExports.tickText,uniformText=uniform_text,recordMinTextSize=uniformText.recordMinTextSize,clearMinTextSize=uniformText.clearMinTextSize,style=style_1,helpers=helpers$2,constants=constants$4,attributes$7=attributes$b,attributeText=attributes$7.text,attributeTextPosition=attributes$7.textposition,appendArrayPointValue$1=helpers$y.appendArrayPointValue,TEXTPAD=constants.TEXTPAD;function keyFunc(t){return t.id}function getKeyFunc(t){if(t.ids)return keyFunc}function sign(t){return(t>0)-(t<0)}function dirSign(t,e){return t<e?1:-1}function getXY(t,e,i,r){var n=[],a=[],s=r?e:i,o=r?i:e;return n[0]=s.c2p(t.s0,!0),a[0]=o.c2p(t.p0,!0),n[1]=s.c2p(t.s1,!0),a[1]=o.c2p(t.p1,!0),r?[n,a]:[a,n]}function transition(t,e,i,r){var n;return!e.uniformtext.mode&&hasTransition(i)?(r&&(n=r()),t.transition().duration(i.duration).ease(i.easing).each("end",function(){n&&n()}).each("interrupt",function(){n&&n()})):t}function hasTransition(t){return t&&t.duration>0}function plot$1(t,e,i,r,n,a){var s=e.xaxis,o=e.yaxis,l=t._fullLayout,c=t._context.staticPlot;n||(n={mode:l.barmode,norm:l.barmode,gap:l.bargap,groupgap:l.bargroupgap},clearMinTextSize("bar",l));var g=Lib$6.makeTraceGroups(r,i,"trace bars").each(function(i){var r=d3.select(this),g=i[0].trace,d=i[0].t,u="waterfall"===g.type,B="funnel"===g.type,F="histogram"===g.type,h="bar"===g.type,Q=h||B,U=0;u&&g.connector.visible&&"between"===g.connector.mode&&(U=g.connector.line.width/2);var I="h"===g.orientation,b=hasTransition(n),p=Lib$6.ensureSingle(r,"g","points"),y=getKeyFunc(g),m=p.selectAll("g.point").data(Lib$6.identity,y);m.enter().append("g").classed("point",!0),m.exit().remove(),m.each(function(r,u){var B,p,y=d3.select(this),m=getXY(r,s,o,I),C=m[0][0],f=m[0][1],x=m[1][0],A=m[1][1],v=0===(I?f-C:A-x);if(v&&Q&&helpers.getLineWidth(g,r)&&(v=!1),v||(v=!(isNumeric$2(C)&&isNumeric$2(f)&&isNumeric$2(x)&&isNumeric$2(A))),r.isBlank=v,v&&(I?f=C:A=x),U&&!v&&(I?(C-=dirSign(C,f)*U,f+=dirSign(C,f)*U):(x-=dirSign(x,A)*U,A+=dirSign(x,A)*U)),"waterfall"===g.type){if(!v){var L=g[r.dir].marker;B=L.line.width,p=L.color}}else B=helpers.getLineWidth(g,r),p=r.mc||g.marker.color;function R(t){var e=d3.round(B/2%1,2);return 0===n.gap&&0===n.groupgap?d3.round(Math.round(t)-e,2):t}var S=Color$2.opacity(p)<1||B>.01?R:function(t,e,i){return i&&t===e?t:Math.abs(t-e)>=2?R(t):t>e?Math.ceil(t):Math.floor(t)};t._context.staticPlot||(C=S(C,f,I),f=S(f,C,I),x=S(x,A,!I),A=S(A,x,!I));var G,E=I?s.c2p:o.c2p;G=r.s0>0?r._sMax:r.s0<0?r._sMin:r.s1>0?r._sMax:r._sMin;var V,Z,N=h||F?function(t,e){if(!t)return 0;var i,n=I?Math.abs(A-x):Math.abs(f-C),a=I?Math.abs(f-C):Math.abs(A-x),s=S(Math.abs(E(G,!0)-E(0,!0))),o=r.hasB?Math.min(n/2,a/2):Math.min(n/2,s);return i="%"===e?n*(Math.min(50,t)/100):t,S(Math.max(Math.min(i,o),0))}(d.cornerradiusvalue,d.cornerradiusform):0,D="M"+C+","+x+"V"+A+"H"+f+"V"+x+"Z",w=0;if(N&&r.s){var X=0===sign(r.s0)||sign(r.s)===sign(r.s0)?r.s1:r.s0;if((w=S(r.hasB?0:Math.abs(E(G,!0)-E(X,!0))))<N){var W=dirSign(C,f),H=dirSign(x,A),T=W===-H?1:0;if(I)if(r.hasB)V="M"+(C+N*W)+","+x+"A "+N+","+N+" 0 0 "+T+" "+C+","+(x+N*H)+"V"+(A-N*H)+"A "+N+","+N+" 0 0 "+T+" "+(C+N*W)+","+A+"H"+(f-N*W)+"A "+N+","+N+" 0 0 "+T+" "+f+","+(A-N*H)+"V"+(x+N*H)+"A "+N+","+N+" 0 0 "+T+" "+(f-N*W)+","+x+"Z";else{var M=(Z=Math.abs(f-C)+w)<N?N-Math.sqrt(Z*(2*N-Z)):0,k=w>0?Math.sqrt(w*(2*N-w)):0,Y=W>0?Math.max:Math.min;V="M"+C+","+x+"V"+(A-M*H)+"H"+Y(f-(N-w)*W,C)+"A "+N+","+N+" 0 0 "+T+" "+f+","+(A-N*H-k)+"V"+(x+N*H+k)+"A "+N+","+N+" 0 0 "+T+" "+Y(f-(N-w)*W,C)+","+(x+M*H)+"Z"}else if(r.hasB)V="M"+(C+N*W)+","+x+"A "+N+","+N+" 0 0 "+T+" "+C+","+(x+N*H)+"V"+(A-N*H)+"A "+N+","+N+" 0 0 "+T+" "+(C+N*W)+","+A+"H"+(f-N*W)+"A "+N+","+N+" 0 0 "+T+" "+f+","+(A-N*H)+"V"+(x+N*H)+"A "+N+","+N+" 0 0 "+T+" "+(f-N*W)+","+x+"Z";else{var J=(Z=Math.abs(A-x)+w)<N?N-Math.sqrt(Z*(2*N-Z)):0,$=w>0?Math.sqrt(w*(2*N-w)):0,z=H>0?Math.max:Math.min;V="M"+(C+J*W)+","+x+"V"+z(A-(N-w)*H,x)+"A "+N+","+N+" 0 0 "+T+" "+(C+N*W-$)+","+A+"H"+(f-N*W+$)+"A "+N+","+N+" 0 0 "+T+" "+(f-J*W)+","+z(A-(N-w)*H,x)+"V"+x+"Z"}}else V=D}else V=D;var O=transition(Lib$6.ensureSingle(y,"path"),l,n,a);if(O.style("vector-effect",c?"none":"non-scaling-stroke").attr("d",isNaN((f-C)*(A-x))||v&&t._context.staticPlot?"M0,0Z":V).call(Drawing.setClipUrl,e.layerClipId,t),!l.uniformtext.mode&&b){var K=Drawing.makePointStyleFns(g);Drawing.singlePointStyle(r,O,g,K,t)}appendBarText(t,e,y,i,u,C,f,x,A,N,w,n,a),e.layerClipId&&Drawing.hideOutsideRangePoint(r,y.select("text"),s,o,g.xcalendar,g.ycalendar)});var C=!1===g.cliponaxis;Drawing.setClipUrl(r,C?null:e.layerClipId,t)});Registry$5.getComponentMethod("errorbars","plot")(t,g,e,n)}function appendBarText(t,e,i,r,n,a,s,o,l,c,g,d,u){var B,F=e.xaxis,h=e.yaxis,Q=t._fullLayout;function U(e,i,r){return Lib$6.ensureSingle(e,"text").text(i).attr({class:"bartext bartext-"+B,"text-anchor":"middle","data-notex":1}).call(Drawing.font,r).call(svgTextUtils.convertToTspans,t)}var I=r[0].trace,b="h"===I.orientation,p=getText(Q,r,n,F,h);B=getTextPosition(I,n);var y="stack"===d.mode||"relative"===d.mode,m=r[n],C=!y||m._outmost,f=m.hasB,x=c&&c-g>TEXTPAD;if(p&&"none"!==B&&(!m.isBlank&&a!==s&&o!==l||"auto"!==B&&"inside"!==B)){var A=Q.font,v=style.getBarColor(r[n],I),L=style.getInsideTextFont(I,n,A,v),R=style.getOutsideTextFont(I,n,A),S=I.insidetextanchor||"end",G=i.datum();b?"log"===F.type&&G.s0<=0&&(a=F.range[0]<F.range[1]?0:F._length):"log"===h.type&&G.s0<=0&&(o=h.range[0]<h.range[1]?h._length:0);var E,V,Z,N,D,w=Math.abs(s-a),X=Math.abs(l-o),W=w-2*TEXTPAD,H=X-2*TEXTPAD;if("outside"===B&&(C||m.hasB||(B="inside")),"auto"===B)if(C){B="inside",E=U(i,p,D=Lib$6.ensureUniformFontSize(t,L)),Z=(V=Drawing.bBox(E.node())).width,N=V.height;var T,M=Z>0&&N>0;T=x?f?textfitsInsideBar(W-2*c,H,Z,N,b)||textfitsInsideBar(W,H-2*c,Z,N,b):b?textfitsInsideBar(W-(c-g),H,Z,N,b)||textfitsInsideBar(W,H-2*(c-g),Z,N,b):textfitsInsideBar(W,H-(c-g),Z,N,b)||textfitsInsideBar(W-2*(c-g),H,Z,N,b):textfitsInsideBar(W,H,Z,N,b),M&&T?B="inside":(B="outside",E.remove(),E=null)}else B="inside";if(!E){var k=(E=U(i,p,D=Lib$6.ensureUniformFontSize(t,"outside"===B?R:L))).attr("transform");if(E.attr("transform",""),Z=(V=Drawing.bBox(E.node())).width,N=V.height,E.attr("transform",k),Z<=0||N<=0)return void E.remove()}var Y,J=I.textangle;(Y="outside"===B?toMoveOutsideBar(a,s,o,l,V,{isHorizontal:b,constrained:"both"===I.constraintext||"outside"===I.constraintext,angle:J}):toMoveInsideBar(a,s,o,l,V,{isHorizontal:b,constrained:"both"===I.constraintext||"inside"===I.constraintext,angle:J,anchor:S,hasB:f,r:c,overhead:g})).fontSize=D.size,recordMinTextSize("histogram"===I.type?"bar":I.type,Y,Q),m.transform=Y;var $=transition(E,Q,d,u);Lib$6.setTransormAndDisplay($,Y)}else i.select("text").remove()}function textfitsInsideBar(t,e,i,r,n){return!(t<0||e<0)&&(i<=t&&r<=e||i<=e&&r<=t||(n?t>=i*(e/r):e>=r*(t/i)))}function getRotateFromAngle(t){return"auto"===t?0:t}function getRotatedTextSize(t,e){var i=Math.PI/180*e,r=Math.abs(Math.sin(i)),n=Math.abs(Math.cos(i));return{x:t.width*n+t.height*r,y:t.width*r+t.height*n}}function toMoveInsideBar(t,e,i,r,n,a){var s=!!a.isHorizontal,o=!!a.constrained,l=a.angle||0,c=a.anchor,g="end"===c,d="start"===c,u=((a.leftToRight||0)+1)/2,B=1-u,F=a.hasB,h=a.r,Q=a.overhead,U=n.width,I=n.height,b=Math.abs(e-t),p=Math.abs(r-i),y=b>2*TEXTPAD&&p>2*TEXTPAD?TEXTPAD:0;b-=2*y,p-=2*y;var m=getRotateFromAngle(l);"auto"!==l||U<=b&&I<=p||!(U>b||I>p)||(U>p||I>b)&&U<I==b<p||(m+=90);var C,f,x=getRotatedTextSize(n,m);if(h&&h-Q>TEXTPAD){var A=scaleTextForRoundedBar(t,e,i,r,x,h,Q,s,F);C=A.scale,f=A.pad}else C=1,o&&(C=Math.min(1,b/x.x,p/x.y)),f=0;var v=n.left*B+n.right*u,L=(n.top+n.bottom)/2,R=(t+TEXTPAD)*B+(e-TEXTPAD)*u,S=(i+r)/2,G=0,E=0;if(d||g){var V=(s?x.x:x.y)/2;h&&(g||F)&&(y+=f);var Z=s?dirSign(t,e):dirSign(i,r);s?d?(R=t+Z*y,G=-Z*V):(R=e-Z*y,G=Z*V):d?(S=i+Z*y,E=-Z*V):(S=r-Z*y,E=Z*V)}return{textX:v,textY:L,targetX:R,targetY:S,anchorX:G,anchorY:E,scale:C,rotate:m}}function scaleTextForRoundedBar(t,e,i,r,n,a,s,o,l){var c,g,d,u,B=Math.max(0,Math.abs(e-t)-2*TEXTPAD),F=Math.max(0,Math.abs(r-i)-2*TEXTPAD),h=a-TEXTPAD,Q=s?h-Math.sqrt(h*h-(h-s)*(h-s)):h,U=l?2*h:o?h-s:2*Q,I=l?2*h:o?2*Q:h-s;return n.y/n.x>=F/(B-U)?u=F/n.y:n.y/n.x<=(F-I)/B?u=B/n.x:!l&&o?(c=n.x*n.x+n.y*n.y/4,d=(B-h)*(B-h)+(F/2-h)*(F/2-h)-h*h,u=(-(g=-2*n.x*(B-h)-n.y*(F/2-h))+Math.sqrt(g*g-4*c*d))/(2*c)):l?(c=(n.x*n.x+n.y*n.y)/4,d=(B/2-h)*(B/2-h)+(F/2-h)*(F/2-h)-h*h,u=(-(g=-n.x*(B/2-h)-n.y*(F/2-h))+Math.sqrt(g*g-4*c*d))/(2*c)):(c=n.x*n.x/4+n.y*n.y,d=(B/2-h)*(B/2-h)+(F-h)*(F-h)-h*h,u=(-(g=-n.x*(B/2-h)-2*n.y*(F-h))+Math.sqrt(g*g-4*c*d))/(2*c)),{scale:u=Math.min(1,u),pad:o?Math.max(0,h-Math.sqrt(Math.max(0,h*h-(h-(F-n.y*u)/2)*(h-(F-n.y*u)/2)))-s):Math.max(0,h-Math.sqrt(Math.max(0,h*h-(h-(B-n.x*u)/2)*(h-(B-n.x*u)/2)))-s)}}function toMoveOutsideBar(t,e,i,r,n,a){var s,o=!!a.isHorizontal,l=!!a.constrained,c=a.angle||0,g=n.width,d=n.height,u=Math.abs(e-t),B=Math.abs(r-i);s=o?B>2*TEXTPAD?TEXTPAD:0:u>2*TEXTPAD?TEXTPAD:0;var F=1;l&&(F=o?Math.min(1,B/d):Math.min(1,u/g));var h=getRotateFromAngle(c),Q=getRotatedTextSize(n,h),U=(o?Q.x:Q.y)/2,I=(n.left+n.right)/2,b=(n.top+n.bottom)/2,p=(t+e)/2,y=(i+r)/2,m=0,C=0,f=o?dirSign(e,t):dirSign(i,r);return o?(p=e-f*s,m=f*U):(y=r+f*s,C=-f*U),{textX:I,textY:b,targetX:p,targetY:y,anchorX:m,anchorY:C,scale:F,rotate:h}}function getText(t,e,i,r,n){var a,s=e[0].trace;return a=s.texttemplate?calcTexttemplate(t,e,i,r,n):s.textinfo?calcTextinfo(e,i,r,n):helpers.getValue(s.text,i),helpers.coerceString(attributeText,a)}function getTextPosition(t,e){var i=helpers.getValue(t.textposition,e);return helpers.coerceEnumerated(attributeTextPosition,i)}function calcTexttemplate(t,e,i,r,n){var a=e[0].trace,s=Lib$6.castOption(a,i,"texttemplate");if(!s)return"";var o,l,c,g,d="histogram"===a.type,u="waterfall"===a.type,B="funnel"===a.type,F="h"===a.orientation;function h(t){return tickText(g,g.c2l(t),!0).text}F?(o="y",l=n,c="x",g=r):(o="x",l=r,c="y",g=n);var Q=e[i],U={};U.label=Q.p,U.labelLabel=U[o+"Label"]=function(t){return tickText(l,l.c2l(t),!0).text}(Q.p);var I=Lib$6.castOption(a,Q.i,"text");(0===I||I)&&(U.text=I),U.value=Q.s,U.valueLabel=U[c+"Label"]=h(Q.s);var b={};appendArrayPointValue$1(b,a,Q.i),(d||void 0===b.x)&&(b.x=F?U.value:U.label),(d||void 0===b.y)&&(b.y=F?U.label:U.value),(d||void 0===b.xLabel)&&(b.xLabel=F?U.valueLabel:U.labelLabel),(d||void 0===b.yLabel)&&(b.yLabel=F?U.labelLabel:U.valueLabel),u&&(U.delta=+Q.rawS||Q.s,U.deltaLabel=h(U.delta),U.final=Q.v,U.finalLabel=h(U.final),U.initial=U.final-U.delta,U.initialLabel=h(U.initial)),B&&(U.value=Q.s,U.valueLabel=h(U.value),U.percentInitial=Q.begR,U.percentInitialLabel=Lib$6.formatPercent(Q.begR),U.percentPrevious=Q.difR,U.percentPreviousLabel=Lib$6.formatPercent(Q.difR),U.percentTotal=Q.sumR,U.percenTotalLabel=Lib$6.formatPercent(Q.sumR));var p=Lib$6.castOption(a,Q.i,"customdata");return p&&(U.customdata=p),Lib$6.texttemplateString(s,U,t._d3locale,b,U,a._meta||{})}function calcTextinfo(t,e,i,r){var n=t[0].trace,a="h"===n.orientation,s="waterfall"===n.type,o="funnel"===n.type;function l(t){return tickText(a?i:r,+t,!0).text}var c,g=n.textinfo,d=t[e],u=g.split("+"),B=[],F=function(t){return-1!==u.indexOf(t)};if(F("label")&&B.push(function(t){return tickText(a?r:i,t,!0).text}(t[e].p)),F("text")&&(0===(c=Lib$6.castOption(n,d.i,"text"))||c)&&B.push(c),s){var h=+d.rawS||d.s,Q=d.v,U=Q-h;F("initial")&&B.push(l(U)),F("delta")&&B.push(l(h)),F("final")&&B.push(l(Q))}if(o){F("value")&&B.push(l(d.s));var I=0;F("percent initial")&&I++,F("percent previous")&&I++,F("percent total")&&I++;var b=I>1;F("percent initial")&&(c=Lib$6.formatPercent(d.begR),b&&(c+=" of initial"),B.push(c)),F("percent previous")&&(c=Lib$6.formatPercent(d.difR),b&&(c+=" of previous"),B.push(c)),F("percent total")&&(c=Lib$6.formatPercent(d.sumR),b&&(c+=" of total"),B.push(c))}return B.join("<br>")}var plot_1={plot:plot$1},Fx$1=fx,Registry$4=registry$1,Color$1=colorExports,fillText=libExports.fillText,getLineWidth=helpers$2.getLineWidth,hoverLabelText$1=axesExports.hoverLabelText,BADNUM=numerical.BADNUM;function hoverPoints(t,e,i,r,n){var a=hoverOnBars(t,e,i,r,n);if(a){var s=a.cd,o=s[0].trace,l=s[a.index];return a.color=getTraceColor(o,l),Registry$4.getComponentMethod("errorbars","hoverInfo")(l,o,a),[a]}}function hoverOnBars(t,e,i,r,n){var a,s,o,l,c,g,d,u=t.cd,B=u[0].trace,F=u[0].t,h="closest"===r,Q="waterfall"===B.type,U=t.maxHoverDistance,I=t.maxSpikeDistance;"h"===B.orientation?(a=i,s=e,o="y",l="x",c=S,g=L):(a=e,s=i,o="x",l="y",g=S,c=L);var b=B[o+"period"],p=h||b;function y(t){return C(t,-1)}function m(t){return C(t,1)}function C(t,e){var i=t.w;return t[o]+e*i/2}function f(t){return t[o+"End"]-t[o+"Start"]}var x=h?y:b?function(t){return t.p-f(t)/2}:function(t){return Math.min(y(t),t.p-F.bardelta/2)},A=h?m:b?function(t){return t.p+f(t)/2}:function(t){return Math.max(m(t),t.p+F.bardelta/2)};function v(t,e,i){return n.finiteRange&&(i=0),Fx$1.inbox(t-a,e-a,i+Math.min(1,Math.abs(e-t)/d)-1)}function L(t){return v(x(t),A(t),U)}function R(t){var e=t[l];if(Q){var i=Math.abs(t.rawS)||0;s>0?e+=i:s<0&&(e-=i)}return e}function S(t){var e=s,i=t.b,r=R(t);return Fx$1.inbox(i-e,r-e,U+(r-e)/(r-i)-1)}var G=t[o+"a"],E=t[l+"a"];d=Math.abs(G.r2c(G.range[1])-G.r2c(G.range[0]));var V=Fx$1.getDistanceFunction(r,c,g,function(t){return(c(t)+g(t))/2});if(Fx$1.getClosest(u,V,t),!1!==t.index&&u[t.index].p!==BADNUM){p||(x=function(t){return Math.min(y(t),t.p-F.bargroupwidth/2)},A=function(t){return Math.max(m(t),t.p+F.bargroupwidth/2)});var Z=u[t.index],N=B.base?Z.b+Z.s:Z.s;t[l+"0"]=t[l+"1"]=E.c2p(Z[l],!0),t[l+"LabelVal"]=N;var D=F.extents[F.extents.round(Z.p)];t[o+"0"]=G.c2p(h?x(Z):D[0],!0),t[o+"1"]=G.c2p(h?A(Z):D[1],!0);var w=void 0!==Z.orig_p;return t[o+"LabelVal"]=w?Z.orig_p:Z.p,t.labelLabel=hoverLabelText$1(G,t[o+"LabelVal"],B[o+"hoverformat"]),t.valueLabel=hoverLabelText$1(E,t[l+"LabelVal"],B[l+"hoverformat"]),t.baseLabel=hoverLabelText$1(E,Z.b,B[l+"hoverformat"]),t.spikeDistance=(function(t){var e=s,i=t.b,r=R(t);return Fx$1.inbox(i-e,r-e,I+(r-e)/(r-i)-1)}(Z)+function(t){return v(y(t),m(t),I)}(Z))/2,t[o+"Spike"]=G.c2p(Z.p,!0),fillText(Z,B,t),t.hovertemplate=B.hovertemplate,t}}function getTraceColor(t,e){var i=e.mcc||t.marker.color,r=e.mlcc||t.marker.line.color,n=getLineWidth(t,e);return Color$1.opacity(i)?i:Color$1.opacity(r)&&n?r:void 0}var hover$1={hoverPoints:hoverPoints},barHover=hover$1.hoverPoints,hoverLabelText=axesExports.hoverLabelText,hover=function(t,e,i,r,n){var a=barHover(t,e,i,r,n);if(a){var s=(t=a[0]).cd[t.index],o=t.cd[0].trace;if(!o.cumulative.enabled){var l="h"===o.orientation?"y":"x";t[l+"Label"]=hoverLabelText(t[l+"a"],[s.ph0,s.ph1],o[l+"hoverformat"])}return a}},select=function(t,e){var i,r=t.cd,n=t.xaxis,a=t.yaxis,s=r[0].trace,o="funnel"===s.type,l="h"===s.orientation,c=[];if(!1===e)for(i=0;i<r.length;i++)r[i].selected=0;else for(i=0;i<r.length;i++){var g=r[i],d="ct"in g?g.ct:getCentroid(g,n,a,l,o);e.contains(d,!1,i,t)?(c.push({pointNumber:i,x:n.c2d(g.x),y:a.c2d(g.y)}),g.selected=1):g.selected=0}return c};function getCentroid(t,e,i,r,n){var a=e.c2p(r?t.s0:t.p0,!0),s=e.c2p(r?t.s1:t.p1,!0),o=i.c2p(r?t.p0:t.s0,!0),l=i.c2p(r?t.p1:t.s1,!0);return n?[(a+s)/2,(o+l)/2]:r?[s,(o+l)/2]:[(a+s)/2,l]}var event_data=function(t,e,i,r,n){if(t.x="xVal"in e?e.xVal:e.x,t.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(t.z=e.zLabelVal),e.xa&&(t.xaxis=e.xa),e.ya&&(t.yaxis=e.ya),!(i.cumulative||{}).enabled){var a,s=Array.isArray(n)?r[0].pts[n[0]][n[1]]:r[n].pts;if(t.pointNumbers=s,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex,i._indexToPoints){a=[];for(var o=0;o<s.length;o++)a=a.concat(i._indexToPoints[s[o]])}else a=s;t.pointIndices=a}return t},histogram$2={attributes:attributes$a,layoutAttributes:layout_attributes$1,supplyDefaults:defaults$b,crossTraceDefaults:cross_trace_defaults,supplyLayoutDefaults:layout_defaults,calc:calc_1$1.calc,crossTraceCalc:cross_trace_calc$1.crossTraceCalc,plot:plot_1.plot,layerName:"barlayer",style:style_1.style,styleOnSelect:style_1.styleOnSelect,colorbar:marker_colorbar,hoverPoints:hover,selectPoints:select,eventData:event_data,moduleType:"trace",name:"histogram",basePlotModule:cartesian,categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{description:["The sample data from which statistics are computed is set in `x`","for vertically spanning histograms and","in `y` for horizontally spanning histograms.","Binning options are set `xbins` and `ybins` respectively","if no aggregation data is provided."].join(" ")}},histogram=histogram$2,histogram$1=getDefaultExportFromCjs(histogram),PlotlyHistogram=_mergeNamespaces({__proto__:null,default:histogram$1},[histogram]);function decodeBase64(t,e){return atob(t)}function createURL(t,e,i){var r=void 0===e?null:e,n=decodeBase64(t),a=n.indexOf("\n",10)+1,s=n.substring(a)+(r?"//# sourceMappingURL="+r:""),o=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(o)}function createBase64WorkerFactory(t,e,i){var r;return function(i){return r=r||createURL(t,e),new Worker(r,i)}}var WorkerFactory$2=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGRpc3RyaWJ1dGlvbnMkMSA9IHtleHBvcnRzOiB7fX07CgogIHZhciBkaXN0cmlidXRpb25zID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CiAgKGZ1bmN0aW9uIChtb2R1bGUpIHsKCiAgICAvLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvbgogICAgLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoCiAgICAvLyBhcyBpbiAibG9nIGRlbnNpdHkiKSwgc28gdG8gZ2V0IGEgbm9ybWFsIGxvZyBkZW5zaXR5IHlvdSB3b3VsZCB3cml0ZQogICAgLy8gbGQubm9ybSguLi4pLgogICAgLy8gTW9zdCBvZiB0aGUgY29kZSBiZWxvdyBpcyBkaXJlY3RseSB0YWtlbiBmcm9tIHRoZSBncmVhdCBKc3RhdCBwcm9qZWN0CiAgICAvLyAoaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0Lykgd2hpY2ggaW5jbHVkZXMgUERGIGZvciBtYW55IGNvbW1vbiBwcm9iYWJpbGl0eQogICAgLy8gZGlzdHJpYnV0aW9ucy4gV2hhdCBJIGhhdmUgZG9uZSBpcyBvbmx5IHRvIGNvbnZlcnQgdGhlc2UgdG8gbG9nIFBERnMuCgogICAgLyoKICAgIE9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0CiAgICBNb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCAKICAgIAlQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgCVRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAgICBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICAgIAlUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAgICBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiAgICBUSEUgU09GVFdBUkUuCiAgICAJKi8KCiAgICAvLyBUaGlzIGJvaWxlciBwbGF0ZSBjb2RlIGhlcmUgaXMgdGFrZW4gZnJvbToKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvdGVtcGxhdGVzL3JldHVybkV4cG9ydHMuanMKICAgIC8vIEl0IHNob3VsZCBtYWtlIHNodXJlIHRoYXQgbW9kdWxlIGNhbiBiZSBpbXBvcnRlZCBib3RoIGluIHRoZSBicm93c2VyLAogICAgLy8gTm9kZSwgYW5kIGJ5IHVzaW5nIHRoZSBBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24gc3RhbmRhcmQuCiAgICAvLyBJZiB0aGlzIG1vZHVsZSBpcyBsb2FkZWQgaW4gdGhlIGJyb3dzZXIgaXQgd2lsbCBjcmVhdGVkIHRoZSBnbG9iYWwKICAgIC8vIG9iamVjdCBsZCAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5sZCA9IGZhY3RvcnkoKTsKICAgICAgfQogICAgfSkoZGlzdHJpYnV0aW9ucywgZnVuY3Rpb24gKCkgewogICAgICAvLyBPYmplY3QgdG8gaG9sZCB0aGUgZnVuY3Rpb25zIHRvIGJlIGV4cG9ydGVkLgogICAgICB2YXIgbGQgPSB7fTsKCiAgICAgIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICB2YXIgbGdhbW1hID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICB2YXIgaiA9IDA7CiAgICAgICAgdmFyIGNvZiA9IFs3Ni4xODAwOTE3Mjk0NzE0NiwgLTg2LjUwNTMyMDMyOTQxNjc4LCAyNC4wMTQwOTgyNDA4MzA5MSwgLTEuMjMxNzM5NTcyNDUwMTU1LCAwLjEyMDg2NTA5NzM4NjYxNzllLTIsIC01Mzk1MjM5Mzg0OTUzZS0xOF07CiAgICAgICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1OwogICAgICAgIHZhciB4eCwgeSwgdG1wOwogICAgICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTsKICAgICAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApOwogICAgICAgIGZvciAoOyBqIDwgNjsgaisrKSBzZXIgKz0gY29mW2pdIC8gKyt5OwogICAgICAgIHJldHVybiBsb2coMi41MDY2MjgyNzQ2MzEwMDA1ICogc2VyIC8geHgpIC0gdG1wOwogICAgICB9OwogICAgICBsZC5sZ2FtbWEgPSBsZ2FtbWE7CiAgICAgIHZhciBsZmFjdG9yaWFsID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbiA8IDAgPyBOYU4gOiBsZ2FtbWEobiArIDEpOwogICAgICB9OwogICAgICBsZC5sZmFjdG9yaWFsID0gbGZhY3RvcmlhbDsKICAgICAgdmFyIGxjaG9vc2UgPSBmdW5jdGlvbiAobiwgaykgewogICAgICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspOwogICAgICB9OwogICAgICBsZC5sY2hvb3NlID0gbGNob29zZTsKICAgICAgdmFyIGxiZXRhID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTsKICAgICAgfTsKICAgICAgbGQubGJldGEgPSBsYmV0YTsKICAgICAgdmFyIGxvZyA9IE1hdGgubG9nOwogICAgICB2YXIgZXhwID0gTWF0aC5leHA7CiAgICAgIHZhciBhYnMgPSBNYXRoLmFiczsKICAgICAgdmFyIHBvdyA9IE1hdGgucG93OwogICAgICB2YXIgc3FydCA9IE1hdGguc3FydDsKICAgICAgdmFyIHBpID0gTWF0aC5QSTsKCiAgICAgIC8vLy8vLy8vLy8gQ29udGlub3VzIGRpc3RyaWJ1dGlvbnMgLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJldGEgPSBmdW5jdGlvbiAoeCwgc2hhcGUxLCBzaGFwZTIpIHsKICAgICAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIGlmIChzaGFwZTEgPT09IDEgJiYgc2hhcGUyID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIChzaGFwZTEgLSAxKSAqIGxvZyh4KSArIChzaGFwZTIgLSAxKSAqIGxvZygxIC0geCkgLSBsYmV0YShzaGFwZTEsIHNoYXBlMik7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5jYXVjaHkgPSBmdW5jdGlvbiAoeCwgbG9jYXRpb24sIHNjYWxlKSB7CiAgICAgICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAtIGxvZyhwaSk7CiAgICAgIH07CiAgICAgIGxkLm5vcm0gPSBmdW5jdGlvbiAoeCwgbWVhbiwgc2QpIHsKICAgICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC0gbG9nKHNkKSAtIHBvdyh4IC0gbWVhbiwgMikgLyAoMiAqIHNkICogc2QpOwogICAgICB9OwoKICAgICAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIAogICAgICAvLyB0aGUgY29ycmVsYXRpb24uCiAgICAgIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uICh4LCBtZWFuLCBzZCwgY29ycikgewogICAgICAgIHZhciB6ID0gcG93KHhbMF0gLSBtZWFuWzBdLCAyKSAvIHBvdyhzZFswXSwgMikgKyBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkgLyAoc2RbMF0gKiBzZFsxXSk7CiAgICAgICAgdmFyIG5vcm1hbGl6aW5nX2ZhY3RvciA9IC0obG9nKDIpICsgbG9nKHBpKSArIGxvZyhzZFswXSkgKyBsb2coc2RbMV0pICsgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpKTsKICAgICAgICB2YXIgYml2YXJfbG9nX2RlbnMgPSBub3JtYWxpemluZ19mYWN0b3IgLSB6IC8gKDIgKiAoMSAtIHBvdyhjb3JyLCAyKSkpOwogICAgICAgIHJldHVybiBiaXZhcl9sb2dfZGVuczsKICAgICAgfTsKICAgICAgbGQubGFwbGFjZSA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICByZXR1cm4gLWFicyh4IC0gbG9jYXRpb24pIC8gc2NhbGUgLSBsb2coMiAqIHNjYWxlKTsKICAgICAgfTsKICAgICAgbGQuZGV4cCA9IGxkLmxhcGxhY2U7CiAgICAgIGxkLmdhbW1hID0gZnVuY3Rpb24gKHgsIHNoYXBlLCByYXRlKSB7CiAgICAgICAgdmFyIHNjYWxlID0gMSAvIHJhdGU7CiAgICAgICAgaWYgKHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAoeCA9PT0gMCAmJiBzaGFwZSA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIC1sb2coc2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gKHNoYXBlIC0gMSkgKiBsb2coeCkgLSB4IC8gc2NhbGUgLSBsZ2FtbWEoc2hhcGUpIC0gc2hhcGUgKiBsb2coc2NhbGUpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgbGQuaW52Z2FtbWEgPSBmdW5jdGlvbiAoeCwgc2hhcGUsIHNjYWxlKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7CiAgICAgIH07CiAgICAgIGxkLmxub3JtID0gZnVuY3Rpb24gKHgsIG1lYW5sb2csIHNkbG9nKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBwb3cobG9nKHgpIC0gbWVhbmxvZywgMikgLyAoMiAqIHNkbG9nICogc2Rsb2cpOwogICAgICB9OwogICAgICBsZC5wYXJldG8gPSBmdW5jdGlvbiAoeCwgc2NhbGUsIHNoYXBlKSB7CiAgICAgICAgaWYgKHggPCBzY2FsZSkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxvZyhzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSkgLSAoc2hhcGUgKyAxKSAqIGxvZyh4KTsKICAgICAgfTsKICAgICAgbGQudCA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUsIGRmKSB7CiAgICAgICAgZGYgPSBkZiA+IDFlMTAwID8gMWUxMDAgOiBkZjsKICAgICAgICByZXR1cm4gbGdhbW1hKChkZiArIDEpIC8gMikgLSBsZ2FtbWEoZGYgLyAyKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICsgbG9nKHBvdygxICsgMSAvIGRmICogcG93KCh4IC0gbG9jYXRpb24pIC8gc2NhbGUsIDIpLCAtKGRmICsgMSkgLyAyKSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIHdlaWJ1bGwgZGlzdHJpYnV0aW9uOiAKICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3djaC9yLXNvdXJjZS9ibG9iL2IxNTZlM2E3MTE5NjdmNTgxMzFlMjNjMWIxZGMxZWE5MGUyZjBjNDMvc3JjL25tYXRoL2R3ZWlidWxsLmMKICAgICAgbGQud2VpYnVsbCA9IGZ1bmN0aW9uICh4LCBzaGFwZSwgc2NhbGUpIHsKICAgICAgICBpZiAoeCA8IDApIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgaWYgKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7CiAgICAgICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpOwogICAgICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpOwogICAgICAgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogCiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuYwogICAgICBsZC5sb2dpcyA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICB4ID0gYWJzKCh4IC0gbG9jYXRpb24pIC8gc2NhbGUpOwogICAgICAgIHZhciBlID0gZXhwKC14KTsKICAgICAgICB2YXIgZiA9IDEuMCArIGU7CiAgICAgICAgcmV0dXJuIC0oeCArIGxvZyhzY2FsZSAqIGYgKiBmKSk7CiAgICAgIH07CiAgICAgIGxkLmRpcmljaGxldCA9IGZ1bmN0aW9uICh4LCBhbHBoYSkgewogICAgICAgIHZhciBzdW1fYWxwaGEgPSAwOwogICAgICAgIHZhciBzdW1fbGdhbW1hX2FscGhhID0gMDsKICAgICAgICB2YXIgc3VtX2FscGhhX3N1Yl8xX2xvZ194ID0gMDsKICAgICAgICB2YXIgbiA9IGFscGhhLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldOwogICAgICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pOwogICAgICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194OwogICAgICB9OwogICAgICBsZC5leHAgPSBmdW5jdGlvbiAoeCwgcmF0ZSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtIHJhdGUgKiB4OwogICAgICB9OwogICAgICBsZC51bmlmID0gZnVuY3Rpb24gKHgsIG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIHggPCBtaW4gfHwgeCA+IG1heCA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpOwogICAgICB9OwoKICAgICAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJlcm4gPSBmdW5jdGlvbiAoeCwgcHJvYikgewogICAgICAgIHJldHVybiAhKHggPT09IDAgfHwgeCA9PT0gMSkgPyAtSW5maW5pdHkgOiBsb2coeCAqIHByb2IgKyAoMSAtIHgpICogKDEgLSBwcm9iKSk7CiAgICAgIH07CiAgICAgIGxkLmNhdCA9IGZ1bmN0aW9uICh4LCBwcm9icykgewogICAgICAgIGlmICh4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbG9nKHByb2JzW3ggLSAxXSk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5iaW5vbSA9IGZ1bmN0aW9uICh4LCBzaXplLCBwcm9iKSB7CiAgICAgICAgaWYgKHggPiBzaXplIHx8IHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gc2l6ZSAqIHByb2IgPT09IHggPyAwIDogLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGNob29zZShzaXplLCB4KSArIHggKiBsb2cocHJvYikgKyAoc2l6ZSAtIHgpICogbG9nKDEgLSBwcm9iKTsKICAgICAgfTsKICAgICAgbGQubmJpbm9tID0gZnVuY3Rpb24gKHgsIHNpemUsIHByb2IpIHsKICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsY2hvb3NlKHggKyBzaXplIC0gMSwgc2l6ZSAtIDEpICsgeCAqIGxvZygxIC0gcHJvYikgKyBzaXplICogbG9nKHByb2IpOwogICAgICB9OwogICAgICBsZC5oeXBlciA9IGZ1bmN0aW9uICh4LCBtLCBuLCBrKSB7CiAgICAgICAgaWYgKHggPCAwIHx8IHggPiBrKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbGNob29zZShtLCB4KSArIGxjaG9vc2UobiwgayAtIHgpIC0gbGNob29zZShtICsgbiwgayk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5wb2lzID0gZnVuY3Rpb24gKHgsIGxhbWJkYSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7CiAgICAgIH07CiAgICAgIHJldHVybiBsZDsKICAgIH0pOwogIH0pKGRpc3RyaWJ1dGlvbnMkMSk7CiAgdmFyIGRpc3RyaWJ1dGlvbnNFeHBvcnRzID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CgogIHZhciBtY21jJDEgPSB7ZXhwb3J0czoge319OwoKICB2YXIgbWNtYyA9IG1jbWMkMS5leHBvcnRzOwogIChmdW5jdGlvbiAobW9kdWxlKSB7CgogICAgLy8gVGhpcyBib2lsZXIgcGxhdGUgY29kZSBoZXJlIGlzIHRha2VuIGZyb206CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzCiAgICAvLyBJdCBzaG91bGQgbWFrZSBzaHVyZSB0aGF0IG1vZHVsZSBjYW4gYmUgaW1wb3J0ZWQgYm90aCBpbiB0aGUgYnJvd3NlciwKICAgIC8vIE5vZGUsIGFuZCBieSB1c2luZyB0aGUgQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uIHN0YW5kYXJkLgogICAgLy8gSWYgdGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIHRoZSBicm93c2VyIGl0IHdpbGwgY3JlYXRlZCB0aGUgZ2xvYmFsCiAgICAvLyBvYmplY3QgbWNtYyAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpOwogICAgICB9CiAgICB9KShtY21jLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIAoKICAgICAgLy8vLy8vLy8vLyBIZWxwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggKi8KICAgICAgdmFyIHJ1bmlmID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqLwogICAgICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbiAobWluLCBtYXgpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGZyb20gYSBub3JtYWwgZGlzdHJpYmJ1dGlvbiBkZWZpbmVkCiAgICAgICAqICBieSBtZWFuIGFuZCBzZC4gCiAgICAgICAqICBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0L2pzdGF0L2Jsb2IvbWFzdGVyL3NyYy9zcGVjaWFsLmpzICovCiAgICAgIHZhciBybm9ybSA9IGZ1bmN0aW9uIChtZWFuLCBzZCkgewogICAgICAgIHZhciB1LCB2LCB4LCB5LCBxOwogICAgICAgIGRvIHsKICAgICAgICAgIHUgPSBNYXRoLnJhbmRvbSgpOwogICAgICAgICAgdiA9IDEuNzE1NiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgIHggPSB1IC0gMC40NDk4NzE7CiAgICAgICAgICB5ID0gTWF0aC5hYnModikgKyAwLjM4NjU5NTsKICAgICAgICAgIHEgPSB4ICogeCArIHkgKiAoMC4xOTYwMCAqIHkgLSAwLjI1NDcyICogeCk7CiAgICAgICAgfSB3aGlsZSAocSA+IDAuMjc1OTcgJiYgKHEgPiAwLjI3ODQ2IHx8IHYgKiB2ID4gLTQgKiBNYXRoLmxvZyh1KSAqIHUgKiB1KSk7CiAgICAgICAgcmV0dXJuIHYgLyB1ICogc2QgKyBtZWFuOwogICAgICB9OwoKICAgICAgLyoqIFJldHVybnMgYSBkZWVwIGNsb25lIG9mIHNyYywgc29ydCBvZi4uLiBJdCBvbmx5IGNvcGllcyBhIGxpbWl0ZWQKICAgICAgICogbnVtYmVyIG9mIHR5cGVzIGFuZCwgZm9yIGV4YW1wbGUsIGZ1bmN0aW9uIGFyZSBub3QgY29waWVkLiAKICAgICAgICogRnJvbSBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtY2xvbmUKICAgICAgICovCiAgICAgIHZhciBkZWVwX2Nsb25lID0gZnVuY3Rpb24gKHNyYykgewogICAgICAgIGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHsKICAgICAgICAgIHZhciBuYW1lLAogICAgICAgICAgICBzLAogICAgICAgICAgICBlbXB0eSA9IHt9OwogICAgICAgICAgZm9yIChuYW1lIGluIHNvdXJjZSkgewogICAgICAgICAgICAvLyB0aGUgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpIGNvbmRpdGlvbiBhdm9pZHMgY29weWluZyBwcm9wZXJ0aWVzIGluICJzb3VyY2UiCiAgICAgICAgICAgIC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuCSBGb3IgZXhhbXBsZSwgaWYgZGVzdCBoYXMgYSBjdXN0b20gdG9TdHJpbmcoKSBtZXRob2QsCiAgICAgICAgICAgIC8vIGRvbid0IG92ZXJ3cml0ZSBpdCB3aXRoIHRoZSB0b1N0cmluZygpIG1ldGhvZCB0aGF0IHNvdXJjZSBpbmhlcml0ZWQgZnJvbSBPYmplY3QucHJvdG90eXBlCiAgICAgICAgICAgIHMgPSBzb3VyY2VbbmFtZV07CiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gZGVzdCkgfHwgZGVzdFtuYW1lXSAhPT0gcyAmJiAoIShuYW1lIGluIGVtcHR5KSB8fCBlbXB0eVtuYW1lXSAhPT0gcykpIHsKICAgICAgICAgICAgICBkZXN0W25hbWVdID0gY29weUZ1bmMgPyBjb3B5RnVuYyhzKSA6IHM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBkZXN0OwogICAgICAgIH0KICAgICAgICBpZiAoIXNyYyB8fCB0eXBlb2Ygc3JjICE9ICJvYmplY3QiIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpID09PSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvbgogICAgICAgICAgcmV0dXJuIHNyYzsgLy8gYW55dGhpbmcKICAgICAgICB9CiAgICAgICAgaWYgKHNyYy5ub2RlVHlwZSAmJiAiY2xvbmVOb2RlIiBpbiBzcmMpIHsKICAgICAgICAgIC8vIERPTSBOb2RlCiAgICAgICAgICByZXR1cm4gc3JjLmNsb25lTm9kZSh0cnVlKTsgLy8gTm9kZQogICAgICAgIH0KICAgICAgICBpZiAoc3JjIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgLy8gRGF0ZQogICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpOyAvLyBEYXRlCiAgICAgICAgfQogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIC8vIFJlZ0V4cAogICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjKTsgLy8gUmVnRXhwCiAgICAgICAgfQogICAgICAgIHZhciByLCBpLCBsOwogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgLy8gYXJyYXkKICAgICAgICAgIHIgPSBbXTsKICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNyYykgewogICAgICAgICAgICAgIHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGdlbmVyaWMgb2JqZWN0cwogICAgICAgICAgciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTsKICAgICAgfTsKCiAgICAgIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmUKICAgICAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvbgogICAgICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZwogICAgICAgKiBsb29wLgogICAgICAgKi8KICAgICAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbiAoeCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4WzBdKSkgewogICAgICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5CiAgICAgICAgICAgIHZhciB4X2NvcHkgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHgubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB4X2NvcHkucHVzaChjbG9uZV9wYXJhbV9kcmF3KHhbaV0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4geF9jb3B5OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFycwogICAgICAgICAgICByZXR1cm4geC5zbGljZSgwKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBzY2FsYXIKICAgICAgICAgIHJldHVybiB4OwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGEgbnVtYmVyLgogICAgICAgKi8KICAgICAgdmFyIGlzX251bWJlciA9IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSAibnVtYmVyIiB8fCB0eXBlb2Ygb2JqZWN0ID09ICJvYmplY3QiICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS4KICAgICAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsCiAgICAgICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LgogICAgICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpbgogICAgICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgCiAgICAgICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0bwogICAgICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LgogICAgICAgKiBAZXhhbXBsZSAKICAgICAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXQogICAgICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpCiAgICAgICAqLwogICAgICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24gKGRpbSwgaW5pdCkgewogICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoZGltWzBdKTsKICAgICAgICB2YXIgaTsKICAgICAgICBpZiAoZGltLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdAogICAgICAgICAgaWYgKHR5cGVvZiBpbml0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIGFycltpXSA9IGluaXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgYXJyW2ldID0gaW5pdDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGltLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgImNyZWF0ZV9hcnJheSBjYW4ndCBjcmVhdGUgYSBkaW1lbnNpb25sZXNzIGFycmF5IjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBSZXR1cm4gdGhlIGRpbWVuc2lvbnMgb2YgYSBwb3NzaWJseSBuZXN0ZWQgYXJyYXkgYXMgYW4gYXJyYXkuIEZvciAKICAgICAgICogZXhhbXBsZSwgYXJyYXlfZGltKCBbWzEsIDJdLCBbMSwgMl1dICkgc2hvdWxkIHJldHVybiBbMiwgMl0KICAgICAgICogQXNzdW1lcyB0aGF0IGFsbCBhcnJheXMgaW5zaWRlIGFub3RoZXIgYXJyYXkgYXJlIG9mIHRoZSBzYW1lIGxlbmd0aC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogLy8gU2hvdWxkIHJldHVybiBbNCwgMiwgMV0KICAgICAgICogYXJyYXlfZGltKGNyZWF0ZV9hcnJheShbNCwgMiwgMV0sIDApKQogICAgICAgKi8KICAgICAgdmFyIGFycmF5X2RpbSA9IGZ1bmN0aW9uIChhKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVswXSkpIHsKICAgICAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW2EubGVuZ3RoXTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cwogICAgICAgKiBhcyBqdWRnZWQgYnkgdGhlICI9PSIgb3BlcmF0b3IuIFJldHVybnMgdHJ1ZSBvciBmYWxzZS4KICAgICAgICogQWRhcHRlZCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0ODUzOTc0LzEwMDE4NDgKICAgICAgICovCiAgICAgIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHsKICAgICAgICBpZiAoYTEubGVuZ3RoICE9IGEyLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgbmVzdGVkIGFycmF5cwogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7CiAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5cwogICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsKICAgICAgICAgICAgLy8gV2FybmluZyAtIHR3byBkaWZmZXJlbnQgb2JqZWN0IGluc3RhbmNlcyB3aWxsIG5ldmVyIGJlIGVxdWFsOiB7eDoyMH0gIT0ge3g6MjB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCAibGVhZiBub2RlcyIsIAogICAgICAgKiB0aGF0IGlzLCB2YWx1ZXMgdGhhdCBhcmUgbm90IGFycmF5cy4gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgc2FtZSBzaXplIGFzCiAgICAgICAqIGEuCiAgICAgICAqLwogICAgICB2YXIgbmVzdGVkX2FycmF5X2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXN1bHRbaV0gPSBuZXN0ZWRfYXJyYXlfYXBwbHkoYVtpXSwgZnVuKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmdW4oYSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqIFJhbmRvbWl6aW5nIHRoZSBhcnJheSBlbGVtZW50IG9yZGVyIGluLXBsYWNlLiBVc2luZyBEdXJzdGVuZmVsZAogICAgICAgKiBzaHVmZmxlIGFsZ29yaXRobS4gQWRhcHRlZCBmcm9tIGhlcmU6IAogICAgICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjY0Njg2NC8xMDAxODQ4CiAgICAgICAqLwogICAgICBmdW5jdGlvbiBzaHVmZmxlX2FycmF5KGFycmF5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7CiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldOwogICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTsKICAgICAgICAgIGFycmF5W2pdID0gdGVtcDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICB9CgogICAgICAvKioKICAgICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5CiAgICAgICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgImxlYWYgbm9kZXMiIGFuZCByZXR1cm5zIGFuIGFycmF5IAogICAgICAgKiBvZiB0aGUgc2FtZSBzaXplIGFzIGEuIFRoZSBkaWZmZXJlbmNlIGlzIHRoYXQgbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseQogICAgICAgKiBicmFuY2hlcyByYW5kb21seS4KICAgICAgICovCiAgICAgIHZhciBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIHZhciBhcnJheV9pcyA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGFycmF5X2lzW2ldID0gaTsKICAgICAgICAgIH0KICAgICAgICAgIHNodWZmbGVfYXJyYXkoYXJyYXlfaXMpOwogICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07CiAgICAgICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZ1bihhKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmUKICAgICAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC4KICAgICAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmcKICAgICAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgCiAgICAgICAqICAgIGFzIGEgbWVtYmVyLgogICAgICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgCiAgICAgICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9CiAgICAgICAqIHZhciBwaSA9IGdldF9vcHRpb24oInBpIiwgbXlfb3B0aW9ucywgMy4xNCkKICAgICAgICovCiAgICAgIC8vIFByZXR0eSB3YXkgb2Ygc2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgd2hlcmUgdGhlIGRlZmF1bHRzIGNhbiBiZSBvdmVycmlkZGVuCiAgICAgIC8vIGJ5IGFuIG9wdGlvbnMgb2JqZWN0LiBGb3IgZXhhbXBsZToKICAgICAgLy8gdmFyIHBpID0gZ2V0X29wdGlvbigicGkiLCBteV9vcHRpb25zLCAzLjE0KQogICAgICB2YXIgZ2V0X29wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIG9wdGlvbnNbb3B0aW9uX25hbWVdICE9PSB1bmRlZmluZWQgJiYgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTsKICAgICAgfTsKCiAgICAgIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWwKICAgICAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS4KICAgICAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggCiAgICAgICAqIGRpbSBkaW1lbnNpb25zLgogICAgICAgKiAKICAgICAgICovCiAgICAgIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbl9uYW1lLCBvcHRpb25zLCBkaW0sIGRlZmF1bF92YWx1ZSkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldF9vcHRpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRlZmF1bF92YWx1ZSk7CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgdmFsdWUgPSBjcmVhdGVfYXJyYXkoZGltLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmICghYXJyYXlfZXF1YWwoYXJyYXlfZGltKHZhbHVlKSwgZGltKSkgewogICAgICAgICAgdGhyb3cgIlRoZSBvcHRpb24gIiArIG9wdGlvbl9uYW1lICsgIiBpcyBvZiBkaW1lbnNpb24gWyIgKyBhcnJheV9kaW0odmFsdWUpICsgIl0gYnV0IHNob3VsZCBiZSBbIiArIGRpbSArICJdLiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfTsKCiAgICAgIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZQogICAgICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLgogICAgICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgInJlYWwiLCAiaW50IiwgYW5kICJiaW5hcnkiLgogICAgICAgKi8KICAgICAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbiAodHlwZSwgbG93ZXIsIHVwcGVyKSB7CiAgICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHsKICAgICAgICAgIHRocm93ICJDYW4gbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIHdoZXJlIGxvd2VyIGJvdW5kID4gdXBwZXIgYm91bmQiOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gInJlYWwiKSB7CiAgICAgICAgICBpZiAobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIDAuNTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gbG93ZXIgKyAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKGxvd2VyIDw9IHVwcGVyKSB7CiAgICAgICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImludCIpIHsKICAgICAgICAgIGlmIChsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAxOwogICAgICAgICAgfSBlbHNlIGlmICh1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIGxvd2VyICsgMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPD0gdXBwZXIpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKGxvd2VyICsgdXBwZXIpIC8gMik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiYmluYXJ5IikgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIHRocm93ICJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgb2YgdHlwZSAiICsgdHlwZSArICJbIiArIGxvd2VyICsgIiwgIiArIHVwcGVyICsgIl0iOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENvbXBsZXRlcyBwYXJhbXNfdG9fY29tcGxldGUsIGFuIG9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlciBkZXNjcmlwdGlvbnMsIAogICAgICAgKiBhbmQgaW5pdGlhbGl6ZXMgbm9uLWluaXRpYWxpemVkIHBhcmFtZXRlcnMuIFRoaXMgbW9kaWZpZWQgdmVyc2lvbiBvZgogICAgICAgKiBwYXJhbXNfdG9fY29tcGxldGUgaXMgcmV0dXJuZWQgYXMgYSBkZWVwIGNvcHkgYW5kIG5vdCBtb2RpZmllZCBpbiBwbGFjZS4KICAgICAgICogSW5pdGlhbGl6YXRpb24gaXMgZG9uZSBieSBzdXBwbHlpbmcgYSBwYXJhbV9pbml0IGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlCiAgICAgICAqIGZ1bmN0aW9uKHR5cGUsIGxvd2VyLCB1cHBlcikgdGhhdCBzaG91bGQgcmV0dXJuIGEgc2luZ2xlIG51bWJlciAKICAgICAgICogKGxpa2UgcGFyYW1faW5pdF9maXhlZCwgZm9yIGV4YW1wbGUpLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKiB2YXIgcGFyYW1zID0geyAibXUiOiB7InR5cGUiOiAicmVhbCJ9IH0KICAgICAgICogcGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHBhcmFtcyk7CiAgICAgICAqIC8vIHBhcmFtcyBzaG91bGQgbm93IGJlOgogICAgICAgKiAvLyAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LAogICAgICAgKiAvLyAgICAgICAgICAgImxvd2VyIjogLUluZmluaXR5LCAiaW5pdCI6IDAuNSB9fQogICAgICAgKi8KICAgICAgdmFyIGNvbXBsZXRlX3BhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXNfdG9fY29tcGxldGUsIHBhcmFtX2luaXQpIHsKICAgICAgICB2YXIgcGFyYW1zID0gZGVlcF9jbG9uZShwYXJhbXNfdG9fY29tcGxldGUpOwogICAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICBpZiAoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbV9uYW1lKSkgY29udGludWU7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbcGFyYW1fbmFtZV07CiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJ0eXBlIikpIHsKICAgICAgICAgICAgcGFyYW0udHlwZSA9ICJyZWFsIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghcGFyYW0uaGFzT3duUHJvcGVydHkoImRpbSIpKSB7CiAgICAgICAgICAgIHBhcmFtLmRpbSA9IFsxXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc19udW1iZXIocGFyYW0uZGltKSkgewogICAgICAgICAgICBwYXJhbS5kaW0gPSBbcGFyYW0uZGltXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS50eXBlID09ICJiaW5hcnkiKSB7CiAgICAgICAgICAgIHBhcmFtLnVwcGVyID0gMTsKICAgICAgICAgICAgcGFyYW0ubG93ZXIgPSAwOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgidXBwZXIiKSkgewogICAgICAgICAgICBwYXJhbS51cHBlciA9IEluZmluaXR5OwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgibG93ZXIiKSkgewogICAgICAgICAgICBwYXJhbS5sb3dlciA9IC1JbmZpbml0eTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpKSB7CiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMganVzdCBhIG51bWJlciBvciBhIG5lc3RlZCBhcnJheSB3ZSBsZWF2ZSBpdCBhbG9uZSwgYnV0IGlmLi4uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgdHlwZW9mIHBhcmFtLmluaXQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci4KICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgIUFycmF5LmlzQXJyYXkocGFyYW0uaW5pdCkpIHsKICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0CiAgICAgICAgICAgICAgLy8gaXMgbm90IGFuIGFycmF5LiBUaGVuIGFzc3VtZSBpdCBpcyBhIG51bWJlciBvciBhIGZ1bmN0aW9uIGFuZCB1c2UKICAgICAgICAgICAgICAvLyBpdCB0byBpbml0aWFsaXplIHRoZSBwYXJhbWV0ZXIuCiAgICAgICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhcmFtLmluaXQgPSBjcmVhdGVfYXJyYXkocGFyYW0uZGltLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vIFN0ZXBwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAgKiBAaW50ZXJmYWNlCiAgICAgICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZQogICAgICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvbgogICAgICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgImludGVyZmFjZSIsCiAgICAgICAqIHdoZXJlICJpbnRlcmZhY2UiIG1lYW5zIHRoYXQgU3RlcHBlciBkZWZpbmVzIGEgY2xhc3MgdGhhdCBpcyBuZXZlcgogICAgICAgKiBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQsIGJ1dCBqdXN0IHRvIGJlIHN1YmNsYXNzZWQgYnkgc3BlY2lhbGl6ZWQKICAgICAgICogc3RlcHBlciBmdW5jdGlvbnMuCiAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlciBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6CiAgICAgICAqICAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LCAKICAgICAgICogICAibG93ZXIiOiAtSW5maW5pdHksICJpbml0IjogMC41IH19CiAgICAgICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgImNvbXBsZXRlIiwgdGhhdCBpcywKICAgICAgICogICBzcGVjaWZ5aW5nIGFsbCByZWxldmFudCBhdHRyaWJ1dGVzIHN1Y2ggYXMgZGltLCBsb3dlciBhbmQgdXBwZXIuCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycyBpbiBwYXJhbXMKICAgICAgICogICAoYW5kIHBvc3NpYmx5IG1vcmUpLiBUaGUgcGFyYW1ldGVyIG5hbWVzIGFyZSBnaXZlbiBhcyBrZXlzIGFuZCB0aGUgc3RhdGVzCiAgICAgICAqICAgYXMgc2NhbGFycyBvciwgcG9zc2libHkgbmVzdGVkLCBhcnJheXMuIEZvciBleGFtcGxlOgogICAgICAgKiAgIHttdTogMTAsIHNpZ21hOiA1LCBiZXRhOiBbMSwgMi41XX0KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiAqdGFraW5nIG5vIHBhcmFtZXRlcnMqIHRoYXQgcmV0dXJucyB0aGUKICAgICAgICogICBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBUaGF0IGlzLCB0aGUgdmFsdWUgb2YgbG9nX3Bvc3QKICAgICAgICogICBzaG91bGQgY2hhbmdlIGlmIHRoZSB0aGUgdmFsdWVzIGluIHN0YXRlIGFyZSBjaGFuZ2VkLgogICAgICAKICAgICAgICovCiAgICAgIHZhciBTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBsb2dfcG9zdDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gU2hvdWxkIHJldHVybiB0aGUgbmV3IHN0YXRlLAogICAgICAgKiBidXQgaXMgbWFpbmx5IGNhbGxlZCBmb3IgaXQncyBzaWRlIGVmZmVjdCBvZiBtYWtpbmcgYSBjaGFuZ2UgaW4gdGhlCiAgICAgICAqIHN0YXRlIG9iamVjdC4KICAgICAgICovCiAgICAgIFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3cgIkV2ZXJ5IFN0ZXBwZXIgbmVlZCB0byBpbXBsZW1lbnQgc3RlcCgpIjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgYWRhcHQgd2hpbGUgc3RlcHBpbmcuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogSWYgaW1wbGVtZW50ZWQsIG1ha2VzIHRoZSBzdGVwcGVyIGNlYXNlIGFkYXB0aW5nIHdoaWxlIHN0ZXBwaW5nLgogICAgICAgKi8KICAgICAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmcgaW5mbyByZWdhcmRpbmcgdGhlIHN0ZXBwZXIuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIHN0ZXBwZXIuCiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24uCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICAqIEBwYXJhbSBnZW5lcmF0ZV9wcm9wb3NhbCAtIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvcG9zYWwgKGFzIGEgbnVtYmVyKQogICAgICAgKiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihwYXJhbV9zdGF0ZSwgbG9nX3NjYWxlKSB3aGVyZSBwYXJhbV9zdGF0ZSBpcyBhCiAgICAgICAqIG51bWJlciBhbmQgbG9nX3NjYWxlIGRlZmluZXMgdGhlIHNjYWxlIG9mIHRoZSBwcm9wb3NhbCBzb21laG93LgogICAgICAqLwogICAgICB2YXIgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIGdlbmVyYXRlX3Byb3Bvc2FsKSB7CiAgICAgICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CiAgICAgICAgaWYgKHBhcmFtX25hbWVzLmxlbmd0aCAhPSAxKSB7CiAgICAgICAgICB0aHJvdyAiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgY2FuIG9ubHkgaGFuZGxlIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICBpZiAoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkgewogICAgICAgICAgdGhyb3cgIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7CiAgICAgICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyOwogICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgPSBnZXRfb3B0aW9uKCJwcm9wX2xvZ19zY2FsZSIsIG9wdGlvbnMsIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCA1MCk7CiAgICAgICAgdGhpcy5tYXhfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oIm1heF9hZGFwdGF0aW9uIiwgb3B0aW9ucywgMC4zMyk7CiAgICAgICAgdGhpcy5pbml0aWFsX2FkYXB0YXRpb24gPSBnZXRfb3B0aW9uKCJpbml0aWFsX2FkYXB0YXRpb24iLCBvcHRpb25zLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgMC40NCk7CiAgICAgICAgdGhpcy5pc19hZGFwdGluZyA9IGdldF9vcHRpb24oImlzX2FkYXB0aW5nIiwgb3B0aW9ucywgdHJ1ZSk7CiAgICAgICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsOwogICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyOwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgICAgdmFyIHBhcmFtX3Byb3Bvc2FsID0gdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbChwYXJhbV9zdGF0ZSwgdGhpcy5wcm9wX2xvZ19zY2FsZSk7CiAgICAgICAgaWYgKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIDsgZWxzZSB7CiAgICAgICAgICAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwCiAgICAgICAgICB2YXIgY3Vycl9sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTsKICAgICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IHBhcmFtX3Byb3Bvc2FsOwogICAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgICB2YXIgYWNjZXB0X3Byb2IgPSBNYXRoLmV4cChwcm9wX2xvZ19kZW5zIC0gY3Vycl9sb2dfZGVucyk7CiAgICAgICAgICBpZiAoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7CiAgICAgICAgICAgIC8vIFdlIGRvIG5vdGhpbmcgYXMgdGhlIHN0YXRlIG9mIHBhcmFtIGhhcyBhbHJlYWR5IGJlZW4gY2hhbmdlZCB0byB0aGUgcHJvcG9zYWwKICAgICAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmV2ZXJ0IHN0YXRlIGJhY2sgdG8gdGhlIG9sZCBzdGF0ZSBvZiBwYXJhbQogICAgICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9zdGF0ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHsKICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbisrOwogICAgICAgICAgaWYgKHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA+PSB0aGlzLmJhdGNoX3NpemUpIHsKICAgICAgICAgICAgLy8gdGhlbiBhZGFwdAogICAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50Kys7CiAgICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IE1hdGgubWluKHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uIC8gTWF0aC5zcXJ0KHRoaXMuYmF0Y2hfY291bnQpKTsKICAgICAgICAgICAgaWYgKHRoaXMuYWNjZXB0YW5jZV9jb3VudCAvIHRoaXMuYmF0Y2hfc2l6ZSA+IHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSArPSBsb2dfc2RfYWRqdXN0bWVudDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnByb3BfbG9nX3NjYWxlIC09IGxvZ19zZF9hZGp1c3RtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgIH07CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSB0cnVlOwogICAgICB9OwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBmYWxzZTsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHByb3BfbG9nX3NjYWxlOiB0aGlzLnByb3BfbG9nX3NjYWxlLAogICAgICAgICAgaXNfYWRhcHRpbmc6IHRoaXMuaXNfYWRhcHRpbmcsCiAgICAgICAgICBhY2NlcHRhbmNlX2NvdW50OiB0aGlzLmFjY2VwdGFuY2VfY291bnQsCiAgICAgICAgICBpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uOiB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24sCiAgICAgICAgICBiYXRjaF9jb3VudDogdGhpcy5iYXRjaF9jb3VudAogICAgICAgIH07CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLgogICAgICAgKi8KICAgICAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uIChwYXJhbV9zdGF0ZSwgcHJvcF9sb2dfc2NhbGUpIHsKICAgICAgICByZXR1cm4gcm5vcm0ocGFyYW1fc3RhdGUsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQGNsYXNzCiAgICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgY29udGlub3VzIE5vcm1hbCBwcm9wb3NhbHMuCiAgICAgICAqLwogICAgICB2YXIgUmVhbE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7CiAgICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgbm9ybWFsX3Byb3Bvc2FsKTsKICAgICAgfTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjsKCiAgICAgIC8qKgogICAgICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuCiAgICAgICAqLwogICAgICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24gKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkgewogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJub3JtKHBhcmFtX3N0YXRlLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICogQSAic3ViY2xhc3MiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAqLwogICAgICB2YXIgSW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwpOwogICAgICB9OwogICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdAogICAgICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIAogICAgICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgCiAgICAgICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXMKICAgICAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIAogICAgICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uCiAgICAgICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKi8KICAgICAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIFN1YlN0ZXBwZXIpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoICE9IDEpIHsKICAgICAgICAgIHRocm93ICJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTsKICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdOwogICAgICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjsKICAgICAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7CiAgICAgICAgdGhpcy5kaW0gPSBwYXJhbS5kaW07CiAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oInByb3BfbG9nX3NjYWxlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApOwogICAgICAgIHRoaXMubWF4X2FkYXB0YXRpb24gPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJtYXhfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTsKICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oImluaXRpYWxfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X211bHRpZGltX29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuNDQpOwogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJpc19hZGFwdGluZyIsIG9wdGlvbnMsIHRoaXMuZGltLCB0cnVlKTsKCiAgICAgICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiAKICAgICAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS4KICAgICAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gZnVuY3Rpb24gKGRpbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZSwgYmF0Y2hfc2l6ZSwgbWF4X2FkYXB0YXRpb24sIGluaXRpYWxfYWRhcHRhdGlvbiwgdGFyZ2V0X2FjY2VwdF9yYXRlLCBpc19hZGFwdGluZykgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICBpZiAoZGltLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHN1Ym9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sCiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplW2ldLAogICAgICAgICAgICAgICAgbWF4X2FkYXB0YXRpb246IG1heF9hZGFwdGF0aW9uW2ldLAogICAgICAgICAgICAgICAgaW5pdGlhbF9hZGFwdGF0aW9uOiBpbml0aWFsX2FkYXB0YXRpb25baV0sCiAgICAgICAgICAgICAgICB0YXJnZXRfYWNjZXB0X3JhdGU6IHRhcmdldF9hY2NlcHRfcmF0ZVtpXSwKICAgICAgICAgICAgICAgIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIHN1YnBhcmFtID0ge307CiAgICAgICAgICAgICAgc3VicGFyYW1baV0gPSBkZWVwX2Nsb25lKHBhcmFtKTsKICAgICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyCiAgICAgICAgICAgICAgZGVsZXRlIHN1YnBhcmFtW2ldLmluaXQ7IC8vIEFzIGl0IHNvdWxkIG5vdCBiZSBuZWVkZWQKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBTdWJTdGVwcGVyKHN1YnBhcmFtLCBzdWJzdGF0ZSwgbG9nX3Bvc3QsIHN1Ym9wdGlvbnMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QsIHByb3BfbG9nX3NjYWxlW2ldLCBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzOwogICAgICAgIH07CiAgICAgICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LCB0aGlzLnByb3BfbG9nX3NjYWxlLCB0aGlzLmJhdGNoX3NpemUsIHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uLCB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSwgdGhpcy5pc19hZGFwdGluZyk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBzdWJzdGVwcGVycyBpbiBhIHJhbmRvbSBvcmRlciBhbmQgY2FsbCBzdGVwKCkgb24gdGhlbS4KICAgICAgICByZXR1cm4gbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuc3RlcCgpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgc3Vic3RlcHBlci5zdGFydF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHN1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy4KICAgICAgICovCiAgICAgIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgUmVhbE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAgKi8KICAgICAgdmFyIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIEludE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuCiAgICAgICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGUKICAgICAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgCiAgICAgICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAqLwogICAgICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwogICAgICAgIGlmIChwYXJhbV9uYW1lcy5sZW5ndGggPT0gMSkgewogICAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyOwogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7CiAgICAgICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTsKICAgICAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpOwogICAgICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpOwogICAgICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zOwogICAgICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7CiAgICAgICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyhNYXRoLmV4cCh6ZXJvX2xvZ19kZW5zKSArIE1hdGguZXhwKG9uZV9sb2dfZGVucykpKTsKICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHplcm9fcHJvYikgewogICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMDsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gLy8gZWxzZSBrZWVwIHRoZSBwYXJhbSBhdCAxIC4KICAgICAgICByZXR1cm4gMTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfQogICAgICAqIEp1c3QgbGlrZSBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIHRoaXMgU3RlcHBlciB0YWtlcyBhIHN0ZXBzIGZvcgogICAgICAqIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgYnkgdXBkYXRpbmcgZWFjaCBjb21wb25lbnQgaW4gdHVybi4gVGhlIGRpZmZlcmVuY2UKICAgICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy4KICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgCiAgICAgICogICBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci4KICAgICAgKi8KICAgICAgdmFyIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdOwogICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICAgIHRoaXMuZGltID0gcGFyYW0uZGltOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyAiQmluYXJ5Q29tcG9uZW50U3RlcHBlciBjYW4ndCBoYW5kbGUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IGZ1bmN0aW9uIChkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCkgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIGlmIChkaW0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIHZhciBzdWJwYXJhbXMgPSB7fTsKICAgICAgICAgICAgICBzdWJwYXJhbXNbaV0gPSBwYXJhbTsKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBCaW5hcnlTdGVwcGVyKHN1YnBhcmFtcywgc3Vic3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlcnM7CiAgICAgICAgfTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gY3JlYXRlX3N1YnN0ZXBwZXJzKHRoaXMuZGltLCB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0sIHRoaXMubG9nX3Bvc3QpOwogICAgICB9OwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7CiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uCiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHJldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9CiAgICAgICAqIFRoaXMgc3RlcHBlciBjYW4gYmUgcmVzcG9uc2libGUgZm9yIHRha2luZyBhIHN0ZXAgZm9yIG9uZSBvciBtb3JlIHBhcmFtZXRlcnMuCiAgICAgICAqIEZvciByZWFsIGFuZCBpbnQgcGFyYW1ldGVycyBpdCB0YWtlcyBNZXRyb3BvbGlzIHdpdGhpbiBHaWJicyBzdGVwcywgYW5kIGZvciAKICAgICAgICogYmluYXJ5IHBhcmFtZXRlcnMgaXQgZG9lcyBldmFsdWF0ZXMgdGhlIHBvc3RlcmlvciBmb3IgYm90aCBwYXJhbXRlciB2YWx1ZXMgYW5kCiAgICAgICAqIHJhbmRvbWx5IGNoYW5nZXMgdG8gYSBjZXJ0YWluIHZhbHVlIHByb3BvcnRpb25hbGx5IHRvIHRoYXQgdmFsdWUncyBwb3N0ZXJpb3IKICAgICAgICogKHRoaXMgaXMgYWxzbyBkb25lIGZvciBlYWNoIHBhcmFtZXRlciwgc28gYWxzbyBhICogd2l0aGluIEdpYmJzIGFwcHJvYWNoKS4KICAgICAgICogVGhpcyBzdGVwcGVyIGlzIGFsc28gYWRhcHRpdmUgYW5kIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMKICAgICAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV07CiAgICAgICAgICB2YXIgU2VsZWN0U3RlcHBlcjsKICAgICAgICAgIHN3aXRjaCAocGFyYW0udHlwZSkgewogICAgICAgICAgICBjYXNlICJyZWFsIjoKICAgICAgICAgICAgICBpZiAoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJpbnQiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBJbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJiaW5hcnkiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgdGhyb3cgIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgIiArIHRoaXMucGFyYW1fbmFtZXNbaV0gKyAiIHdpdGggdHlwZSAiICsgcGFyYW0udHlwZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBwYXJhbV9vYmplY3Rfd3JhcCA9IHt9OwogICAgICAgICAgcGFyYW1fb2JqZWN0X3dyYXBbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSBwYXJhbTsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHBhcmFtX29wdGlvbnMgPSBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXSB8fCB7fTsKICAgICAgICAgIHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgPSBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7CiAgICAgICAgICBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgfHwgb3B0aW9ucy5iYXRjaF9zaXplOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiA9IHBhcmFtX29wdGlvbnMubWF4X2FkYXB0YXRpb24gfHwgb3B0aW9ucy5tYXhfYWRhcHRhdGlvbjsKICAgICAgICAgIHBhcmFtX29wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uID0gcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gfHwgb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb247CiAgICAgICAgICBwYXJhbV9vcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZSA9IHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlIHx8IG9wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyA9IHBhcmFtX29wdGlvbnMuaXNfYWRhcHRpbmcgfHwgb3B0aW9ucy5pc19hZGFwdGluZzsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbXdnU3RlcHBlcjsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN1YnN0ZXBwZXJzKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RlcCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTsKICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGluZm8gPSB7fTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGluZm9bdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSB0aGlzLnN1YnN0ZXBwZXJzW2ldLmluZm8oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluZm87CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vLyBTYW1wbGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBXaGlsZSB5b3UgY291bGQgZml0IGEgbW9kZWwgYnkgcGFzdGluZyB0b2dldGhlciBTdGVwcGVycywgYQogICAgICAvLyBTYW1wbGVyIGlzIGhlcmUgaXMgYSBjb252ZW5pZW5jZSBjbGFzcyB3aGVyZSBhbiBpbnN0YW5jZSBvZiBTYW1wbGVyCiAgICAgIC8vIHNldHMgdXAgdGhlIFN0ZXBwZXJzLCBjaGVja3MgdGhlIHBhcmFtZXRlciBkZWZpbml0aW9uLAogICAgICAvLyBhbmQgbWFuYWdlcyB0aGUgc2FtcGxpbmcuIFRoaXMgaGVyZSBkZWZpbmVzIHRoZSBTYW1wbGVyICJpbnRlcmZhY2UiLgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZToKICAgICAgKiAgIHsibXUiOiB7InR5cGUiOiAicmVhbCJ9LCAic2lnbWEiOiB7InR5cGUiOiAicmVhbCIsICJsb3dlciIgPSAwfX0KICAgICAgKiAgIFRoZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMgZG9lc24ndCBoYXZlIHRvIGJlICJjb21wbGV0ZSIgYW5kIHByb3BlcnRpZXMKICAgICAgKiAgIGxlZnQgb3V0IChsaWtlIGxvd2VyIGFuZCB1cHBlcikgd2lsbCBiZSBmaWxsZWQgaW4gYnkgZGVmYXVsdHMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihzdGF0ZSwgZGF0YSkuIEhlcmUKICAgICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIAogICAgICAqICAga2V5IGFuZCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcyBudW1iZXJzIG9yIGFycmF5cy4gRm9yIGV4YW1wbGU6CiAgICAgICogICB7Im11IjogMywgInNpZ21hIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgCiAgICAgICogICB0aGUgZGF0YSBhcmd1bWVudCBnaXZlbiBiZWxvdy4KICAgICAgKiBAcGFyYW0gZGF0YSAtIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBsb2dfcG9zdCBmdW5jdGlvbgogICAgICAqICAgd2hlbiBzYW1wbGluZy4KICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHNhbXBsZXIuCiAgICAgICovCiAgICAgIHZhciBTYW1wbGVyID0gZnVuY3Rpb24gKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHsKICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtczsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMucGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CgogICAgICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3QKICAgICAgICB0aGlzLnBhcmFtX2luaXRfZnVuID0gZ2V0X29wdGlvbigicGFyYW1faW5pdF9mdW4iLCBvcHRpb25zLCBwYXJhbV9pbml0X2ZpeGVkKTsKICAgICAgICB2YXIgdGhpbm5pbmdfaW50ZXJ2YWwgPSBnZXRfb3B0aW9uKCJ0aGluIiwgb3B0aW9ucywgMSk7CiAgICAgICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbigibW9uaXRvciIsIG9wdGlvbnMsIG51bGwpOwogICAgICAgIHRoaXMudGhpbih0aGlubmluZ19pbnRlcnZhbCk7CiAgICAgICAgdGhpcy5tb25pdG9yKHBhcmFtc190b19tb25pdG9yKTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICAgIC8vIENvbXBsZXRpbmcgdGhlIHBhcmFtcyBhbmQgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZS4KICAgICAgICB0aGlzLnBhcmFtcyA9IGNvbXBsZXRlX3BhcmFtcyh0aGlzLnBhcmFtcywgdGhpcy5wYXJhbV9pbml0X2Z1bik7CiAgICAgICAgdmFyIHN0YXRlID0ge307CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBzdGF0ZVt0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dLmluaXQ7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbG9nX3Bvc3Qoc3RhdGUsIGRhdGEpOwogICAgICAgIH07CiAgICAgICAgLy8gUnVubmluZyB0aGUgbG9nX3Bvc3QgZnVuY3Rpb24gb25jZSBpbiBjYXNlIGl0IGZ1cnRoZXIgbW9kaWZpZXMgdGhlIHN0YXRlCiAgICAgICAgLy8gZm9yIGV4YW1wbGUgYWRkaW5nIGRlcml2ZWQgcXVhbnRpdGllcy4KICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMuc3RlcHBlcnMgPSB0aGlzLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKHRoaXMucGFyYW1zLCB0aGlzLnN0YXRlLCB0aGlzLmxvZ19wb3N0LCB0aGlzLm9wdGlvbnMpOwogICAgICB9OwoKICAgICAgLyoqIFNob3VsZCByZXR1cm4gYSB2ZWN0b3Igb2Ygc3RlcHBlcnMgdGhhdCB3aGVuIGNhbGxlZCAKICAgICAgICogc2hvdWxkIHRha2UgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuCiAgICAgICAqLwogICAgICBTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgbG9nX3Bvc3QpIHsKICAgICAgICB0aHJvdyAiRXZlcnkgU2FtcGxlciBuZWVkcyB0byBpbXBsZW1lbnQgY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUoKSI7CiAgICAgIH07CgogICAgICAvKiogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgU2FtcGxlci4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLAogICAgICAgICAgdGhpbjogdGhpcy50aGluLAogICAgICAgICAgbW9uaXRvcjogdGhpcy5tb25pdG9yLAogICAgICAgICAgc3RlcHBlcnM6IHRoaXMuc3RlcHBlcnMKICAgICAgICB9OwogICAgICB9OwoKICAgICAgLyoqIFRha2VzIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLiBSZXR1cm5zIHRoZSBuZXcgc3BhY2UKICAgICAgICogYnV0IGFsc28gbW9kaWZpZXMgdGhlIHN0YXRlIGluIHBsYWNlLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3RlcHBlcnMpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7CiAgICAgICAgfQogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGggPiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcykubGVuZ3RoKSB7CiAgICAgICAgICAvLyBUaGUgc3RhdGUgY29udGFpbnMgZGV2aXZlZCBxdWFudGl0aWVzIChub3Qgb25seSBwYXJhbWV0ZXJzKSBhbmQgd2UKICAgICAgICAgIC8vIG5lZWQgdG8gcnVuIHRoZSBsb2dfcG9zdCBvbmNlIG1vcmUgaW4gb3JkZXIgdG8gc2V0IHRoZSBkZXJpdmVkIHF1YW50aXRpZXMKICAgICAgICAgIC8vIGZvciB0aGUgZmluYWwgcGFyYW1ldGVyIHN0YXRlCiAgICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9ucyBzdGVwcyBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlIGFuZCByZXR1cm5zIHRoZW0KICAgICAgICogYXMgYW4gb2JqZWN0IG9mIGFycmF5cyB3aXRoIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyLiBGb3IgZXhhbXBsZToKICAgICAgICoge211OiBbMSwgLTEsIDIsIDMsIC4uLl0sIHNpZ21hOiBbMSwgMiwgMiwgMSwgLi4uXX0uCiAgICAgICAqIElmIHRoaW4gaXMgPiAxIHRoZW4gbl9pdGVyYXRpb25zIC8gdGhpbiBzYW1wbGVzIGFyZSByZXR1cm5lZC4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICAvLyBJbml0aWFsaXppbmcgY3Vycl9zYW1wbGUgd2hlcmUgdGhlIHNhbXBsZSBpcyBnb2luZyB0byBiZSBzYXZlZAogICAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC4KICAgICAgICB2YXIgaSwgaiwgbW9uaXRvcmVkX3BhcmFtczsKICAgICAgICBpZiAodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7CiAgICAgICAgICBtb25pdG9yZWRfcGFyYW1zID0gT2JqZWN0LmtleXModGhpcy5zdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7CiAgICAgICAgfQogICAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9OwogICAgICAgIGZvciAoaiA9IDA7IGogPCBtb25pdG9yZWRfcGFyYW1zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdOwogICAgICAgIH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbl9pdGVyYXRpb25zOyBpKyspIHsKICAgICAgICAgIGlmIChpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkgewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07CiAgICAgICAgICAgICAgY3Vycl9zYW1wbGVbcGFyYW1dLnB1c2goY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGN1cnJfc2FtcGxlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9uIHN0ZXBzIGluIHBhcmFtZXRlciBzcGFjZSBidXQgcmV0dXJucyBub3RoaW5nLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogU2V0cyB3aGF0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIG1vbml0b3JlZCBhbmQgcmV0dXJuZWQgd2hlbiBjYWxsaW5nCiAgICAgICAqIHNhbXBsZS4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLm1vbml0b3IgPSBmdW5jdGlvbiAocGFyYW1zX3RvX21vbml0b3IpIHsKICAgICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yCiAgICAgICAqIGRyYXcgd2lsbCBiZSBrZXB0LgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUudGhpbiA9IGZ1bmN0aW9uICh0aGlubmluZ19pbnRlcnZhbCkgewogICAgICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb2ZmLCBpZiBhcHBsaWNhYmxlLCBpbiBhbGwgc3RlcHBlcnMuCiAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqCiAgICAgICogQGNsYXNzCiAgICAgICogQGltcGxlbWVudHMge1NhbXBsZXJ9CiAgICAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIAogICAgICAqIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiAiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQyIKICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLiBBbiBhZGl0aW9uIGlzIHRoYXQgaXQgaGFuZGxlcyBpbnQgcGFyYW1ldGVycwogICAgICAqIGJ5IG1ha2luZyBkaXNjcmV0ZSBOb3JtYWwgcHJvcG9zYWxzIGFuZCBiaW5hcnkgcGFyYW1ldGVycyBieSB0YWtpbmcgb24gYSBuZXcgCiAgICAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlCiAgICAgICogcGFyYW1ldGVyLiBUaGlzIHNhbXBsZXIgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycwogICAgICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuCiAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uIChwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7CiAgICAgICAgU2FtcGxlci5jYWxsKHRoaXMsIHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpOwogICAgICB9OwogICAgICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsKICAgICAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1NhbXBsZXI7CiAgICAgIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIHJldHVybiBbbmV3IEFtd2dTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKV07CiAgICAgIH07CgogICAgICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlCiAgICAgIHJldHVybiB7CiAgICAgICAgcnVuaWY6IHJ1bmlmLAogICAgICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSwKICAgICAgICBybm9ybTogcm5vcm0sCiAgICAgICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwKICAgICAgICBjb21wbGV0ZV9wYXJhbXM6IGNvbXBsZXRlX3BhcmFtcywKICAgICAgICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXI6IFJlYWxNZXRyb3BvbGlzU3RlcHBlciwKICAgICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLAogICAgICAgIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwKICAgICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyOiBCaW5hcnlDb21wb25lbnRTdGVwcGVyLAogICAgICAgIEFtd2dTdGVwcGVyOiBBbXdnU3RlcHBlciwKICAgICAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXIKICAgICAgfTsKICAgIH0pOwogIH0pKG1jbWMkMSk7CiAgdmFyIG1jbWNFeHBvcnRzID0gbWNtYyQxLmV4cG9ydHM7CgogIGZ1bmN0aW9uIGFzY2VuZGluZyQxKGEsIGIpIHsKICAgIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiogbnVtYmVycyh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHsKICAgICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkgewogICAgICAgICAgeWllbGQgdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nJDEpIHsKICAgIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmckMSkgcmV0dXJuIGFzY2VuZGluZ0RlZmluZWQ7CiAgICBpZiAodHlwZW9mIGNvbXBhcmUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgIHJldHVybiAoYSwgYikgPT4gewogICAgICBjb25zdCB4ID0gY29tcGFyZShhLCBiKTsKICAgICAgaWYgKHggfHwgeCA9PT0gMCkgcmV0dXJuIHg7CiAgICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHsKICAgIHJldHVybiAoYSA9PSBudWxsIHx8ICEoYSA+PSBhKSkgLSAoYiA9PSBudWxsIHx8ICEoYiA+PSBiKSkgfHwgKGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwKTsKICB9CgogIGZ1bmN0aW9uIG1heCh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIGxldCBtYXg7CiAgICB7CiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkgewogICAgICAgICAgbWF4ID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbWF4OwogIH0KCiAgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikgewogICAgbGV0IG1pbjsKICAgIHsKICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAobWluID4gdmFsdWUgfHwgbWluID09PSB1bmRlZmluZWQgJiYgdmFsdWUgPj0gdmFsdWUpKSB7CiAgICAgICAgICBtaW4gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBtaW47CiAgfQoKICAvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdAogIC8vIElTQyBsaWNlbnNlLCBDb3B5cmlnaHQgMjAxOCBWbGFkaW1pciBBZ2Fmb25raW4uCiAgZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyYXksIGssIGxlZnQgPSAwLCByaWdodCA9IEluZmluaXR5LCBjb21wYXJlKSB7CiAgICBrID0gTWF0aC5mbG9vcihrKTsKICAgIGxlZnQgPSBNYXRoLmZsb29yKE1hdGgubWF4KDAsIGxlZnQpKTsKICAgIHJpZ2h0ID0gTWF0aC5mbG9vcihNYXRoLm1pbihhcnJheS5sZW5ndGggLSAxLCByaWdodCkpOwogICAgaWYgKCEobGVmdCA8PSBrICYmIGsgPD0gcmlnaHQpKSByZXR1cm4gYXJyYXk7CiAgICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpOwogICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkgewogICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7CiAgICAgICAgY29uc3QgbiA9IHJpZ2h0IC0gbGVmdCArIDE7CiAgICAgICAgY29uc3QgbSA9IGsgLSBsZWZ0ICsgMTsKICAgICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7CiAgICAgICAgY29uc3QgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7CiAgICAgICAgY29uc3Qgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7CiAgICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7CiAgICAgICAgY29uc3QgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTsKICAgICAgICBxdWlja3NlbGVjdChhcnJheSwgaywgbmV3TGVmdCwgbmV3UmlnaHQsIGNvbXBhcmUpOwogICAgICB9CiAgICAgIGNvbnN0IHQgPSBhcnJheVtrXTsKICAgICAgbGV0IGkgPSBsZWZ0OwogICAgICBsZXQgaiA9IHJpZ2h0OwogICAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTsKICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyYXksIGxlZnQsIHJpZ2h0KTsKICAgICAgd2hpbGUgKGkgPCBqKSB7CiAgICAgICAgc3dhcChhcnJheSwgaSwgaiksICsraSwgLS1qOwogICAgICAgIHdoaWxlIChjb21wYXJlKGFycmF5W2ldLCB0KSA8IDApICsraTsKICAgICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7CiAgICAgIH0KICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpOwogICAgICBpZiAoaiA8PSBrKSBsZWZ0ID0gaiArIDE7CiAgICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7CiAgICB9CiAgICByZXR1cm4gYXJyYXk7CiAgfQogIGZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHsKICAgIGNvbnN0IHQgPSBhcnJheVtpXTsKICAgIGFycmF5W2ldID0gYXJyYXlbal07CiAgICBhcnJheVtqXSA9IHQ7CiAgfQoKICBmdW5jdGlvbiBxdWFudGlsZSh2YWx1ZXMsIHAsIHZhbHVlb2YpIHsKICAgIHZhbHVlcyA9IEZsb2F0NjRBcnJheS5mcm9tKG51bWJlcnModmFsdWVzKSk7CiAgICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuOwogICAgaWYgKHAgPD0gMCB8fCBuIDwgMikgcmV0dXJuIG1pbih2YWx1ZXMpOwogICAgaWYgKHAgPj0gMSkgcmV0dXJuIG1heCh2YWx1ZXMpOwogICAgdmFyIG4sCiAgICAgIGkgPSAobiAtIDEpICogcCwKICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLAogICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksCiAgICAgIHZhbHVlMSA9IG1pbih2YWx1ZXMuc3ViYXJyYXkoaTAgKyAxKSk7CiAgICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTsKICB9CgogIGZ1bmN0aW9uIG1lZGlhbih2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHJldHVybiBxdWFudGlsZSh2YWx1ZXMsIDAuNSk7CiAgfQoKICB2YXIgbm9vcCA9IHsKICAgIHZhbHVlOiAoKSA9PiB7fQogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2goKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkgewogICAgICBpZiAoISh0ID0gYXJndW1lbnRzW2ldICsgIiIpIHx8IHQgaW4gXyB8fCAvW1xzLl0vLnRlc3QodCkpIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiICsgdCk7CiAgICAgIF9bdF0gPSBbXTsKICAgIH0KICAgIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7CiAgfQogIGZ1bmN0aW9uIERpc3BhdGNoKF8pIHsKICAgIHRoaXMuXyA9IF87CiAgfQogIGZ1bmN0aW9uIHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWVzLCB0eXBlcykgewogICAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XHMrLykubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuYW1lID0gIiIsCiAgICAgICAgaSA9IHQuaW5kZXhPZigiLiIpOwogICAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpOwogICAgICBpZiAodCAmJiAhdHlwZXMuaGFzT3duUHJvcGVydHkodCkpIHRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiICsgdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogdCwKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH07CiAgICB9KTsKICB9CiAgRGlzcGF0Y2gucHJvdG90eXBlID0gZGlzcGF0Y2gucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IERpc3BhdGNoLAogICAgb246IGZ1bmN0aW9uICh0eXBlbmFtZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF8gPSB0aGlzLl8sCiAgICAgICAgVCA9IHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWUgKyAiIiwgXyksCiAgICAgICAgdCwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IFQubGVuZ3RoOwoKICAgICAgLy8gSWYgbm8gY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmV0dXJuIHRoZSBjYWxsYmFjayBvZiB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7CiAgICAgICAgd2hpbGUgKCsraSA8IG4pIGlmICgodCA9ICh0eXBlbmFtZSA9IFRbaV0pLnR5cGUpICYmICh0ID0gZ2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIElmIGEgdHlwZSB3YXMgc3BlY2lmaWVkLCBzZXQgdGhlIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS4KICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIgKyBjYWxsYmFjayk7CiAgICAgIHdoaWxlICgrK2kgPCBuKSB7CiAgICAgICAgaWYgKHQgPSAodHlwZW5hbWUgPSBUW2ldKS50eXBlKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgY2FsbGJhY2spO2Vsc2UgaWYgKGNhbGxiYWNrID09IG51bGwpIGZvciAodCBpbiBfKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgbnVsbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY29weTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29weSA9IHt9LAogICAgICAgIF8gPSB0aGlzLl87CiAgICAgIGZvciAodmFyIHQgaW4gXykgY29weVt0XSA9IF9bdF0uc2xpY2UoKTsKICAgICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTsKICAgIH0sCiAgICBjYWxsOiBmdW5jdGlvbiAodHlwZSwgdGhhdCkgewogICAgICBpZiAoKG4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMikgPiAwKSBmb3IgKHZhciBhcmdzID0gbmV3IEFycmF5KG4pLCBpID0gMCwgbiwgdDsgaSA8IG47ICsraSkgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMl07CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7CiAgICB9LAogICAgYXBwbHk6IGZ1bmN0aW9uICh0eXBlLCB0aGF0LCBhcmdzKSB7CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHZhciB0ID0gdGhpcy5fW3R5cGVdLCBpID0gMCwgbiA9IHQubGVuZ3RoOyBpIDwgbjsgKytpKSB0W2ldLnZhbHVlLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgfQogIH07CiAgZnVuY3Rpb24gZ2V0JDEodHlwZSwgbmFtZSkgewogICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0eXBlLmxlbmd0aCwgYzsgaSA8IG47ICsraSkgewogICAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgcmV0dXJuIGMudmFsdWU7CiAgICAgIH0KICAgIH0KICB9CiAgZnVuY3Rpb24gc2V0JDEodHlwZSwgbmFtZSwgY2FsbGJhY2spIHsKICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAgaWYgKHR5cGVbaV0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgIHR5cGVbaV0gPSBub29wLCB0eXBlID0gdHlwZS5zbGljZSgwLCBpKS5jb25jYXQodHlwZS5zbGljZShpICsgMSkpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHsKICAgICAgbmFtZTogbmFtZSwKICAgICAgdmFsdWU6IGNhbGxiYWNrCiAgICB9KTsKICAgIHJldHVybiB0eXBlOwogIH0KCiAgdmFyIHhodG1sID0gImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiOwogIHZhciBuYW1lc3BhY2VzID0gewogICAgc3ZnOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAogICAgeGh0bWw6IHhodG1sLAogICAgeGxpbms6ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwKICAgIHhtbDogImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsCiAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIgogIH07CgogIGZ1bmN0aW9uIG5hbWVzcGFjZSAobmFtZSkgewogICAgdmFyIHByZWZpeCA9IG5hbWUgKz0gIiIsCiAgICAgIGkgPSBwcmVmaXguaW5kZXhPZigiOiIpOwogICAgaWYgKGkgPj0gMCAmJiAocHJlZml4ID0gbmFtZS5zbGljZSgwLCBpKSkgIT09ICJ4bWxucyIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTsKICAgIHJldHVybiBuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkgPyB7CiAgICAgIHNwYWNlOiBuYW1lc3BhY2VzW3ByZWZpeF0sCiAgICAgIGxvY2FsOiBuYW1lCiAgICB9IDogbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICB9CgogIGZ1bmN0aW9uIGNyZWF0b3JJbmhlcml0KG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMub3duZXJEb2N1bWVudCwKICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTsKICAgICAgcmV0dXJuIHVyaSA9PT0geGh0bWwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0geGh0bWwgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHVyaSwgbmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yRml4ZWQoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yIChuYW1lKSB7CiAgICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7CiAgICByZXR1cm4gKGZ1bGxuYW1lLmxvY2FsID8gY3JlYXRvckZpeGVkIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTsKICB9CgogIGZ1bmN0aW9uIG5vbmUoKSB7fQogIGZ1bmN0aW9uIHNlbGVjdG9yIChzZWxlY3RvcikgewogICAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBub25lIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7CiAgfQoKICAvLyBHaXZlbiBzb21ldGhpbmcgYXJyYXkgbGlrZSAob3IgbnVsbCksIHJldHVybnMgc29tZXRoaW5nIHRoYXQgaXMgc3RyaWN0bHkgYW4KICAvLyBhcnJheS4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IGFycmF5LWxpa2Ugb2JqZWN0cyBwYXNzZWQgdG8gZDMuc2VsZWN0QWxsCiAgLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGEKICAvLyBzZWxlY3Rpb247IHdlIGRvbuKAmXQgZXZlciB3YW50IHRvIGNyZWF0ZSBhIHNlbGVjdGlvbiBiYWNrZWQgYnkgYSBsaXZlCiAgLy8gSFRNTENvbGxlY3Rpb24gb3IgTm9kZUxpc3QuIEhvd2V2ZXIsIG5vdGUgdGhhdCBzZWxlY3Rpb24uc2VsZWN0QWxsIHdpbGwgdXNlIGEKICAvLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLgogIGZ1bmN0aW9uIGFycmF5KHgpIHsKICAgIHJldHVybiB4ID09IG51bGwgPyBbXSA6IEFycmF5LmlzQXJyYXkoeCkgPyB4IDogQXJyYXkuZnJvbSh4KTsKICB9CgogIGZ1bmN0aW9uIGVtcHR5KCkgewogICAgcmV0dXJuIFtdOwogIH0KICBmdW5jdGlvbiBzZWxlY3RvckFsbCAoc2VsZWN0b3IpIHsKICAgIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gZW1wdHkgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGFycmF5QWxsKHNlbGVjdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGFycmF5KHNlbGVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3RBbGwgKHNlbGVjdCkgewogICAgaWYgKHR5cGVvZiBzZWxlY3QgPT09ICJmdW5jdGlvbiIpIHNlbGVjdCA9IGFycmF5QWxsKHNlbGVjdCk7ZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKTsKICAgICAgICAgIHBhcmVudHMucHVzaChub2RlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoc3ViZ3JvdXBzLCBwYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIG1hdGNoZXIgKHNlbGVjdG9yKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHNlbGVjdG9yKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkTWF0Y2hlcihzZWxlY3RvcikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIHZhciBmaW5kID0gQXJyYXkucHJvdG90eXBlLmZpbmQ7CiAgZnVuY3Rpb24gY2hpbGRGaW5kKG1hdGNoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZmluZC5jYWxsKHRoaXMuY2hpbGRyZW4sIG1hdGNoKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkRmlyc3QoKSB7CiAgICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NlbGVjdENoaWxkIChtYXRjaCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0IDogY2hpbGRGaW5kKHR5cGVvZiBtYXRjaCA9PT0gImZ1bmN0aW9uIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpOwogIH0KCiAgdmFyIGZpbHRlciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXI7CiAgZnVuY3Rpb24gY2hpbGRyZW4oKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKTsKICB9CiAgZnVuY3Rpb24gY2hpbGRyZW5GaWx0ZXIobWF0Y2gpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLmNoaWxkcmVuLCBtYXRjaCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gKG1hdGNoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuIDogY2hpbGRyZW5GaWx0ZXIodHlwZW9mIG1hdGNoID09PSAiZnVuY3Rpb24iID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZmlsdGVyIChtYXRjaCkgewogICAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gImZ1bmN0aW9uIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7CiAgICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMShzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpOwogIH0KCiAgZnVuY3Rpb24gc3BhcnNlICh1cGRhdGUpIHsKICAgIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW50ZXIgKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMSh0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpOwogIH0KICBmdW5jdGlvbiBFbnRlck5vZGUocGFyZW50LCBkYXR1bSkgewogICAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7CiAgICB0aGlzLm5hbWVzcGFjZVVSSSA9IHBhcmVudC5uYW1lc3BhY2VVUkk7CiAgICB0aGlzLl9uZXh0ID0gbnVsbDsKICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDsKICAgIHRoaXMuX19kYXRhX18gPSBkYXR1bTsKICB9CiAgRW50ZXJOb2RlLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBFbnRlck5vZGUsCiAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCB0aGlzLl9uZXh0KTsKICAgIH0sCiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChjaGlsZCwgbmV4dCkgewogICAgICByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gY29uc3RhbnQkMSAoeCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHg7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHsKICAgIHZhciBpID0gMCwKICAgICAgbm9kZSwKICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsCiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDsKCiAgICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZml0IGludG8gdXBkYXRlLgogICAgLy8gUHV0IGFueSBudWxsIG5vZGVzIGludG8gZW50ZXIuCiAgICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuCiAgICBmb3IgKDsgaSA8IGRhdGFMZW5ndGg7ICsraSkgewogICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07CiAgICAgICAgdXBkYXRlW2ldID0gbm9kZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTsKICAgICAgfQogICAgfQoKICAgIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBkb27igJl0IGZpdCBpbnRvIGV4aXQuCiAgICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGJpbmRLZXkocGFyZW50LCBncm91cCwgZW50ZXIsIHVwZGF0ZSwgZXhpdCwgZGF0YSwga2V5KSB7CiAgICB2YXIgaSwKICAgICAgbm9kZSwKICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwKCksCiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgIGtleVZhbHVlcyA9IG5ldyBBcnJheShncm91cExlbmd0aCksCiAgICAgIGtleVZhbHVlOwoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBub2RlLgogICAgLy8gSWYgbXVsdGlwbGUgbm9kZXMgaGF2ZSB0aGUgc2FtZSBrZXksIHRoZSBkdXBsaWNhdGVzIGFyZSBhZGRlZCB0byBleGl0LgogICAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGtleVZhbHVlc1tpXSA9IGtleVZhbHVlID0ga2V5LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApICsgIiI7CiAgICAgICAgaWYgKG5vZGVCeUtleVZhbHVlLmhhcyhrZXlWYWx1ZSkpIHsKICAgICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlQnlLZXlWYWx1ZS5zZXQoa2V5VmFsdWUsIG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBkYXR1bS4KICAgIC8vIElmIHRoZXJlIGEgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBrZXksIGpvaW4gYW5kIGFkZCBpdCB0byB1cGRhdGUuCiAgICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuCiAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7CiAgICAgIGtleVZhbHVlID0ga2V5LmNhbGwocGFyZW50LCBkYXRhW2ldLCBpLCBkYXRhKSArICIiOwogICAgICBpZiAobm9kZSA9IG5vZGVCeUtleVZhbHVlLmdldChrZXlWYWx1ZSkpIHsKICAgICAgICB1cGRhdGVbaV0gPSBub2RlOwogICAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldOwogICAgICAgIG5vZGVCeUtleVZhbHVlLmRlbGV0ZShrZXlWYWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBBZGQgYW55IHJlbWFpbmluZyBub2RlcyB0aGF0IHdlcmUgbm90IGJvdW5kIHRvIGRhdGEgdG8gZXhpdC4KICAgIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7CiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGRhdHVtKG5vZGUpIHsKICAgIHJldHVybiBub2RlLl9fZGF0YV9fOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0YSAodmFsdWUsIGtleSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLCBkYXR1bSk7CiAgICB2YXIgYmluZCA9IGtleSA/IGJpbmRLZXkgOiBiaW5kSW5kZXgsCiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLAogICAgICBncm91cHMgPSB0aGlzLl9ncm91cHM7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB2YWx1ZSA9IGNvbnN0YW50JDEodmFsdWUpOwogICAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIHZhciBwYXJlbnQgPSBwYXJlbnRzW2pdLAogICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLAogICAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICAgIGRhdGEgPSBhcnJheWxpa2UodmFsdWUuY2FsbChwYXJlbnQsIHBhcmVudCAmJiBwYXJlbnQuX19kYXRhX18sIGosIHBhcmVudHMpKSwKICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgICAgZW50ZXJHcm91cCA9IGVudGVyW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIHVwZGF0ZUdyb3VwID0gdXBkYXRlW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpOwogICAgICBiaW5kKHBhcmVudCwgZ3JvdXAsIGVudGVyR3JvdXAsIHVwZGF0ZUdyb3VwLCBleGl0R3JvdXAsIGRhdGEsIGtleSk7CgogICAgICAvLyBOb3cgY29ubmVjdCB0aGUgZW50ZXIgbm9kZXMgdG8gdGhlaXIgZm9sbG93aW5nIHVwZGF0ZSBub2RlLCBzdWNoIHRoYXQKICAgICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSwKICAgICAgLy8gcmF0aGVyIHRoYW4gYXQgdGhlIGVuZCBvZiB0aGUgcGFyZW50IG5vZGUuCiAgICAgIGZvciAodmFyIGkwID0gMCwgaTEgPSAwLCBwcmV2aW91cywgbmV4dDsgaTAgPCBkYXRhTGVuZ3RoOyArK2kwKSB7CiAgICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHsKICAgICAgICAgIGlmIChpMCA+PSBpMSkgaTEgPSBpMCArIDE7CiAgICAgICAgICB3aGlsZSAoIShuZXh0ID0gdXBkYXRlR3JvdXBbaTFdKSAmJiArK2kxIDwgZGF0YUxlbmd0aCk7CiAgICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHVwZGF0ZSA9IG5ldyBTZWxlY3Rpb24kMSh1cGRhdGUsIHBhcmVudHMpOwogICAgdXBkYXRlLl9lbnRlciA9IGVudGVyOwogICAgdXBkYXRlLl9leGl0ID0gZXhpdDsKICAgIHJldHVybiB1cGRhdGU7CiAgfQoKICAvLyBHaXZlbiBzb21lIGRhdGEsIHRoaXMgcmV0dXJucyBhbiBhcnJheS1saWtlIHZpZXcgb2YgaXQ6IGFuIG9iamVjdCB0aGF0CiAgLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2UKICAvLyBzZWxlY3RBbGwsIHRoaXMgaXNu4oCZdCB3b3JyaWVkIGFib3V0IOKAnGxpdmXigJ0gY29sbGVjdGlvbnMgYmVjYXVzZSB0aGUgcmVzdWx0aW5nCiAgLy8gYXJyYXkgd2lsbCBvbmx5IGJlIHVzZWQgYnJpZWZseSB3aGlsZSBkYXRhIGlzIGJlaW5nIGJvdW5kLiAoSXQgaXMgcG9zc2libGUgdG8KICAvLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlCiAgLy8gZG9u4oCZdDsgd2XigJlkIHJhdGhlciBhdm9pZCBhIGdyYXR1aXRvdXMgY29weS4pCiAgZnVuY3Rpb24gYXJyYXlsaWtlKGRhdGEpIHsKICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gIm9iamVjdCIgJiYgImxlbmd0aCIgaW4gZGF0YSA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlCiAgICA6IEFycmF5LmZyb20oZGF0YSk7IC8vIE1hcCwgU2V0LCBpdGVyYWJsZSwgc3RyaW5nLCBvciBhbnl0aGluZyBlbHNlCiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZXhpdCAoKSB7CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHRoaXMuX2V4aXQgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9qb2luIChvbmVudGVyLCBvbnVwZGF0ZSwgb25leGl0KSB7CiAgICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksCiAgICAgIHVwZGF0ZSA9IHRoaXMsCiAgICAgIGV4aXQgPSB0aGlzLmV4aXQoKTsKICAgIGlmICh0eXBlb2Ygb25lbnRlciA9PT0gImZ1bmN0aW9uIikgewogICAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpOwogICAgICBpZiAoZW50ZXIpIGVudGVyID0gZW50ZXIuc2VsZWN0aW9uKCk7CiAgICB9IGVsc2UgewogICAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgIiIpOwogICAgfQogICAgaWYgKG9udXBkYXRlICE9IG51bGwpIHsKICAgICAgdXBkYXRlID0gb251cGRhdGUodXBkYXRlKTsKICAgICAgaWYgKHVwZGF0ZSkgdXBkYXRlID0gdXBkYXRlLnNlbGVjdGlvbigpOwogICAgfQogICAgaWYgKG9uZXhpdCA9PSBudWxsKSBleGl0LnJlbW92ZSgpO2Vsc2Ugb25leGl0KGV4aXQpOwogICAgcmV0dXJuIGVudGVyICYmIHVwZGF0ZSA/IGVudGVyLm1lcmdlKHVwZGF0ZSkub3JkZXIoKSA6IHVwZGF0ZTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9tZXJnZSAoY29udGV4dCkgewogICAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7CiAgICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gc2VsZWN0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEobWVyZ2VzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9vcmRlciAoKSB7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAtMSwgbSA9IGdyb3Vwcy5sZW5ndGg7ICsraiA8IG07KSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBpZiAobmV4dCAmJiBub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHQpIF4gNCkgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBuZXh0KTsKICAgICAgICAgIG5leHQgPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc29ydCAoY29tcGFyZSkgewogICAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nOwogICAgZnVuY3Rpb24gY29tcGFyZU5vZGUoYSwgYikgewogICAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7CiAgICB9CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc29ydGdyb3VwID0gc29ydGdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHNvcnRncm91cHMsIHRoaXMuX3BhcmVudHMpLm9yZGVyKCk7CiAgfQogIGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7CiAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fY2FsbCAoKSB7CiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07CiAgICBhcmd1bWVudHNbMF0gPSB0aGlzOwogICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGVzICgpIHsKICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGUgKCkgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgdmFyIG5vZGUgPSBncm91cFtpXTsKICAgICAgICBpZiAobm9kZSkgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NpemUgKCkgewogICAgbGV0IHNpemUgPSAwOwogICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgcmV0dXJuIHNpemU7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW1wdHkgKCkgewogICAgcmV0dXJuICF0aGlzLm5vZGUoKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9lYWNoIChjYWxsYmFjaykgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gYXR0clJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TJDEoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJDb25zdGFudCQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnROUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIHZhbHVlKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJGdW5jdGlvbiQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO2Vsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb25OUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7ZWxzZSB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fYXR0ciAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSgpOwogICAgICByZXR1cm4gZnVsbG5hbWUubG9jYWwgPyBub2RlLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCkgOiBub2RlLmdldEF0dHJpYnV0ZShmdWxsbmFtZSk7CiAgICB9CiAgICByZXR1cm4gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsID8gZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMkMSA6IGF0dHJSZW1vdmUkMSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMkMSA6IGF0dHJGdW5jdGlvbiQxIDogZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyQxIDogYXR0ckNvbnN0YW50JDEpKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVmYXVsdFZpZXcgKG5vZGUpIHsKICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IC8vIG5vZGUgaXMgYSBOb2RlCiAgICB8fCBub2RlLmRvY3VtZW50ICYmIG5vZGUgLy8gbm9kZSBpcyBhIFdpbmRvdwogICAgfHwgbm9kZS5kZWZhdWx0VmlldzsgLy8gbm9kZSBpcyBhIERvY3VtZW50CiAgfQoKICBmdW5jdGlvbiBzdHlsZVJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUNvbnN0YW50JDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBwcmlvcml0eSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uJDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7ZWxzZSB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHYsIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zdHlsZSAobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBzdHlsZVJlbW92ZSQxIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gc3R5bGVGdW5jdGlvbiQxIDogc3R5bGVDb25zdGFudCQxKShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/ICIiIDogcHJpb3JpdHkpKSA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpOwogIH0KICBmdW5jdGlvbiBzdHlsZVZhbHVlKG5vZGUsIG5hbWUpIHsKICAgIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgZGVmYXVsdFZpZXcobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpOwogIH0KCiAgZnVuY3Rpb24gcHJvcGVydHlSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZGVsZXRlIHRoaXNbbmFtZV07CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzW25hbWVdID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIGRlbGV0ZSB0aGlzW25hbWVdO2Vsc2UgdGhpc1tuYW1lXSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcHJvcGVydHkgKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHByb3BlcnR5RnVuY3Rpb24gOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpIDogdGhpcy5ub2RlKClbbmFtZV07CiAgfQoKICBmdW5jdGlvbiBjbGFzc0FycmF5KHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XHMrLyk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzTGlzdChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTsKICB9CiAgZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHsKICAgIHRoaXMuX25vZGUgPSBub2RlOwogICAgdGhpcy5fbmFtZXMgPSBjbGFzc0FycmF5KG5vZGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiKTsKICB9CiAgQ2xhc3NMaXN0LnByb3RvdHlwZSA9IHsKICAgIGFkZDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIGkgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpOwogICAgICBpZiAoaSA8IDApIHsKICAgICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHRoaXMuX25hbWVzLmpvaW4oIiAiKSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTsKICAgICAgaWYgKGkgPj0gMCkgewogICAgICAgIHRoaXMuX25hbWVzLnNwbGljZShpLCAxKTsKICAgICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0aGlzLl9uYW1lcy5qb2luKCIgIikpOwogICAgICB9CiAgICB9LAogICAgY29udGFpbnM6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7CiAgICB9CiAgfTsKICBmdW5jdGlvbiBjbGFzc2VkQWRkKG5vZGUsIG5hbWVzKSB7CiAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwKICAgICAgaSA9IC0xLAogICAgICBuID0gbmFtZXMubGVuZ3RoOwogICAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTsKICB9CiAgZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykgewogICAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksCiAgICAgIGkgPSAtMSwKICAgICAgbiA9IG5hbWVzLmxlbmd0aDsKICAgIHdoaWxlICgrK2kgPCBuKSBsaXN0LnJlbW92ZShuYW1lc1tpXSk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRUcnVlKG5hbWVzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBjbGFzc2VkQWRkKHRoaXMsIG5hbWVzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjbGFzc2VkRnVuY3Rpb24obmFtZXMsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAodmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA/IGNsYXNzZWRBZGQgOiBjbGFzc2VkUmVtb3ZlKSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fY2xhc3NlZCAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBuYW1lcyA9IGNsYXNzQXJyYXkobmFtZSArICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdCh0aGlzLm5vZGUoKSksCiAgICAgICAgaSA9IC0xLAogICAgICAgIG4gPSBuYW1lcy5sZW5ndGg7CiAgICAgIHdoaWxlICgrK2kgPCBuKSBpZiAoIWxpc3QuY29udGFpbnMobmFtZXNbaV0pKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gY2xhc3NlZEZ1bmN0aW9uIDogdmFsdWUgPyBjbGFzc2VkVHJ1ZSA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkgewogICAgdGhpcy50ZXh0Q29udGVudCA9ICIiOwogIH0KICBmdW5jdGlvbiB0ZXh0Q29uc3RhbnQkMSh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdGV4dEZ1bmN0aW9uJDEodmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl90ZXh0ICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGV4dEZ1bmN0aW9uJDEgOiB0ZXh0Q29uc3RhbnQkMSkodmFsdWUpKSA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50OwogIH0KCiAgZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHsKICAgIHRoaXMuaW5uZXJIVE1MID0gIiI7CiAgfQogIGZ1bmN0aW9uIGh0bWxDb25zdGFudCh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5pbm5lckhUTUwgPSB2YWx1ZTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB0aGlzLmlubmVySFRNTCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9odG1sICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IGh0bWxSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gaHRtbEZ1bmN0aW9uIDogaHRtbENvbnN0YW50KSh2YWx1ZSkpIDogdGhpcy5ub2RlKCkuaW5uZXJIVE1MOwogIH0KCiAgZnVuY3Rpb24gcmFpc2UoKSB7CiAgICBpZiAodGhpcy5uZXh0U2libGluZykgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcmFpc2UgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyYWlzZSk7CiAgfQoKICBmdW5jdGlvbiBsb3dlcigpIHsKICAgIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9sb3dlciAoKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9hcHBlbmQgKG5hbWUpIHsKICAgIHZhciBjcmVhdGUgPSB0eXBlb2YgbmFtZSA9PT0gImZ1bmN0aW9uIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjb25zdGFudE51bGwoKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2luc2VydCAobmFtZSwgYmVmb3JlKSB7CiAgICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09ICJmdW5jdGlvbiIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSwKICAgICAgc2VsZWN0ID0gYmVmb3JlID09IG51bGwgPyBjb25zdGFudE51bGwgOiB0eXBlb2YgYmVmb3JlID09PSAiZnVuY3Rpb24iID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTsKICAgIHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9yZW1vdmUgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyZW1vdmUpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Nsb25lU2hhbGxvdygpIHsKICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKGZhbHNlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7CiAgICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZSh0cnVlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZSAoZGVlcCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGRlZXAgPyBzZWxlY3Rpb25fY2xvbmVEZWVwIDogc2VsZWN0aW9uX2Nsb25lU2hhbGxvdyk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0dW0gKHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMucHJvcGVydHkoIl9fZGF0YV9fIiwgdmFsdWUpIDogdGhpcy5ub2RlKCkuX19kYXRhX187CiAgfQoKICBmdW5jdGlvbiBjb250ZXh0TGlzdGVuZXIobGlzdGVuZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCwgdGhpcy5fX2RhdGFfXyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMpIHsKICAgIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxzKy8pLm1hcChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbmFtZSA9ICIiLAogICAgICAgIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiB0LAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBvblJlbW92ZSh0eXBlbmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uOwogICAgICBpZiAoIW9uKSByZXR1cm47CiAgICAgIGZvciAodmFyIGogPSAwLCBpID0gLTEsIG0gPSBvbi5sZW5ndGgsIG87IGogPCBtOyArK2opIHsKICAgICAgICBpZiAobyA9IG9uW2pdLCAoIXR5cGVuYW1lLnR5cGUgfHwgby50eXBlID09PSB0eXBlbmFtZS50eXBlKSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9uWysraV0gPSBvOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKytpKSBvbi5sZW5ndGggPSBpO2Vsc2UgZGVsZXRlIHRoaXMuX19vbjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uLAogICAgICAgIG8sCiAgICAgICAgbGlzdGVuZXIgPSBjb250ZXh0TGlzdGVuZXIodmFsdWUpOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoby50eXBlLCBvLmxpc3RlbmVyLCBvLm9wdGlvbnMpOwogICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciA9IGxpc3RlbmVyLCBvLm9wdGlvbnMgPSBvcHRpb25zKTsKICAgICAgICAgIG8udmFsdWUgPSB2YWx1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHR5cGVuYW1lLnR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsKICAgICAgbyA9IHsKICAgICAgICB0eXBlOiB0eXBlbmFtZS50eXBlLAogICAgICAgIG5hbWU6IHR5cGVuYW1lLm5hbWUsCiAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lciwKICAgICAgICBvcHRpb25zOiBvcHRpb25zCiAgICAgIH07CiAgICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtlbHNlIG9uLnB1c2gobyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fb24gKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgdmFyIHR5cGVuYW1lcyA9IHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lICsgIiIpLAogICAgICBpLAogICAgICBuID0gdHlwZW5hbWVzLmxlbmd0aCwKICAgICAgdDsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgb24gPSB0aGlzLm5vZGUoKS5fX29uOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7CiAgICAgICAgZm9yIChpID0gMCwgbyA9IG9uW2pdOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAoKHQgPSB0eXBlbmFtZXNbaV0pLnR5cGUgPT09IG8udHlwZSAmJiB0Lm5hbWUgPT09IG8ubmFtZSkgewogICAgICAgICAgICByZXR1cm4gby52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfQogICAgb24gPSB2YWx1ZSA/IG9uQWRkIDogb25SZW1vdmU7CiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB0aGlzLmVhY2gob24odHlwZW5hbWVzW2ldLCB2YWx1ZSwgb3B0aW9ucykpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykgewogICAgdmFyIHdpbmRvdyA9IGRlZmF1bHRWaWV3KG5vZGUpLAogICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDsKICAgIGlmICh0eXBlb2YgZXZlbnQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgZXZlbnQgPSBuZXcgZXZlbnQodHlwZSwgcGFyYW1zKTsKICAgIH0gZWxzZSB7CiAgICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpOwogICAgICBpZiAocGFyYW1zKSBldmVudC5pbml0RXZlbnQodHlwZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlKSwgZXZlbnQuZGV0YWlsID0gcGFyYW1zLmRldGFpbDtlbHNlIGV2ZW50LmluaXRFdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UpOwogICAgfQogICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hDb25zdGFudCh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Rpc3BhdGNoICh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiBwYXJhbXMgPT09ICJmdW5jdGlvbiIgPyBkaXNwYXRjaEZ1bmN0aW9uIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7CiAgfQoKICBmdW5jdGlvbiogc2VsZWN0aW9uX2l0ZXJhdG9yICgpIHsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHlpZWxkIG5vZGU7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciByb290ID0gW251bGxdOwogIGZ1bmN0aW9uIFNlbGVjdGlvbiQxKGdyb3VwcywgcGFyZW50cykgewogICAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzOwogICAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbigpIHsKICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpczsKICB9CiAgU2VsZWN0aW9uJDEucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBTZWxlY3Rpb24kMSwKICAgIHNlbGVjdDogc2VsZWN0aW9uX3NlbGVjdCwKICAgIHNlbGVjdEFsbDogc2VsZWN0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsCiAgICBzZWxlY3RDaGlsZHJlbjogc2VsZWN0aW9uX3NlbGVjdENoaWxkcmVuLAogICAgZmlsdGVyOiBzZWxlY3Rpb25fZmlsdGVyLAogICAgZGF0YTogc2VsZWN0aW9uX2RhdGEsCiAgICBlbnRlcjogc2VsZWN0aW9uX2VudGVyLAogICAgZXhpdDogc2VsZWN0aW9uX2V4aXQsCiAgICBqb2luOiBzZWxlY3Rpb25fam9pbiwKICAgIG1lcmdlOiBzZWxlY3Rpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHNlbGVjdGlvbl9zZWxlY3Rpb24sCiAgICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLAogICAgc29ydDogc2VsZWN0aW9uX3NvcnQsCiAgICBjYWxsOiBzZWxlY3Rpb25fY2FsbCwKICAgIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fbm9kZSwKICAgIHNpemU6IHNlbGVjdGlvbl9zaXplLAogICAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9lYWNoLAogICAgYXR0cjogc2VsZWN0aW9uX2F0dHIsCiAgICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLAogICAgcHJvcGVydHk6IHNlbGVjdGlvbl9wcm9wZXJ0eSwKICAgIGNsYXNzZWQ6IHNlbGVjdGlvbl9jbGFzc2VkLAogICAgdGV4dDogc2VsZWN0aW9uX3RleHQsCiAgICBodG1sOiBzZWxlY3Rpb25faHRtbCwKICAgIHJhaXNlOiBzZWxlY3Rpb25fcmFpc2UsCiAgICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLAogICAgYXBwZW5kOiBzZWxlY3Rpb25fYXBwZW5kLAogICAgaW5zZXJ0OiBzZWxlY3Rpb25faW5zZXJ0LAogICAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLAogICAgY2xvbmU6IHNlbGVjdGlvbl9jbG9uZSwKICAgIGRhdHVtOiBzZWxlY3Rpb25fZGF0dW0sCiAgICBvbjogc2VsZWN0aW9uX29uLAogICAgZGlzcGF0Y2g6IHNlbGVjdGlvbl9kaXNwYXRjaCwKICAgIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25faXRlcmF0b3IKICB9OwoKICBmdW5jdGlvbiBkZWZpbmUgKGNvbnN0cnVjdG9yLCBmYWN0b3J5LCBwcm90b3R5cGUpIHsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlOwogICAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHsKICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZm9yICh2YXIga2V5IGluIGRlZmluaXRpb24pIHByb3RvdHlwZVtrZXldID0gZGVmaW5pdGlvbltrZXldOwogICAgcmV0dXJuIHByb3RvdHlwZTsKICB9CgogIGZ1bmN0aW9uIENvbG9yKCkge30KICB2YXIgZGFya2VyID0gMC43OwogIHZhciBicmlnaHRlciA9IDEgLyBkYXJrZXI7CiAgdmFyIHJlSSA9ICJcXHMqKFsrLV0/XFxkKylcXHMqIiwKICAgIHJlTiA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPylcXHMqIiwKICAgIHJlUCA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPyklXFxzKiIsCiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLAogICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVJfSwke3JlSX0sJHtyZUl9XFwpJGApLAogICAgcmVSZ2JQZXJjZW50ID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVQfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVSZ2JhSW50ZWdlciA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFwpJGApLAogICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZVB9LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApLAogICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChgXmhzbFxcKCR7cmVOfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVIc2xhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5oc2xhXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApOwogIHZhciBuYW1lZCA9IHsKICAgIGFsaWNlYmx1ZTogMHhmMGY4ZmYsCiAgICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3LAogICAgYXF1YTogMHgwMGZmZmYsCiAgICBhcXVhbWFyaW5lOiAweDdmZmZkNCwKICAgIGF6dXJlOiAweGYwZmZmZiwKICAgIGJlaWdlOiAweGY1ZjVkYywKICAgIGJpc3F1ZTogMHhmZmU0YzQsCiAgICBibGFjazogMHgwMDAwMDAsCiAgICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsCiAgICBibHVlOiAweDAwMDBmZiwKICAgIGJsdWV2aW9sZXQ6IDB4OGEyYmUyLAogICAgYnJvd246IDB4YTUyYTJhLAogICAgYnVybHl3b29kOiAweGRlYjg4NywKICAgIGNhZGV0Ymx1ZTogMHg1ZjllYTAsCiAgICBjaGFydHJldXNlOiAweDdmZmYwMCwKICAgIGNob2NvbGF0ZTogMHhkMjY5MWUsCiAgICBjb3JhbDogMHhmZjdmNTAsCiAgICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsCiAgICBjb3Juc2lsazogMHhmZmY4ZGMsCiAgICBjcmltc29uOiAweGRjMTQzYywKICAgIGN5YW46IDB4MDBmZmZmLAogICAgZGFya2JsdWU6IDB4MDAwMDhiLAogICAgZGFya2N5YW46IDB4MDA4YjhiLAogICAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsCiAgICBkYXJrZ3JheTogMHhhOWE5YTksCiAgICBkYXJrZ3JlZW46IDB4MDA2NDAwLAogICAgZGFya2dyZXk6IDB4YTlhOWE5LAogICAgZGFya2toYWtpOiAweGJkYjc2YiwKICAgIGRhcmttYWdlbnRhOiAweDhiMDA4YiwKICAgIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZiwKICAgIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLAogICAgZGFya29yY2hpZDogMHg5OTMyY2MsCiAgICBkYXJrcmVkOiAweDhiMDAwMCwKICAgIGRhcmtzYWxtb246IDB4ZTk5NjdhLAogICAgZGFya3NlYWdyZWVuOiAweDhmYmM4ZiwKICAgIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLAogICAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsCiAgICBkYXJrc2xhdGVncmV5OiAweDJmNGY0ZiwKICAgIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLAogICAgZGFya3Zpb2xldDogMHg5NDAwZDMsCiAgICBkZWVwcGluazogMHhmZjE0OTMsCiAgICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsCiAgICBkaW1ncmF5OiAweDY5Njk2OSwKICAgIGRpbWdyZXk6IDB4Njk2OTY5LAogICAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsCiAgICBmaXJlYnJpY2s6IDB4YjIyMjIyLAogICAgZmxvcmFsd2hpdGU6IDB4ZmZmYWYwLAogICAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLAogICAgZnVjaHNpYTogMHhmZjAwZmYsCiAgICBnYWluc2Jvcm86IDB4ZGNkY2RjLAogICAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsCiAgICBnb2xkOiAweGZmZDcwMCwKICAgIGdvbGRlbnJvZDogMHhkYWE1MjAsCiAgICBncmF5OiAweDgwODA4MCwKICAgIGdyZWVuOiAweDAwODAwMCwKICAgIGdyZWVueWVsbG93OiAweGFkZmYyZiwKICAgIGdyZXk6IDB4ODA4MDgwLAogICAgaG9uZXlkZXc6IDB4ZjBmZmYwLAogICAgaG90cGluazogMHhmZjY5YjQsCiAgICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLAogICAgaW5kaWdvOiAweDRiMDA4MiwKICAgIGl2b3J5OiAweGZmZmZmMCwKICAgIGtoYWtpOiAweGYwZTY4YywKICAgIGxhdmVuZGVyOiAweGU2ZTZmYSwKICAgIGxhdmVuZGVyYmx1c2g6IDB4ZmZmMGY1LAogICAgbGF3bmdyZWVuOiAweDdjZmMwMCwKICAgIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsCiAgICBsaWdodGJsdWU6IDB4YWRkOGU2LAogICAgbGlnaHRjb3JhbDogMHhmMDgwODAsCiAgICBsaWdodGN5YW46IDB4ZTBmZmZmLAogICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4ZmFmYWQyLAogICAgbGlnaHRncmF5OiAweGQzZDNkMywKICAgIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLAogICAgbGlnaHRncmV5OiAweGQzZDNkMywKICAgIGxpZ2h0cGluazogMHhmZmI2YzEsCiAgICBsaWdodHNhbG1vbjogMHhmZmEwN2EsCiAgICBsaWdodHNlYWdyZWVuOiAweDIwYjJhYSwKICAgIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsCiAgICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksCiAgICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksCiAgICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsCiAgICBsaWdodHllbGxvdzogMHhmZmZmZTAsCiAgICBsaW1lOiAweDAwZmYwMCwKICAgIGxpbWVncmVlbjogMHgzMmNkMzIsCiAgICBsaW5lbjogMHhmYWYwZTYsCiAgICBtYWdlbnRhOiAweGZmMDBmZiwKICAgIG1hcm9vbjogMHg4MDAwMDAsCiAgICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSwKICAgIG1lZGl1bWJsdWU6IDB4MDAwMGNkLAogICAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMywKICAgIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsCiAgICBtZWRpdW1zZWFncmVlbjogMHgzY2IzNzEsCiAgICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLAogICAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLAogICAgbWVkaXVtdHVycXVvaXNlOiAweDQ4ZDFjYywKICAgIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsCiAgICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLAogICAgbWludGNyZWFtOiAweGY1ZmZmYSwKICAgIG1pc3R5cm9zZTogMHhmZmU0ZTEsCiAgICBtb2NjYXNpbjogMHhmZmU0YjUsCiAgICBuYXZham93aGl0ZTogMHhmZmRlYWQsCiAgICBuYXZ5OiAweDAwMDA4MCwKICAgIG9sZGxhY2U6IDB4ZmRmNWU2LAogICAgb2xpdmU6IDB4ODA4MDAwLAogICAgb2xpdmVkcmFiOiAweDZiOGUyMywKICAgIG9yYW5nZTogMHhmZmE1MDAsCiAgICBvcmFuZ2VyZWQ6IDB4ZmY0NTAwLAogICAgb3JjaGlkOiAweGRhNzBkNiwKICAgIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLAogICAgcGFsZWdyZWVuOiAweDk4ZmI5OCwKICAgIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLAogICAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsCiAgICBwYXBheWF3aGlwOiAweGZmZWZkNSwKICAgIHBlYWNocHVmZjogMHhmZmRhYjksCiAgICBwZXJ1OiAweGNkODUzZiwKICAgIHBpbms6IDB4ZmZjMGNiLAogICAgcGx1bTogMHhkZGEwZGQsCiAgICBwb3dkZXJibHVlOiAweGIwZTBlNiwKICAgIHB1cnBsZTogMHg4MDAwODAsCiAgICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSwKICAgIHJlZDogMHhmZjAwMDAsCiAgICByb3N5YnJvd246IDB4YmM4ZjhmLAogICAgcm95YWxibHVlOiAweDQxNjllMSwKICAgIHNhZGRsZWJyb3duOiAweDhiNDUxMywKICAgIHNhbG1vbjogMHhmYTgwNzIsCiAgICBzYW5keWJyb3duOiAweGY0YTQ2MCwKICAgIHNlYWdyZWVuOiAweDJlOGI1NywKICAgIHNlYXNoZWxsOiAweGZmZjVlZSwKICAgIHNpZW5uYTogMHhhMDUyMmQsCiAgICBzaWx2ZXI6IDB4YzBjMGMwLAogICAgc2t5Ymx1ZTogMHg4N2NlZWIsCiAgICBzbGF0ZWJsdWU6IDB4NmE1YWNkLAogICAgc2xhdGVncmF5OiAweDcwODA5MCwKICAgIHNsYXRlZ3JleTogMHg3MDgwOTAsCiAgICBzbm93OiAweGZmZmFmYSwKICAgIHNwcmluZ2dyZWVuOiAweDAwZmY3ZiwKICAgIHN0ZWVsYmx1ZTogMHg0NjgyYjQsCiAgICB0YW46IDB4ZDJiNDhjLAogICAgdGVhbDogMHgwMDgwODAsCiAgICB0aGlzdGxlOiAweGQ4YmZkOCwKICAgIHRvbWF0bzogMHhmZjYzNDcsCiAgICB0dXJxdW9pc2U6IDB4NDBlMGQwLAogICAgdmlvbGV0OiAweGVlODJlZSwKICAgIHdoZWF0OiAweGY1ZGViMywKICAgIHdoaXRlOiAweGZmZmZmZiwKICAgIHdoaXRlc21va2U6IDB4ZjVmNWY1LAogICAgeWVsbG93OiAweGZmZmYwMCwKICAgIHllbGxvd2dyZWVuOiAweDlhY2QzMgogIH07CiAgZGVmaW5lKENvbG9yLCBjb2xvciwgewogICAgY29weShjaGFubmVscykgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLCB0aGlzLCBjaGFubmVscyk7CiAgICB9LAogICAgZGlzcGxheWFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJnYigpLmRpc3BsYXlhYmxlKCk7CiAgICB9LAogICAgaGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICAvLyBEZXByZWNhdGVkISBVc2UgY29sb3IuZm9ybWF0SGV4LgogICAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiBjb2xvcl9mb3JtYXRIZXg4LAogICAgZm9ybWF0SHNsOiBjb2xvcl9mb3JtYXRIc2wsCiAgICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiBjb2xvcl9mb3JtYXRSZ2IKICB9KTsKICBmdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRIZXgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkgewogICAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7CiAgfQogIGZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdFJnYigpOwogIH0KICBmdW5jdGlvbiBjb2xvcihmb3JtYXQpIHsKICAgIHZhciBtLCBsOwogICAgZm9ybWF0ID0gKGZvcm1hdCArICIiKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwCiAgICA6IGwgPT09IDMgPyBuZXcgUmdiKG0gPj4gOCAmIDB4ZiB8IG0gPj4gNCAmIDB4ZjAsIG0gPj4gNCAmIDB4ZiB8IG0gJiAweGYwLCAobSAmIDB4ZikgPDwgNCB8IG0gJiAweGYsIDEpIC8vICNmMDAKICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwCiAgICA6IGwgPT09IDQgPyByZ2JhKG0gPj4gMTIgJiAweGYgfCBtID4+IDggJiAweGYwLCBtID4+IDggJiAweGYgfCBtID4+IDQgJiAweGYwLCBtID4+IDQgJiAweGYgfCBtICYgMHhmMCwgKChtICYgMHhmKSA8PCA0IHwgbSAmIDB4ZikgLyAweGZmKSAvLyAjZjAwMAogICAgOiBudWxsIC8vIGludmFsaWQgaGV4CiAgICApIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMCkKICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSkKICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKQogICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSkKICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpCiAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpCiAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICA6IGZvcm1hdCA9PT0gInRyYW5zcGFyZW50IiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMCkgOiBudWxsOwogIH0KICBmdW5jdGlvbiByZ2JuKG4pIHsKICAgIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7CiAgfQogIGZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkgewogICAgaWYgKGEgPD0gMCkgciA9IGcgPSBiID0gTmFOOwogICAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7CiAgfQogIGZ1bmN0aW9uIHJnYkNvbnZlcnQobykgewogICAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pOwogICAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYigpOwogICAgbyA9IG8ucmdiKCk7CiAgICByZXR1cm4gbmV3IFJnYihvLnIsIG8uZywgby5iLCBvLm9wYWNpdHkpOwogIH0KICBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyByZ2JDb252ZXJ0KHIpIDogbmV3IFJnYihyLCBnLCBiLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7CiAgICB0aGlzLnIgPSArcjsKICAgIHRoaXMuZyA9ICtnOwogICAgdGhpcy5iID0gK2I7CiAgICB0aGlzLm9wYWNpdHkgPSArb3BhY2l0eTsKICB9CiAgZGVmaW5lKFJnYiwgcmdiLCBleHRlbmQoQ29sb3IsIHsKICAgIGJyaWdodGVyKGspIHsKICAgICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIHJnYigpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuIC0wLjUgPD0gdGhpcy5yICYmIHRoaXMuciA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5iICYmIHRoaXMuYiA8IDI1NS41ICYmIDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxOwogICAgfSwKICAgIGhleDogcmdiX2Zvcm1hdEhleCwKICAgIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguCiAgICBmb3JtYXRIZXg6IHJnYl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCwKICAgIGZvcm1hdFJnYjogcmdiX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiByZ2JfZm9ybWF0UmdiCiAgfSkpOwogIGZ1bmN0aW9uIHJnYl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gOwogIH0KICBmdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiBgIyR7aGV4KHRoaXMucil9JHtoZXgodGhpcy5nKX0ke2hleCh0aGlzLmIpfSR7aGV4KChpc05hTih0aGlzLm9wYWNpdHkpID8gMSA6IHRoaXMub3BhY2l0eSkgKiAyNTUpfWA7CiAgfQogIGZ1bmN0aW9uIHJnYl9mb3JtYXRSZ2IoKSB7CiAgICBjb25zdCBhID0gY2xhbXBhKHRoaXMub3BhY2l0eSk7CiAgICByZXR1cm4gYCR7YSA9PT0gMSA/ICJyZ2IoIiA6ICJyZ2JhKCJ9JHtjbGFtcGkodGhpcy5yKX0sICR7Y2xhbXBpKHRoaXMuZyl9LCAke2NsYW1waSh0aGlzLmIpfSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogIH0KICBmdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkgewogICAgcmV0dXJuIGlzTmFOKG9wYWNpdHkpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG9wYWNpdHkpKTsKICB9CiAgZnVuY3Rpb24gY2xhbXBpKHZhbHVlKSB7CiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHZhbHVlKSB8fCAwKSk7CiAgfQogIGZ1bmN0aW9uIGhleCh2YWx1ZSkgewogICAgdmFsdWUgPSBjbGFtcGkodmFsdWUpOwogICAgcmV0dXJuICh2YWx1ZSA8IDE2ID8gIjAiIDogIiIpICsgdmFsdWUudG9TdHJpbmcoMTYpOwogIH0KICBmdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHsKICAgIGlmIChhIDw9IDApIGggPSBzID0gbCA9IE5hTjtlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtlbHNlIGlmIChzIDw9IDApIGggPSBOYU47CiAgICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTsKICB9CiAgZnVuY3Rpb24gaHNsQ29udmVydChvKSB7CiAgICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTsKICAgIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTsKICAgIGlmICghbykgcmV0dXJuIG5ldyBIc2woKTsKICAgIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbzsKICAgIG8gPSBvLnJnYigpOwogICAgdmFyIHIgPSBvLnIgLyAyNTUsCiAgICAgIGcgPSBvLmcgLyAyNTUsCiAgICAgIGIgPSBvLmIgLyAyNTUsCiAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLAogICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwKICAgICAgaCA9IE5hTiwKICAgICAgcyA9IG1heCAtIG1pbiwKICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjsKICAgIGlmIChzKSB7CiAgICAgIGlmIChyID09PSBtYXgpIGggPSAoZyAtIGIpIC8gcyArIChnIDwgYikgKiA2O2Vsc2UgaWYgKGcgPT09IG1heCkgaCA9IChiIC0gcikgLyBzICsgMjtlbHNlIGggPSAociAtIGcpIC8gcyArIDQ7CiAgICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47CiAgICAgIGggKj0gNjA7CiAgICB9IGVsc2UgewogICAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDsKICAgIH0KICAgIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIG8ub3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIGhzbChoLCBzLCBsLCBvcGFjaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGhzbENvbnZlcnQoaCkgOiBuZXcgSHNsKGgsIHMsIGwsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTsKICB9CiAgZnVuY3Rpb24gSHNsKGgsIHMsIGwsIG9wYWNpdHkpIHsKICAgIHRoaXMuaCA9ICtoOwogICAgdGhpcy5zID0gK3M7CiAgICB0aGlzLmwgPSArbDsKICAgIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5OwogIH0KICBkZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwgewogICAgYnJpZ2h0ZXIoaykgewogICAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7CiAgICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTsKICAgIH0sCiAgICByZ2IoKSB7CiAgICAgIHZhciBoID0gdGhpcy5oICUgMzYwICsgKHRoaXMuaCA8IDApICogMzYwLAogICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucywKICAgICAgICBsID0gdGhpcy5sLAogICAgICAgIG0yID0gbCArIChsIDwgMC41ID8gbCA6IDEgLSBsKSAqIHMsCiAgICAgICAgbTEgPSAyICogbCAtIG0yOwogICAgICByZXR1cm4gbmV3IFJnYihoc2wycmdiKGggPj0gMjQwID8gaCAtIDI0MCA6IGggKyAxMjAsIG0xLCBtMiksIGhzbDJyZ2IoaCwgbTEsIG0yKSwgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksIHRoaXMub3BhY2l0eSk7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgSHNsKGNsYW1waCh0aGlzLmgpLCBjbGFtcHQodGhpcy5zKSwgY2xhbXB0KHRoaXMubCksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuICgwIDw9IHRoaXMucyAmJiB0aGlzLnMgPD0gMSB8fCBpc05hTih0aGlzLnMpKSAmJiAwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSAmJiAwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMTsKICAgIH0sCiAgICBmb3JtYXRIc2woKSB7CiAgICAgIGNvbnN0IGEgPSBjbGFtcGEodGhpcy5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGAke2EgPT09IDEgPyAiaHNsKCIgOiAiaHNsYSgifSR7Y2xhbXBoKHRoaXMuaCl9LCAke2NsYW1wdCh0aGlzLnMpICogMTAwfSUsICR7Y2xhbXB0KHRoaXMubCkgKiAxMDB9JSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogICAgfQogIH0pKTsKICBmdW5jdGlvbiBjbGFtcGgodmFsdWUpIHsKICAgIHZhbHVlID0gKHZhbHVlIHx8IDApICUgMzYwOwogICAgcmV0dXJuIHZhbHVlIDwgMCA/IHZhbHVlICsgMzYwIDogdmFsdWU7CiAgfQogIGZ1bmN0aW9uIGNsYW1wdCh2YWx1ZSkgewogICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTsKICB9CgogIC8qIEZyb20gRnZEIDEzLjM3LCBDU1MgQ29sb3IgTW9kdWxlIExldmVsIDMgKi8KICBmdW5jdGlvbiBoc2wycmdiKGgsIG0xLCBtMikgewogICAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MCA6IGggPCAxODAgPyBtMiA6IGggPCAyNDAgPyBtMSArIChtMiAtIG0xKSAqICgyNDAgLSBoKSAvIDYwIDogbTEpICogMjU1OwogIH0KCiAgdmFyIGNvbnN0YW50ID0geCA9PiAoKSA9PiB4OwoKICBmdW5jdGlvbiBsaW5lYXIoYSwgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBhICsgdCAqIGQ7CiAgICB9OwogIH0KICBmdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7CiAgICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZ2FtbWEoeSkgewogICAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBiIC0gYSA/IGV4cG9uZW50aWFsKGEsIGIsIHkpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHsKICAgIHZhciBkID0gYiAtIGE7CiAgICByZXR1cm4gZCA/IGxpbmVhcihhLCBkKSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpOwogIH0KCiAgdmFyIGludGVycG9sYXRlUmdiID0gKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHsKICAgIHZhciBjb2xvciA9IGdhbW1hKHkpOwogICAgZnVuY3Rpb24gcmdiJDEoc3RhcnQsIGVuZCkgewogICAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IHJnYihzdGFydCkpLnIsIChlbmQgPSByZ2IoZW5kKSkuciksCiAgICAgICAgZyA9IGNvbG9yKHN0YXJ0LmcsIGVuZC5nKSwKICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLAogICAgICAgIG9wYWNpdHkgPSBub2dhbW1hKHN0YXJ0Lm9wYWNpdHksIGVuZC5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgc3RhcnQuciA9IHIodCk7CiAgICAgICAgc3RhcnQuZyA9IGcodCk7CiAgICAgICAgc3RhcnQuYiA9IGIodCk7CiAgICAgICAgc3RhcnQub3BhY2l0eSA9IG9wYWNpdHkodCk7CiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgIiI7CiAgICAgIH07CiAgICB9CiAgICByZ2IkMS5nYW1tYSA9IHJnYkdhbW1hOwogICAgcmV0dXJuIHJnYiQxOwogIH0pKDEpOwoKICBmdW5jdGlvbiBpbnRlcnBvbGF0ZU51bWJlciAoYSwgYikgewogICAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDsKICAgIH07CiAgfQoKICB2YXIgcmVBID0gL1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLAogICAgcmVCID0gbmV3IFJlZ0V4cChyZUEuc291cmNlLCAiZyIpOwogIGZ1bmN0aW9uIHplcm8oYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBvbmUoYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBiKHQpICsgIiI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBpbnRlcnBvbGF0ZVN0cmluZyAoYSwgYikgewogICAgdmFyIGJpID0gcmVBLmxhc3RJbmRleCA9IHJlQi5sYXN0SW5kZXggPSAwLAogICAgICAvLyBzY2FuIGluZGV4IGZvciBuZXh0IG51bWJlciBpbiBiCiAgICAgIGFtLAogICAgICAvLyBjdXJyZW50IG1hdGNoIGluIGEKICAgICAgYm0sCiAgICAgIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYgogICAgICBicywKICAgICAgLy8gc3RyaW5nIHByZWNlZGluZyBjdXJyZW50IG51bWJlciBpbiBiLCBpZiBhbnkKICAgICAgaSA9IC0xLAogICAgICAvLyBpbmRleCBpbiBzCiAgICAgIHMgPSBbXSwKICAgICAgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzCiAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKCiAgICAvLyBDb2VyY2UgaW5wdXRzIHRvIHN0cmluZ3MuCiAgICBhID0gYSArICIiLCBiID0gYiArICIiOwoKICAgIC8vIEludGVycG9sYXRlIHBhaXJzIG9mIG51bWJlcnMgaW4gYSAmIGIuCiAgICB3aGlsZSAoKGFtID0gcmVBLmV4ZWMoYSkpICYmIChibSA9IHJlQi5leGVjKGIpKSkgewogICAgICBpZiAoKGJzID0gYm0uaW5kZXgpID4gYmkpIHsKICAgICAgICAvLyBhIHN0cmluZyBwcmVjZWRlcyB0aGUgbmV4dCBudW1iZXIgaW4gYgogICAgICAgIGJzID0gYi5zbGljZShiaSwgYnMpOwogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICAgIH0KICAgICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7CiAgICAgICAgLy8gbnVtYmVycyBpbiBhICYgYiBtYXRjaAogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYm07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaW50ZXJwb2xhdGUgbm9uLW1hdGNoaW5nIG51bWJlcnMKICAgICAgICBzWysraV0gPSBudWxsOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoYW0sIGJtKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGJpID0gcmVCLmxhc3RJbmRleDsKICAgIH0KCiAgICAvLyBBZGQgcmVtYWlucyBvZiBiLgogICAgaWYgKGJpIDwgYi5sZW5ndGgpIHsKICAgICAgYnMgPSBiLnNsaWNlKGJpKTsKICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nCiAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICB9CgogICAgLy8gU3BlY2lhbCBvcHRpbWl6YXRpb24gZm9yIG9ubHkgYSBzaW5nbGUgbWF0Y2guCiAgICAvLyBPdGhlcndpc2UsIGludGVycG9sYXRlIGVhY2ggb2YgdGhlIG51bWJlcnMgYW5kIHJlam9pbiB0aGUgc3RyaW5nLgogICAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IHFbMF0gPyBvbmUocVswXS54KSA6IHplcm8oYikgOiAoYiA9IHEubGVuZ3RoLCBmdW5jdGlvbiAodCkgewogICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICByZXR1cm4gcy5qb2luKCIiKTsKICAgIH0pOwogIH0KCiAgdmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJOwogIHZhciBpZGVudGl0eSA9IHsKICAgIHRyYW5zbGF0ZVg6IDAsCiAgICB0cmFuc2xhdGVZOiAwLAogICAgcm90YXRlOiAwLAogICAgc2tld1g6IDAsCiAgICBzY2FsZVg6IDEsCiAgICBzY2FsZVk6IDEKICB9OwogIGZ1bmN0aW9uIGRlY29tcG9zZSAoYSwgYiwgYywgZCwgZSwgZikgewogICAgdmFyIHNjYWxlWCwgc2NhbGVZLCBza2V3WDsKICAgIGlmIChzY2FsZVggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYikpIGEgLz0gc2NhbGVYLCBiIC89IHNjYWxlWDsKICAgIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDsKICAgIGlmIChzY2FsZVkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCkpIGMgLz0gc2NhbGVZLCBkIC89IHNjYWxlWSwgc2tld1ggLz0gc2NhbGVZOwogICAgaWYgKGEgKiBkIDwgYiAqIGMpIGEgPSAtYSwgYiA9IC1iLCBza2V3WCA9IC1za2V3WCwgc2NhbGVYID0gLXNjYWxlWDsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zbGF0ZVg6IGUsCiAgICAgIHRyYW5zbGF0ZVk6IGYsCiAgICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsCiAgICAgIHNrZXdYOiBNYXRoLmF0YW4oc2tld1gpICogZGVncmVlcywKICAgICAgc2NhbGVYOiBzY2FsZVgsCiAgICAgIHNjYWxlWTogc2NhbGVZCiAgICB9OwogIH0KCiAgdmFyIHN2Z05vZGU7CgogIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovCiAgZnVuY3Rpb24gcGFyc2VDc3ModmFsdWUpIHsKICAgIGNvbnN0IG0gPSBuZXcgKHR5cGVvZiBET01NYXRyaXggPT09ICJmdW5jdGlvbiIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgIiIpOwogICAgcmV0dXJuIG0uaXNJZGVudGl0eSA/IGlkZW50aXR5IDogZGVjb21wb3NlKG0uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmYpOwogIH0KICBmdW5jdGlvbiBwYXJzZVN2Zyh2YWx1ZSkgewogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTsKICAgIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAiZyIpOwogICAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIHZhbHVlKTsKICAgIGlmICghKHZhbHVlID0gc3ZnTm9kZS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpKSkgcmV0dXJuIGlkZW50aXR5OwogICAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7CiAgICByZXR1cm4gZGVjb21wb3NlKHZhbHVlLmEsIHZhbHVlLmIsIHZhbHVlLmMsIHZhbHVlLmQsIHZhbHVlLmUsIHZhbHVlLmYpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2UsIHB4Q29tbWEsIHB4UGFyZW4sIGRlZ1BhcmVuKSB7CiAgICBmdW5jdGlvbiBwb3AocykgewogICAgICByZXR1cm4gcy5sZW5ndGggPyBzLnBvcCgpICsgIiAiIDogIiI7CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHsKICAgICAgaWYgKHhhICE9PSB4YiB8fCB5YSAhPT0geWIpIHsKICAgICAgICB2YXIgaSA9IHMucHVzaCgidHJhbnNsYXRlKCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpIC0gNCwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHhhLCB4YikKICAgICAgICB9LCB7CiAgICAgICAgICBpOiBpIC0gMiwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHlhLCB5YikKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh4YiB8fCB5YikgewogICAgICAgIHMucHVzaCgidHJhbnNsYXRlKCIgKyB4YiArIHB4Q29tbWEgKyB5YiArIHB4UGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIGlmIChhIC0gYiA+IDE4MCkgYiArPSAzNjA7ZWxzZSBpZiAoYiAtIGEgPiAxODApIGEgKz0gMzYwOyAvLyBzaG9ydGVzdCBwYXRoCiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IHMucHVzaChwb3AocykgKyAicm90YXRlKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInJvdGF0ZSgiICsgYiArIGRlZ1BhcmVuKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIgKyBiICsgZGVnUGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkgewogICAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5YikgewogICAgICAgIHZhciBpID0gcy5wdXNoKHBvcChzKSArICJzY2FsZSgiLCBudWxsLCAiLCIsIG51bGwsICIpIik7CiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IGkgLSA0LAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeGEsIHhiKQogICAgICAgIH0sIHsKICAgICAgICAgIGk6IGkgLSAyLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeWEsIHliKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHhiICE9PSAxIHx8IHliICE9PSAxKSB7CiAgICAgICAgcy5wdXNoKHBvcChzKSArICJzY2FsZSgiICsgeGIgKyAiLCIgKyB5YiArICIpIik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICB2YXIgcyA9IFtdLAogICAgICAgIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVycwogICAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKICAgICAgYSA9IHBhcnNlKGEpLCBiID0gcGFyc2UoYik7CiAgICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpOwogICAgICByb3RhdGUoYS5yb3RhdGUsIGIucm90YXRlLCBzLCBxKTsKICAgICAgc2tld1goYS5za2V3WCwgYi5za2V3WCwgcywgcSk7CiAgICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTsKICAgICAgYSA9IGIgPSBudWxsOyAvLyBnYwogICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgaSA9IC0xLAogICAgICAgICAgbiA9IHEubGVuZ3RoLAogICAgICAgICAgbzsKICAgICAgICB3aGlsZSAoKytpIDwgbikgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICAgIHJldHVybiBzLmpvaW4oIiIpOwogICAgICB9OwogICAgfTsKICB9CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtQ3NzID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VDc3MsICJweCwgIiwgInB4KSIsICJkZWcpIik7CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtU3ZnID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VTdmcsICIsICIsICIpIiwgIikiKTsKCiAgdmFyIGZyYW1lID0gMCwKICAgIC8vIGlzIGFuIGFuaW1hdGlvbiBmcmFtZSBwZW5kaW5nPwogICAgdGltZW91dCQxID0gMCwKICAgIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nPwogICAgaW50ZXJ2YWwgPSAwLAogICAgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlPwogICAgcG9rZURlbGF5ID0gMTAwMCwKICAgIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3CiAgICB0YXNrSGVhZCwKICAgIHRhc2tUYWlsLAogICAgY2xvY2tMYXN0ID0gMCwKICAgIGNsb2NrTm93ID0gMCwKICAgIGNsb2NrU2tldyA9IDAsCiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gIm9iamVjdCIgJiYgcGVyZm9ybWFuY2Uubm93ID8gcGVyZm9ybWFuY2UgOiBEYXRlLAogICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSAib2JqZWN0IiAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykgOiBmdW5jdGlvbiAoZikgewogICAgICBzZXRUaW1lb3V0KGYsIDE3KTsKICAgIH07CiAgZnVuY3Rpb24gbm93KCkgewogICAgcmV0dXJuIGNsb2NrTm93IHx8IChzZXRGcmFtZShjbGVhck5vdyksIGNsb2NrTm93ID0gY2xvY2subm93KCkgKyBjbG9ja1NrZXcpOwogIH0KICBmdW5jdGlvbiBjbGVhck5vdygpIHsKICAgIGNsb2NrTm93ID0gMDsKICB9CiAgZnVuY3Rpb24gVGltZXIoKSB7CiAgICB0aGlzLl9jYWxsID0gdGhpcy5fdGltZSA9IHRoaXMuX25leHQgPSBudWxsOwogIH0KICBUaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogVGltZXIsCiAgICByZXN0YXJ0OiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7CiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgIHRpbWUgPSAodGltZSA9PSBudWxsID8gbm93KCkgOiArdGltZSkgKyAoZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXkpOwogICAgICBpZiAoIXRoaXMuX25leHQgJiYgdGFza1RhaWwgIT09IHRoaXMpIHsKICAgICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztlbHNlIHRhc2tIZWFkID0gdGhpczsKICAgICAgICB0YXNrVGFpbCA9IHRoaXM7CiAgICAgIH0KICAgICAgdGhpcy5fY2FsbCA9IGNhbGxiYWNrOwogICAgICB0aGlzLl90aW1lID0gdGltZTsKICAgICAgc2xlZXAoKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9jYWxsKSB7CiAgICAgICAgdGhpcy5fY2FsbCA9IG51bGw7CiAgICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5OwogICAgICAgIHNsZWVwKCk7CiAgICAgIH0KICAgIH0KICB9OwogIGZ1bmN0aW9uIHRpbWVyKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQogIGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7CiAgICBub3coKTsgLy8gR2V0IHRoZSBjdXJyZW50IHRpbWUsIGlmIG5vdCBhbHJlYWR5IHNldC4KICAgICsrZnJhbWU7IC8vIFByZXRlbmQgd2XigJl2ZSBzZXQgYW4gYWxhcm0sIGlmIHdlIGhhdmVu4oCZdCBhbHJlYWR5LgogICAgdmFyIHQgPSB0YXNrSGVhZCwKICAgICAgZTsKICAgIHdoaWxlICh0KSB7CiAgICAgIGlmICgoZSA9IGNsb2NrTm93IC0gdC5fdGltZSkgPj0gMCkgdC5fY2FsbC5jYWxsKHVuZGVmaW5lZCwgZSk7CiAgICAgIHQgPSB0Ll9uZXh0OwogICAgfQogICAgLS1mcmFtZTsKICB9CiAgZnVuY3Rpb24gd2FrZSgpIHsKICAgIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldzsKICAgIGZyYW1lID0gdGltZW91dCQxID0gMDsKICAgIHRyeSB7CiAgICAgIHRpbWVyRmx1c2goKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGZyYW1lID0gMDsKICAgICAgbmFwKCk7CiAgICAgIGNsb2NrTm93ID0gMDsKICAgIH0KICB9CiAgZnVuY3Rpb24gcG9rZSgpIHsKICAgIHZhciBub3cgPSBjbG9jay5ub3coKSwKICAgICAgZGVsYXkgPSBub3cgLSBjbG9ja0xhc3Q7CiAgICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93OwogIH0KICBmdW5jdGlvbiBuYXAoKSB7CiAgICB2YXIgdDAsCiAgICAgIHQxID0gdGFza0hlYWQsCiAgICAgIHQyLAogICAgICB0aW1lID0gSW5maW5pdHk7CiAgICB3aGlsZSAodDEpIHsKICAgICAgaWYgKHQxLl9jYWxsKSB7CiAgICAgICAgaWYgKHRpbWUgPiB0MS5fdGltZSkgdGltZSA9IHQxLl90aW1lOwogICAgICAgIHQwID0gdDEsIHQxID0gdDEuX25leHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdDIgPSB0MS5fbmV4dCwgdDEuX25leHQgPSBudWxsOwogICAgICAgIHQxID0gdDAgPyB0MC5fbmV4dCA9IHQyIDogdGFza0hlYWQgPSB0MjsKICAgICAgfQogICAgfQogICAgdGFza1RhaWwgPSB0MDsKICAgIHNsZWVwKHRpbWUpOwogIH0KICBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7CiAgICBpZiAoZnJhbWUpIHJldHVybjsgLy8gU29vbmVzdCBhbGFybSBhbHJlYWR5IHNldCwgb3Igd2lsbCBiZS4KICAgIGlmICh0aW1lb3V0JDEpIHRpbWVvdXQkMSA9IGNsZWFyVGltZW91dCh0aW1lb3V0JDEpOwogICAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy4KICAgIGlmIChkZWxheSA+IDI0KSB7CiAgICAgIGlmICh0aW1lIDwgSW5maW5pdHkpIHRpbWVvdXQkMSA9IHNldFRpbWVvdXQod2FrZSwgdGltZSAtIGNsb2NrLm5vdygpIC0gY2xvY2tTa2V3KTsKICAgICAgaWYgKGludGVydmFsKSBpbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCFpbnRlcnZhbCkgY2xvY2tMYXN0ID0gY2xvY2subm93KCksIGludGVydmFsID0gc2V0SW50ZXJ2YWwocG9rZSwgcG9rZURlbGF5KTsKICAgICAgZnJhbWUgPSAxLCBzZXRGcmFtZSh3YWtlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRpbWVvdXQgKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIGRlbGF5ID0gZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXk7CiAgICB0LnJlc3RhcnQoZWxhcHNlZCA9PiB7CiAgICAgIHQuc3RvcCgpOwogICAgICBjYWxsYmFjayhlbGFwc2VkICsgZGVsYXkpOwogICAgfSwgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQoKICB2YXIgZW1wdHlPbiA9IGRpc3BhdGNoKCJzdGFydCIsICJlbmQiLCAiY2FuY2VsIiwgImludGVycnVwdCIpOwogIHZhciBlbXB0eVR3ZWVuID0gW107CiAgdmFyIENSRUFURUQgPSAwOwogIHZhciBTQ0hFRFVMRUQgPSAxOwogIHZhciBTVEFSVElORyA9IDI7CiAgdmFyIFNUQVJURUQgPSAzOwogIHZhciBSVU5OSU5HID0gNDsKICB2YXIgRU5ESU5HID0gNTsKICB2YXIgRU5ERUQgPSA2OwogIGZ1bmN0aW9uIHNjaGVkdWxlIChub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHsKICAgIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGVzKSBub2RlLl9fdHJhbnNpdGlvbiA9IHt9O2Vsc2UgaWYgKGlkIGluIHNjaGVkdWxlcykgcmV0dXJuOwogICAgY3JlYXRlKG5vZGUsIGlkLCB7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLgogICAgICBncm91cDogZ3JvdXAsCiAgICAgIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay4KICAgICAgb246IGVtcHR5T24sCiAgICAgIHR3ZWVuOiBlbXB0eVR3ZWVuLAogICAgICB0aW1lOiB0aW1pbmcudGltZSwKICAgICAgZGVsYXk6IHRpbWluZy5kZWxheSwKICAgICAgZHVyYXRpb246IHRpbWluZy5kdXJhdGlvbiwKICAgICAgZWFzZTogdGltaW5nLmVhc2UsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBzdGF0ZTogQ1JFQVRFRAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGluaXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHNjaGVkdWxlZCIpOwogICAgcmV0dXJuIHNjaGVkdWxlOwogIH0KICBmdW5jdGlvbiBzZXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHJ1bm5pbmciKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gZ2V0KG5vZGUsIGlkKSB7CiAgICB2YXIgc2NoZWR1bGUgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcigidHJhbnNpdGlvbiBub3QgZm91bmQiKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGlkLCBzZWxmKSB7CiAgICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sCiAgICAgIHR3ZWVuOwoKICAgIC8vIEluaXRpYWxpemUgdGhlIHNlbGYgdGltZXIgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLgogICAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shCiAgICBzY2hlZHVsZXNbaWRdID0gc2VsZjsKICAgIHNlbGYudGltZXIgPSB0aW1lcihzY2hlZHVsZSwgMCwgc2VsZi50aW1lKTsKICAgIGZ1bmN0aW9uIHNjaGVkdWxlKGVsYXBzZWQpIHsKICAgICAgc2VsZi5zdGF0ZSA9IFNDSEVEVUxFRDsKICAgICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpOwoKICAgICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuCiAgICAgIGlmIChzZWxmLmRlbGF5IDw9IGVsYXBzZWQpIHN0YXJ0KGVsYXBzZWQgLSBzZWxmLmRlbGF5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHN0YXJ0KGVsYXBzZWQpIHsKICAgICAgdmFyIGksIGosIG4sIG87CgogICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90IFNDSEVEVUxFRCwgdGhlbiB3ZSBwcmV2aW91c2x5IGVycm9yZWQgb24gc3RhcnQuCiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7CiAgICAgIGZvciAoaSBpbiBzY2hlZHVsZXMpIHsKICAgICAgICBvID0gc2NoZWR1bGVzW2ldOwogICAgICAgIGlmIChvLm5hbWUgIT09IHNlbGYubmFtZSkgY29udGludWU7CgogICAgICAgIC8vIFdoaWxlIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHN0YXJ0aW5nIHRyYW5zaXRpb24gZHVyaW5nIHRoaXMgZnJhbWUsCiAgICAgICAgLy8gZGVmZXIgc3RhcnRpbmcgYW4gaW50ZXJydXB0aW5nIHRyYW5zaXRpb24gdW50aWwgdGhhdCB0cmFuc2l0aW9uIGhhcyBhCiAgICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCEKICAgICAgICBpZiAoby5zdGF0ZSA9PT0gU1RBUlRFRCkgcmV0dXJuIHRpbWVvdXQoc3RhcnQpOwoKICAgICAgICAvLyBJbnRlcnJ1cHQgdGhlIGFjdGl2ZSB0cmFuc2l0aW9uLCBpZiBhbnkuCiAgICAgICAgaWYgKG8uc3RhdGUgPT09IFJVTk5JTkcpIHsKICAgICAgICAgIG8uc3RhdGUgPSBFTkRFRDsKICAgICAgICAgIG8udGltZXIuc3RvcCgpOwogICAgICAgICAgby5vbi5jYWxsKCJpbnRlcnJ1cHQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTsKICAgICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBDYW5jZWwgYW55IHByZS1lbXB0ZWQgdHJhbnNpdGlvbnMuCiAgICAgICAgZWxzZSBpZiAoK2kgPCBpZCkgewogICAgICAgICAgby5zdGF0ZSA9IEVOREVEOwogICAgICAgICAgby50aW1lci5zdG9wKCk7CiAgICAgICAgICBvLm9uLmNhbGwoImNhbmNlbCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApOwogICAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIERlZmVyIHRoZSBmaXJzdCB0aWNrIHRvIGVuZCBvZiB0aGUgY3VycmVudCBmcmFtZTsgc2VlIGQzL2QzIzE1NzYuCiAgICAgIC8vIE5vdGUgdGhlIHRyYW5zaXRpb24gbWF5IGJlIGNhbmNlbGVkIGFmdGVyIHN0YXJ0IGFuZCBiZWZvcmUgdGhlIGZpcnN0IHRpY2shCiAgICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiEKICAgICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBzdWNjZXNzZnVsLCBzdWJzZXF1ZW50IGNhbGxiYWNrcyBnbyBzdHJhaWdodCB0byB0aWNrLgogICAgICB0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gU1RBUlRFRCkgewogICAgICAgICAgc2VsZi5zdGF0ZSA9IFJVTk5JTkc7CiAgICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTsKICAgICAgICAgIHRpY2soZWxhcHNlZCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC4KICAgICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIHR3ZWVuIGFyZSBpbml0aWFsaXplZC4KICAgICAgc2VsZi5zdGF0ZSA9IFNUQVJUSU5HOwogICAgICBzZWxmLm9uLmNhbGwoInN0YXJ0Iiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7CiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTVEFSVElORykgcmV0dXJuOyAvLyBpbnRlcnJ1cHRlZAogICAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDsKCiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLgogICAgICB0d2VlbiA9IG5ldyBBcnJheShuID0gc2VsZi50d2Vlbi5sZW5ndGgpOwogICAgICBmb3IgKGkgPSAwLCBqID0gLTE7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkgewogICAgICAgICAgdHdlZW5bKytqXSA9IG87CiAgICAgICAgfQogICAgICB9CiAgICAgIHR3ZWVuLmxlbmd0aCA9IGogKyAxOwogICAgfQogICAgZnVuY3Rpb24gdGljayhlbGFwc2VkKSB7CiAgICAgIHZhciB0ID0gZWxhcHNlZCA8IHNlbGYuZHVyYXRpb24gPyBzZWxmLmVhc2UuY2FsbChudWxsLCBlbGFwc2VkIC8gc2VsZi5kdXJhdGlvbikgOiAoc2VsZi50aW1lci5yZXN0YXJ0KHN0b3ApLCBzZWxmLnN0YXRlID0gRU5ESU5HLCAxKSwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDsKICAgICAgd2hpbGUgKCsraSA8IG4pIHsKICAgICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpOwogICAgICB9CgogICAgICAvLyBEaXNwYXRjaCB0aGUgZW5kIGV2ZW50LgogICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gRU5ESU5HKSB7CiAgICAgICAgc2VsZi5vbi5jYWxsKCJlbmQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTsKICAgICAgICBzdG9wKCk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHNlbGYuc3RhdGUgPSBFTkRFRDsKICAgICAgc2VsZi50aW1lci5zdG9wKCk7CiAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdOwogICAgICBmb3IgKHZhciBpIGluIHNjaGVkdWxlcykgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGludGVycnVwdCAobm9kZSwgbmFtZSkgewogICAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLAogICAgICBzY2hlZHVsZSwKICAgICAgYWN0aXZlLAogICAgICBlbXB0eSA9IHRydWUsCiAgICAgIGk7CiAgICBpZiAoIXNjaGVkdWxlcykgcmV0dXJuOwogICAgbmFtZSA9IG5hbWUgPT0gbnVsbCA/IG51bGwgOiBuYW1lICsgIiI7CiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7CiAgICAgIGlmICgoc2NoZWR1bGUgPSBzY2hlZHVsZXNbaV0pLm5hbWUgIT09IG5hbWUpIHsKICAgICAgICBlbXB0eSA9IGZhbHNlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIGFjdGl2ZSA9IHNjaGVkdWxlLnN0YXRlID4gU1RBUlRJTkcgJiYgc2NoZWR1bGUuc3RhdGUgPCBFTkRJTkc7CiAgICAgIHNjaGVkdWxlLnN0YXRlID0gRU5ERUQ7CiAgICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTsKICAgICAgc2NoZWR1bGUub24uY2FsbChhY3RpdmUgPyAiaW50ZXJydXB0IiA6ICJjYW5jZWwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApOwogICAgICBkZWxldGUgc2NoZWR1bGVzW2ldOwogICAgfQogICAgaWYgKGVtcHR5KSBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25faW50ZXJydXB0IChuYW1lKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0d2VlblJlbW92ZShpZCwgbmFtZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuOwoKICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkgewogICAgICAgIHR3ZWVuMSA9IHR3ZWVuMCA9IHR3ZWVuOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkgewogICAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgICAgIHR3ZWVuMSA9IHR3ZWVuMS5zbGljZSgpOwogICAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0d2VlbkZ1bmN0aW9uKGlkLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIQogICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuCiAgICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7CiAgICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpOwogICAgICAgIGZvciAodmFyIHQgPSB7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgfSwgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgICAgdHdlZW4xW2ldID0gdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChpID09PSBuKSB0d2VlbjEucHVzaCh0KTsKICAgICAgfQogICAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fdHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0aGlzLl9pZDsKICAgIG5hbWUgKz0gIiI7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsKICAgICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47CiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4ubGVuZ3RoLCB0OyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKCh0ID0gdHdlZW5baV0pLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgIHJldHVybiB0LnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpOwogIH0KICBmdW5jdGlvbiB0d2VlblZhbHVlKHRyYW5zaXRpb24sIG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDsKICAgIHRyYW5zaXRpb24uZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCk7CiAgICAgIChzY2hlZHVsZS52YWx1ZSB8fCAoc2NoZWR1bGUudmFsdWUgPSB7fSkpW25hbWVdID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBnZXQobm9kZSwgaWQpLnZhbHVlW25hbWVdOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGludGVycG9sYXRlIChhLCBiKSB7CiAgICB2YXIgYzsKICAgIHJldHVybiAodHlwZW9mIGIgPT09ICJudW1iZXIiID8gaW50ZXJwb2xhdGVOdW1iZXIgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYiA6IChjID0gY29sb3IoYikpID8gKGIgPSBjLCBpbnRlcnBvbGF0ZVJnYikgOiBpbnRlcnBvbGF0ZVN0cmluZykoYSwgYik7CiAgfQoKICBmdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHsKICAgIHZhciBzdHJpbmcwMCwKICAgICAgc3RyaW5nMSA9IHZhbHVlMSArICIiLAogICAgICBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7CiAgICB2YXIgc3RyaW5nMDAsIHN0cmluZzEwLCBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCwKICAgICAgICB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwKICAgICAgICBzdHJpbmcxOwogICAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAsCiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksCiAgICAgICAgc3RyaW5nMTsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyIChuYW1lLCB2YWx1ZSkgewogICAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLAogICAgICBpID0gZnVsbG5hbWUgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB0aGlzLmF0dHJUd2VlbihuYW1lLCB0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbikoZnVsbG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgImF0dHIuIiArIG5hbWUsIHZhbHVlKSkgOiB2YWx1ZSA9PSBudWxsID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0clJlbW92ZU5TIDogYXR0clJlbW92ZSkoZnVsbG5hbWUpIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKGZ1bGxuYW1lLCBpLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlKG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBpLmNhbGwodGhpcywgdCkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlTlMoZnVsbG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgaS5jYWxsKHRoaXMsIHQpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgdmFyIHQwLCBpMDsKICAgIGZ1bmN0aW9uIHR3ZWVuKCkgewogICAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSk7CiAgICAgIHJldHVybiB0MDsKICAgIH0KICAgIHR3ZWVuLl92YWx1ZSA9IHZhbHVlOwogICAgcmV0dXJuIHR3ZWVuOwogIH0KICBmdW5jdGlvbiBhdHRyVHdlZW4obmFtZSwgdmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyVHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIga2V5ID0gImF0dHIuIiArIG5hbWU7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlOwogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVsYXlGdW5jdGlvbihpZCwgdmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2RlbGF5ICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZGVsYXlGdW5jdGlvbiA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZGVsYXk7CiAgfQoKICBmdW5jdGlvbiBkdXJhdGlvbkZ1bmN0aW9uKGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgc2V0KHRoaXMsIGlkKS5kdXJhdGlvbiA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2R1cmF0aW9uICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZHVyYXRpb25GdW5jdGlvbiA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZHVyYXRpb247CiAgfQoKICBmdW5jdGlvbiBlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9lYXNlICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaChlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSkgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5lYXNlOwogIH0KCiAgZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh0eXBlb2YgdiAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nICh2YWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy5lYWNoKGVhc2VWYXJ5aW5nKHRoaXMuX2lkLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9maWx0ZXIgKG1hdGNoKSB7CiAgICBpZiAodHlwZW9mIG1hdGNoICE9PSAiZnVuY3Rpb24iKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHsKICAgICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2l0aW9uX21lcmdlICh0cmFuc2l0aW9uKSB7CiAgICBpZiAodHJhbnNpdGlvbi5faWQgIT09IHRoaXMuX2lkKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIGZvciAodmFyIGdyb3VwczAgPSB0aGlzLl9ncm91cHMsIGdyb3VwczEgPSB0cmFuc2l0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTsKICB9CgogIGZ1bmN0aW9uIHN0YXJ0KG5hbWUpIHsKICAgIHJldHVybiAobmFtZSArICIiKS50cmltKCkuc3BsaXQoL158XHMrLykuZXZlcnkoZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgdCA9IHQuc2xpY2UoMCwgaSk7CiAgICAgIHJldHVybiAhdCB8fCB0ID09PSAic3RhcnQiOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIHNpdCA9IHN0YXJ0KG5hbWUpID8gaW5pdCA6IHNldDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNpdCh0aGlzLCBpZCksCiAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAob24gIT09IG9uMCkgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihuYW1lLCBsaXN0ZW5lcik7CiAgICAgIHNjaGVkdWxlLm9uID0gb24xOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9vbiAobmFtZSwgbGlzdGVuZXIpIHsKICAgIHZhciBpZCA9IHRoaXMuX2lkOwogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSkgOiB0aGlzLmVhY2gob25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9uKGlkKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47CiAgICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fcmVtb3ZlICgpIHsKICAgIHJldHVybiB0aGlzLm9uKCJlbmQucmVtb3ZlIiwgcmVtb3ZlRnVuY3Rpb24odGhpcy5faWQpKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0QWxsIChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHsKICAgICAgICAgICAgaWYgKGNoaWxkID0gY2hpbGRyZW5ba10pIHsKICAgICAgICAgICAgICBzY2hlZHVsZShjaGlsZCwgbmFtZSwgaWQsIGssIGNoaWxkcmVuLCBpbmhlcml0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goY2hpbGRyZW4pOwogICAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpOwogIH0KCiAgdmFyIFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I7CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zZWxlY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHN0eWxlTnVsbChuYW1lLCBpbnRlcnBvbGF0ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHN0cmluZzEgPSAodGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKSwgc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCBzdHJpbmcxMCA9IHN0cmluZzEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHZhbHVlMSA9IHZhbHVlKHRoaXMpLAogICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSBzdHJpbmcxID0gdmFsdWUxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlVmFsdWUodGhpcywgbmFtZSkpOwogICAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGwgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMCA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIGxpc3RlbmVyMCwKICAgICAga2V5ID0gInN0eWxlLiIgKyBuYW1lLAogICAgICBldmVudCA9ICJlbmQuIiArIGtleSwKICAgICAgcmVtb3ZlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICBvbiA9IHNjaGVkdWxlLm9uLAogICAgICAgIGxpc3RlbmVyID0gc2NoZWR1bGUudmFsdWVba2V5XSA9PSBudWxsID8gcmVtb3ZlIHx8IChyZW1vdmUgPSBzdHlsZVJlbW92ZShuYW1lKSkgOiB1bmRlZmluZWQ7CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSwKICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS4KICAgICAgaWYgKG9uICE9PSBvbjAgfHwgbGlzdGVuZXIwICE9PSBsaXN0ZW5lcikgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihldmVudCwgbGlzdGVuZXIwID0gbGlzdGVuZXIpOwogICAgICBzY2hlZHVsZS5vbiA9IG9uMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc3R5bGUgKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkgewogICAgdmFyIGkgPSAobmFtZSArPSAiIikgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgc3R5bGVSZW1vdmUobmFtZSkpIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlRnVuY3Rpb24obmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCAic3R5bGUuIiArIG5hbWUsIHZhbHVlKSkpLmVhY2goc3R5bGVNYXliZVJlbW92ZSh0aGlzLl9pZCwgbmFtZSkpIDogdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgbnVsbCk7CiAgfQoKICBmdW5jdGlvbiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBpLmNhbGwodGhpcywgdCksIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICB2YXIgdCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQgPSAoaTAgPSBpKSAmJiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KTsKICAgICAgcmV0dXJuIHQ7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zdHlsZVR3ZWVuIChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHsKICAgIHZhciBrZXkgPSAic3R5bGUuIiArIChuYW1lICs9ICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7CiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBFcnJvcigpOwogICAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBzdHlsZVR3ZWVuKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gIiIgOiBwcmlvcml0eSkpOwogIH0KCiAgZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0RnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWx1ZTEgPSB2YWx1ZSh0aGlzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gIiIgOiB2YWx1ZTE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX3RleHQgKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpcy50d2VlbigidGV4dCIsIHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsICJ0ZXh0IiwgdmFsdWUpKSA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gIiIgOiB2YWx1ZSArICIiKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGUoaSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBpLmNhbGwodGhpcywgdCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgdGV4dEludGVycG9sYXRlKGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90ZXh0VHdlZW4gKHZhbHVlKSB7CiAgICB2YXIga2V5ID0gInRleHQiOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTsKICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90cmFuc2l0aW9uICgpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQwID0gdGhpcy5faWQsCiAgICAgIGlkMSA9IG5ld0lkKCk7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApOwogICAgICAgICAgc2NoZWR1bGUobm9kZSwgbmFtZSwgaWQxLCBpLCBncm91cCwgewogICAgICAgICAgICB0aW1lOiBpbmhlcml0LnRpbWUgKyBpbmhlcml0LmRlbGF5ICsgaW5oZXJpdC5kdXJhdGlvbiwKICAgICAgICAgICAgZGVsYXk6IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiBpbmhlcml0LmR1cmF0aW9uLAogICAgICAgICAgICBlYXNlOiBpbmhlcml0LmVhc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQxKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fZW5kICgpIHsKICAgIHZhciBvbjAsCiAgICAgIG9uMSwKICAgICAgdGhhdCA9IHRoaXMsCiAgICAgIGlkID0gdGhhdC5faWQsCiAgICAgIHNpemUgPSB0aGF0LnNpemUoKTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBjYW5jZWwgPSB7CiAgICAgICAgICB2YWx1ZTogcmVqZWN0CiAgICAgICAgfSwKICAgICAgICBlbmQgPSB7CiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoLS1zaXplID09PSAwKSByZXNvbHZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgdGhhdC5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICAgIGlmIChvbiAhPT0gb24wKSB7CiAgICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTsKICAgICAgICAgIG9uMS5fLmNhbmNlbC5wdXNoKGNhbmNlbCk7CiAgICAgICAgICBvbjEuXy5pbnRlcnJ1cHQucHVzaChjYW5jZWwpOwogICAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTsKICAgICAgICB9CiAgICAgICAgc2NoZWR1bGUub24gPSBvbjE7CiAgICAgIH0pOwoKICAgICAgLy8gVGhlIHNlbGVjdGlvbiB3YXMgZW1wdHksIHJlc29sdmUgZW5kIGltbWVkaWF0ZWx5CiAgICAgIGlmIChzaXplID09PSAwKSByZXNvbHZlKCk7CiAgICB9KTsKICB9CgogIHZhciBpZCA9IDA7CiAgZnVuY3Rpb24gVHJhbnNpdGlvbihncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKSB7CiAgICB0aGlzLl9ncm91cHMgPSBncm91cHM7CiAgICB0aGlzLl9wYXJlbnRzID0gcGFyZW50czsKICAgIHRoaXMuX25hbWUgPSBuYW1lOwogICAgdGhpcy5faWQgPSBpZDsKICB9CiAgZnVuY3Rpb24gbmV3SWQoKSB7CiAgICByZXR1cm4gKytpZDsKICB9CiAgdmFyIHNlbGVjdGlvbl9wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlOwogIFRyYW5zaXRpb24ucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IFRyYW5zaXRpb24sCiAgICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LAogICAgc2VsZWN0QWxsOiB0cmFuc2l0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNlbGVjdENoaWxkLAogICAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sCiAgICBmaWx0ZXI6IHRyYW5zaXRpb25fZmlsdGVyLAogICAgbWVyZ2U6IHRyYW5zaXRpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLAogICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbl90cmFuc2l0aW9uLAogICAgY2FsbDogc2VsZWN0aW9uX3Byb3RvdHlwZS5jYWxsLAogICAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGUsCiAgICBzaXplOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNpemUsCiAgICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9wcm90b3R5cGUuZWFjaCwKICAgIG9uOiB0cmFuc2l0aW9uX29uLAogICAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLAogICAgYXR0clR3ZWVuOiB0cmFuc2l0aW9uX2F0dHJUd2VlbiwKICAgIHN0eWxlOiB0cmFuc2l0aW9uX3N0eWxlLAogICAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLAogICAgdGV4dDogdHJhbnNpdGlvbl90ZXh0LAogICAgdGV4dFR3ZWVuOiB0cmFuc2l0aW9uX3RleHRUd2VlbiwKICAgIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsCiAgICB0d2VlbjogdHJhbnNpdGlvbl90d2VlbiwKICAgIGRlbGF5OiB0cmFuc2l0aW9uX2RlbGF5LAogICAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sCiAgICBlYXNlOiB0cmFuc2l0aW9uX2Vhc2UsCiAgICBlYXNlVmFyeWluZzogdHJhbnNpdGlvbl9lYXNlVmFyeWluZywKICAgIGVuZDogdHJhbnNpdGlvbl9lbmQsCiAgICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX3Byb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdCiAgfTsKCiAgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7CiAgICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCAqIHQgOiAodCAtPSAyKSAqIHQgKiB0ICsgMikgLyAyOwogIH0KCiAgdmFyIGRlZmF1bHRUaW1pbmcgPSB7CiAgICB0aW1lOiBudWxsLAogICAgLy8gU2V0IG9uIHVzZS4KICAgIGRlbGF5OiAwLAogICAgZHVyYXRpb246IDI1MCwKICAgIGVhc2U6IGN1YmljSW5PdXQKICB9OwogIGZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHsKICAgIHZhciB0aW1pbmc7CiAgICB3aGlsZSAoISh0aW1pbmcgPSBub2RlLl9fdHJhbnNpdGlvbikgfHwgISh0aW1pbmcgPSB0aW1pbmdbaWRdKSkgewogICAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNpdGlvbiAke2lkfSBub3QgZm91bmRgKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRpbWluZzsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3RyYW5zaXRpb24gKG5hbWUpIHsKICAgIHZhciBpZCwgdGltaW5nOwogICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7CiAgICAgIGlkID0gbmFtZS5faWQsIG5hbWUgPSBuYW1lLl9uYW1lOwogICAgfSBlbHNlIHsKICAgICAgaWQgPSBuZXdJZCgpLCAodGltaW5nID0gZGVmYXVsdFRpbWluZykudGltZSA9IG5vdygpLCBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyAiIjsKICAgIH0KICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHsKICAgICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkLCBpLCBncm91cCwgdGltaW5nIHx8IGluaGVyaXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIHNlbGVjdGlvbi5wcm90b3R5cGUuaW50ZXJydXB0ID0gc2VsZWN0aW9uX2ludGVycnVwdDsKICBzZWxlY3Rpb24ucHJvdG90eXBlLnRyYW5zaXRpb24gPSBzZWxlY3Rpb25fdHJhbnNpdGlvbjsKCiAgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHsKICAgIHRoaXMuayA9IGs7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICB9CiAgVHJhbnNmb3JtLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBUcmFuc2Zvcm0sCiAgICBzY2FsZTogZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGsgPT09IDEgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmsgKiBrLCB0aGlzLngsIHRoaXMueSk7CiAgICB9LAogICAgdHJhbnNsYXRlOiBmdW5jdGlvbiAoeCwgeSkgewogICAgICByZXR1cm4geCA9PT0gMCAmIHkgPT09IDAgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmssIHRoaXMueCArIHRoaXMuayAqIHgsIHRoaXMueSArIHRoaXMuayAqIHkpOwogICAgfSwKICAgIGFwcGx5OiBmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldOwogICAgfSwKICAgIGFwcGx5WDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHggKiB0aGlzLmsgKyB0aGlzLng7CiAgICB9LAogICAgYXBwbHlZOiBmdW5jdGlvbiAoeSkgewogICAgICByZXR1cm4geSAqIHRoaXMuayArIHRoaXMueTsKICAgIH0sCiAgICBpbnZlcnQ6IGZ1bmN0aW9uIChsb2NhdGlvbikgewogICAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdOwogICAgfSwKICAgIGludmVydFg6IGZ1bmN0aW9uICh4KSB7CiAgICAgIHJldHVybiAoeCAtIHRoaXMueCkgLyB0aGlzLms7CiAgICB9LAogICAgaW52ZXJ0WTogZnVuY3Rpb24gKHkpIHsKICAgICAgcmV0dXJuICh5IC0gdGhpcy55KSAvIHRoaXMuazsKICAgIH0sCiAgICByZXNjYWxlWDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7CiAgICB9LAogICAgcmVzY2FsZVk6IGZ1bmN0aW9uICh5KSB7CiAgICAgIHJldHVybiB5LmNvcHkoKS5kb21haW4oeS5yYW5nZSgpLm1hcCh0aGlzLmludmVydFksIHRoaXMpLm1hcCh5LmludmVydCwgeSkpOwogICAgfSwKICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB0aGlzLnggKyAiLCIgKyB0aGlzLnkgKyAiKSBzY2FsZSgiICsgdGhpcy5rICsgIikiOwogICAgfQogIH07CiAgVHJhbnNmb3JtLnByb3RvdHlwZTsKCiAgLyoKICAgIENQVE1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIQoKICAgIE1vZGVsIFBhcmFtZXRlcnM6CiAgICAgIGEgPSBhbHBoYSAoY3VydmF0dXJlIGZvciB2YWx1ZSBmdW5jdGlvbikKICAgICAgbCA9IGxhbWJkYSAobG9zcyBhdmVyc2lvbiBmb3IgdmFsdWUgZnVuY3Rpb24pCiAgICAgIGcgPSBnYW1tYSAoc2Vuc2l0aXZpdHkgZm9yIGRlY2lzaW9uIHdlaWdodGluZyBmdW5jdGlvbikKCiAgICBWYXJpYWJsZXM6CiAgICAgIHggPSBvYmplY3RpdmUgdmFsdWUKICAgICAgdiA9IHN1YmplY3RpdmUgdmFsdWUKICAgICAgcCA9IG9iamVjdGl2ZSBwcm9iYWJpbGl0eQogICAgICB3ID0gc3ViamVjdGl2ZSBwcm9iYWJpbGl0eS9kZWNpc2lvbiB3ZWlnaHQKICAgICAgdSA9IHN1YmplY3RpdmUgdXRpbGl0eQoKICAgIEVxdWF0aW9uczoKICAgICAgdiA9IGlmICh4ID49IDApIHheYTsgaWYgKHggPCAwKSAtbCAqICgteCleYQogICAgICBhID0gaWYgKHggPj0gMCkgbG9nKHYpIC8gbG9nKHgpOyBpZiAoeCA8IDApIChsb2coLXYpIC0gbG9nKGwpKSAvIGxvZygteCkKICAgICAgbCA9IGlmICh4ID49IDApIDE7IGlmICh4IDwgMCkgLXYgLyAoLXgpXmEKCiAgICAgIHcgPSBwXmcgLyAocF5nICsgKDEgLSBwKV5nKV4oMSAvIGcpCgogICAgICB1ID0gU3VtX24odl9uICogd19uKQogICovCiAgY2xhc3MgQ1BUTWF0aCB7CiAgICBzdGF0aWMgYSA9IHsKICAgICAgREVGQVVMVDogMC41LAogICAgICBNSU46IDAuMCwKICAgICAgTUFYOiAxLjAsCiAgICAgIFNURVA6IDAuMDEsCiAgICAgIEpVTVA6IDAuMDUKICAgIH07CiAgICBzdGF0aWMgbCA9IHsKICAgICAgREVGQVVMVDogMi4wLAogICAgICBNSU46IDAuMCwKICAgICAgTUFYOiAxMC4wLAogICAgICBTVEVQOiAwLjAxLAogICAgICBKVU1QOiAwLjA1CiAgICB9OwogICAgc3RhdGljIGcgPSB7CiAgICAgIERFRkFVTFQ6IDAuNSwKICAgICAgTUlOOiAwLjAsCiAgICAgIE1BWDogMS4wLAogICAgICBTVEVQOiAwLjAxLAogICAgICBKVU1QOiAwLjA1CiAgICB9OwogICAgc3RhdGljIHhhbDJ2KHgsIGEsIGwpIHsKICAgICAgaWYgKHggPj0gMCkgewogICAgICAgIHJldHVybiB4ICoqIGE7CiAgICAgIH0KICAgICAgLy8gZWxzZSAoeCA8IDApCiAgICAgIHJldHVybiAtbCAqICgteCkgKiogYTsKICAgIH0KICAgIHN0YXRpYyB4bHYyYSh4LCBsLCB2KSB7CiAgICAgIGlmICh4ID49IDApIHsKICAgICAgICByZXR1cm4gTWF0aC5sb2codikgLyBNYXRoLmxvZyh4KTsKICAgICAgfQogICAgICAvLyBlbHNlICh4IDwgMCkKICAgICAgcmV0dXJuIChNYXRoLmxvZygtdikgLSBNYXRoLmxvZyhsKSkgLyBNYXRoLmxvZygteCk7CiAgICB9CiAgICBzdGF0aWMgeGF2MmwoeCwgYSwgdikgewogICAgICBpZiAoeCA+PSAwKSB7CiAgICAgICAgcmV0dXJuIE5hTjsKICAgICAgfQogICAgICAvLyBlbHNlICh4IDwgMCkKICAgICAgcmV0dXJuIC12IC8gKC14KSAqKiBhOwogICAgfQogICAgc3RhdGljIHBnMncocCwgZykgewogICAgICByZXR1cm4gcCAqKiBnIC8gKHAgKiogZyArICgxIC0gcCkgKiogZykgKiogKDEgLyBnKTsKICAgIH0KICAgIHN0YXRpYyB2dzJ1KHYsIHcpIHsKICAgICAgLy8gTnVtYmVycwogICAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInICYmIHR5cGVvZiB3ID09PSAnbnVtYmVyJykgewogICAgICAgIHJldHVybiB2ICogdzsKICAgICAgfQogICAgICAvLyBBcnJheXMKICAgICAgaWYgKHYgaW5zdGFuY2VvZiBBcnJheSAmJiB3IGluc3RhbmNlb2YgQXJyYXkgJiYgdi5sZW5ndGggPiAwICYmIHYubGVuZ3RoID09PSB3Lmxlbmd0aCkgewogICAgICAgIGxldCB1ID0gMDsKICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHYubGVuZ3RoOyBuICs9IDEpIHsKICAgICAgICAgIHUgKz0gdltuXSAqIHdbbl07CiAgICAgICAgfQogICAgICAgIHJldHVybiB1OwogICAgICB9CiAgICAgIC8vIE90aGVyd2lzZQogICAgICByZXR1cm4gTmFOOwogICAgfQogIH0KCiAgLy8gSW50ZXJuYWwgZGVwZW5kZW5jaWVzCgogIC8qIGVzbGludCBuby1yZXN0cmljdGVkLWdsb2JhbHM6IFsib2ZmIiwgInNlbGYiXSAqLwoKICBzZWxmLm9ubWVzc2FnZSA9IGV2ZW50ID0+IHsKICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgYWxwaGE6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IENQVE1hdGguYS5NSU4sCiAgICAgICAgdXBwZXI6IENQVE1hdGguYS5NQVgKICAgICAgfSwKICAgICAgbGFtYmRhOiB7CiAgICAgICAgdHlwZTogJ3JlYWwnLAogICAgICAgIGxvd2VyOiBDUFRNYXRoLmwuTUlOLAogICAgICAgIHVwcGVyOiBDUFRNYXRoLmwuTUFYCiAgICAgIH0sCiAgICAgIGdhbW1hOiB7CiAgICAgICAgdHlwZTogJ3JlYWwnLAogICAgICAgIGxvd2VyOiBDUFRNYXRoLmcuTUlOLAogICAgICAgIHVwcGVyOiBDUFRNYXRoLmcuTUFYCiAgICAgIH0sCiAgICAgIGx1Y2U6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IDAsCiAgICAgICAgdXBwZXI6IDEwMAogICAgICB9CiAgICB9OwogICAgY29uc3QgbG9nUG9zdCA9IChzdGF0ZSwgZGF0YSkgPT4gewogICAgICBsZXQgbHAgPSAwOwoKICAgICAgLy8gUHJpb3JzCiAgICAgIGNvbnN0IGFscGhhTWVhbiA9IDAuNTsKICAgICAgY29uc3QgYWxwaGFTYW1wbGVTaXplID0gMi41OwogICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5iZXRhKHN0YXRlLmFscGhhLCBhbHBoYU1lYW4gKiBhbHBoYVNhbXBsZVNpemUsICgxIC0gYWxwaGFNZWFuKSAqIGFscGhhU2FtcGxlU2l6ZSk7CiAgICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmFscGhhLCAwLCAxKTsKCiAgICAgIGNvbnN0IGxhbWJkYU1lYW4gPSAyOwogICAgICBjb25zdCBsYW1iZGFTaGFwZSA9IDM7CiAgICAgIGxwICs9IGRpc3RyaWJ1dGlvbnNFeHBvcnRzLmdhbW1hKHN0YXRlLmxhbWJkYSwgbGFtYmRhU2hhcGUsIGxhbWJkYVNoYXBlIC8gbGFtYmRhTWVhbik7CiAgICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmxhbWJkYSwgMCwgMTApOwoKICAgICAgY29uc3QgZ2FtbWFNZWFuID0gMC41OwogICAgICBjb25zdCBnYW1tYVNhbXBsZVNpemUgPSAyLjU7CiAgICAgIGxwICs9IGRpc3RyaWJ1dGlvbnNFeHBvcnRzLmJldGEoc3RhdGUuZ2FtbWEsIGdhbW1hTWVhbiAqIGdhbW1hU2FtcGxlU2l6ZSwgKDEgLSBnYW1tYU1lYW4pICogZ2FtbWFTYW1wbGVTaXplKTsKICAgICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUuZ2FtbWEsIDAsIDEpOwoKICAgICAgY29uc3QgbHVjZU1lYW4gPSAyOwogICAgICBjb25zdCBsdWNlU2hhcGUgPSAzOwogICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5nYW1tYShzdGF0ZS5sdWNlLCBsdWNlU2hhcGUsIGx1Y2VTaGFwZSAvIGx1Y2VNZWFuKTsKICAgICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUubHVjZSwgMCwgMTAwKTsKCiAgICAgIC8vIExpa2VsaWhvb2QKICAgICAgZGF0YS5mb3JFYWNoKGNob2ljZSA9PiB7CiAgICAgICAgLy8gVmFsdWVzCiAgICAgICAgY29uc3QgdmwgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54bCwgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7CiAgICAgICAgY29uc3QgdncgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54dywgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7CiAgICAgICAgY29uc3QgdnMgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54cywgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7CgogICAgICAgIC8vIFByb2JhYmlsaXRpZXMKICAgICAgICBjb25zdCB3dyA9IENQVE1hdGgucGcydyhjaG9pY2UucHcsIHN0YXRlLmdhbW1hKTsKICAgICAgICBjb25zdCB3bCA9IDEgLSB3dzsKCiAgICAgICAgLy8gVXRpbGl0aWVzCiAgICAgICAgY29uc3QgdWcgPSB3bCAqIHZsICsgd3cgKiB2dzsKICAgICAgICBjb25zdCB1cyA9IHZzOwoKICAgICAgICAvLyBDaG9pY2Ugb2YgZ2FtYmxlIG9yIHN1cmUgaXMgc2FtcGxlZCBmcm9tIGEgQmVybm91bGxpIGRpc3RyaWJ1dGlvbgogICAgICAgIC8vIEx1Y2UgY2hvaWNlIHJ1bGUgaXMgdXNlZCB0byBjb21wdXRlIHByb2JhYmlsaXR5IG9mIGdhbWJsaW5nISAoMCA9IHN1cmUsIDEgPSBnYW1ibGUpCiAgICAgICAgY29uc3QgYmludmFsID0gMSAvICgxICsgTWF0aC5leHAoc3RhdGUubHVjZSAqICh1cyAtIHVnKSkpOwoKICAgICAgICAvLyBBY3R1YWwgcmVzcG9uc2UKICAgICAgICBjb25zdCByZXNwb25zZSA9IGNob2ljZS5yZXNwb25zZSA9PT0gJ3N1cmUnID8gMCA6IDE7CiAgICAgICAgbHAgKz0gZGlzdHJpYnV0aW9uc0V4cG9ydHMuYmVybihyZXNwb25zZSwgYmludmFsKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBscDsKICAgIH07CgogICAgLy8gSW5pdGlhbGl6aW5nIHRoZSBzYW1wbGVyCiAgICBjb25zdCBzYW1wbGVyID0gbmV3IG1jbWNFeHBvcnRzLkFtd2dTYW1wbGVyKHBhcmFtcywgbG9nUG9zdCwgZXZlbnQuZGF0YSk7CiAgICAvLyBCdXJuaW5nIHNvbWUgc2FtcGxlcyB0byB0aGUgTUNNQyBnb2RzIGFuZCBzYW1wbGluZyA1MDAwIGRyYXdzCiAgICBzYW1wbGVyLmJ1cm4oMTAwMCk7CiAgICBjb25zdCBzYW1wbGVzID0gc2FtcGxlci5zYW1wbGUoNTAwMCk7CgogICAgLy8gRXh0cmFjdCBzdW1tYXJ5IHN0YXRzCiAgICBjb25zdCByZXN1bHRzID0gewogICAgICBhbHBoYTogbWVkaWFuKHNhbXBsZXMuYWxwaGEpLAogICAgICBsYW1iZGE6IG1lZGlhbihzYW1wbGVzLmxhbWJkYSksCiAgICAgIGdhbW1hOiBtZWRpYW4oc2FtcGxlcy5nYW1tYSksCiAgICAgIGx1Y2U6IG1lZGlhbihzYW1wbGVzLmx1Y2UpCiAgICB9OwogICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsCiAgICAgIHNhbXBsZXM6IHNhbXBsZXMKICAgIH0pOwogIH07Cgp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1jcHQtZml0LXdvcmtlci5qcy5tYXAKCg==","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3B0LWZpdC13b3JrZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9iYXllcy5qcy9kaXN0cmlidXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2JheWVzLmpzL21jbWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2FzY2VuZGluZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9zb3J0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tYXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL21pbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvcXVpY2tzZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3F1YW50aWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tZWRpYW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZGlzcGF0Y2gvc3JjL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL25hbWVzcGFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NyZWF0b3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9hcnJheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL21hdGNoZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGRyZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbnRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NvbnN0YW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9qb2luLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL21lcmdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NvcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2FsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZWFjaC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hdHRyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NsYXNzZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vdGV4dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9odG1sLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JhaXNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2xvd2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2FwcGVuZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbnNlcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmVtb3ZlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Nsb25lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2l0ZXJhdG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWNvbG9yL3NyYy9kZWZpbmUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3JnYi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9zdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9kZWNvbXBvc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWVyL3NyYy90aW1lci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NjaGVkdWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL2ludGVycnVwdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW50ZXJydXB0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9pbnRlcnBvbGF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9kZWxheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2VWYXJ5aW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vbWVyZ2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9vbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGVUd2Vlbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0VHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90cmFuc2l0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY3ViaWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL3RyYW5zaXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3RyYW5zZm9ybS5qcyIsIi4uLy4uL2xpYnJhcmllcy9wcm9zcGVjdGFibGUtbWF0aC9zcmMvY3B0LW1hdGguanMiLCIuLi8uLi9saWJyYXJpZXMvcHJvc3BlY3RhYmxlLW1hdGgvc3JjL2luZGV4LmpzIiwiLi4vLi4vbGlicmFyaWVzL3Byb3NwZWN0YWJsZS1lbGVtZW50cy9zcmMvY29tcG9uZW50cy9jcHQtZml0LXdvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvblxuLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoXG4vLyBhcyBpbiBcImxvZyBkZW5zaXR5XCIpLCBzbyB0byBnZXQgYSBub3JtYWwgbG9nIGRlbnNpdHkgeW91IHdvdWxkIHdyaXRlXG4vLyBsZC5ub3JtKC4uLikuXG4vLyBNb3N0IG9mIHRoZSBjb2RlIGJlbG93IGlzIGRpcmVjdGx5IHRha2VuIGZyb20gdGhlIGdyZWF0IEpzdGF0IHByb2plY3Rcbi8vIChodHRwczovL2dpdGh1Yi5jb20vanN0YXQvKSB3aGljaCBpbmNsdWRlcyBQREYgZm9yIG1hbnkgY29tbW9uIHByb2JhYmlsaXR5XG4vLyBkaXN0cmlidXRpb25zLiBXaGF0IEkgaGF2ZSBkb25lIGlzIG9ubHkgdG8gY29udmVydCB0aGVzZSB0byBsb2cgUERGcy5cblxuLypcbk9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0XG5Nb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCBcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IGxkIC5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QubGQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4gIC8vIE9iamVjdCB0byBob2xkIHRoZSBmdW5jdGlvbnMgdG8gYmUgZXhwb3J0ZWQuXG4gIHZhciBsZCAgPSB7fTtcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICB2YXIgbGdhbW1hID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIgY29mID0gW1xuICAgICAgNzYuMTgwMDkxNzI5NDcxNDYsIC04Ni41MDUzMjAzMjk0MTY3NywgMjQuMDE0MDk4MjQwODMwOTEsXG4gICAgICAtMS4yMzE3Mzk1NzI0NTAxNTUsIDAuMTIwODY1MDk3Mzg2NjE3OWUtMiwgLTAuNTM5NTIzOTM4NDk1M2UtNVxuICAgIF07XG4gICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1O1xuICAgIHZhciB4eCwgeSwgdG1wO1xuICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTtcbiAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApO1xuICAgIGZvciAoOyBqIDwgNjsgaisrKVxuICAgICAgc2VyICs9IGNvZltqXSAvICsreTtcbiAgICByZXR1cm4gbG9nKDIuNTA2NjI4Mjc0NjMxMDAwNSAqIHNlciAvIHh4KSAtIHRtcDtcbiAgfTtcbiAgbGQubGdhbW1hID0gbGdhbW1hO1xuICBcbiAgdmFyIGxmYWN0b3JpYWwgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIG4gPCAwID8gTmFOIDogbGdhbW1hKG4gKyAxKTtcbiAgfTtcbiAgbGQubGZhY3RvcmlhbCA9IGxmYWN0b3JpYWw7XG4gIFxuICB2YXIgbGNob29zZSA9IGZ1bmN0aW9uKG4sIGspe1xuICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspO1xuICB9O1xuICBsZC5sY2hvb3NlID0gbGNob29zZTtcbiAgXG4gIHZhciBsYmV0YSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTtcbiAgfTtcbiAgbGQubGJldGEgPSBsYmV0YTtcbiAgXG4gIHZhciBsb2cgID0gTWF0aC5sb2c7XG4gIHZhciBleHAgID0gTWF0aC5leHA7XG4gIHZhciBhYnMgID0gTWF0aC5hYnM7XG4gIHZhciBwb3cgID0gTWF0aC5wb3c7XG4gIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICB2YXIgcGkgICA9IE1hdGguUEk7XG4gIFxuICAvLy8vLy8vLy8vIENvbnRpbm91cyBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBsZC5iZXRhID0gZnVuY3Rpb24oeCwgc2hhcGUxLCBzaGFwZTIpIHtcbiAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYoc2hhcGUxID09PSAxICYmIHNoYXBlMiA9PT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoc2hhcGUxIC0gMSkgKiBsb2coeCkgKyAoc2hhcGUyIC0gMSkgKiBsb2coMSAtIHgpIC0gbGJldGEoc2hhcGUxLCBzaGFwZTIpOyAgXG4gICAgfVxuICB9O1xuICBcbiAgbGQuY2F1Y2h5ID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAgLSBsb2cocGkpO1xuICB9O1xuICBcbiAgbGQubm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC1sb2coc2QpIC0gcG93KHggLSBtZWFuLCAyKSAvICgyICogc2QgKiBzZCk7XG4gIH07XG5cbiAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIFxuICAvLyB0aGUgY29ycmVsYXRpb24uXG4gIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkLCBjb3JyKSB7XG4gICAgdmFyIHogPSBwb3coeFswXSAtIG1lYW5bMF0sIDIpIC8gcG93KHNkWzBdLCAyKSArXG4gICAgICAgICAgICBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIFxuICAgICAgICAgICAgKDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkpIC8gKHNkWzBdICogc2RbMV0pO1xuICAgIHZhciBub3JtYWxpemluZ19mYWN0b3IgPSAtKCBsb2coMikgKyBsb2cocGkpICsgbG9nKHNkWzBdKSArIGxvZyhzZFsxXSkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpICk7IFxuICAgIHZhciBiaXZhcl9sb2dfZGVucyA9IG5vcm1hbGl6aW5nX2ZhY3RvciAtIHogLyAoMiAqICgxIC0gcG93KGNvcnIsIDIpICkgKTsgXG4gICAgcmV0dXJuIGJpdmFyX2xvZ19kZW5zO1xuICB9O1xuICBcblxuICBsZC5sYXBsYWNlID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuICgtYWJzKHggLSBsb2NhdGlvbikvc2NhbGUpIC0gbG9nKDIgKiBzY2FsZSk7XG4gIH07XG4gIFxuICBsZC5kZXhwID0gbGQubGFwbGFjZTtcbiAgXG4gIGxkLmdhbW1hID0gZnVuY3Rpb24oeCwgc2hhcGUsIHJhdGUpIHtcbiAgICB2YXIgc2NhbGUgPSAxIC8gcmF0ZTtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfVxuICAgIGlmKCh4ID09PSAwICYmIHNoYXBlID09PSAxKSApIHtcbiAgICAgIHJldHVybiAtbG9nKHNjYWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChzaGFwZSAtIDEpICogbG9nKHgpIC0geCAvIHNjYWxlIC0gbGdhbW1hKHNoYXBlKSAtIHNoYXBlICogbG9nKHNjYWxlKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5pbnZnYW1tYSA9IGZ1bmN0aW9uKHgsIHNoYXBlLCBzY2FsZSkge1xuICAgICAgaWYgKHggPD0gMCkge1xuICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7XG4gICAgfTtcbiAgXG4gIGxkLmxub3JtID0gIGZ1bmN0aW9uKHgsIG1lYW5sb2csIHNkbG9nKSB7XG4gICAgaWYgKHggPD0gMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBcbiAgICAgICAgICAgIHBvdyhsb2coeCkgLSBtZWFubG9nLCAyKSAvICgyICogc2Rsb2cgKiBzZGxvZyk7XG4gIH07XG4gIFxuICBsZC5wYXJldG8gPSBmdW5jdGlvbih4LCBzY2FsZSwgc2hhcGUpIHtcbiAgICBpZiAoeCA8IHNjYWxlKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gbG9nKHNoYXBlKSArIHNoYXBlICogbG9nKHNjYWxlKSAtIChzaGFwZSArIDEpICogbG9nKHgpO1xuICB9O1xuICBcbiAgbGQudCAgPSAgZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlLCBkZikge1xuICAgIGRmID0gZGYgPiAxZTEwMCA/IDFlMTAwIDogZGY7XG4gICAgcmV0dXJuIGxnYW1tYSgoZGYgKyAxKS8yKSAtIGxnYW1tYShkZi8yKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICtcbiAgICAgICAgICAgbG9nKHBvdygxICsgKDEvZGYpICogcG93KCh4IC0gbG9jYXRpb24pL3NjYWxlLCAyKSwgLShkZiArIDEpLzIpKTtcbiAgfTtcbiAgXG4gIC8vIFRoaXMgaXMgYSBkaXJlY3QgamF2YXNjcmlwdCB0cmFuc2xhdGlvbiBvZiB0aGUgUiBjb2RlIHVzZWQgdG8gZXZhbHVhdGVcbiAgLy8gdGhlIGxvZyBkZW5zaXR5IG9mIGEgd2VpYnVsbCBkaXN0cmlidXRpb246IFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2NoL3Itc291cmNlL2Jsb2IvYjE1NmUzYTcxMTk2N2Y1ODEzMWUyM2MxYjFkYzFlYTkwZTJmMGM0My9zcmMvbm1hdGgvZHdlaWJ1bGwuY1xuICBsZC53ZWlidWxsID0gZnVuY3Rpb24oeCwgc2hhcGUsIHNjYWxlKSB7XG4gICAgaWYgKHggPCAwKSByZXR1cm4gLUluZmluaXR5O1xuICAgIGlmKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7XG4gICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpO1xuICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpO1xuXHQgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7XG4gIH07XG4gIFxuICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlXG4gIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuY1xuICBsZC5sb2dpcyA9IGZ1bmN0aW9uKHgsIGxvY2F0aW9uLCBzY2FsZSkge1xuICAgIHggPSBhYnMoKHggLSBsb2NhdGlvbikgLyBzY2FsZSk7XG4gICAgdmFyIGUgPSBleHAoLXgpO1xuICAgIHZhciBmID0gMS4wICsgZTtcbiAgICByZXR1cm4gLSh4ICsgbG9nKHNjYWxlICogZiAqIGYpKTsgICAgXG4gIH07XG5cbiAgbGQuZGlyaWNobGV0ID0gZnVuY3Rpb24oeCwgYWxwaGEpIHtcbiAgICB2YXIgc3VtX2FscGhhID0gMDtcbiAgICB2YXIgc3VtX2xnYW1tYV9hbHBoYSA9IDA7XG4gICAgdmFyIHN1bV9hbHBoYV9zdWJfMV9sb2dfeCA9IDA7XG4gICAgdmFyIG4gPSBhbHBoYS5sZW5ndGg7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldO1xuICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pO1xuICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194O1xuICB9O1xuICAgXG4gICAgXG4gIGxkLmV4cCA9IGZ1bmN0aW9uKHgsIHJhdGUpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtcmF0ZSAqIHg7XG4gIH07XG4gIFxuICBsZC51bmlmID0gZnVuY3Rpb24oeCwgbWluLCBtYXgpIHtcbiAgICAgIHJldHVybiAoeCA8IG1pbiB8fCB4ID4gbWF4KSA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpO1xuICB9O1xuICBcbiAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIGxkLmJlcm4gPSBmdW5jdGlvbih4LCBwcm9iKSB7XG4gICAgICByZXR1cm4gISh4ID09PSAwIHx8IHggPT09IDEpID8gLUluZmluaXR5IDogbG9nKHggKiBwcm9iICsgKDEgLSB4KSAqICgxIC0gcHJvYikpO1xuICB9O1xuICBcbiAgbGQuY2F0ID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICBpZih4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9nKCBwcm9ic1t4IC0gMV0gKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4ID4gc2l6ZSB8fCB4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7XG4gICAgICByZXR1cm4gKHNpemUgKiBwcm9iKSA9PT0geCA/IDAgOiAtSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBsY2hvb3NlKHNpemUsIHgpICsgeCAqIGxvZyhwcm9iKSArIChzaXplIC0geCkgKiBsb2coMSAtIHByb2IpO1xuICB9O1xuICBcbiAgdmFyIG11bHRpbm9tID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICB2YXIgbiA9IHgubGVuZ3RoO1xuICAgIHZhciBzaXplID0gMDtcbiAgICB2YXIgdG1wX3Rlcm0gPSAwO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmKHByb2JzW2ldID09PSAwKSB7XG4gICAgICAgIGlmKHhbaV0gIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OyAgXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgKz0geFtpXTtcbiAgICAgICAgdG1wX3Rlcm0gKz0geFtpXSAqIGxvZyhwcm9ic1tpXSkgLSBsZ2FtbWEoeFtpXSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHNpemUgKyAxKSArIHRtcF90ZXJtIDtcbiAgfTtcbiAgXG4gIGxkLm5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGxjaG9vc2UoeCArIHNpemUgLSAxLCBzaXplIC0gMSkgKyB4ICogbG9nKDEgLSBwcm9iKSArIHNpemUgKiBsb2cocHJvYik7XG4gIH07XG4gIFxuICBsZC5oeXBlciA9IGZ1bmN0aW9uKHgsIG0sIG4sIGspIHtcbiAgICBpZih4IDwgMCB8fCB4ID4gaykge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9IGVsc2Uge1xuICAgIHJldHVybiBsY2hvb3NlKG0sIHgpICsgbGNob29zZShuLCBrLXgpIC0gbGNob29zZShtK24sIGspO1xuICAgIH1cbiAgfTtcbiAgXG4gIGxkLnBvaXMgPSBmdW5jdGlvbih4LCBsYW1iZGEpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7XG4gIH07XG4gIFxuICByZXR1cm4gbGQ7XG59KSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IG1jbWMgLlxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCl7XG5cbi8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICBcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKiogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4ICovXG4gIHZhciBydW5pZiA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqL1xuICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9O1xuICBcbiAgLyoqIFJldHVybnMgYSByYW5kb20gcmVhbCBudW1iZXIgZnJvbSBhIG5vcm1hbCBkaXN0cmliYnV0aW9uIGRlZmluZWRcbiAgICogIGJ5IG1lYW4gYW5kIHNkLiBcbiAgICogIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vanN0YXQvanN0YXQvYmxvYi9tYXN0ZXIvc3JjL3NwZWNpYWwuanMgKi9cbiAgdmFyIHJub3JtID0gZnVuY3Rpb24obWVhbiwgc2QpIHtcbiAgICB2YXIgdSwgdiwgeCwgeSwgcTtcbiAgICBkbyB7XG4gICAgICB1ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIHYgPSAxLjcxNTYgKiAoTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgICB4ID0gdSAtIDAuNDQ5ODcxO1xuICAgICAgeSA9IE1hdGguYWJzKHYpICsgMC4zODY1OTU7XG4gICAgICBxID0geCAqIHggKyB5ICogKDAuMTk2MDAgKiB5IC0gMC4yNTQ3MiAqIHgpO1xuICAgIH0gd2hpbGUgKHEgPiAwLjI3NTk3ICYmIChxID4gMC4yNzg0NiB8fCB2ICogdiA+IC00ICogTWF0aC5sb2codSkgKiB1ICogdSkpO1xuICAgIFxuICAgIHJldHVybiAodiAvIHUpICogc2QgKyBtZWFuO1xuICB9O1xuICBcbiAgXG4gIC8qKiBSZXR1cm5zIGEgZGVlcCBjbG9uZSBvZiBzcmMsIHNvcnQgb2YuLi4gSXQgb25seSBjb3BpZXMgYSBsaW1pdGVkXG4gICAqIG51bWJlciBvZiB0eXBlcyBhbmQsIGZvciBleGFtcGxlLCBmdW5jdGlvbiBhcmUgbm90IGNvcGllZC4gXG4gICAqIEZyb20gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS9qYXZhc2NyaXB0LWNsb25lXG4gICAqL1xuICB2YXIgZGVlcF9jbG9uZSA9IGZ1bmN0aW9uKHNyYykge1xuICBcdGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHtcbiAgXHRcdHZhciBuYW1lLCBzLCBpLCBlbXB0eSA9IHt9O1xuICBcdFx0Zm9yKG5hbWUgaW4gc291cmNlKXtcbiAgXHRcdFx0Ly8gdGhlICghKG5hbWUgaW4gZW1wdHkpIHx8IGVtcHR5W25hbWVdICE9PSBzKSBjb25kaXRpb24gYXZvaWRzIGNvcHlpbmcgcHJvcGVydGllcyBpbiBcInNvdXJjZVwiXG4gIFx0XHRcdC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuXHQgRm9yIGV4YW1wbGUsIGlmIGRlc3QgaGFzIGEgY3VzdG9tIHRvU3RyaW5nKCkgbWV0aG9kLFxuICBcdFx0XHQvLyBkb24ndCBvdmVyd3JpdGUgaXQgd2l0aCB0aGUgdG9TdHJpbmcoKSBtZXRob2QgdGhhdCBzb3VyY2UgaW5oZXJpdGVkIGZyb20gT2JqZWN0LnByb3RvdHlwZVxuICBcdFx0XHRzID0gc291cmNlW25hbWVdO1xuICBcdFx0XHRpZighKG5hbWUgaW4gZGVzdCkgfHwgKGRlc3RbbmFtZV0gIT09IHMgJiYgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpKSl7XG4gIFx0XHRcdFx0ZGVzdFtuYW1lXSA9IGNvcHlGdW5jID8gY29weUZ1bmMocykgOiBzO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0XHRyZXR1cm4gZGVzdDtcbiAgXHR9XG4gIFx0aWYoIXNyYyB8fCB0eXBlb2Ygc3JjICE9IFwib2JqZWN0XCIgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIil7XG4gIFx0XHQvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvblxuICBcdFx0cmV0dXJuIHNyYztcdC8vIGFueXRoaW5nXG4gIFx0fVxuICBcdGlmKHNyYy5ub2RlVHlwZSAmJiBcImNsb25lTm9kZVwiIGluIHNyYyl7XG4gIFx0XHQvLyBET00gTm9kZVxuICBcdFx0cmV0dXJuIHNyYy5jbG9uZU5vZGUodHJ1ZSk7IC8vIE5vZGVcbiAgXHR9XG4gIFx0aWYoc3JjIGluc3RhbmNlb2YgRGF0ZSl7XG4gIFx0XHQvLyBEYXRlXG4gIFx0XHRyZXR1cm4gbmV3IERhdGUoc3JjLmdldFRpbWUoKSk7XHQvLyBEYXRlXG4gIFx0fVxuICBcdGlmKHNyYyBpbnN0YW5jZW9mIFJlZ0V4cCl7XG4gIFx0XHQvLyBSZWdFeHBcbiAgXHRcdHJldHVybiBuZXcgUmVnRXhwKHNyYyk7ICAgLy8gUmVnRXhwXG4gIFx0fVxuICBcdHZhciByLCBpLCBsO1xuICBcdGlmKHNyYyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgXHRcdC8vIGFycmF5XG4gIFx0XHRyID0gW107XG4gIFx0XHRmb3IoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKXtcbiAgXHRcdFx0aWYoaSBpbiBzcmMpe1xuICBcdFx0XHRcdHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0fSBlbHNlIHtcbiAgXHRcdC8vIGdlbmVyaWMgb2JqZWN0c1xuICBcdFx0ciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9O1xuICBcdH1cbiAgXHRyZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTtcbiAgfTtcbiAgXG4gIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmVcbiAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvblxuICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZ1xuICAgKiBsb29wLlxuICAgKi9cbiAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgaWYoQXJyYXkuaXNBcnJheSh4WzBdKSkge1xuICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5XG4gICAgICAgIHZhciB4X2NvcHkgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuZ3RoID0geC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHhfY29weS5wdXNoKGNsb25lX3BhcmFtX2RyYXcoeFtpXSkpO1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4geF9jb3B5O1xuICAgICAgfSBlbHNlIHsgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFyc1xuICAgICAgICByZXR1cm4geC5zbGljZSgwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIHNjYWxhclxuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgYSBudW1iZXIuXG4gICAqL1xuICB2YXIgaXNfbnVtYmVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSBcIm51bWJlclwiIHx8ICh0eXBlb2Ygb2JqZWN0ID09IFwib2JqZWN0XCIgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBOdW1iZXIpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS5cbiAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsXG4gICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LlxuICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpblxuICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgXG4gICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0b1xuICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LlxuICAgKiBAZXhhbXBsZSBcbiAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXVxuICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpXG4gICAqL1xuICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24oZGltLCBpbml0KSB7XG4gICAgdmFyIGFyciA9IG5ldyBBcnJheShkaW1bMF0pO1xuICAgIHZhciBpO1xuICAgIGlmKGRpbS5sZW5ndGggPT0gMSkgeyAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdFxuICAgICAgaWYodHlwZW9mIGluaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQoKTtcbiAgICAgICAgfSAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQ7XG4gICAgICAgIH0gXG4gICAgICB9XG4gICAgfSBlbHNlIGlmKGRpbS5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJjcmVhdGVfYXJyYXkgY2FuJ3QgY3JlYXRlIGEgZGltZW5zaW9ubGVzcyBhcnJheVwiO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGltZW5zaW9ucyBvZiBhIHBvc3NpYmx5IG5lc3RlZCBhcnJheSBhcyBhbiBhcnJheS4gRm9yIFxuICAgKiBleGFtcGxlLCBhcnJheV9kaW0oIFtbMSwgMl0sIFsxLCAyXV0gKSBzaG91bGQgcmV0dXJuIFsyLCAyXVxuICAgKiBBc3N1bWVzIHRoYXQgYWxsIGFycmF5cyBpbnNpZGUgYW5vdGhlciBhcnJheSBhcmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBTaG91bGQgcmV0dXJuIFs0LCAyLCAxXVxuICAgKiBhcnJheV9kaW0oY3JlYXRlX2FycmF5KFs0LCAyLCAxXSwgMCkpXG4gICAqL1xuICB2YXIgYXJyYXlfZGltID0gZnVuY3Rpb24oYSkge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoYVswXSkpIHtcbiAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2EubGVuZ3RoXTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50c1xuICAgKiBhcyBqdWRnZWQgYnkgdGhlIFwiPT1cIiBvcGVyYXRvci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlxuICAgKiBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ4NTM5NzQvMTAwMTg0OFxuICAgKi8gXG4gIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICAgIGlmIChhMS5sZW5ndGggIT0gYTIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7XG4gICAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5c1xuICAgICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsgICAgICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsgXG4gICAgICAgICAgICAgIC8vIFdhcm5pbmcgLSB0d28gZGlmZmVyZW50IG9iamVjdCBpbnN0YW5jZXMgd2lsbCBuZXZlciBiZSBlcXVhbDoge3g6MjB9ICE9IHt4OjIwfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICB9ICAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCBcImxlYWYgbm9kZXNcIiwgXG4gICAqIHRoYXQgaXMsIHZhbHVlcyB0aGF0IGFyZSBub3QgYXJyYXlzLiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBzYW1lIHNpemUgYXNcbiAgICogYS5cbiAgICovXG4gIHZhciBuZXN0ZWRfYXJyYXlfYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTtcbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKiogUmFuZG9taXppbmcgdGhlIGFycmF5IGVsZW1lbnQgb3JkZXIgaW4tcGxhY2UuIFVzaW5nIER1cnN0ZW5mZWxkXG4gICAqIHNodWZmbGUgYWxnb3JpdGhtLiBBZGFwdGVkIGZyb20gaGVyZTogXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEyNjQ2ODY0LzEwMDE4NDhcbiAgICovXG4gIGZ1bmN0aW9uIHNodWZmbGVfYXJyYXkoYXJyYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldO1xuICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbal07XG4gICAgICAgICAgYXJyYXlbal0gPSB0ZW1wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIFxuICAvKipcbiAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5XG4gICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgXCJsZWFmIG5vZGVzXCIgYW5kIHJldHVybnMgYW4gYXJyYXkgXG4gICAqIG9mIHRoZSBzYW1lIHNpemUgYXMgYS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5XG4gICAqIGJyYW5jaGVzIHJhbmRvbWx5LlxuICAgKi9cbiAgdmFyIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgbGVuID0gYS5sZW5ndGg7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBhcnJheV9pcyA9IFtdO1xuICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJyYXlfaXNbaV0gPSBpO1xuICAgICAgfVxuICAgICAgc2h1ZmZsZV9hcnJheShhcnJheV9pcyk7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBcbiAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07XG4gICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmVcbiAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC5cbiAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmdcbiAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgXG4gICAqICAgIGFzIGEgbWVtYmVyLlxuICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgXG4gICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy5cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9XG4gICAqIHZhciBwaSA9IGdldF9vcHRpb24oXCJwaVwiLCBteV9vcHRpb25zLCAzLjE0KVxuICAgKi9cbiAgLy8gUHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmYXVsdHMgY2FuIGJlIG92ZXJyaWRkZW5cbiAgLy8gYnkgYW4gb3B0aW9ucyBvYmplY3QuIEZvciBleGFtcGxlOlxuICAvLyB2YXIgcGkgPSBnZXRfb3B0aW9uKFwicGlcIiwgbXlfb3B0aW9ucywgMy4xNClcbiAgdmFyIGdldF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIFxuICAgICAgICAgICBvcHRpb25zW29wdGlvbl9uYW1lXSAhPT0gdW5kZWZpbmVkICAmJiBcbiAgICAgICAgICAgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTtcbiAgfTtcbiAgXG4gIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWxcbiAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS5cbiAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggXG4gICAqIGRpbSBkaW1lbnNpb25zLlxuICAgKiBcbiAgICovXG4gIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRpbSwgZGVmYXVsX3ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0X29wdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKTtcbiAgICAgaWYoISBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgIHZhbHVlID0gY3JlYXRlX2FycmF5KGRpbSwgdmFsdWUpO1xuICAgICB9IFxuICAgICBpZighIGFycmF5X2VxdWFsKCBhcnJheV9kaW0odmFsdWUpLCBkaW0pKSB7XG4gICAgICAgdGhyb3cgXCJUaGUgb3B0aW9uIFwiICsgb3B0aW9uX25hbWUgKyBcIiBpcyBvZiBkaW1lbnNpb24gW1wiICsgXG4gICAgICAgICAgICAgYXJyYXlfZGltKHZhbHVlKSArIFwiXSBidXQgc2hvdWxkIGJlIFtcIiArIGRpbSArIFwiXS5cIjtcbiAgICB9XG4gICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgXG4gIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKipcbiAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLlxuICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgXCJyZWFsXCIsIFwiaW50XCIsIGFuZCBcImJpbmFyeVwiLlxuICAgKi9cbiAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbih0eXBlLCBsb3dlciwgdXBwZXIpIHtcbiAgICBpZihsb3dlciA+IHVwcGVyKSB7XG4gICAgICB0aHJvdyBcIkNhbiBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgd2hlcmUgbG93ZXIgYm91bmQgPiB1cHBlciBib3VuZFwiO1xuICAgIH1cbiAgICBpZih0eXBlID09PSBcInJlYWxcIikge1xuICAgICAgaWYobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIDAuNTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDAuNTtcbiAgICAgIH0gZWxzZSBpZih1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIGxvd2VyICsgMC41O1xuICAgICAgfSBlbHNlIGlmKGxvd2VyIDw9IHVwcGVyKSB7XG4gICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZih0eXBlID09PSBcImludFwiKSB7XG4gICAgICBpZihsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDE7XG4gICAgICB9IGVsc2UgaWYodXBwZXIgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiBsb3dlciArIDE7XG4gICAgICB9IGVsc2UgaWYobG93ZXIgPD0gdXBwZXIpe1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgobG93ZXIgKyB1cHBlcikgLyAyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodHlwZSA9PT0gXCJiaW5hcnlcIikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHRocm93IFwiQ291bGQgbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIG9mIHR5cGUgXCIgKyB0eXBlICsgXCJbXCIgKyBsb3dlciArIFwiLCBcIiArIHVwcGVyICsgXCJdXCI7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ29tcGxldGVzIHBhcmFtc190b19jb21wbGV0ZSwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyIGRlc2NyaXB0aW9ucywgXG4gICAqIGFuZCBpbml0aWFsaXplcyBub24taW5pdGlhbGl6ZWQgcGFyYW1ldGVycy4gVGhpcyBtb2RpZmllZCB2ZXJzaW9uIG9mXG4gICAqIHBhcmFtc190b19jb21wbGV0ZSBpcyByZXR1cm5lZCBhcyBhIGRlZXAgY29weSBhbmQgbm90IG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGJ5IHN1cHBseWluZyBhIHBhcmFtX2luaXQgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmVcbiAgICogZnVuY3Rpb24odHlwZSwgbG93ZXIsIHVwcGVyKSB0aGF0IHNob3VsZCByZXR1cm4gYSBzaW5nbGUgbnVtYmVyIFxuICAgKiAobGlrZSBwYXJhbV9pbml0X2ZpeGVkLCBmb3IgZXhhbXBsZSkuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwYXJhbXMgPSB7IFwibXVcIjoge1widHlwZVwiOiBcInJlYWxcIn0gfVxuICAgKiBwYXJhbXMgPSBjb21wbGV0ZV9wYXJhbXMocGFyYW1zKTtcbiAgICogLy8gcGFyYW1zIHNob3VsZCBub3cgYmU6XG4gICAqIC8vICB7XCJtdVwiOiB7IFwidHlwZVwiOiBcInJlYWxcIiwgXCJkaW1cIjogWzFdLCBcInVwcGVyXCI6IEluZmluaXR5LFxuICAgKiAvLyAgICAgICAgICAgXCJsb3dlclwiOiAtSW5maW5pdHksIFwiaW5pdFwiOiAwLjUgfX1cbiAgICovIFxuICB2YXIgY29tcGxldGVfcGFyYW1zICA9IGZ1bmN0aW9uKHBhcmFtc190b19jb21wbGV0ZSwgcGFyYW1faW5pdCkge1xuICAgIHZhciBwYXJhbXMgPSBkZWVwX2Nsb25lKHBhcmFtc190b19jb21wbGV0ZSk7XG4gICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBwYXJhbXMpIHsgaWYgKCFwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW1fbmFtZSkpIGNvbnRpbnVlO1xuICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgaWYoICFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpIHtcbiAgICAgICAgcGFyYW0udHlwZSA9IFwicmVhbFwiO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwiZGltXCIpKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFsxXTtcbiAgICAgIH1cbiAgICAgIGlmKGlzX251bWJlcihwYXJhbS5kaW0pKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFtwYXJhbS5kaW1dO1xuICAgICAgfVxuICAgICAgaWYocGFyYW0udHlwZSA9PSBcImJpbmFyeVwiKSB7XG4gICAgICAgIHBhcmFtLnVwcGVyID0gMTtcbiAgICAgICAgcGFyYW0ubG93ZXIgPSAwO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwidXBwZXJcIikpIHtcbiAgICAgICAgcGFyYW0udXBwZXIgPSBJbmZpbml0eTtcbiAgICAgIH1cbiAgICAgIGlmKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImxvd2VyXCIpKSB7XG4gICAgICAgIHBhcmFtLmxvd2VyID0gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZihwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImluaXRcIikpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBqdXN0IGEgbnVtYmVyIG9yIGEgbmVzdGVkIGFycmF5IHdlIGxlYXZlIGl0IGFsb25lLCBidXQgaWYuLi5cbiAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pICYmIHR5cGVvZiBwYXJhbS5pbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpO1xuICAgICAgICB9IGVsc2UgaWYoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSAmJiAhQXJyYXkuaXNBcnJheShwYXJhbS5pbml0KSkge1xuICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0XG4gICAgICAgIC8vIGlzIG5vdCBhbiBhcnJheS4gVGhlbiBhc3N1bWUgaXQgaXMgYSBudW1iZXIgb3IgYSBmdW5jdGlvbiBhbmQgdXNlXG4gICAgICAgIC8vIGl0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uXG4gICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgIHBhcmFtLmluaXQgPSBwYXJhbV9pbml0KHBhcmFtLnR5cGUsIHBhcmFtLmxvd2VyLCBwYXJhbS51cHBlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtX2luaXQocGFyYW0udHlwZSwgcGFyYW0ubG93ZXIsIHBhcmFtLnVwcGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9O1xuICBcbiAgXG4gIC8vLy8vLy8vLy8gU3RlcHBlciBGdW5jdGlvbnMgLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBcbiAgXG4gIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZVxuICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvblxuICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgXCJpbnRlcmZhY2VcIixcbiAgICogd2hlcmUgXCJpbnRlcmZhY2VcIiBtZWFucyB0aGF0IFN0ZXBwZXIgZGVmaW5lcyBhIGNsYXNzIHRoYXQgaXMgbmV2ZXJcbiAgICogbWVhbnQgdG8gYmUgaW5zdGFudGlhdGVkLCBidXQganVzdCB0byBiZSBzdWJjbGFzc2VkIGJ5IHNwZWNpYWxpemVkXG4gICAqIHN0ZXBwZXIgZnVuY3Rpb25zLlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IHsgXCJ0eXBlXCI6IFwicmVhbFwiLCBcImRpbVwiOiBbMV0sIFwidXBwZXJcIjogSW5maW5pdHksIFxuICAgKiAgIFwibG93ZXJcIjogLUluZmluaXR5LCBcImluaXRcIjogMC41IH19XG4gICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgXCJjb21wbGV0ZVwiLCB0aGF0IGlzLFxuICAgKiAgIHNwZWNpZnlpbmcgYWxsIHJlbGV2YW50IGF0dHJpYnV0ZXMgc3VjaCBhcyBkaW0sIGxvd2VyIGFuZCB1cHBlci5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzIGluIHBhcmFtc1xuICAgKiAgIChhbmQgcG9zc2libHkgbW9yZSkuIFRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlIGdpdmVuIGFzIGtleXMgYW5kIHRoZSBzdGF0ZXNcbiAgICogICBhcyBzY2FsYXJzIG9yLCBwb3NzaWJseSBuZXN0ZWQsIGFycmF5cy4gRm9yIGV4YW1wbGU6XG4gICAqICAge211OiAxMCwgc2lnbWE6IDUsIGJldGE6IFsxLCAyLjVdfVxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uICp0YWtpbmcgbm8gcGFyYW1ldGVycyogdGhhdCByZXR1cm5zIHRoZVxuICAgKiAgIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFRoYXQgaXMsIHRoZSB2YWx1ZSBvZiBsb2dfcG9zdFxuICAgKiAgIHNob3VsZCBjaGFuZ2UgaWYgdGhlIHRoZSB2YWx1ZXMgaW4gc3RhdGUgYXJlIGNoYW5nZWQuXG4gIFxuICAgKi9cbiAgdmFyIFN0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCkge1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmxvZ19wb3N0ID0gbG9nX3Bvc3Q7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuIFNob3VsZCByZXR1cm4gdGhlIG5ldyBzdGF0ZSxcbiAgICogYnV0IGlzIG1haW5seSBjYWxsZWQgZm9yIGl0J3Mgc2lkZSBlZmZlY3Qgb2YgbWFraW5nIGEgY2hhbmdlIGluIHRoZVxuICAgKiBzdGF0ZSBvYmplY3QuXG4gICAqL1xuICBTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJFdmVyeSBTdGVwcGVyIG5lZWQgdG8gaW1wbGVtZW50IHN0ZXAoKVwiO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIElmIGltcGxlbWVudGVkLCBtYWtlcyB0aGUgc3RlcHBlciBhZGFwdCB3aGlsZSBzdGVwcGluZy5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgY2Vhc2UgYWRhcHRpbmcgd2hpbGUgc3RlcHBpbmcuXG4gICAqLyBcbiAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluZyBpbmZvIHJlZ2FyZGluZyB0aGUgc3RlcHBlci5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgc3RlcHBlci5cbiAgICByZXR1cm4ge307XG4gIH07XG4gIFxuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpblxuICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluIFwiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQ1wiXG4gICAqIGJ5IFJvYmVydHMgYW5kIFJvc2VudGhhbCAoMjAwOCkuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci5cbiAgICogQHBhcmFtIGdlbmVyYXRlX3Byb3Bvc2FsIC0gYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9wb3NhbCAoYXMgYSBudW1iZXIpXG4gICAqIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBsb2dfc2NhbGUpIHdoZXJlIHBhcmFtX3N0YXRlIGlzIGFcbiAgICogbnVtYmVyIGFuZCBsb2dfc2NhbGUgZGVmaW5lcyB0aGUgc2NhbGUgb2YgdGhlIHByb3Bvc2FsIHNvbWVob3cuXG4gICovXG4gIHZhciBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBnZW5lcmF0ZV9wcm9wb3NhbCkge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBjYW4gb25seSBoYW5kbGUgb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICBpZighYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICB0aHJvdyBcIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5sb3dlciA9IHBhcmFtLmxvd2VyO1xuICAgIHRoaXMudXBwZXIgPSBwYXJhbS51cHBlcjtcbiAgICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCAwKTtcbiAgICB0aGlzLmJhdGNoX3NpemUgICAgICAgICA9IGdldF9vcHRpb24oXCJiYXRjaF9zaXplXCIsIG9wdGlvbnMsIDUwKTtcbiAgICB0aGlzLm1heF9hZGFwdGF0aW9uICAgICA9IGdldF9vcHRpb24oXCJtYXhfYWRhcHRhdGlvblwiLCBvcHRpb25zLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgMS4wKTtcbiAgICB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSA9IGdldF9vcHRpb24oXCJ0YXJnZXRfYWNjZXB0X3JhdGVcIiwgb3B0aW9ucywgMC40NCk7XG4gICAgdGhpcy5pc19hZGFwdGluZyAgICAgICAgPSBnZXRfb3B0aW9uKFwiaXNfYWRhcHRpbmdcIiwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgXG4gICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsO1xuICAgIFxuICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7XG4gICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsgIFxuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB2YXIgcGFyYW1fcHJvcG9zYWwgPSB0aGlzLmdlbmVyYXRlX3Byb3Bvc2FsKHBhcmFtX3N0YXRlLCB0aGlzLnByb3BfbG9nX3NjYWxlKTtcbiAgICAgIGlmKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIHtcbiAgICAgICAgLy8gT3V0c2lkZSBvZiBsaW1pdHMgb2YgdGhlIHBhcmFtZXRlciwgcmVqZWN0IHRoZSBwcm9wb3NhbCBcbiAgICAgICAgLy8gYW5kIHN0YXkgYXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICB9IGVsc2UgeyAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwXG4gICAgICAgIHZhciBjdXJyX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9wcm9wb3NhbDtcbiAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgICAgIHZhciBhY2NlcHRfcHJvYiA9IE1hdGguZXhwKHByb3BfbG9nX2RlbnMgLSBjdXJyX2xvZ19kZW5zKTtcbiAgICAgICAgaWYoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7XG4gICAgICAgICAgLy8gV2UgZG8gbm90aGluZyBhcyB0aGUgc3RhdGUgb2YgcGFyYW0gaGFzIGFscmVhZHkgYmVlbiBjaGFuZ2VkIHRvIHRoZSBwcm9wb3NhbFxuICAgICAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrIDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZXZlcnQgc3RhdGUgYmFjayB0byB0aGUgb2xkIHN0YXRlIG9mIHBhcmFtXG4gICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gcGFyYW1fc3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uICsrO1xuICAgICAgICBpZih0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPj0gdGhpcy5iYXRjaF9zaXplKSB7IC8vIHRoZW4gYWRhcHRcbiAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50ICsrO1xuICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IFxuICAgICAgICAgICAgTWF0aC5taW4odGhpcy5tYXhfYWRhcHRhdGlvbiwgXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiAvIE1hdGguc3FydCh0aGlzLmJhdGNoX2NvdW50KSk7XG4gICAgICAgICAgaWYodGhpcy5hY2NlcHRhbmNlX2NvdW50IC8gdGhpcy5iYXRjaF9zaXplID4gdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgKz0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgLT0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXTtcbiAgfTtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IHRydWU7XG4gIH07XG4gIFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IGZhbHNlO1xuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcF9sb2dfc2NhbGU6IHRoaXMucHJvcF9sb2dfc2NhbGUsXG4gICAgICBpc19hZGFwdGluZzogdGhpcy5pc19hZGFwdGluZyxcbiAgICAgIGFjY2VwdGFuY2VfY291bnQ6IHRoaXMuYWNjZXB0YW5jZV9jb3VudCxcbiAgICAgIGl0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb246IHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbixcbiAgICAgIGJhdGNoX2NvdW50OiB0aGlzLmJhdGNoX2NvdW50XG4gICAgfTtcbiAgfTtcbiAgXG4gIFxuICAvKipcbiAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLlxuICAgKi9cbiAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkge1xuICAgIHJldHVybiBybm9ybShwYXJhbV9zdGF0ZSAsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9XG4gICAqIEEgXCJzdWJjbGFzc1wiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIG5vcm1hbF9wcm9wb3NhbCk7XG4gIH07XG4gIFxuICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuXG4gICAqL1xuICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24ocGFyYW1fc3RhdGUsIHByb3BfbG9nX3NjYWxlKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocm5vcm0ocGFyYW1fc3RhdGUgLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTtcbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAYXVnbWVudHMge09uZWRpbU1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBJbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsKTtcbiAgfTtcbiAgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9XG4gICAqIENvbnN0cnVjdG9yIGZvciBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHRoZSBtZXRyb3BvbGlzIHN0ZXAgaW5cbiAgICogdGhlIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiBcIkV4YW1wbGVzIG9mIEFkYXB0aXZlIE1DTUNcIlxuICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdFxuICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIFxuICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgXG4gICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXNcbiAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uXG4gICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cbiAgKi9cbiAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgU3ViU3RlcHBlcikge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7XG4gICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyO1xuICAgIHRoaXMuZGltID0gcGFyYW0uZGltO1xuICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgMCk7XG4gICAgdGhpcy5iYXRjaF9zaXplICAgICAgICAgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwiYmF0Y2hfc2l6ZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApO1xuICAgIHRoaXMubWF4X2FkYXB0YXRpb24gICAgID0gZ2V0X211bHRpZGltX29wdGlvbihcIm1heF9hZGFwdGF0aW9uXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgdGhpcy5kaW0sIDEuMCk7XG4gICAgdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwidGFyZ2V0X2FjY2VwdF9yYXRlXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjQ0KTtcbiAgICB0aGlzLmlzX2FkYXB0aW5nICAgICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpc19hZGFwdGluZ1wiLCBvcHRpb25zLCB0aGlzLmRpbSwgdHJ1ZSk7XG4gICAgXG4gICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiBcbiAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS5cbiAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gXG4gICAgICBmdW5jdGlvbihkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgcHJvcF9sb2dfc2NhbGUsIGJhdGNoX3NpemUsIG1heF9hZGFwdGF0aW9uLCBpbml0aWFsX2FkYXB0YXRpb24sIHRhcmdldF9hY2NlcHRfcmF0ZSwgaXNfYWRhcHRpbmcpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgaWYoZGltLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3Vib3B0aW9ucyA9IHtwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sIGJhdGNoX3NpemU6IGJhdGNoX3NpemVbaV0sXG4gICAgICAgICAgICBtYXhfYWRhcHRhdGlvbjogbWF4X2FkYXB0YXRpb25baV0sIGluaXRpYWxfYWRhcHRhdGlvbjogaW5pdGlhbF9hZGFwdGF0aW9uW2ldLFxuICAgICAgICAgICAgdGFyZ2V0X2FjY2VwdF9yYXRlOiB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXX07XG4gICAgICAgICAgICB2YXIgc3VicGFyYW0gPSB7fTtcbiAgICAgICAgICAgIHN1YnBhcmFtW2ldID0gZGVlcF9jbG9uZShwYXJhbSk7XG4gICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyXG4gICAgICAgICAgICBkZWxldGUgc3VicGFyYW1baV0uaW5pdDsgLy8gQXMgaXQgc291bGQgbm90IGJlIG5lZWRlZFxuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IFN1YlN0ZXBwZXIoc3VicGFyYW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgc3Vib3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZVtpXSwgXG4gICAgICAgICAgICBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LFxuICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSwgdGhpcy5iYXRjaF9zaXplLCB0aGlzLm1heF9hZGFwdGF0aW9uLCB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbixcbiAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlLCB0aGlzLmlzX2FkYXB0aW5nKTtcbiAgICBcbiAgfTtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgbmVzdGVkX2FycmF5X2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uKHN1YnN0ZXBwZXIpIHtzdWJzdGVwcGVyLnN0YXJ0X2FkYXB0YXRpb24oKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3N1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7IH0pO1xuICB9O1xuICBcbiAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge1xuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOyBcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGF1Z21lbnRzIHtNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIpO1xuICB9O1xuICBcbiAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7TXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcn1cbiAgICogQSBcInN1YmNsYXNzXCIgb2YgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovICAgIFxuICB2YXIgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBJbnRNZXRyb3BvbGlzU3RlcHBlcik7XG4gIH07XG4gIFxuICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuXG4gICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGVcbiAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgXG4gICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gIH07XG4gIFxuICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyO1xuICBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7XG4gICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTtcbiAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpO1xuICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zO1xuICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7XG4gICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyggTWF0aC5leHAoemVyb19sb2dfZGVucykgKyBNYXRoLmV4cChvbmVfbG9nX2RlbnMpICkgKTtcbiAgICBpZihNYXRoLnJhbmRvbSgpIDwgemVyb19wcm9iKSB7XG4gICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSAwO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBlbHNlIGtlZXAgdGhlIHBhcmFtIGF0IDEgLlxuICAgIHJldHVybiAxO1xuICB9O1xuICBcbiAgICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBKdXN0IGxpa2UgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciB0aGlzIFN0ZXBwZXIgdGFrZXMgYSBzdGVwcyBmb3JcbiAgICogYSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlciBieSB1cGRhdGluZyBlYWNoIGNvbXBvbmVudCBpbiB0dXJuLiBUaGUgZGlmZmVyZW5jZVxuICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5Q29tcG9uZW50U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICBcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB0aGlzLmRpbSA9IHBhcmFtLmRpbTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlDb21wb25lbnRTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgXG4gICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IFxuICAgICAgZnVuY3Rpb24oZGltLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgdmFyIGk7XG4gICAgICBpZihkaW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgdmFyIHN1YnBhcmFtcyA9IHt9O1xuICAgICAgICAgIHN1YnBhcmFtc1tpXSA9IHBhcmFtO1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IEJpbmFyeVN0ZXBwZXIoc3VicGFyYW1zLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0KTtcbiAgfTtcbiAgXG4gIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7XG4gIFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBUaGlzIHN0ZXBwZXIgY2FuIGJlIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgYSBzdGVwIGZvciBvbmUgb3IgbW9yZSBwYXJhbWV0ZXJzLlxuICAgKiBGb3IgcmVhbCBhbmQgaW50IHBhcmFtZXRlcnMgaXQgdGFrZXMgTWV0cm9wb2xpcyB3aXRoaW4gR2liYnMgc3RlcHMsIGFuZCBmb3IgXG4gICAqIGJpbmFyeSBwYXJhbWV0ZXJzIGl0IGRvZXMgZXZhbHVhdGVzIHRoZSBwb3N0ZXJpb3IgZm9yIGJvdGggcGFyYW10ZXIgdmFsdWVzIGFuZFxuICAgKiByYW5kb21seSBjaGFuZ2VzIHRvIGEgY2VydGFpbiB2YWx1ZSBwcm9wb3J0aW9uYWxseSB0byB0aGF0IHZhbHVlJ3MgcG9zdGVyaW9yXG4gICAqICh0aGlzIGlzIGFsc28gZG9uZSBmb3IgZWFjaCBwYXJhbWV0ZXIsIHNvIGFsc28gYSAqIHdpdGhpbiBHaWJicyBhcHByb2FjaCkuXG4gICAqIFRoaXMgc3RlcHBlciBpcyBhbHNvIGFkYXB0aXZlIGFuZCBjYW4gYmUgZWZmaWNpZW50IHdoZW4gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzXG4gICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIG9uZSBvciBtb3JlIHBhcmFtZXRlciBkZWZpbml0aW9uc1xuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQW13Z1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1fbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXTtcbiAgICAgIHZhciBTZWxlY3RTdGVwcGVyO1xuICAgICAgc3dpdGNoIChwYXJhbS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZWFsXCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW50XCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gSW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IEJpbmFyeVN0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlDb21wb25lbnRTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBcIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgXCIgKyB0aGlzLnBhcmFtX25hbWVzW2ldICArXCIgd2l0aCB0eXBlIFwiICsgcGFyYW0udHlwZTsgXG4gICAgICB9XG4gICAgICB2YXIgcGFyYW1fb2JqZWN0X3dyYXAgPSB7fTtcbiAgICAgIHBhcmFtX29iamVjdF93cmFwW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gcGFyYW07XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBwYXJhbV9vcHRpb25zID0gb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0gfHwge307XG4gICAgICBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlICAgICA9IHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgICAgIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5iYXRjaF9zaXplICAgICAgICAgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgICAgICAgICB8fCBvcHRpb25zLmJhdGNoX3NpemU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiAgICAgPSBwYXJhbV9vcHRpb25zLm1heF9hZGFwdGF0aW9uICAgICB8fCBvcHRpb25zLm1heF9hZGFwdGF0aW9uO1xuICAgICAgcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gPSBwYXJhbV9vcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbiB8fCBvcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbjtcbiAgICAgIHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlID0gcGFyYW1fb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGUgfHwgb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyAgICAgICAgPSBwYXJhbV9vcHRpb25zLmlzX2FkYXB0aW5nICAgICAgICB8fCBvcHRpb25zLmlzX2FkYXB0aW5nOyBcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTdGVwcGVyO1xuICBcbiAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3Vic3RlcHBlcnMpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0ZXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RhcnRfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7XG4gICAgfSBcbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZm8gPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaW5mb1t0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMuc3Vic3RlcHBlcnNbaV0uaW5mbygpO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfTtcbiAgXG4gIFxuICBcbiAgLy8vLy8vLy8vLy8gU2FtcGxlciBGdW5jdGlvbnMgLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBcbiAgIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIFdoaWxlIHlvdSBjb3VsZCBmaXQgYSBtb2RlbCBieSBwYXN0aW5nIHRvZ2V0aGVyIFN0ZXBwZXJzLCBhXG4gIC8vIFNhbXBsZXIgaXMgaGVyZSBpcyBhIGNvbnZlbmllbmNlIGNsYXNzIHdoZXJlIGFuIGluc3RhbmNlIG9mIFNhbXBsZXJcbiAgLy8gc2V0cyB1cCB0aGUgU3RlcHBlcnMsIGNoZWNrcyB0aGUgcGFyYW1ldGVyIGRlZmluaXRpb24sXG4gIC8vIGFuZCBtYW5hZ2VzIHRoZSBzYW1wbGluZy4gVGhpcyBoZXJlIGRlZmluZXMgdGhlIFNhbXBsZXIgXCJpbnRlcmZhY2VcIi5cbiAgICogQGludGVyZmFjZVxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICogICB7XCJtdVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwifSwgXCJzaWdtYVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwiLCBcImxvd2VyXCIgPSAwfX1cbiAgICogICBUaGUgcGFyYW1ldGVyIGRlZmluaXRpb25zIGRvZXNuJ3QgaGF2ZSB0byBiZSBcImNvbXBsZXRlXCIgYW5kIHByb3BlcnRpZXNcbiAgICogICBsZWZ0IG91dCAobGlrZSBsb3dlciBhbmQgdXBwZXIpIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGRlZmF1bHRzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHN0YXRlLCBkYXRhKS4gSGVyZVxuICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIFxuICAgKiAgIGtleSBhbmQgdGhlIHBhcmFtZXRlciB2YWx1ZXMgYXMgbnVtYmVycyBvciBhcnJheXMuIEZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IDMsIFwic2lnbWFcIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgXG4gICAqICAgdGhlIGRhdGEgYXJndW1lbnQgZ2l2ZW4gYmVsb3cuXG4gICAqIEBwYXJhbSBkYXRhIC0gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGxvZ19wb3N0IGZ1bmN0aW9uXG4gICAqICAgd2hlbiBzYW1wbGluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzYW1wbGVyLlxuICAgKi9cbiAgdmFyIFNhbXBsZXIgPSBmdW5jdGlvbihwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLnBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIFxuICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3RcbiAgICB0aGlzLnBhcmFtX2luaXRfZnVuICAgPSBnZXRfb3B0aW9uKFwicGFyYW1faW5pdF9mdW5cIiwgb3B0aW9ucywgcGFyYW1faW5pdF9maXhlZCk7XG4gICAgdmFyIHRoaW5uaW5nX2ludGVydmFsID0gZ2V0X29wdGlvbihcInRoaW5cIiwgb3B0aW9ucywgMSk7XG4gICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbihcIm1vbml0b3JcIiwgb3B0aW9ucywgbnVsbCk7XG4gICAgdGhpcy50aGluKHRoaW5uaW5nX2ludGVydmFsKTtcbiAgICB0aGlzLm1vbml0b3IocGFyYW1zX3RvX21vbml0b3IpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gQ29tcGxldGluZyB0aGUgcGFyYW1zIGFuZCBpbml0aWFsaXppbmcgdGhlIHN0YXRlLlxuICAgIHRoaXMucGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHRoaXMucGFyYW1zLCB0aGlzLnBhcmFtX2luaXRfZnVuKTtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbV9uYW1lcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHN0YXRlW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0uaW5pdDtcbiAgICB9XG4gICAgdGhpcy5sb2dfcG9zdCA9IGZ1bmN0aW9uKCkgeyBcbiAgICAgIHJldHVybiBsb2dfcG9zdChzdGF0ZSwgZGF0YSk7XG4gICAgfTtcbiAgICAvLyBSdW5uaW5nIHRoZSBsb2dfcG9zdCBmdW5jdGlvbiBvbmNlIGluIGNhc2UgaXQgZnVydGhlciBtb2RpZmllcyB0aGUgc3RhdGVcbiAgICAvLyBmb3IgZXhhbXBsZSBhZGRpbmcgZGVyaXZlZCBxdWFudGl0aWVzLlxuICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5zdGVwcGVycyA9IHRoaXMuY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUodGhpcy5wYXJhbXMsIHRoaXMuc3RhdGUsIHRoaXMubG9nX3Bvc3QsIHRoaXMub3B0aW9ucyk7XG4gIH07XG4gIFxuICAvKiogU2hvdWxkIHJldHVybiBhIHZlY3RvciBvZiBzdGVwcGVycyB0aGF0IHdoZW4gY2FsbGVkIFxuICAgKiBzaG91bGQgdGFrZSBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS5cbiAgICovXG4gIFNhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24oc3RhdGUsIGxvZ19wb3N0KXtcbiAgICB0aHJvdyBcIkV2ZXJ5IFNhbXBsZXIgbmVlZHMgdG8gaW1wbGVtZW50IGNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKClcIjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBTYW1wbGVyLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge3N0YXRlOiB0aGlzLnN0YXRlLCB0aGluOiB0aGlzLnRoaW4sIG1vbml0b3I6IHRoaXMubW9uaXRvcixcbiAgICAgICAgICAgIHN0ZXBwZXJzOiB0aGlzLnN0ZXBwZXJzfTtcbiAgfTtcbiAgXG4gIC8qKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gUmV0dXJucyB0aGUgbmV3IHNwYWNlXG4gICAqIGJ1dCBhbHNvIG1vZGlmaWVzIHRoZSBzdGF0ZSBpbiBwbGFjZS5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN0ZXBwZXJzKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7XG4gICAgfVxuICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpLmxlbmd0aCA+IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKS5sZW5ndGgpIHtcbiAgICAgIC8vIFRoZSBzdGF0ZSBjb250YWlucyBkZXZpdmVkIHF1YW50aXRpZXMgKG5vdCBvbmx5IHBhcmFtZXRlcnMpIGFuZCB3ZVxuICAgICAgLy8gbmVlZCB0byBydW4gdGhlIGxvZ19wb3N0IG9uY2UgbW9yZSBpbiBvcmRlciB0byBzZXQgdGhlIGRlcml2ZWQgcXVhbnRpdGllc1xuICAgICAgLy8gZm9yIHRoZSBmaW5hbCBwYXJhbWV0ZXIgc3RhdGVcbiAgICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb25zIHN0ZXBzIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UgYW5kIHJldHVybnMgdGhlbVxuICAgKiBhcyBhbiBvYmplY3Qgb2YgYXJyYXlzIHdpdGggb25lIGFycmF5IHBlciBwYXJhbWV0ZXIuIEZvciBleGFtcGxlOlxuICAgKiB7bXU6IFsxLCAtMSwgMiwgMywgLi4uXSwgc2lnbWE6IFsxLCAyLCAyLCAxLCAuLi5dfS5cbiAgICogSWYgdGhpbiBpcyA+IDEgdGhlbiBuX2l0ZXJhdGlvbnMgLyB0aGluIHNhbXBsZXMgYXJlIHJldHVybmVkLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgICAgLy8gSW5pdGlhbGl6aW5nIGN1cnJfc2FtcGxlIHdoZXJlIHRoZSBzYW1wbGUgaXMgZ29pbmcgdG8gYmUgc2F2ZWRcbiAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC5cbiAgICAgIHZhciBpLCBqLCBtb25pdG9yZWRfcGFyYW1zO1xuICAgICAgaWYodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9O1xuICAgICAgZm9yKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmb3IoaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICBpZihpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkge1xuICAgICAgICAgIGZvcihqID0gMDsgaiA8IG1vbml0b3JlZF9wYXJhbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07XG4gICAgICAgICAgICBjdXJyX3NhbXBsZVtwYXJhbV0ucHVzaCggY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGVwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3Vycl9zYW1wbGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb24gc3RlcHMgaW4gcGFyYW1ldGVyIHNwYWNlIGJ1dCByZXR1cm5zIG5vdGhpbmcuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgdGhpcy5zdGVwKCk7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIFNldHMgd2hhdCBwYXJhbWV0ZXJzIHNob3VsZCBiZSBtb25pdG9yZWQgYW5kIHJldHVybmVkIHdoZW4gY2FsbGluZ1xuICAgKiBzYW1wbGUuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUubW9uaXRvciA9IGZ1bmN0aW9uKHBhcmFtc190b19tb25pdG9yKSB7XG4gICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yXG4gICAqIGRyYXcgd2lsbCBiZSBrZXB0LlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnRoaW4gPSBmdW5jdGlvbih0aGlubmluZ19pbnRlcnZhbCkge1xuICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RhcnRfYWRhcHRhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIFNldHMgYWRhcHRhdGlvbiBvZmYsIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdG9wX2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U2FtcGxlcn1cbiAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIFxuICAgKiBBZGFwdGl2ZSBNZXRyb3BvbGlzLVdpdGhpbi1HaWJicyBhbGdvcml0aG0gaW4gXCJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DXCJcbiAgICogYnkgUm9iZXJ0cyBhbmQgUm9zZW50aGFsICgyMDA4KS4gQW4gYWRpdGlvbiBpcyB0aGF0IGl0IGhhbmRsZXMgaW50IHBhcmFtZXRlcnNcbiAgICogYnkgbWFraW5nIGRpc2NyZXRlIE5vcm1hbCBwcm9wb3NhbHMgYW5kIGJpbmFyeSBwYXJhbWV0ZXJzIGJ5IHRha2luZyBvbiBhIG5ldyBcbiAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlXG4gICAqIHBhcmFtZXRlci4gVGhpcyBzYW1wbGVyIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnNcbiAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBTYW1wbGVyLmNhbGwodGhpcywgcGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG4gIFxuICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTYW1wbGVyO1xuICBcbiAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpe1xuICAgIHJldHVybiBbIG5ldyBBbXdnU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgXTtcbiAgfTtcbiAgXG4gIFxuICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlXG4gIHJldHVybiB7XG4gICAgcnVuaWY6IHJ1bmlmLFxuICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSxcbiAgICBybm9ybTogcm5vcm0sXG4gICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwgXG4gICAgY29tcGxldGVfcGFyYW1zOiBjb21wbGV0ZV9wYXJhbXMsIFxuICAgIFJlYWxNZXRyb3BvbGlzU3RlcHBlcjogUmVhbE1ldHJvcG9saXNTdGVwcGVyLCBcbiAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsIFxuICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjogTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwgXG4gICAgQmluYXJ5Q29tcG9uZW50U3RlcHBlcjogQmluYXJ5Q29tcG9uZW50U3RlcHBlciwgXG4gICAgQW13Z1N0ZXBwZXI6IEFtd2dTdGVwcGVyLCBcbiAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXJcbiAgfTtcbn0pKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBudW1iZXIoeCkge1xuICByZXR1cm4geCA9PT0gbnVsbCA/IE5hTiA6ICt4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIG51bWJlcnModmFsdWVzLCB2YWx1ZW9mKSB7XG4gIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICh2YWx1ZSA9ICt2YWx1ZSkgPj0gdmFsdWUpIHtcbiAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBhc2NlbmRpbmcgZnJvbSBcIi4vYXNjZW5kaW5nLmpzXCI7XG5pbXBvcnQgcGVybXV0ZSBmcm9tIFwiLi9wZXJtdXRlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvcnQodmFsdWVzLCAuLi5GKSB7XG4gIGlmICh0eXBlb2YgdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0gIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbHVlcyBpcyBub3QgaXRlcmFibGVcIik7XG4gIHZhbHVlcyA9IEFycmF5LmZyb20odmFsdWVzKTtcbiAgbGV0IFtmXSA9IEY7XG4gIGlmICgoZiAmJiBmLmxlbmd0aCAhPT0gMikgfHwgRi5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKGQsIGkpID0+IGkpO1xuICAgIGlmIChGLmxlbmd0aCA+IDEpIHtcbiAgICAgIEYgPSBGLm1hcChmID0+IHZhbHVlcy5tYXAoZikpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgRikge1xuICAgICAgICAgIGNvbnN0IGMgPSBhc2NlbmRpbmdEZWZpbmVkKGZbaV0sIGZbal0pO1xuICAgICAgICAgIGlmIChjKSByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGYgPSB2YWx1ZXMubWFwKGYpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4gYXNjZW5kaW5nRGVmaW5lZChmW2ldLCBmW2pdKSk7XG4gICAgfVxuICAgIHJldHVybiBwZXJtdXRlKHZhbHVlcywgaW5kZXgpO1xuICB9XG4gIHJldHVybiB2YWx1ZXMuc29ydChjb21wYXJlRGVmaW5lZChmKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nKSB7XG4gIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmcpIHJldHVybiBhc2NlbmRpbmdEZWZpbmVkO1xuICBpZiAodHlwZW9mIGNvbXBhcmUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGNvbnN0IHggPSBjb21wYXJlKGEsIGIpO1xuICAgIGlmICh4IHx8IHggPT09IDApIHJldHVybiB4O1xuICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHtcbiAgcmV0dXJuIChhID09IG51bGwgfHwgIShhID49IGEpKSAtIChiID09IG51bGwgfHwgIShiID49IGIpKSB8fCAoYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF4KHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWF4O1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWluO1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWluO1xufVxuIiwiaW1wb3J0IHthc2NlbmRpbmdEZWZpbmVkLCBjb21wYXJlRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdFxuLy8gSVNDIGxpY2Vuc2UsIENvcHlyaWdodCAyMDE4IFZsYWRpbWlyIEFnYWZvbmtpbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1aWNrc2VsZWN0KGFycmF5LCBrLCBsZWZ0ID0gMCwgcmlnaHQgPSBJbmZpbml0eSwgY29tcGFyZSkge1xuICBrID0gTWF0aC5mbG9vcihrKTtcbiAgbGVmdCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgbGVmdCkpO1xuICByaWdodCA9IE1hdGguZmxvb3IoTWF0aC5taW4oYXJyYXkubGVuZ3RoIC0gMSwgcmlnaHQpKTtcblxuICBpZiAoIShsZWZ0IDw9IGsgJiYgayA8PSByaWdodCkpIHJldHVybiBhcnJheTtcblxuICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpO1xuXG4gIHdoaWxlIChyaWdodCA+IGxlZnQpIHtcbiAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICBjb25zdCBuID0gcmlnaHQgLSBsZWZ0ICsgMTtcbiAgICAgIGNvbnN0IG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7XG4gICAgICBjb25zdCBzID0gMC41ICogTWF0aC5leHAoMiAqIHogLyAzKTtcbiAgICAgIGNvbnN0IHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICBjb25zdCBuZXdSaWdodCA9IE1hdGgubWluKHJpZ2h0LCBNYXRoLmZsb29yKGsgKyAobiAtIG0pICogcyAvIG4gKyBzZCkpO1xuICAgICAgcXVpY2tzZWxlY3QoYXJyYXksIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBjb21wYXJlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ID0gYXJyYXlba107XG4gICAgbGV0IGkgPSBsZWZ0O1xuICAgIGxldCBqID0gcmlnaHQ7XG5cbiAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTtcbiAgICBpZiAoY29tcGFyZShhcnJheVtyaWdodF0sIHQpID4gMCkgc3dhcChhcnJheSwgbGVmdCwgcmlnaHQpO1xuXG4gICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICBzd2FwKGFycmF5LCBpLCBqKSwgKytpLCAtLWo7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtpXSwgdCkgPCAwKSArK2k7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtcbiAgICBlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpO1xuXG4gICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHtcbiAgY29uc3QgdCA9IGFycmF5W2ldO1xuICBhcnJheVtpXSA9IGFycmF5W2pdO1xuICBhcnJheVtqXSA9IHQ7XG59XG4iLCJpbXBvcnQgbWF4IGZyb20gXCIuL21heC5qc1wiO1xuaW1wb3J0IG1heEluZGV4IGZyb20gXCIuL21heEluZGV4LmpzXCI7XG5pbXBvcnQgbWluIGZyb20gXCIuL21pbi5qc1wiO1xuaW1wb3J0IG1pbkluZGV4IGZyb20gXCIuL21pbkluZGV4LmpzXCI7XG5pbXBvcnQgcXVpY2tzZWxlY3QgZnJvbSBcIi4vcXVpY2tzZWxlY3QuanNcIjtcbmltcG9ydCBudW1iZXIsIHtudW1iZXJzfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmltcG9ydCB7YXNjZW5kaW5nRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IGdyZWF0ZXN0IGZyb20gXCIuL2dyZWF0ZXN0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YW50aWxlKHZhbHVlcywgcCwgdmFsdWVvZikge1xuICB2YWx1ZXMgPSBGbG9hdDY0QXJyYXkuZnJvbShudW1iZXJzKHZhbHVlcywgdmFsdWVvZikpO1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gbWluKHZhbHVlcyk7XG4gIGlmIChwID49IDEpIHJldHVybiBtYXgodmFsdWVzKTtcbiAgdmFyIG4sXG4gICAgICBpID0gKG4gLSAxKSAqIHAsXG4gICAgICBpMCA9IE1hdGguZmxvb3IoaSksXG4gICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksXG4gICAgICB2YWx1ZTEgPSBtaW4odmFsdWVzLnN1YmFycmF5KGkwICsgMSkpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlU29ydGVkKHZhbHVlcywgcCwgdmFsdWVvZiA9IG51bWJlcikge1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzWzBdLCAwLCB2YWx1ZXMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzW24gLSAxXSwgbiAtIDEsIHZhbHVlcyk7XG4gIHZhciBuLFxuICAgICAgaSA9IChuIC0gMSkgKiBwLFxuICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLFxuICAgICAgdmFsdWUwID0gK3ZhbHVlb2YodmFsdWVzW2kwXSwgaTAsIHZhbHVlcyksXG4gICAgICB2YWx1ZTEgPSArdmFsdWVvZih2YWx1ZXNbaTAgKyAxXSwgaTAgKyAxLCB2YWx1ZXMpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlSW5kZXgodmFsdWVzLCBwLCB2YWx1ZW9mID0gbnVtYmVyKSB7XG4gIGlmIChpc05hTihwID0gK3ApKSByZXR1cm47XG4gIG51bWJlcnMgPSBGbG9hdDY0QXJyYXkuZnJvbSh2YWx1ZXMsIChfLCBpKSA9PiBudW1iZXIodmFsdWVvZih2YWx1ZXNbaV0sIGksIHZhbHVlcykpKTtcbiAgaWYgKHAgPD0gMCkgcmV0dXJuIG1pbkluZGV4KG51bWJlcnMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gbWF4SW5kZXgobnVtYmVycyk7XG4gIHZhciBudW1iZXJzLFxuICAgICAgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKF8sIGkpID0+IGkpLFxuICAgICAgaiA9IG51bWJlcnMubGVuZ3RoIC0gMSxcbiAgICAgIGkgPSBNYXRoLmZsb29yKGogKiBwKTtcbiAgcXVpY2tzZWxlY3QoaW5kZXgsIGksIDAsIGosIChpLCBqKSA9PiBhc2NlbmRpbmdEZWZpbmVkKG51bWJlcnNbaV0sIG51bWJlcnNbal0pKTtcbiAgaSA9IGdyZWF0ZXN0KGluZGV4LnN1YmFycmF5KDAsIGkgKyAxKSwgKGkpID0+IG51bWJlcnNbaV0pO1xuICByZXR1cm4gaSA+PSAwID8gaSA6IC0xO1xufVxuIiwiaW1wb3J0IHF1YW50aWxlLCB7cXVhbnRpbGVJbmRleH0gZnJvbSBcIi4vcXVhbnRpbGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVkaWFuKHZhbHVlcywgdmFsdWVvZikge1xuICByZXR1cm4gcXVhbnRpbGUodmFsdWVzLCAwLjUsIHZhbHVlb2YpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFuSW5kZXgodmFsdWVzLCB2YWx1ZW9mKSB7XG4gIHJldHVybiBxdWFudGlsZUluZGV4KHZhbHVlcywgMC41LCB2YWx1ZW9mKTtcbn1cbiIsInZhciBub29wID0ge3ZhbHVlOiAoKSA9PiB7fX07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkge1xuICAgIGlmICghKHQgPSBhcmd1bWVudHNbaV0gKyBcIlwiKSB8fCAodCBpbiBfKSB8fCAvW1xccy5dLy50ZXN0KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHR5cGU6IFwiICsgdCk7XG4gICAgX1t0XSA9IFtdO1xuICB9XG4gIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7XG59XG5cbmZ1bmN0aW9uIERpc3BhdGNoKF8pIHtcbiAgdGhpcy5fID0gXztcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzLCB0eXBlcykge1xuICByZXR1cm4gdHlwZW5hbWVzLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbmFtZSA9IFwiXCIsIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIG5hbWUgPSB0LnNsaWNlKGkgKyAxKSwgdCA9IHQuc2xpY2UoMCwgaSk7XG4gICAgaWYgKHQgJiYgIXR5cGVzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdCk7XG4gICAgcmV0dXJuIHt0eXBlOiB0LCBuYW1lOiBuYW1lfTtcbiAgfSk7XG59XG5cbkRpc3BhdGNoLnByb3RvdHlwZSA9IGRpc3BhdGNoLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IERpc3BhdGNoLFxuICBvbjogZnVuY3Rpb24odHlwZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF8gPSB0aGlzLl8sXG4gICAgICAgIFQgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIsIF8pLFxuICAgICAgICB0LFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSBULmxlbmd0aDtcblxuICAgIC8vIElmIG5vIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJldHVybiB0aGUgY2FsbGJhY2sgb2YgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB3aGlsZSAoKytpIDwgbikgaWYgKCh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgJiYgKHQgPSBnZXQoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHR5cGUgd2FzIHNwZWNpZmllZCwgc2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsYmFjazogXCIgKyBjYWxsYmFjayk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGlmICh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBjYWxsYmFjayk7XG4gICAgICBlbHNlIGlmIChjYWxsYmFjayA9PSBudWxsKSBmb3IgKHQgaW4gXykgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvcHkgPSB7fSwgXyA9IHRoaXMuXztcbiAgICBmb3IgKHZhciB0IGluIF8pIGNvcHlbdF0gPSBfW3RdLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTtcbiAgfSxcbiAgY2FsbDogZnVuY3Rpb24odHlwZSwgdGhhdCkge1xuICAgIGlmICgobiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyKSA+IDApIGZvciAodmFyIGFyZ3MgPSBuZXcgQXJyYXkobiksIGkgPSAwLCBuLCB0OyBpIDwgbjsgKytpKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHR5cGUsIHRoYXQsIGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodmFyIHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldCh0eXBlLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGgsIGM7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHR5cGUsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAodHlwZVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICB0eXBlW2ldID0gbm9vcCwgdHlwZSA9IHR5cGUuc2xpY2UoMCwgaSkuY29uY2F0KHR5cGUuc2xpY2UoaSArIDEpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTogY2FsbGJhY2t9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3BhdGNoO1xuIiwiZXhwb3J0IHZhciB4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB4aHRtbDogeGh0bWwsXG4gIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgeG1sOiBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiXG59O1xuIiwiaW1wb3J0IG5hbWVzcGFjZXMgZnJvbSBcIi4vbmFtZXNwYWNlcy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBwcmVmaXggPSBuYW1lICs9IFwiXCIsIGkgPSBwcmVmaXguaW5kZXhPZihcIjpcIik7XG4gIGlmIChpID49IDAgJiYgKHByZWZpeCA9IG5hbWUuc2xpY2UoMCwgaSkpICE9PSBcInhtbG5zXCIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTtcbiAgcmV0dXJuIG5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSA/IHtzcGFjZTogbmFtZXNwYWNlc1twcmVmaXhdLCBsb2NhbDogbmFtZX0gOiBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xufVxuIiwiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi9uYW1lc3BhY2UuanNcIjtcbmltcG9ydCB7eGh0bWx9IGZyb20gXCIuL25hbWVzcGFjZXMuanNcIjtcblxuZnVuY3Rpb24gY3JlYXRvckluaGVyaXQobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gdGhpcy5vd25lckRvY3VtZW50LFxuICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTtcbiAgICByZXR1cm4gdXJpID09PSB4aHRtbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSB4aHRtbFxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModXJpLCBuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRvckZpeGVkKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIChmdWxsbmFtZS5sb2NhbFxuICAgICAgPyBjcmVhdG9yRml4ZWRcbiAgICAgIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIG5vbmUoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IG5vbmUgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgIT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gc2VsZWN0b3Ioc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBzdWJub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkge1xuICAgICAgICBpZiAoXCJfX2RhdGFfX1wiIGluIG5vZGUpIHN1Ym5vZGUuX19kYXRhX18gPSBub2RlLl9fZGF0YV9fO1xuICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsIi8vIEdpdmVuIHNvbWV0aGluZyBhcnJheSBsaWtlIChvciBudWxsKSwgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBpcyBzdHJpY3RseSBhblxuLy8gYXJyYXkuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBhcnJheS1saWtlIG9iamVjdHMgcGFzc2VkIHRvIGQzLnNlbGVjdEFsbFxuLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGFcbi8vIHNlbGVjdGlvbjsgd2UgZG9u4oCZdCBldmVyIHdhbnQgdG8gY3JlYXRlIGEgc2VsZWN0aW9uIGJhY2tlZCBieSBhIGxpdmVcbi8vIEhUTUxDb2xsZWN0aW9uIG9yIE5vZGVMaXN0LiBIb3dldmVyLCBub3RlIHRoYXQgc2VsZWN0aW9uLnNlbGVjdEFsbCB3aWxsIHVzZSBhXG4vLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXkoeCkge1xuICByZXR1cm4geCA9PSBudWxsID8gW10gOiBBcnJheS5pc0FycmF5KHgpID8geCA6IEFycmF5LmZyb20oeCk7XG59XG4iLCJmdW5jdGlvbiBlbXB0eSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IGVtcHR5IDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIH07XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBhcnJheSBmcm9tIFwiLi4vYXJyYXkuanNcIjtcbmltcG9ydCBzZWxlY3RvckFsbCBmcm9tIFwiLi4vc2VsZWN0b3JBbGwuanNcIjtcblxuZnVuY3Rpb24gYXJyYXlBbGwoc2VsZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYXJyYXkoc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgPT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gYXJyYXlBbGwoc2VsZWN0KTtcbiAgZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IFtdLCBwYXJlbnRzID0gW10sIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSk7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHBhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRNYXRjaGVyKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH07XG59XG5cbiIsImltcG9ydCB7Y2hpbGRNYXRjaGVyfSBmcm9tIFwiLi4vbWF0Y2hlci5qc1wiO1xuXG52YXIgZmluZCA9IEFycmF5LnByb3RvdHlwZS5maW5kO1xuXG5mdW5jdGlvbiBjaGlsZEZpbmQobWF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmaW5kLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjaGlsZEZpcnN0KCkge1xuICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0XG4gICAgICA6IGNoaWxkRmluZCh0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpO1xufVxuIiwiaW1wb3J0IHtjaGlsZE1hdGNoZXJ9IGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbnZhciBmaWx0ZXIgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyO1xuXG5mdW5jdGlvbiBjaGlsZHJlbigpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuRmlsdGVyKG1hdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuXG4gICAgICA6IGNoaWxkcmVuRmlsdGVyKHR5cGVvZiBtYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBtYXRjaGVyIGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIGlmICh0eXBlb2YgbWF0Y2ggIT09IFwiZnVuY3Rpb25cIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHtcbiAgICAgICAgc3ViZ3JvdXAucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXBkYXRlKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7XG59XG4iLCJpbXBvcnQgc3BhcnNlIGZyb20gXCIuL3NwYXJzZS5qc1wiO1xuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRW50ZXJOb2RlKHBhcmVudCwgZGF0dW0pIHtcbiAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHRoaXMubmFtZXNwYWNlVVJJID0gcGFyZW50Lm5hbWVzcGFjZVVSSTtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fX2RhdGFfXyA9IGRhdHVtO1xufVxuXG5FbnRlck5vZGUucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRW50ZXJOb2RlLFxuICBhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHRoaXMuX25leHQpOyB9LFxuICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKGNoaWxkLCBuZXh0KSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBuZXh0KTsgfSxcbiAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsgfSxcbiAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQge0VudGVyTm9kZX0gZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgbm9kZSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBmaXQgaW50byB1cGRhdGUuXG4gIC8vIFB1dCBhbnkgbnVsbCBub2RlcyBpbnRvIGVudGVyLlxuICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuXG4gIGZvciAoOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZG9u4oCZdCBmaXQgaW50byBleGl0LlxuICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmluZEtleShwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhLCBrZXkpIHtcbiAgdmFyIGksXG4gICAgICBub2RlLFxuICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwLFxuICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICBrZXlWYWx1ZXMgPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpLFxuICAgICAga2V5VmFsdWU7XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIG5vZGUuXG4gIC8vIElmIG11bHRpcGxlIG5vZGVzIGhhdmUgdGhlIHNhbWUga2V5LCB0aGUgZHVwbGljYXRlcyBhcmUgYWRkZWQgdG8gZXhpdC5cbiAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBrZXlWYWx1ZXNbaV0gPSBrZXlWYWx1ZSA9IGtleS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSArIFwiXCI7XG4gICAgICBpZiAobm9kZUJ5S2V5VmFsdWUuaGFzKGtleVZhbHVlKSkge1xuICAgICAgICBleGl0W2ldID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVCeUtleVZhbHVlLnNldChrZXlWYWx1ZSwgbm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIGRhdHVtLlxuICAvLyBJZiB0aGVyZSBhIG5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMga2V5LCBqb2luIGFuZCBhZGQgaXQgdG8gdXBkYXRlLlxuICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuXG4gIGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyArK2kpIHtcbiAgICBrZXlWYWx1ZSA9IGtleS5jYWxsKHBhcmVudCwgZGF0YVtpXSwgaSwgZGF0YSkgKyBcIlwiO1xuICAgIGlmIChub2RlID0gbm9kZUJ5S2V5VmFsdWUuZ2V0KGtleVZhbHVlKSkge1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgbm9kZUJ5S2V5VmFsdWUuZGVsZXRlKGtleVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIGFueSByZW1haW5pbmcgbm9kZXMgdGhhdCB3ZXJlIG5vdCBib3VuZCB0byBkYXRhIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkpIHtcbiAgICAgIGV4aXRbaV0gPSBub2RlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkYXR1bShub2RlKSB7XG4gIHJldHVybiBub2RlLl9fZGF0YV9fO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIEFycmF5LmZyb20odGhpcywgZGF0dW0pO1xuXG4gIHZhciBiaW5kID0ga2V5ID8gYmluZEtleSA6IGJpbmRJbmRleCxcbiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLFxuICAgICAgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSBjb25zdGFudCh2YWx1ZSk7XG5cbiAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgdmFyIHBhcmVudCA9IHBhcmVudHNbal0sXG4gICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLFxuICAgICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgICAgZGF0YSA9IGFycmF5bGlrZSh2YWx1ZS5jYWxsKHBhcmVudCwgcGFyZW50ICYmIHBhcmVudC5fX2RhdGFfXywgaiwgcGFyZW50cykpLFxuICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgIGVudGVyR3JvdXAgPSBlbnRlcltqXSA9IG5ldyBBcnJheShkYXRhTGVuZ3RoKSxcbiAgICAgICAgdXBkYXRlR3JvdXAgPSB1cGRhdGVbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpO1xuXG4gICAgYmluZChwYXJlbnQsIGdyb3VwLCBlbnRlckdyb3VwLCB1cGRhdGVHcm91cCwgZXhpdEdyb3VwLCBkYXRhLCBrZXkpO1xuXG4gICAgLy8gTm93IGNvbm5lY3QgdGhlIGVudGVyIG5vZGVzIHRvIHRoZWlyIGZvbGxvd2luZyB1cGRhdGUgbm9kZSwgc3VjaCB0aGF0XG4gICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSxcbiAgICAvLyByYXRoZXIgdGhhbiBhdCB0aGUgZW5kIG9mIHRoZSBwYXJlbnQgbm9kZS5cbiAgICBmb3IgKHZhciBpMCA9IDAsIGkxID0gMCwgcHJldmlvdXMsIG5leHQ7IGkwIDwgZGF0YUxlbmd0aDsgKytpMCkge1xuICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHtcbiAgICAgICAgaWYgKGkwID49IGkxKSBpMSA9IGkwICsgMTtcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IHVwZGF0ZUdyb3VwW2kxXSkgJiYgKytpMSA8IGRhdGFMZW5ndGgpO1xuICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUgPSBuZXcgU2VsZWN0aW9uKHVwZGF0ZSwgcGFyZW50cyk7XG4gIHVwZGF0ZS5fZW50ZXIgPSBlbnRlcjtcbiAgdXBkYXRlLl9leGl0ID0gZXhpdDtcbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuLy8gR2l2ZW4gc29tZSBkYXRhLCB0aGlzIHJldHVybnMgYW4gYXJyYXktbGlrZSB2aWV3IG9mIGl0OiBhbiBvYmplY3QgdGhhdFxuLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2Vcbi8vIHNlbGVjdEFsbCwgdGhpcyBpc27igJl0IHdvcnJpZWQgYWJvdXQg4oCcbGl2ZeKAnSBjb2xsZWN0aW9ucyBiZWNhdXNlIHRoZSByZXN1bHRpbmdcbi8vIGFycmF5IHdpbGwgb25seSBiZSB1c2VkIGJyaWVmbHkgd2hpbGUgZGF0YSBpcyBiZWluZyBib3VuZC4gKEl0IGlzIHBvc3NpYmxlIHRvXG4vLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlXG4vLyBkb27igJl0OyB3ZeKAmWQgcmF0aGVyIGF2b2lkIGEgZ3JhdHVpdG91cyBjb3B5LilcbmZ1bmN0aW9uIGFycmF5bGlrZShkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImxlbmd0aFwiIGluIGRhdGFcbiAgICA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlXG4gICAgOiBBcnJheS5mcm9tKGRhdGEpOyAvLyBNYXAsIFNldCwgaXRlcmFibGUsIHN0cmluZywgb3IgYW55dGhpbmcgZWxzZVxufVxuIiwiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2UuanNcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZXhpdCB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob25lbnRlciwgb251cGRhdGUsIG9uZXhpdCkge1xuICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksIHVwZGF0ZSA9IHRoaXMsIGV4aXQgPSB0aGlzLmV4aXQoKTtcbiAgaWYgKHR5cGVvZiBvbmVudGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpO1xuICAgIGlmIChlbnRlcikgZW50ZXIgPSBlbnRlci5zZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgXCJcIik7XG4gIH1cbiAgaWYgKG9udXBkYXRlICE9IG51bGwpIHtcbiAgICB1cGRhdGUgPSBvbnVwZGF0ZSh1cGRhdGUpO1xuICAgIGlmICh1cGRhdGUpIHVwZGF0ZSA9IHVwZGF0ZS5zZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAob25leGl0ID09IG51bGwpIGV4aXQucmVtb3ZlKCk7IGVsc2Ugb25leGl0KGV4aXQpO1xuICByZXR1cm4gZW50ZXIgJiYgdXBkYXRlID8gZW50ZXIubWVyZ2UodXBkYXRlKS5vcmRlcigpIDogdXBkYXRlO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHNlbGVjdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gLTEsIG0gPSBncm91cHMubGVuZ3RoOyArK2ogPCBtOykge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgaWYgKG5leHQgJiYgbm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0KSBeIDQpIG5leHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCk7XG4gICAgICAgIG5leHQgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVOb2RlKGEsIGIpIHtcbiAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzb3J0Z3JvdXAgPSBzb3J0Z3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzb3J0Z3JvdXBzLCB0aGlzLl9wYXJlbnRzKS5vcmRlcigpO1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzBdO1xuICBhcmd1bWVudHNbMF0gPSB0aGlzO1xuICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICB2YXIgbm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG5vZGUpIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIGxldCBzaXplID0gMDtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMubm9kZSgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgbmFtZXNwYWNlIGZyb20gXCIuLi9uYW1lc3BhY2UuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgcmV0dXJuIGZ1bGxuYW1lLmxvY2FsXG4gICAgICAgID8gbm9kZS5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpXG4gICAgICAgIDogbm9kZS5nZXRBdHRyaWJ1dGUoZnVsbG5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbilcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKSkoZnVsbG5hbWUsIHZhbHVlKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiAobm9kZS5vd25lckRvY3VtZW50ICYmIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgLy8gbm9kZSBpcyBhIE5vZGVcbiAgICAgIHx8IChub2RlLmRvY3VtZW50ICYmIG5vZGUpIC8vIG5vZGUgaXMgYSBXaW5kb3dcbiAgICAgIHx8IG5vZGUuZGVmYXVsdFZpZXc7IC8vIG5vZGUgaXMgYSBEb2N1bWVudFxufVxuIiwiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3cuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2LCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICA/IHN0eWxlUmVtb3ZlIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gc3R5bGVGdW5jdGlvblxuICAgICAgICAgICAgOiBzdHlsZUNvbnN0YW50KShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpXG4gICAgICA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVWYWx1ZShub2RlLCBuYW1lKSB7XG4gIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSlcbiAgICAgIHx8IGRlZmF1bHRWaWV3KG5vZGUpLmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIHByb3BlcnR5UmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzW25hbWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSBkZWxldGUgdGhpc1tuYW1lXTtcbiAgICBlbHNlIHRoaXNbbmFtZV0gPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBwcm9wZXJ0eUZ1bmN0aW9uXG4gICAgICAgICAgOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpW25hbWVdO1xufVxuIiwiZnVuY3Rpb24gY2xhc3NBcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XFxzKy8pO1xufVxuXG5mdW5jdGlvbiBjbGFzc0xpc3Qobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHtcbiAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gIHRoaXMuX25hbWVzID0gY2xhc3NBcnJheShub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpO1xufVxuXG5DbGFzc0xpc3QucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5fbmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICBjb250YWluczogZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNsYXNzZWRBZGQobm9kZSwgbmFtZXMpIHtcbiAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5yZW1vdmUobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkVHJ1ZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZEFkZCh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGdW5jdGlvbihuYW1lcywgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICh2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpID8gY2xhc3NlZEFkZCA6IGNsYXNzZWRSZW1vdmUpKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIG5hbWVzID0gY2xhc3NBcnJheShuYW1lICsgXCJcIik7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIGxpc3QgPSBjbGFzc0xpc3QodGhpcy5ub2RlKCkpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gICAgd2hpbGUgKCsraSA8IG4pIGlmICghbGlzdC5jb250YWlucyhuYW1lc1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGNsYXNzZWRGdW5jdGlvbiA6IHZhbHVlXG4gICAgICA/IGNsYXNzZWRUcnVlXG4gICAgICA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7XG59XG4iLCJmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkge1xuICB0aGlzLnRleHRDb250ZW50ID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHRleHRGdW5jdGlvblxuICAgICAgICAgIDogdGV4dENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50O1xufVxuIiwiZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHtcbiAgdGhpcy5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBodG1sQ29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdiA9PSBudWxsID8gXCJcIiA6IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBodG1sUmVtb3ZlIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBodG1sRnVuY3Rpb25cbiAgICAgICAgICA6IGh0bWxDb25zdGFudCkodmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJmdW5jdGlvbiByYWlzZSgpIHtcbiAgaWYgKHRoaXMubmV4dFNpYmxpbmcpIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmFpc2UpO1xufVxuIiwiZnVuY3Rpb24gbG93ZXIoKSB7XG4gIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTtcbn1cbiIsImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGVuZENoaWxkKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgY3JlYXRvciBmcm9tIFwiLi4vY3JlYXRvci5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5mdW5jdGlvbiBjb25zdGFudE51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBiZWZvcmUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSxcbiAgICAgIHNlbGVjdCA9IGJlZm9yZSA9PSBudWxsID8gY29uc3RhbnROdWxsIDogdHlwZW9mIGJlZm9yZSA9PT0gXCJmdW5jdGlvblwiID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwiZnVuY3Rpb24gcmVtb3ZlKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJlbW92ZSk7XG59XG4iLCJmdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZShmYWxzZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKHRydWUpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWVwKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChkZWVwID8gc2VsZWN0aW9uX2Nsb25lRGVlcCA6IHNlbGVjdGlvbl9jbG9uZVNoYWxsb3cpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5wcm9wZXJ0eShcIl9fZGF0YV9fXCIsIHZhbHVlKVxuICAgICAgOiB0aGlzLm5vZGUoKS5fX2RhdGFfXztcbn1cbiIsImZ1bmN0aW9uIGNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0aGlzLl9fZGF0YV9fKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25SZW1vdmUodHlwZW5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbiA9IHRoaXMuX19vbjtcbiAgICBpZiAoIW9uKSByZXR1cm47XG4gICAgZm9yICh2YXIgaiA9IDAsIGkgPSAtMSwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgaWYgKG8gPSBvbltqXSwgKCF0eXBlbmFtZS50eXBlIHx8IG8udHlwZSA9PT0gdHlwZW5hbWUudHlwZSkgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblsrK2ldID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCsraSkgb24ubGVuZ3RoID0gaTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9fb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uLCBvLCBsaXN0ZW5lciA9IGNvbnRleHRMaXN0ZW5lcih2YWx1ZSk7XG4gICAgaWYgKG9uKSBmb3IgKHZhciBqID0gMCwgbSA9IG9uLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIgPSBsaXN0ZW5lciwgby5vcHRpb25zID0gb3B0aW9ucyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZW5hbWUudHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIG8gPSB7dHlwZTogdHlwZW5hbWUudHlwZSwgbmFtZTogdHlwZW5hbWUubmFtZSwgdmFsdWU6IHZhbHVlLCBsaXN0ZW5lcjogbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnN9O1xuICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtcbiAgICBlbHNlIG9uLnB1c2gobyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdHlwZW5hbWVzID0gcGFyc2VUeXBlbmFtZXModHlwZW5hbWUgKyBcIlwiKSwgaSwgbiA9IHR5cGVuYW1lcy5sZW5ndGgsIHQ7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIG9uID0gdGhpcy5ub2RlKCkuX19vbjtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBmb3IgKGkgPSAwLCBvID0gb25bal07IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKCh0ID0gdHlwZW5hbWVzW2ldKS50eXBlID09PSBvLnR5cGUgJiYgdC5uYW1lID09PSBvLm5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gby52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBvbiA9IHZhbHVlID8gb25BZGQgOiBvblJlbW92ZTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkgdGhpcy5lYWNoKG9uKHR5cGVuYW1lc1tpXSwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvdy5qc1wiO1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykge1xuICB2YXIgd2luZG93ID0gZGVmYXVsdFZpZXcobm9kZSksXG4gICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBldmVudCA9IG5ldyBldmVudCh0eXBlLCBwYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgaWYgKHBhcmFtcykgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSksIGV2ZW50LmRldGFpbCA9IHBhcmFtcy5kZXRhaWw7XG4gICAgZWxzZSBldmVudC5pbml0RXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29uc3RhbnQodHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCB0eXBlLCBwYXJhbXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGRpc3BhdGNoRnVuY3Rpb25cbiAgICAgIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiooKSB7XG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB5aWVsZCBub2RlO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGwuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQgZnJvbSBcIi4vc2VsZWN0Q2hpbGQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gZnJvbSBcIi4vc2VsZWN0Q2hpbGRyZW4uanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXRhIGZyb20gXCIuL2RhdGEuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW50ZXIgZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZXhpdCBmcm9tIFwiLi9leGl0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2pvaW4gZnJvbSBcIi4vam9pbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vcmRlciBmcm9tIFwiLi9vcmRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zb3J0IGZyb20gXCIuL3NvcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2FsbCBmcm9tIFwiLi9jYWxsLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGVzIGZyb20gXCIuL25vZGVzLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGUgZnJvbSBcIi4vbm9kZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zaXplIGZyb20gXCIuL3NpemUuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW1wdHkgZnJvbSBcIi4vZW1wdHkuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZWFjaCBmcm9tIFwiLi9lYWNoLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9wcm9wZXJ0eSBmcm9tIFwiLi9wcm9wZXJ0eS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbGFzc2VkIGZyb20gXCIuL2NsYXNzZWQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2h0bWwgZnJvbSBcIi4vaHRtbC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9yYWlzZSBmcm9tIFwiLi9yYWlzZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9sb3dlciBmcm9tIFwiLi9sb3dlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9hcHBlbmQgZnJvbSBcIi4vYXBwZW5kLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2luc2VydCBmcm9tIFwiLi9pbnNlcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbG9uZSBmcm9tIFwiLi9jbG9uZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXR1bSBmcm9tIFwiLi9kYXR1bS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kaXNwYXRjaCBmcm9tIFwiLi9kaXNwYXRjaC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9pdGVyYXRvciBmcm9tIFwiLi9pdGVyYXRvci5qc1wiO1xuXG5leHBvcnQgdmFyIHJvb3QgPSBbbnVsbF07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWxlY3Rpb24oZ3JvdXBzLCBwYXJlbnRzKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufVxuXG5TZWxlY3Rpb24ucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNlbGVjdGlvbixcbiAgc2VsZWN0OiBzZWxlY3Rpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHNlbGVjdGlvbl9zZWxlY3RBbGwsXG4gIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsXG4gIHNlbGVjdENoaWxkcmVuOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogc2VsZWN0aW9uX2ZpbHRlcixcbiAgZGF0YTogc2VsZWN0aW9uX2RhdGEsXG4gIGVudGVyOiBzZWxlY3Rpb25fZW50ZXIsXG4gIGV4aXQ6IHNlbGVjdGlvbl9leGl0LFxuICBqb2luOiBzZWxlY3Rpb25fam9pbixcbiAgbWVyZ2U6IHNlbGVjdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiBzZWxlY3Rpb25fc2VsZWN0aW9uLFxuICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLFxuICBzb3J0OiBzZWxlY3Rpb25fc29ydCxcbiAgY2FsbDogc2VsZWN0aW9uX2NhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX2VhY2gsXG4gIGF0dHI6IHNlbGVjdGlvbl9hdHRyLFxuICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLFxuICBwcm9wZXJ0eTogc2VsZWN0aW9uX3Byb3BlcnR5LFxuICBjbGFzc2VkOiBzZWxlY3Rpb25fY2xhc3NlZCxcbiAgdGV4dDogc2VsZWN0aW9uX3RleHQsXG4gIGh0bWw6IHNlbGVjdGlvbl9odG1sLFxuICByYWlzZTogc2VsZWN0aW9uX3JhaXNlLFxuICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLFxuICBhcHBlbmQ6IHNlbGVjdGlvbl9hcHBlbmQsXG4gIGluc2VydDogc2VsZWN0aW9uX2luc2VydCxcbiAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLFxuICBjbG9uZTogc2VsZWN0aW9uX2Nsb25lLFxuICBkYXR1bTogc2VsZWN0aW9uX2RhdHVtLFxuICBvbjogc2VsZWN0aW9uX29uLFxuICBkaXNwYXRjaDogc2VsZWN0aW9uX2Rpc3BhdGNoLFxuICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX2l0ZXJhdG9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb247XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pXFxcXHMqXCIsXG4gICAgcmVQID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pJVxcXFxzKlwiLFxuICAgIHJlSGV4ID0gL14jKFswLTlhLWZdezMsOH0pJC8sXG4gICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX1cXFxcKSRgKSxcbiAgICByZVJnYlBlcmNlbnQgPSBuZXcgUmVnRXhwKGBecmdiXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKGBecmdiYVxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFxcXCkkYCksXG4gICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfSwke3JlTn1cXFxcKSRgKSxcbiAgICByZUhzbFBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsXFxcXCgke3JlTn0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlSHNsYVBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsYVxcXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFxcXCkkYCk7XG5cbnZhciBuYW1lZCA9IHtcbiAgYWxpY2VibHVlOiAweGYwZjhmZixcbiAgYW50aXF1ZXdoaXRlOiAweGZhZWJkNyxcbiAgYXF1YTogMHgwMGZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0LFxuICBhenVyZTogMHhmMGZmZmYsXG4gIGJlaWdlOiAweGY1ZjVkYyxcbiAgYmlzcXVlOiAweGZmZTRjNCxcbiAgYmxhY2s6IDB4MDAwMDAwLFxuICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsXG4gIGJsdWU6IDB4MDAwMGZmLFxuICBibHVldmlvbGV0OiAweDhhMmJlMixcbiAgYnJvd246IDB4YTUyYTJhLFxuICBidXJseXdvb2Q6IDB4ZGViODg3LFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwLFxuICBjaGFydHJldXNlOiAweDdmZmYwMCxcbiAgY2hvY29sYXRlOiAweGQyNjkxZSxcbiAgY29yYWw6IDB4ZmY3ZjUwLFxuICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsXG4gIGNvcm5zaWxrOiAweGZmZjhkYyxcbiAgY3JpbXNvbjogMHhkYzE0M2MsXG4gIGN5YW46IDB4MDBmZmZmLFxuICBkYXJrYmx1ZTogMHgwMDAwOGIsXG4gIGRhcmtjeWFuOiAweDAwOGI4YixcbiAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsXG4gIGRhcmtncmF5OiAweGE5YTlhOSxcbiAgZGFya2dyZWVuOiAweDAwNjQwMCxcbiAgZGFya2dyZXk6IDB4YTlhOWE5LFxuICBkYXJra2hha2k6IDB4YmRiNzZiLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGIsXG4gIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZixcbiAgZGFya29yYW5nZTogMHhmZjhjMDAsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjLFxuICBkYXJrcmVkOiAweDhiMDAwMCxcbiAgZGFya3NhbG1vbjogMHhlOTk2N2EsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGYsXG4gIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLFxuICBkYXJrc2xhdGVncmF5OiAweDJmNGY0ZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGYsXG4gIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLFxuICBkYXJrdmlvbGV0OiAweDk0MDBkMyxcbiAgZGVlcHBpbms6IDB4ZmYxNDkzLFxuICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsXG4gIGRpbWdyYXk6IDB4Njk2OTY5LFxuICBkaW1ncmV5OiAweDY5Njk2OSxcbiAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsXG4gIGZpcmVicmljazogMHhiMjIyMjIsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMCxcbiAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLFxuICBmdWNoc2lhOiAweGZmMDBmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkYyxcbiAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsXG4gIGdvbGQ6IDB4ZmZkNzAwLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwLFxuICBncmF5OiAweDgwODA4MCxcbiAgZ3JlZW46IDB4MDA4MDAwLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmYsXG4gIGdyZXk6IDB4ODA4MDgwLFxuICBob25leWRldzogMHhmMGZmZjAsXG4gIGhvdHBpbms6IDB4ZmY2OWI0LFxuICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLFxuICBpbmRpZ286IDB4NGIwMDgyLFxuICBpdm9yeTogMHhmZmZmZjAsXG4gIGtoYWtpOiAweGYwZTY4YyxcbiAgbGF2ZW5kZXI6IDB4ZTZlNmZhLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNSxcbiAgbGF3bmdyZWVuOiAweDdjZmMwMCxcbiAgbGVtb25jaGlmZm9uOiAweGZmZmFjZCxcbiAgbGlnaHRibHVlOiAweGFkZDhlNixcbiAgbGlnaHRjb3JhbDogMHhmMDgwODAsXG4gIGxpZ2h0Y3lhbjogMHhlMGZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMixcbiAgbGlnaHRncmF5OiAweGQzZDNkMyxcbiAgbGlnaHRncmVlbjogMHg5MGVlOTAsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDMsXG4gIGxpZ2h0cGluazogMHhmZmI2YzEsXG4gIGxpZ2h0c2FsbW9uOiAweGZmYTA3YSxcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWEsXG4gIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsXG4gIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxuICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsXG4gIGxpZ2h0eWVsbG93OiAweGZmZmZlMCxcbiAgbGltZTogMHgwMGZmMDAsXG4gIGxpbWVncmVlbjogMHgzMmNkMzIsXG4gIGxpbmVuOiAweGZhZjBlNixcbiAgbWFnZW50YTogMHhmZjAwZmYsXG4gIG1hcm9vbjogMHg4MDAwMDAsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZjZGFhLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZCxcbiAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMyxcbiAgbWVkaXVtcHVycGxlOiAweDkzNzBkYixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxLFxuICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLFxuICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMGZhOWEsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2MsXG4gIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsXG4gIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmEsXG4gIG1pc3R5cm9zZTogMHhmZmU0ZTEsXG4gIG1vY2Nhc2luOiAweGZmZTRiNSxcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkLFxuICBuYXZ5OiAweDAwMDA4MCxcbiAgb2xkbGFjZTogMHhmZGY1ZTYsXG4gIG9saXZlOiAweDgwODAwMCxcbiAgb2xpdmVkcmFiOiAweDZiOGUyMyxcbiAgb3JhbmdlOiAweGZmYTUwMCxcbiAgb3JhbmdlcmVkOiAweGZmNDUwMCxcbiAgb3JjaGlkOiAweGRhNzBkNixcbiAgcGFsZWdvbGRlbnJvZDogMHhlZWU4YWEsXG4gIHBhbGVncmVlbjogMHg5OGZiOTgsXG4gIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLFxuICBwYWxldmlvbGV0cmVkOiAweGRiNzA5MyxcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDUsXG4gIHBlYWNocHVmZjogMHhmZmRhYjksXG4gIHBlcnU6IDB4Y2Q4NTNmLFxuICBwaW5rOiAweGZmYzBjYixcbiAgcGx1bTogMHhkZGEwZGQsXG4gIHBvd2RlcmJsdWU6IDB4YjBlMGU2LFxuICBwdXJwbGU6IDB4ODAwMDgwLFxuICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcbiAgcmVkOiAweGZmMDAwMCxcbiAgcm9zeWJyb3duOiAweGJjOGY4ZixcbiAgcm95YWxibHVlOiAweDQxNjllMSxcbiAgc2FkZGxlYnJvd246IDB4OGI0NTEzLFxuICBzYWxtb246IDB4ZmE4MDcyLFxuICBzYW5keWJyb3duOiAweGY0YTQ2MCxcbiAgc2VhZ3JlZW46IDB4MmU4YjU3LFxuICBzZWFzaGVsbDogMHhmZmY1ZWUsXG4gIHNpZW5uYTogMHhhMDUyMmQsXG4gIHNpbHZlcjogMHhjMGMwYzAsXG4gIHNreWJsdWU6IDB4ODdjZWViLFxuICBzbGF0ZWJsdWU6IDB4NmE1YWNkLFxuICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxuICBzbm93OiAweGZmZmFmYSxcbiAgc3ByaW5nZ3JlZW46IDB4MDBmZjdmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0LFxuICB0YW46IDB4ZDJiNDhjLFxuICB0ZWFsOiAweDAwODA4MCxcbiAgdGhpc3RsZTogMHhkOGJmZDgsXG4gIHRvbWF0bzogMHhmZjYzNDcsXG4gIHR1cnF1b2lzZTogMHg0MGUwZDAsXG4gIHZpb2xldDogMHhlZTgyZWUsXG4gIHdoZWF0OiAweGY1ZGViMyxcbiAgd2hpdGU6IDB4ZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNSxcbiAgeWVsbG93OiAweGZmZmYwMCxcbiAgeWVsbG93Z3JlZW46IDB4OWFjZDMyXG59O1xuXG5kZWZpbmUoQ29sb3IsIGNvbG9yLCB7XG4gIGNvcHkoY2hhbm5lbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvciwgdGhpcywgY2hhbm5lbHMpO1xuICB9LFxuICBkaXNwbGF5YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhleDg6IGNvbG9yX2Zvcm1hdEhleDgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleDgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkge1xuICByZXR1cm4gaHNsQ29udmVydCh0aGlzKS5mb3JtYXRIc2woKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0UmdiKCkge1xuICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRSZ2IoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29sb3IoZm9ybWF0KSB7XG4gIHZhciBtLCBsO1xuICBmb3JtYXQgPSAoZm9ybWF0ICsgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwXG4gICAgICA6IGwgPT09IDMgPyBuZXcgUmdiKChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZiksIDEpIC8vICNmMDBcbiAgICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwXG4gICAgICA6IGwgPT09IDQgPyByZ2JhKChtID4+IDEyICYgMHhmKSB8IChtID4+IDggJiAweGYwKSwgKG0gPj4gOCAmIDB4ZikgfCAobSA+PiA0ICYgMHhmMCksIChtID4+IDQgJiAweGYpIHwgKG0gJiAweGYwKSwgKCgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZikpIC8gMHhmZikgLy8gI2YwMDBcbiAgICAgIDogbnVsbCkgLy8gaW52YWxpZCBoZXhcbiAgICAgIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMClcbiAgICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSlcbiAgICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKVxuICAgICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSlcbiAgICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpXG4gICAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpXG4gICAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICA6IGZvcm1hdCA9PT0gXCJ0cmFuc3BhcmVudFwiID8gbmV3IFJnYihOYU4sIE5hTiwgTmFOLCAwKVxuICAgICAgOiBudWxsO1xufVxuXG5mdW5jdGlvbiByZ2JuKG4pIHtcbiAgcmV0dXJuIG5ldyBSZ2IobiA+PiAxNiAmIDB4ZmYsIG4gPj4gOCAmIDB4ZmYsIG4gJiAweGZmLCAxKTtcbn1cblxuZnVuY3Rpb24gcmdiYShyLCBnLCBiLCBhKSB7XG4gIGlmIChhIDw9IDApIHIgPSBnID0gYiA9IE5hTjtcbiAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JDb252ZXJ0KG8pIHtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgUmdiO1xuICBvID0gby5yZ2IoKTtcbiAgcmV0dXJuIG5ldyBSZ2Ioby5yLCBvLmcsIG8uYiwgby5vcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gcmdiQ29udmVydChyKSA6IG5ldyBSZ2IociwgZywgYiwgb3BhY2l0eSA9PSBudWxsID8gMSA6IG9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmdiKHIsIGcsIGIsIG9wYWNpdHkpIHtcbiAgdGhpcy5yID0gK3I7XG4gIHRoaXMuZyA9ICtnO1xuICB0aGlzLmIgPSArYjtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShSZ2IsIHJnYiwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGNsYW1wKCkge1xuICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTtcbiAgfSxcbiAgZGlzcGxheWFibGUoKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCxcbiAgZm9ybWF0UmdiOiByZ2JfZm9ybWF0UmdiLFxuICB0b1N0cmluZzogcmdiX2Zvcm1hdFJnYlxufSkpO1xuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4KCkge1xuICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gO1xufVxuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHtcbiAgcmV0dXJuIGAjJHtoZXgodGhpcy5yKX0ke2hleCh0aGlzLmcpfSR7aGV4KHRoaXMuYil9JHtoZXgoKGlzTmFOKHRoaXMub3BhY2l0eSkgPyAxIDogdGhpcy5vcGFjaXR5KSAqIDI1NSl9YDtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICByZXR1cm4gYCR7YSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwifSR7Y2xhbXBpKHRoaXMucil9LCAke2NsYW1waSh0aGlzLmcpfSwgJHtjbGFtcGkodGhpcy5iKX0ke2EgPT09IDEgPyBcIilcIiA6IGAsICR7YX0pYH1gO1xufVxuXG5mdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkge1xuICByZXR1cm4gaXNOYU4ob3BhY2l0eSkgPyAxIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgb3BhY2l0eSkpO1xufVxuXG5mdW5jdGlvbiBjbGFtcGkodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh2YWx1ZSkgfHwgMCkpO1xufVxuXG5mdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgdmFsdWUgPSBjbGFtcGkodmFsdWUpO1xuICByZXR1cm4gKHZhbHVlIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgdmFsdWUudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHtcbiAgaWYgKGEgPD0gMCkgaCA9IHMgPSBsID0gTmFOO1xuICBlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtcbiAgZWxzZSBpZiAocyA8PSAwKSBoID0gTmFOO1xuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbENvbnZlcnQobykge1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgSHNsO1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG87XG4gIG8gPSBvLnJnYigpO1xuICB2YXIgciA9IG8uciAvIDI1NSxcbiAgICAgIGcgPSBvLmcgLyAyNTUsXG4gICAgICBiID0gby5iIC8gMjU1LFxuICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgIGggPSBOYU4sXG4gICAgICBzID0gbWF4IC0gbWluLFxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKHMpIHtcbiAgICBpZiAociA9PT0gbWF4KSBoID0gKGcgLSBiKSAvIHMgKyAoZyA8IGIpICogNjtcbiAgICBlbHNlIGlmIChnID09PSBtYXgpIGggPSAoYiAtIHIpIC8gcyArIDI7XG4gICAgZWxzZSBoID0gKHIgLSBnKSAvIHMgKyA0O1xuICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47XG4gICAgaCAqPSA2MDtcbiAgfSBlbHNlIHtcbiAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDtcbiAgfVxuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBoc2xDb252ZXJ0KGgpIDogbmV3IEhzbChoLCBzLCBsLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmZ1bmN0aW9uIEhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHRoaXMuaCA9ICtoO1xuICB0aGlzLnMgPSArcztcbiAgdGhpcy5sID0gK2w7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXIoaykge1xuICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgdmFyIGggPSB0aGlzLmggJSAzNjAgKyAodGhpcy5oIDwgMCkgKiAzNjAsXG4gICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucyxcbiAgICAgICAgbCA9IHRoaXMubCxcbiAgICAgICAgbTIgPSBsICsgKGwgPCAwLjUgPyBsIDogMSAtIGwpICogcyxcbiAgICAgICAgbTEgPSAyICogbCAtIG0yO1xuICAgIHJldHVybiBuZXcgUmdiKFxuICAgICAgaHNsMnJnYihoID49IDI0MCA/IGggLSAyNDAgOiBoICsgMTIwLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksXG4gICAgICB0aGlzLm9wYWNpdHlcbiAgICApO1xuICB9LFxuICBjbGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IEhzbChjbGFtcGgodGhpcy5oKSwgY2xhbXB0KHRoaXMucyksIGNsYW1wdCh0aGlzLmwpLCBjbGFtcGEodGhpcy5vcGFjaXR5KSk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlKCkge1xuICAgIHJldHVybiAoMCA8PSB0aGlzLnMgJiYgdGhpcy5zIDw9IDEgfHwgaXNOYU4odGhpcy5zKSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5sICYmIHRoaXMubCA8PSAxKVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBmb3JtYXRIc2woKSB7XG4gICAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICAgIHJldHVybiBgJHthID09PSAxID8gXCJoc2woXCIgOiBcImhzbGEoXCJ9JHtjbGFtcGgodGhpcy5oKX0sICR7Y2xhbXB0KHRoaXMucykgKiAxMDB9JSwgJHtjbGFtcHQodGhpcy5sKSAqIDEwMH0lJHthID09PSAxID8gXCIpXCIgOiBgLCAke2F9KWB9YDtcbiAgfVxufSkpO1xuXG5mdW5jdGlvbiBjbGFtcGgodmFsdWUpIHtcbiAgdmFsdWUgPSAodmFsdWUgfHwgMCkgJSAzNjA7XG4gIHJldHVybiB2YWx1ZSA8IDAgPyB2YWx1ZSArIDM2MCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjbGFtcHQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTtcbn1cblxuLyogRnJvbSBGdkQgMTMuMzcsIENTUyBDb2xvciBNb2R1bGUgTGV2ZWwgMyAqL1xuZnVuY3Rpb24gaHNsMnJnYihoLCBtMSwgbTIpIHtcbiAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MFxuICAgICAgOiBoIDwgMTgwID8gbTJcbiAgICAgIDogaCA8IDI0MCA/IG0xICsgKG0yIC0gbTEpICogKDI0MCAtIGgpIC8gNjBcbiAgICAgIDogbTEpICogMjU1O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgeCA9PiAoKSA9PiB4O1xuIiwiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGxpbmVhcihhLCBkKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKyB0ICogZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwb25lbnRpYWwoYSwgYiwgeSkge1xuICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coYSArIHQgKiBiLCB5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQgPiAxODAgfHwgZCA8IC0xODAgPyBkIC0gMzYwICogTWF0aC5yb3VuZChkIC8gMzYwKSA6IGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYSh5KSB7XG4gIHJldHVybiAoeSA9ICt5KSA9PT0gMSA/IG5vZ2FtbWEgOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIgLSBhID8gZXhwb25lbnRpYWwoYSwgYiwgeSkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9nYW1tYShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG4iLCJpbXBvcnQge3JnYiBhcyBjb2xvclJnYn0gZnJvbSBcImQzLWNvbG9yXCI7XG5pbXBvcnQgYmFzaXMgZnJvbSBcIi4vYmFzaXMuanNcIjtcbmltcG9ydCBiYXNpc0Nsb3NlZCBmcm9tIFwiLi9iYXNpc0Nsb3NlZC5qc1wiO1xuaW1wb3J0IG5vZ2FtbWEsIHtnYW1tYX0gZnJvbSBcIi4vY29sb3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHtcbiAgdmFyIGNvbG9yID0gZ2FtbWEoeSk7XG5cbiAgZnVuY3Rpb24gcmdiKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IGNvbG9yUmdiKHN0YXJ0KSkuciwgKGVuZCA9IGNvbG9yUmdiKGVuZCkpLnIpLFxuICAgICAgICBnID0gY29sb3Ioc3RhcnQuZywgZW5kLmcpLFxuICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLFxuICAgICAgICBvcGFjaXR5ID0gbm9nYW1tYShzdGFydC5vcGFjaXR5LCBlbmQub3BhY2l0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHN0YXJ0LnIgPSByKHQpO1xuICAgICAgc3RhcnQuZyA9IGcodCk7XG4gICAgICBzdGFydC5iID0gYih0KTtcbiAgICAgIHN0YXJ0Lm9wYWNpdHkgPSBvcGFjaXR5KHQpO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgcmdiLmdhbW1hID0gcmdiR2FtbWE7XG5cbiAgcmV0dXJuIHJnYjtcbn0pKDEpO1xuXG5mdW5jdGlvbiByZ2JTcGxpbmUoc3BsaW5lKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xvcnMpIHtcbiAgICB2YXIgbiA9IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgIHIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGcgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGksIGNvbG9yO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbG9yID0gY29sb3JSZ2IoY29sb3JzW2ldKTtcbiAgICAgIHJbaV0gPSBjb2xvci5yIHx8IDA7XG4gICAgICBnW2ldID0gY29sb3IuZyB8fCAwO1xuICAgICAgYltpXSA9IGNvbG9yLmIgfHwgMDtcbiAgICB9XG4gICAgciA9IHNwbGluZShyKTtcbiAgICBnID0gc3BsaW5lKGcpO1xuICAgIGIgPSBzcGxpbmUoYik7XG4gICAgY29sb3Iub3BhY2l0eSA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGNvbG9yLnIgPSByKHQpO1xuICAgICAgY29sb3IuZyA9IGcodCk7XG4gICAgICBjb2xvci5iID0gYih0KTtcbiAgICAgIHJldHVybiBjb2xvciArIFwiXCI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciByZ2JCYXNpcyA9IHJnYlNwbGluZShiYXNpcyk7XG5leHBvcnQgdmFyIHJnYkJhc2lzQ2xvc2VkID0gcmdiU3BsaW5lKGJhc2lzQ2xvc2VkKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKiAoMSAtIHQpICsgYiAqIHQ7XG4gIH07XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuL251bWJlci5qc1wiO1xuXG52YXIgcmVBID0gL1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLFxuICAgIHJlQiA9IG5ldyBSZWdFeHAocmVBLnNvdXJjZSwgXCJnXCIpO1xuXG5mdW5jdGlvbiB6ZXJvKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBiO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbmUoYikge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBiKHQpICsgXCJcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYmkgPSByZUEubGFzdEluZGV4ID0gcmVCLmxhc3RJbmRleCA9IDAsIC8vIHNjYW4gaW5kZXggZm9yIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGFtLCAvLyBjdXJyZW50IG1hdGNoIGluIGFcbiAgICAgIGJtLCAvLyBjdXJyZW50IG1hdGNoIGluIGJcbiAgICAgIGJzLCAvLyBzdHJpbmcgcHJlY2VkaW5nIGN1cnJlbnQgbnVtYmVyIGluIGIsIGlmIGFueVxuICAgICAgaSA9IC0xLCAvLyBpbmRleCBpbiBzXG4gICAgICBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuXG4gIC8vIENvZXJjZSBpbnB1dHMgdG8gc3RyaW5ncy5cbiAgYSA9IGEgKyBcIlwiLCBiID0gYiArIFwiXCI7XG5cbiAgLy8gSW50ZXJwb2xhdGUgcGFpcnMgb2YgbnVtYmVycyBpbiBhICYgYi5cbiAgd2hpbGUgKChhbSA9IHJlQS5leGVjKGEpKVxuICAgICAgJiYgKGJtID0gcmVCLmV4ZWMoYikpKSB7XG4gICAgaWYgKChicyA9IGJtLmluZGV4KSA+IGJpKSB7IC8vIGEgc3RyaW5nIHByZWNlZGVzIHRoZSBuZXh0IG51bWJlciBpbiBiXG4gICAgICBicyA9IGIuc2xpY2UoYmksIGJzKTtcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBicztcbiAgICB9XG4gICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7IC8vIG51bWJlcnMgaW4gYSAmIGIgbWF0Y2hcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBibTtcbiAgICB9IGVsc2UgeyAvLyBpbnRlcnBvbGF0ZSBub24tbWF0Y2hpbmcgbnVtYmVyc1xuICAgICAgc1srK2ldID0gbnVsbDtcbiAgICAgIHEucHVzaCh7aTogaSwgeDogbnVtYmVyKGFtLCBibSl9KTtcbiAgICB9XG4gICAgYmkgPSByZUIubGFzdEluZGV4O1xuICB9XG5cbiAgLy8gQWRkIHJlbWFpbnMgb2YgYi5cbiAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICBicyA9IGIuc2xpY2UoYmkpO1xuICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gIH1cblxuICAvLyBTcGVjaWFsIG9wdGltaXphdGlvbiBmb3Igb25seSBhIHNpbmdsZSBtYXRjaC5cbiAgLy8gT3RoZXJ3aXNlLCBpbnRlcnBvbGF0ZSBlYWNoIG9mIHRoZSBudW1iZXJzIGFuZCByZWpvaW4gdGhlIHN0cmluZy5cbiAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IChxWzBdXG4gICAgICA/IG9uZShxWzBdLngpXG4gICAgICA6IHplcm8oYikpXG4gICAgICA6IChiID0gcS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xufVxuIiwidmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJO1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0ge1xuICB0cmFuc2xhdGVYOiAwLFxuICB0cmFuc2xhdGVZOiAwLFxuICByb3RhdGU6IDAsXG4gIHNrZXdYOiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgc2NhbGVYLCBzY2FsZVksIHNrZXdYO1xuICBpZiAoc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpKSBhIC89IHNjYWxlWCwgYiAvPSBzY2FsZVg7XG4gIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDtcbiAgaWYgKHNjYWxlWSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKSkgYyAvPSBzY2FsZVksIGQgLz0gc2NhbGVZLCBza2V3WCAvPSBzY2FsZVk7XG4gIGlmIChhICogZCA8IGIgKiBjKSBhID0gLWEsIGIgPSAtYiwgc2tld1ggPSAtc2tld1gsIHNjYWxlWCA9IC1zY2FsZVg7XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZSxcbiAgICB0cmFuc2xhdGVZOiBmLFxuICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsXG4gICAgc2tld1g6IE1hdGguYXRhbihza2V3WCkgKiBkZWdyZWVzLFxuICAgIHNjYWxlWDogc2NhbGVYLFxuICAgIHNjYWxlWTogc2NhbGVZXG4gIH07XG59XG4iLCJpbXBvcnQgZGVjb21wb3NlLCB7aWRlbnRpdHl9IGZyb20gXCIuL2RlY29tcG9zZS5qc1wiO1xuXG52YXIgc3ZnTm9kZTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNzcyh2YWx1ZSkge1xuICBjb25zdCBtID0gbmV3ICh0eXBlb2YgRE9NTWF0cml4ID09PSBcImZ1bmN0aW9uXCIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgXCJcIik7XG4gIHJldHVybiBtLmlzSWRlbnRpdHkgPyBpZGVudGl0eSA6IGRlY29tcG9zZShtLmEsIG0uYiwgbS5jLCBtLmQsIG0uZSwgbS5mKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3ZnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gaWRlbnRpdHk7XG4gIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdmFsdWUpO1xuICBpZiAoISh2YWx1ZSA9IHN2Z05vZGUudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKSkpIHJldHVybiBpZGVudGl0eTtcbiAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7XG4gIHJldHVybiBkZWNvbXBvc2UodmFsdWUuYSwgdmFsdWUuYiwgdmFsdWUuYywgdmFsdWUuZCwgdmFsdWUuZSwgdmFsdWUuZik7XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuLi9udW1iZXIuanNcIjtcbmltcG9ydCB7cGFyc2VDc3MsIHBhcnNlU3ZnfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZSwgcHhDb21tYSwgcHhQYXJlbiwgZGVnUGFyZW4pIHtcblxuICBmdW5jdGlvbiBwb3Aocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA/IHMucG9wKCkgKyBcIiBcIiA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2goXCJ0cmFuc2xhdGUoXCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiB8fCB5Yikge1xuICAgICAgcy5wdXNoKFwidHJhbnNsYXRlKFwiICsgeGIgKyBweENvbW1hICsgeWIgKyBweFBhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSAtIGIgPiAxODApIGIgKz0gMzYwOyBlbHNlIGlmIChiIC0gYSA+IDE4MCkgYSArPSAzNjA7IC8vIHNob3J0ZXN0IHBhdGhcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiLCBudWxsLCBcIixcIiwgbnVsbCwgXCIpXCIpO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiAhPT0gMSB8fCB5YiAhPT0gMSkge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIgKyB4YiArIFwiLFwiICsgeWIgKyBcIilcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuICAgIGEgPSBwYXJzZShhKSwgYiA9IHBhcnNlKGIpO1xuICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpO1xuICAgIHJvdGF0ZShhLnJvdGF0ZSwgYi5yb3RhdGUsIHMsIHEpO1xuICAgIHNrZXdYKGEuc2tld1gsIGIuc2tld1gsIHMsIHEpO1xuICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTtcbiAgICBhID0gYiA9IG51bGw7IC8vIGdjXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBpID0gLTEsIG4gPSBxLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZUNzcywgXCJweCwgXCIsIFwicHgpXCIsIFwiZGVnKVwiKTtcbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZVN2ZywgXCIsIFwiLCBcIilcIiwgXCIpXCIpO1xuIiwidmFyIGZyYW1lID0gMCwgLy8gaXMgYW4gYW5pbWF0aW9uIGZyYW1lIHBlbmRpbmc/XG4gICAgdGltZW91dCA9IDAsIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nP1xuICAgIGludGVydmFsID0gMCwgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlP1xuICAgIHBva2VEZWxheSA9IDEwMDAsIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3XG4gICAgdGFza0hlYWQsXG4gICAgdGFza1RhaWwsXG4gICAgY2xvY2tMYXN0ID0gMCxcbiAgICBjbG9ja05vdyA9IDAsXG4gICAgY2xvY2tTa2V3ID0gMCxcbiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJvYmplY3RcIiAmJiBwZXJmb3JtYW5jZS5ub3cgPyBwZXJmb3JtYW5jZSA6IERhdGUsXG4gICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSA6IGZ1bmN0aW9uKGYpIHsgc2V0VGltZW91dChmLCAxNyk7IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBjbG9ja05vdyB8fCAoc2V0RnJhbWUoY2xlYXJOb3cpLCBjbG9ja05vdyA9IGNsb2NrLm5vdygpICsgY2xvY2tTa2V3KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOb3coKSB7XG4gIGNsb2NrTm93ID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVyKCkge1xuICB0aGlzLl9jYWxsID1cbiAgdGhpcy5fdGltZSA9XG4gIHRoaXMuX25leHQgPSBudWxsO1xufVxuXG5UaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUaW1lcixcbiAgcmVzdGFydDogZnVuY3Rpb24oY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgdGltZSA9ICh0aW1lID09IG51bGwgPyBub3coKSA6ICt0aW1lKSArIChkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheSk7XG4gICAgaWYgKCF0aGlzLl9uZXh0ICYmIHRhc2tUYWlsICE9PSB0aGlzKSB7XG4gICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztcbiAgICAgIGVsc2UgdGFza0hlYWQgPSB0aGlzO1xuICAgICAgdGFza1RhaWwgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9jYWxsID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgc2xlZXAoKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2NhbGwpIHtcbiAgICAgIHRoaXMuX2NhbGwgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5O1xuICAgICAgc2xlZXAoKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7XG4gIG5vdygpOyAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSwgaWYgbm90IGFscmVhZHkgc2V0LlxuICArK2ZyYW1lOyAvLyBQcmV0ZW5kIHdl4oCZdmUgc2V0IGFuIGFsYXJtLCBpZiB3ZSBoYXZlbuKAmXQgYWxyZWFkeS5cbiAgdmFyIHQgPSB0YXNrSGVhZCwgZTtcbiAgd2hpbGUgKHQpIHtcbiAgICBpZiAoKGUgPSBjbG9ja05vdyAtIHQuX3RpbWUpID49IDApIHQuX2NhbGwuY2FsbCh1bmRlZmluZWQsIGUpO1xuICAgIHQgPSB0Ll9uZXh0O1xuICB9XG4gIC0tZnJhbWU7XG59XG5cbmZ1bmN0aW9uIHdha2UoKSB7XG4gIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldztcbiAgZnJhbWUgPSB0aW1lb3V0ID0gMDtcbiAgdHJ5IHtcbiAgICB0aW1lckZsdXNoKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZnJhbWUgPSAwO1xuICAgIG5hcCgpO1xuICAgIGNsb2NrTm93ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2tlKCkge1xuICB2YXIgbm93ID0gY2xvY2subm93KCksIGRlbGF5ID0gbm93IC0gY2xvY2tMYXN0O1xuICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93O1xufVxuXG5mdW5jdGlvbiBuYXAoKSB7XG4gIHZhciB0MCwgdDEgPSB0YXNrSGVhZCwgdDIsIHRpbWUgPSBJbmZpbml0eTtcbiAgd2hpbGUgKHQxKSB7XG4gICAgaWYgKHQxLl9jYWxsKSB7XG4gICAgICBpZiAodGltZSA+IHQxLl90aW1lKSB0aW1lID0gdDEuX3RpbWU7XG4gICAgICB0MCA9IHQxLCB0MSA9IHQxLl9uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9IHQxLl9uZXh0LCB0MS5fbmV4dCA9IG51bGw7XG4gICAgICB0MSA9IHQwID8gdDAuX25leHQgPSB0MiA6IHRhc2tIZWFkID0gdDI7XG4gICAgfVxuICB9XG4gIHRhc2tUYWlsID0gdDA7XG4gIHNsZWVwKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gIGlmIChmcmFtZSkgcmV0dXJuOyAvLyBTb29uZXN0IGFsYXJtIGFscmVhZHkgc2V0LCBvciB3aWxsIGJlLlxuICBpZiAodGltZW91dCkgdGltZW91dCA9IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy5cbiAgaWYgKGRlbGF5ID4gMjQpIHtcbiAgICBpZiAodGltZSA8IEluZmluaXR5KSB0aW1lb3V0ID0gc2V0VGltZW91dCh3YWtlLCB0aW1lIC0gY2xvY2subm93KCkgLSBjbG9ja1NrZXcpO1xuICAgIGlmIChpbnRlcnZhbCkgaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWludGVydmFsKSBjbG9ja0xhc3QgPSBjbG9jay5ub3coKSwgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwb2tlLCBwb2tlRGVsYXkpO1xuICAgIGZyYW1lID0gMSwgc2V0RnJhbWUod2FrZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VGltZXJ9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgZGVsYXkgPSBkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheTtcbiAgdC5yZXN0YXJ0KGVsYXBzZWQgPT4ge1xuICAgIHQuc3RvcCgpO1xuICAgIGNhbGxiYWNrKGVsYXBzZWQgKyBkZWxheSk7XG4gIH0sIGRlbGF5LCB0aW1lKTtcbiAgcmV0dXJuIHQ7XG59XG4iLCJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7dGltZXIsIHRpbWVvdXR9IGZyb20gXCJkMy10aW1lclwiO1xuXG52YXIgZW1wdHlPbiA9IGRpc3BhdGNoKFwic3RhcnRcIiwgXCJlbmRcIiwgXCJjYW5jZWxcIiwgXCJpbnRlcnJ1cHRcIik7XG52YXIgZW1wdHlUd2VlbiA9IFtdO1xuXG5leHBvcnQgdmFyIENSRUFURUQgPSAwO1xuZXhwb3J0IHZhciBTQ0hFRFVMRUQgPSAxO1xuZXhwb3J0IHZhciBTVEFSVElORyA9IDI7XG5leHBvcnQgdmFyIFNUQVJURUQgPSAzO1xuZXhwb3J0IHZhciBSVU5OSU5HID0gNDtcbmV4cG9ydCB2YXIgRU5ESU5HID0gNTtcbmV4cG9ydCB2YXIgRU5ERUQgPSA2O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uO1xuICBpZiAoIXNjaGVkdWxlcykgbm9kZS5fX3RyYW5zaXRpb24gPSB7fTtcbiAgZWxzZSBpZiAoaWQgaW4gc2NoZWR1bGVzKSByZXR1cm47XG4gIGNyZWF0ZShub2RlLCBpZCwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaW5kZXg6IGluZGV4LCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgZ3JvdXA6IGdyb3VwLCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgb246IGVtcHR5T24sXG4gICAgdHdlZW46IGVtcHR5VHdlZW4sXG4gICAgdGltZTogdGltaW5nLnRpbWUsXG4gICAgZGVsYXk6IHRpbWluZy5kZWxheSxcbiAgICBkdXJhdGlvbjogdGltaW5nLmR1cmF0aW9uLFxuICAgIGVhc2U6IHRpbWluZy5lYXNlLFxuICAgIHRpbWVyOiBudWxsLFxuICAgIHN0YXRlOiBDUkVBVEVEXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBzY2hlZHVsZWRcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBydW5uaW5nXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gbm9kZS5fX3RyYW5zaXRpb247XG4gIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcihcInRyYW5zaXRpb24gbm90IGZvdW5kXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZShub2RlLCBpZCwgc2VsZikge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICB0d2VlbjtcblxuICAvLyBJbml0aWFsaXplIHRoZSBzZWxmIHRpbWVyIHdoZW4gdGhlIHRyYW5zaXRpb24gaXMgY3JlYXRlZC5cbiAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shXG4gIHNjaGVkdWxlc1tpZF0gPSBzZWxmO1xuICBzZWxmLnRpbWVyID0gdGltZXIoc2NoZWR1bGUsIDAsIHNlbGYudGltZSk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoZWxhcHNlZCkge1xuICAgIHNlbGYuc3RhdGUgPSBTQ0hFRFVMRUQ7XG4gICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpO1xuXG4gICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuXG4gICAgaWYgKHNlbGYuZGVsYXkgPD0gZWxhcHNlZCkgc3RhcnQoZWxhcHNlZCAtIHNlbGYuZGVsYXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoZWxhcHNlZCkge1xuICAgIHZhciBpLCBqLCBuLCBvO1xuXG4gICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdCBTQ0hFRFVMRUQsIHRoZW4gd2UgcHJldmlvdXNseSBlcnJvcmVkIG9uIHN0YXJ0LlxuICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7XG5cbiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7XG4gICAgICBvID0gc2NoZWR1bGVzW2ldO1xuICAgICAgaWYgKG8ubmFtZSAhPT0gc2VsZi5uYW1lKSBjb250aW51ZTtcblxuICAgICAgLy8gV2hpbGUgdGhpcyBlbGVtZW50IGFscmVhZHkgaGFzIGEgc3RhcnRpbmcgdHJhbnNpdGlvbiBkdXJpbmcgdGhpcyBmcmFtZSxcbiAgICAgIC8vIGRlZmVyIHN0YXJ0aW5nIGFuIGludGVycnVwdGluZyB0cmFuc2l0aW9uIHVudGlsIHRoYXQgdHJhbnNpdGlvbiBoYXMgYVxuICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCFcbiAgICAgIGlmIChvLnN0YXRlID09PSBTVEFSVEVEKSByZXR1cm4gdGltZW91dChzdGFydCk7XG5cbiAgICAgIC8vIEludGVycnVwdCB0aGUgYWN0aXZlIHRyYW5zaXRpb24sIGlmIGFueS5cbiAgICAgIGlmIChvLnN0YXRlID09PSBSVU5OSU5HKSB7XG4gICAgICAgIG8uc3RhdGUgPSBFTkRFRDtcbiAgICAgICAgby50aW1lci5zdG9wKCk7XG4gICAgICAgIG8ub24uY2FsbChcImludGVycnVwdFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTtcbiAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIGFueSBwcmUtZW1wdGVkIHRyYW5zaXRpb25zLlxuICAgICAgZWxzZSBpZiAoK2kgPCBpZCkge1xuICAgICAgICBvLnN0YXRlID0gRU5ERUQ7XG4gICAgICAgIG8udGltZXIuc3RvcCgpO1xuICAgICAgICBvLm9uLmNhbGwoXCJjYW5jZWxcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgby5pbmRleCwgby5ncm91cCk7XG4gICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmZXIgdGhlIGZpcnN0IHRpY2sgdG8gZW5kIG9mIHRoZSBjdXJyZW50IGZyYW1lOyBzZWUgZDMvZDMjMTU3Ni5cbiAgICAvLyBOb3RlIHRoZSB0cmFuc2l0aW9uIG1heSBiZSBjYW5jZWxlZCBhZnRlciBzdGFydCBhbmQgYmVmb3JlIHRoZSBmaXJzdCB0aWNrIVxuICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiFcbiAgICAvLyBBc3N1bWluZyB0aGlzIGlzIHN1Y2Nlc3NmdWwsIHN1YnNlcXVlbnQgY2FsbGJhY2tzIGdvIHN0cmFpZ2h0IHRvIHRpY2suXG4gICAgdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSBTVEFSVEVEKSB7XG4gICAgICAgIHNlbGYuc3RhdGUgPSBSVU5OSU5HO1xuICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTtcbiAgICAgICAgdGljayhlbGFwc2VkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC5cbiAgICAvLyBOb3RlIHRoaXMgbXVzdCBiZSBkb25lIGJlZm9yZSB0aGUgdHdlZW4gYXJlIGluaXRpYWxpemVkLlxuICAgIHNlbGYuc3RhdGUgPSBTVEFSVElORztcbiAgICBzZWxmLm9uLmNhbGwoXCJzdGFydFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTtcbiAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gU1RBUlRJTkcpIHJldHVybjsgLy8gaW50ZXJydXB0ZWRcbiAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLlxuICAgIHR3ZWVuID0gbmV3IEFycmF5KG4gPSBzZWxmLnR3ZWVuLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMCwgaiA9IC0xOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkge1xuICAgICAgICB0d2VlblsrK2pdID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgdHdlZW4ubGVuZ3RoID0gaiArIDE7XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrKGVsYXBzZWQpIHtcbiAgICB2YXIgdCA9IGVsYXBzZWQgPCBzZWxmLmR1cmF0aW9uID8gc2VsZi5lYXNlLmNhbGwobnVsbCwgZWxhcHNlZCAvIHNlbGYuZHVyYXRpb24pIDogKHNlbGYudGltZXIucmVzdGFydChzdG9wKSwgc2VsZi5zdGF0ZSA9IEVORElORywgMSksXG4gICAgICAgIGkgPSAtMSxcbiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpO1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIHRoZSBlbmQgZXZlbnQuXG4gICAgaWYgKHNlbGYuc3RhdGUgPT09IEVORElORykge1xuICAgICAgc2VsZi5vbi5jYWxsKFwiZW5kXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApO1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgc2VsZi5zdGF0ZSA9IEVOREVEO1xuICAgIHNlbGYudGltZXIuc3RvcCgpO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdO1xuICAgIGZvciAodmFyIGkgaW4gc2NoZWR1bGVzKSByZXR1cm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247XG4gIH1cbn1cbiIsImltcG9ydCB7U1RBUlRJTkcsIEVORElORywgRU5ERUR9IGZyb20gXCIuL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICBzY2hlZHVsZSxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGVtcHR5ID0gdHJ1ZSxcbiAgICAgIGk7XG5cbiAgaWYgKCFzY2hlZHVsZXMpIHJldHVybjtcblxuICBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyBcIlwiO1xuXG4gIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICBpZiAoKHNjaGVkdWxlID0gc2NoZWR1bGVzW2ldKS5uYW1lICE9PSBuYW1lKSB7IGVtcHR5ID0gZmFsc2U7IGNvbnRpbnVlOyB9XG4gICAgYWN0aXZlID0gc2NoZWR1bGUuc3RhdGUgPiBTVEFSVElORyAmJiBzY2hlZHVsZS5zdGF0ZSA8IEVORElORztcbiAgICBzY2hlZHVsZS5zdGF0ZSA9IEVOREVEO1xuICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTtcbiAgICBzY2hlZHVsZS5vbi5jYWxsKGFjdGl2ZSA/IFwiaW50ZXJydXB0XCIgOiBcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gIH1cblxuICBpZiAoZW1wdHkpIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbn1cbiIsImltcG9ydCBpbnRlcnJ1cHQgZnJvbSBcIi4uL2ludGVycnVwdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHR3ZWVuUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSB0d2VlbjAgPSB0d2VlbjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjEgPSB0d2VlbjEuc2xpY2UoKTtcbiAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHR3ZWVuRnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkge1xuICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpO1xuICAgICAgZm9yICh2YXIgdCA9IHtuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9LCBpID0gMCwgbiA9IHR3ZWVuMS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgdHdlZW4xW2ldID0gdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IG4pIHR3ZWVuMS5wdXNoKHQpO1xuICAgIH1cblxuICAgIHNjaGVkdWxlLnR3ZWVuID0gdHdlZW4xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICBuYW1lICs9IFwiXCI7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2Vlbi5sZW5ndGgsIHQ7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgodCA9IHR3ZWVuW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0LnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHdlZW5WYWx1ZSh0cmFuc2l0aW9uLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDtcblxuICB0cmFuc2l0aW9uLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKTtcbiAgICAoc2NoZWR1bGUudmFsdWUgfHwgKHNjaGVkdWxlLnZhbHVlID0ge30pKVtuYW1lXSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIGdldChub2RlLCBpZCkudmFsdWVbbmFtZV07XG4gIH07XG59XG4iLCJpbXBvcnQge2NvbG9yfSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVOdW1iZXIsIGludGVycG9sYXRlUmdiLCBpbnRlcnBvbGF0ZVN0cmluZ30gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGM7XG4gIHJldHVybiAodHlwZW9mIGIgPT09IFwibnVtYmVyXCIgPyBpbnRlcnBvbGF0ZU51bWJlclxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYlxuICAgICAgOiAoYyA9IGNvbG9yKGIpKSA/IChiID0gYywgaW50ZXJwb2xhdGVSZ2IpXG4gICAgICA6IGludGVycG9sYXRlU3RyaW5nKShhLCBiKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAsIHZhbHVlMSA9IHZhbHVlKHRoaXMpLCBzdHJpbmcxO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLCBpID0gZnVsbG5hbWUgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdGhpcy5hdHRyVHdlZW4obmFtZSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pKGZ1bGxuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwiYXR0ci5cIiArIG5hbWUsIHZhbHVlKSlcbiAgICAgIDogdmFsdWUgPT0gbnVsbCA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpKGZ1bGxuYW1lKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkoZnVsbG5hbWUsIGksIHZhbHVlKSk7XG59XG4iLCJpbXBvcnQge25hbWVzcGFjZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGUobmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZnVuY3Rpb24gYXR0clR3ZWVuKG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIga2V5ID0gXCJhdHRyLlwiICsgbmFtZTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtnZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGRlbGF5RnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPSArdmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGRlbGF5RnVuY3Rpb25cbiAgICAgICAgICA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmRlbGF5O1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZHVyYXRpb25GdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZHVyYXRpb24gPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGR1cmF0aW9uRnVuY3Rpb25cbiAgICAgICAgICA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmR1cmF0aW9uO1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmVhc2U7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHR5cGVvZiB2ICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMuZWFjaChlYXNlVmFyeWluZyh0aGlzLl9pZCwgdmFsdWUpKTtcbn1cbiIsImltcG9ydCB7bWF0Y2hlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0cmFuc2l0aW9uKSB7XG4gIGlmICh0cmFuc2l0aW9uLl9pZCAhPT0gdGhpcy5faWQpIHRocm93IG5ldyBFcnJvcjtcblxuICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gdHJhbnNpdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24obWVyZ2VzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7XG59XG4iLCJpbXBvcnQge2dldCwgc2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBzdGFydChuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykuZXZlcnkoZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gIXQgfHwgdCA9PT0gXCJzdGFydFwiO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG9uMCwgb24xLCBzaXQgPSBzdGFydChuYW1lKSA/IGluaXQgOiBzZXQ7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzaXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKG5hbWUsIGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDJcbiAgICAgID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSlcbiAgICAgIDogdGhpcy5lYWNoKG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSk7XG59XG4iLCJmdW5jdGlvbiByZW1vdmVGdW5jdGlvbihpZCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub24oXCJlbmQucmVtb3ZlXCIsIHJlbW92ZUZ1bmN0aW9uKHRoaXMuX2lkKSk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yQWxsfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPSBjaGlsZHJlbltrXSkge1xuICAgICAgICAgICAgc2NoZWR1bGUoY2hpbGQsIG5hbWUsIGlkLCBrLCBjaGlsZHJlbiwgaW5oZXJpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKGNoaWxkcmVuKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbnZhciBTZWxlY3Rpb24gPSBzZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtzdHlsZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVOdWxsKG5hbWUsIGludGVycG9sYXRlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgc3RyaW5nMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHN0cmluZzEwID0gc3RyaW5nMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksXG4gICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgc3RyaW5nMSA9IHZhbHVlMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciBvbjAsIG9uMSwgbGlzdGVuZXIwLCBrZXkgPSBcInN0eWxlLlwiICsgbmFtZSwgZXZlbnQgPSBcImVuZC5cIiArIGtleSwgcmVtb3ZlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgb24gPSBzY2hlZHVsZS5vbixcbiAgICAgICAgbGlzdGVuZXIgPSBzY2hlZHVsZS52YWx1ZVtrZXldID09IG51bGwgPyByZW1vdmUgfHwgKHJlbW92ZSA9IHN0eWxlUmVtb3ZlKG5hbWUpKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAob24gIT09IG9uMCB8fCBsaXN0ZW5lcjAgIT09IGxpc3RlbmVyKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKGV2ZW50LCBsaXN0ZW5lcjAgPSBsaXN0ZW5lcik7XG5cbiAgICBzY2hlZHVsZS5vbiA9IG9uMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciBpID0gKG5hbWUgKz0gXCJcIikgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIHN0eWxlUmVtb3ZlKG5hbWUpKVxuICAgIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZUZ1bmN0aW9uKG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgXCJzdHlsZS5cIiArIG5hbWUsIHZhbHVlKSkpXG4gICAgICAuZWFjaChzdHlsZU1heWJlUmVtb3ZlKHRoaXMuX2lkLCBuYW1lKSlcbiAgICA6IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIG51bGwpO1xufVxuIiwiZnVuY3Rpb24gc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgaS5jYWxsKHRoaXMsIHQpLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciB0LCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdCA9IChpMCA9IGkpICYmIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIga2V5ID0gXCJzdHlsZS5cIiArIChuYW1lICs9IFwiXCIpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpO1xufVxuIiwiaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUxID0gdmFsdWUodGhpcyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gXCJcIiA6IHZhbHVlMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudHdlZW4oXCJ0ZXh0XCIsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsIFwidGV4dFwiLCB2YWx1ZSkpXG4gICAgICA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIikpO1xufVxuIiwiZnVuY3Rpb24gdGV4dEludGVycG9sYXRlKGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gaS5jYWxsKHRoaXMsIHQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiB0ZXh0SW50ZXJwb2xhdGUoaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBrZXkgPSBcInRleHRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkMCA9IHRoaXMuX2lkLFxuICAgICAgaWQxID0gbmV3SWQoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApO1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZDEsIGksIGdyb3VwLCB7XG4gICAgICAgICAgdGltZTogaW5oZXJpdC50aW1lICsgaW5oZXJpdC5kZWxheSArIGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZWFzZTogaW5oZXJpdC5lYXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkMSk7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBvbjAsIG9uMSwgdGhhdCA9IHRoaXMsIGlkID0gdGhhdC5faWQsIHNpemUgPSB0aGF0LnNpemUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjYW5jZWwgPSB7dmFsdWU6IHJlamVjdH0sXG4gICAgICAgIGVuZCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7IGlmICgtLXNpemUgPT09IDApIHJlc29sdmUoKTsgfX07XG5cbiAgICB0aGF0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgICBpZiAob24gIT09IG9uMCkge1xuICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTtcbiAgICAgICAgb24xLl8uY2FuY2VsLnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uaW50ZXJydXB0LnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTtcbiAgICAgIH1cblxuICAgICAgc2NoZWR1bGUub24gPSBvbjE7XG4gICAgfSk7XG5cbiAgICAvLyBUaGUgc2VsZWN0aW9uIHdhcyBlbXB0eSwgcmVzb2x2ZSBlbmQgaW1tZWRpYXRlbHlcbiAgICBpZiAoc2l6ZSA9PT0gMCkgcmVzb2x2ZSgpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9hdHRyIGZyb20gXCIuL2F0dHIuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2F0dHJUd2VlbiBmcm9tIFwiLi9hdHRyVHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2RlbGF5IGZyb20gXCIuL2RlbGF5LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9kdXJhdGlvbiBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZWFzZSBmcm9tIFwiLi9lYXNlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lYXNlVmFyeWluZyBmcm9tIFwiLi9lYXNlVmFyeWluZy5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fbWVyZ2UgZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX29uIGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9yZW1vdmUgZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3RBbGwgZnJvbSBcIi4vc2VsZWN0QWxsLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3Rpb24gZnJvbSBcIi4vc2VsZWN0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGVUd2VlbiBmcm9tIFwiLi9zdHlsZVR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0IGZyb20gXCIuL3RleHQuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RleHRUd2VlbiBmcm9tIFwiLi90ZXh0VHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdHdlZW4gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2VuZCBmcm9tIFwiLi9lbmQuanNcIjtcblxudmFyIGlkID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zaXRpb24oZ3JvdXBzLCBwYXJlbnRzLCBuYW1lLCBpZCkge1xuICB0aGlzLl9ncm91cHMgPSBncm91cHM7XG4gIHRoaXMuX3BhcmVudHMgPSBwYXJlbnRzO1xuICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgdGhpcy5faWQgPSBpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNpdGlvbihuYW1lKSB7XG4gIHJldHVybiBzZWxlY3Rpb24oKS50cmFuc2l0aW9uKG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3SWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG52YXIgc2VsZWN0aW9uX3Byb3RvdHlwZSA9IHNlbGVjdGlvbi5wcm90b3R5cGU7XG5cblRyYW5zaXRpb24ucHJvdG90eXBlID0gdHJhbnNpdGlvbi5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUcmFuc2l0aW9uLFxuICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHRyYW5zaXRpb25fc2VsZWN0QWxsLFxuICBzZWxlY3RDaGlsZDogc2VsZWN0aW9uX3Byb3RvdHlwZS5zZWxlY3RDaGlsZCxcbiAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogdHJhbnNpdGlvbl9maWx0ZXIsXG4gIG1lcmdlOiB0cmFuc2l0aW9uX21lcmdlLFxuICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLFxuICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uX3RyYW5zaXRpb24sXG4gIGNhbGw6IHNlbGVjdGlvbl9wcm90b3R5cGUuY2FsbCxcbiAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZSxcbiAgc2l6ZTogc2VsZWN0aW9uX3Byb3RvdHlwZS5zaXplLFxuICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX3Byb3RvdHlwZS5lYWNoLFxuICBvbjogdHJhbnNpdGlvbl9vbixcbiAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLFxuICBhdHRyVHdlZW46IHRyYW5zaXRpb25fYXR0clR3ZWVuLFxuICBzdHlsZTogdHJhbnNpdGlvbl9zdHlsZSxcbiAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLFxuICB0ZXh0OiB0cmFuc2l0aW9uX3RleHQsXG4gIHRleHRUd2VlbjogdHJhbnNpdGlvbl90ZXh0VHdlZW4sXG4gIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsXG4gIHR3ZWVuOiB0cmFuc2l0aW9uX3R3ZWVuLFxuICBkZWxheTogdHJhbnNpdGlvbl9kZWxheSxcbiAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sXG4gIGVhc2U6IHRyYW5zaXRpb25fZWFzZSxcbiAgZWFzZVZhcnlpbmc6IHRyYW5zaXRpb25fZWFzZVZhcnlpbmcsXG4gIGVuZDogdHJhbnNpdGlvbl9lbmQsXG4gIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25fcHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsImltcG9ydCB7VHJhbnNpdGlvbiwgbmV3SWR9IGZyb20gXCIuLi90cmFuc2l0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUgZnJvbSBcIi4uL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7ZWFzZUN1YmljSW5PdXR9IGZyb20gXCJkMy1lYXNlXCI7XG5pbXBvcnQge25vd30gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBkZWZhdWx0VGltaW5nID0ge1xuICB0aW1lOiBudWxsLCAvLyBTZXQgb24gdXNlLlxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzZTogZWFzZUN1YmljSW5PdXRcbn07XG5cbmZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHtcbiAgdmFyIHRpbWluZztcbiAgd2hpbGUgKCEodGltaW5nID0gbm9kZS5fX3RyYW5zaXRpb24pIHx8ICEodGltaW5nID0gdGltaW5nW2lkXSkpIHtcbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0cmFuc2l0aW9uICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGltaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBpZCxcbiAgICAgIHRpbWluZztcblxuICBpZiAobmFtZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICBpZCA9IG5hbWUuX2lkLCBuYW1lID0gbmFtZS5fbmFtZTtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IG5ld0lkKCksICh0aW1pbmcgPSBkZWZhdWx0VGltaW5nKS50aW1lID0gbm93KCksIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZCwgaSwgZ3JvdXAsIHRpbWluZyB8fCBpbmhlcml0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCBzZWxlY3Rpb25faW50ZXJydXB0IGZyb20gXCIuL2ludGVycnVwdC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl90cmFuc2l0aW9uIGZyb20gXCIuL3RyYW5zaXRpb24uanNcIjtcblxuc2VsZWN0aW9uLnByb3RvdHlwZS5pbnRlcnJ1cHQgPSBzZWxlY3Rpb25faW50ZXJydXB0O1xuc2VsZWN0aW9uLnByb3RvdHlwZS50cmFuc2l0aW9uID0gc2VsZWN0aW9uX3RyYW5zaXRpb247XG4iLCJleHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHtcbiAgdGhpcy5rID0gaztcbiAgdGhpcy54ID0geDtcbiAgdGhpcy55ID0geTtcbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRyYW5zZm9ybSxcbiAgc2NhbGU6IGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gayA9PT0gMSA/IHRoaXMgOiBuZXcgVHJhbnNmb3JtKHRoaXMuayAqIGssIHRoaXMueCwgdGhpcy55KTtcbiAgfSxcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IDAgJiB5ID09PSAwID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rLCB0aGlzLnggKyB0aGlzLmsgKiB4LCB0aGlzLnkgKyB0aGlzLmsgKiB5KTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldO1xuICB9LFxuICBhcHBseVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCAqIHRoaXMuayArIHRoaXMueDtcbiAgfSxcbiAgYXBwbHlZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkgKiB0aGlzLmsgKyB0aGlzLnk7XG4gIH0sXG4gIGludmVydDogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdO1xuICB9LFxuICBpbnZlcnRYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4IC0gdGhpcy54KSAvIHRoaXMuaztcbiAgfSxcbiAgaW52ZXJ0WTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiAoeSAtIHRoaXMueSkgLyB0aGlzLms7XG4gIH0sXG4gIHJlc2NhbGVYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7XG4gIH0sXG4gIHJlc2NhbGVZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkuY29weSgpLmRvbWFpbih5LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WSwgdGhpcykubWFwKHkuaW52ZXJ0LCB5KSk7XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiKSBzY2FsZShcIiArIHRoaXMuayArIFwiKVwiO1xuICB9XG59O1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0gbmV3IFRyYW5zZm9ybSgxLCAwLCAwKTtcblxudHJhbnNmb3JtLnByb3RvdHlwZSA9IFRyYW5zZm9ybS5wcm90b3R5cGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX3pvb20pIGlmICghKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHJldHVybiBub2RlLl9fem9vbTtcbn1cbiIsIlxuLypcbiAgQ1BUTWF0aCBTdGF0aWMgQ2xhc3MgLSBOb3QgaW50ZW5kZWQgZm9yIGluc3RhbnRpYXRpb24hXG5cbiAgTW9kZWwgUGFyYW1ldGVyczpcbiAgICBhID0gYWxwaGEgKGN1cnZhdHVyZSBmb3IgdmFsdWUgZnVuY3Rpb24pXG4gICAgbCA9IGxhbWJkYSAobG9zcyBhdmVyc2lvbiBmb3IgdmFsdWUgZnVuY3Rpb24pXG4gICAgZyA9IGdhbW1hIChzZW5zaXRpdml0eSBmb3IgZGVjaXNpb24gd2VpZ2h0aW5nIGZ1bmN0aW9uKVxuXG4gIFZhcmlhYmxlczpcbiAgICB4ID0gb2JqZWN0aXZlIHZhbHVlXG4gICAgdiA9IHN1YmplY3RpdmUgdmFsdWVcbiAgICBwID0gb2JqZWN0aXZlIHByb2JhYmlsaXR5XG4gICAgdyA9IHN1YmplY3RpdmUgcHJvYmFiaWxpdHkvZGVjaXNpb24gd2VpZ2h0XG4gICAgdSA9IHN1YmplY3RpdmUgdXRpbGl0eVxuXG4gIEVxdWF0aW9uczpcbiAgICB2ID0gaWYgKHggPj0gMCkgeF5hOyBpZiAoeCA8IDApIC1sICogKC14KV5hXG4gICAgYSA9IGlmICh4ID49IDApIGxvZyh2KSAvIGxvZyh4KTsgaWYgKHggPCAwKSAobG9nKC12KSAtIGxvZyhsKSkgLyBsb2coLXgpXG4gICAgbCA9IGlmICh4ID49IDApIDE7IGlmICh4IDwgMCkgLXYgLyAoLXgpXmFcblxuICAgIHcgPSBwXmcgLyAocF5nICsgKDEgLSBwKV5nKV4oMSAvIGcpXG5cbiAgICB1ID0gU3VtX24odl9uICogd19uKVxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENQVE1hdGgge1xuICBzdGF0aWMgYSA9IHtcbiAgICBERUZBVUxUOiAwLjUsXG4gICAgTUlOOiAwLjAsXG4gICAgTUFYOiAxLjAsXG4gICAgU1RFUDogMC4wMSxcbiAgICBKVU1QOiAwLjA1LFxuICB9O1xuXG4gIHN0YXRpYyBsID0ge1xuICAgIERFRkFVTFQ6IDIuMCxcbiAgICBNSU46IDAuMCxcbiAgICBNQVg6IDEwLjAsXG4gICAgU1RFUDogMC4wMSxcbiAgICBKVU1QOiAwLjA1LFxuICB9O1xuXG4gIHN0YXRpYyBnID0ge1xuICAgIERFRkFVTFQ6IDAuNSxcbiAgICBNSU46IDAuMCxcbiAgICBNQVg6IDEuMCxcbiAgICBTVEVQOiAwLjAxLFxuICAgIEpVTVA6IDAuMDUsXG4gIH07XG5cbiAgc3RhdGljIHhhbDJ2KHgsIGEsIGwpIHtcbiAgICBpZiAoeCA+PSAwKSB7XG4gICAgICByZXR1cm4geCAqKiBhO1xuICAgIH1cbiAgICAvLyBlbHNlICh4IDwgMClcbiAgICByZXR1cm4gLWwgKiAoKC14KSAqKiBhKTtcbiAgfVxuXG4gIHN0YXRpYyB4bHYyYSh4LCBsLCB2KSB7XG4gICAgaWYgKHggPj0gMCkge1xuICAgICAgcmV0dXJuIE1hdGgubG9nKHYpIC8gTWF0aC5sb2coeCk7XG4gICAgfVxuICAgIC8vIGVsc2UgKHggPCAwKVxuICAgIHJldHVybiAoTWF0aC5sb2coLXYpIC0gTWF0aC5sb2cobCkpIC8gTWF0aC5sb2coLXgpO1xuICB9XG5cbiAgc3RhdGljIHhhdjJsKHgsIGEsIHYpIHtcbiAgICBpZiAoeCA+PSAwKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICAvLyBlbHNlICh4IDwgMClcbiAgICByZXR1cm4gLXYgLyAoKC14KSAqKiBhKTtcbiAgfVxuXG4gIHN0YXRpYyBwZzJ3KHAsIGcpIHtcbiAgICByZXR1cm4gKHAgKiogZykgLyAoKChwICoqIGcpICsgKCgxIC0gcCkgKiogZykpICoqICgxIC8gZykpO1xuICB9XG5cbiAgc3RhdGljIHZ3MnUodiwgdykge1xuICAgIC8vIE51bWJlcnNcbiAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInICYmIHR5cGVvZiB3ID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHYgKiB3O1xuICAgIH1cbiAgICAvLyBBcnJheXNcbiAgICBpZiAodiBpbnN0YW5jZW9mIEFycmF5ICYmIHcgaW5zdGFuY2VvZiBBcnJheSAmJiB2Lmxlbmd0aCA+IDAgJiYgdi5sZW5ndGggPT09IHcubGVuZ3RoKSB7XG4gICAgICBsZXQgdSA9IDA7XG4gICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHYubGVuZ3RoOyBuICs9IDEpIHtcbiAgICAgICAgdSArPSB2W25dICogd1tuXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1O1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2VcbiAgICByZXR1cm4gTmFOO1xuICB9XG59XG4iLCJcbi8vIEludGVybmFsIGRlcGVuZGVuY2llc1xuaW1wb3J0IENQVE1hdGggZnJvbSAnLi9jcHQtbWF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IENQVE1hdGg7XG4iLCIvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbXCJvZmZcIiwgXCJzZWxmXCJdICovXG5cbi8vIE5lZWRlZCBmb3IgZDMgaW4gV2ViV29ya2VyIVxuaW1wb3J0ICdyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUnO1xuXG5pbXBvcnQgKiBhcyBCYXllc0Rpc3RyaWJ1dGlvbnMgZnJvbSAnYmF5ZXMuanMvZGlzdHJpYnV0aW9ucyc7XG5pbXBvcnQgKiBhcyBCYXllc01jbWMgZnJvbSAnYmF5ZXMuanMvbWNtYyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgQ1BUTWF0aCBmcm9tICdAZGVjaWRhYmxlcy9wcm9zcGVjdGFibGUtbWF0aCc7XG5cbnNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICBhbHBoYToge3R5cGU6ICdyZWFsJywgbG93ZXI6IENQVE1hdGguYS5NSU4sIHVwcGVyOiBDUFRNYXRoLmEuTUFYfSxcbiAgICBsYW1iZGE6IHt0eXBlOiAncmVhbCcsIGxvd2VyOiBDUFRNYXRoLmwuTUlOLCB1cHBlcjogQ1BUTWF0aC5sLk1BWH0sXG4gICAgZ2FtbWE6IHt0eXBlOiAncmVhbCcsIGxvd2VyOiBDUFRNYXRoLmcuTUlOLCB1cHBlcjogQ1BUTWF0aC5nLk1BWH0sXG4gICAgbHVjZToge3R5cGU6ICdyZWFsJywgbG93ZXI6IDAsIHVwcGVyOiAxMDB9LFxuICB9O1xuXG4gIGNvbnN0IGxvZ1Bvc3QgPSAoc3RhdGUsIGRhdGEpID0+IHtcbiAgICBsZXQgbHAgPSAwO1xuXG4gICAgLy8gUHJpb3JzXG4gICAgY29uc3QgYWxwaGFNZWFuID0gMC41O1xuICAgIGNvbnN0IGFscGhhU2FtcGxlU2l6ZSA9IDIuNTtcbiAgICBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMuYmV0YShcbiAgICAgIHN0YXRlLmFscGhhLFxuICAgICAgYWxwaGFNZWFuICogYWxwaGFTYW1wbGVTaXplLFxuICAgICAgKDEgLSBhbHBoYU1lYW4pICogYWxwaGFTYW1wbGVTaXplLFxuICAgICk7XG4gICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUuYWxwaGEsIDAsIDEpO1xuXG4gICAgY29uc3QgbGFtYmRhTWVhbiA9IDI7XG4gICAgY29uc3QgbGFtYmRhU2hhcGUgPSAzO1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5nYW1tYShcbiAgICAgIHN0YXRlLmxhbWJkYSxcbiAgICAgIGxhbWJkYVNoYXBlLFxuICAgICAgbGFtYmRhU2hhcGUgLyBsYW1iZGFNZWFuLFxuICAgICk7XG4gICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUubGFtYmRhLCAwLCAxMCk7XG5cbiAgICBjb25zdCBnYW1tYU1lYW4gPSAwLjU7XG4gICAgY29uc3QgZ2FtbWFTYW1wbGVTaXplID0gMi41O1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5iZXRhKFxuICAgICAgc3RhdGUuZ2FtbWEsXG4gICAgICBnYW1tYU1lYW4gKiBnYW1tYVNhbXBsZVNpemUsXG4gICAgICAoMSAtIGdhbW1hTWVhbikgKiBnYW1tYVNhbXBsZVNpemUsXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5nYW1tYSwgMCwgMSk7XG5cbiAgICBjb25zdCBsdWNlTWVhbiA9IDI7XG4gICAgY29uc3QgbHVjZVNoYXBlID0gMztcbiAgICBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMuZ2FtbWEoXG4gICAgICBzdGF0ZS5sdWNlLFxuICAgICAgbHVjZVNoYXBlLFxuICAgICAgbHVjZVNoYXBlIC8gbHVjZU1lYW4sXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5sdWNlLCAwLCAxMDApO1xuXG4gICAgLy8gTGlrZWxpaG9vZFxuICAgIGRhdGEuZm9yRWFjaCgoY2hvaWNlKSA9PiB7XG4gICAgICAvLyBWYWx1ZXNcbiAgICAgIGNvbnN0IHZsID0gQ1BUTWF0aC54YWwydihjaG9pY2UueGwsIHN0YXRlLmFscGhhLCBzdGF0ZS5sYW1iZGEpO1xuICAgICAgY29uc3QgdncgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54dywgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7XG4gICAgICBjb25zdCB2cyA9IENQVE1hdGgueGFsMnYoY2hvaWNlLnhzLCBzdGF0ZS5hbHBoYSwgc3RhdGUubGFtYmRhKTtcblxuICAgICAgLy8gUHJvYmFiaWxpdGllc1xuICAgICAgY29uc3Qgd3cgPSBDUFRNYXRoLnBnMncoY2hvaWNlLnB3LCBzdGF0ZS5nYW1tYSk7XG4gICAgICBjb25zdCB3bCA9IDEgLSB3dztcblxuICAgICAgLy8gVXRpbGl0aWVzXG4gICAgICBjb25zdCB1ZyA9IHdsICogdmwgKyB3dyAqIHZ3O1xuICAgICAgY29uc3QgdXMgPSB2cztcblxuICAgICAgLy8gQ2hvaWNlIG9mIGdhbWJsZSBvciBzdXJlIGlzIHNhbXBsZWQgZnJvbSBhIEJlcm5vdWxsaSBkaXN0cmlidXRpb25cbiAgICAgIC8vIEx1Y2UgY2hvaWNlIHJ1bGUgaXMgdXNlZCB0byBjb21wdXRlIHByb2JhYmlsaXR5IG9mIGdhbWJsaW5nISAoMCA9IHN1cmUsIDEgPSBnYW1ibGUpXG4gICAgICBjb25zdCBiaW52YWwgPSAxIC8gKDEgKyBNYXRoLmV4cChzdGF0ZS5sdWNlICogKHVzIC0gdWcpKSk7XG5cbiAgICAgIC8vIEFjdHVhbCByZXNwb25zZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSAoY2hvaWNlLnJlc3BvbnNlID09PSAnc3VyZScpID8gMCA6IDE7XG5cbiAgICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5iZXJuKHJlc3BvbnNlLCBiaW52YWwpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxwO1xuICB9O1xuXG4gIC8vIEluaXRpYWxpemluZyB0aGUgc2FtcGxlclxuICBjb25zdCBzYW1wbGVyID0gbmV3IEJheWVzTWNtYy5BbXdnU2FtcGxlcihwYXJhbXMsIGxvZ1Bvc3QsIGV2ZW50LmRhdGEpO1xuICAvLyBCdXJuaW5nIHNvbWUgc2FtcGxlcyB0byB0aGUgTUNNQyBnb2RzIGFuZCBzYW1wbGluZyA1MDAwIGRyYXdzXG4gIHNhbXBsZXIuYnVybigxMDAwKTtcbiAgY29uc3Qgc2FtcGxlcyA9IHNhbXBsZXIuc2FtcGxlKDUwMDApO1xuXG4gIC8vIEV4dHJhY3Qgc3VtbWFyeSBzdGF0c1xuICBjb25zdCByZXN1bHRzID0ge1xuICAgIGFscGhhOiBkMy5tZWRpYW4oc2FtcGxlcy5hbHBoYSksXG4gICAgbGFtYmRhOiBkMy5tZWRpYW4oc2FtcGxlcy5sYW1iZGEpLFxuICAgIGdhbW1hOiBkMy5tZWRpYW4oc2FtcGxlcy5nYW1tYSksXG4gICAgbHVjZTogZDMubWVkaWFuKHNhbXBsZXMubHVjZSksXG4gIH07XG5cbiAgc2VsZi5wb3N0TWVzc2FnZSh7cmVzdWx0czogcmVzdWx0cywgc2FtcGxlczogc2FtcGxlc30pO1xufTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJsZCIsInRoaXMiLCJsZ2FtbWEiLCJ4IiwiaiIsImNvZiIsInNlciIsInh4IiwieSIsInRtcCIsImxvZyIsImxmYWN0b3JpYWwiLCJuIiwiTmFOIiwibGNob29zZSIsImsiLCJsYmV0YSIsImEiLCJiIiwiTWF0aCIsImV4cCIsImFicyIsInBvdyIsInNxcnQiLCJwaSIsIlBJIiwiYmV0YSIsInNoYXBlMSIsInNoYXBlMiIsIkluZmluaXR5IiwiY2F1Y2h5IiwibG9jYXRpb24iLCJzY2FsZSIsIm5vcm0iLCJtZWFuIiwic2QiLCJiaXZhcm5vcm0iLCJjb3JyIiwieiIsIm5vcm1hbGl6aW5nX2ZhY3RvciIsImJpdmFyX2xvZ19kZW5zIiwibGFwbGFjZSIsImRleHAiLCJnYW1tYSIsInNoYXBlIiwicmF0ZSIsImludmdhbW1hIiwibG5vcm0iLCJtZWFubG9nIiwic2Rsb2ciLCJwYXJldG8iLCJ0IiwiZGYiLCJ3ZWlidWxsIiwidG1wMSIsInRtcDIiLCJsb2dpcyIsImUiLCJmIiwiZGlyaWNobGV0IiwiYWxwaGEiLCJzdW1fYWxwaGEiLCJzdW1fbGdhbW1hX2FscGhhIiwic3VtX2FscGhhX3N1Yl8xX2xvZ194IiwibGVuZ3RoIiwiaSIsInVuaWYiLCJtaW4iLCJtYXgiLCJiZXJuIiwicHJvYiIsImNhdCIsInByb2JzIiwiYmlub20iLCJzaXplIiwibmJpbm9tIiwiaHlwZXIiLCJtIiwicG9pcyIsImxhbWJkYSIsIm1jbWMiLCJydW5pZiIsInJhbmRvbSIsInJ1bmlmX2Rpc2NyZXRlIiwiZmxvb3IiLCJybm9ybSIsInUiLCJ2IiwicSIsImRlZXBfY2xvbmUiLCJzcmMiLCJtaXhpbiIsImRlc3QiLCJzb3VyY2UiLCJjb3B5RnVuYyIsIm5hbWUiLCJzIiwiZW1wdHkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJub2RlVHlwZSIsImNsb25lTm9kZSIsIkRhdGUiLCJnZXRUaW1lIiwiUmVnRXhwIiwiciIsImwiLCJBcnJheSIsInB1c2giLCJjb25zdHJ1Y3RvciIsImNsb25lX3BhcmFtX2RyYXciLCJpc0FycmF5IiwieF9jb3B5Iiwic2xpY2UiLCJpc19udW1iZXIiLCJvYmplY3QiLCJOdW1iZXIiLCJjcmVhdGVfYXJyYXkiLCJkaW0iLCJpbml0IiwiYXJyIiwiYXJyYXlfZGltIiwiY29uY2F0IiwiYXJyYXlfZXF1YWwiLCJhMSIsImEyIiwibmVzdGVkX2FycmF5X2FwcGx5IiwiZnVuIiwicmVzdWx0Iiwic2h1ZmZsZV9hcnJheSIsImFycmF5IiwidGVtcCIsIm5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkiLCJsZW4iLCJhcnJheV9pcyIsImFycmF5X2kiLCJnZXRfb3B0aW9uIiwib3B0aW9uX25hbWUiLCJvcHRpb25zIiwiZGVmYXVsX3ZhbHVlIiwiaGFzT3duUHJvcGVydHkiLCJ1bmRlZmluZWQiLCJnZXRfbXVsdGlkaW1fb3B0aW9uIiwidmFsdWUiLCJwYXJhbV9pbml0X2ZpeGVkIiwidHlwZSIsImxvd2VyIiwidXBwZXIiLCJyb3VuZCIsImNvbXBsZXRlX3BhcmFtcyIsInBhcmFtc190b19jb21wbGV0ZSIsInBhcmFtX2luaXQiLCJwYXJhbXMiLCJwYXJhbV9uYW1lIiwicGFyYW0iLCJTdGVwcGVyIiwic3RhdGUiLCJsb2dfcG9zdCIsInN0ZXAiLCJzdGFydF9hZGFwdGF0aW9uIiwic3RvcF9hZGFwdGF0aW9uIiwiaW5mbyIsIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIiwiZ2VuZXJhdGVfcHJvcG9zYWwiLCJwYXJhbV9uYW1lcyIsImtleXMiLCJwcm9wX2xvZ19zY2FsZSIsImJhdGNoX3NpemUiLCJtYXhfYWRhcHRhdGlvbiIsImluaXRpYWxfYWRhcHRhdGlvbiIsInRhcmdldF9hY2NlcHRfcmF0ZSIsImlzX2FkYXB0aW5nIiwiYWNjZXB0YW5jZV9jb3VudCIsImJhdGNoX2NvdW50IiwiaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiIsImNyZWF0ZSIsInBhcmFtX3N0YXRlIiwicGFyYW1fcHJvcG9zYWwiLCJjdXJyX2xvZ19kZW5zIiwicHJvcF9sb2dfZGVucyIsImFjY2VwdF9wcm9iIiwibG9nX3NkX2FkanVzdG1lbnQiLCJub3JtYWxfcHJvcG9zYWwiLCJSZWFsTWV0cm9wb2xpc1N0ZXBwZXIiLCJkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwiLCJJbnRNZXRyb3BvbGlzU3RlcHBlciIsIk11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIiLCJTdWJTdGVwcGVyIiwiY3JlYXRlX3N1YnN0ZXBwZXJzIiwic3Vic3RhdGUiLCJzdWJzdGVwcGVycyIsInN1Ym9wdGlvbnMiLCJzdWJwYXJhbSIsInN1YnN0ZXBwZXIiLCJNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciIsIk11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIiLCJCaW5hcnlTdGVwcGVyIiwiemVyb19sb2dfZGVucyIsIm9uZV9sb2dfZGVucyIsIm1heF9sb2dfZGVucyIsInplcm9fcHJvYiIsIkJpbmFyeUNvbXBvbmVudFN0ZXBwZXIiLCJzdWJwYXJhbXMiLCJBbXdnU3RlcHBlciIsIlNlbGVjdFN0ZXBwZXIiLCJwYXJhbV9vYmplY3Rfd3JhcCIsInBhcmFtX29wdGlvbnMiLCJTYW1wbGVyIiwiZGF0YSIsInBhcmFtX2luaXRfZnVuIiwidGhpbm5pbmdfaW50ZXJ2YWwiLCJwYXJhbXNfdG9fbW9uaXRvciIsInRoaW4iLCJtb25pdG9yIiwic3RlcHBlcnMiLCJjcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSIsInNhbXBsZSIsIm5faXRlcmF0aW9ucyIsIm1vbml0b3JlZF9wYXJhbXMiLCJjdXJyX3NhbXBsZSIsImJ1cm4iLCJBbXdnU2FtcGxlciIsImFzY2VuZGluZyIsIm51bWJlcnMiLCJ2YWx1ZXMiLCJ2YWx1ZW9mIiwiY29tcGFyZURlZmluZWQiLCJjb21wYXJlIiwiYXNjZW5kaW5nRGVmaW5lZCIsIlR5cGVFcnJvciIsInF1aWNrc2VsZWN0IiwibGVmdCIsInJpZ2h0IiwibmV3TGVmdCIsIm5ld1JpZ2h0Iiwic3dhcCIsInF1YW50aWxlIiwicCIsIkZsb2F0NjRBcnJheSIsImZyb20iLCJpc05hTiIsImkwIiwidmFsdWUwIiwic3ViYXJyYXkiLCJ2YWx1ZTEiLCJtZWRpYW4iLCJub29wIiwiZGlzcGF0Y2giLCJhcmd1bWVudHMiLCJfIiwidGVzdCIsIkVycm9yIiwiRGlzcGF0Y2giLCJwYXJzZVR5cGVuYW1lcyIsInR5cGVuYW1lcyIsInR5cGVzIiwidHJpbSIsInNwbGl0IiwibWFwIiwiaW5kZXhPZiIsIm9uIiwidHlwZW5hbWUiLCJjYWxsYmFjayIsIlQiLCJnZXQiLCJzZXQiLCJjb3B5IiwidGhhdCIsImFyZ3MiLCJhcHBseSIsImMiLCJ4aHRtbCIsInN2ZyIsInhsaW5rIiwieG1sIiwieG1sbnMiLCJwcmVmaXgiLCJuYW1lc3BhY2VzIiwic3BhY2UiLCJsb2NhbCIsImNyZWF0b3JJbmhlcml0IiwiZG9jdW1lbnQiLCJvd25lckRvY3VtZW50IiwidXJpIiwibmFtZXNwYWNlVVJJIiwiZG9jdW1lbnRFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0b3JGaXhlZCIsImZ1bGxuYW1lIiwibmFtZXNwYWNlIiwibm9uZSIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsInNlbGVjdCIsImdyb3VwcyIsIl9ncm91cHMiLCJzdWJncm91cHMiLCJncm91cCIsInN1Ymdyb3VwIiwibm9kZSIsInN1Ym5vZGUiLCJfX2RhdGFfXyIsIlNlbGVjdGlvbiIsIl9wYXJlbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImFycmF5QWxsIiwic2VsZWN0b3JBbGwiLCJwYXJlbnRzIiwibWF0Y2hlcyIsImNoaWxkTWF0Y2hlciIsImZpbmQiLCJjaGlsZEZpbmQiLCJtYXRjaCIsImNoaWxkcmVuIiwiY2hpbGRGaXJzdCIsImZpcnN0RWxlbWVudENoaWxkIiwiZmlsdGVyIiwiY2hpbGRyZW5GaWx0ZXIiLCJzZWxlY3RBbGwiLCJtYXRjaGVyIiwidXBkYXRlIiwiX2VudGVyIiwic3BhcnNlIiwiRW50ZXJOb2RlIiwicGFyZW50IiwiZGF0dW0iLCJfbmV4dCIsIl9wYXJlbnQiLCJhcHBlbmRDaGlsZCIsImNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwibmV4dCIsImJpbmRJbmRleCIsImVudGVyIiwiZXhpdCIsImdyb3VwTGVuZ3RoIiwiZGF0YUxlbmd0aCIsImJpbmRLZXkiLCJrZXkiLCJub2RlQnlLZXlWYWx1ZSIsIk1hcCIsImtleVZhbHVlcyIsImtleVZhbHVlIiwiaGFzIiwiZGVsZXRlIiwiYmluZCIsImNvbnN0YW50IiwiYXJyYXlsaWtlIiwiZW50ZXJHcm91cCIsInVwZGF0ZUdyb3VwIiwiZXhpdEdyb3VwIiwiaTEiLCJwcmV2aW91cyIsIl9leGl0Iiwib25lbnRlciIsIm9udXBkYXRlIiwib25leGl0Iiwic2VsZWN0aW9uIiwiYXBwZW5kIiwicmVtb3ZlIiwibWVyZ2UiLCJvcmRlciIsImNvbnRleHQiLCJncm91cHMwIiwiZ3JvdXBzMSIsIm0wIiwibTEiLCJtZXJnZXMiLCJncm91cDAiLCJncm91cDEiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInBhcmVudE5vZGUiLCJjb21wYXJlTm9kZSIsInNvcnRncm91cHMiLCJzb3J0Z3JvdXAiLCJzb3J0IiwiYXR0clJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImF0dHJSZW1vdmVOUyIsInJlbW92ZUF0dHJpYnV0ZU5TIiwiYXR0ckNvbnN0YW50Iiwic2V0QXR0cmlidXRlIiwiYXR0ckNvbnN0YW50TlMiLCJzZXRBdHRyaWJ1dGVOUyIsImF0dHJGdW5jdGlvbiIsImF0dHJGdW5jdGlvbk5TIiwiZ2V0QXR0cmlidXRlTlMiLCJnZXRBdHRyaWJ1dGUiLCJlYWNoIiwiZGVmYXVsdFZpZXciLCJzdHlsZVJlbW92ZSIsInN0eWxlIiwicmVtb3ZlUHJvcGVydHkiLCJzdHlsZUNvbnN0YW50IiwicHJpb3JpdHkiLCJzZXRQcm9wZXJ0eSIsInN0eWxlRnVuY3Rpb24iLCJzdHlsZVZhbHVlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldENvbXB1dGVkU3R5bGUiLCJwcm9wZXJ0eVJlbW92ZSIsInByb3BlcnR5Q29uc3RhbnQiLCJwcm9wZXJ0eUZ1bmN0aW9uIiwiY2xhc3NBcnJheSIsInN0cmluZyIsImNsYXNzTGlzdCIsIkNsYXNzTGlzdCIsIl9ub2RlIiwiX25hbWVzIiwiYWRkIiwiam9pbiIsInNwbGljZSIsImNvbnRhaW5zIiwiY2xhc3NlZEFkZCIsIm5hbWVzIiwibGlzdCIsImNsYXNzZWRSZW1vdmUiLCJjbGFzc2VkVHJ1ZSIsImNsYXNzZWRGYWxzZSIsImNsYXNzZWRGdW5jdGlvbiIsInRleHRSZW1vdmUiLCJ0ZXh0Q29udGVudCIsInRleHRDb25zdGFudCIsInRleHRGdW5jdGlvbiIsImh0bWxSZW1vdmUiLCJpbm5lckhUTUwiLCJodG1sQ29uc3RhbnQiLCJodG1sRnVuY3Rpb24iLCJyYWlzZSIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsImNyZWF0b3IiLCJjb25zdGFudE51bGwiLCJiZWZvcmUiLCJyZW1vdmVDaGlsZCIsInNlbGVjdGlvbl9jbG9uZVNoYWxsb3ciLCJjbG9uZSIsInNlbGVjdGlvbl9jbG9uZURlZXAiLCJkZWVwIiwicHJvcGVydHkiLCJjb250ZXh0TGlzdGVuZXIiLCJsaXN0ZW5lciIsImV2ZW50Iiwib25SZW1vdmUiLCJfX29uIiwibyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbkFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Iiwid2luZG93IiwiQ3VzdG9tRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGV0YWlsIiwiZGlzcGF0Y2hDb25zdGFudCIsImRpc3BhdGNoRnVuY3Rpb24iLCJzZWxlY3Rpb25fc2VsZWN0aW9uIiwic2VsZWN0aW9uX3NlbGVjdCIsInNlbGVjdGlvbl9zZWxlY3RBbGwiLCJzZWxlY3RDaGlsZCIsInNlbGVjdGlvbl9zZWxlY3RDaGlsZCIsInNlbGVjdENoaWxkcmVuIiwic2VsZWN0aW9uX3NlbGVjdENoaWxkcmVuIiwic2VsZWN0aW9uX2ZpbHRlciIsInNlbGVjdGlvbl9kYXRhIiwic2VsZWN0aW9uX2VudGVyIiwic2VsZWN0aW9uX2V4aXQiLCJzZWxlY3Rpb25fam9pbiIsInNlbGVjdGlvbl9tZXJnZSIsInNlbGVjdGlvbl9vcmRlciIsInNlbGVjdGlvbl9zb3J0Iiwic2VsZWN0aW9uX2NhbGwiLCJub2RlcyIsInNlbGVjdGlvbl9ub2RlcyIsInNlbGVjdGlvbl9ub2RlIiwic2VsZWN0aW9uX3NpemUiLCJzZWxlY3Rpb25fZW1wdHkiLCJzZWxlY3Rpb25fZWFjaCIsImF0dHIiLCJzZWxlY3Rpb25fYXR0ciIsInNlbGVjdGlvbl9zdHlsZSIsInNlbGVjdGlvbl9wcm9wZXJ0eSIsImNsYXNzZWQiLCJzZWxlY3Rpb25fY2xhc3NlZCIsInRleHQiLCJzZWxlY3Rpb25fdGV4dCIsImh0bWwiLCJzZWxlY3Rpb25faHRtbCIsInNlbGVjdGlvbl9yYWlzZSIsInNlbGVjdGlvbl9sb3dlciIsInNlbGVjdGlvbl9hcHBlbmQiLCJpbnNlcnQiLCJzZWxlY3Rpb25faW5zZXJ0Iiwic2VsZWN0aW9uX3JlbW92ZSIsInNlbGVjdGlvbl9jbG9uZSIsInNlbGVjdGlvbl9kYXR1bSIsInNlbGVjdGlvbl9vbiIsInNlbGVjdGlvbl9kaXNwYXRjaCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwic2VsZWN0aW9uX2l0ZXJhdG9yIiwiZXh0ZW5kIiwiZGVmaW5pdGlvbiIsIkNvbG9yIiwiZGFya2VyIiwiYnJpZ2h0ZXIiLCJyZUkiLCJyZU4iLCJyZVAiLCJyZUhleCIsInJlUmdiSW50ZWdlciIsInJlUmdiUGVyY2VudCIsInJlUmdiYUludGVnZXIiLCJyZVJnYmFQZXJjZW50IiwicmVIc2xQZXJjZW50IiwicmVIc2xhUGVyY2VudCIsIm5hbWVkIiwiYWxpY2VibHVlIiwiYW50aXF1ZXdoaXRlIiwiYXF1YSIsImFxdWFtYXJpbmUiLCJhenVyZSIsImJlaWdlIiwiYmlzcXVlIiwiYmxhY2siLCJibGFuY2hlZGFsbW9uZCIsImJsdWUiLCJibHVldmlvbGV0IiwiYnJvd24iLCJidXJseXdvb2QiLCJjYWRldGJsdWUiLCJjaGFydHJldXNlIiwiY2hvY29sYXRlIiwiY29yYWwiLCJjb3JuZmxvd2VyYmx1ZSIsImNvcm5zaWxrIiwiY3JpbXNvbiIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dvbGRlbnJvZCIsImRhcmtncmF5IiwiZGFya2dyZWVuIiwiZGFya2dyZXkiLCJkYXJra2hha2kiLCJkYXJrbWFnZW50YSIsImRhcmtvbGl2ZWdyZWVuIiwiZGFya29yYW5nZSIsImRhcmtvcmNoaWQiLCJkYXJrcmVkIiwiZGFya3NhbG1vbiIsImRhcmtzZWFncmVlbiIsImRhcmtzbGF0ZWJsdWUiLCJkYXJrc2xhdGVncmF5IiwiZGFya3NsYXRlZ3JleSIsImRhcmt0dXJxdW9pc2UiLCJkYXJrdmlvbGV0IiwiZGVlcHBpbmsiLCJkZWVwc2t5Ymx1ZSIsImRpbWdyYXkiLCJkaW1ncmV5IiwiZG9kZ2VyYmx1ZSIsImZpcmVicmljayIsImZsb3JhbHdoaXRlIiwiZm9yZXN0Z3JlZW4iLCJmdWNoc2lhIiwiZ2FpbnNib3JvIiwiZ2hvc3R3aGl0ZSIsImdvbGQiLCJnb2xkZW5yb2QiLCJncmF5IiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImdyZXkiLCJob25leWRldyIsImhvdHBpbmsiLCJpbmRpYW5yZWQiLCJpbmRpZ28iLCJpdm9yeSIsImtoYWtpIiwibGF2ZW5kZXIiLCJsYXZlbmRlcmJsdXNoIiwibGF3bmdyZWVuIiwibGVtb25jaGlmZm9uIiwibGlnaHRibHVlIiwibGlnaHRjb3JhbCIsImxpZ2h0Y3lhbiIsImxpZ2h0Z29sZGVucm9keWVsbG93IiwibGlnaHRncmF5IiwibGlnaHRncmVlbiIsImxpZ2h0Z3JleSIsImxpZ2h0cGluayIsImxpZ2h0c2FsbW9uIiwibGlnaHRzZWFncmVlbiIsImxpZ2h0c2t5Ymx1ZSIsImxpZ2h0c2xhdGVncmF5IiwibGlnaHRzbGF0ZWdyZXkiLCJsaWdodHN0ZWVsYmx1ZSIsImxpZ2h0eWVsbG93IiwibGltZSIsImxpbWVncmVlbiIsImxpbmVuIiwibWFnZW50YSIsIm1hcm9vbiIsIm1lZGl1bWFxdWFtYXJpbmUiLCJtZWRpdW1ibHVlIiwibWVkaXVtb3JjaGlkIiwibWVkaXVtcHVycGxlIiwibWVkaXVtc2VhZ3JlZW4iLCJtZWRpdW1zbGF0ZWJsdWUiLCJtZWRpdW1zcHJpbmdncmVlbiIsIm1lZGl1bXR1cnF1b2lzZSIsIm1lZGl1bXZpb2xldHJlZCIsIm1pZG5pZ2h0Ymx1ZSIsIm1pbnRjcmVhbSIsIm1pc3R5cm9zZSIsIm1vY2Nhc2luIiwibmF2YWpvd2hpdGUiLCJuYXZ5Iiwib2xkbGFjZSIsIm9saXZlIiwib2xpdmVkcmFiIiwib3JhbmdlIiwib3JhbmdlcmVkIiwib3JjaGlkIiwicGFsZWdvbGRlbnJvZCIsInBhbGVncmVlbiIsInBhbGV0dXJxdW9pc2UiLCJwYWxldmlvbGV0cmVkIiwicGFwYXlhd2hpcCIsInBlYWNocHVmZiIsInBlcnUiLCJwaW5rIiwicGx1bSIsInBvd2RlcmJsdWUiLCJwdXJwbGUiLCJyZWJlY2NhcHVycGxlIiwicmVkIiwicm9zeWJyb3duIiwicm95YWxibHVlIiwic2FkZGxlYnJvd24iLCJzYWxtb24iLCJzYW5keWJyb3duIiwic2VhZ3JlZW4iLCJzZWFzaGVsbCIsInNpZW5uYSIsInNpbHZlciIsInNreWJsdWUiLCJzbGF0ZWJsdWUiLCJzbGF0ZWdyYXkiLCJzbGF0ZWdyZXkiLCJzbm93Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJkZWZpbmUiLCJjb2xvciIsImNoYW5uZWxzIiwiYXNzaWduIiwiZGlzcGxheWFibGUiLCJyZ2IiLCJoZXgiLCJjb2xvcl9mb3JtYXRIZXgiLCJmb3JtYXRIZXgiLCJmb3JtYXRIZXg4IiwiY29sb3JfZm9ybWF0SGV4OCIsImZvcm1hdEhzbCIsImNvbG9yX2Zvcm1hdEhzbCIsImZvcm1hdFJnYiIsImNvbG9yX2Zvcm1hdFJnYiIsImhzbENvbnZlcnQiLCJmb3JtYXQiLCJ0b0xvd2VyQ2FzZSIsImV4ZWMiLCJwYXJzZUludCIsInJnYm4iLCJSZ2IiLCJyZ2JhIiwiaHNsYSIsImciLCJyZ2JDb252ZXJ0Iiwib3BhY2l0eSIsImNsYW1wIiwiY2xhbXBpIiwiY2xhbXBhIiwicmdiX2Zvcm1hdEhleCIsInJnYl9mb3JtYXRIZXg4IiwicmdiX2Zvcm1hdFJnYiIsImgiLCJIc2wiLCJoc2wiLCJtMiIsImhzbDJyZ2IiLCJjbGFtcGgiLCJjbGFtcHQiLCJsaW5lYXIiLCJkIiwiZXhwb25lbnRpYWwiLCJub2dhbW1hIiwicmdiR2FtbWEiLCJzdGFydCIsImVuZCIsImNvbG9yUmdiIiwicmVBIiwicmVCIiwiemVybyIsIm9uZSIsImJpIiwibGFzdEluZGV4IiwiYW0iLCJibSIsImJzIiwiaW5kZXgiLCJudW1iZXIiLCJkZWdyZWVzIiwiaWRlbnRpdHkiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInJvdGF0ZSIsInNrZXdYIiwic2NhbGVYIiwic2NhbGVZIiwiYXRhbjIiLCJhdGFuIiwic3ZnTm9kZSIsInBhcnNlQ3NzIiwiRE9NTWF0cml4IiwiV2ViS2l0Q1NTTWF0cml4IiwiaXNJZGVudGl0eSIsImRlY29tcG9zZSIsInBhcnNlU3ZnIiwidHJhbnNmb3JtIiwiYmFzZVZhbCIsImNvbnNvbGlkYXRlIiwibWF0cml4IiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm0iLCJwYXJzZSIsInB4Q29tbWEiLCJweFBhcmVuIiwiZGVnUGFyZW4iLCJwb3AiLCJ0cmFuc2xhdGUiLCJ4YSIsInlhIiwieGIiLCJ5YiIsImludGVycG9sYXRlVHJhbnNmb3JtQ3NzIiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmciLCJmcmFtZSIsInRpbWVvdXQiLCJpbnRlcnZhbCIsInBva2VEZWxheSIsInRhc2tIZWFkIiwidGFza1RhaWwiLCJjbG9ja0xhc3QiLCJjbG9ja05vdyIsImNsb2NrU2tldyIsImNsb2NrIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzZXRGcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJjbGVhck5vdyIsIlRpbWVyIiwiX2NhbGwiLCJfdGltZSIsInRpbWVyIiwicmVzdGFydCIsImRlbGF5IiwidGltZSIsInNsZWVwIiwic3RvcCIsInRpbWVyRmx1c2giLCJ3YWtlIiwibmFwIiwicG9rZSIsInQwIiwidDEiLCJ0MiIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImVsYXBzZWQiLCJlbXB0eU9uIiwiZW1wdHlUd2VlbiIsIkNSRUFURUQiLCJTQ0hFRFVMRUQiLCJTVEFSVElORyIsIlNUQVJURUQiLCJSVU5OSU5HIiwiRU5ESU5HIiwiRU5ERUQiLCJpZCIsInRpbWluZyIsInNjaGVkdWxlcyIsIl9fdHJhbnNpdGlvbiIsInR3ZWVuIiwiZHVyYXRpb24iLCJlYXNlIiwic2NoZWR1bGUiLCJzZWxmIiwidGljayIsImFjdGl2ZSIsImludGVycnVwdCIsInR3ZWVuUmVtb3ZlIiwidHdlZW4wIiwidHdlZW4xIiwidHdlZW5GdW5jdGlvbiIsIl9pZCIsInR3ZWVuVmFsdWUiLCJ0cmFuc2l0aW9uIiwiaW50ZXJwb2xhdGVOdW1iZXIiLCJpbnRlcnBvbGF0ZVJnYiIsImludGVycG9sYXRlU3RyaW5nIiwiaW50ZXJwb2xhdGUiLCJzdHJpbmcwMCIsInN0cmluZzEiLCJpbnRlcnBvbGF0ZTAiLCJzdHJpbmcwIiwic3RyaW5nMTAiLCJhdHRyVHdlZW4iLCJhdHRySW50ZXJwb2xhdGUiLCJhdHRySW50ZXJwb2xhdGVOUyIsImF0dHJUd2Vlbk5TIiwiX3ZhbHVlIiwiZGVsYXlGdW5jdGlvbiIsImRlbGF5Q29uc3RhbnQiLCJkdXJhdGlvbkZ1bmN0aW9uIiwiZHVyYXRpb25Db25zdGFudCIsImVhc2VDb25zdGFudCIsImVhc2VWYXJ5aW5nIiwiVHJhbnNpdGlvbiIsIl9uYW1lIiwiZXZlcnkiLCJvbkZ1bmN0aW9uIiwib24wIiwib24xIiwic2l0IiwicmVtb3ZlRnVuY3Rpb24iLCJpbmhlcml0Iiwic3R5bGVOdWxsIiwic3R5bGVNYXliZVJlbW92ZSIsImxpc3RlbmVyMCIsInN0eWxlVHdlZW4iLCJzdHlsZUludGVycG9sYXRlIiwidGV4dEludGVycG9sYXRlIiwidGV4dFR3ZWVuIiwiaWQwIiwiaWQxIiwibmV3SWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNhbmNlbCIsInNlbGVjdGlvbl9wcm90b3R5cGUiLCJ0cmFuc2l0aW9uX3NlbGVjdCIsInRyYW5zaXRpb25fc2VsZWN0QWxsIiwidHJhbnNpdGlvbl9maWx0ZXIiLCJ0cmFuc2l0aW9uX21lcmdlIiwidHJhbnNpdGlvbl9zZWxlY3Rpb24iLCJ0cmFuc2l0aW9uX3RyYW5zaXRpb24iLCJ0cmFuc2l0aW9uX29uIiwidHJhbnNpdGlvbl9hdHRyIiwidHJhbnNpdGlvbl9hdHRyVHdlZW4iLCJ0cmFuc2l0aW9uX3N0eWxlIiwidHJhbnNpdGlvbl9zdHlsZVR3ZWVuIiwidHJhbnNpdGlvbl90ZXh0IiwidHJhbnNpdGlvbl90ZXh0VHdlZW4iLCJ0cmFuc2l0aW9uX3JlbW92ZSIsInRyYW5zaXRpb25fdHdlZW4iLCJ0cmFuc2l0aW9uX2RlbGF5IiwidHJhbnNpdGlvbl9kdXJhdGlvbiIsInRyYW5zaXRpb25fZWFzZSIsInRyYW5zaXRpb25fZWFzZVZhcnlpbmciLCJ0cmFuc2l0aW9uX2VuZCIsImN1YmljSW5PdXQiLCJkZWZhdWx0VGltaW5nIiwiZWFzZUN1YmljSW5PdXQiLCJzZWxlY3Rpb25faW50ZXJydXB0Iiwic2VsZWN0aW9uX3RyYW5zaXRpb24iLCJUcmFuc2Zvcm0iLCJwb2ludCIsImFwcGx5WCIsImFwcGx5WSIsImludmVydCIsImludmVydFgiLCJpbnZlcnRZIiwicmVzY2FsZVgiLCJkb21haW4iLCJyYW5nZSIsInJlc2NhbGVZIiwiQ1BUTWF0aCIsIkRFRkFVTFQiLCJNSU4iLCJNQVgiLCJTVEVQIiwiSlVNUCIsInhhbDJ2IiwieGx2MmEiLCJ4YXYybCIsInBnMnciLCJ2dzJ1IiwidyIsIm9ubWVzc2FnZSIsImx1Y2UiLCJsb2dQb3N0IiwibHAiLCJhbHBoYU1lYW4iLCJhbHBoYVNhbXBsZVNpemUiLCJCYXllc0Rpc3RyaWJ1dGlvbnMiLCJsYW1iZGFNZWFuIiwibGFtYmRhU2hhcGUiLCJnYW1tYU1lYW4iLCJnYW1tYVNhbXBsZVNpemUiLCJsdWNlTWVhbiIsImx1Y2VTaGFwZSIsImZvckVhY2giLCJjaG9pY2UiLCJ2bCIsInhsIiwidnciLCJ4dyIsInZzIiwieHMiLCJ3dyIsInB3Iiwid2wiLCJ1ZyIsInVzIiwiYmludmFsIiwicmVzcG9uc2UiLCJzYW1wbGVyIiwiQmF5ZXNNY21jIiwic2FtcGxlcyIsInJlc3VsdHMiLCJkMyIsInBvc3RNZXNzYWdlIl0sIm1hcHBp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RTtJQUNYLENBQUM7O0VBRUQ7RUFDQSxFQUFBLE1BQU15QixPQUFPLEdBQUcsSUFBSUMsdUJBQXFCLENBQUM1eEIsTUFBTSxFQUFFaXdCLE9BQU8sRUFBRTdkLEtBQUssQ0FBQzVPLElBQUksQ0FBQztFQUN0RTtFQUNBbXVCLEVBQUFBLE9BQU8sQ0FBQ3Z0QixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2xCLEVBQUEsTUFBTXl0QixPQUFPLEdBQUdGLE9BQU8sQ0FBQzN0QixNQUFNLENBQUMsSUFBSSxDQUFDOztFQUVwQztFQUNBLEVBQUEsTUFBTTh0QixPQUFPLEdBQUc7TUFDZDUzQixLQUFLLEVBQUU2M0IsTUFBUyxDQUFDRixPQUFPLENBQUMzM0IsS0FBSyxDQUFDO01BQy9CbUIsTUFBTSxFQUFFMDJCLE1BQVMsQ0FBQ0YsT0FBTyxDQUFDeDJCLE1BQU0sQ0FBQztNQUNqQ3BDLEtBQUssRUFBRTg0QixNQUFTLENBQUNGLE9BQU8sQ0FBQzU0QixLQUFLLENBQUM7RUFDL0IrMkIsSUFBQUEsSUFBSSxFQUFFK0IsTUFBUyxDQUFDRixPQUFPLENBQUM3QixJQUFJO0tBQzdCO0lBRUR4RyxJQUFJLENBQUN3SSxXQUFXLENBQUM7RUFBQ0YsSUFBQUEsT0FBTyxFQUFFQSxPQUFPO0VBQUVELElBQUFBLE9BQU8sRUFBRUE7RUFBTyxHQUFDLENBQUM7RUFDeEQsQ0FBQzs7Ozs7OyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDYyLDYzLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDkxLDkyLDkzLDk0LDk1LDk2XX0=");const plotlyStyle=i$6`
  /* inject:start */
.js-plotly-plot .plotly, .js-plotly-plot .plotly div {
  direction: ltr;
  font-family: "Open Sans", verdana, arial, sans-serif;
  margin: 0;
  padding: 0;
}
.js-plotly-plot .plotly input, .js-plotly-plot .plotly button {
  font-family: "Open Sans", verdana, arial, sans-serif;
}
.js-plotly-plot .plotly input:focus, .js-plotly-plot .plotly button:focus {
  outline: none;
}
.js-plotly-plot .plotly a {
  text-decoration: none;
}
.js-plotly-plot .plotly a:hover {
  text-decoration: none;
}
.js-plotly-plot .plotly .crisp {
  shape-rendering: crispEdges;
}
.js-plotly-plot .plotly .user-select-none {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -o-user-select: none;
  user-select: none;
}
.js-plotly-plot .plotly svg a {
  fill: #447adb;
}
.js-plotly-plot .plotly svg a:hover {
  fill: #3c6dc5;
}
.js-plotly-plot .plotly .main-svg {
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
}
.js-plotly-plot .plotly .main-svg .draglayer {
  pointer-events: all;
}
.js-plotly-plot .plotly .cursor-default {
  cursor: default;
}
.js-plotly-plot .plotly .cursor-pointer {
  cursor: pointer;
}
.js-plotly-plot .plotly .cursor-crosshair {
  cursor: crosshair;
}
.js-plotly-plot .plotly .cursor-move {
  cursor: move;
}
.js-plotly-plot .plotly .cursor-col-resize {
  cursor: col-resize;
}
.js-plotly-plot .plotly .cursor-row-resize {
  cursor: row-resize;
}
.js-plotly-plot .plotly .cursor-ns-resize {
  cursor: ns-resize;
}
.js-plotly-plot .plotly .cursor-ew-resize {
  cursor: ew-resize;
}
.js-plotly-plot .plotly .cursor-sw-resize {
  cursor: sw-resize;
}
.js-plotly-plot .plotly .cursor-s-resize {
  cursor: s-resize;
}
.js-plotly-plot .plotly .cursor-se-resize {
  cursor: se-resize;
}
.js-plotly-plot .plotly .cursor-w-resize {
  cursor: w-resize;
}
.js-plotly-plot .plotly .cursor-e-resize {
  cursor: e-resize;
}
.js-plotly-plot .plotly .cursor-nw-resize {
  cursor: nw-resize;
}
.js-plotly-plot .plotly .cursor-n-resize {
  cursor: n-resize;
}
.js-plotly-plot .plotly .cursor-ne-resize {
  cursor: ne-resize;
}
.js-plotly-plot .plotly .cursor-grab {
  cursor: -webkit-grab;
  cursor: grab;
}
.js-plotly-plot .plotly .modebar {
  position: absolute;
  top: 2px;
  right: 2px;
}
.js-plotly-plot .plotly .ease-bg {
  -webkit-transition: background-color 0.3s ease 0s;
  -moz-transition: background-color 0.3s ease 0s;
  -ms-transition: background-color 0.3s ease 0s;
  -o-transition: background-color 0.3s ease 0s;
  transition: background-color 0.3s ease 0s;
}
.js-plotly-plot .plotly .modebar--hover > :not(.watermark) {
  opacity: 0;
  -webkit-transition: opacity 0.3s ease 0s;
  -moz-transition: opacity 0.3s ease 0s;
  -ms-transition: opacity 0.3s ease 0s;
  -o-transition: opacity 0.3s ease 0s;
  transition: opacity 0.3s ease 0s;
}
.js-plotly-plot .plotly:hover .modebar--hover .modebar-group {
  opacity: 1;
}
.js-plotly-plot .plotly:focus-within .modebar--hover .modebar-group {
  opacity: 1;
}
.js-plotly-plot .plotly .modebar-group {
  float: left;
  display: inline-block;
  box-sizing: border-box;
  padding-left: 8px;
  position: relative;
  vertical-align: middle;
  white-space: nowrap;
}
.js-plotly-plot .plotly .modebar-group a {
  display: grid;
  place-content: center;
}
.js-plotly-plot .plotly .modebar-btn {
  position: relative;
  font-size: 16px;
  padding: 3px 4px;
  height: 22px;
  /* display: inline-block; including this breaks 3d interaction in .embed mode. Chrome bug? */
  cursor: pointer;
  line-height: normal;
  box-sizing: border-box;
  border: none;
  background: transparent;
}
.js-plotly-plot .plotly .modebar-btn svg {
  position: relative;
}
.js-plotly-plot .plotly .modebar-btn:focus-visible {
  outline: 1px solid black;
  outline-offset: 1px;
  border-radius: 3px;
}
.js-plotly-plot .plotly .modebar.vertical {
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  align-content: flex-end;
  max-height: 100%;
}
.js-plotly-plot .plotly .modebar.vertical svg {
  top: -1px;
}
.js-plotly-plot .plotly .modebar.vertical .modebar-group {
  display: block;
  float: none;
  padding-left: 0px;
  padding-bottom: 8px;
}
.js-plotly-plot .plotly .modebar.vertical .modebar-group .modebar-btn {
  display: block;
  text-align: center;
}
.js-plotly-plot .plotly [data-title] {
  /**
   * tooltip body
   */
}
.js-plotly-plot .plotly [data-title]:before, .js-plotly-plot .plotly [data-title]:after {
  position: absolute;
  -webkit-transform: translate3d(0, 0, 0);
  -moz-transform: translate3d(0, 0, 0);
  -ms-transform: translate3d(0, 0, 0);
  -o-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
  display: none;
  opacity: 0;
  z-index: 1001;
  pointer-events: none;
  top: 110%;
  right: 50%;
}
.js-plotly-plot .plotly [data-title]:hover:before, .js-plotly-plot .plotly [data-title]:hover:after {
  display: block;
  opacity: 1;
}
.js-plotly-plot .plotly [data-title]:before {
  content: "";
  position: absolute;
  background: transparent;
  border: 6px solid transparent;
  z-index: 1002;
  margin-top: -12px;
  border-bottom-color: #69738a;
  margin-right: -6px;
}
.js-plotly-plot .plotly [data-title]:after {
  content: attr(data-title);
  background: #69738a;
  color: white;
  padding: 8px 10px;
  font-size: 12px;
  line-height: 12px;
  white-space: nowrap;
  margin-right: -18px;
  border-radius: 2px;
}
.js-plotly-plot .plotly .vertical [data-title]:before, .js-plotly-plot .plotly .vertical [data-title]:after {
  top: 0%;
  right: 200%;
}
.js-plotly-plot .plotly .vertical [data-title]:before {
  border: 6px solid transparent;
  border-left-color: #69738a;
  margin-top: 8px;
  margin-right: -30px;
}

.plotly-notifier {
  font-family: "Open Sans", verdana, arial, sans-serif;
  position: fixed;
  top: 50px;
  right: 20px;
  z-index: 10000;
  font-size: 10pt;
  max-width: 180px;
}
.plotly-notifier p {
  margin: 0;
}
.plotly-notifier .notifier-note {
  min-width: 180px;
  max-width: 250px;
  border: 1px solid #fff;
  z-index: 3000;
  margin: 0;
  background-color: #8c97af;
  background-color: rgba(140, 151, 175, 0.9);
  color: #fff;
  padding: 10px;
  overflow-wrap: break-word;
  word-wrap: break-word;
  -ms-hyphens: auto;
  -webkit-hyphens: auto;
  hyphens: auto;
}
.plotly-notifier .notifier-close {
  color: #fff;
  opacity: 0.8;
  float: right;
  padding: 0 5px;
  background: none;
  border: none;
  font-size: 20px;
  font-weight: bold;
  line-height: 20px;
}
.plotly-notifier .notifier-close:hover {
  color: #444;
  text-decoration: none;
  cursor: pointer;
}
  /* inject:end */
`;core.register([PlotlyHistogram]);class CPTFit extends ProspectableElement{static get properties(){return{}}constructor(){super(),this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.choices=[],this.samples=null,this.working=!1,this.queued=!1,this.worker=new WorkerFactory$2,this.worker.onmessage=t=>{this.working=!1,this.samples=t.data.samples,this.a=t.data.results.alpha,this.l=t.data.results.lambda,this.g=t.data.results.gamma,this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-fit-update",{detail:{a:this.a,l:this.l,g:this.g},bubbles:!0})),this.queued&&this.fit()},this.fit()}fit(){this.working?this.queued=!0:(this.worker.postMessage(this.choices),this.working=!0,this.queued=!1)}clear(){this.choices=[],this.fit()}get(t="default"){const e=this.choices.find(e=>e.name===t);return void 0===e?null:e}set(t,e,i,r,n,a="",s=""){const o=this.choices.find(t=>t.name===a);void 0===o?this.choices.push({xl:t,xw:e,pw:i,xs:r,response:n,name:a,label:s}):(o.xl=t,o.xw=e,o.pw=i,o.xs=r,o.response=n,o.label=s),this.fit()}static get styles(){return[super.styles,plotlyStyle,i$6`
        /* :host {
          display: inline-block;
        } */

        .trace,
        .hist {
          display: inline-block;

          width: 20rem;
          height: 15rem;
        }
      `]}render(){return x$2`
      <div>
        <div>After ${this.choices.length} trials:</div>
        <div>Current:
          <var class="math-var a">Î±</var> = ${this.a.toFixed(2)},
          <var class="math-var l">Î»</var> = ${this.l.toFixed(2)},
          <var class="math-var g">Î³</var> = ${this.g.toFixed(2)}
        </div>
        <div class="param">
          <div class="trace alpha"></div>
          <div class="hist alpha"></div>
        </div>
        <div class="param">
          <div class="trace lambda"></div>
          <div class="hist lambda"></div>
        </div>
        <div class="param">
          <div class="trace gamma"></div>
          <div class="hist gamma"></div>
        </div>
        <div class="param">
          <div class="trace luce"></div>
          <div class="hist luce"></div>
        </div>
      </div>
    `}plotParam(t){const e={l:40,r:10,b:40,t:40,pad:4};core.react(this.shadowRoot.querySelector(`.trace.${t}`),[{y:this.samples[t]}],{margin:e,title:`Traceplot of ${t}`}),core.react(this.shadowRoot.querySelector(`.hist.${t}`),[{x:this.samples[t],type:"histogram"}],{margin:e,title:`Posterior of ${t}`})}update(t){super.update(t),null!==this.samples&&(this.plotParam("alpha"),this.plotParam("lambda"),this.plotParam("gamma"),this.plotParam("luce"))}}customElements.define("cpt-fit",CPTFit);class CPTParameters extends ProspectableElement{static get properties(){return{a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}constructor(){super(),this.a=void 0,this.l=void 0,this.g=void 0}setAlpha(t){this.a=+t.target.value,this.dispatchEvent(new CustomEvent("cpt-parameters-a",{detail:{a:this.a},bubbles:!0}))}setLambda(t){this.l=+t.target.value,this.dispatchEvent(new CustomEvent("cpt-parameters-l",{detail:{l:this.l},bubbles:!0}))}setGamma(t){this.g=+t.target.value,this.dispatchEvent(new CustomEvent("cpt-parameters-g",{detail:{g:this.g},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        decidables-slider {
          line-height: 1;
          text-align: center;
        }

        decidables-slider  div {
          margin-bottom: 0.25rem;
        }

        .a {
          --decidables-slider-background-color: var(---color-a-light);
          --decidables-slider-color: var(---color-a);
        }

        .l {
          --decidables-slider-background-color: var(---color-l-light);
          --decidables-slider-color: var(---color-l);
        }

        .g {
          --decidables-slider-background-color: var(---color-g-light);
          --decidables-slider-color: var(---color-g);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.a?x$2`<decidables-slider class="a"
            ?disabled=${!this.interactive}
            scale
            min=${CPTMath.a.MIN}
            max=${CPTMath.a.MAX}
            step=${CPTMath.a.STEP}
            .value=${+this.a.toFixed(2)}
            @change=${this.setAlpha.bind(this)}
            @input=${this.setAlpha.bind(this)}
          ><div>Alpha<br><span class="math-var">Î±</span></div></decidables-slider>`:x$2``}
        ${null!=this.l?x$2`<decidables-slider class="l"
            ?disabled=${!this.interactive}
            scale
            min=${CPTMath.l.MIN}
            max=${CPTMath.l.MAX}
            step=${CPTMath.l.STEP}
            .value=${+this.l.toFixed(2)}
            @change=${this.setLambda.bind(this)}
            @input=${this.setLambda.bind(this)}
          ><div>Lambda<br><span class="math-var">Î»</span></div></decidables-slider>`:x$2``}
        ${null!=this.g?x$2`<decidables-slider class="g"
            ?disabled=${!this.interactive}
            scale
            min=${CPTMath.g.MIN}
            max=${CPTMath.g.MAX}
            step=${CPTMath.g.STEP}
            .value=${+this.g.toFixed(2)}
            @change=${this.setGamma.bind(this)}
            @input=${this.setGamma.bind(this)}
          ><div>Gamma<br><span class="math-var">Î³</span></div></decidables-slider>`:x$2``}
      </div>`}}customElements.define("cpt-parameters",CPTParameters);class CPTProbability extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},w:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.g=CPTMath.g.DEFAULT,this.p=null,this.label="",this.function="default",this.functions=[{name:"default",g:this.g}],this.probabilities=[{name:"default",p:this.p,label:this.label,function:this.function}],this.xl=null,this.xw=null,this.pw=null,this.xs=null,this.trialCount=null,this.response=null,this.alignState()}alignState(){this.functions[0].g=this.g,this.probabilities[0].p=this.p,this.probabilities[0].label=this.label,this.probabilities[0].function=this.function,this.probabilities.forEach(t=>{const e=this.functions.find(e=>e.name===t.function);t.w=CPTMath.pg2w(t.p,e.g)}),this.w=this.probabilities[0].w}trial(t,e,i,r,n,a){this.trialCount&&this.removeProbability(`${this.trialCount}`),this.xl=t,this.xw=e,this.pw=i,this.xs=r,this.trialCount=n,this.response=a,this.setProbability(this.pw,`${this.trialCount}`,"","default",!0)}pauseTrial(){const t=select$5(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum(t=>(t.paused=!0,t))}resumeTrial(){select$5(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum(t=>(t.paused=!1,t)),this.requestUpdate()}clearFunctions(){this.functions.splice(1),this.requestUpdate()}clearProbabilities(){this.probabilities.splice(1),this.requestUpdate()}clear(){this.clearFunctions(),this.clearProbabilities()}removeFunction(t){this.functions=this.functions.filter(e=>e.name!==t),this.requestUpdate()}removeProbability(t){this.probabilities=this.probabilities.filter(e=>e.name!==t),this.requestUpdate()}remove(t){this.removeFunction(t),this.removeProbability(t)}getFunction(t="default"){return this.functions.find(e=>e.name===t)}getProbability(t="default"){return this.probabilities.find(e=>e.name===t)}get(t="default"){return{...this.getFunction(t),...this.getProbability(t)}}setFunction(t,e="default"){"default"===e&&(this.g=t);const i=this.functions.find(t=>t.name===e);void 0===i?this.functions.push({name:e,g:t}):i.g=t,this.requestUpdate()}setProbability(t,e="default",i="",r=e,n=!1){"default"===e&&(this.p=t,this.label=i);const a=this.probabilities.find(t=>t.name===e);void 0===a?this.probabilities.push({name:e,p:t,label:i,function:r,trial:n,new:n}):(a.p=t,a.label=i,a.function=r),this.requestUpdate()}set(t,e,i="default",r="",n=i){this.setFunction(e,n),this.setProbability(t,i,r,n)}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 20rem;
          height: 20rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .curve.interactive {
          cursor: nwse-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .curve.interactive:hover {
          filter: url("#shadow-4");
        }

        .curve.interactive:active {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .curve.interactive:focus {
          filter: url("#shadow-8");
        }

        .point.interactive {
          cursor: nesw-resize;

          filter: url("#shadow-2");
          outline: none;

          /* HACK: This gets Safari to correctly apply the filter! */
          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */
          stroke: #000000;
          stroke-opacity: 0;
          stroke-width: 0;
        }

        .point.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #ff0000;
        }

        .point.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #00ff00;
        }

        :host(.keyboard) .point.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #0000ff;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .scale-x path,
        .scale-x line,
        .scale-y path,
        .scale-y line {
          stroke: var(---color-element-border);
        }

        .diagonal {
          stroke: var(---color-element-border);
          stroke-dasharray: 4;
          stroke-width: 1;
        }

        .curve {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .line-p,
        .line-w {
          fill: none;
          stroke-width: 2;
        }

        .line-p {
          stroke: var(---color-p);
        }

        .line-w {
          stroke: var(---color-w);
        }

        .point .circle {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: middle;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        /* Make a larger target for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$2`
      ${ProspectableElement.svgFilters}
    `}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height,r=Math.min(e,i),n=2*this.rem,a=3*this.rem,s=3*this.rem,o=r-(n+a),l=r-(s+2*this.rem),c=parseInt(this.getComputedStyleValue("---transition-duration"),10),g=linear().domain([0,1]).range([0,l]).clamp(!0);this.xScale=g;const d=linear().domain([1,0]).range([0,o]);this.yScale=d;const u=drag().subject((t,e)=>({x:t.x,y:this.yScale(CPTMath.pg2w(this.xScale.invert(t.x),e.g)),p:this.xScale.invert(t.x),g:e.g,w:CPTMath.pg2w(this.xScale.invert(t.x),e.g)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=this.xScale.invert(t.x),r=this.yScale.invert(t.y),n=i-t.subject.p,a=r-t.subject.w,s=(n**2+a**2)**.5,o=t.subject.p>t.subject.w?n>a?t.subject.g-s:t.subject.g+s:n>a?t.subject.g+s:t.subject.g-s;e.g=o>CPTMath.g.MAX?CPTMath.g.MAX:o<CPTMath.g.MIN?CPTMath.g.MIN:o,"default"===e.name&&(this.g=e.g),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:this.get(e.name),bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),B=drag().subject((t,e)=>({x:this.xScale(e.p),y:this.yScale(e.w)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=this.xScale.invert(t.x);e.p=i<0?0:i>1?1:i,"default"===e.name&&(this.p=e.p),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,w:e.w,label:e.label,g:this.getFunction(e.function).g},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),F=shapeLine().x(t=>g(t.p)).y(t=>d(t.w)),h=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),Q=h.enter().append("svg").classed("main",!0),U=Q.merge(h).attr("viewBox",`0 0 ${r} ${r}`),I=Q.append("g").classed("plot",!0),b=U.select(".plot").attr("transform",`translate(${s}, ${n})`);I.append("clipPath").attr("id","clip-cpt-value").append("rect"),b.select("clipPath rect").attr("height",o+1).attr("width",l+1);const p=I.append("g").classed("underlayer",!0),y=b.select(".underlayer");p.append("rect").classed("background",!0),y.select(".background").attr("height",o).attr("width",l),p.append("g").classed("scale-x",!0);y.select(".scale-x").attr("transform",`translate(0, ${o})`).transition().duration(2*c).ease(cubicOut).call(axisBottom(g)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const m=p.append("text").classed("title-x",!0).attr("text-anchor","middle");m.append("tspan").classed("name",!0).text("Probability ("),m.append("tspan").classed("math-var p",!0).text("p"),m.append("tspan").classed("name",!0).text(")"),y.select(".title-x").attr("transform",`translate(${l/2}, ${o+2.25*this.rem})`),p.append("g").classed("scale-y",!0);y.select(".scale-y").transition().duration(2*c).ease(cubicOut).call(axisLeft(d)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const C=p.append("text").classed("title-y",!0).attr("text-anchor","middle");C.append("tspan").classed("name",!0).text("Decision Weight ("),C.append("tspan").classed("math-var v",!0).text("w"),C.append("tspan").classed("name",!0).text(")"),y.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${o/2})rotate(-90)`),p.append("line").classed("diagonal",!0),y.select(".diagonal").transition().duration(2*c).attr("x1",g(0)).attr("y1",d(0)).attr("x2",g(1)).attr("y2",d(1)),I.append("g").classed("content",!0);const f=b.select(".content"),x=f.selectAll(".lines").data(this.probabilities.filter(t=>null!=t.p),t=>t.name),A=x.enter().append("g").classed("lines",!0);A.each((t,e,i)=>{const r=select$5(i[e]);r.append("line").classed("line-p above",!0),r.append("line").classed("line-p below",!0),r.append("line").classed("line-w before",!0),r.append("line").classed("line-w after",!0)}),A.filter(t=>t.new).attr("data-animating-ease-time-1",0).attr("data-animating-ease-time-2",0).each((t,e,i)=>{const r=select$5(i[e]);r.select(".line-p.above").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",d(1)).attr("y2",d(1)),r.select(".line-p.below").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",d(0)).attr("y2",d(0)),r.select(".line-w.before").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",d(t.w)).attr("y2",d(t.w)),r.select(".line-w.after").attr("x1",g(t.p)).attr("x2",g(t.p)).attr("y1",d(t.w)).attr("y2",d(t.w))});const v=A.merge(x),L=v.filter(t=>t.new&&!t.paused);if(!L.empty()){const t=L.attr("data-animating-ease-time-1"),e=L.attr("data-animating-ease-time-2"),i=e=>linear().domain([0,1]).range([t,1])(e),r=e=>linear().range([0,1]).domain([t,1])(e),n=t=>linear().domain([0,1]).range([e,1])(t),a=t=>linear().range([0,1]).domain([e,1])(t),s=e=>i=>linear().domain([e(t),1]).range([0,1])(e(i)),o=t=>i=>linear().domain([t(e),1]).range([0,1])(t(i));L.transition("new-1").duration(()=>Math.floor(c*(1-t))).ease(i).attr("data-animating-ease-time-1",1).tween("animating",(t,e,i)=>{const n=i[e],a=select$5(n),o=interpolate$1(void 0!==n.p?n.p:t.p,t.p),l=interpolate$1(void 0!==n.g?n.g:this.getFunction(t.function).g,this.getFunction(t.function).g),c=interpolate$1(d.invert(a.select(".line-p.above").attr("y1")),t.w),u=interpolate$1(d.invert(a.select(".line-p.below").attr("y1")),t.w);return t=>{n.p=o(cubicOut(r(t))),n.g=l(cubicOut(r(t))),n.w=CPTMath.pg2w(n.p,n.g),a.select(".line-p.above").attr("x1",g(n.p)).attr("x2",g(n.p)).attr("y1",d(c(s(cubicIn)(t)))).attr("y2",d(1)),a.select(".line-p.below").attr("x1",g(n.p)).attr("x2",g(n.p)).attr("y1",d(u(s(cubicIn)(t)))).attr("y2",d(0))}}).transition("new-2").duration(()=>Math.floor(c*(1-e))).ease(n).attr("data-animating-ease-time-2",1).tween("animating",(t,e,i)=>{const r=i[e],n=select$5(r),s=interpolate$1(void 0!==r.p?r.p:t.p,t.p),l=interpolate$1(void 0!==r.g?r.g:this.getFunction(t.function).g,this.getFunction(t.function).g),c=interpolate$1(g.invert(n.select(".line-w.before").attr("x1")),0),u=interpolate$1(g.invert(n.select(".line-w.after").attr("x1")),1);return t=>{r.p=s(cubicOut(a(t))),r.g=l(cubicOut(a(t))),r.w=CPTMath.pg2w(r.p,r.g),n.select(".line-w.before").attr("x1",g(c(o(cubicOut)(t)))).attr("x2",g(r.p)).attr("y1",d(r.w)).attr("y2",d(r.w)),n.select(".line-w.after").attr("x1",g(u(o(cubicOut)(t)))).attr("x2",g(r.p)).attr("y1",d(r.w)).attr("y2",d(r.w))}}).on("end",(t,e,i)=>{const r=i[e];r.removeAttribute("data-animating-ease-time-1"),r.removeAttribute("data-animating-ease-time-2"),t.new=!1,this.dispatchEvent(new CustomEvent("prospectable-response",{detail:{trial:this.trialCount,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response},bubbles:!0}))})}const R=v.filter(t=>t.new&&t.paused);if(!R.empty()){const t=R.attr("data-animating-ease-time-1"),e=R.attr("data-animating-ease-time-2");R.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).tween("paused",(i,r,n)=>{const a=n[r],s=select$5(a),o=interpolate$1(void 0!==a.p?a.p:i.p,i.p),l=interpolate$1(void 0!==a.g?a.g:this.getFunction(i.function).g,this.getFunction(i.function).g),c=interpolate$1(1,i.w),u=interpolate$1(0,i.w),B=interpolate$1(i.p,0),F=interpolate$1(i.p,1);return i=>{a.p=o(i),a.g=l(i),a.w=CPTMath.pg2w(a.p,a.g),s.select(".line-p.above").attr("x1",g(a.p)).attr("x2",g(a.p)).attr("y1",d(c(cubicIn(t)))).attr("y2",d(1)),s.select(".line-p.below").attr("x1",g(a.p)).attr("x2",g(a.p)).attr("y1",d(u(cubicIn(t)))).attr("y2",d(0)),s.select(".line-w.before").attr("x1",g(B(cubicOut(e)))).attr("x2",g(a.p)).attr("y1",d(a.w)).attr("y2",d(a.w)),s.select(".line-w.after").attr("x1",g(F(cubicOut(e)))).attr("x2",g(a.p)).attr("y1",d(a.w)).attr("y2",d(a.w))}})}v.filter(t=>!t.new).transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).tween("non-animating",(t,e,i)=>{const r=i[e],n=select$5(r),a=interpolate$1(void 0!==r.p?r.p:t.p,t.p),s=interpolate$1(void 0!==r.g?r.g:this.getFunction(t.function).g,this.getFunction(t.function).g);return t=>{r.p=a(t),r.g=s(t),r.w=CPTMath.pg2w(r.p,r.g),n.select(".line-p.above").attr("x1",g(r.p)).attr("x2",g(r.p)).attr("y1",d(r.w)).attr("y2",d(1)),n.select(".line-p.below").attr("x1",g(r.p)).attr("x2",g(r.p)).attr("y1",d(r.w)).attr("y2",d(0)),n.select(".line-w.before").attr("x1",g(0)).attr("x2",g(r.p)).attr("y1",d(r.w)).attr("y2",d(r.w)),n.select(".line-w.after").attr("x1",g(1)).attr("x2",g(r.p)).attr("y1",d(r.w)).attr("y2",d(r.w))}}),x.exit().remove();const S=f.selectAll(".curve").data(this.functions,t=>t.name),G=S.enter().append("g").classed("curve",!0).attr("clip-path","url(#clip-cpt-value)");G.append("path").classed("path",!0),G.append("path").classed("path touch",!0);const E=G.merge(S);(this.firstUpdate||t.has("interactive"))&&(this.interactive?E.attr("tabindex",0).classed("interactive",!0).call(u).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let i=e.g;switch(t.key){case"ArrowUp":case"ArrowLeft":i+=t.shiftKey?CPTMath.g.STEP:CPTMath.g.JUMP;break;case"ArrowDown":case"ArrowRight":i-=t.shiftKey?CPTMath.g.STEP:CPTMath.g.JUMP}i=i<CPTMath.g.MIN?CPTMath.g.MIN:i>CPTMath.g.MAX?CPTMath.g.MAX:i,i!==e.g&&(e.g=i,"default"===e.name&&(this.g=e.g),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:this.get(e.name),bubbles:!0}))),t.preventDefault()}}):E.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),E.select(".path").transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.g?r.g:t.g,t.g);return t=>{r.g=n(t);const e=range$1(g.range()[0],g.range()[1]+1,1).map(t=>({p:g.invert(t),w:CPTMath.pg2w(g.invert(t),r.g)}));return F(e)}}),E.select(".path.touch").transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.g?r.g:t.g,t.g);return t=>{r.g=n(t);const e=range$1(g.range()[0],g.range()[1]+1,1).map(t=>({p:g.invert(t),w:CPTMath.pg2w(g.invert(t),r.g)}));return F(e)}}),S.exit().remove();const V=f.selectAll(".point").data(this.probabilities.filter(t=>null!=t.p),t=>t.name),Z=V.enter().append("g").classed("point",!0);Z.append("circle").classed("circle touch",!0),Z.append("text").classed("label",!0);const N=Z.merge(V);N.select("text").text(t=>t.label),N.filter(e=>(this.firstUpdate||t.has("interactive"))&&this.interactive&&!e.trial).attr("tabindex",0).classed("interactive",!0).call(B).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let i=e.p;switch(t.key){case"ArrowUp":case"ArrowRight":i+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowLeft":i-=t.shiftKey?.01:.05}i=i<0?0:i>1?1:i,i!==e.p&&(e.p=i,"default"===e.name&&(this.p=e.p),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,w:e.w,label:e.label,g:this.getFunction(e.function).g},bubbles:!0}))),t.preventDefault()}}),N.filter(e=>(this.firstUpdate||t.has("interactive"))&&!this.interactive||e.trial).attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null),N.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("transform",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.p?r.p:t.p,t.p),a=interpolate$1(void 0!==r.g?r.g:this.getFunction(t.function).g,this.getFunction(t.function).g);return t=>(r.p=n(t),r.g=a(t),`translate(\n            ${g(r.p)},\n            ${d(CPTMath.pg2w(r.p,r.g))}\n          )`)}),V.exit().remove(),this.drag=!1,this.firstUpdate=!1}}customElements.define("cpt-probability",CPTProbability);var attributes$6={exports:{}},attributes$5={exports:{}},Color=colorExports,colorScaleAttrs$2=attributes$F,axisHoverFormat$3=axis_format_attributes.axisHoverFormat,hovertemplateAttrs$3=template_attributes.hovertemplateAttrs,baseAttrs$3=attributes$L,extendFlat$3=extend.extendFlat,overrideAll$3=edit_types.overrideAll;function makeContourProjAttr(t){return{valType:"boolean",dflt:!1,description:["Determines whether or not these contour lines are projected","on the",t,"plane.","If `highlight` is set to *true* (the default), the projected","lines are shown on hover.","If `show` is set to *true*, the projected lines are shown","in permanence."].join(" ")}}function makeContourAttr(t){return{show:{valType:"boolean",dflt:!1,description:["Determines whether or not contour lines about the",t,"dimension are drawn."].join(" ")},start:{valType:"number",dflt:null,editType:"plot",description:["Sets the starting contour level value.","Must be less than `contours.end`"].join(" ")},end:{valType:"number",dflt:null,editType:"plot",description:["Sets the end contour level value.","Must be more than `contours.start`"].join(" ")},size:{valType:"number",dflt:null,min:0,editType:"plot",description:["Sets the step between each contour level.","Must be positive."].join(" ")},project:{x:makeContourProjAttr("x"),y:makeContourProjAttr("y"),z:makeContourProjAttr("z")},color:{valType:"color",dflt:Color.defaultLine,description:"Sets the color of the contour lines."},usecolormap:{valType:"boolean",dflt:!1,description:["An alternate to *color*.","Determines whether or not the contour lines are colored using","the trace *colorscale*."].join(" ")},width:{valType:"number",min:1,max:16,dflt:2,description:"Sets the width of the contour lines."},highlight:{valType:"boolean",dflt:!0,description:["Determines whether or not contour lines about the",t,"dimension are highlighted on hover."].join(" ")},highlightcolor:{valType:"color",dflt:Color.defaultLine,description:"Sets the color of the highlighted contour lines."},highlightwidth:{valType:"number",min:1,max:16,dflt:2,description:"Sets the width of the highlighted contour lines."}}}var attrs$2=attributes$5.exports=overrideAll$3(extendFlat$3({z:{valType:"data_array",description:"Sets the z coordinates."},x:{valType:"data_array",description:"Sets the x coordinates."},y:{valType:"data_array",description:"Sets the y coordinates."},text:{valType:"string",dflt:"",arrayOk:!0,description:["Sets the text elements associated with each z value.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,description:"Same as `text`."},hovertemplate:hovertemplateAttrs$3(),xhoverformat:axisHoverFormat$3("x"),yhoverformat:axisHoverFormat$3("y"),zhoverformat:axisHoverFormat$3("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in."].join(" ")},surfacecolor:{valType:"data_array",description:["Sets the surface color values,","used for setting a color scale independent of `z`."].join(" ")}},colorScaleAttrs$2("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:makeContourAttr("x"),y:makeContourAttr("y"),z:makeContourAttr("z")},hidesurface:{valType:"boolean",dflt:!1,description:["Determines whether or not a surface is drawn.","For example, set `hidesurface` to *false*","`contours.x.show` to *true* and","`contours.y.show` to *true* to draw a wire frame plot."].join(" ")},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10,description:"Numeric vector, representing the X coordinate for each vertex."},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4,description:"Numeric vector, representing the Y coordinate for each vertex."},z:{valType:"number",min:-1e5,max:1e5,dflt:0,description:"Numeric vector, representing the Z coordinate for each vertex."}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8,description:"Ambient light increases overall color visibility but can wash out the image."},diffuse:{valType:"number",min:0,max:1,dflt:.8,description:"Represents the extent that incident rays are reflected in a range of angles."},specular:{valType:"number",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",min:0,max:5,dflt:.2,description:["Represents the reflectance as a dependency of the viewing angle; e.g. paper is reflective","when viewing it from the edge of the paper (almost 90 degrees), causing shine."].join(" ")}},opacity:{valType:"number",min:0,max:1,dflt:1,description:["Sets the opacity of the surface.","Please note that in the case of using high `opacity` values for example a value","greater than or equal to 0.5 on two surfaces (and 0.25 with four surfaces), an","overlay of multiple transparent surfaces may not perfectly be sorted in depth by the","webgl API. This behavior may be improved in the near future and is subject to change."].join(" ")},opacityscale:{valType:"any",editType:"calc",description:["Sets the opacityscale.","The opacityscale must be an array containing","arrays mapping a normalized value to an opacity value.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 1], [0.5, 0.2], [1, 1]]` means that higher/lower values would have","higher opacity values and those in the middle would be more transparent","Alternatively, `opacityscale` may be a palette name string","of the following list: 'min', 'max', 'extremes' and 'uniform'.","The default is 'uniform'."].join(" ")},hoverinfo:extendFlat$3({},baseAttrs$3.hoverinfo),showlegend:extendFlat$3({},baseAttrs$3.showlegend,{dflt:!1})}),"calc","nested");attrs$2.x.editType=attrs$2.y.editType=attrs$2.z.editType="calc+clearAxisTypes";var attributesExports$2=attributes$5.exports,colorScaleAttrs$1=attributes$F,axisHoverFormat$2=axis_format_attributes.axisHoverFormat,hovertemplateAttrs$2=template_attributes.hovertemplateAttrs,surfaceAttrs=attributesExports$2,baseAttrs$2=attributes$L,extendFlat$2=extend.extendFlat,attributes$4=extendFlat$2({x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the X coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Y coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Z coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},i:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *first* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `i[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `i` represents a","point in space, which is the first vertex of a triangle."].join(" ")},j:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *second* vertex of a triangle. For example, `{i[m], j[m], k[m]}` ","together represent face m (triangle m) in the mesh, where `j[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `j` represents a","point in space, which is the second vertex of a triangle."].join(" ")},k:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *third* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `k[m] = n` points to the triplet ","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `k` represents a","point in space, which is the third vertex of a triangle."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets the text elements associated with the vertices.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},hovertemplate:hovertemplateAttrs$2({editType:"calc"}),xhoverformat:axisHoverFormat$2("x"),yhoverformat:axisHoverFormat$2("y"),zhoverformat:axisHoverFormat$2("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc",description:["Sets the Delaunay axis, which is the axis that is perpendicular to the surface of the","Delaunay triangulation.","It has an effect if `i`, `j`, `k` are not provided and `alphahull` is set to indicate","Delaunay triangulation."].join(" ")},alphahull:{valType:"number",dflt:-1,editType:"calc",description:["Determines how the mesh surface triangles are derived from the set of","vertices (points) represented by the `x`, `y` and `z` arrays, if","the `i`, `j`, `k` arrays are not supplied.","For general use of `mesh3d` it is preferred that `i`, `j`, `k` are","supplied.","If *-1*, Delaunay triangulation is used, which is mainly suitable if the","mesh is a single, more or less layer surface that is perpendicular to `delaunayaxis`.","In case the `delaunayaxis` intersects the mesh surface at more than one point","it will result triangles that are very long in the dimension of `delaunayaxis`.","If *>0*, the alpha-shape algorithm is used. In this case, the positive `alphahull` value","signals the use of the alpha-shape algorithm, _and_ its value","acts as the parameter for the mesh fitting.","If *0*,  the convex-hull algorithm is used. It is suitable for convex bodies","or if the intention is to enclose the `x`, `y` and `z` point set into a convex","hull."].join(" ")},intensity:{valType:"data_array",editType:"calc",description:["Sets the intensity values for vertices or cells","as defined by `intensitymode`.","It can be used for plotting fields on meshes."].join(" ")},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc",description:["Determines the source of `intensity` values."].join(" ")},color:{valType:"color",editType:"calc",description:"Sets the color of the whole mesh"},vertexcolor:{valType:"data_array",editType:"calc",description:["Sets the color of each vertex","Overrides *color*. While Red, green and blue colors","are in the range of 0 and 255; in the case of having","vertex color data in RGBA format, the alpha color","should be normalized to be between 0 and 1."].join(" ")},facecolor:{valType:"data_array",editType:"calc",description:["Sets the color of each face","Overrides *color* and *vertexcolor*."].join(" ")}},colorScaleAttrs$1("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:surfaceAttrs.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not normal smoothing is applied to the meshes,","creating meshes with an angular, low-poly look via flat reflections."].join(" ")},contour:{show:extendFlat$2({},surfaceAttrs.contours.x.show,{description:["Sets whether or not dynamic contours are shown on hover"].join(" ")}),color:surfaceAttrs.contours.x.color,width:surfaceAttrs.contours.x.width,editType:"calc"},lightposition:{x:extendFlat$2({},surfaceAttrs.lightposition.x,{dflt:1e5}),y:extendFlat$2({},surfaceAttrs.lightposition.y,{dflt:1e5}),z:extendFlat$2({},surfaceAttrs.lightposition.z,{dflt:0}),editType:"calc"},lighting:extendFlat$2({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc",description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc",description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."},editType:"calc"},surfaceAttrs.lighting),hoverinfo:extendFlat$2({},baseAttrs$2.hoverinfo,{editType:"calc"}),showlegend:extendFlat$2({},baseAttrs$2.showlegend,{dflt:!1})}),colorScaleAttrs=attributes$F,axisHoverFormat$1=axis_format_attributes.axisHoverFormat,hovertemplateAttrs$1=template_attributes.hovertemplateAttrs,meshAttrs=attributes$4,baseAttrs$1=attributes$L,extendFlat$1=extend.extendFlat,overrideAll$2=edit_types.overrideAll;function makeSliceAttr(t){return{show:{valType:"boolean",dflt:!1,description:["Determines whether or not slice planes about the",t,"dimension are drawn."].join(" ")},locations:{valType:"data_array",dflt:[],description:["Specifies the location(s) of slices on the axis.","When not specified slices would be created for","all points of the axis",t,"except start and end."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `slices`. The default fill value of the","`slices` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")}}}function makeCapAttr(t){return{show:{valType:"boolean",dflt:!0,description:["Sets the fill ratio of the `slices`. The default fill value of the",t,"`slices` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `caps`. The default fill value of the","`caps` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")}}}var attrs$1=attributes$6.exports=overrideAll$2(extendFlat$1({x:{valType:"data_array",description:["Sets the X coordinates of the vertices on X axis."].join(" ")},y:{valType:"data_array",description:["Sets the Y coordinates of the vertices on Y axis."].join(" ")},z:{valType:"data_array",description:["Sets the Z coordinates of the vertices on Z axis."].join(" ")},value:{valType:"data_array",description:["Sets the 4th dimension (value) of the vertices."].join(" ")},isomin:{valType:"number",description:["Sets the minimum boundary for iso-surface plot."].join(" ")},isomax:{valType:"number",description:["Sets the maximum boundary for iso-surface plot."].join(" ")},surface:{show:{valType:"boolean",dflt:!0,description:["Hides/displays surfaces between minimum and maximum iso-values."].join(" ")},count:{valType:"integer",dflt:2,min:1,description:["Sets the number of iso-surfaces between minimum and maximum iso-values.","By default this value is 2 meaning that only minimum and maximum surfaces","would be drawn."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the iso-surface. The default fill value of the","surface is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all",description:["Sets the surface pattern of the iso-surface 3-D sections. The default pattern of","the surface is `all` meaning that the rest of surface elements would be shaded.","The check options (either 1 or 2) could be used to draw half of the squares","on the surface. Using various combinations of capital `A`, `B`, `C`, `D` and `E`","may also be used to reduce the number of triangles on the iso-surfaces and","creating other patterns of interest."].join(" ")}},spaceframe:{show:{valType:"boolean",dflt:!1,description:["Displays/hides tetrahedron shapes between minimum and","maximum iso-values. Often useful when either caps or","surfaces are disabled or filled with values less than 1."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:.15,description:["Sets the fill ratio of the `spaceframe` elements. The default fill value","is 0.15 meaning that only 15% of the area of every faces of tetras would be","shaded. Applying a greater `fill` ratio would allow the creation of stronger","elements or could be sued to have entirely closed areas (in case of using 1)."].join(" ")}},slices:{x:makeSliceAttr("x"),y:makeSliceAttr("y"),z:makeSliceAttr("z")},caps:{x:makeCapAttr("x"),y:makeCapAttr("y"),z:makeCapAttr("z")},text:{valType:"string",dflt:"",arrayOk:!0,description:["Sets the text elements associated with the vertices.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,description:"Same as `text`."},hovertemplate:hovertemplateAttrs$1(),xhoverformat:axisHoverFormat$1("x"),yhoverformat:axisHoverFormat$1("y"),zhoverformat:axisHoverFormat$1("z"),valuehoverformat:axisHoverFormat$1("value",1),showlegend:extendFlat$1({},baseAttrs$1.showlegend,{dflt:!1})},colorScaleAttrs("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:meshAttrs.opacity,lightposition:meshAttrs.lightposition,lighting:meshAttrs.lighting,flatshading:meshAttrs.flatshading,contour:meshAttrs.contour,hoverinfo:extendFlat$1({},baseAttrs$1.hoverinfo)}),"calc","nested");attrs$1.flatshading.dflt=!0,attrs$1.lighting.facenormalsepsilon.dflt=0,attrs$1.x.editType=attrs$1.y.editType=attrs$1.z.editType=attrs$1.value.editType="calc+clearAxisTypes";var attributesExports$1=attributes$6.exports,Lib$5=libExports,Registry$3=registry$1,attributes$3=attributesExports$1,colorscaleDefaults=defaults$t;function supplyDefaults(t,e,i,r){supplyIsoDefaults(t,e,i,r,function(i,r){return Lib$5.coerce(t,e,attributes$3,i,r)})}function supplyIsoDefaults(t,e,i,r,n){var a=n("isomin"),s=n("isomax");null!=s&&null!=a&&a>s&&(e.isomin=null,e.isomax=null);var o=n("x"),l=n("y"),c=n("z"),g=n("value");o&&o.length&&l&&l.length&&c&&c.length&&g&&g.length?(Registry$3.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],r),n("valuehoverformat"),["x","y","z"].forEach(function(t){n(t+"hoverformat");var e="caps."+t;n(e+".show")&&n(e+".fill");var i="slices."+t;n(i+".show")&&(n(i+".fill"),n(i+".locations"))}),n("spaceframe.show")&&n("spaceframe.fill"),n("surface.show")&&(n("surface.count"),n("surface.fill"),n("surface.pattern")),n("contour.show")&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(t){n(t)}),colorscaleDefaults(t,e,r,n,{prefix:"",cLetter:"c"}),e._length=null):e.visible=!1}var defaults$a={supplyDefaults:supplyDefaults},Lib$4=libExports;function processGrid$1(t){var e,i,r,n,a,s,o,l,c,g,d,u,B=t._x,F=t._y,h=t._z,Q=t._len,U=-1/0,I=1/0,b=-1/0,p=1/0,y=-1/0,m=1/0,C="";for(Q&&(o=B[0],c=F[0],d=h[0]),Q>1&&(l=B[Q-1],g=F[Q-1],u=h[Q-1]),e=0;e<Q;e++)U=Math.max(U,B[e]),I=Math.min(I,B[e]),b=Math.max(b,F[e]),p=Math.min(p,F[e]),y=Math.max(y,h[e]),m=Math.min(m,h[e]),n||B[e]===o||(n=!0,C+="x"),a||F[e]===c||(a=!0,C+="y"),s||h[e]===d||(s=!0,C+="z");n||(C+="x"),a||(C+="y"),s||(C+="z");var f=distinctVals(t._x),x=distinctVals(t._y),A=distinctVals(t._z);C=(C=(C=C.replace("x",(o>l?"-":"+")+"x")).replace("y",(c>g?"-":"+")+"y")).replace("z",(d>u?"-":"+")+"z");var v=function(){Q=0,f=[],x=[],A=[]};(!Q||Q<f.length*x.length*A.length)&&v();var L=function(t){return"x"===t?B:"y"===t?F:h},R=function(t){return"x"===t?f:"y"===t?x:A},S=function(t){return t[Q-1]<t[0]?-1:1},G=L(C[1]),E=L(C[3]),V=L(C[5]),Z=R(C[1]).length,N=R(C[3]).length,D=R(C[5]).length,w=!1,X=function(t,e,i){return Z*(N*t+e)+i},W=S(L(C[1])),H=S(L(C[3])),T=S(L(C[5]));for(e=0;e<D-1;e++){for(i=0;i<N-1;i++){for(r=0;r<Z-1;r++){var M=X(e,i,r),k=X(e,i,r+1),Y=X(e,i+1,r),J=X(e+1,i,r);if(G[M]*W<G[k]*W&&E[M]*H<E[Y]*H&&V[M]*T<V[J]*T||(w=!0),w)break}if(w)break}if(w)break}return w&&(Lib$4.warn("Encountered arbitrary coordinates! Unable to input data grid."),v()),{xMin:I,yMin:p,zMin:m,xMax:U,yMax:b,zMax:y,Xs:f,Ys:x,Zs:A,len:Q,fill:C}}function distinctVals(t){return Lib$4.distinctVals(t).vals}function filter$1(t,e){if(void 0===e&&(e=t.length),Lib$4.isTypedArray(t))return t.subarray(0,e);for(var i=[],r=0;r<e;r++)i[r]=+t[r];return i}var calc_1={filter:filter$1,processGrid:processGrid$1},colorscaleCalc=calc$7,processGrid=calc_1.processGrid,filter=calc_1.filter,calc$1=function(t,e){e._len=Math.min(e.x.length,e.y.length,e.z.length,e.value.length),e._x=filter(e.x,e._len),e._y=filter(e.y,e._len),e._z=filter(e.z,e._len),e._value=filter(e.value,e._len);var i=processGrid(e);e._gridFill=i.fill,e._Xs=i.Xs,e._Ys=i.Ys,e._Zs=i.Zs,e._len=i.len;for(var r=1/0,n=-1/0,a=0;a<e._len;a++){var s=e._value[a];r=Math.min(r,s),n=Math.max(n,s)}e._minValues=r,e._maxValues=n,e._vMin=void 0===e.isomin||null===e.isomin?r:e.isomin,e._vMax=void 0===e.isomax||null===e.isomax?n:e.isomax,colorscaleCalc(t,e,{vals:[e._vMin,e._vMax],containerStr:""})},stackgl_modules={exports:{}};!function(){var t={1964:function(t,e,i){t.exports={alpha_shape:i(3502),convex_hull:i(7352),delaunay_triangulate:i(7642),gl_cone3d:i(6405),gl_error3d:i(9165),gl_line3d:i(5714),gl_mesh3d:i(7201),gl_plot3d:i(4100),gl_scatter3d:i(8418),gl_streamtube3d:i(7815),gl_surface3d:i(9499),ndarray:i(9618),ndarray_linear_interpolate:i(4317)}},4793:function(t,e,i){function r(t,e,i){return e&&function(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e);if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==c(e)?e:e+""}function a(t,e,i){return e=o(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,[],o(t).constructor):e.apply(t,i))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}var g=i(7507),d=i(3778),u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=h,e.IS=50;var B=2147483647;function F(t){if(t>B)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,h.prototype),e}function h(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return I(t)}return Q(t,e,i)}function Q(t,e,i){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|m(t,e),r=F(i),n=r.write(t,e);n!==i&&(r=r.slice(0,n));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(it(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return b(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(t));if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer))return p(t,e,i);if("undefined"!=typeof SharedArrayBuffer&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return p(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return h.from(r,e,i);var n=function(t){if(h.isBuffer(t)){var e=0|y(t.length),i=F(e);return 0===i.length||t.copy(i,0,0,e),i}if(void 0!==t.length)return"number"!=typeof t.length||rt(t.length)?F(0):b(t);if("Buffer"===t.type&&Array.isArray(t.data))return b(t.data)}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(t))}function U(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function I(t){return U(t),F(t<0?0:0|y(t))}function b(t){for(var e=t.length<0?0:0|y(t.length),i=F(e),r=0;r<e;r+=1)i[r]=255&t[r];return i}function p(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(r,h.prototype),r}function y(t){if(t>=B)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B.toString(16)+" bytes");return 0|t}function m(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(t));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return tt(t).length;default:if(n)return r?-1:q(t).length;e=(""+e).toLowerCase(),n=!0}}function C(t,e,i){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return w(this,e,i);case"utf8":case"utf-8":return V(this,e,i);case"ascii":return N(this,e,i);case"latin1":case"binary":return D(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function f(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function x(t,e,i,r,n){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),rt(i=+i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:A(t,e,i,r,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):A(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}function A(t,e,i,r,n){var a,s=1,o=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,o/=2,l/=2,i/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var g=-1;for(a=i;a<o;a++)if(c(t,a)===c(e,-1===g?0:a-g)){if(-1===g&&(g=a),a-g+1===l)return g*s}else-1!==g&&(a-=a-g),g=-1}else for(i+l>o&&(i=o-l),a=i;a>=0;a--){for(var d=!0,u=0;u<l;u++)if(c(t,a+u)!==c(e,u)){d=!1;break}if(d)return a}return-1}function v(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;var a,s=e.length;for(r>s/2&&(r=s/2),a=0;a<r;++a){var o=parseInt(e.substr(2*a,2),16);if(rt(o))return a;t[i+a]=o}return a}function L(t,e,i,r){return et(q(e,t.length-i),t,i,r)}function R(t,e,i,r){return et(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function S(t,e,i,r){return et(tt(e),t,i,r)}function G(t,e,i,r){return et(function(t,e){for(var i,r,n,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(i=t.charCodeAt(s))>>8,n=i%256,a.push(n),a.push(r);return a}(e,t.length-i),t,i,r)}function E(t,e,i){return 0===e&&i===t.length?g.fromByteArray(t):g.fromByteArray(t.slice(e,i))}function V(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var a=t[n],s=null,o=a>239?4:a>223?3:a>191?2:1;if(n+o<=i){var l=void 0,c=void 0,g=void 0,d=void 0;switch(o){case 1:a<128&&(s=a);break;case 2:128==(192&(l=t[n+1]))&&(d=(31&a)<<6|63&l)>127&&(s=d);break;case 3:l=t[n+1],c=t[n+2],128==(192&l)&&128==(192&c)&&(d=(15&a)<<12|(63&l)<<6|63&c)>2047&&(d<55296||d>57343)&&(s=d);break;case 4:l=t[n+1],c=t[n+2],g=t[n+3],128==(192&l)&&128==(192&c)&&128==(192&g)&&(d=(15&a)<<18|(63&l)<<12|(63&c)<<6|63&g)>65535&&d<1114112&&(s=d)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),n+=o}return function(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);var i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return i}(r)}h.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,e,i){return Q(t,e,i)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(t,e,i){return function(t,e,i){return U(t),t<=0?F(t):void 0!==e?"string"==typeof i?F(t).fill(e,i):F(t).fill(e):F(t)}(t,e,i)},h.allocUnsafe=function(t){return I(t)},h.allocUnsafeSlow=function(t){return I(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(it(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),it(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,r=e.length,n=0,a=Math.min(i,r);n<a;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:r<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=h.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var a=t[i];if(it(a,Uint8Array))n+a.length>r.length?(h.isBuffer(a)||(a=h.from(a)),a.copy(r,n)):Uint8Array.prototype.set.call(r,a,n);else{if(!h.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n)}n+=a.length}return r},h.byteLength=m,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},h.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?V(this,0,t):C.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",i=e.IS;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},u&&(h.prototype[u]=h.prototype.inspect),h.prototype.compare=function(t,e,i,r,n){if(it(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(t));if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&e>=i)return 0;if(r>=n)return-1;if(e>=i)return 1;if(this===t)return 0;for(var a=(n>>>=0)-(r>>>=0),s=(i>>>=0)-(e>>>=0),o=Math.min(a,s),l=this.slice(r,n),g=t.slice(e,i),d=0;d<o;++d)if(l[d]!==g[d]){a=l[d],s=g[d];break}return a<s?-1:s<a?1:0},h.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return x(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return x(this,t,e,i,!1)},h.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return v(this,t,e,i);case"utf8":case"utf-8":return L(this,t,e,i);case"ascii":case"latin1":case"binary":return R(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function N(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function D(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function w(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);for(var n="",a=e;a<i;++a)n+=nt[t[a]];return n}function X(t,e,i){for(var r=t.slice(e,i),n="",a=0;a<r.length-1;a+=2)n+=String.fromCharCode(r[a]+256*r[a+1]);return n}function W(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function H(t,e,i,r,n,a){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<a)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function T(t,e,i,r,n){K(e,r,n,t,i,7);var a=Number(e&BigInt(4294967295));t[i++]=a,a>>=8,t[i++]=a,a>>=8,t[i++]=a,a>>=8,t[i++]=a;var s=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function M(t,e,i,r,n){K(e,r,n,t,i,7);var a=Number(e&BigInt(4294967295));t[i+7]=a,a>>=8,t[i+6]=a,a>>=8,t[i+5]=a,a>>=8,t[i+4]=a;var s=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function k(t,e,i,r,n,a){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Y(t,e,i,r,n){return e=+e,i>>>=0,n||k(t,0,i,4),d.write(t,e,i,r,23,4),i+4}function J(t,e,i,r,n){return e=+e,i>>>=0,n||k(t,0,i,8),d.write(t,e,i,r,52,8),i+8}h.prototype.slice=function(t,e){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||W(t,e,this.length);for(var r=this[t],n=1,a=0;++a<e&&(n*=256);)r+=this[t+a]*n;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||W(t,e,this.length);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},h.prototype.readUint8=h.prototype.readUInt8=function(t,e){return t>>>=0,e||W(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||W(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||W(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||W(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||W(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=at(function(t){_(t>>>=0,"offset");var e=this[t],i=this[t+7];void 0!==e&&void 0!==i||P(t,this.length-8);var r=e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24),n=this[++t]+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+i*Math.pow(2,24);return BigInt(r)+(BigInt(n)<<BigInt(32))}),h.prototype.readBigUInt64BE=at(function(t){_(t>>>=0,"offset");var e=this[t],i=this[t+7];void 0!==e&&void 0!==i||P(t,this.length-8);var r=e*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t],n=this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(n)}),h.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||W(t,e,this.length);for(var r=this[t],n=1,a=0;++a<e&&(n*=256);)r+=this[t+a]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||W(t,e,this.length);for(var r=e,n=1,a=this[t+--r];r>0&&(n*=256);)a+=this[t+--r]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*e)),a},h.prototype.readInt8=function(t,e){return t>>>=0,e||W(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||W(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){t>>>=0,e||W(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||W(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||W(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=at(function(t){_(t>>>=0,"offset");var e=this[t],i=this[t+7];void 0!==e&&void 0!==i||P(t,this.length-8);var r=this[t+4]+this[t+5]*Math.pow(2,8)+this[t+6]*Math.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24))}),h.prototype.readBigInt64BE=at(function(t){_(t>>>=0,"offset");var e=this[t],i=this[t+7];void 0!==e&&void 0!==i||P(t,this.length-8);var r=(e<<24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+i)}),h.prototype.readFloatLE=function(t,e){return t>>>=0,e||W(t,4,this.length),d.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||W(t,4,this.length),d.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||W(t,8,this.length),d.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||W(t,8,this.length),d.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,e,i,r){(t=+t,e>>>=0,i>>>=0,r)||H(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,a=0;for(this[e]=255&t;++a<i&&(n*=256);)this[e+a]=t/n&255;return e+i},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,e,i,r){(t=+t,e>>>=0,i>>>=0,r)||H(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,a=1;for(this[e+n]=255&t;--n>=0&&(a*=256);)this[e+n]=t/a&255;return e+i},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigUInt64LE=at(function(t){return T(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=at(function(t){return M(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);H(this,t,e,i,n-1,-n)}var a=0,s=1,o=0;for(this[e]=255&t;++a<i&&(s*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s|0)-o&255;return e+i},h.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);H(this,t,e,i,n-1,-n)}var a=i-1,s=1,o=0;for(this[e+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s|0)-o&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||H(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigInt64LE=at(function(t){return T(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=at(function(t){return M(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(t,e,i){return Y(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return Y(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return J(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return J(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,r){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var n=r-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,r):Uint8Array.prototype.set.call(t,this.subarray(i,r),e),n},h.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var n=t.charCodeAt(0);("utf8"===r&&n<128||"latin1"===r)&&(t=n)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var a;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(a=e;a<i;++a)this[a]=t;else{var s=h.isBuffer(t)?t:h.from(t,r),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<i-e;++a)this[a+e]=s[a%o]}return this};var $={};function z(t,e,i){$[t]=function(i){function n(){var i;
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),i=a(this,n),Object.defineProperty(i,"message",{value:e.apply(i,arguments),writable:!0,configurable:!0}),i.name="".concat(i.name," [").concat(t,"]"),i.stack,delete i.name,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(n,i),r(n,[{key:"code",get:function(){return t},set:function(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)}}])}(i)}function O(t){for(var e="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)e="_".concat(t.slice(i-3,i)).concat(e);return"".concat(t.slice(0,i)).concat(e)}function K(t,e,i,r,n,a){if(t>i||t<e){var s,o="bigint"==typeof e?"n":"";throw s=0===e||e===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(a+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(a+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(o),new $.ERR_OUT_OF_RANGE("value",s,t)}!function(t,e,i){_(e,"offset"),void 0!==t[e]&&void 0!==t[e+i]||P(e,t.length-(i+1))}(r,n,a)}function _(t,e){if("number"!=typeof t)throw new $.ERR_INVALID_ARG_TYPE(e,"number",t)}function P(t,e,i){if(Math.floor(t)!==t)throw _(t,i),new $.ERR_OUT_OF_RANGE("offset","an integer",t);if(e<0)throw new $.ERR_BUFFER_OUT_OF_BOUNDS;throw new $.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(e),t)}z("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(t,e){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(c(e))},TypeError),z("ERR_OUT_OF_RANGE",function(t,e,i){var r='The value of "'.concat(t,'" is out of range.'),n=i;return Number.isInteger(i)&&Math.abs(i)>Math.pow(2,32)?n=O(String(i)):"bigint"==typeof i&&(n=String(i),(i>Math.pow(BigInt(2),BigInt(32))||i<-Math.pow(BigInt(2),BigInt(32)))&&(n=O(n)),n+="n"),r+=" It must be ".concat(e,". Received ").concat(n)},RangeError);var j=/[^+/0-9A-Za-z-_]/g;function q(t,e){var i;e=e||1/0;for(var r=t.length,n=null,a=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&a.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&a.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&a.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;a.push(i)}else if(i<2048){if((e-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function tt(t){return g.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function et(t,e,i,r){var n;for(n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function it(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function rt(t){return t!=t}var nt=function(){for(var t="0123456789abcdef",e=new Array(256),i=0;i<16;++i)for(var r=16*i,n=0;n<16;++n)e[r+n]=t[i]+t[n];return e}();function at(t){return"undefined"==typeof BigInt?st:t}function st(){throw new Error("BigInt not supported")}},9216:function(t){t.exports=n,t.exports.isMobile=n,t.exports.default=n;var e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,r=/android|ipad|playbook|silk/i;function n(t){t||(t={});var n=t.ua;if(n||"undefined"==typeof navigator||(n=navigator.userAgent),n&&n.headers&&"string"==typeof n.headers["user-agent"]&&(n=n.headers["user-agent"]),"string"!=typeof n)return!1;var a=e.test(n)&&!i.test(n)||!!t.tablet&&r.test(n);return!a&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==n.indexOf("Macintosh")&&-1!==n.indexOf("Safari")&&(a=!0),a}},6296:function(t,e,i){t.exports=function(t){var e=(t=t||{}).eye||[0,0,1],i=t.center||[0,0,0],o=t.up||[0,1,0],l=t.distanceLimits||[0,1/0],c=t.mode||"turntable",g=r(),d=n(),u=a();return g.setDistanceLimits(l[0],l[1]),g.lookAt(0,e,i,o),d.setDistanceLimits(l[0],l[1]),d.lookAt(0,e,i,o),u.setDistanceLimits(l[0],l[1]),u.lookAt(0,e,i,o),new s({turntable:g,orbit:d,matrix:u},c)};var r=i(7261),n=i(9977),a=i(1811);function s(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map(function(e){return t[e]}),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=s.prototype;o.flush=function(t){for(var e=this._controllerList,i=0;i<e.length;++i)e[i].flush(t)},o.idle=function(t){for(var e=this._controllerList,i=0;i<e.length;++i)e[i].idle(t)},o.lookAt=function(t,e,i,r){for(var n=this._controllerList,a=0;a<n.length;++a)n[a].lookAt(t,e,i,r)},o.rotate=function(t,e,i,r){for(var n=this._controllerList,a=0;a<n.length;++a)n[a].rotate(t,e,i,r)},o.pan=function(t,e,i,r){for(var n=this._controllerList,a=0;a<n.length;++a)n[a].pan(t,e,i,r)},o.translate=function(t,e,i,r){for(var n=this._controllerList,a=0;a<n.length;++a)n[a].translate(t,e,i,r)},o.setMatrix=function(t,e){for(var i=this._controllerList,r=0;r<i.length;++r)i[r].setMatrix(t,e)},o.setDistanceLimits=function(t,e){for(var i=this._controllerList,r=0;r<i.length;++r)i[r].setDistanceLimits(t,e)},o.setDistance=function(t,e){for(var i=this._controllerList,r=0;r<i.length;++r)i[r].setDistance(t,e)},o.recalcMatrix=function(t){this._active.recalcMatrix(t)},o.getDistance=function(t){return this._active.getDistance(t)},o.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},o.lastT=function(){return this._active.lastT()},o.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var i=this._active,r=this._controllerList[e],n=Math.max(i.lastT(),r.lastT());i.recalcMatrix(n),r.setMatrix(n,i.computedMatrix),this._active=r,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},o.getMode=function(){return this._mode}},7169:function(t,e,i){var r="undefined"==typeof WeakMap?i(1538):WeakMap,n=i(2762),a=i(8116),s=new r;t.exports=function(t){var e=s.get(t),i=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!i||!t.isBuffer(i)){var r=n(t,new Float32Array([-1,-1,-1,4,4,-1]));(e=a(t,[{buffer:r,type:t.FLOAT,size:2}]))._triangleBuffer=r,s.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}},1085:function(t,e,i){var r=i(1371);t.exports=function(t,e,i){e="number"==typeof e?e:1,i=i||": ";var n=t.split(/\r?\n/),a=String(n.length+e-1).length;return n.map(function(t,n){var s=n+e,o=String(s).length;return r(s,a-o)+i+t}).join("\n")}},3952:function(t,e,i){t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var i=t[0].length,r=[t[0]],a=[0],s=1;s<e;++s)if(r.push(t[s]),n(r,i)){if(a.push(s),a.length===i+1)return a}else r.pop();return a};var r=i(3250);function n(t,e){for(var i=new Array(e+1),n=0;n<t.length;++n)i[n]=t[n];for(n=0;n<=t.length;++n){for(var a=t.length;a<=e;++a){for(var s=new Array(e),o=0;o<e;++o)s[o]=Math.pow(a+1-n,o);i[a]=s}if(r.apply(void 0,i))return!0}return!1}},5995:function(t,e,i){t.exports=function(t,e){return r(e).filter(function(i){for(var r=new Array(i.length),a=0;a<i.length;++a)r[a]=e[i[a]];return n(r)*t<1})};var r=i(7642),n=i(6037)},3502:function(t,e,i){t.exports=function(t,e){return n(r(t,e))};var r=i(5995),n=i(9127)},6468:function(t){t.exports=function(t){return atob(t)}},2642:function(t,e,i){t.exports=function(t,e){for(var i=e.length,a=new Array(i+1),s=0;s<i;++s){for(var o=new Array(i+1),l=0;l<=i;++l)o[l]=t[l][s];a[s]=o}a[i]=new Array(i+1);for(s=0;s<=i;++s)a[i][s]=1;var c=new Array(i+1);for(s=0;s<i;++s)c[s]=e[s];c[i]=1;var g=r(a,c),d=n(g[i+1]);0===d&&(d=1);var u=new Array(i+1);for(s=0;s<=i;++s)u[s]=n(g[s])/d;return u};var r=i(727);function n(t){for(var e=0,i=0;i<t.length;++i)e+=t[i];return e}},7507:function(t,e){e.byteLength=function(t){var e=o(t),i=e[0],r=e[1];return 3*(i+r)/4-r},e.toByteArray=function(t){var e,i,a=o(t),s=a[0],l=a[1],c=new n(function(t,e,i){return 3*(e+i)/4-i}(0,s,l)),g=0,d=l>0?s-4:s;for(i=0;i<d;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],c[g++]=e>>16&255,c[g++]=e>>8&255,c[g++]=255&e;2===l&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,c[g++]=255&e);1===l&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,c[g++]=e>>8&255,c[g++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,a=[],s=16383,o=0,l=r-n;o<l;o+=s)a.push(c(t,o,o+s>l?l:o+s));1===n?(e=t[r-1],a.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],a.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return a.join("")};for(var i=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function o(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function l(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function c(t,e,i){for(var r,n=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),n.push(l(r));return n.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3865:function(t,e,i){var r=i(869);t.exports=function(t,e){return r(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}},1318:function(t){t.exports=function(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}},8697:function(t,e,i){var r=i(869);t.exports=function(t,e){return r(t[0].mul(e[1]),t[1].mul(e[0]))}},7842:function(t,e,i){var r=i(6330),n=i(1533),a=i(2651),s=i(6768),o=i(869),l=i(8697);t.exports=function t(e,i){if(r(e))return i?l(e,t(i)):[e[0].clone(),e[1].clone()];var c,g,d=0;if(n(e))c=e.clone();else if("string"==typeof e)c=s(e);else{if(0===e)return[a(0),a(1)];if(e===Math.floor(e))c=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),d-=256;c=a(e)}}if(r(i))c.mul(i[1]),g=i[0].clone();else if(n(i))g=i.clone();else if("string"==typeof i)g=s(i);else if(i)if(i===Math.floor(i))g=a(i);else{for(;i!==Math.floor(i);)i*=Math.pow(2,256),d+=256;g=a(i)}else g=a(1);d>0?c=c.ushln(d):d<0&&(g=g.ushln(-d));return o(c,g)}},6330:function(t,e,i){var r=i(1533);t.exports=function(t){return Array.isArray(t)&&2===t.length&&r(t[0])&&r(t[1])}},5716:function(t,e,i){var r=i(6859);t.exports=function(t){return t.cmp(new r(0))}},1369:function(t,e,i){var r=i(5716);t.exports=function(t){var e=t.length,i=t.words,n=0;if(1===e)n=i[0];else if(2===e)n=i[0]+67108864*i[1];else for(var a=0;a<e;a++){n+=i[a]*Math.pow(67108864,a)}return r(t)*n}},4025:function(t,e,i){var r=i(2361),n=i(8828).countTrailingZeros;t.exports=function(t){var e=n(r.lo(t));if(e<32)return e;var i=n(r.hi(t));if(i>20)return 52;return i+32}},1533:function(t,e,i){i(6859),t.exports=function(t){return t&&"object"==typeof t&&Boolean(t.words)}},2651:function(t,e,i){var r=i(6859),n=i(2361);t.exports=function(t){var e=n.exponent(t);return e<52?new r(t):new r(t*Math.pow(2,52-e)).ushln(e-52)}},869:function(t,e,i){var r=i(2651),n=i(5716);t.exports=function(t,e){var i=n(t),a=n(e);if(0===i)return[r(0),r(1)];if(0===a)return[r(0),r(0)];a<0&&(t=t.neg(),e=e.neg());var s=t.gcd(e);if(s.cmpn(1))return[t.div(s),e.div(s)];return[t,e]}},6768:function(t,e,i){var r=i(6859);t.exports=function(t){return new r(t)}},6504:function(t,e,i){var r=i(869);t.exports=function(t,e){return r(t[0].mul(e[0]),t[1].mul(e[1]))}},7721:function(t,e,i){var r=i(5716);t.exports=function(t){return r(t[0])*r(t[1])}},5572:function(t,e,i){var r=i(869);t.exports=function(t,e){return r(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}},946:function(t,e,i){var r=i(1369),n=i(4025);t.exports=function(t){var e=t[0],i=t[1];if(0===e.cmpn(0))return 0;var a=e.abs().divmod(i.abs()),s=a.div,o=r(s),l=a.mod,c=e.negative!==i.negative?-1:1;if(0===l.cmpn(0))return c*o;if(o){var g=n(o)+4;return c*(o+(u=r(l.ushln(g).divRound(i)))*Math.pow(2,-g))}var d=i.bitLength()-l.bitLength()+53,u=r(l.ushln(d).divRound(i));return d<1023?c*u*Math.pow(2,-d):c*(u*=Math.pow(2,-1023))*Math.pow(2,1023-d)}},2478:function(t){function e(t,e,i,r,n){for(var a=n+1;r<=n;){var s=r+n>>>1,o=t[s];(void 0!==i?i(o,e):o-e)>=0?(a=s,n=s-1):r=s+1}return a}function i(t,e,i,r,n){for(var a=n+1;r<=n;){var s=r+n>>>1,o=t[s];(void 0!==i?i(o,e):o-e)>0?(a=s,n=s-1):r=s+1}return a}function r(t,e,i,r,n){for(var a=r-1;r<=n;){var s=r+n>>>1,o=t[s];(void 0!==i?i(o,e):o-e)<0?(a=s,r=s+1):n=s-1}return a}function n(t,e,i,r,n){for(var a=r-1;r<=n;){var s=r+n>>>1,o=t[s];(void 0!==i?i(o,e):o-e)<=0?(a=s,r=s+1):n=s-1}return a}function a(t,e,i,r,n){for(;r<=n;){var a=r+n>>>1,s=t[a],o=void 0!==i?i(s,e):s-e;if(0===o)return a;o<=0?r=a+1:n=a-1}return-1}function s(t,e,i,r,n,a){return"function"==typeof i?a(t,e,i,void 0===r?0:0|r,void 0===n?t.length-1:0|n):a(t,e,void 0,void 0===i?0:0|i,void 0===r?t.length-1:0|r)}t.exports={ge:function(t,i,r,n,a){return s(t,i,r,n,a,e)},gt:function(t,e,r,n,a){return s(t,e,r,n,a,i)},lt:function(t,e,i,n,a){return s(t,e,i,n,a,r)},le:function(t,e,i,r,a){return s(t,e,i,r,a,n)},eq:function(t,e,i,r,n){return s(t,e,i,r,n,a)}}},8828:function(t,e){function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,i;return e=(t>65535)<<4,e|=i=((t>>>=e)>255)<<3,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var r=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,r=e,n=7;for(i>>>=1;i;i>>>=1)r<<=1,r|=1&i,--n;t[e]=r<<n&255}}(r),e.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,i){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},6859:function(t,e,i){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function a(t,e,i){if(a.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var s;"object"==typeof t?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(7790).Buffer}catch(t){}function o(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function l(t,e,i){var r=o(t,i);return i-1>=e&&(r|=o(t,i-1)<<4),r}function c(t,e,i,r){for(var n=0,a=Math.min(t.length,i),s=e;s<a;s++){var o=t.charCodeAt(s)-48;n*=r,n+=o>=49?o-49+10:o>=17?o-17+10:o}return n}a.isBN=function(t){return t instanceof a||null!==t&&"object"==typeof t&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,e){return t.cmp(e)>0?t:e},a.min=function(t,e){return t.cmp(e)<0?t:e},a.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},a.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},a.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,s,o=0;if("be"===i)for(n=t.length-1,a=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(n=0,a=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,a=0,s=0;if("be"===i)for(r=t.length-1;r>=e;r-=2)n=l(t,e,r)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)n=l(t,e,r)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;this.strip()},a.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=e)r++;r--,n=n/e|0;for(var a=t.length-i,s=a%r,o=Math.min(a,a-s)+i,l=0,g=i;g<o;g+=r)l=c(t,g,g+r,e),this.imuln(n),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var d=1;for(l=c(t,g,t.length,e),g=0;g<s;g++)d*=e;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function B(t,e,i){i.negative=e.negative^t.negative;var r=t.length+e.length|0;i.length=r,r=r-1|0;var n=0|t.words[0],a=0|e.words[0],s=n*a,o=67108863&s,l=s/67108864|0;i.words[0]=o;for(var c=1;c<r;c++){for(var g=l>>>26,d=67108863&l,u=Math.min(c,e.length-1),B=Math.max(0,c-t.length+1);B<=u;B++){var F=c-B|0;g+=(s=(n=0|t.words[F])*(a=0|e.words[B])+d)/67108864|0,d=67108863&s}i.words[c]=0|d,l=0|g}return 0!==l?i.words[c]=0|l:i.length--,i.strip()}a.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,a=0,s=0;s<this.length;s++){var o=this.words[s],l=(16777215&(o<<n|a)).toString(16);i=0!==(a=o>>>24-n&16777215)||s!==this.length-1?g[6-l.length]+l+i:l+i,(n+=2)>=26&&(n-=26,s--)}for(0!==a&&(i=a.toString(16)+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],B=u[t];i="";var F=this.clone();for(F.negative=0;!F.isZero();){var h=F.modn(B).toString(t);i=(F=F.idivn(B)).isZero()?h+i:g[c-h.length]+h+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},a.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},a.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),a=i||Math.max(1,n);r(n<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,l="le"===e,c=new t(a),g=this.clone();if(l){for(o=0;!g.isZero();o++)s=g.andln(255),g.iushrn(8),c[o]=s;for(;o<a;o++)c[o]=0}else{for(o=0;o<a-n;o++)c[o]=0;for(o=0;!g.isZero();o++)s=g.andln(255),g.iushrn(8),c[a-o-1]=s}return c},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},a.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 8191&e||(i+=13,e>>>=13),127&e||(i+=7,e>>>=7),15&e||(i+=4,e>>>=4),3&e||(i+=2,e>>>=2),1&e||i++,i},a.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},a.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},a.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var r=0;r<i.length;r++)this.words[r]=e.words[r]^i.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},a.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},a.prototype.iadd=function(t){var e,i,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0,a=0;a<r.length;a++)e=(0|i.words[a])+(0|r.words[a])+n,this.words[a]=67108863&e,n=e>>>26;for(;0!==n&&a<i.length;a++)e=(0|i.words[a])+n,this.words[a]=67108863&e,n=e>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,r,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=t):(i=t,r=this);for(var a=0,s=0;s<r.length;s++)a=(e=(0|i.words[s])-(0|r.words[s])+a)>>26,this.words[s]=67108863&e;for(;0!==a&&s<i.length;s++)a=(e=(0|i.words[s])+a)>>26,this.words[s]=67108863&e;if(0===a&&s<i.length&&i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=Math.max(this.length,s),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};var F=function(t,e,i){var r,n,a,s=t.words,o=e.words,l=i.words,c=0,g=0|s[0],d=8191&g,u=g>>>13,B=0|s[1],F=8191&B,h=B>>>13,Q=0|s[2],U=8191&Q,I=Q>>>13,b=0|s[3],p=8191&b,y=b>>>13,m=0|s[4],C=8191&m,f=m>>>13,x=0|s[5],A=8191&x,v=x>>>13,L=0|s[6],R=8191&L,S=L>>>13,G=0|s[7],E=8191&G,V=G>>>13,Z=0|s[8],N=8191&Z,D=Z>>>13,w=0|s[9],X=8191&w,W=w>>>13,H=0|o[0],T=8191&H,M=H>>>13,k=0|o[1],Y=8191&k,J=k>>>13,$=0|o[2],z=8191&$,O=$>>>13,K=0|o[3],_=8191&K,P=K>>>13,j=0|o[4],q=8191&j,tt=j>>>13,et=0|o[5],it=8191&et,rt=et>>>13,nt=0|o[6],at=8191&nt,st=nt>>>13,ot=0|o[7],lt=8191&ot,ct=ot>>>13,gt=0|o[8],dt=8191&gt,ut=gt>>>13,Bt=0|o[9],Ft=8191&Bt,ht=Bt>>>13;i.negative=t.negative^e.negative,i.length=19;var Qt=(c+(r=Math.imul(d,T))|0)+((8191&(n=(n=Math.imul(d,M))+Math.imul(u,T)|0))<<13)|0;c=((a=Math.imul(u,M))+(n>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,r=Math.imul(F,T),n=(n=Math.imul(F,M))+Math.imul(h,T)|0,a=Math.imul(h,M);var Ut=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(n=(n=n+Math.imul(d,J)|0)+Math.imul(u,Y)|0))<<13)|0;c=((a=a+Math.imul(u,J)|0)+(n>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,r=Math.imul(U,T),n=(n=Math.imul(U,M))+Math.imul(I,T)|0,a=Math.imul(I,M),r=r+Math.imul(F,Y)|0,n=(n=n+Math.imul(F,J)|0)+Math.imul(h,Y)|0,a=a+Math.imul(h,J)|0;var It=(c+(r=r+Math.imul(d,z)|0)|0)+((8191&(n=(n=n+Math.imul(d,O)|0)+Math.imul(u,z)|0))<<13)|0;c=((a=a+Math.imul(u,O)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(p,T),n=(n=Math.imul(p,M))+Math.imul(y,T)|0,a=Math.imul(y,M),r=r+Math.imul(U,Y)|0,n=(n=n+Math.imul(U,J)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,J)|0,r=r+Math.imul(F,z)|0,n=(n=n+Math.imul(F,O)|0)+Math.imul(h,z)|0,a=a+Math.imul(h,O)|0;var bt=(c+(r=r+Math.imul(d,_)|0)|0)+((8191&(n=(n=n+Math.imul(d,P)|0)+Math.imul(u,_)|0))<<13)|0;c=((a=a+Math.imul(u,P)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,T),n=(n=Math.imul(C,M))+Math.imul(f,T)|0,a=Math.imul(f,M),r=r+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(y,Y)|0,a=a+Math.imul(y,J)|0,r=r+Math.imul(U,z)|0,n=(n=n+Math.imul(U,O)|0)+Math.imul(I,z)|0,a=a+Math.imul(I,O)|0,r=r+Math.imul(F,_)|0,n=(n=n+Math.imul(F,P)|0)+Math.imul(h,_)|0,a=a+Math.imul(h,P)|0;var pt=(c+(r=r+Math.imul(d,q)|0)|0)+((8191&(n=(n=n+Math.imul(d,tt)|0)+Math.imul(u,q)|0))<<13)|0;c=((a=a+Math.imul(u,tt)|0)+(n>>>13)|0)+(pt>>>26)|0,pt&=67108863,r=Math.imul(A,T),n=(n=Math.imul(A,M))+Math.imul(v,T)|0,a=Math.imul(v,M),r=r+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(f,Y)|0,a=a+Math.imul(f,J)|0,r=r+Math.imul(p,z)|0,n=(n=n+Math.imul(p,O)|0)+Math.imul(y,z)|0,a=a+Math.imul(y,O)|0,r=r+Math.imul(U,_)|0,n=(n=n+Math.imul(U,P)|0)+Math.imul(I,_)|0,a=a+Math.imul(I,P)|0,r=r+Math.imul(F,q)|0,n=(n=n+Math.imul(F,tt)|0)+Math.imul(h,q)|0,a=a+Math.imul(h,tt)|0;var yt=(c+(r=r+Math.imul(d,it)|0)|0)+((8191&(n=(n=n+Math.imul(d,rt)|0)+Math.imul(u,it)|0))<<13)|0;c=((a=a+Math.imul(u,rt)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(R,T),n=(n=Math.imul(R,M))+Math.imul(S,T)|0,a=Math.imul(S,M),r=r+Math.imul(A,Y)|0,n=(n=n+Math.imul(A,J)|0)+Math.imul(v,Y)|0,a=a+Math.imul(v,J)|0,r=r+Math.imul(C,z)|0,n=(n=n+Math.imul(C,O)|0)+Math.imul(f,z)|0,a=a+Math.imul(f,O)|0,r=r+Math.imul(p,_)|0,n=(n=n+Math.imul(p,P)|0)+Math.imul(y,_)|0,a=a+Math.imul(y,P)|0,r=r+Math.imul(U,q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(I,q)|0,a=a+Math.imul(I,tt)|0,r=r+Math.imul(F,it)|0,n=(n=n+Math.imul(F,rt)|0)+Math.imul(h,it)|0,a=a+Math.imul(h,rt)|0;var mt=(c+(r=r+Math.imul(d,at)|0)|0)+((8191&(n=(n=n+Math.imul(d,st)|0)+Math.imul(u,at)|0))<<13)|0;c=((a=a+Math.imul(u,st)|0)+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(E,T),n=(n=Math.imul(E,M))+Math.imul(V,T)|0,a=Math.imul(V,M),r=r+Math.imul(R,Y)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(S,Y)|0,a=a+Math.imul(S,J)|0,r=r+Math.imul(A,z)|0,n=(n=n+Math.imul(A,O)|0)+Math.imul(v,z)|0,a=a+Math.imul(v,O)|0,r=r+Math.imul(C,_)|0,n=(n=n+Math.imul(C,P)|0)+Math.imul(f,_)|0,a=a+Math.imul(f,P)|0,r=r+Math.imul(p,q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(y,q)|0,a=a+Math.imul(y,tt)|0,r=r+Math.imul(U,it)|0,n=(n=n+Math.imul(U,rt)|0)+Math.imul(I,it)|0,a=a+Math.imul(I,rt)|0,r=r+Math.imul(F,at)|0,n=(n=n+Math.imul(F,st)|0)+Math.imul(h,at)|0,a=a+Math.imul(h,st)|0;var Ct=(c+(r=r+Math.imul(d,lt)|0)|0)+((8191&(n=(n=n+Math.imul(d,ct)|0)+Math.imul(u,lt)|0))<<13)|0;c=((a=a+Math.imul(u,ct)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(N,T),n=(n=Math.imul(N,M))+Math.imul(D,T)|0,a=Math.imul(D,M),r=r+Math.imul(E,Y)|0,n=(n=n+Math.imul(E,J)|0)+Math.imul(V,Y)|0,a=a+Math.imul(V,J)|0,r=r+Math.imul(R,z)|0,n=(n=n+Math.imul(R,O)|0)+Math.imul(S,z)|0,a=a+Math.imul(S,O)|0,r=r+Math.imul(A,_)|0,n=(n=n+Math.imul(A,P)|0)+Math.imul(v,_)|0,a=a+Math.imul(v,P)|0,r=r+Math.imul(C,q)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(f,q)|0,a=a+Math.imul(f,tt)|0,r=r+Math.imul(p,it)|0,n=(n=n+Math.imul(p,rt)|0)+Math.imul(y,it)|0,a=a+Math.imul(y,rt)|0,r=r+Math.imul(U,at)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(I,at)|0,a=a+Math.imul(I,st)|0,r=r+Math.imul(F,lt)|0,n=(n=n+Math.imul(F,ct)|0)+Math.imul(h,lt)|0,a=a+Math.imul(h,ct)|0;var ft=(c+(r=r+Math.imul(d,dt)|0)|0)+((8191&(n=(n=n+Math.imul(d,ut)|0)+Math.imul(u,dt)|0))<<13)|0;c=((a=a+Math.imul(u,ut)|0)+(n>>>13)|0)+(ft>>>26)|0,ft&=67108863,r=Math.imul(X,T),n=(n=Math.imul(X,M))+Math.imul(W,T)|0,a=Math.imul(W,M),r=r+Math.imul(N,Y)|0,n=(n=n+Math.imul(N,J)|0)+Math.imul(D,Y)|0,a=a+Math.imul(D,J)|0,r=r+Math.imul(E,z)|0,n=(n=n+Math.imul(E,O)|0)+Math.imul(V,z)|0,a=a+Math.imul(V,O)|0,r=r+Math.imul(R,_)|0,n=(n=n+Math.imul(R,P)|0)+Math.imul(S,_)|0,a=a+Math.imul(S,P)|0,r=r+Math.imul(A,q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(v,q)|0,a=a+Math.imul(v,tt)|0,r=r+Math.imul(C,it)|0,n=(n=n+Math.imul(C,rt)|0)+Math.imul(f,it)|0,a=a+Math.imul(f,rt)|0,r=r+Math.imul(p,at)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(y,at)|0,a=a+Math.imul(y,st)|0,r=r+Math.imul(U,lt)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(I,lt)|0,a=a+Math.imul(I,ct)|0,r=r+Math.imul(F,dt)|0,n=(n=n+Math.imul(F,ut)|0)+Math.imul(h,dt)|0,a=a+Math.imul(h,ut)|0;var xt=(c+(r=r+Math.imul(d,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(d,ht)|0)+Math.imul(u,Ft)|0))<<13)|0;c=((a=a+Math.imul(u,ht)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(X,Y),n=(n=Math.imul(X,J))+Math.imul(W,Y)|0,a=Math.imul(W,J),r=r+Math.imul(N,z)|0,n=(n=n+Math.imul(N,O)|0)+Math.imul(D,z)|0,a=a+Math.imul(D,O)|0,r=r+Math.imul(E,_)|0,n=(n=n+Math.imul(E,P)|0)+Math.imul(V,_)|0,a=a+Math.imul(V,P)|0,r=r+Math.imul(R,q)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(S,q)|0,a=a+Math.imul(S,tt)|0,r=r+Math.imul(A,it)|0,n=(n=n+Math.imul(A,rt)|0)+Math.imul(v,it)|0,a=a+Math.imul(v,rt)|0,r=r+Math.imul(C,at)|0,n=(n=n+Math.imul(C,st)|0)+Math.imul(f,at)|0,a=a+Math.imul(f,st)|0,r=r+Math.imul(p,lt)|0,n=(n=n+Math.imul(p,ct)|0)+Math.imul(y,lt)|0,a=a+Math.imul(y,ct)|0,r=r+Math.imul(U,dt)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(I,dt)|0,a=a+Math.imul(I,ut)|0;var At=(c+(r=r+Math.imul(F,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(F,ht)|0)+Math.imul(h,Ft)|0))<<13)|0;c=((a=a+Math.imul(h,ht)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(X,z),n=(n=Math.imul(X,O))+Math.imul(W,z)|0,a=Math.imul(W,O),r=r+Math.imul(N,_)|0,n=(n=n+Math.imul(N,P)|0)+Math.imul(D,_)|0,a=a+Math.imul(D,P)|0,r=r+Math.imul(E,q)|0,n=(n=n+Math.imul(E,tt)|0)+Math.imul(V,q)|0,a=a+Math.imul(V,tt)|0,r=r+Math.imul(R,it)|0,n=(n=n+Math.imul(R,rt)|0)+Math.imul(S,it)|0,a=a+Math.imul(S,rt)|0,r=r+Math.imul(A,at)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(v,at)|0,a=a+Math.imul(v,st)|0,r=r+Math.imul(C,lt)|0,n=(n=n+Math.imul(C,ct)|0)+Math.imul(f,lt)|0,a=a+Math.imul(f,ct)|0,r=r+Math.imul(p,dt)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(y,dt)|0,a=a+Math.imul(y,ut)|0;var vt=(c+(r=r+Math.imul(U,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(U,ht)|0)+Math.imul(I,Ft)|0))<<13)|0;c=((a=a+Math.imul(I,ht)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(X,_),n=(n=Math.imul(X,P))+Math.imul(W,_)|0,a=Math.imul(W,P),r=r+Math.imul(N,q)|0,n=(n=n+Math.imul(N,tt)|0)+Math.imul(D,q)|0,a=a+Math.imul(D,tt)|0,r=r+Math.imul(E,it)|0,n=(n=n+Math.imul(E,rt)|0)+Math.imul(V,it)|0,a=a+Math.imul(V,rt)|0,r=r+Math.imul(R,at)|0,n=(n=n+Math.imul(R,st)|0)+Math.imul(S,at)|0,a=a+Math.imul(S,st)|0,r=r+Math.imul(A,lt)|0,n=(n=n+Math.imul(A,ct)|0)+Math.imul(v,lt)|0,a=a+Math.imul(v,ct)|0,r=r+Math.imul(C,dt)|0,n=(n=n+Math.imul(C,ut)|0)+Math.imul(f,dt)|0,a=a+Math.imul(f,ut)|0;var Lt=(c+(r=r+Math.imul(p,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(p,ht)|0)+Math.imul(y,Ft)|0))<<13)|0;c=((a=a+Math.imul(y,ht)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(X,q),n=(n=Math.imul(X,tt))+Math.imul(W,q)|0,a=Math.imul(W,tt),r=r+Math.imul(N,it)|0,n=(n=n+Math.imul(N,rt)|0)+Math.imul(D,it)|0,a=a+Math.imul(D,rt)|0,r=r+Math.imul(E,at)|0,n=(n=n+Math.imul(E,st)|0)+Math.imul(V,at)|0,a=a+Math.imul(V,st)|0,r=r+Math.imul(R,lt)|0,n=(n=n+Math.imul(R,ct)|0)+Math.imul(S,lt)|0,a=a+Math.imul(S,ct)|0,r=r+Math.imul(A,dt)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(v,dt)|0,a=a+Math.imul(v,ut)|0;var Rt=(c+(r=r+Math.imul(C,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(C,ht)|0)+Math.imul(f,Ft)|0))<<13)|0;c=((a=a+Math.imul(f,ht)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(X,it),n=(n=Math.imul(X,rt))+Math.imul(W,it)|0,a=Math.imul(W,rt),r=r+Math.imul(N,at)|0,n=(n=n+Math.imul(N,st)|0)+Math.imul(D,at)|0,a=a+Math.imul(D,st)|0,r=r+Math.imul(E,lt)|0,n=(n=n+Math.imul(E,ct)|0)+Math.imul(V,lt)|0,a=a+Math.imul(V,ct)|0,r=r+Math.imul(R,dt)|0,n=(n=n+Math.imul(R,ut)|0)+Math.imul(S,dt)|0,a=a+Math.imul(S,ut)|0;var St=(c+(r=r+Math.imul(A,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(A,ht)|0)+Math.imul(v,Ft)|0))<<13)|0;c=((a=a+Math.imul(v,ht)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(X,at),n=(n=Math.imul(X,st))+Math.imul(W,at)|0,a=Math.imul(W,st),r=r+Math.imul(N,lt)|0,n=(n=n+Math.imul(N,ct)|0)+Math.imul(D,lt)|0,a=a+Math.imul(D,ct)|0,r=r+Math.imul(E,dt)|0,n=(n=n+Math.imul(E,ut)|0)+Math.imul(V,dt)|0,a=a+Math.imul(V,ut)|0;var Gt=(c+(r=r+Math.imul(R,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(R,ht)|0)+Math.imul(S,Ft)|0))<<13)|0;c=((a=a+Math.imul(S,ht)|0)+(n>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,r=Math.imul(X,lt),n=(n=Math.imul(X,ct))+Math.imul(W,lt)|0,a=Math.imul(W,ct),r=r+Math.imul(N,dt)|0,n=(n=n+Math.imul(N,ut)|0)+Math.imul(D,dt)|0,a=a+Math.imul(D,ut)|0;var Et=(c+(r=r+Math.imul(E,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(E,ht)|0)+Math.imul(V,Ft)|0))<<13)|0;c=((a=a+Math.imul(V,ht)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(X,dt),n=(n=Math.imul(X,ut))+Math.imul(W,dt)|0,a=Math.imul(W,ut);var Vt=(c+(r=r+Math.imul(N,Ft)|0)|0)+((8191&(n=(n=n+Math.imul(N,ht)|0)+Math.imul(D,Ft)|0))<<13)|0;c=((a=a+Math.imul(D,ht)|0)+(n>>>13)|0)+(Vt>>>26)|0,Vt&=67108863;var Zt=(c+(r=Math.imul(X,Ft))|0)+((8191&(n=(n=Math.imul(X,ht))+Math.imul(W,Ft)|0))<<13)|0;return c=((a=Math.imul(W,ht))+(n>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,l[0]=Qt,l[1]=Ut,l[2]=It,l[3]=bt,l[4]=pt,l[5]=yt,l[6]=mt,l[7]=Ct,l[8]=ft,l[9]=xt,l[10]=At,l[11]=vt,l[12]=Lt,l[13]=Rt,l[14]=St,l[15]=Gt,l[16]=Et,l[17]=Vt,l[18]=Zt,0!==c&&(l[19]=c,i.length++),i};function h(t,e,i){return(new Q).mulp(t,e,i)}function Q(t,e){this.x=t,this.y=e}Math.imul||(F=B),a.prototype.mulTo=function(t,e){var i,r=this.length+t.length;return i=10===this.length&&10===t.length?F(this,t,e):r<63?B(this,t,e):r<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var r=0,n=0,a=0;a<i.length-1;a++){var s=n;n=0;for(var o=67108863&r,l=Math.min(a,e.length-1),c=Math.max(0,a-t.length+1);c<=l;c++){var g=a-c,d=(0|t.words[g])*(0|e.words[c]),u=67108863&d;o=67108863&(u=u+o|0),n+=(s=(s=s+(d/67108864|0)|0)+(u>>>26)|0)>>>26,s&=67108863}i.words[a]=o,r=s,s=n}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,t,e):h(this,t,e),i},Q.prototype.makeRBT=function(t){for(var e=new Array(t),i=a.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,i,t);return e},Q.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var r=0,n=0;n<e;n++)r|=(1&t)<<e-n-1,t>>=1;return r},Q.prototype.permute=function(t,e,i,r,n,a){for(var s=0;s<a;s++)r[s]=e[t[s]],n[s]=i[t[s]]},Q.prototype.transform=function(t,e,i,r,n,a){this.permute(a,t,e,i,r,n);for(var s=1;s<n;s<<=1)for(var o=s<<1,l=Math.cos(2*Math.PI/o),c=Math.sin(2*Math.PI/o),g=0;g<n;g+=o)for(var d=l,u=c,B=0;B<s;B++){var F=i[g+B],h=r[g+B],Q=i[g+B+s],U=r[g+B+s],I=d*Q-u*U;U=d*U+u*Q,Q=I,i[g+B]=F+Q,r[g+B]=h+U,i[g+B+s]=F-Q,r[g+B+s]=h-U,B!==o&&(I=l*d-c*u,u=l*u+c*d,d=I)}},Q.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},Q.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=t[r];t[r]=t[i-r-1],t[i-r-1]=n,n=e[r],e[r]=-e[i-r-1],e[i-r-1]=-n}},Q.prototype.normalize13b=function(t,e){for(var i=0,r=0;r<e/2;r++){var n=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+i;t[r]=67108863&n,i=n<67108864?0:n/67108864|0}return t},Q.prototype.convert13b=function(t,e,i,n){for(var a=0,s=0;s<e;s++)a+=0|t[s],i[2*s]=8191&a,a>>>=13,i[2*s+1]=8191&a,a>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===a),r(!(-8192&a))},Q.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},Q.prototype.mulp=function(t,e,i){var r=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(r),a=this.stub(r),s=new Array(r),o=new Array(r),l=new Array(r),c=new Array(r),g=new Array(r),d=new Array(r),u=i.words;u.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,c,r),this.transform(s,a,o,l,r,n),this.transform(c,a,g,d,r,n);for(var B=0;B<r;B++){var F=o[B]*g[B]-l[B]*d[B];l[B]=o[B]*d[B]+l[B]*g[B],o[B]=F}return this.conjugate(o,l,r),this.transform(o,l,u,a,r,n),this.conjugate(u,a,r),this.normalize13b(u,r),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},a.prototype.mul=function(t){var e=new a(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},a.prototype.mulf=function(t){var e=new a(null);return e.words=new Array(this.length+t.length),h(this,t,e)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,a=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=a>>>26,this.words[i]=67108863&a}return 0!==e&&(this.words[i]=e,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var r=i/26|0,n=i%26;e[i]=(t.words[r]&1<<n)>>>n}return e}(t);if(0===e.length)return new a(1);for(var i=this,r=0;r<e.length&&0===e[r];r++,i=i.sqr());if(++r<e.length)for(var n=i.sqr();r<e.length;r++,n=n.sqr())0!==e[r]&&(i=i.mul(n));return i},a.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var o=this.words[e]&a,l=(0|this.words[e])-o<<i;this.words[e]=l|s,s=o>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},a.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},a.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var a=t%26,s=Math.min((t-a)/26,this.length),o=67108863^67108863>>>a<<a,l=i;if(n-=s,n=Math.max(0,n),l){for(var c=0;c<s;c++)l.words[c]=this.words[c];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var g=0;for(c=this.length-1;c>=0&&(0!==g||c>=n);c--){var d=0|this.words[c];this.words[c]=g<<26-a|d>>>a,g=d&o}return l&&0!==g&&(l.words[l.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},a.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},a.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,e,i){var n,a,s=t.length+i;this._expand(s);var o=0;for(n=0;n<t.length;n++){a=(0|this.words[n+i])+o;var l=(0|t.words[n])*e;o=((a-=67108863&l)>>26)-(l/67108864|0),this.words[n+i]=67108863&a}for(;n<this.length-i;n++)o=(a=(0|this.words[n+i])+o)>>26,this.words[n+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,n=0;n<this.length;n++)o=(a=-(0|this.words[n])+o)>>26,this.words[n]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,e){var i=(this.length,t.length),r=this.clone(),n=t,s=0|n.words[n.length-1];0!==(i=26-this._countBits(s))&&(n=n.ushln(i),r.iushln(i),s=0|n.words[n.length-1]);var o,l=r.length-n.length;if("mod"!==e){(o=new a(null)).length=l+1,o.words=new Array(o.length);for(var c=0;c<o.length;c++)o.words[c]=0}var g=r.clone()._ishlnsubmul(n,1,l);0===g.negative&&(r=g,o&&(o.words[l]=1));for(var d=l-1;d>=0;d--){var u=67108864*(0|r.words[n.length+d])+(0|r.words[n.length+d-1]);for(u=Math.min(u/s|0,67108863),r._ishlnsubmul(n,u,d);0!==r.negative;)u--,r.negative=0,r._ishlnsubmul(n,1,d),r.isZero()||(r.negative^=1);o&&(o.words[d]=u)}return o&&o.strip(),r.strip(),"div"!==e&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(n=o.div.neg()),"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(n=o.div.neg()),{div:n,mod:o.mod}):0!==(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:o.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,s,o},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),n=t.andln(1),a=i.cmp(r);return a<0||1===n&&0===a?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},a.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},a.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new a(1),s=new a(0),o=new a(0),l=new a(1),c=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++c;for(var g=i.clone(),d=e.clone();!e.isZero();){for(var u=0,B=1;0===(e.words[0]&B)&&u<26;++u,B<<=1);if(u>0)for(e.iushrn(u);u-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(g),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var F=0,h=1;0===(i.words[0]&h)&&F<26;++F,h<<=1);if(F>0)for(i.iushrn(F);F-- >0;)(o.isOdd()||l.isOdd())&&(o.iadd(g),l.isub(d)),o.iushrn(1),l.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(o),s.isub(l)):(i.isub(e),o.isub(n),l.isub(s))}return{a:o,b:l,gcd:i.iushln(c)}},a.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,s=new a(1),o=new a(0),l=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,g=1;0===(e.words[0]&g)&&c<26;++c,g<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var d=0,u=1;0===(i.words[0]&u)&&d<26;++d,u<<=1);if(d>0)for(i.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(o)):(i.isub(e),o.isub(s))}return(n=0===e.cmpn(1)?s:o).cmpn(0)<0&&n.iadd(t),n},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var r=0;e.isEven()&&i.isEven();r++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=e.cmp(i);if(n<0){var a=e;e=i,i=a}else if(0===n||0===i.cmpn(1))break;e.isub(i)}return i.iushln(r)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return!(1&this.words[0])},a.prototype.isOdd=function(){return!(1&~this.words[0])},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var a=n,s=i;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},a.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|t.words[i];if(r!==n){r<n?e=-1:r>n&&(e=1);break}}return e},a.prototype.gtn=function(t){return 1===this.cmpn(t)},a.prototype.gt=function(t){return 1===this.cmp(t)},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return-1===this.cmpn(t)},a.prototype.lt=function(t){return-1===this.cmp(t)},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return 0===this.cmpn(t)},a.prototype.eq=function(t){return 0===this.cmp(t)},a.red=function(t){return new C(t)},a.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function I(t,e){this.name=t,this.p=new a(e,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(t){if("string"==typeof t){var e=a._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function f(t){C.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},I.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},I.prototype.split=function(t,e){t.iushrn(this.n,0,e)},I.prototype.imulK=function(t){return t.imul(this.k)},n(b,I),b.prototype.split=function(t,e){for(var i=4194303,r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var a=t.words[9];for(e.words[e.length++]=a&i,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&i)<<4|a>>>22,a=s}a>>>=22,t.words[n-10]=a,0===a&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(p,I),n(y,I),n(m,I),m.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},a._prime=function(t){if(U[t])return U[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new p;else if("p192"===t)e=new y;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new m}return U[t]=e,e},C.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},C.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},C.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},C.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},C.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},C.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},C.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},C.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},C.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},C.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},C.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},C.prototype.isqr=function(t){return this.imul(t,t.clone())},C.prototype.sqr=function(t){return this.mul(t,t)},C.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new a(1)).iushrn(2);return this.pow(t,i)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);r(!n.isZero());var o=new a(1).toRed(this),l=o.redNeg(),c=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new a(2*g*g).toRed(this);0!==this.pow(g,c).cmp(l);)g.redIAdd(l);for(var d=this.pow(g,n),u=this.pow(t,n.addn(1).iushrn(1)),B=this.pow(t,n),F=s;0!==B.cmp(o);){for(var h=B,Q=0;0!==h.cmp(o);Q++)h=h.redSqr();r(Q<F);var U=this.pow(d,new a(1).iushln(F-Q-1));u=u.redMul(U),d=U.redSqr(),B=B.redMul(d),F=Q}return u},C.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},C.prototype.pow=function(t,e){if(e.isZero())return new a(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=t;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],t);var n=i[0],s=0,o=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],g=l-1;g>=0;g--){var d=c>>g&1;n!==i[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4===++o||0===r&&0===g)&&(n=this.mul(n,i[s]),o=0,s=0)):o=0}l=26}return n},C.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},C.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},a.mont=function(t){return new f(t)},n(f,C),f.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},f.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},f.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},f.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new a(0)._forceRed(this);var i=t.mul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},f.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=i.nmd(t),this)},6204:function(t){t.exports=function(t){var e,i,r,n=t.length,a=0;for(e=0;e<n;++e)a+=t[e].length;var s=new Array(a),o=0;for(e=0;e<n;++e){var l=t[e],c=l.length;for(i=0;i<c;++i){var g=s[o++]=new Array(c-1),d=0;for(r=0;r<c;++r)r!==i&&(g[d++]=l[r]);if(1&i){var u=g[1];g[1]=g[0],g[0]=u}}}return s}},6867:function(t,e,i){t.exports=function(t,e,i){switch(arguments.length){case 1:return function(t){return r=[],c(t,t,g,!0),r}(t);case 2:return"function"==typeof e?c(t,t,e,!0):function(t,e){return r=[],c(t,e,g,!1),r}(t,e);case 3:return c(t,e,i,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,n=i(1888),a=i(855),s=i(7150);function o(t,e){for(var i=0;i<t;++i)if(!(e[i]<=e[i+t]))return!0;return!1}function l(t,e,i,r){for(var n=0,a=0,s=0,l=t.length;s<l;++s){var c=t[s];if(!o(e,c)){for(var g=0;g<2*e;++g)i[n++]=c[g];r[a++]=s}}return a}function c(t,e,i,r){var o=t.length,c=e.length;if(!(o<=0||c<=0)){var g=t[0].length>>>1;if(!(g<=0)){var d,u=n.mallocDouble(2*g*o),B=n.mallocInt32(o);if((o=l(t,g,u,B))>0){if(1===g&&r)a.init(o),d=a.sweepComplete(g,i,0,o,u,B,0,o,u,B);else{var F=n.mallocDouble(2*g*c),h=n.mallocInt32(c);(c=l(e,g,F,h))>0&&(a.init(o+c),d=1===g?a.sweepBipartite(g,i,0,o,u,B,0,c,F,h):s(g,i,r,o,u,B,c,F,h),n.free(F),n.free(h))}n.free(u),n.free(B)}return d}}}function g(t,e){r.push([t,e])}},2455:function(t,e){function i(t){return t?function(t,e,i,r,n,a,s,o,l,c,g){return n-r>l-o?function(t,e,i,r,n,a,s,o,l,c,g){for(var d=2*t,u=r,B=d*r;u<n;++u,B+=d){var F=a[e+B],h=a[e+B+t],Q=s[u];t:for(var U=o,I=d*o;U<l;++U,I+=d){var b=c[e+I],p=c[e+I+t],y=g[U];if(!(p<F||h<b)){for(var m=e+1;m<t;++m){var C=a[m+B],f=a[m+t+B],x=c[m+I],A=c[m+t+I];if(f<x||A<C)continue t}var v=i(Q,y);if(void 0!==v)return v}}}}(t,e,i,r,n,a,s,o,l,c,g):function(t,e,i,r,n,a,s,o,l,c,g){for(var d=2*t,u=o,B=d*o;u<l;++u,B+=d){var F=c[e+B],h=c[e+B+t],Q=g[u];t:for(var U=r,I=d*r;U<n;++U,I+=d){var b=a[e+I],p=a[e+I+t],y=s[U];if(!(h<b||p<F)){for(var m=e+1;m<t;++m){var C=a[m+I],f=a[m+t+I],x=c[m+B],A=c[m+t+B];if(f<x||A<C)continue t}var v=i(y,Q);if(void 0!==v)return v}}}}(t,e,i,r,n,a,s,o,l,c,g)}:function(t,e,i,r,n,a,s,o,l,c,g,d){return a-n>c-l?r?function(t,e,i,r,n,a,s,o,l,c,g){for(var d=2*t,u=r,B=d*r;u<n;++u,B+=d){var F=a[e+B],h=a[e+B+t],Q=s[u];t:for(var U=o,I=d*o;U<l;++U,I+=d){var b=c[e+I],p=g[U];if(!(b<=F||h<b)){for(var y=e+1;y<t;++y){var m=a[y+B],C=a[y+t+B],f=c[y+I],x=c[y+t+I];if(C<f||x<m)continue t}var A=i(p,Q);if(void 0!==A)return A}}}}(t,e,i,n,a,s,o,l,c,g,d):function(t,e,i,r,n,a,s,o,l,c,g){for(var d=2*t,u=r,B=d*r;u<n;++u,B+=d){var F=a[e+B],h=a[e+B+t],Q=s[u];t:for(var U=o,I=d*o;U<l;++U,I+=d){var b=c[e+I],p=g[U];if(!(b<F||h<b)){for(var y=e+1;y<t;++y){var m=a[y+B],C=a[y+t+B],f=c[y+I],x=c[y+t+I];if(C<f||x<m)continue t}var A=i(Q,p);if(void 0!==A)return A}}}}(t,e,i,n,a,s,o,l,c,g,d):r?function(t,e,i,r,n,a,s,o,l,c,g){for(var d=2*t,u=o,B=d*o;u<l;++u,B+=d){var F=c[e+B],h=g[u];t:for(var Q=r,U=d*r;Q<n;++Q,U+=d){var I=a[e+U],b=a[e+U+t],p=s[Q];if(!(F<=I||b<F)){for(var y=e+1;y<t;++y){var m=a[y+U],C=a[y+t+U],f=c[y+B],x=c[y+t+B];if(C<f||x<m)continue t}var A=i(h,p);if(void 0!==A)return A}}}}(t,e,i,n,a,s,o,l,c,g,d):function(t,e,i,r,n,a,s,o,l,c,g){for(var d=2*t,u=o,B=d*o;u<l;++u,B+=d){var F=c[e+B],h=g[u];t:for(var Q=r,U=d*r;Q<n;++Q,U+=d){var I=a[e+U],b=a[e+U+t],p=s[Q];if(!(F<I||b<F)){for(var y=e+1;y<t;++y){var m=a[y+U],C=a[y+t+U],f=c[y+B],x=c[y+t+B];if(C<f||x<m)continue t}var A=i(p,h);if(void 0!==A)return A}}}}(t,e,i,n,a,s,o,l,c,g,d)}}e.partial=i(!1),e.full=i(!0)},7150:function(t,e,i){t.exports=function(t,e,i,a,g,v,L,R,S){!function(t,e){var i=8*n.log2(e+1)*(t+1)|0,a=n.nextPow2(p*i);m.length<a&&(r.free(m),m=r.mallocInt32(a));var s=n.nextPow2(y*i);C.length<s&&(r.free(C),C=r.mallocDouble(s))}(t,a+L);var G,E=0,V=2*t;f(E++,0,0,a,0,L,i?16:0,-1/0,1/0),i||f(E++,0,0,L,0,a,1,-1/0,1/0);for(;E>0;){var Z=(E-=1)*p,N=m[Z],D=m[Z+1],w=m[Z+2],X=m[Z+3],W=m[Z+4],H=m[Z+5],T=E*y,M=C[T],k=C[T+1],Y=1&H,J=!!(16&H),$=g,z=v,O=R,K=S;if(Y&&($=R,z=S,O=g,K=v),!(2&H&&D>=(w=Q(t,N,D,w,$,z,k))||4&H&&(D=U(t,N,D,w,$,z,M))>=w)){var _=w-D,P=W-X;if(J){if(t*_*(_+P)<B){if(void 0!==(G=l.scanComplete(t,N,e,D,w,$,z,X,W,O,K)))return G;continue}}else{if(t*Math.min(_,P)<d){if(void 0!==(G=s(t,N,e,Y,D,w,$,z,X,W,O,K)))return G;continue}if(t*_*P<u){if(void 0!==(G=l.scanBipartite(t,N,e,Y,D,w,$,z,X,W,O,K)))return G;continue}}var j=F(t,N,D,w,$,z,M,k);if(D<j)if(t*(j-D)<d){if(void 0!==(G=o(t,N+1,e,D,j,$,z,X,W,O,K)))return G}else if(N===t-2){if(void 0!==(G=Y?l.sweepBipartite(t,e,X,W,O,K,D,j,$,z):l.sweepBipartite(t,e,D,j,$,z,X,W,O,K)))return G}else f(E++,N+1,D,j,X,W,Y,-1/0,1/0),f(E++,N+1,X,W,D,j,1^Y,-1/0,1/0);if(j<w){var q=c(t,N,X,W,O,K),tt=O[V*q+N],et=h(t,N,q,W,O,K,tt);if(et<W&&f(E++,N,j,w,et,W,(4|Y)+(J?16:0),tt,k),X<q&&f(E++,N,j,w,X,q,(2|Y)+(J?16:0),M,tt),q+1===et){if(void 0!==(G=J?A(t,N,e,j,w,$,z,q,O,K[q]):x(t,N,e,Y,j,w,$,z,q,O,K[q])))return G}else if(q<et){var it;if(J){if(j<(it=I(t,N,j,w,$,z,tt))){var rt=h(t,N,j,it,$,z,tt);if(N===t-2){if(j<rt&&void 0!==(G=l.sweepComplete(t,e,j,rt,$,z,q,et,O,K)))return G;if(rt<it&&void 0!==(G=l.sweepBipartite(t,e,rt,it,$,z,q,et,O,K)))return G}else j<rt&&f(E++,N+1,j,rt,q,et,16,-1/0,1/0),rt<it&&(f(E++,N+1,rt,it,q,et,0,-1/0,1/0),f(E++,N+1,q,et,rt,it,1,-1/0,1/0))}}else j<(it=Y?b(t,N,j,w,$,z,tt):I(t,N,j,w,$,z,tt))&&(N===t-2?G=Y?l.sweepBipartite(t,e,q,et,O,K,j,it,$,z):l.sweepBipartite(t,e,j,it,$,z,q,et,O,K):(f(E++,N+1,j,it,q,et,Y,-1/0,1/0),f(E++,N+1,q,et,j,it,1^Y,-1/0,1/0)))}}}}};var r=i(1888),n=i(8828),a=i(2455),s=a.partial,o=a.full,l=i(855),c=i(3545),g=i(8105),d=128,u=1<<22,B=1<<22,F=g("!(lo>=p0)&&!(p1>=hi)"),h=g("lo===p0"),Q=g("lo<p0"),U=g("hi<=p0"),I=g("lo<=p0&&p0<=hi"),b=g("lo<p0&&p0<=hi"),p=6,y=2,m=r.mallocInt32(1024),C=r.mallocDouble(1024);function f(t,e,i,r,n,a,s,o,l){var c=p*t;m[c]=e,m[c+1]=i,m[c+2]=r,m[c+3]=n,m[c+4]=a,m[c+5]=s;var g=y*t;C[g]=o,C[g+1]=l}function x(t,e,i,r,n,a,s,o,l,c,g){var d=2*t,u=l*d,B=c[u+e];t:for(var F=n,h=n*d;F<a;++F,h+=d){var Q=s[h+e],U=s[h+e+t];if(!(B<Q||U<B)&&(!r||B!==Q)){for(var I,b=o[F],p=e+1;p<t;++p){Q=s[h+p],U=s[h+p+t];var y=c[u+p],m=c[u+p+t];if(U<y||m<Q)continue t}if(void 0!==(I=r?i(g,b):i(b,g)))return I}}}function A(t,e,i,r,n,a,s,o,l,c){var g=2*t,d=o*g,u=l[d+e];t:for(var B=r,F=r*g;B<n;++B,F+=g){var h=s[B];if(h!==c){var Q=a[F+e],U=a[F+e+t];if(!(u<Q||U<u)){for(var I=e+1;I<t;++I){Q=a[F+I],U=a[F+I+t];var b=l[d+I],p=l[d+I+t];if(U<b||p<Q)continue t}var y=i(h,c);if(void 0!==y)return y}}}}},3545:function(t,e,i){t.exports=function(t,e,i,s,o,l){if(s<=i+1)return i;var c=i,g=s,d=s+i>>>1,u=2*t,B=d,F=o[u*d+e];for(;c<g;){if(g-c<n){a(t,e,c,g,o,l),F=o[u*d+e];break}var h=g-c,Q=Math.random()*h+c|0,U=o[u*Q+e],I=Math.random()*h+c|0,b=o[u*I+e],p=Math.random()*h+c|0,y=o[u*p+e];U<=b?y>=b?(B=I,F=b):U>=y?(B=Q,F=U):(B=p,F=y):b>=y?(B=I,F=b):y>=U?(B=Q,F=U):(B=p,F=y);for(var m=u*(g-1),C=u*B,f=0;f<u;++f,++m,++C){var x=o[m];o[m]=o[C],o[C]=x}var A=l[g-1];l[g-1]=l[B],l[B]=A;for(m=u*(g-1),C=u*(B=r(t,e,c,g-1,o,l,F)),f=0;f<u;++f,++m,++C){x=o[m];o[m]=o[C],o[C]=x}A=l[g-1];if(l[g-1]=l[B],l[B]=A,d<B){for(g=B-1;c<g&&o[u*(g-1)+e]===F;)g-=1;g+=1}else{if(!(B<d))break;for(c=B+1;c<g&&o[u*c+e]===F;)c+=1}}return r(t,e,i,d,o,l,o[u*d+e])};var r=i(8105)("lo<p0"),n=8;function a(t,e,i,r,n,a){for(var s=2*t,o=s*(i+1)+e,l=i+1;l<r;++l,o+=s)for(var c=n[o],g=l,d=s*(l-1);g>i&&n[d+e]>c;--g,d-=s){for(var u=d,B=d+s,F=0;F<s;++F,++u,++B){var h=n[u];n[u]=n[B],n[B]=h}var Q=a[g];a[g]=a[g-1],a[g-1]=Q}}},8105:function(t){t.exports=function(t){return e[t]};var e={"lo===p0":function(t,e,i,r,n,a,s){for(var o=2*t,l=o*i,c=l,g=i,d=e,u=i;r>u;++u,l+=o){if(n[l+d]===s)if(g===u)g+=1,c+=o;else{for(var B=0;o>B;++B){var F=n[l+B];n[l+B]=n[c],n[c++]=F}var h=a[u];a[u]=a[g],a[g++]=h}}return g},"lo<p0":function(t,e,i,r,n,a,s){for(var o=2*t,l=o*i,c=l,g=i,d=e,u=i;r>u;++u,l+=o){if(n[l+d]<s)if(g===u)g+=1,c+=o;else{for(var B=0;o>B;++B){var F=n[l+B];n[l+B]=n[c],n[c++]=F}var h=a[u];a[u]=a[g],a[g++]=h}}return g},"lo<=p0":function(t,e,i,r,n,a,s){for(var o=2*t,l=o*i,c=l,g=i,d=t+e,u=i;r>u;++u,l+=o){if(n[l+d]<=s)if(g===u)g+=1,c+=o;else{for(var B=0;o>B;++B){var F=n[l+B];n[l+B]=n[c],n[c++]=F}var h=a[u];a[u]=a[g],a[g++]=h}}return g},"hi<=p0":function(t,e,i,r,n,a,s){for(var o=2*t,l=o*i,c=l,g=i,d=t+e,u=i;r>u;++u,l+=o){if(n[l+d]<=s)if(g===u)g+=1,c+=o;else{for(var B=0;o>B;++B){var F=n[l+B];n[l+B]=n[c],n[c++]=F}var h=a[u];a[u]=a[g],a[g++]=h}}return g},"lo<p0&&p0<=hi":function(t,e,i,r,n,a,s){for(var o=2*t,l=o*i,c=l,g=i,d=e,u=t+e,B=i;r>B;++B,l+=o){var F=n[l+d],h=n[l+u];if(F<s&&s<=h)if(g===B)g+=1,c+=o;else{for(var Q=0;o>Q;++Q){var U=n[l+Q];n[l+Q]=n[c],n[c++]=U}var I=a[B];a[B]=a[g],a[g++]=I}}return g},"lo<=p0&&p0<=hi":function(t,e,i,r,n,a,s){for(var o=2*t,l=o*i,c=l,g=i,d=e,u=t+e,B=i;r>B;++B,l+=o){var F=n[l+d],h=n[l+u];if(F<=s&&s<=h)if(g===B)g+=1,c+=o;else{for(var Q=0;o>Q;++Q){var U=n[l+Q];n[l+Q]=n[c],n[c++]=U}var I=a[B];a[B]=a[g],a[g++]=I}}return g},"!(lo>=p0)&&!(p1>=hi)":function(t,e,i,r,n,a,s,o){for(var l=2*t,c=l*i,g=c,d=i,u=e,B=t+e,F=i;r>F;++F,c+=l){var h=n[c+u],Q=n[c+B];if(!(h>=s||o>=Q))if(d===F)d+=1,g+=l;else{for(var U=0;l>U;++U){var I=n[c+U];n[c+U]=n[g],n[g++]=I}var b=a[F];a[F]=a[d],a[d++]=b}}return d}}},4192:function(t){t.exports=function(t,r){r<=4*e?i(0,r-1,t):c(0,r-1,t)};var e=32;function i(t,e,i){for(var r=2*(t+1),n=t+1;n<=e;++n){for(var a=i[r++],s=i[r++],o=n,l=r-2;o-- >t;){var c=i[l-2],g=i[l-1];if(c<a)break;if(c===a&&g<s)break;i[l]=c,i[l+1]=g,l-=2}i[l]=a,i[l+1]=s}}function r(t,e,i){e*=2;var r=i[t*=2],n=i[t+1];i[t]=i[e],i[t+1]=i[e+1],i[e]=r,i[e+1]=n}function n(t,e,i){e*=2,i[t*=2]=i[e],i[t+1]=i[e+1]}function a(t,e,i,r){e*=2,i*=2;var n=r[t*=2],a=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[i],r[e+1]=r[i+1],r[i]=n,r[i+1]=a}function s(t,e,i,r,n){e*=2,n[t*=2]=n[e],n[e]=i,n[t+1]=n[e+1],n[e+1]=r}function o(t,e,i){e*=2;var r=i[t*=2],n=i[e];return!(r<n)&&(r!==n||i[t+1]>i[e+1])}function l(t,e,i,r){var n=r[t*=2];return n<e||n===e&&r[t+1]<i}function c(t,g,d){var u=(g-t+1)/6|0,B=t+u,F=g-u,h=t+g>>1,Q=h-u,U=h+u,I=B,b=Q,p=h,y=U,m=F,C=t+1,f=g-1,x=0;o(I,b,d)&&(x=I,I=b,b=x),o(y,m,d)&&(x=y,y=m,m=x),o(I,p,d)&&(x=I,I=p,p=x),o(b,p,d)&&(x=b,b=p,p=x),o(I,y,d)&&(x=I,I=y,y=x),o(p,y,d)&&(x=p,p=y,y=x),o(b,m,d)&&(x=b,b=m,m=x),o(b,p,d)&&(x=b,b=p,p=x),o(y,m,d)&&(x=y,y=m,m=x);for(var A=d[2*b],v=d[2*b+1],L=d[2*y],R=d[2*y+1],S=2*I,G=2*p,E=2*m,V=2*B,Z=2*h,N=2*F,D=0;D<2;++D){var w=d[S+D],X=d[G+D],W=d[E+D];d[V+D]=w,d[Z+D]=X,d[N+D]=W}n(Q,t,d),n(U,g,d);for(var H=C;H<=f;++H)if(l(H,A,v,d))H!==C&&r(H,C,d),++C;else if(!l(H,L,R,d))for(;;){if(l(f,L,R,d)){l(f,A,v,d)?(a(H,C,f,d),++C,--f):(r(H,f,d),--f);break}if(--f<H)break}s(t,C-1,A,v,d),s(g,f+1,L,R,d),C-2-t<=e?i(t,C-2,d):c(t,C-2,d),g-(f+2)<=e?i(f+2,g,d):c(f+2,g,d),f-C<=e?i(C,f,d):c(C,f,d)}},855:function(t,e,i){t.exports={init:function(t){var e=n.nextPow2(t);l.length<e&&(r.free(l),l=r.mallocInt32(e));c.length<e&&(r.free(c),c=r.mallocInt32(e));g.length<e&&(r.free(g),g=r.mallocInt32(e));d.length<e&&(r.free(d),d=r.mallocInt32(e));u.length<e&&(r.free(u),u=r.mallocInt32(e));B.length<e&&(r.free(B),B=r.mallocInt32(e));var i=8*e;F.length<i&&(r.free(F),F=r.mallocDouble(i))},sweepBipartite:function(t,e,i,r,n,o,u,B,U,I){for(var b=0,p=2*t,y=t-1,m=p-1,C=i;C<r;++C){var f=o[C],x=p*C;F[b++]=n[x+y],F[b++]=-(f+1),F[b++]=n[x+m],F[b++]=f}for(C=u;C<B;++C){f=I[C]+s;var A=p*C;F[b++]=U[A+y],F[b++]=-f,F[b++]=U[A+m],F[b++]=f}var v=b>>>1;a(F,v);var L=0,R=0;for(C=0;C<v;++C){var S=0|F[2*C+1];if(S>=s)h(g,d,R--,S=S-s|0);else if(S>=0)h(l,c,L--,S);else if(S<=-s){S=-S-s|0;for(var G=0;G<L;++G){if(void 0!==(E=e(l[G],S)))return E}Q(g,d,R++,S)}else{S=-S-1|0;for(G=0;G<R;++G){var E;if(void 0!==(E=e(S,g[G])))return E}Q(l,c,L++,S)}}},sweepComplete:function(t,e,i,r,n,s,o,U,I,b){for(var p=0,y=2*t,m=t-1,C=y-1,f=i;f<r;++f){var x=s[f]+1<<1,A=y*f;F[p++]=n[A+m],F[p++]=-x,F[p++]=n[A+C],F[p++]=x}for(f=o;f<U;++f){x=b[f]+1<<1;var v=y*f;F[p++]=I[v+m],F[p++]=1|-x,F[p++]=I[v+C],F[p++]=1|x}var L=p>>>1;a(F,L);var R=0,S=0,G=0;for(f=0;f<L;++f){var E=0|F[2*f+1],V=1&E;if(f<L-1&&E>>1==F[2*f+3]>>1&&(V=2,f+=1),E<0){for(var Z=-(E>>1)-1,N=0;N<G;++N){if(void 0!==(D=e(u[N],Z)))return D}if(0!==V)for(N=0;N<R;++N){if(void 0!==(D=e(l[N],Z)))return D}if(1!==V)for(N=0;N<S;++N){var D;if(void 0!==(D=e(g[N],Z)))return D}0===V?Q(l,c,R++,Z):1===V?Q(g,d,S++,Z):2===V&&Q(u,B,G++,Z)}else{Z=(E>>1)-1;0===V?h(l,c,R--,Z):1===V?h(g,d,S--,Z):2===V&&h(u,B,G--,Z)}}},scanBipartite:function(t,e,i,r,n,o,g,d,u,B,U,I){var b=0,p=2*t,y=e,m=e+t,C=1,f=1;r?f=s:C=s;for(var x=n;x<o;++x){var A=x+C,v=p*x;F[b++]=g[v+y],F[b++]=-A,F[b++]=g[v+m],F[b++]=A}for(x=u;x<B;++x){A=x+f;var L=p*x;F[b++]=U[L+y],F[b++]=-A}var R=b>>>1;a(F,R);var S=0;for(x=0;x<R;++x){var G=0|F[2*x+1];if(G<0){var E=!1;if((A=-G)>=s?(E=!r,A-=s):(E=!!r,A-=1),E)Q(l,c,S++,A);else{var V=I[A],Z=p*A,N=U[Z+e+1],D=U[Z+e+1+t];t:for(var w=0;w<S;++w){var X=l[w],W=p*X;if(!(D<g[W+e+1]||g[W+e+1+t]<N)){for(var H=e+2;H<t;++H)if(U[Z+H+t]<g[W+H]||g[W+H+t]<U[Z+H])continue t;var T,M=d[X];if(void 0!==(T=r?i(V,M):i(M,V)))return T}}}}else h(l,c,S--,G-C)}},scanComplete:function(t,e,i,r,n,o,c,g,d,u,B){for(var h=0,Q=2*t,U=e,I=e+t,b=r;b<n;++b){var p=b+s,y=Q*b;F[h++]=o[y+U],F[h++]=-p,F[h++]=o[y+I],F[h++]=p}for(b=g;b<d;++b){p=b+1;var m=Q*b;F[h++]=u[m+U],F[h++]=-p}var C=h>>>1;a(F,C);var f=0;for(b=0;b<C;++b){var x=0|F[2*b+1];if(x<0){if((p=-x)>=s)l[f++]=p-s;else{var A=B[p-=1],v=Q*p,L=u[v+e+1],R=u[v+e+1+t];t:for(var S=0;S<f;++S){var G=l[S],E=c[G];if(E===A)break;var V=Q*G;if(!(R<o[V+e+1]||o[V+e+1+t]<L)){for(var Z=e+2;Z<t;++Z)if(u[v+Z+t]<o[V+Z]||o[V+Z+t]<u[v+Z])continue t;var N=i(E,A);if(void 0!==N)return N}}}}else{for(p=x-s,S=f-1;S>=0;--S)if(l[S]===p){for(Z=S+1;Z<f;++Z)l[Z-1]=l[Z];break}--f}}}};var r=i(1888),n=i(8828),a=i(4192),s=1<<28,o=1024,l=r.mallocInt32(o),c=r.mallocInt32(o),g=r.mallocInt32(o),d=r.mallocInt32(o),u=r.mallocInt32(o),B=r.mallocInt32(o),F=r.mallocDouble(8192);function h(t,e,i,r){var n=e[r],a=t[i-1];t[n]=a,e[a]=n}function Q(t,e,i,r){t[i]=r,e[r]=i}},2538:function(t,e,i){var r=i(8902),n=i(5542),a=i(2272),s=i(5023);function o(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function l(t,e){return t[0]-e[0]||t[1]-e[1]}function c(t,e,i){return e in t?t[e]:i}t.exports=function(t,e,i){Array.isArray(e)?(i=i||{},e=e||[]):(i=e||{},e=[]);var g=!!c(i,"delaunay",!0),d=!!c(i,"interior",!0),u=!!c(i,"exterior",!0),B=!!c(i,"infinity",!1);if(!d&&!u||0===t.length)return[];var F=r(t,e);if(g||d!==u||B){for(var h=n(t.length,function(t){return t.map(o).sort(l)}(e)),Q=0;Q<F.length;++Q){var U=F[Q];h.addTriangle(U[0],U[1],U[2])}return g&&a(t,h),u?d?B?s(h,0,B):h.cells():s(h,1,B):s(h,-1)}return F}},2272:function(t,e,i){var r=i(2646)[4];function n(t,e,i,n,a,s){var o=e.opposite(n,a);if(!(o<0)){if(a<n){var l=n;n=a,a=l,l=s,s=o,o=l}e.isConstraint(n,a)||r(t[n],t[a],t[s],t[o])<0&&i.push(n,a)}}i(2478),t.exports=function(t,e){for(var i=[],a=t.length,s=e.stars,o=0;o<a;++o)for(var l=s[o],c=1;c<l.length;c+=2){if(!((B=l[c])<o)&&!e.isConstraint(o,B)){for(var g=l[c-1],d=-1,u=1;u<l.length;u+=2)if(l[u-1]===B){d=l[u];break}d<0||r(t[o],t[B],t[g],t[d])<0&&i.push(o,B)}}for(;i.length>0;){for(var B=i.pop(),F=(g=-1,d=-1,l=s[o=i.pop()],1);F<l.length;F+=2){var h=l[F-1],Q=l[F];h===B?d=Q:Q===B&&(g=h)}g<0||d<0||(r(t[o],t[B],t[g],t[d])>=0||(e.flip(o,B),n(t,e,i,g,o,d),n(t,e,i,o,d,g),n(t,e,i,d,B,g),n(t,e,i,B,g,d)))}}},5023:function(t,e,i){var r=i(2478);function n(t,e,i,r,n,a,s){this.cells=t,this.neighbor=e,this.flags=r,this.constraint=i,this.active=n,this.next=a,this.boundary=s}function a(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}t.exports=function(t,e,i){var r=function(t,e){for(var i=t.cells(),r=i.length,s=0;s<r;++s){var o=(U=i[s])[0],l=U[1],c=U[2];l<c?l<o&&(U[0]=l,U[1]=c,U[2]=o):c<o&&(U[0]=c,U[1]=o,U[2]=l)}i.sort(a);var g=new Array(r);for(s=0;s<g.length;++s)g[s]=0;var d=[],u=[],B=new Array(3*r),F=new Array(3*r),h=null;e&&(h=[]);var Q=new n(i,B,F,g,d,u,h);for(s=0;s<r;++s)for(var U=i[s],I=0;I<3;++I){o=U[I],l=U[(I+1)%3];var b=B[3*s+I]=Q.locate(l,o,t.opposite(l,o)),p=F[3*s+I]=t.isConstraint(o,l);b<0&&(p?u.push(s):(d.push(s),g[s]=1),e&&h.push([l,o,-1]))}return Q}(t,i);if(0===e)return i?r.cells.concat(r.boundary):r.cells;var s=1,o=r.active,l=r.next,c=r.flags,g=r.cells,d=r.constraint,u=r.neighbor;for(;o.length>0||l.length>0;){for(;o.length>0;){var B=o.pop();if(c[B]!==-s){c[B]=s,g[B];for(var F=0;F<3;++F){var h=u[3*B+F];h>=0&&0===c[h]&&(d[3*B+F]?l.push(h):(o.push(h),c[h]=s))}}}var Q=l;l=o,o=Q,l.length=0,s=-s}var U=function(t,e,i){for(var r=0,n=0;n<t.length;++n)e[n]===i&&(t[r++]=t[n]);return t.length=r,t}(g,c,e);if(i)return U.concat(r.boundary);return U},n.prototype.locate=function(){var t=[0,0,0];return function(e,i,n){var s=e,o=i,l=n;return i<n?i<e&&(s=i,o=n,l=e):n<e&&(s=n,o=e,l=i),s<0?-1:(t[0]=s,t[1]=o,t[2]=l,r.eq(this.cells,t,a))}}()},8902:function(t,e,i){var r=i(2478),n=i(3250)[3];function a(t,e,i,r,n){this.a=t,this.b=e,this.idx=i,this.lowerIds=r,this.upperIds=n}function s(t,e,i,r){this.a=t,this.b=e,this.type=i,this.idx=r}function o(t,e){var i=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return i||(0!==t.type&&(i=n(t.a,t.b,e.b))?i:t.idx-e.idx)}function l(t,e){return n(t.a,t.b,e)}function c(t,e,i,a,s){for(var o=r.lt(e,a,l),c=r.gt(e,a,l),g=o;g<c;++g){for(var d=e[g],u=d.lowerIds,B=u.length;B>1&&n(i[u[B-2]],i[u[B-1]],a)>0;)t.push([u[B-1],u[B-2],s]),B-=1;u.length=B,u.push(s);var F=d.upperIds;for(B=F.length;B>1&&n(i[F[B-2]],i[F[B-1]],a)<0;)t.push([F[B-2],F[B-1],s]),B-=1;F.length=B,F.push(s)}}function g(t,e){var i;return(i=t.a[0]<e.a[0]?n(t.a,t.b,e.a):n(e.b,e.a,t.a))?i:(i=e.b[0]<t.b[0]?n(t.a,t.b,e.b):n(e.b,e.a,t.b))||t.idx-e.idx}function d(t,e,i){var n=r.le(t,i,g),s=t[n],o=s.upperIds,l=o[o.length-1];s.upperIds=[l],t.splice(n+1,0,new a(i.a,i.b,i.idx,[l],o))}function u(t,e,i){var n=i.a;i.a=i.b,i.b=n;var a=r.eq(t,i,g),s=t[a];t[a-1].upperIds=s.upperIds,t.splice(a,1)}t.exports=function(t,e){for(var i=t.length,r=e.length,n=[],l=0;l<i;++l)n.push(new s(t[l],null,0,l));for(l=0;l<r;++l){var g=e[l],B=t[g[0]],F=t[g[1]];B[0]<F[0]?n.push(new s(B,F,2,l),new s(F,B,1,l)):B[0]>F[0]&&n.push(new s(F,B,2,l),new s(B,F,1,l))}n.sort(o);for(var h=n[0].a[0]-(1+Math.abs(n[0].a[0]))*Math.pow(2,-52),Q=[new a([h,1],[h,0],-1,[],[])],U=[],I=(l=0,n.length);l<I;++l){var b=n[l],p=b.type;0===p?c(U,Q,t,b.a,b.idx):2===p?d(Q,t,b):u(Q,t,b)}return U}},5542:function(t,e,i){var r=i(2478);function n(t,e){this.stars=t,this.edges=e}t.exports=function(t,e){for(var i=new Array(t),r=0;r<t;++r)i[r]=[];return new n(i,e)};var a=n.prototype;function s(t,e,i){for(var r=1,n=t.length;r<n;r+=2)if(t[r-1]===e&&t[r]===i)return t[r-1]=t[n-2],t[r]=t[n-1],void(t.length=n-2)}a.isConstraint=function(){var t=[0,0];function e(t,e){return t[0]-e[0]||t[1]-e[1]}return function(i,n){return t[0]=Math.min(i,n),t[1]=Math.max(i,n),r.eq(this.edges,t,e)>=0}}(),a.removeTriangle=function(t,e,i){var r=this.stars;s(r[t],e,i),s(r[e],i,t),s(r[i],t,e)},a.addTriangle=function(t,e,i){var r=this.stars;r[t].push(e,i),r[e].push(i,t),r[i].push(t,e)},a.opposite=function(t,e){for(var i=this.stars[e],r=1,n=i.length;r<n;r+=2)if(i[r]===t)return i[r-1];return-1},a.flip=function(t,e){var i=this.opposite(t,e),r=this.opposite(e,t);this.removeTriangle(t,e,i),this.removeTriangle(e,t,r),this.addTriangle(t,r,i),this.addTriangle(e,i,r)},a.edges=function(){for(var t=this.stars,e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],a=0,s=n.length;a<s;a+=2)e.push([n[a],n[a+1]]);return e},a.cells=function(){for(var t=this.stars,e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],a=0,s=n.length;a<s;a+=2){var o=n[a],l=n[a+1];i<Math.min(o,l)&&e.push([i,o,l])}return e}},2419:function(t){t.exports=function(t){for(var e=1,i=1;i<t.length;++i)for(var r=0;r<i;++r)if(t[i]<t[r])e=-e;else if(t[r]===t[i])return 0;return e}},3628:function(t,e,i){var r=i(1338),n=i(727);function a(t,e){for(var i=0,r=t.length,n=0;n<r;++n)i+=t[n]*e[n];return i}function s(t){var e=t.length;if(0===e)return[];t[0].length;var i=r([t.length+1,t.length+1],1),s=r([t.length+1],1);i[e][e]=0;for(var o=0;o<e;++o){for(var l=0;l<=o;++l)i[l][o]=i[o][l]=2*a(t[o],t[l]);s[o]=a(t[o],t[o])}var c=n(i,s),g=0,d=c[e+1];for(o=0;o<d.length;++o)g+=d[o];var u=new Array(e);for(o=0;o<e;++o){d=c[o];var B=0;for(l=0;l<d.length;++l)B+=d[l];u[o]=B/g}return u}function o(t){if(0===t.length)return[];for(var e=t[0].length,i=r([e]),n=s(t),a=0;a<t.length;++a)for(var o=0;o<e;++o)i[o]+=t[a][o]*n[a];return i}o.barycenetric=s,t.exports=o},6037:function(t,e,i){t.exports=function(t){for(var e=r(t),i=0,n=0;n<t.length;++n)for(var a=t[n],s=0;s<e.length;++s)i+=Math.pow(a[s]-e[s],2);return Math.sqrt(i/t.length)};var r=i(3628)},332:function(t,e,i){t.exports=function(t,e,i){var r;if(i){r=e;for(var n=new Array(e.length),a=0;a<e.length;++a){var s=e[a];n[a]=[s[0],s[1],i[a]]}e=n}var o=function(t,e,i){var r=F(t,[],B(t));return U(e,r,i),!!r}(t,e,!!i);for(;I(t,e,!!i);)o=!0;if(i&&o){r.length=0,i.length=0;for(a=0;a<e.length;++a){s=e[a];r.push([s[0],s[1]]),i.push(s[2])}}return o};var r=i(1755),n=i(6867),a=i(1125),s=i(7842),o=i(1318),l=i(946),c=i(5838),g=i(1278),d=i(3637);function u(t){var e=l(t);return[g(e,-1/0),g(e,1/0)]}function B(t){for(var e=new Array(t.length),i=0;i<t.length;++i){var r=t[i];e[i]=[g(r[0],-1/0),g(r[1],-1/0),g(r[0],1/0),g(r[1],1/0)]}return e}function F(t,e,i){for(var a=e.length,s=new r(a),o=[],l=0;l<e.length;++l){var c=e[l],d=u(c[0]),B=u(c[1]);o.push([g(d[0],-1/0),g(B[0],-1/0),g(d[1],1/0),g(B[1],1/0)])}n(o,function(t,e){s.link(t,e)});var F=!0,h=new Array(a);for(l=0;l<a;++l){(U=s.find(l))!==l&&(F=!1,t[U]=[Math.min(t[l][0],t[U][0]),Math.min(t[l][1],t[U][1])])}if(F)return null;var Q=0;for(l=0;l<a;++l){var U;(U=s.find(l))===l?(h[l]=Q,t[Q++]=t[l]):h[l]=-1}t.length=Q;for(l=0;l<a;++l)h[l]<0&&(h[l]=h[s.find(l)]);return h}function h(t,e){return t[0]-e[0]||t[1]-e[1]}function Q(t,e){var i=t[0]-e[0]||t[1]-e[1];return i||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function U(t,e,i){if(0!==t.length){if(e)for(var r=0;r<t.length;++r){var n=e[(s=t[r])[0]],a=e[s[1]];s[0]=Math.min(n,a),s[1]=Math.max(n,a)}else for(r=0;r<t.length;++r){var s;n=(s=t[r])[0],a=s[1];s[0]=Math.min(n,a),s[1]=Math.max(n,a)}i?t.sort(Q):t.sort(h);var o=1;for(r=1;r<t.length;++r){var l=t[r-1],c=t[r];(c[0]!==l[0]||c[1]!==l[1]||i&&c[2]!==l[2])&&(t[o++]=c)}t.length=o}}function I(t,e,i){var r=function(t,e){for(var i=new Array(e.length),r=0;r<e.length;++r){var n=e[r],a=t[n[0]],s=t[n[1]];i[r]=[g(Math.min(a[0],s[0]),-1/0),g(Math.min(a[1],s[1]),-1/0),g(Math.max(a[0],s[0]),1/0),g(Math.max(a[1],s[1]),1/0)]}return i}(t,e),u=function(t,e,i){var r=[];return n(i,function(i,n){var s=e[i],o=e[n];if(s[0]!==o[0]&&s[0]!==o[1]&&s[1]!==o[0]&&s[1]!==o[1]){var l=t[s[0]],c=t[s[1]],g=t[o[0]],d=t[o[1]];a(l,c,g,d)&&r.push([i,n])}}),r}(t,e,r),h=function(t,e,i,r){var s=[];return n(i,r,function(i,r){var n=e[i];if(n[0]!==r&&n[1]!==r){var o=t[r],l=t[n[0]],c=t[n[1]];a(l,c,o,o)&&s.push([i,r])}}),s}(t,e,r,B(t)),Q=function(t,e,i,r,n){var a,g,u=t.map(function(t){return[s(t[0]),s(t[1])]});for(a=0;a<i.length;++a){var B=i[a];g=B[0];var F=B[1],h=e[g],Q=e[F],U=d(c(t[h[0]]),c(t[h[1]]),c(t[Q[0]]),c(t[Q[1]]));if(U){var I=t.length;t.push([l(U[0]),l(U[1])]),u.push(U),r.push([g,I],[F,I])}}for(r.sort(function(t,e){if(t[0]!==e[0])return t[0]-e[0];var i=u[t[1]],r=u[e[1]];return o(i[0],r[0])||o(i[1],r[1])}),a=r.length-1;a>=0;--a){var b=e[g=(v=r[a])[0]],p=b[0],y=b[1],m=t[p],C=t[y];if((m[0]-C[0]||m[1]-C[1])<0){var f=p;p=y,y=f}b[0]=p;var x,A=b[1]=v[1];for(n&&(x=b[2]);a>0&&r[a-1][0]===g;){var v,L=(v=r[--a])[1];n?e.push([A,L,x]):e.push([A,L]),A=L}n?e.push([A,y,x]):e.push([A,y])}return u}(t,e,u,h,i),I=F(t,Q);return U(e,I,i),!!I||(u.length>0||h.length>0)}},3637:function(t,e,i){t.exports=function(t,e,i,r){var a=o(e,t),d=o(r,i),u=g(a,d);if(0===s(u))return null;var B=o(t,i),F=g(d,B),h=n(F,u),Q=c(a,h),U=l(t,Q);return U};var r=i(6504),n=i(8697),a=i(5572),s=i(7721),o=i(544),l=i(2653),c=i(8987);function g(t,e){return a(r(t[0],e[1]),r(t[1],e[0]))}},3642:function(t){t.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(t,e,i){var r=i(3642),n=i(395);function a(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function s(t){for(var e,i="#",r=0;r<3;++r)i+=("00"+(e=(e=t[r]).toString(16))).substr(e.length);return i}function o(t){return"rgba("+t.join(",")+")"}t.exports=function(t){var e,i,l,c,g,d,u,B,F,h;t||(t={});B=(t.nshades||72)-1,u=t.format||"hex",(d=t.colormap)||(d="jet");if("string"==typeof d){if(d=d.toLowerCase(),!r[d])throw Error(d+" not a supported colorscale");g=r[d]}else{if(!Array.isArray(d))throw Error("unsupported colormap option",d);g=d.slice()}if(g.length>B+1)throw new Error(d+" map requires nshades to be at least size "+g.length);F=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1];e=g.map(function(t){return Math.round(t.index*B)}),F[0]=Math.min(Math.max(F[0],0),1),F[1]=Math.min(Math.max(F[1],0),1);var Q=g.map(function(t,e){var i=g[e].index,r=g[e].rgb.slice();return 4===r.length&&r[3]>=0&&r[3]<=1||(r[3]=F[0]+(F[1]-F[0])*i),r}),U=[];for(h=0;h<e.length-1;++h){c=e[h+1]-e[h],i=Q[h],l=Q[h+1];for(var I=0;I<c;I++){var b=I/c;U.push([Math.round(n(i[0],l[0],b)),Math.round(n(i[1],l[1],b)),Math.round(n(i[2],l[2],b)),n(i[3],l[3],b)])}}U.push(g[g.length-1].rgb.concat(F[1])),"hex"===u?U=U.map(s):"rgbaString"===u?U=U.map(o):"float"===u&&(U=U.map(a));return U}},3140:function(t,e,i){t.exports=function(t,e,i,a){var s=r(e,i,a);if(0===s){var o=n(r(t,e,i)),c=n(r(t,e,a));if(o===c){if(0===o){var g=l(t,e,i);return g===l(t,e,a)?0:g?1:-1}return 0}return 0===c?o>0||l(t,e,a)?-1:1:0===o?c>0||l(t,e,i)?1:-1:n(c-o)}var d=r(t,e,i);return d>0?s>0&&r(t,e,a)>0?1:-1:d<0?s>0||r(t,e,a)>0?1:-1:r(t,e,a)>0||l(t,e,i)?1:-1};var r=i(3250),n=i(8572),a=i(9362),s=i(5382),o=i(8210);function l(t,e,i){var r=a(t[0],-e[0]),n=a(t[1],-e[1]),l=a(i[0],-e[0]),c=a(i[1],-e[1]),g=o(s(r,l),s(n,c));return g[g.length-1]>=0}},8572:function(t){t.exports=function(t){return t<0?-1:t>0?1:0}},8507:function(t){t.exports=function(t,r){var n=t.length,a=t.length-r.length;if(a)return a;switch(n){case 0:return 0;case 1:return t[0]-r[0];case 2:return t[0]+t[1]-r[0]-r[1]||e(t[0],t[1])-e(r[0],r[1]);case 3:var s=t[0]+t[1],o=r[0]+r[1];if(a=s+t[2]-(o+r[2]))return a;var l=e(t[0],t[1]),c=e(r[0],r[1]);return e(l,t[2])-e(c,r[2])||e(l+t[2],s)-e(c+r[2],o);case 4:var g=t[0],d=t[1],u=t[2],B=t[3],F=r[0],h=r[1],Q=r[2],U=r[3];return g+d+u+B-(F+h+Q+U)||e(g,d,u,B)-e(F,h,Q,U,F)||e(g+d,g+u,g+B,d+u,d+B,u+B)-e(F+h,F+Q,F+U,h+Q,h+U,Q+U)||e(g+d+u,g+d+B,g+u+B,d+u+B)-e(F+h+Q,F+h+U,F+Q+U,h+Q+U);default:for(var I=t.slice().sort(i),b=r.slice().sort(i),p=0;p<n;++p)if(a=I[p]-b[p])return a;return 0}};var e=Math.min;function i(t,e){return t-e}},3788:function(t,e,i){var r=i(8507),n=i(2419);t.exports=function(t,e){return r(t,e)||n(t)-n(e)}},7352:function(t,e,i){var r=i(5721),n=i(4750),a=i(2690);t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var i=t[0].length;if(0===i)return[];if(1===i)return r(t);if(2===i)return n(t);return a(t,i)}},5721:function(t){t.exports=function(t){for(var e=0,i=0,r=1;r<t.length;++r)t[r][0]<t[e][0]&&(e=r),t[r][0]>t[i][0]&&(i=r);return e<i?[[e],[i]]:e>i?[[i],[e]]:[[e]]}},4750:function(t,e,i){t.exports=function(t){var e=r(t),i=e.length;if(i<=2)return[];for(var n=new Array(i),a=e[i-1],s=0;s<i;++s){var o=e[s];n[s]=[a,o],a=o}return n};var r=i(3090)},2690:function(t,e,i){t.exports=function(t,e){try{return r(t,!0)}catch(s){var i=n(t);if(i.length<=e)return[];var a=function(t,e){for(var i=t.length,r=new Array(i),n=0;n<e.length;++n)r[n]=t[e[n]];var a=e.length;for(n=0;n<i;++n)e.indexOf(n)<0&&(r[a++]=t[n]);return r}(t,i);return function(t,e){for(var i=t.length,r=e.length,n=0;n<i;++n)for(var a=t[n],s=0;s<a.length;++s){var o=a[s];if(o<r)a[s]=e[o];else{o-=r;for(var l=0;l<r;++l)o>=e[l]&&(o+=1);a[s]=o}}return t}(r(a,!0),i)}};var r=i(8954),n=i(3952)},4769:function(t){t.exports=function(t,e,i,r,n,a){var s=n-1,o=n*n,l=s*s,c=(1+2*n)*l,g=n*l,d=o*(3-2*n),u=o*s;if(t.length){a||(a=new Array(t.length));for(var B=t.length-1;B>=0;--B)a[B]=c*t[B]+g*e[B]+d*i[B]+u*r[B];return a}return c*t+g*e+d*i+u*r},t.exports.derivative=function(t,e,i,r,n,a){var s=6*n*n-6*n,o=3*n*n-4*n+1,l=-6*n*n+6*n,c=3*n*n-2*n;if(t.length){a||(a=new Array(t.length));for(var g=t.length-1;g>=0;--g)a[g]=s*t[g]+o*e[g]+l*i[g]+c*r[g];return a}return s*t+o*e+l*i[g]+c*r}},7642:function(t,e,i){var r=i(8954),n=i(1682);function a(t,e){this.point=t,this.index=e}function s(t,e){for(var i=t.point,r=e.point,n=i.length,a=0;a<n;++a){var s=r[a]-i[a];if(s)return s}return 0}t.exports=function(t,e){var i=t.length;if(0===i)return[];var o=t[0].length;if(o<1)return[];if(1===o)return function(t,e,i){if(1===t)return i?[[-1,0]]:[];var r=e.map(function(t,e){return[t[0],e]});r.sort(function(t,e){return t[0]-e[0]});for(var n=new Array(t-1),a=1;a<t;++a){var s=r[a-1],o=r[a];n[a-1]=[s[1],o[1]]}i&&n.push([-1,n[0][1]],[n[t-1][1],-1]);return n}(i,t,e);for(var l=new Array(i),c=1,g=0;g<i;++g){for(var d=t[g],u=new Array(o+1),B=0,F=0;F<o;++F){var h=d[F];u[F]=h,B+=h*h}u[o]=B,l[g]=new a(u,g),c=Math.max(B,c)}n(l,s),i=l.length;var Q=new Array(i+o+1),U=new Array(i+o+1),I=(o+1)*(o+1)*c,b=new Array(o+1);for(g=0;g<=o;++g)b[g]=0;b[o]=I,Q[0]=b.slice(),U[0]=-1;for(g=0;g<=o;++g){(u=b.slice())[g]=1,Q[g+1]=u,U[g+1]=-1}for(g=0;g<i;++g){var p=l[g];Q[g+o+1]=p.point,U[g+o+1]=p.index}var y=r(Q,!1);y=e?y.filter(function(t){for(var e=0,i=0;i<=o;++i){var r=U[t[i]];if(r<0&&++e>=2)return!1;t[i]=r}return!0}):y.filter(function(t){for(var e=0;e<=o;++e){var i=U[t[e]];if(i<0)return!1;t[e]=i}return!0});if(1&o)for(g=0;g<y.length;++g){u=(p=y[g])[0];p[0]=p[1],p[1]=u}return y}},2361:function(t){var e=!1;if("undefined"!=typeof Float64Array){var i=new Float64Array(1),r=new Uint32Array(i.buffer);if(i[0]=1,e=!0,1072693248===r[1]){t.exports=function(t){return i[0]=t,[r[0],r[1]]},t.exports.pack=function(t,e){return r[0]=t,r[1]=e,i[0]},t.exports.lo=function(t){return i[0]=t,r[0]},t.exports.hi=function(t){return i[0]=t,r[1]}}else if(1072693248===r[0]){t.exports=function(t){return i[0]=t,[r[1],r[0]]},t.exports.pack=function(t,e){return r[1]=t,r[0]=e,i[0]},t.exports.lo=function(t){return i[0]=t,r[1]},t.exports.hi=function(t){return i[0]=t,r[0]}}else e=!1}if(!e){var n=new Buffer(8);t.exports=function(t){return n.writeDoubleLE(t,0,!0),[n.readUInt32LE(0,!0),n.readUInt32LE(4,!0)]},t.exports.pack=function(t,e){return n.writeUInt32LE(t,0,!0),n.writeUInt32LE(e,4,!0),n.readDoubleLE(0,!0)},t.exports.lo=function(t){return n.writeDoubleLE(t,0,!0),n.readUInt32LE(0,!0)},t.exports.hi=function(t){return n.writeDoubleLE(t,0,!0),n.readUInt32LE(4,!0)}}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var i=t.exports.lo(e),r=t.exports.hi(e),n=1048575&r;return 2146435072&r&&(n+=1<<20),[i,n]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}},1338:function(t){function e(t,i,r){var n=0|t[r];if(n<=0)return[];var a,s=new Array(n);if(r===t.length-1)for(a=0;a<n;++a)s[a]=i;else for(a=0;a<n;++a)s[a]=e(t,i,r+1);return s}t.exports=function(t,i){switch(void 0===i&&(i=0),typeof t){case"number":if(t>0)return function(t,e){var i,r;for(i=new Array(t),r=0;r<t;++r)i[r]=e;return i}(0|t,i);break;case"object":if("number"==typeof t.length)return e(t,i,0)}return[]}},3134:function(t,e,i){t.exports=function(t,e){var i=t.length;if("number"!=typeof e){e=0;for(var n=0;n<i;++n){var a=t[n];e=Math.max(e,a[0],a[1])}e=1+(0|e)}e|=0;var s=new Array(e);for(n=0;n<e;++n)s[n]=[];for(n=0;n<i;++n){s[(a=t[n])[0]].push(a[1]),s[a[1]].push(a[0])}for(var o=0;o<e;++o)r(s[o],function(t,e){return t-e});return s};var r=i(1682)},5033:function(t){t.exports=function(t,e,i){var r=e||0,n=i||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[r*t[12]+t[8],r*t[13]+t[9],r*t[14]+t[10],r*t[15]+t[11]],[n*t[12]-t[8],n*t[13]-t[9],n*t[14]-t[10],n*t[15]-t[11]]]}},9215:function(t,e,i){t.exports=function(t,e,i){switch(arguments.length){case 0:return new s([0],[0],0);case 1:return"number"==typeof t?new s(r=l(t),r,0):new s(t,l(t.length),0);case 2:var r;if("number"==typeof e)return new s(t,r=l(t.length),+e);i=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new s(t,e,i)}};var r=i(4769),n=i(2478);function a(t,e,i){return Math.min(e,Math.max(t,i))}function s(t,e,i){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[i],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var o=s.prototype;function l(t){for(var e=new Array(t),i=0;i<t;++i)e[i]=0;return e}o.flush=function(t){var e=n.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},o.curve=function(t){var e=this._time,i=e.length,s=n.le(e,t),o=this._scratch[0],l=this._state,c=this._velocity,g=this.dimension,d=this.bounds;if(s<0)for(var u=g-1,B=0;B<g;++B,--u)o[B]=l[u];else if(s>=i-1){u=l.length-1;var F=t-e[i-1];for(B=0;B<g;++B,--u)o[B]=l[u]+F*c[u]}else{u=g*(s+1)-1;var h=e[s],Q=e[s+1]-h||1,U=this._scratch[1],I=this._scratch[2],b=this._scratch[3],p=this._scratch[4],y=!0;for(B=0;B<g;++B,--u)U[B]=l[u],b[B]=c[u]*Q,I[B]=l[u+g],p[B]=c[u+g]*Q,y=y&&U[B]===I[B]&&b[B]===p[B]&&0===b[B];if(y)for(B=0;B<g;++B)o[B]=U[B];else r(U,b,I,p,(t-h)/Q,o)}var m=d[0],C=d[1];for(B=0;B<g;++B)o[B]=a(m[B],C[B],o[B]);return o},o.dcurve=function(t){var e=this._time,i=e.length,a=n.le(e,t),s=this._scratch[0],o=this._state,l=this._velocity,c=this.dimension;if(a>=i-1){var g=o.length-1;e[i-1];for(var d=0;d<c;++d,--g)s[d]=l[g]}else{g=c*(a+1)-1;var u=e[a],B=e[a+1]-u||1,F=this._scratch[1],h=this._scratch[2],Q=this._scratch[3],U=this._scratch[4],I=!0;for(d=0;d<c;++d,--g)F[d]=o[g],Q[d]=l[g]*B,h[d]=o[g+c],U[d]=l[g+c]*B,I=I&&F[d]===h[d]&&Q[d]===U[d]&&0===Q[d];if(I)for(d=0;d<c;++d)s[d]=0;else{r.derivative(F,Q,h,U,(t-u)/B,s);for(d=0;d<c;++d)s[d]/=B}}return s},o.lastT=function(){var t=this._time;return t[t.length-1]},o.stable=function(){for(var t=this._velocity,e=t.length,i=this.dimension-1;i>=0;--i)if(t[--e])return!1;return!0},o.jump=function(t){var e=this.lastT(),i=this.dimension;if(!(t<e||arguments.length!==i+1)){var r=this._state,n=this._velocity,s=r.length-this.dimension,o=this.bounds,l=o[0],c=o[1];this._time.push(e,t);for(var g=0;g<2;++g)for(var d=0;d<i;++d)r.push(r[s++]),n.push(0);this._time.push(t);for(d=i;d>0;--d)r.push(a(l[d-1],c[d-1],arguments[d])),n.push(0)}},o.push=function(t){var e=this.lastT(),i=this.dimension;if(!(t<e||arguments.length!==i+1)){var r=this._state,n=this._velocity,s=r.length-this.dimension,o=t-e,l=this.bounds,c=l[0],g=l[1],d=o>1e-6?1/o:0;this._time.push(t);for(var u=i;u>0;--u){var B=a(c[u-1],g[u-1],arguments[u]);r.push(B),n.push((B-r[s++])*d)}}},o.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var i=this._state,r=this._velocity,n=this.bounds,s=n[0],o=n[1];this._time.push(t);for(var l=e;l>0;--l)i.push(a(s[l-1],o[l-1],arguments[l])),r.push(0)}},o.move=function(t){var e=this.lastT(),i=this.dimension;if(!(t<=e||arguments.length!==i+1)){var r=this._state,n=this._velocity,s=r.length-this.dimension,o=this.bounds,l=o[0],c=o[1],g=t-e,d=g>1e-6?1/g:0;this._time.push(t);for(var u=i;u>0;--u){var B=arguments[u];r.push(a(l[u-1],c[u-1],r[s++]+B)),n.push(B*d)}}},o.idle=function(t){var e=this.lastT();if(!(t<e)){var i=this.dimension,r=this._state,n=this._velocity,s=r.length-i,o=this.bounds,l=o[0],c=o[1],g=t-e;this._time.push(t);for(var d=i-1;d>=0;--d)r.push(a(l[d],c[d],r[s]+g*n[s])),n.push(0),s+=1}}},3840:function(t){t.exports=function(t){return new a(t||B,null)};function e(t,e,i,r,n,a){this._color=t,this.key=e,this.value=i,this.left=r,this.right=n,this._count=a}function i(t){return new e(t._color,t.key,t.value,t.left,t.right,t._count)}function r(t,i){return new e(t,i.key,i.value,i.left,i.right,i._count)}function n(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function a(t,e){this._compare=t,this.root=e}var s=a.prototype;function o(t,e){var i;if(e.left&&(i=o(t,e.left)))return i;return(i=t(e.key,e.value))||(e.right?o(t,e.right):void 0)}function l(t,e,i,r){if(e(t,r.key)<=0){var n;if(r.left)if(n=l(t,e,i,r.left))return n;if(n=i(r.key,r.value))return n}if(r.right)return l(t,e,i,r.right)}function c(t,e,i,r,n){var a,s=i(t,n.key),o=i(e,n.key);if(s<=0){if(n.left&&(a=c(t,e,i,r,n.left)))return a;if(o>0&&(a=r(n.key,n.value)))return a}if(o>0&&n.right)return c(t,e,i,r,n.right)}function g(t,e){this.tree=t,this._stack=e}Object.defineProperty(s,"keys",{get:function(){var t=[];return this.forEach(function(e,i){t.push(e)}),t}}),Object.defineProperty(s,"values",{get:function(){var t=[];return this.forEach(function(e,i){t.push(i)}),t}}),Object.defineProperty(s,"length",{get:function(){return this.root?this.root._count:0}}),s.insert=function(t,i){for(var s=this._compare,o=this.root,l=[],c=[];o;){var g=s(t,o.key);l.push(o),c.push(g),o=g<=0?o.left:o.right}l.push(new e(0,t,i,null,null,1));for(var d=l.length-2;d>=0;--d){o=l[d];c[d]<=0?l[d]=new e(o._color,o.key,o.value,l[d+1],o.right,o._count+1):l[d]=new e(o._color,o.key,o.value,o.left,l[d+1],o._count+1)}for(d=l.length-1;d>1;--d){var u=l[d-1];o=l[d];if(1===u._color||1===o._color)break;var B=l[d-2];if(B.left===u)if(u.left===o){if(!(F=B.right)||0!==F._color){if(B._color=0,B.left=u.right,u._color=1,u.right=B,l[d-2]=u,l[d-1]=o,n(B),n(u),d>=3)(h=l[d-3]).left===B?h.left=u:h.right=u;break}u._color=1,B.right=r(1,F),B._color=0,d-=1}else{if(!(F=B.right)||0!==F._color){if(u.right=o.left,B._color=0,B.left=o.right,o._color=1,o.left=u,o.right=B,l[d-2]=o,l[d-1]=u,n(B),n(u),n(o),d>=3)(h=l[d-3]).left===B?h.left=o:h.right=o;break}u._color=1,B.right=r(1,F),B._color=0,d-=1}else if(u.right===o){if(!(F=B.left)||0!==F._color){if(B._color=0,B.right=u.left,u._color=1,u.left=B,l[d-2]=u,l[d-1]=o,n(B),n(u),d>=3)(h=l[d-3]).right===B?h.right=u:h.left=u;break}u._color=1,B.left=r(1,F),B._color=0,d-=1}else{var F;if(!(F=B.left)||0!==F._color){var h;if(u.left=o.right,B._color=0,B.right=o.left,o._color=1,o.right=u,o.left=B,l[d-2]=o,l[d-1]=u,n(B),n(u),n(o),d>=3)(h=l[d-3]).right===B?h.right=o:h.left=o;break}u._color=1,B.left=r(1,F),B._color=0,d-=1}}return l[0]._color=1,new a(s,l[0])},s.forEach=function(t,e,i){if(this.root)switch(arguments.length){case 1:return o(t,this.root);case 2:return l(e,this._compare,t,this.root);case 3:if(this._compare(e,i)>=0)return;return c(e,i,this._compare,t,this.root)}},Object.defineProperty(s,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new g(this,t)}}),Object.defineProperty(s,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new g(this,t)}}),s.at=function(t){if(t<0)return new g(this,[]);for(var e=this.root,i=[];;){if(i.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new g(this,i);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new g(this,[])},s.ge=function(t){for(var e=this._compare,i=this.root,r=[],n=0;i;){var a=e(t,i.key);r.push(i),a<=0&&(n=r.length),i=a<=0?i.left:i.right}return r.length=n,new g(this,r)},s.gt=function(t){for(var e=this._compare,i=this.root,r=[],n=0;i;){var a=e(t,i.key);r.push(i),a<0&&(n=r.length),i=a<0?i.left:i.right}return r.length=n,new g(this,r)},s.lt=function(t){for(var e=this._compare,i=this.root,r=[],n=0;i;){var a=e(t,i.key);r.push(i),a>0&&(n=r.length),i=a<=0?i.left:i.right}return r.length=n,new g(this,r)},s.le=function(t){for(var e=this._compare,i=this.root,r=[],n=0;i;){var a=e(t,i.key);r.push(i),a>=0&&(n=r.length),i=a<0?i.left:i.right}return r.length=n,new g(this,r)},s.find=function(t){for(var e=this._compare,i=this.root,r=[];i;){var n=e(t,i.key);if(r.push(i),0===n)return new g(this,r);i=n<=0?i.left:i.right}return new g(this,[])},s.remove=function(t){var e=this.find(t);return e?e.remove():this},s.get=function(t){for(var e=this._compare,i=this.root;i;){var r=e(t,i.key);if(0===r)return i.value;i=r<=0?i.left:i.right}};var d=g.prototype;function u(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function B(t,e){return t<e?-1:t>e?1:0}Object.defineProperty(d,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(d,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),d.clone=function(){return new g(this.tree,this._stack.slice())},d.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var s=new Array(t.length),o=t[t.length-1];s[s.length-1]=new e(o._color,o.key,o.value,o.left,o.right,o._count);for(var l=t.length-2;l>=0;--l){(o=t[l]).left===t[l+1]?s[l]=new e(o._color,o.key,o.value,s[l+1],o.right,o._count):s[l]=new e(o._color,o.key,o.value,o.left,s[l+1],o._count)}if((o=s[s.length-1]).left&&o.right){var c=s.length;for(o=o.left;o.right;)s.push(o),o=o.right;var g=s[c-1];s.push(new e(o._color,g.key,g.value,o.left,o.right,o._count)),s[c-1].key=o.key,s[c-1].value=o.value;for(l=s.length-2;l>=c;--l)o=s[l],s[l]=new e(o._color,o.key,o.value,o.left,s[l+1],o._count);s[c-1].left=s[c]}if(0===(o=s[s.length-1])._color){var d=s[s.length-2];d.left===o?d.left=null:d.right===o&&(d.right=null),s.pop();for(l=0;l<s.length;++l)s[l]._count--;return new a(this.tree._compare,s[0])}if(o.left||o.right){o.left?u(o,o.left):o.right&&u(o,o.right),o._color=1;for(l=0;l<s.length-1;++l)s[l]._count--;return new a(this.tree._compare,s[0])}if(1===s.length)return new a(this.tree._compare,null);for(l=0;l<s.length;++l)s[l]._count--;var B=s[s.length-2];return function(t){for(var e,a,s,o,l=t.length-1;l>=0;--l){if(e=t[l],0===l)return void(e._color=1);if((a=t[l-1]).left===e){if((s=a.right).right&&0===s.right._color)return o=(s=a.right=i(s)).right=i(s.right),a.right=s.left,s.left=a,s.right=o,s._color=a._color,e._color=1,a._color=1,o._color=1,n(a),n(s),l>1&&((c=t[l-2]).left===a?c.left=s:c.right=s),void(t[l-1]=s);if(s.left&&0===s.left._color)return o=(s=a.right=i(s)).left=i(s.left),a.right=o.left,s.left=o.right,o.left=a,o.right=s,o._color=a._color,a._color=1,s._color=1,e._color=1,n(a),n(s),n(o),l>1&&((c=t[l-2]).left===a?c.left=o:c.right=o),void(t[l-1]=o);if(1===s._color){if(0===a._color)return a._color=1,void(a.right=r(0,s));a.right=r(0,s);continue}s=i(s),a.right=s.left,s.left=a,s._color=a._color,a._color=0,n(a),n(s),l>1&&((c=t[l-2]).left===a?c.left=s:c.right=s),t[l-1]=s,t[l]=a,l+1<t.length?t[l+1]=e:t.push(e),l+=2}else{if((s=a.left).left&&0===s.left._color)return o=(s=a.left=i(s)).left=i(s.left),a.left=s.right,s.right=a,s.left=o,s._color=a._color,e._color=1,a._color=1,o._color=1,n(a),n(s),l>1&&((c=t[l-2]).right===a?c.right=s:c.left=s),void(t[l-1]=s);if(s.right&&0===s.right._color)return o=(s=a.left=i(s)).right=i(s.right),a.left=o.right,s.right=o.left,o.right=a,o.left=s,o._color=a._color,a._color=1,s._color=1,e._color=1,n(a),n(s),n(o),l>1&&((c=t[l-2]).right===a?c.right=o:c.left=o),void(t[l-1]=o);if(1===s._color){if(0===a._color)return a._color=1,void(a.left=r(0,s));a.left=r(0,s);continue}var c;s=i(s),a.left=s.right,s.right=a,s._color=a._color,a._color=0,n(a),n(s),l>1&&((c=t[l-2]).right===a?c.right=s:c.left=s),t[l-1]=s,t[l]=a,l+1<t.length?t[l+1]=e:t.push(e),l+=2}}}(s),B.left===o?B.left=null:B.right=null,new a(this.tree._compare,s[0])},Object.defineProperty(d,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(d,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(d,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var i=this.tree.root;return i?i._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var r=e.length-2;r>=0;--r)e[r+1]===e[r].right&&(++t,e[r].left&&(t+=e[r].left._count));return t},enumerable:!0}),d.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(d,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),d.update=function(t){var i=this._stack;if(0===i.length)throw new Error("Can't update empty node!");var r=new Array(i.length),n=i[i.length-1];r[r.length-1]=new e(n._color,n.key,t,n.left,n.right,n._count);for(var s=i.length-2;s>=0;--s)(n=i[s]).left===i[s+1]?r[s]=new e(n._color,n.key,n.value,r[s+1],n.right,n._count):r[s]=new e(n._color,n.key,n.value,n.left,r[s+1],n._count);return new a(this.tree._compare,r[0])},d.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(d,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})},3837:function(t,e,i){t.exports=function(t,e){var i=new B(t);return i.update(e),i};var r=i(4935),n=i(501),a=i(5304),s=i(6429),o=i(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=ArrayBuffer,g=DataView;function d(t){return Array.isArray(t)||function(t){return c.isView(t)&&!(t instanceof g)}(t)}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function B(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(t)}var F=B.prototype;function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}F.update=function(t){function e(e,i,r){if(r in t){var n,a=t[r],s=this[r];(e?d(a)&&d(a[0]):d(a))?this[r]=n=[i(a[0]),i(a[1]),i(a[2])]:this[r]=n=[i(a),i(a),i(a)];for(var o=0;o<3;++o)if(n[o]!==s[o])return!0}return!1}t=t||{};var i,a=e.bind(this,!1,Number),s=e.bind(this,!1,Boolean),l=e.bind(this,!1,String),c=e.bind(this,!0,function(t){if(d(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]}),g=!1,u=!1;if("bounds"in t)for(var B=t.bounds,F=0;F<2;++F)for(var h=0;h<3;++h)B[F][h]!==this.bounds[F][h]&&(u=!0),this.bounds[F][h]=B[F][h];if("ticks"in t){i=t.ticks,g=!0,this.autoTicks=!1;for(F=0;F<3;++F)this.tickSpacing[F]=0}else a("tickSpacing")&&(this.autoTicks=!0,u=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),u=!0,g=!0,this._firstInit=!1),u&&this.autoTicks&&(i=o.create(this.bounds,this.tickSpacing),g=!0),g){for(F=0;F<3;++F)i[F].sort(function(t,e){return t.x-e.x});o.equal(i,this.ticks)?g=!1:this.ticks=i}s("tickEnable"),l("tickFont")&&(g=!0),l("tickFontStyle")&&(g=!0),l("tickFontWeight")&&(g=!0),l("tickFontVariant")&&(g=!0),a("tickSize"),a("tickAngle"),a("tickPad"),c("tickColor");var Q=l("labels");l("labelFont")&&(Q=!0),l("labelFontStyle")&&(Q=!0),l("labelFontWeight")&&(Q=!0),l("labelFontVariant")&&(Q=!0),s("labelEnable"),a("labelSize"),a("labelPad"),c("labelColor"),s("lineEnable"),s("lineMirror"),a("lineWidth"),c("lineColor"),s("lineTickEnable"),s("lineTickMirror"),a("lineTickLength"),a("lineTickWidth"),c("lineTickColor"),s("gridEnable"),a("gridWidth"),c("gridColor"),s("zeroEnable"),c("zeroLineColor"),a("zeroLineWidth"),s("backgroundEnable"),c("backgroundColor");var U=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],I=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(Q||g)&&this._text.update(this.bounds,this.labels,U,this.ticks,I):this._text=r(this.gl,this.bounds,this.labels,U,this.ticks,I),this._lines&&g&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=n(this.gl,this.bounds,this.ticks))};var Q=[new h,new h,new h];function U(t,e,i,r,n){for(var a=t.primalOffset,s=t.primalMinor,o=t.mirrorOffset,l=t.mirrorMinor,c=r[e],g=0;g<3;++g)if(e!==g){var d=a,u=o,B=s,F=l;c&1<<g&&(d=o,u=a,B=l,F=s),d[g]=i[0][g],u[g]=i[1][g],n[g]>0?(B[g]=-1,F[g]=0):(B[g]=0,F[g]=1)}}var I=[0,0,0],b={model:l,view:l,projection:l,_ortho:!1};F.isOpaque=function(){return!0},F.isTransparent=function(){return!1},F.drawTransparent=function(t){};var p=[0,0,0],y=[0,0,0],m=[0,0,0];F.draw=function(t){t=t||b;for(var e=this.gl,i=t.model||l,r=t.view||l,n=t.projection||l,a=this.bounds,o=t._ortho||!1,c=s(i,r,n,a,o),g=c.cubeEdges,d=c.axis,B=r[12],F=r[13],h=r[14],C=r[15],f=(o?2:1)*this.pixelRatio*(n[3]*B+n[7]*F+n[11]*h+n[15]*C)/e.drawingBufferHeight,x=0;x<3;++x)this.lastCubeProps.cubeEdges[x]=g[x],this.lastCubeProps.axis[x]=d[x];var A=Q;for(x=0;x<3;++x)U(Q[x],x,this.bounds,g,d);e=this.gl;var v,L=I;for(x=0;x<3;++x)this.backgroundEnable[x]?L[x]=d[x]:L[x]=0;this._background.draw(i,r,n,a,L,this.backgroundColor),this._lines.bind(i,r,n,this);for(x=0;x<3;++x){var R=[0,0,0];d[x]>0?R[x]=a[1][x]:R[x]=a[0][x];for(var S=0;S<2;++S){var G=(x+1+S)%3,E=(x+1+(1^S))%3;this.gridEnable[G]&&this._lines.drawGrid(G,E,this.bounds,R,this.gridColor[G],this.gridWidth[G]*this.pixelRatio)}for(S=0;S<2;++S){G=(x+1+S)%3,E=(x+1+(1^S))%3;this.zeroEnable[E]&&Math.min(a[0][E],a[1][E])<=0&&Math.max(a[0][E],a[1][E])>=0&&this._lines.drawZero(G,E,this.bounds,R,this.zeroLineColor[E],this.zeroLineWidth[E]*this.pixelRatio)}}for(x=0;x<3;++x){this.lineEnable[x]&&this._lines.drawAxisLine(x,this.bounds,A[x].primalOffset,this.lineColor[x],this.lineWidth[x]*this.pixelRatio),this.lineMirror[x]&&this._lines.drawAxisLine(x,this.bounds,A[x].mirrorOffset,this.lineColor[x],this.lineWidth[x]*this.pixelRatio);var V=u(p,A[x].primalMinor),Z=u(y,A[x].mirrorMinor),N=this.lineTickLength;for(S=0;S<3;++S){var D=f/i[5*S];V[S]*=N[S]*D,Z[S]*=N[S]*D}this.lineTickEnable[x]&&this._lines.drawAxisTicks(x,A[x].primalOffset,V,this.lineTickColor[x],this.lineTickWidth[x]*this.pixelRatio),this.lineTickMirror[x]&&this._lines.drawAxisTicks(x,A[x].mirrorOffset,Z,this.lineTickColor[x],this.lineTickWidth[x]*this.pixelRatio)}this._lines.unbind(),this._text.bind(i,r,n,this.pixelRatio);var w,X;function W(t){(X=[0,0,0])[t]=1}function H(t,e,i){var r=(t+1)%3,n=(t+2)%3,a=e[r],s=e[n],o=i[r],l=i[n];a>0&&l>0||a>0&&l<0||a<0&&l>0||a<0&&l<0?W(r):(s>0&&o>0||s>0&&o<0||s<0&&o>0||s<0&&o<0)&&W(n)}for(x=0;x<3;++x){var T=A[x].primalMinor,M=A[x].mirrorMinor,k=u(m,A[x].primalOffset);for(S=0;S<3;++S)this.lineTickEnable[x]&&(k[S]+=f*T[S]*Math.max(this.lineTickLength[S],0)/i[5*S]);var Y=[0,0,0];if(Y[x]=1,this.tickEnable[x]){-3600===this.tickAngle[x]?(this.tickAngle[x]=0,this.tickAlign[x]="auto"):this.tickAlign[x]=-1,w=1,"auto"===(v=[this.tickAlign[x],.5,w])[0]?v[0]=0:v[0]=parseInt(""+v[0]),X=[0,0,0],H(x,T,M);for(S=0;S<3;++S)k[S]+=f*T[S]*this.tickPad[S]/i[5*S];this._text.drawTicks(x,this.tickSize[x],this.tickAngle[x],k,this.tickColor[x],Y,X,v)}if(this.labelEnable[x]){w=0,X=[0,0,0],this.labels[x].length>4&&(W(x),w=1),"auto"===(v=[this.labelAlign[x],.5,w])[0]?v[0]=0:v[0]=parseInt(""+v[0]);for(S=0;S<3;++S)k[S]+=f*T[S]*this.labelPad[S]/i[5*S];k[x]+=.5*(a[0][x]+a[1][x]),this._text.drawLabel(x,this.labelSize[x],this.labelAngle[x],k,this.labelColor[x],[0,0,0],X,v)}}this._text.unbind()},F.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},5304:function(t,e,i){t.exports=function(t){for(var e=[],i=[],o=0,l=0;l<3;++l)for(var c=(l+1)%3,g=(l+2)%3,d=[0,0,0],u=[0,0,0],B=-1;B<=1;B+=2){i.push(o,o+2,o+1,o+1,o+2,o+3),d[l]=B,u[l]=B;for(var F=-1;F<=1;F+=2){d[c]=F;for(var h=-1;h<=1;h+=2)d[g]=h,e.push(d[0],d[1],d[2],u[0],u[1],u[2]),o+=1}var Q=c;c=g,g=Q}var U=r(t,new Float32Array(e)),I=r(t,new Uint16Array(i),t.ELEMENT_ARRAY_BUFFER),b=n(t,[{buffer:U,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:U,type:t.FLOAT,size:3,offset:12,stride:24}],I),p=a(t);return p.attributes.position.location=0,p.attributes.normal.location=1,new s(t,U,b,p)};var r=i(2762),n=i(8116),a=i(1879).bg;function s(t,e,i,r){this.gl=t,this.buffer=e,this.vao=i,this.shader=r}var o=s.prototype;o.draw=function(t,e,i,r,n,a){for(var s=!1,o=0;o<3;++o)s=s||n[o];if(s){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:i,bounds:r,enable:n,colors:a},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),l.disable(l.POLYGON_OFFSET_FILL)}},o.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6429:function(t,e,i){t.exports=function(t,e,i,a,B){n(o,e,t),n(o,i,o);for(var I=0,b=0;b<2;++b){g[2]=a[b][2];for(var p=0;p<2;++p){g[1]=a[p][1];for(var y=0;y<2;++y)g[0]=a[y][0],u(l[I],g,o),I+=1}}var m=-1;for(b=0;b<8;++b){for(var C=l[b][3],f=0;f<3;++f)c[b][f]=l[b][f]/C;B&&(c[b][2]*=-1),C<0&&(m<0||c[b][2]<c[m][2])&&(m=b)}if(m<0){m=0;for(var x=0;x<3;++x){for(var A=(x+2)%3,v=(x+1)%3,L=-1,R=-1,S=0;S<2;++S){var G=(V=S<<x)+(S<<A)+(1-S<<v),E=V+(1-S<<A)+(S<<v);s(c[V],c[G],c[E],d)<0||(S?L=1:R=1)}if(L<0||R<0)R>L&&(m|=1<<x);else{for(S=0;S<2;++S){G=(V=S<<x)+(S<<A)+(1-S<<v),E=V+(1-S<<A)+(S<<v);var V,Z=F([l[V],l[G],l[E],l[V+(1<<A)+(1<<v)]]);S?L=Z:R=Z}R>L&&(m|=1<<x)}}}var N=7^m,D=-1;for(b=0;b<8;++b)b!==m&&b!==N&&(D<0||c[D][1]>c[b][1])&&(D=b);var w=-1;for(b=0;b<3;++b){if((W=D^1<<b)!==m&&W!==N)w<0&&(w=W),(v=c[W])[0]<c[w][0]&&(w=W)}var X=-1;for(b=0;b<3;++b){var W;if((W=D^1<<b)!==m&&W!==N&&W!==w)X<0&&(X=W),(v=c[W])[0]>c[X][0]&&(X=W)}var H=h;H[0]=H[1]=H[2]=0,H[r.log2(w^D)]=D&w,H[r.log2(D^X)]=D&X;var T=7^X;T===m||T===N?(T=7^w,H[r.log2(X^T)]=T&X):H[r.log2(w^T)]=T&w;var M=Q,k=m;for(x=0;x<3;++x)M[x]=k&1<<x?-1:1;return U};var r=i(8828),n=i(6760),a=i(5202),s=i(3250),o=new Array(16),l=new Array(8),c=new Array(8),g=new Array(3),d=[0,0,0];function u(t,e,i){for(var r=0;r<4;++r){t[r]=i[12+r];for(var n=0;n<3;++n)t[r]+=e[n]*i[4*n+r]}}!function(){for(var t=0;t<8;++t)l[t]=[1,1,1,1],c[t]=[1,1,1]}();var B=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function F(t){for(var e=0;e<B.length;++e)if((t=a.positive(t,B[e])).length<3)return 0;var i=t[0],r=i[0]/i[3],n=i[1]/i[3],s=0;for(e=1;e+1<t.length;++e){var o=t[e],l=t[e+1],c=o[0]/o[3]-r,g=o[1]/o[3]-n,d=l[0]/l[3]-r,u=l[1]/l[3]-n;s+=Math.abs(c*u-g*d)}return s}var h=[1,1,1],Q=[0,0,0],U={cubeEdges:h,axis:Q}},501:function(t,e,i){t.exports=function(t,e,i){var s=[],o=[0,0,0],l=[0,0,0],c=[0,0,0],g=[0,0,0];s.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var d=0;d<3;++d){for(var u=s.length/3|0,F=0;F<i[d].length;++F){var h=+i[d][F].x;s.push(h,0,1,h,1,1,h,0,-1,h,0,-1,h,1,1,h,1,-1)}var Q=s.length/3|0;o[d]=u,l[d]=Q-u;u=s.length/3|0;for(var U=0;U<i[d].length;++U){h=+i[d][U].x;s.push(h,0,1,h,1,1,h,0,-1,h,0,-1,h,1,1,h,1,-1)}Q=s.length/3|0;c[d]=u,g[d]=Q-u}var I=r(t,new Float32Array(s)),b=n(t,[{buffer:I,type:t.FLOAT,size:3,stride:0,offset:0}]),p=a(t);return p.attributes.position.location=0,new B(t,I,b,p,l,o,g,c)};var r=i(2762),n=i(8116),a=i(1879).n,s=[0,0,0],o=[0,0,0],l=[0,0,0],c=[0,0,0],g=[1,1];function d(t){return t[0]=t[1]=t[2]=0,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function B(t,e,i,r,n,a,s,o){this.gl=t,this.vertBuffer=e,this.vao=i,this.shader=r,this.tickCount=n,this.tickOffset=a,this.gridCount=s,this.gridOffset=o}var F=B.prototype;F.bind=function(t,e,i){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=i,g[0]=this.gl.drawingBufferWidth,g[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=g,this.vao.bind()},F.unbind=function(){this.vao.unbind()},F.drawAxisLine=function(t,e,i,r,n){var a=d(o);this.shader.uniforms.majorAxis=o,a[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=a;var s,g=u(c,i);g[t]+=e[0][t],this.shader.uniforms.offset=g,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=r,(s=d(l))[(t+2)%3]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,6),(s=d(l))[(t+1)%3]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,6)},F.drawAxisTicks=function(t,e,i,r,n){if(this.tickCount[t]){var a=d(s);a[t]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=i,this.shader.uniforms.color=r,this.shader.uniforms.lineWidth=n;var o=d(l);o[t]=1,this.shader.uniforms.screenAxis=o,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},F.drawGrid=function(t,e,i,r,n,a){if(this.gridCount[t]){var g=d(o);g[e]=i[1][e]-i[0][e],this.shader.uniforms.minorAxis=g;var B=u(c,r);B[e]+=i[0][e],this.shader.uniforms.offset=B;var F=d(s);F[t]=1,this.shader.uniforms.majorAxis=F;var h=d(l);h[t]=1,this.shader.uniforms.screenAxis=h,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=n,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},F.drawZero=function(t,e,i,r,n,a){var s=d(o);this.shader.uniforms.majorAxis=s,s[t]=i[1][t]-i[0][t],this.shader.uniforms.minorAxis=s;var g=u(c,r);g[t]+=i[0][t],this.shader.uniforms.offset=g;var B=d(l);B[e]=1,this.shader.uniforms.screenAxis=B,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=n,this.vao.draw(this.gl.TRIANGLES,6)},F.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1879:function(t,e,i){var r=i(3236),n=i(9405),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * (view * (model * vec4(p, 1.0)));\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.n=function(t){return n(t,a,s,null,[{name:"position",type:"vec3"}])};var o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * (view * (model * vec4(p, 1.0)));\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}\n"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.Q=function(t){return n(t,o,l,null,[{name:"position",type:"vec3"}])};var c=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}\n"]),g=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);e.bg=function(t){return n(t,c,g,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(t,e,i){t.exports=function(t,e,i,a,o,l){var g=r(t),d=n(t,[{buffer:g,size:3}]),u=s(t);u.attributes.position.location=0;var B=new c(t,u,g,d);return B.update(e,i,a,o,l),B};var r=i(2762),n=i(8116),a=i(4359),s=i(1879).Q,o=window||process.global||{},l=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};function c(t,e,i,r){this.gl=t,this.shader=e,this.buffer=i,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var g=c.prototype,d=[0,0];g.bind=function(t,e,i,r){this.vao.bind(),this.shader.bind();var n=this.shader.uniforms;n.model=t,n.view=e,n.projection=i,n.pixelScale=r,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},g.unbind=function(){this.vao.unbind()},g.update=function(t,e,i,r,n){var s=[];function o(t,e,i,r,n,o){var c=[i.style,i.weight,i.variant,i.family].join("_"),g=l[c];g||(g=l[c]={});var d=g[e];d||(d=g[e]=function(t,e){try{return a(t,e)}catch(e){return console.warn('error vectorizing text:"'+t+'" error:',e),{cells:[],positions:[]}}}(e,{triangles:!0,font:i.family,fontStyle:i.style,fontWeight:i.weight,fontVariant:i.variant,textAlign:"center",textBaseline:"middle",lineSpacing:n,styletags:o}));for(var u=(r||12)/12,B=d.positions,F=d.cells,h=0,Q=F.length;h<Q;++h)for(var U=F[h],I=2;I>=0;--I){var b=B[U[I]];s.push(u*b[0],-u*b[1],t)}}for(var c=[0,0,0],g=[0,0,0],d=[0,0,0],u=[0,0,0],B={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){d[F]=s.length/3|0,o(.5*(t[0][F]+t[1][F]),e[F],i[F],12,1.25,B),u[F]=(s.length/3|0)-d[F],c[F]=s.length/3|0;for(var h=0;h<r[F].length;++h)if(r[F][h].text){var Q={family:r[F][h].font||n[F].family,style:n[F].fontStyle||n[F].style,weight:n[F].fontWeight||n[F].weight,variant:n[F].fontVariant||n[F].variant};o(r[F][h].x,r[F][h].text,Q,r[F][h].fontSize||12,1.25,B)}g[F]=(s.length/3|0)-c[F]}this.buffer.update(s),this.tickOffset=c,this.tickCount=g,this.labelOffset=d,this.labelCount=u},g.drawTicks=function(t,e,i,r,n,a,s,o){this.tickCount[t]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=n,this.shader.uniforms.angle=i,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=o,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},g.drawLabel=function(t,e,i,r,n,a,s,o){this.labelCount[t]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=n,this.shader.uniforms.angle=i,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=o,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},g.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},6444:function(t,e){function i(t,e){var i=t+"",r=i.indexOf("."),n=0;r>=0&&(n=i.length-r-1);var a=Math.pow(10,n),s=Math.round(t*e*a),o=s+"";if(o.indexOf("e")>=0)return o;var l=s/a,c=s%a;s<0?(l=0|-Math.ceil(l),c=0|-c):(l=0|Math.floor(l),c|=0);var g=""+l;if(s<0&&(g="-"+g),n){for(var d=""+c;d.length<n;)d="0"+d;return g+"."+d}return g}e.create=function(t,e){for(var r=[],n=0;n<3;++n){var a=[];t[0][n],t[1][n];for(var s=0;s*e[n]<=t[1][n];++s)a.push({x:s*e[n],text:i(e[n],s)});for(s=-1;s*e[n]>=t[0][n];--s)a.push({x:s*e[n],text:i(e[n],s)});r.push(a)}return r},e.equal=function(t,e){for(var i=0;i<3;++i){if(t[i].length!==e[i].length)return!1;for(var r=0;r<t[i].length;++r){var n=t[i][r],a=e[i][r];if(n.x!==a.x||n.text!==a.text||n.font!==a.font||n.fontColor!==a.fontColor||n.fontSize!==a.fontSize||n.dx!==a.dx||n.dy!==a.dy)return!1}}return!0}},5445:function(t,e,i){t.exports=function(t,e,i,l,d){var u=e.model||c,B=e.view||c,U=e.projection||c,I=e._ortho||!1,b=t.bounds,p=(d=d||a(u,B,U,b,I),d.axis);s(g,B,u),s(g,U,g);for(var y=h,m=0;m<3;++m)y[m].lo=1/0,y[m].hi=-1/0,y[m].pixelsPerDataUnit=1/0;var C=r(o(g,g));o(g,g);for(var f=0;f<3;++f){var x=(f+1)%3,A=(f+2)%3,v=Q;t:for(m=0;m<2;++m){var L=[];if(p[f]<0!=!!m){v[f]=b[m][f];for(var R=0;R<2;++R){v[x]=b[R^m][x];for(var S=0;S<2;++S)v[A]=b[S^R^m][A],L.push(v.slice())}var G=I?5:4;for(R=G;R===G;++R){if(0===L.length)continue t;L=n.positive(L,C[R])}for(R=0;R<L.length;++R){A=L[R];var E=F(Q,g,A,i,l);for(S=0;S<3;++S)y[S].lo=Math.min(y[S].lo,A[S]),y[S].hi=Math.max(y[S].hi,A[S]),S!==f&&(y[S].pixelsPerDataUnit=Math.min(y[S].pixelsPerDataUnit,Math.abs(E[S])))}}}}return y};var r=i(5033),n=i(5202),a=i(6429),s=i(6760),o=i(5665),l=i(5352),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),g=new Float32Array(16);function d(t,e,i){this.lo=t,this.hi=e,this.pixelsPerDataUnit=i}var u=[0,0,0,1],B=[0,0,0,1];function F(t,e,i,r,n){for(var a=0;a<3;++a){for(var s=u,o=B,c=0;c<3;++c)o[c]=s[c]=i[c];o[3]=s[3]=1,o[a]+=1,l(o,o,e),o[3]<0&&(t[a]=1/0),s[a]-=1,l(s,s,e),s[3]<0&&(t[a]=1/0);var g=(s[0]/s[3]-o[0]/o[3])*r,d=(s[1]/s[3]-o[1]/o[3])*n;t[a]=.25*Math.sqrt(g*g+d*d)}return t}var h=[new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0)],Q=[0,0,0]},2762:function(t,e,i){var r=i(1888),n=i(5298),a=i(9618),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function o(t,e,i,r,n){this.gl=t,this.type=e,this.handle=i,this.length=r,this.usage=n}var l=o.prototype;function c(t,e,i,r,n,a){var s=n.length*n.BYTES_PER_ELEMENT;if(a<0)return t.bufferData(e,n,r),s;if(s+a>i)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,a,n),i}function g(t,e){for(var i=r.malloc(t.length,e),n=t.length,a=0;a<n;++a)i[a]=t[a];return i}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var i=t.dtype;if(s.indexOf(i)<0&&(i="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER)i=gl.getExtension("OES_element_index_uint")&&"uint16"!==i?"uint32":"uint16";if(i===t.dtype&&function(t,e){for(var i=1,r=e.length-1;r>=0;--r){if(e[r]!==i)return!1;i*=t[r]}return!0}(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=c(this.gl,this.type,this.length,this.usage,t.data,e):this.length=c(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var o=r.malloc(t.size,i),l=a(o,t.shape);n.assign(l,t),this.length=c(this.gl,this.type,this.length,this.usage,e<0?o:o.subarray(0,t.size),e),r.free(o)}}else if(Array.isArray(t)){var d;d=this.type===this.gl.ELEMENT_ARRAY_BUFFER?g(t,"uint16"):g(t,"float32"),this.length=c(this.gl,this.type,this.length,this.usage,e<0?d:d.subarray(0,t.length),e),r.free(d)}else if("object"==typeof t&&"number"==typeof t.length)this.length=c(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=function(t,e,i,r){if(i=i||t.ARRAY_BUFFER,r=r||t.DYNAMIC_DRAW,i!==t.ARRAY_BUFFER&&i!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==t.DYNAMIC_DRAW&&r!==t.STATIC_DRAW&&r!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var n=t.createBuffer(),a=new o(t,i,n,0,r);return a.update(e),a}},6405:function(t,e,i){var r=i(2931);t.exports=function(t,e){var i=t.positions,n=t.vectors,a={positions:[],vertexIntensity:[],vertexIntensityBounds:t.vertexIntensityBounds,vectors:[],cells:[],coneOffset:t.coneOffset,colormap:t.colormap};if(0===t.positions.length)return e&&(e[0]=[0,0,0],e[1]=[0,0,0]),a;for(var s=0,o=1/0,l=-1/0,c=1/0,g=-1/0,d=1/0,u=-1/0,B=null,F=null,h=[],Q=1/0,U=!1,I="raw"===t.coneSizemode,b=0;b<i.length;b++){var p=i[b];o=Math.min(p[0],o),l=Math.max(p[0],l),c=Math.min(p[1],c),g=Math.max(p[1],g),d=Math.min(p[2],d),u=Math.max(p[2],u);var y=n[b];if(r.length(y)>s&&(s=r.length(y)),b&&!I){var m=2*r.distance(B,p)/(r.length(F)+r.length(y));m?(Q=Math.min(Q,m),U=!1):U=!0}U||(B=p,F=y),h.push(y)}var C=[o,c,d],f=[l,g,u];e&&(e[0]=C,e[1]=f),0===s&&(s=1);var x=1/s;isFinite(Q)||(Q=1),a.vectorScale=Q;var A=t.coneSize||(I?1:.5);t.absoluteConeSize&&(A=t.absoluteConeSize*x),a.coneScale=A;b=0;for(var v=0;b<i.length;b++)for(var L=(p=i[b])[0],R=p[1],S=p[2],G=h[b],E=r.length(G)*x,V=0;V<8;V++){a.positions.push([L,R,S,v++]),a.positions.push([L,R,S,v++]),a.positions.push([L,R,S,v++]),a.positions.push([L,R,S,v++]),a.positions.push([L,R,S,v++]),a.positions.push([L,R,S,v++]),a.vectors.push(G),a.vectors.push(G),a.vectors.push(G),a.vectors.push(G),a.vectors.push(G),a.vectors.push(G),a.vertexIntensity.push(E,E,E),a.vertexIntensity.push(E,E,E);var Z=a.positions.length;a.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return a};var n=i(614);t.exports.createMesh=i(9060),t.exports.createConeMesh=function(e,i){return t.exports.createMesh(e,i,{shaders:n,traceType:"cone"})}},9060:function(t,e,i){var r=i(9405),n=i(2762),a=i(8116),s=i(7766),o=i(6760),l=i(7608),c=i(9618),g=i(6729),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(t,e,i,r,n,a,s,o,l,c,g){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=i,this.pickShader=r,this.trianglePositions=n,this.triangleVectors=a,this.triangleColors=o,this.triangleUVs=l,this.triangleIds=s,this.triangleVAO=c,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=g,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=d,this._view=d,this._projection=d,this._resolution=[1,1]}var B=u.prototype;B.isOpaque=function(){return this.opacity>=1},B.isTransparent=function(){return this.opacity<1},B.pickSlots=1,B.setPickBase=function(t){this.pickId=t},B.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"lightPosition"in t&&(this.lightPosition=t.lightPosition),"opacity"in t&&(this.opacity=t.opacity),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),void 0!==t.tubeScale&&(this.tubeScale=t.tubeScale),void 0!==t.vectorScale&&(this.vectorScale=t.vectorScale),void 0!==t.coneScale&&(this.coneScale=t.coneScale),void 0!==t.coneOffset&&(this.coneOffset=t.coneOffset),t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t){for(var e=g({colormap:t,nshades:256,format:"rgba"}),i=new Uint8Array(1024),r=0;r<256;++r){for(var n=e[r],a=0;a<3;++a)i[4*r+a]=n[a];i[4*r+3]=255*n[3]}return c(i,[256,256,4],[4,0,1])}(t.colormap)),this.texture.generateMipmap());var i=t.cells,r=t.positions,n=t.vectors;if(r&&i&&n){var a=[],s=[],o=[],l=[],d=[];this.cells=i,this.positions=r,this.vectors=n;var u=t.meshColor||[1,1,1,1],B=t.vertexIntensity,F=1/0,h=-1/0;if(B)if(t.vertexIntensityBounds)F=+t.vertexIntensityBounds[0],h=+t.vertexIntensityBounds[1];else for(var Q=0;Q<B.length;++Q){var U=B[Q];F=Math.min(F,U),h=Math.max(h,U)}else for(Q=0;Q<r.length;++Q){U=r[Q][2];F=Math.min(F,U),h=Math.max(h,U)}this.intensity=B||function(t){for(var e=t.length,i=new Array(e),r=0;r<e;++r)i[r]=t[r][2];return i}(r),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(Q=0;Q<r.length;++Q)for(var I=r[Q],b=0;b<3;++b)!isNaN(I[b])&&isFinite(I[b])&&(this.bounds[0][b]=Math.min(this.bounds[0][b],I[b]),this.bounds[1][b]=Math.max(this.bounds[1][b],I[b]));var p=0;t:for(Q=0;Q<i.length;++Q){var y=i[Q];if(3===y.length){for(b=0;b<3;++b){I=r[C=y[b]];for(var m=0;m<3;++m)if(isNaN(I[m])||!isFinite(I[m]))continue t}for(b=0;b<3;++b){var C;I=r[C=y[2-b]];a.push(I[0],I[1],I[2],I[3]);var f=n[C];s.push(f[0],f[1],f[2],f[3]||0);var x,A=u;3===A.length?o.push(A[0],A[1],A[2],1):o.push(A[0],A[1],A[2],A[3]),x=B?[(B[C]-F)/(h-F),0]:[(I[2]-F)/(h-F),0],l.push(x[0],x[1]),d.push(Q)}p+=1}}this.triangleCount=p,this.trianglePositions.update(a),this.triangleVectors.update(s),this.triangleColors.update(o),this.triangleUVs.update(l),this.triangleIds.update(new Uint32Array(d))}},B.drawTransparent=B.draw=function(t){t=t||{};for(var e=this.gl,i=t.model||d,r=t.view||d,n=t.projection||d,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],s=0;s<3;++s)a[0][s]=Math.max(a[0][s],this.clipBounds[0][s]),a[1][s]=Math.min(a[1][s],this.clipBounds[1][s]);var c={model:i,view:r,projection:n,inverseModel:d.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};c.inverseModel=l(c.inverseModel,c.model),e.disable(e.CULL_FACE),this.texture.bind(0);var g=new Array(16);o(g,c.view,c.model),o(g,c.projection,g),l(g,g);for(s=0;s<3;++s)c.eyePosition[s]=g[12+s]/g[15];var u=g[15];for(s=0;s<3;++s)u+=this.lightPosition[s]*g[4*s+3];for(s=0;s<3;++s){for(var B=g[12+s],F=0;F<3;++F)B+=g[4*F+s]*this.lightPosition[F];c.lightPosition[s]=B/u}if(this.triangleCount>0){var h=this.triShader;h.bind(),h.uniforms=c,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},B.drawPick=function(t){t=t||{};for(var e=this.gl,i=t.model||d,r=t.view||d,n=t.projection||d,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],s=0;s<3;++s)a[0][s]=Math.max(a[0][s],this.clipBounds[0][s]),a[1][s]=Math.min(a[1][s],this.clipBounds[1][s]);this._model=[].slice.call(i),this._view=[].slice.call(r),this._projection=[].slice.call(n),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var o={model:i,view:r,projection:n,clipBounds:a,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=o,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},B.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[0]+256*t.value[1]+65536*t.value[2],i=this.cells[e],r=this.positions[i[1]].slice(0,3),n={position:r,dataCoordinate:r,index:Math.floor(i[1]/48)};return"cone"===this.traceType?n.index=Math.floor(i[1]/48):"streamtube"===this.traceType&&(n.intensity=this.intensity[i[1]],n.velocity=this.vectors[i[1]].slice(0,3),n.divergence=this.vectors[i[1]][3],n.index=e),n},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},t.exports=function(t,e,i){var o=i.shaders;1===arguments.length&&(t=(e=t).gl);var l=function(t,e){var i=r(t,e.meshShader.vertex,e.meshShader.fragment,null,e.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}(t,o),g=function(t,e){var i=r(t,e.pickShader.vertex,e.pickShader.fragment,null,e.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}(t,o),d=s(t,c(new Uint8Array([255,255,255,255]),[1,1,4]));d.generateMipmap(),d.minFilter=t.LINEAR_MIPMAP_LINEAR,d.magFilter=t.LINEAR;var B=n(t),F=n(t),h=n(t),Q=n(t),U=n(t),I=new u(t,d,l,g,B,F,U,h,Q,a(t,[{buffer:B,type:t.FLOAT,size:4},{buffer:U,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:h,type:t.FLOAT,size:4},{buffer:Q,type:t.FLOAT,size:2},{buffer:F,type:t.FLOAT,size:4}]),i.traceType||"cone");return I.update(e),I}},614:function(t,e,i){var r=i(3236),n=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),s=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * (view * conePosition);\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);e.meshShader={vertex:n,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},e.pickShader={vertex:s,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(t){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(t,e,i){var r=i(737);t.exports=function(t){return r[t]}},9165:function(t,e,i){t.exports=function(t){var e=t.gl,i=r(e),s=n(e,[{buffer:i,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:i,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:i,type:e.FLOAT,size:3,offset:28,stride:40}]),l=a(e);l.attributes.position.location=0,l.attributes.color.location=1,l.attributes.offset.location=2;var c=new o(e,i,s,l);return c.update(t),c};var r=i(2762),n=i(8116),a=i(3436),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(t,e,i,r){this.gl=t,this.shader=r,this.buffer=e,this.vao=i,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=o.prototype;function c(t,e){for(var i=0;i<3;++i)t[0][i]=Math.min(t[0][i],e[i]),t[1][i]=Math.max(t[1][i],e[i])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(t){var e=this.gl,i=this.shader.uniforms;this.shader.bind();var r=i.view=t.view||s,n=i.projection=t.projection||s;i.model=t.model||s,i.clipBounds=this.clipBounds,i.opacity=this.opacity;var a=r[12],o=r[13],l=r[14],c=r[15],g=(t._ortho||!1?2:1)*this.pixelRatio*(n[3]*a+n[7]*o+n[11]*l+n[15]*c)/e.drawingBufferHeight;this.vao.bind();for(var d=0;d<3;++d)e.lineWidth(this.lineWidth[d]*this.pixelRatio),i.capSize=this.capSize[d]*g,this.lineCount[d]&&e.drawArrays(e.LINES,this.lineOffset[d],this.lineCount[d]);this.vao.unbind()};var g=function(){for(var t=new Array(3),e=0;e<3;++e){for(var i=[],r=1;r<=2;++r)for(var n=-1;n<=1;n+=2){var a=[0,0,0];a[(r+e)%3]=n,i.push(a)}t[e]=i}return t}();function d(t,e,i,r){for(var n=g[r],a=0;a<n.length;++a){var s=n[a];t.push(e[0],e[1],e[2],i[0],i[1],i[2],i[3],s[0],s[1],s[2])}return n.length}l.update=function(t){"lineWidth"in(t=t||{})&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],i=t.position,r=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),i&&r){var n=[],a=i.length,s=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var o=0;o<3;++o){this.lineOffset[o]=s;t:for(var l=0;l<a;++l){for(var g=i[l],u=0;u<3;++u)if(isNaN(g[u])||!isFinite(g[u]))continue t;var B=r[l],F=e[o];if(Array.isArray(F[0])&&(F=e[l]),3===F.length?F=[F[0],F[1],F[2],1]:4===F.length&&(F=[F[0],F[1],F[2],F[3]],!this.hasAlpha&&F[3]<1&&(this.hasAlpha=!0)),!isNaN(B[0][o])&&!isNaN(B[1][o])){var h;if(B[0][o]<0)(h=g.slice())[o]+=B[0][o],n.push(g[0],g[1],g[2],F[0],F[1],F[2],F[3],0,0,0,h[0],h[1],h[2],F[0],F[1],F[2],F[3],0,0,0),c(this.bounds,h),s+=2+d(n,h,F,o);if(B[1][o]>0)(h=g.slice())[o]+=B[1][o],n.push(g[0],g[1],g[2],F[0],F[1],F[2],F[3],0,0,0,h[0],h[1],h[2],F[0],F[1],F[2],F[3],0,0,0),c(this.bounds,h),s+=2+d(n,h,F,o)}}this.lineCount[o]=s-this.lineOffset[o]}this.buffer.update(n)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},3436:function(t,e,i){var r=i(3236),n=i(9405),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * (view * worldPosition);\n  fragColor           = color;\n  fragPosition        = position;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);t.exports=function(t){return n(t,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(t,e,i){var r=i(7766);t.exports=function(t,e,i,r){n||(n=t.FRAMEBUFFER_UNSUPPORTED,a=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,s=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,o=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var c=t.getExtension("WEBGL_draw_buffers");!l&&c&&function(t,e){var i=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(i+1);for(var r=0;r<=i;++r){for(var n=new Array(i),a=0;a<r;++a)n[a]=t.COLOR_ATTACHMENT0+a;for(a=r;a<i;++a)n[a]=t.NONE;l[r]=n}}(t,c);Array.isArray(e)&&(r=i,i=0|e[1],e=0|e[0]);if("number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var g=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>g||i<0||i>g)throw new Error("gl-fbo: Parameters are too large for FBO");var d=1;if("color"in(r=r||{})){if((d=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(d>1){if(!c)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(d>t.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+d+" draw buffers")}}var u=t.UNSIGNED_BYTE,B=t.getExtension("OES_texture_float");if(r.float&&d>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");u=t.FLOAT}else r.preferFloat&&d>0&&B&&(u=t.FLOAT);var h=!0;"depth"in r&&(h=!!r.depth);var Q=!1;"stencil"in r&&(Q=!!r.stencil);return new F(t,e,i,u,d,h,Q,c)};var n,a,s,o,l=null;function c(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function g(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function d(t){switch(t){case n:throw new Error("gl-fbo: Framebuffer unsupported");case a:throw new Error("gl-fbo: Framebuffer incomplete attachment");case s:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case o:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function u(t,e,i,n,a,s){if(!n)return null;var o=r(t,e,i,a,n);return o.magFilter=t.NEAREST,o.minFilter=t.NEAREST,o.mipSamples=1,o.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,s,t.TEXTURE_2D,o.handle,0),o}function B(t,e,i,r,n){var a=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,a),t.renderbufferStorage(t.RENDERBUFFER,r,e,i),t.framebufferRenderbuffer(t.FRAMEBUFFER,n,t.RENDERBUFFER,a),a}function F(t,e,i,r,n,a,s,o){this.gl=t,this._shape=[0|e,0|i],this._destroyed=!1,this._ext=o,this.color=new Array(n);for(var F=0;F<n;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=a,this._useStencil=s;var h=this,Q=[0|e,0|i];Object.defineProperties(Q,{0:{get:function(){return h._shape[0]},set:function(t){return h.width=t}},1:{get:function(){return h._shape[1]},set:function(t){return h.height=t}}}),this._shapeVector=Q,function(t){var e=c(t.gl),i=t.gl,r=t.handle=i.createFramebuffer(),n=t._shape[0],a=t._shape[1],s=t.color.length,o=t._ext,F=t._useStencil,h=t._useDepth,Q=t._colorType;i.bindFramebuffer(i.FRAMEBUFFER,r);for(var U=0;U<s;++U)t.color[U]=u(i,n,a,Q,i.RGBA,i.COLOR_ATTACHMENT0+U);0===s?(t._color_rb=B(i,n,a,i.RGBA4,i.COLOR_ATTACHMENT0),o&&o.drawBuffersWEBGL(l[0])):s>1&&o.drawBuffersWEBGL(l[s]);var I=i.getExtension("WEBGL_depth_texture");I?F?t.depth=u(i,n,a,I.UNSIGNED_INT_24_8_WEBGL,i.DEPTH_STENCIL,i.DEPTH_STENCIL_ATTACHMENT):h&&(t.depth=u(i,n,a,i.UNSIGNED_SHORT,i.DEPTH_COMPONENT,i.DEPTH_ATTACHMENT)):h&&F?t._depth_rb=B(i,n,a,i.DEPTH_STENCIL,i.DEPTH_STENCIL_ATTACHMENT):h?t._depth_rb=B(i,n,a,i.DEPTH_COMPONENT16,i.DEPTH_ATTACHMENT):F&&(t._depth_rb=B(i,n,a,i.STENCIL_INDEX,i.STENCIL_ATTACHMENT));var b=i.checkFramebufferStatus(i.FRAMEBUFFER);if(b!==i.FRAMEBUFFER_COMPLETE){for(t._destroyed=!0,i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(i.deleteRenderbuffer(t._depth_rb),t._depth_rb=null),U=0;U<t.color.length;++U)t.color[U].dispose(),t.color[U]=null;t._color_rb&&(i.deleteRenderbuffer(t._color_rb),t._color_rb=null),g(i,e),d(b)}g(i,e)}(this)}var h=F.prototype;function Q(t,e,i){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==i){var r=t.gl,n=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(e<0||e>n||i<0||i>n)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=i;for(var a=c(r),s=0;s<t.color.length;++s)t.color[s].shape=t._shape;t._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,t._shape[0],t._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,t.handle);var o=r.checkFramebufferStatus(r.FRAMEBUFFER);o!==r.FRAMEBUFFER_COMPLETE&&(t.dispose(),g(r,a),d(o)),g(r,a)}}Object.defineProperties(h,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],i=0|t[1];return Q(this,e,i),[e,i]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return Q(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,Q(this,this._shape[0],t),t},enumerable:!1}}),h.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},h.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2992:function(t,e,i){var r=i(3387).sprintf,n=i(5171),a=i(1848),s=i(1085);t.exports=function(t,e,i){var o=a(e)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==i&&(l=i===n.FRAGMENT_SHADER?"fragment":"vertex");for(var c=r("Error compiling %s shader %s:\n",l,o),g=r("%s%s",c,t),d=t.split("\n"),u={},B=0;B<d.length;B++){var F=d[B];if(""!==F&&"\0"!==F){var h=parseInt(F.split(":")[2]);if(isNaN(h))throw new Error(r("Could not parse error: %s",F));u[h]=F}}var Q=s(e).split("\n");for(B=0;B<Q.length;B++){if(u[B+3]||u[B+2]||u[B+1])if(c+=Q[B]+"\n",u[B+1]){var U=u[B+1];U=U.substr(U.split(":",3).join(":").length+1).trim(),c+=r("^^^ %s\n\n",U)}}return{long:c.trim(),short:g.trim()}}},7319:function(t,e,i){var r=i(3236),n=i(9405),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * (view * (model * vec4(p, 1.0)));\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];e.createShader=function(t){return n(t,a,s,null,l)},e.createPickShader=function(t){return n(t,a,o,null,l)}},5714:function(t,e,i){t.exports=function(t){var e=t.gl||t.scene&&t.scene.gl,i=d(e);i.attributes.position.location=0,i.attributes.nextPosition.location=1,i.attributes.arcLength.location=2,i.attributes.lineWidth.location=3,i.attributes.color.location=4;var s=u(e);s.attributes.position.location=0,s.attributes.nextPosition.location=1,s.attributes.arcLength.location=2,s.attributes.lineWidth.location=3,s.attributes.color.location=4;for(var o=r(e),l=n(e,[{buffer:o,size:3,offset:0,stride:48},{buffer:o,size:3,offset:12,stride:48},{buffer:o,size:1,offset:24,stride:48},{buffer:o,size:1,offset:28,stride:48},{buffer:o,size:4,offset:32,stride:48}]),g=c(new Array(1024),[256,1,4]),B=0;B<1024;++B)g.data[B]=255;var F=a(e,g);F.wrap=e.REPEAT;var h=new U(e,i,s,o,l,F);return h.update(t),h};var r=i(2762),n=i(8116),a=i(7766),s=new Uint8Array(4),o=new Float32Array(s.buffer);var l=i(2478),c=i(9618),g=i(7319),d=g.createShader,u=g.createPickShader,B=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function F(t,e){for(var i=0,r=0;r<3;++r){var n=t[r]-e[r];i+=n*n}return Math.sqrt(i)}function h(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],i=0;i<3;++i)e[0][i]=Math.max(t[0][i],e[0][i]),e[1][i]=Math.min(t[1][i],e[1][i]);return e}function Q(t,e,i,r){this.arcLength=t,this.position=e,this.index=i,this.dataCoordinate=r}function U(t,e,i,r,n,a){this.gl=t,this.shader=e,this.pickShader=i,this.buffer=r,this.vao=n,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=a,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var I=U.prototype;I.isTransparent=function(){return this.hasAlpha},I.isOpaque=function(){return!this.hasAlpha},I.pickSlots=1,I.setPickBase=function(t){this.pickId=t},I.drawTransparent=I.draw=function(t){if(this.vertexCount){var e=this.gl,i=this.shader,r=this.vao;i.bind(),i.uniforms={model:t.model||B,view:t.view||B,projection:t.projection||B,clipBounds:h(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},I.drawPick=function(t){if(this.vertexCount){var e=this.gl,i=this.pickShader,r=this.vao;i.bind(),i.uniforms={model:t.model||B,view:t.view||B,projection:t.projection||B,pickId:this.pickId,clipBounds:h(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},I.update=function(t){var e,i;this.dirty=!0;var r=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var n=[],a=[],s=[],o=0,g=0,d=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],u=t.position||t.positions;if(u){var B=t.color||t.colors||[0,0,0,1],h=t.lineWidth||1,Q=!1;t:for(e=1;e<u.length;++e){var U,I,b,p=u[e-1],y=u[e];for(a.push(o),s.push(p.slice()),i=0;i<3;++i){if(isNaN(p[i])||isNaN(y[i])||!isFinite(p[i])||!isFinite(y[i])){if(!r&&n.length>0){for(var m=0;m<24;++m)n.push(n[n.length-12]);g+=2,Q=!0}continue t}d[0][i]=Math.min(d[0][i],p[i],y[i]),d[1][i]=Math.max(d[1][i],p[i],y[i])}Array.isArray(B[0])?(U=B.length>e-1?B[e-1]:B.length>0?B[B.length-1]:[0,0,0,1],I=B.length>e?B[e]:B.length>0?B[B.length-1]:[0,0,0,1]):U=I=B,3===U.length&&(U=[U[0],U[1],U[2],1]),3===I.length&&(I=[I[0],I[1],I[2],1]),!this.hasAlpha&&U[3]<1&&(this.hasAlpha=!0),b=Array.isArray(h)?h.length>e-1?h[e-1]:h.length>0?h[h.length-1]:[0,0,0,1]:h;var C=o;if(o+=F(p,y),Q){for(i=0;i<2;++i)n.push(p[0],p[1],p[2],y[0],y[1],y[2],C,b,U[0],U[1],U[2],U[3]);g+=2,Q=!1}n.push(p[0],p[1],p[2],y[0],y[1],y[2],C,b,U[0],U[1],U[2],U[3],p[0],p[1],p[2],y[0],y[1],y[2],C,-b,U[0],U[1],U[2],U[3],y[0],y[1],y[2],p[0],p[1],p[2],o,-b,I[0],I[1],I[2],I[3],y[0],y[1],y[2],p[0],p[1],p[2],o,b,I[0],I[1],I[2],I[3]),g+=4}}if(this.buffer.update(n),a.push(o),s.push(u[u.length-1].slice()),this.bounds=d,this.vertexCount=g,this.points=s,this.arcLength=a,"dashes"in t){var f=t.dashes.slice();for(f.unshift(0),e=1;e<f.length;++e)f[e]=f[e-1]+f[e];var x=c(new Array(1024),[256,1,4]);for(e=0;e<256;++e){for(i=0;i<4;++i)x.set(e,0,i,0);1&l.le(f,f[f.length-1]*e/255)?x.set(e,0,0,0):x.set(e,0,0,255)}this.texture.setPixels(x)}},I.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},I.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=function(t,e,i,r){return s[0]=r,s[1]=i,s[2]=e,s[3]=t,o[0]}(t.value[0],t.value[1],t.value[2],0),i=l.le(this.arcLength,e);if(i<0)return null;if(i===this.arcLength.length-1)return new Q(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),i);for(var r=this.points[i],n=this.points[Math.min(i+1,this.points.length-1)],a=(e-this.arcLength[i])/(this.arcLength[i+1]-this.arcLength[i]),c=1-a,g=[0,0,0],d=0;d<3;++d)g[d]=c*r[d]+a*n[d];var u=Math.min(a<.5?i:i+1,this.points.length-1);return new Q(e,g,u,this.points[u])}},1903:function(t){t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},6864:function(t){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},9921:function(t){t.exports=function(t){var e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],s=t[5],o=t[6],l=t[7],c=t[8],g=t[9],d=t[10],u=t[11],B=t[12],F=t[13],h=t[14],Q=t[15];return(e*s-i*a)*(d*Q-u*h)-(e*o-r*a)*(g*Q-u*F)+(e*l-n*a)*(g*h-d*F)+(i*o-r*s)*(c*Q-u*B)-(i*l-n*s)*(c*h-d*B)+(r*l-n*o)*(c*F-g*B)}},7399:function(t){t.exports=function(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=i+i,o=r+r,l=n+n,c=i*s,g=r*s,d=r*o,u=n*s,B=n*o,F=n*l,h=a*s,Q=a*o,U=a*l;return t[0]=1-d-F,t[1]=g+U,t[2]=u-Q,t[3]=0,t[4]=g-U,t[5]=1-c-F,t[6]=B+h,t[7]=0,t[8]=u+Q,t[9]=B-h,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},6743:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2],s=e[3],o=r+r,l=n+n,c=a+a,g=r*o,d=r*l,u=r*c,B=n*l,F=n*c,h=a*c,Q=s*o,U=s*l,I=s*c;return t[0]=1-(B+h),t[1]=d+I,t[2]=u-U,t[3]=0,t[4]=d-I,t[5]=1-(g+h),t[6]=F+Q,t[7]=0,t[8]=u+U,t[9]=F-Q,t[10]=1-(g+B),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}},7894:function(t){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7608:function(t){t.exports=function(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],g=e[8],d=e[9],u=e[10],B=e[11],F=e[12],h=e[13],Q=e[14],U=e[15],I=i*o-r*s,b=i*l-n*s,p=i*c-a*s,y=r*l-n*o,m=r*c-a*o,C=n*c-a*l,f=g*h-d*F,x=g*Q-u*F,A=g*U-B*F,v=d*Q-u*h,L=d*U-B*h,R=u*U-B*Q,S=I*R-b*L+p*v+y*A-m*x+C*f;if(!S)return null;return S=1/S,t[0]=(o*R-l*L+c*v)*S,t[1]=(n*L-r*R-a*v)*S,t[2]=(h*C-Q*m+U*y)*S,t[3]=(u*m-d*C-B*y)*S,t[4]=(l*A-s*R-c*x)*S,t[5]=(i*R-n*A+a*x)*S,t[6]=(Q*p-F*C-U*b)*S,t[7]=(g*C-u*p+B*b)*S,t[8]=(s*L-o*A+c*f)*S,t[9]=(r*A-i*L-a*f)*S,t[10]=(F*m-h*p+U*I)*S,t[11]=(d*p-g*m-B*I)*S,t[12]=(o*x-s*v-l*f)*S,t[13]=(i*v-r*x+n*f)*S,t[14]=(h*b-F*y-Q*I)*S,t[15]=(g*y-d*b+u*I)*S,t}},6582:function(t,e,i){var r=i(7894);t.exports=function(t,e,i,n){var a,s,o,l,c,g,d,u,B,F,h=e[0],Q=e[1],U=e[2],I=n[0],b=n[1],p=n[2],y=i[0],m=i[1],C=i[2];if(Math.abs(h-y)<1e-6&&Math.abs(Q-m)<1e-6&&Math.abs(U-C)<1e-6)return r(t);d=h-y,u=Q-m,B=U-C,F=1/Math.sqrt(d*d+u*u+B*B),a=b*(B*=F)-p*(u*=F),s=p*(d*=F)-I*B,o=I*u-b*d,F=Math.sqrt(a*a+s*s+o*o),F?(a*=F=1/F,s*=F,o*=F):(a=0,s=0,o=0);l=u*o-B*s,c=B*a-d*o,g=d*s-u*a,F=Math.sqrt(l*l+c*c+g*g),F?(l*=F=1/F,c*=F,g*=F):(l=0,c=0,g=0);return t[0]=a,t[1]=l,t[2]=d,t[3]=0,t[4]=s,t[5]=c,t[6]=u,t[7]=0,t[8]=o,t[9]=g,t[10]=B,t[11]=0,t[12]=-(a*h+s*Q+o*U),t[13]=-(l*h+c*Q+g*U),t[14]=-(d*h+u*Q+B*U),t[15]=1,t}},6760:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2],s=e[3],o=e[4],l=e[5],c=e[6],g=e[7],d=e[8],u=e[9],B=e[10],F=e[11],h=e[12],Q=e[13],U=e[14],I=e[15],b=i[0],p=i[1],y=i[2],m=i[3];return t[0]=b*r+p*o+y*d+m*h,t[1]=b*n+p*l+y*u+m*Q,t[2]=b*a+p*c+y*B+m*U,t[3]=b*s+p*g+y*F+m*I,b=i[4],p=i[5],y=i[6],m=i[7],t[4]=b*r+p*o+y*d+m*h,t[5]=b*n+p*l+y*u+m*Q,t[6]=b*a+p*c+y*B+m*U,t[7]=b*s+p*g+y*F+m*I,b=i[8],p=i[9],y=i[10],m=i[11],t[8]=b*r+p*o+y*d+m*h,t[9]=b*n+p*l+y*u+m*Q,t[10]=b*a+p*c+y*B+m*U,t[11]=b*s+p*g+y*F+m*I,b=i[12],p=i[13],y=i[14],m=i[15],t[12]=b*r+p*o+y*d+m*h,t[13]=b*n+p*l+y*u+m*Q,t[14]=b*a+p*c+y*B+m*U,t[15]=b*s+p*g+y*F+m*I,t}},4040:function(t){t.exports=function(t,e,i,r,n,a,s){var o=1/(e-i),l=1/(r-n),c=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*o,t[13]=(n+r)*l,t[14]=(s+a)*c,t[15]=1,t}},4772:function(t){t.exports=function(t,e,i,r,n){var a=1/Math.tan(e/2),s=1/(r-n);return t[0]=a/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*r*s,t[15]=0,t}},6079:function(t){t.exports=function(t,e,i,r){var n,a,s,o,l,c,g,d,u,B,F,h,Q,U,I,b,p,y,m,C,f,x,A,v,L=r[0],R=r[1],S=r[2],G=Math.sqrt(L*L+R*R+S*S);if(Math.abs(G)<1e-6)return null;L*=G=1/G,R*=G,S*=G,n=Math.sin(i),a=Math.cos(i),s=1-a,o=e[0],l=e[1],c=e[2],g=e[3],d=e[4],u=e[5],B=e[6],F=e[7],h=e[8],Q=e[9],U=e[10],I=e[11],b=L*L*s+a,p=R*L*s+S*n,y=S*L*s-R*n,m=L*R*s-S*n,C=R*R*s+a,f=S*R*s+L*n,x=L*S*s+R*n,A=R*S*s-L*n,v=S*S*s+a,t[0]=o*b+d*p+h*y,t[1]=l*b+u*p+Q*y,t[2]=c*b+B*p+U*y,t[3]=g*b+F*p+I*y,t[4]=o*m+d*C+h*f,t[5]=l*m+u*C+Q*f,t[6]=c*m+B*C+U*f,t[7]=g*m+F*C+I*f,t[8]=o*x+d*A+h*v,t[9]=l*x+u*A+Q*v,t[10]=c*x+B*A+U*v,t[11]=g*x+F*A+I*v,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},5567:function(t){t.exports=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[4],s=e[5],o=e[6],l=e[7],c=e[8],g=e[9],d=e[10],u=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=a*n+c*r,t[5]=s*n+g*r,t[6]=o*n+d*r,t[7]=l*n+u*r,t[8]=c*n-a*r,t[9]=g*n-s*r,t[10]=d*n-o*r,t[11]=u*n-l*r,t}},2408:function(t){t.exports=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[0],s=e[1],o=e[2],l=e[3],c=e[8],g=e[9],d=e[10],u=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=a*n-c*r,t[1]=s*n-g*r,t[2]=o*n-d*r,t[3]=l*n-u*r,t[8]=a*r+c*n,t[9]=s*r+g*n,t[10]=o*r+d*n,t[11]=l*r+u*n,t}},7089:function(t){t.exports=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[0],s=e[1],o=e[2],l=e[3],c=e[4],g=e[5],d=e[6],u=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=a*n+c*r,t[1]=s*n+g*r,t[2]=o*n+d*r,t[3]=l*n+u*r,t[4]=c*n-a*r,t[5]=g*n-s*r,t[6]=d*n-o*r,t[7]=u*n-l*r,t}},2504:function(t){t.exports=function(t,e,i){var r=i[0],n=i[1],a=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},7656:function(t){t.exports=function(t,e,i){var r,n,a,s,o,l,c,g,d,u,B,F,h=i[0],Q=i[1],U=i[2];e===t?(t[12]=e[0]*h+e[4]*Q+e[8]*U+e[12],t[13]=e[1]*h+e[5]*Q+e[9]*U+e[13],t[14]=e[2]*h+e[6]*Q+e[10]*U+e[14],t[15]=e[3]*h+e[7]*Q+e[11]*U+e[15]):(r=e[0],n=e[1],a=e[2],s=e[3],o=e[4],l=e[5],c=e[6],g=e[7],d=e[8],u=e[9],B=e[10],F=e[11],t[0]=r,t[1]=n,t[2]=a,t[3]=s,t[4]=o,t[5]=l,t[6]=c,t[7]=g,t[8]=d,t[9]=u,t[10]=B,t[11]=F,t[12]=r*h+o*Q+d*U+e[12],t[13]=n*h+l*Q+u*U+e[13],t[14]=a*h+c*Q+B*U+e[14],t[15]=s*h+g*Q+F*U+e[15]);return t}},5665:function(t){t.exports=function(t,e){if(t===e){var i=e[1],r=e[2],n=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=n,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},7626:function(t,e,i){var r=i(2642),n=i(9346);function a(t,e){for(var i=[0,0,0,0],r=0;r<4;++r)for(var n=0;n<4;++n)i[n]+=t[4*r+n]*e[r];return i}function s(t,e,i,r,n){for(var s=a(r,a(i,a(e,[t[0],t[1],t[2],1]))),o=0;o<3;++o)s[o]/=s[3];return[.5*n[0]*(1+s[0]),.5*n[1]*(1-s[1])]}function o(t,e){for(var i=[0,0,0],r=0;r<t.length;++r)for(var n=t[r],a=e[r],s=0;s<3;++s)i[s]+=a*n[s];return i}t.exports=function(t,e,i,a,l,c){if(1===t.length)return[0,t[0].slice()];for(var g=new Array(t.length),d=0;d<t.length;++d)g[d]=s(t[d],i,a,l,c);var u=0,B=1/0;for(d=0;d<g.length;++d){for(var F=0,h=0;h<2;++h)F+=Math.pow(g[d][h]-e[h],2);F<B&&(B=F,u=d)}var Q=function(t,e){if(2===t.length){for(var i=0,a=0,s=0;s<2;++s)i+=Math.pow(e[s]-t[0][s],2),a+=Math.pow(e[s]-t[1][s],2);return(i=Math.sqrt(i))+(a=Math.sqrt(a))<1e-6?[1,0]:[a/(i+a),i/(a+i)]}if(3===t.length){var o=[0,0];return n(t[0],t[1],t[2],e,o),r(t,o)}return[]}(g,e),U=0;for(d=0;d<3;++d){if(Q[d]<-.001||Q[d]>1.0001)return null;U+=Q[d]}if(Math.abs(U-1)>.001)return null;return[u,o(t,Q),Q]}},840:function(t,e,i){var r=i(3236),n=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * (view * (model * vec4(p, 1.0)));\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * (view * (model * vec4(position, 1.0)));\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * (view * (model * vec4(position, 1.0)));\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),g=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * (view * (model * vec4(position, 1.0)));\n  f_id        = id;\n  f_position  = position;\n}"]),d=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * (view * (model * vec4(position, 1.0)));\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),B=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * (view * (model * vec4(position, 1.0)));\n}"]),F=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);e.meshShader={vertex:n,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},e.wireShader={vertex:s,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},e.pointShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},e.pickShader={vertex:g,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},e.pointPickShader={vertex:u,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},e.contourShader={vertex:B,fragment:F,attributes:[{name:"position",type:"vec3"}]}},7201:function(t,e,i){var r=i(9405),n=i(2762),a=i(8116),s=i(7766),o=i(8406),l=i(6760),c=i(7608),g=i(9618),d=i(6729),u=i(7765),B=i(1888),F=i(840),h=i(7626),Q=F.meshShader,U=F.wireShader,I=F.pointShader,b=F.pickShader,p=F.pointPickShader,y=F.contourShader,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function C(t,e,i,r,n,a,s,o,l,c,g,d,u,B,F,h,Q,U,I,b,p,y,C,f,x,A,v){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=i,this.lineShader=r,this.pointShader=n,this.pickShader=a,this.pointPickShader=s,this.contourShader=o,this.trianglePositions=l,this.triangleColors=g,this.triangleNormals=u,this.triangleUVs=d,this.triangleIds=c,this.triangleVAO=B,this.triangleCount=0,this.lineWidth=1,this.edgePositions=F,this.edgeColors=Q,this.edgeUVs=U,this.edgeIds=h,this.edgeVAO=I,this.edgeCount=0,this.pointPositions=b,this.pointColors=y,this.pointUVs=C,this.pointSizes=f,this.pointIds=p,this.pointVAO=x,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=A,this.contourVAO=v,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=m,this._view=m,this._projection=m,this._resolution=[1,1]}var f=C.prototype;function x(t,e){if(!e)return 1;if(!e.length)return 1;for(var i=0;i<e.length;++i){if(e.length<2)return 1;if(e[i][0]===t)return e[i][1];if(e[i][0]>t&&i>0){var r=(e[i][0]-t)/(e[i][0]-e[i-1][0]);return e[i][1]*(1-r)+r*e[i-1][1]}}return 1}function A(t){var e=r(t,I.vertex,I.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function v(t){var e=r(t,b.vertex,b.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e}function L(t){var e=r(t,p.vertex,p.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function R(t){var e=r(t,y.vertex,y.fragment);return e.attributes.position.location=0,e}f.isOpaque=function(){return!this.hasAlpha},f.isTransparent=function(){return this.hasAlpha},f.pickSlots=1,f.setPickBase=function(t){this.pickId=t},f.highlight=function(t){if(t&&this.contourEnable){for(var e=u(this.cells,this.intensity,t.intensity),i=e.cells,r=e.vertexIds,n=e.vertexWeights,a=i.length,s=B.mallocFloat32(6*a),o=0,l=0;l<a;++l)for(var c=i[l],g=0;g<2;++g){var d=c[0];2===c.length&&(d=c[g]);for(var F=r[d][0],h=r[d][1],Q=n[d],U=1-Q,I=this.positions[F],b=this.positions[h],p=0;p<3;++p)s[o++]=Q*I[p]+U*b[p]}this.contourCount=o/3|0,this.contourPositions.update(s.subarray(0,o)),B.free(s)}else this.contourCount=0},f.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),this.hasAlpha=!1,"opacity"in t&&(this.opacity=t.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in t&&(this.opacityscale=t.opacityscale,this.hasAlpha=!0),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=s(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t,e){for(var i=d({colormap:t,nshades:256,format:"rgba"}),r=new Uint8Array(1024),n=0;n<256;++n){for(var a=i[n],s=0;s<3;++s)r[4*n+s]=a[s];r[4*n+3]=e?255*x(n/255,e):255*a[3]}return g(r,[256,256,4],[4,0,1])}(t.colormap,this.opacityscale)),this.texture.generateMipmap());var i=t.cells,r=t.positions;if(r&&i){var n=[],a=[],l=[],c=[],u=[],B=[],F=[],h=[],Q=[],U=[],I=[],b=[],p=[],y=[];this.cells=i,this.positions=r;var m=t.vertexNormals,C=t.cellNormals,f=void 0===t.vertexNormalsEpsilon?1e-6:t.vertexNormalsEpsilon,A=void 0===t.faceNormalsEpsilon?1e-6:t.faceNormalsEpsilon;t.useFacetNormals&&!C&&(C=o.faceNormals(i,r,A)),C||m||(m=o.vertexNormals(i,r,f));var v=t.vertexColors,L=t.cellColors,R=t.meshColor||[1,1,1,1],S=t.vertexUVs,G=t.vertexIntensity,E=t.cellUVs,V=t.cellIntensity,Z=1/0,N=-1/0;if(!S&&!E)if(G)if(t.vertexIntensityBounds)Z=+t.vertexIntensityBounds[0],N=+t.vertexIntensityBounds[1];else for(var D=0;D<G.length;++D){var w=G[D];Z=Math.min(Z,w),N=Math.max(N,w)}else if(V)if(t.cellIntensityBounds)Z=+t.cellIntensityBounds[0],N=+t.cellIntensityBounds[1];else for(D=0;D<V.length;++D){w=V[D];Z=Math.min(Z,w),N=Math.max(N,w)}else for(D=0;D<r.length;++D){w=r[D][2];Z=Math.min(Z,w),N=Math.max(N,w)}this.intensity=G||(V||function(t){for(var e=t.length,i=new Array(e),r=0;r<e;++r)i[r]=t[r][2];return i}(r)),this.pickVertex=!(V||L);var X=t.pointSizes,W=t.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(D=0;D<r.length;++D)for(var H=r[D],T=0;T<3;++T)!isNaN(H[T])&&isFinite(H[T])&&(this.bounds[0][T]=Math.min(this.bounds[0][T],H[T]),this.bounds[1][T]=Math.max(this.bounds[1][T],H[T]));var M=0,k=0,Y=0;t:for(D=0;D<i.length;++D){var J=i[D];switch(J.length){case 1:for(H=r[z=J[0]],T=0;T<3;++T)if(isNaN(H[T])||!isFinite(H[T]))continue t;U.push(H[0],H[1],H[2]),O=v?v[z]:L?L[D]:R,this.opacityscale&&G?a.push(O[0],O[1],O[2],this.opacity*x((G[z]-Z)/(N-Z),this.opacityscale)):3===O.length?I.push(O[0],O[1],O[2],this.opacity):(I.push(O[0],O[1],O[2],O[3]*this.opacity),O[3]<1&&(this.hasAlpha=!0)),K=S?S[z]:G?[(G[z]-Z)/(N-Z),0]:E?E[D]:V?[(V[D]-Z)/(N-Z),0]:[(H[2]-Z)/(N-Z),0],b.push(K[0],K[1]),X?p.push(X[z]):p.push(W),y.push(D),Y+=1;break;case 2:for(T=0;T<2;++T){H=r[z=J[T]];for(var $=0;$<3;++$)if(isNaN(H[$])||!isFinite(H[$]))continue t}for(T=0;T<2;++T){H=r[z=J[T]];B.push(H[0],H[1],H[2]),O=v?v[z]:L?L[D]:R,this.opacityscale&&G?a.push(O[0],O[1],O[2],this.opacity*x((G[z]-Z)/(N-Z),this.opacityscale)):3===O.length?F.push(O[0],O[1],O[2],this.opacity):(F.push(O[0],O[1],O[2],O[3]*this.opacity),O[3]<1&&(this.hasAlpha=!0)),K=S?S[z]:G?[(G[z]-Z)/(N-Z),0]:E?E[D]:V?[(V[D]-Z)/(N-Z),0]:[(H[2]-Z)/(N-Z),0],h.push(K[0],K[1]),Q.push(D)}k+=1;break;case 3:for(T=0;T<3;++T)for(H=r[z=J[T]],$=0;$<3;++$)if(isNaN(H[$])||!isFinite(H[$]))continue t;for(T=0;T<3;++T){var z,O,K,_;H=r[z=J[2-T]];n.push(H[0],H[1],H[2]),(O=v?v[z]:L?L[D]:R)?this.opacityscale&&G?a.push(O[0],O[1],O[2],this.opacity*x((G[z]-Z)/(N-Z),this.opacityscale)):3===O.length?a.push(O[0],O[1],O[2],this.opacity):(a.push(O[0],O[1],O[2],O[3]*this.opacity),O[3]<1&&(this.hasAlpha=!0)):a.push(.5,.5,.5,1),K=S?S[z]:G?[(G[z]-Z)/(N-Z),0]:E?E[D]:V?[(V[D]-Z)/(N-Z),0]:[(H[2]-Z)/(N-Z),0],c.push(K[0],K[1]),_=m?m[z]:C[D],l.push(_[0],_[1],_[2]),u.push(D)}M+=1}}this.pointCount=Y,this.edgeCount=k,this.triangleCount=M,this.pointPositions.update(U),this.pointColors.update(I),this.pointUVs.update(b),this.pointSizes.update(p),this.pointIds.update(new Uint32Array(y)),this.edgePositions.update(B),this.edgeColors.update(F),this.edgeUVs.update(h),this.edgeIds.update(new Uint32Array(Q)),this.trianglePositions.update(n),this.triangleColors.update(a),this.triangleUVs.update(c),this.triangleNormals.update(l),this.triangleIds.update(new Uint32Array(u))}},f.drawTransparent=f.draw=function(t){t=t||{};for(var e=this.gl,i=t.model||m,r=t.view||m,n=t.projection||m,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],s=0;s<3;++s)a[0][s]=Math.max(a[0][s],this.clipBounds[0][s]),a[1][s]=Math.min(a[1][s],this.clipBounds[1][s]);var o={model:i,view:r,projection:n,inverseModel:m.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};o.inverseModel=c(o.inverseModel,o.model),e.disable(e.CULL_FACE),this.texture.bind(0);var g=new Array(16);l(g,o.view,o.model),l(g,o.projection,g),c(g,g);for(s=0;s<3;++s)o.eyePosition[s]=g[12+s]/g[15];var d,u=g[15];for(s=0;s<3;++s)u+=this.lightPosition[s]*g[4*s+3];for(s=0;s<3;++s){for(var B=g[12+s],F=0;F<3;++F)B+=g[4*F+s]*this.lightPosition[F];o.lightPosition[s]=B/u}this.triangleCount>0&&((d=this.triShader).bind(),d.uniforms=o,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind());this.edgeCount>0&&this.lineWidth>0&&((d=this.lineShader).bind(),d.uniforms=o,this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind());this.pointCount>0&&((d=this.pointShader).bind(),d.uniforms=o,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind());this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((d=this.contourShader).bind(),d.uniforms=o,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind())},f.drawPick=function(t){t=t||{};for(var e=this.gl,i=t.model||m,r=t.view||m,n=t.projection||m,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],s=0;s<3;++s)a[0][s]=Math.max(a[0][s],this.clipBounds[0][s]),a[1][s]=Math.min(a[1][s],this.clipBounds[1][s]);this._model=[].slice.call(i),this._view=[].slice.call(r),this._projection=[].slice.call(n),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var o,l={model:i,view:r,projection:n,clipBounds:a,pickId:this.pickId/255};((o=this.pickShader).bind(),o.uniforms=l,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0)&&((o=this.pointPickShader).bind(),o.uniforms=l,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind())},f.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],i=this.cells[e],r=this.positions,n=new Array(i.length),a=0;a<i.length;++a)n[a]=r[i[a]];var s=t.coord[0],o=t.coord[1];if(!this.pickVertex){var l=this.positions[i[0]],c=this.positions[i[1]],g=this.positions[i[2]],d=[(l[0]+c[0]+g[0])/3,(l[1]+c[1]+g[1])/3,(l[2]+c[2]+g[2])/3];return{_cellCenter:!0,position:[s,o],index:e,cell:i,cellId:e,intensity:this.intensity[e],dataCoordinate:d}}var u=h(n,[s*this.pixelRatio,this._resolution[1]-o*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!u)return null;var B=u[2],F=0;for(a=0;a<i.length;++a)F+=B[a]*this.intensity[i[a]];return{position:u[1],index:i[u[0]],cell:i,cellId:e,intensity:F,dataCoordinate:this.positions[i[u[0]]]}},f.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},t.exports=function(t,e){if(1===arguments.length&&(t=(e=t).gl),!(t.getExtension("OES_standard_derivatives")||t.getExtension("MOZ_OES_standard_derivatives")||t.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var i=function(t){var e=r(t,Q.vertex,Q.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}(t),o=function(t){var e=r(t,U.vertex,U.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}(t),l=A(t),c=v(t),d=L(t),u=R(t),B=s(t,g(new Uint8Array([255,255,255,255]),[1,1,4]));B.generateMipmap(),B.minFilter=t.LINEAR_MIPMAP_LINEAR,B.magFilter=t.LINEAR;var F=n(t),h=n(t),I=n(t),b=n(t),p=n(t),y=a(t,[{buffer:F,type:t.FLOAT,size:3},{buffer:p,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:h,type:t.FLOAT,size:4},{buffer:I,type:t.FLOAT,size:2},{buffer:b,type:t.FLOAT,size:3}]),m=n(t),f=n(t),x=n(t),S=n(t),G=a(t,[{buffer:m,type:t.FLOAT,size:3},{buffer:S,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:f,type:t.FLOAT,size:4},{buffer:x,type:t.FLOAT,size:2}]),E=n(t),V=n(t),Z=n(t),N=n(t),D=n(t),w=a(t,[{buffer:E,type:t.FLOAT,size:3},{buffer:D,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:V,type:t.FLOAT,size:4},{buffer:Z,type:t.FLOAT,size:2},{buffer:N,type:t.FLOAT,size:1}]),X=n(t),W=new C(t,B,i,o,l,c,d,u,F,p,h,I,b,y,m,S,f,x,G,E,D,V,Z,N,w,X,a(t,[{buffer:X,type:t.FLOAT,size:3}]));return W.update(e),W}},4437:function(t,e,i){t.exports=function(t,e){t=t||document.body,e=e||{};var i=[.01,1/0];"distanceLimits"in e&&(i[0]=e.distanceLimits[0],i[1]=e.distanceLimits[1]);"zoomMin"in e&&(i[0]=e.zoomMin);"zoomMax"in e&&(i[1]=e.zoomMax);var c=n({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:i}),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0,u=t.clientWidth,B=t.clientHeight,F={keyBindingMode:"rotate",enableWheel:!0,view:c,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:c.modes,_ortho:e._ortho||e.projection&&"orthographic"===e.projection.type||!1,tick:function(){var e=r(),i=this.delay,n=e-2*i;c.idle(e-i),c.recalcMatrix(n),c.flush(e-(100+2*i));for(var a=!0,s=c.computedMatrix,o=0;o<16;++o)a=a&&g[o]===s[o],g[o]=s[o];var l=t.clientWidth===u&&t.clientHeight===B;return u=t.clientWidth,B=t.clientHeight,a?!l:(d=Math.exp(c.computedRadius[0]),!0)},lookAt:function(t,e,i){c.lookAt(c.lastT(),t,e,i)},rotate:function(t,e,i){c.rotate(c.lastT(),t,e,i)},pan:function(t,e,i){c.pan(c.lastT(),t,e,i)},translate:function(t,e,i){c.translate(c.lastT(),t,e,i)}};return Object.defineProperties(F,{matrix:{get:function(){return c.computedMatrix},set:function(t){return c.setMatrix(c.lastT(),t),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(t){var e=c.computedUp.slice(),i=c.computedEye.slice(),n=c.computedCenter.slice();if(c.setMode(t),"turntable"===t){var a=r();c._active.lookAt(a,i,n,e),c._active.lookAt(a+500,i,n,[0,0,1]),c._active.flush(a)}return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(t){return c.lookAt(c.lastT(),null,t),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(t){return c.lookAt(c.lastT(),t),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(t){return c.lookAt(c.lastT(),null,null,t),c.computedUp},enumerable:!0},distance:{get:function(){return d},set:function(t){return c.setDistance(c.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(i)},set:function(t){return c.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),F._lastX=-1,F._lastY=-1,F._lastMods={shift:!1,control:!1,alt:!1,meta:!1},F.enableMouseListeners=function(){function e(e,i,n,a){var s=F.keyBindingMode;if(!1!==s){var o="rotate"===s,l="pan"===s,g="zoom"===s,u=!!a.control,B=!!a.alt,h=!!a.shift,Q=!!(1&e),U=!!(2&e),I=!!(4&e),b=1/t.clientHeight,p=b*(i-F._lastX),y=b*(n-F._lastY),m=F.flipX?1:-1,C=F.flipY?1:-1,f=Math.PI*F.rotateSpeed,x=r();if(-1!==F._lastX&&-1!==F._lastY&&((o&&Q&&!u&&!B&&!h||Q&&!u&&!B&&h)&&c.rotate(x,m*f*p,-C*f*y,0),(l&&Q&&!u&&!B&&!h||U||Q&&u&&!B&&!h)&&c.pan(x,-F.translateSpeed*p*d,F.translateSpeed*y*d,0),g&&Q&&!u&&!B&&!h||I||Q&&!u&&B&&!h)){var A=-F.zoomSpeed*y/window.innerHeight*(x-c.lastT())*100;c.pan(x,0,0,d*(Math.exp(A)-1))}return F._lastX=i,F._lastY=n,F._lastMods=a,!0}}F.mouseListener=a(t,e),t.addEventListener("touchstart",function(i){var r=o(i.changedTouches[0],t);e(0,r[0],r[1],F._lastMods),e(1,r[0],r[1],F._lastMods)},!!l&&{passive:!0}),t.addEventListener("touchmove",function(i){var r=o(i.changedTouches[0],t);e(1,r[0],r[1],F._lastMods),i.preventDefault()},!!l&&{passive:!1}),t.addEventListener("touchend",function(t){e(0,F._lastX,F._lastY,F._lastMods)},!!l&&{passive:!0}),F.wheelListener=s(t,function(t,e){if(!1!==F.keyBindingMode&&F.enableWheel){var i=F.flipX?1:-1,n=F.flipY?1:-1,a=r();if(Math.abs(t)>Math.abs(e))c.rotate(a,0,0,-t*i*Math.PI*F.rotateSpeed/window.innerWidth);else if(!F._ortho){var s=-F.zoomSpeed*n*e/window.innerHeight*(a-c.lastT())/20;c.pan(a,0,0,d*(Math.exp(s)-1))}}},!0)},F.enableMouseListeners(),F};var r=i(3025),n=i(6296),a=i(351),s=i(8512),o=i(24),l=i(7520)},799:function(t,e,i){var r=i(3236),n=i(9405),a=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),s=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);t.exports=function(t){return n(t,a,s,null,[{name:"position",type:"vec2"}])}},4100:function(t,e,i){var r=i(4437),n=i(3837),a=i(5445),s=i(4449),o=i(3589),l=i(2260),c=i(7169),g=i(351),d=i(4772),u=i(4040),B=i(799),F=i(9216)({tablet:!0,featureDetect:!0});function h(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function Q(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var i=Math.round(Math.pow(10,-e));return Math.ceil(t*i)/i}if(e>0){i=Math.round(Math.pow(10,e));return Math.ceil(t/i)*i}return Math.ceil(t)}function U(t){return"boolean"!=typeof t||t}t.exports={createScene:function(t){(t=t||{}).camera=t.camera||{};var e=t.canvas;if(!e){if(e=document.createElement("canvas"),t.container)t.container.appendChild(e);else document.body.appendChild(e)}var i=t.gl;i||(t.glOptions&&(F=!!t.glOptions.preserveDrawingBuffer),i=function(t,e){var i=null;try{(i=t.getContext("webgl",e))||(i=t.getContext("experimental-webgl",e))}catch(t){return null}return i}(e,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:F}));if(!i)throw new Error("webgl not supported");var I=t.bounds||[[-10,-10,-10],[10,10,10]],b=new h,p=l(i,i.drawingBufferWidth,i.drawingBufferHeight,{preferFloat:!F}),y=B(i),m=t.cameraObject&&!0===t.cameraObject._ortho||t.camera.projection&&"orthographic"===t.camera.projection.type||!1,C={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:m},f=t.axes||{},x=n(i,f);x.enable=!f.disable;var A=t.spikes||{},v=s(i,A),L=[],R=[],S=[],G=[],E=!0,V=!0,Z=new Array(16),N=new Array(16),D={view:null,projection:Z,model:N,_ortho:!1},w=(V=!0,[i.drawingBufferWidth,i.drawingBufferHeight]),X=t.cameraObject||r(e,C),W={gl:i,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:e,selection:b,camera:X,axes:x,axesPixels:null,spikes:v,bounds:I,objects:L,shape:w,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:U(t.autoResize),autoBounds:U(t.autoBounds),autoScale:!!t.autoScale,autoCenter:U(t.autoCenter),clipToBounds:U(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:D,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,V=!0},setBounds:function(t,e){this.bounds[0][t]=e.min,this.bounds[1][t]=e.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},H=[i.drawingBufferWidth/W.pixelRatio|0,i.drawingBufferHeight/W.pixelRatio|0];function T(){if(!W._stopped&&W.autoResize){var t=e.parentNode,i=1,r=1;t&&t!==document.body?(i=t.clientWidth,r=t.clientHeight):(i=window.innerWidth,r=window.innerHeight);var n=0|Math.ceil(i*W.pixelRatio),a=0|Math.ceil(r*W.pixelRatio);if(n!==e.width||a!==e.height){e.width=n,e.height=a;var s=e.style;s.position=s.position||"absolute",s.left="0px",s.top="0px",s.width=i+"px",s.height=r+"px",E=!0}}}W.autoResize&&T();function M(){for(var t=L.length,e=G.length,r=0;r<e;++r)S[r]=0;t:for(r=0;r<t;++r){var n=L[r],a=n.pickSlots;if(a){for(var s=0;s<e;++s)if(S[s]+a<255){R[r]=s,n.setPickBase(S[s]+1),S[s]+=a;continue t}var l=o(i,w);R[r]=e,G.push(l),S.push(a),n.setPickBase(1),e+=1}else R[r]=-1}for(;e>0&&0===S[e-1];)S.pop(),G.pop().dispose()}function k(){if(W.contextLost)return!0;i.isContextLost()&&(W.contextLost=!0,W.mouseListener.enabled=!1,W.selection.object=null,W.oncontextloss&&W.oncontextloss())}window.addEventListener("resize",T),W.update=function(t){W._stopped||(E=!0,V=!0)},W.add=function(t){W._stopped||(t.axes=x,L.push(t),R.push(-1),E=!0,V=!0,M())},W.remove=function(t){if(!W._stopped){var e=L.indexOf(t);e<0||(L.splice(e,1),R.pop(),E=!0,V=!0,M())}},W.dispose=function(){if(!W._stopped&&(W._stopped=!0,window.removeEventListener("resize",T),e.removeEventListener("webglcontextlost",k),W.mouseListener.enabled=!1,!W.contextLost)){x.dispose(),v.dispose();for(var t=0;t<L.length;++t)L[t].dispose();p.dispose();for(t=0;t<G.length;++t)G[t].dispose();y.dispose(),i=null,x=null,v=null,L=[]}},W._mouseRotating=!1,W._prevButtons=0,W.enableMouseListeners=function(){W.mouseListener=g(e,function(t,e,i){if(!W._stopped){var r=G.length,n=L.length,a=b.object;b.distance=1/0,b.mouse[0]=e,b.mouse[1]=i,b.object=null,b.screen=null,b.dataCoordinate=b.dataPosition=null;var s=!1;if(t&&W._prevButtons)W._mouseRotating=!0;else{W._mouseRotating&&(V=!0),W._mouseRotating=!1;for(var o=0;o<r;++o){var l=G[o].query(e,H[1]-i-1,W.pickRadius);if(l){if(l.distance>b.distance)continue;for(var c=0;c<n;++c){var g=L[c];if(R[c]===o){var d=g.pick(l);d&&(b.buttons=t,b.screen=l.coord,b.distance=l.distance,b.object=g,b.index=d.distance,b.dataPosition=d.position,b.dataCoordinate=d.dataCoordinate,b.data=d,s=!0)}}}}}a&&a!==b.object&&(a.highlight&&a.highlight(null),E=!0),b.object&&(b.object.highlight&&b.object.highlight(b.data),E=!0),(s=s||b.object!==a)&&W.onselect&&W.onselect(b),1&t&&!(1&W._prevButtons)&&W.onclick&&W.onclick(b),W._prevButtons=t}})},e.addEventListener("webglcontextlost",k);var Y=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],J=[Y[0].slice(),Y[1].slice()];function $(){if(!k()){T();var t=W.camera.tick();D.view=W.camera.matrix,E=E||t,V=V||t,x.pixelRatio=W.pixelRatio,v.pixelRatio=W.pixelRatio;var e=L.length,r=Y[0],n=Y[1];r[0]=r[1]=r[2]=1/0,n[0]=n[1]=n[2]=-1/0;for(var s=0;s<e;++s){(S=L[s]).pixelRatio=W.pixelRatio,S.axes=W.axes,E=E||!!S.dirty,V=V||!!S.dirty;var o=S.bounds;if(o)for(var l=o[0],g=o[1],B=0;B<3;++B)r[B]=Math.min(r[B],l[B]),n[B]=Math.max(n[B],g[B])}var F=W.bounds;if(W.autoBounds)for(B=0;B<3;++B){if(n[B]<r[B])r[B]=-1,n[B]=1;else{r[B]===n[B]&&(r[B]-=1,n[B]+=1);var h=.05*(n[B]-r[B]);r[B]=r[B]-h,n[B]=n[B]+h}F[0][B]=r[B],F[1][B]=n[B]}var U=!1;for(B=0;B<3;++B)U=U||J[0][B]!==F[0][B]||J[1][B]!==F[1][B],J[0][B]=F[0][B],J[1][B]=F[1][B];if(V=V||U,E=E||U){if(U){var I=[0,0,0];for(s=0;s<3;++s)I[s]=Q((F[1][s]-F[0][s])/10);x.autoTicks?x.update({bounds:F,tickSpacing:I}):x.update({bounds:F})}var C=i.drawingBufferWidth,f=i.drawingBufferHeight;w[0]=C,w[1]=f,H[0]=0|Math.max(C/W.pixelRatio,1),H[1]=0|Math.max(f/W.pixelRatio,1),function(t,e){var i=t.bounds,r=t.cameraParams,n=r.projection,a=r.model,s=t.gl.drawingBufferWidth,o=t.gl.drawingBufferHeight,l=t.zNear,c=t.zFar,g=t.fovy,B=s/o;e?(u(n,-B,B,-1,1,l,c),r._ortho=!0):(d(n,g,B,l,c),r._ortho=!1);for(var F=0;F<16;++F)a[F]=0;a[15]=1;var h=0;for(F=0;F<3;++F)h=Math.max(h,i[1][F]-i[0][F]);for(F=0;F<3;++F)t.autoScale?a[5*F]=t.aspect[F]/(i[1][F]-i[0][F]):a[5*F]=1/h,t.autoCenter&&(a[12+F]=.5*-a[5*F]*(i[0][F]+i[1][F]))}(W,m);for(s=0;s<e;++s){(S=L[s]).axesBounds=F,W.clipToBounds&&(S.clipBounds=F)}b.object&&(W.snapToData?v.position=b.dataCoordinate:v.position=b.dataPosition,v.bounds=F),V&&(V=!1,function(){if(!k()){i.colorMask(!0,!0,!0,!0),i.depthMask(!0),i.disable(i.BLEND),i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL);for(var t=L.length,e=G.length,r=0;r<e;++r){var n=G[r];n.shape=H,n.begin();for(var a=0;a<t;++a)if(R[a]===r){var s=L[a];s.drawPick&&(s.pixelRatio=1,s.drawPick(D))}n.end()}}}()),W.axesPixels=a(W.axes,D,C,f),W.onrender&&W.onrender(),i.bindFramebuffer(i.FRAMEBUFFER,null),i.viewport(0,0,C,f),W.clearRGBA(),i.depthMask(!0),i.colorMask(!0,!0,!0,!0),i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL),i.disable(i.BLEND),i.disable(i.CULL_FACE);var A=!1;x.enable&&(A=A||x.isTransparent(),x.draw(D)),v.axes=x,b.object&&v.draw(D),i.disable(i.CULL_FACE);for(s=0;s<e;++s){(S=L[s]).axes=x,S.pixelRatio=W.pixelRatio,S.isOpaque&&S.isOpaque()&&S.draw(D),S.isTransparent&&S.isTransparent()&&(A=!0)}if(A){p.shape=w,p.bind(),i.clear(i.DEPTH_BUFFER_BIT),i.colorMask(!1,!1,!1,!1),i.depthMask(!0),i.depthFunc(i.LESS),x.enable&&x.isTransparent()&&x.drawTransparent(D);for(s=0;s<e;++s){(S=L[s]).isOpaque&&S.isOpaque()&&S.draw(D)}i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.colorMask(!0,!0,!0,!0),i.depthMask(!1),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),x.isTransparent()&&x.drawTransparent(D);for(s=0;s<e;++s){var S;(S=L[s]).isTransparent&&S.isTransparent()&&S.drawTransparent(D)}i.bindFramebuffer(i.FRAMEBUFFER,null),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.disable(i.DEPTH_TEST),y.bind(),p.color[0].bind(0),y.uniforms.accumBuffer=0,c(i),i.disable(i.BLEND)}E=!1;for(s=0;s<e;++s)L[s].dirty=!1}}}function z(){W._stopped||W.contextLost||($(),requestAnimationFrame(z))}return W.enableMouseListeners(),z(),W.redraw=function(){W._stopped||(E=!0,$())},W},createCamera:r}},783:function(t){t.exports=function(t,e,i,r){var n,a,s,o,l,c=e[0],g=e[1],d=e[2],u=e[3],B=i[0],F=i[1],h=i[2],Q=i[3];(a=c*B+g*F+d*h+u*Q)<0&&(a=-a,B=-B,F=-F,h=-h,Q=-Q);1-a>1e-6?(n=Math.acos(a),s=Math.sin(n),o=Math.sin((1-r)*n)/s,l=Math.sin(r*n)/s):(o=1-r,l=r);return t[0]=o*c+l*B,t[1]=o*g+l*F,t[2]=o*d+l*h,t[3]=o*u+l*Q,t}},5964:function(t){t.exports=function(t){return t||0===t?t.toString():""}},9366:function(t,e,i){var r=i(4359);t.exports=function(t,e,i){var a=[e.style,e.weight,e.variant,e.family].join("_"),s=n[a];s||(s=n[a]={});if(t in s)return s[t];var o={textAlign:"center",textBaseline:"middle",lineHeight:1,font:e.family,fontStyle:e.style,fontWeight:e.weight,fontVariant:e.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},l=r(t,o);o.triangles=!1;var c,g,d=r(t,o);if(i&&1!==i){for(c=0;c<l.positions.length;++c)for(g=0;g<l.positions[c].length;++g)l.positions[c][g]/=i;for(c=0;c<d.positions.length;++c)for(g=0;g<d.positions[c].length;++g)d.positions[c][g]/=i}var u=[[1/0,1/0],[-1/0,-1/0]],B=d.positions.length;for(c=0;c<B;++c){var F=d.positions[c];for(g=0;g<2;++g)u[0][g]=Math.min(u[0][g],F[g]),u[1][g]=Math.max(u[1][g],F[g])}return s[t]=[l,d,u]};var n={}},1283:function(t,e,i){var r=i(9405),n=i(3236),a=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),o=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),c=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),g=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],d={vertex:a,fragment:l,attributes:g},u={vertex:s,fragment:l,attributes:g},B={vertex:o,fragment:l,attributes:g},F={vertex:a,fragment:c,attributes:g},h={vertex:s,fragment:c,attributes:g},Q={vertex:o,fragment:c,attributes:g};function U(t,e){var i=r(t,e),n=i.attributes;return n.position.location=0,n.color.location=1,n.glyph.location=2,n.id.location=3,i}e.createPerspective=function(t){return U(t,d)},e.createOrtho=function(t){return U(t,u)},e.createProject=function(t){return U(t,B)},e.createPickPerspective=function(t){return U(t,F)},e.createPickOrtho=function(t){return U(t,h)},e.createPickProject=function(t){return U(t,Q)}},8418:function(t,e,i){var r=i(5219),n=i(2762),a=i(8116),s=i(1888),o=i(6760),l=i(1283),c=i(9366),g=i(5964),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u=ArrayBuffer,B=DataView;function F(t){return Array.isArray(t)||function(t){return u.isView(t)&&!(t instanceof B)}(t)}function h(t,e){var i=t[0],r=t[1],n=t[2],a=t[3];return t[0]=e[0]*i+e[4]*r+e[8]*n+e[12]*a,t[1]=e[1]*i+e[5]*r+e[9]*n+e[13]*a,t[2]=e[2]*i+e[6]*r+e[10]*n+e[14]*a,t[3]=e[3]*i+e[7]*r+e[11]*n+e[15]*a,t}function Q(t,e,i,r){return h(r,r),h(r,r),h(r,r)}function U(t,e){this.index=t,this.dataCoordinate=this.position=e}function I(t){return!0===t||t>1?1:t}function b(t,e,i,r,n,a,s,o,l,c,g,d){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=i,this.projectShader=r,this.pointBuffer=n,this.colorBuffer=a,this.glyphBuffer=s,this.idBuffer=o,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=g,this.pickProjectShader=d,this.points=[],this._selectResult=new U(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}t.exports=function(t){var e=t.gl,i=l.createPerspective(e),r=l.createOrtho(e),s=l.createProject(e),o=l.createPickPerspective(e),c=l.createPickOrtho(e),g=l.createPickProject(e),d=n(e),u=n(e),B=n(e),F=n(e),h=a(e,[{buffer:d,size:3,type:e.FLOAT},{buffer:u,size:4,type:e.FLOAT},{buffer:B,size:2,type:e.FLOAT},{buffer:F,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),Q=new b(e,i,r,s,d,u,B,F,h,o,c,g);return Q.update(t),Q};var p=b.prototype;p.pickSlots=1,p.setPickBase=function(t){this.pickId=t},p.isTransparent=function(){if(this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectHasAlpha)return!0;return!1},p.isOpaque=function(){if(!this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],m=[0,0,0],C=[0,0,0],f=[0,0,0,1],x=[0,0,0,1],A=d.slice(),v=[0,0,0],L=[[0,0,0],[0,0,0]];function R(t){return t[0]=t[1]=t[2]=0,t}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function G(t,e,i,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[i]=r,t}function E(t,e,i,r){var n,a=e.axesProject,s=e.gl,l=t.uniforms,c=i.model||d,g=i.view||d,u=i.projection||d,B=e.axesBounds,F=function(t){for(var e=L,i=0;i<2;++i)for(var r=0;r<3;++r)e[i][r]=Math.max(Math.min(t[i][r],1e8),-1e8);return e}(e.clipBounds);n=e.axes&&e.axes.lastCubeProps?e.axes.lastCubeProps.axis:[1,1,1],y[0]=2/s.drawingBufferWidth,y[1]=2/s.drawingBufferHeight,t.bind(),l.view=g,l.projection=u,l.screenSize=y,l.highlightId=e.highlightId,l.highlightScale=e.highlightScale,l.clipBounds=F,l.pickGroup=e.pickId/255,l.pixelRatio=r;for(var h=0;h<3;++h)if(a[h]){l.scale=e.projectScale[h],l.opacity=e.projectOpacity[h];for(var U=A,I=0;I<16;++I)U[I]=0;for(I=0;I<4;++I)U[5*I]=1;U[5*h]=0,n[h]<0?U[12+h]=B[0][h]:U[12+h]=B[1][h],o(U,c,U),l.model=U;var b=(h+1)%3,p=(h+2)%3,E=R(m),V=R(C);E[b]=1,V[p]=1;var Z=Q(0,0,0,S(f,E)),N=Q(0,0,0,S(x,V));if(Math.abs(Z[1])>Math.abs(N[1])){var D=Z;Z=N,N=D,D=E,E=V,V=D;var w=b;b=p,p=w}Z[0]<0&&(E[b]=-1),N[1]>0&&(V[p]=-1);var X=0,W=0;for(I=0;I<4;++I)X+=Math.pow(c[4*b+I],2),W+=Math.pow(c[4*p+I],2);E[b]/=Math.sqrt(X),V[p]/=Math.sqrt(W),l.axes[0]=E,l.axes[1]=V,l.fragClipBounds[0]=G(v,F[0],h,-1e8),l.fragClipBounds[1]=G(v,F[1],h,1e8),e.vao.bind(),e.vao.draw(s.TRIANGLES,e.vertexCount),e.lineWidth>0&&(s.lineWidth(e.lineWidth*r),e.vao.draw(s.LINES,e.lineVertexCount,e.vertexCount)),e.vao.unbind()}}var V=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function Z(t,e,i,r,n,a,s){var o=i.gl;if((a===i.projectHasAlpha||s)&&E(e,i,r,n),a===i.hasAlpha||s){t.bind();var l=t.uniforms;l.model=r.model||d,l.view=r.view||d,l.projection=r.projection||d,y[0]=2/o.drawingBufferWidth,y[1]=2/o.drawingBufferHeight,l.screenSize=y,l.highlightId=i.highlightId,l.highlightScale=i.highlightScale,l.fragClipBounds=V,l.clipBounds=i.axes.bounds,l.opacity=i.opacity,l.pickGroup=i.pickId/255,l.pixelRatio=n,i.vao.bind(),i.vao.draw(o.TRIANGLES,i.vertexCount),i.lineWidth>0&&(o.lineWidth(i.lineWidth*n),i.vao.draw(o.LINES,i.lineVertexCount,i.vertexCount)),i.vao.unbind()}}function N(t,e,i,n){var a;a=F(t)?e<t.length?t[e]:void 0:t,a=g(a);var s=!0;r(a)&&(a="â¼",s=!1),i||(i={});var o=i.family;F(o)&&(o=o[e]),o||(o="normal");var l=i.weight;F(l)&&(l=l[e]),l||(l="normal");var d=i.style;F(d)&&(d=d[e]),d||(d="normal");var u=i.variant;F(u)&&(u=u[e]),u||(u="normal");var B=c(a,{family:o,weight:l,style:d,variant:u},n);return{mesh:(B=c(a,i,n))[0],lines:B[1],bounds:B[2],visible:s}}p.draw=function(t){Z(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!1,!1)},p.drawTransparent=function(t){Z(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!0,!1)},p.drawPick=function(t){Z(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,t,1,!0,!0)},p.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(e>=this.pointCount||e<0)return null;var i=this.points[e],r=this._selectResult;r.index=e;for(var n=0;n<3;++n)r.position[n]=r.dataCoordinate[n]=i[n];return r},p.highlight=function(t){if(t){var e=t.index,i=255&e,r=e>>8&255,n=e>>16&255;this.highlightId=[i/255,r/255,n/255,0]}else this.highlightId=[1,1,1,1]},p.update=function(t){if("perspective"in(t=t||{})&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t)if(F(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if("projectScale"in t)if(F(t.projectScale))this.projectScale=t.projectScale.slice();else{var i=+t.projectScale;this.projectScale=[i,i,i]}if(this.projectHasAlpha=!1,"projectOpacity"in t){if(F(t.projectOpacity))this.projectOpacity=t.projectOpacity.slice();else{i=+t.projectOpacity;this.projectOpacity=[i,i,i]}for(var r=0;r<3;++r)this.projectOpacity[r]=I(this.projectOpacity[r]),this.projectOpacity[r]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in t&&(this.opacity=I(t.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var n,a,o=t.position,l={family:t.font||"normal",style:t.fontStyle||"normal",weight:t.fontWeight||"normal",variant:t.fontVariant||"normal"},c=t.alignment||[0,0];if(2===c.length)n=c[0],a=c[1];else{n=[],a=[];for(r=0;r<c.length;++r)n[r]=c[r][0],a[r]=c[r][1]}var g=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0],u=t.glyph,B=t.color,h=t.size,Q=t.angle,U=t.lineColor,b=-1,p=0,y=0,m=0;if(o.length){m=o.length;t:for(r=0;r<m;++r){for(var C=o[r],f=0;f<3;++f)if(isNaN(C[f])||!isFinite(C[f]))continue t;var x=(H=N(u,r,l,this.pixelRatio)).mesh,A=H.lines,v=H.bounds;p+=3*x.cells.length,y+=2*A.edges.length}}var L=p+y,R=s.mallocFloat(3*L),S=s.mallocFloat(4*L),G=s.mallocFloat(2*L),E=s.mallocUint32(L);if(L>0){var V=0,Z=p,D=[0,0,0,1],w=[0,0,0,1],X=F(B)&&F(B[0]),W=F(U)&&F(U[0]);t:for(r=0;r<m;++r){b+=1;for(C=o[r],f=0;f<3;++f){if(isNaN(C[f])||!isFinite(C[f]))continue t;d[f]=Math.max(d[f],C[f]),g[f]=Math.min(g[f],C[f])}x=(H=N(u,r,l,this.pixelRatio)).mesh,A=H.lines,v=H.bounds;var H,T=H.visible;if(T)if(F(B)){if(3===(M=X?r<B.length?B[r]:[0,0,0,0]:B).length){for(f=0;f<3;++f)D[f]=M[f];D[3]=1}else if(4===M.length){for(f=0;f<4;++f)D[f]=M[f];!this.hasAlpha&&M[3]<1&&(this.hasAlpha=!0)}}else D[0]=D[1]=D[2]=0,D[3]=1;else D=[1,1,1,0];if(T)if(F(U)){var M;if(3===(M=W?r<U.length?U[r]:[0,0,0,0]:U).length){for(f=0;f<3;++f)w[f]=M[f];w[f]=1}else if(4===M.length){for(f=0;f<4;++f)w[f]=M[f];!this.hasAlpha&&M[3]<1&&(this.hasAlpha=!0)}}else w[0]=w[1]=w[2]=0,w[3]=1;else w=[1,1,1,0];var k=.5;T?F(h)?k=r<h.length?+h[r]:12:h?k=+h:this.useOrtho&&(k=12):k=0;var Y=0;F(Q)?Y=r<Q.length?+Q[r]:0:Q&&(Y=+Q);var J=Math.cos(Y),$=Math.sin(Y);for(C=o[r],f=0;f<3;++f)d[f]=Math.max(d[f],C[f]),g[f]=Math.min(g[f],C[f]);var z=n,O=a;z=0;F(n)?z=r<n.length?n[r]:0:n&&(z=n);O=0;F(a)?O=r<a.length?a[r]:0:a&&(O=a);var K=[z*=z>0?1-v[0][0]:z<0?1+v[1][0]:1,O*=O>0?1-v[0][1]:O<0?1+v[1][1]:1],_=x.cells||[],P=x.positions||[];for(f=0;f<_.length;++f)for(var j=_[f],q=0;q<3;++q){for(var tt=0;tt<3;++tt)R[3*V+tt]=C[tt];for(tt=0;tt<4;++tt)S[4*V+tt]=D[tt];E[V]=b;var et=P[j[q]];G[2*V]=k*(J*et[0]-$*et[1]+K[0]),G[2*V+1]=k*($*et[0]+J*et[1]+K[1]),V+=1}for(_=A.edges,P=A.positions,f=0;f<_.length;++f)for(j=_[f],q=0;q<2;++q){for(tt=0;tt<3;++tt)R[3*Z+tt]=C[tt];for(tt=0;tt<4;++tt)S[4*Z+tt]=w[tt];E[Z]=b;et=P[j[q]];G[2*Z]=k*(J*et[0]-$*et[1]+K[0]),G[2*Z+1]=k*($*et[0]+J*et[1]+K[1]),Z+=1}}}this.bounds=[g,d],this.points=o,this.pointCount=o.length,this.vertexCount=p,this.lineVertexCount=y,this.pointBuffer.update(R),this.colorBuffer.update(S),this.glyphBuffer.update(G),this.idBuffer.update(E),s.free(R),s.free(S),s.free(G),s.free(E)},p.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},3589:function(t,e,i){t.exports=function(t,e){var i=e[0],a=e[1],s=r(t,i,a,{}),o=n.mallocUint8(i*a*4);return new l(t,s,o)};var r=i(2260),n=i(1888),a=i(9618),s=i(8828).nextPow2;function o(t,e,i,r,n){this.coord=[t,e],this.id=i,this.value=r,this.distance=n}function l(t,e,i){this.gl=t,this.fbo=e,this.buffer=i,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var c=l.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],i=this.fbo.shape[1];if(i*e*4>this.buffer.length){n.free(this.buffer);for(var r=this.buffer=n.mallocUint8(s(i*e*4)),a=0;a<i*e*4;++a)r[a]=255}return t}}}),c.begin=function(){var t=this.gl;this.shape,t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},c.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(t,e,i){if(!this.gl)return null;var r=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof i&&(i=1);var n=0|Math.min(Math.max(t-i,0),r[0]),s=0|Math.min(Math.max(t+i,0),r[0]),l=0|Math.min(Math.max(e-i,0),r[1]),c=0|Math.min(Math.max(e+i,0),r[1]);if(s<=n||c<=l)return null;var g=[s-n,c-l],d=a(this.buffer,[g[0],g[1],4],[4,4*r[0],1],4*(n+r[0]*l)),u=function(t,e,i){for(var r=1e8,n=-1,a=-1,s=t.shape[0],o=t.shape[1],l=0;l<s;l++)for(var c=0;c<o;c++){var g=t.get(l,c,0),d=t.get(l,c,1),u=t.get(l,c,2),B=t.get(l,c,3);if(g<255||d<255||u<255||B<255){var F=e-l,h=i-c,Q=F*F+h*h;Q<r&&(r=Q,n=l,a=c)}}return[n,a,r]}(d.hi(g[0],g[1],1),i,i),B=u[0],F=u[1];return B<0||Math.pow(this.radius,2)<u[2]?null:new o(B+n|0,F+l|0,d.get(B,F,0),[d.get(B,F,1),d.get(B,F,2),d.get(B,F,3)],Math.sqrt(u[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),n.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},9405:function(t,e,i){var r=i(3327),n=i(8731),a=i(216),s=i(5091),o=i(2145),l=i(8866);function c(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var g=c.prototype;function d(t,e){return t.name<e.name?-1:1}g.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),i=this.gl.lastAttribCount;if(e>i)for(t=i;t<e;t++)this.gl.enableVertexAttribArray(t);else if(i>e)for(t=e;t<i;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},g.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},g.update=function(t,e,i,c){if(!e||1===arguments.length){var g=t;t=g.vertex,e=g.fragment,i=g.uniforms,c=g.attributes}var u=this,B=u.gl,F=u._vref;u._vref=s.shader(B,B.VERTEX_SHADER,t),F&&F.dispose(),u.vertShader=u._vref.shader;var h=this._fref;if(u._fref=s.shader(B,B.FRAGMENT_SHADER,e),h&&h.dispose(),u.fragShader=u._fref.shader,!i||!c){var Q=B.createProgram();if(B.attachShader(Q,u.fragShader),B.attachShader(Q,u.vertShader),B.linkProgram(Q),!B.getProgramParameter(Q,B.LINK_STATUS)){var U=B.getProgramInfoLog(Q);throw new l(U,"Error linking program:"+U)}i=i||o.uniforms(B,Q),c=c||o.attributes(B,Q),B.deleteProgram(Q)}(c=c.slice()).sort(d);var I,b=[],p=[],y=[];for(I=0;I<c.length;++I){var m=c[I];if(m.type.indexOf("mat")>=0){for(var C=0|m.type.charAt(m.type.length-1),f=new Array(C),x=0;x<C;++x)f[x]=y.length,p.push(m.name+"["+x+"]"),"number"==typeof m.location?y.push(m.location+x):Array.isArray(m.location)&&m.location.length===C&&"number"==typeof m.location[x]?y.push(0|m.location[x]):y.push(-1);b.push({name:m.name,type:m.type,locations:f})}else b.push({name:m.name,type:m.type,locations:[y.length]}),p.push(m.name),"number"==typeof m.location?y.push(0|m.location):y.push(-1)}var A=0;for(I=0;I<y.length;++I)if(y[I]<0){for(;y.indexOf(A)>=0;)A+=1;y[I]=A}var v=new Array(i.length);function L(){u.program=s.program(B,u._vref,u._fref,p,y);for(var t=0;t<i.length;++t)v[t]=B.getUniformLocation(u.program,i[t].name)}L(),u._relink=L,u.types={uniforms:a(i),attributes:a(c)},u.attributes=n(B,u,b,y),Object.defineProperty(u,"uniforms",r(B,u,i,v))},t.exports=function(t,e,i,r,n){var a=new c(t);return a.update(e,i,r,n),a}},8866:function(t){function e(t,e,i){this.shortMessage=e||"",this.longMessage=i||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(i?"\n"+i:""),this.stack=(new Error).stack}e.prototype=new Error,e.prototype.name="GLError",e.prototype.constructor=e,t.exports=e},8731:function(t,e,i){t.exports=function(t,e,i,n){for(var a={},s=0,c=i.length;s<c;++s){var g=i[s],d=g.name,u=g.type,B=g.locations;switch(u){case"bool":case"int":case"float":o(t,e,B[0],n,1,a,d);break;default:if(u.indexOf("vec")>=0){if((F=u.charCodeAt(u.length-1)-48)<2||F>4)throw new r("","Invalid data type for attribute "+d+": "+u);o(t,e,B[0],n,F,a,d)}else{if(!(u.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+d+": "+u);var F;if((F=u.charCodeAt(u.length-1)-48)<2||F>4)throw new r("","Invalid data type for attribute "+d+": "+u);l(t,e,B,n,F,a,d)}}}return a};var r=i(8866);function n(t,e,i,r,n,a){this._gl=t,this._wrapper=e,this._index=i,this._locations=r,this._dimension=n,this._constFunc=a}var a=n.prototype;a.pointer=function(t,e,i,r){var n=this,a=n._gl,s=n._locations[n._index];a.vertexAttribPointer(s,n._dimension,t||a.FLOAT,!!e,i||0,r||0),a.enableVertexAttribArray(s)},a.set=function(t,e,i,r){return this._constFunc(this._locations[this._index],t,e,i,r)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}});var s=[function(t,e,i){return void 0===i.length?t.vertexAttrib1f(e,i):t.vertexAttrib1fv(e,i)},function(t,e,i,r){return void 0===i.length?t.vertexAttrib2f(e,i,r):t.vertexAttrib2fv(e,i)},function(t,e,i,r,n){return void 0===i.length?t.vertexAttrib3f(e,i,r,n):t.vertexAttrib3fv(e,i)},function(t,e,i,r,n,a){return void 0===i.length?t.vertexAttrib4f(e,i,r,n,a):t.vertexAttrib4fv(e,i)}];function o(t,e,i,r,a,o,l){var c=s[a],g=new n(t,e,i,r,a,c);Object.defineProperty(o,l,{set:function(e){return t.disableVertexAttribArray(r[i]),c(t,r[i],e),e},get:function(){return g},enumerable:!0})}function l(t,e,i,r,n,a,s){for(var l=new Array(n),c=new Array(n),g=0;g<n;++g)o(t,e,i[g],r,n,l,g),c[g]=l[g];Object.defineProperty(l,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<n;++e)c[e].location=t[e];else for(e=0;e<n;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(n),e=0;e<n;++e)t[e]=r[i[e]];return t},enumerable:!0}),l.pointer=function(e,a,s,o){e=e||t.FLOAT,a=!!a,s=s||n*n,o=o||0;for(var l=0;l<n;++l){var c=r[i[l]];t.vertexAttribPointer(c,n,e,a,s,o+l*n),t.enableVertexAttribArray(c)}};var d=new Array(n),u=t["vertexAttrib"+n+"fv"];Object.defineProperty(a,s,{set:function(e){for(var a=0;a<n;++a){var s=r[i[a]];if(t.disableVertexAttribArray(s),Array.isArray(e[0]))u.call(t,s,e[a]);else{for(var o=0;o<n;++o)d[o]=e[n*a+o];u.call(t,s,d)}}return e},get:function(){return l},enumerable:!0})}},3327:function(t,e,i){var r=i(216),n=i(8866);function a(t){return function(){return t}}function s(t,e){for(var i=new Array(t),r=0;r<t;++r)i[r]=e;return i}t.exports=function(t,e,i,o){function l(e){return function(r){for(var a=c("",e),s=0;s<a.length;++s){var l=a[s],g=l[0],d=l[1];if(o[d]){var u=r;if("string"==typeof g&&(0===g.indexOf(".")||0===g.indexOf("["))){var B=g;if(0===g.indexOf(".")&&(B=g.slice(1)),B.indexOf("]")===B.length-1){var F=B.indexOf("["),h=B.slice(0,F),Q=B.slice(F+1,B.length-1);u=h?r[h][Q]:r[Q]}else u=r[B]}var U,I=i[d].type;switch(I){case"bool":case"int":case"sampler2D":case"samplerCube":t.uniform1i(o[d],u);break;case"float":t.uniform1f(o[d],u);break;default:var b=I.indexOf("vec");if(!(0<=b&&b<=1&&I.length===4+b)){if(0===I.indexOf("mat")&&4===I.length){if((U=I.charCodeAt(I.length-1)-48)<2||U>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+I);t["uniformMatrix"+U+"fv"](o[d],!1,u);break}throw new n("","Unknown uniform data type for "+name+": "+I)}if((U=I.charCodeAt(I.length-1)-48)<2||U>4)throw new n("","Invalid data type");switch(I.charAt(0)){case"b":case"i":t["uniform"+U+"iv"](o[d],u);break;case"v":t["uniform"+U+"fv"](o[d],u);break;default:throw new n("","Unrecognized data type for vector "+name+": "+I)}}}}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var i=[];for(var r in e){var n=e[r],a=t;parseInt(r)+""===r?a+="["+r+"]":a+="."+r,"object"==typeof n?i.push.apply(i,c(a,n)):i.push([a,n])}return i}function g(t,e,r){if("object"==typeof r){var c=d(r);Object.defineProperty(t,e,{get:a(c),set:l(r),enumerable:!0,configurable:!1})}else o[r]?Object.defineProperty(t,e,{get:(g=r,function(t,e,i){return t.getUniform(e.program,i[g])}),set:l(r),enumerable:!0,configurable:!1}):t[e]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){if((i=t.charCodeAt(t.length-1)-48)<2||i>4)throw new n("","Invalid data type");return"b"===t.charAt(0)?s(i,!1):s(i,0)}if(0===t.indexOf("mat")&&4===t.length){var i;if((i=t.charCodeAt(t.length-1)-48)<2||i>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+t);return s(i*i,0)}throw new n("","Unknown uniform data type for "+name+": "+t)}}(i[r].type);var g}function d(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var i=0;i<t.length;++i)g(e,i,t[i])}else for(var r in e={},t)g(e,r,t[r]);return e}var u=r(i,!0);return{get:a(d(u)),set:l(u),enumerable:!0,configurable:!0}}},216:function(t){t.exports=function(t,e){for(var i={},r=0;r<t.length;++r)for(var n=t[r].name.split("."),a=i,s=0;s<n.length;++s){var o=n[s].split("[");if(o.length>1){o[0]in a||(a[o[0]]=[]),a=a[o[0]];for(var l=1;l<o.length;++l){var c=parseInt(o[l]);l<o.length-1||s<n.length-1?(c in a||(l<o.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=e?r:t[r].type}}else s<n.length-1?(o[0]in a||(a[o[0]]={}),a=a[o[0]]):a[o[0]]=e?r:t[r].type}return i}},2145:function(t,e){e.uniforms=function(t,e){for(var i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=[],a=0;a<i;++a){var s=t.getActiveUniform(e,a);if(s){var o=n(t,s.type);if(s.size>1)for(var l=0;l<s.size;++l)r.push({name:s.name.replace("[0]","["+l+"]"),type:o});else r.push({name:s.name,type:o})}}return r},e.attributes=function(t,e){for(var i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=[],a=0;a<i;++a){var s=t.getActiveAttrib(e,a);s&&r.push({name:s.name,type:n(t,s.type)})}return r};var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function n(t,e){if(!r){var n=Object.keys(i);r={};for(var a=0;a<n.length;++a){var s=n[a];r[t[s]]=i[s]}}return r[e]}},5091:function(t,e,i){e.shader=function(t,e,i){return g(t).getShaderReference(e,i)},e.program=function(t,e,i,r,n){return g(t).getProgram(e,i,r,n)};var r=i(8866),n=i(2992),a=new("undefined"==typeof WeakMap?i(606):WeakMap),s=0;function o(t,e,i,r,n,a,s){this.id=t,this.src=e,this.type=i,this.shader=r,this.count=a,this.programs=[],this.cache=s}function l(t){this.gl=t,this.shaders=[{},{}],this.programs={}}o.prototype.dispose=function(){if(0===--this.count){for(var t=this.cache,e=t.gl,i=this.programs,r=0,n=i.length;r<n;++r){var a=t.programs[i[r]];a&&(delete t.programs[r],e.deleteProgram(a))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var c=l.prototype;function g(t){var e=a.get(t);return e||(e=new l(t),a.set(t,e)),e}c.getShaderReference=function(t,e){var i=this.gl,a=this.shaders[t===i.FRAGMENT_SHADER|0],l=a[e];if(l&&i.isShader(l.shader))l.count+=1;else{var c=function(t,e,i){var a=t.createShader(e);if(t.shaderSource(a,i),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(a);try{var o=n(s,i,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new r(s,"Error compiling shader:\n"+s)}throw new r(s,o.short,o.long)}return a}(i,t,e);l=a[e]=new o(s++,e,t,c,[],1,this)}return l},c.getProgram=function(t,e,i,n){var a=[t.id,e.id,i.join(":"),n.join(":")].join("@"),s=this.programs[a];return s&&this.gl.isProgram(s)||(this.programs[a]=s=function(t,e,i,n,a){var s=t.createProgram();t.attachShader(s,e),t.attachShader(s,i);for(var o=0;o<n.length;++o)t.bindAttribLocation(s,a[o],n[o]);if(t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS)){var l=t.getProgramInfoLog(s);throw new r(l,"Error linking program: "+l)}return s}(this.gl,t.shader,e.shader,i,n),t.programs.push(a),e.programs.push(a)),s}},1493:function(t,e,i){var r=i(3236),n=i(9405),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));\n  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),s=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);t.exports=function(t){return n(t,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(t,e,i){var r=i(2762),n=i(8116),a=i(1493);t.exports=function(t,e){var i=[];function s(t,e,r,n,a,s){var o=[t,e,r,0,0,0,1];o[n+3]=1,o[n]=a,i.push.apply(i,o),o[6]=-1,i.push.apply(i,o),o[n]=s,i.push.apply(i,o),i.push.apply(i,o),o[6]=1,i.push.apply(i,o),o[n]=a,i.push.apply(i,o)}s(0,0,0,0,0,1),s(0,0,0,1,0,1),s(0,0,0,2,0,1),s(1,0,0,1,-1,1),s(1,0,0,2,-1,1),s(0,1,0,0,-1,1),s(0,1,0,2,-1,1),s(0,0,1,0,-1,1),s(0,0,1,1,-1,1);var l=r(t,i),c=n(t,[{type:t.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:l,size:1,offset:24,stride:28}]),g=a(t);g.attributes.position.location=0,g.attributes.color.location=1,g.attributes.weight.location=2;var d=new o(t,l,c,g);return d.update(e),d};var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(t,e,i,r){this.gl=t,this.buffer=e,this.vao=i,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=o.prototype,c=[0,0,0],g=[0,0,0],d=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(t){},l.draw=function(t){var e=this.gl,i=this.vao,r=this.shader;i.bind(),r.bind();var n,a=t.model||s,o=t.view||s,l=t.projection||s;this.axes&&(n=this.axes.lastCubeProps.axis);for(var u=c,B=g,F=0;F<3;++F)n&&n[F]<0?(u[F]=this.bounds[0][F],B[F]=this.bounds[1][F]):(u[F]=this.bounds[1][F],B[F]=this.bounds[0][F]);d[0]=e.drawingBufferWidth,d[1]=e.drawingBufferHeight,r.uniforms.model=a,r.uniforms.view=o,r.uniforms.projection=l,r.uniforms.coordinates=[this.position,u,B],r.uniforms.colors=this.colors,r.uniforms.screenShape=d;for(F=0;F<3;++F)r.uniforms.lineWidth=this.lineWidth[F]*this.pixelRatio,this.enabled[F]&&(i.draw(e.TRIANGLES,6,6*F),this.drawSides[F]&&i.draw(e.TRIANGLES,12,18+12*F));i.unbind()},l.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6740:function(t,e,i){var r=i(3236),n=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),s=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * (view * tubePosition);\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);e.meshShader={vertex:n,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},e.pickShader={vertex:s,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(t,e,i){var r=i(2931),n=i(9970),a=["xyz","xzy","yxz","yzx","zxy","zyx"],s=function(t,e,i,a){for(var s=0,o=0;o<t.length;o++)for(var l=t[o].velocities,c=0;c<l.length;c++)s=Math.max(s,r.length(l[c]));var g=t.map(function(t){return function(t,e,i,a){for(var s=t.points,o=t.velocities,l=t.divergences,c=[],g=[],d=[],u=[],B=[],F=[],h=0,Q=0,U=n.create(),I=n.create(),b=0;b<s.length;b++){var p=s[b],y=o[b],m=l[b];0===e&&(m=.05*i),Q=r.length(y)/a,U=n.create(),r.copy(U,y),U[3]=m;for(var C=0;C<8;C++)B[C]=[p[0],p[1],p[2],C];if(u.length>0)for(C=0;C<8;C++){var f=(C+1)%8;c.push(u[C],B[C],B[f],B[f],u[f],u[C]),d.push(I,U,U,U,I,I),F.push(h,Q,Q,Q,h,h);var x=c.length;g.push([x-6,x-5,x-4],[x-3,x-2,x-1])}var A=u;u=B,B=A;var v=I;I=U,U=v;var L=h;h=Q,Q=L}return{positions:c,cells:g,vectors:d,vertexIntensity:F}}(t,i,a,s)}),d=[],u=[],B=[],F=[];for(o=0;o<g.length;o++){var h=g[o],Q=d.length;d=d.concat(h.positions),B=B.concat(h.vectors),F=F.concat(h.vertexIntensity);for(c=0;c<h.cells.length;c++){var U=h.cells[c],I=[];u.push(I);for(var b=0;b<U.length;b++)I.push(U[b]+Q)}}return{positions:d,cells:u,vectors:B,vertexIntensity:F,colormap:e}},o=function(t,e){var i,r=t.length;for(i=0;i<r;i++){var n=t[i];if(n===e)return i;if(n>e)return i-1}return i},l=function(t,e,i){return t<e?e:t>i?i:t},c=function(t){var e=1/0;t.sort(function(t,e){return t-e});for(var i=t.length,r=1;r<i;r++){var n=Math.abs(t[r]-t[r-1]);n<e&&(e=n)}return e};t.exports=function(t,e){var i=t.startingPositions,n=t.maxLength||1e3,g=t.tubeSize||1,d=t.absoluteTubeSize,u=t.gridFill||"+x+y+z",B={};-1!==u.indexOf("-x")&&(B.reversedX=!0),-1!==u.indexOf("-y")&&(B.reversedY=!0),-1!==u.indexOf("-z")&&(B.reversedZ=!0),B.filled=a.indexOf(u.replace(/-/g,"").replace(/\+/g,""));var F=t.getVelocity||function(e){return function(t,e,i){var n=e.vectors,a=e.meshgrid,s=t[0],c=t[1],g=t[2],d=a[0].length,u=a[1].length,B=a[2].length,F=o(a[0],s),h=o(a[1],c),Q=o(a[2],g),U=F+1,I=h+1,b=Q+1;if(F=l(F,0,d-1),U=l(U,0,d-1),h=l(h,0,u-1),I=l(I,0,u-1),Q=l(Q,0,B-1),b=l(b,0,B-1),F<0||h<0||Q<0||U>d-1||I>u-1||b>B-1)return r.create();var p,y,m,C,f,x,A=a[0][F],v=a[0][U],L=a[1][h],R=a[1][I],S=a[2][Q],G=(s-A)/(v-A),E=(c-L)/(R-L),V=(g-S)/(a[2][b]-S);switch(isFinite(G)||(G=.5),isFinite(E)||(E=.5),isFinite(V)||(V=.5),i.reversedX&&(F=d-1-F,U=d-1-U),i.reversedY&&(h=u-1-h,I=u-1-I),i.reversedZ&&(Q=B-1-Q,b=B-1-b),i.filled){case 5:f=Q,x=b,m=h*B,C=I*B,p=F*B*u,y=U*B*u;break;case 4:f=Q,x=b,p=F*B,y=U*B,m=h*B*d,C=I*B*d;break;case 3:m=h,C=I,f=Q*u,x=b*u,p=F*u*B,y=U*u*B;break;case 2:m=h,C=I,p=F*u,y=U*u,f=Q*u*d,x=b*u*d;break;case 1:p=F,y=U,f=Q*d,x=b*d,m=h*d*B,C=I*d*B;break;default:p=F,y=U,m=h*d,C=I*d,f=Q*d*u,x=b*d*u}var Z=n[p+m+f],N=n[p+m+x],D=n[p+C+f],w=n[p+C+x],X=n[y+m+f],W=n[y+m+x],H=n[y+C+f],T=n[y+C+x],M=r.create(),k=r.create(),Y=r.create(),J=r.create();r.lerp(M,Z,X,G),r.lerp(k,N,W,G),r.lerp(Y,D,H,G),r.lerp(J,w,T,G);var $=r.create(),z=r.create();r.lerp($,M,Y,E),r.lerp(z,k,J,E);var O=r.create();return r.lerp(O,$,z,V),O}(e,t,B)},h=t.getDivergence||function(t,e){var i=r.create(),n=1e-4;r.add(i,t,[n,0,0]);var a=F(i);r.subtract(a,a,e),r.scale(a,a,1/n),r.add(i,t,[0,n,0]);var s=F(i);r.subtract(s,s,e),r.scale(s,s,1/n),r.add(i,t,[0,0,n]);var o=F(i);return r.subtract(o,o,e),r.scale(o,o,1/n),r.add(i,a,s),r.add(i,i,o),i},Q=[],U=e[0][0],I=e[0][1],b=e[0][2],p=e[1][0],y=e[1][1],m=e[1][2],C=function(t){var e=t[0],i=t[1],r=t[2];return!(e<U||e>p||i<I||i>y||r<b||r>m)},f=10*r.distance(e[0],e[1])/n,x=f*f,A=1,v=0,L=i.length;L>1&&(A=function(t){for(var e=[],i=[],r=[],n={},a={},s={},o=t.length,l=0;l<o;l++){var g=t[l],d=g[0],u=g[1],B=g[2];n[d]||(e.push(d),n[d]=!0),a[u]||(i.push(u),a[u]=!0),s[B]||(r.push(B),s[B]=!0)}var F=c(e),h=c(i),Q=c(r),U=Math.min(F,h,Q);return isFinite(U)?U:1}(i));for(var R=0;R<L;R++){var S=r.create();r.copy(S,i[R]);var G=[S],E=[],V=F(S),Z=S;E.push(V);var N=[],D=h(S,V),w=r.length(D);isFinite(w)&&w>v&&(v=w),N.push(w),Q.push({points:G,velocities:E,divergences:N});for(var X=0;X<100*n&&G.length<n&&C(S);){X++;var W=r.clone(V),H=r.squaredLength(W);if(0===H)break;if(H>x&&r.scale(W,W,f/Math.sqrt(H)),r.add(W,W,S),V=F(W),r.squaredDistance(Z,W)-x>-1e-4*x){G.push(W),Z=W,E.push(V);D=h(W,V),w=r.length(D);isFinite(w)&&w>v&&(v=w),N.push(w)}S=W}}var T=s(Q,t.colormap,v,A);return d?T.tubeScale=d:(0===v&&(v=1),T.tubeScale=.5*g*A/v),T};var g=i(6740),d=i(6405).createMesh;t.exports.createTubeMesh=function(t,e){return d(t,e,{shaders:g,traceType:"streamtube"})}},990:function(t,e,i){var r=i(9405),n=i(3236),a=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));\n  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);\n  vec4 clipPosition = projection * (view * worldPosition);\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),s=n(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color â in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));\n  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);\n\n  vec4 clipPosition = projection * (view * worldPosition);\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);e.createShader=function(t){var e=r(t,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createPickShader=function(t){var e=r(t,a,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createContourShader=function(t){var e=r(t,o,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},e.createPickContourShader=function(t){var e=r(t,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},9499:function(t,e,i){t.exports=function(t){var e=t.gl,i=I(e),r=p(e),o=b(e),l=y(e),c=n(e),g=a(e,[{buffer:c,size:4,stride:m,offset:0},{buffer:c,size:3,stride:m,offset:16},{buffer:c,size:3,stride:m,offset:28}]),d=n(e),u=a(e,[{buffer:d,size:4,stride:20,offset:0},{buffer:d,size:1,stride:20,offset:16}]),B=n(e),F=a(e,[{buffer:B,size:2,type:e.FLOAT}]),h=s(e,1,v,e.RGBA,e.UNSIGNED_BYTE);h.minFilter=e.LINEAR,h.magFilter=e.LINEAR;var Q=new L(e,[0,0],[[0,0,0],[0,0,0]],i,r,c,g,h,o,l,d,u,B,F,[0,0,0]),U={levels:[[],[],[]]};for(var C in t)U[C]=t[C];return U.colormap=U.colormap||"jet",Q.update(U),Q};var r=i(8828),n=i(2762),a=i(8116),s=i(7766),o=i(1888),l=i(6729),c=i(5298),g=i(9994),d=i(9618),u=i(3711),B=i(6760),F=i(7608),h=i(2478),Q=i(6199),U=i(990),I=U.createShader,b=U.createContourShader,p=U.createPickShader,y=U.createPickContourShader,m=40,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],f=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],x=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function A(t,e,i,r,n){this.position=t,this.index=e,this.uv=i,this.level=r,this.dataCoordinate=n}!function(){for(var t=0;t<3;++t){var e=x[t],i=(t+2)%3;e[(t+1)%3+0]=1,e[i+3]=1,e[t+6]=1}}();var v=256;function L(t,e,i,r,n,a,s,l,c,g,u,B,F,h,Q){this.gl=t,this.shape=e,this.bounds=i,this.objectOffset=Q,this.intensityBounds=[],this._shader=r,this._pickShader=n,this._coordinateBuffer=a,this._vao=s,this._colorMap=l,this._contourShader=c,this._contourPickShader=g,this._contourBuffer=u,this._contourVAO=B,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new A([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=F,this._dynamicVAO=h,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[d(o.mallocFloat(1024),[0,0]),d(o.mallocFloat(1024),[0,0]),d(o.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var R=L.prototype;R.genColormap=function(t,e){var i=!1,r=g([l({colormap:t,nshades:v,format:"rgba"}).map(function(t,r){var n=e?function(t,e){if(!e)return 1;if(!e.length)return 1;for(var i=0;i<e.length;++i){if(e.length<2)return 1;if(e[i][0]===t)return e[i][1];if(e[i][0]>t&&i>0){var r=(e[i][0]-t)/(e[i][0]-e[i-1][0]);return e[i][1]*(1-r)+r*e[i-1][1]}}return 1}(r/255,e):t[3];return n<1&&(i=!0),[t[0],t[1],t[2],255*n]})]);return c.divseq(r,255),this.hasAlphaScale=i,r},R.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},R.isOpaque=function(){return!this.isTransparent()},R.pickSlots=1,R.setPickBase=function(t){this.pickId=t};var S=[0,0,0],G={showSurface:!1,showContour:!1,projections:[C.slice(),C.slice(),C.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function E(t,e){var i,r,n,a=e.axes&&e.axes.lastCubeProps.axis||S,s=e.showSurface,o=e.showContour;for(i=0;i<3;++i)for(s=s||e.surfaceProject[i],r=0;r<3;++r)o=o||e.contourProject[i][r];for(i=0;i<3;++i){var l=G.projections[i];for(r=0;r<16;++r)l[r]=0;for(r=0;r<4;++r)l[5*r]=1;l[5*i]=0,l[12+i]=e.axesBounds[+(a[i]>0)][i],B(l,t.model,l);var c=G.clipBounds[i];for(n=0;n<2;++n)for(r=0;r<3;++r)c[n][r]=t.clipBounds[n][r];c[0][i]=-1e8,c[1][i]=1e8}return G.showSurface=s,G.showContour=o,G}var V={model:C,view:C,projection:C,inverseModel:C.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Z=C.slice(),N=[1,0,0,0,1,0,0,0,1];function D(t,e){t=t||{};var i=this.gl;i.disable(i.CULL_FACE),this._colorMap.bind(0);var r=V;r.model=t.model||C,r.view=t.view||C,r.projection=t.projection||C,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.objectOffset=this.objectOffset,r.contourColor=this.contourColor[0],r.inverseModel=F(r.inverseModel,r.model);for(var n=0;n<2;++n)for(var a=r.clipBounds[n],s=0;s<3;++s)a[s]=Math.min(Math.max(this.clipBounds[n][s],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=N,r.vertexColor=this.vertexColor;var o=Z;for(B(o,r.view,r.model),B(o,r.projection,o),F(o,o),n=0;n<3;++n)r.eyePosition[n]=o[12+n]/o[15];var l=o[15];for(n=0;n<3;++n)l+=this.lightPosition[n]*o[4*n+3];for(n=0;n<3;++n){var c=o[12+n];for(s=0;s<3;++s)c+=o[4*s+n]*this.lightPosition[s];r.lightPosition[n]=c/l}var g=E(r,this);if(g.showSurface){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(i.TRIANGLES,this._vertexCount),n=0;n<3;++n)this.surfaceProject[n]&&this.vertexCount&&(this._shader.uniforms.model=g.projections[n],this._shader.uniforms.clipBounds=g.clipBounds[n],this._vao.draw(i.TRIANGLES,this._vertexCount));this._vao.unbind()}if(g.showContour){var d=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,d.bind(),d.uniforms=r;var u=this._contourVAO;for(u.bind(),n=0;n<3;++n)for(d.uniforms.permutation=x[n],i.lineWidth(this.contourWidth[n]*this.pixelRatio),s=0;s<this.contourLevels[n].length;++s)s===this.highlightLevel[n]?(d.uniforms.contourColor=this.highlightColor[n],d.uniforms.contourTint=this.highlightTint[n]):0!==s&&s-1!==this.highlightLevel[n]||(d.uniforms.contourColor=this.contourColor[n],d.uniforms.contourTint=this.contourTint[n]),this._contourCounts[n][s]&&(d.uniforms.height=this.contourLevels[n][s],u.draw(i.LINES,this._contourCounts[n][s],this._contourOffsets[n][s]));for(n=0;n<3;++n)for(d.uniforms.model=g.projections[n],d.uniforms.clipBounds=g.clipBounds[n],s=0;s<3;++s)if(this.contourProject[n][s]){d.uniforms.permutation=x[s],i.lineWidth(this.contourWidth[s]*this.pixelRatio);for(var h=0;h<this.contourLevels[s].length;++h)h===this.highlightLevel[s]?(d.uniforms.contourColor=this.highlightColor[s],d.uniforms.contourTint=this.highlightTint[s]):0!==h&&h-1!==this.highlightLevel[s]||(d.uniforms.contourColor=this.contourColor[s],d.uniforms.contourTint=this.contourTint[s]),this._contourCounts[s][h]&&(d.uniforms.height=this.contourLevels[s][h],u.draw(i.LINES,this._contourCounts[s][h],this._contourOffsets[s][h]))}for(u.unbind(),(u=this._dynamicVAO).bind(),n=0;n<3;++n)if(0!==this._dynamicCounts[n])for(d.uniforms.model=r.model,d.uniforms.clipBounds=r.clipBounds,d.uniforms.permutation=x[n],i.lineWidth(this.dynamicWidth[n]*this.pixelRatio),d.uniforms.contourColor=this.dynamicColor[n],d.uniforms.contourTint=this.dynamicTint[n],d.uniforms.height=this.dynamicLevel[n],u.draw(i.LINES,this._dynamicCounts[n],this._dynamicOffsets[n]),s=0;s<3;++s)this.contourProject[s][n]&&(d.uniforms.model=g.projections[s],d.uniforms.clipBounds=g.clipBounds[s],u.draw(i.LINES,this._dynamicCounts[n],this._dynamicOffsets[n]));u.unbind()}}R.draw=function(t){return D.call(this,t,!1)},R.drawTransparent=function(t){return D.call(this,t,!0)};var w={model:C,view:C,projection:C,inverseModel:C,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function X(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function W(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function H(t){if(Array.isArray(t)){if(Array.isArray(t))return[W(t[0]),W(t[1]),W(t[2])];var e=W(t);return[e.slice(),e.slice(),e.slice()]}}R.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var i=w;i.model=t.model||C,i.view=t.view||C,i.projection=t.projection||C,i.shape=this._field[2].shape,i.pickId=this.pickId/255,i.lowerBound=this.bounds[0],i.upperBound=this.bounds[1],i.objectOffset=this.objectOffset,i.permutation=N;for(var r=0;r<2;++r)for(var n=i.clipBounds[r],a=0;a<3;++a)n[a]=Math.min(Math.max(this.clipBounds[r][a],-1e8),1e8);var s=E(i,this);if(s.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=i,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=s.projections[r],this._pickShader.uniforms.clipBounds=s.clipBounds[r],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(s.showContour){var o=this._contourPickShader;o.bind(),o.uniforms=i;var l=this._contourVAO;for(l.bind(),a=0;a<3;++a)for(e.lineWidth(this.contourWidth[a]*this.pixelRatio),o.uniforms.permutation=x[a],r=0;r<this.contourLevels[a].length;++r)this._contourCounts[a][r]&&(o.uniforms.height=this.contourLevels[a][r],l.draw(e.LINES,this._contourCounts[a][r],this._contourOffsets[a][r]));for(r=0;r<3;++r)for(o.uniforms.model=s.projections[r],o.uniforms.clipBounds=s.clipBounds[r],a=0;a<3;++a)if(this.contourProject[r][a]){o.uniforms.permutation=x[a],e.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var c=0;c<this.contourLevels[a].length;++c)this._contourCounts[a][c]&&(o.uniforms.height=this.contourLevels[a][c],l.draw(e.LINES,this._contourCounts[a][c],this._contourOffsets[a][c]))}l.unbind()}},R.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,i=this._pickResult,r=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,n=Math.floor(r),a=r-n,s=e[1]*(t.value[1]+(15&t.value[2])/16)/255,o=Math.floor(s),l=s-o;n+=1,o+=1;var c=i.position;c[0]=c[1]=c[2]=0;for(var g=0;g<2;++g)for(var d=g?a:1-a,u=0;u<2;++u)for(var B=n+g,F=o+u,Q=d*(u?l:1-l),U=0;U<3;++U)c[U]+=this._field[U].get(B,F)*Q;for(var I=this._pickResult.level,b=0;b<3;++b)if(I[b]=h.le(this.contourLevels[b],c[b]),I[b]<0)this.contourLevels[b].length>0&&(I[b]=0);else if(I[b]<this.contourLevels[b].length-1){var p=this.contourLevels[b][I[b]],y=this.contourLevels[b][I[b]+1];Math.abs(p-c[b])>Math.abs(y-c[b])&&(I[b]+=1)}for(i.index[0]=a<.5?n:n+1,i.index[1]=l<.5?o:o+1,i.uv[0]=r/e[0],i.uv[1]=s/e[1],U=0;U<3;++U)i.dataCoordinate[U]=this._field[U].get(i.index[0],i.index[1]);return i},R.padField=function(t,e){var i=e.shape.slice(),r=t.shape.slice();c.assign(t.lo(1,1).hi(i[0],i[1]),e),c.assign(t.lo(1).hi(i[0],1),e.hi(i[0],1)),c.assign(t.lo(1,r[1]-1).hi(i[0],1),e.lo(0,i[1]-1).hi(i[0],1)),c.assign(t.lo(0,1).hi(1,i[1]),e.hi(1)),c.assign(t.lo(r[0]-1,1).hi(1,i[1]),e.lo(i[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,r[1]-1,e.get(0,i[1]-1)),t.set(r[0]-1,0,e.get(i[0]-1,0)),t.set(r[0]-1,r[1]-1,e.get(i[0]-1,i[1]-1))},R.update=function(t){t=t||{},this.objectOffset=t.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in t&&(this.contourWidth=X(t.contourWidth,Number)),"showContour"in t&&(this.showContour=X(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=X(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=H(t.contourColor)),"contourProject"in t&&(this.contourProject=X(t.contourProject,function(t){return X(t,Boolean)})),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=H(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=X(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=X(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"opacityscale"in t&&(this.opacityscale=t.opacityscale),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0),"colormap"in t&&this._colorMap.setPixels(this.genColormap(t.colormap,this.opacityscale));var e=t.field||t.coords&&t.coords[2]||null,i=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var n=(e.shape[0]+2)*(e.shape[1]+2);n>this._field[2].data.length&&(o.freeFloat(this._field[2].data),this._field[2].data=o.mallocFloat(r.nextPow2(n))),this._field[2]=d(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),this.padField(this._field[2],e),this.shape=e.shape.slice();for(var a=this.shape,s=0;s<2;++s)this._field[2].size>this._field[s].data.length&&(o.freeFloat(this._field[s].data),this._field[s].data=o.mallocFloat(this._field[2].size)),this._field[s]=d(this._field[s].data,[a[0]+2,a[1]+2]);if(t.coords){var l=t.coords;if(!Array.isArray(l)||3!==l.length)throw new Error("gl-surface: invalid coordinates for x/y");for(s=0;s<2;++s){var c=l[s];for(U=0;U<2;++U)if(c.shape[U]!==a[U])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[s],c)}}else if(t.ticks){var g=t.ticks;if(!Array.isArray(g)||2!==g.length)throw new Error("gl-surface: invalid ticks");for(s=0;s<2;++s){var B=g[s];if((Array.isArray(B)||B.length)&&(B=d(B)),B.shape[0]!==a[s])throw new Error("gl-surface: invalid tick length");var F=d(B.data,a);F.stride[s]=B.stride[0],F.stride[1^s]=0,this.padField(this._field[s],F)}}else{for(s=0;s<2;++s){var h=[0,0];h[s]=1,this._field[s]=d(this._field[s].data,[a[0]+2,a[1]+2],h,0)}this._field[0].set(0,0,0);for(var U=0;U<a[0];++U)this._field[0].set(U+1,0,U);for(this._field[0].set(a[0]+1,0,a[0]-1),this._field[1].set(0,0,0),U=0;U<a[1];++U)this._field[1].set(0,U+1,U);this._field[1].set(0,a[1]+1,a[1]-1)}var I=this._field,b=d(o.mallocFloat(3*I[2].size*2),[3,a[0]+2,a[1]+2,2]);for(s=0;s<3;++s)Q(b.pick(s),I[s],"mirror");var p=d(o.mallocFloat(3*I[2].size),[a[0]+2,a[1]+2,3]);for(s=0;s<a[0]+2;++s)for(U=0;U<a[1]+2;++U){var y=b.get(0,s,U,0),m=b.get(0,s,U,1),C=b.get(1,s,U,0),x=b.get(1,s,U,1),A=b.get(2,s,U,0),v=b.get(2,s,U,1),L=C*v-x*A,R=A*m-v*y,S=y*x-m*C,G=Math.sqrt(L*L+R*R+S*S);G<1e-8?(G=Math.max(Math.abs(L),Math.abs(R),Math.abs(S)))<1e-8?(S=1,R=L=0,G=1):G=1/G:G=1/Math.sqrt(G),p.set(s,U,0,L*G),p.set(s,U,1,R*G),p.set(s,U,2,S*G)}o.free(b.data);var E=[1/0,1/0,1/0],V=[-1/0,-1/0,-1/0],Z=1/0,N=-1/0,D=(a[0]-1)*(a[1]-1)*6,w=o.mallocFloat(r.nextPow2(10*D)),W=0,T=0;for(s=0;s<a[0]-1;++s)t:for(U=0;U<a[1]-1;++U){for(var M=0;M<2;++M)for(var k=0;k<2;++k)for(var Y=0;Y<3;++Y){var J=this._field[Y].get(1+s+M,1+U+k);if(isNaN(J)||!isFinite(J))continue t}for(Y=0;Y<6;++Y){var $=s+f[Y][0],z=U+f[Y][1],O=this._field[0].get($+1,z+1),K=this._field[1].get($+1,z+1);J=this._field[2].get($+1,z+1),L=p.get($+1,z+1,0),R=p.get($+1,z+1,1),S=p.get($+1,z+1,2),t.intensity&&(_=t.intensity.get($,z));var _=t.intensity?t.intensity.get($,z):J+this.objectOffset[2];w[W++]=$,w[W++]=z,w[W++]=O,w[W++]=K,w[W++]=J,w[W++]=0,w[W++]=_,w[W++]=L,w[W++]=R,w[W++]=S,E[0]=Math.min(E[0],O+this.objectOffset[0]),E[1]=Math.min(E[1],K+this.objectOffset[1]),E[2]=Math.min(E[2],J+this.objectOffset[2]),Z=Math.min(Z,_),V[0]=Math.max(V[0],O+this.objectOffset[0]),V[1]=Math.max(V[1],K+this.objectOffset[1]),V[2]=Math.max(V[2],J+this.objectOffset[2]),N=Math.max(N,_),T+=1}}for(t.intensityBounds&&(Z=+t.intensityBounds[0],N=+t.intensityBounds[1]),s=6;s<W;s+=10)w[s]=(w[s]-Z)/(N-Z);this._vertexCount=T,this._coordinateBuffer.update(w.subarray(0,W)),o.freeFloat(w),o.free(p.data),this.bounds=[E,V],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===Z&&this.intensityBounds[1]===N||(i=!0),this.intensityBounds=[Z,N]}if("levels"in t){var P=t.levels;for(P=Array.isArray(P[0])?P.slice():[[],[],P],s=0;s<3;++s)P[s]=P[s].slice(),P[s].sort(function(t,e){return t-e});for(s=0;s<3;++s)for(U=0;U<P[s].length;++U)P[s][U]-=this.objectOffset[s];t:for(s=0;s<3;++s){if(P[s].length!==this.contourLevels[s].length){i=!0;break}for(U=0;U<P[s].length;++U)if(P[s][U]!==this.contourLevels[s][U]){i=!0;break t}}this.contourLevels=P}if(i){I=this._field,a=this.shape;for(var j=[],q=0;q<3;++q){var tt=this.contourLevels[q],et=[],it=[],rt=[0,0,0];for(s=0;s<tt.length;++s){var nt=u(this._field[q],tt[s]);et.push(j.length/5|0),T=0;t:for(U=0;U<nt.cells.length;++U){var at=nt.cells[U];for(Y=0;Y<2;++Y){var st=nt.positions[at[Y]],ot=st[0],lt=0|Math.floor(ot),ct=ot-lt,gt=st[1],dt=0|Math.floor(gt),ut=gt-dt,Bt=!1;e:for(var Ft=0;Ft<3;++Ft){rt[Ft]=0;var ht=(q+Ft+1)%3;for(M=0;M<2;++M){var Qt=M?ct:1-ct;for($=0|Math.min(Math.max(lt+M,0),a[0]),k=0;k<2;++k){var Ut=k?ut:1-ut;if(z=0|Math.min(Math.max(dt+k,0),a[1]),J=Ft<2?this._field[ht].get($,z):(this.intensity.get($,z)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(J)||isNaN(J)){Bt=!0;break e}var It=Qt*Ut;rt[Ft]+=It*J}}}if(Bt){if(Y>0){for(var bt=0;bt<5;++bt)j.pop();T-=1}continue t}j.push(rt[0],rt[1],st[0],st[1],rt[2]),T+=1}}it.push(T)}this._contourOffsets[q]=et,this._contourCounts[q]=it}var pt=o.mallocFloat(j.length);for(s=0;s<j.length;++s)pt[s]=j[s];this._contourBuffer.update(pt),o.freeFloat(pt)}},R.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t<3;++t)o.freeFloat(this._field[t].data)},R.highlight=function(t){var e,i;if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(e=0;e<3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;for(i=this.snapToData?t.dataCoordinate:t.position,e=0;e<3;++e)i[e]-=this.objectOffset[e];if(this.enableDynamic[0]&&i[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&i[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&i[2]!==this.dynamicLevel[2]){for(var r=0,n=this.shape,a=o.mallocFloat(12*n[0]*n[1]),s=0;s<3;++s)if(this.enableDynamic[s]){this.dynamicLevel[s]=i[s];var l=(s+1)%3,c=(s+2)%3,g=this._field[s],d=this._field[l],B=this._field[c],F=u(g,i[s]),h=F.cells,Q=F.positions;for(this._dynamicOffsets[s]=r,e=0;e<h.length;++e)for(var U=h[e],I=0;I<2;++I){var b=Q[U[I]],p=+b[0],y=0|p,m=0|Math.min(y+1,n[0]),C=p-y,f=1-C,x=+b[1],A=0|x,v=0|Math.min(A+1,n[1]),L=x-A,R=1-L,S=f*R,G=f*L,E=C*R,V=C*L,Z=S*d.get(y,A)+G*d.get(y,v)+E*d.get(m,A)+V*d.get(m,v),N=S*B.get(y,A)+G*B.get(y,v)+E*B.get(m,A)+V*B.get(m,v);if(isNaN(Z)||isNaN(N)){I&&(r-=1);break}a[2*r+0]=Z,a[2*r+1]=N,r+=1}this._dynamicCounts[s]=r-this._dynamicOffsets[s]}else this.dynamicLevel[s]=NaN,this._dynamicCounts[s]=0;this._dynamicBuffer.update(a.subarray(0,2*r)),o.freeFloat(a)}}},7766:function(t,e,i){var r=i(9618),n=i(5298),a=i(1888);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");s||function(t){s=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],o=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],l=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}(t);if("number"==typeof arguments[1])return Q(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return Q(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],i=c(e)?e:e.raw;if(i)return function(t,e,i,r,n,a){var s=h(t);return t.texImage2D(t.TEXTURE_2D,0,n,n,a,e),new u(t,s,i,r,n,a)}(t,i,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return function(t,e){var i=e.dtype,s=e.shape.slice(),o=t.getParameter(t.MAX_TEXTURE_SIZE);if(s[0]<0||s[0]>o||s[1]<0||s[1]>o)throw new Error("gl-texture2d: Invalid texture size");var l=F(s,e.stride.slice()),c=0;"float32"===i?c=t.FLOAT:"float64"===i?(c=t.FLOAT,l=!1,i="float32"):"uint8"===i?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,l=!1,i="uint8");var d,B,Q=0;if(2===s.length)Q=t.LUMINANCE,s=[s[0],s[1],1],e=r(e.data,s,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==s.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===s[2])Q=t.ALPHA;else if(2===s[2])Q=t.LUMINANCE_ALPHA;else if(3===s[2])Q=t.RGB;else{if(4!==s[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");Q=t.RGBA}}c!==t.FLOAT||t.getExtension("OES_texture_float")||(c=t.UNSIGNED_BYTE,l=!1);var U=e.size;if(l)d=0===e.offset&&e.data.length===U?e.data:e.data.subarray(e.offset,e.offset+U);else{var I=[s[2],s[2]*s[0],1];B=a.malloc(U,i);var b=r(B,s,I,0);"float32"!==i&&"float64"!==i||c!==t.UNSIGNED_BYTE?n.assign(b,e):g(b,e),d=B.subarray(0,U)}var p=h(t);t.texImage2D(t.TEXTURE_2D,0,Q,s[0],s[1],0,Q,c,d),l||a.free(B);return new u(t,p,s[0],s[1],Q,c)}(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var s=null,o=null,l=null;function c(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var g=function(t,e){n.muls(t,e,255)};function d(t,e,i){var r=t.gl,n=r.getParameter(r.MAX_TEXTURE_SIZE);if(e<0||e>n||i<0||i>n)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,i],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,e,i,0,t.format,t.type,null),t._mipLevels=[0],t}function u(t,e,i,r,n,a){this.gl=t,this.handle=e,this.format=n,this.type=a,this._shape=[i,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,o=[this._wrapS,this._wrapT];Object.defineProperties(o,[{get:function(){return s._wrapS},set:function(t){return s.wrapS=t}},{get:function(){return s._wrapT},set:function(t){return s.wrapT=t}}]),this._wrapVector=o;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return s._shape[0]},set:function(t){return s.width=t}},{get:function(){return s._shape[1]},set:function(t){return s.height=t}}]),this._shapeVector=l}var B=u.prototype;function F(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function h(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function Q(t,e,i,r,n){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>a||i<0||i>a)throw new Error("gl-texture2d: Invalid texture shape");if(n===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=h(t);return t.texImage2D(t.TEXTURE_2D,0,r,e,i,0,r,n,null),new u(t,s,e,i,r,n)}Object.defineProperties(B,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&s.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),o.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&s.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),o.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var i=this.gl.getExtension("EXT_texture_filter_anisotropic");i&&this.gl.texParameterf(this.gl.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(l.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var i=this.gl;return this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this._wrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return d(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return d(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,d(this,this._shape[0],t),t}}}),B.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},B.dispose=function(){this.gl.deleteTexture(this.handle)},B.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},B.setPixels=function(t,e,i,s){var o=this.gl;this.bind(),Array.isArray(e)?(s=i,i=0|e[1],e=0|e[0]):(e=e||0,i=i||0),s=s||0;var l=c(t)?t:t.raw;if(l){this._mipLevels.indexOf(s)<0?(o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,this.type,l),this._mipLevels.push(s)):o.texSubImage2D(o.TEXTURE_2D,s,e,i,this.format,this.type,l)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>s||i+t.shape[0]>this._shape[0]>>>s||e<0||i<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,i,s,o,l,c,d){var u=d.dtype,B=d.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var h=0,Q=0,U=F(B,d.stride.slice());"float32"===u?h=t.FLOAT:"float64"===u?(h=t.FLOAT,U=!1,u="float32"):"uint8"===u?h=t.UNSIGNED_BYTE:(h=t.UNSIGNED_BYTE,U=!1,u="uint8");if(2===B.length)Q=t.LUMINANCE,B=[B[0],B[1],1],d=r(d.data,B,[d.stride[0],d.stride[1],1],d.offset);else{if(3!==B.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===B[2])Q=t.ALPHA;else if(2===B[2])Q=t.LUMINANCE_ALPHA;else if(3===B[2])Q=t.RGB;else{if(4!==B[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");Q=t.RGBA}B[2]}Q!==t.LUMINANCE&&Q!==t.ALPHA||o!==t.LUMINANCE&&o!==t.ALPHA||(Q=o);if(Q!==o)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var I=d.size,b=c.indexOf(s)<0;b&&c.push(s);if(h===l&&U)0===d.offset&&d.data.length===I?b?t.texImage2D(t.TEXTURE_2D,s,o,B[0],B[1],0,o,l,d.data):t.texSubImage2D(t.TEXTURE_2D,s,e,i,B[0],B[1],o,l,d.data):b?t.texImage2D(t.TEXTURE_2D,s,o,B[0],B[1],0,o,l,d.data.subarray(d.offset,d.offset+I)):t.texSubImage2D(t.TEXTURE_2D,s,e,i,B[0],B[1],o,l,d.data.subarray(d.offset,d.offset+I));else{var p;p=l===t.FLOAT?a.mallocFloat32(I):a.mallocUint8(I);var y=r(p,B,[B[2],B[2]*B[0],1]);h===t.FLOAT&&l===t.UNSIGNED_BYTE?g(y,d):n.assign(y,d),b?t.texImage2D(t.TEXTURE_2D,s,o,B[0],B[1],0,o,l,p.subarray(0,I)):t.texSubImage2D(t.TEXTURE_2D,s,e,i,B[0],B[1],o,l,p.subarray(0,I)),l===t.FLOAT?a.freeFloat32(p):a.freeUint8(p)}}(o,e,i,s,this.format,this.type,this._mipLevels,t)}}},1433:function(t){t.exports=function(t,e,i){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var r=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(i){if(i.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<i.length;++n){var a=i[n];if(a.buffer){var s=a.buffer,o=a.size||4,l=a.type||t.FLOAT,c=!!a.normalized,g=a.stride||0,d=a.offset||0;s.bind(),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,o,l,c,g,d)}else{if("number"==typeof a)t.vertexAttrib1f(n,a);else if(1===a.length)t.vertexAttrib1f(n,a[0]);else if(2===a.length)t.vertexAttrib2f(n,a[0],a[1]);else if(3===a.length)t.vertexAttrib3f(n,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(n,a[0],a[1],a[2],a[3])}t.disableVertexAttribArray(n)}}for(;n<r;++n)t.disableVertexAttribArray(n)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(n=0;n<r;++n)t.disableVertexAttribArray(n)}}},870:function(t,e,i){var r=i(1433);function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}n.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,e,i){this._elements=e,this._attributes=t,this._elementsType=i||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,e,i){i=i||0;var r=this.gl;this._elements?r.drawElements(t,e,this._elementsType,i):r.drawArrays(t,i,e)},t.exports=function(t){return new n(t)}},7518:function(t,e,i){var r=i(1433);function n(t,e,i,r,n,a){this.location=t,this.dimension=e,this.a=i,this.b=r,this.c=n,this.d=a}function a(t,e,i){this.gl=t,this._ext=e,this.handle=i,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(t,e,i){if(this.bind(),r(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var a=0;a<t.length;++a){var s=t[a];"number"==typeof s?this._attribs.push(new n(a,1,s)):Array.isArray(s)&&this._attribs.push(new n(a,s.length,s[0],s[1],s[2],s[3]))}this._useElements=!!e,this._elementsType=i||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(t,e,i){i=i||0;var r=this.gl;this._useElements?r.drawElements(t,e,this._elementsType,i):r.drawArrays(t,i,e)},t.exports=function(t,e){return new a(t,e,e.createVertexArrayOES())}},8116:function(t,e,i){var r=i(7518),n=i(870);function a(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}t.exports=function(t,e,i,s){var o,l=t.createVertexArray?new a(t):t.getExtension("OES_vertex_array_object");return(o=l?r(t,l):n(t)).update(e,i,s),o}},5632:function(t){t.exports=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}},8192:function(t,e,i){t.exports=function(t,e){var i=r(t[0],t[1],t[2]),s=r(e[0],e[1],e[2]);n(i,i),n(s,s);var o=a(i,s);return o>1?0:Math.acos(o)};var r=i(2825),n=i(3536),a=i(244)},9226:function(t){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},3126:function(t){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},3990:function(t){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},1091:function(t){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},5911:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2],s=i[0],o=i[1],l=i[2];return t[0]=n*l-a*o,t[1]=a*s-r*l,t[2]=r*o-n*s,t}},5455:function(t,e,i){t.exports=i(7056)},7056:function(t){t.exports=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}},4008:function(t,e,i){t.exports=i(6690)},6690:function(t){t.exports=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}},244:function(t){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},2613:function(t){t.exports=1e-6},9922:function(t,e,i){t.exports=function(t,e){var i=t[0],n=t[1],a=t[2],s=e[0],o=e[1],l=e[2];return Math.abs(i-s)<=r*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-l)<=r*Math.max(1,Math.abs(a),Math.abs(l))};var r=i(2613)},9265:function(t){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},2681:function(t){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},5137:function(t,e,i){t.exports=function(t,e,i,n,a,s){var o,l;e||(e=3);i||(i=0);l=n?Math.min(n*e+i,t.length):t.length;for(o=i;o<l;o+=e)r[0]=t[o],r[1]=t[o+1],r[2]=t[o+2],a(r,r,s),t[o]=r[0],t[o+1]=r[1],t[o+2]=r[2];return t};var r=i(1091)()},2825:function(t){t.exports=function(t,e,i){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=i,r}},2931:function(t,e,i){t.exports={EPSILON:i(2613),create:i(1091),clone:i(3126),angle:i(8192),fromValues:i(2825),copy:i(3990),set:i(1463),equals:i(9922),exactEquals:i(9265),add:i(5632),subtract:i(6843),sub:i(2229),multiply:i(5847),mul:i(4505),divide:i(6690),div:i(4008),min:i(8107),max:i(7417),floor:i(2681),ceil:i(9226),round:i(2447),scale:i(6621),scaleAndAdd:i(8489),distance:i(7056),dist:i(5455),squaredDistance:i(2953),sqrDist:i(6141),length:i(1387),len:i(868),squaredLength:i(3066),sqrLen:i(5486),negate:i(5093),inverse:i(811),normalize:i(3536),dot:i(244),cross:i(5911),lerp:i(6658),random:i(7636),transformMat4:i(5673),transformMat3:i(492),transformQuat:i(264),rotateX:i(6894),rotateY:i(109),rotateZ:i(8692),forEach:i(5137)}},811:function(t){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},868:function(t,e,i){t.exports=i(1387)},1387:function(t){t.exports=function(t){var e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)}},6658:function(t){t.exports=function(t,e,i,r){var n=e[0],a=e[1],s=e[2];return t[0]=n+r*(i[0]-n),t[1]=a+r*(i[1]-a),t[2]=s+r*(i[2]-s),t}},7417:function(t){t.exports=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}},8107:function(t){t.exports=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}},4505:function(t,e,i){t.exports=i(5847)},5847:function(t){t.exports=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}},5093:function(t){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},3536:function(t){t.exports=function(t,e){var i=e[0],r=e[1],n=e[2],a=i*i+r*r+n*n;a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a);return t}},7636:function(t){t.exports=function(t,e){e=e||1;var i=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(i)*n,t[1]=Math.sin(i)*n,t[2]=r*e,t}},6894:function(t){t.exports=function(t,e,i,r){var n=i[1],a=i[2],s=e[1]-n,o=e[2]-a,l=Math.sin(r),c=Math.cos(r);return t[0]=e[0],t[1]=n+s*c-o*l,t[2]=a+s*l+o*c,t}},109:function(t){t.exports=function(t,e,i,r){var n=i[0],a=i[2],s=e[0]-n,o=e[2]-a,l=Math.sin(r),c=Math.cos(r);return t[0]=n+o*l+s*c,t[1]=e[1],t[2]=a+o*c-s*l,t}},8692:function(t){t.exports=function(t,e,i,r){var n=i[0],a=i[1],s=e[0]-n,o=e[1]-a,l=Math.sin(r),c=Math.cos(r);return t[0]=n+s*c-o*l,t[1]=a+s*l+o*c,t[2]=e[2],t}},2447:function(t){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},6621:function(t){t.exports=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}},8489:function(t){t.exports=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t}},1463:function(t){t.exports=function(t,e,i,r){return t[0]=e,t[1]=i,t[2]=r,t}},6141:function(t,e,i){t.exports=i(2953)},5486:function(t,e,i){t.exports=i(3066)},2953:function(t){t.exports=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return i*i+r*r+n*n}},3066:function(t){t.exports=function(t){var e=t[0],i=t[1],r=t[2];return e*e+i*i+r*r}},2229:function(t,e,i){t.exports=i(6843)},6843:function(t){t.exports=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}},492:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2];return t[0]=r*i[0]+n*i[3]+a*i[6],t[1]=r*i[1]+n*i[4]+a*i[7],t[2]=r*i[2]+n*i[5]+a*i[8],t}},5673:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2],s=i[3]*r+i[7]*n+i[11]*a+i[15];return s=s||1,t[0]=(i[0]*r+i[4]*n+i[8]*a+i[12])/s,t[1]=(i[1]*r+i[5]*n+i[9]*a+i[13])/s,t[2]=(i[2]*r+i[6]*n+i[10]*a+i[14])/s,t}},264:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2],s=i[0],o=i[1],l=i[2],c=i[3],g=c*r+o*a-l*n,d=c*n+l*r-s*a,u=c*a+s*n-o*r,B=-s*r-o*n-l*a;return t[0]=g*c+B*-s+d*-l-u*-o,t[1]=d*c+B*-o+u*-s-g*-l,t[2]=u*c+B*-l+g*-o-d*-s,t}},4361:function(t){t.exports=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}},2335:function(t){t.exports=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},2933:function(t){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},7536:function(t){t.exports=function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},4691:function(t){t.exports=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(i*i+r*r+n*n+a*a)}},1373:function(t){t.exports=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}},3750:function(t){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},3390:function(t){t.exports=function(t,e,i,r){var n=new Float32Array(4);return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}},9970:function(t,e,i){t.exports={create:i(7536),clone:i(2335),fromValues:i(3390),copy:i(2933),set:i(4578),add:i(4361),subtract:i(6860),multiply:i(3576),divide:i(1373),min:i(2334),max:i(160),scale:i(9288),scaleAndAdd:i(4844),distance:i(4691),squaredDistance:i(7960),length:i(6808),squaredLength:i(483),negate:i(1498),inverse:i(4494),normalize:i(5177),dot:i(3750),lerp:i(2573),random:i(9131),transformMat4:i(5352),transformQuat:i(4041)}},4494:function(t){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}},6808:function(t){t.exports=function(t){var e=t[0],i=t[1],r=t[2],n=t[3];return Math.sqrt(e*e+i*i+r*r+n*n)}},2573:function(t){t.exports=function(t,e,i,r){var n=e[0],a=e[1],s=e[2],o=e[3];return t[0]=n+r*(i[0]-n),t[1]=a+r*(i[1]-a),t[2]=s+r*(i[2]-s),t[3]=o+r*(i[3]-o),t}},160:function(t){t.exports=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}},2334:function(t){t.exports=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t}},3576:function(t){t.exports=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}},1498:function(t){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}},5177:function(t){t.exports=function(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=i*i+r*r+n*n+a*a;s>0&&(s=1/Math.sqrt(s),t[0]=i*s,t[1]=r*s,t[2]=n*s,t[3]=a*s);return t}},9131:function(t,e,i){var r=i(5177),n=i(9288);t.exports=function(t,e){return e=e||1,t[0]=Math.random(),t[1]=Math.random(),t[2]=Math.random(),t[3]=Math.random(),r(t,t),n(t,t,e),t}},9288:function(t){t.exports=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}},4844:function(t){t.exports=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t}},4578:function(t){t.exports=function(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}},7960:function(t){t.exports=function(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],a=e[3]-t[3];return i*i+r*r+n*n+a*a}},483:function(t){t.exports=function(t){var e=t[0],i=t[1],r=t[2],n=t[3];return e*e+i*i+r*r+n*n}},6860:function(t){t.exports=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}},5352:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2],s=e[3];return t[0]=i[0]*r+i[4]*n+i[8]*a+i[12]*s,t[1]=i[1]*r+i[5]*n+i[9]*a+i[13]*s,t[2]=i[2]*r+i[6]*n+i[10]*a+i[14]*s,t[3]=i[3]*r+i[7]*n+i[11]*a+i[15]*s,t}},4041:function(t){t.exports=function(t,e,i){var r=e[0],n=e[1],a=e[2],s=i[0],o=i[1],l=i[2],c=i[3],g=c*r+o*a-l*n,d=c*n+l*r-s*a,u=c*a+s*n-o*r,B=-s*r-o*n-l*a;return t[0]=g*c+B*-s+d*-l-u*-o,t[1]=d*c+B*-o+u*-s-g*-l,t[2]=u*c+B*-l+g*-o-d*-s,t[3]=e[3],t}},1848:function(t,e,i){var r=i(4905),n=i(6468);t.exports=function(t){for(var e=Array.isArray(t)?t:r(t),i=0;i<e.length;i++){var a=e[i];if("preprocessor"===a.type){var s=a.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(s&&s[2]){var o=s[1],l=s[2];return(o?n(l):l).trim()}}}}},5874:function(t,e,i){t.exports=function(t){var e,i,C,f=0,x=0,A=l,v=[],L=[],R=1,S=0,G=0,E=!1,V=!1,Z="",N=a,D=r;"300 es"===(t=t||{}).version&&(N=o,D=s);var w={},X={};for(f=0;f<N.length;f++)w[N[f]]=!0;for(f=0;f<D.length;f++)X[D[f]]=!0;return function(t){return L=[],null!==t?function(t){f=0,t.toString&&(t=t.toString());var i;Z+=t.replace(/\r\n/g,"\n"),C=Z.length;for(;e=Z[f],f<C;){switch(i=f,A){case g:f=Y();break;case d:f=k();break;case u:f=M();break;case B:f=J();break;case F:f=O();break;case y:f=z();break;case h:f=K();break;case c:f=_();break;case b:f=T();break;case l:f=H()}if(i!==f)if("\n"===Z[i])S=0,++R;else++S}return x+=f,Z=Z.slice(f),L}(t):function(){v.length&&W(v.join(""));return A=p,W("(eof)"),L}()};function W(t){t.length&&L.push({type:m[A],data:t,position:G,line:R,column:S})}function H(){return v=v.length?[]:v,"/"===i&&"*"===e?(G=x+f-1,A=g,i=e,f+1):"/"===i&&"/"===e?(G=x+f-1,A=d,i=e,f+1):"#"===e?(A=u,G=x+f,f):/\s/.test(e)?(A=b,G=x+f,f):(E=/\d/.test(e),V=/[^\w_]/.test(e),G=x+f,A=E?F:V?B:c,f)}function T(){return/[^\s]/g.test(e)?(W(v.join("")),A=l,f):(v.push(e),i=e,f+1)}function M(){return"\r"!==e&&"\n"!==e||"\\"===i?(v.push(e),i=e,f+1):(W(v.join("")),A=l,f)}function k(){return M()}function Y(){return"/"===e&&"*"===i?(v.push(e),W(v.join("")),A=l,f+1):(v.push(e),i=e,f+1)}function J(){if("."===i&&/\d/.test(e))return A=h,f;if("/"===i&&"*"===e)return A=g,f;if("/"===i&&"/"===e)return A=d,f;if("."===e&&v.length){for(;$(v););return A=h,f}if(";"===e||")"===e||"("===e){if(v.length)for(;$(v););return W(e),A=l,f+1}var t=2===v.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;$(v););return A=l,f}return v.push(e),i=e,f+1}function $(t){for(var e,i,r=0;;){if(e=n.indexOf(t.slice(0,t.length+r).join("")),i=n[e],-1===e){if(r--+t.length>0)continue;i=t.slice(0,1).join("")}return W(i),G+=i.length,(v=v.slice(i.length)).length}}function z(){return/[^a-fA-F0-9]/.test(e)?(W(v.join("")),A=l,f):(v.push(e),i=e,f+1)}function O(){return"."===e||/[eE]/.test(e)?(v.push(e),A=h,i=e,f+1):"x"===e&&1===v.length&&"0"===v[0]?(A=y,v.push(e),i=e,f+1):/[^\d]/.test(e)?(W(v.join("")),A=l,f):(v.push(e),i=e,f+1)}function K(){return"f"===e&&(v.push(e),i=e,f+=1),/[eE]/.test(e)?(v.push(e),i=e,f+1):("-"!==e&&"+"!==e||!/[eE]/.test(i))&&/[^\d]/.test(e)?(W(v.join("")),A=l,f):(v.push(e),i=e,f+1)}function _(){if(/[^\d\w_]/.test(e)){var t=v.join("");return A=X[t]?I:w[t]?U:Q,W(v.join("")),A=l,f}return v.push(e),i=e,f+1}};var r=i(620),n=i(7827),a=i(6852),s=i(7932),o=i(3508),l=999,c=9999,g=0,d=1,u=2,B=3,F=4,h=5,Q=6,U=7,I=8,b=9,p=10,y=11,m=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3508:function(t,e,i){var r=i(6852);r=r.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),t.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(t){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(t,e,i){var r=i(620);t.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(t){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(t){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(t,e,i){var r=i(5874);t.exports=function(t,e){var i=r(e),n=[];return n=n.concat(i(t)),n=n.concat(i(null))}},3236:function(t){t.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),i=[],r=0;r<t.length-1;r++)i.push(t[r],e[r]||"");return i.push(t[r]),i.join("")}},7520:function(t,e,i){var r=i(9507);t.exports=r&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},3778:function(t,e){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */e.read=function(t,e,i,r,n){var a,s,o=8*n-r-1,l=(1<<o)-1,c=l>>1,g=-7,d=i?n-1:0,u=i?-1:1,B=t[e+d];for(d+=u,a=B&(1<<-g)-1,B>>=-g,g+=o;g>0;a=256*a+t[e+d],d+=u,g-=8);for(s=a&(1<<-g)-1,a>>=-g,g+=r;g>0;s=256*s+t[e+d],d+=u,g-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(B?-1:1);s+=Math.pow(2,r),a-=c}return(B?-1:1)*s*Math.pow(2,a-r)},e.write=function(t,e,i,r,n,a){var s,o,l,c=8*a-n-1,g=(1<<c)-1,d=g>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,B=r?0:a-1,F=r?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=g):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+d>=1?u/l:u*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=g?(o=0,s=g):s+d>=1?(o=(e*l-1)*Math.pow(2,n),s+=d):(o=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[i+B]=255&o,B+=F,o/=256,n-=8);for(s=s<<n|o,c+=n;c>0;t[i+B]=255&s,B+=F,s/=256,c-=8);t[i+B-F]|=128*h}},8954:function(t,e,i){t.exports=function(t,e){var i=t.length;if(0===i)throw new Error("Must have at least d+1 points");var n=t[0].length;if(i<=n)throw new Error("Must input at least d+1 points");var s=t.slice(0,n+1),o=r.apply(void 0,s);if(0===o)throw new Error("Input not in general position");for(var l=new Array(n+1),g=0;g<=n;++g)l[g]=g;o<0&&(l[0]=1,l[1]=0);var d=new a(l,new Array(n+1),!1),u=d.adjacent,B=new Array(n+2);for(g=0;g<=n;++g){for(var F=l.slice(),h=0;h<=n;++h)h===g&&(F[h]=-1);var Q=F[0];F[0]=F[1],F[1]=Q;var U=new a(F,new Array(n+1),!0);u[g]=U,B[g]=U}B[n+1]=d;for(g=0;g<=n;++g){F=u[g].vertices;var I=u[g].adjacent;for(h=0;h<=n;++h){var b=F[h];if(b<0)I[h]=d;else for(var p=0;p<=n;++p)u[p].vertices.indexOf(b)<0&&(I[h]=u[p])}}var y=new c(n,s,B),m=!!e;for(g=n+1;g<i;++g)y.insert(t[g],m);return y.boundary()};var r=i(3250),n=i(6803).Fw;function a(t,e,i){this.vertices=t,this.adjacent=e,this.boundary=i,this.lastVisited=-1}function s(t,e,i){this.vertices=t,this.cell=e,this.index=i}function o(t,e){return n(t.vertices,e.vertices)}a.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var l=[];function c(t,e,i){this.dimension=t,this.vertices=e,this.simplices=i,this.interior=i.filter(function(t){return!t.boundary}),this.tuple=new Array(t+1);for(var n=0;n<=t;++n)this.tuple[n]=this.vertices[n];var a=l[t];a||(a=l[t]=function(t){var e=r[t+1];return e||(e=r),function(t){return function(){var e=this.tuple;return t.apply(this,e)}}(e)}(t)),this.orient=a}var g=c.prototype;g.handleBoundaryDegeneracy=function(t,e){var i=this.dimension,r=this.vertices.length-1,n=this.tuple,a=this.vertices,s=[t];for(t.lastVisited=-r;s.length>0;)for(var o=(t=s.pop()).adjacent,l=0;l<=i;++l){var c=o[l];if(c.boundary&&!(c.lastVisited<=-r)){for(var g=c.vertices,d=0;d<=i;++d){var u=g[d];n[d]=u<0?e:a[u]}var B=this.orient();if(B>0)return c;c.lastVisited=-r,0===B&&s.push(c)}}return null},g.walk=function(t,e){var i=this.vertices.length-1,r=this.dimension,n=this.vertices,a=this.tuple,s=e?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[s];t:for(;!o.boundary;){for(var l=o.vertices,c=o.adjacent,g=0;g<=r;++g)a[g]=n[l[g]];o.lastVisited=i;for(g=0;g<=r;++g){var d=c[g];if(!(d.lastVisited>=i)){var u=a[g];a[g]=t;var B=this.orient();if(a[g]=u,B<0){o=d;continue t}d.boundary?d.lastVisited=-i:d.lastVisited=i}}return}return o},g.addPeaks=function(t,e){var i=this.vertices.length-1,r=this.dimension,n=this.vertices,l=this.tuple,c=this.interior,g=this.simplices,d=[e];e.lastVisited=i,e.vertices[e.vertices.indexOf(-1)]=i,e.boundary=!1,c.push(e);for(var u=[];d.length>0;){var B=(e=d.pop()).vertices,F=e.adjacent,h=B.indexOf(i);if(!(h<0))for(var Q=0;Q<=r;++Q)if(Q!==h){var U=F[Q];if(U.boundary&&!(U.lastVisited>=i)){var I=U.vertices;if(U.lastVisited!==-i){for(var b=0,p=0;p<=r;++p)I[p]<0?(b=p,l[p]=t):l[p]=n[I[p]];if(this.orient()>0){I[b]=i,U.boundary=!1,c.push(U),d.push(U),U.lastVisited=i;continue}U.lastVisited=-i}var y=U.adjacent,m=B.slice(),C=F.slice(),f=new a(m,C,!0);g.push(f);var x=y.indexOf(e);if(!(x<0)){y[x]=f,C[h]=U,m[Q]=-1,C[Q]=e,F[Q]=f,f.flip();for(p=0;p<=r;++p){var A=m[p];if(!(A<0||A===i)){for(var v=new Array(r-1),L=0,R=0;R<=r;++R){var S=m[R];S<0||R===p||(v[L++]=S)}u.push(new s(v,f,p))}}}}}}u.sort(o);for(Q=0;Q+1<u.length;Q+=2){var G=u[Q],E=u[Q+1],V=G.index,Z=E.index;V<0||Z<0||(G.cell.adjacent[G.index]=E.cell,E.cell.adjacent[E.index]=G.cell)}},g.insert=function(t,e){var i=this.vertices;i.push(t);var r=this.walk(t,e);if(r){for(var n=this.dimension,a=this.tuple,s=0;s<=n;++s){var o=r.vertices[s];a[s]=o<0?t:i[o]}var l=this.orient(a);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,t)))&&this.addPeaks(t,r)}},g.boundary=function(){for(var t=this.dimension,e=[],i=this.simplices,r=i.length,n=0;n<r;++n){var a=i[n];if(a.boundary){for(var s=new Array(t),o=a.vertices,l=0,c=0,g=0;g<=t;++g)o[g]>=0?s[l++]=o[g]:c=1&g;if(c===(1&t)){var d=s[0];s[0]=s[1],s[1]=d}e.push(s)}}return e}},3352:function(t,e,i){var r=i(2478);function n(t,e,i,r,n){this.mid=t,this.left=e,this.right=i,this.leftPoints=r,this.rightPoints=n,this.count=(e?e.count:0)+(i?i.count:0)+r.length}t.exports=function(t){if(!t||0===t.length)return new U(null);return new U(Q(t))};var a=n.prototype;function s(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function o(t,e){var i=Q(e);t.mid=i.mid,t.left=i.left,t.right=i.right,t.leftPoints=i.leftPoints,t.rightPoints=i.rightPoints,t.count=i.count}function l(t,e){var i=t.intervals([]);i.push(e),o(t,i)}function c(t,e){var i=t.intervals([]),r=i.indexOf(e);return r<0?0:(i.splice(r,1),o(t,i),1)}function g(t,e,i){for(var r=0;r<t.length&&t[r][0]<=e;++r){var n=i(t[r]);if(n)return n}}function d(t,e,i){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var n=i(t[r]);if(n)return n}}function u(t,e){for(var i=0;i<t.length;++i){var r=e(t[i]);if(r)return r}}function B(t,e){return t-e}function F(t,e){var i=t[0]-e[0];return i||t[1]-e[1]}function h(t,e){var i=t[1]-e[1];return i||t[0]-e[0]}function Q(t){if(0===t.length)return null;for(var e=[],i=0;i<t.length;++i)e.push(t[i][0],t[i][1]);e.sort(B);var r=e[e.length>>1],a=[],s=[],o=[];for(i=0;i<t.length;++i){var l=t[i];l[1]<r?a.push(l):r<l[0]?s.push(l):o.push(l)}var c=o,g=o.slice();return c.sort(F),g.sort(h),new n(r,Q(a),Q(s),c,g)}function U(t){this.root=t}a.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},a.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?l(this,t):this.left.insert(t):this.left=Q([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?l(this,t):this.right.insert(t):this.right=Q([t]);else{var i=r.ge(this.leftPoints,t,F),n=r.ge(this.rightPoints,t,h);this.leftPoints.splice(i,0,t),this.rightPoints.splice(n,0,t)}},a.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?c(this,t):2===(o=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===o&&(this.count-=1),o):0;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?c(this,t):2===(o=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===o&&(this.count-=1),o):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var i=this,n=this.left;n.right;)i=n,n=n.right;if(i===this)n.right=this.right;else{var a=this.left,o=this.right;i.count-=n.count,i.right=n.left,n.left=a,n.right=o}s(this,n),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?s(this,this.left):s(this,this.right);return 1}for(a=r.ge(this.leftPoints,t,F);a<this.leftPoints.length&&this.leftPoints[a][0]===t[0];++a)if(this.leftPoints[a]===t){this.count-=1,this.leftPoints.splice(a,1);for(o=r.ge(this.rightPoints,t,h);o<this.rightPoints.length&&this.rightPoints[o][1]===t[1];++o)if(this.rightPoints[o]===t)return this.rightPoints.splice(o,1),1}return 0},a.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(i=this.left.queryPoint(t,e))return i;return g(this.leftPoints,t,e)}if(t>this.mid){var i;if(this.right)if(i=this.right.queryPoint(t,e))return i;return d(this.rightPoints,t,e)}return u(this.leftPoints,e)},a.queryInterval=function(t,e,i){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,i)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,i)))return r;return e<this.mid?g(this.leftPoints,e,i):t>this.mid?d(this.rightPoints,t,i):u(this.leftPoints,i)};var I=U.prototype;I.insert=function(t){this.root?this.root.insert(t):this.root=new n(t[0],null,null,[t],[t])},I.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),0!==e}return!1},I.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},I.queryInterval=function(t,e,i){if(t<=e&&this.root)return this.root.queryInterval(t,e,i)},Object.defineProperty(I,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(I,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9507:function(t){t.exports=!0},7163:function(t){function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},5219:function(t){t.exports=function(t){for(var e,i=t.length,r=0;r<i;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},395:function(t){t.exports=function(t,e,i){return t*(1-i)+e*i}},2652:function(t,e,i){var r=i(4335),n=i(6864),a=i(1903),s=i(9921),o=i(7608),l=i(5665),c={length:i(1387),normalize:i(3536),dot:i(244),cross:i(5911)},g=n(),d=n(),u=[0,0,0,0],B=[[0,0,0],[0,0,0],[0,0,0]],F=[0,0,0];function h(t,e,i,r,n){t[0]=e[0]*r+i[0]*n,t[1]=e[1]*r+i[1]*n,t[2]=e[2]*r+i[2]*n}t.exports=function(t,e,i,n,Q,U){if(e||(e=[0,0,0]),i||(i=[0,0,0]),n||(n=[0,0,0]),Q||(Q=[0,0,0,1]),U||(U=[0,0,0,1]),!r(g,t))return!1;if(a(d,g),d[3]=0,d[7]=0,d[11]=0,d[15]=1,Math.abs(s(d)<1e-8))return!1;var I,b,p=g[3],y=g[7],m=g[11],C=g[12],f=g[13],x=g[14],A=g[15];if(0!==p||0!==y||0!==m){if(u[0]=p,u[1]=y,u[2]=m,u[3]=A,!o(d,d))return!1;l(d,d),function(t,e,i){var r=e[0],n=e[1],a=e[2],s=e[3];t[0]=i[0]*r+i[4]*n+i[8]*a+i[12]*s,t[1]=i[1]*r+i[5]*n+i[9]*a+i[13]*s,t[2]=i[2]*r+i[6]*n+i[10]*a+i[14]*s,t[3]=i[3]*r+i[7]*n+i[11]*a+i[15]*s}(Q,u,d)}else Q[0]=Q[1]=Q[2]=0,Q[3]=1;if(e[0]=C,e[1]=f,e[2]=x,b=g,(I=B)[0][0]=b[0],I[0][1]=b[1],I[0][2]=b[2],I[1][0]=b[4],I[1][1]=b[5],I[1][2]=b[6],I[2][0]=b[8],I[2][1]=b[9],I[2][2]=b[10],i[0]=c.length(B[0]),c.normalize(B[0],B[0]),n[0]=c.dot(B[0],B[1]),h(B[1],B[1],B[0],1,-n[0]),i[1]=c.length(B[1]),c.normalize(B[1],B[1]),n[0]/=i[1],n[1]=c.dot(B[0],B[2]),h(B[2],B[2],B[0],1,-n[1]),n[2]=c.dot(B[1],B[2]),h(B[2],B[2],B[1],1,-n[2]),i[2]=c.length(B[2]),c.normalize(B[2],B[2]),n[1]/=i[2],n[2]/=i[2],c.cross(F,B[1],B[2]),c.dot(B[0],F)<0)for(var v=0;v<3;v++)i[v]*=-1,B[v][0]*=-1,B[v][1]*=-1,B[v][2]*=-1;return U[0]=.5*Math.sqrt(Math.max(1+B[0][0]-B[1][1]-B[2][2],0)),U[1]=.5*Math.sqrt(Math.max(1-B[0][0]+B[1][1]-B[2][2],0)),U[2]=.5*Math.sqrt(Math.max(1-B[0][0]-B[1][1]+B[2][2],0)),U[3]=.5*Math.sqrt(Math.max(1+B[0][0]+B[1][1]+B[2][2],0)),B[2][1]>B[1][2]&&(U[0]=-U[0]),B[0][2]>B[2][0]&&(U[1]=-U[1]),B[1][0]>B[0][1]&&(U[2]=-U[2]),!0}},4335:function(t){t.exports=function(t,e){var i=e[15];if(0===i)return!1;for(var r=1/i,n=0;n<16;n++)t[n]=e[n]*r;return!0}},7442:function(t,e,i){var r=i(6658),n=i(7182),a=i(2652),s=i(9921),o=i(8648),l=d(),c=d(),g=d();function d(){return{translate:u(),scale:u(1),skew:u(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function u(t){return[t||0,t||0,t||0]}t.exports=function(t,e,i,d){if(0===s(e)||0===s(i))return!1;var u=a(e,l.translate,l.scale,l.skew,l.perspective,l.quaternion),B=a(i,c.translate,c.scale,c.skew,c.perspective,c.quaternion);return!(!u||!B)&&(r(g.translate,l.translate,c.translate,d),r(g.skew,l.skew,c.skew,d),r(g.scale,l.scale,c.scale,d),r(g.perspective,l.perspective,c.perspective,d),o(g.quaternion,l.quaternion,c.quaternion,d),n(t,g.translate,g.scale,g.skew,g.perspective,g.quaternion),!0)}},7182:function(t,e,i){var r={identity:i(7894),translate:i(7656),multiply:i(6760),create:i(6864),scale:i(2504),fromRotationTranslation:i(6743)};r.create();var n=r.create();t.exports=function(t,e,i,a,s,o){return r.identity(t),r.fromRotationTranslation(t,o,e),t[3]=s[0],t[7]=s[1],t[11]=s[2],t[15]=s[3],r.identity(n),0!==a[2]&&(n[9]=a[2],r.multiply(t,t,n)),0!==a[1]&&(n[9]=0,n[8]=a[1],r.multiply(t,t,n)),0!==a[0]&&(n[8]=0,n[4]=a[0],r.multiply(t,t,n)),r.scale(t,t,i),t}},1811:function(t,e,i){var r=i(2478),n=i(7442),a=i(7608),s=i(5567),o=i(2408),l=i(7089),c=i(6582),g=i(7656);i(2504);var d=i(3536),u=[0,0,0];function B(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(t){var e=(t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new B(e)};var F=B.prototype;F.recalcMatrix=function(t){var e=this._time,i=r.le(e,t),s=this.computedMatrix;if(!(i<0)){var o=this._components;if(i===e.length-1)for(var l=16*i,c=0;c<16;++c)s[c]=o[l++];else{var g=e[i+1]-e[i],u=(l=16*i,this.prevMatrix),B=!0;for(c=0;c<16;++c)u[c]=o[l++];var F=this.nextMatrix;for(c=0;c<16;++c)F[c]=o[l++],B=B&&u[c]===F[c];if(g<1e-6||B)for(c=0;c<16;++c)s[c]=u[c];else n(s,u,F,(t-e[i])/g)}var h=this.computedUp;h[0]=s[1],h[1]=s[5],h[2]=s[9],d(h,h);var Q=this.computedInverse;a(Q,s);var U=this.computedEye,I=Q[15];U[0]=Q[12]/I,U[1]=Q[13]/I,U[2]=Q[14]/I;var b=this.computedCenter,p=Math.exp(this.computedRadius[0]);for(c=0;c<3;++c)b[c]=U[c]-s[2+4*c]*p}},F.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,i=e.length-16,r=0;r<16;++r)e.push(e[i++]);this._time.push(t)}},F.flush=function(t){var e=r.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},F.lastT=function(){return this._time[this._time.length-1]},F.lookAt=function(t,e,i,r){this.recalcMatrix(t),e=e||this.computedEye,i=i||u,r=r||this.computedUp,this.setMatrix(t,c(this.computedMatrix,e,i,r));for(var n=0,a=0;a<3;++a)n+=Math.pow(i[a]-e[a],2);n=Math.log(Math.sqrt(n)),this.computedRadius[0]=n},F.rotate=function(t,e,i,r){this.recalcMatrix(t);var n=this.computedInverse;e&&o(n,n,e),i&&s(n,n,i),r&&l(n,n,r),this.setMatrix(t,a(this.computedMatrix,n))};var h=[0,0,0];F.pan=function(t,e,i,r){h[0]=-(e||0),h[1]=-(i||0),h[2]=-(r||0),this.recalcMatrix(t);var n=this.computedInverse;g(n,n,h),this.setMatrix(t,a(n,n))},F.translate=function(t,e,i,r){h[0]=e||0,h[1]=i||0,h[2]=r||0,this.recalcMatrix(t);var n=this.computedMatrix;g(n,n,h),this.setMatrix(t,n)},F.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var i=0;i<16;++i)this._components.push(e[i])}},F.setDistance=function(t,e){this.computedRadius[0]=e},F.setDistanceLimits=function(t,e){var i=this._limits;i[0]=t,i[1]=e},F.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},3090:function(t,e,i){t.exports=function(t){var e=t.length;if(e<3){for(var i=new Array(e),n=0;n<e;++n)i[n]=n;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:i}var a=new Array(e);for(n=0;n<e;++n)a[n]=n;a.sort(function(e,i){var r=t[e][0]-t[i][0];return r||t[e][1]-t[i][1]});var s=[a[0],a[1]],o=[a[0],a[1]];for(n=2;n<e;++n){for(var l=a[n],c=t[l],g=s.length;g>1&&r(t[s[g-2]],t[s[g-1]],c)<=0;)g-=1,s.pop();for(s.push(l),g=o.length;g>1&&r(t[o[g-2]],t[o[g-1]],c)>=0;)g-=1,o.pop();o.push(l)}i=new Array(o.length+s.length-2);for(var d=0,u=(n=0,s.length);n<u;++n)i[d++]=s[n];for(var B=o.length-2;B>0;--B)i[d++]=o[B];return i};var r=i(3250)[3]},351:function(t,e,i){t.exports=function(t,e){e||(e=t,t=window);var i=0,n=0,a=0,s={shift:!1,alt:!1,control:!1,meta:!1},o=!1;function l(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==s.alt,s.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==s.shift,s.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==s.control,s.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==s.meta,s.meta=!!t.metaKey),e}function c(t,o){var c=r.x(o),g=r.y(o);"buttons"in o&&(t=0|o.buttons),(t!==i||c!==n||g!==a||l(o))&&(i=0|t,n=c||0,a=g||0,e&&e(i,n,a,s))}function g(t){c(0,t)}function d(){(i||n||a||s.shift||s.alt||s.meta||s.control)&&(n=a=0,i=0,s.shift=s.alt=s.control=s.meta=!1,e&&e(0,0,0,s))}function u(t){l(t)&&e&&e(i,n,a,s)}function B(t){0===r.buttons(t)?c(0,t):c(i,t)}function F(t){c(i|r.buttons(t),t)}function h(t){c(i&~r.buttons(t),t)}function Q(){o||(o=!0,t.addEventListener("mousemove",B),t.addEventListener("mousedown",F),t.addEventListener("mouseup",h),t.addEventListener("mouseleave",g),t.addEventListener("mouseenter",g),t.addEventListener("mouseout",g),t.addEventListener("mouseover",g),t.addEventListener("blur",d),t.addEventListener("keyup",u),t.addEventListener("keydown",u),t.addEventListener("keypress",u),t!==window&&(window.addEventListener("blur",d),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}Q();var U={element:t};return Object.defineProperties(U,{enabled:{get:function(){return o},set:function(e){e?Q():function(){if(!o)return;o=!1,t.removeEventListener("mousemove",B),t.removeEventListener("mousedown",F),t.removeEventListener("mouseup",h),t.removeEventListener("mouseleave",g),t.removeEventListener("mouseenter",g),t.removeEventListener("mouseout",g),t.removeEventListener("mouseover",g),t.removeEventListener("blur",d),t.removeEventListener("keyup",u),t.removeEventListener("keydown",u),t.removeEventListener("keypress",u),t!==window&&(window.removeEventListener("blur",d),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u))}()},enumerable:!0},buttons:{get:function(){return i},enumerable:!0},x:{get:function(){return n},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),U};var r=i(4687)},24:function(t){var e={left:0,top:0};t.exports=function(t,i,r){i=i||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n=t.clientX||0,a=t.clientY||0,s=(o=i,o===window||o===document||o===document.body?e:o.getBoundingClientRect());var o;return r[0]=n-s.left,r[1]=a-s.top,r}},4687:function(t,e){function i(t){return t.target||t.srcElement||window}e.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0},e.element=i,e.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=i(t).getBoundingClientRect();return t.clientX-e.left}return 0},e.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=i(t).getBoundingClientRect();return t.clientY-e.top}return 0}},8512:function(t,e,i){var r=i(665);t.exports=function(t,e,i){"function"==typeof t&&(i=!!e,e=t,t=window);var n=r("ex",t),a=function(t){i&&t.preventDefault();var r=t.deltaX||0,a=t.deltaY||0,s=t.deltaZ||0,o=1;switch(t.deltaMode){case 1:o=n;break;case 2:o=window.innerHeight}if(a*=o,s*=o,(r*=o)||a||s)return e(r,a,s,t)};return t.addEventListener("wheel",a),a}},2640:function(t,e,i){var r=i(1888);t.exports=function(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!=typeof t&&e("Must specify arguments");var i=t.order;Array.isArray(i)||e("Must specify order");var a=t.arrayArguments||1;a<1&&e("Must have at least one array argument");var s=t.scalarArguments||0;s<0&&e("Scalar arg count must be > 0");"function"!=typeof t.vertex&&e("Must specify vertex creation function");"function"!=typeof t.cell&&e("Must specify cell creation function");"function"!=typeof t.phase&&e("Must specify phase function");for(var o=t.getters||[],l=new Array(a),c=0;c<a;++c)o.indexOf(c)>=0?l[c]=!0:l[c]=!1;return function(t,e,i,a,s,o){var l=[o,s].join(","),c=n[l];return c(t,e,i,r.mallocUint32,r.freeUint32)}(t.vertex,t.cell,t.phase,0,i,l)};var n={"false,0,1":function(t,e,i,r,n){return function(a,s,o,l){var c,g=0|a.shape[0],d=0|a.shape[1],u=a.data,B=0|a.offset,F=0|a.stride[0],h=0|a.stride[1],Q=B,U=0|-F,I=0,b=0|-h,p=0,y=-F-h|0,m=0,C=0|F,f=h-F*g|0,x=0,A=0,v=0,L=2*g|0,R=r(L),S=r(L),G=0,E=0,V=-1,Z=-1,N=0,D=0|-g,w=0|g,X=0,W=-g-1|0,H=g-1|0,T=0,M=0,k=0;for(x=0;x<g;++x)R[G++]=i(u[Q],s,o,l),Q+=C;if(Q+=f,d>0){if(A=1,R[G++]=i(u[Q],s,o,l),Q+=C,g>0)for(x=1,c=u[Q],E=R[G]=i(c,s,o,l),N=R[G+V],X=R[G+D],T=R[G+W],E===N&&E===X&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,N,X,T,s,o,l),M=S[G]=v++),G+=1,Q+=C,x=2;x<g;++x)c=u[Q],E=R[G]=i(c,s,o,l),N=R[G+V],X=R[G+D],T=R[G+W],E===N&&E===X&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,N,X,T,s,o,l),M=S[G]=v++,T!==N&&e(S[G+V],M,m,I,T,N,s,o,l)),G+=1,Q+=C;for(Q+=f,G=0,k=V,V=Z,Z=k,k=D,D=w,w=k,k=W,W=H,H=k,A=2;A<d;++A){if(R[G++]=i(u[Q],s,o,l),Q+=C,g>0)for(x=1,c=u[Q],E=R[G]=i(c,s,o,l),N=R[G+V],X=R[G+D],T=R[G+W],E===N&&E===X&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,N,X,T,s,o,l),M=S[G]=v++,T!==X&&e(S[G+D],M,p,m,X,T,s,o,l)),G+=1,Q+=C,x=2;x<g;++x)c=u[Q],E=R[G]=i(c,s,o,l),N=R[G+V],X=R[G+D],T=R[G+W],E===N&&E===X&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,N,X,T,s,o,l),M=S[G]=v++,T!==X&&e(S[G+D],M,p,m,X,T,s,o,l),T!==N&&e(S[G+V],M,m,I,T,N,s,o,l)),G+=1,Q+=C;1&A&&(G=0),k=V,V=Z,Z=k,k=D,D=w,w=k,k=W,W=H,H=k,Q+=f}}n(S),n(R)}},"false,1,0":function(t,e,i,r,n){return function(a,s,o,l){var c,g=0|a.shape[0],d=0|a.shape[1],u=a.data,B=0|a.offset,F=0|a.stride[0],h=0|a.stride[1],Q=B,U=0|-F,I=0,b=0|-h,p=0,y=-F-h|0,m=0,C=0|h,f=F-h*d|0,x=0,A=0,v=0,L=2*d|0,R=r(L),S=r(L),G=0,E=0,V=-1,Z=-1,N=0,D=0|-d,w=0|d,X=0,W=-d-1|0,H=d-1|0,T=0,M=0,k=0;for(A=0;A<d;++A)R[G++]=i(u[Q],s,o,l),Q+=C;if(Q+=f,g>0){if(x=1,R[G++]=i(u[Q],s,o,l),Q+=C,d>0)for(A=1,c=u[Q],E=R[G]=i(c,s,o,l),X=R[G+D],N=R[G+V],T=R[G+W],E===X&&E===N&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,X,N,T,s,o,l),M=S[G]=v++),G+=1,Q+=C,A=2;A<d;++A)c=u[Q],E=R[G]=i(c,s,o,l),X=R[G+D],N=R[G+V],T=R[G+W],E===X&&E===N&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,X,N,T,s,o,l),M=S[G]=v++,T!==N&&e(S[G+V],M,p,m,N,T,s,o,l)),G+=1,Q+=C;for(Q+=f,G=0,k=D,D=w,w=k,k=V,V=Z,Z=k,k=W,W=H,H=k,x=2;x<g;++x){if(R[G++]=i(u[Q],s,o,l),Q+=C,d>0)for(A=1,c=u[Q],E=R[G]=i(c,s,o,l),X=R[G+D],N=R[G+V],T=R[G+W],E===X&&E===N&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,X,N,T,s,o,l),M=S[G]=v++,T!==X&&e(S[G+D],M,m,I,T,X,s,o,l)),G+=1,Q+=C,A=2;A<d;++A)c=u[Q],E=R[G]=i(c,s,o,l),X=R[G+D],N=R[G+V],T=R[G+W],E===X&&E===N&&E===T||(I=u[Q+U],p=u[Q+b],m=u[Q+y],t(x,A,c,I,p,m,E,X,N,T,s,o,l),M=S[G]=v++,T!==N&&e(S[G+V],M,p,m,N,T,s,o,l),T!==X&&e(S[G+D],M,m,I,T,X,s,o,l)),G+=1,Q+=C;1&x&&(G=0),k=D,D=w,w=k,k=V,V=Z,Z=k,k=W,W=H,H=k,Q+=f}}n(S),n(R)}}}},6199:function(t,e,i){var r=i(1338),n={zero:function(t,e,i,r){var n=t[0];r|=0;var a=0,s=i[0];for(a=0;a<n;++a)e[r]=0,r+=s},fdTemplate1:function(t,e,i,r,n,a,s){var o=t[0],l=i[0],c=-1*l,g=l;r|=0,s|=0;var d=0,u=l,B=a[0];for(d=0;d<o;++d)n[s]=.5*(e[r+c]-e[r+g]),r+=u,s+=B},fdTemplate2:function(t,e,i,r,n,a,s,o,l,c){var g=t[0],d=t[1],u=i[0],B=i[1],F=a[0],h=a[1],Q=l[0],U=l[1],I=-1*u,b=u,p=-1*B,y=B;r|=0,s|=0,c|=0;var m=0,C=0,f=B,x=u-d*B,A=h,v=F-d*h,L=U,R=Q-d*U;for(C=0;C<g;++C){for(m=0;m<d;++m)n[s]=.5*(e[r+I]-e[r+b]),o[c]=.5*(e[r+p]-e[r+y]),r+=f,s+=A,c+=L;r+=x,s+=v,c+=R}}},a={cdiff:function(t){var e={};return function(i,r,n){var a=i.dtype,s=i.order,o=r.dtype,l=r.order,c=n.dtype,g=n.order,d=[a,s.join(),o,l.join(),c,g.join()].join(),u=e[d];return u||(e[d]=u=t([a,s,o,l,c,g])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset)}},zero:function(t){var e={};return function(i){var r=i.dtype,n=i.order,a=[r,n.join()].join(),s=e[a];return s||(e[a]=s=t([r,n])),s(i.shape.slice(0),i.data,i.stride,0|i.offset)}},fdTemplate1:function(t){var e={};return function(i,r){var n=i.dtype,a=i.order,s=r.dtype,o=r.order,l=[n,a.join(),s,o.join()].join(),c=e[l];return c||(e[l]=c=t([n,a,s,o])),c(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset)}},fdTemplate2:function(t){var e={};return function(i,r,n){var a=i.dtype,s=i.order,o=r.dtype,l=r.order,c=n.dtype,g=n.order,d=[a,s.join(),o,l.join(),c,g.join()].join(),u=e[d];return u||(e[d]=u=t([a,s,o,l,c,g])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset)}}};function s(t){return(0,a[t.funcName])(o.bind(void 0,t))}function o(t){return n[t.funcName]}function l(t){return s({funcName:t.funcName})}var c={},g={},d=l({funcName:"cdiff"}),u=l({funcName:"zero"});function B(t){return t in c?c[t]:c[t]=l({funcName:"fdTemplate"+t})}function F(t,e,i,r){return function(t,n){var a=n.shape.slice();return a[0]>2&&a[1]>2&&r(n.pick(-1,-1).lo(1,1).hi(a[0]-2,a[1]-2),t.pick(-1,-1,0).lo(1,1).hi(a[0]-2,a[1]-2),t.pick(-1,-1,1).lo(1,1).hi(a[0]-2,a[1]-2)),a[1]>2&&(i(n.pick(0,-1).lo(1).hi(a[1]-2),t.pick(0,-1,1).lo(1).hi(a[1]-2)),e(t.pick(0,-1,0).lo(1).hi(a[1]-2))),a[1]>2&&(i(n.pick(a[0]-1,-1).lo(1).hi(a[1]-2),t.pick(a[0]-1,-1,1).lo(1).hi(a[1]-2)),e(t.pick(a[0]-1,-1,0).lo(1).hi(a[1]-2))),a[0]>2&&(i(n.pick(-1,0).lo(1).hi(a[0]-2),t.pick(-1,0,0).lo(1).hi(a[0]-2)),e(t.pick(-1,0,1).lo(1).hi(a[0]-2))),a[0]>2&&(i(n.pick(-1,a[1]-1).lo(1).hi(a[0]-2),t.pick(-1,a[1]-1,0).lo(1).hi(a[0]-2)),e(t.pick(-1,a[1]-1,1).lo(1).hi(a[0]-2))),t.set(0,0,0,0),t.set(0,0,1,0),t.set(a[0]-1,0,0,0),t.set(a[0]-1,0,1,0),t.set(0,a[1]-1,0,0),t.set(0,a[1]-1,1,0),t.set(a[0]-1,a[1]-1,0,0),t.set(a[0]-1,a[1]-1,1,0),t}}t.exports=function(t,e,i){if(Array.isArray(i)||(i=r(e.dimension,"string"==typeof i?i:"clamp")),0===e.size)return t;if(0===e.dimension)return t.set(0),t;var n=function(t){var e=t.join();if(a=g[e])return a;for(var i=t.length,r=[d,u],n=1;n<=i;++n)r.push(B(n));var a=F.apply(void 0,r);return g[e]=a,a}(i);return n(t,e)}},4317:function(t){function e(t,e){var i=Math.floor(e),r=e-i,n=0<=i&&i<t.shape[0],a=0<=i+1&&i+1<t.shape[0];return(1-r)*(n?+t.get(i):0)+r*(a?+t.get(i+1):0)}function i(t,e,i){var r=Math.floor(e),n=e-r,a=0<=r&&r<t.shape[0],s=0<=r+1&&r+1<t.shape[0],o=Math.floor(i),l=i-o,c=0<=o&&o<t.shape[1],g=0<=o+1&&o+1<t.shape[1],d=a&&c?t.get(r,o):0,u=a&&g?t.get(r,o+1):0;return(1-l)*((1-n)*d+n*(s&&c?t.get(r+1,o):0))+l*((1-n)*u+n*(s&&g?t.get(r+1,o+1):0))}function r(t,e,i,r){var n=Math.floor(e),a=e-n,s=0<=n&&n<t.shape[0],o=0<=n+1&&n+1<t.shape[0],l=Math.floor(i),c=i-l,g=0<=l&&l<t.shape[1],d=0<=l+1&&l+1<t.shape[1],u=Math.floor(r),B=r-u,F=0<=u&&u<t.shape[2],h=0<=u+1&&u+1<t.shape[2],Q=s&&g&&F?t.get(n,l,u):0,U=s&&d&&F?t.get(n,l+1,u):0,I=o&&g&&F?t.get(n+1,l,u):0,b=o&&d&&F?t.get(n+1,l+1,u):0,p=s&&g&&h?t.get(n,l,u+1):0,y=s&&d&&h?t.get(n,l+1,u+1):0;return(1-B)*((1-c)*((1-a)*Q+a*I)+c*((1-a)*U+a*b))+B*((1-c)*((1-a)*p+a*(o&&g&&h?t.get(n+1,l,u+1):0))+c*((1-a)*y+a*(o&&d&&h?t.get(n+1,l+1,u+1):0)))}function n(t){var e,i,r=0|t.shape.length,n=new Array(r),a=new Array(r),s=new Array(r),o=new Array(r);for(e=0;e<r;++e)i=+arguments[e+1],n[e]=Math.floor(i),a[e]=i-n[e],s[e]=0<=n[e]&&n[e]<t.shape[e],o[e]=0<=n[e]+1&&n[e]+1<t.shape[e];var l,c,g,d=0;t:for(e=0;e<1<<r;++e){for(c=1,g=t.offset,l=0;l<r;++l)if(e&1<<l){if(!o[l])continue t;c*=a[l],g+=t.stride[l]*(n[l]+1)}else{if(!s[l])continue t;c*=1-a[l],g+=t.stride[l]*n[l]}d+=c*t.data[g]}return d}t.exports=function(t,a,s,o){switch(t.shape.length){case 0:return 0;case 1:return e(t,a);case 2:return i(t,a,s);case 3:return r(t,a,s,o);default:return n.apply(void 0,arguments)}},t.exports.d1=e,t.exports.d2=i,t.exports.d3=r},5298:function(t,e){var i={"float64,2,1,0":function(){return function(t,e,i,r,n){var a=t[0],s=t[1],o=t[2],l=i[0],c=i[1],g=i[2];r|=0;var d=0,u=0,B=0,F=g,h=c-o*g,Q=l-s*c;for(B=0;B<a;++B){for(u=0;u<s;++u){for(d=0;d<o;++d)e[r]/=n,r+=F;r+=h}r+=Q}}},"uint8,2,0,1,float64,2,1,0":function(){return function(t,e,i,r,n,a,s,o){for(var l=t[0],c=t[1],g=t[2],d=i[0],u=i[1],B=i[2],F=a[0],h=a[1],Q=a[2],U=r|=0,I=s|=0,b=0|t[0];b>0;){b<64?(l=b,b=0):(l=64,b-=64);for(var p=0|t[1];p>0;){p<64?(c=p,p=0):(c=64,p-=64),r=U+b*d+p*u,s=I+b*F+p*h;var y=0,m=0,C=0,f=B,x=d-g*B,A=u-l*d,v=Q,L=F-g*Q,R=h-l*F;for(C=0;C<c;++C){for(m=0;m<l;++m){for(y=0;y<g;++y)e[r]=n[s]*o,r+=f,s+=v;r+=x,s+=L}r+=A,s+=R}}}}},"float32,1,0,float32,1,0":function(){return function(t,e,i,r,n,a,s){var o=t[0],l=t[1],c=i[0],g=i[1],d=a[0],u=a[1];r|=0,s|=0;var B=0,F=0,h=g,Q=c-l*g,U=u,I=d-l*u;for(F=0;F<o;++F){for(B=0;B<l;++B)e[r]=n[s],r+=h,s+=U;r+=Q,s+=I}}},"float32,1,0,float32,0,1":function(){return function(t,e,i,r,n,a,s){for(var o=t[0],l=t[1],c=i[0],g=i[1],d=a[0],u=a[1],B=r|=0,F=s|=0,h=0|t[1];h>0;){h<64?(l=h,h=0):(l=64,h-=64);for(var Q=0|t[0];Q>0;){Q<64?(o=Q,Q=0):(o=64,Q-=64),r=B+h*g+Q*c,s=F+h*u+Q*d;var U=0,I=0,b=g,p=c-l*g,y=u,m=d-l*u;for(I=0;I<o;++I){for(U=0;U<l;++U)e[r]=n[s],r+=b,s+=y;r+=p,s+=m}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(t,e,i,r,n,a,s){for(var o=t[0],l=t[1],c=t[2],g=i[0],d=i[1],u=i[2],B=a[0],F=a[1],h=a[2],Q=r|=0,U=s|=0,I=0|t[2];I>0;){I<64?(c=I,I=0):(c=64,I-=64);for(var b=0|t[0];b>0;){b<64?(o=b,b=0):(o=64,b-=64);for(var p=0|t[1];p>0;){p<64?(l=p,p=0):(l=64,p-=64),r=Q+I*u+b*g+p*d,s=U+I*h+b*B+p*F;var y=0,m=0,C=0,f=u,x=g-c*u,A=d-o*g,v=h,L=B-c*h,R=F-o*B;for(C=0;C<l;++C){for(m=0;m<o;++m){for(y=0;y<c;++y)e[r]=n[s],r+=f,s+=v;r+=x,s+=L}r+=A,s+=R}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(t,e,i,r,n,a,s){var o=t[0],l=t[1],c=t[2],g=i[0],d=i[1],u=i[2],B=a[0],F=a[1],h=a[2];r|=0,s|=0;var Q=0,U=0,I=0,b=u,p=g-c*u,y=d-o*g,m=h,C=B-c*h,f=F-o*B;for(I=0;I<l;++I){for(U=0;U<o;++U){for(Q=0;Q<c;++Q)e[r]=n[s],r+=b,s+=m;r+=p,s+=C}r+=y,s+=f}}}};var r=function(t,e){var r=e.join(",");return(0,i[r])()},n={mul:function(t){var e={};return function(i,r,n){var a=i.dtype,s=i.order,o=r.dtype,l=r.order,c=n.dtype,g=n.order,d=[a,s.join(),o,l.join(),c,g.join()].join(),u=e[d];return u||(e[d]=u=t([a,s,o,l,c,g])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset)}},muls:function(t){var e={};return function(i,r,n){var a=i.dtype,s=i.order,o=r.dtype,l=r.order,c=[a,s.join(),o,l.join()].join(),g=e[c];return g||(e[c]=g=t([a,s,o,l])),g(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset,n)}},mulseq:function(t){var e={};return function(i,r){var n=i.dtype,a=i.order,s=[n,a.join()].join(),o=e[s];return o||(e[s]=o=t([n,a])),o(i.shape.slice(0),i.data,i.stride,0|i.offset,r)}},div:function(t){var e={};return function(i,r,n){var a=i.dtype,s=i.order,o=r.dtype,l=r.order,c=n.dtype,g=n.order,d=[a,s.join(),o,l.join(),c,g.join()].join(),u=e[d];return u||(e[d]=u=t([a,s,o,l,c,g])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset)}},divs:function(t){var e={};return function(i,r,n){var a=i.dtype,s=i.order,o=r.dtype,l=r.order,c=[a,s.join(),o,l.join()].join(),g=e[c];return g||(e[c]=g=t([a,s,o,l])),g(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset,n)}},divseq:function(t){var e={};return function(i,r){var n=i.dtype,a=i.order,s=[n,a.join()].join(),o=e[s];return o||(e[s]=o=t([n,a])),o(i.shape.slice(0),i.data,i.stride,0|i.offset,r)}},assign:function(t){var e={};return function(i,r){var n=i.dtype,a=i.order,s=r.dtype,o=r.order,l=[n,a.join(),s,o.join()].join(),c=e[l];return c||(e[l]=c=t([n,a,s,o])),c(i.shape.slice(0),i.data,i.stride,0|i.offset,r.data,r.stride,0|r.offset)}}};function a(t){return e={funcName:t.funcName},(0,n[e.funcName])(r.bind(void 0,e));var e}var s={mul:"*",div:"/"};!function(){for(var t in s)e[t]=a({funcName:t}),e[t+"s"]=a({funcName:t+"s"}),e[t+"seq"]=a({funcName:t+"seq"})}(),e.assign=a({funcName:"assign"})},9994:function(t,e,i){var r=i(9618),n=i(8277);t.exports=function(t,e){for(var i=[],a=t,s=1;Array.isArray(a);)i.push(a.length),s*=a.length,a=a[0];return 0===i.length?r():(e||(e=r(new Float64Array(s),i)),n(e,t),e)}},8277:function(t){var e,i=function(){return function(t,e,i,r,n){var a=t[0],s=t[1],o=t[2],l=i[0],c=i[1],g=i[2],d=[0,0,0];r|=0;var u=0,B=0,F=0,h=g,Q=c-o*g,U=l-s*c;for(F=0;F<a;++F){for(B=0;B<s;++B){for(u=0;u<o;++u){var I,b=n;for(I=0;I<d.length-1;++I)b=b[d[I]];e[r]=b[d[d.length-1]],r+=h,++d[2]}r+=Q,d[2]-=o,++d[1]}r+=U,d[1]-=s,++d[0]}}};t.exports=(e={funcName:{funcName:"convert"}.funcName},function(t){var e={};return function(i,r){var n=i.dtype,a=i.order,s=[n,a.join()].join(),o=e[s];return o||(e[s]=o=t([n,a])),o(i.shape.slice(0),i.data,i.stride,0|i.offset,r)}}(i.bind(void 0,e)))},7640:function(t,e,i){var r=i(1888);function n(t){return"uint32"===t?[r.mallocUint32,r.freeUint32]:null}var a={"uint32,1,0":function(t,e){return function(i,r,n,a,s,o,l,c,g,d,u){var B,F,h,Q,U,I,b,p,y=i*s+a,m=t(c);for(B=i+1;B<=r;++B){for(F=B,h=y+=s,U=0,I=y,Q=0;Q<c;++Q)m[U++]=n[I],I+=g;t:for(;F-- >i;){U=0,I=h-s;e:for(Q=0;Q<c;++Q){if((b=n[I])<(p=m[U]))break t;if(b>p)break e;I+=d,U+=u}for(U=h,I=h-s,Q=0;Q<c;++Q)n[U]=n[I],U+=g,I+=g;h-=s}for(U=h,I=0,Q=0;Q<c;++Q)n[U]=m[I++],U+=g}e(m)}}};var s={"uint32,1,0":function(t,e,i){return function r(n,a,s,o,l,c,g,d,u,B,F){var h,Q,U,I,b,p,y,m,C,f,x,A,v,L,R,S,G,E,V,Z,N,D,w,X,W,H=(a-n+1)/6|0,T=n+H,M=a-H,k=n+a>>1,Y=k-H,J=k+H,$=T,z=Y,O=k,K=J,_=M,P=n+1,j=a-1,q=!0,tt=0,et=0,it=0,rt=d,nt=e(rt),at=e(rt);x=l*$,A=l*z,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=$,$=z,z=Q;break t}if(it<0)break t;W+=B}x=l*K,A=l*_,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=K,K=_,_=Q;break t}if(it<0)break t;W+=B}x=l*$,A=l*O,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=$,$=O,O=Q;break t}if(it<0)break t;W+=B}x=l*z,A=l*O,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=z,z=O,O=Q;break t}if(it<0)break t;W+=B}x=l*$,A=l*K,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=$,$=K,K=Q;break t}if(it<0)break t;W+=B}x=l*O,A=l*K,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=O,O=K,K=Q;break t}if(it<0)break t;W+=B}x=l*z,A=l*_,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=z,z=_,_=Q;break t}if(it<0)break t;W+=B}x=l*z,A=l*O,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=z,z=O,O=Q;break t}if(it<0)break t;W+=B}x=l*K,A=l*_,W=o;t:for(f=0;f<d;++f){if(m=A+W,(it=s[y=x+W]-s[m])>0){Q=K,K=_,_=Q;break t}if(it<0)break t;W+=B}for(x=l*$,A=l*z,v=l*O,L=l*K,R=l*_,S=l*T,G=l*k,E=l*M,X=0,W=o,f=0;f<d;++f)y=x+W,m=A+W,C=v+W,V=L+W,Z=R+W,N=S+W,D=G+W,w=E+W,nt[X]=s[m],at[X]=s[V],q=q&&nt[X]===at[X],U=s[y],I=s[C],b=s[Z],s[N]=U,s[D]=I,s[w]=b,++X,W+=u;for(x=l*Y,A=l*n,W=o,f=0;f<d;++f)m=A+W,s[y=x+W]=s[m],W+=u;for(x=l*J,A=l*a,W=o,f=0;f<d;++f)m=A+W,s[y=x+W]=s[m],W+=u;if(q)for(p=P;p<=j;++p){y=o+p*l,X=0;t:for(f=0;f<d&&0===(it=s[y]-nt[X]);++f)X+=F,y+=B;if(0!==it)if(it<0){if(p!==P)for(x=l*p,A=l*P,W=o,f=0;f<d;++f)m=A+W,h=s[y=x+W],s[y]=s[m],s[m]=h,W+=u;++P}else for(;;){y=o+j*l,X=0;t:for(f=0;f<d&&0===(it=s[y]-nt[X]);++f)X+=F,y+=B;if(!(it>0)){if(it<0){for(x=l*p,A=l*P,v=l*j,W=o,f=0;f<d;++f)m=A+W,C=v+W,h=s[y=x+W],s[y]=s[m],s[m]=s[C],s[C]=h,W+=u;++P,--j;break}for(x=l*p,A=l*j,W=o,f=0;f<d;++f)m=A+W,h=s[y=x+W],s[y]=s[m],s[m]=h,W+=u;--j;break}j--}}else for(p=P;p<=j;++p){y=o+p*l,X=0;t:for(f=0;f<d&&0===(tt=s[y]-nt[X]);++f)X+=F,y+=B;if(tt<0){if(p!==P)for(x=l*p,A=l*P,W=o,f=0;f<d;++f)m=A+W,h=s[y=x+W],s[y]=s[m],s[m]=h,W+=u;++P}else{y=o+p*l,X=0;t:for(f=0;f<d&&0===(et=s[y]-at[X]);++f)X+=F,y+=B;if(et>0)for(;;){y=o+j*l,X=0;t:for(f=0;f<d&&0===(it=s[y]-at[X]);++f)X+=F,y+=B;if(!(it>0)){y=o+j*l,X=0;t:for(f=0;f<d&&0===(it=s[y]-nt[X]);++f)X+=F,y+=B;if(it<0){for(x=l*p,A=l*P,v=l*j,W=o,f=0;f<d;++f)m=A+W,C=v+W,h=s[y=x+W],s[y]=s[m],s[m]=s[C],s[C]=h,W+=u;++P,--j}else{for(x=l*p,A=l*j,W=o,f=0;f<d;++f)m=A+W,h=s[y=x+W],s[y]=s[m],s[m]=h,W+=u;--j}break}if(--j<p)break}}}for(x=l*n,A=l*(P-1),X=0,W=o,f=0;f<d;++f)m=A+W,s[y=x+W]=s[m],s[m]=nt[X],++X,W+=u;for(x=l*a,A=l*(j+1),X=0,W=o,f=0;f<d;++f)m=A+W,s[y=x+W]=s[m],s[m]=at[X],++X,W+=u;if(P-2-n<=32?t(n,P-2,s,o,l,c,g,d,u,B,F):r(n,P-2,s,o,l,c,g,d,u,B,F),a-(j+2)<=32?t(j+2,a,s,o,l,c,g,d,u,B,F):r(j+2,a,s,o,l,c,g,d,u,B,F),q)return i(nt),void i(at);if(P<T&&j>M){t:for(;;){for(y=o+P*l,X=0,W=o,f=0;f<d;++f){if(s[y]!==nt[X])break t;++X,y+=u}++P}t:for(;;){for(y=o+j*l,X=0,W=o,f=0;f<d;++f){if(s[y]!==at[X])break t;++X,y+=u}--j}for(p=P;p<=j;++p){y=o+p*l,X=0;t:for(f=0;f<d&&0===(tt=s[y]-nt[X]);++f)X+=F,y+=B;if(0===tt){if(p!==P)for(x=l*p,A=l*P,W=o,f=0;f<d;++f)m=A+W,h=s[y=x+W],s[y]=s[m],s[m]=h,W+=u;++P}else{y=o+p*l,X=0;t:for(f=0;f<d&&0===(et=s[y]-at[X]);++f)X+=F,y+=B;if(0===et)for(;;){y=o+j*l,X=0;t:for(f=0;f<d&&0===(it=s[y]-at[X]);++f)X+=F,y+=B;if(0!==it){y=o+j*l,X=0;t:for(f=0;f<d&&0===(it=s[y]-nt[X]);++f)X+=F,y+=B;if(it<0){for(x=l*p,A=l*P,v=l*j,W=o,f=0;f<d;++f)m=A+W,C=v+W,h=s[y=x+W],s[y]=s[m],s[m]=s[C],s[C]=h,W+=u;++P,--j}else{for(x=l*p,A=l*j,W=o,f=0;f<d;++f)m=A+W,h=s[y=x+W],s[y]=s[m],s[m]=h,W+=u;--j}break}if(--j<p)break}}}}i(nt),i(at),j-P<=32?t(P,j,s,o,l,c,g,d,u,B,F):r(P,j,s,o,l,c,g,d,u,B,F)}}};var o={"uint32,1,0":function(t,e){return function(i){var r=i.data,n=0|i.offset,a=i.shape,s=i.stride,o=0|s[0],l=0|a[0],c=0|s[1],g=0|a[1],d=c,u=c;l<=32?t(0,l-1,r,n,o,c,l,g,d,u,1):e(0,l-1,r,n,o,c,l,g,d,u,1)}}};t.exports=function(t,e){var i=[e,t].join(","),r=o[i],l=function(t,e){var i=n(e),r=[e,t].join(","),s=a[r];return i?s(i[0],i[1]):s()}(t,e),c=function(t,e,i){var r=n(e),a=[e,t].join(","),o=s[a];return t.length>1&&r?o(i,r[0],r[1]):o(i)}(t,e,l);return r(l,c)}},446:function(t,e,i){var r=i(7640),n={};t.exports=function(t){var e=t.order,i=t.dtype,a=[e,i].join(":"),s=n[a];return s||(n[a]=s=r(e,i)),s(t),t}},9618:function(t,e,i){var r=i(7163),n="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,i=new Array(e.length);for(t=0;t<i.length;++t)i[t]=[Math.abs(e[t]),t];i.sort(a);var r=new Array(i.length);for(t=0;t<r.length;++t)r[t]=i[t][1];return r}var o={T:function(t){function e(t){this.data=t}var i=e.prototype;return i.dtype=t,i.index=function(){return-1},i.size=0,i.dimension=-1,i.shape=i.stride=i.order=[],i.lo=i.hi=i.transpose=i.step=function(){return new e(this.data)},i.get=i.set=function(){},i.pick=function(){return null},function(t){return new e(t)}},0:function(t,e){function i(t,e){this.data=t,this.offset=e}var r=i.prototype;return r.dtype=t,r.index=function(){return this.offset},r.dimension=0,r.size=1,r.shape=r.stride=r.order=[],r.lo=r.hi=r.transpose=r.step=function(){return new i(this.data,this.offset)},r.pick=function(){return e(this.data)},r.valueOf=r.get=function(){return"generic"===t?this.data.get(this.offset):this.data[this.offset]},r.set=function(e){return"generic"===t?this.data.set(this.offset,e):this.data[this.offset]=e},function(t,e,r,n){return new i(t,n)}},1:function(t,e,i){function r(t,e,i,r){this.data=t,this.shape=[e],this.stride=[i],this.offset=0|r}var n=r.prototype;return n.dtype=t,n.dimension=1,Object.defineProperty(n,"size",{get:function(){return this.shape[0]}}),n.order=[0],n.set=function(e,i){return"generic"===t?this.data.set(this.offset+this.stride[0]*e,i):this.data[this.offset+this.stride[0]*e]=i},n.get=function(e){return"generic"===t?this.data.get(this.offset+this.stride[0]*e):this.data[this.offset+this.stride[0]*e]},n.index=function(t){return this.offset+this.stride[0]*t},n.hi=function(t){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,this.stride[0],this.offset)},n.lo=function(t){var e=this.offset,i=0,n=this.shape[0],a=this.stride[0];return"number"==typeof t&&t>=0&&(e+=a*(i=0|t),n-=i),new r(this.data,n,a,e)},n.step=function(t){var e=this.shape[0],i=this.stride[0],n=this.offset,a=0,s=Math.ceil;return"number"==typeof t&&((a=0|t)<0?(n+=i*(e-1),e=s(-e/a)):e=s(e/a),i*=a),new r(this.data,e,i,n)},n.transpose=function(t){t=void 0===t?0:0|t;var e=this.shape,i=this.stride;return new r(this.data,e[t],i[t],this.offset)},n.pick=function(t){var i=[],r=[],n=this.offset;return"number"==typeof t&&t>=0?n=n+this.stride[0]*t|0:(i.push(this.shape[0]),r.push(this.stride[0])),(0,e[i.length+1])(this.data,i,r,n)},function(t,e,i,n){return new r(t,e[0],i[0],n)}},2:function(t,e,i){function r(t,e,i,r,n,a){this.data=t,this.shape=[e,i],this.stride=[r,n],this.offset=0|a}var n=r.prototype;return n.dtype=t,n.dimension=2,Object.defineProperty(n,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(n,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),n.set=function(e,i,r){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*i,r):this.data[this.offset+this.stride[0]*e+this.stride[1]*i]=r},n.get=function(e,i){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*i):this.data[this.offset+this.stride[0]*e+this.stride[1]*i]},n.index=function(t,e){return this.offset+this.stride[0]*t+this.stride[1]*e},n.hi=function(t,e){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,this.stride[0],this.stride[1],this.offset)},n.lo=function(t,e){var i=this.offset,n=0,a=this.shape[0],s=this.shape[1],o=this.stride[0],l=this.stride[1];return"number"==typeof t&&t>=0&&(i+=o*(n=0|t),a-=n),"number"==typeof e&&e>=0&&(i+=l*(n=0|e),s-=n),new r(this.data,a,s,o,l,i)},n.step=function(t,e){var i=this.shape[0],n=this.shape[1],a=this.stride[0],s=this.stride[1],o=this.offset,l=0,c=Math.ceil;return"number"==typeof t&&((l=0|t)<0?(o+=a*(i-1),i=c(-i/l)):i=c(i/l),a*=l),"number"==typeof e&&((l=0|e)<0?(o+=s*(n-1),n=c(-n/l)):n=c(n/l),s*=l),new r(this.data,i,n,a,s,o)},n.transpose=function(t,e){t=void 0===t?0:0|t,e=void 0===e?1:0|e;var i=this.shape,n=this.stride;return new r(this.data,i[t],i[e],n[t],n[e],this.offset)},n.pick=function(t,i){var r=[],n=[],a=this.offset;return"number"==typeof t&&t>=0?a=a+this.stride[0]*t|0:(r.push(this.shape[0]),n.push(this.stride[0])),"number"==typeof i&&i>=0?a=a+this.stride[1]*i|0:(r.push(this.shape[1]),n.push(this.stride[1])),(0,e[r.length+1])(this.data,r,n,a)},function(t,e,i,n){return new r(t,e[0],e[1],i[0],i[1],n)}},3:function(t,e,i){function r(t,e,i,r,n,a,s,o){this.data=t,this.shape=[e,i,r],this.stride=[n,a,s],this.offset=0|o}var n=r.prototype;return n.dtype=t,n.dimension=3,Object.defineProperty(n,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(n,"order",{get:function(){var t=Math.abs(this.stride[0]),e=Math.abs(this.stride[1]),i=Math.abs(this.stride[2]);return t>e?e>i?[2,1,0]:t>i?[1,2,0]:[1,0,2]:t>i?[2,0,1]:i>e?[0,1,2]:[0,2,1]}}),n.set=function(e,i,r,n){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r,n):this.data[this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r]=n},n.get=function(e,i,r){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r):this.data[this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r]},n.index=function(t,e,i){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*i},n.hi=function(t,e,i){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof i||i<0?this.shape[2]:0|i,this.stride[0],this.stride[1],this.stride[2],this.offset)},n.lo=function(t,e,i){var n=this.offset,a=0,s=this.shape[0],o=this.shape[1],l=this.shape[2],c=this.stride[0],g=this.stride[1],d=this.stride[2];return"number"==typeof t&&t>=0&&(n+=c*(a=0|t),s-=a),"number"==typeof e&&e>=0&&(n+=g*(a=0|e),o-=a),"number"==typeof i&&i>=0&&(n+=d*(a=0|i),l-=a),new r(this.data,s,o,l,c,g,d,n)},n.step=function(t,e,i){var n=this.shape[0],a=this.shape[1],s=this.shape[2],o=this.stride[0],l=this.stride[1],c=this.stride[2],g=this.offset,d=0,u=Math.ceil;return"number"==typeof t&&((d=0|t)<0?(g+=o*(n-1),n=u(-n/d)):n=u(n/d),o*=d),"number"==typeof e&&((d=0|e)<0?(g+=l*(a-1),a=u(-a/d)):a=u(a/d),l*=d),"number"==typeof i&&((d=0|i)<0?(g+=c*(s-1),s=u(-s/d)):s=u(s/d),c*=d),new r(this.data,n,a,s,o,l,c,g)},n.transpose=function(t,e,i){t=void 0===t?0:0|t,e=void 0===e?1:0|e,i=void 0===i?2:0|i;var n=this.shape,a=this.stride;return new r(this.data,n[t],n[e],n[i],a[t],a[e],a[i],this.offset)},n.pick=function(t,i,r){var n=[],a=[],s=this.offset;return"number"==typeof t&&t>=0?s=s+this.stride[0]*t|0:(n.push(this.shape[0]),a.push(this.stride[0])),"number"==typeof i&&i>=0?s=s+this.stride[1]*i|0:(n.push(this.shape[1]),a.push(this.stride[1])),"number"==typeof r&&r>=0?s=s+this.stride[2]*r|0:(n.push(this.shape[2]),a.push(this.stride[2])),(0,e[n.length+1])(this.data,n,a,s)},function(t,e,i,n){return new r(t,e[0],e[1],e[2],i[0],i[1],i[2],n)}},4:function(t,e,i){function r(t,e,i,r,n,a,s,o,l,c){this.data=t,this.shape=[e,i,r,n],this.stride=[a,s,o,l],this.offset=0|c}var n=r.prototype;return n.dtype=t,n.dimension=4,Object.defineProperty(n,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(n,"order",{get:i}),n.set=function(e,i,r,n,a){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n,a):this.data[this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n]=a},n.get=function(e,i,r,n){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n):this.data[this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n]},n.index=function(t,e,i,r){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*i+this.stride[3]*r},n.hi=function(t,e,i,n){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof i||i<0?this.shape[2]:0|i,"number"!=typeof n||n<0?this.shape[3]:0|n,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},n.lo=function(t,e,i,n){var a=this.offset,s=0,o=this.shape[0],l=this.shape[1],c=this.shape[2],g=this.shape[3],d=this.stride[0],u=this.stride[1],B=this.stride[2],F=this.stride[3];return"number"==typeof t&&t>=0&&(a+=d*(s=0|t),o-=s),"number"==typeof e&&e>=0&&(a+=u*(s=0|e),l-=s),"number"==typeof i&&i>=0&&(a+=B*(s=0|i),c-=s),"number"==typeof n&&n>=0&&(a+=F*(s=0|n),g-=s),new r(this.data,o,l,c,g,d,u,B,F,a)},n.step=function(t,e,i,n){var a=this.shape[0],s=this.shape[1],o=this.shape[2],l=this.shape[3],c=this.stride[0],g=this.stride[1],d=this.stride[2],u=this.stride[3],B=this.offset,F=0,h=Math.ceil;return"number"==typeof t&&((F=0|t)<0?(B+=c*(a-1),a=h(-a/F)):a=h(a/F),c*=F),"number"==typeof e&&((F=0|e)<0?(B+=g*(s-1),s=h(-s/F)):s=h(s/F),g*=F),"number"==typeof i&&((F=0|i)<0?(B+=d*(o-1),o=h(-o/F)):o=h(o/F),d*=F),"number"==typeof n&&((F=0|n)<0?(B+=u*(l-1),l=h(-l/F)):l=h(l/F),u*=F),new r(this.data,a,s,o,l,c,g,d,u,B)},n.transpose=function(t,e,i,n){t=void 0===t?0:0|t,e=void 0===e?1:0|e,i=void 0===i?2:0|i,n=void 0===n?3:0|n;var a=this.shape,s=this.stride;return new r(this.data,a[t],a[e],a[i],a[n],s[t],s[e],s[i],s[n],this.offset)},n.pick=function(t,i,r,n){var a=[],s=[],o=this.offset;return"number"==typeof t&&t>=0?o=o+this.stride[0]*t|0:(a.push(this.shape[0]),s.push(this.stride[0])),"number"==typeof i&&i>=0?o=o+this.stride[1]*i|0:(a.push(this.shape[1]),s.push(this.stride[1])),"number"==typeof r&&r>=0?o=o+this.stride[2]*r|0:(a.push(this.shape[2]),s.push(this.stride[2])),"number"==typeof n&&n>=0?o=o+this.stride[3]*n|0:(a.push(this.shape[3]),s.push(this.stride[3])),(0,e[a.length+1])(this.data,a,s,o)},function(t,e,i,n){return new r(t,e[0],e[1],e[2],e[3],i[0],i[1],i[2],i[3],n)}},5:function(t,e,i){function r(t,e,i,r,n,a,s,o,l,c,g,d){this.data=t,this.shape=[e,i,r,n,a],this.stride=[s,o,l,c,g],this.offset=0|d}var n=r.prototype;return n.dtype=t,n.dimension=5,Object.defineProperty(n,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(n,"order",{get:i}),n.set=function(e,i,r,n,a,s){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n+this.stride[4]*a,s):this.data[this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n+this.stride[4]*a]=s},n.get=function(e,i,r,n,a){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n+this.stride[4]*a):this.data[this.offset+this.stride[0]*e+this.stride[1]*i+this.stride[2]*r+this.stride[3]*n+this.stride[4]*a]},n.index=function(t,e,i,r,n){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*i+this.stride[3]*r+this.stride[4]*n},n.hi=function(t,e,i,n,a){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof i||i<0?this.shape[2]:0|i,"number"!=typeof n||n<0?this.shape[3]:0|n,"number"!=typeof a||a<0?this.shape[4]:0|a,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},n.lo=function(t,e,i,n,a){var s=this.offset,o=0,l=this.shape[0],c=this.shape[1],g=this.shape[2],d=this.shape[3],u=this.shape[4],B=this.stride[0],F=this.stride[1],h=this.stride[2],Q=this.stride[3],U=this.stride[4];return"number"==typeof t&&t>=0&&(s+=B*(o=0|t),l-=o),"number"==typeof e&&e>=0&&(s+=F*(o=0|e),c-=o),"number"==typeof i&&i>=0&&(s+=h*(o=0|i),g-=o),"number"==typeof n&&n>=0&&(s+=Q*(o=0|n),d-=o),"number"==typeof a&&a>=0&&(s+=U*(o=0|a),u-=o),new r(this.data,l,c,g,d,u,B,F,h,Q,U,s)},n.step=function(t,e,i,n,a){var s=this.shape[0],o=this.shape[1],l=this.shape[2],c=this.shape[3],g=this.shape[4],d=this.stride[0],u=this.stride[1],B=this.stride[2],F=this.stride[3],h=this.stride[4],Q=this.offset,U=0,I=Math.ceil;return"number"==typeof t&&((U=0|t)<0?(Q+=d*(s-1),s=I(-s/U)):s=I(s/U),d*=U),"number"==typeof e&&((U=0|e)<0?(Q+=u*(o-1),o=I(-o/U)):o=I(o/U),u*=U),"number"==typeof i&&((U=0|i)<0?(Q+=B*(l-1),l=I(-l/U)):l=I(l/U),B*=U),"number"==typeof n&&((U=0|n)<0?(Q+=F*(c-1),c=I(-c/U)):c=I(c/U),F*=U),"number"==typeof a&&((U=0|a)<0?(Q+=h*(g-1),g=I(-g/U)):g=I(g/U),h*=U),new r(this.data,s,o,l,c,g,d,u,B,F,h,Q)},n.transpose=function(t,e,i,n,a){t=void 0===t?0:0|t,e=void 0===e?1:0|e,i=void 0===i?2:0|i,n=void 0===n?3:0|n,a=void 0===a?4:0|a;var s=this.shape,o=this.stride;return new r(this.data,s[t],s[e],s[i],s[n],s[a],o[t],o[e],o[i],o[n],o[a],this.offset)},n.pick=function(t,i,r,n,a){var s=[],o=[],l=this.offset;return"number"==typeof t&&t>=0?l=l+this.stride[0]*t|0:(s.push(this.shape[0]),o.push(this.stride[0])),"number"==typeof i&&i>=0?l=l+this.stride[1]*i|0:(s.push(this.shape[1]),o.push(this.stride[1])),"number"==typeof r&&r>=0?l=l+this.stride[2]*r|0:(s.push(this.shape[2]),o.push(this.stride[2])),"number"==typeof n&&n>=0?l=l+this.stride[3]*n|0:(s.push(this.shape[3]),o.push(this.stride[3])),"number"==typeof a&&a>=0?l=l+this.stride[4]*a|0:(s.push(this.shape[4]),o.push(this.stride[4])),(0,e[s.length+1])(this.data,s,o,l)},function(t,e,i,n){return new r(t,e[0],e[1],e[2],e[3],e[4],i[0],i[1],i[2],i[3],i[4],n)}}};function l(t,e){var i=-1===e?"T":String(e),r=o[i];return-1===e?r(t):0===e?r(t,c[t][0]):r(t,c[t],s)}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};t.exports=function(t,e,i,a){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===i){i=new Array(s);for(var o=s-1,g=1;o>=0;--o)i[o]=g,g*=e[o]}if(void 0===a){a=0;for(o=0;o<s;++o)i[o]<0&&(a-=(e[o]-1)*i[o])}for(var d=function(t){if(r(t))return"buffer";if(n)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),u=c[d];u.length<=s+1;)u.push(l(d,u.length-1));return(0,u[s+1])(t,e,i,a)}},1278:function(t,e,i){var r=i(2361),n=Math.pow(2,-1074),a=-1>>>0;t.exports=function(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-n:n;var i=r.hi(t),s=r.lo(t);e>t==t>0?s===a?(i+=1,s=0):s+=1:0===s?(s=a,i-=1):s-=1;return r.pack(s,i)}},8406:function(t,e){e.vertexNormals=function(t,e,i){for(var r=e.length,n=new Array(r),a=void 0===i?1e-6:i,s=0;s<r;++s)n[s]=[0,0,0];for(s=0;s<t.length;++s)for(var o=t[s],l=0,c=o[o.length-1],g=o[0],d=0;d<o.length;++d){l=c,c=g,g=o[(d+1)%o.length];for(var u=e[l],B=e[c],F=e[g],h=new Array(3),Q=0,U=new Array(3),I=0,b=0;b<3;++b)h[b]=u[b]-B[b],Q+=h[b]*h[b],U[b]=F[b]-B[b],I+=U[b]*U[b];if(Q*I>a){var p=n[c],y=1/Math.sqrt(Q*I);for(b=0;b<3;++b){var m=(b+1)%3,C=(b+2)%3;p[b]+=y*(U[m]*h[C]-U[C]*h[m])}}}for(s=0;s<r;++s){p=n[s];var f=0;for(b=0;b<3;++b)f+=p[b]*p[b];if(f>a)for(y=1/Math.sqrt(f),b=0;b<3;++b)p[b]*=y;else for(b=0;b<3;++b)p[b]=0}return n},e.faceNormals=function(t,e,i){for(var r=t.length,n=new Array(r),a=void 0===i?1e-6:i,s=0;s<r;++s){for(var o=t[s],l=new Array(3),c=0;c<3;++c)l[c]=e[o[c]];var g=new Array(3),d=new Array(3);for(c=0;c<3;++c)g[c]=l[1][c]-l[0][c],d[c]=l[2][c]-l[0][c];var u=new Array(3),B=0;for(c=0;c<3;++c){var F=(c+1)%3,h=(c+2)%3;u[c]=g[F]*d[h]-g[h]*d[F],B+=u[c]*u[c]}B=B>a?1/Math.sqrt(B):0;for(c=0;c<3;++c)u[c]*=B;n[s]=u}return n}},4081:function(t){t.exports=function(t,e,i,r,n,a,s,o,l,c){var g=e+a+c;if(d>0){var d=Math.sqrt(g+1);t[0]=.5*(s-l)/d,t[1]=.5*(o-r)/d,t[2]=.5*(i-a)/d,t[3]=.5*d}else{var u=Math.max(e,a,c);d=Math.sqrt(2*u-g+1);e>=u?(t[0]=.5*d,t[1]=.5*(n+i)/d,t[2]=.5*(o+r)/d,t[3]=.5*(s-l)/d):a>=u?(t[0]=.5*(i+n)/d,t[1]=.5*d,t[2]=.5*(l+s)/d,t[3]=.5*(o-r)/d):(t[0]=.5*(r+o)/d,t[1]=.5*(s+l)/d,t[2]=.5*d,t[3]=.5*(i-n)/d)}return t}},9977:function(t,e,i){t.exports=function(t){var e=(t=t||{}).center||[0,0,0],i=t.rotation||[0,0,0,1],r=t.radius||1;e=[].slice.call(e,0,3),i=[].slice.call(i,0,4),g(i,i);var n=new d(i,e,Math.log(r));n.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&n.lookAt(0,t.eye,t.center,t.up);return n};var r=i(9215),n=i(6582),a=i(7399),s=i(7608),o=i(4081);function l(t,e,i){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(i,2))}function c(t,e,i,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(i,2)+Math.pow(r,2))}function g(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=c(i,r,n,a);s>1e-6?(t[0]=i/s,t[1]=r/s,t[2]=n/s,t[3]=a/s):(t[0]=t[1]=t[2]=0,t[3]=1)}function d(t,e,i){this.radius=r([i]),this.center=r(e),this.rotation=r(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var u=d.prototype;u.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},u.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;g(e,e);var i=this.computedMatrix;a(i,e);var r=this.computedCenter,n=this.computedEye,s=this.computedUp,o=Math.exp(this.computedRadius[0]);n[0]=r[0]+o*i[2],n[1]=r[1]+o*i[6],n[2]=r[2]+o*i[10],s[0]=i[1],s[1]=i[5],s[2]=i[9];for(var l=0;l<3;++l){for(var c=0,d=0;d<3;++d)c+=i[l+4*d]*n[d];i[12+l]=-c}},u.getMatrix=function(t,e){this.recalcMatrix(t);var i=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=i[r];return e}return i},u.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},u.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},u.pan=function(t,e,i,r){e=e||0,i=i||0,r=r||0,this.recalcMatrix(t);var n=this.computedMatrix,a=n[1],s=n[5],o=n[9],c=l(a,s,o);a/=c,s/=c,o/=c;var g=n[0],d=n[4],u=n[8],B=g*a+d*s+u*o,F=l(g-=a*B,d-=s*B,u-=o*B);g/=F,d/=F,u/=F,n[2],n[6],n[10];var h=g*e+a*i,Q=d*e+s*i,U=u*e+o*i;this.center.move(t,h,Q,U);var I=Math.exp(this.computedRadius[0]);I=Math.max(1e-4,I+r),this.radius.set(t,Math.log(I))},u.rotate=function(t,e,i,r){this.recalcMatrix(t),e=e||0,i=i||0;var n=this.computedMatrix,a=n[0],s=n[4],o=n[8],g=n[1],d=n[5],u=n[9],B=n[2],F=n[6],h=n[10],Q=e*a+i*g,U=e*s+i*d,I=e*o+i*u,b=-(F*I-h*U),p=-(h*Q-B*I),y=-(B*U-F*Q),m=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(p,2)-Math.pow(y,2))),C=c(b,p,y,m);C>1e-6?(b/=C,p/=C,y/=C,m/=C):(b=p=y=0,m=1);var f=this.computedRotation,x=f[0],A=f[1],v=f[2],L=f[3],R=x*m+L*b+A*y-v*p,S=A*m+L*p+v*b-x*y,G=v*m+L*y+x*p-A*b,E=L*m-x*b-A*p-v*y;if(r){b=B,p=F,y=h;var V=Math.sin(r)/l(b,p,y);b*=V,p*=V,y*=V,E=E*(m=Math.cos(e))-(R=R*m+E*b+S*y-G*p)*b-(S=S*m+E*p+G*b-R*y)*p-(G=G*m+E*y+R*p-S*b)*y}var Z=c(R,S,G,E);Z>1e-6?(R/=Z,S/=Z,G/=Z,E/=Z):(R=S=G=0,E=1),this.rotation.set(t,R,S,G,E)},u.lookAt=function(t,e,i,r){this.recalcMatrix(t),i=i||this.computedCenter,e=e||this.computedEye,r=r||this.computedUp;var a=this.computedMatrix;n(a,e,i,r);var s=this.computedRotation;o(s,a[0],a[1],a[2],a[4],a[5],a[6],a[8],a[9],a[10]),g(s,s),this.rotation.set(t,s[0],s[1],s[2],s[3]);for(var l=0,c=0;c<3;++c)l+=Math.pow(i[c]-e[c],2);this.radius.set(t,.5*Math.log(Math.max(l,1e-6))),this.center.set(t,i[0],i[1],i[2])},u.translate=function(t,e,i,r){this.center.move(t,e||0,i||0,r||0)},u.setMatrix=function(t,e){var i=this.computedRotation;o(i,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),g(i,i),this.rotation.set(t,i[0],i[1],i[2],i[3]);var r=this.computedMatrix;s(r,e);var n=r[15];if(Math.abs(n)>1e-6){var a=r[12]/n,l=r[13]/n,c=r[14]/n;this.recalcMatrix(t);var d=Math.exp(this.computedRadius[0]);this.center.set(t,a-r[2]*d,l-r[6]*d,c-r[10]*d),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},u.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},u.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},u.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},u.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},u.fromJSON=function(t){var e=this.lastT(),i=t.center;i&&this.center.set(e,i[0],i[1],i[2]);var r=t.rotation;r&&this.rotation.set(e,r[0],r[1],r[2],r[3]);var n=t.distance;n&&n>0&&this.radius.set(e,Math.log(n)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},1371:function(t,e,i){
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
var r=i(3233);t.exports=function(t,e,i){return r(i=void 0!==i?i+"":" ",e)+t}},3202:function(t){t.exports=function(t,e){e||(e=[0,""]),t=String(t);var i=parseFloat(t,10);return e[0]=i,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},3088:function(t,e,i){t.exports=function(t,e){for(var i=0|e.length,n=t.length,a=[new Array(i),new Array(i)],s=0;s<i;++s)a[0][s]=[],a[1][s]=[];for(s=0;s<n;++s){var o=t[s];a[0][o[0]].push(o),a[1][o[1]].push(o)}var l=[];for(s=0;s<i;++s)a[0][s].length+a[1][s].length===0&&l.push([s]);function c(t,e){var i=a[e][t[e]];i.splice(i.indexOf(t),1)}function g(t,i,n){for(var s,o,l,g=0;g<2;++g)if(a[g][i].length>0){s=a[g][i][0],l=g;break}o=s[1^l];for(var d=0;d<2;++d)for(var u=a[d][i],B=0;B<u.length;++B){var F=u[B],h=F[1^d];r(e[t],e[i],e[o],e[h])>0&&(s=F,o=h,l=d)}return n||s&&c(s,l),o}function d(t,i){var n=a[i][t][0],s=[t];c(n,i);for(var o=n[1^i];;){for(;o!==t;)s.push(o),o=g(s[s.length-2],o,!1);if(a[0][t].length+a[1][t].length===0)break;var l=s[s.length-1],d=t,u=s[1],B=g(l,d,!0);if(r(e[l],e[d],e[u],e[B])<0)break;s.push(t),o=g(l,d)}return s}function u(t,e){return e[1]===e[e.length-1]}for(s=0;s<i;++s)for(var B=0;B<2;++B){for(var F=[];a[B][s].length>0;){a[0][s].length;var h=d(s,B);u(0,h)?F.push.apply(F,h):(F.length>0&&l.push(F),F=h)}F.length>0&&l.push(F)}return l};var r=i(3140)},5609:function(t,e,i){t.exports=function(t,e){for(var i=r(t,e.length),n=new Array(e.length),a=new Array(e.length),s=[],o=0;o<e.length;++o){var l=i[o].length;a[o]=l,n[o]=!0,l<=1&&s.push(o)}for(;s.length>0;){n[B=s.pop()]=!1;var c=i[B];for(o=0;o<c.length;++o){var g=c[o];0===--a[g]&&s.push(g)}}var d=new Array(e.length),u=[];for(o=0;o<e.length;++o)if(n[o]){var B=u.length;d[o]=B,u.push(e[o])}else d[o]=-1;var F=[];for(o=0;o<t.length;++o){var h=t[o];n[h[0]]&&n[h[1]]&&F.push([d[h[0]],d[h[1]]])}return[F,u]};var r=i(3134)},2095:function(t,e,i){t.exports=function(t,e){var i=c(t,e);t=i[0];var d=(e=i[1]).length;t.length;for(var u=r(t,e.length),B=0;B<d;++B)if(u[B].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var F=n(t,e);var h=(F=F.filter(function(t){for(var i=t.length,r=[0],n=0;n<i;++n){var a=e[t[n]],l=e[t[(n+1)%i]],c=s(-a[0],a[1]),g=s(-a[0],l[1]),d=s(l[0],a[1]),u=s(l[0],l[1]);r=o(r,o(o(c,g),o(d,u)))}return r[r.length-1]>0})).length,Q=new Array(h),U=new Array(h);for(B=0;B<h;++B){Q[B]=B;var I=new Array(h),b=F[B].map(function(t){return e[t]}),p=a([b]),y=0;t:for(var m=0;m<h;++m)if(I[m]=0,B!==m){for(var C=(k=F[m]).length,f=0;f<C;++f){var x=p(e[k[f]]);if(0!==x){x<0&&(I[m]=1,y+=1);continue t}}I[m]=1,y+=1}U[B]=[y,B,I]}U.sort(function(t,e){return e[0]-t[0]});for(B=0;B<h;++B){var A=(I=U[B])[1],v=I[2];for(m=0;m<h;++m)v[m]&&(Q[m]=A)}var L=function(t){for(var e=new Array(t),i=0;i<t;++i)e[i]=[];return e}(h);for(B=0;B<h;++B)L[B].push(Q[B]),L[Q[B]].push(B);var R={},S=g(d,!1);for(B=0;B<h;++B)for(C=(k=F[B]).length,m=0;m<C;++m){var G=k[m],E=k[(m+1)%C],V=Math.min(G,E)+":"+Math.max(G,E);if(V in R){var Z=R[V];L[Z].push(B),L[B].push(Z),S[G]=S[E]=!0}else R[V]=B}function N(t){for(var e=t.length,i=0;i<e;++i)if(!S[t[i]])return!1;return!0}var D=[],w=g(h,-1);for(B=0;B<h;++B)Q[B]!==B||N(F[B])?w[B]=-1:(D.push(B),w[B]=0);i=[];for(;D.length>0;){var X=D.pop(),W=L[X];l(W,function(t,e){return t-e});var H,T=W.length,M=w[X];if(0===M)H=[k=F[X]];for(B=0;B<T;++B){var k,Y=W[B];if(!(w[Y]>=0))if(w[Y]=1^M,D.push(Y),0===M)N(k=F[Y])||(k.reverse(),H.push(k))}0===M&&i.push(H)}return i};var r=i(3134),n=i(3088),a=i(5085),s=i(5250),o=i(8210),l=i(1682),c=i(5609);function g(t,e){for(var i=new Array(t),r=0;r<t;++r)i[r]=e;return i}},5085:function(t,e,i){t.exports=function(t){for(var e=t.length,i=[],a=[],o=0;o<e;++o)for(var g=t[o],d=g.length,u=d-1,B=0;B<d;u=B++){var F=g[u],h=g[B];F[0]===h[0]?a.push([F,h]):i.push([F,h])}if(0===i.length)return 0===a.length?c:(Q=l(a),function(t){return Q(t[0],t[1])?0:1});var Q;var U=n(i),I=function(t,e){return function(i){var n=s.le(e,i[0]);if(n<0)return 1;var a=t[n];if(!a){if(!(n>0&&e[n]===i[0]))return 1;a=t[n-1]}for(var o=1;a;){var l=a.key,c=r(i,l[0],l[1]);if(l[0][0]<l[1][0])if(c<0)a=a.left;else{if(!(c>0))return 0;o=-1,a=a.right}else if(c>0)a=a.left;else{if(!(c<0))return 0;o=1,a=a.right}}return o}}(U.slabs,U.coordinates);return 0===a.length?I:function(t,e){return function(i){return t(i[0],i[1])?0:e(i)}}(l(a),I)};var r=i(3250)[3],n=i(4209),a=i(3352),s=i(2478);function o(){return!0}function l(t){for(var e={},i=0;i<t.length;++i){var r=t[i],n=r[0][0],s=r[0][1],l=r[1][1],c=[Math.min(s,l),Math.max(s,l)];n in e?e[n].push(c):e[n]=[c]}var g={},d=Object.keys(e);for(i=0;i<d.length;++i){var u=e[d[i]];g[d[i]]=a(u)}return function(t){return function(e,i){var r=t[e];return!!r&&!!r.queryPoint(i,o)}}(g)}function c(t){return 1}},9346:function(t){var e=new Float64Array(4),i=new Float64Array(4),r=new Float64Array(4);t.exports=function(t,n,a,s,o){e.length<s.length&&(e=new Float64Array(s.length),i=new Float64Array(s.length),r=new Float64Array(s.length));for(var l=0;l<s.length;++l)e[l]=t[l]-s[l],i[l]=n[l]-t[l],r[l]=a[l]-t[l];var c=0,g=0,d=0,u=0,B=0,F=0;for(l=0;l<s.length;++l){var h=i[l],Q=r[l],U=e[l];c+=h*h,g+=h*Q,d+=Q*Q,u+=U*h,B+=U*Q,F+=U*U}var I,b,p,y,m,C=Math.abs(c*d-g*g),f=g*B-d*u,x=g*u-c*B;if(f+x<=C)if(f<0)x<0&&u<0?(x=0,-u>=c?(f=1,I=c+2*u+F):I=u*(f=-u/c)+F):(f=0,B>=0?(x=0,I=F):-B>=d?(x=1,I=d+2*B+F):I=B*(x=-B/d)+F);else if(x<0)x=0,u>=0?(f=0,I=F):-u>=c?(f=1,I=c+2*u+F):I=u*(f=-u/c)+F;else{var A=1/C;I=(f*=A)*(c*f+g*(x*=A)+2*u)+x*(g*f+d*x+2*B)+F}else f<0?(p=d+B)>(b=g+u)?(y=p-b)>=(m=c-2*g+d)?(f=1,x=0,I=c+2*u+F):I=(f=y/m)*(c*f+g*(x=1-f)+2*u)+x*(g*f+d*x+2*B)+F:(f=0,p<=0?(x=1,I=d+2*B+F):B>=0?(x=0,I=F):I=B*(x=-B/d)+F):x<0?(p=c+u)>(b=g+B)?(y=p-b)>=(m=c-2*g+d)?(x=1,f=0,I=d+2*B+F):I=(f=1-(x=y/m))*(c*f+g*x+2*u)+x*(g*f+d*x+2*B)+F:(x=0,p<=0?(f=1,I=c+2*u+F):u>=0?(f=0,I=F):I=u*(f=-u/c)+F):(y=d+B-g-u)<=0?(f=0,x=1,I=d+2*B+F):y>=(m=c-2*g+d)?(f=1,x=0,I=c+2*u+F):I=(f=y/m)*(c*f+g*(x=1-f)+2*u)+x*(g*f+d*x+2*B)+F;var v=1-f-x;for(l=0;l<s.length;++l)o[l]=v*t[l]+f*n[l]+x*a[l];return I<0?0:I}},8648:function(t,e,i){t.exports=i(783)},2653:function(t,e,i){var r=i(3865);t.exports=function(t,e){for(var i=t.length,n=new Array(i),a=0;a<i;++a)n[a]=r(t[a],e[a]);return n}},5838:function(t,e,i){t.exports=function(t){for(var e=new Array(t.length),i=0;i<t.length;++i)e[i]=r(t[i]);return e};var r=i(7842)},8987:function(t,e,i){var r=i(7842),n=i(6504);t.exports=function(t,e){for(var i=r(e),a=t.length,s=new Array(a),o=0;o<a;++o)s[o]=n(t[o],i);return s}},544:function(t,e,i){var r=i(5572);t.exports=function(t,e){for(var i=t.length,n=new Array(i),a=0;a<i;++a)n[a]=r(t[a],e[a]);return n}},5771:function(t,e,i){var r=i(8507),n=i(3788),a=i(2419);t.exports=function(t){t.sort(n);for(var e=t.length,i=0,s=0;s<e;++s){var o=t[s],l=a(o);if(0!==l){if(i>0){var c=t[i-1];if(0===r(o,c)&&a(c)!==l){i-=1;continue}}t[i++]=o}}return t.length=i,t}},3233:function(t){
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
var e,i="";t.exports=function(t,r){if("string"!=typeof t)throw new TypeError("expected a string");if(1===r)return t;if(2===r)return t+t;var n=t.length*r;if(e!==t||void 0===e)e=t,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&r>1;)1&r&&(i+=t),r>>=1,t+=t;return i+=t,i=i.substr(0,n),i}},3025:function(t,e,i){t.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(t){t.exports=function(t){for(var e=t.length,i=t[t.length-1],r=e,n=e-2;n>=0;--n){var a=i;(l=(o=t[n])-((i=a+o)-a))&&(t[--r]=i,i=l)}var s=0;for(n=r;n<e;++n){var o,l;(l=(o=i)-((i=(a=t[n])+o)-a))&&(t[s++]=l)}return t[s++]=i,t.length=s,t}},2962:function(t,e,i){var r=i(5250),n=i(8210),a=i(3012),s=i(7004);function o(t,e,i,r){return function(e){return r(t(i(e[0][0],e[1][1]),i(-e[0][1],e[1][0])))}}function l(t,e,i,r){return function(n){return r(t(e(t(i(n[1][1],n[2][2]),i(-n[1][2],n[2][1])),n[0][0]),t(e(t(i(n[1][0],n[2][2]),i(-n[1][2],n[2][0])),-n[0][1]),e(t(i(n[1][0],n[2][1]),i(-n[1][1],n[2][0])),n[0][2]))))}}function c(t,e,i,r){return function(n){return r(t(t(e(t(e(t(i(n[2][2],n[3][3]),i(-n[2][3],n[3][2])),n[1][1]),t(e(t(i(n[2][1],n[3][3]),i(-n[2][3],n[3][1])),-n[1][2]),e(t(i(n[2][1],n[3][2]),i(-n[2][2],n[3][1])),n[1][3]))),n[0][0]),e(t(e(t(i(n[2][2],n[3][3]),i(-n[2][3],n[3][2])),n[1][0]),t(e(t(i(n[2][0],n[3][3]),i(-n[2][3],n[3][0])),-n[1][2]),e(t(i(n[2][0],n[3][2]),i(-n[2][2],n[3][0])),n[1][3]))),-n[0][1])),t(e(t(e(t(i(n[2][1],n[3][3]),i(-n[2][3],n[3][1])),n[1][0]),t(e(t(i(n[2][0],n[3][3]),i(-n[2][3],n[3][0])),-n[1][1]),e(t(i(n[2][0],n[3][1]),i(-n[2][1],n[3][0])),n[1][3]))),n[0][2]),e(t(e(t(i(n[2][1],n[3][2]),i(-n[2][2],n[3][1])),n[1][0]),t(e(t(i(n[2][0],n[3][2]),i(-n[2][2],n[3][0])),-n[1][1]),e(t(i(n[2][0],n[3][1]),i(-n[2][1],n[3][0])),n[1][2]))),-n[0][3]))))}}function g(t,e,i,r){return function(n){return r(t(t(e(t(t(e(t(e(t(i(n[3][3],n[4][4]),i(-n[3][4],n[4][3])),n[2][2]),t(e(t(i(n[3][2],n[4][4]),i(-n[3][4],n[4][2])),-n[2][3]),e(t(i(n[3][2],n[4][3]),i(-n[3][3],n[4][2])),n[2][4]))),n[1][1]),e(t(e(t(i(n[3][3],n[4][4]),i(-n[3][4],n[4][3])),n[2][1]),t(e(t(i(n[3][1],n[4][4]),i(-n[3][4],n[4][1])),-n[2][3]),e(t(i(n[3][1],n[4][3]),i(-n[3][3],n[4][1])),n[2][4]))),-n[1][2])),t(e(t(e(t(i(n[3][2],n[4][4]),i(-n[3][4],n[4][2])),n[2][1]),t(e(t(i(n[3][1],n[4][4]),i(-n[3][4],n[4][1])),-n[2][2]),e(t(i(n[3][1],n[4][2]),i(-n[3][2],n[4][1])),n[2][4]))),n[1][3]),e(t(e(t(i(n[3][2],n[4][3]),i(-n[3][3],n[4][2])),n[2][1]),t(e(t(i(n[3][1],n[4][3]),i(-n[3][3],n[4][1])),-n[2][2]),e(t(i(n[3][1],n[4][2]),i(-n[3][2],n[4][1])),n[2][3]))),-n[1][4]))),n[0][0]),e(t(t(e(t(e(t(i(n[3][3],n[4][4]),i(-n[3][4],n[4][3])),n[2][2]),t(e(t(i(n[3][2],n[4][4]),i(-n[3][4],n[4][2])),-n[2][3]),e(t(i(n[3][2],n[4][3]),i(-n[3][3],n[4][2])),n[2][4]))),n[1][0]),e(t(e(t(i(n[3][3],n[4][4]),i(-n[3][4],n[4][3])),n[2][0]),t(e(t(i(n[3][0],n[4][4]),i(-n[3][4],n[4][0])),-n[2][3]),e(t(i(n[3][0],n[4][3]),i(-n[3][3],n[4][0])),n[2][4]))),-n[1][2])),t(e(t(e(t(i(n[3][2],n[4][4]),i(-n[3][4],n[4][2])),n[2][0]),t(e(t(i(n[3][0],n[4][4]),i(-n[3][4],n[4][0])),-n[2][2]),e(t(i(n[3][0],n[4][2]),i(-n[3][2],n[4][0])),n[2][4]))),n[1][3]),e(t(e(t(i(n[3][2],n[4][3]),i(-n[3][3],n[4][2])),n[2][0]),t(e(t(i(n[3][0],n[4][3]),i(-n[3][3],n[4][0])),-n[2][2]),e(t(i(n[3][0],n[4][2]),i(-n[3][2],n[4][0])),n[2][3]))),-n[1][4]))),-n[0][1])),t(e(t(t(e(t(e(t(i(n[3][3],n[4][4]),i(-n[3][4],n[4][3])),n[2][1]),t(e(t(i(n[3][1],n[4][4]),i(-n[3][4],n[4][1])),-n[2][3]),e(t(i(n[3][1],n[4][3]),i(-n[3][3],n[4][1])),n[2][4]))),n[1][0]),e(t(e(t(i(n[3][3],n[4][4]),i(-n[3][4],n[4][3])),n[2][0]),t(e(t(i(n[3][0],n[4][4]),i(-n[3][4],n[4][0])),-n[2][3]),e(t(i(n[3][0],n[4][3]),i(-n[3][3],n[4][0])),n[2][4]))),-n[1][1])),t(e(t(e(t(i(n[3][1],n[4][4]),i(-n[3][4],n[4][1])),n[2][0]),t(e(t(i(n[3][0],n[4][4]),i(-n[3][4],n[4][0])),-n[2][1]),e(t(i(n[3][0],n[4][1]),i(-n[3][1],n[4][0])),n[2][4]))),n[1][3]),e(t(e(t(i(n[3][1],n[4][3]),i(-n[3][3],n[4][1])),n[2][0]),t(e(t(i(n[3][0],n[4][3]),i(-n[3][3],n[4][0])),-n[2][1]),e(t(i(n[3][0],n[4][1]),i(-n[3][1],n[4][0])),n[2][3]))),-n[1][4]))),n[0][2]),t(e(t(t(e(t(e(t(i(n[3][2],n[4][4]),i(-n[3][4],n[4][2])),n[2][1]),t(e(t(i(n[3][1],n[4][4]),i(-n[3][4],n[4][1])),-n[2][2]),e(t(i(n[3][1],n[4][2]),i(-n[3][2],n[4][1])),n[2][4]))),n[1][0]),e(t(e(t(i(n[3][2],n[4][4]),i(-n[3][4],n[4][2])),n[2][0]),t(e(t(i(n[3][0],n[4][4]),i(-n[3][4],n[4][0])),-n[2][2]),e(t(i(n[3][0],n[4][2]),i(-n[3][2],n[4][0])),n[2][4]))),-n[1][1])),t(e(t(e(t(i(n[3][1],n[4][4]),i(-n[3][4],n[4][1])),n[2][0]),t(e(t(i(n[3][0],n[4][4]),i(-n[3][4],n[4][0])),-n[2][1]),e(t(i(n[3][0],n[4][1]),i(-n[3][1],n[4][0])),n[2][4]))),n[1][2]),e(t(e(t(i(n[3][1],n[4][2]),i(-n[3][2],n[4][1])),n[2][0]),t(e(t(i(n[3][0],n[4][2]),i(-n[3][2],n[4][0])),-n[2][1]),e(t(i(n[3][0],n[4][1]),i(-n[3][1],n[4][0])),n[2][2]))),-n[1][4]))),-n[0][3]),e(t(t(e(t(e(t(i(n[3][2],n[4][3]),i(-n[3][3],n[4][2])),n[2][1]),t(e(t(i(n[3][1],n[4][3]),i(-n[3][3],n[4][1])),-n[2][2]),e(t(i(n[3][1],n[4][2]),i(-n[3][2],n[4][1])),n[2][3]))),n[1][0]),e(t(e(t(i(n[3][2],n[4][3]),i(-n[3][3],n[4][2])),n[2][0]),t(e(t(i(n[3][0],n[4][3]),i(-n[3][3],n[4][0])),-n[2][2]),e(t(i(n[3][0],n[4][2]),i(-n[3][2],n[4][0])),n[2][3]))),-n[1][1])),t(e(t(e(t(i(n[3][1],n[4][3]),i(-n[3][3],n[4][1])),n[2][0]),t(e(t(i(n[3][0],n[4][3]),i(-n[3][3],n[4][0])),-n[2][1]),e(t(i(n[3][0],n[4][1]),i(-n[3][1],n[4][0])),n[2][3]))),n[1][2]),e(t(e(t(i(n[3][1],n[4][2]),i(-n[3][2],n[4][1])),n[2][0]),t(e(t(i(n[3][0],n[4][2]),i(-n[3][2],n[4][0])),-n[2][1]),e(t(i(n[3][0],n[4][1]),i(-n[3][1],n[4][0])),n[2][2]))),-n[1][3]))),n[0][4])))))}}function d(t){return(2===t?o:3===t?l:4===t?c:5===t?g:void 0)(n,a,r,s)}var u=[function(){return[0]},function(t){return[t[0][0]]}];function B(t,e,i,r,n,a,s,o){return function(l){switch(l.length){case 0:return t(l);case 1:return e(l);case 2:return i(l);case 3:return r(l);case 4:return n(l);case 5:return a(l)}var c=s[l.length];return c||(c=s[l.length]=o(l.length)),c(l)}}!function(){for(;u.length<6;)u.push(d(u.length));t.exports=B.apply(void 0,u.concat([u,d]));for(var e=0;e<u.length;++e)t.exports[e]=u[e]}()},1944:function(t,e,i){var r=i(5250),n=i(8210);t.exports=function(t,e){for(var i=r(t[0],e[0]),a=1;a<t.length;++a)i=n(i,r(t[a],e[a]));return i}},2646:function(t,e,i){var r=i(5250),n=i(8210),a=i(8545),s=i(3012);function o(t){return(3===t?l:4===t?c:5===t?g:d)(n,a,r,s)}function l(t,e,i,r){return function(n,a,s){var o=i(n[0],n[0]),l=r(o,a[0]),c=r(o,s[0]),g=i(a[0],a[0]),d=r(g,n[0]),u=r(g,s[0]),B=i(s[0],s[0]),F=r(B,n[0]),h=r(B,a[0]),Q=t(e(h,u),e(d,l)),U=e(F,c),I=e(Q,U);return I[I.length-1]}}function c(t,e,i,r){return function(n,a,s,o){var l=t(i(n[0],n[0]),i(n[1],n[1])),c=r(l,a[0]),g=r(l,s[0]),d=r(l,o[0]),u=t(i(a[0],a[0]),i(a[1],a[1])),B=r(u,n[0]),F=r(u,s[0]),h=r(u,o[0]),Q=t(i(s[0],s[0]),i(s[1],s[1])),U=r(Q,n[0]),I=r(Q,a[0]),b=r(Q,o[0]),p=t(i(o[0],o[0]),i(o[1],o[1])),y=r(p,n[0]),m=r(p,a[0]),C=r(p,s[0]),f=t(t(r(e(C,b),a[1]),t(r(e(m,h),-s[1]),r(e(I,F),o[1]))),t(r(e(m,h),n[1]),t(r(e(y,d),-a[1]),r(e(B,c),o[1])))),x=t(t(r(e(C,b),n[1]),t(r(e(y,d),-s[1]),r(e(U,g),o[1]))),t(r(e(I,F),n[1]),t(r(e(U,g),-a[1]),r(e(B,c),s[1])))),A=e(f,x);return A[A.length-1]}}function g(t,e,i,r){return function(n,a,s,o,l){var c=t(i(n[0],n[0]),t(i(n[1],n[1]),i(n[2],n[2]))),g=r(c,a[0]),d=r(c,s[0]),u=r(c,o[0]),B=r(c,l[0]),F=t(i(a[0],a[0]),t(i(a[1],a[1]),i(a[2],a[2]))),h=r(F,n[0]),Q=r(F,s[0]),U=r(F,o[0]),I=r(F,l[0]),b=t(i(s[0],s[0]),t(i(s[1],s[1]),i(s[2],s[2]))),p=r(b,n[0]),y=r(b,a[0]),m=r(b,o[0]),C=r(b,l[0]),f=t(i(o[0],o[0]),t(i(o[1],o[1]),i(o[2],o[2]))),x=r(f,n[0]),A=r(f,a[0]),v=r(f,s[0]),L=r(f,l[0]),R=t(i(l[0],l[0]),t(i(l[1],l[1]),i(l[2],l[2]))),S=r(R,n[0]),G=r(R,a[0]),E=r(R,s[0]),V=r(R,o[0]),Z=t(t(t(r(t(r(e(V,L),s[1]),t(r(e(E,C),-o[1]),r(e(v,m),l[1]))),a[2]),t(r(t(r(e(V,L),a[1]),t(r(e(G,I),-o[1]),r(e(A,U),l[1]))),-s[2]),r(t(r(e(E,C),a[1]),t(r(e(G,I),-s[1]),r(e(y,Q),l[1]))),o[2]))),t(r(t(r(e(v,m),a[1]),t(r(e(A,U),-s[1]),r(e(y,Q),o[1]))),-l[2]),t(r(t(r(e(V,L),a[1]),t(r(e(G,I),-o[1]),r(e(A,U),l[1]))),n[2]),r(t(r(e(V,L),n[1]),t(r(e(S,B),-o[1]),r(e(x,u),l[1]))),-a[2])))),t(t(r(t(r(e(G,I),n[1]),t(r(e(S,B),-a[1]),r(e(h,g),l[1]))),o[2]),t(r(t(r(e(A,U),n[1]),t(r(e(x,u),-a[1]),r(e(h,g),o[1]))),-l[2]),r(t(r(e(v,m),a[1]),t(r(e(A,U),-s[1]),r(e(y,Q),o[1]))),n[2]))),t(r(t(r(e(v,m),n[1]),t(r(e(x,u),-s[1]),r(e(p,d),o[1]))),-a[2]),t(r(t(r(e(A,U),n[1]),t(r(e(x,u),-a[1]),r(e(h,g),o[1]))),s[2]),r(t(r(e(y,Q),n[1]),t(r(e(p,d),-a[1]),r(e(h,g),s[1]))),-o[2]))))),N=t(t(t(r(t(r(e(V,L),s[1]),t(r(e(E,C),-o[1]),r(e(v,m),l[1]))),n[2]),r(t(r(e(V,L),n[1]),t(r(e(S,B),-o[1]),r(e(x,u),l[1]))),-s[2])),t(r(t(r(e(E,C),n[1]),t(r(e(S,B),-s[1]),r(e(p,d),l[1]))),o[2]),r(t(r(e(v,m),n[1]),t(r(e(x,u),-s[1]),r(e(p,d),o[1]))),-l[2]))),t(t(r(t(r(e(E,C),a[1]),t(r(e(G,I),-s[1]),r(e(y,Q),l[1]))),n[2]),r(t(r(e(E,C),n[1]),t(r(e(S,B),-s[1]),r(e(p,d),l[1]))),-a[2])),t(r(t(r(e(G,I),n[1]),t(r(e(S,B),-a[1]),r(e(h,g),l[1]))),s[2]),r(t(r(e(y,Q),n[1]),t(r(e(p,d),-a[1]),r(e(h,g),s[1]))),-l[2])))),D=e(Z,N);return D[D.length-1]}}function d(t,e,i,r){return function(n,a,s,o,l,c){var g=t(t(i(n[0],n[0]),i(n[1],n[1])),t(i(n[2],n[2]),i(n[3],n[3]))),d=r(g,a[0]),u=r(g,s[0]),B=r(g,o[0]),F=r(g,l[0]),h=r(g,c[0]),Q=t(t(i(a[0],a[0]),i(a[1],a[1])),t(i(a[2],a[2]),i(a[3],a[3]))),U=r(Q,n[0]),I=r(Q,s[0]),b=r(Q,o[0]),p=r(Q,l[0]),y=r(Q,c[0]),m=t(t(i(s[0],s[0]),i(s[1],s[1])),t(i(s[2],s[2]),i(s[3],s[3]))),C=r(m,n[0]),f=r(m,a[0]),x=r(m,o[0]),A=r(m,l[0]),v=r(m,c[0]),L=t(t(i(o[0],o[0]),i(o[1],o[1])),t(i(o[2],o[2]),i(o[3],o[3]))),R=r(L,n[0]),S=r(L,a[0]),G=r(L,s[0]),E=r(L,l[0]),V=r(L,c[0]),Z=t(t(i(l[0],l[0]),i(l[1],l[1])),t(i(l[2],l[2]),i(l[3],l[3]))),N=r(Z,n[0]),D=r(Z,a[0]),w=r(Z,s[0]),X=r(Z,o[0]),W=r(Z,c[0]),H=t(t(i(c[0],c[0]),i(c[1],c[1])),t(i(c[2],c[2]),i(c[3],c[3]))),T=r(H,n[0]),M=r(H,a[0]),k=r(H,s[0]),Y=r(H,o[0]),J=r(H,l[0]),$=t(t(t(r(t(t(r(t(r(e(J,W),o[1]),t(r(e(Y,V),-l[1]),r(e(X,E),c[1]))),s[2]),r(t(r(e(J,W),s[1]),t(r(e(k,v),-l[1]),r(e(w,A),c[1]))),-o[2])),t(r(t(r(e(Y,V),s[1]),t(r(e(k,v),-o[1]),r(e(G,x),c[1]))),l[2]),r(t(r(e(X,E),s[1]),t(r(e(w,A),-o[1]),r(e(G,x),l[1]))),-c[2]))),a[3]),t(r(t(t(r(t(r(e(J,W),o[1]),t(r(e(Y,V),-l[1]),r(e(X,E),c[1]))),a[2]),r(t(r(e(J,W),a[1]),t(r(e(M,y),-l[1]),r(e(D,p),c[1]))),-o[2])),t(r(t(r(e(Y,V),a[1]),t(r(e(M,y),-o[1]),r(e(S,b),c[1]))),l[2]),r(t(r(e(X,E),a[1]),t(r(e(D,p),-o[1]),r(e(S,b),l[1]))),-c[2]))),-s[3]),r(t(t(r(t(r(e(J,W),s[1]),t(r(e(k,v),-l[1]),r(e(w,A),c[1]))),a[2]),r(t(r(e(J,W),a[1]),t(r(e(M,y),-l[1]),r(e(D,p),c[1]))),-s[2])),t(r(t(r(e(k,v),a[1]),t(r(e(M,y),-s[1]),r(e(f,I),c[1]))),l[2]),r(t(r(e(w,A),a[1]),t(r(e(D,p),-s[1]),r(e(f,I),l[1]))),-c[2]))),o[3]))),t(t(r(t(t(r(t(r(e(Y,V),s[1]),t(r(e(k,v),-o[1]),r(e(G,x),c[1]))),a[2]),r(t(r(e(Y,V),a[1]),t(r(e(M,y),-o[1]),r(e(S,b),c[1]))),-s[2])),t(r(t(r(e(k,v),a[1]),t(r(e(M,y),-s[1]),r(e(f,I),c[1]))),o[2]),r(t(r(e(G,x),a[1]),t(r(e(S,b),-s[1]),r(e(f,I),o[1]))),-c[2]))),-l[3]),r(t(t(r(t(r(e(X,E),s[1]),t(r(e(w,A),-o[1]),r(e(G,x),l[1]))),a[2]),r(t(r(e(X,E),a[1]),t(r(e(D,p),-o[1]),r(e(S,b),l[1]))),-s[2])),t(r(t(r(e(w,A),a[1]),t(r(e(D,p),-s[1]),r(e(f,I),l[1]))),o[2]),r(t(r(e(G,x),a[1]),t(r(e(S,b),-s[1]),r(e(f,I),o[1]))),-l[2]))),c[3])),t(r(t(t(r(t(r(e(J,W),o[1]),t(r(e(Y,V),-l[1]),r(e(X,E),c[1]))),a[2]),r(t(r(e(J,W),a[1]),t(r(e(M,y),-l[1]),r(e(D,p),c[1]))),-o[2])),t(r(t(r(e(Y,V),a[1]),t(r(e(M,y),-o[1]),r(e(S,b),c[1]))),l[2]),r(t(r(e(X,E),a[1]),t(r(e(D,p),-o[1]),r(e(S,b),l[1]))),-c[2]))),n[3]),r(t(t(r(t(r(e(J,W),o[1]),t(r(e(Y,V),-l[1]),r(e(X,E),c[1]))),n[2]),r(t(r(e(J,W),n[1]),t(r(e(T,h),-l[1]),r(e(N,F),c[1]))),-o[2])),t(r(t(r(e(Y,V),n[1]),t(r(e(T,h),-o[1]),r(e(R,B),c[1]))),l[2]),r(t(r(e(X,E),n[1]),t(r(e(N,F),-o[1]),r(e(R,B),l[1]))),-c[2]))),-a[3])))),t(t(t(r(t(t(r(t(r(e(J,W),a[1]),t(r(e(M,y),-l[1]),r(e(D,p),c[1]))),n[2]),r(t(r(e(J,W),n[1]),t(r(e(T,h),-l[1]),r(e(N,F),c[1]))),-a[2])),t(r(t(r(e(M,y),n[1]),t(r(e(T,h),-a[1]),r(e(U,d),c[1]))),l[2]),r(t(r(e(D,p),n[1]),t(r(e(N,F),-a[1]),r(e(U,d),l[1]))),-c[2]))),o[3]),r(t(t(r(t(r(e(Y,V),a[1]),t(r(e(M,y),-o[1]),r(e(S,b),c[1]))),n[2]),r(t(r(e(Y,V),n[1]),t(r(e(T,h),-o[1]),r(e(R,B),c[1]))),-a[2])),t(r(t(r(e(M,y),n[1]),t(r(e(T,h),-a[1]),r(e(U,d),c[1]))),o[2]),r(t(r(e(S,b),n[1]),t(r(e(R,B),-a[1]),r(e(U,d),o[1]))),-c[2]))),-l[3])),t(r(t(t(r(t(r(e(X,E),a[1]),t(r(e(D,p),-o[1]),r(e(S,b),l[1]))),n[2]),r(t(r(e(X,E),n[1]),t(r(e(N,F),-o[1]),r(e(R,B),l[1]))),-a[2])),t(r(t(r(e(D,p),n[1]),t(r(e(N,F),-a[1]),r(e(U,d),l[1]))),o[2]),r(t(r(e(S,b),n[1]),t(r(e(R,B),-a[1]),r(e(U,d),o[1]))),-l[2]))),c[3]),r(t(t(r(t(r(e(Y,V),s[1]),t(r(e(k,v),-o[1]),r(e(G,x),c[1]))),a[2]),r(t(r(e(Y,V),a[1]),t(r(e(M,y),-o[1]),r(e(S,b),c[1]))),-s[2])),t(r(t(r(e(k,v),a[1]),t(r(e(M,y),-s[1]),r(e(f,I),c[1]))),o[2]),r(t(r(e(G,x),a[1]),t(r(e(S,b),-s[1]),r(e(f,I),o[1]))),-c[2]))),n[3]))),t(t(r(t(t(r(t(r(e(Y,V),s[1]),t(r(e(k,v),-o[1]),r(e(G,x),c[1]))),n[2]),r(t(r(e(Y,V),n[1]),t(r(e(T,h),-o[1]),r(e(R,B),c[1]))),-s[2])),t(r(t(r(e(k,v),n[1]),t(r(e(T,h),-s[1]),r(e(C,u),c[1]))),o[2]),r(t(r(e(G,x),n[1]),t(r(e(R,B),-s[1]),r(e(C,u),o[1]))),-c[2]))),-a[3]),r(t(t(r(t(r(e(Y,V),a[1]),t(r(e(M,y),-o[1]),r(e(S,b),c[1]))),n[2]),r(t(r(e(Y,V),n[1]),t(r(e(T,h),-o[1]),r(e(R,B),c[1]))),-a[2])),t(r(t(r(e(M,y),n[1]),t(r(e(T,h),-a[1]),r(e(U,d),c[1]))),o[2]),r(t(r(e(S,b),n[1]),t(r(e(R,B),-a[1]),r(e(U,d),o[1]))),-c[2]))),s[3])),t(r(t(t(r(t(r(e(k,v),a[1]),t(r(e(M,y),-s[1]),r(e(f,I),c[1]))),n[2]),r(t(r(e(k,v),n[1]),t(r(e(T,h),-s[1]),r(e(C,u),c[1]))),-a[2])),t(r(t(r(e(M,y),n[1]),t(r(e(T,h),-a[1]),r(e(U,d),c[1]))),s[2]),r(t(r(e(f,I),n[1]),t(r(e(C,u),-a[1]),r(e(U,d),s[1]))),-c[2]))),-o[3]),r(t(t(r(t(r(e(G,x),a[1]),t(r(e(S,b),-s[1]),r(e(f,I),o[1]))),n[2]),r(t(r(e(G,x),n[1]),t(r(e(R,B),-s[1]),r(e(C,u),o[1]))),-a[2])),t(r(t(r(e(S,b),n[1]),t(r(e(R,B),-a[1]),r(e(U,d),o[1]))),s[2]),r(t(r(e(f,I),n[1]),t(r(e(C,u),-a[1]),r(e(U,d),s[1]))),-o[2]))),c[3]))))),z=t(t(t(r(t(t(r(t(r(e(J,W),o[1]),t(r(e(Y,V),-l[1]),r(e(X,E),c[1]))),s[2]),r(t(r(e(J,W),s[1]),t(r(e(k,v),-l[1]),r(e(w,A),c[1]))),-o[2])),t(r(t(r(e(Y,V),s[1]),t(r(e(k,v),-o[1]),r(e(G,x),c[1]))),l[2]),r(t(r(e(X,E),s[1]),t(r(e(w,A),-o[1]),r(e(G,x),l[1]))),-c[2]))),n[3]),t(r(t(t(r(t(r(e(J,W),o[1]),t(r(e(Y,V),-l[1]),r(e(X,E),c[1]))),n[2]),r(t(r(e(J,W),n[1]),t(r(e(T,h),-l[1]),r(e(N,F),c[1]))),-o[2])),t(r(t(r(e(Y,V),n[1]),t(r(e(T,h),-o[1]),r(e(R,B),c[1]))),l[2]),r(t(r(e(X,E),n[1]),t(r(e(N,F),-o[1]),r(e(R,B),l[1]))),-c[2]))),-s[3]),r(t(t(r(t(r(e(J,W),s[1]),t(r(e(k,v),-l[1]),r(e(w,A),c[1]))),n[2]),r(t(r(e(J,W),n[1]),t(r(e(T,h),-l[1]),r(e(N,F),c[1]))),-s[2])),t(r(t(r(e(k,v),n[1]),t(r(e(T,h),-s[1]),r(e(C,u),c[1]))),l[2]),r(t(r(e(w,A),n[1]),t(r(e(N,F),-s[1]),r(e(C,u),l[1]))),-c[2]))),o[3]))),t(t(r(t(t(r(t(r(e(Y,V),s[1]),t(r(e(k,v),-o[1]),r(e(G,x),c[1]))),n[2]),r(t(r(e(Y,V),n[1]),t(r(e(T,h),-o[1]),r(e(R,B),c[1]))),-s[2])),t(r(t(r(e(k,v),n[1]),t(r(e(T,h),-s[1]),r(e(C,u),c[1]))),o[2]),r(t(r(e(G,x),n[1]),t(r(e(R,B),-s[1]),r(e(C,u),o[1]))),-c[2]))),-l[3]),r(t(t(r(t(r(e(X,E),s[1]),t(r(e(w,A),-o[1]),r(e(G,x),l[1]))),n[2]),r(t(r(e(X,E),n[1]),t(r(e(N,F),-o[1]),r(e(R,B),l[1]))),-s[2])),t(r(t(r(e(w,A),n[1]),t(r(e(N,F),-s[1]),r(e(C,u),l[1]))),o[2]),r(t(r(e(G,x),n[1]),t(r(e(R,B),-s[1]),r(e(C,u),o[1]))),-l[2]))),c[3])),t(r(t(t(r(t(r(e(J,W),s[1]),t(r(e(k,v),-l[1]),r(e(w,A),c[1]))),a[2]),r(t(r(e(J,W),a[1]),t(r(e(M,y),-l[1]),r(e(D,p),c[1]))),-s[2])),t(r(t(r(e(k,v),a[1]),t(r(e(M,y),-s[1]),r(e(f,I),c[1]))),l[2]),r(t(r(e(w,A),a[1]),t(r(e(D,p),-s[1]),r(e(f,I),l[1]))),-c[2]))),n[3]),r(t(t(r(t(r(e(J,W),s[1]),t(r(e(k,v),-l[1]),r(e(w,A),c[1]))),n[2]),r(t(r(e(J,W),n[1]),t(r(e(T,h),-l[1]),r(e(N,F),c[1]))),-s[2])),t(r(t(r(e(k,v),n[1]),t(r(e(T,h),-s[1]),r(e(C,u),c[1]))),l[2]),r(t(r(e(w,A),n[1]),t(r(e(N,F),-s[1]),r(e(C,u),l[1]))),-c[2]))),-a[3])))),t(t(t(r(t(t(r(t(r(e(J,W),a[1]),t(r(e(M,y),-l[1]),r(e(D,p),c[1]))),n[2]),r(t(r(e(J,W),n[1]),t(r(e(T,h),-l[1]),r(e(N,F),c[1]))),-a[2])),t(r(t(r(e(M,y),n[1]),t(r(e(T,h),-a[1]),r(e(U,d),c[1]))),l[2]),r(t(r(e(D,p),n[1]),t(r(e(N,F),-a[1]),r(e(U,d),l[1]))),-c[2]))),s[3]),r(t(t(r(t(r(e(k,v),a[1]),t(r(e(M,y),-s[1]),r(e(f,I),c[1]))),n[2]),r(t(r(e(k,v),n[1]),t(r(e(T,h),-s[1]),r(e(C,u),c[1]))),-a[2])),t(r(t(r(e(M,y),n[1]),t(r(e(T,h),-a[1]),r(e(U,d),c[1]))),s[2]),r(t(r(e(f,I),n[1]),t(r(e(C,u),-a[1]),r(e(U,d),s[1]))),-c[2]))),-l[3])),t(r(t(t(r(t(r(e(w,A),a[1]),t(r(e(D,p),-s[1]),r(e(f,I),l[1]))),n[2]),r(t(r(e(w,A),n[1]),t(r(e(N,F),-s[1]),r(e(C,u),l[1]))),-a[2])),t(r(t(r(e(D,p),n[1]),t(r(e(N,F),-a[1]),r(e(U,d),l[1]))),s[2]),r(t(r(e(f,I),n[1]),t(r(e(C,u),-a[1]),r(e(U,d),s[1]))),-l[2]))),c[3]),r(t(t(r(t(r(e(X,E),s[1]),t(r(e(w,A),-o[1]),r(e(G,x),l[1]))),a[2]),r(t(r(e(X,E),a[1]),t(r(e(D,p),-o[1]),r(e(S,b),l[1]))),-s[2])),t(r(t(r(e(w,A),a[1]),t(r(e(D,p),-s[1]),r(e(f,I),l[1]))),o[2]),r(t(r(e(G,x),a[1]),t(r(e(S,b),-s[1]),r(e(f,I),o[1]))),-l[2]))),n[3]))),t(t(r(t(t(r(t(r(e(X,E),s[1]),t(r(e(w,A),-o[1]),r(e(G,x),l[1]))),n[2]),r(t(r(e(X,E),n[1]),t(r(e(N,F),-o[1]),r(e(R,B),l[1]))),-s[2])),t(r(t(r(e(w,A),n[1]),t(r(e(N,F),-s[1]),r(e(C,u),l[1]))),o[2]),r(t(r(e(G,x),n[1]),t(r(e(R,B),-s[1]),r(e(C,u),o[1]))),-l[2]))),-a[3]),r(t(t(r(t(r(e(X,E),a[1]),t(r(e(D,p),-o[1]),r(e(S,b),l[1]))),n[2]),r(t(r(e(X,E),n[1]),t(r(e(N,F),-o[1]),r(e(R,B),l[1]))),-a[2])),t(r(t(r(e(D,p),n[1]),t(r(e(N,F),-a[1]),r(e(U,d),l[1]))),o[2]),r(t(r(e(S,b),n[1]),t(r(e(R,B),-a[1]),r(e(U,d),o[1]))),-l[2]))),s[3])),t(r(t(t(r(t(r(e(w,A),a[1]),t(r(e(D,p),-s[1]),r(e(f,I),l[1]))),n[2]),r(t(r(e(w,A),n[1]),t(r(e(N,F),-s[1]),r(e(C,u),l[1]))),-a[2])),t(r(t(r(e(D,p),n[1]),t(r(e(N,F),-a[1]),r(e(U,d),l[1]))),s[2]),r(t(r(e(f,I),n[1]),t(r(e(C,u),-a[1]),r(e(U,d),s[1]))),-l[2]))),-o[3]),r(t(t(r(t(r(e(G,x),a[1]),t(r(e(S,b),-s[1]),r(e(f,I),o[1]))),n[2]),r(t(r(e(G,x),n[1]),t(r(e(R,B),-s[1]),r(e(C,u),o[1]))),-a[2])),t(r(t(r(e(S,b),n[1]),t(r(e(R,B),-a[1]),r(e(U,d),o[1]))),s[2]),r(t(r(e(f,I),n[1]),t(r(e(C,u),-a[1]),r(e(U,d),s[1]))),-o[2]))),l[3]))))),O=e($,z);return O[O.length-1]}}var u=[function(){return 0},function(){return 0},function(){return 0}];function B(t){var e=u[t.length];return e||(e=u[t.length]=o(t.length)),e.apply(void 0,t)}function F(t,e,i,r,n,a,s,o){return function(e,i,l,c,g,d){switch(arguments.length){case 0:case 1:return 0;case 2:return r(e,i);case 3:return n(e,i,l);case 4:return a(e,i,l,c);case 5:return s(e,i,l,c,g);case 6:return o(e,i,l,c,g,d)}for(var u=new Array(arguments.length),B=0;B<arguments.length;++B)u[B]=arguments[B];return t(u)}}!function(){for(;u.length<=6;)u.push(o(u.length));t.exports=F.apply(void 0,[B].concat(u));for(var e=0;e<=6;++e)t.exports[e]=u[e]}()},727:function(t,e,i){var r=i(2962);function n(t){var e=2===t?a:3===t?s:4===t?o:5===t?l:c;return e(t<6?r[t]:r)}function a(t){return function(e,i){return[t([[+i[0],+e[0][1]],[+i[1],+e[1][1]]]),t([[+e[0][0],+i[0]],[+e[1][0],+i[1]]]),t(e)]}}function s(t){return function(e,i){return[t([[+i[0],+e[0][1],+e[0][2]],[+i[1],+e[1][1],+e[1][2]],[+i[2],+e[2][1],+e[2][2]]]),t([[+e[0][0],+i[0],+e[0][2]],[+e[1][0],+i[1],+e[1][2]],[+e[2][0],+i[2],+e[2][2]]]),t([[+e[0][0],+e[0][1],+i[0]],[+e[1][0],+e[1][1],+i[1]],[+e[2][0],+e[2][1],+i[2]]]),t(e)]}}function o(t){return function(e,i){return[t([[+i[0],+e[0][1],+e[0][2],+e[0][3]],[+i[1],+e[1][1],+e[1][2],+e[1][3]],[+i[2],+e[2][1],+e[2][2],+e[2][3]],[+i[3],+e[3][1],+e[3][2],+e[3][3]]]),t([[+e[0][0],+i[0],+e[0][2],+e[0][3]],[+e[1][0],+i[1],+e[1][2],+e[1][3]],[+e[2][0],+i[2],+e[2][2],+e[2][3]],[+e[3][0],+i[3],+e[3][2],+e[3][3]]]),t([[+e[0][0],+e[0][1],+i[0],+e[0][3]],[+e[1][0],+e[1][1],+i[1],+e[1][3]],[+e[2][0],+e[2][1],+i[2],+e[2][3]],[+e[3][0],+e[3][1],+i[3],+e[3][3]]]),t([[+e[0][0],+e[0][1],+e[0][2],+i[0]],[+e[1][0],+e[1][1],+e[1][2],+i[1]],[+e[2][0],+e[2][1],+e[2][2],+i[2]],[+e[3][0],+e[3][1],+e[3][2],+i[3]]]),t(e)]}}function l(t){return function(e,i){return[t([[+i[0],+e[0][1],+e[0][2],+e[0][3],+e[0][4]],[+i[1],+e[1][1],+e[1][2],+e[1][3],+e[1][4]],[+i[2],+e[2][1],+e[2][2],+e[2][3],+e[2][4]],[+i[3],+e[3][1],+e[3][2],+e[3][3],+e[3][4]],[+i[4],+e[4][1],+e[4][2],+e[4][3],+e[4][4]]]),t([[+e[0][0],+i[0],+e[0][2],+e[0][3],+e[0][4]],[+e[1][0],+i[1],+e[1][2],+e[1][3],+e[1][4]],[+e[2][0],+i[2],+e[2][2],+e[2][3],+e[2][4]],[+e[3][0],+i[3],+e[3][2],+e[3][3],+e[3][4]],[+e[4][0],+i[4],+e[4][2],+e[4][3],+e[4][4]]]),t([[+e[0][0],+e[0][1],+i[0],+e[0][3],+e[0][4]],[+e[1][0],+e[1][1],+i[1],+e[1][3],+e[1][4]],[+e[2][0],+e[2][1],+i[2],+e[2][3],+e[2][4]],[+e[3][0],+e[3][1],+i[3],+e[3][3],+e[3][4]],[+e[4][0],+e[4][1],+i[4],+e[4][3],+e[4][4]]]),t([[+e[0][0],+e[0][1],+e[0][2],+i[0],+e[0][4]],[+e[1][0],+e[1][1],+e[1][2],+i[1],+e[1][4]],[+e[2][0],+e[2][1],+e[2][2],+i[2],+e[2][4]],[+e[3][0],+e[3][1],+e[3][2],+i[3],+e[3][4]],[+e[4][0],+e[4][1],+e[4][2],+i[4],+e[4][4]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+i[0]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+i[1]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+i[2]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+i[3]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+i[4]]]),t(e)]}}function c(t){return function(e,i){return[t([[+i[0],+e[0][1],+e[0][2],+e[0][3],+e[0][4],+e[0][5]],[+i[1],+e[1][1],+e[1][2],+e[1][3],+e[1][4],+e[1][5]],[+i[2],+e[2][1],+e[2][2],+e[2][3],+e[2][4],+e[2][5]],[+i[3],+e[3][1],+e[3][2],+e[3][3],+e[3][4],+e[3][5]],[+i[4],+e[4][1],+e[4][2],+e[4][3],+e[4][4],+e[4][5]],[+i[5],+e[5][1],+e[5][2],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+i[0],+e[0][2],+e[0][3],+e[0][4],+e[0][5]],[+e[1][0],+i[1],+e[1][2],+e[1][3],+e[1][4],+e[1][5]],[+e[2][0],+i[2],+e[2][2],+e[2][3],+e[2][4],+e[2][5]],[+e[3][0],+i[3],+e[3][2],+e[3][3],+e[3][4],+e[3][5]],[+e[4][0],+i[4],+e[4][2],+e[4][3],+e[4][4],+e[4][5]],[+e[5][0],+i[5],+e[5][2],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+i[0],+e[0][3],+e[0][4],+e[0][5]],[+e[1][0],+e[1][1],+i[1],+e[1][3],+e[1][4],+e[1][5]],[+e[2][0],+e[2][1],+i[2],+e[2][3],+e[2][4],+e[2][5]],[+e[3][0],+e[3][1],+i[3],+e[3][3],+e[3][4],+e[3][5]],[+e[4][0],+e[4][1],+i[4],+e[4][3],+e[4][4],+e[4][5]],[+e[5][0],+e[5][1],+i[5],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+i[0],+e[0][4],+e[0][5]],[+e[1][0],+e[1][1],+e[1][2],+i[1],+e[1][4],+e[1][5]],[+e[2][0],+e[2][1],+e[2][2],+i[2],+e[2][4],+e[2][5]],[+e[3][0],+e[3][1],+e[3][2],+i[3],+e[3][4],+e[3][5]],[+e[4][0],+e[4][1],+e[4][2],+i[4],+e[4][4],+e[4][5]],[+e[5][0],+e[5][1],+e[5][2],+i[5],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+i[0],+e[0][5]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+i[1],+e[1][5]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+i[2],+e[2][5]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+i[3],+e[3][5]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+i[4],+e[4][5]],[+e[5][0],+e[5][1],+e[5][2],+e[5][3],+i[5],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+e[0][4],+i[0]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+e[1][4],+i[1]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+e[2][4],+i[2]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+e[3][4],+i[3]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+e[4][4],+i[4]],[+e[5][0],+e[5][1],+e[5][2],+e[5][3],+e[5][4],+i[5]]]),t(e)]}}var g=[function(){return[[0]]},function(t,e){return[[e[0]],[t[0][0]]]}];function d(t,e,i,r,n,a,s,o){return function(l,c){switch(l.length){case 0:return t(l,c);case 1:return e(l,c);case 2:return i(l,c);case 3:return r(l,c);case 4:return n(l,c);case 5:return a(l,c)}var g=s[l.length];return g||(g=s[l.length]=o(l.length)),g(l,c)}}!function(){for(;g.length<6;)g.push(n(g.length));t.exports=d.apply(void 0,g.concat([g,n]));for(var e=0;e<6;++e)t.exports[e]=g[e]}()},3250:function(t,e,i){var r=i(5250),n=i(8210),a=i(3012),s=i(8545);function o(t,e,i,r){return function(i,n,a){var s=t(t(e(n[1],a[0]),e(-a[1],n[0])),t(e(i[1],n[0]),e(-n[1],i[0]))),o=t(e(i[1],a[0]),e(-a[1],i[0])),l=r(s,o);return l[l.length-1]}}function l(t,e,i,r){return function(n,a,s,o){var l=t(t(i(t(e(s[1],o[0]),e(-o[1],s[0])),a[2]),t(i(t(e(a[1],o[0]),e(-o[1],a[0])),-s[2]),i(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]))),t(i(t(e(a[1],o[0]),e(-o[1],a[0])),n[2]),t(i(t(e(n[1],o[0]),e(-o[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),o[2])))),c=t(t(i(t(e(s[1],o[0]),e(-o[1],s[0])),n[2]),t(i(t(e(n[1],o[0]),e(-o[1],n[0])),-s[2]),i(t(e(n[1],s[0]),e(-s[1],n[0])),o[2]))),t(i(t(e(a[1],s[0]),e(-s[1],a[0])),n[2]),t(i(t(e(n[1],s[0]),e(-s[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),s[2])))),g=r(l,c);return g[g.length-1]}}function c(t,e,i,r){return function(n,a,s,o,l){var c=t(t(t(i(t(i(t(e(o[1],l[0]),e(-l[1],o[0])),s[2]),t(i(t(e(s[1],l[0]),e(-l[1],s[0])),-o[2]),i(t(e(s[1],o[0]),e(-o[1],s[0])),l[2]))),a[3]),t(i(t(i(t(e(o[1],l[0]),e(-l[1],o[0])),a[2]),t(i(t(e(a[1],l[0]),e(-l[1],a[0])),-o[2]),i(t(e(a[1],o[0]),e(-o[1],a[0])),l[2]))),-s[3]),i(t(i(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(i(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),i(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),o[3]))),t(i(t(i(t(e(s[1],o[0]),e(-o[1],s[0])),a[2]),t(i(t(e(a[1],o[0]),e(-o[1],a[0])),-s[2]),i(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]))),-l[3]),t(i(t(i(t(e(o[1],l[0]),e(-l[1],o[0])),a[2]),t(i(t(e(a[1],l[0]),e(-l[1],a[0])),-o[2]),i(t(e(a[1],o[0]),e(-o[1],a[0])),l[2]))),n[3]),i(t(i(t(e(o[1],l[0]),e(-l[1],o[0])),n[2]),t(i(t(e(n[1],l[0]),e(-l[1],n[0])),-o[2]),i(t(e(n[1],o[0]),e(-o[1],n[0])),l[2]))),-a[3])))),t(t(i(t(i(t(e(a[1],l[0]),e(-l[1],a[0])),n[2]),t(i(t(e(n[1],l[0]),e(-l[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),l[2]))),o[3]),t(i(t(i(t(e(a[1],o[0]),e(-o[1],a[0])),n[2]),t(i(t(e(n[1],o[0]),e(-o[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),o[2]))),-l[3]),i(t(i(t(e(s[1],o[0]),e(-o[1],s[0])),a[2]),t(i(t(e(a[1],o[0]),e(-o[1],a[0])),-s[2]),i(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]))),n[3]))),t(i(t(i(t(e(s[1],o[0]),e(-o[1],s[0])),n[2]),t(i(t(e(n[1],o[0]),e(-o[1],n[0])),-s[2]),i(t(e(n[1],s[0]),e(-s[1],n[0])),o[2]))),-a[3]),t(i(t(i(t(e(a[1],o[0]),e(-o[1],a[0])),n[2]),t(i(t(e(n[1],o[0]),e(-o[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),o[2]))),s[3]),i(t(i(t(e(a[1],s[0]),e(-s[1],a[0])),n[2]),t(i(t(e(n[1],s[0]),e(-s[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),s[2]))),-o[3]))))),g=t(t(t(i(t(i(t(e(o[1],l[0]),e(-l[1],o[0])),s[2]),t(i(t(e(s[1],l[0]),e(-l[1],s[0])),-o[2]),i(t(e(s[1],o[0]),e(-o[1],s[0])),l[2]))),n[3]),i(t(i(t(e(o[1],l[0]),e(-l[1],o[0])),n[2]),t(i(t(e(n[1],l[0]),e(-l[1],n[0])),-o[2]),i(t(e(n[1],o[0]),e(-o[1],n[0])),l[2]))),-s[3])),t(i(t(i(t(e(s[1],l[0]),e(-l[1],s[0])),n[2]),t(i(t(e(n[1],l[0]),e(-l[1],n[0])),-s[2]),i(t(e(n[1],s[0]),e(-s[1],n[0])),l[2]))),o[3]),i(t(i(t(e(s[1],o[0]),e(-o[1],s[0])),n[2]),t(i(t(e(n[1],o[0]),e(-o[1],n[0])),-s[2]),i(t(e(n[1],s[0]),e(-s[1],n[0])),o[2]))),-l[3]))),t(t(i(t(i(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(i(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),i(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),n[3]),i(t(i(t(e(s[1],l[0]),e(-l[1],s[0])),n[2]),t(i(t(e(n[1],l[0]),e(-l[1],n[0])),-s[2]),i(t(e(n[1],s[0]),e(-s[1],n[0])),l[2]))),-a[3])),t(i(t(i(t(e(a[1],l[0]),e(-l[1],a[0])),n[2]),t(i(t(e(n[1],l[0]),e(-l[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),l[2]))),s[3]),i(t(i(t(e(a[1],s[0]),e(-s[1],a[0])),n[2]),t(i(t(e(n[1],s[0]),e(-s[1],n[0])),-a[2]),i(t(e(n[1],a[0]),e(-a[1],n[0])),s[2]))),-l[3])))),d=r(c,g);return d[d.length-1]}}function g(t){return(3===t?o:4===t?l:c)(n,r,a,s)}var d=g(3),u=g(4),B=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,i){var r,n=(t[1]-i[1])*(e[0]-i[0]),a=(t[0]-i[0])*(e[1]-i[1]),s=n-a;if(n>0){if(a<=0)return s;r=n+a}else{if(!(n<0))return s;if(a>=0)return s;r=-(n+a)}var o=33306690738754716e-32*r;return s>=o||s<=-o?s:d(t,e,i)},function(t,e,i,r){var n=t[0]-r[0],a=e[0]-r[0],s=i[0]-r[0],o=t[1]-r[1],l=e[1]-r[1],c=i[1]-r[1],g=t[2]-r[2],d=e[2]-r[2],B=i[2]-r[2],F=a*c,h=s*l,Q=s*o,U=n*c,I=n*l,b=a*o,p=g*(F-h)+d*(Q-U)+B*(I-b),y=7771561172376103e-31*((Math.abs(F)+Math.abs(h))*Math.abs(g)+(Math.abs(Q)+Math.abs(U))*Math.abs(d)+(Math.abs(I)+Math.abs(b))*Math.abs(B));return p>y||-p>y?p:u(t,e,i,r)}];function F(t){var e=B[t.length];return e||(e=B[t.length]=g(t.length)),e.apply(void 0,t)}function h(t,e,i,r,n,a,s){return function(e,i,o,l,c){switch(arguments.length){case 0:case 1:return 0;case 2:return r(e,i);case 3:return n(e,i,o);case 4:return a(e,i,o,l);case 5:return s(e,i,o,l,c)}for(var g=new Array(arguments.length),d=0;d<arguments.length;++d)g[d]=arguments[d];return t(g)}}!function(){for(;B.length<=5;)B.push(g(B.length));t.exports=h.apply(void 0,[F].concat(B));for(var e=0;e<=5;++e)t.exports[e]=B[e]}()},5382:function(t,e,i){var r=i(8210),n=i(3012);t.exports=function(t,e){if(1===t.length)return n(e,t[0]);if(1===e.length)return n(t,e[0]);if(0===t.length||0===e.length)return[0];var i=[0];if(t.length<e.length)for(var a=0;a<t.length;++a)i=r(i,n(e,t[a]));else for(a=0;a<e.length;++a)i=r(i,n(t,e[a]));return i}},3012:function(t,e,i){var r=i(5250),n=i(9362);t.exports=function(t,e){var i=t.length;if(1===i){var a=r(t[0],e);return a[0]?a:[a[1]]}var s=new Array(2*i),o=[.1,.1],l=[.1,.1],c=0;r(t[0],e,o),o[0]&&(s[c++]=o[0]);for(var g=1;g<i;++g){r(t[g],e,l);var d=o[1];n(d,l[0],o),o[0]&&(s[c++]=o[0]);var u=l[1],B=o[1],F=u+B,h=B-(F-u);o[1]=F,h&&(s[c++]=h)}o[1]&&(s[c++]=o[1]);0===c&&(s[c++]=0);return s.length=c,s}},1125:function(t,e,i){t.exports=function(t,e,i,n){var a=r(t,i,n),s=r(e,i,n);if(a>0&&s>0||a<0&&s<0)return!1;var o=r(i,t,e),l=r(n,t,e);if(o>0&&l>0||o<0&&l<0)return!1;if(0===a&&0===s&&0===o&&0===l)return function(t,e,i,r){for(var n=0;n<2;++n){var a=t[n],s=e[n],o=Math.min(a,s),l=Math.max(a,s),c=i[n],g=r[n],d=Math.min(c,g);if(Math.max(c,g)<o||l<d)return!1}return!0}(t,e,i,n);return!0};var r=i(3250)[3]},8545:function(t){t.exports=function(t,e){var i=0|t.length,r=0|e.length;if(1===i&&1===r)return function(t,e){var i=t+e,r=i-t,n=i-r,a=e-r,s=t-n,o=s+a;if(o)return[o,i];return[i]}(t[0],-e[0]);var n,a,s=i+r,o=new Array(s),l=0,c=0,g=0,d=Math.abs,u=t[c],B=d(u),F=-e[g],h=d(F);B<h?(a=u,(c+=1)<i&&(B=d(u=t[c]))):(a=F,(g+=1)<r&&(h=d(F=-e[g])));c<i&&B<h||g>=r?(n=u,(c+=1)<i&&(B=d(u=t[c]))):(n=F,(g+=1)<r&&(h=d(F=-e[g])));var Q,U,I=n+a,b=I-n,p=a-b,y=p,m=I;for(;c<i&&g<r;)B<h?(n=u,(c+=1)<i&&(B=d(u=t[c]))):(n=F,(g+=1)<r&&(h=d(F=-e[g]))),(p=(a=y)-(b=(I=n+a)-n))&&(o[l++]=p),y=m-((Q=m+I)-(U=Q-m))+(I-U),m=Q;for(;c<i;)(p=(a=y)-(b=(I=(n=u)+a)-n))&&(o[l++]=p),y=m-((Q=m+I)-(U=Q-m))+(I-U),m=Q,(c+=1)<i&&(u=t[c]);for(;g<r;)(p=(a=y)-(b=(I=(n=F)+a)-n))&&(o[l++]=p),y=m-((Q=m+I)-(U=Q-m))+(I-U),m=Q,(g+=1)<r&&(F=-e[g]);y&&(o[l++]=y);m&&(o[l++]=m);l||(o[l++]=0);return o.length=l,o}},8210:function(t){t.exports=function(t,e){var i=0|t.length,r=0|e.length;if(1===i&&1===r)return function(t,e){var i=t+e,r=i-t,n=i-r,a=e-r,s=t-n,o=s+a;if(o)return[o,i];return[i]}(t[0],e[0]);var n,a,s=i+r,o=new Array(s),l=0,c=0,g=0,d=Math.abs,u=t[c],B=d(u),F=e[g],h=d(F);B<h?(a=u,(c+=1)<i&&(B=d(u=t[c]))):(a=F,(g+=1)<r&&(h=d(F=e[g])));c<i&&B<h||g>=r?(n=u,(c+=1)<i&&(B=d(u=t[c]))):(n=F,(g+=1)<r&&(h=d(F=e[g])));var Q,U,I=n+a,b=I-n,p=a-b,y=p,m=I;for(;c<i&&g<r;)B<h?(n=u,(c+=1)<i&&(B=d(u=t[c]))):(n=F,(g+=1)<r&&(h=d(F=e[g]))),(p=(a=y)-(b=(I=n+a)-n))&&(o[l++]=p),y=m-((Q=m+I)-(U=Q-m))+(I-U),m=Q;for(;c<i;)(p=(a=y)-(b=(I=(n=u)+a)-n))&&(o[l++]=p),y=m-((Q=m+I)-(U=Q-m))+(I-U),m=Q,(c+=1)<i&&(u=t[c]);for(;g<r;)(p=(a=y)-(b=(I=(n=F)+a)-n))&&(o[l++]=p),y=m-((Q=m+I)-(U=Q-m))+(I-U),m=Q,(g+=1)<r&&(F=e[g]);y&&(o[l++]=y);m&&(o[l++]=m);l||(o[l++]=0);return o.length=l,o}},9127:function(t,e,i){t.exports=function(t){return n(r(t))};var r=i(6204),n=i(5771)},7765:function(t,e,i){t.exports=function(t,e,i,o){i=i||0,void 0===o&&(o=function(t){for(var e=t.length,i=0,r=0;r<e;++r)i=0|Math.max(i,t[r].length);return i-1}(t));if(0===t.length||o<1)return{cells:[],vertexIds:[],vertexWeights:[]};var l=function(t,e){for(var i=t.length,r=n.mallocUint8(i),a=0;a<i;++a)r[a]=t[a]<e|0;return r}(e,+i),c=function(t,e){for(var i=t.length,s=e*(e+1)/2*i|0,o=n.mallocUint32(2*s),l=0,c=0;c<i;++c)for(var g=t[c],d=(e=g.length,0);d<e;++d)for(var u=0;u<d;++u){var B=g[u],F=g[d];o[l++]=0|Math.min(B,F),o[l++]=0|Math.max(B,F)}a(r(o,[l/2|0,2]));var h=2;for(c=2;c<l;c+=2)o[c-2]===o[c]&&o[c-1]===o[c+1]||(o[h++]=o[c],o[h++]=o[c+1]);return r(o,[h/2|0,2])}(t,o),g=function(t,e,i,a){for(var s=t.data,o=t.shape[0],l=n.mallocDouble(o),c=0,g=0;g<o;++g){var d=s[2*g],u=s[2*g+1];if(i[d]!==i[u]){var B=e[d],F=e[u];s[2*c]=d,s[2*c+1]=u,l[c++]=(F-a)/(F-B)}}return t.shape[0]=c,r(l,[c])}(c,e,l,+i),d=function(t,e){var i=n.mallocInt32(2*e),r=t.shape[0],a=t.data;i[0]=0;for(var s=0,o=0;o<r;++o){var l=a[2*o];if(l!==s){for(i[2*s+1]=o;++s<l;)i[2*s]=o,i[2*s+1]=o;i[2*s]=o}}i[2*s+1]=r;for(;++s<e;)i[2*s]=i[2*s+1]=r;return i}(c,0|e.length),u=s(o)(t,c.data,d,l),B=function(t){for(var e=0|t.shape[0],i=t.data,r=new Array(e),n=0;n<e;++n)r[n]=[i[2*n],i[2*n+1]];return r}(c),F=[].slice.call(g.data,0,g.shape[0]);return n.free(l),n.free(c.data),n.free(g.data),n.free(d),{cells:u,vertexIds:B,vertexWeights:F}};var r=i(9618),n=i(1888),a=i(446),s=i(1570)},1570:function(t){t.exports=function(t){return e[t]()};var e=[function(){return function(t,e,i,r){for(var n=t.length,a=0;a<n;++a){t[a].length}return[]}},function(){function t(t,e,i,r){for(var n=0|Math.min(i,r),a=0|Math.max(i,r),s=t[2*n],o=t[2*n+1];s<o;){var l=s+o>>1,c=e[2*l+1];if(c===a)return l;a<c?o=l:s=l+1}return s}return function(e,i,r,n){for(var a=e.length,s=[],o=0;o<a;++o){var l=e[o];if(2===l.length){var c=(n[l[0]]|0)+(n[l[1]]<<1);if(0===c||3===c)continue;switch(c){case 0:break;case 1:s.push([t(r,i,l[0],l[1])]);break;case 2:s.push([t(r,i,l[1],l[0])])}}}return s}},function(){function t(t,e,i,r){for(var n=0|Math.min(i,r),a=0|Math.max(i,r),s=t[2*n],o=t[2*n+1];s<o;){var l=s+o>>1,c=e[2*l+1];if(c===a)return l;a<c?o=l:s=l+1}return s}return function(e,i,r,n){for(var a=e.length,s=[],o=0;o<a;++o){var l=e[o],c=l.length;if(3===c){if(0===(g=(n[l[0]]|0)+(n[l[1]]<<1)+(n[l[2]]<<2))||7===g)continue;switch(g){case 0:break;case 1:s.push([t(r,i,l[0],l[2]),t(r,i,l[0],l[1])]);break;case 2:s.push([t(r,i,l[1],l[0]),t(r,i,l[1],l[2])]);break;case 3:s.push([t(r,i,l[0],l[2]),t(r,i,l[1],l[2])]);break;case 4:s.push([t(r,i,l[2],l[1]),t(r,i,l[2],l[0])]);break;case 5:s.push([t(r,i,l[2],l[1]),t(r,i,l[0],l[1])]);break;case 6:s.push([t(r,i,l[1],l[0]),t(r,i,l[2],l[0])])}}else if(2===c){var g;if(0===(g=(n[l[0]]|0)+(n[l[1]]<<1))||3===g)continue;switch(g){case 0:break;case 1:s.push([t(r,i,l[0],l[1])]);break;case 2:s.push([t(r,i,l[1],l[0])])}}}return s}},function(){function t(t,e,i,r){for(var n=0|Math.min(i,r),a=0|Math.max(i,r),s=t[2*n],o=t[2*n+1];s<o;){var l=s+o>>1,c=e[2*l+1];if(c===a)return l;a<c?o=l:s=l+1}return s}return function(e,i,r,n){for(var a=e.length,s=[],o=0;o<a;++o){var l=e[o],c=l.length;if(4===c){if(0===(g=(n[l[0]]|0)+(n[l[1]]<<1)+(n[l[2]]<<2)+(n[l[3]]<<3))||15===g)continue;switch(g){case 0:break;case 1:s.push([t(r,i,l[0],l[1]),t(r,i,l[0],l[2]),t(r,i,l[0],l[3])]);break;case 2:s.push([t(r,i,l[1],l[2]),t(r,i,l[1],l[0]),t(r,i,l[1],l[3])]);break;case 3:s.push([t(r,i,l[1],l[2]),t(r,i,l[0],l[2]),t(r,i,l[0],l[3])],[t(r,i,l[1],l[3]),t(r,i,l[1],l[2]),t(r,i,l[0],l[3])]);break;case 4:s.push([t(r,i,l[2],l[0]),t(r,i,l[2],l[1]),t(r,i,l[2],l[3])]);break;case 5:s.push([t(r,i,l[0],l[1]),t(r,i,l[2],l[1]),t(r,i,l[0],l[3])],[t(r,i,l[2],l[1]),t(r,i,l[2],l[3]),t(r,i,l[0],l[3])]);break;case 6:s.push([t(r,i,l[2],l[0]),t(r,i,l[1],l[0]),t(r,i,l[1],l[3])],[t(r,i,l[2],l[3]),t(r,i,l[2],l[0]),t(r,i,l[1],l[3])]);break;case 7:s.push([t(r,i,l[0],l[3]),t(r,i,l[1],l[3]),t(r,i,l[2],l[3])]);break;case 8:s.push([t(r,i,l[3],l[1]),t(r,i,l[3],l[0]),t(r,i,l[3],l[2])]);break;case 9:s.push([t(r,i,l[3],l[1]),t(r,i,l[0],l[1]),t(r,i,l[0],l[2])],[t(r,i,l[3],l[2]),t(r,i,l[3],l[1]),t(r,i,l[0],l[2])]);break;case 10:s.push([t(r,i,l[1],l[0]),t(r,i,l[3],l[0]),t(r,i,l[1],l[2])],[t(r,i,l[3],l[0]),t(r,i,l[3],l[2]),t(r,i,l[1],l[2])]);break;case 11:s.push([t(r,i,l[1],l[2]),t(r,i,l[0],l[2]),t(r,i,l[3],l[2])]);break;case 12:s.push([t(r,i,l[3],l[0]),t(r,i,l[2],l[0]),t(r,i,l[2],l[1])],[t(r,i,l[3],l[1]),t(r,i,l[3],l[0]),t(r,i,l[2],l[1])]);break;case 13:s.push([t(r,i,l[0],l[1]),t(r,i,l[2],l[1]),t(r,i,l[3],l[1])]);break;case 14:s.push([t(r,i,l[2],l[0]),t(r,i,l[1],l[0]),t(r,i,l[3],l[0])])}}else if(3===c){if(0===(g=(n[l[0]]|0)+(n[l[1]]<<1)+(n[l[2]]<<2))||7===g)continue;switch(g){case 0:break;case 1:s.push([t(r,i,l[0],l[2]),t(r,i,l[0],l[1])]);break;case 2:s.push([t(r,i,l[1],l[0]),t(r,i,l[1],l[2])]);break;case 3:s.push([t(r,i,l[0],l[2]),t(r,i,l[1],l[2])]);break;case 4:s.push([t(r,i,l[2],l[1]),t(r,i,l[2],l[0])]);break;case 5:s.push([t(r,i,l[2],l[1]),t(r,i,l[0],l[1])]);break;case 6:s.push([t(r,i,l[1],l[0]),t(r,i,l[2],l[0])])}}else if(2===c){var g;if(0===(g=(n[l[0]]|0)+(n[l[1]]<<1))||3===g)continue;switch(g){case 0:break;case 1:s.push([t(r,i,l[0],l[1])]);break;case 2:s.push([t(r,i,l[1],l[0])])}}}return s}}]},6803:function(t,e,i){i(8828),i(1755),e.Fw=function(t,e){var i=t.length,r=t.length-e.length,n=Math.min;if(r)return r;switch(i){case 0:return 0;case 1:return t[0]-e[0];case 2:return(o=t[0]+t[1]-e[0]-e[1])||n(t[0],t[1])-n(e[0],e[1]);case 3:var a=t[0]+t[1],s=e[0]+e[1];if(o=a+t[2]-(s+e[2]))return o;var o,l=n(t[0],t[1]),c=n(e[0],e[1]);return(o=n(l,t[2])-n(c,e[2]))||n(l+t[2],a)-n(c+e[2],s);default:var g=t.slice(0);g.sort();var d=e.slice(0);d.sort();for(var u=0;u<i;++u)if(r=g[u]-d[u])return r;return 0}}},3105:function(t,e){function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,i;return e=(t>65535)<<4,e|=i=((t>>>=e)>255)<<3,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var r=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,r=e,n=7;for(i>>>=1;i;i>>>=1)r<<=1,r|=1&i,--n;t[e]=r<<n&255}}(r),e.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,i){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},2014:function(t,e,i){var r=i(3105),n=i(4623);function a(t,e){var i=t.length,r=t.length-e.length,n=Math.min;if(r)return r;switch(i){case 0:return 0;case 1:return t[0]-e[0];case 2:return(o=t[0]+t[1]-e[0]-e[1])||n(t[0],t[1])-n(e[0],e[1]);case 3:var a=t[0]+t[1],s=e[0]+e[1];if(o=a+t[2]-(s+e[2]))return o;var o,l=n(t[0],t[1]),c=n(e[0],e[1]);return(o=n(l,t[2])-n(c,e[2]))||n(l+t[2],a)-n(c+e[2],s);default:var g=t.slice(0);g.sort();var d=e.slice(0);d.sort();for(var u=0;u<i;++u)if(r=g[u]-d[u])return r;return 0}}function s(t,e){return a(t[0],e[0])}function o(t,e){if(e){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=[t[n],e[n]];r.sort(s);for(n=0;n<i;++n)t[n]=r[n][0],e[n]=r[n][1];return t}return t.sort(a),t}function l(t){if(0===t.length)return[];for(var e=1,i=t.length,r=1;r<i;++r){var n=t[r];if(a(n,t[r-1])){if(r===e){e++;continue}t[e++]=n}}return t.length=e,t}function c(t,e){for(var i=0,r=t.length-1,n=-1;i<=r;){var s=i+r>>1,o=a(t[s],e);o<=0?(0===o&&(n=s),i=s+1):o>0&&(r=s-1)}return n}function g(t,e){for(var i=new Array(t.length),n=0,s=i.length;n<s;++n)i[n]=[];for(var o=[],l=(n=0,e.length);n<l;++n)for(var g=e[n],d=g.length,u=1,B=1<<d;u<B;++u){o.length=r.popCount(u);for(var F=0,h=0;h<d;++h)u&1<<h&&(o[F++]=g[h]);var Q=c(t,o);if(!(Q<0))for(;i[Q++].push(n),!(Q>=t.length||0!==a(t[Q],o)););}return i}function d(t,e){if(e<0)return[];for(var i=[],n=(1<<e+1)-1,a=0;a<t.length;++a)for(var s=t[a],l=n;l<1<<s.length;l=r.nextCombination(l)){for(var c=new Array(e+1),g=0,d=0;d<s.length;++d)l&1<<d&&(c[g++]=s[d]);i.push(c)}return o(i)}e.dimension=function(t){for(var e=0,i=Math.max,r=0,n=t.length;r<n;++r)e=i(e,t[r].length);return e-1},e.countVertices=function(t){for(var e=-1,i=Math.max,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length;s<o;++s)e=i(e,a[s]);return e+1},e.cloneCells=function(t){for(var e=new Array(t.length),i=0,r=t.length;i<r;++i)e[i]=t[i].slice(0);return e},e.compareCells=a,e.normalize=o,e.unique=l,e.findCell=c,e.incidence=g,e.dual=function(t,e){if(!e)return g(l(d(t,0)),t);for(var i=new Array(e),r=0;r<e;++r)i[r]=[];r=0;for(var n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length;s<o;++s)i[a[s]].push(r);return i},e.explode=function(t){for(var e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],a=0|n.length,s=1,l=1<<a;s<l;++s){for(var c=[],g=0;g<a;++g)s>>>g&1&&c.push(n[g]);e.push(c)}return o(e)},e.skeleton=d,e.boundary=function(t){for(var e=[],i=0,r=t.length;i<r;++i)for(var n=t[i],a=0,s=n.length;a<s;++a){for(var l=new Array(n.length-1),c=0,g=0;c<s;++c)c!==a&&(l[g++]=n[c]);e.push(l)}return o(e)},e.connectedComponents=function(t,e){return e?function(t,e){for(var i=new n(e),r=0;r<t.length;++r)for(var a=t[r],s=0;s<a.length;++s)for(var o=s+1;o<a.length;++o)i.link(a[s],a[o]);var l=[],c=i.ranks;for(r=0;r<c.length;++r)c[r]=-1;for(r=0;r<t.length;++r){var g=i.find(t[r][0]);c[g]<0?(c[g]=l.length,l.push([t[r].slice(0)])):l[c[g]].push(t[r].slice(0))}return l}(t,e):function(t){for(var e=l(o(d(t,0))),i=new n(e.length),r=0;r<t.length;++r)for(var a=t[r],s=0;s<a.length;++s)for(var g=c(e,[a[s]]),u=s+1;u<a.length;++u)i.link(g,c(e,[a[u]]));var B=[],F=i.ranks;for(r=0;r<F.length;++r)F[r]=-1;for(r=0;r<t.length;++r){var h=i.find(c(e,[t[r][0]]));F[h]<0?(F[h]=B.length,B.push([t[r].slice(0)])):B[F[h]].push(t[r].slice(0))}return B}(t)}},4623:function(t){function e(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=e,e.prototype.length=function(){return this.roots.length},e.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},e.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var i=e[t];e[t]=e[i],t=i}return t},e.prototype.link=function(t,e){var i=this.find(t),r=this.find(e);if(i!==r){var n=this.ranks,a=this.roots,s=n[i],o=n[r];s<o?a[i]=r:o<s?a[r]=i:(a[r]=i,++n[i])}}},5878:function(t,e,i){t.exports=function(t,e,i){for(var a=e.length,s=t.length,o=new Array(a),l=new Array(a),c=new Array(a),g=new Array(a),d=0;d<a;++d)o[d]=l[d]=-1,c[d]=1/0,g[d]=!1;for(d=0;d<s;++d){var u=t[d];if(2!==u.length)throw new Error("Input must be a graph");var B=u[1],F=u[0];-1!==l[F]?l[F]=-2:l[F]=B,-1!==o[B]?o[B]=-2:o[B]=F}function h(t){if(g[t])return 1/0;var i=o[t],n=l[t];return i<0||n<0?1/0:function(t,e,i){var n=Math.abs(r(t,e,i)),a=Math.sqrt(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2));return n/a}(e[t],e[i],e[n])}function Q(t,e){var i=f[t],r=f[e];f[t]=r,f[e]=i,x[i]=e,x[r]=t}function U(t){return c[f[t]]}function I(t){return 1&t?t-1>>1:(t>>1)-1}function b(t){for(var e=U(t);;){var i=e,r=2*t+1,n=2*(t+1),a=t;if(r<A){var s=U(r);s<i&&(a=r,i=s)}if(n<A)U(n)<i&&(a=n);if(a===t)return t;Q(t,a),t=a}}function p(t){for(var e=U(t);t>0;){var i=I(t);if(i>=0)if(e<U(i)){Q(t,i),t=i;continue}return t}}function y(){if(A>0){var t=f[0];return Q(0,A-1),A-=1,b(0),t}return-1}function m(t,e){var i=f[t];return c[i]===e?t:(c[i]=-1/0,p(t),y(),c[i]=e,p((A+=1)-1))}function C(t){if(!g[t]){g[t]=!0;var e=o[t],i=l[t];o[i]>=0&&(o[i]=e),l[e]>=0&&(l[e]=i),x[e]>=0&&m(x[e],h(e)),x[i]>=0&&m(x[i],h(i))}}var f=[],x=new Array(a);for(d=0;d<a;++d){(c[d]=h(d))<1/0?(x[d]=f.length,f.push(d)):x[d]=-1}var A=f.length;for(d=A>>1;d>=0;--d)b(d);for(;;){var v=y();if(v<0||c[v]>i)break;C(v)}var L=[];for(d=0;d<a;++d)g[d]||(x[d]=L.length,L.push(e[d].slice()));function R(t,e){if(t[e]<0)return e;var i=e,r=e;do{var n=t[r];if(!g[r]||n<0||n===r)break;if(n=t[r=n],!g[r]||n<0||n===r)break;r=n,i=t[i]}while(i!==r);for(var a=e;a!==r;a=t[a])t[a]=r;return r}L.length;var S=[];return t.forEach(function(t){var e=R(o,t[0]),i=R(l,t[1]);if(e>=0&&i>=0&&e!==i){var r=x[e],n=x[i];r!==n&&S.push([r,n])}}),n.unique(n.normalize(S)),{positions:L,edges:S}};var r=i(3250),n=i(2014)},1303:function(t,e,i){t.exports=function(t,e){var i,a,s,o;if(e[0][0]<e[1][0])i=e[0],a=e[1];else{if(!(e[0][0]>e[1][0]))return n(e,t);i=e[1],a=e[0]}if(t[0][0]<t[1][0])s=t[0],o=t[1];else{if(!(t[0][0]>t[1][0]))return-n(t,e);s=t[1],o=t[0]}var l=r(i,a,o),c=r(i,a,s);if(l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;if(l=r(o,s,a),c=r(o,s,i),l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;return a[0]-o[0]};var r=i(3250);function n(t,e){var i,n,a,s;if(e[0][0]<e[1][0])i=e[0],n=e[1];else{if(!(e[0][0]>e[1][0])){var o=Math.min(t[0][1],t[1][1]),l=Math.max(t[0][1],t[1][1]),c=Math.min(e[0][1],e[1][1]),g=Math.max(e[0][1],e[1][1]);return l<c?l-c:o>g?o-g:l-g}i=e[1],n=e[0]}t[0][1]<t[1][1]?(a=t[0],s=t[1]):(a=t[1],s=t[0]);var d=r(n,i,a);return d||((d=r(n,i,s))||s-n)}},4209:function(t,e,i){t.exports=function(t){for(var e=t.length,i=2*e,r=new Array(i),a=0;a<e;++a){var l=t[a],c=l[0][0]<l[1][0];r[2*a]=new d(l[0][0],l,c,a),r[2*a+1]=new d(l[1][0],l,!c,a)}r.sort(function(t,e){var i=t.x-e.x;return i||((i=t.create-e.create)||Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1]))});var u=n(s),B=[],F=[],h=[];for(a=0;a<i;){for(var Q=r[a].x,U=[];a<i;){var I=r[a];if(I.x!==Q)break;a+=1,I.segment[0][0]===I.x&&I.segment[1][0]===I.x?I.create&&(I.segment[0][1]<I.segment[1][1]?(U.push(new g(I.segment[0][1],I.index,!0,!0)),U.push(new g(I.segment[1][1],I.index,!1,!1))):(U.push(new g(I.segment[1][1],I.index,!0,!1)),U.push(new g(I.segment[0][1],I.index,!1,!0)))):u=I.create?u.insert(I.segment,I.index):u.remove(I.segment)}B.push(u.root),F.push(Q),h.push(U)}return new o(B,F,h)};var r=i(2478),n=i(3840),a=i(3250),s=i(1303);function o(t,e,i){this.slabs=t,this.coordinates=e,this.horizontal=i}function l(t,e){return t.y-e}function c(t,e){for(var i=null;t;){var r,n,s=t.key;s[0][0]<s[1][0]?(r=s[0],n=s[1]):(r=s[1],n=s[0]);var o=a(r,n,e);if(o<0)t=t.left;else if(o>0)if(e[0]!==s[1][0])i=t,t=t.right;else{if(l=c(t.right,e))return l;t=t.left}else{if(e[0]!==s[1][0])return t;var l;if(l=c(t.right,e))return l;t=t.left}}return i}function g(t,e,i,r){this.y=t,this.index=e,this.start=i,this.closed=r}function d(t,e,i,r){this.x=t,this.segment=e,this.create=i,this.index=r}o.prototype.castUp=function(t){var e=r.le(this.coordinates,t[0]);if(e<0)return-1;this.slabs[e];var i=c(this.slabs[e],t),n=-1;if(i&&(n=i.value),this.coordinates[e]===t[0]){var o=null;if(i&&(o=i.key),e>0){var g=c(this.slabs[e-1],t);g&&(o?s(g.key,o)>0&&(o=g.key,n=g.value):(n=g.value,o=g.key))}var d=this.horizontal[e];if(d.length>0){var u=r.ge(d,t[1],l);if(u<d.length){var B=d[u];if(t[1]===B.y){if(B.closed)return B.index;for(;u<d.length-1&&d[u+1].y===t[1];)if((B=d[u+=1]).closed)return B.index;if(B.y===t[1]&&!B.start){if((u+=1)>=d.length)return n;B=d[u]}}if(B.start)if(o){var F=a(o[0],o[1],[t[0],B.y]);o[0][0]>o[1][0]&&(F=-F),F>0&&(n=B.index)}else n=B.index;else B.y!==t[1]&&(n=B.index)}}}return n}},5202:function(t,e,i){var r=i(1944),n=i(8210);function a(t,e){var i=n(r(t,e),[e[e.length-1]]);return i[i.length-1]}function s(t,e,i,r){var n=-e/(r-e);n<0?n=0:n>1&&(n=1);for(var a=1-n,s=t.length,o=new Array(s),l=0;l<s;++l)o[l]=n*t[l]+a*i[l];return o}t.exports=function(t,e){for(var i=[],r=[],n=a(t[t.length-1],e),o=t[t.length-1],l=t[0],c=0;c<t.length;++c,o=l){var g=a(l=t[c],e);if(n<0&&g>0||n>0&&g<0){var d=s(o,g,l,n);i.push(d),r.push(d.slice())}g<0?r.push(l.slice()):g>0?i.push(l.slice()):(i.push(l.slice()),r.push(l.slice())),n=g}return{positive:i,negative:r}},t.exports.positive=function(t,e){for(var i=[],r=a(t[t.length-1],e),n=t[t.length-1],o=t[0],l=0;l<t.length;++l,n=o){var c=a(o=t[l],e);(r<0&&c>0||r>0&&c<0)&&i.push(s(n,c,o,r)),c>=0&&i.push(o.slice()),r=c}return i},t.exports.negative=function(t,e){for(var i=[],r=a(t[t.length-1],e),n=t[t.length-1],o=t[0],l=0;l<t.length;++l,n=o){var c=a(o=t[l],e);(r<0&&c>0||r>0&&c<0)&&i.push(s(n,c,o,r)),c<=0&&i.push(o.slice()),r=c}return i}},3387:function(t,e,i){var r;!function(){var n={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(t){return function(t,e){var i,r,s,o,l,c,g,d,u,B=1,F=t.length,h="";for(r=0;r<F;r++)if("string"==typeof t[r])h+=t[r];else if("object"==typeof t[r]){if((o=t[r]).keys)for(i=e[B],s=0;s<o.keys.length;s++){if(null==i)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[s],o.keys[s-1]));i=i[o.keys[s]]}else i=o.param_no?e[o.param_no]:e[B++];if(n.not_type.test(o.type)&&n.not_primitive.test(o.type)&&i instanceof Function&&(i=i()),n.numeric_arg.test(o.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError(a("[sprintf] expecting number but found %T",i));switch(n.number.test(o.type)&&(d=i>=0),o.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,o.width?parseInt(o.width):0);break;case"e":i=o.precision?parseFloat(i).toExponential(o.precision):parseFloat(i).toExponential();break;case"f":i=o.precision?parseFloat(i).toFixed(o.precision):parseFloat(i);break;case"g":i=o.precision?String(Number(i.toPrecision(o.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=o.precision?i.substring(0,o.precision):i;break;case"t":i=String(!!i),i=o.precision?i.substring(0,o.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=o.precision?i.substring(0,o.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=o.precision?i.substring(0,o.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}n.json.test(o.type)?h+=i:(!n.number.test(o.type)||d&&!o.sign?u="":(u=d?"+":"-",i=i.toString().replace(n.sign,"")),c=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",g=o.width-(u+i).length,l=o.width&&g>0?c.repeat(g):"",h+=o.align?u+i+l:"0"===c?u+l+i:l+u+i)}return h}(function(t){if(o[t])return o[t];var e,i=t,r=[],a=0;for(;i;){if(null!==(e=n.text.exec(i)))r.push(e[0]);else if(null!==(e=n.modulo.exec(i)))r.push("%");else{if(null===(e=n.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){a|=1;var s=[],l=e[2],c=[];if(null===(c=n.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=n.key_access.exec(l)))s.push(c[1]);else{if(null===(c=n.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}e[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}i=i.substring(e[0].length)}return o[t]=r}(t),arguments)}function s(t,e){return a.apply(null,[t].concat(e||[]))}var o=Object.create(null);e.sprintf=a,e.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=a,window.vsprintf=s,void 0===(r=function(){return{sprintf:a,vsprintf:s}}.call(e,i,e,t))||(t.exports=r))}()},3711:function(t,e,i){t.exports=function(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return function(t,e){for(var i=n(t,e),r=i.length,a=new Array(r),s=new Array(r),o=0;o<r;++o)a[o]=[i[o]],s[o]=[o];return{positions:a,cells:s}}(t,e);var i=t.order.join()+"-"+t.dtype,o=s[i];e=+e||0;o||(o=s[i]=function(t,e){var i=t.length+"d",n=a[i];if(n)return n(r,t,e)}(t.order,t.dtype));return o(t,e)};var r=i(2640),n=i(781),a={"2d":function(t,e,i){var r=t({order:e,scalarArguments:3,getters:"generic"===i?[0]:void 0,phase:function(t,e,i,r){return t>r|0},vertex:function(t,e,i,r,n,a,s,o,l,c,g,d,u){var B=(s|0)+(o<<1)+(l<<2)+(c<<3)|0;if(0!==B&&15!==B)switch(B){case 0:case 15:g.push([t-.5,e-.5]);break;case 1:g.push([t-.25-.25*(r+i-2*u)/(i-r),e-.25-.25*(n+i-2*u)/(i-n)]);break;case 2:g.push([t-.75-.25*(-r-i+2*u)/(r-i),e-.25-.25*(a+r-2*u)/(r-a)]);break;case 3:g.push([t-.5,e-.5-.5*(n+i+a+r-4*u)/(i-n+r-a)]);break;case 4:g.push([t-.25-.25*(a+n-2*u)/(n-a),e-.75-.25*(-n-i+2*u)/(n-i)]);break;case 5:g.push([t-.5-.5*(r+i+a+n-4*u)/(i-r+n-a),e-.5]);break;case 6:g.push([t-.5-.25*(-r-i+a+n)/(r-i+n-a),e-.5-.25*(-n-i+a+r)/(n-i+r-a)]);break;case 7:g.push([t-.75-.25*(a+n-2*u)/(n-a),e-.75-.25*(a+r-2*u)/(r-a)]);break;case 8:g.push([t-.75-.25*(-a-n+2*u)/(a-n),e-.75-.25*(-a-r+2*u)/(a-r)]);break;case 9:g.push([t-.5-.25*(r+i+-a-n)/(i-r+a-n),e-.5-.25*(n+i+-a-r)/(i-n+a-r)]);break;case 10:g.push([t-.5-.5*(-r-i-a-n+4*u)/(r-i+a-n),e-.5]);break;case 11:g.push([t-.25-.25*(-a-n+2*u)/(a-n),e-.75-.25*(n+i-2*u)/(i-n)]);break;case 12:g.push([t-.5,e-.5-.5*(-n-i-a-r+4*u)/(n-i+a-r)]);break;case 13:g.push([t-.75-.25*(r+i-2*u)/(i-r),e-.25-.25*(-a-r+2*u)/(a-r)]);break;case 14:g.push([t-.25-.25*(-r-i+2*u)/(r-i),e-.25-.25*(-n-i+2*u)/(n-i)])}},cell:function(t,e,i,r,n,a,s,o,l){n?o.push([t,e]):o.push([e,t])}});return function(t,e){var i=[],n=[];return r(t,i,n,e),{positions:i,cells:n}}}};var s={}},665:function(t,e,i){var r=i(3202);t.exports=s;var n=96;function a(t,e){var i=r(getComputedStyle(t).getPropertyValue(e));return i[0]*s(i[1],t)}function s(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var i=document.createElement("div");i.style["font-size"]="128"+t,e.appendChild(i);var r=a(i,"font-size")/128;return e.removeChild(i),r}(t,e);case"em":return a(e,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return n;case"cm":return n/2.54;case"mm":return n/25.4;case"pt":return n/72;case"pc":return n/6}return 1}},7261:function(t,e,i){t.exports=function(t){var e=(t=t||{}).center||[0,0,0],i=t.up||[0,1,0],r=t.right||d(i),n=t.radius||1,a=t.theta||0,g=t.phi||0;if(e=[].slice.call(e,0,3),i=[].slice.call(i,0,3),o(i,i),r=[].slice.call(r,0,3),o(r,r),"eye"in t){var B=t.eye,F=[B[0]-e[0],B[1]-e[1],B[2]-e[2]];s(r,F,i),c(r[0],r[1],r[2])<1e-6?r=d(i):o(r,r),n=c(F[0],F[1],F[2]);var h=l(i,F)/n,Q=l(r,F)/n;g=Math.acos(h),a=Math.acos(Q)}return n=Math.log(n),new u(t.zoomMin,t.zoomMax,e,i,r,n,a,g)};var r=i(9215),n=i(7608),a=i(6079),s=i(5911),o=i(3536),l=i(244);function c(t,e,i){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(i,2))}function g(t){return Math.min(1,Math.max(-1,t))}function d(t){var e=Math.abs(t[0]),i=Math.abs(t[1]),r=Math.abs(t[2]),n=[0,0,0];e>Math.max(i,r)?n[2]=1:i>Math.max(e,r)?n[0]=1:n[1]=1;for(var a=0,s=0,l=0;l<3;++l)a+=t[l]*t[l],s+=n[l]*t[l];for(l=0;l<3;++l)n[l]-=s/a*t[l];return o(n,n),n}function u(t,e,i,n,a,s,o,l){this.center=r(i),this.up=r(n),this.right=r(a),this.radius=r([s]),this.angle=r([o,l]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var c=0;c<16;++c)this.computedMatrix[c]=.5;this.recalcMatrix(0)}var B=u.prototype;B.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},B.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},B.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,i=this.computedRight,r=0,n=0,a=0;a<3;++a)n+=e[a]*i[a],r+=e[a]*e[a];var l=Math.sqrt(r),g=0;for(a=0;a<3;++a)i[a]-=e[a]*n/r,g+=i[a]*i[a],e[a]/=l;var d=Math.sqrt(g);for(a=0;a<3;++a)i[a]/=d;var u=this.computedToward;s(u,e,i),o(u,u);var B=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],h=this.computedAngle[1],Q=Math.cos(F),U=Math.sin(F),I=Math.cos(h),b=Math.sin(h),p=this.computedCenter,y=Q*I,m=U*I,C=b,f=-Q*b,x=-U*b,A=I,v=this.computedEye,L=this.computedMatrix;for(a=0;a<3;++a){var R=y*i[a]+m*u[a]+C*e[a];L[4*a+1]=f*i[a]+x*u[a]+A*e[a],L[4*a+2]=R,L[4*a+3]=0}var S=L[1],G=L[5],E=L[9],V=L[2],Z=L[6],N=L[10],D=G*N-E*Z,w=E*V-S*N,X=S*Z-G*V,W=c(D,w,X);D/=W,w/=W,X/=W,L[0]=D,L[4]=w,L[8]=X;for(a=0;a<3;++a)v[a]=p[a]+L[2+4*a]*B;for(a=0;a<3;++a){g=0;for(var H=0;H<3;++H)g+=L[a+4*H]*v[H];L[12+a]=-g}L[15]=1},B.getMatrix=function(t,e){this.recalcMatrix(t);var i=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=i[r];return e}return i};var F=[0,0,0];B.rotate=function(t,e,i,r){if(this.angle.move(t,e,i),r){this.recalcMatrix(t);var n=this.computedMatrix;F[0]=n[2],F[1]=n[6],F[2]=n[10];for(var s=this.computedUp,o=this.computedRight,l=this.computedToward,c=0;c<3;++c)n[4*c]=s[c],n[4*c+1]=o[c],n[4*c+2]=l[c];a(n,n,r,F);for(c=0;c<3;++c)s[c]=n[4*c],o[c]=n[4*c+1];this.up.set(t,s[0],s[1],s[2]),this.right.set(t,o[0],o[1],o[2])}},B.pan=function(t,e,i,r){e=e||0,i=i||0,r=r||0,this.recalcMatrix(t);var n=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=n[1],s=n[5],o=n[9],l=c(a,s,o);a/=l,s/=l,o/=l;var g=n[0],d=n[4],u=n[8],B=g*a+d*s+u*o,F=c(g-=a*B,d-=s*B,u-=o*B),h=(g/=F)*e+a*i,Q=(d/=F)*e+s*i,U=(u/=F)*e+o*i;this.center.move(t,h,Q,U);var I=Math.exp(this.computedRadius[0]);I=Math.max(1e-4,I+r),this.radius.set(t,Math.log(I))},B.translate=function(t,e,i,r){this.center.move(t,e||0,i||0,r||0)},B.setMatrix=function(t,e,i,r){var a=1;"number"==typeof i&&(a=0|i),(a<0||a>3)&&(a=1);var s=(a+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var o=e[a],l=e[a+4],d=e[a+8];if(r){var u=Math.abs(o),B=Math.abs(l),F=Math.abs(d),h=Math.max(u,B,F);u===h?(o=o<0?-1:1,l=d=0):F===h?(d=d<0?-1:1,o=l=0):(l=l<0?-1:1,o=d=0)}else{var Q=c(o,l,d);o/=Q,l/=Q,d/=Q}var U,I,b=e[s],p=e[s+4],y=e[s+8],m=b*o+p*l+y*d,C=c(b-=o*m,p-=l*m,y-=d*m),f=l*(y/=C)-d*(p/=C),x=d*(b/=C)-o*y,A=o*p-l*b,v=c(f,x,A);if(f/=v,x/=v,A/=v,this.center.jump(t,Y,J,$),this.radius.idle(t),this.up.jump(t,o,l,d),this.right.jump(t,b,p,y),2===a){var L=e[1],R=e[5],S=e[9],G=L*b+R*p+S*y,E=L*f+R*x+S*A;U=D<0?-Math.PI/2:Math.PI/2,I=Math.atan2(E,G)}else{var V=e[2],Z=e[6],N=e[10],D=V*o+Z*l+N*d,w=V*b+Z*p+N*y,X=V*f+Z*x+N*A;U=Math.asin(g(D)),I=Math.atan2(X,w)}this.angle.jump(t,I,U),this.recalcMatrix(t);var W=e[2],H=e[6],T=e[10],M=this.computedMatrix;n(M,e);var k=M[15],Y=M[12]/k,J=M[13]/k,$=M[14]/k,z=Math.exp(this.computedRadius[0]);this.center.jump(t,Y-W*z,J-H*z,$-T*z)},B.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},B.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},B.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},B.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},B.lookAt=function(t,e,i,r){this.recalcMatrix(t),e=e||this.computedEye,i=i||this.computedCenter;var n=(r=r||this.computedUp)[0],a=r[1],s=r[2],o=c(n,a,s);if(!(o<1e-6)){n/=o,a/=o,s/=o;var l=e[0]-i[0],d=e[1]-i[1],u=e[2]-i[2],B=c(l,d,u);if(!(B<1e-6)){l/=B,d/=B,u/=B;var F=this.computedRight,h=F[0],Q=F[1],U=F[2],I=n*h+a*Q+s*U,b=c(h-=I*n,Q-=I*a,U-=I*s);if(!(b<.01&&(b=c(h=a*u-s*d,Q=s*l-n*u,U=n*d-a*l))<1e-6)){h/=b,Q/=b,U/=b,this.up.set(t,n,a,s),this.right.set(t,h,Q,U),this.center.set(t,i[0],i[1],i[2]),this.radius.set(t,Math.log(B));var p=a*U-s*Q,y=s*h-n*U,m=n*Q-a*h,C=c(p,y,m),f=n*l+a*d+s*u,x=h*l+Q*d+U*u,A=(p/=C)*l+(y/=C)*d+(m/=C)*u,v=Math.asin(g(f)),L=Math.atan2(A,x),R=this.angle._state,S=R[R.length-1],G=R[R.length-2];S%=2*Math.PI;var E=Math.abs(S+2*Math.PI-L),V=Math.abs(S-L),Z=Math.abs(S-2*Math.PI-L);E<V&&(S+=2*Math.PI),Z<V&&(S-=2*Math.PI),this.angle.jump(this.angle.lastT(),S,G),this.angle.set(t,L,v)}}}}},5250:function(t){t.exports=function(t,i,r){var n=t*i,a=e*t,s=a-t,o=a-s,l=t-o,c=e*i,g=c-i,d=c-g,u=i-d,B=n-o*d,F=l*u-(B-l*d-o*u);if(r)return r[0]=F,r[1]=n,r;return[F,n]};var e=+(Math.pow(2,27)+1)},9362:function(t){t.exports=function(t,e,i){var r=t+e,n=r-t,a=r-n,s=e-n,o=t-a;if(i)return i[0]=o+s,i[1]=r,i;return[o+s,r]}},1888:function(t,e,i){var r=i(8828),n=i(1338),a=i(4793).hp;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:n([32,0]),UINT16:n([32,0]),UINT32:n([32,0]),BIGUINT64:n([32,0]),INT8:n([32,0]),INT16:n([32,0]),INT32:n([32,0]),BIGINT64:n([32,0]),FLOAT:n([32,0]),DOUBLE:n([32,0]),DATA:n([32,0]),UINT8C:n([32,0]),BUFFER:n([32,0])});var s="undefined"!=typeof Uint8ClampedArray,o="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,c=i.g.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=n([32,0])),c.BIGUINT64||(c.BIGUINT64=n([32,0])),c.BIGINT64||(c.BIGINT64=n([32,0])),c.BUFFER||(c.BUFFER=n([32,0]));var g=c.DATA,d=c.BUFFER;function u(t){if(t){var e=t.length||t.byteLength,i=r.log2(e);g[i].push(t)}}function B(t){t=r.nextPow2(t);var e=r.log2(t),i=g[e];return i.length>0?i.pop():new ArrayBuffer(t)}function F(t){return new Uint8Array(B(t),0,t)}function h(t){return new Uint16Array(B(2*t),0,t)}function Q(t){return new Uint32Array(B(4*t),0,t)}function U(t){return new Int8Array(B(t),0,t)}function I(t){return new Int16Array(B(2*t),0,t)}function b(t){return new Int32Array(B(4*t),0,t)}function p(t){return new Float32Array(B(4*t),0,t)}function y(t){return new Float64Array(B(8*t),0,t)}function m(t){return s?new Uint8ClampedArray(B(t),0,t):F(t)}function C(t){return o?new BigUint64Array(B(8*t),0,t):null}function f(t){return l?new BigInt64Array(B(8*t),0,t):null}function x(t){return new DataView(B(t),0,t)}function A(t){t=r.nextPow2(t);var e=r.log2(t),i=d[e];return i.length>0?i.pop():new a(t)}e.free=function(t){if(a.isBuffer(t))d[r.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,i=0|r.log2(e);g[i].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){u(t.buffer)},e.freeArrayBuffer=u,e.freeBuffer=function(t){d[r.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return B(t);switch(e){case"uint8":return F(t);case"uint16":return h(t);case"uint32":return Q(t);case"int8":return U(t);case"int16":return I(t);case"int32":return b(t);case"float":case"float32":return p(t);case"double":case"float64":return y(t);case"uint8_clamped":return m(t);case"bigint64":return f(t);case"biguint64":return C(t);case"buffer":return A(t);case"data":case"dataview":return x(t);default:return null}return null},e.mallocArrayBuffer=B,e.mallocUint8=F,e.mallocUint16=h,e.mallocUint32=Q,e.mallocInt8=U,e.mallocInt16=I,e.mallocInt32=b,e.mallocFloat32=e.mallocFloat=p,e.mallocFloat64=e.mallocDouble=y,e.mallocUint8Clamped=m,e.mallocBigUint64=C,e.mallocBigInt64=f,e.mallocDataView=x,e.mallocBuffer=A,e.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,g[t].length=0,d[t].length=0}},1755:function(t){function e(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=e;var i=e.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=t,i=this.roots;i[t]!==t;)t=i[t];for(;i[e]!==t;){var r=i[e];i[e]=t,e=r}return t},i.link=function(t,e){var i=this.find(t),r=this.find(e);if(i!==r){var n=this.ranks,a=this.roots,s=n[i],o=n[r];s<o?a[i]=r:o<s?a[r]=i:(a[r]=i,++n[i])}}},1682:function(t){t.exports=function(t,e,i){return 0===t.length?t:e?(i||t.sort(e),function(t,e){for(var i=1,r=t.length,n=t[0],a=t[0],s=1;s<r;++s)if(a=n,e(n=t[s],a)){if(s===i){i++;continue}t[i++]=n}return t.length=i,t}(t,e)):(i||t.sort(),function(t){for(var e=1,i=t.length,r=t[0],n=t[0],a=1;a<i;++a,n=r)if(n=r,(r=t[a])!==n){if(a===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},4359:function(t,e,i){t.exports=function(t,e){"object"==typeof e&&null!==e||(e={});return r(t,e.canvas||n,e.context||a,e)};var r=i(7718),n=null,a=null;"undefined"!=typeof document&&((n=document.createElement("canvas")).width=8192,n.height=1024,a=n.getContext("2d"))},7718:function(t,e,i){t.exports=function(t,e,i,r){var a=64,s=1.25,o={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};r&&(r.size&&r.size>0&&(a=r.size),r.lineSpacing&&r.lineSpacing>0&&(s=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(o.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(o.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(o.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(o.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(o.superscripts=!!r.styletags.superscripts));i.font=[r.fontStyle,r.fontVariant,r.fontWeight,a+"px",r.font].filter(function(t){return t}).join(" "),i.textAlign="start",i.textBaseline="alphabetic",i.direction="ltr";var l=function(t,e,i,r,a,s){i=i.replace(/\n/g,""),i=!0===s.breaklines?i.replace(/\<br\>/g,"\n"):i.replace(/\<br\>/g," ");var o="",l=[];for(C=0;C<i.length;++C)l[C]=o;!0===s.bolds&&(l=b(c,g,i,l));!0===s.italics&&(l=b(d,u,i,l));!0===s.superscripts&&(l=b(B,h,i,l));!0===s.subscripts&&(l=b(Q,I,i,l));var p=[],y="";for(C=0;C<i.length;++C)null!==l[C]&&(y+=i[C],p.push(l[C]));var m,C,f,x,A,v=y.split("\n"),L=v.length,R=Math.round(a*r),S=r,G=2*r,E=0,V=L*R+G;t.height<V&&(t.height=V);e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.fillStyle="#fff";var Z=0,N="";function D(){if(""!==N){var t=e.measureText(N).width;e.fillText(N,S+f,G+x),f+=t}}function w(){return Math.round(A)+"px "}function X(t,i){var r=""+e.font;if(!0===s.subscripts){var n=t.indexOf(U),a=i.indexOf(U),o=n>-1?parseInt(t[1+n]):0,l=a>-1?parseInt(i[1+a]):0;o!==l&&(r=r.replace(w(),"?px "),A*=Math.pow(.75,l-o),r=r.replace("?px ",w())),x+=.25*R*(l-o)}if(!0===s.superscripts){var c=t.indexOf(F),d=i.indexOf(F),B=c>-1?parseInt(t[1+c]):0,h=d>-1?parseInt(i[1+d]):0;B!==h&&(r=r.replace(w(),"?px "),A*=Math.pow(.75,h-B),r=r.replace("?px ",w())),x-=.25*R*(h-B)}if(!0===s.bolds){var Q=t.indexOf(g)>-1,I=i.indexOf(g)>-1;!Q&&I&&(r=b?r.replace("italic ","italic bold "):"bold "+r),Q&&!I&&(r=r.replace("bold ",""))}if(!0===s.italics){var b=t.indexOf(u)>-1,p=i.indexOf(u)>-1;!b&&p&&(r="italic "+r),b&&!p&&(r=r.replace("italic ",""))}e.font=r}for(m=0;m<L;++m){var W=v[m]+"\n";for(f=0,x=m*R,A=r,N="",C=0;C<W.length;++C){var H=C+Z<p.length?p[C+Z]:p[p.length-1];o===H?N+=W[C]:(D(),N=W[C],void 0!==H&&(X(o,H),o=H))}D(),Z+=W.length;var T=0|Math.round(f+2*S);E<T&&(E=T)}var M=E,k=G+R*L,Y=n(e.getImageData(0,0,M,k).data,[k,M,4]);return Y.pick(-1,-1,0).transpose(1,0)}(e,i,t,a,s,o);return m(l,r,a)},t.exports.processPixels=m;var r=i(3711),n=i(9618),a=i(5878),s=i(332),o=i(2538),l=i(2095),c="b",g="b|",d="i",u="i|",B="sup",F="+",h="+1",Q="sub",U="-",I="-1";function b(t,e,i,r){for(var n="<"+t+">",a="</"+t+">",s=n.length,o=a.length,l=e[0]===F||e[0]===U,c=0,g=-o;c>-1&&-1!==(c=i.indexOf(n,c))&&-1!==(g=i.indexOf(a,c+s))&&!(g<=c);){for(var d=c;d<g+o;++d)if(d<c+s||d>=g)r[d]=null,i=i.substr(0,d)+" "+i.substr(d+1);else if(null!==r[d]){var u=r[d].indexOf(e[0]);-1===u?r[d]+=e:l&&(r[d]=r[d].substr(0,u+1)+(1+parseInt(r[d][u+1]))+r[d].substr(u+2))}var B=c+s,h=i.substr(B,g-B).indexOf(n);c=-1!==h?h:g+o}return r}function p(t,e){var i=r(t,128);return e?a(i.cells,i.positions,.25):{edges:i.cells,positions:i.positions}}function y(t,e,i,r){var n=p(t,r),a=function(t,e,i){for(var r=e.textAlign||"start",n=e.textBaseline||"alphabetic",a=[1<<30,1<<30],s=[0,0],o=t.length,l=0;l<o;++l)for(var c=t[l],g=0;g<2;++g)a[g]=0|Math.min(a[g],c[g]),s[g]=0|Math.max(s[g],c[g]);var d=0;switch(r){case"center":d=-.5*(a[0]+s[0]);break;case"right":case"end":d=-s[0];break;case"left":case"start":d=-a[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var u=0;switch(n){case"hanging":case"top":u=-a[1];break;case"middle":u=-.5*(a[1]+s[1]);break;case"alphabetic":case"ideographic":u=-3*i;break;case"bottom":u=-s[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+n+"'")}var B=1/i;return"lineHeight"in e?B*=+e.lineHeight:"width"in e?B=e.width/(s[0]-a[0]):"height"in e&&(B=e.height/(s[1]-a[1])),t.map(function(t){return[B*(t[0]+d),B*(t[1]+u)]})}(n.positions,e,i),c=n.edges,g="ccw"===e.orientation;if(s(a,c),e.polygons||e.polygon||e.polyline){for(var d=l(c,a),u=new Array(d.length),B=0;B<d.length;++B){for(var F=d[B],h=new Array(F.length),Q=0;Q<F.length;++Q){for(var U=F[Q],I=new Array(U.length),b=0;b<U.length;++b)I[b]=a[U[b]].slice();g&&I.reverse(),h[Q]=I}u[B]=h}return u}return e.triangles||e.triangulate||e.triangle?{cells:o(a,c,{delaunay:!1,exterior:!1,interior:!0}),positions:a}:{edges:c,positions:a}}function m(t,e,i){try{return y(t,e,i,!0)}catch(t){}try{return y(t,e,i,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},1538:function(t){!function(){if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=Q);var e=!1;if("function"==typeof WeakMap){var i=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var r=new i,n=Object.freeze({});if(r.set(n,1),1===r.get(n))return void(t.exports=WeakMap);e=!0}}var a=Object.getOwnPropertyNames,s=Object.defineProperty,o=Object.isExtensible,l="weakmap:",c=l+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var g=new ArrayBuffer(25),d=new Uint8Array(g);crypto.getRandomValues(d),c=l+"rand:"+Array.prototype.map.call(d,function(t){return(t%36).toString(36)}).join("")+"___"}if(s(Object,"getOwnPropertyNames",{value:function(t){return a(t).filter(U)}}),"getPropertyNames"in Object){var u=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(t){return u(t).filter(U)}})}!function(){var t=Object.freeze;s(Object,"freeze",{value:function(e){return I(e),t(e)}});var e=Object.seal;s(Object,"seal",{value:function(t){return I(t),e(t)}});var i=Object.preventExtensions;s(Object,"preventExtensions",{value:function(t){return I(t),i(t)}})}();var B=!1,F=0,h=function(){this instanceof h||p();var t=[],e=[],i=F++;return Object.create(h.prototype,{get___:{value:b(function(r,n){var a,s=I(r);return s?i in s?s[i]:n:(a=t.indexOf(r))>=0?e[a]:n})},has___:{value:b(function(e){var r=I(e);return r?i in r:t.indexOf(e)>=0})},set___:{value:b(function(r,n){var a,s=I(r);return s?s[i]=n:(a=t.indexOf(r))>=0?e[a]=n:(a=t.length,e[a]=n,t[a]=r),this})},delete___:{value:b(function(r){var n,a,s=I(r);return s?i in s&&delete s[i]:!((n=t.indexOf(r))<0)&&(a=t.length-1,t[n]=void 0,e[n]=e[a],t[n]=t[a],t.length=a,e.length=a,!0)})}})};h.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof i?function(){function r(){this instanceof h||p();var t,r=new i,n=void 0,a=!1;return t=e?function(t,e){return r.set(t,e),r.has(t)||(n||(n=new h),n.set(t,e)),this}:function(t,e){if(a)try{r.set(t,e)}catch(i){n||(n=new h),n.set___(t,e)}else r.set(t,e);return this},Object.create(h.prototype,{get___:{value:b(function(t,e){return n?r.has(t)?r.get(t):n.get___(t,e):r.get(t,e)})},has___:{value:b(function(t){return r.has(t)||!!n&&n.has___(t)})},set___:{value:b(t)},delete___:{value:b(function(t){var e=!!r.delete(t);return n&&n.delete___(t)||e})},permitHostObjects___:{value:b(function(t){if(t!==Q)throw new Error("bogus call to permitHostObjects___");a=!0})}})}e&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=h.prototype,t.exports=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=h)}function Q(t){t.permitHostObjects___&&t.permitHostObjects___(Q)}function U(t){return!(t.substr(0,8)==l&&"___"===t.substr(t.length-3))}function I(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[c];if(e&&e.key===t)return e;if(o(t)){e={key:t};try{return s(t,c,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function b(t){return t.prototype=null,Object.freeze(t)}function p(){B||"undefined"==typeof console||(B=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},236:function(t,e,i){var r=i(8284);t.exports=function(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var i=e.valueOf(t);return i&&i.identity===t?i:r(e,t)}}},8284:function(t){t.exports=function(t,e){var i={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):i},writable:!0}),i}},606:function(t,e,i){var r=i(236);t.exports=function(){var t=r();return{get:function(e,i){var r=t(e);return r.hasOwnProperty("value")?r.value:i},set:function(e,i){return t(e).value=i,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}},3349:function(t){var e,i=function(){return function(t,e,i,r,n,a){var s=t[0],o=i[0],l=[0],c=o;r|=0;var g=0,d=o;for(g=0;g<s;++g){var u=e[r]-a,B=e[r+c]-a;u>=0!=B>=0&&n.push(l[0]+.5+.5*(u+B)/(u-B)),r+=d,++l[0]}}};t.exports=(e={funcName:{funcName:"zeroCrossings"}.funcName},function(t){var e={};return function(i,r,n){var a=i.dtype,s=i.order,o=[a,s.join()].join(),l=e[o];return l||(e[o]=l=t([a,s])),l(i.shape.slice(0),i.data,i.stride,0|i.offset,r,n)}}(i.bind(void 0,e)))},781:function(t,e,i){t.exports=function(t,e){var i=[];return e=+e||0,r(t.hi(t.shape[0]-1),i,e),i};var r=i(3349)},7790:function(){}},e={};function i(r){var n=e[r];if(void 0!==n)return n.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var r=i(1964);stackgl_modules.exports=r}();var stackgl_modulesExports=stackgl_modules.exports,colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},names=colorName,colorParse=parse$2,baseHues={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function parse$2(t){var e,i,r=[],n=1;if("string"==typeof t)if(t=t.toLowerCase(),names[t])r=names[t].slice(),i="rgb";else if("transparent"===t)n=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var a=t.slice(1);n=1,(l=a.length)<=4?(r=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===l&&(n=parseInt(a[3]+a[3],16)/255)):(r=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===l&&(n=parseInt(a[6]+a[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var s=e[1],o="rgb"===s;i=a=s.replace(/a$/,"");var l="cmyk"===a?4:"gray"===a?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(t,e){if(/%$/.test(t))return e===l?parseFloat(t)/100:"rgb"===a?255*parseFloat(t)/100:parseFloat(t);if("h"===a[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==baseHues[t])return baseHues[t]}return parseFloat(t)}),s===a&&r.push(1),n=o||void 0===r[l]?1:r[l],r=r.slice(0,l)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(r=t.match(/([0-9]+)/g).map(function(t){return parseFloat(t)}),i=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(r=[t[0],t[1],t[2]],i="rgb",n=4===t.length?t[3]:1):t instanceof Object&&(null!=t.r||null!=t.red||null!=t.R?(i="rgb",r=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(i="hsl",r=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),n=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(n/=100)):(i="rgb",r=[t>>>16,(65280&t)>>>8,255&t]);return{space:i,values:r,alpha:n}}var parse$1=colorParse,colorRgba=function(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw.apply(null,arguments));var i=parse$1(t);if(!i.space)return[];var r=[0,0,0],n="h"===i.space[0]?[360,100,100]:[255,255,255];return(e=Array(3))[0]=Math.min(Math.max(i.values[0],r[0]),n[0]),e[1]=Math.min(Math.max(i.values[1],r[1]),n[1]),e[2]=Math.min(Math.max(i.values[2],r[2]),n[2]),"h"===i.space[0]&&(e=hsl2rgb(e)),e.push(Math.min(Math.max(i.alpha,0),1)),e};function hsl2rgb(t){var e,i,r,n,a,s=t[0]/360,o=t[1]/100,l=t[2]/100,c=0;if(0===o)return[a=255*l,a,a];for(e=2*l-(i=l<.5?l*(1+o):l+o-l*o),n=[0,0,0];c<3;)(r=s+1/3*-(c-1))<0?r++:r>1&&r--,a=6*r<1?e+6*(i-e)*r:2*r<1?i:3*r<2?e+(i-e)*(2/3-r)*6:e,n[c++]=255*a;return n}var clamp_1=clamp$1;function clamp$1(t,e,i){return e<i?t<e?e:t>i?i:t:t<i?i:t>e?e:t}var dtype$1=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}},rgba$2=colorRgba,clamp=clamp_1,dtype=dtype$1,colorNormalize=function(t,e){"float"!==e&&e||(e="array"),"uint"===e&&(e="uint8"),"uint_clamped"===e&&(e="uint8_clamped");var i=new(dtype(e))(4),r="uint8"!==e&&"uint8_clamped"!==e;return t.length&&"string"!=typeof t||((t=rgba$2(t))[0]/=255,t[1]/=255,t[2]/=255),isInt(t)?(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=null!=t[3]?t[3]:255,r&&(i[0]/=255,i[1]/=255,i[2]/=255,i[3]/=255),i):(r?(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=null!=t[3]?t[3]:1):(i[0]=clamp(Math.floor(255*t[0]),0,255),i[1]=clamp(Math.floor(255*t[1]),0,255),i[2]=clamp(Math.floor(255*t[2]),0,255),i[3]=null==t[3]?255:clamp(Math.floor(255*t[3]),0,255)),i)};function isInt(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1))}var isNumeric$1=fastIsnumeric,tinycolor=tinycolorExports,rgba$1=colorNormalize,Colorscale=colorscale,colorDflt=attributes$K.defaultLine,isArrayOrTypedArray$1=array.isArrayOrTypedArray,colorDfltRgba=rgba$1(colorDflt),opacityDflt=1;function calculateColor(t,e){var i=t;return i[3]*=e,i}function validateColor(t){if(isNumeric$1(t))return colorDfltRgba;var e=rgba$1(t);return e.length?e:colorDfltRgba}function validateOpacity(t){return isNumeric$1(t)?t:opacityDflt}function formatColor$1(t,e,i){var r=t.color;r&&r._inputArray&&(r=r._inputArray);var n,a,s,o,l,c=isArrayOrTypedArray$1(r),g=isArrayOrTypedArray$1(e),d=Colorscale.extractOpts(t),u=[];if(n=void 0!==d.colorscale?Colorscale.makeColorScaleFuncFromTrace(t):validateColor,a=c?function(t,e){return void 0===t[e]?colorDfltRgba:rgba$1(n(t[e]))}:validateColor,s=g?function(t,e){return void 0===t[e]?opacityDflt:validateOpacity(t[e])}:validateOpacity,c||g)for(var B=0;B<i;B++)o=a(r,B),l=s(e,B),u[B]=calculateColor(o,l);else u=calculateColor(rgba$1(r),e);return u}function parseColorScale$1(t){var e=Colorscale.extractOpts(t),i=e.colorscale;return e.reversescale&&(i=Colorscale.flipScale(e.colorscale)),i.map(function(t){var e=t[0],i=tinycolor(t[1]).toRgb();return{index:e,rgb:[i.r,i.g,i.b,i.a]}})}var gl_format_color={formatColor:formatColor$1,parseColorScale:parseColorScale$1},rgba=colorNormalize;function str2RgbaArray$2(t){return t?rgba(t):[0,0,0,1]}var str2rgbarray=str2RgbaArray$2,zip3$1=function(t,e,i,r){r=r||t.length;for(var n=new Array(r),a=0;a<r;a++)n[a]=[t[a],e[a],i[a]];return n},createMesh$1=stackgl_modulesExports.gl_mesh3d,parseColorScale=gl_format_color.parseColorScale,isArrayOrTypedArray=libExports.isArrayOrTypedArray,str2RgbaArray$1=str2rgbarray,extractOpts=colorscale.extractOpts,zip3=zip3$1,findNearestOnAxis=function(t,e){for(var i=e.length-1;i>0;i--){var r=Math.min(e[i],e[i-1]),n=Math.max(e[i],e[i-1]);if(n>r&&r<t&&t<=n)return{id:i,distRatio:(n-t)/(n-r)}}return{id:0,distRatio:0}};function IsosurfaceTrace(t,e,i){this.scene=t,this.uid=i,this.mesh=e,this.name="",this.data=null,this.showContour=!1}var proto$2=IsosurfaceTrace.prototype;proto$2.handlePick=function(t){if(t.object===this.mesh){var e=t.data.index,i=this.data._meshX[e],r=this.data._meshY[e],n=this.data._meshZ[e],a=this.data._Ys.length,s=this.data._Zs.length,o=findNearestOnAxis(i,this.data._Xs).id,l=findNearestOnAxis(r,this.data._Ys).id,c=findNearestOnAxis(n,this.data._Zs).id,g=t.index=c+s*l+s*a*o;t.traceCoordinate=[this.data._meshX[g],this.data._meshY[g],this.data._meshZ[g],this.data._value[g]];var d=this.data.hovertext||this.data.text;return isArrayOrTypedArray(d)&&void 0!==d[g]?t.textLabel=d[g]:d&&(t.textLabel=d),!0}},proto$2.update=function(t){var e=this.scene,i=e.fullSceneLayout;function r(t,e,i,r){return e.map(function(e){return t.d2l(e,0,r)*i})}this.data=generateIsoMeshes(t);var n={positions:zip3(r(i.xaxis,t._meshX,e.dataScale[0],t.xcalendar),r(i.yaxis,t._meshY,e.dataScale[1],t.ycalendar),r(i.zaxis,t._meshZ,e.dataScale[2],t.zcalendar)),cells:zip3(t._meshI,t._meshJ,t._meshK),lightPosition:[t.lightposition.x,t.lightposition.y,t.lightposition.z],ambient:t.lighting.ambient,diffuse:t.lighting.diffuse,specular:t.lighting.specular,roughness:t.lighting.roughness,fresnel:t.lighting.fresnel,vertexNormalsEpsilon:t.lighting.vertexnormalsepsilon,faceNormalsEpsilon:t.lighting.facenormalsepsilon,opacity:t.opacity,contourEnable:t.contour.show,contourColor:str2RgbaArray$1(t.contour.color).slice(0,3),contourWidth:t.contour.width,useFacetNormals:t.flatshading},a=extractOpts(t);n.vertexIntensity=t._meshIntensity,n.vertexIntensityBounds=[a.min,a.max],n.colormap=parseColorScale(t),this.mesh.update(n)},proto$2.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var GRID_TYPES=["xyz","xzy","yxz","yzx","zxy","zyx"];function generateIsoMeshes(t){t._meshI=[],t._meshJ=[],t._meshK=[];var e,i,r,n,a,s,o,l=t.surface.show,c=t.spaceframe.show,g=t.surface.fill,d=t.spaceframe.fill,u=!1,B=!1,F=0,h=t._Xs,Q=t._Ys,U=t._Zs,I=h.length,b=Q.length,p=U.length,y=GRID_TYPES.indexOf(t._gridFill.replace(/-/g,"").replace(/\+/g,"")),m=function(t,e,i){switch(y){case 5:return i+p*e+p*b*t;case 4:return i+p*t+p*I*e;case 3:return e+b*i+b*p*t;case 2:return e+b*t+b*I*i;case 1:return t+I*i+I*p*e;default:return t+I*e+I*b*i}},C=t._minValues,f=t._maxValues,x=t._vMin,A=t._vMax;function v(t,e,o){for(var l=s.length,c=i;c<l;c++)if(t===r[c]&&e===n[c]&&o===a[c])return c;return-1}function L(){i=e}function R(){r=[],n=[],a=[],s=[],e=0,L()}function S(t,i,o,l){return r.push(t),n.push(i),a.push(o),s.push(l),++e-1}function G(e,i,r){return t._meshI.push(e),t._meshJ.push(i),t._meshK.push(r),++F-1}function E(t,e,i){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]*(1-i)+i*e[n];return r}function V(t){o=t}function Z(t,e){return"all"===t||null===t||t.indexOf(e)>-1}function N(t,e){return null===t?e:t}function D(t,e,i){L();var r=[e],n=[i];if(o>=1)r=[e],n=[i];else if(o>0){var a=function(t,e){var i=t[0],r=t[1],n=t[2],a=function(t,e,i){for(var r=[],n=0;n<t.length;n++)r[n]=(t[n]+e[n]+i[n])/3;return r}(i,r,n),s=Math.sqrt(1-o),l=E(a,i,s),c=E(a,r,s),g=E(a,n,s),d=e[0],u=e[1],B=e[2];return{xyzv:[[i,r,c],[c,l,i],[r,n,g],[g,c,r],[n,i,l],[l,g,n]],abc:[[d,u,-1],[-1,-1,d],[u,B,-1],[-1,-1,u],[B,d,-1],[-1,-1,B]]}}(e,i);r=a.xyzv,n=a.abc}for(var s=0;s<r.length;s++){e=r[s],i=n[s];for(var l=[],c=0;c<3;c++){var g=e[c][0],d=e[c][1],u=e[c][2],B=e[c][3],F=i[c]>-1?i[c]:v(g,d,u);l[c]=F>-1?F:S(g,d,u,N(t,B))}G(l[0],l[1],l[2])}}function w(t,e,i,r){var n=t[3];n<i&&(n=i),n>r&&(n=r);for(var a=(t[3]-n)/(t[3]-e[3]+1e-9),s=[],o=0;o<4;o++)s[o]=(1-a)*t[o]+a*e[o];return s}function X(t,e,i){return t>=e&&t<=i}function W(t){var e=.001*(A-x);return t>=x-e&&t<=A+e}function H(e){for(var i=[],r=0;r<4;r++){var n=e[r];i.push([t._x[n],t._y[n],t._z[n],t._value[n]])}return i}function T(t,e,i,r,n,a){a||(a=1),i=[-1,-1,-1];var s=!1,o=[X(e[0][3],r,n),X(e[1][3],r,n),X(e[2][3],r,n)];if(!o[0]&&!o[1]&&!o[2])return!1;var l=function(t,e,i){return W(e[0][3])&&W(e[1][3])&&W(e[2][3])?(D(t,e,i),!0):a<3&&T(t,e,i,x,A,++a)};if(o[0]&&o[1]&&o[2])return l(t,e,i)||s;var c=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(a){if(o[a[0]]&&o[a[1]]&&!o[a[2]]){var g=e[a[0]],d=e[a[1]],u=e[a[2]],B=w(u,g,r,n),F=w(u,d,r,n);s=l(t,[F,B,g],[-1,-1,i[a[0]]])||s,s=l(t,[g,d,F],[i[a[0]],i[a[1]],-1])||s,c=!0}}),c||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(a){if(o[a[0]]&&!o[a[1]]&&!o[a[2]]){var g=e[a[0]],d=e[a[1]],u=e[a[2]],B=w(d,g,r,n),F=w(u,g,r,n);s=l(t,[F,B,g],[-1,-1,i[a[0]]])||s,c=!0}}),s}function M(t,e,i,r){var n=!1,a=H(e),s=[X(a[0][3],i,r),X(a[1][3],i,r),X(a[2][3],i,r),X(a[3][3],i,r)];if(!(s[0]||s[1]||s[2]||s[3]))return n;if(s[0]&&s[1]&&s[2]&&s[3])return B&&(n=function(t,e,i){var r=function(r,n,a){D(t,[e[r],e[n],e[a]],[i[r],i[n],i[a]])};r(0,1,2),r(3,0,1),r(2,3,0),r(1,2,3)}(t,a,e)||n),n;var o=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(l){if(s[l[0]]&&s[l[1]]&&s[l[2]]&&!s[l[3]]){var c=a[l[0]],g=a[l[1]],d=a[l[2]],u=a[l[3]];if(B)n=D(t,[c,g,d],[e[l[0]],e[l[1]],e[l[2]]])||n;else{var F=w(u,c,i,r),h=w(u,g,i,r),Q=w(u,d,i,r);n=D(null,[F,h,Q],[-1,-1,-1])||n}o=!0}}),o?n:([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(l){if(s[l[0]]&&s[l[1]]&&!s[l[2]]&&!s[l[3]]){var c=a[l[0]],g=a[l[1]],d=a[l[2]],u=a[l[3]],F=w(d,c,i,r),h=w(d,g,i,r),Q=w(u,g,i,r),U=w(u,c,i,r);B?(n=D(t,[c,U,F],[e[l[0]],-1,-1])||n,n=D(t,[g,h,Q],[e[l[1]],-1,-1])||n):n=function(t,e,i){var r=function(r,n,a){D(t,[e[r],e[n],e[a]],[i[r],i[n],i[a]])};r(0,1,2),r(2,3,0)}(null,[F,h,Q,U],[-1,-1,-1,-1])||n,o=!0}}),o||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(l){if(s[l[0]]&&!s[l[1]]&&!s[l[2]]&&!s[l[3]]){var c=a[l[0]],g=a[l[1]],d=a[l[2]],u=a[l[3]],F=w(g,c,i,r),h=w(d,c,i,r),Q=w(u,c,i,r);B?(n=D(t,[c,F,h],[e[l[0]],-1,-1])||n,n=D(t,[c,h,Q],[e[l[0]],-1,-1])||n,n=D(t,[c,Q,F],[e[l[0]],-1,-1])||n):n=D(null,[F,h,Q],[-1,-1,-1])||n,o=!0}}),n)}function k(t,e,i,r,n,a,s,o,l,c,g){var d=!1;return u&&(Z(t,"A")&&(d=M(null,[e,i,r,a],c,g)||d),Z(t,"B")&&(d=M(null,[i,r,n,l],c,g)||d),Z(t,"C")&&(d=M(null,[i,a,s,l],c,g)||d),Z(t,"D")&&(d=M(null,[r,a,o,l],c,g)||d),Z(t,"E")&&(d=M(null,[i,r,a,l],c,g)||d)),B&&(d=M(t,[i,r,a,l],c,g)||d),d}function Y(t,e,i,r,n,a,s,o){return[!0===o[0]||T(t,H([e,i,r]),[e,i,r],a,s),!0===o[1]||T(t,H([r,n,e]),[r,n,e],a,s)]}function J(t,e,i,r,n,a,s,o,l){return o?Y(t,e,i,n,r,a,s,l):Y(t,i,n,r,e,a,s,l)}function $(t,e,i,r,n,a,s){var o,l,c,g,d=!1,u=function(){d=T(t,[o,l,c],[-1,-1,-1],n,a)||d,d=T(t,[c,g,o],[-1,-1,-1],n,a)||d},B=s[0],F=s[1],h=s[2];return B&&(o=E(H([m(e,i-0,r-0)])[0],H([m(e-1,i-0,r-0)])[0],B),l=E(H([m(e,i-0,r-1)])[0],H([m(e-1,i-0,r-1)])[0],B),c=E(H([m(e,i-1,r-1)])[0],H([m(e-1,i-1,r-1)])[0],B),g=E(H([m(e,i-1,r-0)])[0],H([m(e-1,i-1,r-0)])[0],B),u()),F&&(o=E(H([m(e-0,i,r-0)])[0],H([m(e-0,i-1,r-0)])[0],F),l=E(H([m(e-0,i,r-1)])[0],H([m(e-0,i-1,r-1)])[0],F),c=E(H([m(e-1,i,r-1)])[0],H([m(e-1,i-1,r-1)])[0],F),g=E(H([m(e-1,i,r-0)])[0],H([m(e-1,i-1,r-0)])[0],F),u()),h&&(o=E(H([m(e-0,i-0,r)])[0],H([m(e-0,i-0,r-1)])[0],h),l=E(H([m(e-0,i-1,r)])[0],H([m(e-0,i-1,r-1)])[0],h),c=E(H([m(e-1,i-1,r)])[0],H([m(e-1,i-1,r-1)])[0],h),g=E(H([m(e-1,i-0,r)])[0],H([m(e-1,i-0,r-1)])[0],h),u()),d}function z(t,e,i,r,n,a,s,o,l,c,g,d){var B=t;return d?(u&&"even"===t&&(B=null),k(B,e,i,r,n,a,s,o,l,c,g)):(u&&"odd"===t&&(B=null),k(B,l,o,s,a,n,r,i,e,c,g))}function O(t,e,i,r,n){for(var a=[],s=0,o=0;o<e.length;o++)for(var l=e[o],c=1;c<p;c++)for(var g=1;g<b;g++)a.push(J(t,m(l,g-1,c-1),m(l,g-1,c),m(l,g,c-1),m(l,g,c),i,r,(l+g+c)%2,n&&n[s]?n[s]:[])),s++;return a}function K(t,e,i,r,n){for(var a=[],s=0,o=0;o<e.length;o++)for(var l=e[o],c=1;c<I;c++)for(var g=1;g<p;g++)a.push(J(t,m(c-1,l,g-1),m(c,l,g-1),m(c-1,l,g),m(c,l,g),i,r,(c+l+g)%2,n&&n[s]?n[s]:[])),s++;return a}function _(t,e,i,r,n){for(var a=[],s=0,o=0;o<e.length;o++)for(var l=e[o],c=1;c<b;c++)for(var g=1;g<I;g++)a.push(J(t,m(g-1,c-1,l),m(g-1,c,l),m(g,c-1,l),m(g,c,l),i,r,(g+c+l)%2,n&&n[s]?n[s]:[])),s++;return a}function P(t,e,i){for(var r=1;r<p;r++)for(var n=1;n<b;n++)for(var a=1;a<I;a++)z(t,m(a-1,n-1,r-1),m(a-1,n-1,r),m(a-1,n,r-1),m(a-1,n,r),m(a,n-1,r-1),m(a,n-1,r),m(a,n,r-1),m(a,n,r),e,i,(a+n+r)%2)}function j(t,e,i){u=!0,P(t,e,i),u=!1}function q(t,e,i,r,n,a){for(var s=[],o=0,l=0;l<e.length;l++)for(var c=e[l],g=1;g<p;g++)for(var d=1;d<b;d++)s.push($(t,c,d,g,i,r,n[l],a&&a[o]&&a[o])),o++;return s}function tt(t,e,i,r,n,a){for(var s=[],o=0,l=0;l<e.length;l++)for(var c=e[l],g=1;g<I;g++)for(var d=1;d<p;d++)s.push($(t,g,c,d,i,r,n[l],a&&a[o]&&a[o])),o++;return s}function et(t,e,i,r,n,a){for(var s=[],o=0,l=0;l<e.length;l++)for(var c=e[l],g=1;g<b;g++)for(var d=1;d<I;d++)s.push($(t,d,g,c,i,r,n[l],a&&a[o]&&a[o])),o++;return s}function it(t,e){for(var i=[],r=t;r<e;r++)i.push(r);return i}return function(){R(),function(){for(var e=0;e<I;e++)for(var i=0;i<b;i++)for(var r=0;r<p;r++){var n=m(e,i,r);S(t._x[n],t._y[n],t._z[n],t._value[n])}}();var e=null;if(c&&d&&(V(d),function(t,e,i){B=!0,P(t,e,i),B=!1}(e,x,A)),l&&g){V(g);for(var i=t.surface.pattern,o=t.surface.count,u=0;u<o;u++){var y=1===o?.5:u/(o-1),v=(1-y)*x+y*A,L=Math.abs(v-C)>Math.abs(v-f)?[C,v]:[v,f];j(i,L[0],L[1])}}var G=[[Math.min(x,f),Math.max(x,f)],[Math.min(C,A),Math.max(C,A)]];["x","y","z"].forEach(function(i){for(var r=[],n=0;n<G.length;n++){var a=0,s=G[n][0],o=G[n][1],l=t.slices[i];if(l.show&&l.fill){V(l.fill);var c=[],g=[],d=[];if(l.locations.length)for(var u=0;u<l.locations.length;u++){var B=findNearestOnAxis(l.locations[u],"x"===i?h:"y"===i?Q:U);0===B.distRatio?c.push(B.id):B.id>0&&(g.push(B.id),"x"===i?d.push([B.distRatio,0,0]):"y"===i?d.push([0,B.distRatio,0]):d.push([0,0,B.distRatio]))}else c=it(1,"x"===i?I-1:"y"===i?b-1:p-1);g.length>0&&(r[a]="x"===i?q(e,g,s,o,d,r[a]):"y"===i?tt(e,g,s,o,d,r[a]):et(e,g,s,o,d,r[a]),a++),c.length>0&&(r[a]="x"===i?O(e,c,s,o,r[a]):"y"===i?K(e,c,s,o,r[a]):_(e,c,s,o,r[a]),a++)}var F=t.caps[i];F.show&&F.fill&&(V(F.fill),r[a]="x"===i?O(e,[0,I-1],s,o,r[a]):"y"===i?K(e,[0,b-1],s,o,r[a]):_(e,[0,p-1],s,o,r[a]),a++)}}),0===F&&R(),t._meshX=r,t._meshY=n,t._meshZ=a,t._meshIntensity=s,t._Xs=h,t._Ys=Q,t._Zs=U}(),t}function createIsosurfaceTrace(t,e){var i=t.glplot.gl,r=createMesh$1({gl:i}),n=new IsosurfaceTrace(t,r,e.uid);return r._trace=n,n.update(e),t.glplot.add(r),n}var convert$2={createIsosurfaceTrace:createIsosurfaceTrace},gl3d={},getCanvasContext_1=getCanvasContext;function getCanvasContext(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var i=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(i.width=e.width),"number"==typeof e.height&&(i.height=e.height);var r,n=e;try{var a=[t];0===t.indexOf("webgl")&&a.push("experimental-"+t);for(var s=0;s<a.length;s++)if(r=i.getContext(a[s],n))return r}catch(t){r=null}return r||null}var show_no_webgl_msg,hasRequiredShow_no_webgl_msg,convert$1,hasRequiredConvert,spikes,hasRequiredSpikes,tick_marks,hasRequiredTick_marks,getContext$1=getCanvasContext_1,webglContext=function(t){return getContext$1("webgl",t)};function requireShow_no_webgl_msg(){if(hasRequiredShow_no_webgl_msg)return show_no_webgl_msg;hasRequiredShow_no_webgl_msg=1;var t=colorExports,e=function(){};return show_no_webgl_msg=function(i){for(var r in i)"function"==typeof i[r]&&(i[r]=e);i.destroy=function(){i.container.parentNode.removeChild(i.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=t.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=t.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),i.container.appendChild(n),i.container.style.background="#FFFFFF",i.container.onclick=function(){window.open("https://get.webgl.org")},!1},show_no_webgl_msg}function requireConvert(){if(hasRequiredConvert)return convert$1;hasRequiredConvert=1;var t=str2rgbarray,e=libExports,i=["xaxis","yaxis","zaxis"];function r(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}return r.prototype.merge=function(r,n){for(var a=this,s=0;s<3;++s){var o=n[i[s]];o.visible?(a.labels[s]=r._meta?e.templateString(o.title.text,r._meta):o.title.text,"font"in o.title&&(o.title.font.color&&(a.labelColor[s]=t(o.title.font.color)),o.title.font.family&&(a.labelFont[s]=o.title.font.family),o.title.font.size&&(a.labelSize[s]=o.title.font.size),o.title.font.weight&&(a.labelFontWeight[s]=o.title.font.weight),o.title.font.style&&(a.labelFontStyle[s]=o.title.font.style),o.title.font.variant&&(a.labelFontVariant[s]=o.title.font.variant)),"showline"in o&&(a.lineEnable[s]=o.showline),"linecolor"in o&&(a.lineColor[s]=t(o.linecolor)),"linewidth"in o&&(a.lineWidth[s]=o.linewidth),"showgrid"in o&&(a.gridEnable[s]=o.showgrid),"gridcolor"in o&&(a.gridColor[s]=t(o.gridcolor)),"gridwidth"in o&&(a.gridWidth[s]=o.gridwidth),"log"===o.type?a.zeroEnable[s]=!1:"zeroline"in o&&(a.zeroEnable[s]=o.zeroline),"zerolinecolor"in o&&(a.zeroLineColor[s]=t(o.zerolinecolor)),"zerolinewidth"in o&&(a.zeroLineWidth[s]=o.zerolinewidth),"ticks"in o&&o.ticks?a.lineTickEnable[s]=!0:a.lineTickEnable[s]=!1,"ticklen"in o&&(a.lineTickLength[s]=a._defaultLineTickLength[s]=o.ticklen),"tickcolor"in o&&(a.lineTickColor[s]=t(o.tickcolor)),"tickwidth"in o&&(a.lineTickWidth[s]=o.tickwidth),"tickangle"in o&&(a.tickAngle[s]="auto"===o.tickangle?-3600:Math.PI*-o.tickangle/180),"showticklabels"in o&&(a.tickEnable[s]=o.showticklabels),"tickfont"in o&&(o.tickfont.color&&(a.tickColor[s]=t(o.tickfont.color)),o.tickfont.family&&(a.tickFont[s]=o.tickfont.family),o.tickfont.size&&(a.tickSize[s]=o.tickfont.size),o.tickfont.weight&&(a.tickFontWeight[s]=o.tickfont.weight),o.tickfont.style&&(a.tickFontStyle[s]=o.tickfont.style),o.tickfont.variant&&(a.tickFontVariant[s]=o.tickfont.variant)),"mirror"in o?-1!==["ticks","all","allticks"].indexOf(o.mirror)?(a.lineTickMirror[s]=!0,a.lineMirror[s]=!0):!0===o.mirror?(a.lineTickMirror[s]=!1,a.lineMirror[s]=!0):(a.lineTickMirror[s]=!1,a.lineMirror[s]=!1):a.lineMirror[s]=!1,"showbackground"in o&&!1!==o.showbackground?(a.backgroundEnable[s]=!0,a.backgroundColor[s]=t(o.backgroundcolor)):a.backgroundEnable[s]=!1):(a.tickEnable[s]=!1,a.labelEnable[s]=!1,a.lineEnable[s]=!1,a.lineTickEnable[s]=!1,a.gridEnable[s]=!1,a.zeroEnable[s]=!1,a.backgroundEnable[s]=!1)}},convert$1=function(t,e){var i=new r;return i.merge(t,e),i}}function requireSpikes(){if(hasRequiredSpikes)return spikes;hasRequiredSpikes=1;var t=str2rgbarray,e=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}return i.prototype.merge=function(i){for(var r=0;r<3;++r){var n=i[e[r]];n.visible?(this.enabled[r]=n.showspikes,this.colors[r]=t(n.spikecolor),this.drawSides[r]=n.spikesides,this.lineWidth[r]=n.spikethickness):(this.enabled[r]=!1,this.drawSides[r]=!1)}},spikes=function(t){var e=new i;return e.merge(t),e}}function requireTick_marks(){if(hasRequiredTick_marks)return tick_marks;hasRequiredTick_marks=1,tick_marks=function(r){for(var n=r.axesOptions,a=r.glplot.axesPixels,s=r.fullSceneLayout,o=[[],[],[]],l=0;l<3;++l){var c=s[i[l]];if(c._length=(a[l].hi-a[l].lo)*a[l].pixelsPerDataUnit/r.dataScale[l],Math.abs(c._length)===1/0||isNaN(c._length))o[l]=[];else{c._input_range=c.range.slice(),c.range[0]=a[l].lo/r.dataScale[l],c.range[1]=a[l].hi/r.dataScale[l],c._m=1/(r.dataScale[l]*a[l].pixelsPerDataUnit),c.range[0]===c.range[1]&&(c.range[0]-=1,c.range[1]+=1);var g=c.tickmode;if("auto"===c.tickmode){c.tickmode="linear";var d=c.nticks||e.constrain(c._length/40,4,9);t.autoTicks(c,Math.abs(c.range[1]-c.range[0])/d)}for(var u=t.calcTicks(c,{msUTC:!0}),B=0;B<u.length;++B)u[B].x=u[B].x*r.dataScale[l],"date"===c.type&&(u[B].text=u[B].text.replace(/\<br\>/g," "));o[l]=u,c.tickmode=g}}n.ticks=o;for(l=0;l<3;++l){r.glplot.bounds[0][l],r.glplot.bounds[1][l];for(B=0;B<2;++B)n.bounds[B][l]=r.glplot.bounds[B][l]}r.contourLevels=function(t){for(var e=new Array(3),i=0;i<3;++i){for(var r=t[i],n=new Array(r.length),a=0;a<r.length;++a)n[a]=r[a].x;e[i]=n}return e}(o)};var t=axesExports,e=libExports,i=["xaxis","yaxis","zaxis"];return tick_marks}var STATIC_CANVAS,STATIC_CONTEXT,glPlot3d=stackgl_modulesExports.gl_plot3d,createCamera=glPlot3d.createCamera,createPlot=glPlot3d.createScene,getContext=webglContext,Registry$2=registry$1,Lib$3=libExports,preserveDrawingBuffer=Lib$3.preserveDrawingBuffer(),Axes$1=axesExports,Fx=fx,str2RGBAarray=str2rgbarray,showNoWebGlMsg=requireShow_no_webgl_msg(),project$1=project_1,createAxesOptions=requireConvert(),createSpikeOptions=requireSpikes(),computeTickMarks=requireTick_marks(),applyAutorangeOptions=requireAutorange().applyAutorangeOptions,tabletmode=!1;function Scene$1(t,e){var i=document.createElement("div"),r=t.container;this.graphDiv=t.graphDiv;var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",n.style["z-index"]=20,n.style["pointer-events"]="none",i.appendChild(n),this.svgContainer=n,i.id=t.id,i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",r.appendChild(i),this.fullLayout=e,this.id=t.id||"scene",this.fullSceneLayout=e[this.id],this.plotArgs=[[],{},{}],this.axesOptions=createAxesOptions(e,e[this.id]),this.spikeOptions=createSpikeOptions(e[this.id]),this.container=i,this.staticMode=!!t.staticPlot,this.pixelRatio=this.pixelRatio||t.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=Registry$2.getComponentMethod("annotations3d","convert"),this.drawAnnotations=Registry$2.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var proto$1=Scene$1.prototype;proto$1.prepareOptions=function(){var t=this,e={canvas:t.canvas,gl:t.gl,glOptions:{preserveDrawingBuffer:preserveDrawingBuffer,premultipliedAlpha:!0,antialias:!0},container:t.container,axes:t.axesOptions,spikes:t.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:t.camera,pixelRatio:t.pixelRatio};if(t.staticMode){if(!(STATIC_CONTEXT||(STATIC_CANVAS=document.createElement("canvas"),STATIC_CONTEXT=getContext({canvas:STATIC_CANVAS,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");e.gl=STATIC_CONTEXT,e.canvas=STATIC_CANVAS}return e};var firstInit=!0;proto$1.tryCreatePlot=function(){var t=this,e=t.prepareOptions(),i=!0;try{t.glplot=createPlot(e)}catch(r){if(t.staticMode||!firstInit||preserveDrawingBuffer)i=!1;else{Lib$3.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{preserveDrawingBuffer=e.glOptions.preserveDrawingBuffer=!0,t.glplot=createPlot(e)}catch(t){preserveDrawingBuffer=e.glOptions.preserveDrawingBuffer=!1,i=!1}}}return firstInit=!1,i},proto$1.initializeGLCamera=function(){var t=this,e=t.fullSceneLayout.camera,i="orthographic"===e.projection.type;t.camera=createCamera(t.container,{center:[e.center.x,e.center.y,e.center.z],eye:[e.eye.x,e.eye.y,e.eye.z],up:[e.up.x,e.up.y,e.up.z],_ortho:i,zoomMin:.01,zoomMax:100,mode:"orbit"})},proto$1.initializeGLPlot=function(){var t=this;if(t.initializeGLCamera(),!t.tryCreatePlot())return showNoWebGlMsg(t);t.traces={},t.make4thDimension();var e=t.graphDiv,i=e.layout,r=function(){var e={};return t.isCameraChanged(i)&&(e[t.id+".camera"]=t.getCamera()),t.isAspectChanged(i)&&(e[t.id+".aspectratio"]=t.glplot.getAspectratio(),"manual"!==i[t.id].aspectmode&&(t.fullSceneLayout.aspectmode=i[t.id].aspectmode=e[t.id+".aspectmode"]="manual")),e},n=function(t){if(!1!==t.fullSceneLayout.dragmode){var e=r();t.saveLayout(i),t.graphDiv.emit("plotly_relayout",e)}};return t.glplot.canvas&&(t.glplot.canvas.addEventListener("mouseup",function(){n(t)}),t.glplot.canvas.addEventListener("touchstart",function(){tabletmode=!0}),t.glplot.canvas.addEventListener("wheel",function(i){if(e._context._scrollZoom.gl3d){if(t.camera._ortho){var r=i.deltaX>i.deltaY?1.1:1/1.1,a=t.glplot.getAspectratio();t.glplot.setAspectratio({x:r*a.x,y:r*a.y,z:r*a.z})}n(t)}},!1),t.glplot.canvas.addEventListener("mousemove",function(){if(!1!==t.fullSceneLayout.dragmode&&0!==t.camera.mouseListener.buttons){var e=r();t.graphDiv.emit("plotly_relayouting",e)}}),t.staticMode||t.glplot.canvas.addEventListener("webglcontextlost",function(i){e&&e.emit&&e.emit("plotly_webglcontextlost",{event:i,layer:t.id})},!1)),t.glplot.oncontextloss=function(){t.recoverContext()},t.glplot.onrender=function(){t.render()},!0},proto$1.render=function(){var t,e=this,i=e.graphDiv,r=e.svgContainer,n=e.container.getBoundingClientRect();i._fullLayout._calcInverseTransform(i);var a=i._fullLayout._invScaleX,s=i._fullLayout._invScaleY,o=n.width*a,l=n.height*s;r.setAttributeNS(null,"viewBox","0 0 "+o+" "+l),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"height",l),computeTickMarks(e),e.glplot.axes.update(e.axesOptions);for(var c=Object.keys(e.traces),g=null,d=e.glplot.selection,u=0;u<c.length;++u)"skip"!==(t=e.traces[c[u]]).data.hoverinfo&&t.handlePick(d)&&(g=t),t.setContourLevels&&t.setContourLevels();function B(t,i,r){var n=e.fullSceneLayout[t+"axis"];return"log"!==n.type&&(i=n.d2l(i)),Axes$1.hoverLabelText(n,i,r)}if(null!==g){var F=project$1(e.glplot.cameraParams,d.dataCoordinate);t=g.data;var h,Q=i._fullData[t.index],U=d.index,I={xLabel:B("x",d.traceCoordinate[0],t.xhoverformat),yLabel:B("y",d.traceCoordinate[1],t.yhoverformat),zLabel:B("z",d.traceCoordinate[2],t.zhoverformat)},b=Fx.castHoverinfo(Q,e.fullLayout,U),p=(b||"").split("+"),y=b&&"all"===b;Q.hovertemplate||y||(-1===p.indexOf("x")&&(I.xLabel=void 0),-1===p.indexOf("y")&&(I.yLabel=void 0),-1===p.indexOf("z")&&(I.zLabel=void 0),-1===p.indexOf("text")&&(d.textLabel=void 0),-1===p.indexOf("name")&&(g.name=void 0));var m=[];"cone"===t.type||"streamtube"===t.type?(I.uLabel=B("x",d.traceCoordinate[3],t.uhoverformat),(y||-1!==p.indexOf("u"))&&m.push("u: "+I.uLabel),I.vLabel=B("y",d.traceCoordinate[4],t.vhoverformat),(y||-1!==p.indexOf("v"))&&m.push("v: "+I.vLabel),I.wLabel=B("z",d.traceCoordinate[5],t.whoverformat),(y||-1!==p.indexOf("w"))&&m.push("w: "+I.wLabel),I.normLabel=d.traceCoordinate[6].toPrecision(3),(y||-1!==p.indexOf("norm"))&&m.push("norm: "+I.normLabel),"streamtube"===t.type&&(I.divergenceLabel=d.traceCoordinate[7].toPrecision(3),(y||-1!==p.indexOf("divergence"))&&m.push("divergence: "+I.divergenceLabel)),d.textLabel&&m.push(d.textLabel),h=m.join("<br>")):"isosurface"===t.type||"volume"===t.type?(I.valueLabel=Axes$1.hoverLabelText(e._mockAxis,e._mockAxis.d2l(d.traceCoordinate[3]),t.valuehoverformat),m.push("value: "+I.valueLabel),d.textLabel&&m.push(d.textLabel),h=m.join("<br>")):h=d.textLabel;var C={x:d.traceCoordinate[0],y:d.traceCoordinate[1],z:d.traceCoordinate[2],data:Q._input,fullData:Q,curveNumber:Q.index,pointNumber:U};Fx.appendArrayPointValue(C,Q,U),t._module.eventData&&(C=Q._module.eventData(C,d,Q,{},U));var f={points:[C]};if(e.fullSceneLayout.hovermode){var x=[];Fx.loneHover({trace:Q,x:(.5+.5*F[0]/F[3])*o,y:(.5-.5*F[1]/F[3])*l,xLabel:I.xLabel,yLabel:I.yLabel,zLabel:I.zLabel,text:h,name:g.name,color:Fx.castHoverOption(Q,U,"bgcolor")||g.color,borderColor:Fx.castHoverOption(Q,U,"bordercolor"),fontFamily:Fx.castHoverOption(Q,U,"font.family"),fontSize:Fx.castHoverOption(Q,U,"font.size"),fontColor:Fx.castHoverOption(Q,U,"font.color"),nameLength:Fx.castHoverOption(Q,U,"namelength"),textAlign:Fx.castHoverOption(Q,U,"align"),hovertemplate:Lib$3.castOption(Q,U,"hovertemplate"),hovertemplateLabels:Lib$3.extendFlat({},C,I),eventData:[C]},{container:r,gd:i,inOut_bbox:x}),C.bbox=x[0]}d.distance<5&&(d.buttons||tabletmode)?i.emit("plotly_click",f):i.emit("plotly_hover",f),this.oldEventData=f}else Fx.loneUnhover(r),this.oldEventData&&i.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)},proto$1.recoverContext=function(){var t=this;t.glplot.dispose();var e=function(){t.glplot.gl.isContextLost()?requestAnimationFrame(e):t.initializeGLPlot()?t.plot.apply(t,t.plotArgs):Lib$3.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(e)};var axisProperties=["xaxis","yaxis","zaxis"];function computeTraceBounds(t,e,i){for(var r=t.fullSceneLayout,n=0;n<3;n++){var a=axisProperties[n],s=a.charAt(0),o=r[a],l=e[s],c=e[s+"calendar"],g=e["_"+s+"length"];if(Lib$3.isArrayOrTypedArray(l))for(var d,u=0;u<(g||l.length);u++)if(Lib$3.isArrayOrTypedArray(l[u]))for(var B=0;B<l[u].length;++B)d=o.d2l(l[u][B],0,c),!isNaN(d)&&isFinite(d)&&(i[0][n]=Math.min(i[0][n],d),i[1][n]=Math.max(i[1][n],d));else d=o.d2l(l[u],0,c),!isNaN(d)&&isFinite(d)&&(i[0][n]=Math.min(i[0][n],d),i[1][n]=Math.max(i[1][n],d));else i[0][n]=Math.min(i[0][n],0),i[1][n]=Math.max(i[1][n],g-1)}}function computeAnnotationBounds(t,e){for(var i=t.fullSceneLayout,r=i.annotations||[],n=0;n<3;n++)for(var a=axisProperties[n],s=a.charAt(0),o=i[a],l=0;l<r.length;l++){var c=r[l];if(c.visible){var g=o.r2l(c[s]);!isNaN(g)&&isFinite(g)&&(e[0][n]=Math.min(e[0][n],g),e[1][n]=Math.max(e[1][n],g))}}}function getCameraArrays(t){return[[t.eye.x,t.eye.y,t.eye.z],[t.center.x,t.center.y,t.center.z],[t.up.x,t.up.y,t.up.z]]}function getLayoutCamera(t){return{up:{x:t.up[0],y:t.up[1],z:t.up[2]},center:{x:t.center[0],y:t.center[1],z:t.center[2]},eye:{x:t.eye[0],y:t.eye[1],z:t.eye[2]},projection:{type:!0===t._ortho?"orthographic":"perspective"}}}function flipPixels(t,e,i){for(var r=0,n=i-1;r<n;++r,--n)for(var a=0;a<e;++a)for(var s=0;s<4;++s){var o=4*(e*r+a)+s,l=4*(e*n+a)+s,c=t[o];t[o]=t[l],t[l]=c}}function correctRGB(t,e,i){for(var r=0;r<i;++r)for(var n=0;n<e;++n){var a=4*(e*r+n),s=t[a+3];if(s>0)for(var o=255/s,l=0;l<3;++l)t[a+l]=Math.min(o*t[a+l],255)}}proto$1.plot=function(t,e,i){var r=this;if(r.plotArgs=[t,e,i],!r.glplot.contextLost){var n,a,s,o,l,c,g=e[r.id],d=i[r.id];r.fullLayout=e,r.fullSceneLayout=g,r.axesOptions.merge(e,g),r.spikeOptions.merge(g),r.setViewport(g),r.updateFx(g.dragmode,g.hovermode),r.camera.enableWheel=r.graphDiv._context._scrollZoom.gl3d,r.glplot.setClearColor(str2RGBAarray(g.bgcolor)),r.setConvert(l),t?Array.isArray(t)||(t=[t]):t=[];var u=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(s=0;s<t.length;++s)!0===(n=t[s]).visible&&0!==n._length&&computeTraceBounds(this,n,u);computeAnnotationBounds(this,u);var B=[1,1,1];for(o=0;o<3;++o)u[1][o]===u[0][o]?B[o]=1:B[o]=1/(u[1][o]-u[0][o]);for(r.dataScale=B,r.convertAnnotations(this),s=0;s<t.length;++s)!0===(n=t[s]).visible&&0!==n._length&&((a=r.traces[n.uid])?a.data.type===n.type?a.update(n):(a.dispose(),a=n._module.plot(this,n),r.traces[n.uid]=a):(a=n._module.plot(this,n),r.traces[n.uid]=a),a.name=n.name);var F=Object.keys(r.traces);t:for(s=0;s<F.length;++s){for(o=0;o<t.length;++o)if(t[o].uid===F[s]&&!0===t[o].visible&&0!==t[o]._length)continue t;(a=r.traces[F[s]]).dispose(),delete r.traces[F[s]]}r.glplot.objects.sort(function(t,e){return t._trace.data.index-e._trace.data.index});var h,Q=[[0,0,0],[0,0,0]],U={};for(s=0;s<3;++s){var I;if((c=(l=g[axisProperties[s]]).type)in U?(U[c].acc*=B[s],U[c].count+=1):U[c]={acc:B[s],count:1},l.autorange){Q[0][s]=1/0,Q[1][s]=-1/0;var b=r.glplot.objects,p=r.fullSceneLayout.annotations||[],y=l._name.charAt(0);for(o=0;o<b.length;o++){var m=b[o],C=m.bounds,f=m._trace.data._pad||0;"ErrorBars"===m.constructor.name&&l._lowerLogErrorBound?Q[0][s]=Math.min(Q[0][s],l._lowerLogErrorBound):Q[0][s]=Math.min(Q[0][s],C[0][s]/B[s]-f),Q[1][s]=Math.max(Q[1][s],C[1][s]/B[s]+f)}for(o=0;o<p.length;o++){var x=p[o];if(x.visible){var A=l.r2l(x[y]);Q[0][s]=Math.min(Q[0][s],A),Q[1][s]=Math.max(Q[1][s],A)}}if("rangemode"in l&&"tozero"===l.rangemode&&(Q[0][s]=Math.min(Q[0][s],0),Q[1][s]=Math.max(Q[1][s],0)),Q[0][s]>Q[1][s])Q[0][s]=-1,Q[1][s]=1;else{var v=Q[1][s]-Q[0][s];Q[0][s]-=v/32,Q[1][s]+=v/32}if(I=[Q[0][s],Q[1][s]],I=applyAutorangeOptions(I,l),Q[0][s]=I[0],Q[1][s]=I[1],l.isReversed()){var L=Q[0][s];Q[0][s]=Q[1][s],Q[1][s]=L}}else I=l.range,Q[0][s]=l.r2l(I[0]),Q[1][s]=l.r2l(I[1]);Q[0][s]===Q[1][s]&&(Q[0][s]-=1,Q[1][s]+=1),l.range=[Q[0][s],Q[1][s]],l.limitRange(),r.glplot.setBounds(s,{min:l.range[0]*B[s],max:l.range[1]*B[s]})}var R=g.aspectmode;if("cube"===R)h=[1,1,1];else if("manual"===R){var S=g.aspectratio;h=[S.x,S.y,S.z]}else{if("auto"!==R&&"data"!==R)throw new Error("scene.js aspectRatio was not one of the enumerated types");var G=[1,1,1];for(s=0;s<3;++s){var E=U[c=(l=g[axisProperties[s]]).type];G[s]=Math.pow(E.acc,1/E.count)/B[s]}h="data"===R||Math.max.apply(null,G)/Math.min.apply(null,G)<=4?G:[1,1,1]}g.aspectratio.x=d.aspectratio.x=h[0],g.aspectratio.y=d.aspectratio.y=h[1],g.aspectratio.z=d.aspectratio.z=h[2],r.glplot.setAspectratio(g.aspectratio),r.viewInitial.aspectratio||(r.viewInitial.aspectratio={x:g.aspectratio.x,y:g.aspectratio.y,z:g.aspectratio.z}),r.viewInitial.aspectmode||(r.viewInitial.aspectmode=g.aspectmode);var V=g.domain||null,Z=e._size||null;if(V&&Z){var N=r.container.style;N.position="absolute",N.left=Z.l+V.x[0]*Z.w+"px",N.top=Z.t+(1-V.y[1])*Z.h+"px",N.width=Z.w*(V.x[1]-V.x[0])+"px",N.height=Z.h*(V.y[1]-V.y[0])+"px"}r.glplot.redraw()}},proto$1.destroy=function(){var t=this;t.glplot&&(t.camera.mouseListener.enabled=!1,t.container.removeEventListener("wheel",t.camera.wheelListener),t.camera=null,t.glplot.dispose(),t.container.parentNode.removeChild(t.container),t.glplot=null)},proto$1.getCamera=function(){var t=this;return t.camera.view.recalcMatrix(t.camera.view.lastT()),getLayoutCamera(t.camera)},proto$1.setViewport=function(t){var e=this,i=t.camera;e.camera.lookAt.apply(this,getCameraArrays(i)),e.glplot.setAspectratio(t.aspectratio),"orthographic"===i.projection.type!==e.camera._ortho&&(e.glplot.redraw(),e.glplot.clearRGBA(),e.glplot.dispose(),e.initializeGLPlot())},proto$1.isCameraChanged=function(t){var e=this.getCamera(),i=Lib$3.nestedProperty(t,this.id+".camera").get();function r(t,e,i,r){var n=["up","center","eye"],a=["x","y","z"];return e[n[i]]&&t[n[i]][a[r]]===e[n[i]][a[r]]}var n=!1;if(void 0===i)n=!0;else{for(var a=0;a<3;a++)for(var s=0;s<3;s++)if(!r(e,i,a,s)){n=!0;break}(!i.projection||e.projection&&e.projection.type!==i.projection.type)&&(n=!0)}return n},proto$1.isAspectChanged=function(t){var e=this.glplot.getAspectratio(),i=Lib$3.nestedProperty(t,this.id+".aspectratio").get();return void 0===i||i.x!==e.x||i.y!==e.y||i.z!==e.z},proto$1.saveLayout=function(t){var e,i,r,n,a,s,o=this,l=o.fullLayout,c=o.isCameraChanged(t),g=o.isAspectChanged(t),d=c||g;if(d){var u={};if(c&&(e=o.getCamera(),r=(i=Lib$3.nestedProperty(t,o.id+".camera")).get(),u[o.id+".camera"]=r),g&&(n=o.glplot.getAspectratio(),s=(a=Lib$3.nestedProperty(t,o.id+".aspectratio")).get(),u[o.id+".aspectratio"]=s),Registry$2.call("_storeDirectGUIEdit",t,l._preGUI,u),c)i.set(e),Lib$3.nestedProperty(l,o.id+".camera").set(e);if(g)a.set(n),Lib$3.nestedProperty(l,o.id+".aspectratio").set(n),o.glplot.redraw()}return d},proto$1.updateFx=function(t,e){var i=this,r=i.camera;if(r)if("orbit"===t)r.mode="orbit",r.keyBindingMode="rotate";else if("turntable"===t){r.up=[0,0,1],r.mode="turntable",r.keyBindingMode="rotate";var n=i.graphDiv,a=n._fullLayout,s=i.fullSceneLayout.camera,o=s.up.x,l=s.up.y,c=s.up.z;if(c/Math.sqrt(o*o+l*l+c*c)<.999){var g=i.id+".camera.up",d={x:0,y:0,z:1},u={};u[g]=d;var B=n.layout;Registry$2.call("_storeDirectGUIEdit",B,a._preGUI,u),s.up=d,Lib$3.nestedProperty(B,g).set(d)}}else r.keyBindingMode=t;i.fullSceneLayout.hovermode=e},proto$1.toImage=function(t){var e=this;t||(t="png"),e.staticMode&&e.container.appendChild(STATIC_CANVAS),e.glplot.redraw();var i=e.glplot.gl,r=i.drawingBufferWidth,n=i.drawingBufferHeight;i.bindFramebuffer(i.FRAMEBUFFER,null);var a=new Uint8Array(r*n*4);i.readPixels(0,0,r,n,i.RGBA,i.UNSIGNED_BYTE,a),flipPixels(a,r,n),correctRGB(a,r,n);var s=document.createElement("canvas");s.width=r,s.height=n;var o,l=s.getContext("2d",{willReadFrequently:!0}),c=l.createImageData(r,n);switch(c.data.set(a),l.putImageData(c,0,0),t){case"jpeg":o=s.toDataURL("image/jpeg");break;case"webp":o=s.toDataURL("image/webp");break;default:o=s.toDataURL("image/png")}return e.staticMode&&e.container.removeChild(STATIC_CANVAS),o},proto$1.setConvert=function(){for(var t=0;t<3;t++){var e=this.fullSceneLayout[axisProperties[t]];Axes$1.setConvert(e,this.fullLayout),e.setScale=Lib$3.noop}},proto$1.make4thDimension=function(){var t=this,e=t.graphDiv._fullLayout;t._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},Axes$1.setConvert(t._mockAxis,e)};var attributes$2,hasRequiredAttributes,axis_attributes,hasRequiredAxis_attributes,layout_attributes,hasRequiredLayout_attributes,subplot_defaults,hasRequiredSubplot_defaults,axis_defaults,hasRequiredAxis_defaults,defaults$9,hasRequiredDefaults,scene=Scene$1;function requireAttributes(){return hasRequiredAttributes?attributes$2:(hasRequiredAttributes=1,attributes$2={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's 3D coordinate system and","a 3D scene.","If *scene* (the default value), the (x,y,z) coordinates refer to","`layout.scene`.","If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`,","and so on."].join(" ")}})}function requireAxis_attributes(){if(hasRequiredAxis_attributes)return axis_attributes;hasRequiredAxis_attributes=1;var t=colorExports,e=layout_attributes$3,i=extend.extendFlat,r=edit_types.overrideAll;return axis_attributes=r({visible:e.visible,showspikes:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes starting from","data points to this axis' wall are shown on hover."].join(" ")},spikesides:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes extending from the","projection data points to this axis' wall boundaries","are shown on hover."].join(" ")},spikethickness:{valType:"number",min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",dflt:t.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",dflt:!1,description:["Sets whether or not this axis' wall","has a background color."].join(" ")},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",dflt:!0,description:"Sets whether or not this axis is labeled"},color:e.color,categoryorder:e.categoryorder,categoryarray:e.categoryarray,title:{text:e.title.text,font:e.title.font},type:i({},e.type,{values:["-","linear","log","date","category"]}),autotypenumbers:e.autotypenumbers,autorange:e.autorange,autorangeoptions:{minallowed:e.autorangeoptions.minallowed,maxallowed:e.autorangeoptions.maxallowed,clipmin:e.autorangeoptions.clipmin,clipmax:e.autorangeoptions.clipmax,include:e.autorangeoptions.include,editType:"plot"},rangemode:e.rangemode,minallowed:e.minallowed,maxallowed:e.maxallowed,range:i({},e.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:e.minor.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,mirror:e.mirror,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,labelalias:e.labelalias,tickfont:e.tickfont,tickangle:e.tickangle,tickprefix:e.tickprefix,showtickprefix:e.showtickprefix,ticksuffix:e.ticksuffix,showticksuffix:e.showticksuffix,showexponent:e.showexponent,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,tickformat:e.tickformat,tickformatstops:e.tickformatstops,hoverformat:e.hoverformat,showline:e.showline,linecolor:e.linecolor,linewidth:e.linewidth,showgrid:e.showgrid,gridcolor:i({},e.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:e.gridwidth,zeroline:e.zeroline,zerolinecolor:e.zerolinecolor,zerolinewidth:e.zerolinewidth},"plot","from-root")}function requireLayout_attributes(){if(hasRequiredLayout_attributes)return layout_attributes;hasRequiredLayout_attributes=1;var t=requireAxis_attributes(),e=domain.attributes,i=extend.extendFlat,r=libExports.counterRegex;function n(t,e,i){return{x:{valType:"number",dflt:t,editType:"camera"},y:{valType:"number",dflt:e,editType:"camera"},z:{valType:"number",dflt:i,editType:"camera"},editType:"camera"}}return layout_attributes={_arrayAttrRegexps:[r("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(n(0,0,1),{description:["Sets the (x,y,z) components of the 'up' camera vector.","This vector determines the up direction of this scene","with respect to the page.","The default is *{x: 0, y: 0, z: 1}* which means that","the z axis points up."].join(" ")}),center:i(n(0,0,0),{description:["Sets the (x,y,z) components of the 'center' camera vector","This vector determines the translation (x,y,z) space","about the center of this scene.","By default, there is no such translation."].join(" ")}),eye:i(n(1.25,1.25,1.25),{description:["Sets the (x,y,z) components of the 'eye' camera vector.","This vector determines the view point about the origin","of this scene."].join(" ")}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc",description:["Sets the projection type. The projection type could be","either *perspective* or *orthographic*. The default is","*perspective*."].join(" ")},editType:"calc"},editType:"camera"},domain:e({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0},description:["If *cube*, this scene's axes are drawn as a cube,","regardless of the axes' ranges.","If *data*, this scene's axes are drawn","in proportion with the axes' ranges.","If *manual*, this scene's axes are drawn","in proportion with the input of *aspectratio*","(the default behavior if *aspectratio* is provided).","If *auto*, this scene's axes are drawn","using the results of *data* except when one axis","is more than four times the size of the two others,","where in that case the results of *cube* are used."].join(" ")},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"},description:["Sets this scene's axis aspectratio."].join(" ")},xaxis:t,yaxis:t,zaxis:t,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot",description:["Determines the mode of drag interactions for this scene."].join(" ")},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions for this scene."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in camera attributes.","Defaults to `layout.uirevision`."].join(" ")},editType:"plot"}}function requireSubplot_defaults(){if(hasRequiredSubplot_defaults)return subplot_defaults;hasRequiredSubplot_defaults=1;var t=libExports,e=plot_template,i=domain.defaults;return subplot_defaults=function(r,n,a,s){var o,l,c=s.type,g=s.attributes,d=s.handleDefaults,u=s.partition||"x",B=n._subplots[c],F=B.length,h=F&&B[0].replace(/\d+$/,"");function Q(e,i){return t.coerce(o,l,g,e,i)}for(var U=0;U<F;U++){var I=B[U];o=r[I]?r[I]:r[I]={},l=e.newContainer(n,I,h),s.noUirevision||Q("uirevision",n.uirevision);var b={};b[u]=[U/F,(U+1)/F],i(l,n,Q,b),s.id=I,d(o,l,Q,s)}},subplot_defaults}function requireAxis_defaults(){if(hasRequiredAxis_defaults)return axis_defaults;hasRequiredAxis_defaults=1;var t=tinycolorExports.mix,e=libExports,i=plot_template,r=requireAxis_attributes(),n=requireType_defaults(),a=axis_defaults$1,s=["xaxis","yaxis","zaxis"],o=13600/187;return axis_defaults=function(l,c,g){var d,u;function B(t,i){return e.coerce(d,u,r,t,i)}for(var F=0;F<s.length;F++){var h=s[F];d=l[h]||{},(u=i.newContainer(c,h))._id=h[0]+g.scene,u._name=h,n(d,u,B,g),a(d,u,B,{font:g.font,letter:h[0],data:g.data,showGrid:!0,noAutotickangles:!0,noMinorloglabels:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,noUnifiedhovertitle:!0,bgColor:g.bgColor,calendar:g.calendar},g.fullLayout),B("gridcolor",t(u.color,g.bgColor,o).toRgbString()),B("title.text",h[0]),u.setScale=e.noop,B("showspikes")&&(B("spikesides"),B("spikethickness"),B("spikecolor",u.color)),B("showaxeslabels"),B("showbackground")&&B("backgroundcolor")}},axis_defaults}function requireDefaults(){if(hasRequiredDefaults)return defaults$9;hasRequiredDefaults=1;var t=libExports,e=colorExports,i=registry$1,r=requireSubplot_defaults(),n=requireAxis_defaults(),a=requireLayout_attributes(),s=get_data.getSubplotData,o="gl3d";function l(t,r,a,l){for(var c=a("bgcolor"),g=e.combine(c,l.paper_bgcolor),d=["up","center","eye"],u=0;u<d.length;u++)a("camera."+d[u]+".x"),a("camera."+d[u]+".y"),a("camera."+d[u]+".z");a("camera.projection.type");var B=!!a("aspectratio.x")&&!!a("aspectratio.y")&&!!a("aspectratio.z"),F=a("aspectmode",B?"manual":"auto");B||(t.aspectratio=r.aspectratio={x:1,y:1,z:1},"manual"===F&&(r.aspectmode="auto"),t.aspectmode=r.aspectmode);var h=s(l.fullData,o,l.id);n(t,r,{font:l.font,scene:l.id,data:h,bgColor:g,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(t,r,l);var Q=l.getDfltFromLayout("dragmode");if(!1!==Q&&!Q)if(Q="orbit",t.camera&&t.camera.up){var U=t.camera.up.x,I=t.camera.up.y,b=t.camera.up.z;0!==b&&(U&&I&&b?b/Math.sqrt(U*U+I*I+b*b)>.999&&(Q="turntable"):Q="turntable")}else Q="turntable";a("dragmode",Q),a("hovermode",l.getDfltFromLayout("hovermode"))}return defaults$9=function(e,i,n){var s=i._basePlotModules.length>1;r(e,i,n,{type:o,attributes:a,handleDefaults:l,fullLayout:i,font:i.font,fullData:n,getDfltFromLayout:function(i){if(!s)return t.validate(e[i],a[i])?e[i]:void 0},autotypenumbersDflt:i.autotypenumbers,paper_bgcolor:i.paper_bgcolor,calendar:i.calendar})}}var overrideAll$1=edit_types.overrideAll,fxAttrs=layout_attributes$6,Scene=scene,getSubplotData=get_data.getSubplotData,Lib$2=libExports,xmlnsNamespaces=xmlns_namespaces,GL3D="gl3d",SCENE="scene";gl3d.name=GL3D,gl3d.attr=SCENE,gl3d.idRoot=SCENE,gl3d.idRegex=gl3d.attrRegex=Lib$2.counterRegex("scene"),gl3d.attributes=requireAttributes(),gl3d.layoutAttributes=requireLayout_attributes(),gl3d.baseLayoutAttrOverrides=overrideAll$1({hoverlabel:fxAttrs.hoverlabel},"plot","nested"),gl3d.supplyLayoutDefaults=requireDefaults(),gl3d.plot=function(t){for(var e=t._fullLayout,i=t._fullData,r=e._subplots[GL3D],n=0;n<r.length;n++){var a=r[n],s=getSubplotData(i,GL3D,a),o=e[a],l=o.camera,c=o._scene;c||(c=new Scene({id:a,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},e),o._scene=c),c.viewInitial||(c.viewInitial={up:{x:l.up.x,y:l.up.y,z:l.up.z},eye:{x:l.eye.x,y:l.eye.y,z:l.eye.z},center:{x:l.center.x,y:l.center.y,z:l.center.z}}),c.plot(s,e,t.layout)}},gl3d.clean=function(t,e,i,r){for(var n=r._subplots[GL3D]||[],a=0;a<n.length;a++){var s=n[a];!e[s]&&r[s]._scene&&(r[s]._scene.destroy(),r._infolayer&&r._infolayer.selectAll(".annotation-"+s).remove())}},gl3d.toSVG=function(t){for(var e=t._fullLayout,i=e._subplots[GL3D],r=e._size,n=0;n<i.length;n++){var a=e[i[n]],s=a.domain,o=a._scene,l=o.toImage("png");e._glimages.append("svg:image").attr({xmlns:xmlnsNamespaces.svg,"xlink:href":l,x:r.l+r.w*s.x[0],y:r.t+r.h*(1-s.y[1]),width:r.w*(s.x[1]-s.x[0]),height:r.h*(s.y[1]-s.y[0]),preserveAspectRatio:"none"}),o.destroy()}},gl3d.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){var e=t.substr(5);return"1"===e&&(e=""),SCENE+e}},gl3d.updateFx=function(t){for(var e=t._fullLayout,i=e._subplots[GL3D],r=0;r<i.length;r++){e[i[r]]._scene.updateFx(e.dragmode,e.hovermode)}};var isosurface$2={attributes:attributesExports$1,supplyDefaults:defaults$a.supplyDefaults,calc:calc$1,colorbar:{min:"cmin",max:"cmax"},plot:convert$2.createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:gl3d,categories:["gl3d","showLegend"],meta:{description:["Draws isosurfaces between iso-min and iso-max values with coordinates given by","four 1-dimensional arrays containing the `value`, `x`, `y` and `z` of every vertex","of a uniform or non-uniform 3-D grid. Horizontal or vertical slices, caps as well as","spaceframe between iso-min and iso-max values could also be drawn using this trace."].join(" ")}},isosurface=isosurface$2,isosurface$1=getDefaultExportFromCjs(isosurface),PlotlyIsoSurface=_mergeNamespaces({__proto__:null,default:isosurface$1},[isosurface]),gl3d_dashes={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]},gl3d_markers={circle:"â","circle-open":"â",square:"â ","square-open":"â¡",diamond:"â","diamond-open":"â",cross:"+",x:"â"},Registry$1=registry$1;function calculateAxisErrors(t,e,i,r){if(!e||!e.visible)return null;for(var n=Registry$1.getComponentMethod("errorbars","makeComputeError")(e),a=new Array(t.length),s=0;s<t.length;s++){var o=n(+t[s],s);if("log"===r.type){var l=r.c2l(t[s]),c=t[s]-o[0],g=t[s]+o[1];if(a[s]=[(r.c2l(c,!0)-l)*i,(r.c2l(g,!0)-l)*i],c>0){var d=r.c2l(c);r._lowerLogErrorBound||(r._lowerLogErrorBound=d),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,d)}}else a[s]=[-o[0]*i,o[1]*i]}return a}function dataLength(t){for(var e=0;e<t.length;e++)if(t[e])return t[e].length;return 0}function calculateErrors(t,e,i){var r=[calculateAxisErrors(t.x,t.error_x,e[0],i.xaxis),calculateAxisErrors(t.y,t.error_y,e[1],i.yaxis),calculateAxisErrors(t.z,t.error_z,e[2],i.zaxis)],n=dataLength(r);if(0===n)return null;for(var a=new Array(n),s=0;s<n;s++){for(var o=[[0,0,0],[0,0,0]],l=0;l<3;l++)if(r[l])for(var c=0;c<2;c++)o[c][l]=r[l][s][c];a[s]=o}return a}var calc_errors=calculateErrors,createLinePlot=stackgl_modulesExports.gl_line3d,createScatterPlot=stackgl_modulesExports.gl_scatter3d,createErrorBars=stackgl_modulesExports.gl_error3d,createMesh=stackgl_modulesExports.gl_mesh3d,triangulate=stackgl_modulesExports.delaunay_triangulate,Lib$1=libExports,str2RgbaArray=str2rgbarray,formatColor=gl_format_color.formatColor,makeBubbleSizeFn=make_bubble_size_func,DASH_PATTERNS=gl3d_dashes,MARKER_SYMBOLS$1=gl3d_markers,Axes=axesExports,appendArrayPointValue=helpers$y.appendArrayPointValue,calculateError=calc_errors;function LineWithMarkers(t,e){this.scene=t,this.uid=e,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var proto=LineWithMarkers.prototype;function constructDelaunay(t,e,i){var r,n=(i+1)%3,a=(i+2)%3,s=[],o=[];for(r=0;r<t.length;++r){var l=t[r];!isNaN(l[n])&&isFinite(l[n])&&!isNaN(l[a])&&isFinite(l[a])&&(s.push([l[n],l[a]]),o.push(r))}var c=triangulate(s);for(r=0;r<c.length;++r)for(var g=c[r],d=0;d<g.length;++d)g[d]=o[g[d]];return{positions:t,cells:c,meshColor:e}}function calculateErrorParams(t){for(var e=[0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],r=[1,1,1],n=0;n<3;n++){var a=t[n];a&&!1!==a.copy_zstyle&&!1!==t[2].visible&&(a=t[2]),a&&a.visible&&(e[n]=a.width/2,i[n]=str2RgbaArray(a.color),r[n]=a.thickness)}return{capSize:e,color:i,lineWidth:r}}function parseAlignmentX(t){return null==t?0:t.indexOf("left")>-1?-1:t.indexOf("right")>-1?1:0}function parseAlignmentY(t){return null==t?0:t.indexOf("top")>-1?-1:t.indexOf("bottom")>-1?1:0}function calculateTextOffset(t){var e=[0,0];if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=[0,0],t[i]&&(e[i][0]=parseAlignmentX(t[i]),e[i][1]=parseAlignmentY(t[i]));else e[0]=parseAlignmentX(t),e[1]=parseAlignmentY(t);return e}function calculateSize(t,e){return e(4*t)}function calculateSymbol(t){return MARKER_SYMBOLS$1[t]}function formatParam(t,e,i,r,n){var a=null;if(Lib$1.isArrayOrTypedArray(t)){a=[];for(var s=0;s<e;s++)void 0===t[s]?a[s]=r:a[s]=i(t[s],n)}else a=i(t,Lib$1.identity);return a}function convertPlotlyOptions(t,e){var i,r,n,a,s,o,l=[],c=t.fullSceneLayout,g=t.dataScale,d=c.xaxis,u=c.yaxis,B=c.zaxis,F=e.marker,h=e.line,Q=e.x||[],U=e.y||[],I=e.z||[],b=Q.length,p=e.xcalendar,y=e.ycalendar,m=e.zcalendar;for(s=0;s<b;s++)i=d.d2l(Q[s],0,p)*g[0],r=u.d2l(U[s],0,y)*g[1],n=B.d2l(I[s],0,m)*g[2],l[s]=[i,r,n];if(Array.isArray(e.text))o=e.text;else if(Lib$1.isTypedArray(e.text))o=Array.from(e.text);else if(void 0!==e.text)for(o=new Array(b),s=0;s<b;s++)o[s]=e.text;function C(t,e){var i=c[t];return Axes.tickText(i,i.d2l(e),!0).text}var f=e.texttemplate;if(f){var x=t.fullLayout._d3locale,A=Array.isArray(f),v=A?Math.min(f.length,b):b,L=A?function(t){return f[t]}:function(){return f};for(o=new Array(v),s=0;s<v;s++){var R={x:Q[s],y:U[s],z:I[s]},S={xLabel:C("xaxis",Q[s]),yLabel:C("yaxis",U[s]),zLabel:C("zaxis",I[s])},G={};appendArrayPointValue(G,e,s);var E=e._meta||{};o[s]=Lib$1.texttemplateString(L(s),S,x,G,R,E)}}if(a={position:l,mode:e.mode,text:o},"line"in e&&(a.lineColor=formatColor(h,1,b),a.lineWidth=h.width,a.lineDashes=h.dash),"marker"in e){var V=makeBubbleSizeFn(e);a.scatterColor=formatColor(F,1,b),a.scatterSize=formatParam(F.size,b,calculateSize,20,V),a.scatterMarker=formatParam(F.symbol,b,calculateSymbol,"â"),a.scatterLineWidth=F.line.width,a.scatterLineColor=formatColor(F.line,1,b),a.scatterAngle=0}"textposition"in e&&(a.textOffset=calculateTextOffset(e.textposition),a.textColor=formatColor(e.textfont,1,b),a.textSize=formatParam(e.textfont.size,b,Lib$1.identity,12),a.textFontFamily=e.textfont.family,a.textFontWeight=e.textfont.weight,a.textFontStyle=e.textfont.style,a.textFontVariant=e.textfont.variant,a.textAngle=0);var Z=["x","y","z"];for(a.project=[!1,!1,!1],a.projectScale=[1,1,1],a.projectOpacity=[1,1,1],s=0;s<3;++s){var N=e.projection[Z[s]];(a.project[s]=N.show)&&(a.projectOpacity[s]=N.opacity,a.projectScale[s]=N.scale)}a.errorBounds=calculateError(e,g,c);var D=calculateErrorParams([e.error_x,e.error_y,e.error_z]);return a.errorColor=D.color,a.errorLineWidth=D.lineWidth,a.errorCapSize=D.capSize,a.delaunayAxis=e.surfaceaxis,a.delaunayColor=str2RgbaArray(e.surfacecolor),a}function _arrayToColor(t){if(Lib$1.isArrayOrTypedArray(t)){var e=t[0];return Lib$1.isArrayOrTypedArray(e)&&(t=e),"rgb("+t.slice(0,3).map(function(t){return Math.round(255*t)})+")"}return null}function arrayToColor(t){return Lib$1.isArrayOrTypedArray(t)?4===t.length&&"number"==typeof t[0]?_arrayToColor(t):t.map(_arrayToColor):null}function createLineWithMarkers(t,e){var i=new LineWithMarkers(t,e.uid);return i.update(e),i}proto.handlePick=function(t){if(t.object&&(t.object===this.linePlot||t.object===this.delaunayMesh||t.object===this.textMarkers||t.object===this.scatterPlot)){var e=t.index=t.data.index;return t.object.highlight&&t.object.highlight(null),this.scatterPlot&&(t.object=this.scatterPlot,this.scatterPlot.highlight(t.data)),t.textLabel="",this.textLabels&&(Lib$1.isArrayOrTypedArray(this.textLabels)?(this.textLabels[e]||0===this.textLabels[e])&&(t.textLabel=this.textLabels[e]):t.textLabel=this.textLabels),t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},proto.update=function(t){var e,i,r,n,a=this.scene.glplot.gl,s=DASH_PATTERNS.solid;this.data=t;var o=convertPlotlyOptions(this.scene,t);"mode"in o&&(this.mode=o.mode),"lineDashes"in o&&o.lineDashes in DASH_PATTERNS&&(s=DASH_PATTERNS[o.lineDashes]),this.color=arrayToColor(o.scatterColor)||arrayToColor(o.lineColor),this.dataPoints=o.position,e={gl:this.scene.glplot.gl,position:o.position,color:o.lineColor,lineWidth:o.lineWidth||1,dashes:s[0],dashScale:s[1],opacity:t.opacity,connectGaps:t.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(e):(this.linePlot=createLinePlot(e),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var l=t.opacity;if(t.marker&&void 0!==t.marker.opacity&&(l*=t.marker.opacity),i={gl:this.scene.glplot.gl,position:o.position,color:o.scatterColor,size:o.scatterSize,glyph:o.scatterMarker,opacity:l,orthographic:!0,lineWidth:o.scatterLineWidth,lineColor:o.scatterLineColor,project:o.project,projectScale:o.projectScale,projectOpacity:o.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(i):(this.scatterPlot=createScatterPlot(i),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),n={gl:this.scene.glplot.gl,position:o.position,glyph:o.text,color:o.textColor,size:o.textSize,angle:o.textAngle,alignment:o.textOffset,font:o.textFontFamily,fontWeight:o.textFontWeight,fontStyle:o.textFontStyle,fontVariant:o.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:t.opacity},this.textLabels=t.hovertext||t.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(n):(this.textMarkers=createScatterPlot(n),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),r={gl:this.scene.glplot.gl,position:o.position,color:o.errorColor,error:o.errorBounds,lineWidth:o.errorLineWidth,capSize:o.errorCapSize,opacity:t.opacity},this.errorBars?o.errorBounds?this.errorBars.update(r):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):o.errorBounds&&(this.errorBars=createErrorBars(r),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),o.delaunayAxis>=0){var c=constructDelaunay(o.position,o.delaunayColor,o.delaunayAxis);c.opacity=t.opacity,this.delaunayMesh?this.delaunayMesh.update(c):(c.gl=a,this.delaunayMesh=createMesh(c),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},proto.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};var convert=createLineWithMarkers,attributes$1={exports:{}},scatterAttrs=attributes$x,fontAttrs=requireFont_attributes(),colorAttributes=attributes$F,axisHoverFormat=axis_format_attributes.axisHoverFormat,hovertemplateAttrs=template_attributes.hovertemplateAttrs,texttemplateAttrs=template_attributes.texttemplateAttrs,baseAttrs=attributes$L,DASHES=gl3d_dashes,MARKER_SYMBOLS=gl3d_markers,extendFlat=extend.extendFlat,overrideAll=edit_types.overrideAll,sortObjectKeys=sort_object_keys,scatterLineAttrs=scatterAttrs.line,scatterMarkerAttrs=scatterAttrs.marker,scatterMarkerLineAttrs=scatterMarkerAttrs.line,lineAttrs=extendFlat({width:scatterLineAttrs.width,dash:{valType:"enumerated",values:sortObjectKeys(DASHES),dflt:"solid",description:"Sets the dash style of the lines."}},colorAttributes("line"));function makeProjectionAttr(t){return{show:{valType:"boolean",dflt:!1,description:["Sets whether or not projections are shown along the",t,"axis."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:"Sets the projection color."},scale:{valType:"number",min:0,max:10,dflt:2/3,description:["Sets the scale factor determining the size of the","projection marker points."].join(" ")}}}var attrs=attributes$1.exports=overrideAll({x:scatterAttrs.x,y:scatterAttrs.y,z:{valType:"data_array",description:"Sets the z coordinates."},text:extendFlat({},scatterAttrs.text,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:texttemplateAttrs({},{}),hovertext:extendFlat({},scatterAttrs.hovertext,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),hovertemplate:hovertemplateAttrs(),xhoverformat:axisHoverFormat("x"),yhoverformat:axisHoverFormat("y"),zhoverformat:axisHoverFormat("z"),mode:extendFlat({},scatterAttrs.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1,description:["If *-1*, the scatter points are not fill with a surface","If *0*, *1*, *2*, the scatter points are filled with","a Delaunay surface about the x, y, z respectively."].join(" ")},surfacecolor:{valType:"color",description:"Sets the surface fill color."},projection:{x:makeProjectionAttr("x"),y:makeProjectionAttr("y"),z:makeProjectionAttr("z")},connectgaps:scatterAttrs.connectgaps,line:lineAttrs,marker:extendFlat({symbol:{valType:"enumerated",values:sortObjectKeys(MARKER_SYMBOLS),dflt:"circle",arrayOk:!0,description:"Sets the marker symbol type."},size:extendFlat({},scatterMarkerAttrs.size,{dflt:8}),sizeref:scatterMarkerAttrs.sizeref,sizemin:scatterMarkerAttrs.sizemin,sizemode:scatterMarkerAttrs.sizemode,opacity:extendFlat({},scatterMarkerAttrs.opacity,{arrayOk:!1,description:["Sets the marker opacity.","Note that the marker opacity for scatter3d traces","must be a scalar value for performance reasons.","To set a blending opacity value","(i.e. which is not transparent), set *marker.color*","to an rgba color and use its alpha channel."].join(" ")}),colorbar:scatterMarkerAttrs.colorbar,line:extendFlat({width:extendFlat({},scatterMarkerLineAttrs.width,{arrayOk:!1})},colorAttributes("marker.line"))},colorAttributes("marker")),textposition:extendFlat({},scatterAttrs.textposition,{dflt:"top center"}),textfont:fontAttrs({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"],description:"Sets the text font."}),opacity:baseAttrs.opacity,hoverinfo:extendFlat({},baseAttrs.hoverinfo)},"calc","nested");attrs.x.editType=attrs.y.editType=attrs.z.editType="calc+clearAxisTypes";var attributesExports=attributes$1.exports,Registry=registry$1,Lib=libExports,subTypes=subtypes$3,handleMarkerDefaults=marker_defaults,handleLineDefaults=line_defaults,handleTextDefaults=text_defaults,attributes=attributesExports,defaults$8=function(t,e,i,r){function n(i,r){return Lib.coerce(t,e,attributes,i,r)}if(handleXYZDefaults(t,e,n,r)){n("text"),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),n("mode"),subTypes.hasMarkers(e)&&handleMarkerDefaults(t,e,i,r,n,{noSelect:!0,noAngle:!0}),subTypes.hasLines(e)&&(n("connectgaps"),handleLineDefaults(t,e,i,r,n)),subTypes.hasText(e)&&(n("texttemplate"),handleTextDefaults(t,e,r,n,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var a=(e.line||{}).color,s=(e.marker||{}).color;n("surfaceaxis")>=0&&n("surfacecolor",a||s);for(var o=["x","y","z"],l=0;l<3;++l){var c="projection."+o[l];n(c+".show")&&(n(c+".opacity"),n(c+".scale"))}var g=Registry.getComponentMethod("errorbars","supplyDefaults");g(t,e,a||s||i,{axis:"z"}),g(t,e,a||s||i,{axis:"y",inherit:"z"}),g(t,e,a||s||i,{axis:"x",inherit:"z"})}else e.visible=!1};function handleXYZDefaults(t,e,i,r){var n=0,a=i("x"),s=i("y"),o=i("z");return Registry.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],r),a&&s&&o&&(n=Math.min(a.length,s.length,o.length),e._length=e._xlength=e._ylength=e._zlength=n),n}var arraysToCalcdata=arrays_to_calcdata$1,calcColorscale=colorscale_calc,calc=function(t,e){var i=[{x:!1,y:!1,trace:e,t:{}}];return arraysToCalcdata(i,e),calcColorscale(t,e),i},scatter3d$2={plot:convert,attributes:attributesExports,markerSymbols:gl3d_markers,supplyDefaults:defaults$8,colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:calc,moduleType:"trace",name:"scatter3d",basePlotModule:gl3d,categories:["gl3d","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_3d",description:["The data visualized as scatter point or lines in 3D dimension","is set in `x`, `y`, `z`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","Projections are achieved via `projection`.","Surface fills are achieved via `surfaceaxis`."].join(" ")}},scatter3d=scatter3d$2,scatter3d$1=getDefaultExportFromCjs(scatter3d),PlotlyScatter3d=_mergeNamespaces({__proto__:null,default:scatter3d$1},[scatter3d]);core.register([PlotlyIsoSurface,PlotlyScatter3d]);class CPTSpace extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},point:{attribute:"point",type:Boolean,reflect:!0},updateable:{attribute:"updateable",type:Boolean,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.firstUpdate=!0,this.surface=!0,this.point=!0,this.updateable=!1,this.GAMBLE=0,this.SURE=1,this.NR=.25,this.DEFAULT=.75,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.response=this.DEFAULT,this.range={},this.range.a={start:1e-4,stop:1,step:.05},this.range.l={start:0,stop:10,step:.5},this.range.g={start:0,stop:1,step:.05},this.parameterSpace=[],this.alignState()}alignState(){this.updateable&&(this.response=CPTMath.xal2v(this.xw,this.a,this.l)*CPTMath.pg2w(this.pw,this.g)+CPTMath.xal2v(this.xl,this.a,this.l)*(1-CPTMath.pg2w(this.pw,this.g))>CPTMath.xal2v(this.xs,this.a,this.l)?this.GAMBLE:this.SURE),this.parameterSpace={a:[],l:[],g:[],uDiff:[]},range$1(this.range.a.start,this.range.a.stop+.01,this.range.a.step).forEach(t=>{range$1(this.range.l.start,this.range.l.stop+.01,this.range.l.step).forEach(e=>{range$1(this.range.g.start,this.range.g.stop+.01,this.range.g.step).forEach(i=>{this.parameterSpace.a.push(t),this.parameterSpace.l.push(e),this.parameterSpace.g.push(i);const r=CPTMath.xal2v(this.xw,t,e)*CPTMath.pg2w(this.pw,i)+CPTMath.xal2v(this.xl,t,e)*(1-CPTMath.pg2w(this.pw,i))-CPTMath.xal2v(this.xs,t,e);this.parameterSpace.uDiff.push(r)})})})}static get styles(){return[super.styles,plotlyStyle,i$6`
        :host {
          display: inline-block;

          width: 28rem;
          height: 20rem;
        }

        .plotly {
          height: 100%;

          cursor: grab;
        }

        /* Plotly modebar styles */
        /* Drawn from: https://github.com/plotly/plotly.js/blob/master/src/components/modebar/modebar.js */
        .plotly:hover .modebar .modebar-group {
          background-color: rgba(255, 255, 255, 0.5);
        }

        .modebar-btn .icon path {
          fill: rgba(68, 68, 68, 0.3);
        }

        .modebar-btn:hover .icon path {
          fill: rgba(68, 68, 68, 0.7);
        }

        .modebar-btn.active .icon path {
          fill: rgba(68, 68, 68, 0.7);
        }
      `]}render(){return x$2`
      <div class="plotly"></div>
    `}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.getComputedStyleValue("---color-text"),i=this.getComputedStyleValue("---color-element-border"),r=this.getComputedStyleValue("---color-element-background"),n=this.getComputedStyleValue("---color-element-emphasis"),a=this.getComputedStyleValue("---color-worse"),s=this.getComputedStyleValue("---color-better"),o=this.getComputedStyleValue("---color-nr"),l=[];this.surface&&l.push({name:"Decision Boundary",type:"isosurface",x:this.parameterSpace.a,y:this.parameterSpace.l,z:this.parameterSpace.g,value:this.parameterSpace.uDiff,coloraxis:"coloraxis",isomin:0,isomax:0,opacity:.5},{name:"Difference in Subjective Utility",type:"isosurface",x:this.parameterSpace.a,y:this.parameterSpace.l,z:this.parameterSpace.g,value:this.parameterSpace.uDiff,caps:{x:{show:!1},y:{show:!1},z:{show:!1}},coloraxis:"coloraxis",isomin:-30,isomax:30,showscale:!1,slices:{x:{show:!0,locations:[this.range.a.stop]},y:{show:!0,locations:[this.range.l.stop]},z:{show:!0,locations:[this.range.g.start]}},surface:{show:!1}}),this.point&&l.push({name:"Current Decision",type:"scatter3d",x:[this.a],y:[this.l],z:[this.g],mode:"markers",marker:{color:[this.response],coloraxis:"coloraxis2",line:{color:n,width:2},size:6}});const c={coloraxis:{cmin:-30,cmax:30,colorbar:{title:{font:{size:1.125*this.rem},text:"Difference in Utility (Gamble - Sure)",side:"right"},thickness:16,ypad:32},colorscale:[[0,"rgb(35, 35, 104)"],[.35,"rgb(69,69,208)"],[.5,"rgb(190,190,190)"],[.65,"rgb(240,50,230)"],[1,"rgb(120,25,115)"]]},coloraxis2:{cmin:0,cmax:1,colorscale:[[0,a],[.01,a],[.24,o],[.26,o],[.74,n],[.76,n],[.99,s],[1,s]],showscale:!1},font:{family:'"Source Sans", sans-serif',color:e},margin:{t:0,l:0,b:0},scene:{hovermode:!1,camera:{center:{x:0,y:.1,z:-.2},eye:{x:-2,y:-.8,z:.8}},xaxis:{mirror:!0,showbackground:!0,backgroundcolor:r,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:i,showline:!0,linecolor:i,zeroline:!1,range:[Math.round(this.range.a.start),this.range.a.stop],title:{text:"alpha",font:{size:1.125*this.rem}}},yaxis:{mirror:!0,showbackground:!0,backgroundcolor:r,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:i,showline:!0,linecolor:i,zeroline:!1,range:[this.range.l.start,this.range.l.stop],title:{text:"lambda",font:{size:1.125*this.rem}}},zaxis:{mirror:!0,showbackground:!0,backgroundcolor:r,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:i,showline:!0,linecolor:i,zeroline:!1,range:[this.range.g.start,this.range.g.stop],title:{text:"gamma",font:{size:1.125*this.rem}}}},uirevision:!0};core.react(this.shadowRoot.querySelector(".plotly"),l,c,{displaylogo:!1,modeBarButtonsToRemove:["orbitRotation","resetCameraDefault3d","hoverClosest3d","toImage"],responsive:!0}),this.firstUpdate=!1}}customElements.define("cpt-space",CPTSpace);class CPTValue extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.x=null,this.label="",this.function="default",this.functions=[{name:"default",a:this.a,l:this.l}],this.values=[{name:"default",x:this.x,label:this.label,function:this.function}],this.xl=null,this.xw=null,this.pw=null,this.xs=null,this.trialCount=null,this.response=null,this.alignState()}alignState(){this.functions[0].a=this.a,this.functions[0].l=this.l,this.values[0].x=this.x,this.values[0].label=this.label,this.values[0].function=this.function,this.values.forEach(t=>{const e=this.functions.find(e=>e.name===t.function);t.v=CPTMath.xal2v(t.x,e.a,e.l)}),this.v=this.values[0].v}trial(t,e,i,r,n,a){this.trialCount&&this.removeValue(`${this.trialCount}-w`),this.trialCount&&this.removeValue(`${this.trialCount}-s`),this.xl=t,this.xw=e,this.pw=i,this.xs=r,this.trialCount=n,this.response=a,this.setValue(this.xw,`${this.trialCount}-w`,"g","default",!0),this.setValue(this.xs,`${this.trialCount}-s`,"s","default",!0)}pauseTrial(){const t=select$5(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum(t=>(t.paused=!0,t))}resumeTrial(){select$5(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum(t=>(t.paused=!1,t)),this.requestUpdate()}clearFunctions(){this.functions.splice(1),this.requestUpdate()}clearValues(){this.values.splice(1),this.requestUpdate()}clear(){this.clearFunctions(),this.clearValues()}removeFunction(t){this.functions=this.functions.filter(e=>e.name!==t),this.requestUpdate()}removeValue(t){this.values=this.values.filter(e=>e.name!==t),this.requestUpdate()}remove(t){this.removeFunction(t),this.removeValue(t)}getFunction(t="default"){return this.functions.find(e=>e.name===t)}getValue(t="default"){return this.values.find(e=>e.name===t)}get(t="default"){return{...this.getFunction(t),...this.getValue(t)}}setFunction(t,e,i="default"){"default"===i&&(this.a=t,this.l=e);const r=this.functions.find(t=>t.name===i);void 0===r?this.functions.push({name:i,a:t,l:e}):(r.a=t,r.l=e),this.requestUpdate()}setValue(t,e="default",i="",r=e,n=!1){"default"===e&&(this.x=t,this.label=i);const a=this.values.find(t=>t.name===e);void 0===a?this.values.push({name:e,x:t,label:i,function:r,trial:n,new:n}):(a.x=t,a.label=i,a.function=r),this.requestUpdate()}set(t,e,i,r="default",n="",a=r){this.setFunction(e,i,a),this.setValue(t,r,n,a)}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 20rem;
          height: 20rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .curve-p.interactive,
        .curve-n.interactive {
          cursor: nwse-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .curve-p.interactive:hover,
        .curve-n.interactive:hover {
          filter: url("#shadow-4");
        }

        .curve-p.interactive:active,
        .curve-n.interactive:active {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .curve-p.interactive:focus,
        :host(.keyboard) .curve-n.interactive:focus {
          filter: url("#shadow-8");
        }

        .point.interactive {
          cursor: nesw-resize;

          filter: url("#shadow-2");
          outline: none;

          /* HACK: This gets Safari to correctly apply the filter! */
          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */
          stroke: #000000;
          stroke-opacity: 0;
          stroke-width: 0;
        }

        .point.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #ff0000;
        }

        .point.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #00ff00;
        }

        :host(.keyboard) .point.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #0000ff;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .scale-x path,
        .scale-x line,
        .scale-y path,
        .scale-y line {
          stroke: var(---color-element-border);
        }

        .axis-x,
        .axis-y {
          stroke: var(---color-element-border);
          shape-rendering: crispEdges;
        }

        .diagonal {
          stroke: var(---color-element-border);
          stroke-dasharray: 4;
          stroke-width: 1;
        }

        .curve-p,
        .curve-n {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .line-x,
        .line-v {
          fill: none;
          stroke-width: 2;
        }

        .line-x {
          stroke: var(---color-x);
        }

        .line-v {
          stroke: var(---color-v);
        }

        .point .circle {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: middle;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        /* Make larger targets for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$2`
      ${ProspectableElement.svgFilters}
    `}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height,r=Math.min(e,i),n=2*this.rem,a=3*this.rem,s=3*this.rem,o=r-(n+a),l=r-(s+2*this.rem),c=parseInt(this.getComputedStyleValue("---transition-duration"),10),g=20,d=linear().domain([-20,g]).range([0,l]);this.xScale=d;const u=linear().domain([g,-20]).range([0,o]);this.yScale=u;const B=drag().subject((t,e)=>({x:t.x,y:this.yScale(CPTMath.xal2v(this.xScale.invert(t.x),e.a,e.l))})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=this.xScale.invert(t.x),r=this.yScale.invert(t.y),n=CPTMath.xlv2a(i,e.l,r);e.a=Number.isNaN(n)||n<CPTMath.a.MIN||n>CPTMath.a.MAX||i<0||r<0?i>r?CPTMath.a.MIN:CPTMath.a.MAX:n,"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),F=drag().subject((t,e)=>({x:t.x,y:this.yScale(CPTMath.xal2v(this.xScale.invert(t.x),e.a,e.l))})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=this.xScale.invert(t.x),r=this.yScale.invert(t.y),n=CPTMath.xav2l(i,e.a,r);e.l=Number.isNaN(n)||n<CPTMath.l.MIN||n>CPTMath.l.MAX||i>0||r>0?i>r?CPTMath.l.MAX:CPTMath.l.MIN:n,"default"===e.name&&(this.l=e.l),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),h=drag().subject((t,e)=>({x:this.xScale(e.x),y:this.yScale(e.v)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=this.xScale.invert(t.x);e.x=i<-20?-20:i>g?g:i,"default"===e.name&&(this.x=e.x),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,v:e.v,label:e.label,a:this.getFunction(e.function).a,l:this.getFunction(e.function).l},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)}),Q=shapeLine().x(t=>d(t.x)).y(t=>u(t.v)),U=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),I=U.enter().append("svg").classed("main",!0),b=I.merge(U).attr("viewBox",`0 0 ${r} ${r}`),p=I.append("g").classed("plot",!0),y=b.select(".plot").attr("transform",`translate(${s}, ${n})`);p.append("clipPath").attr("id","clip-cpt-value").append("rect"),y.select("clipPath rect").attr("height",o+1).attr("width",l+1);const m=p.append("g").classed("underlayer",!0),C=y.select(".underlayer");m.append("rect").classed("background",!0),C.select(".background").attr("height",o).attr("width",l),m.append("g").classed("scale-x",!0);C.select(".scale-x").attr("transform",`translate(0, ${u(-20)})`).transition().duration(2*c).ease(cubicOut).call(axisBottom(d)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),m.append("line").classed("axis-x",!0),C.select(".axis-x").transition().duration(c).ease(cubicOut).attr("x1",d(-20)).attr("x2",d(g)).attr("y1",u(0)).attr("y2",u(0));const f=m.append("text").classed("title-x",!0).attr("text-anchor","middle");f.append("tspan").classed("name",!0).text("Objective Value ("),f.append("tspan").classed("math-var x",!0).text("x"),f.append("tspan").classed("name",!0).text(")"),C.select(".title-x").attr("transform",`translate(${l/2}, ${o+2.25*this.rem})`),m.append("g").classed("scale-y",!0);C.select(".scale-y").transition().duration(2*c).ease(cubicOut).call(axisLeft(u)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),m.append("line").classed("axis-y",!0),C.select(".axis-y").transition().duration(c).ease(cubicOut).attr("x1",d(0)).attr("x2",d(0)).attr("y1",u(g)).attr("y2",u(-20));const x=m.append("text").classed("title-y",!0).attr("text-anchor","middle");x.append("tspan").classed("name",!0).text("Subjective Value ("),x.append("tspan").classed("math-var v",!0).text("v"),x.append("tspan").classed("name",!0).text(")"),C.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${o/2})rotate(-90)`),m.append("line").classed("diagonal",!0),C.select(".diagonal").transition().duration(2*c).ease(cubicOut).attr("x1",d(-20)).attr("y1",u(-20)).attr("x2",d(g)).attr("y2",u(g)),p.append("g").classed("content",!0);const A=y.select(".content"),v=A.selectAll(".lines").data(this.values.filter(t=>null!=t.x),t=>t.name),L=v.enter().append("g").classed("lines",!0);L.each((t,e,i)=>{const r=select$5(i[e]);r.append("line").classed("line-x above",!0),r.append("line").classed("line-x below",!0),r.append("line").classed("line-v before",!0),r.append("line").classed("line-v after",!0)}),L.filter(t=>t.new).attr("data-animating-ease-time-1",0).attr("data-animating-ease-time-2",0).each((t,e,i)=>{const r=select$5(i[e]);r.select(".line-x.above").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",u(g)).attr("y2",u(g)),r.select(".line-x.below").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",u(-20)).attr("y2",u(-20)),r.select(".line-v.before").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",u(t.v)).attr("y2",u(t.v)),r.select(".line-v.after").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",u(t.v)).attr("y2",u(t.v))});const R=L.merge(v),S=R.filter(t=>t.new&&!t.paused);if(!S.empty()){const t=S.attr("data-animating-ease-time-1"),e=S.attr("data-animating-ease-time-2"),i=e=>linear().domain([0,1]).range([t,1])(e),r=e=>linear().range([0,1]).domain([t,1])(e),n=t=>linear().domain([0,1]).range([e,1])(t),a=t=>linear().range([0,1]).domain([e,1])(t),s=e=>i=>linear().domain([e(t),1]).range([0,1])(e(i)),o=t=>i=>linear().domain([t(e),1]).range([0,1])(t(i));S.transition("new-1").duration(()=>Math.floor(c*(1-t))).ease(i).attr("data-animating-ease-time-1",1).tween("animating",(t,e,i)=>{const n=i[e],a=select$5(n),o=interpolate$1(void 0!==n.x?n.x:t.x,t.x),l=interpolate$1(void 0!==n.a?n.a:this.getFunction(t.function).a,this.getFunction(t.function).a),c=interpolate$1(void 0!==n.l?n.l:this.getFunction(t.function).l,this.getFunction(t.function).l),B=interpolate$1(u.invert(a.select(".line-x.above").attr("y1")),t.v),F=interpolate$1(u.invert(a.select(".line-x.below").attr("y1")),t.v);return t=>{n.x=o(cubicOut(r(t))),n.a=l(cubicOut(r(t))),n.l=c(cubicOut(r(t))),n.v=CPTMath.xal2v(n.x,n.a,n.l),a.select(".line-x.above").attr("x1",d(n.x)).attr("x2",d(n.x)).attr("y1",u(B(s(cubicIn)(t)))).attr("y2",u(g)),a.select(".line-x.below").attr("x1",d(n.x)).attr("x2",d(n.x)).attr("y1",u(F(s(cubicIn)(t)))).attr("y2",u(-20))}}).transition("new-2").duration(()=>Math.floor(c*(1-e))).ease(n).attr("data-animating-ease-time-2",1).tween("animating",(t,e,i)=>{const r=i[e],n=select$5(r),s=interpolate$1(void 0!==r.x?r.x:t.x,t.x),l=interpolate$1(void 0!==r.a?r.a:this.getFunction(t.function).a,this.getFunction(t.function).a),c=interpolate$1(void 0!==r.l?r.l:this.getFunction(t.function).l,this.getFunction(t.function).l),B=interpolate$1(d.invert(n.select(".line-v.before").attr("x1")),-20),F=interpolate$1(d.invert(n.select(".line-v.after").attr("x1")),g);return t=>{r.x=s(cubicOut(a(t))),r.a=l(cubicOut(a(t))),r.l=c(cubicOut(a(t))),r.v=CPTMath.xal2v(r.x,r.a,r.l),n.select(".line-v.before").attr("x1",d(B(o(cubicOut)(t)))).attr("x2",d(r.x)).attr("y1",u(r.v)).attr("y2",u(r.v)),n.select(".line-v.after").attr("x1",d(F(o(cubicOut)(t)))).attr("x2",d(r.x)).attr("y1",u(r.v)).attr("y2",u(r.v))}}).on("end",(t,e,i)=>{const r=i[e];r.removeAttribute("data-animating-ease-time-1"),r.removeAttribute("data-animating-ease-time-2"),t.new=!1,this.dispatchEvent(new CustomEvent("prospectable-response",{detail:{trial:this.trialCount,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response},bubbles:!0}))})}const G=R.filter(t=>t.new&&t.paused);if(!G.empty()){const t=G.attr("data-animating-ease-time-1"),e=G.attr("data-animating-ease-time-2");G.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).tween("paused",(i,r,n)=>{const a=n[r],s=select$5(a),o=interpolate$1(void 0!==a.x?a.x:i.x,i.x),l=interpolate$1(void 0!==a.a?a.a:this.getFunction(i.function).a,this.getFunction(i.function).a),c=interpolate$1(void 0!==a.l?a.l:this.getFunction(i.function).l,this.getFunction(i.function).l),B=interpolate$1(g,i.v),F=interpolate$1(-20,i.v),h=interpolate$1(i.x,-20),Q=interpolate$1(i.x,g);return i=>{a.x=o(i),a.a=l(i),a.l=c(i),a.v=CPTMath.xal2v(a.x,a.a,a.l),s.select(".line-x.above").attr("x1",d(a.x)).attr("x2",d(a.x)).attr("y1",u(B(cubicIn(t)))).attr("y2",u(g)),s.select(".line-x.below").attr("x1",d(a.x)).attr("x2",d(a.x)).attr("y1",u(F(cubicIn(t)))).attr("y2",u(-20)),s.select(".line-v.before").attr("x1",d(h(cubicOut(e)))).attr("x2",d(a.x)).attr("y1",u(a.v)).attr("y2",u(a.v)),s.select(".line-v.after").attr("x1",d(Q(cubicOut(e)))).attr("x2",d(a.x)).attr("y1",u(a.v)).attr("y2",u(a.v))}})}R.filter(t=>!t.new).transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).tween("non-animating",(t,e,i)=>{const r=i[e],n=select$5(r),a=interpolate$1(void 0!==r.x?r.x:t.x,t.x),s=interpolate$1(void 0!==r.a?r.a:this.getFunction(t.function).a,this.getFunction(t.function).a),o=interpolate$1(void 0!==r.l?r.l:this.getFunction(t.function).l,this.getFunction(t.function).l);return t=>{r.x=a(t),r.a=s(t),r.l=o(t),r.v=CPTMath.xal2v(r.x,r.a,r.l),n.select(".line-x.above").attr("x1",d(r.x)).attr("x2",d(r.x)).attr("y1",u(r.v)).attr("y2",u(g)),n.select(".line-x.below").attr("x1",d(r.x)).attr("x2",d(r.x)).attr("y1",u(r.v)).attr("y2",u(-20)),n.select(".line-v.before").attr("x1",d(-20)).attr("x2",d(r.x)).attr("y1",u(r.v)).attr("y2",u(r.v)),n.select(".line-v.after").attr("x1",d(g)).attr("x2",d(r.x)).attr("y1",u(r.v)).attr("y2",u(r.v))}}),v.exit().remove();const E=A.selectAll(".curve-p").data(this.functions,t=>t.name),V=E.enter().append("g").classed("curve-p",!0).attr("clip-path","url(#clip-cpt-value)");V.append("path").classed("path-p",!0),V.append("path").classed("path-p touch",!0);const Z=V.merge(E);(this.firstUpdate||t.has("interactive"))&&(this.interactive?Z.attr("tabindex",0).classed("interactive",!0).call(B).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let i=e.a;switch(t.key){case"ArrowUp":case"ArrowLeft":i+=t.shiftKey?CPTMath.a.STEP:CPTMath.a.JUMP;break;case"ArrowDown":case"ArrowRight":i-=t.shiftKey?CPTMath.a.STEP:CPTMath.a.JUMP}i=i<CPTMath.a.MIN?CPTMath.a.MIN:i>CPTMath.a.MAX?CPTMath.a.MAX:i,i!==e.a&&(e.a=i,"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))),t.preventDefault()}}):Z.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),Z.select(".path-p").transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:t.a,t.a),a=interpolate$1(void 0!==r.l?r.l:t.l,t.l);return t=>{r.a=n(t),r.l=a(t);const e=range$1(d(0),d.range()[1]+1,1).map(t=>({x:d.invert(t),v:CPTMath.xal2v(d.invert(t),r.a,r.l)}));return Q(e)}}),Z.select(".path-p.touch").transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:t.a,t.a),a=interpolate$1(void 0!==r.l?r.l:t.l,t.l);return t=>{r.a=n(t),r.l=a(t);const e=range$1(d(0),d.range()[1]+1,1).map(t=>({x:d.invert(t),v:CPTMath.xal2v(d.invert(t),r.a,r.l)}));return Q(e)}}),E.exit().remove();const N=A.selectAll(".curve-n").data(this.functions,t=>t.name),D=N.enter().append("g").classed("curve-n",!0).attr("clip-path","url(#clip-cpt-value)");D.append("path").classed("path-n",!0),D.append("path").classed("path-n touch",!0);const w=D.merge(N);(this.firstUpdate||t.has("interactive"))&&(this.interactive?w.attr("tabindex",0).classed("interactive",!0).call(F).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let i=e.l;switch(t.key){case"ArrowUp":case"ArrowLeft":i-=t.shiftKey?CPTMath.l.STEP:CPTMath.l.JUMP;break;case"ArrowDown":case"ArrowRight":i+=t.shiftKey?CPTMath.l.STEP:CPTMath.l.JUMP}i=i<CPTMath.l.MIN?CPTMath.l.MIN:i>CPTMath.l.MAX?CPTMath.l.MAX:i,i!==e.l&&(e.l=i,"default"===e.name&&(this.l=e.l),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:this.get(e.name),bubbles:!0}))),t.preventDefault()}}):w.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),w.select(".path-n").transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:t.a,t.a),a=interpolate$1(void 0!==r.l?r.l:t.l,t.l);return t=>{r.a=n(t),r.l=a(t);const e=range$1(d.range()[0],d(0)+1,1).map(t=>({x:d.invert(t),v:CPTMath.xal2v(d.invert(t),r.a,r.l)}));return Q(e)}}),w.select(".path-n.touch").transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:t.a,t.a),a=interpolate$1(void 0!==r.l?r.l:t.l,t.l);return t=>{r.a=n(t),r.l=a(t);const e=range$1(d.range()[0],d(0)+1,1).map(t=>({x:d.invert(t),v:CPTMath.xal2v(d.invert(t),r.a,r.l)}));return Q(e)}}),N.exit().remove();const X=A.selectAll(".point").data(this.values.filter(t=>null!=t.x),t=>t.name),W=X.enter().append("g").classed("point",!0);W.append("circle").classed("circle touch",!0),W.append("text").classed("label",!0);const H=W.merge(X);H.select("text").text(t=>t.label),H.filter(e=>(this.firstUpdate||t.has("interactive"))&&this.interactive&&!e.trial).attr("tabindex",0).classed("interactive",!0).call(h).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let i=e.x;switch(t.key){case"ArrowUp":case"ArrowRight":i+=t.shiftKey?.2:1;break;case"ArrowDown":case"ArrowLeft":i-=t.shiftKey?.2:1}i=i<-20?-20:i>g?g:i,i!==e.x&&(e.x=i,"default"===e.name&&(this.x=e.x),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,v:e.v,label:e.label,a:this.getFunction(e.function).a,l:this.getFunction(e.function).l},bubbles:!0}))),t.preventDefault()}}),H.filter(e=>(this.firstUpdate||t.has("interactive"))&&!this.interactive||e.trial).attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null),H.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(cubicOut).attrTween("transform",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.x?r.x:t.x,t.x),a=interpolate$1(void 0!==r.a?r.a:this.getFunction(t.function).a,this.getFunction(t.function).a),s=interpolate$1(void 0!==r.l?r.l:this.getFunction(t.function).l,this.getFunction(t.function).l);return t=>(r.x=n(t),r.a=a(t),r.l=s(t),`translate(\n            ${d(r.x)},\n            ${u(CPTMath.xal2v(r.x,r.a,r.l))}\n          )`)}),X.exit().remove(),this.drag=!1,this.firstUpdate=!1}}customElements.define("cpt-value",CPTValue),core.register([PlotlyIsoSurface,PlotlyScatter3d]);class DecisionSpace extends(DecidablesMixinResizeable(ProspectableElement)){static get properties(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},point:{attribute:"point",type:String,reflect:!0},updateable:{attribute:"updateable",type:Boolean,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.firstUpdate=!0,this.surface=!0,this.points=["all","first","rest","none"],this.point="first",this.updateable=!1,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.response="",this.label="",this.choices=[{name:"default",xw:this.xw,pw:this.pw,xs:this.xs,response:this.response,label:""}],this.GAMBLE=0,this.SURE=1,this.NR=.25,this.DEFAULT=.75,this.pointList=[],this.range={},this.range.xs={start:5,stop:15,step:.5},this.range.xw={start:10,stop:30,step:1},this.range.pw={start:0,stop:1,step:.05},this.decisionSpace=[],this.alignState()}alignState(){this.choices[0].name="default",this.choices[0].xw=this.xw,this.choices[0].pw=this.pw,this.choices[0].xs=this.xs,this.choices[0].response=this.response,this.choices[0].label=this.label,this.updateable&&(this.choices.forEach(t=>{t.response=CPTMath.xal2v(t.xw,this.a,this.l)*CPTMath.pg2w(t.pw,this.g)+CPTMath.xal2v(this.xl,this.a,this.l)*(1-CPTMath.pg2w(t.pw,this.g))>CPTMath.xal2v(t.xs,this.a,this.l)?"gamble":"sure"}),this.response=this.choices[0].response),this.pointList={xw:[],pw:[],xs:[],response:[],label:[]},this.choices.forEach((t,e)=>{(0===e&&("first"===this.point||"all"===this.point)||e>0&&("rest"===this.point||"all"===this.point))&&(this.pointList.xw.push(t.xw),this.pointList.pw.push(t.pw),this.pointList.xs.push(t.xs),this.pointList.response.push("gamble"===t.response?this.GAMBLE:"sure"===t.response?this.SURE:"nr"===t.response?this.NR:this.DEFAULT),this.pointList.label.push(t.label))}),this.decisionSpace={xs:[],xw:[],pw:[],uDiff:[]},range$1(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step).forEach(t=>{range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step).forEach(e=>{range$1(this.range.pw.start,this.range.pw.stop+.01,this.range.pw.step).forEach(i=>{this.decisionSpace.xs.push(t),this.decisionSpace.xw.push(e),this.decisionSpace.pw.push(i);const r=CPTMath.xal2v(e,this.a,this.l)*CPTMath.pg2w(i,this.g)+CPTMath.xal2v(this.xl,this.a,this.l)*(1-CPTMath.pg2w(i,this.g))-CPTMath.xal2v(t,this.a,this.l);this.decisionSpace.uDiff.push(r)})})})}clear(){this.choices=[{}],this.requestUpdate()}get(t="default"){const e=this.choices.find(e=>e.name===t);return void 0===e?null:e}set(t,e,i,r,n="default",a=""){"default"===n&&(this.xw=t,this.pw=e,this.xs=i,this.response=r,this.label=a);const s=this.choices.find(t=>t.name===n);void 0===s?this.choices.push({name:n,xw:t,pw:e,xs:i,response:r,label:a}):(s.xw=t,s.pw=e,s.xs=i,s.response=r,s.label=a),this.requestUpdate()}static get styles(){return[super.styles,plotlyStyle,i$6`
        :host {
          display: inline-block;

          width: 28rem;
          height: 20rem;
        }

        .plotly {
          height: 100%;

          cursor: grab;
        }

        /* Plotly modebar styles */
        /* Drawn from: https://github.com/plotly/plotly.js/blob/master/src/components/modebar/modebar.js */
        .plotly:hover .modebar .modebar-group {
          background-color: rgba(255, 255, 255, 0.5);
        }

        .modebar-btn .icon path {
          fill: rgba(68, 68, 68, 0.3);
        }

        .modebar-btn:hover .icon path {
          fill: rgba(68, 68, 68, 0.7);
        }

        .modebar-btn.active .icon path {
          fill: rgba(68, 68, 68, 0.7);
        }
      `]}render(){return x$2`
      <div class="plotly"></div>
    `}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.getComputedStyleValue("---color-text"),i=this.getComputedStyleValue("---color-element-border"),r=this.getComputedStyleValue("---color-element-background"),n=this.getComputedStyleValue("---color-element-emphasis"),a=this.getComputedStyleValue("---color-worse"),s=this.getComputedStyleValue("---color-better"),o=this.getComputedStyleValue("---color-nr"),l=[];this.surface&&l.push({name:"Decision Boundary",type:"isosurface",x:this.decisionSpace.xs,y:this.decisionSpace.xw,z:this.decisionSpace.pw,value:this.decisionSpace.uDiff,coloraxis:"coloraxis",isomin:0,isomax:0,opacity:.5},{name:"Difference in Subjective Utility",type:"isosurface",x:this.decisionSpace.xs,y:this.decisionSpace.xw,z:this.decisionSpace.pw,value:this.decisionSpace.uDiff,caps:{x:{show:!1},y:{show:!1},z:{show:!1}},coloraxis:"coloraxis",isomin:-30,isomax:30,showscale:!1,slices:{x:{show:!0,locations:[this.range.xs.stop]},y:{show:!0,locations:[this.range.xw.stop]},z:{show:!0,locations:[this.range.pw.start]}},surface:{show:!1}}),l.push({name:"Current Decision",type:"scatter3d",x:this.pointList.xs,y:this.pointList.xw,z:this.pointList.pw,mode:"markers",marker:{color:this.pointList.response,coloraxis:"coloraxis2",line:{color:n,width:2},size:6}});const c={coloraxis:{cmin:-30,cmax:30,colorbar:{title:{font:{size:1.125*this.rem},text:"Difference in Utility (Gamble - Sure)",side:"right"},thickness:16,ypad:32},colorscale:[[0,"rgb(35, 35, 104)"],[.35,"rgb(69,69,208)"],[.5,"rgb(190,190,190)"],[.65,"rgb(240,50,230)"],[1,"rgb(120,25,115)"]]},coloraxis2:{cmin:0,cmax:1,colorscale:[[0,a],[.01,a],[.24,o],[.26,o],[.74,n],[.76,n],[.99,s],[1,s]],showscale:!1},font:{family:'"Source Sans", sans-serif',color:e},margin:{t:0,l:0,b:0},scene:{hovermode:!1,camera:{center:{x:0,y:.1,z:-.2},eye:{x:-2,y:-.8,z:.8}},xaxis:{mirror:!0,showbackground:!0,backgroundcolor:r,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:i,showline:!0,linecolor:i,zeroline:!1,range:[this.range.xs.start,this.range.xs.stop],title:{text:"Sure Value",font:{size:1.125*this.rem}}},yaxis:{mirror:!0,showbackground:!0,backgroundcolor:r,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:i,showline:!0,linecolor:i,zeroline:!1,range:[this.range.xw.start,this.range.xw.stop],title:{text:"Win Value",font:{size:1.125*this.rem}}},zaxis:{mirror:!0,showbackground:!0,backgroundcolor:r,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:i,showline:!0,linecolor:i,zeroline:!1,range:[this.range.pw.start,this.range.pw.stop],title:{text:"Win Probability",font:{size:1.125*this.rem}}}},uirevision:!0};core.react(this.shadowRoot.querySelector(".plotly"),l,c,{displaylogo:!1,modeBarButtonsToRemove:["orbitRotation","resetCameraDefault3d","hoverClosest3d","toImage"],responsive:!0}),this.firstUpdate=!1}}customElements.define("decision-space",DecisionSpace);class ProspectableControl extends ProspectableElement{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{atribute:!1,type:String,reflect:!1}}}constructor(){super(),this.trials=void 0,this.duration=void 0,this.run=!1,this.pause=!1,this.reset=!1,this.states=["resetted","running","paused","ended"],this.state="resetted"}setTrials(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("prospectable-control-trials",{detail:{trials:this.trials},bubbles:!0}))}setDuration(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("prospectable-control-duration",{detail:{duration:this.duration},bubbles:!0}))}doRun(){this.state="running",this.dispatchEvent(new CustomEvent("prospectable-control-run",{detail:{},bubbles:!0}))}doPause(){this.state="paused",this.dispatchEvent(new CustomEvent("prospectable-control-pause",{detail:{},bubbles:!0}))}doReset(){this.state="resetted",this.dispatchEvent(new CustomEvent("prospectable-control-reset",{detail:{},bubbles:!0}))}complete(){this.state="ended"}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .buttons {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.trials?x$2`<decidables-slider min="1" max="100" step="1" .value=${this.trials} @change=${this.setTrials.bind(this)} @input=${this.setTrials.bind(this)}>Trials</decidables-slider>`:x$2``}
        ${null!=this.duration?x$2`<decidables-slider min="10" max="4000" step="10" .value=${this.duration} @change=${this.setDuration.bind(this)} @input=${this.setDuration.bind(this)}>Duration</decidables-slider>`:x$2``}
        ${this.run||this.pause||this.reset?x$2`
            <div class="buttons">
              ${this.run?x$2`<decidables-button name="run" ?disabled=${"running"===this.state||"ended"===this.state} @click=${this.doRun.bind(this)}>Run</decidables-button>`:x$2``}
              ${this.pause?x$2`<decidables-button name="pause" ?disabled=${"running"!==this.state} @click=${this.doPause.bind(this)}>Pause</decidables-button>`:x$2``}
              ${this.reset?x$2`<decidables-button name="reset" ?disabled=${"resetted"===this.state} @click=${this.doReset.bind(this)}>Reset</decidables-button>`:x$2``}
            </div>
            `:x$2``}
      </div>`}}customElements.define("prospectable-control",ProspectableControl);class ProspectableResponse extends ProspectableElement{static get properties(){return{feedback:{attribute:"feedback",type:String,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},payoff:{attribute:"payoff",type:String,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.feedbacks=["none","outcome"],this.feedback="none",this.trial=!1,this.payoffs=["none","selection","both"],this.payoff="none",this.states=["off","waiting","feedback"],this.state="off",this.trialCount=0,this.trialTotal=0,this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.gamblePayoff=0,this.surePayoff=0,this.nrPayoff=0,this.betters=["gamble","sure","even"],this.better=void 0,this.responses=["gamble","sure","nr"],this.response=void 0,this.outcomes=["better","worse","even","nr"],this.outcome=void 0}get trialPayoff(){switch(this.response){case"gamble":return this.gamblePayoff;case"sure":return this.surePayoff;case"nr":return this.nrPayoff;default:return}}start(t,e,i,r,n,a,s,o){this.state="waiting",this.xl=t,this.xw=e,this.pw=i,this.xs=r,this.gamblePayoff=n,this.surePayoff=a,this.better=s,this.trialCount=o,this.response=void 0,this.outcome=void 0}stop(){this.state="feedback",void 0===this.response&&(this.outcome="nr")}gamble(){this.responded("gamble")}sure(){this.responded("sure")}responded(t){this.state="feedback",this.response=t,this.outcome="even"===this.better?"even":this.better===this.response?"better":"worse",this.dispatchEvent(new CustomEvent("prospectable-response",{detail:{trial:this.trialCount,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response,outcome:this.outcome,payoff:this.trialPayoff},bubbles:!0}))}reset(){this.state="off",this.trialCount=0,this.better=void 0,this.gamblePayoff=0,this.surePayoff=0,this.response=void 0,this.outcome=void 0}keydown(t){"waiting"===this.state&&("ArrowLeft"===t.key?(this.responded("gamble"),t.preventDefault()):"ArrowRight"===t.key&&(this.responded("sure"),t.preventDefault()))}connectedCallback(){super.connectedCallback(),window.addEventListener("keydown",this.keydown.bind(this))}disconnectedCallback(){window.removeEventListener("keydown",this.keydown.bind(this)),super.disconnectedCallback()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        /* Overall container */
        .holder {
          display: flex;

          flex-direction: column;
        }

        /* Trial messages */
        .trials {
          display: flex;

          flex-direction: column;

          justify-content: center;
        }

        .trial {
          text-align: center;
        }

        .trial .label {
          font-weight: 600;
        }

        /* Response buttons */
        .responses {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .response {
          width: 5.25rem;
        }

        .waiting[disabled] {
          --decidables-button-background-color: var(---color-element-enabled);
        }

        .selected[disabled][name="gamble"] {
          --decidables-button-background-color: var(---color-worse);
        }

        .selected[disabled][name="sure"] {
          --decidables-button-background-color: var(---color-better);
        }

        /* Feedback messages */
        .feedbacks {
          display: flex;

          flex-direction: row;

          justify-content: center;
        }

        /* Outcome feedback */
        .feedback {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;

          width: 5.25rem;
          height: 3.5rem;
          padding: 0.375rem 0.75rem;
          margin: 0.25rem;

          text-align: center;

          background-color: var(---color-element-background);
          border: 1px solid var(---color-element-border);
        }

        .feedback.better {
          background-color: var(---color-better-light);
        }

        .feedback.worse {
          background-color: var(---color-worse-light);
        }

        .feedback.even {
          background-color: var(---color-even-light);
        }

        .feedback.nr {
          background-color: var(---color-nr-light);
        }

        .feedback .outcome {
          font-weight: 600;
          line-height: 1.15;
        }

        :host([payoff="selection"]) .feedback,
        :host([payoff="both"]) .feedback {
          height: 4rem;
        }

        /* Payoff feedback */
        .payoff {
          text-align: center;
        }

        .payoff .label {
          font-weight: 600;
        }
      `]}render(){return x$2`
      <div class="holder">
        ${this.trial?x$2`
            <div class="trials">
              <div class="trial">
                <span class="label">Trial: </span><span class="count">${this.trialCount}</span><span class="of"> of </span><span class="total">${this.trialTotal}</span>
              </div>
            </div>`:x$2``}
        <div class="responses">
          <decidables-button name="gamble" class="response ${"feedback"===this.state&&"gamble"===this.response?"selected":"waiting"===this.state?"waiting":""}" ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.gamble.bind(this)}>Gamble</decidables-button>
          <decidables-button name="sure" class="response ${"feedback"===this.state&&"sure"===this.response?"selected":"waiting"===this.state?"waiting":""}" ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.sure.bind(this)}>Sure</decidables-button>
        </div>
        ${"none"!==this.feedback||"none"!==this.payoff?x$2`
            <div class="feedbacks">
              <div class="feedback gamble
                ${"feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?this.outcome:""}">
                ${"feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?"better"===this.outcome?x$2`<span class="outcome">Better</span>`:"worse"===this.outcome?x$2`<span class="outcome">Worse</span>`:"even"===this.outcome?x$2`<span class="outcome">Even</span>`:x$2`<span class="outcome">No<br>Response</span>`:""}
                ${"both"===this.payoff||"selection"===this.payoff&&"gamble"===this.response?x$2`<span class="payoff">${"gamble"===this.response?"Win:":"Miss:"} $${this.gamblePayoff}</span>`:x$2``}
              </div>
              <div class="feedback sure
                ${"feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?this.outcome:""}">
                ${"feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?"better"===this.outcome?x$2`<span class="outcome">Better</span>`:"worse"===this.outcome?x$2`<span class="outcome">Worse</span>`:"even"===this.outcome?x$2`<span class="outcome">Even</span>`:x$2`<span class="outcome">No<br>Response</span>`:""}
                ${"both"===this.payoff||"selection"===this.payoff&&"sure"===this.response?x$2`<span class="payoff">${"sure"===this.response?"Win:":"Miss:"} $${this.surePayoff}</span>`:x$2``}
              </div>
            </div>`:x$2``}
      </div>`}}customElements.define("prospectable-response",ProspectableResponse);class RiskyOption extends(DecidablesMixinResizeable(ProspectableElement)){static get styles(){return[super.styles,i$6`
        :host {
          --decidables-spinner-font-size: 1.75rem;
          --decidables-spinner-input-width: 4rem;
          --decidables-spinner-prefix: "$";

          display: inline-block;

          width: 10rem;
          height: 10rem;
        }

        .main {
          width: 100%;
          height: 100%;
          overflow: visible;
        }

        .outline {
          fill: var(---color-element-background);
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .arc {
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .arc.interactive {
          cursor: ns-resize;

          filter: url("#shadow-2");
          outline: none;
        }

        .arc.interactive:hover {
          filter: url("#shadow-4");
        }

        .arc.interactive:active {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .arc.interactive:focus {
          filter: url("#shadow-8");
        }

        .arc.win {
          fill: var(---color-better-light);
        }

        .arc.loss {
          fill: var(---color-worse-light);
        }

        .arc.sure {
          fill: var(---color-even-light);
        }

        .label.static {
          font-size: 1.75rem;

          user-select: none;

          dominant-baseline: middle;
          text-anchor: middle;
        }

        .label.interactive {
          width: var(--decidables-spinner-input-width);
          height: calc(var(--decidables-spinner-font-size) * 1.5);
          overflow: visible;
        }

        /* HACK: Get Safari to work with SVG foreignObject */
        /* https://stackoverflow.com/questions/51313873/svg-foreignobject-not-working-properly-on-safari */
        /* https://bugs.webkit.org/show_bug.cgi?id=23113 */
        .label.interactive decidables-spinner {
          position: fixed;
        }

        .label.interactive.win decidables-spinner {
          background-color: var(---color-better-light);
        }

        .label.interactive.loss decidables-spinner {
          background-color: var(---color-worse-light);
        }

        .label.interactive.sure decidables-spinner {
          background-color: var(---color-even-light);
        }
      `]}render(){return x$2`
      ${ProspectableElement.svgFilters}
      <slot></slot>
    `}connectedCallback(){super.connectedCallback(),this.mutationObserver=new MutationObserver(t=>{t.some(t=>"childList"===t.type||"attributes"===t.type&&t.target!==this)&&this.requestUpdate()}),this.mutationObserver.observe(this,{subtree:!0,childList:!0,attributes:!0})}disconnectedCallback(){this.mutationObserver.disconnect(),super.disconnectedCallback()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height,r=Math.min(e,i),n=r-(0+0),a=r-(0+0),s=this.querySelectorAll("risky-outcome"),o=s.length?-s[0].p:0,l=pie().startAngle(o*Math.PI-Math.PI).endAngle(o*Math.PI+Math.PI).sortValues(null).value(t=>t.p)(s),c=l.filter(t=>!t.data.interactive),g=l.filter(t=>t.data.interactive);function d(t){const e=(t+2*Math.PI)%(2*Math.PI);return e>Math.PI?e-2*Math.PI:e<-Math.PI?e+2*Math.PI:e}const u=drag().subject((t,e)=>{const i=d((e.endAngle+e.startAngle)/2),r=d(Math.atan2(t.y,t.x)+Math.PI/2);return s.forEach(t=>{t.startP=t.p}),{arcAngle:i,startAngle:d(r-i)}}).on("start",(t,e)=>{if(!e.data.interactive)return;select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{if(!e.data.interactive)return;const i=d(Math.atan2(t.y,t.x)+Math.PI/2),r=d(i-t.subject.arcAngle),n=d(t.subject.startAngle>0?r-t.subject.startAngle:t.subject.startAngle-r)/Math.PI,a=e.data.startP+n,o=a>.99?.99:a<.01?.01:a;s.forEach(t=>{t.p=t===e.data?o:t.startP/(1-e.data.startP)*(1-o)}),this.dispatchEvent(new CustomEvent("risky-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0}))}).on("end",(t,e)=>{if(!e.data.interactive)return;select$5(t.currentTarget).classed("dragging",!1)}),B=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),F=B.enter().append("svg").classed("main",!0),h=F.merge(B).attr("viewBox",`0 0 ${r} ${r}`),Q=F.append("g").classed("pie",!0),U=h.select(".pie").attr("transform",`translate(${a/2}, ${n/2})`);Q.append("circle").classed("outline",!0),U.select(".outline").attr("r",Math.min(a,n)/2-1);const I=U.selectAll(".arc").data(l),b=I.enter().append("path").call(u).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown"].includes(t.key)){const i=e.data.p;let r=e.data.p;switch(t.key){case"ArrowUp":r-=t.shiftKey?.01:.05;break;case"ArrowDown":r+=t.shiftKey?.01:.05}const n=r>.99?.99:r<.01?.01:r;s.forEach(t=>{t.p=t===e.data?n:t.p/(1-i)*(1-n)}),this.dispatchEvent(new CustomEvent("risky-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0})),t.preventDefault()}});b.merge(I).attr("tabindex",t=>g.includes(t)&&l.length>1?0:null).attr("class",t=>`arc ${t.data.name}`).classed("interactive",t=>g.includes(t)&&l.length>1).attr("d",arc().innerRadius(0).outerRadius(Math.min(a,n)/2-1)),I.exit().remove();const p=U.selectAll(".label.static").data(c),y=U.selectAll(".label.interactive").data(g),m=p.enter().append("text"),C=y.enter().append("foreignObject");C.append("xhtml:decidables-spinner").on("input",(t,e)=>{e.data.x=parseFloat(t.target.value),this.dispatchEvent(new CustomEvent("risky-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0}))}),m.merge(p).attr("class",t=>`label static ${t.data.name}`).attr("transform",t=>{if(1===l.length)return"translate(0, 0)";const e=Math.min(a,n)/2*.6;return`translate(${arc().innerRadius(e).outerRadius(e).centroid(t)})`}).text(t=>`$${t.data.x.toFixed(0)}`);const f=C.merge(y).attr("class",t=>`label interactive ${t.data.name}`).attr("transform",t=>{const e=parseFloat(this.getComputedStyleValue("--decidables-spinner-input-width")),i=parseFloat(this.getComputedStyleValue("--decidables-spinner-font-size")),r=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10),s=e*r/-2,o=i*r*1.5/-2;if(1===l.length)return`translate(${s}, ${o})`;const c=Math.min(a,n)/2*.6,g=arc().innerRadius(c).outerRadius(c);return`translate(${g.centroid(t)[0]+s}, ${g.centroid(t)[1]+o})`});f.select("decidables-spinner").attr("value",t=>`${t.data.x.toFixed(0)}`),p.exit().remove(),y.exit().remove()}}customElements.define("risky-option",RiskyOption);class RiskyOutcome extends ProspectableElement{static get properties(){return{x:{attribute:"value",type:Number,reflect:!0},p:{attribute:"probability",type:Number,reflect:!0},name:{attribute:"name",type:String,reflect:!0}}}constructor(){super(),this.x=0,this.p=0,this.name=""}static get styles(){return[i$6`
        :host {
          display: none;
        }
      `]}render(){return x$2``}}customElements.define("risky-outcome",RiskyOutcome);class RiskyChoice extends ProspectableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.xl=0,this.xw=100,this.pw=.75,this.xs=50}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          user-select: none;
        }

        .holder > * {
          vertical-align: middle;
        }

        .query {
          margin: 0 0.5rem;

          font-family: var(--font-family-code);
          font-size: 1.75rem;
        }

        risky-option {
          width: 10rem;
          height: 10rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("risky-choice-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs},bubbles:!0}))}winChange(t){this.xw=parseFloat(t.detail.x),this.pw=parseFloat(t.detail.p),this.sendEvent()}sureChange(t){this.xs=parseFloat(t.detail.x),this.sendEvent()}render(){return x$2`
      <div class="holder">
        <risky-option class="gamble" ?interactive=${this.interactive} @risky-outcome-change=${this.winChange.bind(this)}>
          ${"choice"===this.state?x$2`
              <risky-outcome probability="${1-this.pw}" value="${this.xl}" name="loss"></risky-outcome>
              <risky-outcome ?interactive=${this.interactive} probability="${this.pw}" value="${this.xw}" name="win"></risky-outcome>`:""}
        </risky-option><span class="query"
         >${"choice"===this.state?"?":"fixation"===this.state?"+":x$2`â`}</span
        ><risky-option class="sure" ?interactive=${this.interactive} @risky-outcome-change=${this.sureChange.bind(this)}>
          ${"choice"===this.state?x$2`
              <risky-outcome ?interactive=${this.interactive} probability="1" value="${this.xs}" name="sure"></risky-outcome>`:""}
        </risky-option>
      </div>`}}customElements.define("risky-choice",RiskyChoice);class RiskyTask extends ProspectableElement{static get properties(){return{duration:{attribute:"duration",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}constructor(){super(),this.duration=2e3,this.iti=2e3,this.trials=5,this.running=!1,this.states=["resetted","iti","stimulus","ended"],this.state="resetted",this.range={},this.range.xl={start:0,stop:0,step:1},this.range.xw={start:10,stop:30,step:1},this.range.pw={start:.1,stop:.9,step:.1},this.range.xs={start:5,stop:15,step:1},this.range.xl.values=range$1(this.range.xl.start,this.range.xl.stop+.01,this.range.xl.step),this.range.xw.values=range$1(this.range.xw.start,this.range.xw.stop+.01,this.range.xw.step),this.range.pw.values=range$1(this.range.pw.start,this.range.pw.stop+.01,this.range.pw.step),this.range.xs.values=range$1(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step),this.firstUpdate=!0,this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.trial=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.runner=void 0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div class="holder">
        <risky-choice state="${"stimulus"===this.state?"choice":"iti"===this.state?"fixation":"blank"}" probability="${this.pw}" win="${this.xw}" loss="${this.xl}" sure="${this.xs}"></risky-choice>
      </div>`}update(t){super.update(t),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=now()-this.pauseTime,this.pauseTime=0),this.runner=interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=now())),this.firstUpdate=!1}reset(){this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0}run(){const t=now(),e=this.baseTime?t-this.baseTime:0,i=this.baseTime?e-this.startTime:0;this.lastTime=e,"resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("risky-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&i>=this.iti?(this.trial+=1,this.state="stimulus",this.startTime=e,this.xl=this.range.xl.values[Math.floor(Math.random()*this.range.xl.values.length)],this.xw=this.range.xw.values[Math.floor(Math.random()*this.range.xw.values.length)],this.pw=this.range.pw.values[Math.floor(Math.random()*this.range.pw.values.length)],this.xs=this.range.xs.values[Math.floor(Math.random()*this.range.xs.values.length)],this.vDiff=this.xw*this.pw+this.xl*(1-this.pw)-this.xs,this.gamblePayoff=Math.random()<this.pw?this.xw:this.xl,this.surePayoff=this.xs,this.better=this.vDiff>0?"gamble":this.vDiff<0?"sure":"equal",this.dispatchEvent(new CustomEvent("risky-trial-start",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0}))):"stimulus"===this.state&&i>=this.duration&&(this.dispatchEvent(new CustomEvent("risky-trial-end",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.dispatchEvent(new CustomEvent("risky-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e))}}customElements.define("risky-task",RiskyTask);class CPTEquationPG2W extends CPTEquation{static get properties(){return{p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},w:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.p=.75,this.g=CPTMath.g.DEFAULT,this.alignState()}alignState(){this.w=CPTMath.pg2w(this.p,this.g)}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-equation-pg2w-change",{detail:{p:this.p,g:this.g,w:this.w},bubbles:!0}))}pInput(t){this.p=parseFloat(t.target.value),this.alignState(),this.sendEvent()}gInput(t){this.g=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i;this.numeric?(t=x$2`<decidables-spinner class="p bottom"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step="0.01"
          .value=${this.p}
          @input=${this.pInput.bind(this)}
        >
          <var class="math-var">p</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="g bottom"
          ?disabled=${!this.interactive}
          min=${CPTMath.g.MIN}
          max=${CPTMath.g.MAX}
          step=${CPTMath.g.STEP}
          .value=${this.g}
          @input=${this.gInput.bind(this)}
        >
          <var class="math-var">Î³</var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="w bottom"
          disabled
          min="0"
          max="1"
          step=".01"
          .value=${+this.w.toFixed(2)}
        >
          <var class="math-var">w</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var p">p</var>`,e=x$2`<var class="math-var g">Î³</var>`,i=x$2`<var class="math-var w">w</var>`);const r=x$2`
      <tr>
        <td rowspan="2">
          ${i}<span class="equals">=</span>
        </td>
        <td class="underline">
          ${t}<sup class="exp">${e}</sup>
        </td>
      </tr>
      <tr>
        <td>
          <span class="bracket tight">[</span>${t}<sup class="exp">${e}</sup><span class="plus">+</span><span class="paren tight">(</span>1<span class="minus">â</span>${t}<span class="paren tight">)</span><sup class="exp">${e}</sup><span class="bracket tight">]</span><sup class="exp">1/${e}</sup>
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${r}
          </tbody>
        </table>
      </div>`}}customElements.define("cpt-equation-pg2w",CPTEquationPG2W);class CPTEquationVW2U extends CPTEquation{static get properties(){return{v:{attribute:"value",converter:DecidablesConverterArray,reflect:!0},w:{attribute:"weight",converter:DecidablesConverterArray,reflect:!0},n:{attribute:"outcomes",type:Number,reflect:!0},u:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.v=[10,0],this.w=[.75,.25],this.n=2,this.nMax=4,this.vMax=new Array(this.nMax).fill(0),this.wMax=new Array(this.nMax).fill(0),this.alignState()}alignState(){this.v=this.v.length<this.n?this.v.concat(this.vMax.slice(this.v.length,this.n)):this.v.length>this.n?this.v.slice(0,this.n):this.v,this.w=this.w.length<this.n?this.w.concat(this.wMax.slice(this.w.length,this.n)):this.w.length>this.n?this.w.slice(0,this.n):this.w,this.v.forEach((t,e)=>{this.vMax[e]=t}),this.w.forEach((t,e)=>{this.wMax[e]=t}),this.u=this.v.reduce((t,e,i)=>t+e*this.w[i],0)}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-equation-vw2u-change",{detail:{v:this.v,w:this.w,n:this.n,u:this.u},bubbles:!0}))}vInput(t,e){this.v[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}wInput(t,e){this.w[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}nInput(t){this.n=parseFloat(t.target.value),this.alignState(),this.sendEvent()}vTemplate(t="",e="",i=!1){let r;if(i){const i=Number.parseInt(t,10)-1;r=x$2`<decidables-spinner class="v"
          ?disabled=${!this.interactive}
          .value=${this.v[i]}
          @input=${this.vInput.bind(this,i)}
        >
          <var class="math-var">v<sub class="subscript ${e}">${t}</sub></var>
        </decidables-spinner>`}else r=x$2`<var class="math-var v">v<sub class="subscript ${e}">${t}</sub></var>`;return r}wTemplate(t="",e="",i=!1){let r;if(i){const i=Number.parseInt(t,10)-1;r=x$2`<decidables-spinner class="w"
          ?disabled=${!this.interactive}
          min="0"
          max="1"
          step=".001"
          .value=${this.w[i]}
          @input=${this.wInput.bind(this,i)}
        >
          <var class="math-var">w<sub class="subscript ${e}">${t}</sub></var>
        </decidables-spinner>`}else r=x$2`<var class="math-var w">w<sub class="subscript ${e}">${t}</sub></var>`;return r}willUpdate(){this.alignState()}render(){let t,e;this.numeric?(t=x$2`<decidables-spinner class="u"
          disabled
          .value=${+this.u.toFixed(3)}
        >
          <var class="math-var">U</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="n"
          ?disabled=${!this.interactive}
          min="1"
          max="4"
          step="1"
          .value=${this.n}
          @input=${this.nInput.bind(this)}
        >
          <var class="math-var">n</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var u">U</var>`,e=x$2`<var class="math-var subscript">n</var>`);const i=x$2`
      <tr>
        <td>
          ${t}<span class="equals">=</span>
        </td>
        <td>
          <div class="summation">
            <span class="tight">${e}</span>
            <span class="tight"><var class="math-greek sigma">Î£</var></span>
            <span class="tight"><var class="math-var subscript tight">i</var><span class="equals subscript">=</span><span class="subscript tight">1</span></span>
          </div>
        </td>
        <td>
          ${this.vTemplate("i","math-var",!1)}&nbsp;${this.wTemplate("i","math-var",!1)}<span class="equals">=</span>
        </td>
        <td>
          ${this.numeric?Array(this.nMax).fill().map((t,e)=>e<this.n?x$2`<span class="addend tight" ${F({in:d,out:d})}>${0!==e?x$2`<span class="plus">+</span>`:x$2``}${this.vTemplate(e+1,"math-num",!0)}&nbsp;${this.wTemplate(e+1,"math-num",!0)}</span>`:null):x$2`${this.vTemplate("1","math-num",!1)}&nbsp;${this.wTemplate("1","math-num",!1)}<span class="plus">+</span><span class="ellipsis">â¦</span><span class="plus">+</span>${this.vTemplate("n","math-var",!1)}&nbsp;${this.wTemplate("n","math-var",!1)}`}
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${i}
          </tbody>
        </table>
      </div>`}}customElements.define("cpt-equation-vw2u",CPTEquationVW2U);class CPTEquationXAL2V extends CPTEquation{static get properties(){return{x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.x=10,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.alignState()}alignState(){this.v=CPTMath.xal2v(this.x,this.a,this.l)}sendEvent(){this.dispatchEvent(new CustomEvent("cpt-equation-xal2v-change",{detail:{x:this.x,a:this.a,l:this.l,v:this.v},bubbles:!0}))}xInput(t){this.x=parseFloat(t.target.value),this.alignState(),this.sendEvent()}aInput(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}lInput(t){this.l=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r;this.numeric?(t=x$2`<decidables-spinner class="x bottom"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.x}
          @input=${this.xInput.bind(this)}
        >
          <var class="math-var">x</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="a bottom"
          ?disabled=${!this.interactive}
          min=${CPTMath.a.MIN}
          max=${CPTMath.a.MAX}
          step=${CPTMath.a.STEP}
          .value=${this.a}
          @input=${this.aInput.bind(this)}
        >
          <var class="math-var">Î±</var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="l bottom"
          ?disabled=${!this.interactive}
          min=${CPTMath.l.MIN}
          step=${CPTMath.l.STEP}
          .value=${this.l}
          @input=${this.lInput.bind(this)}
        >
          <var class="math-var">Î»</var>
        </decidables-spinner>`,r=x$2`<decidables-spinner class="v bottom" disabled step=".001" .value="${+this.v.toFixed(3)}">
          <var class="math-var">v</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var x">x</var>`,e=x$2`<var class="math-var a">Î±</var>`,i=x$2`<var class="math-var l">Î»</var>`,r=x$2`<var class="math-var v">v</var>`);const n=x$2`
      <tr>
        <td rowspan="2">
          ${r}<span class="equals">=</span><span class="brace tight">{</span>
        </td>
        <td class="left">
          ${t}<sup class="exp">${e}</sup>,&emsp;if ${t}<span class="equals">&ge;</span>0
        </td>
      </tr>
      <tr>
        <td class="left">
          <span class="minus tight">â</span>${i}<span class="paren tight">(</span><span class="minus tight">â</span>${t}<span class="paren tight">)</span><sup class="exp">${e}</sup>,&emsp;if ${t}<span class="equals">&lt;</span>0
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("cpt-equation-xal2v",CPTEquationXAL2V);class CPTExample extends ProspectableElement{static get styles(){return[super.styles,i$6`
        :host {
          ---border: var(--border, 1px solid var(---color-border));
          display: inline-block;

          margin-bottom: 1rem;
        }

        .holder {
          display: flex;
        }

        .body {
          display: flex;

          flex-wrap: wrap;

          align-items: center;
          justify-content: left;

          padding: 0.625rem;

          border: var(---border);
          border-radius: 0.25rem;
        }

        .body ::slotted(*) {
          margin: 0.625rem;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > rdk-task + sdt-response,
        ::slotted(rdk-task) + ::slotted(sdt-response) { */
        /* .body ::slotted(sdt-response) {
          margin-left: 0;
        } */

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > sdt-control + rdk-task,
        ::slotted(sdt-control) + ::slotted(rdk-task) {
          margin-left: 0;
        } */
        /* .body ::slotted(rdk-task) {
          margin-left: 0;
        } */
      `]}render(){return x$2`
      <div class="holder">
        <div class="body">
          <slot>Empty!</slot>
        </div>
      </div>`}}customElements.define("cpt-example",CPTExample);class CPTExampleHuman extends CPTExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},a:{attribute:!1,type:Number,reflect:!1},l:{attribute:!1,type:Number,reflect:!1},g:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trials=10,this.duration=2e3,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.cptFit=null,this.cptParameters=null,this.cptProbability=null,this.cptValue=null,this.decisionSpace=null,this.prospectableControl=null,this.prospectableResponse=null,this.riskyTask=null}connectedCallback(){super.connectedCallback(),this.cptFit=this.querySelector("cpt-fit"),this.cptParameters=this.querySelector("cpt-parameters"),this.cptProbability=this.querySelector("cpt-probability"),this.cptValue=this.querySelector("cpt-value"),this.decisionSpace=this.querySelector("decision-space"),this.prospectableControl=this.querySelector("prospectable-control"),this.prospectableResponse=this.querySelector("prospectable-response"),this.riskyTask=this.querySelector("risky-task"),this.cptFit&&this.cptFit.addEventListener("cpt-fit-update",t=>{this.a=t.detail.a,this.l=t.detail.l,this.g=t.detail.g}),this.prospectableControl&&(this.prospectableControl.addEventListener("prospectable-control-trials",t=>{this.trials=t.detail.trials}),this.prospectableControl.addEventListener("prospectable-control-duration",t=>{this.duration=t.detail.duration}),this.prospectableControl.addEventListener("prospectable-control-run",()=>{this.riskyTask&&(this.riskyTask.running=!0)}),this.prospectableControl.addEventListener("prospectable-control-pause",()=>{this.riskyTask&&(this.riskyTask.running=!1)}),this.prospectableControl.addEventListener("prospectable-control-reset",()=>{this.riskyTask&&this.riskyTask.reset(),this.prospectableResponse&&this.prospectableResponse.reset(),this.decisionSpace&&this.decisionSpace.clear(),this.cptFit&&this.cptFit.clear()})),this.prospectableResponse&&this.prospectableResponse.addEventListener("prospectable-response",t=>{this.decisionSpace&&this.decisionSpace.set(t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString()),this.cptFit&&this.cptFit.set(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())}),this.riskyTask&&(this.riskyTask.addEventListener("risky-trial-start",t=>{this.prospectableResponse&&this.prospectableResponse.start(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.gamblePayoff,t.detail.surePayoff,t.detail.better,t.detail.trial)}),this.riskyTask.addEventListener("risky-trial-end",()=>{this.prospectableResponse&&this.prospectableResponse.stop()}),this.riskyTask.addEventListener("risky-block-end",()=>{this.prospectableControl&&this.prospectableControl.complete()}))}update(t){super.update(t),this.cptParameters&&(this.cptParameters.a=null!=this.cptParameters.a?this.a:void 0,this.cptParameters.l=null!=this.cptParameters.l?this.l:void 0,this.cptParameters.g=null!=this.cptParameters.g?this.g:void 0),this.cptProbability&&(this.cptProbability.g=this.g),this.cptValue&&(this.cptValue.a=this.a,this.cptValue.l=this.l),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g),this.prospectableControl&&(this.prospectableControl.trials=null!=this.prospectableControl.trials?this.trials:void 0,this.prospectableControl.duration=null!=this.prospectableControl.trials?this.duration:void 0),this.prospectableResponse&&(this.prospectableResponse.trialTotal=this.trials),this.riskyTask&&(this.riskyTask.trials=this.trials,this.riskyTask.duration=this.duration,this.riskyTask.iti=this.duration)}}customElements.define("cpt-example-human",CPTExampleHuman);class CPTExampleInteractive extends CPTExample{static get properties(){return{a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}constructor(){super(),this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.cptCalculation=null,this.cptParameters=null,this.cptProbability=null,this.cptSpace=null,this.cptValue=null,this.decisionSpace=null,this.riskyChoice=null}connectedCallback(){super.connectedCallback(),this.cptCalculation=this.querySelector("cpt-calculation"),this.cptParameters=this.querySelector("cpt-parameters"),this.cptProbability=this.querySelector("cpt-probability"),this.cptSpace=this.querySelector("cpt-space"),this.cptValue=this.querySelector("cpt-value"),this.decisionSpace=this.querySelector("decision-space"),this.riskyChoice=this.querySelector("risky-choice"),this.cptCalculation&&this.cptCalculation.addEventListener("cpt-calculation-change",t=>{this.a=t.detail.a,this.l=t.detail.l,this.g=t.detail.g,this.xl=t.detail.xl,this.xw=t.detail.xw,this.pw=t.detail.pw,this.xs=t.detail.xs}),this.cptParameters&&(this.cptParameters.addEventListener("cpt-parameters-a",t=>{this.a=t.detail.a}),this.cptParameters.addEventListener("cpt-parameters-l",t=>{this.l=t.detail.l}),this.cptParameters.addEventListener("cpt-parameters-g",t=>{this.g=t.detail.g})),this.cptProbability&&this.cptProbability.addEventListener("cpt-probability-change",t=>{this.g=t.detail.g,this.pw=t.detail.p}),this.cptValue&&this.cptValue.addEventListener("cpt-value-change",t=>{this.a=t.detail.a,this.l=t.detail.l,"default"===t.detail.name?this.xs=t.detail.x:"gamble"===t.detail.name&&(this.xw=t.detail.x)}),this.riskyChoice&&this.riskyChoice.addEventListener("risky-choice-change",t=>{this.xl=t.detail.xl,this.xw=t.detail.xw,this.pw=t.detail.pw,this.xs=t.detail.xs}),this.requestUpdate()}update(t){super.update(t),this.cptCalculation&&(this.cptCalculation.a=this.a,this.cptCalculation.l=this.l,this.cptCalculation.g=this.g,this.cptCalculation.xl=this.xl,this.cptCalculation.xw=this.xw,this.cptCalculation.pw=this.pw,this.cptCalculation.xs=this.xs),this.cptParameters&&(this.cptParameters.a=null!=this.cptParameters.a?this.a:void 0,this.cptParameters.l=null!=this.cptParameters.l?this.l:void 0,this.cptParameters.g=null!=this.cptParameters.g?this.g:void 0),this.cptProbability&&this.cptProbability.set(this.pw,this.g,"default",""),this.cptSpace&&(this.cptSpace.a=this.a,this.cptSpace.l=this.l,this.cptSpace.g=this.g,this.cptSpace.xl=this.xl,this.cptSpace.xw=this.xw,this.cptSpace.pw=this.pw,this.cptSpace.xs=this.xs),this.cptValue&&(this.cptValue.set(this.xs,this.a,this.l,"default","s"),this.cptValue.set(this.xw,this.a,this.l,"gamble","g","default")),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g,this.decisionSpace.xl=this.xl,this.decisionSpace.xw=this.xw,this.decisionSpace.pw=this.pw,this.decisionSpace.xs=this.xs),this.riskyChoice&&(this.riskyChoice.xl=this.xl,this.riskyChoice.xw=this.xw,this.riskyChoice.pw=this.pw,this.riskyChoice.xs=this.xs)}}customElements.define("cpt-example-interactive",CPTExampleInteractive);class CPTExampleModel extends CPTExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}constructor(){super(),this.trials=10,this.duration=2e3,this.a=CPTMath.a.DEFAULT,this.l=CPTMath.l.DEFAULT,this.g=CPTMath.g.DEFAULT,this.xl=0,this.xw=20,this.pw=.5,this.xs=10,this.cptParameters=null,this.cptProbability=null,this.cptValue=null,this.decisionSpace=null,this.prospectableControl=null,this.prospectableResponse=null,this.riskyTask=null}connectedCallback(){super.connectedCallback(),this.cptParameters=this.querySelector("cpt-parameters"),this.cptProbability=this.querySelector("cpt-probability"),this.cptValue=this.querySelector("cpt-value"),this.decisionSpace=this.querySelector("decision-space"),this.prospectableControl=this.querySelector("prospectable-control"),this.prospectableResponse=this.querySelector("prospectable-response"),this.riskyTask=this.querySelector("risky-task"),this.cptParameters&&(this.cptParameters.addEventListener("cpt-parameters-a",t=>{this.a=t.detail.a}),this.cptParameters.addEventListener("cpt-parameters-l",t=>{this.l=t.detail.l}),this.cptParameters.addEventListener("cpt-parameters-g",t=>{this.g=t.detail.g})),this.cptProbability&&(this.cptProbability.addEventListener("cpt-probability-change",t=>{this.g=t.detail.g}),this.cptProbability.addEventListener("prospectable-response",t=>{this.prospectableResponse&&this.prospectableResponse.responded(t.detail.response),this.decisionSpace&&this.decisionSpace.set(t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())})),this.cptValue&&(this.cptValue.addEventListener("cpt-value-change",t=>{this.a=t.detail.a,this.l=t.detail.l}),this.cptProbability||this.cptValue.addEventListener("prospectable-response",t=>{this.prospectableResponse&&this.prospectableResponse.responded(t.detail.response),this.decisionSpace&&this.decisionSpace.set(t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())})),this.prospectableControl&&(this.prospectableControl.addEventListener("prospectable-control-trials",t=>{this.trials=t.detail.trials}),this.prospectableControl.addEventListener("prospectable-control-duration",t=>{this.duration=t.detail.duration}),this.prospectableControl.addEventListener("prospectable-control-run",()=>{this.cptProbability&&this.cptProbability.resumeTrial(),this.cptValue&&this.cptValue.resumeTrial(),this.riskyTask&&(this.riskyTask.running=!0)}),this.prospectableControl.addEventListener("prospectable-control-pause",()=>{this.cptProbability&&this.cptProbability.pauseTrial(),this.cptValue&&this.cptValue.pauseTrial(),this.riskyTask&&(this.riskyTask.running=!1)}),this.prospectableControl.addEventListener("prospectable-control-reset",()=>{this.cptProbability&&this.cptProbability.clear(),this.cptValue&&this.cptValue.clear(),this.riskyTask&&this.riskyTask.reset(),this.prospectableResponse&&this.prospectableResponse.reset(),this.decisionSpace&&this.decisionSpace.clear()})),this.riskyTask&&(this.riskyTask.addEventListener("risky-trial-start",t=>{this.prospectableResponse&&this.prospectableResponse.start(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.gamblePayoff,t.detail.surePayoff,t.detail.better,t.detail.trial),this.vw=CPTMath.xal2v(this.xw,this.a,this.l),this.vl=CPTMath.xal2v(this.xl,this.a,this.l),this.ww=CPTMath.pg2w(this.pw,this.g),this.wl=1-this.ww,this.vs=CPTMath.xal2v(this.xs,this.a,this.l),this.ug=this.vw*this.ww+this.vl*this.wl,this.us=this.vs;const e=CPTMath.xal2v(t.detail.xw,this.a,this.l)*CPTMath.pg2w(t.detail.pw,this.g)+CPTMath.xal2v(t.detail.xl,this.a,this.l)*(1-CPTMath.pg2w(t.detail.pw,this.g))>CPTMath.xal2v(t.detail.xs,this.a,this.l)?"gamble":"sure";this.cptProbability&&this.cptProbability.trial(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.trial,e),this.cptValue&&this.cptValue.trial(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.trial,e)}),this.riskyTask.addEventListener("risky-trial-end",()=>{this.prospectableResponse&&this.prospectableResponse.stop()}),this.riskyTask.addEventListener("risky-block-end",()=>{this.prospectableControl&&this.prospectableControl.complete()})),this.requestUpdate()}update(t){super.update(t),this.cptParameters&&(this.cptParameters.a=null!=this.cptParameters.a?this.a:void 0,this.cptParameters.l=null!=this.cptParameters.l?this.l:void 0,this.cptParameters.g=null!=this.cptParameters.g?this.g:void 0),this.cptProbability&&(this.cptProbability.g=this.g),this.cptValue&&(this.cptValue.a=this.a,this.cptValue.l=this.l),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g),this.prospectableControl&&(this.prospectableControl.trials=null!=this.prospectableControl.trials?this.trials:void 0,this.prospectableControl.duration=null!=this.prospectableControl.trials?this.duration:void 0),this.riskyTask&&(this.riskyTask.trials=this.trials,this.riskyTask.duration=this.duration,this.riskyTask.iti=this.duration)}}customElements.define("cpt-example-model",CPTExampleModel);var data$1={colors:{a:"#e41a1c",d:"#377eb8",k:"#4daf4a",v:"#984ea3",sooner:"#ff7f00",later:"#f781bf",larger:"#4545d0",smaller:"#f032e6",equal:"#10dbc9",nr:"#cccccc"}},colors$1=data$1.colors;class DiscountableElement extends DecidablesElement{static get properties(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}constructor(){super(),this.interactive=!1}static get colors(){return colors$1}static get lights(){return Object.keys(DiscountableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(DiscountableElement.colors[e],"#ffffff")(.5),t),{})}static get darks(){return Object.keys(DiscountableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(DiscountableElement.colors[e],"#000000")(.5),t),{})}static get styles(){return[super.styles,i$6`
        :host {
          ---color-a: var(--color-a, ${r$4(this.colors.a)});
          ---color-d: var(--color-d, ${r$4(this.colors.d)});
          ---color-k: var(--color-k, ${r$4(this.colors.k)});
          ---color-v: var(--color-v, ${r$4(this.colors.v)});
          ---color-sooner: var(--color-sooner, ${r$4(this.colors.sooner)});
          ---color-later: var(--color-later, ${r$4(this.colors.later)});
          ---color-larger: var(--color-larger, ${r$4(this.colors.larger)});
          ---color-smaller: var(--color-smaller, ${r$4(this.colors.smaller)});
          ---color-equal: var(--color-equal, ${r$4(this.colors.equal)});
          ---color-nr: var(--color-nr, ${r$4(this.colors.nr)});

          ---color-a-light: var(--color-a-light, ${r$4(this.lights.a)});
          ---color-d-light: var(--color-d-light, ${r$4(this.lights.d)});
          ---color-k-light: var(--color-k-light, ${r$4(this.lights.k)});
          ---color-v-light: var(--color-v-light, ${r$4(this.lights.v)});
          ---color-sooner-light: var(--color-sooner-light, ${r$4(this.lights.sooner)});
          ---color-later-light: var(--color-later-light, ${r$4(this.lights.later)});
          ---color-larger-light: var(--color-larger-light, ${r$4(this.lights.larger)});
          ---color-smaller-light: var(--color-smaller-light, ${r$4(this.lights.smaller)});
          ---color-equal-light: var(--color-equal-light, ${r$4(this.lights.equal)});
          ---color-nr-light: var(--color-nr-light, ${r$4(this.lights.nr)});

          ---color-a-dark: var(--color-a-dark, ${r$4(this.darks.a)});
          ---color-d-dark: var(--color-d-dark, ${r$4(this.darks.d)});
          ---color-k-dark: var(--color-k-dark, ${r$4(this.darks.k)});
          ---color-v-dark: var(--color-v-dark, ${r$4(this.darks.v)});
          ---color-sooner-dark: var(--color-sooner-dark, ${r$4(this.darks.sooner)});
          ---color-later-dark: var(--color-later-dark, ${r$4(this.darks.later)});
          ---color-larger-dark: var(--color-larger-dark, ${r$4(this.darks.larger)});
          ---color-smaller-dark: var(--color-smaller-dark, ${r$4(this.darks.smaller)});
          ---color-equal-dark: var(--color-equal-dark, ${r$4(this.darks.equal)});
          ---color-nr-dark: var(--color-nr-dark, ${r$4(this.darks.nr)});
        }
      `]}}class DiscountableControl extends DiscountableElement{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{atribute:!1,type:String,reflect:!1}}}constructor(){super(),this.trials=void 0,this.duration=void 0,this.run=!1,this.pause=!1,this.reset=!1,this.states=["resetted","running","paused","ended"],this.state="resetted"}setTrials(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("discountable-control-trials",{detail:{trials:this.trials},bubbles:!0}))}setDuration(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("discountable-control-duration",{detail:{duration:this.duration},bubbles:!0}))}doRun(){this.state="running",this.dispatchEvent(new CustomEvent("discountable-control-run",{detail:{},bubbles:!0}))}doPause(){this.state="paused",this.dispatchEvent(new CustomEvent("discountable-control-pause",{detail:{},bubbles:!0}))}doReset(){this.state="resetted",this.dispatchEvent(new CustomEvent("discountable-control-reset",{detail:{},bubbles:!0}))}complete(){this.state="ended"}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .buttons {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.trials?x$2`<decidables-slider min="1" max="100" step="1" .value=${this.trials} @change=${this.setTrials.bind(this)} @input=${this.setTrials.bind(this)}>Trials</decidables-slider>`:x$2``}
        ${null!=this.duration?x$2`<decidables-slider min="10" max="4000" step="10" .value=${this.duration} @change=${this.setDuration.bind(this)} @input=${this.setDuration.bind(this)}>Duration</decidables-slider>`:x$2``}
        ${this.run||this.pause||this.reset?x$2`
            <div class="buttons">
              ${this.run?x$2`<decidables-button name="run" ?disabled=${"running"===this.state||"ended"===this.state} @click=${this.doRun.bind(this)}>Run</decidables-button>`:x$2``}
              ${this.pause?x$2`<decidables-button name="pause" ?disabled=${"running"!==this.state} @click=${this.doPause.bind(this)}>Pause</decidables-button>`:x$2``}
              ${this.reset?x$2`<decidables-button name="reset" ?disabled=${"resetted"===this.state} @click=${this.doReset.bind(this)}>Reset</decidables-button>`:x$2``}
            </div>
            `:x$2``}
      </div>`}}customElements.define("discountable-control",DiscountableControl);class DiscountableResponse extends DiscountableElement{static get properties(){return{feedback:{attribute:"feedback",type:Boolean,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trial=!1,this.feedback=!1,this.states=["off","waiting","feedback"],this.state="off",this.trialCount=0,this.trialTotal=0,this.as=0,this.ds=0,this.al=0,this.dl=0,this.responses=["first","second","nr"],this.response=void 0}start(t,e,i,r,n){this.state="waiting",this.as=t,this.ds=e,this.al=i,this.dl=r,this.trialCount=n,this.response=void 0}stop(){this.state="feedback",void 0===this.response&&(this.response="nr")}first(){this.responded("first")}second(){this.responded("second")}responded(t){this.state="feedback",this.response=t,this.dispatchEvent(new CustomEvent("discountable-response",{detail:{trial:this.trialCount,as:this.as,ds:this.ds,al:this.al,dl:this.dl,response:this.response},bubbles:!0}))}reset(){this.state="off",this.trialCount=0,this.response=void 0}keydown(t){"waiting"===this.state&&("ArrowLeft"===t.key?(this.responded("first"),t.preventDefault()):"ArrowRight"===t.key&&(this.responded("second"),t.preventDefault()))}connectedCallback(){super.connectedCallback(),window.addEventListener("keydown",this.keydown.bind(this))}disconnectedCallback(){window.removeEventListener("keydown",this.keydown.bind(this)),super.disconnectedCallback()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        /* Overall container */
        .holder {
          display: flex;

          flex-direction: column;
        }

        /* Trial messages */
        .trials {
          display: flex;

          flex-direction: column;

          justify-content: center;
        }

        .trial {
          text-align: center;
        }

        .trial .label {
          font-weight: 600;
        }

        /* Response buttons */
        .responses {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .response {
          width: 5.25rem;
        }

        .waiting[disabled] {
          --decidables-button-background-color: var(---color-element-enabled);
        }

        .selected[disabled][name="first"] {
          --decidables-button-background-color: var(---color-sooner);
        }

        .selected[disabled][name="second"] {
          --decidables-button-background-color: var(---color-later);
        }

        /* Feedback messages */
        .feedbacks {
          display: flex;

          flex-direction: row;

          justify-content: center;
        }

        /* Outcome feedback */
        .feedback {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;

          width: 5.25rem;
          height: 3.5rem;
          padding: 0.375rem 0.75rem;
          margin: 0.25rem;

          text-align: center;

          background-color: var(---color-element-background);
          border: 1px solid var(---color-element-border);
        }

        .feedback.first {
          background-color: var(---color-sooner-light);
        }

        .feedback.second {
          background-color: var(---color-later-light);
        }

        .feedback.nr {
          background-color: var(---color-nr-light);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${this.trial?x$2`
            <div class="trials">
              <div class="trial">
                <span class="label">Trial: </span
                ><span class="count">${this.trialCount}</span
                ><span class="of"> of </span
                ><span class="total">${this.trialTotal}</span>
              </div>
            </div>`:x$2``}
        <div class="responses">
          <decidables-button 
            name="first"
            class="response ${"feedback"===this.state&&"first"===this.response?"selected":"waiting"===this.state?"waiting":""}"
            ?disabled=${"waiting"!==this.state||!0!==this.interactive}
            @click=${this.first.bind(this)}
          >First</decidables-button>
          <decidables-button 
            name="second"
            class="response ${"feedback"===this.state&&"second"===this.response?"selected":"waiting"===this.state?"waiting":""}"
            ?disabled=${"waiting"!==this.state||!0!==this.interactive}
            @click=${this.second.bind(this)}
          >Second</decidables-button>
        </div>
        ${this.feedback?x$2`
            <div class="feedbacks">
              <div class="feedback
                ${"feedback"===this.state&&this.feedback?this.response:""}">
                ${"feedback"===this.state&&this.feedback?"first"===this.response?x$2`<span class="response">First</span>`:"second"===this.response?x$2`<span class="response">Second</span>`:x$2`<span class="response">No<br>Response</span>`:""}
              </div>
            </div>`:x$2``}
      </div>`}}customElements.define("discountable-response",DiscountableResponse);class HTDMath{static k={DEFAULT:.05,MIN:0,MAX:100,STEP:.001,JUMP:.01};static adk2v(t,e,i){return t/(1+i*e)}static adv2k(t,e,i){return(t-i)/(i*e)}}class HTDEquation extends DiscountableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}constructor(){super(),this.numeric=!1}static get styles(){return[super.styles,i$6`
        :host {
          display: block;

          margin: 1rem;
        }

        /* Containing <div> */
        .holder {
          display: flex;

          flex-direction: row;

          justify-content: left;
        }

        /* Overall <table> */
        .equation {
          text-align: center;
          white-space: nowrap;

          border-collapse: collapse;

          border: 0;
        }

        /* Modifies <td> */
        .underline {
          border-bottom: 1px solid var(---color-text);
        }

        /* Basic <span> and <var> w/modifiers */
        span,
        var {
          padding: 0 0.25rem;

          font-style: normal;
        }

        var {
          border-radius: var(---border-radius);
        }

        .tight {
          padding: 0;
        }

        .paren {
          font-size: 150%;
        }

        .bracket {
          font-size: 175%;
        }

        .brace {
          font-size: 200%;
        }

        .addend {
          position: relative;
          display: inline-block;
        }

        .comparison {
          position: relative;
          display: inline-block;

          font-size: 125%;
          font-weight: 600;
        }

        .function {
          display: inline-block;

          border-radius: var(---border-radius);
        }

        :host([numeric]) .function {
          padding: 0.25rem;
        }

        .exp {
          display: inline-block;

          font-size: 0.75rem;
        }

        .subscript {
          display: inline-block;

          font-size: 66.667%;
        }

        .summation {
          display: flex;

          flex-direction: column;

          line-height: 0.8;
        }

        .sigma {
          display: inline-block;

          font-size: 200%;
        }

        /* Input wrapping <label> */
        decidables-spinner {
          --decidables-spinner-input-width: 4rem;

          display: inline-block;

          padding: 0.125rem 0.375rem 0.375rem;

          line-height: 1.5;
          vertical-align: middle;

          border-radius: var(---border-radius);
        }

        .n {
          --decidables-spinner-input-width: 2rem;
        }

        .left {
          text-align: left;
        }

        .right {
          text-align: right;
        }

        .bottom {
          vertical-align: bottom;
        }

        .top {
          vertical-align: top;
        }

        /* Color scheme */
        /* .win {
          background: var(---color-better);
        }

        .loss {
          background: var(---color-worse);
        }

        .sure {
          background: var(---color-even);
        } */

        .a {
          background: var(---color-a-light);
        }

        .d {
          background: var(---color-d-light);
        }

        .k {
          background: var(---color-k-light);
        }

        .v {
          background: var(---color-v-light);
        }
      `]}}class HTDCalculation extends HTDEquation{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.numeric=!1,this.as=20,this.ds=5,this.al=50,this.dl=40,this.k=HTDMath.k.DEFAULT,this.alignState()}alignState(){this.vs=HTDMath.adk2v(this.as,this.ds,this.k),this.vl=HTDMath.adk2v(this.al,this.dl,this.k),this.vDiff=this.vs-this.vl}sendEvent(){this.dispatchEvent(new CustomEvent("htd-calculation-change",{detail:{as:this.as,ds:this.ds,al:this.al,dl:this.dl,k:this.k},bubbles:!0}))}asInput(t){this.as=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dsInput(t){this.ds=parseFloat(t.target.value),this.alignState(),this.sendEvent()}alInput(t){this.al=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dlInput(t){this.dl=parseFloat(t.target.value),this.alignState(),this.sendEvent()}kInput(t){this.k=parseFloat(t.target.value),this.alignState(),this.sendEvent()}static get styles(){return[super.styles,i$6`
        /* :host {
          display: inline-block;
        } */

        var {
          border-radius: var(---border-radius);
        }

        decidables-spinner {
          border-radius: var(---border-radius);
        }
      `]}willUpdate(){this.alignState()}render(){let t,e,i,r,n,a,s,o;this.numeric?(t=x$2`<decidables-spinner class="a as"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.as}
          @input=${this.asInput.bind(this)}
        >
          <var class="math-var">A<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="d ds"
          ?disabled=${!this.interactive}
          min="0"
          step="1"
          .value=${this.ds}
          @input=${this.dsInput.bind(this)}
        >
          <var class="math-var">D<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="a al"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.al}
          @input=${this.alInput.bind(this)}
        >
          <var class="math-var">A<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,r=x$2`<decidables-spinner class="d dl"
          ?disabled=${!this.interactive}
          min="0"
          step="1"
          .value=${this.dl}
          @input=${this.dlInput.bind(this)}
        >
          <var class="math-var">D<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,n=x$2`<decidables-spinner class="k"
          ?disabled=${!this.interactive}
          min=${HTDMath.k.MIN}
          max=${HTDMath.k.MAX}
          step=${HTDMath.k.STEP}
          .value=${+this.k.toFixed(3)}
          @input=${this.kInput.bind(this)}
        >
          <var class="math-var">k</var>
        </decidables-spinner>`,a=x$2`<decidables-spinner class="v vs"
          disabled
          .value=${+this.vs.toFixed(2)}
        >
          <var class="math-var">V<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,s=x$2`<decidables-spinner class="v vl"
          disabled
          .value=${+this.vl.toFixed(2)}
        >
          <var class="math-var">V<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,o=x$2`${this.vDiff>0?x$2`<span class="comparison" ${F({in:v})}>&gt;</span>`:this.vDiff<0?x$2`<span class="comparison" ${F({in:v})}>&lt;</span>`:x$2`<span class="comparison" ${F({in:v})}>=</span>`}`):(t=x$2`<var class="math-var a as">A<sub class="subscript">ss</sub></var>`,e=x$2`<var class="math-var d ds">D<sub class="subscript">ss</sub></var>`,i=x$2`<var class="math-var a al">A<sub class="subscript">ll</sub></var>`,r=x$2`<var class="math-var d dl">D<sub class="subscript">ll</sub></var>`,n=x$2`<var class="math-var k">k</var>`,a=x$2`<var class="math-var v vs">V<sub class="subscript">ss</sub></var>`,s=x$2`<var class="math-var v vl">V<sub class="subscript">ll</sub></var>`,o=x$2`<span class="comparison">â</span>`);const l=x$2`
      <tr>
        <td class="underline">
          ${t}
        </td>
        <td rowspan="2">
          ${o}
        </td>
        <td class="underline">
          ${i}
        </td>
      </tr>
      <tr>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${n}${e}<span class="paren tight">)</span>
        </td>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${n}${r}<span class="paren tight">)</span>
        </td>
      </tr>
      <tr>
        <td class="right">
          ${a}
        </td>
        <td>
          ${o}
        </td>
        <td class="left">
          ${s}
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${l}
          </tbody>
        </table>
      </div>`}}customElements.define("htd-calculation",HTDCalculation);class HTDCurves extends(DecidablesMixinResizeable(DiscountableElement)){static get properties(){return{a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},k:{attribute:"k",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.scale={value:{min:0,max:80,step:1,round:Math.round},time:{min:0,max:100,step:1,round:Math.round}},this.a=null,this.d=null,this.label="",this.k=HTDMath.k.DEFAULT,this.options=[{name:"default",a:this.a,d:this.d,label:this.label}],this.as=null,this.ds=null,this.al=null,this.dl=null,this.trialCount=null,this.response=null,this.alignState()}alignState(){this.options[0].a=this.a,this.options[0].d=this.d,this.options[0].label=this.label,this.options.forEach(t=>{t.v=HTDMath.adk2v(t.a,t.d,this.k)}),this.v=this.options[0].v}trial(t,e,i,r,n,a){this.trialCount&&this.removeOption(`${this.trialCount}-s`),this.trialCount&&this.removeOption(`${this.trialCount}-l`),this.as=t,this.ds=e,this.al=i,this.dl=r,this.trialCount=n,this.response=a,this.setOption(this.as,this.ds,`${this.trialCount}-s`,"s",!0),this.setOption(this.al,this.dl,`${this.trialCount}-l`,"l",!0)}pauseTrial(){const t=select$5(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum(t=>(t.paused=!0,t))}resumeTrial(){select$5(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum(t=>(t.paused=!1,t)),this.requestUpdate()}clearOptions(){this.options.splice(1),this.requestUpdate()}removeOption(t){this.options=this.options.filter(e=>e.name!==t),this.requestUpdate()}getOption(t="default"){return this.options.find(e=>e.name===t)}setOption(t,e,i="default",r="",n=!1){"default"===i&&(this.a=t,this.d=e,this.label=r);const a=this.options.find(t=>t.name===i);void 0===a?this.options.push({name:i,a:t,d:e,label:r,trial:n,new:n}):(a.a=t,a.d=e,a.label=r),this.requestUpdate()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 27rem;
          height: 15rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .axis-x path,
        .axis-x line,
        .axis-y path,
        .axis-y line {
          stroke: var(---color-element-border);
          /* shape-rendering: crispEdges; */
        }

        .option .interactive {
          filter: url("#shadow-2");
        }

        .option .interactive:hover {
          filter: url("#shadow-4");
        }

        .option .body.interactive:has(~ .point:hover) {
          filter: url("#shadow-4");
        }

        .option .interactive:active {
          filter: url("#shadow-8");
        }

        .option .body.interactive:has(~ .point:active) {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .option .interactive:focus-within {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .option .body.interactive:has(~ .point:focus-within) {
          filter: url("#shadow-8");
        }

        .gradient.sooner stop {
          stop-color: var(---color-sooner);
        }

        .gradient.later stop {
          stop-color: var(---color-later);
        }

        .stop-0,
        .stop-before {
          stop-opacity: 0;
        }

        .stop-after,
        .stop-100 {
          stop-opacity: 1;
        }

        .fill {
          fill: var(---color-element-enabled);
          fill-opacity: 0.5;
          stroke: none;
        }

        .interactive .fill {
          cursor: move;

          outline: none;
        }

        .sooner .fill {
          fill: var(---color-sooner);
        }

        .later .fill {
          fill: var(---color-later);
        }

        .trial.sooner .fill {
          fill: url("#sooner-gradient");
        }

        .trial.later .fill {
          fill: url("#later-gradient");
        }

        .bar {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .interactive .bar {
          cursor: ew-resize;

          outline: none;
        }

        .point .mark {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: middle;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        .point.interact {
          cursor: ns-resize;

          outline: none;
        }

        .curve {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .curve.interactive {
          cursor: nwse-resize;

          outline: none;
        }

        /* Make larger targets for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }
      `]}render(){return x$2``}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height;let r,n;e/i>1.8?(n=i,r=1.8*n):(r=e,n=r/1.8);const a=2*this.rem,s=3*this.rem,o=3*this.rem,l=n-(a+s),c=r-(o+2*this.rem),g=parseInt(this.getComputedStyleValue("---transition-duration"),10),d=linear().domain([this.scale.time.min,this.scale.time.max]).range([0,c]),u=linear().domain([this.scale.value.min,this.scale.value.max]).range([l,0]),B=shapeLine().x(t=>d(t.d)).y(t=>u(t.v)),F=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),h=F.enter().append("svg").classed("main",!0);h.html(DiscountableElement.svgDefs);const Q=h.append("defs"),U=Q.append("linearGradient").classed("gradient sooner",!0).attr("id","sooner-gradient");U.append("stop").classed("stop-0",!0).attr("offset","0"),U.append("stop").classed("stop-before animation",!0).attr("offset","1"),U.append("stop").classed("stop-after animation",!0).attr("offset","1"),U.append("stop").classed("stop-100",!0).attr("offset","1");const I=Q.append("linearGradient").classed("gradient later",!0).attr("id","later-gradient");I.append("stop").classed("stop-0",!0).attr("offset","0"),I.append("stop").classed("stop-before animation",!0).attr("offset","1"),I.append("stop").classed("stop-after animation",!0).attr("offset","1"),I.append("stop").classed("stop-100",!0).attr("offset","1");const b=h.merge(F).attr("viewBox",`0 0 ${r} ${n}`),p=h.append("g").classed("plot",!0),y=b.select(".plot").attr("transform",`translate(${o}, ${a})`);p.append("clipPath").attr("id","clip-htd-curves").append("rect"),y.select("clipPath rect").attr("height",l+1).attr("width",c+1);const m=p.append("g").classed("underlayer",!0),C=y.select(".underlayer");m.append("rect").classed("background",!0),C.select(".background").attr("height",l).attr("width",c),m.append("g").classed("axis-x",!0);C.select(".axis-x").attr("transform",`translate(0, ${u(0)})`).transition().duration(2*g).ease(cubicOut).call(axisBottom(d)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const f=m.append("text").classed("title-x",!0).attr("text-anchor","middle");f.append("tspan").classed("name",!0).text("Delay ("),f.append("tspan").classed("math-var d",!0).text("D"),f.append("tspan").classed("name",!0).text(")"),C.select(".title-x").attr("transform",`translate(${c/2}, ${l+2.25*this.rem})`),m.append("g").classed("axis-y",!0);C.select(".axis-y").transition().duration(2*g).ease(cubicOut).call(axisLeft(u)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const x=m.append("text").classed("title-y",!0).attr("text-anchor","middle");x.append("tspan").classed("name",!0).text("Value ("),x.append("tspan").classed("math-var v",!0).text("V"),x.append("tspan").classed("name",!0).text(")"),C.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${l/2})rotate(-90)`),p.append("g").classed("content",!0);const A=y.select(".content").selectAll(".option").data(this.options.filter(t=>null!==t.a&&null!==t.d),t=>t.name),v=A.enter().append("g").attr("class",t=>`option ${"s"===t.label?"sooner":"l"===t.label?"later":""} ${t.trial?"trial":""}`),L=v.append("g").classed("body",!0),R=L.append("g").classed("fill",!0).attr("clip-path","url(#clip-htd-curves)").each(t=>{t.trial&&b.selectAll(".gradient .animation").attr("offset",1)});R.append("path").classed("region",!0).attr("d",t=>{const e=range$1(d(t.d),d(0),-1).map(e=>({d:d.invert(e),v:HTDMath.adk2v(t.a,t.d-d.invert(e),this.k)}));return B([...e,{d:0,v:0},{d:t.d,v:0}])});const S=L.append("g").classed("bar",!0);S.append("line").classed("line",!0),S.append("line").classed("line touch",!0),S.selectAll(".line").attr("x1",t=>d(t.d)).attr("x2",t=>d(t.d)).attr("y1",u(0)).attr("y2",t=>u(t.a)).attr("stroke-dasharray",(t,e,i)=>{if(t.trial){return`0,${i[e].getTotalLength()}`}return"none"});L.append("g").classed("point",!0).append("circle").classed("mark touch",!0);const G=v.append("g").classed("curve",!0).attr("clip-path","url(#clip-htd-curves)");G.append("path").classed("path",!0),G.append("path").classed("path touch",!0),G.selectAll(".path").attr("d",t=>{const e=range$1(d(t.d),d(0),-1).map(e=>({d:d.invert(e),v:HTDMath.adk2v(t.a,t.d-d.invert(e),this.k)}));return B(e)}).attr("stroke-dasharray",(t,e,i)=>{if(t.trial){return`0,${i[e].getTotalLength()}`}return"none"});const E=v.append("g").classed("point top-point",!0);E.append("circle").classed("mark touch",!0),E.append("text").classed("label",!0),v.selectAll(".point").attr("transform",t=>`translate(${d(t.d)}, ${u(t.a)})`).attr("opacity",t=>t.trial?0:1);const V=v.merge(A),Z=V.filter((t,e,i)=>this.interactive&&!t.trial&&!select$5(i[e]).select(".body").classed("interactive")).select(".body");Z.classed("interactive",!0),Z.select(".fill").attr("tabindex",0).call(drag().subject((t,e)=>({x:d(e.d),y:u(e.a)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=d.invert(t.x),r=u.invert(t.y);e.d=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:this.scale.time.round(i),e.a=r<this.scale.value.min?this.scale.value.min:r>this.scale.value.max?this.scale.value.max:this.scale.value.round(r),"default"===e.name&&(this.d=e.d,this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)){let i=e.a,r=e.d;switch(t.key){case"ArrowUp":i+=t.shiftKey?1:5;break;case"ArrowDown":i-=t.shiftKey?1:5;break;case"ArrowRight":r+=t.shiftKey?1:5;break;case"ArrowLeft":r-=t.shiftKey?1:5}r=r<this.scale.time.min?this.scale.time.min:r>this.scale.time.max?this.scale.time.max:r,i=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:i,r===e.d&&i===e.a||(e.d=r,e.a=i,"default"===e.name&&(this.d=e.d,this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}}),Z.select(".bar").call(drag().subject((t,e)=>({x:d(e.d),y:u(e.a)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=d.invert(t.x);e.d=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:this.scale.time.round(i),"default"===e.name&&(this.d=e.d),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowLeft","ArrowRight"].includes(t.key)){let i=e.d;switch(t.key){case"ArrowRight":i+=t.shiftKey?1:5;break;case"ArrowLeft":i-=t.shiftKey?1:5}i=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:i,i!==e.d&&(e.d=i,"default"===e.name&&(this.d=e.d),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}}),V.filter((t,e,i)=>this.interactive&&!t.trial&&!select$5(i[e]).select(".top-point").classed("interact")).select(".top-point").classed("interact",!0).call(drag().subject((t,e)=>({x:d(e.d),y:u(e.a)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=u.invert(t.y);e.a=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:this.scale.value.round(i),"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown"].includes(t.key)){let i=e.a;switch(t.key){case"ArrowUp":i+=t.shiftKey?1:5;break;case"ArrowDown":i-=t.shiftKey?1:5}i=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:i,i!==e.a&&(e.a=i,"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}}),V.filter((t,e,i)=>this.interactive&&!select$5(i[e]).select(".curve").classed("interactive")).select(".curve").classed("interactive",!0).attr("tabindex",0).call(drag().subject(t=>({x:t.x,y:t.y})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",(t,e)=>{this.drag=!0;const i=e.d-d.invert(t.x),r=i<0?0:i>e.d?e.d:i,n=u.invert(t.y),a=n<=0?.001:n>e.a?e.a:n,s=HTDMath.adv2k(e.a,r,a);this.k=s<HTDMath.k.MIN?HTDMath.k.MIN:s>HTDMath.k.MAX?HTDMath.k.MAX:s,this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1)})).on("keydown",(t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let{k:i}=this;switch(t.key){case"ArrowUp":case"ArrowLeft":i*=t.shiftKey?.95:.85;break;case"ArrowDown":case"ArrowRight":i*=t.shiftKey?1/.95:1/.85}i=i<HTDMath.k.MIN?HTDMath.k.MIN:i>HTDMath.k.MAX?HTDMath.k.MAX:i,i!==this.k&&(this.k=i,this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}});const N=V.filter((t,e,i)=>(!this.interactive||t.trial)&&select$5(i[e]).select(".body").classed("interactive"));N.classed("interactive",!1),N.select(".fill").attr("tabindex",null).on("drag",null).on("keydown",null),N.select(".bar").on("drag",null).on("keydown",null),V.filter((t,e,i)=>(!this.interactive||t.trial)&&select$5(i[e]).select(".top-point").classed("interact")).select(".top-point").classed("interact",!1).on("drag",null).on("keydown",null),V.filter((t,e,i)=>!this.interactive&&select$5(i[e]).select(".curve").classed("interactive")).select(".curve").classed("interactive",!1).attr("tabindex",null).on("drag",null).on("keydown",null),V.filter(t=>t.new).each(()=>{b.selectAll(".gradient .animation").transition().duration(g).delay(g+g/10).ease(linear$1).attrTween("offset",()=>interpolate$1(1,0))}),V.filter(t=>t.new).selectAll(".bar .line").transition().duration(g).ease(linear$1).attrTween("stroke-dasharray",(t,e,i)=>{const r=i[e].getTotalLength();return interpolate$1(`0,${r}`,`${r},${r}`)}),V.filter(t=>t.new).selectAll(".point").transition().duration(g/10).delay(g).ease(linear$1).attrTween("opacity",()=>interpolate$1(0,1)),V.filter(t=>t.new).selectAll(".curve .path").transition().duration(g).delay(g+g/10).ease(linear$1).attrTween("stroke-dasharray",(t,e,i)=>{const r=i[e].getTotalLength();return interpolate$1(`0,${r}`,`${r},0`)}).on("end",t=>{t.new=!1,this.dispatchEvent(new CustomEvent("discountable-response",{detail:{trial:this.trialCount,as:this.as,ds:this.ds,al:this.al,dl:this.dl,response:this.response},bubbles:!0}))}),V.filter(t=>"s"===t.label).raise(),V.filter(t=>"l"===t.label).lower(),A.select(".fill .region").transition().duration(this.drag?0:this.firstUpdate?2*g:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:t.a,t.a),a=interpolate$1(void 0!==r.d?r.d:t.d,t.d);return t=>{r.a=n(t),r.d=a(t);const e=range$1(d(r.d),d(0),-1).map(t=>({d:d.invert(t),v:HTDMath.adk2v(r.a,r.d-d.invert(t),this.k)}));return B([...e,{d:0,v:0},{d:r.d,v:0}])}}),A.selectAll(".bar .line").transition().duration(this.drag?0:this.firstUpdate?2*g:g).ease(cubicOut).attrTween("x1",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:t.d,t.d);return t=>(r.d=n(t),`${d(r.d)}`)}).attrTween("x2",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:t.d,t.d);return t=>(r.d=n(t),`${d(r.d)}`)}).attrTween("y2",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:t.a,t.a);return t=>(r.a=n(t),`${u(r.a)}`)}),A.selectAll(".point").transition().duration(this.drag?0:this.firstUpdate?2*g:g).ease(cubicOut).attrTween("transform",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.d?r.d:t.d,t.d),a=interpolate$1(void 0!==r.a?r.a:t.a,t.a);return t=>(r.d=n(t),r.a=a(t),`translate(${d(r.d)}, ${u(r.a)})`)}),V.select(".point .label").text(t=>t.label),A.selectAll(".curve .path").transition().duration(this.drag?0:this.firstUpdate?2*g:g).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:t.a,t.a),a=interpolate$1(void 0!==r.d?r.d:t.d,t.d);return t=>{r.a=n(t),r.d=a(t);const e=range$1(d(r.d),d(0),-1).map(t=>({d:d.invert(t),v:HTDMath.adk2v(r.a,r.d-d.invert(t),this.k)}));return B(e)}}),A.exit().remove(),this.drag=!1,this.firstUpdate=!1}}function defined(t){return null!=t&&!Number.isNaN(t)}function ascendingDefined(t,e){return+defined(e)-+defined(t)||ascending$3(t,e)}function descendingDefined(t,e){return+defined(e)-+defined(t)||descending$1(t,e)}function nonempty(t){return null!=t&&""!=`${t}`}function finite(t){return isFinite(t)?t:NaN}function positive(t){return t>0&&isFinite(t)?t:NaN}function negative(t){return t<0&&isFinite(t)?t:NaN}function format(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof e?e(t):e;const i=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${formatYear(t.getUTCFullYear())}-${pad(t.getUTCMonth()+1,2)}-${pad(t.getUTCDate(),2)}${i||r||n||a?`T${pad(i,2)}:${pad(r,2)}${n||a?`:${pad(n,2)}${a?`.${pad(a,3)}`:""}`:""}Z`:""}`}function formatYear(t){return t<0?`-${pad(-t,6)}`:t>9999?`+${pad(t,6)}`:pad(t,4)}function pad(t,e){return`${t}`.padStart(e,"0")}customElements.define("htd-curves",HTDCurves);const re=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function parse(t,e){return re.test(t+="")?new Date(t):"function"==typeof e?e(t):e}function orderof(t){if(null==t)return;return descending$1(t[0],t[t.length-1])}const durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,durationMonth=2592e6,durationYear=31536e6,tickIntervals=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",1e3],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",6e4],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",36e5],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",864e5],["2 days",1728e5],["week",6048e5],["2 weeks",12096e5],["month",2592e6],["3 months",7776e6],["6 months",15552e6],["year",31536e6],["2 years",63072e6],["5 years",15768e7],["10 years",31536e7],["20 years",63072e7],["50 years",15768e8],["100 years",31536e8]],durations=new Map([["second",1e3],["minute",6e4],["hour",36e5],["day",864e5],["monday",6048e5],["tuesday",6048e5],["wednesday",6048e5],["thursday",6048e5],["friday",6048e5],["saturday",6048e5],["sunday",6048e5],["week",6048e5],["month",2592e6],["year",31536e6]]),timeIntervals=new Map([["second",second$2],["minute",timeMinute],["hour",timeHour],["day",timeDay],["monday",timeMonday],["tuesday",timeTuesday],["wednesday",timeWednesday],["thursday",timeThursday],["friday",timeFriday],["saturday",timeSaturday],["sunday",timeSunday],["week",timeSunday],["month",timeMonth],["year",timeYear]]),utcIntervals=new Map([["second",second$2],["minute",utcMinute$1],["hour",utcHour$1],["day",unixDay],["monday",utcMonday$1],["tuesday",utcTuesday$1],["wednesday",utcWednesday$1],["thursday",utcThursday$1],["friday",utcFriday$1],["saturday",utcSaturday$1],["sunday",utcSunday$1],["week",utcSunday$1],["month",utcMonth$1],["year",utcYear$1]]),intervalDuration=Symbol("intervalDuration"),intervalType=Symbol("intervalType");for(const[t,e]of timeIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="time";for(const[t,e]of utcIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="utc";const utcFormatIntervals=[["year",utcYear$1,"utc"],["month",utcMonth$1,"utc"],["day",unixDay,"utc",15552e6],["hour",utcHour$1,"utc",2592e5],["minute",utcMinute$1,"utc",216e5],["second",second$2,"utc",18e5]],timeFormatIntervals=[["year",timeYear,"time"],["month",timeMonth,"time"],["day",timeDay,"time",15552e6],["hour",timeHour,"time",2592e5],["minute",timeMinute,"time",216e5],["second",second$2,"time",18e5]],formatIntervals=[utcFormatIntervals[0],timeFormatIntervals[0],utcFormatIntervals[1],timeFormatIntervals[1],utcFormatIntervals[2],timeFormatIntervals[2],...utcFormatIntervals.slice(3)];function parseTimeInterval(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let i=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),i=+r[1]),e){case"quarter":e="month",i*=3;break;case"half":e="month",i*=6}let n=utcIntervals.get(e);if(!n)throw new Error(`unknown interval: ${t}`);if(i>1&&!n.every)throw new Error(`non-periodic interval: ${e}`);return[e,i]}function timeInterval(t){return asInterval(parseTimeInterval(t),"time")}function utcInterval(t){return asInterval(parseTimeInterval(t),"utc")}function asInterval([t,e],i){let r=("time"===i?timeIntervals:utcIntervals).get(t);return e>1&&(r=r.every(e),r[intervalDuration]=durations.get(t)*e,r[intervalType]=i),r}function generalizeTimeInterval(t,e){if(!(e>1))return;const i=t[intervalDuration];if(!tickIntervals.some(([,t])=>t===i))return;if(i%864e5==0&&864e5<i&&i<2592e6)return;const[r]=tickIntervals[bisector(([,t])=>Math.log(t)).center(tickIntervals,Math.log(i*e))];return("time"===t[intervalType]?timeInterval:utcInterval)(r)}function formatTimeInterval(t,e,i){const r="time"===e?timeFormat$1:utcFormat$3;if(null==i)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const n=getTimeTemplate(i);switch(t){case"millisecond":return formatConditional(r(".%L"),r(":%M:%S"),n);case"second":return formatConditional(r(":%S"),r("%-I:%M"),n);case"minute":return formatConditional(r("%-I:%M"),r("%p"),n);case"hour":return formatConditional(r("%-I %p"),r("%b %-d"),n);case"day":return formatConditional(r("%-d"),r("%b"),n);case"month":return formatConditional(r("%b"),r("%Y"),n);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function getTimeTemplate(t){return"left"===t||"right"===t?(t,e)=>`\n${t}\n${e}`:"top"===t?(t,e)=>`${e}\n${t}`:(t,e)=>`${t}\n${e}`}function getFormatIntervals(t){return"time"===t?timeFormatIntervals:"utc"===t?utcFormatIntervals:formatIntervals}function inferTimeFormat(t,e,i){const r=max$1(pairs(e,(t,e)=>Math.abs(e-t)));if(r<1e3)return formatTimeInterval("millisecond","utc",i);for(const[n,a,s,o]of getFormatIntervals(t)){if(r>o)break;if("hour"===n&&!r)break;if(e.every(t=>a.floor(t)>=t))return formatTimeInterval(n,s,i)}}function formatConditional(t,e,i){return(r,n,a)=>{const s=t(r,n),o=e(r,n),l=n-orderof(a);return n!==l&&void 0!==a[l]&&o===e(a[l],l)?s:i(s,o)}}const TypedArray=Object.getPrototypeOf(Uint8Array),objectToString=Object.prototype.toString;function isArray(t){return t instanceof Array||t instanceof TypedArray}function isNumberArray(t){return t instanceof TypedArray&&!isBigIntArray(t)}function isNumberType(t){return t?.prototype instanceof TypedArray&&!isBigIntType(t)}function isBigIntArray(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function isBigIntType(t){return t===BigInt64Array||t===BigUint64Array}const reindex=Symbol("reindex");function valueof(t,e,i){const r=typeof e;return"string"===r?isArrowTable(t)?maybeTypedArrowify(t.getChild(e),i):maybeTypedMap(t,field(e),i):"function"===r?maybeTypedMap(t,e,i):"number"===r||e instanceof Date||"boolean"===r?map(t,constant(e),i):"function"==typeof e?.transform?maybeTypedArrayify(e.transform(t),i):maybeTake(maybeTypedArrayify(e,i),t?.[reindex])}function maybeTake(t,e){return null!=t&&e?take(t,e):t}function maybeTypedMap(t,e,i){return map(t,isNumberType(i)?(t,i)=>coerceNumber(e(t,i)):e,i)}function maybeTypedArrayify(t,e){return void 0===e?arrayify(t):isArrowVector(t)?maybeTypedArrowify(t,e):t instanceof e?t:e.from(t,isNumberType(e)&&!isNumberArray(t)?coerceNumber:void 0)}function maybeTypedArrowify(t,e){return null==t?t:void 0!==e&&e!==Array||!isArrowDateType(t.type)?maybeTypedArrayify(vectorToArray(t),e):coerceDates(vectorToArray(t))}function vectorToArray(t){return t.nullCount?t.toJSON():t.toArray()}const singleton=[null],field=t=>e=>{const i=e[t];return void 0===i&&"Feature"===e.type?e.properties?.[t]:i},indexOf={transform:range},identity$1={transform:t=>t},one=()=>1,yes=()=>!0,string=t=>null==t?t:`${t}`,number=t=>null==t?t:+t,first=t=>t?t[0]:void 0,second=t=>t?t[1]:void 0,constant=t=>()=>t;function percentile(t){const e=+`${t}`.slice(1)/100;return(t,i)=>quantile$1(t,e,i)}function coerceNumbers(t){return isNumberArray(t)?t:map(t,coerceNumber,Float64Array)}function coerceNumber(t){return null==t?NaN:Number(t)}function coerceDates(t){return map(t,coerceDate)}function coerceDate(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?parse(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function maybeColorChannel(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:isColor(t)?[void 0,t]:[t,void 0]}function maybeNumberChannel(t,e){return void 0===t&&(t=e),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function maybeKeyword(t,e,i){if(null!=t)return keyword(t,e,i)}function keyword(t,e,i){const r=`${t}`.toLowerCase();if(!i.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function dataify(t){return isArrowTable(t)?t:arrayify(t)}function arrayify(t){if(null==t||isArray(t))return t;if(isArrowVector(t))return maybeTypedArrowify(t);if(isGeoJSON(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function isGeoJSON(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function map(t,e,i=Array){return null==t?t:t instanceof i?t.map(e):i.from(t,e)}function slice(t,e=Array){return t instanceof e?t.slice():e.from(t)}function hasX({x:t,x1:e,x2:i}){return void 0!==t||void 0!==e||void 0!==i}function hasY({y:t,y1:e,y2:i}){return void 0!==t||void 0!==e||void 0!==i}function hasXY(t){return hasX(t)||hasY(t)||void 0!==t.interval}function isObject(t){return t?.toString===objectToString}function isScaleOptions(t){return isObject(t)&&(void 0!==t.type||void 0!==t.domain)}function isOptions(t){return isObject(t)&&"function"!=typeof t.transform}function isDomainSort(t){return isOptions(t)&&void 0===t.value&&void 0===t.channel}function maybeZero(t,e,i,r=identity$1){return void 0===e&&void 0===i?(e=0,i=void 0===t?r:t):void 0===e?e=void 0===t?0:t:void 0===i&&(i=void 0===t?0:t),[e,i]}function maybeTuple(t,e){return void 0===t&&void 0===e?[first,second]:[t,e]}function maybeZ({z:t,fill:e,stroke:i}={}){return void 0===t&&([t]=maybeColorChannel(e)),void 0===t&&([t]=maybeColorChannel(i)),t}function lengthof(t){return isArray(t)?t.length:t?.numRows}function range(t){const e=lengthof(t),i=new Uint32Array(e);for(let t=0;t<e;++t)i[t]=t;return i}function take(t,e){return isArray(t)?map(e,e=>t[e],t.constructor):map(e,e=>t.at(e))}function subarray(t,e,i){return t.subarray?t.subarray(e,i):t.slice(e,i)}function keyof(t){return null!==t&&"object"==typeof t?t.valueOf():t}function maybeInput(t,e){if(void 0!==e[t])return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return e[t]}function column(t){let e;return[{transform:()=>e,label:labelof(t)},t=>e=t]}function maybeColumn(t){return null==t?[t]:column(t)}function labelof(t,e){return"string"==typeof t?t:t&&void 0!==t.label?t.label:e}function mid(t,e){return{transform(i){const r=t.transform(i),n=e.transform(i);return isTemporal(r)||isTemporal(n)?map(r,(t,e)=>new Date((+r[e]+ +n[e])/2)):map(r,(t,e)=>(+r[e]+ +n[e])/2,Float64Array)},label:t.label}}function maybeApplyInterval(t,e){const i=maybeIntervalTransform(e?.interval,e?.type);return i?map(t,i):t}function maybeIntervalTransform(t,e){const i=maybeInterval(t,e);return i&&(t=>defined(t)?i.floor(t):t)}function maybeInterval(t,e){if(null!=t){if("number"==typeof t)return numberInterval(t);if("string"==typeof t)return("time"===e?timeInterval:utcInterval)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function numberInterval(t){0<(t=+t)&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:(t,i=1)=>(t*e+Math.floor(i))/e,range:(t,i)=>range$1(Math.ceil(t*e),i*e).map(t=>t/e)}:{floor:t=>Math.floor(t/e)*e,offset:(t,i=1)=>t+e*Math.floor(i),range:(t,i)=>range$1(Math.ceil(t/e),i/e).map(t=>t*e)}}function maybeRangeInterval(t,e){if((t=maybeInterval(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function maybeNiceInterval(t,e){if((t=maybeRangeInterval(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}function isTimeInterval(t){return isInterval(t)&&"function"==typeof t?.floor&&t.floor()instanceof Date}function isInterval(t){return"function"==typeof t?.range}function maybeValue(t){return void 0===t||isOptions(t)?t:{value:t}}function numberChannel(t){return null==t?null:{transform:e=>valueof(e,t,Float64Array),label:labelof(t)}}function isIterable(t){return t&&"function"==typeof t[Symbol.iterator]}function isTextual(t){for(const e of t)if(null!=e)return"object"!=typeof e||e instanceof Date}function isOrdinal(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function isTemporal(t){for(const e of t)if(null!=e)return e instanceof Date}function isTemporalString(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&parse(e)}function isNumericString(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function isNumeric(t){for(const e of t)if(null!=e)return"number"==typeof e}function isEvery(t,e){let i;for(const r of t)if(null!=r){if(!e(r))return!1;i=!0}return i}const namedColors=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function isColor(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||namedColors.has(t))}function isOpacity(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function isNoneish(t){return null==t||isNone(t)}function isNone(t){return/^\s*none\s*$/i.test(t)}function isRound(t){return/^\s*round\s*$/i.test(t)}function maybeAnchor$1(t,e){return maybeKeyword(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function maybeFrameAnchor(t="middle"){return maybeAnchor$1(t,"frameAnchor")}function inherit(t={},...e){let i=t;for(const r of e)for(const e in r)if(void 0===i[e]){const n=r[e];i===t?i={...i,[e]:n}:i[e]=n}return i}function named(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,t=>{const{name:i}=t;if(null==i)throw new Error("missing name");const r=`${i}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(e.has(r))throw new Error(`duplicate name: ${r}`);return e.add(r),[i,t]}))}function maybeNamed(t){return isIterable(t)?named(t):t}function maybeClip(t){return!0===t?t="frame":!1===t?t=null:isGeoJSON(t)||null==t||"sphere"===(t=keyword(t,"clip",["frame","sphere"]))&&(t={type:"Sphere"}),t}function isArrowTable(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function isArrowVector(t){return t&&"function"==typeof t.toArray&&t.type}function isArrowDateType(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}const position=Symbol("position"),color=Symbol("color"),radius=Symbol("radius"),length=Symbol("length"),opacity=Symbol("opacity"),symbol=Symbol("symbol"),projection=Symbol("projection"),registry=new Map([["x",position],["y",position],["fx",position],["fy",position],["r",radius],["color",color],["opacity",opacity],["symbol",symbol],["length",length],["projection",projection]]);function isPosition(t){return t===position||t===projection}function hasNumericRange(t){return t===position||t===radius||t===length||t===opacity}const sqrt3=Math.sqrt(3),sqrt4_3=2/sqrt3,symbolHexagon={draw(t,e){const i=Math.sqrt(e/Math.PI),r=i*sqrt4_3,n=r/2;t.moveTo(0,r),t.lineTo(i,n),t.lineTo(i,-n),t.lineTo(0,-r),t.lineTo(-i,-n),t.lineTo(-i,n),t.closePath()}},symbols=new Map([["asterisk",symbolAsterisk],["circle",symbolCircle],["cross",symbolCross],["diamond",symbolDiamond],["diamond2",symbolDiamond2],["hexagon",symbolHexagon],["plus",symbolPlus],["square",symbolSquare],["square2",symbolSquare2],["star",symbolStar],["times",symbolTimes],["triangle",symbolTriangle],["triangle2",symbolTriangle2],["wye",symbolWye]]);function isSymbolObject(t){return t&&"function"==typeof t.draw}function isSymbol(t){return!!isSymbolObject(t)||"string"==typeof t&&symbols.has(t.toLowerCase())}function maybeSymbol(t){if(null==t||isSymbolObject(t))return t;const e=symbols.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function maybeSymbolChannel(t){if(null==t||isSymbolObject(t))return[void 0,t];if("string"==typeof t){const e=symbols.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function basic({filter:t,sort:e,reverse:i,transform:r,initializer:n,...a}={},s){if(void 0===r&&(null!=t&&(r=filterTransform(t)),null==e||isDomainSort(e)||(r=composeTransform(r,sortTransform(e))),i&&(r=composeTransform(r,reverseTransform))),null!=s&&null!=n)throw new Error("transforms cannot be applied after initializers");return{...a,...(null===e||isDomainSort(e))&&{sort:e},transform:composeTransform(r,s)}}function initializer({filter:t,sort:e,reverse:i,initializer:r,...n}={},a){return void 0===r&&(null!=t&&(r=filterTransform(t)),null==e||isDomainSort(e)||(r=composeInitializer(r,sortTransform(e))),i&&(r=composeInitializer(r,reverseTransform))),{...n,...(null===e||isDomainSort(e))&&{sort:e},initializer:composeInitializer(r,a)}}function composeTransform(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(i,r,n){return({data:i,facets:r}=t.call(this,i,r,n)),e.call(this,dataify(i),r,n)}}function composeInitializer(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(i,r,n,...a){let s,o,l,c,g,d;return({data:o=i,facets:l=r,channels:s}=t.call(this,i,r,n,...a)),({data:g=o,facets:d=l,channels:c}=e.call(this,o,l,{...n,...s},...a)),{data:g,facets:d,channels:{...s,...c}}}}function apply(t,e){return(null!=t.initializer?initializer:basic)(t,e)}function filterTransform(t){return(e,i)=>{const r=valueof(e,t);return{data:e,facets:i.map(t=>t.filter(t=>r[t]))}}}function reverseTransform(t,e){return{data:t,facets:e.map(t=>t.slice().reverse())}}function sort(t,{sort:e,...i}={}){return{...(isOptions(t)&&void 0!==t.channel?initializer:apply)(i,sortTransform(t)),sort:isDomainSort(e)?e:null}}function sortTransform(t){return("function"==typeof t&&1!==t.length?sortData:sortValue)(t)}function sortData(t){return(e,i)=>{const r=isArray(e)?(i,r)=>t(e[i],e[r]):(i,r)=>t(e.get(i),e.get(r));return{data:e,facets:i.map(t=>t.slice().sort(r))}}}function sortValue(t){let e,i;({channel:e,value:t,order:i}={...maybeValue(t)});const r=e?.startsWith("-");if(r&&(e=e.slice(1)),void 0===i&&(i=r?descendingDefined:ascendingDefined),"function"!=typeof i)switch(`${i}`.toLowerCase()){case"ascending":i=ascendingDefined;break;case"descending":i=descendingDefined;break;default:throw new Error(`invalid order: ${i}`)}return(r,n,a)=>{let s;if(void 0===e)s=valueof(r,t);else{if(void 0===a)throw new Error("channel sort requires an initializer");if(s=a[e],!s)return{};s=s.value}const o=(t,e)=>i(s[t],s[e]);return{data:r,facets:n.map(t=>t.slice().sort(o))}}}function hasOutput(t,...e){for(const{name:i}of t)if(e.includes(i))return!0;return!1}function maybeOutputs(t,e,i=maybeOutput){const r=Object.entries(t);return null!=e.title&&void 0===t.title&&r.push(["title",reduceTitle]),null!=e.href&&void 0===t.href&&r.push(["href",reduceFirst]),r.filter(([,t])=>void 0!==t).map(([t,r])=>null===r?nullOutput(t):i(t,r,e))}function maybeOutput(t,e,i,r=maybeEvaluator){let n;isObject(e)&&"reduce"in e&&(n=e.scale,e=e.reduce);const a=r(t,e,i),[s,o]=column(a.label);let l;return{name:t,output:void 0===n?s:{value:s,scale:n},initialize(t){a.initialize(t),l=o([])},scope(t,e){a.scope(t,e)},reduce(t,e){l.push(a.reduce(t,e))}}}function nullOutput(t){return{name:t,initialize(){},scope(){},reduce(){}}}function maybeEvaluator(t,e,i,r=maybeReduce){const n=maybeInput(t,i),a=r(e,n);let s,o;return{label:labelof(a===reduceCount?null:n,a.label),initialize(t){s=void 0===n?t:valueof(t,n),"data"===a.scope&&(o=a.reduceIndex(range(t),s))},scope(t,e){a.scope===t&&(o=a.reduceIndex(e,s))},reduce:(t,e)=>null==a.scope?a.reduceIndex(t,s,e):a.reduceIndex(t,s,o,e)}}function maybeGroup(t,e){return e?group(t,t=>e[t]):[[,t]]}function maybeReduce(t,e,i=invalidReduce){if(null==t)return i(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&isObject(t))return reduceReduce(t);if("function"==typeof t)return reduceFunction(t);if(/^p\d{2}$/i.test(t))return reduceAccessor(percentile(t));switch(`${t}`.toLowerCase()){case"first":return reduceFirst;case"last":return reduceLast;case"identity":return reduceIdentity;case"count":return reduceCount;case"distinct":return reduceDistinct;case"sum":return null==e?reduceCount:reduceSum;case"proportion":return reduceProportion(e,"data");case"proportion-facet":return reduceProportion(e,"facet");case"deviation":return reduceAccessor(deviation);case"min":return reduceAccessor(min$1);case"min-index":return reduceAccessor(minIndex);case"max":return reduceAccessor(max$1);case"max-index":return reduceAccessor(maxIndex);case"mean":return reduceMaybeTemporalAccessor(mean);case"median":return reduceMaybeTemporalAccessor(median);case"variance":return reduceAccessor(variance);case"mode":return reduceAccessor(mode)}return i(t)}function invalidReduce(t){throw new Error(`invalid reduce: ${t}`)}function maybeSubgroup(t,e){for(const i in e){const r=e[i];if(void 0!==r&&!t.some(t=>t.name===i))return r}}function maybeSort(t,e,i){if(e){const i=e.output.transform(),r=(t,e)=>ascendingDefined(i[t],i[e]);t.forEach(t=>t.sort(r))}i&&t.forEach(t=>t.reverse())}function reduceReduce(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function reduceFunction(t){return{reduceIndex:(e,i,r)=>t(take(i,e),r)}}function reduceAccessor(t){return{reduceIndex:(e,i)=>t(e,t=>i[t])}}function reduceMaybeTemporalAccessor(t){return{reduceIndex(e,i){const r=t(e,t=>i[t]);return isTemporal(i)?new Date(r):r}}}const reduceIdentity={reduceIndex:(t,e)=>take(e,t)},reduceFirst={reduceIndex:(t,e)=>e[t[0]]},reduceTitle={reduceIndex(t,e){const i=sort$1(rollup(t,t=>t.length,t=>e[t]),second),r=i.slice(-5).reverse();if(r.length<i.length){const t=i.slice(0,-4);r[4]=[`â¦ ${t.length.toLocaleString("en-US")} more`,sum(t,second)]}return r.map(([t,e])=>`${t} (${e.toLocaleString("en-US")})`).join("\n")}},reduceLast={reduceIndex:(t,e)=>e[t[t.length-1]]},reduceCount={label:"Frequency",reduceIndex:t=>t.length},reduceDistinct={label:"Distinct",reduceIndex(t,e){const i=new InternSet;for(const r of t)i.add(e[r]);return i.size}},reduceSum=reduceAccessor(sum);function reduceProportion(t,e){return null==t?{scope:e,label:"Frequency",reduceIndex:(t,e,i=1)=>t.length/i}:{scope:e,reduceIndex:(t,e,i=1)=>sum(t,t=>e[t])/i}}const reduceZ={reduceIndex:(t,e,{z:i})=>i};function createChannel(t,{scale:e,type:i,value:r,filter:n,hint:a,label:s=labelof(r)},o){return void 0===a&&"function"==typeof r?.transform&&(a=r.hint),inferChannelScale(o,{scale:e,type:i,value:valueof(t,r),label:s,filter:n,hint:a})}function createChannels(t,e){return Object.fromEntries(Object.entries(t).map(([t,i])=>[t,createChannel(e,i,t)]))}function valueObject(t,e){const i=Object.fromEntries(Object.entries(t).map(([t,{scale:i,value:r}])=>{const n=null==i?null:e[i];return[t,null==n?r:map(r,n)]}));return i.channels=t,i}function inferChannelScale(t,e){const{scale:i,value:r}=e;if(!0===i||"auto"===i)switch(t){case"fill":case"stroke":case"color":e.scale=!0!==i&&isEvery(r,isColor)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=!0!==i&&isEvery(r,isOpacity)?null:"opacity",e.defaultScale="opacity";break;case"symbol":!0!==i&&isEvery(r,isSymbol)?(e.scale=null,e.value=map(r,maybeSymbol)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=registry.has(t)?t:null}else if(!1===i)e.scale=null;else if(null!=i&&!registry.has(i))throw new Error(`unknown scale: ${i}`);return e}function channelDomain(t,e,i,r,n){const{order:a,reverse:s,reduce:o=!0,limit:l}=n;for(const c in n){if(!registry.has(c))continue;let{value:g,order:d=a,reverse:u=s,reduce:B=o,limit:F=l}=maybeValue(n[c]);const h=g?.startsWith("-");if(h&&(g=g.slice(1)),d=void 0===d?h!==("width"===g||"height"===g)?descendingGroup:ascendingGroup:maybeOrder$1(d),null==B||!1===B)continue;const Q="fx"===c||"fy"===c?reindexFacetChannel(e,r[c]):findScaleChannel(i,c);if(!Q)throw new Error(`missing channel for scale: ${c}`);const U=Q.value,[I=0,b=1/0]=isIterable(F)?F:F<0?[F]:[0,F];if(null==g)Q.domain=()=>{let t=Array.from(new InternSet(U));return u&&(t=t.reverse()),0===I&&b===1/0||(t=t.slice(I,b)),t};else{const e="data"===g?t:"height"===g?difference(i,"y1","y2"):"width"===g?difference(i,"x1","x2"):values(i,g,"y"===g?"y2":"x"===g?"x2":void 0),r=maybeReduce(!0===B?"max":B,e);Q.domain=()=>{let t=rollups(range(U),t=>r.reduceIndex(t,e),t=>U[t]);return d&&t.sort(d),u&&t.reverse(),0===I&&b===1/0||(t=t.slice(I,b)),t.map(first)}}}}function findScaleChannel(t,e){for(const i in t){const r=t[i];if(r.scale===e)return r}}function reindexFacetChannel(t,e){const i=t.original;if(i===t)return e;const r=e.value,n=e.value=[];for(let e=0;e<i.length;++e){const a=r[i[e][0]];for(const i of t[e])n[i]=a}return e}function difference(t,e,i){const r=values(t,e);return map(values(t,i),(t,e)=>Math.abs(t-r[e]),Float64Array)}function values(t,e,i){let r=t[e];if(r||void 0===i||(r=t[i]),r)return r.value;throw new Error(`missing channel: ${e}`)}function maybeOrder$1(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return ascendingGroup;case"descending":return descendingGroup}throw new Error(`invalid order: ${t}`)}function ascendingGroup([t,e],[i,r]){return ascendingDefined(e,r)||ascendingDefined(t,i)}function descendingGroup([t,e],[i,r]){return descendingDefined(e,r)||ascendingDefined(t,i)}function getSource(t,e){let i=t[e];if(i){for(;i.source;)i=i.source;return null===i.source?null:i}}const categoricalSchemes=new Map([["accent",schemeAccent],["category10",schemeCategory10],["dark2",schemeDark2],["observable10",schemeObservable10],["paired",schemePaired],["pastel1",schemePastel1],["pastel2",schemePastel2],["set1",schemeSet1],["set2",schemeSet2],["set3",schemeSet3],["tableau10",schemeTableau10]]);function isCategoricalScheme(t){return null!=t&&categoricalSchemes.has(`${t}`.toLowerCase())}const ordinalSchemes=new Map([...categoricalSchemes,["brbg",scheme11(scheme$q,interpolateBrBG)],["prgn",scheme11(scheme$p,interpolatePRGn)],["piyg",scheme11(scheme$o,interpolatePiYG)],["puor",scheme11(scheme$n,interpolatePuOr)],["rdbu",scheme11(scheme$m,interpolateRdBu)],["rdgy",scheme11(scheme$l,interpolateRdGy)],["rdylbu",scheme11(scheme$k,interpolateRdYlBu)],["rdylgn",scheme11(scheme$j,interpolateRdYlGn)],["spectral",scheme11(scheme$i,interpolateSpectral)],["burd",scheme11r(scheme$m,interpolateRdBu)],["buylrd",scheme11r(scheme$k,interpolateRdYlBu)],["blues",scheme9(scheme$5,interpolateBlues)],["greens",scheme9(scheme$4,interpolateGreens)],["greys",scheme9(scheme$3,interpolateGreys)],["oranges",scheme9(scheme,interpolateOranges)],["purples",scheme9(scheme$2,interpolatePurples)],["reds",scheme9(scheme$1,interpolateReds)],["turbo",schemei(interpolateTurbo)],["viridis",schemei(interpolateViridis)],["magma",schemei(magma)],["inferno",schemei(inferno)],["plasma",schemei(plasma)],["cividis",schemei(interpolateCividis)],["cubehelix",schemei(interpolateCubehelixDefault)],["warm",schemei(warm)],["cool",schemei(cool)],["bugn",scheme9(scheme$h,interpolateBuGn)],["bupu",scheme9(scheme$g,interpolateBuPu)],["gnbu",scheme9(scheme$f,interpolateGnBu)],["orrd",scheme9(scheme$e,interpolateOrRd)],["pubu",scheme9(scheme$c,interpolatePuBu)],["pubugn",scheme9(scheme$d,interpolatePuBuGn)],["purd",scheme9(scheme$b,interpolatePuRd)],["rdpu",scheme9(scheme$a,interpolateRdPu)],["ylgn",scheme9(scheme$8,interpolateYlGn)],["ylgnbu",scheme9(scheme$9,interpolateYlGnBu)],["ylorbr",scheme9(scheme$7,interpolateYlOrBr)],["ylorrd",scheme9(scheme$6,interpolateYlOrRd)],["rainbow",schemeicyclical(interpolateRainbow)],["sinebow",schemeicyclical(interpolateSinebow)]]);function scheme9(t,e){return({length:i})=>1===i?[t[3][1]]:2===i?[t[3][1],t[3][2]]:(i=Math.max(3,Math.floor(i)))>9?quantize(e,i):t[i]}function scheme11(t,e){return({length:i})=>2===i?[t[3][0],t[3][2]]:(i=Math.max(3,Math.floor(i)))>11?quantize(e,i):t[i]}function scheme11r(t,e){return({length:i})=>2===i?[t[3][2],t[3][0]]:(i=Math.max(3,Math.floor(i)))>11?quantize(t=>e(1-t),i):t[i].slice().reverse()}function schemei(t){return({length:e})=>quantize(t,Math.max(2,Math.floor(e)))}function schemeicyclical(t){return({length:e})=>quantize(t,Math.floor(e)+1).slice(0,-1)}function ordinalScheme(t){const e=`${t}`.toLowerCase();if(!ordinalSchemes.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return ordinalSchemes.get(e)}function ordinalRange(t,e){const i=ordinalScheme(t),r="function"==typeof i?i({length:e}):i;return r.length!==e?r.slice(0,e):r}function maybeBooleanRange(t,e="greys"){const i=new Set,[r,n]=ordinalRange(e,2);for(const e of t)if(null!=e)if(!0===e)i.add(n);else{if(!1!==e)return;i.add(r)}return[...i]}const quantitativeSchemes=new Map([["brbg",interpolateBrBG],["prgn",interpolatePRGn],["piyg",interpolatePiYG],["puor",interpolatePuOr],["rdbu",interpolateRdBu],["rdgy",interpolateRdGy],["rdylbu",interpolateRdYlBu],["rdylgn",interpolateRdYlGn],["spectral",interpolateSpectral],["burd",t=>interpolateRdBu(1-t)],["buylrd",t=>interpolateRdYlBu(1-t)],["blues",interpolateBlues],["greens",interpolateGreens],["greys",interpolateGreys],["purples",interpolatePurples],["reds",interpolateReds],["oranges",interpolateOranges],["turbo",interpolateTurbo],["viridis",interpolateViridis],["magma",magma],["inferno",inferno],["plasma",plasma],["cividis",interpolateCividis],["cubehelix",interpolateCubehelixDefault],["warm",warm],["cool",cool],["bugn",interpolateBuGn],["bupu",interpolateBuPu],["gnbu",interpolateGnBu],["orrd",interpolateOrRd],["pubugn",interpolatePuBuGn],["pubu",interpolatePuBu],["purd",interpolatePuRd],["rdpu",interpolateRdPu],["ylgnbu",interpolateYlGnBu],["ylgn",interpolateYlGn],["ylorbr",interpolateYlOrBr],["ylorrd",interpolateYlOrRd],["rainbow",interpolateRainbow],["sinebow",interpolateSinebow]]);function quantitativeScheme(t){const e=`${t}`.toLowerCase();if(!quantitativeSchemes.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return quantitativeSchemes.get(e)}const divergingSchemes=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function isDivergingScheme(t){return null!=t&&divergingSchemes.has(`${t}`.toLowerCase())}const flip=t=>e=>t(1-e),unit=[0,1],interpolators=new Map([["number",interpolateNumber],["rgb",interpolateRgb],["hsl",interpolateHsl],["hcl",interpolateHcl],["lab",lab]]);function maybeInterpolator(t){const e=`${t}`.toLowerCase();if(!interpolators.has(e))throw new Error(`unknown interpolator: ${e}`);return interpolators.get(e)}function createScaleQ(t,e,i,{type:r,nice:n,clamp:a,zero:s,domain:o=inferAutoDomain(t,i),unknown:l,round:c,scheme:g,interval:d,range:u=(registry.get(t)===radius?inferRadialRange(i,o):registry.get(t)===length?inferLengthRange(i,o):registry.get(t)===opacity?unit:void 0),interpolate:B=(registry.get(t)===color?null==g&&void 0!==u?interpolateRgb:quantitativeScheme(void 0!==g?g:"cyclical"===r?"rainbow":"turbo"):c?interpolateRound:interpolateNumber),reverse:F}){if(o=maybeRepeat(o),d=maybeRangeInterval(d,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof B&&(B=maybeInterpolator(B)),F=!!F,void 0!==u){if(o.length!==(u=maybeRepeat(u)).length){if(1===B.length)throw new Error("invalid piecewise interpolator");B=piecewise(B,u),u=void 0}}if(1===B.length?(F&&(B=flip(B),F=!1),void 0===u&&(u=Float64Array.from(o,(t,e)=>e/(o.length-1)),2===u.length&&(u=unit)),e.interpolate((u===unit?constant:interpolatePiecewise)(B))):e.interpolate(B),s){const[t,e]=extent$2(o);if(t>0||e<0){(orderof(o=slice(o))||1)===Math.sign(t)?o[0]=0:o[o.length-1]=0}}return F&&(o=reverse(o)),e.domain(o).unknown(l),n&&(e.nice(maybeNice(n,r)),o=e.domain()),void 0!==u&&e.range(u),a&&e.clamp(a),{type:r,domain:o,range:u,scale:e,interpolate:B,interval:d}}function maybeRepeat(t){return(t=arrayify(t)).length>=2?t:[t[0],t[0]]}function maybeNice(t,e){return!0===t?void 0:"number"==typeof t?t:maybeNiceInterval(t,e)}function createScaleLinear(t,e,i){return createScaleQ(t,linear(),e,i)}function createScaleSqrt(t,e,i){return createScalePow(t,e,{...i,exponent:.5})}function createScalePow(t,e,{exponent:i=1,...r}){return createScaleQ(t,pow().exponent(i),e,{...r,type:"pow"})}function createScaleLog(t,e,{base:i=10,domain:r=inferLogDomain(e),...n}){return createScaleQ(t,log().base(i),e,{...n,domain:r})}function createScaleSymlog(t,e,{constant:i=1,...r}){return createScaleQ(t,symlog().constant(i),e,r)}function createScaleQuantile(t,e,{range:i,quantiles:r=(void 0===i?5:(i=[...i]).length),n:n=r,scheme:a="rdylbu",domain:s=inferQuantileDomain(e),unknown:o,interpolate:l,reverse:c}){return void 0===i&&(i=void 0!==l?quantize(l,n):registry.get(t)===color?ordinalRange(a,n):void 0),s.length>0&&(s=quantile(s,void 0===i?{length:n}:i).quantiles()),createScaleThreshold(t,e,{domain:s,range:i,reverse:c,unknown:o})}function createScaleQuantize(t,e,{range:i,n:r=(void 0===i?5:(i=[...i]).length),scheme:n="rdylbu",domain:a=inferAutoDomain(t,e),unknown:s,interpolate:o,reverse:l}){const[c,g]=extent$2(a);let d;return void 0===i?(d=ticks$1(c,g,r),d[0]<=c&&d.splice(0,1),d[d.length-1]>=g&&d.pop(),r=d.length+1,i=void 0!==o?quantize(o,r):registry.get(t)===color?ordinalRange(n,r):void 0):(d=quantize(interpolateNumber(c,g),r+1).slice(1,-1),c instanceof Date&&(d=d.map(t=>new Date(t)))),orderof(arrayify(a))<0&&d.reverse(),createScaleThreshold(t,e,{domain:d,range:i,reverse:l,unknown:s})}function createScaleThreshold(t,e,{domain:i=[0],unknown:r,scheme:n="rdylbu",interpolate:a,range:s=(void 0!==a?quantize(a,i.length+1):registry.get(t)===color?ordinalRange(n,i.length+1):void 0),reverse:o}){const l=orderof(i=arrayify(i));if(!isNaN(l)&&!isOrdered(i,l))throw new Error(`the ${t} scale has a non-monotonic domain`);return o&&(s=reverse(s)),{type:"threshold",scale:threshold(l<0?reverse(i):i,void 0===s?[]:s).unknown(r),domain:i,range:s}}function isOrdered(t,e){for(let i=1,r=t.length,n=t[0];i<r;++i){const r=descending$1(n,n=t[i]);if(0!==r&&r!==e)return!1}return!0}function createScaleIdentity(t){return{type:"identity",scale:hasNumericRange(registry.get(t))?identity$8():t=>t}}function inferDomain$1(t,e=finite){return t.length?[min$1(t,({value:t})=>void 0===t?t:min$1(t,e)),max$1(t,({value:t})=>void 0===t?t:max$1(t,e))]:[0,1]}function inferAutoDomain(t,e){const i=registry.get(t);return(i===radius||i===opacity||i===length?inferZeroDomain:inferDomain$1)(e)}function inferZeroDomain(t){return[0,t.length?max$1(t,({value:t})=>void 0===t?t:max$1(t,finite)):1]}function inferRadialRange(t,e){const i=t.find(({radius:t})=>void 0!==t);if(void 0!==i)return[0,i.radius];const r=quantile$1(t,.5,({value:t})=>void 0===t?NaN:quantile$1(t,.25,positive)),n=e.map(t=>3*Math.sqrt(t/r)),a=30/max$1(n);return a<1?n.map(t=>t*a):n}function inferLengthRange(t,e){const i=median(t,({value:t})=>void 0===t?NaN:median(t,Math.abs)),r=e.map(t=>12*t/i),n=60/max$1(r);return n<1?r.map(t=>t*n):r}function inferLogDomain(t){for(const{value:e}of t)if(void 0!==e)for(let i of e){if(i>0)return inferDomain$1(t,positive);if(i<0)return inferDomain$1(t,negative)}return[1,10]}function inferQuantileDomain(t){const e=[];for(const{value:i}of t)if(void 0!==i)for(const t of i)e.push(t);return e}function interpolatePiecewise(t){return(e,i)=>r=>t(e+r*(i-e))}let lastMessage,warnings=0;function consumeWarnings(){const t=warnings;return warnings=0,lastMessage=void 0,t}function warn(t){t!==lastMessage&&(lastMessage=t,console.warn(t),++warnings)}function createScaleD(t,e,i,r,{type:n,nice:a,clamp:s,domain:o=inferDomain$1(r),unknown:l,pivot:c=0,scheme:g,range:d,symmetric:u=!0,interpolate:B=(registry.get(t)===color?null==g&&void 0!==d?interpolateRgb:quantitativeScheme(void 0!==g?g:"rdbu"):interpolateNumber),reverse:F}){c=+c,o=arrayify(o);let[h,Q]=o;if(o.length>2&&warn(`Warning: the diverging ${t} scale domain contains extra elements.`),descending$1(h,Q)<0&&([h,Q]=[Q,h],F=!F),h=Math.min(h,c),Q=Math.max(Q,c),"function"!=typeof B&&(B=maybeInterpolator(B)),void 0!==d&&(B=1===B.length?interpolatePiecewise(B)(...d):piecewise(B,d)),F&&(B=flip(B)),u){const t=i.apply(c),e=t-i.apply(h),r=i.apply(Q)-t;e<r?h=i.invert(t-r):e>r&&(Q=i.invert(t+e))}return e.domain([h,c,Q]).unknown(l).interpolator(B),s&&e.clamp(s),a&&e.nice(a),{type:n,domain:[h,Q],pivot:c,interpolate:B,scale:e}}function createScaleDiverging(t,e,i){return createScaleD(t,diverging(),transformIdentity,e,i)}function createScaleDivergingSqrt(t,e,i){return createScaleDivergingPow(t,e,{...i,exponent:.5})}function createScaleDivergingPow(t,e,{exponent:i=1,...r}){return createScaleD(t,divergingPow().exponent(i=+i),transformPow(i),e,{...r,type:"diverging-pow"})}function createScaleDivergingLog(t,e,{base:i=10,pivot:r=1,domain:n=inferDomain$1(e,r<0?negative:positive),...a}){return createScaleD(t,divergingLog().base(i=+i),transformLog,e,{domain:n,pivot:r,...a})}function createScaleDivergingSymlog(t,e,{constant:i=1,...r}){return createScaleD(t,divergingSymlog().constant(i=+i),transformSymlog(i),e,r)}const transformIdentity={apply:t=>t,invert:t=>t},transformLog={apply:Math.log,invert:Math.exp},transformSqrt={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function transformPow(t){return.5===t?transformSqrt:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}function transformSymlog(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}function createScaleT(t,e,i,r){return createScaleQ(t,e,i,r)}function createScaleTime(t,e,i){return createScaleT(t,time(),e,i)}function createScaleUtc(t,e,i){return createScaleT(t,utcTime(),e,i)}const ordinalImplicit=Symbol("ordinal");function createScaleO(t,e,i,{type:r,interval:n,domain:a,range:s,reverse:o,hint:l}){return n=maybeRangeInterval(n,r),void 0===a&&(a=inferDomain(i,n,t)),"categorical"!==r&&r!==ordinalImplicit||(r="ordinal"),o&&(a=reverse(a)),a=e.domain(a).domain(),void 0!==s&&("function"==typeof s&&(s=s(a)),e.range(s)),{type:r,domain:a,range:s,scale:e,hint:l,interval:n}}function createScaleOrdinal(t,e,{type:i,interval:r,domain:n,range:a,scheme:s,unknown:o,...l}){let c;if(r=maybeRangeInterval(r,i),void 0===n&&(n=inferDomain(e,r,t)),registry.get(t)===symbol)c=inferSymbolHint(e),a=void 0===a?inferSymbolRange(c):map(a,maybeSymbol);else if(registry.get(t)===color&&(void 0!==a||"ordinal"!==i&&i!==ordinalImplicit||void 0!==(a=maybeBooleanRange(n,s))&&(s=void 0),void 0===s&&void 0===a&&(s="ordinal"===i?"turbo":"observable10"),void 0!==s))if(void 0!==a){const t=quantitativeScheme(s),e=a[0],i=a[1]-a[0];a=({length:r})=>quantize(r=>t(e+i*r),r)}else a=ordinalScheme(s);if(o===implicit)throw new Error(`implicit unknown on ${t} scale is not supported`);return createScaleO(t,ordinal().unknown(o),e,{...l,type:i,domain:n,range:a,hint:c})}function createScalePoint(t,e,{align:i=.5,padding:r=.5,...n}){return maybeRound(point$4().align(i).padding(r),e,n,t)}function createScaleBand(t,e,{align:i=.5,padding:r=.1,paddingInner:n=r,paddingOuter:a=("fx"===t||"fy"===t?0:r),...s}){return maybeRound(band().align(i).paddingInner(n).paddingOuter(a),e,s,t)}function maybeRound(t,e,i,r){let{round:n}=i;return void 0!==n&&t.round(n=!!n),(t=createScaleO(r,t,e,i)).round=n,t}function inferDomain(t,e,i){const r=new InternSet;for(const{value:e,domain:i}of t){if(void 0!==i)return i();if(void 0!==e)for(const t of e)r.add(t)}if(void 0!==e){const[t,i]=extent$2(r).map(e.floor,e);return e.range(t,e.offset(i))}if(r.size>1e4&&registry.get(i)===position)throw new Error(`implicit ordinal domain of ${i} scale has more than 10,000 values`);return sort$1(r,ascendingDefined)}function inferHint(t,e){let i;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===i)i=t;else if(i!==t)return}return i}function inferSymbolHint(t){return{fill:inferHint(t,"fill"),stroke:inferHint(t,"stroke")}}function inferSymbolRange(t){return isNoneish(t.fill)?symbolsStroke:symbolsFill}function createScales(t,{label:e,inset:i=0,insetTop:r=i,insetRight:n=i,insetBottom:a=i,insetLeft:s=i,round:o,nice:l,clamp:c,zero:g,align:d,padding:u,projection:B,facet:{label:F=e}={},...h}={}){const Q={};for(const[i,U]of t){const t=h[i],I=createScale(i,U,{round:registry.get(i)===position?o:void 0,nice:l,clamp:c,zero:g,align:d,padding:u,projection:B,...t});if(I){let{label:o=("fx"===i||"fy"===i?F:e),percent:l,transform:c,inset:g,insetTop:d=(void 0!==g?g:"y"===i?r:0),insetRight:u=(void 0!==g?g:"x"===i?n:0),insetBottom:B=(void 0!==g?g:"y"===i?a:0),insetLeft:h=(void 0!==g?g:"x"===i?s:0)}=t||{};if(null==c)c=void 0;else if("function"!=typeof c)throw new Error("invalid scale transform; not a function");I.percent=!!l,I.label=void 0===o?inferScaleLabel(U,I):o,I.transform=c,"x"===i||"fx"===i?(I.insetLeft=+h,I.insetRight=+u):"y"!==i&&"fy"!==i||(I.insetTop=+d,I.insetBottom=+B),Q[i]=I}}return Q}function createScaleFunctions(t){const e={},i={scales:e};for(const[r,n]of Object.entries(t)){const{scale:t,type:a,interval:s,label:o}=n;e[r]=exposeScale(n),i[r]=t,t.type=a,null!=s&&(t.interval=s),null!=o&&(t.label=o)}return i}function autoScaleRange(t,e){const{x:i,y:r,fx:n,fy:a}=t,s=n||a?outerDimensions(e):e;n&&autoScaleRangeX(n,s),a&&autoScaleRangeY(a,s);const o=n||a?innerDimensions(t,e):e;i&&autoScaleRangeX(i,o),r&&autoScaleRangeY(r,o)}function inferScaleLabel(t=[],e){let i;for(const{label:e}of t)if(void 0!==e)if(void 0===i)i=e;else if(i!==e)return;if(void 0!==i)return!isOrdinalScale(e)&&e.percent&&(i=`${i} (%)`),{inferred:!0,toString:()=>i}}function inferScaleOrder(t){return Math.sign(orderof(t.domain()))*Math.sign(orderof(t.range()))}function outerDimensions(t){const{marginTop:e,marginRight:i,marginBottom:r,marginLeft:n,width:a,height:s,facet:{marginTop:o,marginRight:l,marginBottom:c,marginLeft:g}}=t;return{marginTop:Math.max(e,o),marginRight:Math.max(i,l),marginBottom:Math.max(r,c),marginLeft:Math.max(n,g),width:a,height:s}}function innerDimensions({fx:t,fy:e},i){const{marginTop:r,marginRight:n,marginBottom:a,marginLeft:s,width:o,height:l}=outerDimensions(i);return{marginTop:r,marginRight:n,marginBottom:a,marginLeft:s,width:t?t.scale.bandwidth()+s+n:o,height:e?e.scale.bandwidth()+r+a:l,facet:{width:o,height:l}}}function autoScaleRangeX(t,e){if(void 0===t.range){const{insetLeft:i,insetRight:r}=t,{width:n,marginLeft:a=0,marginRight:s=0}=e,o=a+i,l=n-s-r;t.range=[o,Math.max(o,l)],isOrdinalScale(t)||(t.range=piecewiseRange(t)),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRangeY(t,e){if(void 0===t.range){const{insetTop:i,insetBottom:r}=t,{height:n,marginTop:a=0,marginBottom:s=0}=e,o=a+i,l=n-s-r;t.range=[Math.max(o,l),o],isOrdinalScale(t)?t.range.reverse():t.range=piecewiseRange(t),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRound(t){void 0===t.round&&isBandScale(t)&&roundError(t)<=30&&t.scale.round(!0)}function roundError({scale:t}){const e=t.domain().length,[i,r]=t.range(),n=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),s=e-n,o=Math.abs(r-i)/Math.max(1,s+2*a);return(o-Math.floor(o))*s}function piecewiseRange(t){const e=t.scale.domain().length+isThresholdScale(t);if(!(e>2))return t.range;const[i,r]=t.range;return Array.from({length:e},(t,n)=>i+n/(e-1)*(r-i))}function createScale(t,e=[],i={}){const r=inferScaleType(t,e,i);if(void 0===i.type&&void 0===i.domain&&void 0===i.range&&null==i.interval&&"fx"!==t&&"fy"!==t&&isOrdinalScale({type:r})){const i=e.map(({value:t})=>t).filter(t=>void 0!==t);i.some(isTemporal)?warn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(r)}".`):i.some(isTemporalString)?warn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(r)}".`):i.some(isNumericString)&&warn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${formatScaleType(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(r)}".`)}switch(i.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":i=coerceType(e,i,coerceNumbers);break;case"identity":switch(registry.get(t)){case position:i=coerceType(e,i,coerceNumbers);break;case symbol:i=coerceType(e,i,coerceSymbols)}break;case"utc":case"time":i=coerceType(e,i,coerceDates)}switch(r){case"diverging":return createScaleDiverging(t,e,i);case"diverging-sqrt":return createScaleDivergingSqrt(t,e,i);case"diverging-pow":return createScaleDivergingPow(t,e,i);case"diverging-log":return createScaleDivergingLog(t,e,i);case"diverging-symlog":return createScaleDivergingSymlog(t,e,i);case"categorical":case"ordinal":case ordinalImplicit:return createScaleOrdinal(t,e,i);case"cyclical":case"sequential":case"linear":return createScaleLinear(t,e,i);case"sqrt":return createScaleSqrt(t,e,i);case"threshold":return createScaleThreshold(t,e,i);case"quantile":return createScaleQuantile(t,e,i);case"quantize":return createScaleQuantize(t,e,i);case"pow":return createScalePow(t,e,i);case"log":return createScaleLog(t,e,i);case"symlog":return createScaleSymlog(t,e,i);case"utc":return createScaleUtc(t,e,i);case"time":return createScaleTime(t,e,i);case"point":return createScalePoint(t,e,i);case"band":return createScaleBand(t,e,i);case"identity":return createScaleIdentity(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function formatScaleType(t){return"symbol"==typeof t?t.description:t}function maybeScaleType(t){return"string"==typeof t?`${t}`.toLowerCase():t}const typeProjection={toString:()=>"projection"};function inferScaleType(t,e,{type:i,domain:r,range:n,scheme:a,pivot:s,projection:o}){if(i=maybeScaleType(i),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==o||(i=typeProjection);for(const t of e){const e=maybeScaleType(t.type);if(void 0!==e)if(void 0===i)i=e;else if(i!==e)throw new Error(`scale incompatible with channel: ${i} !== ${e}`)}if(i===typeProjection)return;if(void 0!==i)return i;if(void 0===r&&!e.some(({value:t})=>void 0!==t))return;const l=registry.get(t);if(l===radius)return"sqrt";if(l===opacity||l===length)return"linear";if(l===symbol)return"ordinal";const c=(r??n)?.length;if(c<2||c>2)return asOrdinalType(l);if(void 0!==r){if(isOrdinal(r))return asOrdinalType(l);if(isTemporal(r))return"utc"}else{const t=e.map(({value:t})=>t).filter(t=>void 0!==t);if(t.some(isOrdinal))return asOrdinalType(l);if(t.some(isTemporal))return"utc"}if(l===color){if(null!=s||isDivergingScheme(a))return"diverging";if(isCategoricalScheme(a))return"categorical"}return"linear"}function asOrdinalType(t){switch(t){case position:return"point";case color:return ordinalImplicit;default:return"ordinal"}}function isOrdinalScale({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===ordinalImplicit}function isThresholdScale({type:t}){return"threshold"===t}function isBandScale({type:t}){return"point"===t||"band"===t}function isCollapsed(t){if(void 0===t)return!0;const e=t.domain(),i=t(e[0]);for(let r=1,n=e.length;r<n;++r)if(t(e[r])-i)return!1;return!0}function coerceType(t,{domain:e,...i},r){for(const i of t)void 0!==i.value&&(void 0===e&&(e=i.value?.domain),i.value=r(i.value));return{domain:void 0===e?e:r(e),...i}}function coerceSymbols(t){return map(t,maybeSymbol)}function exposeScales(t){return e=>{if(!registry.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function exposeScale({scale:t,type:e,domain:i,range:r,interpolate:n,interval:a,transform:s,percent:o,pivot:l}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const c=t.unknown?t.unknown():void 0;return{type:e,domain:slice(i),...void 0!==r&&{range:slice(r)},...void 0!==s&&{transform:s},...o&&{percent:o},...void 0!==c&&{unknown:c},...void 0!==a&&{interval:a},...void 0!==n&&{interpolate:n},...t.clamp&&{clamp:t.clamp()},...void 0!==l&&{pivot:l,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}function createFacets(t,e){const{fx:i,fy:r}=createScales(t,e),n=i?.scale.domain(),a=r?.scale.domain();return n&&a?cross(n,a).map(([t,e],i)=>({x:t,y:e,i:i})):n?n.map((t,e)=>({x:t,i:e})):a?a.map((t,e)=>({y:t,i:e})):void 0}function recreateFacets(t,{x:e,y:i}){return e&&=facetIndex(e),i&&=facetIndex(i),t.filter(e&&i?t=>e.has(t.x)&&i.has(t.y):e?t=>e.has(t.x):t=>i.has(t.y)).sort(e&&i?(t,r)=>e.get(t.x)-e.get(r.x)||i.get(t.y)-i.get(r.y):e?(t,i)=>e.get(t.x)-e.get(i.x):(t,e)=>i.get(t.y)-i.get(e.y))}function facetGroups(t,{fx:e,fy:i}){const r=range(t),n=e?.value,a=i?.value;return e&&i?rollup(r,t=>(t.fx=n[t[0]],t.fy=a[t[0]],t),t=>n[t],t=>a[t]):e?rollup(r,t=>(t.fx=n[t[0]],t),t=>n[t]):rollup(r,t=>(t.fy=a[t[0]],t),t=>a[t])}function facetTranslator(t,e,{marginTop:i,marginLeft:r}){const n=t?({x:e})=>t(e)-r:()=>0,a=e?({y:t})=>e(t)-i:()=>0;return function(t){"svg"===this.tagName?(this.setAttribute("x",n(t)),this.setAttribute("y",a(t))):this.setAttribute("transform",`translate(${n(t)},${a(t)})`)}}function facetExclude(t){const e=[],i=new Uint32Array(sum(t,t=>t.length));for(const r of t){let n=0;for(const e of t)r!==e&&(i.set(e,n),n+=e.length);e.push(i.slice(0,n))}return e}const facetAnchors=new Map([["top",facetAnchorTop],["right",facetAnchorRight],["bottom",facetAnchorBottom],["left",facetAnchorLeft],["top-left",and(facetAnchorTop,facetAnchorLeft)],["top-right",and(facetAnchorTop,facetAnchorRight)],["bottom-left",and(facetAnchorBottom,facetAnchorLeft)],["bottom-right",and(facetAnchorBottom,facetAnchorRight)],["top-empty",facetAnchorTopEmpty],["right-empty",facetAnchorRightEmpty],["bottom-empty",facetAnchorBottomEmpty],["left-empty",facetAnchorLeftEmpty],["empty",facetAnchorEmpty]]);function maybeFacetAnchor(t){if(null==t)return null;const e=facetAnchors.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const indexCache=new WeakMap;function facetIndex(t){let e=indexCache.get(t);return e||indexCache.set(t,e=new InternMap(map(t,(t,e)=>[t,e]))),e}function facetIndexOf(t,e){return facetIndex(t).get(e)}function facetFind(t,e,i){return e=keyof(e),i=keyof(i),t.find(t=>Object.is(keyof(t.x),e)&&Object.is(keyof(t.y),i))}function facetEmpty(t,e,i){return facetFind(t,e,i)?.empty}function facetAnchorTop(t,{y:e},{y:i}){return!e||0===facetIndexOf(e,i)}function facetAnchorBottom(t,{y:e},{y:i}){return!e||facetIndexOf(e,i)===e.length-1}function facetAnchorLeft(t,{x:e},{x:i}){return!e||0===facetIndexOf(e,i)}function facetAnchorRight(t,{x:e},{x:i}){return!e||facetIndexOf(e,i)===e.length-1}function facetAnchorTopEmpty(t,{y:e},{x:i,y:r,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,r);return a>0?facetEmpty(t,i,e[a-1]):void 0}function facetAnchorBottomEmpty(t,{y:e},{x:i,y:r,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,r);return a<e.length-1?facetEmpty(t,i,e[a+1]):void 0}function facetAnchorLeftEmpty(t,{x:e},{x:i,y:r,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,i);return a>0?facetEmpty(t,e[a-1],r):void 0}function facetAnchorRightEmpty(t,{x:e},{x:i,y:r,empty:n}){if(n)return!1;if(!e)return;const a=facetIndexOf(e,i);return a<e.length-1?facetEmpty(t,e[a+1],r):void 0}function facetAnchorEmpty(t,e,{empty:i}){return i}function and(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function facetFilter(t,{channels:{fx:e,fy:i},groups:r}){return e&&i?t.map(({x:t,y:e})=>r.get(t)?.get(e)??[]):e?t.map(({x:t})=>r.get(t)??[]):t.map(({y:t})=>r.get(t)??[])}const pi=Math.PI,tau=2*pi,defaultAspectRatio=.618;function createProjection({projection:t,inset:e=0,insetTop:i=e,insetRight:r=e,insetBottom:n=e,insetLeft:a=e}={},s){if(null==t)return;if("function"==typeof t.stream)return t;let o,l,c="frame";if(isObject(t)){let e;if(({type:t,domain:l,inset:e,insetTop:i=(void 0!==e?e:i),insetRight:r=(void 0!==e?e:r),insetBottom:n=(void 0!==e?e:n),insetLeft:a=(void 0!==e?e:a),clip:c=c,...o}=t),null==t)return}"function"!=typeof t&&({type:t}=namedProjection(t));const{width:g,height:d,marginLeft:u,marginRight:B,marginTop:F,marginBottom:h}=s,Q=g-u-B-a-r,U=d-F-h-i-n;if(t=t?.({width:Q,height:U,clip:c,...o}),null==t)return;c=maybePostClip(c,u,F,g-B,d-h);let I,b=u+a,p=F+i;if(null!=l){const[[e,i],[r,n]]=geoPath(t).bounds(l),a=Math.min(Q/(r-e),U/(n-i));a>0?(b-=(a*(e+r)-Q)/2,p-=(a*(i+n)-U)/2,I=geoTransform({point(t,e){this.stream.point(t*a+b,e*a+p)}})):warn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return I??=0===b&&0===p?identity():geoTransform({point(t,e){this.stream.point(t+b,e+p)}}),{stream:e=>t.stream(I.stream(c(e)))}}function namedProjection(t){switch(`${t}`.toLowerCase()){case"albers-usa":return scaleProjection(geoAlbersUsa,.7463,.4673);case"albers":return conicProjection(geoAlbers,.7463,.4673);case"azimuthal-equal-area":return scaleProjection(geoAzimuthalEqualArea,4,4);case"azimuthal-equidistant":return scaleProjection(geoAzimuthalEquidistant,tau,tau);case"conic-conformal":return conicProjection(geoConicConformal,tau,tau);case"conic-equal-area":return conicProjection(geoConicEqualArea,6.1702,2.9781);case"conic-equidistant":return conicProjection(geoConicEquidistant,7.312,3.6282);case"equal-earth":return scaleProjection(geoEqualEarth,5.4133,2.6347);case"equirectangular":return scaleProjection(geoEquirectangular,tau,pi);case"gnomonic":return scaleProjection(geoGnomonic,3.4641,3.4641);case"identity":return{type:identity};case"reflect-y":return{type:reflectY};case"mercator":return scaleProjection(geoMercator,tau,tau);case"orthographic":return scaleProjection(geoOrthographic,2,2);case"stereographic":return scaleProjection(geoStereographic,2,2);case"transverse-mercator":return scaleProjection(geoTransverseMercator,tau,tau);default:throw new Error(`unknown projection type: ${t}`)}}function maybePostClip(t,e,i,r,n){if(!1===t||null==t||"number"==typeof t)return t=>t;if(!0===t&&(t="frame"),"frame"===`${t}`.toLowerCase())return clipRectangle(e,i,r,n);throw new Error(`unknown projection clip type: ${t}`)}function scaleProjection(t,e,i){return{type:({width:r,height:n,rotate:a,precision:s=.15,clip:o})=>{const l=t();return null!=s&&l.precision?.(s),null!=a&&l.rotate?.(a),"number"==typeof o&&l.clipAngle?.(o),null!=r&&(l.scale(Math.min(r/e,n/i)),l.translate([r/2,n/2])),l},aspectRatio:i/e}}function conicProjection(t,e,i){const{type:r,aspectRatio:n}=scaleProjection(t,e,i);return{type:t=>{const{parallels:e,domain:i,width:n,height:a}=t,s=r(t);return null!=e&&(s.parallels(e),void 0===i&&null!=n&&s.fitSize([n,a],{type:"Sphere"})),s},aspectRatio:n}}const identity=constant({stream:t=>t}),reflectY=constant(geoTransform({point(t,e){this.stream.point(t,-e)}}));function project(t,e,i,r){const n=i[t],a=i[e],s=n.length,o=i[t]=new Float64Array(s).fill(NaN),l=i[e]=new Float64Array(s).fill(NaN);let c;const g=r.stream({point(t,e){o[c]=t,l[c]=e}});for(c=0;c<s;++c)g.point(n[c],a[c])}function hasProjection({projection:t}={}){return null!=t&&("function"==typeof t.stream||(isObject(t)&&(t=t.type),null!=t))}function projectionAspectRatio(t){if("function"==typeof t?.stream)return.618;if(isObject(t)){let e,i;if(({domain:e,type:t,...i}=t),null!=e&&null!=t){const r="string"==typeof t?namedProjection(t).type:t,[[n,a],[s,o]]=geoPath(r({...i,width:100,height:100})).bounds(e),l=(o-a)/(s-n);return l&&isFinite(l)?l<.2?.2:l>5?5:l:.618}}if(null!=t){if("function"!=typeof t){const{aspectRatio:e}=namedProjection(t);if(e)return e}return.618}}function getGeometryChannels(t){const e=[],i=[],r={scale:"x",value:e},n={scale:"y",value:i},a={point(t,r){e.push(t),i.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const e of t.value)geoStream(e,a);return[r,n]}function xyProjection({x:t,y:e}){if(t||e)return t??=t=>t,e??=t=>t,geoTransform({point(i,r){this.stream.point(t(i),e(r))}})}function createContext(t={}){const{document:e=("undefined"!=typeof window?window.document:void 0),clip:i}=t;return{document:e,clip:maybeClip(i)}}function create(t,{document:e}){return select$5(creator(t).call(e.documentElement))}const unset=Symbol("unset");function memoize1(t){return(1===t.length?memoize1Arg:memoize1Args)(t)}function memoize1Arg(t){let e,i=unset;return r=>(Object.is(i,r)||(i=r,e=t(r)),e)}function memoize1Args(t){let e,i;return(...r)=>((i?.length!==r.length||i.some((t,e)=>!Object.is(t,r[e])))&&(i=r,e=t(...r)),e)}const numberFormat=memoize1(t=>new Intl.NumberFormat(t));function formatNumber(t="en-US"){const e=numberFormat(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}function formatIsoDate(t){return format(t,"Invalid Date")}function formatAuto(t="en-US"){const e=formatNumber(t);return t=>(t instanceof Date?formatIsoDate:"number"==typeof t?e:string)(t)}memoize1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}})),memoize1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));const formatDefault=formatAuto(),offset=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let nextClipId=0;function getClipId(){return"plot-clip-"+ ++nextClipId}function styles(t,{title:e,href:i,ariaLabel:r,ariaDescription:n,ariaHidden:a,target:s,fill:o,fillOpacity:l,stroke:c,strokeWidth:g,strokeOpacity:d,strokeLinejoin:u,strokeLinecap:B,strokeMiterlimit:F,strokeDasharray:h,strokeDashoffset:Q,opacity:U,mixBlendMode:I,imageFilter:b,paintOrder:p,pointerEvents:y,shapeRendering:m,channels:C},{ariaLabel:f,fill:x="currentColor",fillOpacity:A,stroke:v="none",strokeOpacity:L,strokeWidth:R,strokeLinecap:S,strokeLinejoin:G,strokeMiterlimit:E,paintOrder:V}){null===x&&(o=null,l=null),null===v&&(c=null,d=null),isNoneish(x)?isNoneish(v)||isNoneish(o)&&!C?.fill||(v="none"):!isNoneish(v)||isNoneish(c)&&!C?.stroke||(x="none");const[Z,N]=maybeColorChannel(o,x),[D,w]=maybeNumberChannel(l,A),[X,W]=maybeColorChannel(c,v),[H,T]=maybeNumberChannel(d,L),[M,k]=maybeNumberChannel(U);isNone(W)||(void 0===g&&(g=R),void 0===B&&(B=S),void 0===u&&(u=G),void 0!==F||isRound(u)||(F=E),isNone(N)||void 0!==p||(p=V));const[Y,J]=maybeNumberChannel(g);return null!==x&&(t.fill=impliedString(N,"currentColor"),t.fillOpacity=impliedNumber(w,1)),null!==v&&(t.stroke=impliedString(W,"none"),t.strokeWidth=impliedNumber(J,1),t.strokeOpacity=impliedNumber(T,1),t.strokeLinejoin=impliedString(u,"miter"),t.strokeLinecap=impliedString(B,"butt"),t.strokeMiterlimit=impliedNumber(F,4),t.strokeDasharray=impliedString(h,"none"),t.strokeDashoffset=impliedString(Q,"0")),t.target=string(s),t.ariaLabel=string(f),t.ariaDescription=string(n),t.ariaHidden=string(a),t.opacity=impliedNumber(k,1),t.mixBlendMode=impliedString(I,"normal"),t.imageFilter=impliedString(b,"none"),t.paintOrder=impliedString(p,"normal"),t.pointerEvents=impliedString(y,"auto"),t.shapeRendering=impliedString(m,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:i,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:Z,scale:"auto",optional:!0},fillOpacity:{value:D,scale:"auto",optional:!0},stroke:{value:X,scale:"auto",optional:!0},strokeOpacity:{value:H,scale:"auto",optional:!0},strokeWidth:{value:Y,optional:!0},opacity:{value:M,scale:"auto",optional:!0}}}function applyTitle(t,e){e&&t.filter(t=>nonempty(e[t])).append("title").call(applyText,e)}function applyTitleGroup(t,e){e&&t.filter(([t])=>nonempty(e[t])).append("title").call(applyTextGroup,e)}function applyText(t,e){e&&t.text(t=>formatDefault(e[t]))}function applyTextGroup(t,e){e&&t.text(([t])=>formatDefault(e[t]))}function applyChannelStyles(t,{target:e,tip:i},{ariaLabel:r,title:n,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:c,opacity:g,href:d}){r&&applyAttr(t,"aria-label",t=>r[t]),a&&applyAttr(t,"fill",t=>a[t]),s&&applyAttr(t,"fill-opacity",t=>s[t]),o&&applyAttr(t,"stroke",t=>o[t]),l&&applyAttr(t,"stroke-opacity",t=>l[t]),c&&applyAttr(t,"stroke-width",t=>c[t]),g&&applyAttr(t,"opacity",t=>g[t]),d&&applyHref(t,t=>d[t],e),i||applyTitle(t,n)}function applyGroupedChannelStyles(t,{target:e,tip:i},{ariaLabel:r,title:n,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:c,opacity:g,href:d}){r&&applyAttr(t,"aria-label",([t])=>r[t]),a&&applyAttr(t,"fill",([t])=>a[t]),s&&applyAttr(t,"fill-opacity",([t])=>s[t]),o&&applyAttr(t,"stroke",([t])=>o[t]),l&&applyAttr(t,"stroke-opacity",([t])=>l[t]),c&&applyAttr(t,"stroke-width",([t])=>c[t]),g&&applyAttr(t,"opacity",([t])=>g[t]),d&&applyHref(t,([t])=>d[t],e),i||applyTitleGroup(t,n)}function groupAesthetics({ariaLabel:t,title:e,fill:i,fillOpacity:r,stroke:n,strokeOpacity:a,strokeWidth:s,opacity:o,href:l},{tip:c}){return[t,c?void 0:e,i,r,n,a,s,o,l].filter(t=>void 0!==t)}function groupZ(t,e,i){const r=group(t,t=>e[t]);return void 0===i&&r.size>1+t.length>>1&&warn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*groupIndex(t,e,i,r){const{z:n}=i,{z:a}=r,s=groupAesthetics(r,i),o=[...e,...s];for(const e of a?groupZ(t,a,n):[t]){let t,i;t:for(const r of e){for(const t of o)if(!defined(t[r])){i&&i.push(-1);continue t}if(void 0!==t){i.push(r);for(let e=0;e<s.length;++e){if(keyof(s[e][r])!==t[e]){yield i,t=s.map(t=>keyof(t[r])),i=[r];continue t}}}else i&&(yield i),t=s.map(t=>keyof(t[r])),i=[r]}i&&(yield i)}}function applyClip(t,e,i,r){let n;const{clip:a=r.clip}=e;"frame"===a?(t=create("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),n=getFrameClip(r,i)):a&&(n=getGeoClip(a,r)),applyAttr(t,"aria-label",e.ariaLabel),applyAttr(t,"aria-description",e.ariaDescription),applyAttr(t,"aria-hidden",e.ariaHidden),applyAttr(t,"clip-path",n)}function memoizeClip(t){const e=new WeakMap;return(i,r)=>{let n=e.get(i);if(!n){const a=getClipId();select$5(i.ownerSVGElement).append("clipPath").attr("id",a).call(t,i,r),e.set(i,n=`url(#${a})`)}return n}}const getFrameClip=memoizeClip((t,e,i)=>{const{width:r,height:n,marginLeft:a,marginRight:s,marginTop:o,marginBottom:l}=i;t.append("rect").attr("x",a).attr("y",o).attr("width",r-s-a).attr("height",n-o-l)}),geoClipCache=new WeakMap,sphere={type:"Sphere"};function getGeoClip(t,e){let i,r;if((i=geoClipCache.get(e))||geoClipCache.set(e,i=new WeakMap),"Sphere"===t.type&&(t=sphere),!(r=i.get(t))){const n=getClipId();select$5(e.ownerSVGElement).append("clipPath").attr("id",n).append("path").attr("d",e.path()(t)),i.set(t,r=`url(#${n})`)}return r}function applyIndirectStyles(t,e,i,r){applyClip(t,e,i,r),applyAttr(t,"class",e.className),applyAttr(t,"fill",e.fill),applyAttr(t,"fill-opacity",e.fillOpacity),applyAttr(t,"stroke",e.stroke),applyAttr(t,"stroke-width",e.strokeWidth),applyAttr(t,"stroke-opacity",e.strokeOpacity),applyAttr(t,"stroke-linejoin",e.strokeLinejoin),applyAttr(t,"stroke-linecap",e.strokeLinecap),applyAttr(t,"stroke-miterlimit",e.strokeMiterlimit),applyAttr(t,"stroke-dasharray",e.strokeDasharray),applyAttr(t,"stroke-dashoffset",e.strokeDashoffset),applyAttr(t,"shape-rendering",e.shapeRendering),applyAttr(t,"filter",e.imageFilter),applyAttr(t,"paint-order",e.paintOrder);const{pointerEvents:n=(!1===r.pointerSticky?"none":void 0)}=e;applyAttr(t,"pointer-events",n)}function applyDirectStyles(t,e){applyStyle(t,"mix-blend-mode",e.mixBlendMode),applyAttr(t,"opacity",e.opacity)}function applyHref(t,e,i){t.each(function(t){const r=e(t);if(null!=r){const t=this.ownerDocument.createElementNS(namespaces.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(namespaces.xlink,"href",r),null!=i&&t.setAttribute("target",i),this.parentNode.insertBefore(t,this).appendChild(this)}})}function applyAttr(t,e,i){null!=i&&t.attr(e,i)}function applyStyle(t,e,i){null!=i&&t.style(e,i)}function applyTransform(t,e,{x:i,y:r},n=offset,a=offset){n+=e.dx,a+=e.dy,i?.bandwidth&&(n+=i.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(n||a)&&t.attr("transform",`translate(${n},${a})`)}function impliedString(t,e){if((t=string(t))!==e)return t}function impliedNumber(t,e){if((t=number(t))!==e)return t}const validClassName=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function maybeClassName(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!validClassName.test(t))throw new Error(`invalid class name: ${t}`);return t}function applyInlineStyles(t,e){if("string"==typeof e)t.property("style",e);else if(null!=e)for(const i of t)Object.assign(i.style,e)}function applyFrameAnchor({frameAnchor:t},{width:e,height:i,marginTop:r,marginRight:n,marginBottom:a,marginLeft:s}){return[/left$/.test(t)?s:/right$/.test(t)?e-n:(s+e-n)/2,/^top/.test(t)?r:/^bottom/.test(t)?i-a:(r+i-a)/2]}class Mark{constructor(t,e={},i={},r){const{facet:n="auto",facetAnchor:a,fx:s,fy:o,sort:l,dx:c=0,dy:g=0,margin:d=0,marginTop:u=d,marginRight:B=d,marginBottom:F=d,marginLeft:h=d,className:Q,clip:U=r?.clip,channels:I,tip:b,render:p}=i;if(this.data=t,this.sort=isDomainSort(l)?l:null,this.initializer=initializer(i).initializer,this.transform=this.initializer?i.transform:basic(i).transform,null===n||!1===n?this.facet=null:(this.facet=keyword(!0===n?"include":n,"facet",["auto","include","exclude","super"]),this.fx=t===singleton&&"string"==typeof s?[s]:s,this.fy=t===singleton&&"string"==typeof o?[o]:o),this.facetAnchor=maybeFacetAnchor(a),e=maybeNamed(e),void 0!==I&&(e={...maybeChannels(I),...e}),void 0!==r&&(e={...styles(this,i,r),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([e,i])=>{if(isOptions(i.value)){const{value:t,label:e=i.label,scale:r=i.scale}=i.value;i={...i,label:e,scale:r,value:t}}if(t===singleton&&"string"==typeof i.value){const{value:t}=i;i={...i,value:[t]}}return[e,i]}).filter(([t,{value:e,optional:i}])=>{if(null!=e)return!0;if(i)return!1;throw new Error(`missing channel value: ${t}`)})),this.dx=+c,this.dy=+g,this.marginTop=+u,this.marginRight=+B,this.marginBottom=+F,this.marginLeft=+h,this.clip=maybeClip(U),this.tip=maybeTip(b),this.className=string(Q),"super"===this.facet){if(s||o)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:i}=e[t];if("x"===i||"y"===i)throw new Error("super-faceting cannot use x or y")}}null!=p&&(this.render=composeRender(p,this.render))}initialize(t,e,i){let r=dataify(this.data);void 0===t&&null!=r&&(t=[range(r)]);const n=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,i)),r=dataify(r)),void 0!==t&&(t.original=n);const a=createChannels(this.channels,r);return null!=this.sort&&channelDomain(r,t,a,e,this.sort),{data:r,facets:t,channels:a}}filter(t,e,i){for(const r in e){const{filter:n=defined}=e[r];if(null!==n){const e=i[r];t=t.filter(t=>n(e[t]))}}return t}project(t,e,i){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const n=r.replace(/^x|x$/,"y");n in t&&"y"===t[n].scale&&project(r,n,e,i.projection)}}scale(t,e,i){const r=valueObject(t,e);return i.projection&&this.project(t,r,i),r}}function marks(...t){return t.plot=Mark.prototype.plot,t}function composeRender(t,e){if(null==t)return null===e?void 0:e;if(null==e)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof e)throw new TypeError(`invalid render transform: ${e}`);return function(i,r,n,a,s,o){return t.call(this,i,r,n,a,s,(t,i,r,n,a)=>e.call(this,t,i,r,n,a,o))}}function maybeChannels(t){return Object.fromEntries(Object.entries(maybeNamed(t)).map(([t,e])=>(void 0===(e="string"==typeof e?{value:e,label:t}:maybeValue(e)).filter&&null==e.scale&&(e={...e,filter:null}),[t,e])))}function maybeTip(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?keyword(t,"tip",["x","y","xy"]):t}function withTip(t,e){return!0===t?.tip?{...t,tip:e}:isObject(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:e}}:t}function createDimensions(t,e,i={}){let r=.5-offset,n=.5+offset,a=.5+offset,s=.5-offset;for(const{marginTop:t,marginRight:i,marginBottom:o,marginLeft:l}of e)t>r&&(r=t),i>n&&(n=i),o>a&&(a=o),l>s&&(s=l);let{margin:o,marginTop:l=(void 0!==o?o:r),marginRight:c=(void 0!==o?o:n),marginBottom:g=(void 0!==o?o:a),marginLeft:d=(void 0!==o?o:s)}=i;l=+l,c=+c,g=+g,d=+d;let{width:u=640,height:B=autoHeight(t,i,{width:u,marginTopDefault:r,marginRightDefault:n,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,l-r+g-a)}=i;u=+u,B=+B;const F={width:u,height:B,marginTop:l,marginRight:c,marginBottom:g,marginLeft:d};if(t.fx||t.fy){let{margin:t,marginTop:e=(void 0!==t?t:l),marginRight:r=(void 0!==t?t:c),marginBottom:n=(void 0!==t?t:g),marginLeft:a=(void 0!==t?t:d)}=i.facet??{};e=+e,r=+r,n=+n,a=+a,F.facet={marginTop:e,marginRight:r,marginBottom:n,marginLeft:a}}return F}function autoHeight({x:t,y:e,fy:i,fx:r},{projection:n,aspectRatio:a},{width:s,marginTopDefault:o,marginRightDefault:l,marginBottomDefault:c,marginLeftDefault:g}){const d=i&&i.scale.domain().length||1,u=projectionAspectRatio(n);if(u){const t=(1.1*d-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*u,e=Math.max(.1,Math.min(10,t));return Math.round((s-g-l)*e+o+c)}const B=e?isOrdinalScale(e)?e.scale.domain().length||1:Math.max(7,17/d):1;if(null!=a){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const n=aspectRatioLength("y",e)/(aspectRatioLength("x",t)*a),d=r?r.scale.bandwidth():1,u=i?i.scale.bandwidth():1;return(n*(d*(s-g-l)-t.insetLeft-t.insetRight)+e.insetTop+e.insetBottom)/u+o+c}return!(!e&&!i)*Math.max(1,Math.min(60,B*d))*20+30*!!r+60}function aspectRatioLength(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:i,domain:r}=e;let n;switch(i){case"linear":case"utc":case"time":n=Number;break;case"pow":{const t=e.scale.exponent();n=e=>Math.pow(e,t);break}case"log":n=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${i}`)}const[a,s]=extent$2(r);return Math.abs(n(s)-n(a))}const states=new WeakMap;function pointerK(t,e,{x:i,y:r,px:n,py:a,maxRadius:s=40,channels:o,render:l,...c}={}){return s=+s,null!=n&&(i??=null,o={...o,px:{value:n,scale:"x"}}),null!=a&&(r??=null,o={...o,py:{value:a,scale:"y"}}),{x:i,y:r,channels:o,...c,render:composeRender(function(i,r,n,a,o,l){const c=(o={...o,pointerSticky:!1}).ownerSVGElement,{data:g}=o.getMarkState(this);let d=states.get(c);d||states.set(c,d={sticky:!1,roots:[],renders:[]});let u=d.renders.push(E)-1;const{x:B,y:F,fx:h,fy:Q}=r;let U=h?h(i.fx)-a.marginLeft:0,I=Q?Q(i.fy)-a.marginTop:0;B?.bandwidth&&(U+=B.bandwidth()/2),F?.bandwidth&&(I+=F.bandwidth()/2);const b=null!=i.fi;let p;if(b){let t=d.facetStates;t||(d.facetStates=t=new Map),p=t.get(this),p||t.set(this,p=new Map)}const[y,m]=applyFrameAnchor(this,a),{px:C,py:f}=n,x=C?t=>C[t]:anchorX$1(n,y),A=f?t=>f[t]:anchorY$1(n,m);let v,L,R,S;function G(t,e){if(b){if(S&&(S=cancelAnimationFrame(S)),null!=t)return p.set(i.fi,e),void(S=requestAnimationFrame(()=>{S=null;for(const[r,n]of p)if(n<e||n===e&&r<i.fi){t=null;break}E(t)}));p.delete(i.fi)}E(t)}function E(t){if(v===t&&R===d.sticky)return;v=t,R=o.pointerSticky=d.sticky;const e=null==v?[]:[v];b&&(e.fx=i.fx,e.fy=i.fy,e.fi=i.fi);const s=l(e,r,n,a,o);if(L){if(b){const t=L.parentNode,e=L.getAttribute("transform"),i=s.getAttribute("transform");e?s.setAttribute("transform",e):s.removeAttribute("transform"),i?t.setAttribute("transform",i):t.removeAttribute("transform"),s.removeAttribute("aria-label"),s.removeAttribute("aria-description"),s.removeAttribute("aria-hidden")}L.replaceWith(s)}if(d.roots[u]=L=s,!(null==v&&p?.size>1)){const t=null==v?null:isArray(g)?g[v]:g.get(v);o.dispatchValue(t)}return s}function V(r){if(d.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[n,o]=pointof(r);n-=U,o-=I;const l=n<a.marginLeft||n>a.width-a.marginRight?1:t,c=o<a.marginTop||o>a.height-a.marginBottom?1:e;let g=null,u=s*s;for(const t of i){const e=l*(x(t)-n),i=c*(A(t)-o),r=e*e+i*i;r<=u&&(g=t,u=r)}if(null!=g&&(1!==t||1!==e)){const t=x(g)-n,e=A(g)-o;u=t*t+e*e}G(g,u)}return c.addEventListener("pointerenter",V),c.addEventListener("pointermove",V),c.addEventListener("pointerdown",function(t){"mouse"===t.pointerType&&null!=v&&(d.sticky&&d.roots.some(e=>e?.contains(t.target))||(d.sticky?(d.sticky=!1,d.renders.forEach(t=>t(null))):(d.sticky=!0,E(v)),t.stopImmediatePropagation()))}),c.addEventListener("pointerleave",function(t){"mouse"===t.pointerType&&(d.sticky||G(null))}),E(null)},l)}}function pointer(t){return pointerK(1,1,t)}function pointerX(t){return pointerK(1,.01,t)}function pointerY(t){return pointerK(.01,1,t)}function anchorX$1({x1:t,x2:e,x:i=t},r){return t&&e?i=>(t[i]+e[i])/2:i?t=>i[t]:()=>r}function anchorY$1({y1:t,y2:e,y:i=t},r){return t&&e?i=>(t[i]+e[i])/2:i?t=>i[t]:()=>r}function inferFontVariant$2(t){return isOrdinalScale(t)&&void 0===t.interval?void 0:"tabular-nums"}function legendRamp(t,e){let{label:i=t.label,tickSize:r=6,width:n=240,height:a=44+r,marginTop:s=18,marginRight:o=0,marginBottom:l=16+r,marginLeft:c=0,style:g,ticks:d=(n-c-o)/64,tickFormat:u,fontVariant:B=inferFontVariant$2(t),round:F=!0,opacity:h,className:Q}=e;const U=createContext(e);Q=maybeClassName(Q),h=maybeNumberChannel(h)[1],null===u&&(u=()=>null);const I=create("svg",U).attr("class",`${Q}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",n).attr("height",a).attr("viewBox",`0 0 ${n} ${a}`).call(t=>t.append("style").text(`:where(.${Q}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${Q}-ramp text) {\n  white-space: pre;\n}`)).call(applyInlineStyles,g);let b,p=t=>t.selectAll(".tick line").attr("y1",s+l-a);const y=F?(t,e)=>t.rangeRound(e):(t,e)=>t.range(e),{type:m,domain:C,range:f,interpolate:x,scale:A,pivot:v}=t;if(x){const t=void 0===f?x:piecewise(1===x.length?interpolatePiecewise(x):x,f);b=y(A.copy(),quantize(interpolateNumber(c,n-o),Math.min(C.length+(void 0!==v),void 0===f?1/0:f.length)));const e=256,i=U.document.createElement("canvas");i.width=e,i.height=1;const r=i.getContext("2d");for(let i=0,n=e-1;i<e;++i)r.fillStyle=t(i/n),r.fillRect(i,0,1,1);I.append("image").attr("opacity",h).attr("x",c).attr("y",s).attr("width",n-c-o).attr("height",a-s-l).attr("preserveAspectRatio","none").attr("xlink:href",i.toDataURL())}else if("threshold"===m){const t=C,e=void 0===u?t=>t:"string"==typeof u?format$4(u):u;b=y(linear().domain([-1,f.length-1]),[c,n-o]),I.append("g").attr("fill-opacity",h).selectAll().data(f).enter().append("rect").attr("x",(t,e)=>b(e-1)).attr("y",s).attr("width",(t,e)=>b(e)-b(e-1)).attr("height",a-s-l).attr("fill",t=>t),d=map(t,(t,e)=>e),u=i=>e(t[i],i)}else b=y(band().domain(C),[c,n-o]),I.append("g").attr("fill-opacity",h).selectAll().data(C).enter().append("rect").attr("x",b).attr("y",s).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",a-s-l).attr("fill",A),p=()=>{};return I.append("g").attr("transform",`translate(0,${a-l})`).call(axisBottom(b).ticks(Array.isArray(d)?null:d,"string"==typeof u?u:void 0).tickFormat("function"==typeof u?u:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",impliedString(B,"normal")).call(p).call(t=>t.select(".domain").remove()),void 0!==i&&I.append("text").attr("x",c).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(i),I.node()}const radians=Math.PI/180;function markers(t,{marker:e,markerStart:i=e,markerMid:r=e,markerEnd:n=e}={}){t.markerStart=maybeMarker(i),t.markerMid=maybeMarker(r),t.markerEnd=maybeMarker(n)}function maybeMarker(t){if(null==t||!1===t)return null;if(!0===t)return markerCircleFill;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return markerArrow("auto");case"arrow-reverse":return markerArrow("auto-start-reverse");case"dot":return markerDot;case"circle":case"circle-fill":return markerCircleFill;case"circle-stroke":return markerCircleStroke;case"tick":return markerTick("auto");case"tick-x":return markerTick(90);case"tick-y":return markerTick(0)}throw new Error(`invalid marker: ${t}`)}function markerArrow(t){return(e,i)=>create("svg:marker",i).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function markerDot(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function markerCircleFill(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function markerCircleStroke(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function markerTick(t){return(e,i)=>create("svg:marker",i).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(t=>t.append("path").attr("d","M0,-3v6")).node()}let nextMarkerId=0;function applyMarkers(t,e,{stroke:i},r){return applyMarkersColor(t,e,i&&(t=>i[t]),null,r)}function applyGroupedMarkers(t,e,{stroke:i,z:r},n){return applyMarkersColor(t,e,i&&(([t])=>i[t]),r,n)}const START=1,END=2;function getGroupedOrientation(t,e){const i=new Uint8Array(e.length),r=t.data().filter(t=>t.length>1),n=r.length;for(let t=0,a=unset;t<n;++t){const n=r[t];if(n.length>1){const t=n[0];a!==(a=keyof(e[t]))&&(i[t]|=START)}}for(let t=n-1,a=unset;t>=0;--t){const n=r[t];if(n.length>1){const t=n[0];a!==(a=keyof(e[t]))&&(i[t]|=END)}}return([t])=>i[t]}function applyMarkersColor(t,{markerStart:e,markerMid:i,markerEnd:r,stroke:n},a=()=>n,s,o){if(!e&&!i&&!r)return;const l=new Map,c=s&&getGroupedOrientation(t,s);function g(t,e,i){return function(r){if(i&&!i(r))return;const n=a(r);let s=l.get(e);s||l.set(e,s=new Map);let c=s.get(n);if(!c){const t=this.parentNode.insertBefore(e(n,o),this),i="plot-marker-"+ ++nextMarkerId;t.setAttribute("id",i),s.set(n,c=`url(#${i})`)}this.setAttribute(t,c)}}e&&t.each(g("marker-start",e,c&&(t=>c(t)&START))),i&&c&&t.each(g("marker-start",i,t=>!(c(t)&START))),i&&t.each(g("marker-mid",i)),r&&t.each(g("marker-end",r,c&&(t=>c(t)&END)))}function maybeInsetX({inset:t,insetLeft:e,insetRight:i,...r}={}){return[e,i]=maybeInset(t,e,i),{inset:t,insetLeft:e,insetRight:i,...r}}function maybeInsetY({inset:t,insetTop:e,insetBottom:i,...r}={}){return[e,i]=maybeInset(t,e,i),{inset:t,insetTop:e,insetBottom:i,...r}}function maybeInset(t,e,i){return void 0===t&&void 0===e&&void 0===i?offset?[1,0]:[.5,.5]:[e,i]}function maybeIntervalValue(t,{interval:e}){return(t={...maybeValue(t)}).interval=maybeInterval(void 0===t.interval?e:t.interval),t}function maybeIntervalK(t,e,i,r){const{[t]:n,[`${t}1`]:a,[`${t}2`]:s}=i,{value:o,interval:l}=maybeIntervalValue(n,i);if(null==o||null==l&&!r)return i;const c=labelof(n);if(null==l){let e;const n={transform:t=>e||(e=valueof(t,o)),label:c};return{...i,[t]:void 0,[`${t}1`]:void 0===a?n:a,[`${t}2`]:void 0!==s||a===s&&r?s:n}}let g,d;function u(t){return void 0!==d&&t===g?d:d=map(valueof(g=t,o),t=>l.floor(t))}return e({...i,[t]:void 0,[`${t}1`]:void 0===a?{transform:u,label:c}:a,[`${t}2`]:void 0===s?{transform:t=>u(t).map(t=>l.offset(t)),label:c}:s})}function maybeIntervalMidK(t,e,i){const{[t]:r}=i,{value:n,interval:a}=maybeIntervalValue(r,i);return null==n||null==a?i:e({...i,[t]:{label:labelof(r),transform:t=>{const e=map(valueof(t,n),t=>a.floor(t)),i=e.map(t=>a.offset(t));return e.map(isTemporal(e)?(t,e)=>null==t||isNaN(t=+t)||null==(e=i[e])||isNaN(e=+e)?void 0:new Date((t+e)/2):(t,e)=>null==t||null==(e=i[e])?NaN:(+t+ +e)/2)}}})}function maybeTrivialIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t,!0)}function maybeIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t)}function maybeIntervalY(t={}){return maybeIntervalK("y",maybeInsetY,t)}function maybeIntervalMidX(t={}){return maybeIntervalMidK("x",maybeInsetX,t)}function maybeIntervalMidY(t={}){return maybeIntervalMidK("y",maybeInsetY,t)}const defaults$7={ariaLabel:"rule",fill:null,stroke:"currentColor"};class RuleX extends Mark{constructor(t,e={}){const{x:i,y1:r,y2:n,inset:a=0,insetTop:s=a,insetBottom:o=a}=e;super(t,{x:{value:i,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:n,scale:"y",optional:!0}},withTip(e,"x"),defaults$7),this.insetTop=number(s),this.insetBottom=number(o),markers(this,e)}render(t,e,i,r,n){const{x:a,y:s}=e,{x:o,y1:l,y2:c}=i,{width:g,height:d,marginTop:u,marginRight:B,marginLeft:F,marginBottom:h}=r,{insetTop:Q,insetBottom:U}=this;return create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyTransform,this,{x:o&&a},offset,0).call(e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",o?t=>o[t]:(F+g-B)/2).attr("x2",o?t=>o[t]:(F+g-B)/2).attr("y1",l&&!isCollapsed(s)?t=>l[t]+Q:u+Q).attr("y2",c&&!isCollapsed(s)?s.bandwidth?t=>c[t]+s.bandwidth()-U:t=>c[t]-U:d-h-U).call(applyChannelStyles,this,i).call(applyMarkers,this,i,n)).node()}}class RuleY extends Mark{constructor(t,e={}){const{x1:i,x2:r,y:n,inset:a=0,insetRight:s=a,insetLeft:o=a}=e;super(t,{y:{value:n,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},withTip(e,"y"),defaults$7),this.insetRight=number(s),this.insetLeft=number(o),markers(this,e)}render(t,e,i,r,n){const{x:a,y:s}=e,{y:o,x1:l,x2:c}=i,{width:g,height:d,marginTop:u,marginRight:B,marginLeft:F,marginBottom:h}=r,{insetLeft:Q,insetRight:U}=this;return create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyTransform,this,{y:o&&s},0,offset).call(e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",l&&!isCollapsed(a)?t=>l[t]+Q:F+Q).attr("x2",c&&!isCollapsed(a)?a.bandwidth?t=>c[t]+a.bandwidth()-U:t=>c[t]-U:g-B-U).attr("y1",o?t=>o[t]:(u+d-h)/2).attr("y2",o?t=>o[t]:(u+d-h)/2).call(applyChannelStyles,this,i).call(applyMarkers,this,i,n)).node()}}function ruleX(t,e){let{x:i=identity$1,y:r,y1:n,y2:a,...s}=maybeIntervalY(e);return[n,a]=maybeOptionalZero(r,n,a),new RuleX(t,{...s,x:i,y1:n,y2:a})}function ruleY(t,e){let{y:i=identity$1,x:r,x1:n,x2:a,...s}=maybeIntervalX(e);return[n,a]=maybeOptionalZero(r,n,a),new RuleY(t,{...s,y:i,x1:n,x2:a})}function maybeOptionalZero(t,e,i){if(null==t){if(void 0===e){if(void 0!==i)return[0,i]}else if(void 0===i)return[0,e]}else{if(void 0===e)return void 0===i?[0,t]:[t,i];if(void 0===i)return[t,e]}return[e,i]}function template(t,...e){let i=e.length;for(let r=0,n=!0;r<i;++r)"function"!=typeof e[r]&&(n&&(t=t.slice(),n=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--i);return r=>{let n=t[0];for(let a=0;a<i;++a)n+=e[a](r)+t[a+1];return n}}const defaults$6={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},softHyphen="Â­";class Text extends Mark{constructor(t,e={}){const{x:i,y:r,text:n=(isIterable(t)&&isTextual(t)?identity$1:indexOf),frameAnchor:a,textAnchor:s=(/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle"),lineAnchor:o=(/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle"),lineHeight:l=1,lineWidth:c=1/0,textOverflow:g,monospace:d,fontFamily:u=(d?"ui-monospace, monospace":void 0),fontSize:B,fontStyle:F,fontVariant:h,fontWeight:Q,rotate:U}=e,[I,b]=maybeNumberChannel(U,0),[p,y]=maybeFontSizeChannel(B);if(super(t,{x:{value:i,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:p,optional:!0},rotate:{value:numberChannel(I),optional:!0},text:{value:n,filter:nonempty,optional:!0}},e,defaults$6),this.rotate=b,this.textAnchor=impliedString(s,"middle"),this.lineAnchor=keyword(o,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+c,this.textOverflow=maybeTextOverflow(g),this.monospace=!!d,this.fontFamily=string(u),this.fontSize=y,this.fontStyle=string(F),this.fontVariant=string(h),this.fontWeight=string(Q),this.frameAnchor=maybeFrameAnchor(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=splitter(this),this.clipLine=clipper(this)}render(t,e,i,r,n){const{x:a,y:s}=e,{x:o,y:l,rotate:c,text:g,title:d,fontSize:u}=i,{rotate:B}=this,[F,h]=applyFrameAnchor(this,r);return create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyIndirectTextStyles,this,g,r).call(applyTransform,this,{x:o&&a,y:l&&s}).call(e=>e.selectAll().data(t).enter().append("text").call(applyDirectStyles,this).call(applyMultilineText,this,g,d).attr("transform",template`translate(${o?t=>o[t]:F},${l?t=>l[t]:h})${c?t=>` rotate(${c[t]})`:B?` rotate(${B})`:""}`).call(applyAttr,"font-size",u&&(t=>u[t])).call(applyChannelStyles,this,i)).node()}}function maybeTextOverflow(t){return null==t?null:keyword(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function applyMultilineText(t,e,i,r){if(!i)return;const{lineAnchor:n,lineHeight:a,textOverflow:s,splitLines:o,clipLine:l}=e;t.each(function(t){const e=o(formatDefault(i[t])??"").map(l),c=e.length,g="top"===n?.71:"bottom"===n?1-c:(164-100*c)/200;if(c>1){let t=0;for(let i=0;i<c;++i){if(++t,!e[i])continue;const r=this.ownerDocument.createElementNS(namespaces.svg,"tspan");r.setAttribute("x",0),i===t-1?r.setAttribute("y",(g+i)*a+"em"):r.setAttribute("dy",t*a+"em"),r.textContent=e[i],this.appendChild(r),t=0}}else g&&this.setAttribute("y",g*a+"em"),this.textContent=e[0];if(s&&!r&&e[0]!==i[t]){const e=this.ownerDocument.createElementNS(namespaces.svg,"title");e.textContent=i[t],this.appendChild(e)}})}function text(t,{x:e,y:i,...r}={}){return void 0===r.frameAnchor&&([e,i]=maybeTuple(e,i)),new Text(t,{...r,x:e,y:i})}function textX(t,{x:e=identity$1,...i}={}){return new Text(t,maybeIntervalMidY({...i,x:e}))}function textY(t,{y:e=identity$1,...i}={}){return new Text(t,maybeIntervalMidX({...i,y:e}))}function applyIndirectTextStyles(t,e,i){applyAttr(t,"text-anchor",e.textAnchor),applyAttr(t,"font-family",e.fontFamily),applyAttr(t,"font-size",e.fontSize),applyAttr(t,"font-style",e.fontStyle),applyAttr(t,"font-variant",void 0===e.fontVariant?inferFontVariant$1(i):e.fontVariant),applyAttr(t,"font-weight",e.fontWeight)}function inferFontVariant$1(t){return t&&(isNumeric(t)||isTemporal(t))?"tabular-nums":void 0}const fontSizes=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function maybeFontSizeChannel(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),fontSizes.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function lineWrap(t,e,i){const r=[];let n,a=0;for(const[s,o,l]of lineBreaks(t))void 0===n&&(n=s),a>n&&i(t,n,o)>e&&(r.push(t.slice(n,a)+("Â­"===t[a-1]?"-":"")),n=s),l?(r.push(t.slice(n,o)),n=void 0):a=o;return r}function*lineBreaks(t){let e=0,i=0;const r=t.length;for(;i<r;){let r=1;switch(t[i]){case"Â­":case"-":++i,yield[e,i,!1],e=i;break;case" ":for(yield[e,i,!1];" "===t[++i];);e=i;break;case"\r":"\n"===t[i+1]&&++r;case"\n":yield[e,i,!0],i+=r,e=i;break;default:++i}}yield[e,i,!0]}const defaultWidthMap={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"â":31,"â":31,"â":47,"â":47,"â¦":82};function defaultWidth(t,e=0,i=t.length){let r=0;for(let n=e;n<i;n=readCharacter(t,n))r+=defaultWidthMap[t[n]]??(isPictographic(t,n)?120:defaultWidthMap.e);return r}function monospaceWidth(t,e=0,i=t.length){let r=0;for(let n=e;n<i;n=readCharacter(t,n))r+=isPictographic(t,n)?126:63;return r}function splitter({monospace:t,lineWidth:e,textOverflow:i}){if(null!=i||e==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?monospaceWidth:defaultWidth,n=100*e;return t=>lineWrap(t,n,r)}function clipper({monospace:t,lineWidth:e,textOverflow:i}){if(null==i||e==1/0)return t=>t;const r=t?monospaceWidth:defaultWidth,n=100*e;switch(i){case"clip-start":return t=>clipStart(t,n,r,"");case"clip-end":return t=>clipEnd(t,n,r,"");case"ellipsis-start":return t=>clipStart(t,n,r,ellipsis);case"ellipsis-middle":return t=>clipMiddle(t,n,r,ellipsis);case"ellipsis-end":return t=>clipEnd(t,n,r,ellipsis)}}const ellipsis="â¦";function cut(t,e,i,r){const n=[];let a=0;for(let s=0,o=0,l=t.length;s<l;s=o){o=readCharacter(t,s);const l=i(t,s,o);if(a+l>e){for(a+=r;a>e&&s>0;)o=s,s=n.pop(),a-=i(t,s,o);return[s,e-a]}a+=l,n.push(s)}return[-1,0]}function clipEnd(t,e,i,r){t=t.trim();const n=i(r),[a]=cut(t,e,i,n);return a<0?t:t.slice(0,a).trimEnd()+r}function clipMiddle(t,e,i,r){const n=i(t=t.trim());if(n<=e)return t;const a=i(r)/2,[s,o]=cut(t,e/2,i,a),[l]=cut(t,n-e/2-o+a,i,-a);return l<0?r:t.slice(0,s).trimEnd()+r+t.slice(readCharacter(t,l)).trimStart()}function clipStart(t,e,i,r){const n=i(t=t.trim());if(n<=e)return t;const a=i(r),[s]=cut(t,n-e+a,i,-a);return s<0?r:r+t.slice(readCharacter(t,s)).trimStart()}const reCombiner=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rePictographic=/\p{Extended_Pictographic}/uy;function readCharacter(t,e){return isCombiner(t,e+=isSurrogatePair(t,e)?2:1)&&(e=reCombiner.lastIndex),isZeroWidthJoiner(t,e)?readCharacter(t,e+1):e}function isAscii(t,e){return t.charCodeAt(e)<128}function isSurrogatePair(t,e){const i=t.charCodeAt(e);if(i>=55296&&i<56320){const i=t.charCodeAt(e+1);return i>=56320&&i<57344}return!1}function isZeroWidthJoiner(t,e){return 8205===t.charCodeAt(e)}function isCombiner(t,e){return!isAscii(t,e)&&(reCombiner.lastIndex=e,reCombiner.test(t))}function isPictographic(t,e){return!isAscii(t,e)&&(rePictographic.lastIndex=e,rePictographic.test(t))}const defaults$5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},defaultRadius=3.5,wingRatio=5*defaultRadius,shapeArrow={draw(t,e,i){const r=e*i/wingRatio;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},shapeSpike={draw(t,e,i){t.moveTo(-i,0),t.lineTo(0,-e),t.lineTo(i,0)}},shapes=new Map([["arrow",shapeArrow],["spike",shapeSpike]]);function isShapeObject(t){return t&&"function"==typeof t.draw}function maybeShape(t){if(isShapeObject(t))return t;const e=shapes.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Vector extends Mark{constructor(t,e={}){const{x:i,y:r,r:n=defaultRadius,length:a,rotate:s,shape:o=shapeArrow,anchor:l="middle",frameAnchor:c}=e,[g,d]=maybeNumberChannel(a,12),[u,B]=maybeNumberChannel(s,0);super(t,{x:{value:i,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:g,scale:"length",optional:!0},rotate:{value:u,optional:!0}},e,defaults$5),this.r=+n,this.length=d,this.rotate=B,this.shape=maybeShape(o),this.anchor=keyword(l,"anchor",["start","middle","end"]),this.frameAnchor=maybeFrameAnchor(c)}render(t,e,i,r,n){const{x:a,y:s}=e,{x:o,y:l,length:c,rotate:g}=i,{length:d,rotate:u,anchor:B,shape:F,r:h}=this,[Q,U]=applyFrameAnchor(this,r);return create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyTransform,this,{x:o&&a,y:l&&s}).call(e=>e.selectAll().data(t).enter().append("path").call(applyDirectStyles,this).attr("transform",template`translate(${o?t=>o[t]:Q},${l?t=>l[t]:U})${g?t=>` rotate(${g[t]})`:u?` rotate(${u})`:""}${"start"===B?"":"end"===B?c?t=>` translate(0,${c[t]})`:` translate(0,${d})`:c?t=>` translate(0,${c[t]/2})`:` translate(0,${d/2})`}`).attr("d",c?t=>{const e=pathRound();return F.draw(e,c[t],h),e}:(()=>{const t=pathRound();return F.draw(t,d,h),t})()).call(applyChannelStyles,this,i)).node()}}function vectorX(t,e={}){const{x:i=identity$1,...r}=e;return new Vector(t,{...r,x:i})}function vectorY(t,e={}){const{y:i=identity$1,...r}=e;return new Vector(t,{...r,y:i})}function maybeData(t,e){return arguments.length<2&&!isIterable(t)&&(e=t,t=null),void 0===e&&(e={}),[t,e]}function maybeAnchor({anchor:t}={},e){return void 0===t?e[0]:keyword(t,"anchor",e)}function anchorY(t){return maybeAnchor(t,["left","right"])}function anchorFy(t){return maybeAnchor(t,["right","left"])}function anchorX(t){return maybeAnchor(t,["bottom","top"])}function anchorFx(t){return maybeAnchor(t,["top","bottom"])}function axisY(){const[t,e]=maybeData(...arguments);return axisKy("y",anchorY(e),t,e)}function axisFy(){const[t,e]=maybeData(...arguments);return axisKy("fy",anchorFy(e),t,e)}function axisX(){const[t,e]=maybeData(...arguments);return axisKx("x",anchorX(e),t,e)}function axisFx(){const[t,e]=maybeData(...arguments);return axisKx("fx",anchorFx(e),t,e)}function axisKy(t,e,i,{color:r="currentColor",opacity:n=1,stroke:a=r,strokeOpacity:s=n,strokeWidth:o=1,fill:l=r,fillOpacity:c=n,textAnchor:g,textStroke:d,textStrokeOpacity:u,textStrokeWidth:B,tickSize:F=("y"===t?6:0),tickPadding:h,tickRotate:Q,x:U,margin:I,marginTop:b=(void 0===I?20:I),marginRight:p=(void 0===I?"right"===e?40:0:I),marginBottom:y=(void 0===I?20:I),marginLeft:m=(void 0===I?"left"===e?40:0:I),label:C,labelAnchor:f,labelArrow:x,labelOffset:A,ariaLabel:v=`${t}-axis`,...L}){return F=number(F),h=number(h),Q=number(Q),void 0!==f&&(f=keyword(f,"labelAnchor",["center","top","bottom"])),x=maybeLabelArrow(x),marks(F&&!isNoneish(a)?axisTickKy(t,e,i,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:F,tickPadding:h,tickRotate:Q,x:U,ariaLabel:v,...L}):null,isNoneish(l)?null:axisTextKy(t,e,i,{fill:l,fillOpacity:c,stroke:d,strokeOpacity:u,strokeWidth:B,textAnchor:g,tickSize:F,tickPadding:h,tickRotate:Q,x:U,marginTop:b,marginRight:p,marginBottom:y,marginLeft:m,ariaLabel:v,...L}),isNoneish(l)||null===C?null:text([],labelOptions({fill:l,fillOpacity:c,...L},function(i,r,n,a,s){const o=a[t],{marginTop:l,marginRight:c,marginBottom:g,marginLeft:d}="y"===t&&s.inset||s,u=f??(o.bandwidth?"center":"top"),B=A??("right"===e?c:d)-3;return"center"===u?(this.textAnchor=void 0,this.lineAnchor="right"===e?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor="right"===e?"end":"start",this.lineAnchor=u,this.frameAnchor=`${u}-${e}`,this.rotate=0),this.dy="top"===u?3-l:"bottom"===u?g-3:0,this.dx="right"===e?B:-B,this.ariaLabel=`${v} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,o,{anchor:e,label:C,labelAnchor:u,labelArrow:x})]}}}})))}function axisKx(t,e,i,{color:r="currentColor",opacity:n=1,stroke:a=r,strokeOpacity:s=n,strokeWidth:o=1,fill:l=r,fillOpacity:c=n,textAnchor:g,textStroke:d,textStrokeOpacity:u,textStrokeWidth:B,tickSize:F=("x"===t?6:0),tickPadding:h,tickRotate:Q,y:U,margin:I,marginTop:b=(void 0===I?"top"===e?30:0:I),marginRight:p=(void 0===I?20:I),marginBottom:y=(void 0===I?"bottom"===e?30:0:I),marginLeft:m=(void 0===I?20:I),label:C,labelAnchor:f,labelArrow:x,labelOffset:A,ariaLabel:v=`${t}-axis`,...L}){return F=number(F),h=number(h),Q=number(Q),void 0!==f&&(f=keyword(f,"labelAnchor",["center","left","right"])),x=maybeLabelArrow(x),marks(F&&!isNoneish(a)?axisTickKx(t,e,i,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:F,tickPadding:h,tickRotate:Q,y:U,ariaLabel:v,...L}):null,isNoneish(l)?null:axisTextKx(t,e,i,{fill:l,fillOpacity:c,stroke:d,strokeOpacity:u,strokeWidth:B,textAnchor:g,tickSize:F,tickPadding:h,tickRotate:Q,y:U,marginTop:b,marginRight:p,marginBottom:y,marginLeft:m,ariaLabel:v,...L}),isNoneish(l)||null===C?null:text([],labelOptions({fill:l,fillOpacity:c,...L},function(i,r,n,a,s){const o=a[t],{marginTop:l,marginRight:c,marginBottom:g,marginLeft:d}="x"===t&&s.inset||s,u=f??(o.bandwidth?"center":"right"),B=A??("top"===e?l:g)-3;return"center"===u?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${u}`,this.textAnchor="right"===u?"end":"start"),this.lineAnchor=e,this.dy="top"===e?-B:B,this.dx="right"===u?c-3:"left"===u?3-d:0,this.ariaLabel=`${v} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,o,{anchor:e,label:C,labelAnchor:u,labelArrow:x})]}}}})))}function axisTickKy(t,e,i,{strokeWidth:r=1,strokeLinecap:n=null,strokeLinejoin:a=null,facetAnchor:s=e+("y"===t?"-empty":""),frameAnchor:o=e,tickSize:l,inset:c=0,insetLeft:g=c,insetRight:d=c,dx:u=0,y:B=("y"===t?void 0:null),ariaLabel:F,...h}){return axisMark(vectorY,t,i,{ariaLabel:`${F} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:n,strokeLinejoin:a,facetAnchor:s,frameAnchor:o,y:B,...h,dx:"left"===e?+u-offset+ +g:+u+offset-d,anchor:"start",length:l,shape:"left"===e?shapeTickLeft:shapeTickRight})}function axisTickKx(t,e,i,{strokeWidth:r=1,strokeLinecap:n=null,strokeLinejoin:a=null,facetAnchor:s=e+("x"===t?"-empty":""),frameAnchor:o=e,tickSize:l,inset:c=0,insetTop:g=c,insetBottom:d=c,dy:u=0,x:B=("x"===t?void 0:null),ariaLabel:F,...h}){return axisMark(vectorX,t,i,{ariaLabel:`${F} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:n,facetAnchor:s,frameAnchor:o,x:B,...h,dy:"bottom"===e?+u-offset-d:+u+offset+ +g,anchor:"start",length:l,shape:"bottom"===e?shapeTickBottom:shapeTickTop})}function axisTextKy(t,e,i,{facetAnchor:r=e+("y"===t?"-empty":""),frameAnchor:n=e,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*radians):0),text:l,textAnchor:c=(Math.abs(s)>60?"middle":"left"===e?"end":"start"),lineAnchor:g=(s>60?"top":s<-60?"bottom":"middle"),fontVariant:d,inset:u=0,insetLeft:B=u,insetRight:F=u,dx:h=0,ariaLabel:Q,y:U=("y"===t?void 0:null),...I}){return axisMark(textY,t,i,{ariaLabel:`${Q} tick label`},{facetAnchor:r,frameAnchor:n,text:l,textAnchor:c,lineAnchor:g,fontVariant:d,rotate:s,y:U,...I,dx:"left"===e?+h-a-o+ +B:+h+ +a+ +o-F},function(t,i,r,n,a){void 0===d&&(this.fontVariant=inferFontVariant(t)),void 0===l&&(a.text=inferTextChannel(t,i,r,n,e))})}function axisTextKx(t,e,i,{facetAnchor:r=e+("x"===t?"-empty":""),frameAnchor:n=e,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*radians):0),text:l,textAnchor:c=(Math.abs(s)>=10?s<0^"bottom"===e?"start":"end":"middle"),lineAnchor:g=(Math.abs(s)>=10?"middle":"bottom"===e?"top":"bottom"),fontVariant:d,inset:u=0,insetTop:B=u,insetBottom:F=u,dy:h=0,x:Q=("x"===t?void 0:null),ariaLabel:U,...I}){return axisMark(textX,t,i,{ariaLabel:`${U} tick label`},{facetAnchor:r,frameAnchor:n,text:void 0===l?null:l,textAnchor:c,lineAnchor:g,fontVariant:d,rotate:s,x:Q,...I,dy:"bottom"===e?+h+ +a+ +o-F:+h-a-o+ +B},function(t,i,r,n,a){void 0===d&&(this.fontVariant=inferFontVariant(t)),void 0===l&&(a.text=inferTextChannel(t,i,r,n,e))})}function gridY(){const[t,e]=maybeData(...arguments);return gridKy("y",anchorY(e),t,e)}function gridFy(){const[t,e]=maybeData(...arguments);return gridKy("fy",anchorFy(e),t,e)}function gridX(){const[t,e]=maybeData(...arguments);return gridKx("x",anchorX(e),t,e)}function gridFx(){const[t,e]=maybeData(...arguments);return gridKx("fx",anchorFx(e),t,e)}function gridKy(t,e,i,{y:r=("y"===t?void 0:null),x:n=null,x1:a=("left"===e?n:null),x2:s=("right"===e?n:null),ariaLabel:o=`${t}-grid`,ariaHidden:l=!0,...c}){return axisMark(ruleY,t,i,{ariaLabel:o,ariaHidden:l},{y:r,x1:a,x2:s,...gridDefaults(c)})}function gridKx(t,e,i,{x:r=("x"===t?void 0:null),y:n=null,y1:a=("top"===e?n:null),y2:s=("bottom"===e?n:null),ariaLabel:o=`${t}-grid`,ariaHidden:l=!0,...c}){return axisMark(ruleX,t,i,{ariaLabel:o,ariaHidden:l},{x:r,y1:a,y2:s,...gridDefaults(c)})}function gridDefaults({color:t="currentColor",opacity:e=.1,stroke:i=t,strokeOpacity:r=e,strokeWidth:n=1,...a}){return{stroke:i,strokeOpacity:r,strokeWidth:n,...a}}function labelOptions({fill:t,fillOpacity:e,fontFamily:i,fontSize:r,fontStyle:n,fontVariant:a,fontWeight:s,monospace:o,pointerEvents:l,shapeRendering:c,clip:g=!1},d){return[,t]=maybeColorChannel(t),[,e]=maybeNumberChannel(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:i,fontSize:r,fontStyle:n,fontVariant:a,fontWeight:s,monospace:o,pointerEvents:l,shapeRendering:c,clip:g,initializer:d}}function axisMark(t,e,i,r,n,a){let s;const o=initializer(n).initializer,l=t(i,initializer({...n,initializer:function(t,i,r,o,l,c){const g=null==t&&("fx"===e||"fy"===e),{[e]:d}=o;if(!d)throw new Error(`missing scale: ${e}`);const u=d.domain();let{interval:B,ticks:F,tickFormat:h,tickSpacing:Q=("x"===e?80:35)}=n;if("string"==typeof F&&hasTemporalDomain(d)&&(B=F,F=void 0),void 0===F&&(F=maybeRangeInterval(B,d.type)??inferTickCount(d,Q)),null==t){if(isIterable(F))t=arrayify(F);else if(isInterval(F))t=inclusiveRange(F,...extent$2(u));else if(d.interval){let e=d.interval;if(d.ticks){const[i,r]=extent$2(u);e=generalizeTimeInterval(e,(r-i)/e[intervalDuration]/F)??e,t=inclusiveRange(e,i,r)}else{e=generalizeTimeInterval(e,(t=u).length/F)??e,e!==d.interval&&(t=inclusiveRange(e,...extent$2(t)))}if(e===d.interval){const e=Math.round(t.length/F);e>1&&(t=t.filter((t,i)=>i%e===0))}}else t=d.ticks?d.ticks(F):u;if(!d.ticks&&t.length&&t!==u){const i=new InternSet(u);t=t.filter(t=>i.has(t)),t.length||warn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===e||"x"===e?i=[range(t)]:s[e]={scale:e,value:identity$1}}a?.call(this,d,t,F,h,s);const U=Object.fromEntries(Object.entries(s).map(([e,i])=>[e,{...i,value:valueof(t,i.value)}]));return g&&(i=c.filterFacets(t,U)),{data:t,facets:i,channels:U}}},o));return null==i?(s=l.channels,l.channels={}):s={},void 0!==r&&Object.assign(l,r),void 0===l.clip&&(l.clip=!1),l}function inferTickCount(t,e){const[i,r]=extent$2(t.range());return(r-i)/e}function inferTextChannel(t,e,i,r,n){return{value:inferTickFormat(t,e,i,r,n)}}function inferTickFormat(t,e,i,r,n){return"function"!=typeof r||"log"===t.type&&t.tickFormat?void 0===r&&e&&isTemporal(e)?inferTimeFormat(t.type,e,n)??formatDefault:t.tickFormat?t.tickFormat("number"==typeof i?i:null,r):"string"==typeof r&&t.domain().length>0?(isTemporal(t.domain())?utcFormat$3:format$4)(r):void 0===r?formatDefault:constant(r):r}function inclusiveRange(t,e,i){return t.range(e,t.offset(t.floor(i)))}const shapeTickBottom={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},shapeTickTop={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},shapeTickLeft={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},shapeTickRight={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function inferFontVariant(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function formatAxisLabel(t,e,{anchor:i,label:r=e.label,labelAnchor:n,labelArrow:a}={}){if(!(null==r||r.inferred&&hasTemporalDomain(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===a&&(a=(!e.bandwidth||e.interval)&&!/[ââââ]/.test(r)),!a)return r;if(!0===a){const i=inferScaleOrder(e);i&&(a=/x$/.test(t)||"center"===n?/x$/.test(t)===i<0?"left":"right":i<0?"up":"down")}switch(a){case"left":return`â ${r}`;case"right":return`${r} â`;case"up":return"right"===i?`${r} â`:`â ${r}`;case"down":return"right"===i?`${r} â`:`â ${r}`}return r}}function maybeLabelArrow(t="auto"){return!isNoneish(t)&&("boolean"==typeof t?t:keyword(t,"labelArrow",["auto","up","right","down","left"]))}function hasTemporalDomain(t){return isTemporal(t.domain())}function maybeScale(t,e){if(null==e)return e;const i=t(e);if(!i)throw new Error(`scale not found: ${e}`);return i}function legendSwatches(t,{opacity:e,...i}={}){if(!isOrdinalScale(t)&&!isThresholdScale(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return legendItems(t,i,(t,i,r,n)=>t.append("svg").attr("width",r).attr("height",n).attr("fill",i.scale).attr("fill-opacity",maybeNumberChannel(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function legendSymbols(t,{fill:e=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:i=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:isNoneish(e)?"currentColor":"none"),strokeOpacity:n=1,strokeWidth:a=1.5,r:s=4.5,...o}={},l){const[c,g]=maybeColorChannel(e),[d,u]=maybeColorChannel(r),B=maybeScale(l,c),F=maybeScale(l,d),h=s*s*Math.PI;return i=maybeNumberChannel(i)[1],n=maybeNumberChannel(n)[1],a=maybeNumberChannel(a)[1],legendItems(t,o,(e,r,s,o)=>e.append("svg").attr("viewBox","-8 -8 16 16").attr("width",s).attr("height",o).attr("fill","color"===c?t=>B.scale(t):g).attr("fill-opacity",i).attr("stroke","color"===d?t=>F.scale(t):u).attr("stroke-opacity",n).attr("stroke-width",a).append("path").attr("d",e=>{const i=pathRound();return t.scale(e).draw(i,h),i}))}function legendItems(t,e={},i){let{columns:r,tickFormat:n,fontVariant:a=inferFontVariant$2(t),swatchSize:s=15,swatchWidth:o=s,swatchHeight:l=s,marginLeft:c=0,className:g,style:d,width:u}=e;const B=createContext(e);g=maybeClassName(g),n=inferTickFormat(t.scale,t.domain,void 0,n);const F=create("div",B).attr("class",`${g}-swatches ${g}-swatches-${null!=r?"columns":"wrap"}`);let h;return null!=r?(h=`:where(.${g}-swatches-columns .${g}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${g}-swatches-columns .${g}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${g}-swatches-columns .${g}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,F.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${g}-swatch`).call(i,t,o,l).call(t=>t.append("div").attr("class",`${g}-swatch-label`).attr("title",n).text(n))):(h=`:where(.${g}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${g}-swatches-wrap .${g}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,F.selectAll().data(t.domain).enter().append("span").attr("class",`${g}-swatch`).call(i,t,o,l).append(function(){return this.ownerDocument.createTextNode(n.apply(this,arguments))})),F.call(t=>t.insert("style","*").text(`:where(.${g}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${g}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${h}`)).style("margin-left",c?+c+"px":null).style("width",void 0===u?null:+u+"px").style("font-variant",impliedString(a,"normal")).call(applyInlineStyles,d).node()}const legendRegistry=new Map([["symbol",legendSymbols],["color",legendColor],["opacity",legendOpacity]]);function exposeLegends(t,e,i={}){return(r,n)=>{if(!legendRegistry.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return legendRegistry.get(r)(t[r],legendOptions(e,i[r],n),e=>t[e])}}function legendOptions({className:t,...e},{label:i,ticks:r,tickFormat:n}={},a){return inherit(a,{className:t,...e},{label:i,ticks:r,tickFormat:n})}function legendColor(t,{legend:e=!0,...i}){if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return legendSwatches(t,i);case"ramp":return legendRamp(t,i);default:throw new Error(`unknown legend type: ${e}`)}}function legendOpacity({type:t,interpolate:e,...i},{legend:r=!0,color:n=rgb(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(!0===r&&(r="ramp"),"ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return legendColor({type:t,...i,interpolate:interpolateOpacity(n)},{legend:r,...a})}function interpolateOpacity(t){const{r:e,g:i,b:r}=rgb(t)||rgb(0,0,0);return t=>`rgba(${e},${i},${r},${t})`}function createLegends(t,e,i){const r=[];for(const[n,a]of legendRegistry){const s=i[n];if(s?.legend&&n in t){const i=a(t[n],legendOptions(e,t[n],s),e=>t[e]);null!=i&&r.push(i)}}return r}function maybeIdentityY(t={},e="y"){return hasY(t)?t:{...t,[e]:identity$1}}function exclusiveFacets(t,e){if(1===e.length)return{data:t,facets:e};const i=lengthof(t),r=new Uint8Array(i);let n=0;for(const t of e)for(const e of t)r[e]&&++n,r[e]=1;if(0===n)return{data:t,facets:e};const a=(t=slice(t))[reindex]=new Uint32Array(i+n);e=e.map(t=>slice(t,Uint32Array));let s=i;r.fill(0);for(const i of e)for(let e=0,n=i.length;e<n;++e){const n=i[e];r[n]?(i[e]=s,t[s]=t[n],a[s]=n,++s):a[n]=n,r[n]=1}return{data:t,facets:e}}function stackY(t={},e={}){1===arguments.length&&([t,e]=mergeOptions$1(t));const{x1:i,x:r=i,y:n,...a}=e,[s,o,l,c]=stack(r,n,"x","y",t,a);return{...s,x1:i,x:o,y1:l,y2:c,y:mid(l,c)}}function maybeStackY({y:t,y1:e,y2:i,...r}={}){return r=withTip(r,"x"),void 0===e&&void 0===i?stackY({y:t,...r}):([e,i]=maybeZero(t,e,i),{...r,y1:e,y2:i})}function mergeOptions$1(t){const{offset:e,order:i,reverse:r,...n}=t;return[{offset:e,order:i,reverse:r},n]}const lengthy={length:!0};function stack(t,e=one,i,r,{offset:n,order:a,reverse:s},o){if(null===e)throw new Error(`stack requires ${r}`);const l=maybeZ(o),[c,g]=maybeColumn(t),[d,u]=column(e),[B,F]=column(e);return d.hint=B.hint=lengthy,n=maybeOffset(n),a=maybeOrder(a,n,r),[basic(o,(r,o,c)=>{({data:r,facets:o}=exclusiveFacets(r,o));const d=null==t?void 0:g(maybeApplyInterval(valueof(r,t),c?.[i])),B=valueof(r,e,Float64Array),h=valueof(r,l),Q=a&&a(r,d,B,h),U=lengthof(r),I=u(new Float64Array(U)),b=F(new Float64Array(U)),p=[];for(const t of o){const e=d?Array.from(group(t,t=>d[t]).values()):[t];if(Q)for(const t of e)t.sort(Q);for(const t of e){let e=0,i=0;s&&t.reverse();for(const r of t){const t=B[r];t<0?e=b[r]=(I[r]=e)+t:t>0?i=b[r]=(I[r]=i)+t:b[r]=I[r]=i}}p.push(e)}return n&&n(p,I,b,h),{data:r,facets:o}}),c,d,B]}function maybeOffset(t){if(null!=t){if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return offsetExpand;case"center":case"silhouette":return offsetCenter;case"wiggle":return offsetWiggle}throw new Error(`unknown offset: ${t}`)}}function extent(t,e){let i=0,r=0;for(const n of t){const t=e[n];t<i&&(i=t),t>r&&(r=t)}return[i,r]}function offsetExpand(t,e,i){for(const r of t)for(const t of r){const[r,n]=extent(t,i);for(const a of t){const t=1/(n-r||1);e[a]=t*(e[a]-r),i[a]=t*(i[a]-r)}}}function offsetCenter(t,e,i){for(const r of t){for(const t of r){const[r,n]=extent(t,i);for(const a of t){const t=(n+r)/2;e[a]-=t,i[a]-=t}}offsetZero(r,e,i)}offsetCenterFacets(t,e,i)}function offsetWiggle(t,e,i,r){for(const n of t){const t=new InternMap;let a=0;for(const s of n){let n=-1;const o=s.map(t=>Math.abs(i[t]-e[t])),l=s.map(a=>{n=r?r[a]:++n;const s=i[a]-e[a],o=t.has(n)?s-t.get(n):0;return t.set(n,s),o}),c=[0,...cumsum(l)];for(const t of s)e[t]+=a,i[t]+=a;const g=sum(o);g&&(a-=sum(o,(t,e)=>(l[e]/2+c[e])*t)/g)}offsetZero(n,e,i)}offsetCenterFacets(t,e,i)}function offsetZero(t,e,i){const r=min$1(t,t=>min$1(t,t=>e[t]));for(const n of t)for(const t of n)e[t]-=r,i[t]-=r}function offsetCenterFacets(t,e,i){const r=t.length;if(1===r)return;const n=t.map(t=>t.flat()),a=n.map(t=>(min$1(t,t=>e[t])+max$1(t,t=>i[t]))/2),s=min$1(a);for(let t=0;t<r;t++){const r=s-a[t];for(const a of n[t])e[a]+=r,i[a]+=r}}function maybeOrder(t,e,i){if(void 0===t&&e===offsetWiggle)return orderInsideOut(ascendingDefined);if(null!=t){if("string"==typeof t){const e=t.startsWith("-"),r=e?descendingDefined:ascendingDefined;switch((e?t.slice(1):t).toLowerCase()){case"value":case i:return orderY(r);case"z":return orderZ(r);case"sum":return orderSum(r);case"appearance":return orderAppearance(r);case"inside-out":return orderInsideOut(r)}return orderAccessor(field(t))}if("function"==typeof t)return(1===t.length?orderAccessor:orderComparator)(t);if(isArray(t))return orderGiven(t);throw new Error(`invalid order: ${t}`)}}function orderY(t){return(e,i,r)=>(e,i)=>t(r[e],r[i])}function orderZ(t){return(e,i,r,n)=>(e,i)=>t(n[e],n[i])}function orderSum(t){return orderZDomain(t,(t,e,i,r)=>groupSort(range(t),t=>sum(t,t=>i[t]),t=>r[t]))}function orderAppearance(t){return orderZDomain(t,(t,e,i,r)=>groupSort(range(t),t=>e[greatest(t,t=>i[t])],t=>r[t]))}function orderInsideOut(t){return orderZDomain(t,(t,e,i,r)=>{const n=range(t),a=groupSort(n,t=>e[greatest(t,t=>i[t])],t=>r[t]),s=rollup(n,t=>sum(t,t=>i[t]),t=>r[t]),o=[],l=[];let c=0;for(const t of a)c<0?(c+=s.get(t),o.push(t)):(c-=s.get(t),l.push(t));return l.reverse().concat(o)})}function orderAccessor(t){return e=>{const i=valueof(e,t);return(t,e)=>ascendingDefined(i[t],i[e])}}function orderComparator(t){return e=>isArray(e)?(i,r)=>t(e[i],e[r]):(i,r)=>t(e.get(i),e.get(r))}function orderGiven(t){return orderZDomain(ascendingDefined,()=>t)}function orderZDomain(t,e){return(i,r,n,a)=>{if(!a)throw new Error("missing channel: z");const s=new InternMap(e(i,r,n,a).map((t,e)=>[t,e]));return(e,i)=>t(s.get(a[e]),s.get(a[i]))}}const defaults$4={ariaLabel:"rect"};class Rect extends Mark{constructor(t,e={}){const{x1:i,y1:r,x2:n,y2:a}=e;super(t,{x1:{value:i,scale:"x",type:null!=i&&null==n?"band":void 0,optional:!0},y1:{value:r,scale:"y",type:null!=r&&null==a?"band":void 0,optional:!0},x2:{value:n,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,defaults$4),rectInsets(this,e),rectRadii(this,e)}render(t,e,i,r,n){const{x:a,y:s}=e;let{x1:o,y1:l,x2:c,y2:g}=i;const{marginTop:d,marginRight:u,marginBottom:B,marginLeft:F,width:h,height:Q}=r,{projection:U}=n,{insetTop:I,insetRight:b,insetBottom:p,insetLeft:y}=this,{rx:m,ry:C,rx1y1:f,rx1y2:x,rx2y1:A,rx2y2:v}=this;(o||c)&&!U&&isCollapsed(a)&&(o=c=null),(l||g)&&!U&&isCollapsed(s)&&(l=g=null);const L=a?.bandwidth?a.bandwidth():0,R=s?.bandwidth?s.bandwidth():0;return create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyTransform,this,{},0,0).call(e=>e.selectAll().data(t).enter().call(f||x||A||v?t=>t.append("path").call(applyDirectStyles,this).call(applyRoundedRect,o&&c?t=>o[t]+(c[t]<o[t]?-b:y):o?t=>o[t]+y:F+y,l&&g?t=>l[t]+(g[t]<l[t]?-p:I):l?t=>l[t]+I:d+I,o&&c?t=>c[t]-(c[t]<o[t]?-y:b):o?t=>o[t]+L-b:h-u-b,l&&g?t=>g[t]-(g[t]<l[t]?-I:p):l?t=>l[t]+R-p:Q-B-p,this).call(applyChannelStyles,this,i):t=>t.append("rect").call(applyDirectStyles,this).attr("x",o?c?t=>Math.min(o[t],c[t])+y:t=>o[t]+y:F+y).attr("y",l?g?t=>Math.min(l[t],g[t])+I:t=>l[t]+I:d+I).attr("width",o?c?t=>Math.max(0,Math.abs(c[t]-o[t])+L-y-b):L-y-b:h-u-F-b-y).attr("height",l?g?t=>Math.max(0,Math.abs(l[t]-g[t])+R-I-p):R-I-p:Q-d-B-I-p).call(applyAttr,"rx",m).call(applyAttr,"ry",C).call(applyChannelStyles,this,i))).node()}}function rectInsets(t,{inset:e=0,insetTop:i=e,insetRight:r=e,insetBottom:n=e,insetLeft:a=e}={}){t.insetTop=number(i),t.insetRight=number(r),t.insetBottom=number(n),t.insetLeft=number(a)}function rectRadii(t,{r:e,rx:i,ry:r,rx1:n=e,ry1:a=e,rx2:s=e,ry2:o=e,rx1y1:l=(void 0!==n?+n:void 0!==a?+a:0),rx1y2:c=(void 0!==n?+n:void 0!==o?+o:0),rx2y1:g=(void 0!==s?+s:void 0!==a?+a:0),rx2y2:d=(void 0!==s?+s:void 0!==o?+o:0)}={}){l||c||g||d?(t.rx1y1=l,t.rx1y2=c,t.rx2y1=g,t.rx2y2=d):(t.rx=impliedString(i,"auto"),t.ry=impliedString(r,"auto"))}function applyRoundedRect(t,e,i,r,n,a){const{rx1y1:s,rx1y2:o,rx2y1:l,rx2y2:c}=a;"function"!=typeof e&&(e=constant(e)),"function"!=typeof i&&(i=constant(i)),"function"!=typeof r&&(r=constant(r)),"function"!=typeof n&&(n=constant(n));const g=Math.max(Math.abs(s+l),Math.abs(o+c)),d=Math.max(Math.abs(s+o),Math.abs(l+c));t.attr("d",t=>{const a=e(t),u=i(t),B=r(t),F=n(t),h=a>B,Q=u>F,U=h?B:a,I=h?a:B,b=Q?F:u,p=Q?u:F,y=Math.min(1,(I-U)/g,(p-b)/d),m=y*(h?Q?c:l:Q?o:s),C=y*(h?Q?o:s:Q?c:l),f=y*(h?Q?s:o:Q?l:c),x=y*(h?Q?l:c:Q?s:o);return`M${U},${b+biasY(m,x)}A${m},${m} 0 0 ${m<0?0:1} ${U+biasX(m,x)},${b}H${I-biasX(C,f)}A${C},${C} 0 0 ${C<0?0:1} ${I},${b+biasY(C,f)}V${p-biasY(f,C)}A${f},${f} 0 0 ${f<0?0:1} ${I-biasX(f,C)},${p}H${U+biasX(x,m)}A${x},${x} 0 0 ${x<0?0:1} ${U},${p-biasY(x,m)}Z`})}function biasX(t,e){return e<0?t:Math.abs(t)}function biasY(t,e){return e<0?Math.abs(t):t}function rectY(t,e={}){return hasXY(e)||(e={...e,x:indexOf,y2:identity$1,interval:1}),new Rect(t,maybeStackY(maybeTrivialIntervalX(maybeIdentityY(e))))}const defaults$3={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lineDefaults={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Frame extends Mark{constructor(t={}){const{anchor:e=null}=t;super(singleton,void 0,t,null==e?defaults$3:lineDefaults),this.anchor=maybeKeyword(e,"anchor",["top","right","bottom","left"]),rectInsets(this,t),e||rectRadii(this,t)}render(t,e,i,r,n){const{marginTop:a,marginRight:s,marginBottom:o,marginLeft:l,width:c,height:g}=r,{anchor:d,insetTop:u,insetRight:B,insetBottom:F,insetLeft:h}=this,{rx:Q,ry:U,rx1y1:I,rx1y2:b,rx2y1:p,rx2y2:y}=this,m=l+h,C=c-s-B,f=a+u,x=g-o-F;return create(d?"svg:line":I||b||p||y?"svg:path":"svg:rect",n).datum(0).call(applyIndirectStyles,this,r,n).call(applyDirectStyles,this).call(applyChannelStyles,this,i).call(applyTransform,this,{}).call("left"===d?t=>t.attr("x1",m).attr("x2",m).attr("y1",f).attr("y2",x):"right"===d?t=>t.attr("x1",C).attr("x2",C).attr("y1",f).attr("y2",x):"top"===d?t=>t.attr("x1",m).attr("x2",C).attr("y1",f).attr("y2",f):"bottom"===d?t=>t.attr("x1",m).attr("x2",C).attr("y1",x).attr("y2",x):I||b||p||y?t=>t.call(applyRoundedRect,m,f,C,x,this):t=>t.attr("x",m).attr("y",f).attr("width",C-m).attr("height",x-f).attr("rx",Q).attr("ry",U)).node()}}function frame(t){return new Frame(t)}const defaults$2={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ignoreChannels=new Set(["geometry","href","src","ariaLabel","scales"]);class Tip extends Mark{constructor(t,e={}){e.tip&&(e={...e,tip:!1}),void 0===e.title&&isIterable(t)&&isTextual(t)&&(e={...e,title:identity$1});const{x:i,y:r,x1:n,x2:a,y1:s,y2:o,anchor:l,preferredAnchor:c="bottom",monospace:g,fontFamily:d=(g?"ui-monospace, monospace":void 0),fontSize:u,fontStyle:B,fontVariant:F,fontWeight:h,lineHeight:Q=1,lineWidth:U=20,frameAnchor:I,format:b,textAnchor:p="start",textOverflow:y,textPadding:m=8,title:C,pointerSize:f=12,pathFilter:x="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(t,{x:{value:null!=n&&null!=a?null:i,scale:"x",optional:!0},y:{value:null!=s&&null!=o?null:r,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:null==a},y1:{value:s,scale:"y",optional:null==o},x2:{value:a,scale:"x",optional:null==n},y2:{value:o,scale:"y",optional:null==s},title:{value:C,optional:!0}},e,defaults$2),this.anchor=maybeAnchor$1(l,"anchor"),this.preferredAnchor=maybeAnchor$1(c,"preferredAnchor"),this.frameAnchor=maybeFrameAnchor(I),this.textAnchor=impliedString(p,"middle"),this.textPadding=+m,this.pointerSize=+f,this.pathFilter=string(x),this.lineHeight=+Q,this.lineWidth=+U,this.textOverflow=maybeTextOverflow(y),this.monospace=!!g,this.fontFamily=string(d),this.fontSize=number(u),this.fontStyle=string(B),this.fontVariant=string(F),this.fontWeight=string(h);for(const t in defaults$2)t in this.channels&&(this[t]=defaults$2[t]);this.splitLines=splitter(this),this.clipLine=clipper(this),this.format="string"==typeof b||"function"==typeof b?{title:b}:{...b}}render(t,e,i,r,n){const a=this,{x:s,y:o,fx:l,fy:c}=e,{ownerSVGElement:g,document:d}=n,{anchor:u,monospace:B,lineHeight:F,lineWidth:h}=this,{textPadding:Q,pointerSize:U,pathFilter:I}=this,{marginTop:b,marginLeft:p}=r,{x1:y,y1:m,x2:C,y2:f,x:x=y??C,y:A=m??f}=i,v=l?l(t.fx)-p:0,L=c?c(t.fy)-b:0,[R,S]=applyFrameAnchor(this,r),G=anchorX$1(i,R),E=anchorY$1(i,S),V=B?monospaceWidth:defaultWidth,Z=V(ellipsis);let N,D;"title"in i?(N=getSourceChannels.call(this,{title:i.channels.title},e),D=formatTitle):(N=getSourceChannels.call(this,i.channels,e),D=formatChannels);const w=create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyIndirectTextStyles,this).call(applyTransform,this,{x:x&&s,y:A&&o}).call(r=>r.selectAll().data(t).enter().append("g").attr("transform",t=>`translate(${Math.round(G(t))},${Math.round(E(t))})`).call(applyDirectStyles,this).call(t=>t.append("path").attr("filter",I)).call(r=>r.append("text").each(function(r){const n=select$5(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const s=D.call(a,r,t,N,e,i);if("string"==typeof s)for(const t of a.splitLines(s))X(n,{value:a.clipLine(t)});else{const t=new Set;for(const e of s){const{label:i=""}=e;i&&t.has(i)||(t.add(i),X(n,e))}}})));function X(t,{label:e,value:i,color:r,opacity:n}){e??="",i??="";const a=null!=r||null!=n;let s,o=100*h;const[l]=cut(e,o,V,Z);if(l>=0)e=e.slice(0,l).trimEnd()+ellipsis,s=i.trim(),i="";else{(e||!i&&!a)&&(i=" "+i);const[t]=cut(i,o-V(e),V,Z);t>=0&&(s=i.trim(),i=i.slice(0,t).trimEnd()+ellipsis)}const c=t.append("tspan").attr("x",0).attr("dy",`${F}em`).text("â");e&&c.append("tspan").attr("font-weight","bold").text(e),i&&c.append(()=>d.createTextNode(i)),a&&c.append("tspan").text(" â ").attr("fill",r).attr("fill-opacity",n).style("user-select","none"),s&&c.append("title").text(s)}function W(){const{width:t,height:e}=r.facet??r;w.selectChildren().each(function(i){let{x:r,width:n,height:s}=this.getBBox();n=Math.round(n),s=Math.round(s);let o=u;if(void 0===o){const r=G(i)+v,l=E(i)+L,c=r+n+U+2*Q<t,g=r-n-U-2*Q>0,d=l+s+U+2*Q<e,u=l-s-U-2*Q>0;o=c&&g?d&&u?a.preferredAnchor:u?"bottom":"top":d&&u?c?"left":"right":(c||g)&&(d||u)?`${u?"bottom":"top"}-${c?"left":"right"}`:a.preferredAnchor}const l=this.firstChild,c=this.lastChild;if(l.setAttribute("d",getPath(o,U,Q,n,s)),r)for(const t of c.childNodes)t.setAttribute("x",-r);c.setAttribute("y",+getLineOffset(o,c.childNodes.length,F).toFixed(6)+"em"),c.setAttribute("transform",`translate(${getTextTranslate(o,U,Q,n,s)})`)}),w.attr("visibility",null)}return t.length&&(w.attr("visibility","hidden"),g.isConnected?Promise.resolve().then(W):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(W)),w.node()}}function tip(t,{x:e,y:i,...r}={}){return void 0===r.frameAnchor&&([e,i]=maybeTuple(e,i)),new Tip(t,{...r,x:e,y:i})}function getLineOffset(t,e,i){return/^top(?:-|$)/.test(t)?.94-i:-.29-e*i}function getTextTranslate(t,e,i,r,n){switch(t){case"middle":return[-r/2,n/2];case"top-left":return[i,e+i];case"top":return[-r/2,e/2+i];case"top-right":return[-r-i,e+i];case"right":return[-e/2-r-i,n/2];case"bottom-left":return[i,-e-i];case"bottom":return[-r/2,-e/2-i];case"bottom-right":return[-r-i,-e-i];case"left":return[i+e/2,n/2]}}function getPath(t,e,i,r,n){const a=r+2*i,s=n+2*i;switch(t){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${s}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${s}h${-a}v${-s}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${s}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-s/2}h${-a}v${s}h${a}v${e/2-s/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-s}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-s}h${-a}v${s}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-s}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-s/2}h${a}v${s}h${-a}v${e/2-s/2}z`}}function getSourceChannels(t,e){const i={};let r=this.format;r=maybeExpandPairedFormat(r,t,"x"),r=maybeExpandPairedFormat(r,t,"y"),this.format=r;for(const e in r){const n=r[e];if(null!==n&&!1!==n)if("fx"===e||"fy"===e)i[e]=!0;else{const r=getSource(t,e);r&&(i[e]=r)}}for(const e in t){if(e in i||e in r||ignoreChannels.has(e))continue;if(("x"===e||"y"===e)&&t.geometry)continue;const n=getSource(t,e);if(n){if(null==n.scale&&"color"===n.defaultScale)continue;i[e]=n}}this.facet&&(e.fx&&!("fx"in r)&&(i.fx=!0),e.fy&&!("fy"in r)&&(i.fy=!0));for(const t in i){const r=this.format[t];if("string"==typeof r){const n=i[t]?.value??e[t]?.domain()??[];this.format[t]=(isTemporal(n)?utcFormat$3:format$4)(r)}else if(void 0===r||!0===r){const i=e[t];this.format[t]=i?.bandwidth?inferTickFormat(i,i.domain()):formatDefault}}return i}function maybeExpandPairedFormat(t,e,i){if(!(i in t))return t;const r=`${i}1`,n=`${i}2`;if(!(!(r in t)&&r in e||!(n in t)&&n in e))return t;const a=Object.entries(t),s=t[i];return a.splice(a.findIndex(([t])=>t===i)+1,0,[r,s],[n,s]),Object.fromEntries(a)}function formatTitle(t,e,{title:i}){return this.format.title(i.value[t],t)}function*formatChannels(t,e,i,r,n){for(const a in i){if("fx"===a||"fy"===a){yield{label:formatLabel(r,i,a),value:this.format[a](e[a],t)};continue}if("x1"===a&&"x2"in i)continue;if("y1"===a&&"y2"in i)continue;const s=i[a];if("x2"===a&&"x1"in i)yield{label:formatPairLabel(r,i,"x"),value:formatPair(this.format.x2,i.x1,s,t)};else if("y2"===a&&"y1"in i)yield{label:formatPairLabel(r,i,"y"),value:formatPair(this.format.y2,i.y1,s,t)};else{const e=s.value[t],o=s.scale;if(!defined(e)&&null==o)continue;yield{label:formatLabel(r,i,a),value:this.format[a](e,t),color:"color"===o?n[a][t]:null,opacity:"opacity"===o?n[a][t]:null}}}}function formatPair(t,e,i,r){return i.hint?.length?`${t(i.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}â${t(i.value[r],r)}`}function formatPairLabel(t,e,i){const r=formatLabel(t,e,`${i}1`,i),n=formatLabel(t,e,`${i}2`,i);return r===n?r:`${r}â${n}`}function formatLabel(t,e,i,r=i){const n=e[i],a=t[n?.scale??i];return String(a?.label??n?.label??r)}function plot(t={}){const{facet:e,style:i,title:r,subtitle:n,caption:a,ariaLabel:s,ariaDescription:o}=t,l=maybeClassName(t.className),c=void 0===t.marks?[]:flatMarks(t.marks);c.push(...inferTips(c));const g=maybeTopFacet(e,t),d=new Map;for(const e of c){const i=maybeMarkFacet(e,g,t);i&&d.set(e,i)}const u=new Map;g&&addScaleChannels(u,[g],t),addScaleChannels(u,d,t);const B=flatMarks(inferAxes(c,u,t));for(const e of B){const i=maybeMarkFacet(e,g,t);i&&d.set(e,i)}c.unshift(...B);let F=createFacets(u,t);if(void 0!==F){const t=g?facetFilter(F,g):void 0;for(const e of c){if(null===e.facet||"super"===e.facet)continue;const i=d.get(e);void 0!==i&&(i.facetsIndex=null!=e.fx||null!=e.fy?facetFilter(F,i):t)}const e=new Set;for(const{facetsIndex:t}of d.values())t?.forEach((t,i)=>{t?.length>0&&e.add(i)});F.forEach(0<e.size&&e.size<F.length?(t,i)=>t.empty=!e.has(i):t=>t.empty=!1);for(const t of c)if("exclude"===t.facet){const e=d.get(t);void 0!==e&&(e.facetsIndex=facetExclude(e.facetsIndex))}}for(const e of registry.keys())isScaleOptions(t[e])&&"fx"!==e&&"fy"!==e&&u.set(e,[]);const h=new Map;for(const e of c){if(h.has(e))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:i,channels:r}=d.get(e)??{},{data:n,facets:a,channels:s}=e.initialize(i,r,t);applyScaleTransforms(s,t),h.set(e,{data:n,facets:a,channels:s})}const Q=createScales(addScaleChannels(u,h,t),t),U=createDimensions(Q,c,t);autoScaleRange(Q,U);const I=createScaleFunctions(Q),{fx:b,fy:p}=I,y=b||p?innerDimensions(Q,U):U,m=b||p?actualDimensions(I,U):U,C=createContext(t),f=C.document,x=creator("svg").call(f.documentElement);let A=x;C.ownerSVGElement=x,C.className=l,C.projection=createProjection(t,y),C.path=function(){return geoPath(this.projection??xyProjection(I))},C.filterFacets=(t,e)=>facetFilter(F,{channels:e,groups:facetGroups(t,e)}),C.getMarkState=t=>{const e=h.get(t),i=d.get(t);return{...e,channels:{...e.channels,...i?.channels}}},C.dispatchValue=t=>{A.value!==t&&(A.value=t,A.dispatchEvent(new C.document.defaultView.Event("input",{bubbles:!0})))};const v=new Set;for(const[e,i]of h)if(null!=e.initializer){const r="super"===e.facet?m:y,n=e.initializer(i.data,i.facets,i.channels,I,r,C);if(void 0!==n.data&&(i.data=n.data),void 0!==n.facets&&(i.facets=n.facets),void 0!==n.channels){const{fx:r,fy:a,...s}=n.channels;inferChannelScales(s),Object.assign(i.channels,s);for(const e of Object.values(s)){const{scale:i}=e;null==i||isPosition(registry.get(i))||(applyScaleTransform(e,t),v.add(i))}null==r&&null==a||d.set(e,!0)}}if(v.size){const e=new Map;addScaleChannels(e,h,t,t=>v.has(t)),addScaleChannels(u,h,t,t=>v.has(t));const i=inheritScaleLabels(createScales(e,t),Q),{scales:r,...n}=createScaleFunctions(i);Object.assign(Q,i),Object.assign(I,n),Object.assign(I.scales,r)}let L,R;void 0!==F&&(L={x:b?.domain(),y:p?.domain()},F=recreateFacets(F,L),R=facetTranslator(b,p,U));for(const[t,e]of h)e.values=t.scale(e.channels,I,C);const{width:S,height:G}=U;select$5(x).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",S).attr("height",G).attr("viewBox",`0 0 ${S} ${G}`).attr("aria-label",s).attr("aria-description",o).call(t=>t.append("style").text(`:where(.${l}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${l} text),\n:where(.${l} tspan) {\n  white-space: pre;\n}`)).call(applyInlineStyles,i);for(const t of c){const{channels:e,values:i,facets:r}=h.get(t);if(void 0===F||"super"===t.facet){let n=null;if(r&&(n=r[0],n=t.filter(n,e,i),0===n.length))continue;const a=t.render(n,I,i,m,C);if(null==a)continue;x.appendChild(a)}else{let n;for(const a of F){if(!(t.facetAnchor?.(F,L,a)??!a.empty))continue;let s=null;if(r){const n=d.has(t);if(s=r[n?a.i:0],s=t.filter(s,e,i),0===s.length)continue;n||s!==r[0]||(s=subarray(s)),s.fx=a.x,s.fy=a.y,s.fi=a.i}const o=t.render(s,I,i,y,C);if(null!=o){(n??=select$5(x).append("g")).append(()=>o).datum(a);for(const t of["aria-label","aria-description","aria-hidden","transform"])o.hasAttribute(t)&&(n.attr(t,o.getAttribute(t)),o.removeAttribute(t))}}n?.selectChildren().each(R)}}const E=createLegends(Q,C,t),{figure:V=null!=r||null!=n||null!=a||E.length>0}=t;V&&(A=f.createElement("figure"),A.className=`${l}-figure`,A.style.maxWidth="initial",null!=r&&A.append(createTitleElement(f,r,"h2")),null!=n&&A.append(createTitleElement(f,n,"h3")),A.append(...E,x),null!=a&&A.append(createFigcaption(f,a)),"value"in x&&(A.value=x.value,delete x.value)),A.scale=exposeScales(I.scales),A.legend=exposeLegends(Q,C,t);const Z=consumeWarnings();return Z>0&&select$5(x).append("text").attr("x",S).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("â ï¸").append("title").text(`${Z.toLocaleString("en-US")} warning${1===Z?"":"s"}. Please check the console.`),A}function createTitleElement(t,e,i){if(e.ownerDocument)return e;const r=t.createElement(i);return r.append(e),r}function createFigcaption(t,e){const i=t.createElement("figcaption");return i.append(e),i}function flatMarks(t){return t.flat(1/0).filter(t=>null!=t).map(markify)}function markify(t){return"function"==typeof t.render?t:new Render(t)}class Render extends Mark{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function applyScaleTransforms(t,e){for(const i in t)applyScaleTransform(t[i],e);return t}function applyScaleTransform(t,e){const{scale:i,transform:r=!0}=t;if(null==i||!r)return;const{type:n,percent:a,interval:s,transform:o=(a?t=>null==t?NaN:100*t:maybeIntervalTransform(s,n))}=e[i]??{};null!=o&&(t.value=map(t.value,o),t.transform=!1)}function inferChannelScales(t){for(const e in t)inferChannelScale(e,t[e])}function addScaleChannels(t,e,i,r=yes){for(const{channels:n}of e.values())for(const e in n){const a=n[e],{scale:s}=a;if(null!=s&&r(s))if("projection"===s){if(!hasProjection(i)){const e=void 0===i.x?.domain,r=void 0===i.y?.domain;if(e||r){const[i,n]=getGeometryChannels(a);e&&addScaleChannel(t,"x",i),r&&addScaleChannel(t,"y",n)}}}else addScaleChannel(t,s,a)}return t}function addScaleChannel(t,e,i){const r=t.get(e);void 0!==r?r.push(i):t.set(e,[i])}function maybeTopFacet(t,e){if(null==t)return;const{x:i,y:r}=t;if(null==i&&null==r)return;const n=dataify(t.data);if(null==n)throw new Error("missing facet data");const a={};null!=i&&(a.fx=createChannel(n,{value:i,scale:"fx"})),null!=r&&(a.fy=createChannel(n,{value:r,scale:"fy"})),applyScaleTransforms(a,e);return{channels:a,groups:facetGroups(n,a),data:t.data}}function maybeMarkFacet(t,e,i){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:n}=t;if(null!=r||null!=n){const e=dataify(t.data??r??n);if(void 0===e)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===e)return;const a={};return null!=r&&(a.fx=createChannel(e,{value:r,scale:"fx"})),null!=n&&(a.fy=createChannel(e,{value:n,scale:"fy"})),applyScaleTransforms(a,i),{channels:a,groups:facetGroups(e,a)}}if(void 0===e)return;const{channels:a,groups:s,data:o}=e;if("auto"!==t.facet||t.data===o)return{channels:a,groups:s};o.length>0&&(s.size>1||1===s.size&&a.fx&&a.fy&&[...s][0][1].size>1)&&lengthof(dataify(t.data))===lengthof(o)&&warn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnât faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function derive(t,e={}){return initializer({...e,x:null,y:null},(e,i,r,n,a,s)=>s.getMarkState(t))}function inferTips(t){const e=[];for(const i of t){let t=i.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:n}=t;r=/^x$/i.test(r)?pointerX:/^y$/i.test(r)?pointerY:pointer,t=r(derive(i,t)),t.title=null,void 0===n&&(t.preferredAnchor=r===pointerY?"left":"bottom");const a=tip(i.data,t);a.facet=i.facet,a.facetAnchor=i.facetAnchor,e.push(a)}}return e}function inferAxes(t,e,i){let{projection:r,x:n={},y:a={},fx:s={},fy:o={},axis:l,grid:c,facet:g={},facet:{axis:d=l,grid:u}=g,x:{axis:B=l,grid:F=(null===B?null:c)}=n,y:{axis:h=l,grid:Q=(null===h?null:c)}=a,fx:{axis:U=d,grid:I=(null===U?null:u)}=s,fy:{axis:b=d,grid:p=(null===b?null:u)}=o}=i;(r||!isScaleOptions(n)&&!hasPositionChannel("x",t))&&(B=F=null),(r||!isScaleOptions(a)&&!hasPositionChannel("y",t))&&(h=Q=null),e.has("fx")||(U=I=null),e.has("fy")||(b=p=null),void 0===B&&(B=!hasAxis(t,"x")),void 0===h&&(h=!hasAxis(t,"y")),void 0===U&&(U=!hasAxis(t,"fx")),void 0===b&&(b=!hasAxis(t,"fy")),!0===B&&(B="bottom"),!0===h&&(h="left"),!0===U&&(U="top"===B||null===B?"bottom":"top"),!0===b&&(b="right"===h||null===h?"left":"right");const y=[];return maybeGrid(y,p,gridFy,o),maybeAxis(y,b,axisFy,"right","left",g,o),maybeGrid(y,I,gridFx,s),maybeAxis(y,U,axisFx,"top","bottom",g,s),maybeGrid(y,Q,gridY,a),maybeAxis(y,h,axisY,"left","right",i,a),maybeGrid(y,F,gridX,n),maybeAxis(y,B,axisX,"bottom","top",i,n),y}function maybeAxis(t,e,i,r,n,a,s){if(!e)return;const o=isBoth(e);s=axisOptions(o?r:e,a,s);const{line:l}=s;i!==axisY&&i!==axisX||!l||isNone(l)||t.push(frame(lineOptions(s))),t.push(i(s)),o&&t.push(i({...s,anchor:n,label:null}))}function maybeGrid(t,e,i,r){e&&!isNone(e)&&t.push(i(gridOptions(e,r)))}function isBoth(t){return/^\s*both\s*$/i.test(t)}function axisOptions(t,e,{line:i=e.line,ticks:r,tickSize:n,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:c,ariaLabel:g,ariaDescription:d,label:u=e.label,labelAnchor:B,labelArrow:F=e.labelArrow,labelOffset:h}){return{anchor:t,line:i,ticks:r,tickSize:n,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:c,ariaLabel:g,ariaDescription:d,label:u,labelAnchor:B,labelArrow:F,labelOffset:h}}function lineOptions(t){const{anchor:e,line:i}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:!0===i?void 0:i}}function gridOptions(t,{stroke:e=(isColor(t)?t:void 0),ticks:i=(isGridTicks(t)?t:void 0),tickSpacing:r,ariaLabel:n,ariaDescription:a}){return{stroke:e,ticks:i,tickSpacing:r,ariaLabel:n,ariaDescription:a}}function isGridTicks(t){switch(typeof t){case"number":return!0;case"string":return!isColor(t)}return isIterable(t)||"function"==typeof t?.range}function hasAxis(t,e){const i=`${e}-axis `;return t.some(t=>t.ariaLabel?.startsWith(i))}function hasPositionChannel(t,e){for(const i of e)for(const e in i.channels){const{scale:r}=i.channels[e];if(r===t||"projection"===r)return!0}return!1}function inheritScaleLabels(t,e){for(const i in t){const r=t[i],n=e[i];void 0===r.label&&n&&(r.label=n.label)}return t}function actualDimensions({fx:t,fy:e},i){const{marginTop:r,marginRight:n,marginBottom:a,marginLeft:s,width:o,height:l}=outerDimensions(i),c=t&&outerRange(t),g=e&&outerRange(e);return{marginTop:e?g[0]:r,marginRight:t?o-c[1]:n,marginBottom:e?l-g[1]:a,marginLeft:t?c[0]:s,inset:{marginTop:i.marginTop,marginRight:i.marginRight,marginBottom:i.marginBottom,marginLeft:i.marginLeft},width:o,height:l}}function outerRange(t){const e=t.domain();if(0===e.length)return[0,t.bandwidth()];let i=t(e[0]),r=t(e[e.length-1]);return r<i&&([i,r]=[r,i]),[i,r+t.bandwidth()]}const curves=new Map([["basis",curveBasis],["basis-closed",curveBasisClosed],["basis-open",curveBasisOpen],["bundle",curveBundle],["bump-x",bumpX],["bump-y",bumpY],["cardinal",curveCardinal],["cardinal-closed",curveCardinalClosed],["cardinal-open",curveCardinalOpen],["catmull-rom",curveCatmullRom],["catmull-rom-closed",curveCatmullRomClosed],["catmull-rom-open",curveCatmullRomOpen],["linear",curveLinear],["linear-closed",curveLinearClosed],["monotone-x",monotoneX],["monotone-y",monotoneY],["natural",curveNatural],["step",curveStep],["step-after",stepAfter],["step-before",stepBefore]]);function maybeCurve(t=curveLinear,e){if("function"==typeof t)return t;const i=curves.get(`${t}`.toLowerCase());if(!i)throw new Error(`unknown curve: ${t}`);if(void 0!==e){if("beta"in i)return i.beta(e);if("tension"in i)return i.tension(e);if("alpha"in i)return i.alpha(e)}return i}function maybeCurveAuto(t=curveAuto,e){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?curveAuto:maybeCurve(t,e)}function curveAuto(t){return curveLinear(t)}function binX(t={y:"count"},e={}){[t,e]=mergeOptions(t,e);const{x:i,y:r}=e;return binn(maybeBinValue(i,e,identity$1),null,null,r,t,maybeInsetX(e))}function maybeDenseInterval(t,e,i={}){if(null==i?.interval)return i;const{reduce:r=reduceFirst}=i,n={filter:null};return null!=i[e]&&(n[e]=r),null!=i[`${e}1`]&&(n[`${e}1`]=r),null!=i[`${e}2`]&&(n[`${e}2`]=r),t(n,i)}function maybeDenseIntervalX(t={}){return maybeDenseInterval(binX,"y",withTip(t,"x"))}function binn(t,e,i,r,{data:n=reduceIdentity,filter:a=reduceCount,sort:s,reverse:o,...l}={},c={}){t=maybeBin(t),e=maybeBin(e),l=maybeBinOutputs(l,c),n=maybeBinReduce(n,identity$1),s=null==s?void 0:maybeBinOutput("sort",s,c),a=null==a?void 0:maybeBinEvaluator("filter",a,c),null!=r&&hasOutput(l,"y","y1","y2")&&(r=null);const[g,d]=maybeColumn(t),[u,B]=maybeColumn(t),[F,h]=maybeColumn(e),[Q,U]=maybeColumn(e),[I,b]=null!=r?[r,"y"]:[],[p,y]=maybeColumn(I),{x:m,y:C,z:f,fill:x,stroke:A,x1:v,x2:L,y1:R,y2:S,domain:G,cumulative:E,thresholds:V,interval:Z,...N}=c,[D,w]=maybeColumn(f),[X]=maybeColorChannel(x),[W]=maybeColorChannel(A),[H,T]=maybeColumn(X),[M,k]=maybeColumn(W);return{..."z"in c&&{z:D||f},..."fill"in c&&{fill:H||x},..."stroke"in c&&{stroke:M||A},...basic(N,(i,r,c)=>{const g=maybeApplyInterval(valueof(i,I),c?.[b]),u=valueof(i,f),F=valueof(i,X),Q=valueof(i,W),p=maybeSubgroup(l,{z:u,fill:F,stroke:Q}),m=[],C=[],x=g&&y([]),A=u&&w([]),v=F&&T([]),L=Q&&k([]),R=t&&d([]),S=t&&B([]),G=e&&h([]),E=e&&U([]),V=bing(t,e,i);let Z=0;for(const t of l)t.initialize(i);s&&s.initialize(i),a&&a.initialize(i);for(const t of r){const e=[];for(const e of l)e.scope("facet",t);s&&s.scope("facet",t),a&&a.scope("facet",t);for(const[r,o]of maybeGroup(t,p))for(const[t,c]of maybeGroup(o,g))for(const[o,d]of V(c))if(p&&(d.z=r),!a||a.reduce(o,d)){e.push(Z++),C.push(n.reduceIndex(o,i,d)),g&&x.push(t),u&&A.push(p===u?r:u[(o.length>0?o:c)[0]]),F&&v.push(p===F?r:F[(o.length>0?o:c)[0]]),Q&&L.push(p===Q?r:Q[(o.length>0?o:c)[0]]),R&&(R.push(d.x1),S.push(d.x2)),G&&(G.push(d.y1),E.push(d.y2));for(const t of l)t.reduce(o,d);s&&s.reduce(o,d)}m.push(e)}return maybeSort(m,s,o),{data:C,facets:m}}),...!hasOutput(l,"x")&&(g?{x1:g,x2:u,x:mid(g,u)}:{x:m,x1:v,x2:L}),...!hasOutput(l,"y")&&(F?{y1:F,y2:Q,y:mid(F,Q)}:{y:C,y1:R,y2:S}),...p&&{[b]:p},...Object.fromEntries(l.map(({name:t,output:e})=>[t,e]))}}function mergeOptions({cumulative:t,domain:e,thresholds:i,interval:r,...n},a){return[n,{cumulative:t,domain:e,thresholds:i,interval:r,...a}]}function maybeBinValue(t,{cumulative:e,domain:i,thresholds:r,interval:n},a){return void 0===(t={...maybeValue(t)}).domain&&(t.domain=i),void 0===t.cumulative&&(t.cumulative=e),void 0===t.thresholds&&(t.thresholds=r),void 0===t.interval&&(t.interval=n),void 0===t.value&&(t.value=a),t.thresholds=maybeThresholds(t.thresholds,t.interval),t}function maybeBin(t){if(null==t)return;const{value:e,cumulative:i,domain:r=extent$2,thresholds:n}=t,a=t=>{let a,s=valueof(t,e);if(isTemporal(s)||isTimeThresholds(n)){s=map(s,coerceDate,Float64Array);let[t,e]="function"==typeof r?r(s):r,i="function"!=typeof n||isInterval(n)?n:n(s,t,e);"number"==typeof i&&(i=utcTickInterval(t,e,i)),isInterval(i)&&(r===extent$2&&(t=i.floor(t),e=i.offset(i.floor(e))),i=i.range(t,i.offset(e))),a=i}else{s=coerceNumbers(s);let[t,e]="function"==typeof r?r(s):r,i="function"!=typeof n||isInterval(n)?n:n(s,t,e);if("number"==typeof i)if(r===extent$2){let r=tickIncrement$1(t,e,i);if(isFinite(r))if(r>0){let n=Math.round(t/r),a=Math.round(e/r);n*r<=t||--n,a*r>e||++a;let s=a-n+1;i=new Float64Array(s);for(let t=0;t<s;++t)i[t]=(n+t)*r}else if(r<0){r=-r;let n=Math.round(t*r),a=Math.round(e*r);n/r<=t||--n,a/r>e||++a;let s=a-n+1;i=new Float64Array(s);for(let t=0;t<s;++t)i[t]=(n+t)/r}else i=[t];else i=[t]}else i=ticks$1(t,e,i);else isInterval(i)&&(r===extent$2&&(t=i.floor(t),e=i.offset(i.floor(e))),i=i.range(t,i.offset(e)));a=i}const o=[];if(1===a.length)o.push([a[0],a[0]]);else for(let t=1;t<a.length;++t)o.push([a[t-1],a[t]]);return o.bin=(i<0?bin1cn:i>0?bin1cp:bin1)(o,a,s),o};return a.label=labelof(e),a}function maybeThresholds(t,e,i=thresholdAuto){if(void 0===t)return void 0===e?i:maybeRangeInterval(e);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return thresholdFreedmanDiaconis;case"scott":return thresholdScott;case"sturges":return thresholdSturges;case"auto":return thresholdAuto}return utcInterval(t)}return t}function maybeBinOutputs(t,e){return maybeOutputs(t,e,maybeBinOutput)}function maybeBinOutput(t,e,i){return maybeOutput(t,e,i,maybeBinEvaluator)}function maybeBinEvaluator(t,e,i){return maybeEvaluator(t,e,i,maybeBinReduce)}function maybeBinReduce(t,e){return maybeReduce(t,e,maybeBinReduceFallback)}function maybeBinReduceFallback(t){switch(`${t}`.toLowerCase()){case"x":return reduceX;case"x1":return reduceX1;case"x2":return reduceX2;case"y":return reduceY;case"y1":return reduceY1;case"y2":return reduceY2;case"z":return reduceZ}throw new Error(`invalid bin reduce: ${t}`)}function thresholdAuto(t,e,i){return Math.min(200,thresholdScott(t,e,i))}function isTimeThresholds(t){return isTimeInterval(t)||isIterable(t)&&isTemporal(t)}function bing(t,e,i){const r=t?.(i),n=e?.(i);return r&&n?function*(t){const e=r.bin(t);for(const[t,[a,s]]of r.entries()){const r=n.bin(e[t]);for(const[t,[e,o]]of n.entries())yield[r[t],{data:i,x1:a,y1:e,x2:s,y2:o}]}}:r?function*(t){const e=r.bin(t);for(const[t,[n,a]]of r.entries())yield[e[t],{data:i,x1:n,x2:a}]}:function*(t){const e=n.bin(t);for(const[t,[r,a]]of n.entries())yield[e[t],{data:i,y1:r,y2:a}]}}function bin1(t,e,i){return e=coerceNumbers(e),r=>{const n=t.map(()=>[]);for(const t of r)n[bisectRight(e,i[t])-1]?.push(t);return n}}function bin1cp(t,e,i){const r=bin1(t,e,i);return t=>{const e=r(t);for(let t=1,i=e.length;t<i;++t){const i=e[t-1],r=e[t];for(const t of i)r.push(t)}return e}}function bin1cn(t,e,i){const r=bin1(t,e,i);return t=>{const e=r(t);for(let t=e.length-2;t>=0;--t){const i=e[t+1],r=e[t];for(const t of i)r.push(t)}return e}}function mid1(t,e){const i=(+t+ +e)/2;return t instanceof Date?new Date(i):i}const reduceX={reduceIndex:(t,e,{x1:i,x2:r})=>mid1(i,r)},reduceY={reduceIndex:(t,e,{y1:i,y2:r})=>mid1(i,r)},reduceX1={reduceIndex:(t,e,{x1:i})=>i},reduceX2={reduceIndex:(t,e,{x2:i})=>i},reduceY1={reduceIndex:(t,e,{y1:i})=>i},reduceY2={reduceIndex:(t,e,{y2:i})=>i},defaults$1={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function withDefaultSort(t){return void 0===t.sort&&void 0===t.reverse?sort({channel:"-r"},t):t}class Dot extends Mark{constructor(t,e={}){const{x:i,y:r,r:n,rotate:a,symbol:s=symbolCircle,frameAnchor:o}=e,[l,c]=maybeNumberChannel(a,0),[g,d]=maybeSymbolChannel(s),[u,B]=maybeNumberChannel(n,null==g?3:4.5);super(t,{x:{value:i,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:u,scale:"r",filter:positive,optional:!0},rotate:{value:l,optional:!0},symbol:{value:g,scale:"auto",optional:!0}},withDefaultSort(e),defaults$1),this.r=B,this.rotate=c,this.symbol=d,this.frameAnchor=maybeFrameAnchor(o);const{channels:F}=this,{symbol:h}=F;if(h){const{fill:t,stroke:e}=F;h.hint={fill:t?t.value===h.value?"color":"currentColor":this.fill??"currentColor",stroke:e?e.value===h.value?"color":"currentColor":this.stroke??"none"}}}render(t,e,i,r,n){const{x:a,y:s}=e,{x:o,y:l,r:c,rotate:g,symbol:d}=i,{r:u,rotate:B,symbol:F}=this,[h,Q]=applyFrameAnchor(this,r),U=F===symbolCircle,I=c?void 0:u*u*Math.PI;return negative(u)&&(t=[]),create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyTransform,this,{x:o&&a,y:l&&s}).call(e=>e.selectAll().data(t).enter().append(U?"circle":"path").call(applyDirectStyles,this).call(U?t=>{t.attr("cx",o?t=>o[t]:h).attr("cy",l?t=>l[t]:Q).attr("r",c?t=>c[t]:u)}:t=>{t.attr("transform",template`translate(${o?t=>o[t]:h},${l?t=>l[t]:Q})${g?t=>` rotate(${g[t]})`:B?` rotate(${B})`:""}`).attr("d",c&&d?t=>{const e=pathRound();return d[t].draw(e,c[t]*c[t]*Math.PI),e}:c?t=>{const e=pathRound();return F.draw(e,c[t]*c[t]*Math.PI),e}:d?t=>{const e=pathRound();return d[t].draw(e,I),e}:(()=>{const t=pathRound();return F.draw(t,I),t})())}).call(applyChannelStyles,this,i)).node()}}function dot(t,{x:e,y:i,...r}={}){return void 0===r.frameAnchor&&([e,i]=maybeTuple(e,i)),new Dot(t,{...r,x:e,y:i})}const defaults={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Line extends Mark{constructor(t,e={}){const{x:i,y:r,z:n,curve:a,tension:s}=e;super(t,{x:{value:i,scale:"x"},y:{value:r,scale:"y"},z:{value:maybeZ(e),optional:!0}},e,defaults),this.z=n,this.curve=maybeCurveAuto(a,s),markers(this,e)}filter(t){return t}project(t,e,i){this.curve!==curveAuto&&super.project(t,e,i)}render(t,e,i,r,n){const{x:a,y:s}=i,{curve:o}=this;return create("svg:g",n).call(applyIndirectStyles,this,r,n).call(applyTransform,this,e).call(e=>e.selectAll().data(groupIndex(t,[a,s],this,i)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,i).call(applyGroupedMarkers,this,i,n).attr("d",o===curveAuto&&n.projection?sphereLine(n.path(),a,s):shapeLine().curve(o).defined(t=>t>=0).x(t=>a[t]).y(t=>s[t]))).node()}}function sphereLine(t,e,i){return e=coerceNumbers(e),i=coerceNumbers(i),r=>{let n=[];const a=[n];for(const t of r)-1===t?(n=[],a.push(n)):n.push([e[t],i[t]]);return t({type:"MultiLineString",coordinates:a})}}function lineY(t,{x:e=indexOf,y:i=identity$1,...r}={}){return new Line(t,maybeDenseIntervalX({...r,x:e,y:i}))}Mark.prototype.plot=function({marks:t=[],...e}={}){return plot({...e,marks:[...t,this]})};var WorkerFactory$1=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGRpc3RyaWJ1dGlvbnMkMSA9IHtleHBvcnRzOiB7fX07CgogIHZhciBkaXN0cmlidXRpb25zID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CiAgKGZ1bmN0aW9uIChtb2R1bGUpIHsKCiAgICAvLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvbgogICAgLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoCiAgICAvLyBhcyBpbiAibG9nIGRlbnNpdHkiKSwgc28gdG8gZ2V0IGEgbm9ybWFsIGxvZyBkZW5zaXR5IHlvdSB3b3VsZCB3cml0ZQogICAgLy8gbGQubm9ybSguLi4pLgogICAgLy8gTW9zdCBvZiB0aGUgY29kZSBiZWxvdyBpcyBkaXJlY3RseSB0YWtlbiBmcm9tIHRoZSBncmVhdCBKc3RhdCBwcm9qZWN0CiAgICAvLyAoaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0Lykgd2hpY2ggaW5jbHVkZXMgUERGIGZvciBtYW55IGNvbW1vbiBwcm9iYWJpbGl0eQogICAgLy8gZGlzdHJpYnV0aW9ucy4gV2hhdCBJIGhhdmUgZG9uZSBpcyBvbmx5IHRvIGNvbnZlcnQgdGhlc2UgdG8gbG9nIFBERnMuCgogICAgLyoKICAgIE9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0CiAgICBNb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCAKICAgIAlQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgCVRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAgICBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICAgIAlUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAgICBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiAgICBUSEUgU09GVFdBUkUuCiAgICAJKi8KCiAgICAvLyBUaGlzIGJvaWxlciBwbGF0ZSBjb2RlIGhlcmUgaXMgdGFrZW4gZnJvbToKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvdGVtcGxhdGVzL3JldHVybkV4cG9ydHMuanMKICAgIC8vIEl0IHNob3VsZCBtYWtlIHNodXJlIHRoYXQgbW9kdWxlIGNhbiBiZSBpbXBvcnRlZCBib3RoIGluIHRoZSBicm93c2VyLAogICAgLy8gTm9kZSwgYW5kIGJ5IHVzaW5nIHRoZSBBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24gc3RhbmRhcmQuCiAgICAvLyBJZiB0aGlzIG1vZHVsZSBpcyBsb2FkZWQgaW4gdGhlIGJyb3dzZXIgaXQgd2lsbCBjcmVhdGVkIHRoZSBnbG9iYWwKICAgIC8vIG9iamVjdCBsZCAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5sZCA9IGZhY3RvcnkoKTsKICAgICAgfQogICAgfSkoZGlzdHJpYnV0aW9ucywgZnVuY3Rpb24gKCkgewogICAgICAvLyBPYmplY3QgdG8gaG9sZCB0aGUgZnVuY3Rpb25zIHRvIGJlIGV4cG9ydGVkLgogICAgICB2YXIgbGQgPSB7fTsKCiAgICAgIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICB2YXIgbGdhbW1hID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICB2YXIgaiA9IDA7CiAgICAgICAgdmFyIGNvZiA9IFs3Ni4xODAwOTE3Mjk0NzE0NiwgLTg2LjUwNTMyMDMyOTQxNjc4LCAyNC4wMTQwOTgyNDA4MzA5MSwgLTEuMjMxNzM5NTcyNDUwMTU1LCAwLjEyMDg2NTA5NzM4NjYxNzllLTIsIC01Mzk1MjM5Mzg0OTUzZS0xOF07CiAgICAgICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1OwogICAgICAgIHZhciB4eCwgeSwgdG1wOwogICAgICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTsKICAgICAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApOwogICAgICAgIGZvciAoOyBqIDwgNjsgaisrKSBzZXIgKz0gY29mW2pdIC8gKyt5OwogICAgICAgIHJldHVybiBsb2coMi41MDY2MjgyNzQ2MzEwMDA1ICogc2VyIC8geHgpIC0gdG1wOwogICAgICB9OwogICAgICBsZC5sZ2FtbWEgPSBsZ2FtbWE7CiAgICAgIHZhciBsZmFjdG9yaWFsID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbiA8IDAgPyBOYU4gOiBsZ2FtbWEobiArIDEpOwogICAgICB9OwogICAgICBsZC5sZmFjdG9yaWFsID0gbGZhY3RvcmlhbDsKICAgICAgdmFyIGxjaG9vc2UgPSBmdW5jdGlvbiAobiwgaykgewogICAgICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspOwogICAgICB9OwogICAgICBsZC5sY2hvb3NlID0gbGNob29zZTsKICAgICAgdmFyIGxiZXRhID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTsKICAgICAgfTsKICAgICAgbGQubGJldGEgPSBsYmV0YTsKICAgICAgdmFyIGxvZyA9IE1hdGgubG9nOwogICAgICB2YXIgZXhwID0gTWF0aC5leHA7CiAgICAgIHZhciBhYnMgPSBNYXRoLmFiczsKICAgICAgdmFyIHBvdyA9IE1hdGgucG93OwogICAgICB2YXIgc3FydCA9IE1hdGguc3FydDsKICAgICAgdmFyIHBpID0gTWF0aC5QSTsKCiAgICAgIC8vLy8vLy8vLy8gQ29udGlub3VzIGRpc3RyaWJ1dGlvbnMgLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJldGEgPSBmdW5jdGlvbiAoeCwgc2hhcGUxLCBzaGFwZTIpIHsKICAgICAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIGlmIChzaGFwZTEgPT09IDEgJiYgc2hhcGUyID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIChzaGFwZTEgLSAxKSAqIGxvZyh4KSArIChzaGFwZTIgLSAxKSAqIGxvZygxIC0geCkgLSBsYmV0YShzaGFwZTEsIHNoYXBlMik7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5jYXVjaHkgPSBmdW5jdGlvbiAoeCwgbG9jYXRpb24sIHNjYWxlKSB7CiAgICAgICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAtIGxvZyhwaSk7CiAgICAgIH07CiAgICAgIGxkLm5vcm0gPSBmdW5jdGlvbiAoeCwgbWVhbiwgc2QpIHsKICAgICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC0gbG9nKHNkKSAtIHBvdyh4IC0gbWVhbiwgMikgLyAoMiAqIHNkICogc2QpOwogICAgICB9OwoKICAgICAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIAogICAgICAvLyB0aGUgY29ycmVsYXRpb24uCiAgICAgIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uICh4LCBtZWFuLCBzZCwgY29ycikgewogICAgICAgIHZhciB6ID0gcG93KHhbMF0gLSBtZWFuWzBdLCAyKSAvIHBvdyhzZFswXSwgMikgKyBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkgLyAoc2RbMF0gKiBzZFsxXSk7CiAgICAgICAgdmFyIG5vcm1hbGl6aW5nX2ZhY3RvciA9IC0obG9nKDIpICsgbG9nKHBpKSArIGxvZyhzZFswXSkgKyBsb2coc2RbMV0pICsgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpKTsKICAgICAgICB2YXIgYml2YXJfbG9nX2RlbnMgPSBub3JtYWxpemluZ19mYWN0b3IgLSB6IC8gKDIgKiAoMSAtIHBvdyhjb3JyLCAyKSkpOwogICAgICAgIHJldHVybiBiaXZhcl9sb2dfZGVuczsKICAgICAgfTsKICAgICAgbGQubGFwbGFjZSA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICByZXR1cm4gLWFicyh4IC0gbG9jYXRpb24pIC8gc2NhbGUgLSBsb2coMiAqIHNjYWxlKTsKICAgICAgfTsKICAgICAgbGQuZGV4cCA9IGxkLmxhcGxhY2U7CiAgICAgIGxkLmdhbW1hID0gZnVuY3Rpb24gKHgsIHNoYXBlLCByYXRlKSB7CiAgICAgICAgdmFyIHNjYWxlID0gMSAvIHJhdGU7CiAgICAgICAgaWYgKHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAoeCA9PT0gMCAmJiBzaGFwZSA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIC1sb2coc2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gKHNoYXBlIC0gMSkgKiBsb2coeCkgLSB4IC8gc2NhbGUgLSBsZ2FtbWEoc2hhcGUpIC0gc2hhcGUgKiBsb2coc2NhbGUpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgbGQuaW52Z2FtbWEgPSBmdW5jdGlvbiAoeCwgc2hhcGUsIHNjYWxlKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7CiAgICAgIH07CiAgICAgIGxkLmxub3JtID0gZnVuY3Rpb24gKHgsIG1lYW5sb2csIHNkbG9nKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBwb3cobG9nKHgpIC0gbWVhbmxvZywgMikgLyAoMiAqIHNkbG9nICogc2Rsb2cpOwogICAgICB9OwogICAgICBsZC5wYXJldG8gPSBmdW5jdGlvbiAoeCwgc2NhbGUsIHNoYXBlKSB7CiAgICAgICAgaWYgKHggPCBzY2FsZSkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxvZyhzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSkgLSAoc2hhcGUgKyAxKSAqIGxvZyh4KTsKICAgICAgfTsKICAgICAgbGQudCA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUsIGRmKSB7CiAgICAgICAgZGYgPSBkZiA+IDFlMTAwID8gMWUxMDAgOiBkZjsKICAgICAgICByZXR1cm4gbGdhbW1hKChkZiArIDEpIC8gMikgLSBsZ2FtbWEoZGYgLyAyKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICsgbG9nKHBvdygxICsgMSAvIGRmICogcG93KCh4IC0gbG9jYXRpb24pIC8gc2NhbGUsIDIpLCAtKGRmICsgMSkgLyAyKSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIHdlaWJ1bGwgZGlzdHJpYnV0aW9uOiAKICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3djaC9yLXNvdXJjZS9ibG9iL2IxNTZlM2E3MTE5NjdmNTgxMzFlMjNjMWIxZGMxZWE5MGUyZjBjNDMvc3JjL25tYXRoL2R3ZWlidWxsLmMKICAgICAgbGQud2VpYnVsbCA9IGZ1bmN0aW9uICh4LCBzaGFwZSwgc2NhbGUpIHsKICAgICAgICBpZiAoeCA8IDApIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgaWYgKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7CiAgICAgICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpOwogICAgICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpOwogICAgICAgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogCiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuYwogICAgICBsZC5sb2dpcyA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICB4ID0gYWJzKCh4IC0gbG9jYXRpb24pIC8gc2NhbGUpOwogICAgICAgIHZhciBlID0gZXhwKC14KTsKICAgICAgICB2YXIgZiA9IDEuMCArIGU7CiAgICAgICAgcmV0dXJuIC0oeCArIGxvZyhzY2FsZSAqIGYgKiBmKSk7CiAgICAgIH07CiAgICAgIGxkLmRpcmljaGxldCA9IGZ1bmN0aW9uICh4LCBhbHBoYSkgewogICAgICAgIHZhciBzdW1fYWxwaGEgPSAwOwogICAgICAgIHZhciBzdW1fbGdhbW1hX2FscGhhID0gMDsKICAgICAgICB2YXIgc3VtX2FscGhhX3N1Yl8xX2xvZ194ID0gMDsKICAgICAgICB2YXIgbiA9IGFscGhhLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldOwogICAgICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pOwogICAgICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194OwogICAgICB9OwogICAgICBsZC5leHAgPSBmdW5jdGlvbiAoeCwgcmF0ZSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtIHJhdGUgKiB4OwogICAgICB9OwogICAgICBsZC51bmlmID0gZnVuY3Rpb24gKHgsIG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIHggPCBtaW4gfHwgeCA+IG1heCA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpOwogICAgICB9OwoKICAgICAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJlcm4gPSBmdW5jdGlvbiAoeCwgcHJvYikgewogICAgICAgIHJldHVybiAhKHggPT09IDAgfHwgeCA9PT0gMSkgPyAtSW5maW5pdHkgOiBsb2coeCAqIHByb2IgKyAoMSAtIHgpICogKDEgLSBwcm9iKSk7CiAgICAgIH07CiAgICAgIGxkLmNhdCA9IGZ1bmN0aW9uICh4LCBwcm9icykgewogICAgICAgIGlmICh4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbG9nKHByb2JzW3ggLSAxXSk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5iaW5vbSA9IGZ1bmN0aW9uICh4LCBzaXplLCBwcm9iKSB7CiAgICAgICAgaWYgKHggPiBzaXplIHx8IHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gc2l6ZSAqIHByb2IgPT09IHggPyAwIDogLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGNob29zZShzaXplLCB4KSArIHggKiBsb2cocHJvYikgKyAoc2l6ZSAtIHgpICogbG9nKDEgLSBwcm9iKTsKICAgICAgfTsKICAgICAgbGQubmJpbm9tID0gZnVuY3Rpb24gKHgsIHNpemUsIHByb2IpIHsKICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsY2hvb3NlKHggKyBzaXplIC0gMSwgc2l6ZSAtIDEpICsgeCAqIGxvZygxIC0gcHJvYikgKyBzaXplICogbG9nKHByb2IpOwogICAgICB9OwogICAgICBsZC5oeXBlciA9IGZ1bmN0aW9uICh4LCBtLCBuLCBrKSB7CiAgICAgICAgaWYgKHggPCAwIHx8IHggPiBrKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbGNob29zZShtLCB4KSArIGxjaG9vc2UobiwgayAtIHgpIC0gbGNob29zZShtICsgbiwgayk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5wb2lzID0gZnVuY3Rpb24gKHgsIGxhbWJkYSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7CiAgICAgIH07CiAgICAgIHJldHVybiBsZDsKICAgIH0pOwogIH0pKGRpc3RyaWJ1dGlvbnMkMSk7CiAgdmFyIGRpc3RyaWJ1dGlvbnNFeHBvcnRzID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CgogIHZhciBtY21jJDEgPSB7ZXhwb3J0czoge319OwoKICB2YXIgbWNtYyA9IG1jbWMkMS5leHBvcnRzOwogIChmdW5jdGlvbiAobW9kdWxlKSB7CgogICAgLy8gVGhpcyBib2lsZXIgcGxhdGUgY29kZSBoZXJlIGlzIHRha2VuIGZyb206CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzCiAgICAvLyBJdCBzaG91bGQgbWFrZSBzaHVyZSB0aGF0IG1vZHVsZSBjYW4gYmUgaW1wb3J0ZWQgYm90aCBpbiB0aGUgYnJvd3NlciwKICAgIC8vIE5vZGUsIGFuZCBieSB1c2luZyB0aGUgQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uIHN0YW5kYXJkLgogICAgLy8gSWYgdGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIHRoZSBicm93c2VyIGl0IHdpbGwgY3JlYXRlZCB0aGUgZ2xvYmFsCiAgICAvLyBvYmplY3QgbWNtYyAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpOwogICAgICB9CiAgICB9KShtY21jLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIAoKICAgICAgLy8vLy8vLy8vLyBIZWxwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggKi8KICAgICAgdmFyIHJ1bmlmID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqLwogICAgICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbiAobWluLCBtYXgpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGZyb20gYSBub3JtYWwgZGlzdHJpYmJ1dGlvbiBkZWZpbmVkCiAgICAgICAqICBieSBtZWFuIGFuZCBzZC4gCiAgICAgICAqICBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0L2pzdGF0L2Jsb2IvbWFzdGVyL3NyYy9zcGVjaWFsLmpzICovCiAgICAgIHZhciBybm9ybSA9IGZ1bmN0aW9uIChtZWFuLCBzZCkgewogICAgICAgIHZhciB1LCB2LCB4LCB5LCBxOwogICAgICAgIGRvIHsKICAgICAgICAgIHUgPSBNYXRoLnJhbmRvbSgpOwogICAgICAgICAgdiA9IDEuNzE1NiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgIHggPSB1IC0gMC40NDk4NzE7CiAgICAgICAgICB5ID0gTWF0aC5hYnModikgKyAwLjM4NjU5NTsKICAgICAgICAgIHEgPSB4ICogeCArIHkgKiAoMC4xOTYwMCAqIHkgLSAwLjI1NDcyICogeCk7CiAgICAgICAgfSB3aGlsZSAocSA+IDAuMjc1OTcgJiYgKHEgPiAwLjI3ODQ2IHx8IHYgKiB2ID4gLTQgKiBNYXRoLmxvZyh1KSAqIHUgKiB1KSk7CiAgICAgICAgcmV0dXJuIHYgLyB1ICogc2QgKyBtZWFuOwogICAgICB9OwoKICAgICAgLyoqIFJldHVybnMgYSBkZWVwIGNsb25lIG9mIHNyYywgc29ydCBvZi4uLiBJdCBvbmx5IGNvcGllcyBhIGxpbWl0ZWQKICAgICAgICogbnVtYmVyIG9mIHR5cGVzIGFuZCwgZm9yIGV4YW1wbGUsIGZ1bmN0aW9uIGFyZSBub3QgY29waWVkLiAKICAgICAgICogRnJvbSBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtY2xvbmUKICAgICAgICovCiAgICAgIHZhciBkZWVwX2Nsb25lID0gZnVuY3Rpb24gKHNyYykgewogICAgICAgIGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHsKICAgICAgICAgIHZhciBuYW1lLAogICAgICAgICAgICBzLAogICAgICAgICAgICBlbXB0eSA9IHt9OwogICAgICAgICAgZm9yIChuYW1lIGluIHNvdXJjZSkgewogICAgICAgICAgICAvLyB0aGUgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpIGNvbmRpdGlvbiBhdm9pZHMgY29weWluZyBwcm9wZXJ0aWVzIGluICJzb3VyY2UiCiAgICAgICAgICAgIC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuCSBGb3IgZXhhbXBsZSwgaWYgZGVzdCBoYXMgYSBjdXN0b20gdG9TdHJpbmcoKSBtZXRob2QsCiAgICAgICAgICAgIC8vIGRvbid0IG92ZXJ3cml0ZSBpdCB3aXRoIHRoZSB0b1N0cmluZygpIG1ldGhvZCB0aGF0IHNvdXJjZSBpbmhlcml0ZWQgZnJvbSBPYmplY3QucHJvdG90eXBlCiAgICAgICAgICAgIHMgPSBzb3VyY2VbbmFtZV07CiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gZGVzdCkgfHwgZGVzdFtuYW1lXSAhPT0gcyAmJiAoIShuYW1lIGluIGVtcHR5KSB8fCBlbXB0eVtuYW1lXSAhPT0gcykpIHsKICAgICAgICAgICAgICBkZXN0W25hbWVdID0gY29weUZ1bmMgPyBjb3B5RnVuYyhzKSA6IHM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBkZXN0OwogICAgICAgIH0KICAgICAgICBpZiAoIXNyYyB8fCB0eXBlb2Ygc3JjICE9ICJvYmplY3QiIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpID09PSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvbgogICAgICAgICAgcmV0dXJuIHNyYzsgLy8gYW55dGhpbmcKICAgICAgICB9CiAgICAgICAgaWYgKHNyYy5ub2RlVHlwZSAmJiAiY2xvbmVOb2RlIiBpbiBzcmMpIHsKICAgICAgICAgIC8vIERPTSBOb2RlCiAgICAgICAgICByZXR1cm4gc3JjLmNsb25lTm9kZSh0cnVlKTsgLy8gTm9kZQogICAgICAgIH0KICAgICAgICBpZiAoc3JjIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgLy8gRGF0ZQogICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpOyAvLyBEYXRlCiAgICAgICAgfQogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIC8vIFJlZ0V4cAogICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjKTsgLy8gUmVnRXhwCiAgICAgICAgfQogICAgICAgIHZhciByLCBpLCBsOwogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgLy8gYXJyYXkKICAgICAgICAgIHIgPSBbXTsKICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNyYykgewogICAgICAgICAgICAgIHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGdlbmVyaWMgb2JqZWN0cwogICAgICAgICAgciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTsKICAgICAgfTsKCiAgICAgIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmUKICAgICAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvbgogICAgICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZwogICAgICAgKiBsb29wLgogICAgICAgKi8KICAgICAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbiAoeCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4WzBdKSkgewogICAgICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5CiAgICAgICAgICAgIHZhciB4X2NvcHkgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHgubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB4X2NvcHkucHVzaChjbG9uZV9wYXJhbV9kcmF3KHhbaV0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4geF9jb3B5OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFycwogICAgICAgICAgICByZXR1cm4geC5zbGljZSgwKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBzY2FsYXIKICAgICAgICAgIHJldHVybiB4OwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGEgbnVtYmVyLgogICAgICAgKi8KICAgICAgdmFyIGlzX251bWJlciA9IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSAibnVtYmVyIiB8fCB0eXBlb2Ygb2JqZWN0ID09ICJvYmplY3QiICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS4KICAgICAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsCiAgICAgICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LgogICAgICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpbgogICAgICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgCiAgICAgICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0bwogICAgICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LgogICAgICAgKiBAZXhhbXBsZSAKICAgICAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXQogICAgICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpCiAgICAgICAqLwogICAgICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24gKGRpbSwgaW5pdCkgewogICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoZGltWzBdKTsKICAgICAgICB2YXIgaTsKICAgICAgICBpZiAoZGltLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdAogICAgICAgICAgaWYgKHR5cGVvZiBpbml0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIGFycltpXSA9IGluaXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgYXJyW2ldID0gaW5pdDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGltLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgImNyZWF0ZV9hcnJheSBjYW4ndCBjcmVhdGUgYSBkaW1lbnNpb25sZXNzIGFycmF5IjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBSZXR1cm4gdGhlIGRpbWVuc2lvbnMgb2YgYSBwb3NzaWJseSBuZXN0ZWQgYXJyYXkgYXMgYW4gYXJyYXkuIEZvciAKICAgICAgICogZXhhbXBsZSwgYXJyYXlfZGltKCBbWzEsIDJdLCBbMSwgMl1dICkgc2hvdWxkIHJldHVybiBbMiwgMl0KICAgICAgICogQXNzdW1lcyB0aGF0IGFsbCBhcnJheXMgaW5zaWRlIGFub3RoZXIgYXJyYXkgYXJlIG9mIHRoZSBzYW1lIGxlbmd0aC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogLy8gU2hvdWxkIHJldHVybiBbNCwgMiwgMV0KICAgICAgICogYXJyYXlfZGltKGNyZWF0ZV9hcnJheShbNCwgMiwgMV0sIDApKQogICAgICAgKi8KICAgICAgdmFyIGFycmF5X2RpbSA9IGZ1bmN0aW9uIChhKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVswXSkpIHsKICAgICAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW2EubGVuZ3RoXTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cwogICAgICAgKiBhcyBqdWRnZWQgYnkgdGhlICI9PSIgb3BlcmF0b3IuIFJldHVybnMgdHJ1ZSBvciBmYWxzZS4KICAgICAgICogQWRhcHRlZCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0ODUzOTc0LzEwMDE4NDgKICAgICAgICovCiAgICAgIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHsKICAgICAgICBpZiAoYTEubGVuZ3RoICE9IGEyLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgbmVzdGVkIGFycmF5cwogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7CiAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5cwogICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsKICAgICAgICAgICAgLy8gV2FybmluZyAtIHR3byBkaWZmZXJlbnQgb2JqZWN0IGluc3RhbmNlcyB3aWxsIG5ldmVyIGJlIGVxdWFsOiB7eDoyMH0gIT0ge3g6MjB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCAibGVhZiBub2RlcyIsIAogICAgICAgKiB0aGF0IGlzLCB2YWx1ZXMgdGhhdCBhcmUgbm90IGFycmF5cy4gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgc2FtZSBzaXplIGFzCiAgICAgICAqIGEuCiAgICAgICAqLwogICAgICB2YXIgbmVzdGVkX2FycmF5X2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXN1bHRbaV0gPSBuZXN0ZWRfYXJyYXlfYXBwbHkoYVtpXSwgZnVuKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmdW4oYSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqIFJhbmRvbWl6aW5nIHRoZSBhcnJheSBlbGVtZW50IG9yZGVyIGluLXBsYWNlLiBVc2luZyBEdXJzdGVuZmVsZAogICAgICAgKiBzaHVmZmxlIGFsZ29yaXRobS4gQWRhcHRlZCBmcm9tIGhlcmU6IAogICAgICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjY0Njg2NC8xMDAxODQ4CiAgICAgICAqLwogICAgICBmdW5jdGlvbiBzaHVmZmxlX2FycmF5KGFycmF5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7CiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldOwogICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTsKICAgICAgICAgIGFycmF5W2pdID0gdGVtcDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICB9CgogICAgICAvKioKICAgICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5CiAgICAgICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgImxlYWYgbm9kZXMiIGFuZCByZXR1cm5zIGFuIGFycmF5IAogICAgICAgKiBvZiB0aGUgc2FtZSBzaXplIGFzIGEuIFRoZSBkaWZmZXJlbmNlIGlzIHRoYXQgbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseQogICAgICAgKiBicmFuY2hlcyByYW5kb21seS4KICAgICAgICovCiAgICAgIHZhciBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIHZhciBhcnJheV9pcyA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGFycmF5X2lzW2ldID0gaTsKICAgICAgICAgIH0KICAgICAgICAgIHNodWZmbGVfYXJyYXkoYXJyYXlfaXMpOwogICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07CiAgICAgICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZ1bihhKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmUKICAgICAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC4KICAgICAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmcKICAgICAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgCiAgICAgICAqICAgIGFzIGEgbWVtYmVyLgogICAgICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgCiAgICAgICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9CiAgICAgICAqIHZhciBwaSA9IGdldF9vcHRpb24oInBpIiwgbXlfb3B0aW9ucywgMy4xNCkKICAgICAgICovCiAgICAgIC8vIFByZXR0eSB3YXkgb2Ygc2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgd2hlcmUgdGhlIGRlZmF1bHRzIGNhbiBiZSBvdmVycmlkZGVuCiAgICAgIC8vIGJ5IGFuIG9wdGlvbnMgb2JqZWN0LiBGb3IgZXhhbXBsZToKICAgICAgLy8gdmFyIHBpID0gZ2V0X29wdGlvbigicGkiLCBteV9vcHRpb25zLCAzLjE0KQogICAgICB2YXIgZ2V0X29wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIG9wdGlvbnNbb3B0aW9uX25hbWVdICE9PSB1bmRlZmluZWQgJiYgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTsKICAgICAgfTsKCiAgICAgIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWwKICAgICAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS4KICAgICAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggCiAgICAgICAqIGRpbSBkaW1lbnNpb25zLgogICAgICAgKiAKICAgICAgICovCiAgICAgIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbl9uYW1lLCBvcHRpb25zLCBkaW0sIGRlZmF1bF92YWx1ZSkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldF9vcHRpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRlZmF1bF92YWx1ZSk7CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgdmFsdWUgPSBjcmVhdGVfYXJyYXkoZGltLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmICghYXJyYXlfZXF1YWwoYXJyYXlfZGltKHZhbHVlKSwgZGltKSkgewogICAgICAgICAgdGhyb3cgIlRoZSBvcHRpb24gIiArIG9wdGlvbl9uYW1lICsgIiBpcyBvZiBkaW1lbnNpb24gWyIgKyBhcnJheV9kaW0odmFsdWUpICsgIl0gYnV0IHNob3VsZCBiZSBbIiArIGRpbSArICJdLiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfTsKCiAgICAgIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZQogICAgICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLgogICAgICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgInJlYWwiLCAiaW50IiwgYW5kICJiaW5hcnkiLgogICAgICAgKi8KICAgICAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbiAodHlwZSwgbG93ZXIsIHVwcGVyKSB7CiAgICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHsKICAgICAgICAgIHRocm93ICJDYW4gbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIHdoZXJlIGxvd2VyIGJvdW5kID4gdXBwZXIgYm91bmQiOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gInJlYWwiKSB7CiAgICAgICAgICBpZiAobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIDAuNTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gbG93ZXIgKyAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKGxvd2VyIDw9IHVwcGVyKSB7CiAgICAgICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImludCIpIHsKICAgICAgICAgIGlmIChsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAxOwogICAgICAgICAgfSBlbHNlIGlmICh1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIGxvd2VyICsgMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPD0gdXBwZXIpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKGxvd2VyICsgdXBwZXIpIC8gMik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiYmluYXJ5IikgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIHRocm93ICJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgb2YgdHlwZSAiICsgdHlwZSArICJbIiArIGxvd2VyICsgIiwgIiArIHVwcGVyICsgIl0iOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENvbXBsZXRlcyBwYXJhbXNfdG9fY29tcGxldGUsIGFuIG9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlciBkZXNjcmlwdGlvbnMsIAogICAgICAgKiBhbmQgaW5pdGlhbGl6ZXMgbm9uLWluaXRpYWxpemVkIHBhcmFtZXRlcnMuIFRoaXMgbW9kaWZpZWQgdmVyc2lvbiBvZgogICAgICAgKiBwYXJhbXNfdG9fY29tcGxldGUgaXMgcmV0dXJuZWQgYXMgYSBkZWVwIGNvcHkgYW5kIG5vdCBtb2RpZmllZCBpbiBwbGFjZS4KICAgICAgICogSW5pdGlhbGl6YXRpb24gaXMgZG9uZSBieSBzdXBwbHlpbmcgYSBwYXJhbV9pbml0IGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlCiAgICAgICAqIGZ1bmN0aW9uKHR5cGUsIGxvd2VyLCB1cHBlcikgdGhhdCBzaG91bGQgcmV0dXJuIGEgc2luZ2xlIG51bWJlciAKICAgICAgICogKGxpa2UgcGFyYW1faW5pdF9maXhlZCwgZm9yIGV4YW1wbGUpLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKiB2YXIgcGFyYW1zID0geyAibXUiOiB7InR5cGUiOiAicmVhbCJ9IH0KICAgICAgICogcGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHBhcmFtcyk7CiAgICAgICAqIC8vIHBhcmFtcyBzaG91bGQgbm93IGJlOgogICAgICAgKiAvLyAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LAogICAgICAgKiAvLyAgICAgICAgICAgImxvd2VyIjogLUluZmluaXR5LCAiaW5pdCI6IDAuNSB9fQogICAgICAgKi8KICAgICAgdmFyIGNvbXBsZXRlX3BhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXNfdG9fY29tcGxldGUsIHBhcmFtX2luaXQpIHsKICAgICAgICB2YXIgcGFyYW1zID0gZGVlcF9jbG9uZShwYXJhbXNfdG9fY29tcGxldGUpOwogICAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICBpZiAoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbV9uYW1lKSkgY29udGludWU7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbcGFyYW1fbmFtZV07CiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJ0eXBlIikpIHsKICAgICAgICAgICAgcGFyYW0udHlwZSA9ICJyZWFsIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghcGFyYW0uaGFzT3duUHJvcGVydHkoImRpbSIpKSB7CiAgICAgICAgICAgIHBhcmFtLmRpbSA9IFsxXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc19udW1iZXIocGFyYW0uZGltKSkgewogICAgICAgICAgICBwYXJhbS5kaW0gPSBbcGFyYW0uZGltXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS50eXBlID09ICJiaW5hcnkiKSB7CiAgICAgICAgICAgIHBhcmFtLnVwcGVyID0gMTsKICAgICAgICAgICAgcGFyYW0ubG93ZXIgPSAwOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgidXBwZXIiKSkgewogICAgICAgICAgICBwYXJhbS51cHBlciA9IEluZmluaXR5OwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgibG93ZXIiKSkgewogICAgICAgICAgICBwYXJhbS5sb3dlciA9IC1JbmZpbml0eTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpKSB7CiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMganVzdCBhIG51bWJlciBvciBhIG5lc3RlZCBhcnJheSB3ZSBsZWF2ZSBpdCBhbG9uZSwgYnV0IGlmLi4uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgdHlwZW9mIHBhcmFtLmluaXQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci4KICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgIUFycmF5LmlzQXJyYXkocGFyYW0uaW5pdCkpIHsKICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0CiAgICAgICAgICAgICAgLy8gaXMgbm90IGFuIGFycmF5LiBUaGVuIGFzc3VtZSBpdCBpcyBhIG51bWJlciBvciBhIGZ1bmN0aW9uIGFuZCB1c2UKICAgICAgICAgICAgICAvLyBpdCB0byBpbml0aWFsaXplIHRoZSBwYXJhbWV0ZXIuCiAgICAgICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhcmFtLmluaXQgPSBjcmVhdGVfYXJyYXkocGFyYW0uZGltLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vIFN0ZXBwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAgKiBAaW50ZXJmYWNlCiAgICAgICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZQogICAgICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvbgogICAgICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgImludGVyZmFjZSIsCiAgICAgICAqIHdoZXJlICJpbnRlcmZhY2UiIG1lYW5zIHRoYXQgU3RlcHBlciBkZWZpbmVzIGEgY2xhc3MgdGhhdCBpcyBuZXZlcgogICAgICAgKiBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQsIGJ1dCBqdXN0IHRvIGJlIHN1YmNsYXNzZWQgYnkgc3BlY2lhbGl6ZWQKICAgICAgICogc3RlcHBlciBmdW5jdGlvbnMuCiAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlciBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6CiAgICAgICAqICAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LCAKICAgICAgICogICAibG93ZXIiOiAtSW5maW5pdHksICJpbml0IjogMC41IH19CiAgICAgICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgImNvbXBsZXRlIiwgdGhhdCBpcywKICAgICAgICogICBzcGVjaWZ5aW5nIGFsbCByZWxldmFudCBhdHRyaWJ1dGVzIHN1Y2ggYXMgZGltLCBsb3dlciBhbmQgdXBwZXIuCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycyBpbiBwYXJhbXMKICAgICAgICogICAoYW5kIHBvc3NpYmx5IG1vcmUpLiBUaGUgcGFyYW1ldGVyIG5hbWVzIGFyZSBnaXZlbiBhcyBrZXlzIGFuZCB0aGUgc3RhdGVzCiAgICAgICAqICAgYXMgc2NhbGFycyBvciwgcG9zc2libHkgbmVzdGVkLCBhcnJheXMuIEZvciBleGFtcGxlOgogICAgICAgKiAgIHttdTogMTAsIHNpZ21hOiA1LCBiZXRhOiBbMSwgMi41XX0KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiAqdGFraW5nIG5vIHBhcmFtZXRlcnMqIHRoYXQgcmV0dXJucyB0aGUKICAgICAgICogICBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBUaGF0IGlzLCB0aGUgdmFsdWUgb2YgbG9nX3Bvc3QKICAgICAgICogICBzaG91bGQgY2hhbmdlIGlmIHRoZSB0aGUgdmFsdWVzIGluIHN0YXRlIGFyZSBjaGFuZ2VkLgogICAgICAKICAgICAgICovCiAgICAgIHZhciBTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBsb2dfcG9zdDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gU2hvdWxkIHJldHVybiB0aGUgbmV3IHN0YXRlLAogICAgICAgKiBidXQgaXMgbWFpbmx5IGNhbGxlZCBmb3IgaXQncyBzaWRlIGVmZmVjdCBvZiBtYWtpbmcgYSBjaGFuZ2UgaW4gdGhlCiAgICAgICAqIHN0YXRlIG9iamVjdC4KICAgICAgICovCiAgICAgIFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3cgIkV2ZXJ5IFN0ZXBwZXIgbmVlZCB0byBpbXBsZW1lbnQgc3RlcCgpIjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgYWRhcHQgd2hpbGUgc3RlcHBpbmcuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogSWYgaW1wbGVtZW50ZWQsIG1ha2VzIHRoZSBzdGVwcGVyIGNlYXNlIGFkYXB0aW5nIHdoaWxlIHN0ZXBwaW5nLgogICAgICAgKi8KICAgICAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmcgaW5mbyByZWdhcmRpbmcgdGhlIHN0ZXBwZXIuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIHN0ZXBwZXIuCiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24uCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICAqIEBwYXJhbSBnZW5lcmF0ZV9wcm9wb3NhbCAtIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvcG9zYWwgKGFzIGEgbnVtYmVyKQogICAgICAgKiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihwYXJhbV9zdGF0ZSwgbG9nX3NjYWxlKSB3aGVyZSBwYXJhbV9zdGF0ZSBpcyBhCiAgICAgICAqIG51bWJlciBhbmQgbG9nX3NjYWxlIGRlZmluZXMgdGhlIHNjYWxlIG9mIHRoZSBwcm9wb3NhbCBzb21laG93LgogICAgICAqLwogICAgICB2YXIgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIGdlbmVyYXRlX3Byb3Bvc2FsKSB7CiAgICAgICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CiAgICAgICAgaWYgKHBhcmFtX25hbWVzLmxlbmd0aCAhPSAxKSB7CiAgICAgICAgICB0aHJvdyAiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgY2FuIG9ubHkgaGFuZGxlIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICBpZiAoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkgewogICAgICAgICAgdGhyb3cgIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7CiAgICAgICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyOwogICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgPSBnZXRfb3B0aW9uKCJwcm9wX2xvZ19zY2FsZSIsIG9wdGlvbnMsIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCA1MCk7CiAgICAgICAgdGhpcy5tYXhfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oIm1heF9hZGFwdGF0aW9uIiwgb3B0aW9ucywgMC4zMyk7CiAgICAgICAgdGhpcy5pbml0aWFsX2FkYXB0YXRpb24gPSBnZXRfb3B0aW9uKCJpbml0aWFsX2FkYXB0YXRpb24iLCBvcHRpb25zLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgMC40NCk7CiAgICAgICAgdGhpcy5pc19hZGFwdGluZyA9IGdldF9vcHRpb24oImlzX2FkYXB0aW5nIiwgb3B0aW9ucywgdHJ1ZSk7CiAgICAgICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsOwogICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyOwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgICAgdmFyIHBhcmFtX3Byb3Bvc2FsID0gdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbChwYXJhbV9zdGF0ZSwgdGhpcy5wcm9wX2xvZ19zY2FsZSk7CiAgICAgICAgaWYgKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIDsgZWxzZSB7CiAgICAgICAgICAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwCiAgICAgICAgICB2YXIgY3Vycl9sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTsKICAgICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IHBhcmFtX3Byb3Bvc2FsOwogICAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgICB2YXIgYWNjZXB0X3Byb2IgPSBNYXRoLmV4cChwcm9wX2xvZ19kZW5zIC0gY3Vycl9sb2dfZGVucyk7CiAgICAgICAgICBpZiAoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7CiAgICAgICAgICAgIC8vIFdlIGRvIG5vdGhpbmcgYXMgdGhlIHN0YXRlIG9mIHBhcmFtIGhhcyBhbHJlYWR5IGJlZW4gY2hhbmdlZCB0byB0aGUgcHJvcG9zYWwKICAgICAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmV2ZXJ0IHN0YXRlIGJhY2sgdG8gdGhlIG9sZCBzdGF0ZSBvZiBwYXJhbQogICAgICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9zdGF0ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHsKICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbisrOwogICAgICAgICAgaWYgKHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA+PSB0aGlzLmJhdGNoX3NpemUpIHsKICAgICAgICAgICAgLy8gdGhlbiBhZGFwdAogICAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50Kys7CiAgICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IE1hdGgubWluKHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uIC8gTWF0aC5zcXJ0KHRoaXMuYmF0Y2hfY291bnQpKTsKICAgICAgICAgICAgaWYgKHRoaXMuYWNjZXB0YW5jZV9jb3VudCAvIHRoaXMuYmF0Y2hfc2l6ZSA+IHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSArPSBsb2dfc2RfYWRqdXN0bWVudDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnByb3BfbG9nX3NjYWxlIC09IGxvZ19zZF9hZGp1c3RtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgIH07CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSB0cnVlOwogICAgICB9OwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBmYWxzZTsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHByb3BfbG9nX3NjYWxlOiB0aGlzLnByb3BfbG9nX3NjYWxlLAogICAgICAgICAgaXNfYWRhcHRpbmc6IHRoaXMuaXNfYWRhcHRpbmcsCiAgICAgICAgICBhY2NlcHRhbmNlX2NvdW50OiB0aGlzLmFjY2VwdGFuY2VfY291bnQsCiAgICAgICAgICBpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uOiB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24sCiAgICAgICAgICBiYXRjaF9jb3VudDogdGhpcy5iYXRjaF9jb3VudAogICAgICAgIH07CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLgogICAgICAgKi8KICAgICAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uIChwYXJhbV9zdGF0ZSwgcHJvcF9sb2dfc2NhbGUpIHsKICAgICAgICByZXR1cm4gcm5vcm0ocGFyYW1fc3RhdGUsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQGNsYXNzCiAgICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgY29udGlub3VzIE5vcm1hbCBwcm9wb3NhbHMuCiAgICAgICAqLwogICAgICB2YXIgUmVhbE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7CiAgICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgbm9ybWFsX3Byb3Bvc2FsKTsKICAgICAgfTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjsKCiAgICAgIC8qKgogICAgICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuCiAgICAgICAqLwogICAgICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24gKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkgewogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJub3JtKHBhcmFtX3N0YXRlLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICogQSAic3ViY2xhc3MiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAqLwogICAgICB2YXIgSW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwpOwogICAgICB9OwogICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdAogICAgICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIAogICAgICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgCiAgICAgICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXMKICAgICAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIAogICAgICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uCiAgICAgICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKi8KICAgICAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIFN1YlN0ZXBwZXIpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoICE9IDEpIHsKICAgICAgICAgIHRocm93ICJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTsKICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdOwogICAgICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjsKICAgICAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7CiAgICAgICAgdGhpcy5kaW0gPSBwYXJhbS5kaW07CiAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oInByb3BfbG9nX3NjYWxlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApOwogICAgICAgIHRoaXMubWF4X2FkYXB0YXRpb24gPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJtYXhfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTsKICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oImluaXRpYWxfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X211bHRpZGltX29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuNDQpOwogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJpc19hZGFwdGluZyIsIG9wdGlvbnMsIHRoaXMuZGltLCB0cnVlKTsKCiAgICAgICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiAKICAgICAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS4KICAgICAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gZnVuY3Rpb24gKGRpbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZSwgYmF0Y2hfc2l6ZSwgbWF4X2FkYXB0YXRpb24sIGluaXRpYWxfYWRhcHRhdGlvbiwgdGFyZ2V0X2FjY2VwdF9yYXRlLCBpc19hZGFwdGluZykgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICBpZiAoZGltLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHN1Ym9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sCiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplW2ldLAogICAgICAgICAgICAgICAgbWF4X2FkYXB0YXRpb246IG1heF9hZGFwdGF0aW9uW2ldLAogICAgICAgICAgICAgICAgaW5pdGlhbF9hZGFwdGF0aW9uOiBpbml0aWFsX2FkYXB0YXRpb25baV0sCiAgICAgICAgICAgICAgICB0YXJnZXRfYWNjZXB0X3JhdGU6IHRhcmdldF9hY2NlcHRfcmF0ZVtpXSwKICAgICAgICAgICAgICAgIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIHN1YnBhcmFtID0ge307CiAgICAgICAgICAgICAgc3VicGFyYW1baV0gPSBkZWVwX2Nsb25lKHBhcmFtKTsKICAgICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyCiAgICAgICAgICAgICAgZGVsZXRlIHN1YnBhcmFtW2ldLmluaXQ7IC8vIEFzIGl0IHNvdWxkIG5vdCBiZSBuZWVkZWQKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBTdWJTdGVwcGVyKHN1YnBhcmFtLCBzdWJzdGF0ZSwgbG9nX3Bvc3QsIHN1Ym9wdGlvbnMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QsIHByb3BfbG9nX3NjYWxlW2ldLCBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzOwogICAgICAgIH07CiAgICAgICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LCB0aGlzLnByb3BfbG9nX3NjYWxlLCB0aGlzLmJhdGNoX3NpemUsIHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uLCB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSwgdGhpcy5pc19hZGFwdGluZyk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBzdWJzdGVwcGVycyBpbiBhIHJhbmRvbSBvcmRlciBhbmQgY2FsbCBzdGVwKCkgb24gdGhlbS4KICAgICAgICByZXR1cm4gbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuc3RlcCgpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgc3Vic3RlcHBlci5zdGFydF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHN1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy4KICAgICAgICovCiAgICAgIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgUmVhbE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAgKi8KICAgICAgdmFyIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIEludE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuCiAgICAgICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGUKICAgICAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgCiAgICAgICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAqLwogICAgICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwogICAgICAgIGlmIChwYXJhbV9uYW1lcy5sZW5ndGggPT0gMSkgewogICAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyOwogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7CiAgICAgICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTsKICAgICAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpOwogICAgICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpOwogICAgICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zOwogICAgICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7CiAgICAgICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyhNYXRoLmV4cCh6ZXJvX2xvZ19kZW5zKSArIE1hdGguZXhwKG9uZV9sb2dfZGVucykpKTsKICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHplcm9fcHJvYikgewogICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMDsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gLy8gZWxzZSBrZWVwIHRoZSBwYXJhbSBhdCAxIC4KICAgICAgICByZXR1cm4gMTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfQogICAgICAqIEp1c3QgbGlrZSBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIHRoaXMgU3RlcHBlciB0YWtlcyBhIHN0ZXBzIGZvcgogICAgICAqIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgYnkgdXBkYXRpbmcgZWFjaCBjb21wb25lbnQgaW4gdHVybi4gVGhlIGRpZmZlcmVuY2UKICAgICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy4KICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgCiAgICAgICogICBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci4KICAgICAgKi8KICAgICAgdmFyIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdOwogICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICAgIHRoaXMuZGltID0gcGFyYW0uZGltOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyAiQmluYXJ5Q29tcG9uZW50U3RlcHBlciBjYW4ndCBoYW5kbGUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IGZ1bmN0aW9uIChkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCkgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIGlmIChkaW0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIHZhciBzdWJwYXJhbXMgPSB7fTsKICAgICAgICAgICAgICBzdWJwYXJhbXNbaV0gPSBwYXJhbTsKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBCaW5hcnlTdGVwcGVyKHN1YnBhcmFtcywgc3Vic3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlcnM7CiAgICAgICAgfTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gY3JlYXRlX3N1YnN0ZXBwZXJzKHRoaXMuZGltLCB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0sIHRoaXMubG9nX3Bvc3QpOwogICAgICB9OwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7CiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uCiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHJldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9CiAgICAgICAqIFRoaXMgc3RlcHBlciBjYW4gYmUgcmVzcG9uc2libGUgZm9yIHRha2luZyBhIHN0ZXAgZm9yIG9uZSBvciBtb3JlIHBhcmFtZXRlcnMuCiAgICAgICAqIEZvciByZWFsIGFuZCBpbnQgcGFyYW1ldGVycyBpdCB0YWtlcyBNZXRyb3BvbGlzIHdpdGhpbiBHaWJicyBzdGVwcywgYW5kIGZvciAKICAgICAgICogYmluYXJ5IHBhcmFtZXRlcnMgaXQgZG9lcyBldmFsdWF0ZXMgdGhlIHBvc3RlcmlvciBmb3IgYm90aCBwYXJhbXRlciB2YWx1ZXMgYW5kCiAgICAgICAqIHJhbmRvbWx5IGNoYW5nZXMgdG8gYSBjZXJ0YWluIHZhbHVlIHByb3BvcnRpb25hbGx5IHRvIHRoYXQgdmFsdWUncyBwb3N0ZXJpb3IKICAgICAgICogKHRoaXMgaXMgYWxzbyBkb25lIGZvciBlYWNoIHBhcmFtZXRlciwgc28gYWxzbyBhICogd2l0aGluIEdpYmJzIGFwcHJvYWNoKS4KICAgICAgICogVGhpcyBzdGVwcGVyIGlzIGFsc28gYWRhcHRpdmUgYW5kIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMKICAgICAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV07CiAgICAgICAgICB2YXIgU2VsZWN0U3RlcHBlcjsKICAgICAgICAgIHN3aXRjaCAocGFyYW0udHlwZSkgewogICAgICAgICAgICBjYXNlICJyZWFsIjoKICAgICAgICAgICAgICBpZiAoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJpbnQiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBJbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJiaW5hcnkiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgdGhyb3cgIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgIiArIHRoaXMucGFyYW1fbmFtZXNbaV0gKyAiIHdpdGggdHlwZSAiICsgcGFyYW0udHlwZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBwYXJhbV9vYmplY3Rfd3JhcCA9IHt9OwogICAgICAgICAgcGFyYW1fb2JqZWN0X3dyYXBbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSBwYXJhbTsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHBhcmFtX29wdGlvbnMgPSBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXSB8fCB7fTsKICAgICAgICAgIHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgPSBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7CiAgICAgICAgICBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgfHwgb3B0aW9ucy5iYXRjaF9zaXplOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiA9IHBhcmFtX29wdGlvbnMubWF4X2FkYXB0YXRpb24gfHwgb3B0aW9ucy5tYXhfYWRhcHRhdGlvbjsKICAgICAgICAgIHBhcmFtX29wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uID0gcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gfHwgb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb247CiAgICAgICAgICBwYXJhbV9vcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZSA9IHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlIHx8IG9wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyA9IHBhcmFtX29wdGlvbnMuaXNfYWRhcHRpbmcgfHwgb3B0aW9ucy5pc19hZGFwdGluZzsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbXdnU3RlcHBlcjsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN1YnN0ZXBwZXJzKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RlcCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTsKICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGluZm8gPSB7fTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGluZm9bdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSB0aGlzLnN1YnN0ZXBwZXJzW2ldLmluZm8oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluZm87CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vLyBTYW1wbGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBXaGlsZSB5b3UgY291bGQgZml0IGEgbW9kZWwgYnkgcGFzdGluZyB0b2dldGhlciBTdGVwcGVycywgYQogICAgICAvLyBTYW1wbGVyIGlzIGhlcmUgaXMgYSBjb252ZW5pZW5jZSBjbGFzcyB3aGVyZSBhbiBpbnN0YW5jZSBvZiBTYW1wbGVyCiAgICAgIC8vIHNldHMgdXAgdGhlIFN0ZXBwZXJzLCBjaGVja3MgdGhlIHBhcmFtZXRlciBkZWZpbml0aW9uLAogICAgICAvLyBhbmQgbWFuYWdlcyB0aGUgc2FtcGxpbmcuIFRoaXMgaGVyZSBkZWZpbmVzIHRoZSBTYW1wbGVyICJpbnRlcmZhY2UiLgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZToKICAgICAgKiAgIHsibXUiOiB7InR5cGUiOiAicmVhbCJ9LCAic2lnbWEiOiB7InR5cGUiOiAicmVhbCIsICJsb3dlciIgPSAwfX0KICAgICAgKiAgIFRoZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMgZG9lc24ndCBoYXZlIHRvIGJlICJjb21wbGV0ZSIgYW5kIHByb3BlcnRpZXMKICAgICAgKiAgIGxlZnQgb3V0IChsaWtlIGxvd2VyIGFuZCB1cHBlcikgd2lsbCBiZSBmaWxsZWQgaW4gYnkgZGVmYXVsdHMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihzdGF0ZSwgZGF0YSkuIEhlcmUKICAgICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIAogICAgICAqICAga2V5IGFuZCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcyBudW1iZXJzIG9yIGFycmF5cy4gRm9yIGV4YW1wbGU6CiAgICAgICogICB7Im11IjogMywgInNpZ21hIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgCiAgICAgICogICB0aGUgZGF0YSBhcmd1bWVudCBnaXZlbiBiZWxvdy4KICAgICAgKiBAcGFyYW0gZGF0YSAtIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBsb2dfcG9zdCBmdW5jdGlvbgogICAgICAqICAgd2hlbiBzYW1wbGluZy4KICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHNhbXBsZXIuCiAgICAgICovCiAgICAgIHZhciBTYW1wbGVyID0gZnVuY3Rpb24gKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHsKICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtczsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMucGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CgogICAgICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3QKICAgICAgICB0aGlzLnBhcmFtX2luaXRfZnVuID0gZ2V0X29wdGlvbigicGFyYW1faW5pdF9mdW4iLCBvcHRpb25zLCBwYXJhbV9pbml0X2ZpeGVkKTsKICAgICAgICB2YXIgdGhpbm5pbmdfaW50ZXJ2YWwgPSBnZXRfb3B0aW9uKCJ0aGluIiwgb3B0aW9ucywgMSk7CiAgICAgICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbigibW9uaXRvciIsIG9wdGlvbnMsIG51bGwpOwogICAgICAgIHRoaXMudGhpbih0aGlubmluZ19pbnRlcnZhbCk7CiAgICAgICAgdGhpcy5tb25pdG9yKHBhcmFtc190b19tb25pdG9yKTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICAgIC8vIENvbXBsZXRpbmcgdGhlIHBhcmFtcyBhbmQgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZS4KICAgICAgICB0aGlzLnBhcmFtcyA9IGNvbXBsZXRlX3BhcmFtcyh0aGlzLnBhcmFtcywgdGhpcy5wYXJhbV9pbml0X2Z1bik7CiAgICAgICAgdmFyIHN0YXRlID0ge307CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBzdGF0ZVt0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dLmluaXQ7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbG9nX3Bvc3Qoc3RhdGUsIGRhdGEpOwogICAgICAgIH07CiAgICAgICAgLy8gUnVubmluZyB0aGUgbG9nX3Bvc3QgZnVuY3Rpb24gb25jZSBpbiBjYXNlIGl0IGZ1cnRoZXIgbW9kaWZpZXMgdGhlIHN0YXRlCiAgICAgICAgLy8gZm9yIGV4YW1wbGUgYWRkaW5nIGRlcml2ZWQgcXVhbnRpdGllcy4KICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMuc3RlcHBlcnMgPSB0aGlzLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKHRoaXMucGFyYW1zLCB0aGlzLnN0YXRlLCB0aGlzLmxvZ19wb3N0LCB0aGlzLm9wdGlvbnMpOwogICAgICB9OwoKICAgICAgLyoqIFNob3VsZCByZXR1cm4gYSB2ZWN0b3Igb2Ygc3RlcHBlcnMgdGhhdCB3aGVuIGNhbGxlZCAKICAgICAgICogc2hvdWxkIHRha2UgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuCiAgICAgICAqLwogICAgICBTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgbG9nX3Bvc3QpIHsKICAgICAgICB0aHJvdyAiRXZlcnkgU2FtcGxlciBuZWVkcyB0byBpbXBsZW1lbnQgY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUoKSI7CiAgICAgIH07CgogICAgICAvKiogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgU2FtcGxlci4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLAogICAgICAgICAgdGhpbjogdGhpcy50aGluLAogICAgICAgICAgbW9uaXRvcjogdGhpcy5tb25pdG9yLAogICAgICAgICAgc3RlcHBlcnM6IHRoaXMuc3RlcHBlcnMKICAgICAgICB9OwogICAgICB9OwoKICAgICAgLyoqIFRha2VzIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLiBSZXR1cm5zIHRoZSBuZXcgc3BhY2UKICAgICAgICogYnV0IGFsc28gbW9kaWZpZXMgdGhlIHN0YXRlIGluIHBsYWNlLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3RlcHBlcnMpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7CiAgICAgICAgfQogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGggPiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcykubGVuZ3RoKSB7CiAgICAgICAgICAvLyBUaGUgc3RhdGUgY29udGFpbnMgZGV2aXZlZCBxdWFudGl0aWVzIChub3Qgb25seSBwYXJhbWV0ZXJzKSBhbmQgd2UKICAgICAgICAgIC8vIG5lZWQgdG8gcnVuIHRoZSBsb2dfcG9zdCBvbmNlIG1vcmUgaW4gb3JkZXIgdG8gc2V0IHRoZSBkZXJpdmVkIHF1YW50aXRpZXMKICAgICAgICAgIC8vIGZvciB0aGUgZmluYWwgcGFyYW1ldGVyIHN0YXRlCiAgICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9ucyBzdGVwcyBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlIGFuZCByZXR1cm5zIHRoZW0KICAgICAgICogYXMgYW4gb2JqZWN0IG9mIGFycmF5cyB3aXRoIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyLiBGb3IgZXhhbXBsZToKICAgICAgICoge211OiBbMSwgLTEsIDIsIDMsIC4uLl0sIHNpZ21hOiBbMSwgMiwgMiwgMSwgLi4uXX0uCiAgICAgICAqIElmIHRoaW4gaXMgPiAxIHRoZW4gbl9pdGVyYXRpb25zIC8gdGhpbiBzYW1wbGVzIGFyZSByZXR1cm5lZC4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICAvLyBJbml0aWFsaXppbmcgY3Vycl9zYW1wbGUgd2hlcmUgdGhlIHNhbXBsZSBpcyBnb2luZyB0byBiZSBzYXZlZAogICAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC4KICAgICAgICB2YXIgaSwgaiwgbW9uaXRvcmVkX3BhcmFtczsKICAgICAgICBpZiAodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7CiAgICAgICAgICBtb25pdG9yZWRfcGFyYW1zID0gT2JqZWN0LmtleXModGhpcy5zdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7CiAgICAgICAgfQogICAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9OwogICAgICAgIGZvciAoaiA9IDA7IGogPCBtb25pdG9yZWRfcGFyYW1zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdOwogICAgICAgIH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbl9pdGVyYXRpb25zOyBpKyspIHsKICAgICAgICAgIGlmIChpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkgewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07CiAgICAgICAgICAgICAgY3Vycl9zYW1wbGVbcGFyYW1dLnB1c2goY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGN1cnJfc2FtcGxlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9uIHN0ZXBzIGluIHBhcmFtZXRlciBzcGFjZSBidXQgcmV0dXJucyBub3RoaW5nLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogU2V0cyB3aGF0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIG1vbml0b3JlZCBhbmQgcmV0dXJuZWQgd2hlbiBjYWxsaW5nCiAgICAgICAqIHNhbXBsZS4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLm1vbml0b3IgPSBmdW5jdGlvbiAocGFyYW1zX3RvX21vbml0b3IpIHsKICAgICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yCiAgICAgICAqIGRyYXcgd2lsbCBiZSBrZXB0LgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUudGhpbiA9IGZ1bmN0aW9uICh0aGlubmluZ19pbnRlcnZhbCkgewogICAgICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb2ZmLCBpZiBhcHBsaWNhYmxlLCBpbiBhbGwgc3RlcHBlcnMuCiAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqCiAgICAgICogQGNsYXNzCiAgICAgICogQGltcGxlbWVudHMge1NhbXBsZXJ9CiAgICAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIAogICAgICAqIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiAiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQyIKICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLiBBbiBhZGl0aW9uIGlzIHRoYXQgaXQgaGFuZGxlcyBpbnQgcGFyYW1ldGVycwogICAgICAqIGJ5IG1ha2luZyBkaXNjcmV0ZSBOb3JtYWwgcHJvcG9zYWxzIGFuZCBiaW5hcnkgcGFyYW1ldGVycyBieSB0YWtpbmcgb24gYSBuZXcgCiAgICAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlCiAgICAgICogcGFyYW1ldGVyLiBUaGlzIHNhbXBsZXIgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycwogICAgICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuCiAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uIChwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7CiAgICAgICAgU2FtcGxlci5jYWxsKHRoaXMsIHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpOwogICAgICB9OwogICAgICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsKICAgICAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1NhbXBsZXI7CiAgICAgIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIHJldHVybiBbbmV3IEFtd2dTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKV07CiAgICAgIH07CgogICAgICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlCiAgICAgIHJldHVybiB7CiAgICAgICAgcnVuaWY6IHJ1bmlmLAogICAgICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSwKICAgICAgICBybm9ybTogcm5vcm0sCiAgICAgICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwKICAgICAgICBjb21wbGV0ZV9wYXJhbXM6IGNvbXBsZXRlX3BhcmFtcywKICAgICAgICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXI6IFJlYWxNZXRyb3BvbGlzU3RlcHBlciwKICAgICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLAogICAgICAgIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwKICAgICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyOiBCaW5hcnlDb21wb25lbnRTdGVwcGVyLAogICAgICAgIEFtd2dTdGVwcGVyOiBBbXdnU3RlcHBlciwKICAgICAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXIKICAgICAgfTsKICAgIH0pOwogIH0pKG1jbWMkMSk7CiAgdmFyIG1jbWNFeHBvcnRzID0gbWNtYyQxLmV4cG9ydHM7CgogIGZ1bmN0aW9uIGFzY2VuZGluZyQxKGEsIGIpIHsKICAgIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiogbnVtYmVycyh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHsKICAgICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkgewogICAgICAgICAgeWllbGQgdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nJDEpIHsKICAgIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmckMSkgcmV0dXJuIGFzY2VuZGluZ0RlZmluZWQ7CiAgICBpZiAodHlwZW9mIGNvbXBhcmUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgIHJldHVybiAoYSwgYikgPT4gewogICAgICBjb25zdCB4ID0gY29tcGFyZShhLCBiKTsKICAgICAgaWYgKHggfHwgeCA9PT0gMCkgcmV0dXJuIHg7CiAgICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHsKICAgIHJldHVybiAoYSA9PSBudWxsIHx8ICEoYSA+PSBhKSkgLSAoYiA9PSBudWxsIHx8ICEoYiA+PSBiKSkgfHwgKGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwKTsKICB9CgogIGZ1bmN0aW9uIG1heCh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIGxldCBtYXg7CiAgICB7CiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkgewogICAgICAgICAgbWF4ID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbWF4OwogIH0KCiAgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikgewogICAgbGV0IG1pbjsKICAgIHsKICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAobWluID4gdmFsdWUgfHwgbWluID09PSB1bmRlZmluZWQgJiYgdmFsdWUgPj0gdmFsdWUpKSB7CiAgICAgICAgICBtaW4gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBtaW47CiAgfQoKICAvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdAogIC8vIElTQyBsaWNlbnNlLCBDb3B5cmlnaHQgMjAxOCBWbGFkaW1pciBBZ2Fmb25raW4uCiAgZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyYXksIGssIGxlZnQgPSAwLCByaWdodCA9IEluZmluaXR5LCBjb21wYXJlKSB7CiAgICBrID0gTWF0aC5mbG9vcihrKTsKICAgIGxlZnQgPSBNYXRoLmZsb29yKE1hdGgubWF4KDAsIGxlZnQpKTsKICAgIHJpZ2h0ID0gTWF0aC5mbG9vcihNYXRoLm1pbihhcnJheS5sZW5ndGggLSAxLCByaWdodCkpOwogICAgaWYgKCEobGVmdCA8PSBrICYmIGsgPD0gcmlnaHQpKSByZXR1cm4gYXJyYXk7CiAgICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpOwogICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkgewogICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7CiAgICAgICAgY29uc3QgbiA9IHJpZ2h0IC0gbGVmdCArIDE7CiAgICAgICAgY29uc3QgbSA9IGsgLSBsZWZ0ICsgMTsKICAgICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7CiAgICAgICAgY29uc3QgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7CiAgICAgICAgY29uc3Qgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7CiAgICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7CiAgICAgICAgY29uc3QgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTsKICAgICAgICBxdWlja3NlbGVjdChhcnJheSwgaywgbmV3TGVmdCwgbmV3UmlnaHQsIGNvbXBhcmUpOwogICAgICB9CiAgICAgIGNvbnN0IHQgPSBhcnJheVtrXTsKICAgICAgbGV0IGkgPSBsZWZ0OwogICAgICBsZXQgaiA9IHJpZ2h0OwogICAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTsKICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyYXksIGxlZnQsIHJpZ2h0KTsKICAgICAgd2hpbGUgKGkgPCBqKSB7CiAgICAgICAgc3dhcChhcnJheSwgaSwgaiksICsraSwgLS1qOwogICAgICAgIHdoaWxlIChjb21wYXJlKGFycmF5W2ldLCB0KSA8IDApICsraTsKICAgICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7CiAgICAgIH0KICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpOwogICAgICBpZiAoaiA8PSBrKSBsZWZ0ID0gaiArIDE7CiAgICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7CiAgICB9CiAgICByZXR1cm4gYXJyYXk7CiAgfQogIGZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHsKICAgIGNvbnN0IHQgPSBhcnJheVtpXTsKICAgIGFycmF5W2ldID0gYXJyYXlbal07CiAgICBhcnJheVtqXSA9IHQ7CiAgfQoKICBmdW5jdGlvbiBxdWFudGlsZSh2YWx1ZXMsIHAsIHZhbHVlb2YpIHsKICAgIHZhbHVlcyA9IEZsb2F0NjRBcnJheS5mcm9tKG51bWJlcnModmFsdWVzKSk7CiAgICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuOwogICAgaWYgKHAgPD0gMCB8fCBuIDwgMikgcmV0dXJuIG1pbih2YWx1ZXMpOwogICAgaWYgKHAgPj0gMSkgcmV0dXJuIG1heCh2YWx1ZXMpOwogICAgdmFyIG4sCiAgICAgIGkgPSAobiAtIDEpICogcCwKICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLAogICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksCiAgICAgIHZhbHVlMSA9IG1pbih2YWx1ZXMuc3ViYXJyYXkoaTAgKyAxKSk7CiAgICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTsKICB9CgogIGZ1bmN0aW9uIG1lZGlhbih2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHJldHVybiBxdWFudGlsZSh2YWx1ZXMsIDAuNSk7CiAgfQoKICB2YXIgbm9vcCA9IHsKICAgIHZhbHVlOiAoKSA9PiB7fQogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2goKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkgewogICAgICBpZiAoISh0ID0gYXJndW1lbnRzW2ldICsgIiIpIHx8IHQgaW4gXyB8fCAvW1xzLl0vLnRlc3QodCkpIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiICsgdCk7CiAgICAgIF9bdF0gPSBbXTsKICAgIH0KICAgIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7CiAgfQogIGZ1bmN0aW9uIERpc3BhdGNoKF8pIHsKICAgIHRoaXMuXyA9IF87CiAgfQogIGZ1bmN0aW9uIHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWVzLCB0eXBlcykgewogICAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XHMrLykubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuYW1lID0gIiIsCiAgICAgICAgaSA9IHQuaW5kZXhPZigiLiIpOwogICAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpOwogICAgICBpZiAodCAmJiAhdHlwZXMuaGFzT3duUHJvcGVydHkodCkpIHRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiICsgdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogdCwKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH07CiAgICB9KTsKICB9CiAgRGlzcGF0Y2gucHJvdG90eXBlID0gZGlzcGF0Y2gucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IERpc3BhdGNoLAogICAgb246IGZ1bmN0aW9uICh0eXBlbmFtZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF8gPSB0aGlzLl8sCiAgICAgICAgVCA9IHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWUgKyAiIiwgXyksCiAgICAgICAgdCwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IFQubGVuZ3RoOwoKICAgICAgLy8gSWYgbm8gY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmV0dXJuIHRoZSBjYWxsYmFjayBvZiB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7CiAgICAgICAgd2hpbGUgKCsraSA8IG4pIGlmICgodCA9ICh0eXBlbmFtZSA9IFRbaV0pLnR5cGUpICYmICh0ID0gZ2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIElmIGEgdHlwZSB3YXMgc3BlY2lmaWVkLCBzZXQgdGhlIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS4KICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIgKyBjYWxsYmFjayk7CiAgICAgIHdoaWxlICgrK2kgPCBuKSB7CiAgICAgICAgaWYgKHQgPSAodHlwZW5hbWUgPSBUW2ldKS50eXBlKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgY2FsbGJhY2spO2Vsc2UgaWYgKGNhbGxiYWNrID09IG51bGwpIGZvciAodCBpbiBfKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgbnVsbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY29weTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29weSA9IHt9LAogICAgICAgIF8gPSB0aGlzLl87CiAgICAgIGZvciAodmFyIHQgaW4gXykgY29weVt0XSA9IF9bdF0uc2xpY2UoKTsKICAgICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTsKICAgIH0sCiAgICBjYWxsOiBmdW5jdGlvbiAodHlwZSwgdGhhdCkgewogICAgICBpZiAoKG4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMikgPiAwKSBmb3IgKHZhciBhcmdzID0gbmV3IEFycmF5KG4pLCBpID0gMCwgbiwgdDsgaSA8IG47ICsraSkgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMl07CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7CiAgICB9LAogICAgYXBwbHk6IGZ1bmN0aW9uICh0eXBlLCB0aGF0LCBhcmdzKSB7CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHZhciB0ID0gdGhpcy5fW3R5cGVdLCBpID0gMCwgbiA9IHQubGVuZ3RoOyBpIDwgbjsgKytpKSB0W2ldLnZhbHVlLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgfQogIH07CiAgZnVuY3Rpb24gZ2V0JDEodHlwZSwgbmFtZSkgewogICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0eXBlLmxlbmd0aCwgYzsgaSA8IG47ICsraSkgewogICAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgcmV0dXJuIGMudmFsdWU7CiAgICAgIH0KICAgIH0KICB9CiAgZnVuY3Rpb24gc2V0JDEodHlwZSwgbmFtZSwgY2FsbGJhY2spIHsKICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAgaWYgKHR5cGVbaV0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgIHR5cGVbaV0gPSBub29wLCB0eXBlID0gdHlwZS5zbGljZSgwLCBpKS5jb25jYXQodHlwZS5zbGljZShpICsgMSkpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHsKICAgICAgbmFtZTogbmFtZSwKICAgICAgdmFsdWU6IGNhbGxiYWNrCiAgICB9KTsKICAgIHJldHVybiB0eXBlOwogIH0KCiAgdmFyIHhodG1sID0gImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiOwogIHZhciBuYW1lc3BhY2VzID0gewogICAgc3ZnOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAogICAgeGh0bWw6IHhodG1sLAogICAgeGxpbms6ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwKICAgIHhtbDogImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsCiAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIgogIH07CgogIGZ1bmN0aW9uIG5hbWVzcGFjZSAobmFtZSkgewogICAgdmFyIHByZWZpeCA9IG5hbWUgKz0gIiIsCiAgICAgIGkgPSBwcmVmaXguaW5kZXhPZigiOiIpOwogICAgaWYgKGkgPj0gMCAmJiAocHJlZml4ID0gbmFtZS5zbGljZSgwLCBpKSkgIT09ICJ4bWxucyIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTsKICAgIHJldHVybiBuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkgPyB7CiAgICAgIHNwYWNlOiBuYW1lc3BhY2VzW3ByZWZpeF0sCiAgICAgIGxvY2FsOiBuYW1lCiAgICB9IDogbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICB9CgogIGZ1bmN0aW9uIGNyZWF0b3JJbmhlcml0KG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMub3duZXJEb2N1bWVudCwKICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTsKICAgICAgcmV0dXJuIHVyaSA9PT0geGh0bWwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0geGh0bWwgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHVyaSwgbmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yRml4ZWQoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yIChuYW1lKSB7CiAgICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7CiAgICByZXR1cm4gKGZ1bGxuYW1lLmxvY2FsID8gY3JlYXRvckZpeGVkIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTsKICB9CgogIGZ1bmN0aW9uIG5vbmUoKSB7fQogIGZ1bmN0aW9uIHNlbGVjdG9yIChzZWxlY3RvcikgewogICAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBub25lIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7CiAgfQoKICAvLyBHaXZlbiBzb21ldGhpbmcgYXJyYXkgbGlrZSAob3IgbnVsbCksIHJldHVybnMgc29tZXRoaW5nIHRoYXQgaXMgc3RyaWN0bHkgYW4KICAvLyBhcnJheS4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IGFycmF5LWxpa2Ugb2JqZWN0cyBwYXNzZWQgdG8gZDMuc2VsZWN0QWxsCiAgLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGEKICAvLyBzZWxlY3Rpb247IHdlIGRvbuKAmXQgZXZlciB3YW50IHRvIGNyZWF0ZSBhIHNlbGVjdGlvbiBiYWNrZWQgYnkgYSBsaXZlCiAgLy8gSFRNTENvbGxlY3Rpb24gb3IgTm9kZUxpc3QuIEhvd2V2ZXIsIG5vdGUgdGhhdCBzZWxlY3Rpb24uc2VsZWN0QWxsIHdpbGwgdXNlIGEKICAvLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLgogIGZ1bmN0aW9uIGFycmF5KHgpIHsKICAgIHJldHVybiB4ID09IG51bGwgPyBbXSA6IEFycmF5LmlzQXJyYXkoeCkgPyB4IDogQXJyYXkuZnJvbSh4KTsKICB9CgogIGZ1bmN0aW9uIGVtcHR5KCkgewogICAgcmV0dXJuIFtdOwogIH0KICBmdW5jdGlvbiBzZWxlY3RvckFsbCAoc2VsZWN0b3IpIHsKICAgIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gZW1wdHkgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGFycmF5QWxsKHNlbGVjdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGFycmF5KHNlbGVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3RBbGwgKHNlbGVjdCkgewogICAgaWYgKHR5cGVvZiBzZWxlY3QgPT09ICJmdW5jdGlvbiIpIHNlbGVjdCA9IGFycmF5QWxsKHNlbGVjdCk7ZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKTsKICAgICAgICAgIHBhcmVudHMucHVzaChub2RlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoc3ViZ3JvdXBzLCBwYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIG1hdGNoZXIgKHNlbGVjdG9yKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHNlbGVjdG9yKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkTWF0Y2hlcihzZWxlY3RvcikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIHZhciBmaW5kID0gQXJyYXkucHJvdG90eXBlLmZpbmQ7CiAgZnVuY3Rpb24gY2hpbGRGaW5kKG1hdGNoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZmluZC5jYWxsKHRoaXMuY2hpbGRyZW4sIG1hdGNoKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkRmlyc3QoKSB7CiAgICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NlbGVjdENoaWxkIChtYXRjaCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0IDogY2hpbGRGaW5kKHR5cGVvZiBtYXRjaCA9PT0gImZ1bmN0aW9uIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpOwogIH0KCiAgdmFyIGZpbHRlciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXI7CiAgZnVuY3Rpb24gY2hpbGRyZW4oKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKTsKICB9CiAgZnVuY3Rpb24gY2hpbGRyZW5GaWx0ZXIobWF0Y2gpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLmNoaWxkcmVuLCBtYXRjaCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gKG1hdGNoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuIDogY2hpbGRyZW5GaWx0ZXIodHlwZW9mIG1hdGNoID09PSAiZnVuY3Rpb24iID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZmlsdGVyIChtYXRjaCkgewogICAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gImZ1bmN0aW9uIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7CiAgICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMShzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpOwogIH0KCiAgZnVuY3Rpb24gc3BhcnNlICh1cGRhdGUpIHsKICAgIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW50ZXIgKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMSh0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpOwogIH0KICBmdW5jdGlvbiBFbnRlck5vZGUocGFyZW50LCBkYXR1bSkgewogICAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7CiAgICB0aGlzLm5hbWVzcGFjZVVSSSA9IHBhcmVudC5uYW1lc3BhY2VVUkk7CiAgICB0aGlzLl9uZXh0ID0gbnVsbDsKICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDsKICAgIHRoaXMuX19kYXRhX18gPSBkYXR1bTsKICB9CiAgRW50ZXJOb2RlLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBFbnRlck5vZGUsCiAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCB0aGlzLl9uZXh0KTsKICAgIH0sCiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChjaGlsZCwgbmV4dCkgewogICAgICByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gY29uc3RhbnQkMSAoeCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHg7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHsKICAgIHZhciBpID0gMCwKICAgICAgbm9kZSwKICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsCiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDsKCiAgICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZml0IGludG8gdXBkYXRlLgogICAgLy8gUHV0IGFueSBudWxsIG5vZGVzIGludG8gZW50ZXIuCiAgICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuCiAgICBmb3IgKDsgaSA8IGRhdGFMZW5ndGg7ICsraSkgewogICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07CiAgICAgICAgdXBkYXRlW2ldID0gbm9kZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTsKICAgICAgfQogICAgfQoKICAgIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBkb27igJl0IGZpdCBpbnRvIGV4aXQuCiAgICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGJpbmRLZXkocGFyZW50LCBncm91cCwgZW50ZXIsIHVwZGF0ZSwgZXhpdCwgZGF0YSwga2V5KSB7CiAgICB2YXIgaSwKICAgICAgbm9kZSwKICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwKCksCiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgIGtleVZhbHVlcyA9IG5ldyBBcnJheShncm91cExlbmd0aCksCiAgICAgIGtleVZhbHVlOwoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBub2RlLgogICAgLy8gSWYgbXVsdGlwbGUgbm9kZXMgaGF2ZSB0aGUgc2FtZSBrZXksIHRoZSBkdXBsaWNhdGVzIGFyZSBhZGRlZCB0byBleGl0LgogICAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGtleVZhbHVlc1tpXSA9IGtleVZhbHVlID0ga2V5LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApICsgIiI7CiAgICAgICAgaWYgKG5vZGVCeUtleVZhbHVlLmhhcyhrZXlWYWx1ZSkpIHsKICAgICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlQnlLZXlWYWx1ZS5zZXQoa2V5VmFsdWUsIG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBkYXR1bS4KICAgIC8vIElmIHRoZXJlIGEgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBrZXksIGpvaW4gYW5kIGFkZCBpdCB0byB1cGRhdGUuCiAgICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuCiAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7CiAgICAgIGtleVZhbHVlID0ga2V5LmNhbGwocGFyZW50LCBkYXRhW2ldLCBpLCBkYXRhKSArICIiOwogICAgICBpZiAobm9kZSA9IG5vZGVCeUtleVZhbHVlLmdldChrZXlWYWx1ZSkpIHsKICAgICAgICB1cGRhdGVbaV0gPSBub2RlOwogICAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldOwogICAgICAgIG5vZGVCeUtleVZhbHVlLmRlbGV0ZShrZXlWYWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBBZGQgYW55IHJlbWFpbmluZyBub2RlcyB0aGF0IHdlcmUgbm90IGJvdW5kIHRvIGRhdGEgdG8gZXhpdC4KICAgIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7CiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGRhdHVtKG5vZGUpIHsKICAgIHJldHVybiBub2RlLl9fZGF0YV9fOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0YSAodmFsdWUsIGtleSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLCBkYXR1bSk7CiAgICB2YXIgYmluZCA9IGtleSA/IGJpbmRLZXkgOiBiaW5kSW5kZXgsCiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLAogICAgICBncm91cHMgPSB0aGlzLl9ncm91cHM7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB2YWx1ZSA9IGNvbnN0YW50JDEodmFsdWUpOwogICAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIHZhciBwYXJlbnQgPSBwYXJlbnRzW2pdLAogICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLAogICAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICAgIGRhdGEgPSBhcnJheWxpa2UodmFsdWUuY2FsbChwYXJlbnQsIHBhcmVudCAmJiBwYXJlbnQuX19kYXRhX18sIGosIHBhcmVudHMpKSwKICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgICAgZW50ZXJHcm91cCA9IGVudGVyW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIHVwZGF0ZUdyb3VwID0gdXBkYXRlW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpOwogICAgICBiaW5kKHBhcmVudCwgZ3JvdXAsIGVudGVyR3JvdXAsIHVwZGF0ZUdyb3VwLCBleGl0R3JvdXAsIGRhdGEsIGtleSk7CgogICAgICAvLyBOb3cgY29ubmVjdCB0aGUgZW50ZXIgbm9kZXMgdG8gdGhlaXIgZm9sbG93aW5nIHVwZGF0ZSBub2RlLCBzdWNoIHRoYXQKICAgICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSwKICAgICAgLy8gcmF0aGVyIHRoYW4gYXQgdGhlIGVuZCBvZiB0aGUgcGFyZW50IG5vZGUuCiAgICAgIGZvciAodmFyIGkwID0gMCwgaTEgPSAwLCBwcmV2aW91cywgbmV4dDsgaTAgPCBkYXRhTGVuZ3RoOyArK2kwKSB7CiAgICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHsKICAgICAgICAgIGlmIChpMCA+PSBpMSkgaTEgPSBpMCArIDE7CiAgICAgICAgICB3aGlsZSAoIShuZXh0ID0gdXBkYXRlR3JvdXBbaTFdKSAmJiArK2kxIDwgZGF0YUxlbmd0aCk7CiAgICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHVwZGF0ZSA9IG5ldyBTZWxlY3Rpb24kMSh1cGRhdGUsIHBhcmVudHMpOwogICAgdXBkYXRlLl9lbnRlciA9IGVudGVyOwogICAgdXBkYXRlLl9leGl0ID0gZXhpdDsKICAgIHJldHVybiB1cGRhdGU7CiAgfQoKICAvLyBHaXZlbiBzb21lIGRhdGEsIHRoaXMgcmV0dXJucyBhbiBhcnJheS1saWtlIHZpZXcgb2YgaXQ6IGFuIG9iamVjdCB0aGF0CiAgLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2UKICAvLyBzZWxlY3RBbGwsIHRoaXMgaXNu4oCZdCB3b3JyaWVkIGFib3V0IOKAnGxpdmXigJ0gY29sbGVjdGlvbnMgYmVjYXVzZSB0aGUgcmVzdWx0aW5nCiAgLy8gYXJyYXkgd2lsbCBvbmx5IGJlIHVzZWQgYnJpZWZseSB3aGlsZSBkYXRhIGlzIGJlaW5nIGJvdW5kLiAoSXQgaXMgcG9zc2libGUgdG8KICAvLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlCiAgLy8gZG9u4oCZdDsgd2XigJlkIHJhdGhlciBhdm9pZCBhIGdyYXR1aXRvdXMgY29weS4pCiAgZnVuY3Rpb24gYXJyYXlsaWtlKGRhdGEpIHsKICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gIm9iamVjdCIgJiYgImxlbmd0aCIgaW4gZGF0YSA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlCiAgICA6IEFycmF5LmZyb20oZGF0YSk7IC8vIE1hcCwgU2V0LCBpdGVyYWJsZSwgc3RyaW5nLCBvciBhbnl0aGluZyBlbHNlCiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZXhpdCAoKSB7CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHRoaXMuX2V4aXQgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9qb2luIChvbmVudGVyLCBvbnVwZGF0ZSwgb25leGl0KSB7CiAgICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksCiAgICAgIHVwZGF0ZSA9IHRoaXMsCiAgICAgIGV4aXQgPSB0aGlzLmV4aXQoKTsKICAgIGlmICh0eXBlb2Ygb25lbnRlciA9PT0gImZ1bmN0aW9uIikgewogICAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpOwogICAgICBpZiAoZW50ZXIpIGVudGVyID0gZW50ZXIuc2VsZWN0aW9uKCk7CiAgICB9IGVsc2UgewogICAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgIiIpOwogICAgfQogICAgaWYgKG9udXBkYXRlICE9IG51bGwpIHsKICAgICAgdXBkYXRlID0gb251cGRhdGUodXBkYXRlKTsKICAgICAgaWYgKHVwZGF0ZSkgdXBkYXRlID0gdXBkYXRlLnNlbGVjdGlvbigpOwogICAgfQogICAgaWYgKG9uZXhpdCA9PSBudWxsKSBleGl0LnJlbW92ZSgpO2Vsc2Ugb25leGl0KGV4aXQpOwogICAgcmV0dXJuIGVudGVyICYmIHVwZGF0ZSA/IGVudGVyLm1lcmdlKHVwZGF0ZSkub3JkZXIoKSA6IHVwZGF0ZTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9tZXJnZSAoY29udGV4dCkgewogICAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7CiAgICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gc2VsZWN0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEobWVyZ2VzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9vcmRlciAoKSB7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAtMSwgbSA9IGdyb3Vwcy5sZW5ndGg7ICsraiA8IG07KSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBpZiAobmV4dCAmJiBub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHQpIF4gNCkgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBuZXh0KTsKICAgICAgICAgIG5leHQgPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc29ydCAoY29tcGFyZSkgewogICAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nOwogICAgZnVuY3Rpb24gY29tcGFyZU5vZGUoYSwgYikgewogICAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7CiAgICB9CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc29ydGdyb3VwID0gc29ydGdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHNvcnRncm91cHMsIHRoaXMuX3BhcmVudHMpLm9yZGVyKCk7CiAgfQogIGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7CiAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fY2FsbCAoKSB7CiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07CiAgICBhcmd1bWVudHNbMF0gPSB0aGlzOwogICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGVzICgpIHsKICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGUgKCkgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgdmFyIG5vZGUgPSBncm91cFtpXTsKICAgICAgICBpZiAobm9kZSkgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NpemUgKCkgewogICAgbGV0IHNpemUgPSAwOwogICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgcmV0dXJuIHNpemU7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW1wdHkgKCkgewogICAgcmV0dXJuICF0aGlzLm5vZGUoKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9lYWNoIChjYWxsYmFjaykgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gYXR0clJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TJDEoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJDb25zdGFudCQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnROUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIHZhbHVlKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJGdW5jdGlvbiQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO2Vsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb25OUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7ZWxzZSB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fYXR0ciAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSgpOwogICAgICByZXR1cm4gZnVsbG5hbWUubG9jYWwgPyBub2RlLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCkgOiBub2RlLmdldEF0dHJpYnV0ZShmdWxsbmFtZSk7CiAgICB9CiAgICByZXR1cm4gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsID8gZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMkMSA6IGF0dHJSZW1vdmUkMSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMkMSA6IGF0dHJGdW5jdGlvbiQxIDogZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyQxIDogYXR0ckNvbnN0YW50JDEpKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVmYXVsdFZpZXcgKG5vZGUpIHsKICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IC8vIG5vZGUgaXMgYSBOb2RlCiAgICB8fCBub2RlLmRvY3VtZW50ICYmIG5vZGUgLy8gbm9kZSBpcyBhIFdpbmRvdwogICAgfHwgbm9kZS5kZWZhdWx0VmlldzsgLy8gbm9kZSBpcyBhIERvY3VtZW50CiAgfQoKICBmdW5jdGlvbiBzdHlsZVJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUNvbnN0YW50JDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBwcmlvcml0eSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uJDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7ZWxzZSB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHYsIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zdHlsZSAobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBzdHlsZVJlbW92ZSQxIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gc3R5bGVGdW5jdGlvbiQxIDogc3R5bGVDb25zdGFudCQxKShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/ICIiIDogcHJpb3JpdHkpKSA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpOwogIH0KICBmdW5jdGlvbiBzdHlsZVZhbHVlKG5vZGUsIG5hbWUpIHsKICAgIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgZGVmYXVsdFZpZXcobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpOwogIH0KCiAgZnVuY3Rpb24gcHJvcGVydHlSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZGVsZXRlIHRoaXNbbmFtZV07CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzW25hbWVdID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIGRlbGV0ZSB0aGlzW25hbWVdO2Vsc2UgdGhpc1tuYW1lXSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcHJvcGVydHkgKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHByb3BlcnR5RnVuY3Rpb24gOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpIDogdGhpcy5ub2RlKClbbmFtZV07CiAgfQoKICBmdW5jdGlvbiBjbGFzc0FycmF5KHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XHMrLyk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzTGlzdChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTsKICB9CiAgZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHsKICAgIHRoaXMuX25vZGUgPSBub2RlOwogICAgdGhpcy5fbmFtZXMgPSBjbGFzc0FycmF5KG5vZGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiKTsKICB9CiAgQ2xhc3NMaXN0LnByb3RvdHlwZSA9IHsKICAgIGFkZDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIGkgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpOwogICAgICBpZiAoaSA8IDApIHsKICAgICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHRoaXMuX25hbWVzLmpvaW4oIiAiKSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTsKICAgICAgaWYgKGkgPj0gMCkgewogICAgICAgIHRoaXMuX25hbWVzLnNwbGljZShpLCAxKTsKICAgICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0aGlzLl9uYW1lcy5qb2luKCIgIikpOwogICAgICB9CiAgICB9LAogICAgY29udGFpbnM6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7CiAgICB9CiAgfTsKICBmdW5jdGlvbiBjbGFzc2VkQWRkKG5vZGUsIG5hbWVzKSB7CiAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwKICAgICAgaSA9IC0xLAogICAgICBuID0gbmFtZXMubGVuZ3RoOwogICAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTsKICB9CiAgZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykgewogICAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksCiAgICAgIGkgPSAtMSwKICAgICAgbiA9IG5hbWVzLmxlbmd0aDsKICAgIHdoaWxlICgrK2kgPCBuKSBsaXN0LnJlbW92ZShuYW1lc1tpXSk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRUcnVlKG5hbWVzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBjbGFzc2VkQWRkKHRoaXMsIG5hbWVzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjbGFzc2VkRnVuY3Rpb24obmFtZXMsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAodmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA/IGNsYXNzZWRBZGQgOiBjbGFzc2VkUmVtb3ZlKSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fY2xhc3NlZCAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBuYW1lcyA9IGNsYXNzQXJyYXkobmFtZSArICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdCh0aGlzLm5vZGUoKSksCiAgICAgICAgaSA9IC0xLAogICAgICAgIG4gPSBuYW1lcy5sZW5ndGg7CiAgICAgIHdoaWxlICgrK2kgPCBuKSBpZiAoIWxpc3QuY29udGFpbnMobmFtZXNbaV0pKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gY2xhc3NlZEZ1bmN0aW9uIDogdmFsdWUgPyBjbGFzc2VkVHJ1ZSA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkgewogICAgdGhpcy50ZXh0Q29udGVudCA9ICIiOwogIH0KICBmdW5jdGlvbiB0ZXh0Q29uc3RhbnQkMSh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdGV4dEZ1bmN0aW9uJDEodmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl90ZXh0ICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGV4dEZ1bmN0aW9uJDEgOiB0ZXh0Q29uc3RhbnQkMSkodmFsdWUpKSA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50OwogIH0KCiAgZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHsKICAgIHRoaXMuaW5uZXJIVE1MID0gIiI7CiAgfQogIGZ1bmN0aW9uIGh0bWxDb25zdGFudCh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5pbm5lckhUTUwgPSB2YWx1ZTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB0aGlzLmlubmVySFRNTCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9odG1sICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IGh0bWxSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gaHRtbEZ1bmN0aW9uIDogaHRtbENvbnN0YW50KSh2YWx1ZSkpIDogdGhpcy5ub2RlKCkuaW5uZXJIVE1MOwogIH0KCiAgZnVuY3Rpb24gcmFpc2UoKSB7CiAgICBpZiAodGhpcy5uZXh0U2libGluZykgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcmFpc2UgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyYWlzZSk7CiAgfQoKICBmdW5jdGlvbiBsb3dlcigpIHsKICAgIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9sb3dlciAoKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9hcHBlbmQgKG5hbWUpIHsKICAgIHZhciBjcmVhdGUgPSB0eXBlb2YgbmFtZSA9PT0gImZ1bmN0aW9uIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjb25zdGFudE51bGwoKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2luc2VydCAobmFtZSwgYmVmb3JlKSB7CiAgICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09ICJmdW5jdGlvbiIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSwKICAgICAgc2VsZWN0ID0gYmVmb3JlID09IG51bGwgPyBjb25zdGFudE51bGwgOiB0eXBlb2YgYmVmb3JlID09PSAiZnVuY3Rpb24iID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTsKICAgIHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9yZW1vdmUgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyZW1vdmUpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Nsb25lU2hhbGxvdygpIHsKICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKGZhbHNlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7CiAgICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZSh0cnVlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZSAoZGVlcCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGRlZXAgPyBzZWxlY3Rpb25fY2xvbmVEZWVwIDogc2VsZWN0aW9uX2Nsb25lU2hhbGxvdyk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0dW0gKHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMucHJvcGVydHkoIl9fZGF0YV9fIiwgdmFsdWUpIDogdGhpcy5ub2RlKCkuX19kYXRhX187CiAgfQoKICBmdW5jdGlvbiBjb250ZXh0TGlzdGVuZXIobGlzdGVuZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCwgdGhpcy5fX2RhdGFfXyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMpIHsKICAgIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxzKy8pLm1hcChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbmFtZSA9ICIiLAogICAgICAgIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiB0LAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBvblJlbW92ZSh0eXBlbmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uOwogICAgICBpZiAoIW9uKSByZXR1cm47CiAgICAgIGZvciAodmFyIGogPSAwLCBpID0gLTEsIG0gPSBvbi5sZW5ndGgsIG87IGogPCBtOyArK2opIHsKICAgICAgICBpZiAobyA9IG9uW2pdLCAoIXR5cGVuYW1lLnR5cGUgfHwgby50eXBlID09PSB0eXBlbmFtZS50eXBlKSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9uWysraV0gPSBvOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKytpKSBvbi5sZW5ndGggPSBpO2Vsc2UgZGVsZXRlIHRoaXMuX19vbjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uLAogICAgICAgIG8sCiAgICAgICAgbGlzdGVuZXIgPSBjb250ZXh0TGlzdGVuZXIodmFsdWUpOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoby50eXBlLCBvLmxpc3RlbmVyLCBvLm9wdGlvbnMpOwogICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciA9IGxpc3RlbmVyLCBvLm9wdGlvbnMgPSBvcHRpb25zKTsKICAgICAgICAgIG8udmFsdWUgPSB2YWx1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHR5cGVuYW1lLnR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsKICAgICAgbyA9IHsKICAgICAgICB0eXBlOiB0eXBlbmFtZS50eXBlLAogICAgICAgIG5hbWU6IHR5cGVuYW1lLm5hbWUsCiAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lciwKICAgICAgICBvcHRpb25zOiBvcHRpb25zCiAgICAgIH07CiAgICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtlbHNlIG9uLnB1c2gobyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fb24gKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgdmFyIHR5cGVuYW1lcyA9IHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lICsgIiIpLAogICAgICBpLAogICAgICBuID0gdHlwZW5hbWVzLmxlbmd0aCwKICAgICAgdDsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgb24gPSB0aGlzLm5vZGUoKS5fX29uOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7CiAgICAgICAgZm9yIChpID0gMCwgbyA9IG9uW2pdOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAoKHQgPSB0eXBlbmFtZXNbaV0pLnR5cGUgPT09IG8udHlwZSAmJiB0Lm5hbWUgPT09IG8ubmFtZSkgewogICAgICAgICAgICByZXR1cm4gby52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfQogICAgb24gPSB2YWx1ZSA/IG9uQWRkIDogb25SZW1vdmU7CiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB0aGlzLmVhY2gob24odHlwZW5hbWVzW2ldLCB2YWx1ZSwgb3B0aW9ucykpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykgewogICAgdmFyIHdpbmRvdyA9IGRlZmF1bHRWaWV3KG5vZGUpLAogICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDsKICAgIGlmICh0eXBlb2YgZXZlbnQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgZXZlbnQgPSBuZXcgZXZlbnQodHlwZSwgcGFyYW1zKTsKICAgIH0gZWxzZSB7CiAgICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpOwogICAgICBpZiAocGFyYW1zKSBldmVudC5pbml0RXZlbnQodHlwZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlKSwgZXZlbnQuZGV0YWlsID0gcGFyYW1zLmRldGFpbDtlbHNlIGV2ZW50LmluaXRFdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UpOwogICAgfQogICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hDb25zdGFudCh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Rpc3BhdGNoICh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiBwYXJhbXMgPT09ICJmdW5jdGlvbiIgPyBkaXNwYXRjaEZ1bmN0aW9uIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7CiAgfQoKICBmdW5jdGlvbiogc2VsZWN0aW9uX2l0ZXJhdG9yICgpIHsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHlpZWxkIG5vZGU7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciByb290ID0gW251bGxdOwogIGZ1bmN0aW9uIFNlbGVjdGlvbiQxKGdyb3VwcywgcGFyZW50cykgewogICAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzOwogICAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbigpIHsKICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpczsKICB9CiAgU2VsZWN0aW9uJDEucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBTZWxlY3Rpb24kMSwKICAgIHNlbGVjdDogc2VsZWN0aW9uX3NlbGVjdCwKICAgIHNlbGVjdEFsbDogc2VsZWN0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsCiAgICBzZWxlY3RDaGlsZHJlbjogc2VsZWN0aW9uX3NlbGVjdENoaWxkcmVuLAogICAgZmlsdGVyOiBzZWxlY3Rpb25fZmlsdGVyLAogICAgZGF0YTogc2VsZWN0aW9uX2RhdGEsCiAgICBlbnRlcjogc2VsZWN0aW9uX2VudGVyLAogICAgZXhpdDogc2VsZWN0aW9uX2V4aXQsCiAgICBqb2luOiBzZWxlY3Rpb25fam9pbiwKICAgIG1lcmdlOiBzZWxlY3Rpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHNlbGVjdGlvbl9zZWxlY3Rpb24sCiAgICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLAogICAgc29ydDogc2VsZWN0aW9uX3NvcnQsCiAgICBjYWxsOiBzZWxlY3Rpb25fY2FsbCwKICAgIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fbm9kZSwKICAgIHNpemU6IHNlbGVjdGlvbl9zaXplLAogICAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9lYWNoLAogICAgYXR0cjogc2VsZWN0aW9uX2F0dHIsCiAgICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLAogICAgcHJvcGVydHk6IHNlbGVjdGlvbl9wcm9wZXJ0eSwKICAgIGNsYXNzZWQ6IHNlbGVjdGlvbl9jbGFzc2VkLAogICAgdGV4dDogc2VsZWN0aW9uX3RleHQsCiAgICBodG1sOiBzZWxlY3Rpb25faHRtbCwKICAgIHJhaXNlOiBzZWxlY3Rpb25fcmFpc2UsCiAgICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLAogICAgYXBwZW5kOiBzZWxlY3Rpb25fYXBwZW5kLAogICAgaW5zZXJ0OiBzZWxlY3Rpb25faW5zZXJ0LAogICAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLAogICAgY2xvbmU6IHNlbGVjdGlvbl9jbG9uZSwKICAgIGRhdHVtOiBzZWxlY3Rpb25fZGF0dW0sCiAgICBvbjogc2VsZWN0aW9uX29uLAogICAgZGlzcGF0Y2g6IHNlbGVjdGlvbl9kaXNwYXRjaCwKICAgIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25faXRlcmF0b3IKICB9OwoKICBmdW5jdGlvbiBkZWZpbmUgKGNvbnN0cnVjdG9yLCBmYWN0b3J5LCBwcm90b3R5cGUpIHsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlOwogICAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHsKICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZm9yICh2YXIga2V5IGluIGRlZmluaXRpb24pIHByb3RvdHlwZVtrZXldID0gZGVmaW5pdGlvbltrZXldOwogICAgcmV0dXJuIHByb3RvdHlwZTsKICB9CgogIGZ1bmN0aW9uIENvbG9yKCkge30KICB2YXIgZGFya2VyID0gMC43OwogIHZhciBicmlnaHRlciA9IDEgLyBkYXJrZXI7CiAgdmFyIHJlSSA9ICJcXHMqKFsrLV0/XFxkKylcXHMqIiwKICAgIHJlTiA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPylcXHMqIiwKICAgIHJlUCA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPyklXFxzKiIsCiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLAogICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVJfSwke3JlSX0sJHtyZUl9XFwpJGApLAogICAgcmVSZ2JQZXJjZW50ID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVQfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVSZ2JhSW50ZWdlciA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFwpJGApLAogICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZVB9LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApLAogICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChgXmhzbFxcKCR7cmVOfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVIc2xhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5oc2xhXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApOwogIHZhciBuYW1lZCA9IHsKICAgIGFsaWNlYmx1ZTogMHhmMGY4ZmYsCiAgICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3LAogICAgYXF1YTogMHgwMGZmZmYsCiAgICBhcXVhbWFyaW5lOiAweDdmZmZkNCwKICAgIGF6dXJlOiAweGYwZmZmZiwKICAgIGJlaWdlOiAweGY1ZjVkYywKICAgIGJpc3F1ZTogMHhmZmU0YzQsCiAgICBibGFjazogMHgwMDAwMDAsCiAgICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsCiAgICBibHVlOiAweDAwMDBmZiwKICAgIGJsdWV2aW9sZXQ6IDB4OGEyYmUyLAogICAgYnJvd246IDB4YTUyYTJhLAogICAgYnVybHl3b29kOiAweGRlYjg4NywKICAgIGNhZGV0Ymx1ZTogMHg1ZjllYTAsCiAgICBjaGFydHJldXNlOiAweDdmZmYwMCwKICAgIGNob2NvbGF0ZTogMHhkMjY5MWUsCiAgICBjb3JhbDogMHhmZjdmNTAsCiAgICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsCiAgICBjb3Juc2lsazogMHhmZmY4ZGMsCiAgICBjcmltc29uOiAweGRjMTQzYywKICAgIGN5YW46IDB4MDBmZmZmLAogICAgZGFya2JsdWU6IDB4MDAwMDhiLAogICAgZGFya2N5YW46IDB4MDA4YjhiLAogICAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsCiAgICBkYXJrZ3JheTogMHhhOWE5YTksCiAgICBkYXJrZ3JlZW46IDB4MDA2NDAwLAogICAgZGFya2dyZXk6IDB4YTlhOWE5LAogICAgZGFya2toYWtpOiAweGJkYjc2YiwKICAgIGRhcmttYWdlbnRhOiAweDhiMDA4YiwKICAgIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZiwKICAgIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLAogICAgZGFya29yY2hpZDogMHg5OTMyY2MsCiAgICBkYXJrcmVkOiAweDhiMDAwMCwKICAgIGRhcmtzYWxtb246IDB4ZTk5NjdhLAogICAgZGFya3NlYWdyZWVuOiAweDhmYmM4ZiwKICAgIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLAogICAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsCiAgICBkYXJrc2xhdGVncmV5OiAweDJmNGY0ZiwKICAgIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLAogICAgZGFya3Zpb2xldDogMHg5NDAwZDMsCiAgICBkZWVwcGluazogMHhmZjE0OTMsCiAgICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsCiAgICBkaW1ncmF5OiAweDY5Njk2OSwKICAgIGRpbWdyZXk6IDB4Njk2OTY5LAogICAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsCiAgICBmaXJlYnJpY2s6IDB4YjIyMjIyLAogICAgZmxvcmFsd2hpdGU6IDB4ZmZmYWYwLAogICAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLAogICAgZnVjaHNpYTogMHhmZjAwZmYsCiAgICBnYWluc2Jvcm86IDB4ZGNkY2RjLAogICAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsCiAgICBnb2xkOiAweGZmZDcwMCwKICAgIGdvbGRlbnJvZDogMHhkYWE1MjAsCiAgICBncmF5OiAweDgwODA4MCwKICAgIGdyZWVuOiAweDAwODAwMCwKICAgIGdyZWVueWVsbG93OiAweGFkZmYyZiwKICAgIGdyZXk6IDB4ODA4MDgwLAogICAgaG9uZXlkZXc6IDB4ZjBmZmYwLAogICAgaG90cGluazogMHhmZjY5YjQsCiAgICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLAogICAgaW5kaWdvOiAweDRiMDA4MiwKICAgIGl2b3J5OiAweGZmZmZmMCwKICAgIGtoYWtpOiAweGYwZTY4YywKICAgIGxhdmVuZGVyOiAweGU2ZTZmYSwKICAgIGxhdmVuZGVyYmx1c2g6IDB4ZmZmMGY1LAogICAgbGF3bmdyZWVuOiAweDdjZmMwMCwKICAgIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsCiAgICBsaWdodGJsdWU6IDB4YWRkOGU2LAogICAgbGlnaHRjb3JhbDogMHhmMDgwODAsCiAgICBsaWdodGN5YW46IDB4ZTBmZmZmLAogICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4ZmFmYWQyLAogICAgbGlnaHRncmF5OiAweGQzZDNkMywKICAgIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLAogICAgbGlnaHRncmV5OiAweGQzZDNkMywKICAgIGxpZ2h0cGluazogMHhmZmI2YzEsCiAgICBsaWdodHNhbG1vbjogMHhmZmEwN2EsCiAgICBsaWdodHNlYWdyZWVuOiAweDIwYjJhYSwKICAgIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsCiAgICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksCiAgICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksCiAgICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsCiAgICBsaWdodHllbGxvdzogMHhmZmZmZTAsCiAgICBsaW1lOiAweDAwZmYwMCwKICAgIGxpbWVncmVlbjogMHgzMmNkMzIsCiAgICBsaW5lbjogMHhmYWYwZTYsCiAgICBtYWdlbnRhOiAweGZmMDBmZiwKICAgIG1hcm9vbjogMHg4MDAwMDAsCiAgICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSwKICAgIG1lZGl1bWJsdWU6IDB4MDAwMGNkLAogICAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMywKICAgIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsCiAgICBtZWRpdW1zZWFncmVlbjogMHgzY2IzNzEsCiAgICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLAogICAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLAogICAgbWVkaXVtdHVycXVvaXNlOiAweDQ4ZDFjYywKICAgIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsCiAgICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLAogICAgbWludGNyZWFtOiAweGY1ZmZmYSwKICAgIG1pc3R5cm9zZTogMHhmZmU0ZTEsCiAgICBtb2NjYXNpbjogMHhmZmU0YjUsCiAgICBuYXZham93aGl0ZTogMHhmZmRlYWQsCiAgICBuYXZ5OiAweDAwMDA4MCwKICAgIG9sZGxhY2U6IDB4ZmRmNWU2LAogICAgb2xpdmU6IDB4ODA4MDAwLAogICAgb2xpdmVkcmFiOiAweDZiOGUyMywKICAgIG9yYW5nZTogMHhmZmE1MDAsCiAgICBvcmFuZ2VyZWQ6IDB4ZmY0NTAwLAogICAgb3JjaGlkOiAweGRhNzBkNiwKICAgIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLAogICAgcGFsZWdyZWVuOiAweDk4ZmI5OCwKICAgIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLAogICAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsCiAgICBwYXBheWF3aGlwOiAweGZmZWZkNSwKICAgIHBlYWNocHVmZjogMHhmZmRhYjksCiAgICBwZXJ1OiAweGNkODUzZiwKICAgIHBpbms6IDB4ZmZjMGNiLAogICAgcGx1bTogMHhkZGEwZGQsCiAgICBwb3dkZXJibHVlOiAweGIwZTBlNiwKICAgIHB1cnBsZTogMHg4MDAwODAsCiAgICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSwKICAgIHJlZDogMHhmZjAwMDAsCiAgICByb3N5YnJvd246IDB4YmM4ZjhmLAogICAgcm95YWxibHVlOiAweDQxNjllMSwKICAgIHNhZGRsZWJyb3duOiAweDhiNDUxMywKICAgIHNhbG1vbjogMHhmYTgwNzIsCiAgICBzYW5keWJyb3duOiAweGY0YTQ2MCwKICAgIHNlYWdyZWVuOiAweDJlOGI1NywKICAgIHNlYXNoZWxsOiAweGZmZjVlZSwKICAgIHNpZW5uYTogMHhhMDUyMmQsCiAgICBzaWx2ZXI6IDB4YzBjMGMwLAogICAgc2t5Ymx1ZTogMHg4N2NlZWIsCiAgICBzbGF0ZWJsdWU6IDB4NmE1YWNkLAogICAgc2xhdGVncmF5OiAweDcwODA5MCwKICAgIHNsYXRlZ3JleTogMHg3MDgwOTAsCiAgICBzbm93OiAweGZmZmFmYSwKICAgIHNwcmluZ2dyZWVuOiAweDAwZmY3ZiwKICAgIHN0ZWVsYmx1ZTogMHg0NjgyYjQsCiAgICB0YW46IDB4ZDJiNDhjLAogICAgdGVhbDogMHgwMDgwODAsCiAgICB0aGlzdGxlOiAweGQ4YmZkOCwKICAgIHRvbWF0bzogMHhmZjYzNDcsCiAgICB0dXJxdW9pc2U6IDB4NDBlMGQwLAogICAgdmlvbGV0OiAweGVlODJlZSwKICAgIHdoZWF0OiAweGY1ZGViMywKICAgIHdoaXRlOiAweGZmZmZmZiwKICAgIHdoaXRlc21va2U6IDB4ZjVmNWY1LAogICAgeWVsbG93OiAweGZmZmYwMCwKICAgIHllbGxvd2dyZWVuOiAweDlhY2QzMgogIH07CiAgZGVmaW5lKENvbG9yLCBjb2xvciwgewogICAgY29weShjaGFubmVscykgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLCB0aGlzLCBjaGFubmVscyk7CiAgICB9LAogICAgZGlzcGxheWFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJnYigpLmRpc3BsYXlhYmxlKCk7CiAgICB9LAogICAgaGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICAvLyBEZXByZWNhdGVkISBVc2UgY29sb3IuZm9ybWF0SGV4LgogICAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiBjb2xvcl9mb3JtYXRIZXg4LAogICAgZm9ybWF0SHNsOiBjb2xvcl9mb3JtYXRIc2wsCiAgICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiBjb2xvcl9mb3JtYXRSZ2IKICB9KTsKICBmdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRIZXgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkgewogICAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7CiAgfQogIGZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdFJnYigpOwogIH0KICBmdW5jdGlvbiBjb2xvcihmb3JtYXQpIHsKICAgIHZhciBtLCBsOwogICAgZm9ybWF0ID0gKGZvcm1hdCArICIiKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwCiAgICA6IGwgPT09IDMgPyBuZXcgUmdiKG0gPj4gOCAmIDB4ZiB8IG0gPj4gNCAmIDB4ZjAsIG0gPj4gNCAmIDB4ZiB8IG0gJiAweGYwLCAobSAmIDB4ZikgPDwgNCB8IG0gJiAweGYsIDEpIC8vICNmMDAKICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwCiAgICA6IGwgPT09IDQgPyByZ2JhKG0gPj4gMTIgJiAweGYgfCBtID4+IDggJiAweGYwLCBtID4+IDggJiAweGYgfCBtID4+IDQgJiAweGYwLCBtID4+IDQgJiAweGYgfCBtICYgMHhmMCwgKChtICYgMHhmKSA8PCA0IHwgbSAmIDB4ZikgLyAweGZmKSAvLyAjZjAwMAogICAgOiBudWxsIC8vIGludmFsaWQgaGV4CiAgICApIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMCkKICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSkKICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKQogICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSkKICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpCiAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpCiAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICA6IGZvcm1hdCA9PT0gInRyYW5zcGFyZW50IiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMCkgOiBudWxsOwogIH0KICBmdW5jdGlvbiByZ2JuKG4pIHsKICAgIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7CiAgfQogIGZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkgewogICAgaWYgKGEgPD0gMCkgciA9IGcgPSBiID0gTmFOOwogICAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7CiAgfQogIGZ1bmN0aW9uIHJnYkNvbnZlcnQobykgewogICAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pOwogICAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYigpOwogICAgbyA9IG8ucmdiKCk7CiAgICByZXR1cm4gbmV3IFJnYihvLnIsIG8uZywgby5iLCBvLm9wYWNpdHkpOwogIH0KICBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyByZ2JDb252ZXJ0KHIpIDogbmV3IFJnYihyLCBnLCBiLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7CiAgICB0aGlzLnIgPSArcjsKICAgIHRoaXMuZyA9ICtnOwogICAgdGhpcy5iID0gK2I7CiAgICB0aGlzLm9wYWNpdHkgPSArb3BhY2l0eTsKICB9CiAgZGVmaW5lKFJnYiwgcmdiLCBleHRlbmQoQ29sb3IsIHsKICAgIGJyaWdodGVyKGspIHsKICAgICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIHJnYigpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuIC0wLjUgPD0gdGhpcy5yICYmIHRoaXMuciA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5iICYmIHRoaXMuYiA8IDI1NS41ICYmIDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxOwogICAgfSwKICAgIGhleDogcmdiX2Zvcm1hdEhleCwKICAgIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguCiAgICBmb3JtYXRIZXg6IHJnYl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCwKICAgIGZvcm1hdFJnYjogcmdiX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiByZ2JfZm9ybWF0UmdiCiAgfSkpOwogIGZ1bmN0aW9uIHJnYl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gOwogIH0KICBmdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiBgIyR7aGV4KHRoaXMucil9JHtoZXgodGhpcy5nKX0ke2hleCh0aGlzLmIpfSR7aGV4KChpc05hTih0aGlzLm9wYWNpdHkpID8gMSA6IHRoaXMub3BhY2l0eSkgKiAyNTUpfWA7CiAgfQogIGZ1bmN0aW9uIHJnYl9mb3JtYXRSZ2IoKSB7CiAgICBjb25zdCBhID0gY2xhbXBhKHRoaXMub3BhY2l0eSk7CiAgICByZXR1cm4gYCR7YSA9PT0gMSA/ICJyZ2IoIiA6ICJyZ2JhKCJ9JHtjbGFtcGkodGhpcy5yKX0sICR7Y2xhbXBpKHRoaXMuZyl9LCAke2NsYW1waSh0aGlzLmIpfSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogIH0KICBmdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkgewogICAgcmV0dXJuIGlzTmFOKG9wYWNpdHkpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG9wYWNpdHkpKTsKICB9CiAgZnVuY3Rpb24gY2xhbXBpKHZhbHVlKSB7CiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHZhbHVlKSB8fCAwKSk7CiAgfQogIGZ1bmN0aW9uIGhleCh2YWx1ZSkgewogICAgdmFsdWUgPSBjbGFtcGkodmFsdWUpOwogICAgcmV0dXJuICh2YWx1ZSA8IDE2ID8gIjAiIDogIiIpICsgdmFsdWUudG9TdHJpbmcoMTYpOwogIH0KICBmdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHsKICAgIGlmIChhIDw9IDApIGggPSBzID0gbCA9IE5hTjtlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtlbHNlIGlmIChzIDw9IDApIGggPSBOYU47CiAgICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTsKICB9CiAgZnVuY3Rpb24gaHNsQ29udmVydChvKSB7CiAgICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTsKICAgIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTsKICAgIGlmICghbykgcmV0dXJuIG5ldyBIc2woKTsKICAgIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbzsKICAgIG8gPSBvLnJnYigpOwogICAgdmFyIHIgPSBvLnIgLyAyNTUsCiAgICAgIGcgPSBvLmcgLyAyNTUsCiAgICAgIGIgPSBvLmIgLyAyNTUsCiAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLAogICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwKICAgICAgaCA9IE5hTiwKICAgICAgcyA9IG1heCAtIG1pbiwKICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjsKICAgIGlmIChzKSB7CiAgICAgIGlmIChyID09PSBtYXgpIGggPSAoZyAtIGIpIC8gcyArIChnIDwgYikgKiA2O2Vsc2UgaWYgKGcgPT09IG1heCkgaCA9IChiIC0gcikgLyBzICsgMjtlbHNlIGggPSAociAtIGcpIC8gcyArIDQ7CiAgICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47CiAgICAgIGggKj0gNjA7CiAgICB9IGVsc2UgewogICAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDsKICAgIH0KICAgIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIG8ub3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIGhzbChoLCBzLCBsLCBvcGFjaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGhzbENvbnZlcnQoaCkgOiBuZXcgSHNsKGgsIHMsIGwsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTsKICB9CiAgZnVuY3Rpb24gSHNsKGgsIHMsIGwsIG9wYWNpdHkpIHsKICAgIHRoaXMuaCA9ICtoOwogICAgdGhpcy5zID0gK3M7CiAgICB0aGlzLmwgPSArbDsKICAgIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5OwogIH0KICBkZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwgewogICAgYnJpZ2h0ZXIoaykgewogICAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7CiAgICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTsKICAgIH0sCiAgICByZ2IoKSB7CiAgICAgIHZhciBoID0gdGhpcy5oICUgMzYwICsgKHRoaXMuaCA8IDApICogMzYwLAogICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucywKICAgICAgICBsID0gdGhpcy5sLAogICAgICAgIG0yID0gbCArIChsIDwgMC41ID8gbCA6IDEgLSBsKSAqIHMsCiAgICAgICAgbTEgPSAyICogbCAtIG0yOwogICAgICByZXR1cm4gbmV3IFJnYihoc2wycmdiKGggPj0gMjQwID8gaCAtIDI0MCA6IGggKyAxMjAsIG0xLCBtMiksIGhzbDJyZ2IoaCwgbTEsIG0yKSwgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksIHRoaXMub3BhY2l0eSk7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgSHNsKGNsYW1waCh0aGlzLmgpLCBjbGFtcHQodGhpcy5zKSwgY2xhbXB0KHRoaXMubCksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuICgwIDw9IHRoaXMucyAmJiB0aGlzLnMgPD0gMSB8fCBpc05hTih0aGlzLnMpKSAmJiAwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSAmJiAwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMTsKICAgIH0sCiAgICBmb3JtYXRIc2woKSB7CiAgICAgIGNvbnN0IGEgPSBjbGFtcGEodGhpcy5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGAke2EgPT09IDEgPyAiaHNsKCIgOiAiaHNsYSgifSR7Y2xhbXBoKHRoaXMuaCl9LCAke2NsYW1wdCh0aGlzLnMpICogMTAwfSUsICR7Y2xhbXB0KHRoaXMubCkgKiAxMDB9JSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogICAgfQogIH0pKTsKICBmdW5jdGlvbiBjbGFtcGgodmFsdWUpIHsKICAgIHZhbHVlID0gKHZhbHVlIHx8IDApICUgMzYwOwogICAgcmV0dXJuIHZhbHVlIDwgMCA/IHZhbHVlICsgMzYwIDogdmFsdWU7CiAgfQogIGZ1bmN0aW9uIGNsYW1wdCh2YWx1ZSkgewogICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTsKICB9CgogIC8qIEZyb20gRnZEIDEzLjM3LCBDU1MgQ29sb3IgTW9kdWxlIExldmVsIDMgKi8KICBmdW5jdGlvbiBoc2wycmdiKGgsIG0xLCBtMikgewogICAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MCA6IGggPCAxODAgPyBtMiA6IGggPCAyNDAgPyBtMSArIChtMiAtIG0xKSAqICgyNDAgLSBoKSAvIDYwIDogbTEpICogMjU1OwogIH0KCiAgdmFyIGNvbnN0YW50ID0geCA9PiAoKSA9PiB4OwoKICBmdW5jdGlvbiBsaW5lYXIoYSwgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBhICsgdCAqIGQ7CiAgICB9OwogIH0KICBmdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7CiAgICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZ2FtbWEoeSkgewogICAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBiIC0gYSA/IGV4cG9uZW50aWFsKGEsIGIsIHkpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHsKICAgIHZhciBkID0gYiAtIGE7CiAgICByZXR1cm4gZCA/IGxpbmVhcihhLCBkKSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpOwogIH0KCiAgdmFyIGludGVycG9sYXRlUmdiID0gKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHsKICAgIHZhciBjb2xvciA9IGdhbW1hKHkpOwogICAgZnVuY3Rpb24gcmdiJDEoc3RhcnQsIGVuZCkgewogICAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IHJnYihzdGFydCkpLnIsIChlbmQgPSByZ2IoZW5kKSkuciksCiAgICAgICAgZyA9IGNvbG9yKHN0YXJ0LmcsIGVuZC5nKSwKICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLAogICAgICAgIG9wYWNpdHkgPSBub2dhbW1hKHN0YXJ0Lm9wYWNpdHksIGVuZC5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgc3RhcnQuciA9IHIodCk7CiAgICAgICAgc3RhcnQuZyA9IGcodCk7CiAgICAgICAgc3RhcnQuYiA9IGIodCk7CiAgICAgICAgc3RhcnQub3BhY2l0eSA9IG9wYWNpdHkodCk7CiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgIiI7CiAgICAgIH07CiAgICB9CiAgICByZ2IkMS5nYW1tYSA9IHJnYkdhbW1hOwogICAgcmV0dXJuIHJnYiQxOwogIH0pKDEpOwoKICBmdW5jdGlvbiBpbnRlcnBvbGF0ZU51bWJlciAoYSwgYikgewogICAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDsKICAgIH07CiAgfQoKICB2YXIgcmVBID0gL1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLAogICAgcmVCID0gbmV3IFJlZ0V4cChyZUEuc291cmNlLCAiZyIpOwogIGZ1bmN0aW9uIHplcm8oYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBvbmUoYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBiKHQpICsgIiI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBpbnRlcnBvbGF0ZVN0cmluZyAoYSwgYikgewogICAgdmFyIGJpID0gcmVBLmxhc3RJbmRleCA9IHJlQi5sYXN0SW5kZXggPSAwLAogICAgICAvLyBzY2FuIGluZGV4IGZvciBuZXh0IG51bWJlciBpbiBiCiAgICAgIGFtLAogICAgICAvLyBjdXJyZW50IG1hdGNoIGluIGEKICAgICAgYm0sCiAgICAgIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYgogICAgICBicywKICAgICAgLy8gc3RyaW5nIHByZWNlZGluZyBjdXJyZW50IG51bWJlciBpbiBiLCBpZiBhbnkKICAgICAgaSA9IC0xLAogICAgICAvLyBpbmRleCBpbiBzCiAgICAgIHMgPSBbXSwKICAgICAgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzCiAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKCiAgICAvLyBDb2VyY2UgaW5wdXRzIHRvIHN0cmluZ3MuCiAgICBhID0gYSArICIiLCBiID0gYiArICIiOwoKICAgIC8vIEludGVycG9sYXRlIHBhaXJzIG9mIG51bWJlcnMgaW4gYSAmIGIuCiAgICB3aGlsZSAoKGFtID0gcmVBLmV4ZWMoYSkpICYmIChibSA9IHJlQi5leGVjKGIpKSkgewogICAgICBpZiAoKGJzID0gYm0uaW5kZXgpID4gYmkpIHsKICAgICAgICAvLyBhIHN0cmluZyBwcmVjZWRlcyB0aGUgbmV4dCBudW1iZXIgaW4gYgogICAgICAgIGJzID0gYi5zbGljZShiaSwgYnMpOwogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICAgIH0KICAgICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7CiAgICAgICAgLy8gbnVtYmVycyBpbiBhICYgYiBtYXRjaAogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYm07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaW50ZXJwb2xhdGUgbm9uLW1hdGNoaW5nIG51bWJlcnMKICAgICAgICBzWysraV0gPSBudWxsOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoYW0sIGJtKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGJpID0gcmVCLmxhc3RJbmRleDsKICAgIH0KCiAgICAvLyBBZGQgcmVtYWlucyBvZiBiLgogICAgaWYgKGJpIDwgYi5sZW5ndGgpIHsKICAgICAgYnMgPSBiLnNsaWNlKGJpKTsKICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nCiAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICB9CgogICAgLy8gU3BlY2lhbCBvcHRpbWl6YXRpb24gZm9yIG9ubHkgYSBzaW5nbGUgbWF0Y2guCiAgICAvLyBPdGhlcndpc2UsIGludGVycG9sYXRlIGVhY2ggb2YgdGhlIG51bWJlcnMgYW5kIHJlam9pbiB0aGUgc3RyaW5nLgogICAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IHFbMF0gPyBvbmUocVswXS54KSA6IHplcm8oYikgOiAoYiA9IHEubGVuZ3RoLCBmdW5jdGlvbiAodCkgewogICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICByZXR1cm4gcy5qb2luKCIiKTsKICAgIH0pOwogIH0KCiAgdmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJOwogIHZhciBpZGVudGl0eSA9IHsKICAgIHRyYW5zbGF0ZVg6IDAsCiAgICB0cmFuc2xhdGVZOiAwLAogICAgcm90YXRlOiAwLAogICAgc2tld1g6IDAsCiAgICBzY2FsZVg6IDEsCiAgICBzY2FsZVk6IDEKICB9OwogIGZ1bmN0aW9uIGRlY29tcG9zZSAoYSwgYiwgYywgZCwgZSwgZikgewogICAgdmFyIHNjYWxlWCwgc2NhbGVZLCBza2V3WDsKICAgIGlmIChzY2FsZVggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYikpIGEgLz0gc2NhbGVYLCBiIC89IHNjYWxlWDsKICAgIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDsKICAgIGlmIChzY2FsZVkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCkpIGMgLz0gc2NhbGVZLCBkIC89IHNjYWxlWSwgc2tld1ggLz0gc2NhbGVZOwogICAgaWYgKGEgKiBkIDwgYiAqIGMpIGEgPSAtYSwgYiA9IC1iLCBza2V3WCA9IC1za2V3WCwgc2NhbGVYID0gLXNjYWxlWDsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zbGF0ZVg6IGUsCiAgICAgIHRyYW5zbGF0ZVk6IGYsCiAgICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsCiAgICAgIHNrZXdYOiBNYXRoLmF0YW4oc2tld1gpICogZGVncmVlcywKICAgICAgc2NhbGVYOiBzY2FsZVgsCiAgICAgIHNjYWxlWTogc2NhbGVZCiAgICB9OwogIH0KCiAgdmFyIHN2Z05vZGU7CgogIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovCiAgZnVuY3Rpb24gcGFyc2VDc3ModmFsdWUpIHsKICAgIGNvbnN0IG0gPSBuZXcgKHR5cGVvZiBET01NYXRyaXggPT09ICJmdW5jdGlvbiIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgIiIpOwogICAgcmV0dXJuIG0uaXNJZGVudGl0eSA/IGlkZW50aXR5IDogZGVjb21wb3NlKG0uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmYpOwogIH0KICBmdW5jdGlvbiBwYXJzZVN2Zyh2YWx1ZSkgewogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTsKICAgIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAiZyIpOwogICAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIHZhbHVlKTsKICAgIGlmICghKHZhbHVlID0gc3ZnTm9kZS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpKSkgcmV0dXJuIGlkZW50aXR5OwogICAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7CiAgICByZXR1cm4gZGVjb21wb3NlKHZhbHVlLmEsIHZhbHVlLmIsIHZhbHVlLmMsIHZhbHVlLmQsIHZhbHVlLmUsIHZhbHVlLmYpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2UsIHB4Q29tbWEsIHB4UGFyZW4sIGRlZ1BhcmVuKSB7CiAgICBmdW5jdGlvbiBwb3AocykgewogICAgICByZXR1cm4gcy5sZW5ndGggPyBzLnBvcCgpICsgIiAiIDogIiI7CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHsKICAgICAgaWYgKHhhICE9PSB4YiB8fCB5YSAhPT0geWIpIHsKICAgICAgICB2YXIgaSA9IHMucHVzaCgidHJhbnNsYXRlKCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpIC0gNCwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHhhLCB4YikKICAgICAgICB9LCB7CiAgICAgICAgICBpOiBpIC0gMiwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHlhLCB5YikKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh4YiB8fCB5YikgewogICAgICAgIHMucHVzaCgidHJhbnNsYXRlKCIgKyB4YiArIHB4Q29tbWEgKyB5YiArIHB4UGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIGlmIChhIC0gYiA+IDE4MCkgYiArPSAzNjA7ZWxzZSBpZiAoYiAtIGEgPiAxODApIGEgKz0gMzYwOyAvLyBzaG9ydGVzdCBwYXRoCiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IHMucHVzaChwb3AocykgKyAicm90YXRlKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInJvdGF0ZSgiICsgYiArIGRlZ1BhcmVuKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIgKyBiICsgZGVnUGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkgewogICAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5YikgewogICAgICAgIHZhciBpID0gcy5wdXNoKHBvcChzKSArICJzY2FsZSgiLCBudWxsLCAiLCIsIG51bGwsICIpIik7CiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IGkgLSA0LAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeGEsIHhiKQogICAgICAgIH0sIHsKICAgICAgICAgIGk6IGkgLSAyLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeWEsIHliKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHhiICE9PSAxIHx8IHliICE9PSAxKSB7CiAgICAgICAgcy5wdXNoKHBvcChzKSArICJzY2FsZSgiICsgeGIgKyAiLCIgKyB5YiArICIpIik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICB2YXIgcyA9IFtdLAogICAgICAgIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVycwogICAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKICAgICAgYSA9IHBhcnNlKGEpLCBiID0gcGFyc2UoYik7CiAgICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpOwogICAgICByb3RhdGUoYS5yb3RhdGUsIGIucm90YXRlLCBzLCBxKTsKICAgICAgc2tld1goYS5za2V3WCwgYi5za2V3WCwgcywgcSk7CiAgICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTsKICAgICAgYSA9IGIgPSBudWxsOyAvLyBnYwogICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgaSA9IC0xLAogICAgICAgICAgbiA9IHEubGVuZ3RoLAogICAgICAgICAgbzsKICAgICAgICB3aGlsZSAoKytpIDwgbikgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICAgIHJldHVybiBzLmpvaW4oIiIpOwogICAgICB9OwogICAgfTsKICB9CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtQ3NzID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VDc3MsICJweCwgIiwgInB4KSIsICJkZWcpIik7CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtU3ZnID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VTdmcsICIsICIsICIpIiwgIikiKTsKCiAgdmFyIGZyYW1lID0gMCwKICAgIC8vIGlzIGFuIGFuaW1hdGlvbiBmcmFtZSBwZW5kaW5nPwogICAgdGltZW91dCQxID0gMCwKICAgIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nPwogICAgaW50ZXJ2YWwgPSAwLAogICAgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlPwogICAgcG9rZURlbGF5ID0gMTAwMCwKICAgIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3CiAgICB0YXNrSGVhZCwKICAgIHRhc2tUYWlsLAogICAgY2xvY2tMYXN0ID0gMCwKICAgIGNsb2NrTm93ID0gMCwKICAgIGNsb2NrU2tldyA9IDAsCiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gIm9iamVjdCIgJiYgcGVyZm9ybWFuY2Uubm93ID8gcGVyZm9ybWFuY2UgOiBEYXRlLAogICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSAib2JqZWN0IiAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykgOiBmdW5jdGlvbiAoZikgewogICAgICBzZXRUaW1lb3V0KGYsIDE3KTsKICAgIH07CiAgZnVuY3Rpb24gbm93KCkgewogICAgcmV0dXJuIGNsb2NrTm93IHx8IChzZXRGcmFtZShjbGVhck5vdyksIGNsb2NrTm93ID0gY2xvY2subm93KCkgKyBjbG9ja1NrZXcpOwogIH0KICBmdW5jdGlvbiBjbGVhck5vdygpIHsKICAgIGNsb2NrTm93ID0gMDsKICB9CiAgZnVuY3Rpb24gVGltZXIoKSB7CiAgICB0aGlzLl9jYWxsID0gdGhpcy5fdGltZSA9IHRoaXMuX25leHQgPSBudWxsOwogIH0KICBUaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogVGltZXIsCiAgICByZXN0YXJ0OiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7CiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgIHRpbWUgPSAodGltZSA9PSBudWxsID8gbm93KCkgOiArdGltZSkgKyAoZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXkpOwogICAgICBpZiAoIXRoaXMuX25leHQgJiYgdGFza1RhaWwgIT09IHRoaXMpIHsKICAgICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztlbHNlIHRhc2tIZWFkID0gdGhpczsKICAgICAgICB0YXNrVGFpbCA9IHRoaXM7CiAgICAgIH0KICAgICAgdGhpcy5fY2FsbCA9IGNhbGxiYWNrOwogICAgICB0aGlzLl90aW1lID0gdGltZTsKICAgICAgc2xlZXAoKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9jYWxsKSB7CiAgICAgICAgdGhpcy5fY2FsbCA9IG51bGw7CiAgICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5OwogICAgICAgIHNsZWVwKCk7CiAgICAgIH0KICAgIH0KICB9OwogIGZ1bmN0aW9uIHRpbWVyKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQogIGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7CiAgICBub3coKTsgLy8gR2V0IHRoZSBjdXJyZW50IHRpbWUsIGlmIG5vdCBhbHJlYWR5IHNldC4KICAgICsrZnJhbWU7IC8vIFByZXRlbmQgd2XigJl2ZSBzZXQgYW4gYWxhcm0sIGlmIHdlIGhhdmVu4oCZdCBhbHJlYWR5LgogICAgdmFyIHQgPSB0YXNrSGVhZCwKICAgICAgZTsKICAgIHdoaWxlICh0KSB7CiAgICAgIGlmICgoZSA9IGNsb2NrTm93IC0gdC5fdGltZSkgPj0gMCkgdC5fY2FsbC5jYWxsKHVuZGVmaW5lZCwgZSk7CiAgICAgIHQgPSB0Ll9uZXh0OwogICAgfQogICAgLS1mcmFtZTsKICB9CiAgZnVuY3Rpb24gd2FrZSgpIHsKICAgIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldzsKICAgIGZyYW1lID0gdGltZW91dCQxID0gMDsKICAgIHRyeSB7CiAgICAgIHRpbWVyRmx1c2goKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGZyYW1lID0gMDsKICAgICAgbmFwKCk7CiAgICAgIGNsb2NrTm93ID0gMDsKICAgIH0KICB9CiAgZnVuY3Rpb24gcG9rZSgpIHsKICAgIHZhciBub3cgPSBjbG9jay5ub3coKSwKICAgICAgZGVsYXkgPSBub3cgLSBjbG9ja0xhc3Q7CiAgICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93OwogIH0KICBmdW5jdGlvbiBuYXAoKSB7CiAgICB2YXIgdDAsCiAgICAgIHQxID0gdGFza0hlYWQsCiAgICAgIHQyLAogICAgICB0aW1lID0gSW5maW5pdHk7CiAgICB3aGlsZSAodDEpIHsKICAgICAgaWYgKHQxLl9jYWxsKSB7CiAgICAgICAgaWYgKHRpbWUgPiB0MS5fdGltZSkgdGltZSA9IHQxLl90aW1lOwogICAgICAgIHQwID0gdDEsIHQxID0gdDEuX25leHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdDIgPSB0MS5fbmV4dCwgdDEuX25leHQgPSBudWxsOwogICAgICAgIHQxID0gdDAgPyB0MC5fbmV4dCA9IHQyIDogdGFza0hlYWQgPSB0MjsKICAgICAgfQogICAgfQogICAgdGFza1RhaWwgPSB0MDsKICAgIHNsZWVwKHRpbWUpOwogIH0KICBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7CiAgICBpZiAoZnJhbWUpIHJldHVybjsgLy8gU29vbmVzdCBhbGFybSBhbHJlYWR5IHNldCwgb3Igd2lsbCBiZS4KICAgIGlmICh0aW1lb3V0JDEpIHRpbWVvdXQkMSA9IGNsZWFyVGltZW91dCh0aW1lb3V0JDEpOwogICAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy4KICAgIGlmIChkZWxheSA+IDI0KSB7CiAgICAgIGlmICh0aW1lIDwgSW5maW5pdHkpIHRpbWVvdXQkMSA9IHNldFRpbWVvdXQod2FrZSwgdGltZSAtIGNsb2NrLm5vdygpIC0gY2xvY2tTa2V3KTsKICAgICAgaWYgKGludGVydmFsKSBpbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCFpbnRlcnZhbCkgY2xvY2tMYXN0ID0gY2xvY2subm93KCksIGludGVydmFsID0gc2V0SW50ZXJ2YWwocG9rZSwgcG9rZURlbGF5KTsKICAgICAgZnJhbWUgPSAxLCBzZXRGcmFtZSh3YWtlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRpbWVvdXQgKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIGRlbGF5ID0gZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXk7CiAgICB0LnJlc3RhcnQoZWxhcHNlZCA9PiB7CiAgICAgIHQuc3RvcCgpOwogICAgICBjYWxsYmFjayhlbGFwc2VkICsgZGVsYXkpOwogICAgfSwgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQoKICB2YXIgZW1wdHlPbiA9IGRpc3BhdGNoKCJzdGFydCIsICJlbmQiLCAiY2FuY2VsIiwgImludGVycnVwdCIpOwogIHZhciBlbXB0eVR3ZWVuID0gW107CiAgdmFyIENSRUFURUQgPSAwOwogIHZhciBTQ0hFRFVMRUQgPSAxOwogIHZhciBTVEFSVElORyA9IDI7CiAgdmFyIFNUQVJURUQgPSAzOwogIHZhciBSVU5OSU5HID0gNDsKICB2YXIgRU5ESU5HID0gNTsKICB2YXIgRU5ERUQgPSA2OwogIGZ1bmN0aW9uIHNjaGVkdWxlIChub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHsKICAgIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGVzKSBub2RlLl9fdHJhbnNpdGlvbiA9IHt9O2Vsc2UgaWYgKGlkIGluIHNjaGVkdWxlcykgcmV0dXJuOwogICAgY3JlYXRlKG5vZGUsIGlkLCB7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLgogICAgICBncm91cDogZ3JvdXAsCiAgICAgIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay4KICAgICAgb246IGVtcHR5T24sCiAgICAgIHR3ZWVuOiBlbXB0eVR3ZWVuLAogICAgICB0aW1lOiB0aW1pbmcudGltZSwKICAgICAgZGVsYXk6IHRpbWluZy5kZWxheSwKICAgICAgZHVyYXRpb246IHRpbWluZy5kdXJhdGlvbiwKICAgICAgZWFzZTogdGltaW5nLmVhc2UsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBzdGF0ZTogQ1JFQVRFRAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGluaXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHNjaGVkdWxlZCIpOwogICAgcmV0dXJuIHNjaGVkdWxlOwogIH0KICBmdW5jdGlvbiBzZXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHJ1bm5pbmciKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gZ2V0KG5vZGUsIGlkKSB7CiAgICB2YXIgc2NoZWR1bGUgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcigidHJhbnNpdGlvbiBub3QgZm91bmQiKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGlkLCBzZWxmKSB7CiAgICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sCiAgICAgIHR3ZWVuOwoKICAgIC8vIEluaXRpYWxpemUgdGhlIHNlbGYgdGltZXIgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLgogICAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shCiAgICBzY2hlZHVsZXNbaWRdID0gc2VsZjsKICAgIHNlbGYudGltZXIgPSB0aW1lcihzY2hlZHVsZSwgMCwgc2VsZi50aW1lKTsKICAgIGZ1bmN0aW9uIHNjaGVkdWxlKGVsYXBzZWQpIHsKICAgICAgc2VsZi5zdGF0ZSA9IFNDSEVEVUxFRDsKICAgICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpOwoKICAgICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuCiAgICAgIGlmIChzZWxmLmRlbGF5IDw9IGVsYXBzZWQpIHN0YXJ0KGVsYXBzZWQgLSBzZWxmLmRlbGF5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHN0YXJ0KGVsYXBzZWQpIHsKICAgICAgdmFyIGksIGosIG4sIG87CgogICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90IFNDSEVEVUxFRCwgdGhlbiB3ZSBwcmV2aW91c2x5IGVycm9yZWQgb24gc3RhcnQuCiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7CiAgICAgIGZvciAoaSBpbiBzY2hlZHVsZXMpIHsKICAgICAgICBvID0gc2NoZWR1bGVzW2ldOwogICAgICAgIGlmIChvLm5hbWUgIT09IHNlbGYubmFtZSkgY29udGludWU7CgogICAgICAgIC8vIFdoaWxlIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHN0YXJ0aW5nIHRyYW5zaXRpb24gZHVyaW5nIHRoaXMgZnJhbWUsCiAgICAgICAgLy8gZGVmZXIgc3RhcnRpbmcgYW4gaW50ZXJydXB0aW5nIHRyYW5zaXRpb24gdW50aWwgdGhhdCB0cmFuc2l0aW9uIGhhcyBhCiAgICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCEKICAgICAgICBpZiAoby5zdGF0ZSA9PT0gU1RBUlRFRCkgcmV0dXJuIHRpbWVvdXQoc3RhcnQpOwoKICAgICAgICAvLyBJbnRlcnJ1cHQgdGhlIGFjdGl2ZSB0cmFuc2l0aW9uLCBpZiBhbnkuCiAgICAgICAgaWYgKG8uc3RhdGUgPT09IFJVTk5JTkcpIHsKICAgICAgICAgIG8uc3RhdGUgPSBFTkRFRDsKICAgICAgICAgIG8udGltZXIuc3RvcCgpOwogICAgICAgICAgby5vbi5jYWxsKCJpbnRlcnJ1cHQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTsKICAgICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBDYW5jZWwgYW55IHByZS1lbXB0ZWQgdHJhbnNpdGlvbnMuCiAgICAgICAgZWxzZSBpZiAoK2kgPCBpZCkgewogICAgICAgICAgby5zdGF0ZSA9IEVOREVEOwogICAgICAgICAgby50aW1lci5zdG9wKCk7CiAgICAgICAgICBvLm9uLmNhbGwoImNhbmNlbCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApOwogICAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIERlZmVyIHRoZSBmaXJzdCB0aWNrIHRvIGVuZCBvZiB0aGUgY3VycmVudCBmcmFtZTsgc2VlIGQzL2QzIzE1NzYuCiAgICAgIC8vIE5vdGUgdGhlIHRyYW5zaXRpb24gbWF5IGJlIGNhbmNlbGVkIGFmdGVyIHN0YXJ0IGFuZCBiZWZvcmUgdGhlIGZpcnN0IHRpY2shCiAgICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiEKICAgICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBzdWNjZXNzZnVsLCBzdWJzZXF1ZW50IGNhbGxiYWNrcyBnbyBzdHJhaWdodCB0byB0aWNrLgogICAgICB0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gU1RBUlRFRCkgewogICAgICAgICAgc2VsZi5zdGF0ZSA9IFJVTk5JTkc7CiAgICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTsKICAgICAgICAgIHRpY2soZWxhcHNlZCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC4KICAgICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIHR3ZWVuIGFyZSBpbml0aWFsaXplZC4KICAgICAgc2VsZi5zdGF0ZSA9IFNUQVJUSU5HOwogICAgICBzZWxmLm9uLmNhbGwoInN0YXJ0Iiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7CiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTVEFSVElORykgcmV0dXJuOyAvLyBpbnRlcnJ1cHRlZAogICAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDsKCiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLgogICAgICB0d2VlbiA9IG5ldyBBcnJheShuID0gc2VsZi50d2Vlbi5sZW5ndGgpOwogICAgICBmb3IgKGkgPSAwLCBqID0gLTE7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkgewogICAgICAgICAgdHdlZW5bKytqXSA9IG87CiAgICAgICAgfQogICAgICB9CiAgICAgIHR3ZWVuLmxlbmd0aCA9IGogKyAxOwogICAgfQogICAgZnVuY3Rpb24gdGljayhlbGFwc2VkKSB7CiAgICAgIHZhciB0ID0gZWxhcHNlZCA8IHNlbGYuZHVyYXRpb24gPyBzZWxmLmVhc2UuY2FsbChudWxsLCBlbGFwc2VkIC8gc2VsZi5kdXJhdGlvbikgOiAoc2VsZi50aW1lci5yZXN0YXJ0KHN0b3ApLCBzZWxmLnN0YXRlID0gRU5ESU5HLCAxKSwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDsKICAgICAgd2hpbGUgKCsraSA8IG4pIHsKICAgICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpOwogICAgICB9CgogICAgICAvLyBEaXNwYXRjaCB0aGUgZW5kIGV2ZW50LgogICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gRU5ESU5HKSB7CiAgICAgICAgc2VsZi5vbi5jYWxsKCJlbmQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTsKICAgICAgICBzdG9wKCk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHNlbGYuc3RhdGUgPSBFTkRFRDsKICAgICAgc2VsZi50aW1lci5zdG9wKCk7CiAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdOwogICAgICBmb3IgKHZhciBpIGluIHNjaGVkdWxlcykgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGludGVycnVwdCAobm9kZSwgbmFtZSkgewogICAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLAogICAgICBzY2hlZHVsZSwKICAgICAgYWN0aXZlLAogICAgICBlbXB0eSA9IHRydWUsCiAgICAgIGk7CiAgICBpZiAoIXNjaGVkdWxlcykgcmV0dXJuOwogICAgbmFtZSA9IG5hbWUgPT0gbnVsbCA/IG51bGwgOiBuYW1lICsgIiI7CiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7CiAgICAgIGlmICgoc2NoZWR1bGUgPSBzY2hlZHVsZXNbaV0pLm5hbWUgIT09IG5hbWUpIHsKICAgICAgICBlbXB0eSA9IGZhbHNlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIGFjdGl2ZSA9IHNjaGVkdWxlLnN0YXRlID4gU1RBUlRJTkcgJiYgc2NoZWR1bGUuc3RhdGUgPCBFTkRJTkc7CiAgICAgIHNjaGVkdWxlLnN0YXRlID0gRU5ERUQ7CiAgICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTsKICAgICAgc2NoZWR1bGUub24uY2FsbChhY3RpdmUgPyAiaW50ZXJydXB0IiA6ICJjYW5jZWwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApOwogICAgICBkZWxldGUgc2NoZWR1bGVzW2ldOwogICAgfQogICAgaWYgKGVtcHR5KSBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25faW50ZXJydXB0IChuYW1lKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0d2VlblJlbW92ZShpZCwgbmFtZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuOwoKICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkgewogICAgICAgIHR3ZWVuMSA9IHR3ZWVuMCA9IHR3ZWVuOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkgewogICAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgICAgIHR3ZWVuMSA9IHR3ZWVuMS5zbGljZSgpOwogICAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0d2VlbkZ1bmN0aW9uKGlkLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIQogICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuCiAgICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7CiAgICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpOwogICAgICAgIGZvciAodmFyIHQgPSB7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgfSwgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgICAgdHdlZW4xW2ldID0gdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChpID09PSBuKSB0d2VlbjEucHVzaCh0KTsKICAgICAgfQogICAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fdHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0aGlzLl9pZDsKICAgIG5hbWUgKz0gIiI7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsKICAgICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47CiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4ubGVuZ3RoLCB0OyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKCh0ID0gdHdlZW5baV0pLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgIHJldHVybiB0LnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpOwogIH0KICBmdW5jdGlvbiB0d2VlblZhbHVlKHRyYW5zaXRpb24sIG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDsKICAgIHRyYW5zaXRpb24uZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCk7CiAgICAgIChzY2hlZHVsZS52YWx1ZSB8fCAoc2NoZWR1bGUudmFsdWUgPSB7fSkpW25hbWVdID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBnZXQobm9kZSwgaWQpLnZhbHVlW25hbWVdOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGludGVycG9sYXRlIChhLCBiKSB7CiAgICB2YXIgYzsKICAgIHJldHVybiAodHlwZW9mIGIgPT09ICJudW1iZXIiID8gaW50ZXJwb2xhdGVOdW1iZXIgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYiA6IChjID0gY29sb3IoYikpID8gKGIgPSBjLCBpbnRlcnBvbGF0ZVJnYikgOiBpbnRlcnBvbGF0ZVN0cmluZykoYSwgYik7CiAgfQoKICBmdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHsKICAgIHZhciBzdHJpbmcwMCwKICAgICAgc3RyaW5nMSA9IHZhbHVlMSArICIiLAogICAgICBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7CiAgICB2YXIgc3RyaW5nMDAsIHN0cmluZzEwLCBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCwKICAgICAgICB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwKICAgICAgICBzdHJpbmcxOwogICAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAsCiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksCiAgICAgICAgc3RyaW5nMTsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyIChuYW1lLCB2YWx1ZSkgewogICAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLAogICAgICBpID0gZnVsbG5hbWUgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB0aGlzLmF0dHJUd2VlbihuYW1lLCB0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbikoZnVsbG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgImF0dHIuIiArIG5hbWUsIHZhbHVlKSkgOiB2YWx1ZSA9PSBudWxsID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0clJlbW92ZU5TIDogYXR0clJlbW92ZSkoZnVsbG5hbWUpIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKGZ1bGxuYW1lLCBpLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlKG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBpLmNhbGwodGhpcywgdCkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlTlMoZnVsbG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgaS5jYWxsKHRoaXMsIHQpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgdmFyIHQwLCBpMDsKICAgIGZ1bmN0aW9uIHR3ZWVuKCkgewogICAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSk7CiAgICAgIHJldHVybiB0MDsKICAgIH0KICAgIHR3ZWVuLl92YWx1ZSA9IHZhbHVlOwogICAgcmV0dXJuIHR3ZWVuOwogIH0KICBmdW5jdGlvbiBhdHRyVHdlZW4obmFtZSwgdmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyVHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIga2V5ID0gImF0dHIuIiArIG5hbWU7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlOwogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVsYXlGdW5jdGlvbihpZCwgdmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2RlbGF5ICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZGVsYXlGdW5jdGlvbiA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZGVsYXk7CiAgfQoKICBmdW5jdGlvbiBkdXJhdGlvbkZ1bmN0aW9uKGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgc2V0KHRoaXMsIGlkKS5kdXJhdGlvbiA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2R1cmF0aW9uICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZHVyYXRpb25GdW5jdGlvbiA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZHVyYXRpb247CiAgfQoKICBmdW5jdGlvbiBlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9lYXNlICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaChlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSkgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5lYXNlOwogIH0KCiAgZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh0eXBlb2YgdiAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nICh2YWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy5lYWNoKGVhc2VWYXJ5aW5nKHRoaXMuX2lkLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9maWx0ZXIgKG1hdGNoKSB7CiAgICBpZiAodHlwZW9mIG1hdGNoICE9PSAiZnVuY3Rpb24iKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHsKICAgICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2l0aW9uX21lcmdlICh0cmFuc2l0aW9uKSB7CiAgICBpZiAodHJhbnNpdGlvbi5faWQgIT09IHRoaXMuX2lkKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIGZvciAodmFyIGdyb3VwczAgPSB0aGlzLl9ncm91cHMsIGdyb3VwczEgPSB0cmFuc2l0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTsKICB9CgogIGZ1bmN0aW9uIHN0YXJ0KG5hbWUpIHsKICAgIHJldHVybiAobmFtZSArICIiKS50cmltKCkuc3BsaXQoL158XHMrLykuZXZlcnkoZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgdCA9IHQuc2xpY2UoMCwgaSk7CiAgICAgIHJldHVybiAhdCB8fCB0ID09PSAic3RhcnQiOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIHNpdCA9IHN0YXJ0KG5hbWUpID8gaW5pdCA6IHNldDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNpdCh0aGlzLCBpZCksCiAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAob24gIT09IG9uMCkgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihuYW1lLCBsaXN0ZW5lcik7CiAgICAgIHNjaGVkdWxlLm9uID0gb24xOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9vbiAobmFtZSwgbGlzdGVuZXIpIHsKICAgIHZhciBpZCA9IHRoaXMuX2lkOwogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSkgOiB0aGlzLmVhY2gob25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9uKGlkKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47CiAgICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fcmVtb3ZlICgpIHsKICAgIHJldHVybiB0aGlzLm9uKCJlbmQucmVtb3ZlIiwgcmVtb3ZlRnVuY3Rpb24odGhpcy5faWQpKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0QWxsIChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHsKICAgICAgICAgICAgaWYgKGNoaWxkID0gY2hpbGRyZW5ba10pIHsKICAgICAgICAgICAgICBzY2hlZHVsZShjaGlsZCwgbmFtZSwgaWQsIGssIGNoaWxkcmVuLCBpbmhlcml0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goY2hpbGRyZW4pOwogICAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpOwogIH0KCiAgdmFyIFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I7CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zZWxlY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHN0eWxlTnVsbChuYW1lLCBpbnRlcnBvbGF0ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHN0cmluZzEgPSAodGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKSwgc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCBzdHJpbmcxMCA9IHN0cmluZzEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHZhbHVlMSA9IHZhbHVlKHRoaXMpLAogICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSBzdHJpbmcxID0gdmFsdWUxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlVmFsdWUodGhpcywgbmFtZSkpOwogICAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGwgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMCA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIGxpc3RlbmVyMCwKICAgICAga2V5ID0gInN0eWxlLiIgKyBuYW1lLAogICAgICBldmVudCA9ICJlbmQuIiArIGtleSwKICAgICAgcmVtb3ZlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICBvbiA9IHNjaGVkdWxlLm9uLAogICAgICAgIGxpc3RlbmVyID0gc2NoZWR1bGUudmFsdWVba2V5XSA9PSBudWxsID8gcmVtb3ZlIHx8IChyZW1vdmUgPSBzdHlsZVJlbW92ZShuYW1lKSkgOiB1bmRlZmluZWQ7CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSwKICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS4KICAgICAgaWYgKG9uICE9PSBvbjAgfHwgbGlzdGVuZXIwICE9PSBsaXN0ZW5lcikgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihldmVudCwgbGlzdGVuZXIwID0gbGlzdGVuZXIpOwogICAgICBzY2hlZHVsZS5vbiA9IG9uMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc3R5bGUgKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkgewogICAgdmFyIGkgPSAobmFtZSArPSAiIikgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgc3R5bGVSZW1vdmUobmFtZSkpIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlRnVuY3Rpb24obmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCAic3R5bGUuIiArIG5hbWUsIHZhbHVlKSkpLmVhY2goc3R5bGVNYXliZVJlbW92ZSh0aGlzLl9pZCwgbmFtZSkpIDogdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgbnVsbCk7CiAgfQoKICBmdW5jdGlvbiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBpLmNhbGwodGhpcywgdCksIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICB2YXIgdCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQgPSAoaTAgPSBpKSAmJiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KTsKICAgICAgcmV0dXJuIHQ7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zdHlsZVR3ZWVuIChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHsKICAgIHZhciBrZXkgPSAic3R5bGUuIiArIChuYW1lICs9ICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7CiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBFcnJvcigpOwogICAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBzdHlsZVR3ZWVuKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gIiIgOiBwcmlvcml0eSkpOwogIH0KCiAgZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0RnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWx1ZTEgPSB2YWx1ZSh0aGlzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gIiIgOiB2YWx1ZTE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX3RleHQgKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpcy50d2VlbigidGV4dCIsIHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsICJ0ZXh0IiwgdmFsdWUpKSA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gIiIgOiB2YWx1ZSArICIiKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGUoaSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBpLmNhbGwodGhpcywgdCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgdGV4dEludGVycG9sYXRlKGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90ZXh0VHdlZW4gKHZhbHVlKSB7CiAgICB2YXIga2V5ID0gInRleHQiOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTsKICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90cmFuc2l0aW9uICgpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQwID0gdGhpcy5faWQsCiAgICAgIGlkMSA9IG5ld0lkKCk7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApOwogICAgICAgICAgc2NoZWR1bGUobm9kZSwgbmFtZSwgaWQxLCBpLCBncm91cCwgewogICAgICAgICAgICB0aW1lOiBpbmhlcml0LnRpbWUgKyBpbmhlcml0LmRlbGF5ICsgaW5oZXJpdC5kdXJhdGlvbiwKICAgICAgICAgICAgZGVsYXk6IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiBpbmhlcml0LmR1cmF0aW9uLAogICAgICAgICAgICBlYXNlOiBpbmhlcml0LmVhc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQxKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fZW5kICgpIHsKICAgIHZhciBvbjAsCiAgICAgIG9uMSwKICAgICAgdGhhdCA9IHRoaXMsCiAgICAgIGlkID0gdGhhdC5faWQsCiAgICAgIHNpemUgPSB0aGF0LnNpemUoKTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBjYW5jZWwgPSB7CiAgICAgICAgICB2YWx1ZTogcmVqZWN0CiAgICAgICAgfSwKICAgICAgICBlbmQgPSB7CiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoLS1zaXplID09PSAwKSByZXNvbHZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgdGhhdC5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICAgIGlmIChvbiAhPT0gb24wKSB7CiAgICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTsKICAgICAgICAgIG9uMS5fLmNhbmNlbC5wdXNoKGNhbmNlbCk7CiAgICAgICAgICBvbjEuXy5pbnRlcnJ1cHQucHVzaChjYW5jZWwpOwogICAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTsKICAgICAgICB9CiAgICAgICAgc2NoZWR1bGUub24gPSBvbjE7CiAgICAgIH0pOwoKICAgICAgLy8gVGhlIHNlbGVjdGlvbiB3YXMgZW1wdHksIHJlc29sdmUgZW5kIGltbWVkaWF0ZWx5CiAgICAgIGlmIChzaXplID09PSAwKSByZXNvbHZlKCk7CiAgICB9KTsKICB9CgogIHZhciBpZCA9IDA7CiAgZnVuY3Rpb24gVHJhbnNpdGlvbihncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKSB7CiAgICB0aGlzLl9ncm91cHMgPSBncm91cHM7CiAgICB0aGlzLl9wYXJlbnRzID0gcGFyZW50czsKICAgIHRoaXMuX25hbWUgPSBuYW1lOwogICAgdGhpcy5faWQgPSBpZDsKICB9CiAgZnVuY3Rpb24gbmV3SWQoKSB7CiAgICByZXR1cm4gKytpZDsKICB9CiAgdmFyIHNlbGVjdGlvbl9wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlOwogIFRyYW5zaXRpb24ucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IFRyYW5zaXRpb24sCiAgICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LAogICAgc2VsZWN0QWxsOiB0cmFuc2l0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNlbGVjdENoaWxkLAogICAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sCiAgICBmaWx0ZXI6IHRyYW5zaXRpb25fZmlsdGVyLAogICAgbWVyZ2U6IHRyYW5zaXRpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLAogICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbl90cmFuc2l0aW9uLAogICAgY2FsbDogc2VsZWN0aW9uX3Byb3RvdHlwZS5jYWxsLAogICAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGUsCiAgICBzaXplOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNpemUsCiAgICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9wcm90b3R5cGUuZWFjaCwKICAgIG9uOiB0cmFuc2l0aW9uX29uLAogICAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLAogICAgYXR0clR3ZWVuOiB0cmFuc2l0aW9uX2F0dHJUd2VlbiwKICAgIHN0eWxlOiB0cmFuc2l0aW9uX3N0eWxlLAogICAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLAogICAgdGV4dDogdHJhbnNpdGlvbl90ZXh0LAogICAgdGV4dFR3ZWVuOiB0cmFuc2l0aW9uX3RleHRUd2VlbiwKICAgIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsCiAgICB0d2VlbjogdHJhbnNpdGlvbl90d2VlbiwKICAgIGRlbGF5OiB0cmFuc2l0aW9uX2RlbGF5LAogICAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sCiAgICBlYXNlOiB0cmFuc2l0aW9uX2Vhc2UsCiAgICBlYXNlVmFyeWluZzogdHJhbnNpdGlvbl9lYXNlVmFyeWluZywKICAgIGVuZDogdHJhbnNpdGlvbl9lbmQsCiAgICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX3Byb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdCiAgfTsKCiAgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7CiAgICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCAqIHQgOiAodCAtPSAyKSAqIHQgKiB0ICsgMikgLyAyOwogIH0KCiAgdmFyIGRlZmF1bHRUaW1pbmcgPSB7CiAgICB0aW1lOiBudWxsLAogICAgLy8gU2V0IG9uIHVzZS4KICAgIGRlbGF5OiAwLAogICAgZHVyYXRpb246IDI1MCwKICAgIGVhc2U6IGN1YmljSW5PdXQKICB9OwogIGZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHsKICAgIHZhciB0aW1pbmc7CiAgICB3aGlsZSAoISh0aW1pbmcgPSBub2RlLl9fdHJhbnNpdGlvbikgfHwgISh0aW1pbmcgPSB0aW1pbmdbaWRdKSkgewogICAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNpdGlvbiAke2lkfSBub3QgZm91bmRgKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRpbWluZzsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3RyYW5zaXRpb24gKG5hbWUpIHsKICAgIHZhciBpZCwgdGltaW5nOwogICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7CiAgICAgIGlkID0gbmFtZS5faWQsIG5hbWUgPSBuYW1lLl9uYW1lOwogICAgfSBlbHNlIHsKICAgICAgaWQgPSBuZXdJZCgpLCAodGltaW5nID0gZGVmYXVsdFRpbWluZykudGltZSA9IG5vdygpLCBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyAiIjsKICAgIH0KICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHsKICAgICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkLCBpLCBncm91cCwgdGltaW5nIHx8IGluaGVyaXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIHNlbGVjdGlvbi5wcm90b3R5cGUuaW50ZXJydXB0ID0gc2VsZWN0aW9uX2ludGVycnVwdDsKICBzZWxlY3Rpb24ucHJvdG90eXBlLnRyYW5zaXRpb24gPSBzZWxlY3Rpb25fdHJhbnNpdGlvbjsKCiAgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHsKICAgIHRoaXMuayA9IGs7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICB9CiAgVHJhbnNmb3JtLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBUcmFuc2Zvcm0sCiAgICBzY2FsZTogZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGsgPT09IDEgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmsgKiBrLCB0aGlzLngsIHRoaXMueSk7CiAgICB9LAogICAgdHJhbnNsYXRlOiBmdW5jdGlvbiAoeCwgeSkgewogICAgICByZXR1cm4geCA9PT0gMCAmIHkgPT09IDAgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmssIHRoaXMueCArIHRoaXMuayAqIHgsIHRoaXMueSArIHRoaXMuayAqIHkpOwogICAgfSwKICAgIGFwcGx5OiBmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldOwogICAgfSwKICAgIGFwcGx5WDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHggKiB0aGlzLmsgKyB0aGlzLng7CiAgICB9LAogICAgYXBwbHlZOiBmdW5jdGlvbiAoeSkgewogICAgICByZXR1cm4geSAqIHRoaXMuayArIHRoaXMueTsKICAgIH0sCiAgICBpbnZlcnQ6IGZ1bmN0aW9uIChsb2NhdGlvbikgewogICAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdOwogICAgfSwKICAgIGludmVydFg6IGZ1bmN0aW9uICh4KSB7CiAgICAgIHJldHVybiAoeCAtIHRoaXMueCkgLyB0aGlzLms7CiAgICB9LAogICAgaW52ZXJ0WTogZnVuY3Rpb24gKHkpIHsKICAgICAgcmV0dXJuICh5IC0gdGhpcy55KSAvIHRoaXMuazsKICAgIH0sCiAgICByZXNjYWxlWDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7CiAgICB9LAogICAgcmVzY2FsZVk6IGZ1bmN0aW9uICh5KSB7CiAgICAgIHJldHVybiB5LmNvcHkoKS5kb21haW4oeS5yYW5nZSgpLm1hcCh0aGlzLmludmVydFksIHRoaXMpLm1hcCh5LmludmVydCwgeSkpOwogICAgfSwKICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB0aGlzLnggKyAiLCIgKyB0aGlzLnkgKyAiKSBzY2FsZSgiICsgdGhpcy5rICsgIikiOwogICAgfQogIH07CiAgVHJhbnNmb3JtLnByb3RvdHlwZTsKCiAgLyoKICAgIEhURE1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIQoKICAgIE1vZGVsIHBhcmFtZXRlcnM6CiAgICAgIGsgPSBkaXNjb3VudCBmYWN0b3IgKDAsIEluZmluaXR5KQoKICAgIEJlaGF2aW9yYWwgdmFyaWFibGVzOgogICAgICBBID0gYW1vdW50CiAgICAgIEQgPSBkZWxheQogICAgICBWID0gc3ViamVjdGl2ZSB2YWx1ZQoKICAgIEVxdWF0aW9uczoKICAgICAgViA9IEEgLyAoMSArIGtEKQogICAgICBrID0gKEEgLSBWKSAvIChWRCkKICAqLwogIGNsYXNzIEhURE1hdGggewogICAgc3RhdGljIGsgPSB7CiAgICAgIERFRkFVTFQ6IDAuMDUsCiAgICAgIE1JTjogMCwKICAgICAgTUFYOiAxMDAsCiAgICAgIFNURVA6IDAuMDAxLAogICAgICBKVU1QOiAwLjAxCiAgICB9OwogICAgc3RhdGljIGFkazJ2KGEsIGQsIGspIHsKICAgICAgcmV0dXJuIGEgLyAoMSArIGsgKiBkKTsKICAgIH0KICAgIHN0YXRpYyBhZHYyayhhLCBkLCB2KSB7CiAgICAgIHJldHVybiAoYSAtIHYpIC8gKHYgKiBkKTsKICAgIH0KICB9CgogIC8vIEludGVybmFsIGRlcGVuZGVuY2llcwoKICAvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbIm9mZiIsICJzZWxmIl0gKi8KCiAgc2VsZi5vbm1lc3NhZ2UgPSBldmVudCA9PiB7CiAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgIGs6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IEhURE1hdGguay5NSU4sCiAgICAgICAgdXBwZXI6IEhURE1hdGguay5NQVgKICAgICAgfSwKICAgICAgbHVjZTogewogICAgICAgIHR5cGU6ICdyZWFsJywKICAgICAgICBsb3dlcjogMCwKICAgICAgICB1cHBlcjogMTAwCiAgICAgIH0KICAgIH07CiAgICBjb25zdCBsb2dQb3N0ID0gKHN0YXRlLCBkYXRhKSA9PiB7CiAgICAgIGxldCBscCA9IDA7CgogICAgICAvLyBQcmlvcnMKICAgICAgY29uc3Qga01lYW4gPSAyOwogICAgICBjb25zdCBrU2hhcGUgPSAzOwogICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5nYW1tYShzdGF0ZS5rLCBrU2hhcGUsIGtTaGFwZSAvIGtNZWFuKTsKICAgICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUuaywgMCwgMTAwKTsKCiAgICAgIGNvbnN0IGx1Y2VNZWFuID0gMjsKICAgICAgY29uc3QgbHVjZVNoYXBlID0gMzsKICAgICAgbHAgKz0gZGlzdHJpYnV0aW9uc0V4cG9ydHMuZ2FtbWEoc3RhdGUubHVjZSwgbHVjZVNoYXBlLCBsdWNlU2hhcGUgLyBsdWNlTWVhbik7CiAgICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmx1Y2UsIDAsIDEwMCk7CgogICAgICAvLyBMaWtlbGlob29kCiAgICAgIGRhdGEuZm9yRWFjaChjaG9pY2UgPT4gewogICAgICAgIC8vIFZhbHVlcwogICAgICAgIGNvbnN0IHZzID0gSFRETWF0aC5hZGsydihjaG9pY2UuYXMsIGNob2ljZS5kcywgc3RhdGUuayk7CiAgICAgICAgY29uc3QgdmwgPSBIVERNYXRoLmFkazJ2KGNob2ljZS5hbCwgY2hvaWNlLmRsLCBzdGF0ZS5rKTsKCiAgICAgICAgLy8gQ2hvaWNlIG9mIHNvb25lciBvciBsYXRlciBpcyBzYW1wbGVkIGZyb20gYSBCZXJub3VsbGkgZGlzdHJpYnV0aW9uCiAgICAgICAgLy8gTHVjZSBjaG9pY2UgcnVsZSBpcyB1c2VkIHRvIGNvbXB1dGUgcHJvYmFiaWxpdHkgb2Ygd2FpdGluZyEgKDAgPSBzb29uZXIsIDEgPSBsYXRlcikKICAgICAgICBjb25zdCBiaW52YWwgPSAxIC8gKDEgKyBNYXRoLmV4cChzdGF0ZS5sdWNlICogKHZzIC0gdmwpKSk7CgogICAgICAgIC8vIEFjdHVhbCByZXNwb25zZQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gY2hvaWNlLnJlc3BvbnNlID09PSAnZmlyc3QnID8gMCA6IDE7CiAgICAgICAgbHAgKz0gZGlzdHJpYnV0aW9uc0V4cG9ydHMuYmVybihyZXNwb25zZSwgYmludmFsKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBscDsKICAgIH07CgogICAgLy8gSW5pdGlhbGl6aW5nIHRoZSBzYW1wbGVyCiAgICBjb25zdCBzYW1wbGVyID0gbmV3IG1jbWNFeHBvcnRzLkFtd2dTYW1wbGVyKHBhcmFtcywgbG9nUG9zdCwgZXZlbnQuZGF0YSk7CiAgICAvLyBCdXJuaW5nIHNvbWUgc2FtcGxlcyB0byB0aGUgTUNNQyBnb2RzIGFuZCBzYW1wbGluZyA1MDAwIGRyYXdzCiAgICBzYW1wbGVyLmJ1cm4oMTAwMCk7CiAgICBjb25zdCBzYW1wbGVzID0gc2FtcGxlci5zYW1wbGUoNTAwMCk7CgogICAgLy8gRXh0cmFjdCBzdW1tYXJ5IHN0YXRzCiAgICBjb25zdCByZXN1bHRzID0gewogICAgICBrOiBtZWRpYW4oc2FtcGxlcy5rKSwKICAgICAgbHVjZTogbWVkaWFuKHNhbXBsZXMubHVjZSkKICAgIH07CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgcmVzdWx0czogcmVzdWx0cywKICAgICAgc2FtcGxlczogc2FtcGxlcwogICAgfSk7CiAgfTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0ZC1maXQtd29ya2VyLmpzLm1hcAoK","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRkLWZpdC13b3JrZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9iYXllcy5qcy9kaXN0cmlidXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2JheWVzLmpzL21jbWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2FzY2VuZGluZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9zb3J0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tYXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL21pbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvcXVpY2tzZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3F1YW50aWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tZWRpYW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZGlzcGF0Y2gvc3JjL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL25hbWVzcGFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NyZWF0b3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9hcnJheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL21hdGNoZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGRyZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbnRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NvbnN0YW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9qb2luLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL21lcmdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NvcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2FsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZWFjaC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hdHRyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NsYXNzZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vdGV4dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9odG1sLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JhaXNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2xvd2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2FwcGVuZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbnNlcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmVtb3ZlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Nsb25lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2l0ZXJhdG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWNvbG9yL3NyYy9kZWZpbmUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3JnYi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9zdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9kZWNvbXBvc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWVyL3NyYy90aW1lci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NjaGVkdWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL2ludGVycnVwdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW50ZXJydXB0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9pbnRlcnBvbGF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9kZWxheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2VWYXJ5aW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vbWVyZ2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9vbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGVUd2Vlbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0VHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90cmFuc2l0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY3ViaWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL3RyYW5zaXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3RyYW5zZm9ybS5qcyIsIi4uLy4uL2xpYnJhcmllcy9kaXNjb3VudGFibGUtbWF0aC9zcmMvaHRkLW1hdGguanMiLCIuLi8uLi9saWJyYXJpZXMvZGlzY291bnRhYmxlLW1hdGgvc3JjL2luZGV4LmpzIiwiLi4vLi4vbGlicmFyaWVzL2Rpc2NvdW50YWJsZS1lbGVtZW50cy9zcmMvY29tcG9uZW50cy9odGQtZml0LXdvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvblxuLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoXG4vLyBhcyBpbiBcImxvZyBkZW5zaXR5XCIpLCBzbyB0byBnZXQgYSBub3JtYWwgbG9nIGRlbnNpdHkgeW91IHdvdWxkIHdyaXRlXG4vLyBsZC5ub3JtKC4uLikuXG4vLyBNb3N0IG9mIHRoZSBjb2RlIGJlbG93IGlzIGRpcmVjdGx5IHRha2VuIGZyb20gdGhlIGdyZWF0IEpzdGF0IHByb2plY3Rcbi8vIChodHRwczovL2dpdGh1Yi5jb20vanN0YXQvKSB3aGljaCBpbmNsdWRlcyBQREYgZm9yIG1hbnkgY29tbW9uIHByb2JhYmlsaXR5XG4vLyBkaXN0cmlidXRpb25zLiBXaGF0IEkgaGF2ZSBkb25lIGlzIG9ubHkgdG8gY29udmVydCB0aGVzZSB0byBsb2cgUERGcy5cblxuLypcbk9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0XG5Nb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCBcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IGxkIC5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QubGQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4gIC8vIE9iamVjdCB0byBob2xkIHRoZSBmdW5jdGlvbnMgdG8gYmUgZXhwb3J0ZWQuXG4gIHZhciBsZCAgPSB7fTtcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICB2YXIgbGdhbW1hID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIgY29mID0gW1xuICAgICAgNzYuMTgwMDkxNzI5NDcxNDYsIC04Ni41MDUzMjAzMjk0MTY3NywgMjQuMDE0MDk4MjQwODMwOTEsXG4gICAgICAtMS4yMzE3Mzk1NzI0NTAxNTUsIDAuMTIwODY1MDk3Mzg2NjE3OWUtMiwgLTAuNTM5NTIzOTM4NDk1M2UtNVxuICAgIF07XG4gICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1O1xuICAgIHZhciB4eCwgeSwgdG1wO1xuICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTtcbiAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApO1xuICAgIGZvciAoOyBqIDwgNjsgaisrKVxuICAgICAgc2VyICs9IGNvZltqXSAvICsreTtcbiAgICByZXR1cm4gbG9nKDIuNTA2NjI4Mjc0NjMxMDAwNSAqIHNlciAvIHh4KSAtIHRtcDtcbiAgfTtcbiAgbGQubGdhbW1hID0gbGdhbW1hO1xuICBcbiAgdmFyIGxmYWN0b3JpYWwgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIG4gPCAwID8gTmFOIDogbGdhbW1hKG4gKyAxKTtcbiAgfTtcbiAgbGQubGZhY3RvcmlhbCA9IGxmYWN0b3JpYWw7XG4gIFxuICB2YXIgbGNob29zZSA9IGZ1bmN0aW9uKG4sIGspe1xuICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspO1xuICB9O1xuICBsZC5sY2hvb3NlID0gbGNob29zZTtcbiAgXG4gIHZhciBsYmV0YSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTtcbiAgfTtcbiAgbGQubGJldGEgPSBsYmV0YTtcbiAgXG4gIHZhciBsb2cgID0gTWF0aC5sb2c7XG4gIHZhciBleHAgID0gTWF0aC5leHA7XG4gIHZhciBhYnMgID0gTWF0aC5hYnM7XG4gIHZhciBwb3cgID0gTWF0aC5wb3c7XG4gIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICB2YXIgcGkgICA9IE1hdGguUEk7XG4gIFxuICAvLy8vLy8vLy8vIENvbnRpbm91cyBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBsZC5iZXRhID0gZnVuY3Rpb24oeCwgc2hhcGUxLCBzaGFwZTIpIHtcbiAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYoc2hhcGUxID09PSAxICYmIHNoYXBlMiA9PT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoc2hhcGUxIC0gMSkgKiBsb2coeCkgKyAoc2hhcGUyIC0gMSkgKiBsb2coMSAtIHgpIC0gbGJldGEoc2hhcGUxLCBzaGFwZTIpOyAgXG4gICAgfVxuICB9O1xuICBcbiAgbGQuY2F1Y2h5ID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAgLSBsb2cocGkpO1xuICB9O1xuICBcbiAgbGQubm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC1sb2coc2QpIC0gcG93KHggLSBtZWFuLCAyKSAvICgyICogc2QgKiBzZCk7XG4gIH07XG5cbiAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIFxuICAvLyB0aGUgY29ycmVsYXRpb24uXG4gIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkLCBjb3JyKSB7XG4gICAgdmFyIHogPSBwb3coeFswXSAtIG1lYW5bMF0sIDIpIC8gcG93KHNkWzBdLCAyKSArXG4gICAgICAgICAgICBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIFxuICAgICAgICAgICAgKDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkpIC8gKHNkWzBdICogc2RbMV0pO1xuICAgIHZhciBub3JtYWxpemluZ19mYWN0b3IgPSAtKCBsb2coMikgKyBsb2cocGkpICsgbG9nKHNkWzBdKSArIGxvZyhzZFsxXSkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpICk7IFxuICAgIHZhciBiaXZhcl9sb2dfZGVucyA9IG5vcm1hbGl6aW5nX2ZhY3RvciAtIHogLyAoMiAqICgxIC0gcG93KGNvcnIsIDIpICkgKTsgXG4gICAgcmV0dXJuIGJpdmFyX2xvZ19kZW5zO1xuICB9O1xuICBcblxuICBsZC5sYXBsYWNlID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuICgtYWJzKHggLSBsb2NhdGlvbikvc2NhbGUpIC0gbG9nKDIgKiBzY2FsZSk7XG4gIH07XG4gIFxuICBsZC5kZXhwID0gbGQubGFwbGFjZTtcbiAgXG4gIGxkLmdhbW1hID0gZnVuY3Rpb24oeCwgc2hhcGUsIHJhdGUpIHtcbiAgICB2YXIgc2NhbGUgPSAxIC8gcmF0ZTtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfVxuICAgIGlmKCh4ID09PSAwICYmIHNoYXBlID09PSAxKSApIHtcbiAgICAgIHJldHVybiAtbG9nKHNjYWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChzaGFwZSAtIDEpICogbG9nKHgpIC0geCAvIHNjYWxlIC0gbGdhbW1hKHNoYXBlKSAtIHNoYXBlICogbG9nKHNjYWxlKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5pbnZnYW1tYSA9IGZ1bmN0aW9uKHgsIHNoYXBlLCBzY2FsZSkge1xuICAgICAgaWYgKHggPD0gMCkge1xuICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7XG4gICAgfTtcbiAgXG4gIGxkLmxub3JtID0gIGZ1bmN0aW9uKHgsIG1lYW5sb2csIHNkbG9nKSB7XG4gICAgaWYgKHggPD0gMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBcbiAgICAgICAgICAgIHBvdyhsb2coeCkgLSBtZWFubG9nLCAyKSAvICgyICogc2Rsb2cgKiBzZGxvZyk7XG4gIH07XG4gIFxuICBsZC5wYXJldG8gPSBmdW5jdGlvbih4LCBzY2FsZSwgc2hhcGUpIHtcbiAgICBpZiAoeCA8IHNjYWxlKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gbG9nKHNoYXBlKSArIHNoYXBlICogbG9nKHNjYWxlKSAtIChzaGFwZSArIDEpICogbG9nKHgpO1xuICB9O1xuICBcbiAgbGQudCAgPSAgZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlLCBkZikge1xuICAgIGRmID0gZGYgPiAxZTEwMCA/IDFlMTAwIDogZGY7XG4gICAgcmV0dXJuIGxnYW1tYSgoZGYgKyAxKS8yKSAtIGxnYW1tYShkZi8yKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICtcbiAgICAgICAgICAgbG9nKHBvdygxICsgKDEvZGYpICogcG93KCh4IC0gbG9jYXRpb24pL3NjYWxlLCAyKSwgLShkZiArIDEpLzIpKTtcbiAgfTtcbiAgXG4gIC8vIFRoaXMgaXMgYSBkaXJlY3QgamF2YXNjcmlwdCB0cmFuc2xhdGlvbiBvZiB0aGUgUiBjb2RlIHVzZWQgdG8gZXZhbHVhdGVcbiAgLy8gdGhlIGxvZyBkZW5zaXR5IG9mIGEgd2VpYnVsbCBkaXN0cmlidXRpb246IFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2NoL3Itc291cmNlL2Jsb2IvYjE1NmUzYTcxMTk2N2Y1ODEzMWUyM2MxYjFkYzFlYTkwZTJmMGM0My9zcmMvbm1hdGgvZHdlaWJ1bGwuY1xuICBsZC53ZWlidWxsID0gZnVuY3Rpb24oeCwgc2hhcGUsIHNjYWxlKSB7XG4gICAgaWYgKHggPCAwKSByZXR1cm4gLUluZmluaXR5O1xuICAgIGlmKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7XG4gICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpO1xuICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpO1xuXHQgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7XG4gIH07XG4gIFxuICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlXG4gIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuY1xuICBsZC5sb2dpcyA9IGZ1bmN0aW9uKHgsIGxvY2F0aW9uLCBzY2FsZSkge1xuICAgIHggPSBhYnMoKHggLSBsb2NhdGlvbikgLyBzY2FsZSk7XG4gICAgdmFyIGUgPSBleHAoLXgpO1xuICAgIHZhciBmID0gMS4wICsgZTtcbiAgICByZXR1cm4gLSh4ICsgbG9nKHNjYWxlICogZiAqIGYpKTsgICAgXG4gIH07XG5cbiAgbGQuZGlyaWNobGV0ID0gZnVuY3Rpb24oeCwgYWxwaGEpIHtcbiAgICB2YXIgc3VtX2FscGhhID0gMDtcbiAgICB2YXIgc3VtX2xnYW1tYV9hbHBoYSA9IDA7XG4gICAgdmFyIHN1bV9hbHBoYV9zdWJfMV9sb2dfeCA9IDA7XG4gICAgdmFyIG4gPSBhbHBoYS5sZW5ndGg7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldO1xuICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pO1xuICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194O1xuICB9O1xuICAgXG4gICAgXG4gIGxkLmV4cCA9IGZ1bmN0aW9uKHgsIHJhdGUpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtcmF0ZSAqIHg7XG4gIH07XG4gIFxuICBsZC51bmlmID0gZnVuY3Rpb24oeCwgbWluLCBtYXgpIHtcbiAgICAgIHJldHVybiAoeCA8IG1pbiB8fCB4ID4gbWF4KSA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpO1xuICB9O1xuICBcbiAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIGxkLmJlcm4gPSBmdW5jdGlvbih4LCBwcm9iKSB7XG4gICAgICByZXR1cm4gISh4ID09PSAwIHx8IHggPT09IDEpID8gLUluZmluaXR5IDogbG9nKHggKiBwcm9iICsgKDEgLSB4KSAqICgxIC0gcHJvYikpO1xuICB9O1xuICBcbiAgbGQuY2F0ID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICBpZih4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9nKCBwcm9ic1t4IC0gMV0gKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4ID4gc2l6ZSB8fCB4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7XG4gICAgICByZXR1cm4gKHNpemUgKiBwcm9iKSA9PT0geCA/IDAgOiAtSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBsY2hvb3NlKHNpemUsIHgpICsgeCAqIGxvZyhwcm9iKSArIChzaXplIC0geCkgKiBsb2coMSAtIHByb2IpO1xuICB9O1xuICBcbiAgdmFyIG11bHRpbm9tID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICB2YXIgbiA9IHgubGVuZ3RoO1xuICAgIHZhciBzaXplID0gMDtcbiAgICB2YXIgdG1wX3Rlcm0gPSAwO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmKHByb2JzW2ldID09PSAwKSB7XG4gICAgICAgIGlmKHhbaV0gIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OyAgXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgKz0geFtpXTtcbiAgICAgICAgdG1wX3Rlcm0gKz0geFtpXSAqIGxvZyhwcm9ic1tpXSkgLSBsZ2FtbWEoeFtpXSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHNpemUgKyAxKSArIHRtcF90ZXJtIDtcbiAgfTtcbiAgXG4gIGxkLm5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGxjaG9vc2UoeCArIHNpemUgLSAxLCBzaXplIC0gMSkgKyB4ICogbG9nKDEgLSBwcm9iKSArIHNpemUgKiBsb2cocHJvYik7XG4gIH07XG4gIFxuICBsZC5oeXBlciA9IGZ1bmN0aW9uKHgsIG0sIG4sIGspIHtcbiAgICBpZih4IDwgMCB8fCB4ID4gaykge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9IGVsc2Uge1xuICAgIHJldHVybiBsY2hvb3NlKG0sIHgpICsgbGNob29zZShuLCBrLXgpIC0gbGNob29zZShtK24sIGspO1xuICAgIH1cbiAgfTtcbiAgXG4gIGxkLnBvaXMgPSBmdW5jdGlvbih4LCBsYW1iZGEpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7XG4gIH07XG4gIFxuICByZXR1cm4gbGQ7XG59KSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IG1jbWMgLlxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCl7XG5cbi8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICBcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKiogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4ICovXG4gIHZhciBydW5pZiA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqL1xuICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9O1xuICBcbiAgLyoqIFJldHVybnMgYSByYW5kb20gcmVhbCBudW1iZXIgZnJvbSBhIG5vcm1hbCBkaXN0cmliYnV0aW9uIGRlZmluZWRcbiAgICogIGJ5IG1lYW4gYW5kIHNkLiBcbiAgICogIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vanN0YXQvanN0YXQvYmxvYi9tYXN0ZXIvc3JjL3NwZWNpYWwuanMgKi9cbiAgdmFyIHJub3JtID0gZnVuY3Rpb24obWVhbiwgc2QpIHtcbiAgICB2YXIgdSwgdiwgeCwgeSwgcTtcbiAgICBkbyB7XG4gICAgICB1ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIHYgPSAxLjcxNTYgKiAoTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgICB4ID0gdSAtIDAuNDQ5ODcxO1xuICAgICAgeSA9IE1hdGguYWJzKHYpICsgMC4zODY1OTU7XG4gICAgICBxID0geCAqIHggKyB5ICogKDAuMTk2MDAgKiB5IC0gMC4yNTQ3MiAqIHgpO1xuICAgIH0gd2hpbGUgKHEgPiAwLjI3NTk3ICYmIChxID4gMC4yNzg0NiB8fCB2ICogdiA+IC00ICogTWF0aC5sb2codSkgKiB1ICogdSkpO1xuICAgIFxuICAgIHJldHVybiAodiAvIHUpICogc2QgKyBtZWFuO1xuICB9O1xuICBcbiAgXG4gIC8qKiBSZXR1cm5zIGEgZGVlcCBjbG9uZSBvZiBzcmMsIHNvcnQgb2YuLi4gSXQgb25seSBjb3BpZXMgYSBsaW1pdGVkXG4gICAqIG51bWJlciBvZiB0eXBlcyBhbmQsIGZvciBleGFtcGxlLCBmdW5jdGlvbiBhcmUgbm90IGNvcGllZC4gXG4gICAqIEZyb20gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS9qYXZhc2NyaXB0LWNsb25lXG4gICAqL1xuICB2YXIgZGVlcF9jbG9uZSA9IGZ1bmN0aW9uKHNyYykge1xuICBcdGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHtcbiAgXHRcdHZhciBuYW1lLCBzLCBpLCBlbXB0eSA9IHt9O1xuICBcdFx0Zm9yKG5hbWUgaW4gc291cmNlKXtcbiAgXHRcdFx0Ly8gdGhlICghKG5hbWUgaW4gZW1wdHkpIHx8IGVtcHR5W25hbWVdICE9PSBzKSBjb25kaXRpb24gYXZvaWRzIGNvcHlpbmcgcHJvcGVydGllcyBpbiBcInNvdXJjZVwiXG4gIFx0XHRcdC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuXHQgRm9yIGV4YW1wbGUsIGlmIGRlc3QgaGFzIGEgY3VzdG9tIHRvU3RyaW5nKCkgbWV0aG9kLFxuICBcdFx0XHQvLyBkb24ndCBvdmVyd3JpdGUgaXQgd2l0aCB0aGUgdG9TdHJpbmcoKSBtZXRob2QgdGhhdCBzb3VyY2UgaW5oZXJpdGVkIGZyb20gT2JqZWN0LnByb3RvdHlwZVxuICBcdFx0XHRzID0gc291cmNlW25hbWVdO1xuICBcdFx0XHRpZighKG5hbWUgaW4gZGVzdCkgfHwgKGRlc3RbbmFtZV0gIT09IHMgJiYgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpKSl7XG4gIFx0XHRcdFx0ZGVzdFtuYW1lXSA9IGNvcHlGdW5jID8gY29weUZ1bmMocykgOiBzO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0XHRyZXR1cm4gZGVzdDtcbiAgXHR9XG4gIFx0aWYoIXNyYyB8fCB0eXBlb2Ygc3JjICE9IFwib2JqZWN0XCIgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIil7XG4gIFx0XHQvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvblxuICBcdFx0cmV0dXJuIHNyYztcdC8vIGFueXRoaW5nXG4gIFx0fVxuICBcdGlmKHNyYy5ub2RlVHlwZSAmJiBcImNsb25lTm9kZVwiIGluIHNyYyl7XG4gIFx0XHQvLyBET00gTm9kZVxuICBcdFx0cmV0dXJuIHNyYy5jbG9uZU5vZGUodHJ1ZSk7IC8vIE5vZGVcbiAgXHR9XG4gIFx0aWYoc3JjIGluc3RhbmNlb2YgRGF0ZSl7XG4gIFx0XHQvLyBEYXRlXG4gIFx0XHRyZXR1cm4gbmV3IERhdGUoc3JjLmdldFRpbWUoKSk7XHQvLyBEYXRlXG4gIFx0fVxuICBcdGlmKHNyYyBpbnN0YW5jZW9mIFJlZ0V4cCl7XG4gIFx0XHQvLyBSZWdFeHBcbiAgXHRcdHJldHVybiBuZXcgUmVnRXhwKHNyYyk7ICAgLy8gUmVnRXhwXG4gIFx0fVxuICBcdHZhciByLCBpLCBsO1xuICBcdGlmKHNyYyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgXHRcdC8vIGFycmF5XG4gIFx0XHRyID0gW107XG4gIFx0XHRmb3IoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKXtcbiAgXHRcdFx0aWYoaSBpbiBzcmMpe1xuICBcdFx0XHRcdHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0fSBlbHNlIHtcbiAgXHRcdC8vIGdlbmVyaWMgb2JqZWN0c1xuICBcdFx0ciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9O1xuICBcdH1cbiAgXHRyZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTtcbiAgfTtcbiAgXG4gIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmVcbiAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvblxuICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZ1xuICAgKiBsb29wLlxuICAgKi9cbiAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgaWYoQXJyYXkuaXNBcnJheSh4WzBdKSkge1xuICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5XG4gICAgICAgIHZhciB4X2NvcHkgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuZ3RoID0geC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHhfY29weS5wdXNoKGNsb25lX3BhcmFtX2RyYXcoeFtpXSkpO1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4geF9jb3B5O1xuICAgICAgfSBlbHNlIHsgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFyc1xuICAgICAgICByZXR1cm4geC5zbGljZSgwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIHNjYWxhclxuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgYSBudW1iZXIuXG4gICAqL1xuICB2YXIgaXNfbnVtYmVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSBcIm51bWJlclwiIHx8ICh0eXBlb2Ygb2JqZWN0ID09IFwib2JqZWN0XCIgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBOdW1iZXIpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS5cbiAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsXG4gICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LlxuICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpblxuICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgXG4gICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0b1xuICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LlxuICAgKiBAZXhhbXBsZSBcbiAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXVxuICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpXG4gICAqL1xuICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24oZGltLCBpbml0KSB7XG4gICAgdmFyIGFyciA9IG5ldyBBcnJheShkaW1bMF0pO1xuICAgIHZhciBpO1xuICAgIGlmKGRpbS5sZW5ndGggPT0gMSkgeyAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdFxuICAgICAgaWYodHlwZW9mIGluaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQoKTtcbiAgICAgICAgfSAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQ7XG4gICAgICAgIH0gXG4gICAgICB9XG4gICAgfSBlbHNlIGlmKGRpbS5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJjcmVhdGVfYXJyYXkgY2FuJ3QgY3JlYXRlIGEgZGltZW5zaW9ubGVzcyBhcnJheVwiO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGltZW5zaW9ucyBvZiBhIHBvc3NpYmx5IG5lc3RlZCBhcnJheSBhcyBhbiBhcnJheS4gRm9yIFxuICAgKiBleGFtcGxlLCBhcnJheV9kaW0oIFtbMSwgMl0sIFsxLCAyXV0gKSBzaG91bGQgcmV0dXJuIFsyLCAyXVxuICAgKiBBc3N1bWVzIHRoYXQgYWxsIGFycmF5cyBpbnNpZGUgYW5vdGhlciBhcnJheSBhcmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBTaG91bGQgcmV0dXJuIFs0LCAyLCAxXVxuICAgKiBhcnJheV9kaW0oY3JlYXRlX2FycmF5KFs0LCAyLCAxXSwgMCkpXG4gICAqL1xuICB2YXIgYXJyYXlfZGltID0gZnVuY3Rpb24oYSkge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoYVswXSkpIHtcbiAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2EubGVuZ3RoXTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50c1xuICAgKiBhcyBqdWRnZWQgYnkgdGhlIFwiPT1cIiBvcGVyYXRvci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlxuICAgKiBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ4NTM5NzQvMTAwMTg0OFxuICAgKi8gXG4gIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICAgIGlmIChhMS5sZW5ndGggIT0gYTIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7XG4gICAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5c1xuICAgICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsgICAgICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsgXG4gICAgICAgICAgICAgIC8vIFdhcm5pbmcgLSB0d28gZGlmZmVyZW50IG9iamVjdCBpbnN0YW5jZXMgd2lsbCBuZXZlciBiZSBlcXVhbDoge3g6MjB9ICE9IHt4OjIwfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICB9ICAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCBcImxlYWYgbm9kZXNcIiwgXG4gICAqIHRoYXQgaXMsIHZhbHVlcyB0aGF0IGFyZSBub3QgYXJyYXlzLiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBzYW1lIHNpemUgYXNcbiAgICogYS5cbiAgICovXG4gIHZhciBuZXN0ZWRfYXJyYXlfYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTtcbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKiogUmFuZG9taXppbmcgdGhlIGFycmF5IGVsZW1lbnQgb3JkZXIgaW4tcGxhY2UuIFVzaW5nIER1cnN0ZW5mZWxkXG4gICAqIHNodWZmbGUgYWxnb3JpdGhtLiBBZGFwdGVkIGZyb20gaGVyZTogXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEyNjQ2ODY0LzEwMDE4NDhcbiAgICovXG4gIGZ1bmN0aW9uIHNodWZmbGVfYXJyYXkoYXJyYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldO1xuICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbal07XG4gICAgICAgICAgYXJyYXlbal0gPSB0ZW1wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIFxuICAvKipcbiAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5XG4gICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgXCJsZWFmIG5vZGVzXCIgYW5kIHJldHVybnMgYW4gYXJyYXkgXG4gICAqIG9mIHRoZSBzYW1lIHNpemUgYXMgYS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5XG4gICAqIGJyYW5jaGVzIHJhbmRvbWx5LlxuICAgKi9cbiAgdmFyIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgbGVuID0gYS5sZW5ndGg7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBhcnJheV9pcyA9IFtdO1xuICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJyYXlfaXNbaV0gPSBpO1xuICAgICAgfVxuICAgICAgc2h1ZmZsZV9hcnJheShhcnJheV9pcyk7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBcbiAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07XG4gICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmVcbiAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC5cbiAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmdcbiAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgXG4gICAqICAgIGFzIGEgbWVtYmVyLlxuICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgXG4gICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy5cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9XG4gICAqIHZhciBwaSA9IGdldF9vcHRpb24oXCJwaVwiLCBteV9vcHRpb25zLCAzLjE0KVxuICAgKi9cbiAgLy8gUHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmYXVsdHMgY2FuIGJlIG92ZXJyaWRkZW5cbiAgLy8gYnkgYW4gb3B0aW9ucyBvYmplY3QuIEZvciBleGFtcGxlOlxuICAvLyB2YXIgcGkgPSBnZXRfb3B0aW9uKFwicGlcIiwgbXlfb3B0aW9ucywgMy4xNClcbiAgdmFyIGdldF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIFxuICAgICAgICAgICBvcHRpb25zW29wdGlvbl9uYW1lXSAhPT0gdW5kZWZpbmVkICAmJiBcbiAgICAgICAgICAgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTtcbiAgfTtcbiAgXG4gIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWxcbiAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS5cbiAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggXG4gICAqIGRpbSBkaW1lbnNpb25zLlxuICAgKiBcbiAgICovXG4gIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRpbSwgZGVmYXVsX3ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0X29wdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKTtcbiAgICAgaWYoISBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgIHZhbHVlID0gY3JlYXRlX2FycmF5KGRpbSwgdmFsdWUpO1xuICAgICB9IFxuICAgICBpZighIGFycmF5X2VxdWFsKCBhcnJheV9kaW0odmFsdWUpLCBkaW0pKSB7XG4gICAgICAgdGhyb3cgXCJUaGUgb3B0aW9uIFwiICsgb3B0aW9uX25hbWUgKyBcIiBpcyBvZiBkaW1lbnNpb24gW1wiICsgXG4gICAgICAgICAgICAgYXJyYXlfZGltKHZhbHVlKSArIFwiXSBidXQgc2hvdWxkIGJlIFtcIiArIGRpbSArIFwiXS5cIjtcbiAgICB9XG4gICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgXG4gIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKipcbiAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLlxuICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgXCJyZWFsXCIsIFwiaW50XCIsIGFuZCBcImJpbmFyeVwiLlxuICAgKi9cbiAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbih0eXBlLCBsb3dlciwgdXBwZXIpIHtcbiAgICBpZihsb3dlciA+IHVwcGVyKSB7XG4gICAgICB0aHJvdyBcIkNhbiBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgd2hlcmUgbG93ZXIgYm91bmQgPiB1cHBlciBib3VuZFwiO1xuICAgIH1cbiAgICBpZih0eXBlID09PSBcInJlYWxcIikge1xuICAgICAgaWYobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIDAuNTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDAuNTtcbiAgICAgIH0gZWxzZSBpZih1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIGxvd2VyICsgMC41O1xuICAgICAgfSBlbHNlIGlmKGxvd2VyIDw9IHVwcGVyKSB7XG4gICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZih0eXBlID09PSBcImludFwiKSB7XG4gICAgICBpZihsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDE7XG4gICAgICB9IGVsc2UgaWYodXBwZXIgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiBsb3dlciArIDE7XG4gICAgICB9IGVsc2UgaWYobG93ZXIgPD0gdXBwZXIpe1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgobG93ZXIgKyB1cHBlcikgLyAyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodHlwZSA9PT0gXCJiaW5hcnlcIikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHRocm93IFwiQ291bGQgbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIG9mIHR5cGUgXCIgKyB0eXBlICsgXCJbXCIgKyBsb3dlciArIFwiLCBcIiArIHVwcGVyICsgXCJdXCI7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ29tcGxldGVzIHBhcmFtc190b19jb21wbGV0ZSwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyIGRlc2NyaXB0aW9ucywgXG4gICAqIGFuZCBpbml0aWFsaXplcyBub24taW5pdGlhbGl6ZWQgcGFyYW1ldGVycy4gVGhpcyBtb2RpZmllZCB2ZXJzaW9uIG9mXG4gICAqIHBhcmFtc190b19jb21wbGV0ZSBpcyByZXR1cm5lZCBhcyBhIGRlZXAgY29weSBhbmQgbm90IG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGJ5IHN1cHBseWluZyBhIHBhcmFtX2luaXQgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmVcbiAgICogZnVuY3Rpb24odHlwZSwgbG93ZXIsIHVwcGVyKSB0aGF0IHNob3VsZCByZXR1cm4gYSBzaW5nbGUgbnVtYmVyIFxuICAgKiAobGlrZSBwYXJhbV9pbml0X2ZpeGVkLCBmb3IgZXhhbXBsZSkuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwYXJhbXMgPSB7IFwibXVcIjoge1widHlwZVwiOiBcInJlYWxcIn0gfVxuICAgKiBwYXJhbXMgPSBjb21wbGV0ZV9wYXJhbXMocGFyYW1zKTtcbiAgICogLy8gcGFyYW1zIHNob3VsZCBub3cgYmU6XG4gICAqIC8vICB7XCJtdVwiOiB7IFwidHlwZVwiOiBcInJlYWxcIiwgXCJkaW1cIjogWzFdLCBcInVwcGVyXCI6IEluZmluaXR5LFxuICAgKiAvLyAgICAgICAgICAgXCJsb3dlclwiOiAtSW5maW5pdHksIFwiaW5pdFwiOiAwLjUgfX1cbiAgICovIFxuICB2YXIgY29tcGxldGVfcGFyYW1zICA9IGZ1bmN0aW9uKHBhcmFtc190b19jb21wbGV0ZSwgcGFyYW1faW5pdCkge1xuICAgIHZhciBwYXJhbXMgPSBkZWVwX2Nsb25lKHBhcmFtc190b19jb21wbGV0ZSk7XG4gICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBwYXJhbXMpIHsgaWYgKCFwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW1fbmFtZSkpIGNvbnRpbnVlO1xuICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgaWYoICFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpIHtcbiAgICAgICAgcGFyYW0udHlwZSA9IFwicmVhbFwiO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwiZGltXCIpKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFsxXTtcbiAgICAgIH1cbiAgICAgIGlmKGlzX251bWJlcihwYXJhbS5kaW0pKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFtwYXJhbS5kaW1dO1xuICAgICAgfVxuICAgICAgaWYocGFyYW0udHlwZSA9PSBcImJpbmFyeVwiKSB7XG4gICAgICAgIHBhcmFtLnVwcGVyID0gMTtcbiAgICAgICAgcGFyYW0ubG93ZXIgPSAwO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwidXBwZXJcIikpIHtcbiAgICAgICAgcGFyYW0udXBwZXIgPSBJbmZpbml0eTtcbiAgICAgIH1cbiAgICAgIGlmKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImxvd2VyXCIpKSB7XG4gICAgICAgIHBhcmFtLmxvd2VyID0gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZihwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImluaXRcIikpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBqdXN0IGEgbnVtYmVyIG9yIGEgbmVzdGVkIGFycmF5IHdlIGxlYXZlIGl0IGFsb25lLCBidXQgaWYuLi5cbiAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pICYmIHR5cGVvZiBwYXJhbS5pbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpO1xuICAgICAgICB9IGVsc2UgaWYoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSAmJiAhQXJyYXkuaXNBcnJheShwYXJhbS5pbml0KSkge1xuICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0XG4gICAgICAgIC8vIGlzIG5vdCBhbiBhcnJheS4gVGhlbiBhc3N1bWUgaXQgaXMgYSBudW1iZXIgb3IgYSBmdW5jdGlvbiBhbmQgdXNlXG4gICAgICAgIC8vIGl0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uXG4gICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgIHBhcmFtLmluaXQgPSBwYXJhbV9pbml0KHBhcmFtLnR5cGUsIHBhcmFtLmxvd2VyLCBwYXJhbS51cHBlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtX2luaXQocGFyYW0udHlwZSwgcGFyYW0ubG93ZXIsIHBhcmFtLnVwcGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9O1xuICBcbiAgXG4gIC8vLy8vLy8vLy8gU3RlcHBlciBGdW5jdGlvbnMgLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBcbiAgXG4gIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZVxuICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvblxuICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgXCJpbnRlcmZhY2VcIixcbiAgICogd2hlcmUgXCJpbnRlcmZhY2VcIiBtZWFucyB0aGF0IFN0ZXBwZXIgZGVmaW5lcyBhIGNsYXNzIHRoYXQgaXMgbmV2ZXJcbiAgICogbWVhbnQgdG8gYmUgaW5zdGFudGlhdGVkLCBidXQganVzdCB0byBiZSBzdWJjbGFzc2VkIGJ5IHNwZWNpYWxpemVkXG4gICAqIHN0ZXBwZXIgZnVuY3Rpb25zLlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IHsgXCJ0eXBlXCI6IFwicmVhbFwiLCBcImRpbVwiOiBbMV0sIFwidXBwZXJcIjogSW5maW5pdHksIFxuICAgKiAgIFwibG93ZXJcIjogLUluZmluaXR5LCBcImluaXRcIjogMC41IH19XG4gICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgXCJjb21wbGV0ZVwiLCB0aGF0IGlzLFxuICAgKiAgIHNwZWNpZnlpbmcgYWxsIHJlbGV2YW50IGF0dHJpYnV0ZXMgc3VjaCBhcyBkaW0sIGxvd2VyIGFuZCB1cHBlci5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzIGluIHBhcmFtc1xuICAgKiAgIChhbmQgcG9zc2libHkgbW9yZSkuIFRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlIGdpdmVuIGFzIGtleXMgYW5kIHRoZSBzdGF0ZXNcbiAgICogICBhcyBzY2FsYXJzIG9yLCBwb3NzaWJseSBuZXN0ZWQsIGFycmF5cy4gRm9yIGV4YW1wbGU6XG4gICAqICAge211OiAxMCwgc2lnbWE6IDUsIGJldGE6IFsxLCAyLjVdfVxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uICp0YWtpbmcgbm8gcGFyYW1ldGVycyogdGhhdCByZXR1cm5zIHRoZVxuICAgKiAgIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFRoYXQgaXMsIHRoZSB2YWx1ZSBvZiBsb2dfcG9zdFxuICAgKiAgIHNob3VsZCBjaGFuZ2UgaWYgdGhlIHRoZSB2YWx1ZXMgaW4gc3RhdGUgYXJlIGNoYW5nZWQuXG4gIFxuICAgKi9cbiAgdmFyIFN0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCkge1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmxvZ19wb3N0ID0gbG9nX3Bvc3Q7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuIFNob3VsZCByZXR1cm4gdGhlIG5ldyBzdGF0ZSxcbiAgICogYnV0IGlzIG1haW5seSBjYWxsZWQgZm9yIGl0J3Mgc2lkZSBlZmZlY3Qgb2YgbWFraW5nIGEgY2hhbmdlIGluIHRoZVxuICAgKiBzdGF0ZSBvYmplY3QuXG4gICAqL1xuICBTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJFdmVyeSBTdGVwcGVyIG5lZWQgdG8gaW1wbGVtZW50IHN0ZXAoKVwiO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIElmIGltcGxlbWVudGVkLCBtYWtlcyB0aGUgc3RlcHBlciBhZGFwdCB3aGlsZSBzdGVwcGluZy5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgY2Vhc2UgYWRhcHRpbmcgd2hpbGUgc3RlcHBpbmcuXG4gICAqLyBcbiAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluZyBpbmZvIHJlZ2FyZGluZyB0aGUgc3RlcHBlci5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgc3RlcHBlci5cbiAgICByZXR1cm4ge307XG4gIH07XG4gIFxuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpblxuICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluIFwiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQ1wiXG4gICAqIGJ5IFJvYmVydHMgYW5kIFJvc2VudGhhbCAoMjAwOCkuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci5cbiAgICogQHBhcmFtIGdlbmVyYXRlX3Byb3Bvc2FsIC0gYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9wb3NhbCAoYXMgYSBudW1iZXIpXG4gICAqIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBsb2dfc2NhbGUpIHdoZXJlIHBhcmFtX3N0YXRlIGlzIGFcbiAgICogbnVtYmVyIGFuZCBsb2dfc2NhbGUgZGVmaW5lcyB0aGUgc2NhbGUgb2YgdGhlIHByb3Bvc2FsIHNvbWVob3cuXG4gICovXG4gIHZhciBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBnZW5lcmF0ZV9wcm9wb3NhbCkge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBjYW4gb25seSBoYW5kbGUgb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICBpZighYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICB0aHJvdyBcIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5sb3dlciA9IHBhcmFtLmxvd2VyO1xuICAgIHRoaXMudXBwZXIgPSBwYXJhbS51cHBlcjtcbiAgICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCAwKTtcbiAgICB0aGlzLmJhdGNoX3NpemUgICAgICAgICA9IGdldF9vcHRpb24oXCJiYXRjaF9zaXplXCIsIG9wdGlvbnMsIDUwKTtcbiAgICB0aGlzLm1heF9hZGFwdGF0aW9uICAgICA9IGdldF9vcHRpb24oXCJtYXhfYWRhcHRhdGlvblwiLCBvcHRpb25zLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgMS4wKTtcbiAgICB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSA9IGdldF9vcHRpb24oXCJ0YXJnZXRfYWNjZXB0X3JhdGVcIiwgb3B0aW9ucywgMC40NCk7XG4gICAgdGhpcy5pc19hZGFwdGluZyAgICAgICAgPSBnZXRfb3B0aW9uKFwiaXNfYWRhcHRpbmdcIiwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgXG4gICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsO1xuICAgIFxuICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7XG4gICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsgIFxuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB2YXIgcGFyYW1fcHJvcG9zYWwgPSB0aGlzLmdlbmVyYXRlX3Byb3Bvc2FsKHBhcmFtX3N0YXRlLCB0aGlzLnByb3BfbG9nX3NjYWxlKTtcbiAgICAgIGlmKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIHtcbiAgICAgICAgLy8gT3V0c2lkZSBvZiBsaW1pdHMgb2YgdGhlIHBhcmFtZXRlciwgcmVqZWN0IHRoZSBwcm9wb3NhbCBcbiAgICAgICAgLy8gYW5kIHN0YXkgYXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICB9IGVsc2UgeyAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwXG4gICAgICAgIHZhciBjdXJyX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9wcm9wb3NhbDtcbiAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgICAgIHZhciBhY2NlcHRfcHJvYiA9IE1hdGguZXhwKHByb3BfbG9nX2RlbnMgLSBjdXJyX2xvZ19kZW5zKTtcbiAgICAgICAgaWYoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7XG4gICAgICAgICAgLy8gV2UgZG8gbm90aGluZyBhcyB0aGUgc3RhdGUgb2YgcGFyYW0gaGFzIGFscmVhZHkgYmVlbiBjaGFuZ2VkIHRvIHRoZSBwcm9wb3NhbFxuICAgICAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrIDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZXZlcnQgc3RhdGUgYmFjayB0byB0aGUgb2xkIHN0YXRlIG9mIHBhcmFtXG4gICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gcGFyYW1fc3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uICsrO1xuICAgICAgICBpZih0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPj0gdGhpcy5iYXRjaF9zaXplKSB7IC8vIHRoZW4gYWRhcHRcbiAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50ICsrO1xuICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IFxuICAgICAgICAgICAgTWF0aC5taW4odGhpcy5tYXhfYWRhcHRhdGlvbiwgXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiAvIE1hdGguc3FydCh0aGlzLmJhdGNoX2NvdW50KSk7XG4gICAgICAgICAgaWYodGhpcy5hY2NlcHRhbmNlX2NvdW50IC8gdGhpcy5iYXRjaF9zaXplID4gdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgKz0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgLT0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXTtcbiAgfTtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IHRydWU7XG4gIH07XG4gIFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IGZhbHNlO1xuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcF9sb2dfc2NhbGU6IHRoaXMucHJvcF9sb2dfc2NhbGUsXG4gICAgICBpc19hZGFwdGluZzogdGhpcy5pc19hZGFwdGluZyxcbiAgICAgIGFjY2VwdGFuY2VfY291bnQ6IHRoaXMuYWNjZXB0YW5jZV9jb3VudCxcbiAgICAgIGl0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb246IHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbixcbiAgICAgIGJhdGNoX2NvdW50OiB0aGlzLmJhdGNoX2NvdW50XG4gICAgfTtcbiAgfTtcbiAgXG4gIFxuICAvKipcbiAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLlxuICAgKi9cbiAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkge1xuICAgIHJldHVybiBybm9ybShwYXJhbV9zdGF0ZSAsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9XG4gICAqIEEgXCJzdWJjbGFzc1wiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIG5vcm1hbF9wcm9wb3NhbCk7XG4gIH07XG4gIFxuICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuXG4gICAqL1xuICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24ocGFyYW1fc3RhdGUsIHByb3BfbG9nX3NjYWxlKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocm5vcm0ocGFyYW1fc3RhdGUgLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTtcbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAYXVnbWVudHMge09uZWRpbU1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBJbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsKTtcbiAgfTtcbiAgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9XG4gICAqIENvbnN0cnVjdG9yIGZvciBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHRoZSBtZXRyb3BvbGlzIHN0ZXAgaW5cbiAgICogdGhlIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiBcIkV4YW1wbGVzIG9mIEFkYXB0aXZlIE1DTUNcIlxuICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdFxuICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIFxuICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgXG4gICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXNcbiAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uXG4gICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cbiAgKi9cbiAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgU3ViU3RlcHBlcikge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7XG4gICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyO1xuICAgIHRoaXMuZGltID0gcGFyYW0uZGltO1xuICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgMCk7XG4gICAgdGhpcy5iYXRjaF9zaXplICAgICAgICAgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwiYmF0Y2hfc2l6ZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApO1xuICAgIHRoaXMubWF4X2FkYXB0YXRpb24gICAgID0gZ2V0X211bHRpZGltX29wdGlvbihcIm1heF9hZGFwdGF0aW9uXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgdGhpcy5kaW0sIDEuMCk7XG4gICAgdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwidGFyZ2V0X2FjY2VwdF9yYXRlXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjQ0KTtcbiAgICB0aGlzLmlzX2FkYXB0aW5nICAgICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpc19hZGFwdGluZ1wiLCBvcHRpb25zLCB0aGlzLmRpbSwgdHJ1ZSk7XG4gICAgXG4gICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiBcbiAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS5cbiAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gXG4gICAgICBmdW5jdGlvbihkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgcHJvcF9sb2dfc2NhbGUsIGJhdGNoX3NpemUsIG1heF9hZGFwdGF0aW9uLCBpbml0aWFsX2FkYXB0YXRpb24sIHRhcmdldF9hY2NlcHRfcmF0ZSwgaXNfYWRhcHRpbmcpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgaWYoZGltLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3Vib3B0aW9ucyA9IHtwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sIGJhdGNoX3NpemU6IGJhdGNoX3NpemVbaV0sXG4gICAgICAgICAgICBtYXhfYWRhcHRhdGlvbjogbWF4X2FkYXB0YXRpb25baV0sIGluaXRpYWxfYWRhcHRhdGlvbjogaW5pdGlhbF9hZGFwdGF0aW9uW2ldLFxuICAgICAgICAgICAgdGFyZ2V0X2FjY2VwdF9yYXRlOiB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXX07XG4gICAgICAgICAgICB2YXIgc3VicGFyYW0gPSB7fTtcbiAgICAgICAgICAgIHN1YnBhcmFtW2ldID0gZGVlcF9jbG9uZShwYXJhbSk7XG4gICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyXG4gICAgICAgICAgICBkZWxldGUgc3VicGFyYW1baV0uaW5pdDsgLy8gQXMgaXQgc291bGQgbm90IGJlIG5lZWRlZFxuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IFN1YlN0ZXBwZXIoc3VicGFyYW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgc3Vib3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZVtpXSwgXG4gICAgICAgICAgICBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LFxuICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSwgdGhpcy5iYXRjaF9zaXplLCB0aGlzLm1heF9hZGFwdGF0aW9uLCB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbixcbiAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlLCB0aGlzLmlzX2FkYXB0aW5nKTtcbiAgICBcbiAgfTtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgbmVzdGVkX2FycmF5X2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uKHN1YnN0ZXBwZXIpIHtzdWJzdGVwcGVyLnN0YXJ0X2FkYXB0YXRpb24oKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3N1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7IH0pO1xuICB9O1xuICBcbiAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge1xuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOyBcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGF1Z21lbnRzIHtNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIpO1xuICB9O1xuICBcbiAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7TXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcn1cbiAgICogQSBcInN1YmNsYXNzXCIgb2YgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovICAgIFxuICB2YXIgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBJbnRNZXRyb3BvbGlzU3RlcHBlcik7XG4gIH07XG4gIFxuICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuXG4gICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGVcbiAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgXG4gICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gIH07XG4gIFxuICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyO1xuICBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7XG4gICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTtcbiAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpO1xuICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zO1xuICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7XG4gICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyggTWF0aC5leHAoemVyb19sb2dfZGVucykgKyBNYXRoLmV4cChvbmVfbG9nX2RlbnMpICkgKTtcbiAgICBpZihNYXRoLnJhbmRvbSgpIDwgemVyb19wcm9iKSB7XG4gICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSAwO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBlbHNlIGtlZXAgdGhlIHBhcmFtIGF0IDEgLlxuICAgIHJldHVybiAxO1xuICB9O1xuICBcbiAgICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBKdXN0IGxpa2UgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciB0aGlzIFN0ZXBwZXIgdGFrZXMgYSBzdGVwcyBmb3JcbiAgICogYSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlciBieSB1cGRhdGluZyBlYWNoIGNvbXBvbmVudCBpbiB0dXJuLiBUaGUgZGlmZmVyZW5jZVxuICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5Q29tcG9uZW50U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICBcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB0aGlzLmRpbSA9IHBhcmFtLmRpbTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlDb21wb25lbnRTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgXG4gICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IFxuICAgICAgZnVuY3Rpb24oZGltLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgdmFyIGk7XG4gICAgICBpZihkaW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgdmFyIHN1YnBhcmFtcyA9IHt9O1xuICAgICAgICAgIHN1YnBhcmFtc1tpXSA9IHBhcmFtO1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IEJpbmFyeVN0ZXBwZXIoc3VicGFyYW1zLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0KTtcbiAgfTtcbiAgXG4gIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7XG4gIFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBUaGlzIHN0ZXBwZXIgY2FuIGJlIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgYSBzdGVwIGZvciBvbmUgb3IgbW9yZSBwYXJhbWV0ZXJzLlxuICAgKiBGb3IgcmVhbCBhbmQgaW50IHBhcmFtZXRlcnMgaXQgdGFrZXMgTWV0cm9wb2xpcyB3aXRoaW4gR2liYnMgc3RlcHMsIGFuZCBmb3IgXG4gICAqIGJpbmFyeSBwYXJhbWV0ZXJzIGl0IGRvZXMgZXZhbHVhdGVzIHRoZSBwb3N0ZXJpb3IgZm9yIGJvdGggcGFyYW10ZXIgdmFsdWVzIGFuZFxuICAgKiByYW5kb21seSBjaGFuZ2VzIHRvIGEgY2VydGFpbiB2YWx1ZSBwcm9wb3J0aW9uYWxseSB0byB0aGF0IHZhbHVlJ3MgcG9zdGVyaW9yXG4gICAqICh0aGlzIGlzIGFsc28gZG9uZSBmb3IgZWFjaCBwYXJhbWV0ZXIsIHNvIGFsc28gYSAqIHdpdGhpbiBHaWJicyBhcHByb2FjaCkuXG4gICAqIFRoaXMgc3RlcHBlciBpcyBhbHNvIGFkYXB0aXZlIGFuZCBjYW4gYmUgZWZmaWNpZW50IHdoZW4gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzXG4gICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIG9uZSBvciBtb3JlIHBhcmFtZXRlciBkZWZpbml0aW9uc1xuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQW13Z1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1fbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXTtcbiAgICAgIHZhciBTZWxlY3RTdGVwcGVyO1xuICAgICAgc3dpdGNoIChwYXJhbS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZWFsXCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW50XCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gSW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IEJpbmFyeVN0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlDb21wb25lbnRTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBcIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgXCIgKyB0aGlzLnBhcmFtX25hbWVzW2ldICArXCIgd2l0aCB0eXBlIFwiICsgcGFyYW0udHlwZTsgXG4gICAgICB9XG4gICAgICB2YXIgcGFyYW1fb2JqZWN0X3dyYXAgPSB7fTtcbiAgICAgIHBhcmFtX29iamVjdF93cmFwW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gcGFyYW07XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBwYXJhbV9vcHRpb25zID0gb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0gfHwge307XG4gICAgICBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlICAgICA9IHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgICAgIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5iYXRjaF9zaXplICAgICAgICAgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgICAgICAgICB8fCBvcHRpb25zLmJhdGNoX3NpemU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiAgICAgPSBwYXJhbV9vcHRpb25zLm1heF9hZGFwdGF0aW9uICAgICB8fCBvcHRpb25zLm1heF9hZGFwdGF0aW9uO1xuICAgICAgcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gPSBwYXJhbV9vcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbiB8fCBvcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbjtcbiAgICAgIHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlID0gcGFyYW1fb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGUgfHwgb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyAgICAgICAgPSBwYXJhbV9vcHRpb25zLmlzX2FkYXB0aW5nICAgICAgICB8fCBvcHRpb25zLmlzX2FkYXB0aW5nOyBcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTdGVwcGVyO1xuICBcbiAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3Vic3RlcHBlcnMpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0ZXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RhcnRfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7XG4gICAgfSBcbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZm8gPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaW5mb1t0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMuc3Vic3RlcHBlcnNbaV0uaW5mbygpO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfTtcbiAgXG4gIFxuICBcbiAgLy8vLy8vLy8vLy8gU2FtcGxlciBGdW5jdGlvbnMgLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBcbiAgIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIFdoaWxlIHlvdSBjb3VsZCBmaXQgYSBtb2RlbCBieSBwYXN0aW5nIHRvZ2V0aGVyIFN0ZXBwZXJzLCBhXG4gIC8vIFNhbXBsZXIgaXMgaGVyZSBpcyBhIGNvbnZlbmllbmNlIGNsYXNzIHdoZXJlIGFuIGluc3RhbmNlIG9mIFNhbXBsZXJcbiAgLy8gc2V0cyB1cCB0aGUgU3RlcHBlcnMsIGNoZWNrcyB0aGUgcGFyYW1ldGVyIGRlZmluaXRpb24sXG4gIC8vIGFuZCBtYW5hZ2VzIHRoZSBzYW1wbGluZy4gVGhpcyBoZXJlIGRlZmluZXMgdGhlIFNhbXBsZXIgXCJpbnRlcmZhY2VcIi5cbiAgICogQGludGVyZmFjZVxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICogICB7XCJtdVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwifSwgXCJzaWdtYVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwiLCBcImxvd2VyXCIgPSAwfX1cbiAgICogICBUaGUgcGFyYW1ldGVyIGRlZmluaXRpb25zIGRvZXNuJ3QgaGF2ZSB0byBiZSBcImNvbXBsZXRlXCIgYW5kIHByb3BlcnRpZXNcbiAgICogICBsZWZ0IG91dCAobGlrZSBsb3dlciBhbmQgdXBwZXIpIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGRlZmF1bHRzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHN0YXRlLCBkYXRhKS4gSGVyZVxuICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIFxuICAgKiAgIGtleSBhbmQgdGhlIHBhcmFtZXRlciB2YWx1ZXMgYXMgbnVtYmVycyBvciBhcnJheXMuIEZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IDMsIFwic2lnbWFcIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgXG4gICAqICAgdGhlIGRhdGEgYXJndW1lbnQgZ2l2ZW4gYmVsb3cuXG4gICAqIEBwYXJhbSBkYXRhIC0gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGxvZ19wb3N0IGZ1bmN0aW9uXG4gICAqICAgd2hlbiBzYW1wbGluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzYW1wbGVyLlxuICAgKi9cbiAgdmFyIFNhbXBsZXIgPSBmdW5jdGlvbihwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLnBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIFxuICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3RcbiAgICB0aGlzLnBhcmFtX2luaXRfZnVuICAgPSBnZXRfb3B0aW9uKFwicGFyYW1faW5pdF9mdW5cIiwgb3B0aW9ucywgcGFyYW1faW5pdF9maXhlZCk7XG4gICAgdmFyIHRoaW5uaW5nX2ludGVydmFsID0gZ2V0X29wdGlvbihcInRoaW5cIiwgb3B0aW9ucywgMSk7XG4gICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbihcIm1vbml0b3JcIiwgb3B0aW9ucywgbnVsbCk7XG4gICAgdGhpcy50aGluKHRoaW5uaW5nX2ludGVydmFsKTtcbiAgICB0aGlzLm1vbml0b3IocGFyYW1zX3RvX21vbml0b3IpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gQ29tcGxldGluZyB0aGUgcGFyYW1zIGFuZCBpbml0aWFsaXppbmcgdGhlIHN0YXRlLlxuICAgIHRoaXMucGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHRoaXMucGFyYW1zLCB0aGlzLnBhcmFtX2luaXRfZnVuKTtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbV9uYW1lcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHN0YXRlW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0uaW5pdDtcbiAgICB9XG4gICAgdGhpcy5sb2dfcG9zdCA9IGZ1bmN0aW9uKCkgeyBcbiAgICAgIHJldHVybiBsb2dfcG9zdChzdGF0ZSwgZGF0YSk7XG4gICAgfTtcbiAgICAvLyBSdW5uaW5nIHRoZSBsb2dfcG9zdCBmdW5jdGlvbiBvbmNlIGluIGNhc2UgaXQgZnVydGhlciBtb2RpZmllcyB0aGUgc3RhdGVcbiAgICAvLyBmb3IgZXhhbXBsZSBhZGRpbmcgZGVyaXZlZCBxdWFudGl0aWVzLlxuICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5zdGVwcGVycyA9IHRoaXMuY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUodGhpcy5wYXJhbXMsIHRoaXMuc3RhdGUsIHRoaXMubG9nX3Bvc3QsIHRoaXMub3B0aW9ucyk7XG4gIH07XG4gIFxuICAvKiogU2hvdWxkIHJldHVybiBhIHZlY3RvciBvZiBzdGVwcGVycyB0aGF0IHdoZW4gY2FsbGVkIFxuICAgKiBzaG91bGQgdGFrZSBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS5cbiAgICovXG4gIFNhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24oc3RhdGUsIGxvZ19wb3N0KXtcbiAgICB0aHJvdyBcIkV2ZXJ5IFNhbXBsZXIgbmVlZHMgdG8gaW1wbGVtZW50IGNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKClcIjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBTYW1wbGVyLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge3N0YXRlOiB0aGlzLnN0YXRlLCB0aGluOiB0aGlzLnRoaW4sIG1vbml0b3I6IHRoaXMubW9uaXRvcixcbiAgICAgICAgICAgIHN0ZXBwZXJzOiB0aGlzLnN0ZXBwZXJzfTtcbiAgfTtcbiAgXG4gIC8qKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gUmV0dXJucyB0aGUgbmV3IHNwYWNlXG4gICAqIGJ1dCBhbHNvIG1vZGlmaWVzIHRoZSBzdGF0ZSBpbiBwbGFjZS5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN0ZXBwZXJzKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7XG4gICAgfVxuICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpLmxlbmd0aCA+IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKS5sZW5ndGgpIHtcbiAgICAgIC8vIFRoZSBzdGF0ZSBjb250YWlucyBkZXZpdmVkIHF1YW50aXRpZXMgKG5vdCBvbmx5IHBhcmFtZXRlcnMpIGFuZCB3ZVxuICAgICAgLy8gbmVlZCB0byBydW4gdGhlIGxvZ19wb3N0IG9uY2UgbW9yZSBpbiBvcmRlciB0byBzZXQgdGhlIGRlcml2ZWQgcXVhbnRpdGllc1xuICAgICAgLy8gZm9yIHRoZSBmaW5hbCBwYXJhbWV0ZXIgc3RhdGVcbiAgICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb25zIHN0ZXBzIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UgYW5kIHJldHVybnMgdGhlbVxuICAgKiBhcyBhbiBvYmplY3Qgb2YgYXJyYXlzIHdpdGggb25lIGFycmF5IHBlciBwYXJhbWV0ZXIuIEZvciBleGFtcGxlOlxuICAgKiB7bXU6IFsxLCAtMSwgMiwgMywgLi4uXSwgc2lnbWE6IFsxLCAyLCAyLCAxLCAuLi5dfS5cbiAgICogSWYgdGhpbiBpcyA+IDEgdGhlbiBuX2l0ZXJhdGlvbnMgLyB0aGluIHNhbXBsZXMgYXJlIHJldHVybmVkLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgICAgLy8gSW5pdGlhbGl6aW5nIGN1cnJfc2FtcGxlIHdoZXJlIHRoZSBzYW1wbGUgaXMgZ29pbmcgdG8gYmUgc2F2ZWRcbiAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC5cbiAgICAgIHZhciBpLCBqLCBtb25pdG9yZWRfcGFyYW1zO1xuICAgICAgaWYodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9O1xuICAgICAgZm9yKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmb3IoaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICBpZihpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkge1xuICAgICAgICAgIGZvcihqID0gMDsgaiA8IG1vbml0b3JlZF9wYXJhbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07XG4gICAgICAgICAgICBjdXJyX3NhbXBsZVtwYXJhbV0ucHVzaCggY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGVwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3Vycl9zYW1wbGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb24gc3RlcHMgaW4gcGFyYW1ldGVyIHNwYWNlIGJ1dCByZXR1cm5zIG5vdGhpbmcuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgdGhpcy5zdGVwKCk7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIFNldHMgd2hhdCBwYXJhbWV0ZXJzIHNob3VsZCBiZSBtb25pdG9yZWQgYW5kIHJldHVybmVkIHdoZW4gY2FsbGluZ1xuICAgKiBzYW1wbGUuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUubW9uaXRvciA9IGZ1bmN0aW9uKHBhcmFtc190b19tb25pdG9yKSB7XG4gICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yXG4gICAqIGRyYXcgd2lsbCBiZSBrZXB0LlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnRoaW4gPSBmdW5jdGlvbih0aGlubmluZ19pbnRlcnZhbCkge1xuICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RhcnRfYWRhcHRhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIFNldHMgYWRhcHRhdGlvbiBvZmYsIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdG9wX2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U2FtcGxlcn1cbiAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIFxuICAgKiBBZGFwdGl2ZSBNZXRyb3BvbGlzLVdpdGhpbi1HaWJicyBhbGdvcml0aG0gaW4gXCJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DXCJcbiAgICogYnkgUm9iZXJ0cyBhbmQgUm9zZW50aGFsICgyMDA4KS4gQW4gYWRpdGlvbiBpcyB0aGF0IGl0IGhhbmRsZXMgaW50IHBhcmFtZXRlcnNcbiAgICogYnkgbWFraW5nIGRpc2NyZXRlIE5vcm1hbCBwcm9wb3NhbHMgYW5kIGJpbmFyeSBwYXJhbWV0ZXJzIGJ5IHRha2luZyBvbiBhIG5ldyBcbiAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlXG4gICAqIHBhcmFtZXRlci4gVGhpcyBzYW1wbGVyIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnNcbiAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBTYW1wbGVyLmNhbGwodGhpcywgcGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG4gIFxuICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTYW1wbGVyO1xuICBcbiAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpe1xuICAgIHJldHVybiBbIG5ldyBBbXdnU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgXTtcbiAgfTtcbiAgXG4gIFxuICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlXG4gIHJldHVybiB7XG4gICAgcnVuaWY6IHJ1bmlmLFxuICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSxcbiAgICBybm9ybTogcm5vcm0sXG4gICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwgXG4gICAgY29tcGxldGVfcGFyYW1zOiBjb21wbGV0ZV9wYXJhbXMsIFxuICAgIFJlYWxNZXRyb3BvbGlzU3RlcHBlcjogUmVhbE1ldHJvcG9saXNTdGVwcGVyLCBcbiAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsIFxuICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjogTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwgXG4gICAgQmluYXJ5Q29tcG9uZW50U3RlcHBlcjogQmluYXJ5Q29tcG9uZW50U3RlcHBlciwgXG4gICAgQW13Z1N0ZXBwZXI6IEFtd2dTdGVwcGVyLCBcbiAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXJcbiAgfTtcbn0pKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBudW1iZXIoeCkge1xuICByZXR1cm4geCA9PT0gbnVsbCA/IE5hTiA6ICt4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIG51bWJlcnModmFsdWVzLCB2YWx1ZW9mKSB7XG4gIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICh2YWx1ZSA9ICt2YWx1ZSkgPj0gdmFsdWUpIHtcbiAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBhc2NlbmRpbmcgZnJvbSBcIi4vYXNjZW5kaW5nLmpzXCI7XG5pbXBvcnQgcGVybXV0ZSBmcm9tIFwiLi9wZXJtdXRlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvcnQodmFsdWVzLCAuLi5GKSB7XG4gIGlmICh0eXBlb2YgdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0gIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbHVlcyBpcyBub3QgaXRlcmFibGVcIik7XG4gIHZhbHVlcyA9IEFycmF5LmZyb20odmFsdWVzKTtcbiAgbGV0IFtmXSA9IEY7XG4gIGlmICgoZiAmJiBmLmxlbmd0aCAhPT0gMikgfHwgRi5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKGQsIGkpID0+IGkpO1xuICAgIGlmIChGLmxlbmd0aCA+IDEpIHtcbiAgICAgIEYgPSBGLm1hcChmID0+IHZhbHVlcy5tYXAoZikpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgRikge1xuICAgICAgICAgIGNvbnN0IGMgPSBhc2NlbmRpbmdEZWZpbmVkKGZbaV0sIGZbal0pO1xuICAgICAgICAgIGlmIChjKSByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGYgPSB2YWx1ZXMubWFwKGYpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4gYXNjZW5kaW5nRGVmaW5lZChmW2ldLCBmW2pdKSk7XG4gICAgfVxuICAgIHJldHVybiBwZXJtdXRlKHZhbHVlcywgaW5kZXgpO1xuICB9XG4gIHJldHVybiB2YWx1ZXMuc29ydChjb21wYXJlRGVmaW5lZChmKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nKSB7XG4gIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmcpIHJldHVybiBhc2NlbmRpbmdEZWZpbmVkO1xuICBpZiAodHlwZW9mIGNvbXBhcmUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGNvbnN0IHggPSBjb21wYXJlKGEsIGIpO1xuICAgIGlmICh4IHx8IHggPT09IDApIHJldHVybiB4O1xuICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHtcbiAgcmV0dXJuIChhID09IG51bGwgfHwgIShhID49IGEpKSAtIChiID09IG51bGwgfHwgIShiID49IGIpKSB8fCAoYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF4KHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWF4O1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWluO1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWluO1xufVxuIiwiaW1wb3J0IHthc2NlbmRpbmdEZWZpbmVkLCBjb21wYXJlRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdFxuLy8gSVNDIGxpY2Vuc2UsIENvcHlyaWdodCAyMDE4IFZsYWRpbWlyIEFnYWZvbmtpbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1aWNrc2VsZWN0KGFycmF5LCBrLCBsZWZ0ID0gMCwgcmlnaHQgPSBJbmZpbml0eSwgY29tcGFyZSkge1xuICBrID0gTWF0aC5mbG9vcihrKTtcbiAgbGVmdCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgbGVmdCkpO1xuICByaWdodCA9IE1hdGguZmxvb3IoTWF0aC5taW4oYXJyYXkubGVuZ3RoIC0gMSwgcmlnaHQpKTtcblxuICBpZiAoIShsZWZ0IDw9IGsgJiYgayA8PSByaWdodCkpIHJldHVybiBhcnJheTtcblxuICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpO1xuXG4gIHdoaWxlIChyaWdodCA+IGxlZnQpIHtcbiAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICBjb25zdCBuID0gcmlnaHQgLSBsZWZ0ICsgMTtcbiAgICAgIGNvbnN0IG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7XG4gICAgICBjb25zdCBzID0gMC41ICogTWF0aC5leHAoMiAqIHogLyAzKTtcbiAgICAgIGNvbnN0IHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICBjb25zdCBuZXdSaWdodCA9IE1hdGgubWluKHJpZ2h0LCBNYXRoLmZsb29yKGsgKyAobiAtIG0pICogcyAvIG4gKyBzZCkpO1xuICAgICAgcXVpY2tzZWxlY3QoYXJyYXksIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBjb21wYXJlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ID0gYXJyYXlba107XG4gICAgbGV0IGkgPSBsZWZ0O1xuICAgIGxldCBqID0gcmlnaHQ7XG5cbiAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTtcbiAgICBpZiAoY29tcGFyZShhcnJheVtyaWdodF0sIHQpID4gMCkgc3dhcChhcnJheSwgbGVmdCwgcmlnaHQpO1xuXG4gICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICBzd2FwKGFycmF5LCBpLCBqKSwgKytpLCAtLWo7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtpXSwgdCkgPCAwKSArK2k7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtcbiAgICBlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpO1xuXG4gICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHtcbiAgY29uc3QgdCA9IGFycmF5W2ldO1xuICBhcnJheVtpXSA9IGFycmF5W2pdO1xuICBhcnJheVtqXSA9IHQ7XG59XG4iLCJpbXBvcnQgbWF4IGZyb20gXCIuL21heC5qc1wiO1xuaW1wb3J0IG1heEluZGV4IGZyb20gXCIuL21heEluZGV4LmpzXCI7XG5pbXBvcnQgbWluIGZyb20gXCIuL21pbi5qc1wiO1xuaW1wb3J0IG1pbkluZGV4IGZyb20gXCIuL21pbkluZGV4LmpzXCI7XG5pbXBvcnQgcXVpY2tzZWxlY3QgZnJvbSBcIi4vcXVpY2tzZWxlY3QuanNcIjtcbmltcG9ydCBudW1iZXIsIHtudW1iZXJzfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmltcG9ydCB7YXNjZW5kaW5nRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IGdyZWF0ZXN0IGZyb20gXCIuL2dyZWF0ZXN0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YW50aWxlKHZhbHVlcywgcCwgdmFsdWVvZikge1xuICB2YWx1ZXMgPSBGbG9hdDY0QXJyYXkuZnJvbShudW1iZXJzKHZhbHVlcywgdmFsdWVvZikpO1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gbWluKHZhbHVlcyk7XG4gIGlmIChwID49IDEpIHJldHVybiBtYXgodmFsdWVzKTtcbiAgdmFyIG4sXG4gICAgICBpID0gKG4gLSAxKSAqIHAsXG4gICAgICBpMCA9IE1hdGguZmxvb3IoaSksXG4gICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksXG4gICAgICB2YWx1ZTEgPSBtaW4odmFsdWVzLnN1YmFycmF5KGkwICsgMSkpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlU29ydGVkKHZhbHVlcywgcCwgdmFsdWVvZiA9IG51bWJlcikge1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzWzBdLCAwLCB2YWx1ZXMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzW24gLSAxXSwgbiAtIDEsIHZhbHVlcyk7XG4gIHZhciBuLFxuICAgICAgaSA9IChuIC0gMSkgKiBwLFxuICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLFxuICAgICAgdmFsdWUwID0gK3ZhbHVlb2YodmFsdWVzW2kwXSwgaTAsIHZhbHVlcyksXG4gICAgICB2YWx1ZTEgPSArdmFsdWVvZih2YWx1ZXNbaTAgKyAxXSwgaTAgKyAxLCB2YWx1ZXMpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlSW5kZXgodmFsdWVzLCBwLCB2YWx1ZW9mID0gbnVtYmVyKSB7XG4gIGlmIChpc05hTihwID0gK3ApKSByZXR1cm47XG4gIG51bWJlcnMgPSBGbG9hdDY0QXJyYXkuZnJvbSh2YWx1ZXMsIChfLCBpKSA9PiBudW1iZXIodmFsdWVvZih2YWx1ZXNbaV0sIGksIHZhbHVlcykpKTtcbiAgaWYgKHAgPD0gMCkgcmV0dXJuIG1pbkluZGV4KG51bWJlcnMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gbWF4SW5kZXgobnVtYmVycyk7XG4gIHZhciBudW1iZXJzLFxuICAgICAgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKF8sIGkpID0+IGkpLFxuICAgICAgaiA9IG51bWJlcnMubGVuZ3RoIC0gMSxcbiAgICAgIGkgPSBNYXRoLmZsb29yKGogKiBwKTtcbiAgcXVpY2tzZWxlY3QoaW5kZXgsIGksIDAsIGosIChpLCBqKSA9PiBhc2NlbmRpbmdEZWZpbmVkKG51bWJlcnNbaV0sIG51bWJlcnNbal0pKTtcbiAgaSA9IGdyZWF0ZXN0KGluZGV4LnN1YmFycmF5KDAsIGkgKyAxKSwgKGkpID0+IG51bWJlcnNbaV0pO1xuICByZXR1cm4gaSA+PSAwID8gaSA6IC0xO1xufVxuIiwiaW1wb3J0IHF1YW50aWxlLCB7cXVhbnRpbGVJbmRleH0gZnJvbSBcIi4vcXVhbnRpbGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVkaWFuKHZhbHVlcywgdmFsdWVvZikge1xuICByZXR1cm4gcXVhbnRpbGUodmFsdWVzLCAwLjUsIHZhbHVlb2YpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFuSW5kZXgodmFsdWVzLCB2YWx1ZW9mKSB7XG4gIHJldHVybiBxdWFudGlsZUluZGV4KHZhbHVlcywgMC41LCB2YWx1ZW9mKTtcbn1cbiIsInZhciBub29wID0ge3ZhbHVlOiAoKSA9PiB7fX07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkge1xuICAgIGlmICghKHQgPSBhcmd1bWVudHNbaV0gKyBcIlwiKSB8fCAodCBpbiBfKSB8fCAvW1xccy5dLy50ZXN0KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHR5cGU6IFwiICsgdCk7XG4gICAgX1t0XSA9IFtdO1xuICB9XG4gIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7XG59XG5cbmZ1bmN0aW9uIERpc3BhdGNoKF8pIHtcbiAgdGhpcy5fID0gXztcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzLCB0eXBlcykge1xuICByZXR1cm4gdHlwZW5hbWVzLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbmFtZSA9IFwiXCIsIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIG5hbWUgPSB0LnNsaWNlKGkgKyAxKSwgdCA9IHQuc2xpY2UoMCwgaSk7XG4gICAgaWYgKHQgJiYgIXR5cGVzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdCk7XG4gICAgcmV0dXJuIHt0eXBlOiB0LCBuYW1lOiBuYW1lfTtcbiAgfSk7XG59XG5cbkRpc3BhdGNoLnByb3RvdHlwZSA9IGRpc3BhdGNoLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IERpc3BhdGNoLFxuICBvbjogZnVuY3Rpb24odHlwZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF8gPSB0aGlzLl8sXG4gICAgICAgIFQgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIsIF8pLFxuICAgICAgICB0LFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSBULmxlbmd0aDtcblxuICAgIC8vIElmIG5vIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJldHVybiB0aGUgY2FsbGJhY2sgb2YgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB3aGlsZSAoKytpIDwgbikgaWYgKCh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgJiYgKHQgPSBnZXQoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHR5cGUgd2FzIHNwZWNpZmllZCwgc2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsYmFjazogXCIgKyBjYWxsYmFjayk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGlmICh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBjYWxsYmFjayk7XG4gICAgICBlbHNlIGlmIChjYWxsYmFjayA9PSBudWxsKSBmb3IgKHQgaW4gXykgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvcHkgPSB7fSwgXyA9IHRoaXMuXztcbiAgICBmb3IgKHZhciB0IGluIF8pIGNvcHlbdF0gPSBfW3RdLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTtcbiAgfSxcbiAgY2FsbDogZnVuY3Rpb24odHlwZSwgdGhhdCkge1xuICAgIGlmICgobiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyKSA+IDApIGZvciAodmFyIGFyZ3MgPSBuZXcgQXJyYXkobiksIGkgPSAwLCBuLCB0OyBpIDwgbjsgKytpKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHR5cGUsIHRoYXQsIGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodmFyIHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldCh0eXBlLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGgsIGM7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHR5cGUsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAodHlwZVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICB0eXBlW2ldID0gbm9vcCwgdHlwZSA9IHR5cGUuc2xpY2UoMCwgaSkuY29uY2F0KHR5cGUuc2xpY2UoaSArIDEpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTogY2FsbGJhY2t9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3BhdGNoO1xuIiwiZXhwb3J0IHZhciB4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB4aHRtbDogeGh0bWwsXG4gIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgeG1sOiBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiXG59O1xuIiwiaW1wb3J0IG5hbWVzcGFjZXMgZnJvbSBcIi4vbmFtZXNwYWNlcy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBwcmVmaXggPSBuYW1lICs9IFwiXCIsIGkgPSBwcmVmaXguaW5kZXhPZihcIjpcIik7XG4gIGlmIChpID49IDAgJiYgKHByZWZpeCA9IG5hbWUuc2xpY2UoMCwgaSkpICE9PSBcInhtbG5zXCIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTtcbiAgcmV0dXJuIG5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSA/IHtzcGFjZTogbmFtZXNwYWNlc1twcmVmaXhdLCBsb2NhbDogbmFtZX0gOiBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xufVxuIiwiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi9uYW1lc3BhY2UuanNcIjtcbmltcG9ydCB7eGh0bWx9IGZyb20gXCIuL25hbWVzcGFjZXMuanNcIjtcblxuZnVuY3Rpb24gY3JlYXRvckluaGVyaXQobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gdGhpcy5vd25lckRvY3VtZW50LFxuICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTtcbiAgICByZXR1cm4gdXJpID09PSB4aHRtbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSB4aHRtbFxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModXJpLCBuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRvckZpeGVkKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIChmdWxsbmFtZS5sb2NhbFxuICAgICAgPyBjcmVhdG9yRml4ZWRcbiAgICAgIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIG5vbmUoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IG5vbmUgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgIT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gc2VsZWN0b3Ioc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBzdWJub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkge1xuICAgICAgICBpZiAoXCJfX2RhdGFfX1wiIGluIG5vZGUpIHN1Ym5vZGUuX19kYXRhX18gPSBub2RlLl9fZGF0YV9fO1xuICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsIi8vIEdpdmVuIHNvbWV0aGluZyBhcnJheSBsaWtlIChvciBudWxsKSwgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBpcyBzdHJpY3RseSBhblxuLy8gYXJyYXkuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBhcnJheS1saWtlIG9iamVjdHMgcGFzc2VkIHRvIGQzLnNlbGVjdEFsbFxuLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGFcbi8vIHNlbGVjdGlvbjsgd2UgZG9u4oCZdCBldmVyIHdhbnQgdG8gY3JlYXRlIGEgc2VsZWN0aW9uIGJhY2tlZCBieSBhIGxpdmVcbi8vIEhUTUxDb2xsZWN0aW9uIG9yIE5vZGVMaXN0LiBIb3dldmVyLCBub3RlIHRoYXQgc2VsZWN0aW9uLnNlbGVjdEFsbCB3aWxsIHVzZSBhXG4vLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXkoeCkge1xuICByZXR1cm4geCA9PSBudWxsID8gW10gOiBBcnJheS5pc0FycmF5KHgpID8geCA6IEFycmF5LmZyb20oeCk7XG59XG4iLCJmdW5jdGlvbiBlbXB0eSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IGVtcHR5IDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIH07XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBhcnJheSBmcm9tIFwiLi4vYXJyYXkuanNcIjtcbmltcG9ydCBzZWxlY3RvckFsbCBmcm9tIFwiLi4vc2VsZWN0b3JBbGwuanNcIjtcblxuZnVuY3Rpb24gYXJyYXlBbGwoc2VsZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYXJyYXkoc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgPT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gYXJyYXlBbGwoc2VsZWN0KTtcbiAgZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IFtdLCBwYXJlbnRzID0gW10sIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSk7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHBhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRNYXRjaGVyKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH07XG59XG5cbiIsImltcG9ydCB7Y2hpbGRNYXRjaGVyfSBmcm9tIFwiLi4vbWF0Y2hlci5qc1wiO1xuXG52YXIgZmluZCA9IEFycmF5LnByb3RvdHlwZS5maW5kO1xuXG5mdW5jdGlvbiBjaGlsZEZpbmQobWF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmaW5kLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjaGlsZEZpcnN0KCkge1xuICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0XG4gICAgICA6IGNoaWxkRmluZCh0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpO1xufVxuIiwiaW1wb3J0IHtjaGlsZE1hdGNoZXJ9IGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbnZhciBmaWx0ZXIgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyO1xuXG5mdW5jdGlvbiBjaGlsZHJlbigpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuRmlsdGVyKG1hdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuXG4gICAgICA6IGNoaWxkcmVuRmlsdGVyKHR5cGVvZiBtYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBtYXRjaGVyIGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIGlmICh0eXBlb2YgbWF0Y2ggIT09IFwiZnVuY3Rpb25cIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHtcbiAgICAgICAgc3ViZ3JvdXAucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXBkYXRlKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7XG59XG4iLCJpbXBvcnQgc3BhcnNlIGZyb20gXCIuL3NwYXJzZS5qc1wiO1xuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRW50ZXJOb2RlKHBhcmVudCwgZGF0dW0pIHtcbiAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHRoaXMubmFtZXNwYWNlVVJJID0gcGFyZW50Lm5hbWVzcGFjZVVSSTtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fX2RhdGFfXyA9IGRhdHVtO1xufVxuXG5FbnRlck5vZGUucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRW50ZXJOb2RlLFxuICBhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHRoaXMuX25leHQpOyB9LFxuICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKGNoaWxkLCBuZXh0KSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBuZXh0KTsgfSxcbiAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsgfSxcbiAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQge0VudGVyTm9kZX0gZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgbm9kZSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBmaXQgaW50byB1cGRhdGUuXG4gIC8vIFB1dCBhbnkgbnVsbCBub2RlcyBpbnRvIGVudGVyLlxuICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuXG4gIGZvciAoOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZG9u4oCZdCBmaXQgaW50byBleGl0LlxuICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmluZEtleShwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhLCBrZXkpIHtcbiAgdmFyIGksXG4gICAgICBub2RlLFxuICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwLFxuICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICBrZXlWYWx1ZXMgPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpLFxuICAgICAga2V5VmFsdWU7XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIG5vZGUuXG4gIC8vIElmIG11bHRpcGxlIG5vZGVzIGhhdmUgdGhlIHNhbWUga2V5LCB0aGUgZHVwbGljYXRlcyBhcmUgYWRkZWQgdG8gZXhpdC5cbiAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBrZXlWYWx1ZXNbaV0gPSBrZXlWYWx1ZSA9IGtleS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSArIFwiXCI7XG4gICAgICBpZiAobm9kZUJ5S2V5VmFsdWUuaGFzKGtleVZhbHVlKSkge1xuICAgICAgICBleGl0W2ldID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVCeUtleVZhbHVlLnNldChrZXlWYWx1ZSwgbm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIGRhdHVtLlxuICAvLyBJZiB0aGVyZSBhIG5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMga2V5LCBqb2luIGFuZCBhZGQgaXQgdG8gdXBkYXRlLlxuICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuXG4gIGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyArK2kpIHtcbiAgICBrZXlWYWx1ZSA9IGtleS5jYWxsKHBhcmVudCwgZGF0YVtpXSwgaSwgZGF0YSkgKyBcIlwiO1xuICAgIGlmIChub2RlID0gbm9kZUJ5S2V5VmFsdWUuZ2V0KGtleVZhbHVlKSkge1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgbm9kZUJ5S2V5VmFsdWUuZGVsZXRlKGtleVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIGFueSByZW1haW5pbmcgbm9kZXMgdGhhdCB3ZXJlIG5vdCBib3VuZCB0byBkYXRhIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkpIHtcbiAgICAgIGV4aXRbaV0gPSBub2RlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkYXR1bShub2RlKSB7XG4gIHJldHVybiBub2RlLl9fZGF0YV9fO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIEFycmF5LmZyb20odGhpcywgZGF0dW0pO1xuXG4gIHZhciBiaW5kID0ga2V5ID8gYmluZEtleSA6IGJpbmRJbmRleCxcbiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLFxuICAgICAgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSBjb25zdGFudCh2YWx1ZSk7XG5cbiAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgdmFyIHBhcmVudCA9IHBhcmVudHNbal0sXG4gICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLFxuICAgICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgICAgZGF0YSA9IGFycmF5bGlrZSh2YWx1ZS5jYWxsKHBhcmVudCwgcGFyZW50ICYmIHBhcmVudC5fX2RhdGFfXywgaiwgcGFyZW50cykpLFxuICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgIGVudGVyR3JvdXAgPSBlbnRlcltqXSA9IG5ldyBBcnJheShkYXRhTGVuZ3RoKSxcbiAgICAgICAgdXBkYXRlR3JvdXAgPSB1cGRhdGVbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpO1xuXG4gICAgYmluZChwYXJlbnQsIGdyb3VwLCBlbnRlckdyb3VwLCB1cGRhdGVHcm91cCwgZXhpdEdyb3VwLCBkYXRhLCBrZXkpO1xuXG4gICAgLy8gTm93IGNvbm5lY3QgdGhlIGVudGVyIG5vZGVzIHRvIHRoZWlyIGZvbGxvd2luZyB1cGRhdGUgbm9kZSwgc3VjaCB0aGF0XG4gICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSxcbiAgICAvLyByYXRoZXIgdGhhbiBhdCB0aGUgZW5kIG9mIHRoZSBwYXJlbnQgbm9kZS5cbiAgICBmb3IgKHZhciBpMCA9IDAsIGkxID0gMCwgcHJldmlvdXMsIG5leHQ7IGkwIDwgZGF0YUxlbmd0aDsgKytpMCkge1xuICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHtcbiAgICAgICAgaWYgKGkwID49IGkxKSBpMSA9IGkwICsgMTtcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IHVwZGF0ZUdyb3VwW2kxXSkgJiYgKytpMSA8IGRhdGFMZW5ndGgpO1xuICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUgPSBuZXcgU2VsZWN0aW9uKHVwZGF0ZSwgcGFyZW50cyk7XG4gIHVwZGF0ZS5fZW50ZXIgPSBlbnRlcjtcbiAgdXBkYXRlLl9leGl0ID0gZXhpdDtcbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuLy8gR2l2ZW4gc29tZSBkYXRhLCB0aGlzIHJldHVybnMgYW4gYXJyYXktbGlrZSB2aWV3IG9mIGl0OiBhbiBvYmplY3QgdGhhdFxuLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2Vcbi8vIHNlbGVjdEFsbCwgdGhpcyBpc27igJl0IHdvcnJpZWQgYWJvdXQg4oCcbGl2ZeKAnSBjb2xsZWN0aW9ucyBiZWNhdXNlIHRoZSByZXN1bHRpbmdcbi8vIGFycmF5IHdpbGwgb25seSBiZSB1c2VkIGJyaWVmbHkgd2hpbGUgZGF0YSBpcyBiZWluZyBib3VuZC4gKEl0IGlzIHBvc3NpYmxlIHRvXG4vLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlXG4vLyBkb27igJl0OyB3ZeKAmWQgcmF0aGVyIGF2b2lkIGEgZ3JhdHVpdG91cyBjb3B5LilcbmZ1bmN0aW9uIGFycmF5bGlrZShkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImxlbmd0aFwiIGluIGRhdGFcbiAgICA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlXG4gICAgOiBBcnJheS5mcm9tKGRhdGEpOyAvLyBNYXAsIFNldCwgaXRlcmFibGUsIHN0cmluZywgb3IgYW55dGhpbmcgZWxzZVxufVxuIiwiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2UuanNcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZXhpdCB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob25lbnRlciwgb251cGRhdGUsIG9uZXhpdCkge1xuICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksIHVwZGF0ZSA9IHRoaXMsIGV4aXQgPSB0aGlzLmV4aXQoKTtcbiAgaWYgKHR5cGVvZiBvbmVudGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpO1xuICAgIGlmIChlbnRlcikgZW50ZXIgPSBlbnRlci5zZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgXCJcIik7XG4gIH1cbiAgaWYgKG9udXBkYXRlICE9IG51bGwpIHtcbiAgICB1cGRhdGUgPSBvbnVwZGF0ZSh1cGRhdGUpO1xuICAgIGlmICh1cGRhdGUpIHVwZGF0ZSA9IHVwZGF0ZS5zZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAob25leGl0ID09IG51bGwpIGV4aXQucmVtb3ZlKCk7IGVsc2Ugb25leGl0KGV4aXQpO1xuICByZXR1cm4gZW50ZXIgJiYgdXBkYXRlID8gZW50ZXIubWVyZ2UodXBkYXRlKS5vcmRlcigpIDogdXBkYXRlO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHNlbGVjdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gLTEsIG0gPSBncm91cHMubGVuZ3RoOyArK2ogPCBtOykge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgaWYgKG5leHQgJiYgbm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0KSBeIDQpIG5leHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCk7XG4gICAgICAgIG5leHQgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVOb2RlKGEsIGIpIHtcbiAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzb3J0Z3JvdXAgPSBzb3J0Z3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzb3J0Z3JvdXBzLCB0aGlzLl9wYXJlbnRzKS5vcmRlcigpO1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzBdO1xuICBhcmd1bWVudHNbMF0gPSB0aGlzO1xuICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICB2YXIgbm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG5vZGUpIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIGxldCBzaXplID0gMDtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMubm9kZSgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgbmFtZXNwYWNlIGZyb20gXCIuLi9uYW1lc3BhY2UuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgcmV0dXJuIGZ1bGxuYW1lLmxvY2FsXG4gICAgICAgID8gbm9kZS5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpXG4gICAgICAgIDogbm9kZS5nZXRBdHRyaWJ1dGUoZnVsbG5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbilcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKSkoZnVsbG5hbWUsIHZhbHVlKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiAobm9kZS5vd25lckRvY3VtZW50ICYmIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgLy8gbm9kZSBpcyBhIE5vZGVcbiAgICAgIHx8IChub2RlLmRvY3VtZW50ICYmIG5vZGUpIC8vIG5vZGUgaXMgYSBXaW5kb3dcbiAgICAgIHx8IG5vZGUuZGVmYXVsdFZpZXc7IC8vIG5vZGUgaXMgYSBEb2N1bWVudFxufVxuIiwiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3cuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2LCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICA/IHN0eWxlUmVtb3ZlIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gc3R5bGVGdW5jdGlvblxuICAgICAgICAgICAgOiBzdHlsZUNvbnN0YW50KShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpXG4gICAgICA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVWYWx1ZShub2RlLCBuYW1lKSB7XG4gIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSlcbiAgICAgIHx8IGRlZmF1bHRWaWV3KG5vZGUpLmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIHByb3BlcnR5UmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzW25hbWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSBkZWxldGUgdGhpc1tuYW1lXTtcbiAgICBlbHNlIHRoaXNbbmFtZV0gPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBwcm9wZXJ0eUZ1bmN0aW9uXG4gICAgICAgICAgOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpW25hbWVdO1xufVxuIiwiZnVuY3Rpb24gY2xhc3NBcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XFxzKy8pO1xufVxuXG5mdW5jdGlvbiBjbGFzc0xpc3Qobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHtcbiAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gIHRoaXMuX25hbWVzID0gY2xhc3NBcnJheShub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpO1xufVxuXG5DbGFzc0xpc3QucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5fbmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICBjb250YWluczogZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNsYXNzZWRBZGQobm9kZSwgbmFtZXMpIHtcbiAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5yZW1vdmUobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkVHJ1ZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZEFkZCh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGdW5jdGlvbihuYW1lcywgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICh2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpID8gY2xhc3NlZEFkZCA6IGNsYXNzZWRSZW1vdmUpKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIG5hbWVzID0gY2xhc3NBcnJheShuYW1lICsgXCJcIik7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIGxpc3QgPSBjbGFzc0xpc3QodGhpcy5ub2RlKCkpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gICAgd2hpbGUgKCsraSA8IG4pIGlmICghbGlzdC5jb250YWlucyhuYW1lc1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGNsYXNzZWRGdW5jdGlvbiA6IHZhbHVlXG4gICAgICA/IGNsYXNzZWRUcnVlXG4gICAgICA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7XG59XG4iLCJmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkge1xuICB0aGlzLnRleHRDb250ZW50ID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHRleHRGdW5jdGlvblxuICAgICAgICAgIDogdGV4dENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50O1xufVxuIiwiZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHtcbiAgdGhpcy5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBodG1sQ29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdiA9PSBudWxsID8gXCJcIiA6IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBodG1sUmVtb3ZlIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBodG1sRnVuY3Rpb25cbiAgICAgICAgICA6IGh0bWxDb25zdGFudCkodmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJmdW5jdGlvbiByYWlzZSgpIHtcbiAgaWYgKHRoaXMubmV4dFNpYmxpbmcpIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmFpc2UpO1xufVxuIiwiZnVuY3Rpb24gbG93ZXIoKSB7XG4gIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTtcbn1cbiIsImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGVuZENoaWxkKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgY3JlYXRvciBmcm9tIFwiLi4vY3JlYXRvci5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5mdW5jdGlvbiBjb25zdGFudE51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBiZWZvcmUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSxcbiAgICAgIHNlbGVjdCA9IGJlZm9yZSA9PSBudWxsID8gY29uc3RhbnROdWxsIDogdHlwZW9mIGJlZm9yZSA9PT0gXCJmdW5jdGlvblwiID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwiZnVuY3Rpb24gcmVtb3ZlKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJlbW92ZSk7XG59XG4iLCJmdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZShmYWxzZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKHRydWUpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWVwKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChkZWVwID8gc2VsZWN0aW9uX2Nsb25lRGVlcCA6IHNlbGVjdGlvbl9jbG9uZVNoYWxsb3cpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5wcm9wZXJ0eShcIl9fZGF0YV9fXCIsIHZhbHVlKVxuICAgICAgOiB0aGlzLm5vZGUoKS5fX2RhdGFfXztcbn1cbiIsImZ1bmN0aW9uIGNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0aGlzLl9fZGF0YV9fKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25SZW1vdmUodHlwZW5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbiA9IHRoaXMuX19vbjtcbiAgICBpZiAoIW9uKSByZXR1cm47XG4gICAgZm9yICh2YXIgaiA9IDAsIGkgPSAtMSwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgaWYgKG8gPSBvbltqXSwgKCF0eXBlbmFtZS50eXBlIHx8IG8udHlwZSA9PT0gdHlwZW5hbWUudHlwZSkgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblsrK2ldID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCsraSkgb24ubGVuZ3RoID0gaTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9fb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uLCBvLCBsaXN0ZW5lciA9IGNvbnRleHRMaXN0ZW5lcih2YWx1ZSk7XG4gICAgaWYgKG9uKSBmb3IgKHZhciBqID0gMCwgbSA9IG9uLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIgPSBsaXN0ZW5lciwgby5vcHRpb25zID0gb3B0aW9ucyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZW5hbWUudHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIG8gPSB7dHlwZTogdHlwZW5hbWUudHlwZSwgbmFtZTogdHlwZW5hbWUubmFtZSwgdmFsdWU6IHZhbHVlLCBsaXN0ZW5lcjogbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnN9O1xuICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtcbiAgICBlbHNlIG9uLnB1c2gobyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdHlwZW5hbWVzID0gcGFyc2VUeXBlbmFtZXModHlwZW5hbWUgKyBcIlwiKSwgaSwgbiA9IHR5cGVuYW1lcy5sZW5ndGgsIHQ7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIG9uID0gdGhpcy5ub2RlKCkuX19vbjtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBmb3IgKGkgPSAwLCBvID0gb25bal07IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKCh0ID0gdHlwZW5hbWVzW2ldKS50eXBlID09PSBvLnR5cGUgJiYgdC5uYW1lID09PSBvLm5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gby52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBvbiA9IHZhbHVlID8gb25BZGQgOiBvblJlbW92ZTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkgdGhpcy5lYWNoKG9uKHR5cGVuYW1lc1tpXSwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvdy5qc1wiO1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykge1xuICB2YXIgd2luZG93ID0gZGVmYXVsdFZpZXcobm9kZSksXG4gICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBldmVudCA9IG5ldyBldmVudCh0eXBlLCBwYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgaWYgKHBhcmFtcykgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSksIGV2ZW50LmRldGFpbCA9IHBhcmFtcy5kZXRhaWw7XG4gICAgZWxzZSBldmVudC5pbml0RXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29uc3RhbnQodHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCB0eXBlLCBwYXJhbXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGRpc3BhdGNoRnVuY3Rpb25cbiAgICAgIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiooKSB7XG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB5aWVsZCBub2RlO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGwuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQgZnJvbSBcIi4vc2VsZWN0Q2hpbGQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gZnJvbSBcIi4vc2VsZWN0Q2hpbGRyZW4uanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXRhIGZyb20gXCIuL2RhdGEuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW50ZXIgZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZXhpdCBmcm9tIFwiLi9leGl0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2pvaW4gZnJvbSBcIi4vam9pbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vcmRlciBmcm9tIFwiLi9vcmRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zb3J0IGZyb20gXCIuL3NvcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2FsbCBmcm9tIFwiLi9jYWxsLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGVzIGZyb20gXCIuL25vZGVzLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGUgZnJvbSBcIi4vbm9kZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zaXplIGZyb20gXCIuL3NpemUuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW1wdHkgZnJvbSBcIi4vZW1wdHkuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZWFjaCBmcm9tIFwiLi9lYWNoLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9wcm9wZXJ0eSBmcm9tIFwiLi9wcm9wZXJ0eS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbGFzc2VkIGZyb20gXCIuL2NsYXNzZWQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2h0bWwgZnJvbSBcIi4vaHRtbC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9yYWlzZSBmcm9tIFwiLi9yYWlzZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9sb3dlciBmcm9tIFwiLi9sb3dlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9hcHBlbmQgZnJvbSBcIi4vYXBwZW5kLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2luc2VydCBmcm9tIFwiLi9pbnNlcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbG9uZSBmcm9tIFwiLi9jbG9uZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXR1bSBmcm9tIFwiLi9kYXR1bS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kaXNwYXRjaCBmcm9tIFwiLi9kaXNwYXRjaC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9pdGVyYXRvciBmcm9tIFwiLi9pdGVyYXRvci5qc1wiO1xuXG5leHBvcnQgdmFyIHJvb3QgPSBbbnVsbF07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWxlY3Rpb24oZ3JvdXBzLCBwYXJlbnRzKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufVxuXG5TZWxlY3Rpb24ucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNlbGVjdGlvbixcbiAgc2VsZWN0OiBzZWxlY3Rpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHNlbGVjdGlvbl9zZWxlY3RBbGwsXG4gIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsXG4gIHNlbGVjdENoaWxkcmVuOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogc2VsZWN0aW9uX2ZpbHRlcixcbiAgZGF0YTogc2VsZWN0aW9uX2RhdGEsXG4gIGVudGVyOiBzZWxlY3Rpb25fZW50ZXIsXG4gIGV4aXQ6IHNlbGVjdGlvbl9leGl0LFxuICBqb2luOiBzZWxlY3Rpb25fam9pbixcbiAgbWVyZ2U6IHNlbGVjdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiBzZWxlY3Rpb25fc2VsZWN0aW9uLFxuICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLFxuICBzb3J0OiBzZWxlY3Rpb25fc29ydCxcbiAgY2FsbDogc2VsZWN0aW9uX2NhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX2VhY2gsXG4gIGF0dHI6IHNlbGVjdGlvbl9hdHRyLFxuICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLFxuICBwcm9wZXJ0eTogc2VsZWN0aW9uX3Byb3BlcnR5LFxuICBjbGFzc2VkOiBzZWxlY3Rpb25fY2xhc3NlZCxcbiAgdGV4dDogc2VsZWN0aW9uX3RleHQsXG4gIGh0bWw6IHNlbGVjdGlvbl9odG1sLFxuICByYWlzZTogc2VsZWN0aW9uX3JhaXNlLFxuICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLFxuICBhcHBlbmQ6IHNlbGVjdGlvbl9hcHBlbmQsXG4gIGluc2VydDogc2VsZWN0aW9uX2luc2VydCxcbiAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLFxuICBjbG9uZTogc2VsZWN0aW9uX2Nsb25lLFxuICBkYXR1bTogc2VsZWN0aW9uX2RhdHVtLFxuICBvbjogc2VsZWN0aW9uX29uLFxuICBkaXNwYXRjaDogc2VsZWN0aW9uX2Rpc3BhdGNoLFxuICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX2l0ZXJhdG9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb247XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pXFxcXHMqXCIsXG4gICAgcmVQID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pJVxcXFxzKlwiLFxuICAgIHJlSGV4ID0gL14jKFswLTlhLWZdezMsOH0pJC8sXG4gICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX1cXFxcKSRgKSxcbiAgICByZVJnYlBlcmNlbnQgPSBuZXcgUmVnRXhwKGBecmdiXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKGBecmdiYVxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFxcXCkkYCksXG4gICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfSwke3JlTn1cXFxcKSRgKSxcbiAgICByZUhzbFBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsXFxcXCgke3JlTn0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlSHNsYVBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsYVxcXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFxcXCkkYCk7XG5cbnZhciBuYW1lZCA9IHtcbiAgYWxpY2VibHVlOiAweGYwZjhmZixcbiAgYW50aXF1ZXdoaXRlOiAweGZhZWJkNyxcbiAgYXF1YTogMHgwMGZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0LFxuICBhenVyZTogMHhmMGZmZmYsXG4gIGJlaWdlOiAweGY1ZjVkYyxcbiAgYmlzcXVlOiAweGZmZTRjNCxcbiAgYmxhY2s6IDB4MDAwMDAwLFxuICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsXG4gIGJsdWU6IDB4MDAwMGZmLFxuICBibHVldmlvbGV0OiAweDhhMmJlMixcbiAgYnJvd246IDB4YTUyYTJhLFxuICBidXJseXdvb2Q6IDB4ZGViODg3LFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwLFxuICBjaGFydHJldXNlOiAweDdmZmYwMCxcbiAgY2hvY29sYXRlOiAweGQyNjkxZSxcbiAgY29yYWw6IDB4ZmY3ZjUwLFxuICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsXG4gIGNvcm5zaWxrOiAweGZmZjhkYyxcbiAgY3JpbXNvbjogMHhkYzE0M2MsXG4gIGN5YW46IDB4MDBmZmZmLFxuICBkYXJrYmx1ZTogMHgwMDAwOGIsXG4gIGRhcmtjeWFuOiAweDAwOGI4YixcbiAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsXG4gIGRhcmtncmF5OiAweGE5YTlhOSxcbiAgZGFya2dyZWVuOiAweDAwNjQwMCxcbiAgZGFya2dyZXk6IDB4YTlhOWE5LFxuICBkYXJra2hha2k6IDB4YmRiNzZiLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGIsXG4gIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZixcbiAgZGFya29yYW5nZTogMHhmZjhjMDAsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjLFxuICBkYXJrcmVkOiAweDhiMDAwMCxcbiAgZGFya3NhbG1vbjogMHhlOTk2N2EsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGYsXG4gIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLFxuICBkYXJrc2xhdGVncmF5OiAweDJmNGY0ZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGYsXG4gIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLFxuICBkYXJrdmlvbGV0OiAweDk0MDBkMyxcbiAgZGVlcHBpbms6IDB4ZmYxNDkzLFxuICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsXG4gIGRpbWdyYXk6IDB4Njk2OTY5LFxuICBkaW1ncmV5OiAweDY5Njk2OSxcbiAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsXG4gIGZpcmVicmljazogMHhiMjIyMjIsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMCxcbiAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLFxuICBmdWNoc2lhOiAweGZmMDBmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkYyxcbiAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsXG4gIGdvbGQ6IDB4ZmZkNzAwLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwLFxuICBncmF5OiAweDgwODA4MCxcbiAgZ3JlZW46IDB4MDA4MDAwLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmYsXG4gIGdyZXk6IDB4ODA4MDgwLFxuICBob25leWRldzogMHhmMGZmZjAsXG4gIGhvdHBpbms6IDB4ZmY2OWI0LFxuICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLFxuICBpbmRpZ286IDB4NGIwMDgyLFxuICBpdm9yeTogMHhmZmZmZjAsXG4gIGtoYWtpOiAweGYwZTY4YyxcbiAgbGF2ZW5kZXI6IDB4ZTZlNmZhLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNSxcbiAgbGF3bmdyZWVuOiAweDdjZmMwMCxcbiAgbGVtb25jaGlmZm9uOiAweGZmZmFjZCxcbiAgbGlnaHRibHVlOiAweGFkZDhlNixcbiAgbGlnaHRjb3JhbDogMHhmMDgwODAsXG4gIGxpZ2h0Y3lhbjogMHhlMGZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMixcbiAgbGlnaHRncmF5OiAweGQzZDNkMyxcbiAgbGlnaHRncmVlbjogMHg5MGVlOTAsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDMsXG4gIGxpZ2h0cGluazogMHhmZmI2YzEsXG4gIGxpZ2h0c2FsbW9uOiAweGZmYTA3YSxcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWEsXG4gIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsXG4gIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxuICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsXG4gIGxpZ2h0eWVsbG93OiAweGZmZmZlMCxcbiAgbGltZTogMHgwMGZmMDAsXG4gIGxpbWVncmVlbjogMHgzMmNkMzIsXG4gIGxpbmVuOiAweGZhZjBlNixcbiAgbWFnZW50YTogMHhmZjAwZmYsXG4gIG1hcm9vbjogMHg4MDAwMDAsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZjZGFhLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZCxcbiAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMyxcbiAgbWVkaXVtcHVycGxlOiAweDkzNzBkYixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxLFxuICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLFxuICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMGZhOWEsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2MsXG4gIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsXG4gIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmEsXG4gIG1pc3R5cm9zZTogMHhmZmU0ZTEsXG4gIG1vY2Nhc2luOiAweGZmZTRiNSxcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkLFxuICBuYXZ5OiAweDAwMDA4MCxcbiAgb2xkbGFjZTogMHhmZGY1ZTYsXG4gIG9saXZlOiAweDgwODAwMCxcbiAgb2xpdmVkcmFiOiAweDZiOGUyMyxcbiAgb3JhbmdlOiAweGZmYTUwMCxcbiAgb3JhbmdlcmVkOiAweGZmNDUwMCxcbiAgb3JjaGlkOiAweGRhNzBkNixcbiAgcGFsZWdvbGRlbnJvZDogMHhlZWU4YWEsXG4gIHBhbGVncmVlbjogMHg5OGZiOTgsXG4gIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLFxuICBwYWxldmlvbGV0cmVkOiAweGRiNzA5MyxcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDUsXG4gIHBlYWNocHVmZjogMHhmZmRhYjksXG4gIHBlcnU6IDB4Y2Q4NTNmLFxuICBwaW5rOiAweGZmYzBjYixcbiAgcGx1bTogMHhkZGEwZGQsXG4gIHBvd2RlcmJsdWU6IDB4YjBlMGU2LFxuICBwdXJwbGU6IDB4ODAwMDgwLFxuICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcbiAgcmVkOiAweGZmMDAwMCxcbiAgcm9zeWJyb3duOiAweGJjOGY4ZixcbiAgcm95YWxibHVlOiAweDQxNjllMSxcbiAgc2FkZGxlYnJvd246IDB4OGI0NTEzLFxuICBzYWxtb246IDB4ZmE4MDcyLFxuICBzYW5keWJyb3duOiAweGY0YTQ2MCxcbiAgc2VhZ3JlZW46IDB4MmU4YjU3LFxuICBzZWFzaGVsbDogMHhmZmY1ZWUsXG4gIHNpZW5uYTogMHhhMDUyMmQsXG4gIHNpbHZlcjogMHhjMGMwYzAsXG4gIHNreWJsdWU6IDB4ODdjZWViLFxuICBzbGF0ZWJsdWU6IDB4NmE1YWNkLFxuICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxuICBzbm93OiAweGZmZmFmYSxcbiAgc3ByaW5nZ3JlZW46IDB4MDBmZjdmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0LFxuICB0YW46IDB4ZDJiNDhjLFxuICB0ZWFsOiAweDAwODA4MCxcbiAgdGhpc3RsZTogMHhkOGJmZDgsXG4gIHRvbWF0bzogMHhmZjYzNDcsXG4gIHR1cnF1b2lzZTogMHg0MGUwZDAsXG4gIHZpb2xldDogMHhlZTgyZWUsXG4gIHdoZWF0OiAweGY1ZGViMyxcbiAgd2hpdGU6IDB4ZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNSxcbiAgeWVsbG93OiAweGZmZmYwMCxcbiAgeWVsbG93Z3JlZW46IDB4OWFjZDMyXG59O1xuXG5kZWZpbmUoQ29sb3IsIGNvbG9yLCB7XG4gIGNvcHkoY2hhbm5lbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvciwgdGhpcywgY2hhbm5lbHMpO1xuICB9LFxuICBkaXNwbGF5YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhleDg6IGNvbG9yX2Zvcm1hdEhleDgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleDgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkge1xuICByZXR1cm4gaHNsQ29udmVydCh0aGlzKS5mb3JtYXRIc2woKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0UmdiKCkge1xuICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRSZ2IoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29sb3IoZm9ybWF0KSB7XG4gIHZhciBtLCBsO1xuICBmb3JtYXQgPSAoZm9ybWF0ICsgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwXG4gICAgICA6IGwgPT09IDMgPyBuZXcgUmdiKChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZiksIDEpIC8vICNmMDBcbiAgICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwXG4gICAgICA6IGwgPT09IDQgPyByZ2JhKChtID4+IDEyICYgMHhmKSB8IChtID4+IDggJiAweGYwKSwgKG0gPj4gOCAmIDB4ZikgfCAobSA+PiA0ICYgMHhmMCksIChtID4+IDQgJiAweGYpIHwgKG0gJiAweGYwKSwgKCgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZikpIC8gMHhmZikgLy8gI2YwMDBcbiAgICAgIDogbnVsbCkgLy8gaW52YWxpZCBoZXhcbiAgICAgIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMClcbiAgICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSlcbiAgICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKVxuICAgICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSlcbiAgICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpXG4gICAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpXG4gICAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICA6IGZvcm1hdCA9PT0gXCJ0cmFuc3BhcmVudFwiID8gbmV3IFJnYihOYU4sIE5hTiwgTmFOLCAwKVxuICAgICAgOiBudWxsO1xufVxuXG5mdW5jdGlvbiByZ2JuKG4pIHtcbiAgcmV0dXJuIG5ldyBSZ2IobiA+PiAxNiAmIDB4ZmYsIG4gPj4gOCAmIDB4ZmYsIG4gJiAweGZmLCAxKTtcbn1cblxuZnVuY3Rpb24gcmdiYShyLCBnLCBiLCBhKSB7XG4gIGlmIChhIDw9IDApIHIgPSBnID0gYiA9IE5hTjtcbiAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JDb252ZXJ0KG8pIHtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgUmdiO1xuICBvID0gby5yZ2IoKTtcbiAgcmV0dXJuIG5ldyBSZ2Ioby5yLCBvLmcsIG8uYiwgby5vcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gcmdiQ29udmVydChyKSA6IG5ldyBSZ2IociwgZywgYiwgb3BhY2l0eSA9PSBudWxsID8gMSA6IG9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmdiKHIsIGcsIGIsIG9wYWNpdHkpIHtcbiAgdGhpcy5yID0gK3I7XG4gIHRoaXMuZyA9ICtnO1xuICB0aGlzLmIgPSArYjtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShSZ2IsIHJnYiwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGNsYW1wKCkge1xuICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTtcbiAgfSxcbiAgZGlzcGxheWFibGUoKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCxcbiAgZm9ybWF0UmdiOiByZ2JfZm9ybWF0UmdiLFxuICB0b1N0cmluZzogcmdiX2Zvcm1hdFJnYlxufSkpO1xuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4KCkge1xuICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gO1xufVxuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHtcbiAgcmV0dXJuIGAjJHtoZXgodGhpcy5yKX0ke2hleCh0aGlzLmcpfSR7aGV4KHRoaXMuYil9JHtoZXgoKGlzTmFOKHRoaXMub3BhY2l0eSkgPyAxIDogdGhpcy5vcGFjaXR5KSAqIDI1NSl9YDtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICByZXR1cm4gYCR7YSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwifSR7Y2xhbXBpKHRoaXMucil9LCAke2NsYW1waSh0aGlzLmcpfSwgJHtjbGFtcGkodGhpcy5iKX0ke2EgPT09IDEgPyBcIilcIiA6IGAsICR7YX0pYH1gO1xufVxuXG5mdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkge1xuICByZXR1cm4gaXNOYU4ob3BhY2l0eSkgPyAxIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgb3BhY2l0eSkpO1xufVxuXG5mdW5jdGlvbiBjbGFtcGkodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh2YWx1ZSkgfHwgMCkpO1xufVxuXG5mdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgdmFsdWUgPSBjbGFtcGkodmFsdWUpO1xuICByZXR1cm4gKHZhbHVlIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgdmFsdWUudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHtcbiAgaWYgKGEgPD0gMCkgaCA9IHMgPSBsID0gTmFOO1xuICBlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtcbiAgZWxzZSBpZiAocyA8PSAwKSBoID0gTmFOO1xuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbENvbnZlcnQobykge1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgSHNsO1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG87XG4gIG8gPSBvLnJnYigpO1xuICB2YXIgciA9IG8uciAvIDI1NSxcbiAgICAgIGcgPSBvLmcgLyAyNTUsXG4gICAgICBiID0gby5iIC8gMjU1LFxuICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgIGggPSBOYU4sXG4gICAgICBzID0gbWF4IC0gbWluLFxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKHMpIHtcbiAgICBpZiAociA9PT0gbWF4KSBoID0gKGcgLSBiKSAvIHMgKyAoZyA8IGIpICogNjtcbiAgICBlbHNlIGlmIChnID09PSBtYXgpIGggPSAoYiAtIHIpIC8gcyArIDI7XG4gICAgZWxzZSBoID0gKHIgLSBnKSAvIHMgKyA0O1xuICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47XG4gICAgaCAqPSA2MDtcbiAgfSBlbHNlIHtcbiAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDtcbiAgfVxuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBoc2xDb252ZXJ0KGgpIDogbmV3IEhzbChoLCBzLCBsLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmZ1bmN0aW9uIEhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHRoaXMuaCA9ICtoO1xuICB0aGlzLnMgPSArcztcbiAgdGhpcy5sID0gK2w7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXIoaykge1xuICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgdmFyIGggPSB0aGlzLmggJSAzNjAgKyAodGhpcy5oIDwgMCkgKiAzNjAsXG4gICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucyxcbiAgICAgICAgbCA9IHRoaXMubCxcbiAgICAgICAgbTIgPSBsICsgKGwgPCAwLjUgPyBsIDogMSAtIGwpICogcyxcbiAgICAgICAgbTEgPSAyICogbCAtIG0yO1xuICAgIHJldHVybiBuZXcgUmdiKFxuICAgICAgaHNsMnJnYihoID49IDI0MCA/IGggLSAyNDAgOiBoICsgMTIwLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksXG4gICAgICB0aGlzLm9wYWNpdHlcbiAgICApO1xuICB9LFxuICBjbGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IEhzbChjbGFtcGgodGhpcy5oKSwgY2xhbXB0KHRoaXMucyksIGNsYW1wdCh0aGlzLmwpLCBjbGFtcGEodGhpcy5vcGFjaXR5KSk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlKCkge1xuICAgIHJldHVybiAoMCA8PSB0aGlzLnMgJiYgdGhpcy5zIDw9IDEgfHwgaXNOYU4odGhpcy5zKSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5sICYmIHRoaXMubCA8PSAxKVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBmb3JtYXRIc2woKSB7XG4gICAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICAgIHJldHVybiBgJHthID09PSAxID8gXCJoc2woXCIgOiBcImhzbGEoXCJ9JHtjbGFtcGgodGhpcy5oKX0sICR7Y2xhbXB0KHRoaXMucykgKiAxMDB9JSwgJHtjbGFtcHQodGhpcy5sKSAqIDEwMH0lJHthID09PSAxID8gXCIpXCIgOiBgLCAke2F9KWB9YDtcbiAgfVxufSkpO1xuXG5mdW5jdGlvbiBjbGFtcGgodmFsdWUpIHtcbiAgdmFsdWUgPSAodmFsdWUgfHwgMCkgJSAzNjA7XG4gIHJldHVybiB2YWx1ZSA8IDAgPyB2YWx1ZSArIDM2MCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjbGFtcHQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTtcbn1cblxuLyogRnJvbSBGdkQgMTMuMzcsIENTUyBDb2xvciBNb2R1bGUgTGV2ZWwgMyAqL1xuZnVuY3Rpb24gaHNsMnJnYihoLCBtMSwgbTIpIHtcbiAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MFxuICAgICAgOiBoIDwgMTgwID8gbTJcbiAgICAgIDogaCA8IDI0MCA/IG0xICsgKG0yIC0gbTEpICogKDI0MCAtIGgpIC8gNjBcbiAgICAgIDogbTEpICogMjU1O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgeCA9PiAoKSA9PiB4O1xuIiwiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGxpbmVhcihhLCBkKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKyB0ICogZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwb25lbnRpYWwoYSwgYiwgeSkge1xuICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coYSArIHQgKiBiLCB5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQgPiAxODAgfHwgZCA8IC0xODAgPyBkIC0gMzYwICogTWF0aC5yb3VuZChkIC8gMzYwKSA6IGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYSh5KSB7XG4gIHJldHVybiAoeSA9ICt5KSA9PT0gMSA/IG5vZ2FtbWEgOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIgLSBhID8gZXhwb25lbnRpYWwoYSwgYiwgeSkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9nYW1tYShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG4iLCJpbXBvcnQge3JnYiBhcyBjb2xvclJnYn0gZnJvbSBcImQzLWNvbG9yXCI7XG5pbXBvcnQgYmFzaXMgZnJvbSBcIi4vYmFzaXMuanNcIjtcbmltcG9ydCBiYXNpc0Nsb3NlZCBmcm9tIFwiLi9iYXNpc0Nsb3NlZC5qc1wiO1xuaW1wb3J0IG5vZ2FtbWEsIHtnYW1tYX0gZnJvbSBcIi4vY29sb3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHtcbiAgdmFyIGNvbG9yID0gZ2FtbWEoeSk7XG5cbiAgZnVuY3Rpb24gcmdiKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IGNvbG9yUmdiKHN0YXJ0KSkuciwgKGVuZCA9IGNvbG9yUmdiKGVuZCkpLnIpLFxuICAgICAgICBnID0gY29sb3Ioc3RhcnQuZywgZW5kLmcpLFxuICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLFxuICAgICAgICBvcGFjaXR5ID0gbm9nYW1tYShzdGFydC5vcGFjaXR5LCBlbmQub3BhY2l0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHN0YXJ0LnIgPSByKHQpO1xuICAgICAgc3RhcnQuZyA9IGcodCk7XG4gICAgICBzdGFydC5iID0gYih0KTtcbiAgICAgIHN0YXJ0Lm9wYWNpdHkgPSBvcGFjaXR5KHQpO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgcmdiLmdhbW1hID0gcmdiR2FtbWE7XG5cbiAgcmV0dXJuIHJnYjtcbn0pKDEpO1xuXG5mdW5jdGlvbiByZ2JTcGxpbmUoc3BsaW5lKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xvcnMpIHtcbiAgICB2YXIgbiA9IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgIHIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGcgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGksIGNvbG9yO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbG9yID0gY29sb3JSZ2IoY29sb3JzW2ldKTtcbiAgICAgIHJbaV0gPSBjb2xvci5yIHx8IDA7XG4gICAgICBnW2ldID0gY29sb3IuZyB8fCAwO1xuICAgICAgYltpXSA9IGNvbG9yLmIgfHwgMDtcbiAgICB9XG4gICAgciA9IHNwbGluZShyKTtcbiAgICBnID0gc3BsaW5lKGcpO1xuICAgIGIgPSBzcGxpbmUoYik7XG4gICAgY29sb3Iub3BhY2l0eSA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGNvbG9yLnIgPSByKHQpO1xuICAgICAgY29sb3IuZyA9IGcodCk7XG4gICAgICBjb2xvci5iID0gYih0KTtcbiAgICAgIHJldHVybiBjb2xvciArIFwiXCI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciByZ2JCYXNpcyA9IHJnYlNwbGluZShiYXNpcyk7XG5leHBvcnQgdmFyIHJnYkJhc2lzQ2xvc2VkID0gcmdiU3BsaW5lKGJhc2lzQ2xvc2VkKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKiAoMSAtIHQpICsgYiAqIHQ7XG4gIH07XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuL251bWJlci5qc1wiO1xuXG52YXIgcmVBID0gL1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLFxuICAgIHJlQiA9IG5ldyBSZWdFeHAocmVBLnNvdXJjZSwgXCJnXCIpO1xuXG5mdW5jdGlvbiB6ZXJvKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBiO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbmUoYikge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBiKHQpICsgXCJcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYmkgPSByZUEubGFzdEluZGV4ID0gcmVCLmxhc3RJbmRleCA9IDAsIC8vIHNjYW4gaW5kZXggZm9yIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGFtLCAvLyBjdXJyZW50IG1hdGNoIGluIGFcbiAgICAgIGJtLCAvLyBjdXJyZW50IG1hdGNoIGluIGJcbiAgICAgIGJzLCAvLyBzdHJpbmcgcHJlY2VkaW5nIGN1cnJlbnQgbnVtYmVyIGluIGIsIGlmIGFueVxuICAgICAgaSA9IC0xLCAvLyBpbmRleCBpbiBzXG4gICAgICBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuXG4gIC8vIENvZXJjZSBpbnB1dHMgdG8gc3RyaW5ncy5cbiAgYSA9IGEgKyBcIlwiLCBiID0gYiArIFwiXCI7XG5cbiAgLy8gSW50ZXJwb2xhdGUgcGFpcnMgb2YgbnVtYmVycyBpbiBhICYgYi5cbiAgd2hpbGUgKChhbSA9IHJlQS5leGVjKGEpKVxuICAgICAgJiYgKGJtID0gcmVCLmV4ZWMoYikpKSB7XG4gICAgaWYgKChicyA9IGJtLmluZGV4KSA+IGJpKSB7IC8vIGEgc3RyaW5nIHByZWNlZGVzIHRoZSBuZXh0IG51bWJlciBpbiBiXG4gICAgICBicyA9IGIuc2xpY2UoYmksIGJzKTtcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBicztcbiAgICB9XG4gICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7IC8vIG51bWJlcnMgaW4gYSAmIGIgbWF0Y2hcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBibTtcbiAgICB9IGVsc2UgeyAvLyBpbnRlcnBvbGF0ZSBub24tbWF0Y2hpbmcgbnVtYmVyc1xuICAgICAgc1srK2ldID0gbnVsbDtcbiAgICAgIHEucHVzaCh7aTogaSwgeDogbnVtYmVyKGFtLCBibSl9KTtcbiAgICB9XG4gICAgYmkgPSByZUIubGFzdEluZGV4O1xuICB9XG5cbiAgLy8gQWRkIHJlbWFpbnMgb2YgYi5cbiAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICBicyA9IGIuc2xpY2UoYmkpO1xuICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gIH1cblxuICAvLyBTcGVjaWFsIG9wdGltaXphdGlvbiBmb3Igb25seSBhIHNpbmdsZSBtYXRjaC5cbiAgLy8gT3RoZXJ3aXNlLCBpbnRlcnBvbGF0ZSBlYWNoIG9mIHRoZSBudW1iZXJzIGFuZCByZWpvaW4gdGhlIHN0cmluZy5cbiAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IChxWzBdXG4gICAgICA/IG9uZShxWzBdLngpXG4gICAgICA6IHplcm8oYikpXG4gICAgICA6IChiID0gcS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xufVxuIiwidmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJO1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0ge1xuICB0cmFuc2xhdGVYOiAwLFxuICB0cmFuc2xhdGVZOiAwLFxuICByb3RhdGU6IDAsXG4gIHNrZXdYOiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgc2NhbGVYLCBzY2FsZVksIHNrZXdYO1xuICBpZiAoc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpKSBhIC89IHNjYWxlWCwgYiAvPSBzY2FsZVg7XG4gIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDtcbiAgaWYgKHNjYWxlWSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKSkgYyAvPSBzY2FsZVksIGQgLz0gc2NhbGVZLCBza2V3WCAvPSBzY2FsZVk7XG4gIGlmIChhICogZCA8IGIgKiBjKSBhID0gLWEsIGIgPSAtYiwgc2tld1ggPSAtc2tld1gsIHNjYWxlWCA9IC1zY2FsZVg7XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZSxcbiAgICB0cmFuc2xhdGVZOiBmLFxuICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsXG4gICAgc2tld1g6IE1hdGguYXRhbihza2V3WCkgKiBkZWdyZWVzLFxuICAgIHNjYWxlWDogc2NhbGVYLFxuICAgIHNjYWxlWTogc2NhbGVZXG4gIH07XG59XG4iLCJpbXBvcnQgZGVjb21wb3NlLCB7aWRlbnRpdHl9IGZyb20gXCIuL2RlY29tcG9zZS5qc1wiO1xuXG52YXIgc3ZnTm9kZTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNzcyh2YWx1ZSkge1xuICBjb25zdCBtID0gbmV3ICh0eXBlb2YgRE9NTWF0cml4ID09PSBcImZ1bmN0aW9uXCIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgXCJcIik7XG4gIHJldHVybiBtLmlzSWRlbnRpdHkgPyBpZGVudGl0eSA6IGRlY29tcG9zZShtLmEsIG0uYiwgbS5jLCBtLmQsIG0uZSwgbS5mKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3ZnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gaWRlbnRpdHk7XG4gIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdmFsdWUpO1xuICBpZiAoISh2YWx1ZSA9IHN2Z05vZGUudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKSkpIHJldHVybiBpZGVudGl0eTtcbiAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7XG4gIHJldHVybiBkZWNvbXBvc2UodmFsdWUuYSwgdmFsdWUuYiwgdmFsdWUuYywgdmFsdWUuZCwgdmFsdWUuZSwgdmFsdWUuZik7XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuLi9udW1iZXIuanNcIjtcbmltcG9ydCB7cGFyc2VDc3MsIHBhcnNlU3ZnfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZSwgcHhDb21tYSwgcHhQYXJlbiwgZGVnUGFyZW4pIHtcblxuICBmdW5jdGlvbiBwb3Aocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA/IHMucG9wKCkgKyBcIiBcIiA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2goXCJ0cmFuc2xhdGUoXCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiB8fCB5Yikge1xuICAgICAgcy5wdXNoKFwidHJhbnNsYXRlKFwiICsgeGIgKyBweENvbW1hICsgeWIgKyBweFBhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSAtIGIgPiAxODApIGIgKz0gMzYwOyBlbHNlIGlmIChiIC0gYSA+IDE4MCkgYSArPSAzNjA7IC8vIHNob3J0ZXN0IHBhdGhcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiLCBudWxsLCBcIixcIiwgbnVsbCwgXCIpXCIpO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiAhPT0gMSB8fCB5YiAhPT0gMSkge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIgKyB4YiArIFwiLFwiICsgeWIgKyBcIilcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuICAgIGEgPSBwYXJzZShhKSwgYiA9IHBhcnNlKGIpO1xuICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpO1xuICAgIHJvdGF0ZShhLnJvdGF0ZSwgYi5yb3RhdGUsIHMsIHEpO1xuICAgIHNrZXdYKGEuc2tld1gsIGIuc2tld1gsIHMsIHEpO1xuICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTtcbiAgICBhID0gYiA9IG51bGw7IC8vIGdjXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBpID0gLTEsIG4gPSBxLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZUNzcywgXCJweCwgXCIsIFwicHgpXCIsIFwiZGVnKVwiKTtcbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZVN2ZywgXCIsIFwiLCBcIilcIiwgXCIpXCIpO1xuIiwidmFyIGZyYW1lID0gMCwgLy8gaXMgYW4gYW5pbWF0aW9uIGZyYW1lIHBlbmRpbmc/XG4gICAgdGltZW91dCA9IDAsIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nP1xuICAgIGludGVydmFsID0gMCwgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlP1xuICAgIHBva2VEZWxheSA9IDEwMDAsIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3XG4gICAgdGFza0hlYWQsXG4gICAgdGFza1RhaWwsXG4gICAgY2xvY2tMYXN0ID0gMCxcbiAgICBjbG9ja05vdyA9IDAsXG4gICAgY2xvY2tTa2V3ID0gMCxcbiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJvYmplY3RcIiAmJiBwZXJmb3JtYW5jZS5ub3cgPyBwZXJmb3JtYW5jZSA6IERhdGUsXG4gICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSA6IGZ1bmN0aW9uKGYpIHsgc2V0VGltZW91dChmLCAxNyk7IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBjbG9ja05vdyB8fCAoc2V0RnJhbWUoY2xlYXJOb3cpLCBjbG9ja05vdyA9IGNsb2NrLm5vdygpICsgY2xvY2tTa2V3KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOb3coKSB7XG4gIGNsb2NrTm93ID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVyKCkge1xuICB0aGlzLl9jYWxsID1cbiAgdGhpcy5fdGltZSA9XG4gIHRoaXMuX25leHQgPSBudWxsO1xufVxuXG5UaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUaW1lcixcbiAgcmVzdGFydDogZnVuY3Rpb24oY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgdGltZSA9ICh0aW1lID09IG51bGwgPyBub3coKSA6ICt0aW1lKSArIChkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheSk7XG4gICAgaWYgKCF0aGlzLl9uZXh0ICYmIHRhc2tUYWlsICE9PSB0aGlzKSB7XG4gICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztcbiAgICAgIGVsc2UgdGFza0hlYWQgPSB0aGlzO1xuICAgICAgdGFza1RhaWwgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9jYWxsID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgc2xlZXAoKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2NhbGwpIHtcbiAgICAgIHRoaXMuX2NhbGwgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5O1xuICAgICAgc2xlZXAoKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7XG4gIG5vdygpOyAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSwgaWYgbm90IGFscmVhZHkgc2V0LlxuICArK2ZyYW1lOyAvLyBQcmV0ZW5kIHdl4oCZdmUgc2V0IGFuIGFsYXJtLCBpZiB3ZSBoYXZlbuKAmXQgYWxyZWFkeS5cbiAgdmFyIHQgPSB0YXNrSGVhZCwgZTtcbiAgd2hpbGUgKHQpIHtcbiAgICBpZiAoKGUgPSBjbG9ja05vdyAtIHQuX3RpbWUpID49IDApIHQuX2NhbGwuY2FsbCh1bmRlZmluZWQsIGUpO1xuICAgIHQgPSB0Ll9uZXh0O1xuICB9XG4gIC0tZnJhbWU7XG59XG5cbmZ1bmN0aW9uIHdha2UoKSB7XG4gIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldztcbiAgZnJhbWUgPSB0aW1lb3V0ID0gMDtcbiAgdHJ5IHtcbiAgICB0aW1lckZsdXNoKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZnJhbWUgPSAwO1xuICAgIG5hcCgpO1xuICAgIGNsb2NrTm93ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2tlKCkge1xuICB2YXIgbm93ID0gY2xvY2subm93KCksIGRlbGF5ID0gbm93IC0gY2xvY2tMYXN0O1xuICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93O1xufVxuXG5mdW5jdGlvbiBuYXAoKSB7XG4gIHZhciB0MCwgdDEgPSB0YXNrSGVhZCwgdDIsIHRpbWUgPSBJbmZpbml0eTtcbiAgd2hpbGUgKHQxKSB7XG4gICAgaWYgKHQxLl9jYWxsKSB7XG4gICAgICBpZiAodGltZSA+IHQxLl90aW1lKSB0aW1lID0gdDEuX3RpbWU7XG4gICAgICB0MCA9IHQxLCB0MSA9IHQxLl9uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9IHQxLl9uZXh0LCB0MS5fbmV4dCA9IG51bGw7XG4gICAgICB0MSA9IHQwID8gdDAuX25leHQgPSB0MiA6IHRhc2tIZWFkID0gdDI7XG4gICAgfVxuICB9XG4gIHRhc2tUYWlsID0gdDA7XG4gIHNsZWVwKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gIGlmIChmcmFtZSkgcmV0dXJuOyAvLyBTb29uZXN0IGFsYXJtIGFscmVhZHkgc2V0LCBvciB3aWxsIGJlLlxuICBpZiAodGltZW91dCkgdGltZW91dCA9IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy5cbiAgaWYgKGRlbGF5ID4gMjQpIHtcbiAgICBpZiAodGltZSA8IEluZmluaXR5KSB0aW1lb3V0ID0gc2V0VGltZW91dCh3YWtlLCB0aW1lIC0gY2xvY2subm93KCkgLSBjbG9ja1NrZXcpO1xuICAgIGlmIChpbnRlcnZhbCkgaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWludGVydmFsKSBjbG9ja0xhc3QgPSBjbG9jay5ub3coKSwgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwb2tlLCBwb2tlRGVsYXkpO1xuICAgIGZyYW1lID0gMSwgc2V0RnJhbWUod2FrZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VGltZXJ9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgZGVsYXkgPSBkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheTtcbiAgdC5yZXN0YXJ0KGVsYXBzZWQgPT4ge1xuICAgIHQuc3RvcCgpO1xuICAgIGNhbGxiYWNrKGVsYXBzZWQgKyBkZWxheSk7XG4gIH0sIGRlbGF5LCB0aW1lKTtcbiAgcmV0dXJuIHQ7XG59XG4iLCJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7dGltZXIsIHRpbWVvdXR9IGZyb20gXCJkMy10aW1lclwiO1xuXG52YXIgZW1wdHlPbiA9IGRpc3BhdGNoKFwic3RhcnRcIiwgXCJlbmRcIiwgXCJjYW5jZWxcIiwgXCJpbnRlcnJ1cHRcIik7XG52YXIgZW1wdHlUd2VlbiA9IFtdO1xuXG5leHBvcnQgdmFyIENSRUFURUQgPSAwO1xuZXhwb3J0IHZhciBTQ0hFRFVMRUQgPSAxO1xuZXhwb3J0IHZhciBTVEFSVElORyA9IDI7XG5leHBvcnQgdmFyIFNUQVJURUQgPSAzO1xuZXhwb3J0IHZhciBSVU5OSU5HID0gNDtcbmV4cG9ydCB2YXIgRU5ESU5HID0gNTtcbmV4cG9ydCB2YXIgRU5ERUQgPSA2O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uO1xuICBpZiAoIXNjaGVkdWxlcykgbm9kZS5fX3RyYW5zaXRpb24gPSB7fTtcbiAgZWxzZSBpZiAoaWQgaW4gc2NoZWR1bGVzKSByZXR1cm47XG4gIGNyZWF0ZShub2RlLCBpZCwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaW5kZXg6IGluZGV4LCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgZ3JvdXA6IGdyb3VwLCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgb246IGVtcHR5T24sXG4gICAgdHdlZW46IGVtcHR5VHdlZW4sXG4gICAgdGltZTogdGltaW5nLnRpbWUsXG4gICAgZGVsYXk6IHRpbWluZy5kZWxheSxcbiAgICBkdXJhdGlvbjogdGltaW5nLmR1cmF0aW9uLFxuICAgIGVhc2U6IHRpbWluZy5lYXNlLFxuICAgIHRpbWVyOiBudWxsLFxuICAgIHN0YXRlOiBDUkVBVEVEXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBzY2hlZHVsZWRcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBydW5uaW5nXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gbm9kZS5fX3RyYW5zaXRpb247XG4gIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcihcInRyYW5zaXRpb24gbm90IGZvdW5kXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZShub2RlLCBpZCwgc2VsZikge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICB0d2VlbjtcblxuICAvLyBJbml0aWFsaXplIHRoZSBzZWxmIHRpbWVyIHdoZW4gdGhlIHRyYW5zaXRpb24gaXMgY3JlYXRlZC5cbiAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shXG4gIHNjaGVkdWxlc1tpZF0gPSBzZWxmO1xuICBzZWxmLnRpbWVyID0gdGltZXIoc2NoZWR1bGUsIDAsIHNlbGYudGltZSk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoZWxhcHNlZCkge1xuICAgIHNlbGYuc3RhdGUgPSBTQ0hFRFVMRUQ7XG4gICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpO1xuXG4gICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuXG4gICAgaWYgKHNlbGYuZGVsYXkgPD0gZWxhcHNlZCkgc3RhcnQoZWxhcHNlZCAtIHNlbGYuZGVsYXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoZWxhcHNlZCkge1xuICAgIHZhciBpLCBqLCBuLCBvO1xuXG4gICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdCBTQ0hFRFVMRUQsIHRoZW4gd2UgcHJldmlvdXNseSBlcnJvcmVkIG9uIHN0YXJ0LlxuICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7XG5cbiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7XG4gICAgICBvID0gc2NoZWR1bGVzW2ldO1xuICAgICAgaWYgKG8ubmFtZSAhPT0gc2VsZi5uYW1lKSBjb250aW51ZTtcblxuICAgICAgLy8gV2hpbGUgdGhpcyBlbGVtZW50IGFscmVhZHkgaGFzIGEgc3RhcnRpbmcgdHJhbnNpdGlvbiBkdXJpbmcgdGhpcyBmcmFtZSxcbiAgICAgIC8vIGRlZmVyIHN0YXJ0aW5nIGFuIGludGVycnVwdGluZyB0cmFuc2l0aW9uIHVudGlsIHRoYXQgdHJhbnNpdGlvbiBoYXMgYVxuICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCFcbiAgICAgIGlmIChvLnN0YXRlID09PSBTVEFSVEVEKSByZXR1cm4gdGltZW91dChzdGFydCk7XG5cbiAgICAgIC8vIEludGVycnVwdCB0aGUgYWN0aXZlIHRyYW5zaXRpb24sIGlmIGFueS5cbiAgICAgIGlmIChvLnN0YXRlID09PSBSVU5OSU5HKSB7XG4gICAgICAgIG8uc3RhdGUgPSBFTkRFRDtcbiAgICAgICAgby50aW1lci5zdG9wKCk7XG4gICAgICAgIG8ub24uY2FsbChcImludGVycnVwdFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTtcbiAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIGFueSBwcmUtZW1wdGVkIHRyYW5zaXRpb25zLlxuICAgICAgZWxzZSBpZiAoK2kgPCBpZCkge1xuICAgICAgICBvLnN0YXRlID0gRU5ERUQ7XG4gICAgICAgIG8udGltZXIuc3RvcCgpO1xuICAgICAgICBvLm9uLmNhbGwoXCJjYW5jZWxcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgby5pbmRleCwgby5ncm91cCk7XG4gICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmZXIgdGhlIGZpcnN0IHRpY2sgdG8gZW5kIG9mIHRoZSBjdXJyZW50IGZyYW1lOyBzZWUgZDMvZDMjMTU3Ni5cbiAgICAvLyBOb3RlIHRoZSB0cmFuc2l0aW9uIG1heSBiZSBjYW5jZWxlZCBhZnRlciBzdGFydCBhbmQgYmVmb3JlIHRoZSBmaXJzdCB0aWNrIVxuICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiFcbiAgICAvLyBBc3N1bWluZyB0aGlzIGlzIHN1Y2Nlc3NmdWwsIHN1YnNlcXVlbnQgY2FsbGJhY2tzIGdvIHN0cmFpZ2h0IHRvIHRpY2suXG4gICAgdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSBTVEFSVEVEKSB7XG4gICAgICAgIHNlbGYuc3RhdGUgPSBSVU5OSU5HO1xuICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTtcbiAgICAgICAgdGljayhlbGFwc2VkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC5cbiAgICAvLyBOb3RlIHRoaXMgbXVzdCBiZSBkb25lIGJlZm9yZSB0aGUgdHdlZW4gYXJlIGluaXRpYWxpemVkLlxuICAgIHNlbGYuc3RhdGUgPSBTVEFSVElORztcbiAgICBzZWxmLm9uLmNhbGwoXCJzdGFydFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTtcbiAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gU1RBUlRJTkcpIHJldHVybjsgLy8gaW50ZXJydXB0ZWRcbiAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLlxuICAgIHR3ZWVuID0gbmV3IEFycmF5KG4gPSBzZWxmLnR3ZWVuLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMCwgaiA9IC0xOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkge1xuICAgICAgICB0d2VlblsrK2pdID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgdHdlZW4ubGVuZ3RoID0gaiArIDE7XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrKGVsYXBzZWQpIHtcbiAgICB2YXIgdCA9IGVsYXBzZWQgPCBzZWxmLmR1cmF0aW9uID8gc2VsZi5lYXNlLmNhbGwobnVsbCwgZWxhcHNlZCAvIHNlbGYuZHVyYXRpb24pIDogKHNlbGYudGltZXIucmVzdGFydChzdG9wKSwgc2VsZi5zdGF0ZSA9IEVORElORywgMSksXG4gICAgICAgIGkgPSAtMSxcbiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpO1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIHRoZSBlbmQgZXZlbnQuXG4gICAgaWYgKHNlbGYuc3RhdGUgPT09IEVORElORykge1xuICAgICAgc2VsZi5vbi5jYWxsKFwiZW5kXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApO1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgc2VsZi5zdGF0ZSA9IEVOREVEO1xuICAgIHNlbGYudGltZXIuc3RvcCgpO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdO1xuICAgIGZvciAodmFyIGkgaW4gc2NoZWR1bGVzKSByZXR1cm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247XG4gIH1cbn1cbiIsImltcG9ydCB7U1RBUlRJTkcsIEVORElORywgRU5ERUR9IGZyb20gXCIuL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICBzY2hlZHVsZSxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGVtcHR5ID0gdHJ1ZSxcbiAgICAgIGk7XG5cbiAgaWYgKCFzY2hlZHVsZXMpIHJldHVybjtcblxuICBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyBcIlwiO1xuXG4gIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICBpZiAoKHNjaGVkdWxlID0gc2NoZWR1bGVzW2ldKS5uYW1lICE9PSBuYW1lKSB7IGVtcHR5ID0gZmFsc2U7IGNvbnRpbnVlOyB9XG4gICAgYWN0aXZlID0gc2NoZWR1bGUuc3RhdGUgPiBTVEFSVElORyAmJiBzY2hlZHVsZS5zdGF0ZSA8IEVORElORztcbiAgICBzY2hlZHVsZS5zdGF0ZSA9IEVOREVEO1xuICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTtcbiAgICBzY2hlZHVsZS5vbi5jYWxsKGFjdGl2ZSA/IFwiaW50ZXJydXB0XCIgOiBcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gIH1cblxuICBpZiAoZW1wdHkpIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbn1cbiIsImltcG9ydCBpbnRlcnJ1cHQgZnJvbSBcIi4uL2ludGVycnVwdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHR3ZWVuUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSB0d2VlbjAgPSB0d2VlbjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjEgPSB0d2VlbjEuc2xpY2UoKTtcbiAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHR3ZWVuRnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkge1xuICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpO1xuICAgICAgZm9yICh2YXIgdCA9IHtuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9LCBpID0gMCwgbiA9IHR3ZWVuMS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgdHdlZW4xW2ldID0gdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IG4pIHR3ZWVuMS5wdXNoKHQpO1xuICAgIH1cblxuICAgIHNjaGVkdWxlLnR3ZWVuID0gdHdlZW4xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICBuYW1lICs9IFwiXCI7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2Vlbi5sZW5ndGgsIHQ7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgodCA9IHR3ZWVuW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0LnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHdlZW5WYWx1ZSh0cmFuc2l0aW9uLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDtcblxuICB0cmFuc2l0aW9uLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKTtcbiAgICAoc2NoZWR1bGUudmFsdWUgfHwgKHNjaGVkdWxlLnZhbHVlID0ge30pKVtuYW1lXSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIGdldChub2RlLCBpZCkudmFsdWVbbmFtZV07XG4gIH07XG59XG4iLCJpbXBvcnQge2NvbG9yfSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVOdW1iZXIsIGludGVycG9sYXRlUmdiLCBpbnRlcnBvbGF0ZVN0cmluZ30gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGM7XG4gIHJldHVybiAodHlwZW9mIGIgPT09IFwibnVtYmVyXCIgPyBpbnRlcnBvbGF0ZU51bWJlclxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYlxuICAgICAgOiAoYyA9IGNvbG9yKGIpKSA/IChiID0gYywgaW50ZXJwb2xhdGVSZ2IpXG4gICAgICA6IGludGVycG9sYXRlU3RyaW5nKShhLCBiKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAsIHZhbHVlMSA9IHZhbHVlKHRoaXMpLCBzdHJpbmcxO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLCBpID0gZnVsbG5hbWUgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdGhpcy5hdHRyVHdlZW4obmFtZSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pKGZ1bGxuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwiYXR0ci5cIiArIG5hbWUsIHZhbHVlKSlcbiAgICAgIDogdmFsdWUgPT0gbnVsbCA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpKGZ1bGxuYW1lKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkoZnVsbG5hbWUsIGksIHZhbHVlKSk7XG59XG4iLCJpbXBvcnQge25hbWVzcGFjZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGUobmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZnVuY3Rpb24gYXR0clR3ZWVuKG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIga2V5ID0gXCJhdHRyLlwiICsgbmFtZTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtnZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGRlbGF5RnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPSArdmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGRlbGF5RnVuY3Rpb25cbiAgICAgICAgICA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmRlbGF5O1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZHVyYXRpb25GdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZHVyYXRpb24gPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGR1cmF0aW9uRnVuY3Rpb25cbiAgICAgICAgICA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmR1cmF0aW9uO1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmVhc2U7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHR5cGVvZiB2ICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMuZWFjaChlYXNlVmFyeWluZyh0aGlzLl9pZCwgdmFsdWUpKTtcbn1cbiIsImltcG9ydCB7bWF0Y2hlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0cmFuc2l0aW9uKSB7XG4gIGlmICh0cmFuc2l0aW9uLl9pZCAhPT0gdGhpcy5faWQpIHRocm93IG5ldyBFcnJvcjtcblxuICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gdHJhbnNpdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24obWVyZ2VzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7XG59XG4iLCJpbXBvcnQge2dldCwgc2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBzdGFydChuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykuZXZlcnkoZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gIXQgfHwgdCA9PT0gXCJzdGFydFwiO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG9uMCwgb24xLCBzaXQgPSBzdGFydChuYW1lKSA/IGluaXQgOiBzZXQ7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzaXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKG5hbWUsIGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDJcbiAgICAgID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSlcbiAgICAgIDogdGhpcy5lYWNoKG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSk7XG59XG4iLCJmdW5jdGlvbiByZW1vdmVGdW5jdGlvbihpZCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub24oXCJlbmQucmVtb3ZlXCIsIHJlbW92ZUZ1bmN0aW9uKHRoaXMuX2lkKSk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yQWxsfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPSBjaGlsZHJlbltrXSkge1xuICAgICAgICAgICAgc2NoZWR1bGUoY2hpbGQsIG5hbWUsIGlkLCBrLCBjaGlsZHJlbiwgaW5oZXJpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKGNoaWxkcmVuKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbnZhciBTZWxlY3Rpb24gPSBzZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtzdHlsZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVOdWxsKG5hbWUsIGludGVycG9sYXRlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgc3RyaW5nMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHN0cmluZzEwID0gc3RyaW5nMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksXG4gICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgc3RyaW5nMSA9IHZhbHVlMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciBvbjAsIG9uMSwgbGlzdGVuZXIwLCBrZXkgPSBcInN0eWxlLlwiICsgbmFtZSwgZXZlbnQgPSBcImVuZC5cIiArIGtleSwgcmVtb3ZlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgb24gPSBzY2hlZHVsZS5vbixcbiAgICAgICAgbGlzdGVuZXIgPSBzY2hlZHVsZS52YWx1ZVtrZXldID09IG51bGwgPyByZW1vdmUgfHwgKHJlbW92ZSA9IHN0eWxlUmVtb3ZlKG5hbWUpKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAob24gIT09IG9uMCB8fCBsaXN0ZW5lcjAgIT09IGxpc3RlbmVyKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKGV2ZW50LCBsaXN0ZW5lcjAgPSBsaXN0ZW5lcik7XG5cbiAgICBzY2hlZHVsZS5vbiA9IG9uMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciBpID0gKG5hbWUgKz0gXCJcIikgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIHN0eWxlUmVtb3ZlKG5hbWUpKVxuICAgIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZUZ1bmN0aW9uKG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgXCJzdHlsZS5cIiArIG5hbWUsIHZhbHVlKSkpXG4gICAgICAuZWFjaChzdHlsZU1heWJlUmVtb3ZlKHRoaXMuX2lkLCBuYW1lKSlcbiAgICA6IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIG51bGwpO1xufVxuIiwiZnVuY3Rpb24gc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgaS5jYWxsKHRoaXMsIHQpLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciB0LCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdCA9IChpMCA9IGkpICYmIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIga2V5ID0gXCJzdHlsZS5cIiArIChuYW1lICs9IFwiXCIpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpO1xufVxuIiwiaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUxID0gdmFsdWUodGhpcyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gXCJcIiA6IHZhbHVlMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudHdlZW4oXCJ0ZXh0XCIsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsIFwidGV4dFwiLCB2YWx1ZSkpXG4gICAgICA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIikpO1xufVxuIiwiZnVuY3Rpb24gdGV4dEludGVycG9sYXRlKGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gaS5jYWxsKHRoaXMsIHQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiB0ZXh0SW50ZXJwb2xhdGUoaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBrZXkgPSBcInRleHRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkMCA9IHRoaXMuX2lkLFxuICAgICAgaWQxID0gbmV3SWQoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApO1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZDEsIGksIGdyb3VwLCB7XG4gICAgICAgICAgdGltZTogaW5oZXJpdC50aW1lICsgaW5oZXJpdC5kZWxheSArIGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZWFzZTogaW5oZXJpdC5lYXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkMSk7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBvbjAsIG9uMSwgdGhhdCA9IHRoaXMsIGlkID0gdGhhdC5faWQsIHNpemUgPSB0aGF0LnNpemUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjYW5jZWwgPSB7dmFsdWU6IHJlamVjdH0sXG4gICAgICAgIGVuZCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7IGlmICgtLXNpemUgPT09IDApIHJlc29sdmUoKTsgfX07XG5cbiAgICB0aGF0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgICBpZiAob24gIT09IG9uMCkge1xuICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTtcbiAgICAgICAgb24xLl8uY2FuY2VsLnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uaW50ZXJydXB0LnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTtcbiAgICAgIH1cblxuICAgICAgc2NoZWR1bGUub24gPSBvbjE7XG4gICAgfSk7XG5cbiAgICAvLyBUaGUgc2VsZWN0aW9uIHdhcyBlbXB0eSwgcmVzb2x2ZSBlbmQgaW1tZWRpYXRlbHlcbiAgICBpZiAoc2l6ZSA9PT0gMCkgcmVzb2x2ZSgpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9hdHRyIGZyb20gXCIuL2F0dHIuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2F0dHJUd2VlbiBmcm9tIFwiLi9hdHRyVHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2RlbGF5IGZyb20gXCIuL2RlbGF5LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9kdXJhdGlvbiBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZWFzZSBmcm9tIFwiLi9lYXNlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lYXNlVmFyeWluZyBmcm9tIFwiLi9lYXNlVmFyeWluZy5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fbWVyZ2UgZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX29uIGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9yZW1vdmUgZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3RBbGwgZnJvbSBcIi4vc2VsZWN0QWxsLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3Rpb24gZnJvbSBcIi4vc2VsZWN0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGVUd2VlbiBmcm9tIFwiLi9zdHlsZVR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0IGZyb20gXCIuL3RleHQuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RleHRUd2VlbiBmcm9tIFwiLi90ZXh0VHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdHdlZW4gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2VuZCBmcm9tIFwiLi9lbmQuanNcIjtcblxudmFyIGlkID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zaXRpb24oZ3JvdXBzLCBwYXJlbnRzLCBuYW1lLCBpZCkge1xuICB0aGlzLl9ncm91cHMgPSBncm91cHM7XG4gIHRoaXMuX3BhcmVudHMgPSBwYXJlbnRzO1xuICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgdGhpcy5faWQgPSBpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNpdGlvbihuYW1lKSB7XG4gIHJldHVybiBzZWxlY3Rpb24oKS50cmFuc2l0aW9uKG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3SWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG52YXIgc2VsZWN0aW9uX3Byb3RvdHlwZSA9IHNlbGVjdGlvbi5wcm90b3R5cGU7XG5cblRyYW5zaXRpb24ucHJvdG90eXBlID0gdHJhbnNpdGlvbi5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUcmFuc2l0aW9uLFxuICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHRyYW5zaXRpb25fc2VsZWN0QWxsLFxuICBzZWxlY3RDaGlsZDogc2VsZWN0aW9uX3Byb3RvdHlwZS5zZWxlY3RDaGlsZCxcbiAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogdHJhbnNpdGlvbl9maWx0ZXIsXG4gIG1lcmdlOiB0cmFuc2l0aW9uX21lcmdlLFxuICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLFxuICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uX3RyYW5zaXRpb24sXG4gIGNhbGw6IHNlbGVjdGlvbl9wcm90b3R5cGUuY2FsbCxcbiAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZSxcbiAgc2l6ZTogc2VsZWN0aW9uX3Byb3RvdHlwZS5zaXplLFxuICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX3Byb3RvdHlwZS5lYWNoLFxuICBvbjogdHJhbnNpdGlvbl9vbixcbiAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLFxuICBhdHRyVHdlZW46IHRyYW5zaXRpb25fYXR0clR3ZWVuLFxuICBzdHlsZTogdHJhbnNpdGlvbl9zdHlsZSxcbiAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLFxuICB0ZXh0OiB0cmFuc2l0aW9uX3RleHQsXG4gIHRleHRUd2VlbjogdHJhbnNpdGlvbl90ZXh0VHdlZW4sXG4gIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsXG4gIHR3ZWVuOiB0cmFuc2l0aW9uX3R3ZWVuLFxuICBkZWxheTogdHJhbnNpdGlvbl9kZWxheSxcbiAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sXG4gIGVhc2U6IHRyYW5zaXRpb25fZWFzZSxcbiAgZWFzZVZhcnlpbmc6IHRyYW5zaXRpb25fZWFzZVZhcnlpbmcsXG4gIGVuZDogdHJhbnNpdGlvbl9lbmQsXG4gIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25fcHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsImltcG9ydCB7VHJhbnNpdGlvbiwgbmV3SWR9IGZyb20gXCIuLi90cmFuc2l0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUgZnJvbSBcIi4uL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7ZWFzZUN1YmljSW5PdXR9IGZyb20gXCJkMy1lYXNlXCI7XG5pbXBvcnQge25vd30gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBkZWZhdWx0VGltaW5nID0ge1xuICB0aW1lOiBudWxsLCAvLyBTZXQgb24gdXNlLlxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzZTogZWFzZUN1YmljSW5PdXRcbn07XG5cbmZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHtcbiAgdmFyIHRpbWluZztcbiAgd2hpbGUgKCEodGltaW5nID0gbm9kZS5fX3RyYW5zaXRpb24pIHx8ICEodGltaW5nID0gdGltaW5nW2lkXSkpIHtcbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0cmFuc2l0aW9uICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGltaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBpZCxcbiAgICAgIHRpbWluZztcblxuICBpZiAobmFtZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICBpZCA9IG5hbWUuX2lkLCBuYW1lID0gbmFtZS5fbmFtZTtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IG5ld0lkKCksICh0aW1pbmcgPSBkZWZhdWx0VGltaW5nKS50aW1lID0gbm93KCksIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZCwgaSwgZ3JvdXAsIHRpbWluZyB8fCBpbmhlcml0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCBzZWxlY3Rpb25faW50ZXJydXB0IGZyb20gXCIuL2ludGVycnVwdC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl90cmFuc2l0aW9uIGZyb20gXCIuL3RyYW5zaXRpb24uanNcIjtcblxuc2VsZWN0aW9uLnByb3RvdHlwZS5pbnRlcnJ1cHQgPSBzZWxlY3Rpb25faW50ZXJydXB0O1xuc2VsZWN0aW9uLnByb3RvdHlwZS50cmFuc2l0aW9uID0gc2VsZWN0aW9uX3RyYW5zaXRpb247XG4iLCJleHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHtcbiAgdGhpcy5rID0gaztcbiAgdGhpcy54ID0geDtcbiAgdGhpcy55ID0geTtcbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRyYW5zZm9ybSxcbiAgc2NhbGU6IGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gayA9PT0gMSA/IHRoaXMgOiBuZXcgVHJhbnNmb3JtKHRoaXMuayAqIGssIHRoaXMueCwgdGhpcy55KTtcbiAgfSxcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IDAgJiB5ID09PSAwID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rLCB0aGlzLnggKyB0aGlzLmsgKiB4LCB0aGlzLnkgKyB0aGlzLmsgKiB5KTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldO1xuICB9LFxuICBhcHBseVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCAqIHRoaXMuayArIHRoaXMueDtcbiAgfSxcbiAgYXBwbHlZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkgKiB0aGlzLmsgKyB0aGlzLnk7XG4gIH0sXG4gIGludmVydDogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdO1xuICB9LFxuICBpbnZlcnRYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4IC0gdGhpcy54KSAvIHRoaXMuaztcbiAgfSxcbiAgaW52ZXJ0WTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiAoeSAtIHRoaXMueSkgLyB0aGlzLms7XG4gIH0sXG4gIHJlc2NhbGVYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7XG4gIH0sXG4gIHJlc2NhbGVZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkuY29weSgpLmRvbWFpbih5LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WSwgdGhpcykubWFwKHkuaW52ZXJ0LCB5KSk7XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiKSBzY2FsZShcIiArIHRoaXMuayArIFwiKVwiO1xuICB9XG59O1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0gbmV3IFRyYW5zZm9ybSgxLCAwLCAwKTtcblxudHJhbnNmb3JtLnByb3RvdHlwZSA9IFRyYW5zZm9ybS5wcm90b3R5cGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX3pvb20pIGlmICghKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHJldHVybiBub2RlLl9fem9vbTtcbn1cbiIsIlxuLypcbiAgSFRETWF0aCBTdGF0aWMgQ2xhc3MgLSBOb3QgaW50ZW5kZWQgZm9yIGluc3RhbnRpYXRpb24hXG5cbiAgTW9kZWwgcGFyYW1ldGVyczpcbiAgICBrID0gZGlzY291bnQgZmFjdG9yICgwLCBJbmZpbml0eSlcblxuICBCZWhhdmlvcmFsIHZhcmlhYmxlczpcbiAgICBBID0gYW1vdW50XG4gICAgRCA9IGRlbGF5XG4gICAgViA9IHN1YmplY3RpdmUgdmFsdWVcblxuICBFcXVhdGlvbnM6XG4gICAgViA9IEEgLyAoMSArIGtEKVxuICAgIGsgPSAoQSAtIFYpIC8gKFZEKVxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhURE1hdGgge1xuICBzdGF0aWMgayA9IHtcbiAgICBERUZBVUxUOiAwLjA1LFxuICAgIE1JTjogMCxcbiAgICBNQVg6IDEwMCxcbiAgICBTVEVQOiAwLjAwMSxcbiAgICBKVU1QOiAwLjAxLFxuICB9O1xuXG4gIHN0YXRpYyBhZGsydihhLCBkLCBrKSB7XG4gICAgcmV0dXJuIGEgLyAoMSArIGsgKiBkKTtcbiAgfVxuXG4gIHN0YXRpYyBhZHYyayhhLCBkLCB2KSB7XG4gICAgcmV0dXJuIChhIC0gdikgLyAodiAqIGQpO1xuICB9XG59XG4iLCJcbi8vIEludGVybmFsIGRlcGVuZGVuY2llc1xuaW1wb3J0IEhURE1hdGggZnJvbSAnLi9odGQtbWF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IEhURE1hdGg7XG4iLCIvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbXCJvZmZcIiwgXCJzZWxmXCJdICovXG5cbi8vIE5lZWRlZCBmb3IgZDMgaW4gV2ViV29ya2VyIVxuaW1wb3J0ICdyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUnO1xuXG5pbXBvcnQgKiBhcyBCYXllc0Rpc3RyaWJ1dGlvbnMgZnJvbSAnYmF5ZXMuanMvZGlzdHJpYnV0aW9ucyc7XG5pbXBvcnQgKiBhcyBCYXllc01jbWMgZnJvbSAnYmF5ZXMuanMvbWNtYyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgSFRETWF0aCBmcm9tICdAZGVjaWRhYmxlcy9kaXNjb3VudGFibGUtbWF0aCc7XG5cbnNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICBrOiB7dHlwZTogJ3JlYWwnLCBsb3dlcjogSFRETWF0aC5rLk1JTiwgdXBwZXI6IEhURE1hdGguay5NQVh9LFxuICAgIGx1Y2U6IHt0eXBlOiAncmVhbCcsIGxvd2VyOiAwLCB1cHBlcjogMTAwfSxcbiAgfTtcblxuICBjb25zdCBsb2dQb3N0ID0gKHN0YXRlLCBkYXRhKSA9PiB7XG4gICAgbGV0IGxwID0gMDtcblxuICAgIC8vIFByaW9yc1xuICAgIGNvbnN0IGtNZWFuID0gMjtcbiAgICBjb25zdCBrU2hhcGUgPSAzO1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5nYW1tYShcbiAgICAgIHN0YXRlLmssXG4gICAgICBrU2hhcGUsXG4gICAgICBrU2hhcGUgLyBrTWVhbixcbiAgICApO1xuICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmssIDAsIDEwMCk7XG5cbiAgICBjb25zdCBsdWNlTWVhbiA9IDI7XG4gICAgY29uc3QgbHVjZVNoYXBlID0gMztcbiAgICBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMuZ2FtbWEoXG4gICAgICBzdGF0ZS5sdWNlLFxuICAgICAgbHVjZVNoYXBlLFxuICAgICAgbHVjZVNoYXBlIC8gbHVjZU1lYW4sXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5sdWNlLCAwLCAxMDApO1xuXG4gICAgLy8gTGlrZWxpaG9vZFxuICAgIGRhdGEuZm9yRWFjaCgoY2hvaWNlKSA9PiB7XG4gICAgICAvLyBWYWx1ZXNcbiAgICAgIGNvbnN0IHZzID0gSFRETWF0aC5hZGsydihjaG9pY2UuYXMsIGNob2ljZS5kcywgc3RhdGUuayk7XG4gICAgICBjb25zdCB2bCA9IEhURE1hdGguYWRrMnYoY2hvaWNlLmFsLCBjaG9pY2UuZGwsIHN0YXRlLmspO1xuXG4gICAgICAvLyBDaG9pY2Ugb2Ygc29vbmVyIG9yIGxhdGVyIGlzIHNhbXBsZWQgZnJvbSBhIEJlcm5vdWxsaSBkaXN0cmlidXRpb25cbiAgICAgIC8vIEx1Y2UgY2hvaWNlIHJ1bGUgaXMgdXNlZCB0byBjb21wdXRlIHByb2JhYmlsaXR5IG9mIHdhaXRpbmchICgwID0gc29vbmVyLCAxID0gbGF0ZXIpXG4gICAgICBjb25zdCBiaW52YWwgPSAxIC8gKDEgKyBNYXRoLmV4cChzdGF0ZS5sdWNlICogKHZzIC0gdmwpKSk7XG5cbiAgICAgIC8vIEFjdHVhbCByZXNwb25zZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSAoY2hvaWNlLnJlc3BvbnNlID09PSAnZmlyc3QnKSA/IDAgOiAxO1xuXG4gICAgICBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMuYmVybihyZXNwb25zZSwgYmludmFsKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBscDtcbiAgfTtcblxuICAvLyBJbml0aWFsaXppbmcgdGhlIHNhbXBsZXJcbiAgY29uc3Qgc2FtcGxlciA9IG5ldyBCYXllc01jbWMuQW13Z1NhbXBsZXIocGFyYW1zLCBsb2dQb3N0LCBldmVudC5kYXRhKTtcbiAgLy8gQnVybmluZyBzb21lIHNhbXBsZXMgdG8gdGhlIE1DTUMgZ29kcyBhbmQgc2FtcGxpbmcgNTAwMCBkcmF3c1xuICBzYW1wbGVyLmJ1cm4oMTAwMCk7XG4gIGNvbnN0IHNhbXBsZXMgPSBzYW1wbGVyLnNhbXBsZSg1MDAwKTtcblxuICAvLyBFeHRyYWN0IHN1bW1hcnkgc3RhdHNcbiAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICBrOiBkMy5tZWRpYW4oc2FtcGxlcy5rKSxcbiAgICBsdWNlOiBkMy5tZWRpYW4oc2FtcGxlcy5sdWNlKSxcbiAgfTtcblxuICBzZWxmLnBvc3RNZXNzYWdlKHtyZXN1bHRzOiByZXN1bHRzLCBzYW1wbGVzOiBzYW1wbGVzfSk7XG59O1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImxkIiwidGhpcyIsImxnYW1tYSIsIngiLCJqIiwiY29mIiwic2VyIiwieHgiLCJ5IiwidG1wIiwibG9nIiwibGZhY3RvcmlhbCIsIm4iLCJOYU4iLCJsY2hvb3NlIiwiayIsImxiZXRhIiwiYSIsImIiLCJNYXRoIiwiZXhwIiwiYWJzIiwicG93Iiwic3FydCIsInBpIiwiUEkiLCJiZXRhIiwic2hhcGUxIiwic2hhcGUyIiwiSW5maW5pdHkiLCJjYXVjaHkiLCJsb2NhdGlvbiIsInNjYWxlIiwibm9ybSIsIm1lYW4iLCJzZCIsImJpdmFybm9ybSIsImNvcnIiLCJ6Iiwibm9ybWFsaXppbmdfZmFjdG9yIiwiYml2YXJfbG9nX2RlbnMiLCJsYXBsYWNlIiwiZGV4cCIsImdhbW1hIiwic2hhcGUiLCJyYXRlIiwiaW52Z2FtbWEiLCJsbm9ybSIsIm1lYW5sb2ciLCJzZGxvZyIsInBhcmV0byIsInQiLCJkZiIsIndlaWJ1bGwiLCJ0bXAxIiwidG1wMiIsImxvZ2lzIiwiZSIsImYiLCJkaXJpY2hsZXQiLCJhbHBoYSIsInN1bV9hbHBoYSIsInN1bV9sZ2FtbWFfYWxwaGEiLCJzdW1fYWxwaGFfc3ViXzFfbG9nX3giLCJsZW5ndGgiLCJpIiwidW5pZiIsIm1pbiIsIm1heCIsImJlcm4iLCJwcm9iIiwiY2F0IiwicHJvYnMiLCJiaW5vbSIsInNpemUiLCJuYmlub20iLCJoeXBlciIsIm0iLCJwb2lzIiwibGFtYmRhIiwibWNtYyIsInJ1bmlmIiwicmFuZG9tIiwicnVuaWZfZGlzY3JldGUiLCJmbG9vciIsInJub3JtIiwidSIsInYiLCJxIiwiZGVlcF9jbG9uZSIsInNyYyIsIm1peGluIiwiZGVzdCIsInNvdXJjZSIsImNvcHlGdW5jIiwibmFtZSIsInMiLCJlbXB0eSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIm5vZGVUeXBlIiwiY2xvbmVOb2RlIiwiRGF0ZSIsImdldFRpbWUiLCJSZWdFeHAiLCJyIiwibCIsIkFycmF5IiwicHVzaCIsImNvbnN0cnVjdG9yIiwiY2xvbmVfcGFyYW1fZHJhdyIsImlzQXJyYXkiLCJ4X2NvcHkiLCJzbGljZSIsImlzX251bWJlciIsIm9iamVjdCIsIk51bWJlciIsImNyZWF0ZV9hcnJheSIsImRpbSIsImluaXQiLCJhcnIiLCJhcnJheV9kaW0iLCJjb25jYXQiLCJhcnJheV9lcXVhbCIsImExIiwiYTIiLCJuZXN0ZWRfYXJyYXlfYXBwbHkiLCJmdW4iLCJyZXN1bHQiLCJzaHVmZmxlX2FycmF5IiwiYXJyYXkiLCJ0ZW1wIiwibmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSIsImxlbiIsImFycmF5X2lzIiwiYXJyYXlfaSIsImdldF9vcHRpb24iLCJvcHRpb25fbmFtZSIsIm9wdGlvbnMiLCJkZWZhdWxfdmFsdWUiLCJoYXNPd25Qcm9wZXJ0eSIsInVuZGVmaW5lZCIsImdldF9tdWx0aWRpbV9vcHRpb24iLCJ2YWx1ZSIsInBhcmFtX2luaXRfZml4ZWQiLCJ0eXBlIiwibG93ZXIiLCJ1cHBlciIsInJvdW5kIiwiY29tcGxldGVfcGFyYW1zIiwicGFyYW1zX3RvX2NvbXBsZXRlIiwicGFyYW1faW5pdCIsInBhcmFtcyIsInBhcmFtX25hbWUiLCJwYXJhbSIsIlN0ZXBwZXIiLCJzdGF0ZSIsImxvZ19wb3N0Iiwic3RlcCIsInN0YXJ0X2FkYXB0YXRpb24iLCJzdG9wX2FkYXB0YXRpb24iLCJpbmZvIiwiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIiLCJnZW5lcmF0ZV9wcm9wb3NhbCIsInBhcmFtX25hbWVzIiwia2V5cyIsInByb3BfbG9nX3NjYWxlIiwiYmF0Y2hfc2l6ZSIsIm1heF9hZGFwdGF0aW9uIiwiaW5pdGlhbF9hZGFwdGF0aW9uIiwidGFyZ2V0X2FjY2VwdF9yYXRlIiwiaXNfYWRhcHRpbmciLCJhY2NlcHRhbmNlX2NvdW50IiwiYmF0Y2hfY291bnQiLCJpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uIiwiY3JlYXRlIiwicGFyYW1fc3RhdGUiLCJwYXJhbV9wcm9wb3NhbCIsImN1cnJfbG9nX2RlbnMiLCJwcm9wX2xvZ19kZW5zIiwiYWNjZXB0X3Byb2IiLCJsb2dfc2RfYWRqdXN0bWVudCIsIm5vcm1hbF9wcm9wb3NhbCIsIlJlYWxNZXRyb3BvbGlzU3RlcHBlciIsImRpc2NyZXRlX25vcm1hbF9wcm9wb3NhbCIsIkludE1ldHJvcG9saXNTdGVwcGVyIiwiTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciIsIlN1YlN0ZXBwZXIiLCJjcmVhdGVfc3Vic3RlcHBlcnMiLCJzdWJzdGF0ZSIsInN1YnN0ZXBwZXJzIiwic3Vib3B0aW9ucyIsInN1YnBhcmFtIiwic3Vic3RlcHBlciIsIk11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIiwiTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciIsIkJpbmFyeVN0ZXBwZXIiLCJ6ZXJvX2xvZ19kZW5zIiwib25lX2xvZ19kZW5zIiwibWF4X2xvZ19kZW5zIiwiemVyb19wcm9iIiwiQmluYXJ5Q29tcG9uZW50U3RlcHBlciIsInN1YnBhcmFtcyIsIkFtd2dTdGVwcGVyIiwiU2VsZWN0U3RlcHBlciIsInBhcmFtX29iamVjdF93cmFwIiwicGFyYW1fb3B0aW9ucyIsIlNhbXBsZXIiLCJkYXRhIiwicGFyYW1faW5pdF9mdW4iLCJ0aGlubmluZ19pbnRlcnZhbCIsInBhcmFtc190b19tb25pdG9yIiwidGhpbiIsIm1vbml0b3IiLCJzdGVwcGVycyIsImNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlIiwic2FtcGxlIiwibl9pdGVyYXRpb25zIiwibW9uaXRvcmVkX3BhcmFtcyIsImN1cnJfc2FtcGxlIiwiYnVybiIsIkFtd2dTYW1wbGVyIiwiYXNjZW5kaW5nIiwibnVtYmVycyIsInZhbHVlcyIsInZhbHVlb2YiLCJjb21wYXJlRGVmaW5lZCIsImNvbXBhcmUiLCJhc2NlbmRpbmdEZWZpbmVkIiwiVHlwZUVycm9yIiwicXVpY2tzZWxlY3QiLCJsZWZ0IiwicmlnaHQiLCJuZXdMZWZ0IiwibmV3UmlnaHQiLCJzd2FwIiwicXVhbnRpbGUiLCJwIiwiRmxvYXQ2NEFycmF5IiwiZnJvbSIsImlzTmFOIiwiaTAiLCJ2YWx1ZTAiLCJzdWJhcnJheSIsInZhbHVlMSIsIm1lZGlhbiIsIm5vb3AiLCJkaXNwYXRjaCIsImFyZ3VtZW50cyIsIl8iLCJ0ZXN0IiwiRXJyb3IiLCJEaXNwYXRjaCIsInBhcnNlVHlwZW5hbWVzIiwidHlwZW5hbWVzIiwidHlwZXMiLCJ0cmltIiwic3BsaXQiLCJtYXAiLCJpbmRleE9mIiwib24iLCJ0eXBlbmFtZSIsImNhbGxiYWNrIiwiVCIsImdldCIsInNldCIsImNvcHkiLCJ0aGF0IiwiYXJncyIsImFwcGx5IiwiYyIsInhodG1sIiwic3ZnIiwieGxpbmsiLCJ4bWwiLCJ4bWxucyIsInByZWZpeCIsIm5hbWVzcGFjZXMiLCJzcGFjZSIsImxvY2FsIiwiY3JlYXRvckluaGVyaXQiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJ1cmkiLCJuYW1lc3BhY2VVUkkiLCJkb2N1bWVudEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRvckZpeGVkIiwiZnVsbG5hbWUiLCJuYW1lc3BhY2UiLCJub25lIiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0IiwiZ3JvdXBzIiwiX2dyb3VwcyIsInN1Ymdyb3VwcyIsImdyb3VwIiwic3ViZ3JvdXAiLCJub2RlIiwic3Vibm9kZSIsIl9fZGF0YV9fIiwiU2VsZWN0aW9uIiwiX3BhcmVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXJyYXlBbGwiLCJzZWxlY3RvckFsbCIsInBhcmVudHMiLCJtYXRjaGVzIiwiY2hpbGRNYXRjaGVyIiwiZmluZCIsImNoaWxkRmluZCIsIm1hdGNoIiwiY2hpbGRyZW4iLCJjaGlsZEZpcnN0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJmaWx0ZXIiLCJjaGlsZHJlbkZpbHRlciIsInNlbGVjdEFsbCIsIm1hdGNoZXIiLCJ1cGRhdGUiLCJfZW50ZXIiLCJzcGFyc2UiLCJFbnRlck5vZGUiLCJwYXJlbnQiLCJkYXR1bSIsIl9uZXh0IiwiX3BhcmVudCIsImFwcGVuZENoaWxkIiwiY2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJuZXh0IiwiYmluZEluZGV4IiwiZW50ZXIiLCJleGl0IiwiZ3JvdXBMZW5ndGgiLCJkYXRhTGVuZ3RoIiwiYmluZEtleSIsImtleSIsIm5vZGVCeUtleVZhbHVlIiwiTWFwIiwia2V5VmFsdWVzIiwia2V5VmFsdWUiLCJoYXMiLCJkZWxldGUiLCJiaW5kIiwiY29uc3RhbnQiLCJhcnJheWxpa2UiLCJlbnRlckdyb3VwIiwidXBkYXRlR3JvdXAiLCJleGl0R3JvdXAiLCJpMSIsInByZXZpb3VzIiwiX2V4aXQiLCJvbmVudGVyIiwib251cGRhdGUiLCJvbmV4aXQiLCJzZWxlY3Rpb24iLCJhcHBlbmQiLCJyZW1vdmUiLCJtZXJnZSIsIm9yZGVyIiwiY29udGV4dCIsImdyb3VwczAiLCJncm91cHMxIiwibTAiLCJtMSIsIm1lcmdlcyIsImdyb3VwMCIsImdyb3VwMSIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwicGFyZW50Tm9kZSIsImNvbXBhcmVOb2RlIiwic29ydGdyb3VwcyIsInNvcnRncm91cCIsInNvcnQiLCJhdHRyUmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiYXR0clJlbW92ZU5TIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJhdHRyQ29uc3RhbnQiLCJzZXRBdHRyaWJ1dGUiLCJhdHRyQ29uc3RhbnROUyIsInNldEF0dHJpYnV0ZU5TIiwiYXR0ckZ1bmN0aW9uIiwiYXR0ckZ1bmN0aW9uTlMiLCJnZXRBdHRyaWJ1dGVOUyIsImdldEF0dHJpYnV0ZSIsImVhY2giLCJkZWZhdWx0VmlldyIsInN0eWxlUmVtb3ZlIiwic3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsInN0eWxlQ29uc3RhbnQiLCJwcmlvcml0eSIsInNldFByb3BlcnR5Iiwic3R5bGVGdW5jdGlvbiIsInN0eWxlVmFsdWUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInByb3BlcnR5UmVtb3ZlIiwicHJvcGVydHlDb25zdGFudCIsInByb3BlcnR5RnVuY3Rpb24iLCJjbGFzc0FycmF5Iiwic3RyaW5nIiwiY2xhc3NMaXN0IiwiQ2xhc3NMaXN0IiwiX25vZGUiLCJfbmFtZXMiLCJhZGQiLCJqb2luIiwic3BsaWNlIiwiY29udGFpbnMiLCJjbGFzc2VkQWRkIiwibmFtZXMiLCJsaXN0IiwiY2xhc3NlZFJlbW92ZSIsImNsYXNzZWRUcnVlIiwiY2xhc3NlZEZhbHNlIiwiY2xhc3NlZEZ1bmN0aW9uIiwidGV4dFJlbW92ZSIsInRleHRDb250ZW50IiwidGV4dENvbnN0YW50IiwidGV4dEZ1bmN0aW9uIiwiaHRtbFJlbW92ZSIsImlubmVySFRNTCIsImh0bWxDb25zdGFudCIsImh0bWxGdW5jdGlvbiIsInJhaXNlIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJmaXJzdENoaWxkIiwiY3JlYXRvciIsImNvbnN0YW50TnVsbCIsImJlZm9yZSIsInJlbW92ZUNoaWxkIiwic2VsZWN0aW9uX2Nsb25lU2hhbGxvdyIsImNsb25lIiwic2VsZWN0aW9uX2Nsb25lRGVlcCIsImRlZXAiLCJwcm9wZXJ0eSIsImNvbnRleHRMaXN0ZW5lciIsImxpc3RlbmVyIiwiZXZlbnQiLCJvblJlbW92ZSIsIl9fb24iLCJvIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uQWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJ3aW5kb3ciLCJDdXN0b21FdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJkZXRhaWwiLCJkaXNwYXRjaENvbnN0YW50IiwiZGlzcGF0Y2hGdW5jdGlvbiIsInNlbGVjdGlvbl9zZWxlY3Rpb24iLCJzZWxlY3Rpb25fc2VsZWN0Iiwic2VsZWN0aW9uX3NlbGVjdEFsbCIsInNlbGVjdENoaWxkIiwic2VsZWN0aW9uX3NlbGVjdENoaWxkIiwic2VsZWN0Q2hpbGRyZW4iLCJzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4iLCJzZWxlY3Rpb25fZmlsdGVyIiwic2VsZWN0aW9uX2RhdGEiLCJzZWxlY3Rpb25fZW50ZXIiLCJzZWxlY3Rpb25fZXhpdCIsInNlbGVjdGlvbl9qb2luIiwic2VsZWN0aW9uX21lcmdlIiwic2VsZWN0aW9uX29yZGVyIiwic2VsZWN0aW9uX3NvcnQiLCJzZWxlY3Rpb25fY2FsbCIsIm5vZGVzIiwic2VsZWN0aW9uX25vZGVzIiwic2VsZWN0aW9uX25vZGUiLCJzZWxlY3Rpb25fc2l6ZSIsInNlbGVjdGlvbl9lbXB0eSIsInNlbGVjdGlvbl9lYWNoIiwiYXR0ciIsInNlbGVjdGlvbl9hdHRyIiwic2VsZWN0aW9uX3N0eWxlIiwic2VsZWN0aW9uX3Byb3BlcnR5IiwiY2xhc3NlZCIsInNlbGVjdGlvbl9jbGFzc2VkIiwidGV4dCIsInNlbGVjdGlvbl90ZXh0IiwiaHRtbCIsInNlbGVjdGlvbl9odG1sIiwic2VsZWN0aW9uX3JhaXNlIiwic2VsZWN0aW9uX2xvd2VyIiwic2VsZWN0aW9uX2FwcGVuZCIsImluc2VydCIsInNlbGVjdGlvbl9pbnNlcnQiLCJzZWxlY3Rpb25fcmVtb3ZlIiwic2VsZWN0aW9uX2Nsb25lIiwic2VsZWN0aW9uX2RhdHVtIiwic2VsZWN0aW9uX29uIiwic2VsZWN0aW9uX2Rpc3BhdGNoIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJzZWxlY3Rpb25faXRlcmF0b3IiLCJleHRlbmQiLCJkZWZpbml0aW9uIiwiQ29sb3IiLCJkYXJrZXIiLCJicmlnaHRlciIsInJlSSIsInJlTiIsInJlUCIsInJlSGV4IiwicmVSZ2JJbnRlZ2VyIiwicmVSZ2JQZXJjZW50IiwicmVSZ2JhSW50ZWdlciIsInJlUmdiYVBlcmNlbnQiLCJyZUhzbFBlcmNlbnQiLCJyZUhzbGFQZXJjZW50IiwibmFtZWQiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJsdWV2aW9sZXQiLCJicm93biIsImJ1cmx5d29vZCIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JlZW4iLCJkYXJrZ3JleSIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyYXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiZ3JleSIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYWdlbnRhIiwibWFyb29uIiwibWVkaXVtYXF1YW1hcmluZSIsIm1lZGl1bWJsdWUiLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXR1cnF1b2lzZSIsInBhbGV2aW9sZXRyZWQiLCJwYXBheWF3aGlwIiwicGVhY2hwdWZmIiwicGVydSIsInBpbmsiLCJwbHVtIiwicG93ZGVyYmx1ZSIsInB1cnBsZSIsInJlYmVjY2FwdXJwbGUiLCJyZWQiLCJyb3N5YnJvd24iLCJyb3lhbGJsdWUiLCJzYWRkbGVicm93biIsInNhbG1vbiIsInNhbmR5YnJvd24iLCJzZWFncmVlbiIsInNlYXNoZWxsIiwic2llbm5hIiwic2lsdmVyIiwic2t5Ymx1ZSIsInNsYXRlYmx1ZSIsInNsYXRlZ3JheSIsInNsYXRlZ3JleSIsInNub3ciLCJzcHJpbmdncmVlbiIsInN0ZWVsYmx1ZSIsInRhbiIsInRlYWwiLCJ0aGlzdGxlIiwidG9tYXRvIiwidHVycXVvaXNlIiwidmlvbGV0Iiwid2hlYXQiLCJ3aGl0ZSIsIndoaXRlc21va2UiLCJ5ZWxsb3ciLCJ5ZWxsb3dncmVlbiIsImRlZmluZSIsImNvbG9yIiwiY2hhbm5lbHMiLCJhc3NpZ24iLCJkaXNwbGF5YWJsZSIsInJnYiIsImhleCIsImNvbG9yX2Zvcm1hdEhleCIsImZvcm1hdEhleCIsImZvcm1hdEhleDgiLCJjb2xvcl9mb3JtYXRIZXg4IiwiZm9ybWF0SHNsIiwiY29sb3JfZm9ybWF0SHNsIiwiZm9ybWF0UmdiIiwiY29sb3JfZm9ybWF0UmdiIiwiaHNsQ29udmVydCIsImZvcm1hdCIsInRvTG93ZXJDYXNlIiwiZXhlYyIsInBhcnNlSW50IiwicmdibiIsIlJnYiIsInJnYmEiLCJoc2xhIiwiZyIsInJnYkNvbnZlcnQiLCJvcGFjaXR5IiwiY2xhbXAiLCJjbGFtcGkiLCJjbGFtcGEiLCJyZ2JfZm9ybWF0SGV4IiwicmdiX2Zvcm1hdEhleDgiLCJyZ2JfZm9ybWF0UmdiIiwiaCIsIkhzbCIsImhzbCIsIm0yIiwiaHNsMnJnYiIsImNsYW1waCIsImNsYW1wdCIsImxpbmVhciIsImQiLCJleHBvbmVudGlhbCIsIm5vZ2FtbWEiLCJyZ2JHYW1tYSIsInN0YXJ0IiwiZW5kIiwiY29sb3JSZ2IiLCJyZUEiLCJyZUIiLCJ6ZXJvIiwib25lIiwiYmkiLCJsYXN0SW5kZXgiLCJhbSIsImJtIiwiYnMiLCJpbmRleCIsIm51bWJlciIsImRlZ3JlZXMiLCJpZGVudGl0eSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicm90YXRlIiwic2tld1giLCJzY2FsZVgiLCJzY2FsZVkiLCJhdGFuMiIsImF0YW4iLCJzdmdOb2RlIiwicGFyc2VDc3MiLCJET01NYXRyaXgiLCJXZWJLaXRDU1NNYXRyaXgiLCJpc0lkZW50aXR5IiwiZGVjb21wb3NlIiwicGFyc2VTdmciLCJ0cmFuc2Zvcm0iLCJiYXNlVmFsIiwiY29uc29saWRhdGUiLCJtYXRyaXgiLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybSIsInBhcnNlIiwicHhDb21tYSIsInB4UGFyZW4iLCJkZWdQYXJlbiIsInBvcCIsInRyYW5zbGF0ZSIsInhhIiwieWEiLCJ4YiIsInliIiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MiLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybVN2ZyIsImZyYW1lIiwidGltZW91dCIsImludGVydmFsIiwicG9rZURlbGF5IiwidGFza0hlYWQiLCJ0YXNrVGFpbCIsImNsb2NrTGFzdCIsImNsb2NrTm93IiwiY2xvY2tTa2V3IiwiY2xvY2siLCJwZXJmb3JtYW5jZSIsIm5vdyIsInNldEZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImNsZWFyTm93IiwiVGltZXIiLCJfY2FsbCIsIl90aW1lIiwidGltZXIiLCJyZXN0YXJ0IiwiZGVsYXkiLCJ0aW1lIiwic2xlZXAiLCJzdG9wIiwidGltZXJGbHVzaCIsIndha2UiLCJuYXAiLCJwb2tlIiwidDAiLCJ0MSIsInQyIiwiY2xlYXJUaW1lb3V0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsImVtcHR5T24iLCJlbXB0eVR3ZWVuIiwiQ1JFQVRFRCIsIlNDSEVEVUxFRCIsIlNUQVJUSU5HIiwiU1RBUlRFRCIsIlJVTk5JTkciLCJFTkRJTkciLCJFTkRFRCIsImlkIiwidGltaW5nIiwic2NoZWR1bGVzIiwiX190cmFuc2l0aW9uIiwidHdlZW4iLCJkdXJhdGlvbiIsImVhc2UiLCJzY2hlZHVsZSIsInNlbGYiLCJ0aWNrIiwiYWN0aXZlIiwiaW50ZXJydXB0IiwidHdlZW5SZW1vdmUiLCJ0d2VlbjAiLCJ0d2VlbjEiLCJ0d2VlbkZ1bmN0aW9uIiwiX2lkIiwidHdlZW5WYWx1ZSIsInRyYW5zaXRpb24iLCJpbnRlcnBvbGF0ZU51bWJlciIsImludGVycG9sYXRlUmdiIiwiaW50ZXJwb2xhdGVTdHJpbmciLCJpbnRlcnBvbGF0ZSIsInN0cmluZzAwIiwic3RyaW5nMSIsImludGVycG9sYXRlMCIsInN0cmluZzAiLCJzdHJpbmcxMCIsImF0dHJUd2VlbiIsImF0dHJJbnRlcnBvbGF0ZSIsImF0dHJJbnRlcnBvbGF0ZU5TIiwiYXR0clR3ZWVuTlMiLCJfdmFsdWUiLCJkZWxheUZ1bmN0aW9uIiwiZGVsYXlDb25zdGFudCIsImR1cmF0aW9uRnVuY3Rpb24iLCJkdXJhdGlvbkNvbnN0YW50IiwiZWFzZUNvbnN0YW50IiwiZWFzZVZhcnlpbmciLCJUcmFuc2l0aW9uIiwiX25hbWUiLCJldmVyeSIsIm9uRnVuY3Rpb24iLCJvbjAiLCJvbjEiLCJzaXQiLCJyZW1vdmVGdW5jdGlvbiIsImluaGVyaXQiLCJzdHlsZU51bGwiLCJzdHlsZU1heWJlUmVtb3ZlIiwibGlzdGVuZXIwIiwic3R5bGVUd2VlbiIsInN0eWxlSW50ZXJwb2xhdGUiLCJ0ZXh0SW50ZXJwb2xhdGUiLCJ0ZXh0VHdlZW4iLCJpZDAiLCJpZDEiLCJuZXdJZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2FuY2VsIiwic2VsZWN0aW9uX3Byb3RvdHlwZSIsInRyYW5zaXRpb25fc2VsZWN0IiwidHJhbnNpdGlvbl9zZWxlY3RBbGwiLCJ0cmFuc2l0aW9uX2ZpbHRlciIsInRyYW5zaXRpb25fbWVyZ2UiLCJ0cmFuc2l0aW9uX3NlbGVjdGlvbiIsInRyYW5zaXRpb25fdHJhbnNpdGlvbiIsInRyYW5zaXRpb25fb24iLCJ0cmFuc2l0aW9uX2F0dHIiLCJ0cmFuc2l0aW9uX2F0dHJUd2VlbiIsInRyYW5zaXRpb25fc3R5bGUiLCJ0cmFuc2l0aW9uX3N0eWxlVHdlZW4iLCJ0cmFuc2l0aW9uX3RleHQiLCJ0cmFuc2l0aW9uX3RleHRUd2VlbiIsInRyYW5zaXRpb25fcmVtb3ZlIiwidHJhbnNpdGlvbl90d2VlbiIsInRyYW5zaXRpb25fZGVsYXkiLCJ0cmFuc2l0aW9uX2R1cmF0aW9uIiwidHJhbnNpdGlvbl9lYXNlIiwidHJhbnNpdGlvbl9lYXNlVmFyeWluZyIsInRyYW5zaXRpb25fZW5kIiwiY3ViaWNJbk91dCIsImRlZmF1bHRUaW1pbmciLCJlYXNlQ3ViaWNJbk91dCIsInNlbGVjdGlvbl9pbnRlcnJ1cHQiLCJzZWxlY3Rpb25fdHJhbnNpdGlvbiIsIlRyYW5zZm9ybSIsInBvaW50IiwiYXBwbHlYIiwiYXBwbHlZIiwiaW52ZXJ0IiwiaW52ZXJ0WCIsImludmVydFkiLCJyZXNjYWxlWCIsImRvbWFpbiIsInJhbmdlIiwicmVzY2FsZVkiLCJIVERNYXRoIiwiREVGQVVMVCIsIk1JTiIsIk1BWCIsIlNURVAiLCJKVU1QIiwiYWRrMnYiLCJhZHYyayIsIm9ubWVzc2FnZSIsImx1Y2UiLCJsb2dQb3N0IiwibHAiLCJrTWVhbiIsImtTaGFwZSIsIkJheWVzRGlzdHJpYnV0aW9ucyIsImx1Y2VNZWFuIiwibHVjZVNoYXBlIiwiZm9yRWFjaCIsImNob2ljZSIsInZzIiwiYXMiLCJkcyIsInZsIiwiYWwiLCJkbCIsImJpbnZhbCIsInJlc3BvbnNlIiwic2FtcGxlciIsIkJheWVzTWNtYyIsInNhbXBsZXMiLCJyZXN1bHRzIiwiZDMiLCJwb3N0TWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7RUFHQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7RUFFQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7RUFPQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7SUFDQyxDQUFBLFVBQVVBLElBQUksRUFBRUMsT0FBTyxFQUFFO01BSWYsSUFBa0NDLE1BQU0sQ0FBQ0MsT0FBTyxFQUFFO0VBQzdEO0VBQ0E7RUFDQTtFQUNRRCxNQUFBQSxNQUFBLENBQUFDLE9BQUEsR0FBaUJGLE9BQU8sRUFBRTtFQUNsQyxJQUFBLENBQUssTUFBTTtFQUNYO0VBQ1FELE1BQUFBLElBQUksQ0FBQ0ksRUFBRSxHQUFHSCxPQUFPLEVBQUU7RUFDM0IsSUFBQTtJQUNBLENBQUMsRUFBQ0ksYUFBSSxFQUFFLFlBQVc7RUFDbkI7TUFDRSxJQUFJRCxFQUFFLEdBQUksRUFBRTs7RUFFZDtFQUNBOztFQUVFLElBQUEsSUFBSUUsTUFBTSxHQUFHLFVBQVNDLENBQUMsRUFBRTtRQUN2QixJQUFJQyxDQUFDLEdBQUcsQ0FBQztFQUNULE1BQUEsSUFBSUMsR0FBRyxHQUFHLENBQ1IsaUJBQWlCLEVBQUUsa0JBQWtCLEVBQUUsaUJBQWlCLEVBQ3hELGtCQUFrQixFQUFFLHFCQUFxQixFQUFFLGtCQUFtQixDQUMvRDtRQUNELElBQUlDLEdBQUcsR0FBRyxpQkFBaUI7RUFDM0IsTUFBQSxJQUFJQyxFQUFFLEVBQUVDLENBQUMsRUFBRUMsR0FBRztRQUNkQSxHQUFHLEdBQUcsQ0FBQ0QsQ0FBQyxHQUFHRCxFQUFFLEdBQUdKLENBQUMsSUFBSSxHQUFHO1FBQ3hCTSxHQUFHLElBQUksQ0FBQ0YsRUFBRSxHQUFHLEdBQUcsSUFBSUcsR0FBRyxDQUFDRCxH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QUVELE1BQU0sQ0FBQztFQUNqRCxJQUFBLENBQUMsQ0FBQztFQUVGLElBQUEsT0FBT2QsRUFBRTtJQUNYLENBQUM7O0VBRUQ7RUFDQSxFQUFBLE1BQU1nQixPQUFPLEdBQUcsSUFBSUMsdUJBQXFCLENBQUMvd0IsTUFBTSxFQUFFNnZCLE9BQU8sRUFBRXpkLEtBQUssQ0FBQzVPLElBQUksQ0FBQztFQUN0RTtFQUNBc3RCLEVBQUFBLE9BQU8sQ0FBQzFzQixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2xCLEVBQUEsTUFBTTRzQixPQUFPLEdBQUdGLE9BQU8sQ0FBQzlzQixNQUFNLENBQUMsSUFBSSxDQUFDOztFQUVwQztFQUNBLEVBQUEsTUFBTWl0QixPQUFPLEdBQUc7TUFDZDU1QixDQUFDLEVBQUU2NUIsTUFBUyxDQUFDRixPQUFPLENBQUMzNUIsQ0FBQyxDQUFDO0VBQ3ZCdTRCLElBQUFBLElBQUksRUFBRXNCLE1BQVMsQ0FBQ0YsT0FBTyxDQUFDcEIsSUFBSTtLQUM3QjtJQUVEcEcsSUFBSSxDQUFDMkgsV0FBVyxDQUFDO0VBQUNGLElBQUFBLE9BQU8sRUFBRUEsT0FBTztFQUFFRCxJQUFBQSxPQUFPLEVBQUVBO0VBQU8sR0FBQyxDQUFDO0VBQ3hELENBQUM7Ozs7OzsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Nl19");class HTDFit extends DiscountableElement{static get properties(){return{}}constructor(){super(),this.k=HTDMath.k.DEFAULT,this.choices=[],this.samples=null,this.working=!1,this.queued=!1,this.worker=new WorkerFactory$1,this.worker.onmessage=t=>{this.working=!1,this.samples=t.data.samples,this.k=t.data.results.k,this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-fit-update",{detail:{k:this.k},bubbles:!0})),this.queued&&this.fit()},this.fit()}fit(){this.working?this.queued=!0:(this.worker.postMessage(this.choices),this.working=!0,this.queued=!1)}clear(){this.choices=[],this.fit()}get(t="default"){const e=this.choices.find(e=>e.name===t);return void 0===e?null:e}set(t,e,i,r,n,a="",s=""){const o=this.choices.find(t=>t.name===a);void 0===o?this.choices.push({as:t,ds:e,al:i,dl:r,response:n,name:a,label:s}):(o.as=t,o.ds=e,o.al=i,o.dl=r,o.response=n,o.label=s),this.fit()}static get styles(){return[super.styles,i$6`
        /* :host {
          display: inline-block;
        } */

        figure {
          margin: 0.625rem;
        }

        figure h2 {
          margin: 0.25rem 0;

          font-size: 1.125rem;
          font-weight: 600;
        }

        .trace,
        .hist {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div>
        <div>After ${this.choices.length} trials:</div>
        <div>Current:
          <var class="math-var k">k</var> = ${this.k.toFixed(3)}
        </div>
        <div class="param">
          <div class="trace k"></div>
          <div class="hist k"></div>
        </div>
        <div class="param">
          <div class="trace luce"></div>
          <div class="hist luce"></div>
        </div>
      </div>
    `}plotParam(t){this.shadowRoot.querySelector(`.hist.${t}`).replaceChildren(plot({title:`Posterior of ${t}`,x:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[rectY(this.samples[t],binX({y:"count"},{x:identity$1})),rectY(this.samples[t],pointerX(binX({y:"count"},{x:identity$1,stroke:"black",fill:"white",tip:!0})))]})),this.shadowRoot.querySelector(`.trace.${t}`).replaceChildren(plot({title:`Traceplot of ${t}`,x:{label:"Sample"},y:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[lineY(this.samples[t]),dot(this.samples[t],pointer({x:indexOf,y:identity$1,stroke:"black",fill:"white",r:4,tip:!0}))]}))}update(t){super.update(t),null!==this.samples&&(this.plotParam("k"),this.plotParam("luce"))}}customElements.define("htd-fit",HTDFit);class HTDParameters extends DiscountableElement{static get properties(){return{k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.k=void 0}updated(t){super.updated(t),void 0!==this.k&&void 0===this.kSlider?(this.kSlider=this.shadowRoot.querySelector("decidables-slider.k"),this.kSlider.nonlinearRange(!0,t=>t**.5/(t**.5+1),t=>(t/(1-t))**2)):void 0===this.k&&void 0!==this.kSlider&&(this.kSlider=void 0)}setK(t){this.k=+t.target.value,this.dispatchEvent(new CustomEvent("htd-parameters-k",{detail:{k:this.k},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        decidables-slider {
          line-height: 1;
          text-align: center;
        }

        decidables-slider  div {
          margin-bottom: 0.25rem;
        }

        .k {
          --decidables-slider-background-color: var(---color-k-light);
          --decidables-slider-color: var(---color-k);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.k?x$2`<decidables-slider class="k"
            ?disabled=${!this.interactive}
            scale
            min=${HTDMath.k.MIN}
            max=${HTDMath.k.MAX}
            step=${HTDMath.k.STEP}
            .value=${+this.k.toFixed(3)}
            @change=${this.setK.bind(this)}
            @input=${this.setK.bind(this)}
          ><div>Discounting Factor<br><span class="math-var">k</span></div></decidables-slider>`:x$2``}
      </div>`}}customElements.define("htd-parameters",HTDParameters);class ITCOption extends DiscountableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.a=0,this.d=0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
          
          width: 10rem;
          height: 10rem;
        }

        .holder {
          display: flex;
          
          flex-flow: column nowrap;

          align-items: center;
          justify-content: center;

          width: 100%;
          height: 100%;
          overflow: visible;
          

          background: var(---color-element-background);
          border: 2px solid var(---color-element-emphasis);
          border-radius: var(---border-radius);
        }

        .interactive,
        .static {
          font-size: 1.75rem;
        }

        .interactive {
          --decidables-spinner-font-size: 1.75rem;
        }

        .static {
          padding: 0 0.25rem;
          
          border-radius: var(---border-radius);
        }

        .amount {
          --decidables-spinner-prefix: "$";
          background-color: var(---color-a-light);
        }

        .amount.interactive {
          --decidables-spinner-input-width: 4rem;
        }

        .delay {
          background-color: var(---color-d-light);
        }
        
        .delay.interactive {
          --decidables-spinner-input-width: 6.75rem;
          --decidables-spinner-postfix: "days";
          --decidables-spinner-postfix-padding: 3.75rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("itc-option-change",{detail:{a:this.a,d:this.d},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.sendEvent()}dInput(t){this.d=parseFloat(t.target.value),this.sendEvent()}render(){return x$2`
      <div class="holder">
        ${"choice"===this.state?this.interactive?x$2`<decidables-spinner
              class="amount interactive"
              ?disabled=${!this.interactive}
              step="1"
              .value="${this.a}"
              @input=${this.aInput.bind(this)}
              ></decidables-spinner>`:x$2`<div
              class="amount static"
              >$${this.a}</div>`:""}
        ${"choice"===this.state?x$2`<div class="in">in</div>`:""}
        ${"choice"===this.state?this.interactive?x$2`<decidables-spinner
              class="delay interactive"
              ?disabled=${!this.interactive}
              min="0" 
              step="1"
              .value="${this.d}"
              @input=${this.dInput.bind(this)}
              ></decidables-spinner>`:x$2`<div
              class="delay static"
              >${this.d} days</div>`:""}
      </div>
    `}}customElements.define("itc-option",ITCOption);class ITCChoice extends DiscountableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.as=10,this.ds=5,this.al=40,this.dl=30}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          user-select: none;
        }

        .holder > * {
          vertical-align: middle;
        }

        .query {
          margin: 0 0.5rem;

          font-family: var(--font-family-code);
          font-size: 1.75rem;
        }

        itc-option {
          width: 10rem;
          height: 10rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("itc-choice-change",{detail:{as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0}))}ssChange(t){this.as=parseFloat(t.detail.a),this.ds=parseFloat(t.detail.d),this.sendEvent()}llChange(t){this.al=parseFloat(t.detail.a),this.dl=parseFloat(t.detail.d),this.sendEvent()}render(){return x$2`
      <div class="holder">
        <itc-option
          class="ss"
          state=${this.state}
          ?interactive=${this.interactive}
          amount="${this.as}"
          delay="${this.ds}"
          @itc-option-change=${this.ssChange.bind(this)}>
        </itc-option><span class="query"
         >${"choice"===this.state?"?":"fixation"===this.state?"+":x$2`â`}</span
        ><itc-option
          class="ll"
          state=${this.state}
          ?interactive=${this.interactive}
          amount="${this.al}"
          delay="${this.dl}"
          @itc-option-change=${this.llChange.bind(this)}>
        </itc-option>
      </div>`}}customElements.define("itc-choice",ITCChoice);class ITCTask extends DiscountableElement{static get properties(){return{duration:{attribute:"duration",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}constructor(){super(),this.duration=2e3,this.iti=2e3,this.trials=5,this.running=!1,this.states=["resetted","iti","stimulus","ended"],this.state="resetted",this.range={},this.range.as={start:5,stop:20,step:5},this.range.ds={start:5,stop:20,step:5},this.range.al={start:40,stop:80,step:5},this.range.dl={start:40,stop:80,step:5},this.range.as.values=range$1(this.range.as.start,this.range.as.stop+.01,this.range.as.step),this.range.ds.values=range$1(this.range.ds.start,this.range.ds.stop+.01,this.range.ds.step),this.range.al.values=range$1(this.range.al.start,this.range.al.stop+.01,this.range.al.step),this.range.dl.values=range$1(this.range.dl.start,this.range.dl.stop+.01,this.range.dl.step),this.firstUpdate=!0,this.as=0,this.ds=0,this.al=0,this.dl=0,this.trial=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.runner=void 0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div class="holder">
        <itc-choice 
          state="${"stimulus"===this.state?"choice":"iti"===this.state?"fixation":"blank"}"
          amount-ss="${this.as}"
          delay-ss="${this.ds}"
          amount-ll="${this.al}"
          delay-ll="${this.dl}">
        </itc-choice>
      </div>`}update(t){super.update(t),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=now()-this.pauseTime,this.pauseTime=0),this.runner=interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=now())),this.firstUpdate=!1}reset(){this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.as=0,this.ds=0,this.al=0,this.dl=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0}run(){const t=now(),e=this.baseTime?t-this.baseTime:0,i=this.baseTime?e-this.startTime:0;this.lastTime=e,"resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("itc-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&i>=this.iti?(this.trial+=1,this.state="stimulus",this.startTime=e,this.as=this.range.as.values[Math.floor(Math.random()*this.range.as.values.length)],this.ds=this.range.ds.values[Math.floor(Math.random()*this.range.ds.values.length)],this.al=this.range.al.values[Math.floor(Math.random()*this.range.al.values.length)],this.dl=this.range.dl.values[Math.floor(Math.random()*this.range.dl.values.length)],this.dispatchEvent(new CustomEvent("itc-trial-start",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0}))):"stimulus"===this.state&&i>=this.duration&&(this.dispatchEvent(new CustomEvent("itc-trial-end",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.dispatchEvent(new CustomEvent("itc-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e))}}customElements.define("itc-task",ITCTask);class HTDEquationADK2V extends HTDEquation{static get properties(){return{a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.a=100,this.d=30,this.k=HTDMath.k.DEFAULT,this.alignState()}alignState(){this.v=HTDMath.adk2v(this.a,this.d,this.k)}sendEvent(){this.dispatchEvent(new CustomEvent("htd-equation-adk2v-change",{detail:{a:this.a,d:this.d,k:this.k,v:this.v},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dInput(t){this.d=parseFloat(t.target.value),this.alignState(),this.sendEvent()}kInput(t){this.k=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r;this.numeric?(t=x$2`<decidables-spinner class="a bottom"
          ?disabled=${!this.interactive}
          step="1"
          .value=${this.a}
          @input=${this.aInput.bind(this)}
        >
          <var class="math-var">A</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="d bottom"
          ?disabled=${!this.interactive}
          min="0"
          step="1"
          .value=${this.d}
          @input=${this.dInput.bind(this)}
        >
          <var class="math-var">D</var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="k bottom"
          ?disabled=${!this.interactive}
          min=${HTDMath.k.MIN}
          max=${HTDMath.k.MAX}
          step=${HTDMath.k.STEP}
          .value=${this.k}
          @input=${this.kInput.bind(this)}
        >
          <var class="math-var">k</var>
        </decidables-spinner>`,r=x$2`<decidables-spinner class="v bottom"
          disabled
          step=".001"
          .value=${+this.v.toFixed(3)}
        >
          <var class="math-var">V</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var a">A</var>`,e=x$2`<var class="math-var d">D</var>`,i=x$2`<var class="math-var k">k</var>`,r=x$2`<var class="math-var v">V</var>`);const n=x$2`
      <tr>
        <td rowspan="2">
          ${r}<span class="equals">=</span>
        </td>
        <td class="underline">
          ${t}
        </td>
      </tr>
      <tr>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${i}${e}<span class="paren tight">)</span>
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${n}
          </tbody>
        </table>
      </div>`}}customElements.define("htd-equation-adk2v",HTDEquationADK2V);class HTDExample extends DiscountableElement{static get styles(){return[super.styles,i$6`
        :host {
          ---border: var(--border, 1px solid var(---color-border));
          display: inline-block;

          margin-bottom: 1rem;
        }

        .holder {
          display: flex;
        }

        .body {
          display: flex;

          flex-wrap: wrap;

          align-items: center;
          justify-content: left;

          padding: 0.625rem;

          border: var(---border);
          border-radius: 0.25rem;
        }

        .body ::slotted(*) {
          margin: 0.625rem;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > rdk-task + sdt-response,
        ::slotted(rdk-task) + ::slotted(sdt-response) { */
        /* .body ::slotted(sdt-response) {
          margin-left: 0;
        } */

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > sdt-control + rdk-task,
        ::slotted(sdt-control) + ::slotted(rdk-task) {
          margin-left: 0;
        } */
        /* .body ::slotted(rdk-task) {
          margin-left: 0;
        } */
      `]}render(){return x$2`
      <div class="holder">
        <div class="body">
          <slot>Empty!</slot>
        </div>
      </div>`}}customElements.define("htd-example",HTDExample);class HTDExampleHuman extends HTDExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},k:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trials=10,this.duration=2e3,this.k=HTDMath.k.DEFAULT,this.discountableControl=null,this.itcTask=null,this.discountableResponse=null,this.htdFit=null,this.htdParameters=null,this.htdCurves=null}connectedCallback(){super.connectedCallback(),this.discountableControl=this.querySelector("discountable-control"),this.itcTask=this.querySelector("itc-task"),this.discountableResponse=this.querySelector("discountable-response"),this.htdFit=this.querySelector("htd-fit"),this.htdParameters=this.querySelector("htd-parameters"),this.htdCurves=this.querySelector("htd-curves"),this.discountableControl&&(this.discountableControl.addEventListener("discountable-control-trials",t=>{this.trials=t.detail.trials}),this.discountableControl.addEventListener("discountable-control-duration",t=>{this.duration=t.detail.duration}),this.discountableControl.addEventListener("discountable-control-run",()=>{this.itcTask&&(this.itcTask.running=!0)}),this.discountableControl.addEventListener("discountable-control-pause",()=>{this.itcTask&&(this.itcTask.running=!1)}),this.discountableControl.addEventListener("discountable-control-reset",()=>{this.itcTask&&this.itcTask.reset(),this.discountableResponse&&this.discountableResponse.reset(),this.htdFit&&this.htdFit.clear(),this.htdCurves&&this.htdCurves.clearOptions()})),this.itcTask&&(this.itcTask.addEventListener("itc-trial-start",t=>{this.discountableResponse&&this.discountableResponse.start(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial),this.htdCurves&&(this.htdCurves.setOption(t.detail.as,t.detail.ds,"smaller-sooner","s"),this.htdCurves.setOption(t.detail.al,t.detail.dl,"larger-later","l"))}),this.itcTask.addEventListener("itc-trial-end",()=>{this.discountableResponse&&this.discountableResponse.stop(),this.htdCurves&&(this.htdCurves.removeOption("smaller-sooner"),this.htdCurves.removeOption("larger-later"))}),this.itcTask.addEventListener("itc-block-end",()=>{this.discountableControl&&this.discountableControl.complete()})),this.discountableResponse&&this.discountableResponse.addEventListener("discountable-response",t=>{this.htdFit&&this.htdFit.set(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())}),this.htdFit&&this.htdFit.addEventListener("htd-fit-update",t=>{this.k=t.detail.k})}update(t){super.update(t),this.discountableControl&&(this.discountableControl.trials=null!=this.discountableControl.trials?this.trials:void 0,this.discountableControl.duration=null!=this.discountableControl.duration?this.duration:void 0),this.discountableResponse&&(this.discountableResponse.trialTotal=this.trials),this.itcTask&&(this.itcTask.duration=this.duration,this.itcTask.iti=this.duration,this.itcTask.trials=this.trials),this.htdCurves&&(this.htdCurves.k=this.k),this.htdParameters&&(this.htdParameters.k=null!=this.htdParameters.k?this.k:void 0)}}customElements.define("htd-example-human",HTDExampleHuman);class HTDExampleInteractive extends HTDExample{static get properties(){return{as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.as=10,this.ds=1,this.al=50,this.dl=40,this.k=HTDMath.k.DEFAULT,this.htdCalculation=null,this.htdCurves=null,this.htdParameters=null,this.itcChoice=null}connectedCallback(){super.connectedCallback(),this.htdCalculation=this.querySelector("htd-calculation"),this.htdCurves=this.querySelector("htd-curves"),this.htdParameters=this.querySelector("htd-parameters"),this.itcChoice=this.querySelector("itc-choice"),this.htdCalculation&&this.htdCalculation.addEventListener("htd-calculation-change",t=>{this.as=t.detail.as,this.ds=t.detail.ds,this.al=t.detail.al,this.dl=t.detail.dl,this.k=t.detail.k}),this.htdCurves&&this.htdCurves.addEventListener("htd-curves-change",t=>{this.k=t.detail.k,"default"===t.detail.name?(this.as=t.detail.a,this.ds=t.detail.d):"larger-later"===t.detail.name&&(this.al=t.detail.a,this.dl=t.detail.d)}),this.htdParameters&&this.htdParameters.addEventListener("htd-parameters-k",t=>{this.k=t.detail.k}),this.itcChoice&&this.itcChoice.addEventListener("itc-choice-change",t=>{this.as=t.detail.as,this.ds=t.detail.ds,this.al=t.detail.al,this.dl=t.detail.dl}),this.requestUpdate()}update(t){super.update(t),this.htdCalculation&&(this.htdCalculation.as=this.as,this.htdCalculation.ds=this.ds,this.htdCalculation.al=this.al,this.htdCalculation.dl=this.dl,this.htdCalculation.k=this.k),this.htdCurves&&(this.htdCurves.setOption(this.as,this.ds,"default","s"),this.htdCurves.setOption(this.al,this.dl,"larger-later","l"),this.htdCurves.k=this.k),this.htdParameters&&(this.htdParameters.k=null!=this.htdParameters.k?this.k:void 0),this.itcChoice&&(this.itcChoice.as=this.as,this.itcChoice.ds=this.ds,this.itcChoice.al=this.al,this.itcChoice.dl=this.dl)}}customElements.define("htd-example-interactive",HTDExampleInteractive);class HTDExampleModel extends HTDExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.trials=10,this.duration=2e3,this.k=HTDMath.k.DEFAULT,this.discountableControl=null,this.discountableResponse=null,this.htdCalculation=null,this.htdCurves=null,this.htdParameters=null,this.itcTask=null}connectedCallback(){super.connectedCallback(),this.discountableControl=this.querySelector("discountable-control"),this.discountableResponse=this.querySelector("discountable-response"),this.htdCalculation=this.querySelector("htd-calculation"),this.htdCurves=this.querySelector("htd-curves"),this.htdParameters=this.querySelector("htd-parameters"),this.itcTask=this.querySelector("itc-task"),this.discountableControl&&(this.discountableControl.addEventListener("discountable-control-trials",t=>{this.trials=t.detail.trials}),this.discountableControl.addEventListener("discountable-control-duration",t=>{this.duration=t.detail.duration}),this.discountableControl.addEventListener("discountable-control-run",()=>{this.htdCurves&&this.htdCurves.resumeTrial(),this.itcTask&&(this.itcTask.running=!0)}),this.discountableControl.addEventListener("discountable-control-pause",()=>{this.htdCurves&&this.htdCurves.pauseTrial(),this.itcTask&&(this.itcTask.running=!1)}),this.discountableControl.addEventListener("discountable-control-reset",()=>{this.discountableResponse&&this.discountableResponse.reset(),this.htdCurves&&this.htdCurves.clearOptions(),this.itcTask&&this.itcTask.reset()})),this.htdCurves&&(this.htdCurves.addEventListener("htd-curves-change",t=>{this.k=t.detail.k}),this.htdCurves.addEventListener("discountable-response",t=>{this.discountableResponse&&this.discountableResponse.responded(t.detail.response)})),this.htdParameters&&this.htdParameters.addEventListener("htd-parameters-k",t=>{this.k=t.detail.k}),this.itcTask&&(this.itcTask.addEventListener("itc-trial-start",t=>{this.discountableResponse&&this.discountableResponse.start(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial);const e=HTDMath.adk2v(t.detail.as,t.detail.ds,this.k)>HTDMath.adk2v(t.detail.al,t.detail.dl,this.k)?"first":"second";this.htdCurves&&this.htdCurves.trial(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial,e)}),this.itcTask.addEventListener("itc-trial-end",()=>{this.discountableResponse&&this.discountableResponse.stop()}),this.itcTask.addEventListener("itc-block-end",()=>{this.discountableControl&&this.discountableControl.complete()})),this.requestUpdate()}update(t){super.update(t),this.discountableControl&&(this.discountableControl.trials=null!=this.discountableControl.trials?this.trials:void 0,this.discountableControl.duration=null!=this.discountableControl.duration?this.duration:void 0),this.discountableResponse&&(this.discountableResponse.trialTotal=this.trials),this.itcTask&&(this.itcTask.duration=this.duration,this.itcTask.iti=this.duration,this.itcTask.trials=this.trials),this.htdCalculation&&(this.htdCalculation.k=this.k),this.htdCurves&&(this.htdCurves.k=this.k),this.htdParameters&&(this.htdParameters.k=null!=this.htdParameters.k?this.k:void 0)}}customElements.define("htd-example-model",HTDExampleModel);var data={colors:{a:"#e41a1c",z:"#377eb8",v:"#ff7f00",t0:"#f781bf",s:"#999999",left:"#f032e6",right:"#10dbc9",correct:"#4daf4a",error:"#984ea3",nr:"#cccccc"}},colors=data.colors;class AccumulableElement extends DecidablesElement{static get properties(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}constructor(){super(),this.interactive=!1}static get colors(){return colors}static get lights(){return Object.keys(AccumulableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(AccumulableElement.colors[e],"#ffffff")(.5),t),{})}static get darks(){return Object.keys(AccumulableElement.colors).reduce((t,e)=>(t[e]=interpolateRgb(AccumulableElement.colors[e],"#000000")(.5),t),{})}static get styles(){return[super.styles,i$6`
        :host {
          /* Declare base colors */
          ${r$4(Object.keys(AccumulableElement.colors).map(t=>`---color-${t}: var(--color-${t}, ${this.colors[t]});`).join("\n"))}

          /* Declare light colors */
          ${r$4(Object.keys(AccumulableElement.colors).map(t=>`---color-${t}-light: var(--color-${t}-light, ${this.lights[t]});`).join("\n"))}

          /* Declare dark colors */
          ${r$4(Object.keys(AccumulableElement.colors).map(t=>`---color-${t}-dark: var(--color-${t}-dark, ${this.darks[t]});`).join("\n"))}
        }
      `]}}class AccumulableControl extends AccumulableElement{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},resample:{attribute:"resample",type:Boolean,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},coherence:{attribute:"coherence",type:Number,reflect:!0},color:{attribute:"color",type:String,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}constructor(){super(),this.trials=void 0,this.resample=!1,this.duration=void 0,this.coherence=void 0,this.colors=["none","measure","outcome","all"],this.color=void 0,this.run=!1,this.pause=!1,this.reset=!1,this.states=["resetted","running","paused","ended"],this.state="resetted"}setTrials(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("accumulable-control-trials",{detail:{trials:this.trials},bubbles:!0}))}doResample(){this.dispatchEvent(new CustomEvent("accumulable-control-resample",{detail:{},bubbles:!0}))}setDuration(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("accumulable-control-duration",{detail:{duration:this.duration},bubbles:!0}))}setCoherence(t){this.coherence=t.target.value,this.dispatchEvent(new CustomEvent("accumulable-control-coherence",{detail:{coherence:this.coherence},bubbles:!0}))}chooseColor(t){this.color=t.target.value,this.dispatchEvent(new CustomEvent("accumulable-control-color",{detail:{color:this.color},bubbles:!0}))}doRun(){this.state="running",this.dispatchEvent(new CustomEvent("accumulable-control-run",{detail:{},bubbles:!0}))}doPause(){this.state="paused",this.dispatchEvent(new CustomEvent("accumulable-control-pause",{detail:{},bubbles:!0}))}doReset(){this.state="resetted",this.dispatchEvent(new CustomEvent("accumulable-control-reset",{detail:{},bubbles:!0}))}complete(){this.state="ended"}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .buttons {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.trials?x$2`<decidables-slider class="trials" min="1" max="100" step="1" .value=${this.trials} @change=${this.setTrials.bind(this)} @input=${this.setTrials.bind(this)}>Trials</decidables-slider>`:x$2``}
        ${this.resample?x$2`
            <div class="buttons">
              ${this.resample?x$2`<decidables-button name="resample" @click=${this.doResample.bind(this)}>Resample</decidables-button>`:x$2``}
            </div>
          `:x$2``}
        ${null!=this.duration?x$2`<decidables-slider class="duration" min="10" max="2000" step="10" .value=${this.duration} @change=${this.setDuration.bind(this)} @input=${this.setDuration.bind(this)}>Duration</decidables-slider>`:x$2``}
        ${null!=this.coherence?x$2`<decidables-slider class="coherence" min="0" max="1" step=".01" .value=${this.coherence} @change=${this.setCoherence.bind(this)} @input=${this.setCoherence.bind(this)}>Coherence</decidables-slider>`:x$2``}
        ${null!=this.color?x$2`
            <decidables-toggle class="color" @change=${this.chooseColor.bind(this)}>
              <span slot="label">Emphasis</span>
              <decidables-toggle-option name="toggle" value="none" ?checked=${"none"===this.color}>None</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="measure" ?checked=${"measure"===this.color}>Measure</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="outcome" ?checked=${"outcome"===this.color}>Outcome</decidables-toggle-option>
              <decidables-toggle-option name="toggle" value="all" ?checked=${"all"===this.color}>All</decidables-toggle-option>
            </decidables-toggle>
          `:x$2``}
        ${this.run||this.pause||this.reset?x$2`
            <div class="buttons">
              ${this.run?x$2`<decidables-button name="run" ?disabled=${"running"===this.state||"ended"===this.state} @click=${this.doRun.bind(this)}>Run</decidables-button>`:x$2``}
              ${this.pause?x$2`<decidables-button name="pause" ?disabled=${"running"!==this.state} @click=${this.doPause.bind(this)}>Pause</decidables-button>`:x$2``}
              ${this.reset?x$2`<decidables-button name="reset" ?disabled=${"resetted"===this.state} @click=${this.doReset.bind(this)}>Reset</decidables-button>`:x$2``}
            </div>
          `:x$2``}
      </div>`}}customElements.define("accumulable-control",AccumulableControl);class DDMMath{static s={DEFAULT:1};static a={DEFAULT:1.2,MIN:.01,MAX:2,STEP:.01,JUMP:.1};static z={DEFAULT:.55,MIN:.01,MAX:.99,STEP:.01,JUMP:.1};static v={DEFAULT:1.5,MIN:.01,MAX:5,STEP:.01,JUMP:.1};static t0={DEFAULT:150,MIN:0,MAX:500,STEP:1,JUMP:10};static trials2stats(t){const e={},i=t.reduce((t,e)=>{switch(e.outcome){case"correct":t.correctCount+=1,t.correctRTSum+=e.rt;break;case"error":t.errorCount+=1,t.errorRTSum+=e.rt;break;case"nr":t.nrCount+=1}return t},{correctCount:0,errorCount:0,nrCount:0,correctRTSum:0,errorRTSum:0});e.correctCount=i.correctCount,e.errorCount=i.errorCount,e.nrCount=i.nrCount,e.accuracy=i.correctCount/(i.correctCount+i.errorCount+i.nrCount),e.correctMeanRT=i.correctRTSum/i.correctCount,e.errorMeanRT=i.errorRTSum/i.errorCount,e.meanRT=(i.correctRTSum+i.errorRTSum)/(i.correctCount+i.errorCount);const r=t.reduce((t,i)=>{switch(i.outcome){case"correct":t.ss+=(i.rt-e.meanRT)**2,t.correctSS+=(i.rt-e.correctMeanRT)**2;break;case"error":t.ss+=(i.rt-e.meanRT)**2,t.errorSS+=(i.rt-e.errorMeanRT)**2}return t},{ss:0,correctSS:0,errorSS:0});return e.correctSDRT=e.correctCount>1?Math.sqrt(r.correctSS/(e.correctCount-1)):NaN,e.errorSDRT=e.errorCount>1?Math.sqrt(r.errorSS/(e.errorCount-1)):NaN,e.sdRT=e.correctCount+e.errorCount>1?Math.sqrt(r.ss/(e.correctCount+e.errorCount-1)):NaN,e}static azv2pE(t,e,i,r=DDMMath.s.DEFAULT){const n=t*e,a=Math.exp(-2*i*t/r**2);return(a-Math.exp(-2*i*n/r**2))/(a-1)}static azv2pC(t,e,i,r=DDMMath.s.DEFAULT){return DDMMath.azv2pE(t,1-e,-i,r)}static azvt02m(t,e,i,r,n=DDMMath.s.DEFAULT){const a=t*e,s=Math.exp(-2*i*t/n**2)-1;return r+1e3*(-a/i+t/i*((Math.exp(-2*i*a/n**2)-1)/s))}static azv2sd(t,e,i,r=DDMMath.s.DEFAULT){const n=t*e,a=Math.exp(-2*i*t/r**2)-1,s=Math.exp(-2*i*n/r**2)-1,o=(-i*t**2*(s+4)*s/a**2+((-3*i*t**2+4*i*n*t+r**2*t)*s+4*i*n*t)/a-r**2*n)/i**3;return 1e3*Math.sqrt(o)}static azvt02mE(t,e,i,r,n=DDMMath.s.DEFAULT){function a(t,e){return Math.exp(2*i*e/n**2)-Math.exp(2*i*t/n**2)}const s=t*e;return r+1e3*((s*(a(s-t,t)+a(0,s))+2*t*a(s,0))/(i*a(s,t)*a(-t,0)))}static azv2sdE(t,e,i,r=DDMMath.s.DEFAULT){function n(t,e){return Math.exp(2*i*e/r**2)-Math.exp(2*i*t/r**2)}const a=t*e,s=-2*t*n(0,a)*(2*i*t*n(a,2*t)+r**2*n(0,t)*n(a,t))*Math.exp(2*i*t/r**2)/(i**3*n(0,t)**2*n(a,t)**2)+(4*i*a*(2*t-a)*Math.exp(2*i*(a+t)/r**2)+a*r**2*n(2*a,2*t))/(i**3*n(a,t)**2);return 1e3*Math.sqrt(s)}static azvt02mC(t,e,i,r,n=DDMMath.s.DEFAULT){return DDMMath.azvt02mE(t,1-e,-i,r,n)}static azv2sdC(t,e,i,r=DDMMath.s.DEFAULT){return DDMMath.azv2sdE(t,1-e,-i,r)}static tazv2gE(t,e,i,r,n=DDMMath.s.DEFAULT){if(!t)return 0;const a=e*i,s=Math.PI*n**2/e**2*Math.exp(-a*r/n**2);let o=0,l=0,c=0;do{o+=1,l=o*Math.sin(Math.PI*a*o/e)*Math.exp(-.5*(r**2/n**2+Math.PI**2*o**2*n**2/e**2)*t),c+=l}while(o<200);return s*c}static tazv2gC(t,e,i,r,n=DDMMath.s.DEFAULT){return DDMMath.tazv2gE(t,e,1-i,-r,n)}static data2ez({accuracy:t,sdRT:e,meanRT:i,s:r}){function n(t){return Math.log(t/(1-t))}const a=(e/1e3)**2,s=i/1e3,o=r**2,l=n(t),c=l*(l*t**2-l*t+t-.5)/a,g=function(t){return t>0?1:0===t?0:-1}(t-.5)*r*c**(1/4),d=o*n(t)/g,u=-g*d/o,B=d/(2*g)*(1-Math.exp(u))/(1+Math.exp(u));return{v:g,a:d,t0:1e3*(s?s-B:null),s:r}}static data2ez2(){throw new Error("data2ez2 is not implemented!")}}class AccumulableResponse extends AccumulableElement{static get properties(){return{feedback:{attribute:"feedback",type:Boolean,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},payoff:{attribute:"payoff",type:String,reflect:!0},correctPayoff:{attribute:"correct-payoff",type:Number,reflect:!0},errorPayoff:{attribute:"error-payoff",type:Number,reflect:!0},nrPayoff:{attribute:"no-response-payoff",type:Number,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.feedback=!1,this.trial=!1,this.payoffs=["none","trial","total"],this.payoff="none",this.correctPayoff=0,this.errorPayoff=0,this.nrPayoff=0,this.states=["off","waiting","feedback"],this.state="off",this.trialCount=0,this.trialTotal=0,this.signals=["left","right"],this.signal=void 0,this.responses=["left","right"],this.response=void 0,this.outcomes=["correct","error","nr"],this.outcome=void 0,this.startTime=void 0,this.rt=void 0,this.data={},this.trials=[],this.alignState()}get trialPayoff(){switch(this.outcome){case"correct":return this.correctPayoff;case"error":return this.errorPayoff;case"nr":return this.nrPayoff;default:return}}get totalPayoff(){return this.data.correctCount*this.correctPayoff+this.data.errorCount*this.errorPayoff+this.data.nrCount*this.nrPayoff}alignState(){this.data=DDMMath.trials2stats(this.trials)}start(t,e){this.startTime=Date.now(),this.trialCount=e,this.state="waiting",this.signal=t,this.response=void 0,this.outcome=void 0,this.rt=void 0}stop(){this.state="feedback",void 0===this.response&&(this.outcome="nr",this.rt=void 0,this.trials.push({trial:this.trialCount,rt:this.rt,signal:this.signal,response:this.response,outcome:this.outcome,payoff:this.trialPayoff}),this.alignState())}left(){this.responded("left")}right(){this.responded("right")}responded(t){this.rt=Date.now()-this.startTime,this.state="feedback",this.response=t,this.signal===this.response?this.outcome="correct":this.signal!==this.response&&(this.outcome="error"),this.trials.push({trial:this.trialCount,rt:this.rt,signal:this.signal,response:this.response,outcome:this.outcome,payoff:this.trialPayoff}),this.alignState(),this.dispatchEvent(new CustomEvent("accumulable-response",{detail:{trial:this.trialCount,rt:this.rt,signal:this.signal,response:this.response,outcome:this.outcome,payoff:this.trialPayoff,data:this.data,totalPayoff:this.totalPayoff},bubbles:!0}))}reset(){this.state="off",this.trialCount=0,this.rt=void 0,this.signal=void 0,this.response=void 0,this.outcome=void 0,this.trials=[],this.alignState()}keydown(t){"waiting"===this.state&&("ArrowLeft"===t.key?(this.responded("left"),t.preventDefault()):"ArrowRight"===t.key&&(this.responded("right"),t.preventDefault()))}connectedCallback(){super.connectedCallback(),window.addEventListener("keydown",this.keydown.bind(this))}disconnectedCallback(){window.removeEventListener("keydown",this.keydown.bind(this)),super.disconnectedCallback()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        /* Overall container */
        .holder {
          display: flex;

          flex-direction: column;
        }

        /* Response buttons */
        .responses {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .response {
          flex: 1 0 50%;
        }

        .waiting[disabled] {
          --decidables-button-background-color: var(---color-element-enabled);
        }

        .selected[disabled][name="left"] {
          --decidables-button-background-color: var(---color-left);
        }

        .selected[disabled][name="right"] {
          --decidables-button-background-color: var(---color-right);
        }

        /* Feedback messages */
        .feedbacks {
          display: flex;

          flex-direction: column;

          align-items: center;

          margin: 0.25rem;
        }

        /* Trial feedback */
        .trial {
          text-align: center;
        }

        .trial .label {
          font-weight: 600;
        }

        /* Outcome feedback */
        .feedback {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;

          width: 6rem;
          height: 3.5rem;
          padding: 0.375rem 0.75rem;
          margin: 0.25rem;

          text-align: center;

          background-color: var(---color-element-background);
          border: 1px solid var(---color-element-border);
        }

        :host([payoff="trial"]) .feedback,
        :host([payoff="total"]) .feedback {
          height: 5rem;
        }

        .feedback.correct {
          background-color: var(---color-correct-light);
        }

        .feedback.error {
          background-color: var(---color-error-light);
        }

        .feedback.nr {
          background-color: var(---color-nr-light);
        }

        .feedback .outcome {
          font-weight: 600;
          line-height: 1.15;
        }

        /* Payoff feedback */
        .total {
          text-align: center;
        }

        .total .label {
          font-weight: 600;
        }
      `]}render(){const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),e=e=>t.formatToParts(e).map(({type:t,value:e})=>"minusSign"===t?"â":e).reduce((t,e)=>t+e);return x$2`
      <div class="holder">
        <div class="responses">
          <decidables-button name="left" class=${"response "+("feedback"===this.state&&"left"===this.response?"selected":"waiting"===this.state?"waiting":"")} ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.left.bind(this)}>Left</decidables-button>
          <decidables-button name="right" class=${"response "+("feedback"===this.state&&"right"===this.response?"selected":"waiting"===this.state?"waiting":"")} ?disabled=${"waiting"!==this.state||!0!==this.interactive} @click=${this.right.bind(this)}>Right</decidables-button>
        </div>
        ${this.trial||this.feedback||"total"===this.payoff?x$2`
            <div class="feedbacks">
              ${this.trial?x$2`
                  <div class="trial">
                    <span class="label">Trial: </span><span class="count">${this.trialCount}</span><span class="of"> of </span><span class="total">${this.trialTotal}</span>
                  </div>`:x$2``}
              ${this.feedback?x$2`
                  <div class=${`feedback ${"feedback"===this.state&&this.feedback?this.outcome:""}`}>
                    ${"feedback"===this.state&&this.feedback?"correct"===this.outcome?x$2`<span class="outcome">Correct</span>`:"error"===this.outcome?x$2`<span class="outcome">Error</span>`:x$2`<span class="outcome">No<br>Response</span>`:""}
                    ${"feedback"!==this.state||"trial"!==this.payoff&&"total"!==this.payoff?x$2``:x$2`<span class="payoff">${e(this.trialPayoff)}</span>`}
                  </div>`:x$2``}
              ${"total"===this.payoff?x$2`
                  <div class="total">
                    <span class="label">Total: </span><span class="value">${e(this.totalPayoff)}</span>
                  </div>`:x$2``}
            </div>`:x$2``}
      </div>`}}customElements.define("accumulable-response",AccumulableResponse);class AccumulableTable extends AccumulableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},summary:{attribute:"summary",type:Boolean,reflect:!0},color:{attribute:"color",type:String,reflect:!0},correctCount:{attribute:"correct-count",type:Number,reflect:!0},errorCount:{attribute:"error-count",type:Number,reflect:!0},nrCount:{attribute:"nr-count",type:Number,reflect:!0},accuracy:{attribute:"accuracy",type:Number,reflect:!0},correctMeanRT:{attribute:"correct-mean-rt",type:Number,reflect:!0},errorMeanRT:{attribute:"error-mean-rt",type:Number,reflect:!0},meanRT:{attribute:"mean-rt",type:Number,reflect:!0},correctSDRT:{attribute:"correct-sd-rt",type:Number,reflect:!0},errorSDRT:{attribute:"error-sd-rt",type:Number,reflect:!0},sdRT:{attribute:"sd-rt",type:Number,reflect:!0},payoff:{attribute:"payoff",type:Boolean,reflect:!0},correctPayoff:{attribute:"correct-payoff",type:Number,reflect:!0},errorPayoff:{attribute:"error-payoff",type:Number,reflect:!0},nrPayoff:{attribute:"no-response-payoff",type:Number,reflect:!0}}}constructor(){super(),this.numeric=!1,this.summary=!1,this.colors=["none","measure","outcome","all"],this.color="all",this.payoff=!1,this.correctPayoff=void 0,this.errorPayoff=void 0,this.nrPayoff=void 0,this.correctCount=NaN,this.errorCount=NaN,this.nrCount=NaN,this.accuracy=NaN,this.correctMeanRT=NaN,this.errorMeanRT=NaN,this.meanRT=NaN,this.correctSDRT=NaN,this.errorSDRT=NaN,this.sdRT=NaN}sendEvent(){this.dispatchEvent(new CustomEvent("accumulable-table-change",{detail:{correctCount:this.correctCount,errorCount:this.errorCount,nrCount:this.nrCount,accuracy:this.accuracy,correctMeanRT:this.correctMeanRT,errorMeanRT:this.errorMeanRT,meanRT:this.meanRT,correctSDRT:this.correctSDRT,errorSDRT:this.errorSDRT,sdRT:this.sdRT},bubbles:!0}))}correctCountInput(t){this.correctCount=parseInt(t.target.value,10),this.sendEvent()}errorCountInput(t){this.errorCount=parseInt(t.target.value,10),this.sendEvent()}accuracyInput(t){this.accuracy=parseFloat(t.target.value),this.sendEvent()}correctMeanRTInput(t){this.correctMeanRT=parseFloat(t.target.value),this.sendEvent()}errorMeanRTInput(t){this.errorMeanRT=parseFloat(t.target.value),this.sendEvent()}meanRTInput(t){this.meanRT=parseFloat(t.target.value),this.sendEvent()}correctSDRTInput(t){this.correctSDRT=parseFloat(t.target.value),this.sendEvent()}errorSDRTInput(t){this.errorSDRT=parseFloat(t.target.value),this.sendEvent()}sdRTInput(t){this.sdRT=parseFloat(t.target.value),this.sendEvent()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        /* Overall element */
        table {
          text-align: center;

          border-collapse: collapse;

          border: 0;
        }

        /* Headers */
        .th-main {
          padding: 0;

          font-weight: bold;
        }

        .th-sub {
          padding: 0 0.25rem;

          font-weight: 600;
        }

        .th-left {
          padding-left: 0;

          text-align: right;
        }

        /* Cells */
        .td {
          width: 10rem;

          padding: 0.25rem 0.25rem 0.375rem;

          transition: all var(---transition-duration) ease;
        }

        .numeric .td {
          width: 7rem;
        }

        /* Labels */
        .payoff {
          font-weight: 600;
          line-height: 0.75rem;
        }

        /* User interaction <input> */
        .td-data decidables-spinner {
          --decidables-spinner-input-width: 3.5rem;
        }

        .td-summary decidables-spinner {
          --decidables-spinner-input-width: 4.5rem;
        }

        /* Table emphasis */
        .td-data.correct {
          border-left: 2px solid var(---color-element-emphasis);
        }

        .td-data.error {
          border-right: 2px solid var(---color-element-emphasis);
        }

        .td-data.count {
          border-top: 2px solid var(---color-element-emphasis);
        }

        .td-data.sd-rt {
          border-bottom: 2px solid var(---color-element-emphasis);
        }

        /* Color schemes */

        /* (Default) All color scheme */
        .correct.count {
          background: var(---color-element-background); /* ###### */
        }

        .error.count {
          background: var(---color-element-background); /* ###### */
        }

        .overall.proportion-correct {
          background: var(---color-element-background); /* ###### */
        }

        .correct.mean-rt {
          background: var(---color-element-background); /* ###### */
        }

        .error.mean-rt {
          background: var(---color-element-background); /* ###### */
        }

        .overall.mean-rt {
          background: var(---color-element-background); /* ###### */
        }

        .correct.sd-rt {
          background: var(---color-element-background); /* ###### */
        }

        .error.sd-rt {
          background: var(---color-element-background); /* ###### */
        }

        .overall.sd-rt {
          background: var(---color-element-background); /* ###### */
        }

        /* Outcome color scheme */
        :host([color="outcome"]) .correct {
          background: var(---color-correct-light);
        }

        :host([color="outcome"]) .error {
          background: var(---color-error-light);
        }

        :host([color="outcome"]) .overall {
          background: var(---color-element-background);
        }

        /* Measure color scheme */
        :host([color="measure"]) .count,
        :host([color="measure"]) .proportion-correct {
          background: var(---color-element-background); /* ###### */
        }

        :host([color="measure"]) .mean-rt {
          background: var(---color-element-background); /* ###### */
        }

        :host([color="measure"]) .sd-rt {
          background: var(---color-element-background); /* ###### */
        }

        /* No color scheme */
        :host([color="none"]) .td-data,
        :host([color="none"]) .td-summary {
          background: var(---color-element-background);
        }
      `]}render(){const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),e=e=>t.formatToParts(e).map(({type:t,value:e})=>"minusSign"===t?"â":e).reduce((t,e)=>t+e);let i,r,n,a,s,o,l,c,g;return this.numeric?(i=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.correctCount}" @input=${this.correctCountInput.bind(this)}>
          <span>Correct Count</span>
          ${this.payoff?x$2`<span class="payoff">${e(this.correctPayoff)}</span>`:x$2``}
        </decidables-spinner>
      `,r=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.errorCount}" @input=${this.errorCountInput.bind(this)}>
          <span>Error Count</span>
          ${this.payoff?x$2`<span class="payoff">${e(this.errorPayoff)}</span>`:x$2``}
        </decidables-spinner>
      `,n=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" max="1" step=".01" .value="${+this.accuracy.toFixed(2)}" @input=${this.accuracyInput.bind(this)}>
          <span>Accuracy</span>
        </decidables-spinner>
        `,a=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.correctMeanRT.toFixed(0)}" @input=${this.correctMeanRTInput.bind(this)}>
          <span>Correct Mean RT</span>
        </decidables-spinner>
      `,s=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.errorMeanRT.toFixed(0)}" @input=${this.errorMeanRTInput.bind(this)}>
          <span>Error Mean RT</span>
        </decidables-spinner>
      `,o=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.meanRT.toFixed(0)}" @input=${this.meanRTInput.bind(this)}>
          <span>Mean RT</span>
        </decidables-spinner>
      `,l=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.correctSDRT.toFixed(0)}" @input=${this.correctSDRTInput.bind(this)}>
          <span>Correct SD RT</span>
        </decidables-spinner>
      `,c=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.errorSDRT.toFixed(0)}" @input=${this.errorSDRTInput.bind(this)}>
          <span>Error SD RT</span>
        </decidables-spinner>
      `,g=x$2`
        <decidables-spinner ?disabled=${!this.interactive} min="0" .value="${+this.sdRT.toFixed(0)}" @input=${this.sdRTInput.bind(this)}>
          <span>SD RT</span>
        </decidables-spinner>
      `):(i=x$2`<span>Correct Count</span>
        ${this.payoff?x$2`<span class="payoff">${e(this.correctPayoff)}</span>`:x$2``}`,r=x$2`<span>Error Count</span>
        ${this.payoff?x$2`<span class="payoff">${e(this.errorPayoff)}</span>`:x$2``}`,n=x$2`<span>Accuracy</span>`,a=x$2`<span>Correct Mean RT</span>`,s=x$2`<span>Error Mean RT</span>`,o=x$2`<span>Mean RT</span>`,l=x$2`<span>Correct SD RT</span>`,c=x$2`<span>Error SD RT</span>`,g=x$2`<span>SD RT</span>`),x$2`
      <table class=${this.numeric?"numeric":""}>
        <thead>
          <tr>
            <th rowspan="2"></th>
            <th class="th th-main" colspan="2" scope="col">
              Outcome
            </th>
          </tr>
          <tr>
            <th class="th th-sub" scope="col">
              Correct
            </th>
            <th class="th th-sub" scope="col">
              Error
            </th>
            ${this.summary?x$2`
                <th class="th th-main" scope="col">
                  Overall
                </th>`:x$2``}
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="th th-sub th-left" scope="row">
              Count
            </th>
            <td class="td td-data correct count">
              ${i}
            </td>
            <td class="td td-data error count">
              ${r}
            </td>
            ${this.summary?x$2`
                <td class="td td-summary overall proportion-correct">
                  ${n}
                </td>`:x$2``}
          </tr>
          <tr>
            <th class="th th-sub th-left" scope="row">
              Mean RT
            </th>
            <td class="td td-data correct mean-rt">
              ${a}
            </td>
            <td class="td td-data error mean-rt">
              ${s}
            </td>
            ${this.summary?x$2`
                <td class="td td-summary overall mean-rt">
                  ${o}
                </td>`:x$2``}
          </tr>
          <tr>
            <th class="th th-sub th-left" scope="row">
              SD RT
            </th>
            <td class="td td-data correct sd-rt">
              ${l}
            </td>
            <td class="td td-data error sd-rt">
              ${c}
            </td>
            ${this.summary?x$2`
                <td class="td td-summary overall sd-rt">
                  ${g}
                </td>`:x$2``}
          </tr>
        </tbody>
      </table>`}}customElements.define("accumulable-table",AccumulableTable);var WorkerFactory=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoKICAgIERETU1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIQoKICAgIE1vZGVsIHBhcmFtZXRlcnM6CiAgICAgIGEgPSBib3VuZGFyeSBzZXBhcmF0aW9uIFswLCBJbmZpbml0eSkKICAgICAgeiA9IHN0YXJ0aW5nIHBvaW50IGFzIGEgcHJvcG9ydGlvbiBvZiBhICgwLCAxKQogICAgICB2ID0gZHJpZnQgcmF0ZSAocGVyIHNlY29uZCkgKC1JbmZpbml0eSwgSW5maW5pdHkpCiAgICAgIHQwID0gbm9uLWRlY2lzaW9uIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgKDAsIEluZmluaXR5KQogICAgICBzID0gd2l0aGluLXRyaWFsIHZhcmlhYmlsaXR5IGluIGRyaWZ0IHJhdGUgKHNeMiA9IGluZmluaXRlc2ltYWwgdmFyaWFuY2UpIFswLCBJbmZpbml0eSkKCiAgICAgIHpQcmltZSA9IHN0YXJ0aW5nIHBvaW50IG9uIGEgMC10by1hIHNjYWxlICh0eXBpY2FsbHkgdXNlZCBpbiBwdWJsaXNoZWQgZXF1YXRpb25zKSBbMCwgSW5maW5pdHkpCgogICAgQmVoYXZpb3JhbCB2YXJpYWJsZXM6CiAgICAgIHBFID0gcHJvcG9ydGlvbiBvZiBlcnJvciB0cmlhbHMKICAgICAgcEMgPSBwcm9wb3J0aW9uIG9mIGNvcnJlY3QgdHJpYWxzCiAgICAgIG0gPSBtZWFuIG9mIG92ZXJhbGwgUlRzIChpbiBtaWxsaXNlY29uZHMpCiAgICAgIG1FID0gbWVhbiBvZiBlcnJvciBSVHMgKGluIG1pbGxpc2Vjb25kcykKICAgICAgbUMgPSBtZWFuIGNvcnJlY3QgUlRzIChpbiBtaWxsaXNlY29uZHMpCiAgICAgIHNkID0gc3RhbmRhcmQgZGV2aWF0aW9uIG9mIG92ZXJhbGwgUlRzIChpbiBtaWxsaXNlY29uZHMpCiAgICAgIHNkRSA9IHN0YW5kYXJkIGRldmlhdGlvbiBvZiBlcnJvciBSVHMgKGluIG1pbGxpc2Vjb25kcykKICAgICAgc2RDID0gc3RhbmRhcmQgZGV2aWF0aW9uIG9mIGNvcnJlY3QgUlRzIChpbiBtaWxsaXNlY29uZHMpCgogICAgRXF1YXRpb25zOgogICAgICBQcm9iYWJpbGl0eSBvZiBjb3JyZWN0IGFuZCBlcnJvciByZXNwb25zZXMgKEFsZXhhbmRyb3dpY3osIDIwMjApCiAgICAgIE1lYW4gb2Ygb3ZlcmFsbCwgZXJyb3IsIGFuZCBjb3JyZWN0IFJUcyAoR3Jhc21hbiBldCBhbC4sIDIwMDkpCiAgICAgIFN0YW5kYXJkIGRldmlhdGlvbiBvZiBvdmVyYWxsLCBlcnJvciwgYW5kIGNvcnJlY3QgUlRzIChHcmFzbWFuIGV0IGFsLiwgMjAwOSkKICAgICAgRGVuc2l0eSBvZiBlcnJvciBhbmQgY29ycmVjdCBSVCBkaXN0cmlidXRpb25zIChBbGV4YW5kcm93aWN6LCAyMDIwKQogICAgICBFWi1kaWZmdXNpb24gbW9kZWwgKFdhZ2VubWFrZXJzIGV0IGFsLiwgMjAwNykKICAqLwogIGNsYXNzIERETU1hdGggewogICAgc3RhdGljIHMgPSB7CiAgICAgIERFRkFVTFQ6IDEKICAgIH07CiAgICBzdGF0aWMgYSA9IHsKICAgICAgREVGQVVMVDogMS4yLAogICAgICBNSU46IDAuMDEsCiAgICAgIE1BWDogMi4wLAogICAgICBTVEVQOiAwLjAxLAogICAgICBKVU1QOiAwLjEKICAgIH07CiAgICBzdGF0aWMgeiA9IHsKICAgICAgREVGQVVMVDogMC41NSwKICAgICAgTUlOOiAwLjAxLAogICAgICBNQVg6IDAuOTksCiAgICAgIFNURVA6IDAuMDEsCiAgICAgIEpVTVA6IDAuMQogICAgfTsKICAgIHN0YXRpYyB2ID0gewogICAgICBERUZBVUxUOiAxLjUsCiAgICAgIE1JTjogMC4wMSwKICAgICAgTUFYOiA1LjAsCiAgICAgIFNURVA6IDAuMDEsCiAgICAgIEpVTVA6IDAuMQogICAgfTsKICAgIHN0YXRpYyB0MCA9IHsKICAgICAgREVGQVVMVDogMTUwLAogICAgICBNSU46IDAsCiAgICAgIE1BWDogNTAwLAogICAgICBTVEVQOiAxLAogICAgICBKVU1QOiAxMAogICAgfTsKCiAgICAvLyBDYWxjdWxhdGUgYSBidW5jaCBvZiBzdGF0aXN0aWNzIGZvciBhbiBhcnJheSBvZiB0cmlhbHMKICAgIHN0YXRpYyB0cmlhbHMyc3RhdHModHJpYWxzKSB7CiAgICAgIGNvbnN0IHN0YXRzID0ge307CgogICAgICAvLyBGaXJzdC1vcmRlciBzdW1zCiAgICAgIGNvbnN0IHN1bXMgPSB0cmlhbHMucmVkdWNlKChhY2N1bXVsYXRvciwgdHJpYWwpID0+IHsKICAgICAgICBzd2l0Y2ggKHRyaWFsLm91dGNvbWUpIHsKICAgICAgICAgIGNhc2UgJ2NvcnJlY3QnOgogICAgICAgICAgICBhY2N1bXVsYXRvci5jb3JyZWN0Q291bnQgKz0gMTsKICAgICAgICAgICAgYWNjdW11bGF0b3IuY29ycmVjdFJUU3VtICs9IHRyaWFsLnJ0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2Vycm9yJzoKICAgICAgICAgICAgYWNjdW11bGF0b3IuZXJyb3JDb3VudCArPSAxOwogICAgICAgICAgICBhY2N1bXVsYXRvci5lcnJvclJUU3VtICs9IHRyaWFsLnJ0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ25yJzoKICAgICAgICAgICAgYWNjdW11bGF0b3IubnJDb3VudCArPSAxOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIC8vIE5vLW9wCiAgICAgICAgfQogICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjsKICAgICAgfSwgewogICAgICAgIGNvcnJlY3RDb3VudDogMCwKICAgICAgICBlcnJvckNvdW50OiAwLAogICAgICAgIG5yQ291bnQ6IDAsCiAgICAgICAgY29ycmVjdFJUU3VtOiAwLAogICAgICAgIGVycm9yUlRTdW06IDAKICAgICAgfSk7CgogICAgICAvLyBGaXJzdC1vcmRlciBzdGF0cwogICAgICBzdGF0cy5jb3JyZWN0Q291bnQgPSBzdW1zLmNvcnJlY3RDb3VudDsKICAgICAgc3RhdHMuZXJyb3JDb3VudCA9IHN1bXMuZXJyb3JDb3VudDsKICAgICAgc3RhdHMubnJDb3VudCA9IHN1bXMubnJDb3VudDsKICAgICAgc3RhdHMuYWNjdXJhY3kgPSBzdW1zLmNvcnJlY3RDb3VudCAvIChzdW1zLmNvcnJlY3RDb3VudCArIHN1bXMuZXJyb3JDb3VudCArIHN1bXMubnJDb3VudCk7CiAgICAgIHN0YXRzLmNvcnJlY3RNZWFuUlQgPSBzdW1zLmNvcnJlY3RSVFN1bSAvIHN1bXMuY29ycmVjdENvdW50OwogICAgICBzdGF0cy5lcnJvck1lYW5SVCA9IHN1bXMuZXJyb3JSVFN1bSAvIHN1bXMuZXJyb3JDb3VudDsKICAgICAgc3RhdHMubWVhblJUID0gKHN1bXMuY29ycmVjdFJUU3VtICsgc3Vtcy5lcnJvclJUU3VtKSAvIChzdW1zLmNvcnJlY3RDb3VudCArIHN1bXMuZXJyb3JDb3VudCk7CgogICAgICAvLyBTZWNvbmQtb3JkZXIgc3VtcwogICAgICBjb25zdCBzdW1zMiA9IHRyaWFscy5yZWR1Y2UoKGFjY3VtdWxhdG9yLCB0cmlhbCkgPT4gewogICAgICAgIHN3aXRjaCAodHJpYWwub3V0Y29tZSkgewogICAgICAgICAgY2FzZSAnY29ycmVjdCc6CiAgICAgICAgICAgIGFjY3VtdWxhdG9yLnNzICs9ICh0cmlhbC5ydCAtIHN0YXRzLm1lYW5SVCkgKiogMjsKICAgICAgICAgICAgYWNjdW11bGF0b3IuY29ycmVjdFNTICs9ICh0cmlhbC5ydCAtIHN0YXRzLmNvcnJlY3RNZWFuUlQpICoqIDI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnZXJyb3InOgogICAgICAgICAgICBhY2N1bXVsYXRvci5zcyArPSAodHJpYWwucnQgLSBzdGF0cy5tZWFuUlQpICoqIDI7CiAgICAgICAgICAgIGFjY3VtdWxhdG9yLmVycm9yU1MgKz0gKHRyaWFsLnJ0IC0gc3RhdHMuZXJyb3JNZWFuUlQpICoqIDI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgLy8gTm8tb3AKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yOwogICAgICB9LCB7CiAgICAgICAgc3M6IDAsCiAgICAgICAgY29ycmVjdFNTOiAwLAogICAgICAgIGVycm9yU1M6IDAKICAgICAgfSk7CgogICAgICAvLyBTZWNvbmQtb3JkZXIgc3RhdHMKICAgICAgc3RhdHMuY29ycmVjdFNEUlQgPSBzdGF0cy5jb3JyZWN0Q291bnQgPiAxID8gTWF0aC5zcXJ0KHN1bXMyLmNvcnJlY3RTUyAvIChzdGF0cy5jb3JyZWN0Q291bnQgLSAxKSkgOiBOYU47CiAgICAgIHN0YXRzLmVycm9yU0RSVCA9IHN0YXRzLmVycm9yQ291bnQgPiAxID8gTWF0aC5zcXJ0KHN1bXMyLmVycm9yU1MgLyAoc3RhdHMuZXJyb3JDb3VudCAtIDEpKSA6IE5hTjsKICAgICAgc3RhdHMuc2RSVCA9IHN0YXRzLmNvcnJlY3RDb3VudCArIHN0YXRzLmVycm9yQ291bnQgPiAxID8gTWF0aC5zcXJ0KHN1bXMyLnNzIC8gKHN0YXRzLmNvcnJlY3RDb3VudCArIHN0YXRzLmVycm9yQ291bnQgLSAxKSkgOiBOYU47CiAgICAgIHJldHVybiBzdGF0czsKICAgIH0KCiAgICAvLyBQcm9iYWJpbGl0eSBvZiBhbiBFcnJvciBSZXNwb25zZQogICAgc3RhdGljIGF6djJwRShhLCB6LCB2LCBzID0gRERNTWF0aC5zLkRFRkFVTFQpIHsKICAgICAgY29uc3QgelByaW1lID0gYSAqIHo7CiAgICAgIGNvbnN0IEEgPSBNYXRoLmV4cCgtMiAqIHYgKiBhIC8gcyAqKiAyKTsKICAgICAgY29uc3QgWiA9IE1hdGguZXhwKC0yICogdiAqIHpQcmltZSAvIHMgKiogMik7CiAgICAgIHJldHVybiAoQSAtIFopIC8gKEEgLSAxKTsKICAgIH0KCiAgICAvLyBQcm9iYWJpbGl0eSBvZiBhIENvcnJlY3QgUmVzcG9uc2UKICAgIHN0YXRpYyBhenYycEMoYSwgeiwgdiwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7CiAgICAgIHJldHVybiBERE1NYXRoLmF6djJwRShhLCAxIC0geiwgLXYsIHMpOwogICAgfQoKICAgIC8vIE1lYW4gT3ZlcmFsbCBSVAogICAgLy8gRXF1YXRpb24gNSAoR3Jhc21hbiBldCBhbC4sIDIwMDkpCiAgICBzdGF0aWMgYXp2dDAybShhLCB6LCB2LCB0MCwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7CiAgICAgIGNvbnN0IHpQcmltZSA9IGEgKiB6OwogICAgICBjb25zdCBBID0gTWF0aC5leHAoLTIgKiB2ICogYSAvIHMgKiogMikgLSAxOwogICAgICBjb25zdCBaID0gTWF0aC5leHAoLTIgKiB2ICogelByaW1lIC8gcyAqKiAyKSAtIDE7CiAgICAgIGNvbnN0IG1lYW4gPSAtKHpQcmltZSAvIHYpICsgYSAvIHYgKiAoWiAvIEEpOwogICAgICByZXR1cm4gdDAgKyBtZWFuICogMTAwMDsKICAgIH0KCiAgICAvLyBTRCBPdmVyYWxsIFJUCiAgICAvLyBFcXVhdGlvbiA2IChHcmFzbWFuIGV0IGFsLiwgMjAwOSkKICAgIHN0YXRpYyBhenYyc2QoYSwgeiwgdiwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7CiAgICAgIGNvbnN0IHpQcmltZSA9IGEgKiB6OwogICAgICBjb25zdCBBID0gTWF0aC5leHAoLTIgKiB2ICogYSAvIHMgKiogMikgLSAxOwogICAgICBjb25zdCBaID0gTWF0aC5leHAoLTIgKiB2ICogelByaW1lIC8gcyAqKiAyKSAtIDE7CiAgICAgIGNvbnN0IHZhcmlhbmNlID0gKC12ICogYSAqKiAyICogKFogKyA0KSAqIFogLyBBICoqIDIgKyAoKC0zICogdiAqIGEgKiogMiArIDQgKiB2ICogelByaW1lICogYSArIHMgKiogMiAqIGEpICogWiArIDQgKiB2ICogelByaW1lICogYSkgLyBBIC0gcyAqKiAyICogelByaW1lKSAvIHYgKiogMzsKICAgICAgcmV0dXJuIE1hdGguc3FydCh2YXJpYW5jZSkgKiAxMDAwOwogICAgfQoKICAgIC8vIE1lYW4gRXJyb3IgUlQKICAgIC8vIEVxdWF0aW9uIDEzIChHcmFzbWFuIGV0IGFsLiwgMjAwOSkKICAgIHN0YXRpYyBhenZ0MDJtRShhLCB6LCB2LCB0MCwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7CiAgICAgIGZ1bmN0aW9uIHBoaSh4LCB5KSB7CiAgICAgICAgcmV0dXJuIE1hdGguZXhwKDIgKiB2ICogeSAvIHMgKiogMikgLSBNYXRoLmV4cCgyICogdiAqIHggLyBzICoqIDIpOwogICAgICB9CiAgICAgIGNvbnN0IHpQcmltZSA9IGEgKiB6OwogICAgICBjb25zdCBtZWFuID0gKHpQcmltZSAqIChwaGkoelByaW1lIC0gYSwgYSkgKyBwaGkoMCwgelByaW1lKSkgKyAyICogYSAqIHBoaSh6UHJpbWUsIDApKSAvICh2ICogcGhpKHpQcmltZSwgYSkgKiBwaGkoLWEsIDApKTsKICAgICAgcmV0dXJuIHQwICsgbWVhbiAqIDEwMDA7CiAgICB9CgogICAgLy8gU0QgRXJyb3IgUlQKICAgIC8vIEVxdWF0aW9uIDE0IChHcmFzbWFuIGV0IGFsLiwgMjAwOSkKICAgIHN0YXRpYyBhenYyc2RFKGEsIHosIHYsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkgewogICAgICBmdW5jdGlvbiBwaGkoeCwgeSkgewogICAgICAgIHJldHVybiBNYXRoLmV4cCgyICogdiAqIHkgLyBzICoqIDIpIC0gTWF0aC5leHAoMiAqIHYgKiB4IC8gcyAqKiAyKTsKICAgICAgfQogICAgICBjb25zdCB6UHJpbWUgPSBhICogejsKICAgICAgY29uc3QgdmFyaWFuY2UgPSAtMiAqIGEgKiBwaGkoMCwgelByaW1lKSAqICgyICogdiAqIGEgKiBwaGkoelByaW1lLCAyICogYSkgKyBzICoqIDIgKiBwaGkoMCwgYSkgKiBwaGkoelByaW1lLCBhKSkgKiBNYXRoLmV4cCgyICogdiAqIGEgLyBzICoqIDIpIC8gKHYgKiogMyAqIHBoaSgwLCBhKSAqKiAyICogcGhpKHpQcmltZSwgYSkgKiogMikgKyAoNCAqIHYgKiB6UHJpbWUgKiAoMiAqIGEgLSB6UHJpbWUpICogTWF0aC5leHAoMiAqIHYgKiAoelByaW1lICsgYSkgLyBzICoqIDIpICsgelByaW1lICogcyAqKiAyICogcGhpKDIgKiB6UHJpbWUsIDIgKiBhKSkgLyAodiAqKiAzICogcGhpKHpQcmltZSwgYSkgKiogMik7CiAgICAgIHJldHVybiBNYXRoLnNxcnQodmFyaWFuY2UpICogMTAwMDsKICAgIH0KCiAgICAvLyBNZWFuIENvcnJlY3QgUlQKICAgIHN0YXRpYyBhenZ0MDJtQyhhLCB6LCB2LCB0MCwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7CiAgICAgIHJldHVybiBERE1NYXRoLmF6dnQwMm1FKGEsIDEgLSB6LCAtdiwgdDAsIHMpOwogICAgfQoKICAgIC8vIFNEIENvcnJlY3QgUlQKICAgIHN0YXRpYyBhenYyc2RDKGEsIHosIHYsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkgewogICAgICByZXR1cm4gRERNTWF0aC5henYyc2RFKGEsIDEgLSB6LCAtdiwgcyk7CiAgICB9CgogICAgLy8gRGVuc2l0eSBvZiBFcnJvciBSVAogICAgc3RhdGljIHRhenYyZ0UodCwgYSwgeiwgdiwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7CiAgICAgIGlmICghdCkgcmV0dXJuIDA7CiAgICAgIGNvbnN0IHpQcmltZSA9IGEgKiB6OwogICAgICBjb25zdCBiYXNlID0gTWF0aC5QSSAqIHMgKiogMiAvIGEgKiogMiAqIE1hdGguZXhwKC16UHJpbWUgKiB2IC8gcyAqKiAyKTsKICAgICAgbGV0IGsgPSAwOwogICAgICBsZXQgdGVybSA9IDA7CiAgICAgIGxldCBzdW0gPSAwOwogICAgICBkbyB7CiAgICAgICAgayArPSAxOwogICAgICAgIHRlcm0gPSBrICogTWF0aC5zaW4oTWF0aC5QSSAqIHpQcmltZSAqIGsgLyBhKSAqIE1hdGguZXhwKC0wLjUgKiAodiAqKiAyIC8gcyAqKiAyICsgTWF0aC5QSSAqKiAyICogayAqKiAyICogcyAqKiAyIC8gYSAqKiAyKSAqIHQpOwogICAgICAgIHN1bSArPSB0ZXJtOwogICAgICB9IHdoaWxlIChrIDwgMjAwKTsgLy8gPz8gSEFDSwoKICAgICAgcmV0dXJuIGJhc2UgKiBzdW07CiAgICB9CgogICAgLy8gRGVuc2l0eSBvZiBDb3JyZWN0IFJUCiAgICBzdGF0aWMgdGF6djJnQyh0LCBhLCB6LCB2LCBzID0gRERNTWF0aC5zLkRFRkFVTFQpIHsKICAgICAgcmV0dXJuIERETU1hdGgudGF6djJnRSh0LCBhLCAxIC0geiwgLXYsIHMpOwogICAgfQoKICAgIC8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3Jhb3VsLnNvY3NjaS51dmEubmwvRVoyL0VaMl9uZXcuaHRtbAogICAgLy8gRVotZnVuY3Rpb24gZm9yIHN0YXJ0aW5nIHZhbHVlcwogICAgLy8gaW5wdXQ6IG9iaiAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXMKICAgIC8vICAgIHBDIC0gUHJvcG9ydGlvbiBjb3JyZWN0CiAgICAvLyAgICBzZCAtIHNhbXBsZSBzdGFuZGFyZCBkZXZpYXRpb24gb2YgdGhlIFJUJ3MgaW4gbXMKICAgIC8vICAgIG0gLSBzYW1wbGUgbWVhbiBvZiB0aGUgUlQncyBpbiBtcwogICAgLy8gICAgcyAtIGRpZmZ1c2lvbiBzdGFuZGFyZCBkZXZpYXRpb24KICAgIC8vIHJldHVybnM6IE9iamVjdCB3aXRoIHByb3BlcnRpZXMgdiwgYSwgYW5kIHQwLCBjb250YWluaW5nIEVaLWVzdGltYXRlcyBvZiB0aGVzZSBwYXJhbWV0ZXJzCiAgICBzdGF0aWMgZGF0YTJleih7CiAgICAgIGFjY3VyYWN5OiBwQywKICAgICAgc2RSVDogc2QsCiAgICAgIG1lYW5SVDogbSwKICAgICAgcwogICAgfSkgewogICAgICBmdW5jdGlvbiBzaWduKHIpIHsKICAgICAgICByZXR1cm4gciA+IDAgPyAxIDogciA9PT0gMCA/IDAgOiAtMTsKICAgICAgfQogICAgICBmdW5jdGlvbiBsb2dpdChwKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubG9nKHAgLyAoMSAtIHApKTsKICAgICAgfQogICAgICBjb25zdCB2cnQgPSAoc2QgLyAxMDAwKSAqKiAyOwogICAgICBjb25zdCBtcnQgPSBtIC8gMTAwMDsKICAgICAgY29uc3QgczIgPSBzICoqIDI7CiAgICAgIGNvbnN0IGwgPSBsb2dpdChwQyk7CiAgICAgIGNvbnN0IHggPSBsICogKGwgKiBwQyAqKiAyIC0gbCAqIHBDICsgcEMgLSAwLjUpIC8gdnJ0OwogICAgICBjb25zdCB2ID0gc2lnbihwQyAtIDAuNSkgKiBzICogeCAqKiAoMSAvIDQpOwogICAgICBjb25zdCBhID0gczIgKiBsb2dpdChwQykgLyB2OwogICAgICBjb25zdCB5ID0gLXYgKiBhIC8gczI7CiAgICAgIGNvbnN0IG1kdCA9IGEgLyAoMiAqIHYpICogKDEgLSBNYXRoLmV4cCh5KSkgLyAoMSArIE1hdGguZXhwKHkpKTsKICAgICAgY29uc3QgdDAgPSBtcnQgPyBtcnQgLSBtZHQgOiBudWxsOyAvLyBjb21wdXRlIFRlciBvbmx5IGlmIE1SVCB3YXMgcHJvdmlkZWQKCiAgICAgIGNvbnN0IHQwUHJpbWUgPSB0MCAqIDEwMDA7CiAgICAgIHJldHVybiB7CiAgICAgICAgdiwKICAgICAgICBhLAogICAgICAgIHQwOiB0MFByaW1lLAogICAgICAgIHMKICAgICAgfTsKICAgIH0KICAgIHN0YXRpYyBkYXRhMmV6MigpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhMmV6MiBpcyBub3QgaW1wbGVtZW50ZWQhJyk7CiAgICB9CiAgfQoKICAvLyBJbnRlcm5hbCBkZXBlbmRlbmNpZXMKCiAgLyogZXNsaW50IG5vLXJlc3RyaWN0ZWQtZ2xvYmFsczogWyJvZmYiLCAic2VsZiJdICovCgogIHNlbGYub25tZXNzYWdlID0gZXZlbnQgPT4gewogICAgY29uc3QgcGFyYW1zID0gRERNTWF0aC5kYXRhMmV6KHsKICAgICAgLi4uZXZlbnQuZGF0YSwKICAgICAgczogRERNTWF0aC5zLkRFRkFVTFQKICAgIH0pOwoKICAgIC8vICMjIyMjIEFyYml0cmFyeSBkZWZhdWx0IHZhbHVlcyEhIQogICAgY29uc3QgYSA9ICFpc05hTihwYXJhbXMuYSkgPyBwYXJhbXMuYSA6IDEuNTsKICAgIGNvbnN0IHogPSAhaXNOYU4ocGFyYW1zLnopID8gcGFyYW1zLnogOiAwLjU7CiAgICBjb25zdCB2ID0gIWlzTmFOKHBhcmFtcy52KSA/IHBhcmFtcy52IDogMC4xOwogICAgY29uc3QgdDAgPSAhaXNOYU4ocGFyYW1zLnQwKSA/IHBhcmFtcy50MCA6IDEwMDsKICAgIGNvbnN0IHMgPSAhaXNOYU4ocGFyYW1zLnMpID8gcGFyYW1zLnMgOiBERE1NYXRoLnMuREVGQVVMVDsKICAgIGNvbnN0IHByZWRpY3RlZCA9IHsKICAgICAgYWNjdXJhY3k6IERETU1hdGguYXp2MnBDKGEsIHosIHYpLAogICAgICBjb3JyZWN0TWVhblJUOiBERE1NYXRoLmF6dnQwMm1DKGEsIHosIHYsIHQwKSwKICAgICAgZXJyb3JNZWFuUlQ6IERETU1hdGguYXp2dDAybUUoYSwgeiwgdiwgdDApLAogICAgICBtZWFuUlQ6IERETU1hdGguYXp2dDAybShhLCB6LCB2LCB0MCksCiAgICAgIGNvcnJlY3RTRFJUOiBERE1NYXRoLmF6djJzZEMoYSwgeiwgdiksCiAgICAgIGVycm9yU0RSVDogRERNTWF0aC5henYyc2RFKGEsIHosIHYpLAogICAgICBzZFJUOiBERE1NYXRoLmF6djJzZChhLCB6LCB2KQogICAgfTsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICBwYXJhbXM6IHsKICAgICAgICBhLAogICAgICAgIHosCiAgICAgICAgdiwKICAgICAgICB0MCwKICAgICAgICBzCiAgICAgIH0sCiAgICAgIHByZWRpY3RlZAogICAgfSk7CiAgfTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWRkbS1maXQtd29ya2VyLmpzLm1hcAoK","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGRtLWZpdC13b3JrZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYnJhcmllcy9hY2N1bXVsYWJsZS1tYXRoL3NyYy9kZG0tbWF0aC5qcyIsIi4uLy4uL2xpYnJhcmllcy9hY2N1bXVsYWJsZS1tYXRoL3NyYy9pbmRleC5qcyIsIi4uLy4uL2xpYnJhcmllcy9hY2N1bXVsYWJsZS1lbGVtZW50cy9zcmMvY29tcG9uZW50cy9kZG0tZml0LXdvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qXG4gIERETU1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIVxuXG4gIE1vZGVsIHBhcmFtZXRlcnM6XG4gICAgYSA9IGJvdW5kYXJ5IHNlcGFyYXRpb24gWzAsIEluZmluaXR5KVxuICAgIHogPSBzdGFydGluZyBwb2ludCBhcyBhIHByb3BvcnRpb24gb2YgYSAoMCwgMSlcbiAgICB2ID0gZHJpZnQgcmF0ZSAocGVyIHNlY29uZCkgKC1JbmZpbml0eSwgSW5maW5pdHkpXG4gICAgdDAgPSBub24tZGVjaXNpb24gdGltZSAoaW4gbWlsbGlzZWNvbmRzKSAoMCwgSW5maW5pdHkpXG4gICAgcyA9IHdpdGhpbi10cmlhbCB2YXJpYWJpbGl0eSBpbiBkcmlmdCByYXRlIChzXjIgPSBpbmZpbml0ZXNpbWFsIHZhcmlhbmNlKSBbMCwgSW5maW5pdHkpXG5cbiAgICB6UHJpbWUgPSBzdGFydGluZyBwb2ludCBvbiBhIDAtdG8tYSBzY2FsZSAodHlwaWNhbGx5IHVzZWQgaW4gcHVibGlzaGVkIGVxdWF0aW9ucykgWzAsIEluZmluaXR5KVxuXG4gIEJlaGF2aW9yYWwgdmFyaWFibGVzOlxuICAgIHBFID0gcHJvcG9ydGlvbiBvZiBlcnJvciB0cmlhbHNcbiAgICBwQyA9IHByb3BvcnRpb24gb2YgY29ycmVjdCB0cmlhbHNcbiAgICBtID0gbWVhbiBvZiBvdmVyYWxsIFJUcyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgIG1FID0gbWVhbiBvZiBlcnJvciBSVHMgKGluIG1pbGxpc2Vjb25kcylcbiAgICBtQyA9IG1lYW4gY29ycmVjdCBSVHMgKGluIG1pbGxpc2Vjb25kcylcbiAgICBzZCA9IHN0YW5kYXJkIGRldmlhdGlvbiBvZiBvdmVyYWxsIFJUcyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgIHNkRSA9IHN0YW5kYXJkIGRldmlhdGlvbiBvZiBlcnJvciBSVHMgKGluIG1pbGxpc2Vjb25kcylcbiAgICBzZEMgPSBzdGFuZGFyZCBkZXZpYXRpb24gb2YgY29ycmVjdCBSVHMgKGluIG1pbGxpc2Vjb25kcylcblxuICBFcXVhdGlvbnM6XG4gICAgUHJvYmFiaWxpdHkgb2YgY29ycmVjdCBhbmQgZXJyb3IgcmVzcG9uc2VzIChBbGV4YW5kcm93aWN6LCAyMDIwKVxuICAgIE1lYW4gb2Ygb3ZlcmFsbCwgZXJyb3IsIGFuZCBjb3JyZWN0IFJUcyAoR3Jhc21hbiBldCBhbC4sIDIwMDkpXG4gICAgU3RhbmRhcmQgZGV2aWF0aW9uIG9mIG92ZXJhbGwsIGVycm9yLCBhbmQgY29ycmVjdCBSVHMgKEdyYXNtYW4gZXQgYWwuLCAyMDA5KVxuICAgIERlbnNpdHkgb2YgZXJyb3IgYW5kIGNvcnJlY3QgUlQgZGlzdHJpYnV0aW9ucyAoQWxleGFuZHJvd2ljeiwgMjAyMClcbiAgICBFWi1kaWZmdXNpb24gbW9kZWwgKFdhZ2VubWFrZXJzIGV0IGFsLiwgMjAwNylcbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBERE1NYXRoIHtcbiAgc3RhdGljIHMgPSB7XG4gICAgREVGQVVMVDogMSxcbiAgfTtcblxuICBzdGF0aWMgYSA9IHtcbiAgICBERUZBVUxUOiAxLjIsXG4gICAgTUlOOiAwLjAxLFxuICAgIE1BWDogMi4wLFxuICAgIFNURVA6IDAuMDEsXG4gICAgSlVNUDogMC4xLFxuICB9O1xuXG4gIHN0YXRpYyB6ID0ge1xuICAgIERFRkFVTFQ6IDAuNTUsXG4gICAgTUlOOiAwLjAxLFxuICAgIE1BWDogMC45OSxcbiAgICBTVEVQOiAwLjAxLFxuICAgIEpVTVA6IDAuMSxcbiAgfTtcblxuICBzdGF0aWMgdiA9IHtcbiAgICBERUZBVUxUOiAxLjUsXG4gICAgTUlOOiAwLjAxLFxuICAgIE1BWDogNS4wLFxuICAgIFNURVA6IDAuMDEsXG4gICAgSlVNUDogMC4xLFxuICB9O1xuXG4gIHN0YXRpYyB0MCA9IHtcbiAgICBERUZBVUxUOiAxNTAsXG4gICAgTUlOOiAwLFxuICAgIE1BWDogNTAwLFxuICAgIFNURVA6IDEsXG4gICAgSlVNUDogMTAsXG4gIH07XG5cbiAgLy8gQ2FsY3VsYXRlIGEgYnVuY2ggb2Ygc3RhdGlzdGljcyBmb3IgYW4gYXJyYXkgb2YgdHJpYWxzXG4gIHN0YXRpYyB0cmlhbHMyc3RhdHModHJpYWxzKSB7XG4gICAgY29uc3Qgc3RhdHMgPSB7fTtcblxuICAgIC8vIEZpcnN0LW9yZGVyIHN1bXNcbiAgICBjb25zdCBzdW1zID0gdHJpYWxzLnJlZHVjZShcbiAgICAgIChhY2N1bXVsYXRvciwgdHJpYWwpID0+IHtcbiAgICAgICAgc3dpdGNoICh0cmlhbC5vdXRjb21lKSB7XG4gICAgICAgICAgY2FzZSAnY29ycmVjdCc6XG4gICAgICAgICAgICBhY2N1bXVsYXRvci5jb3JyZWN0Q291bnQgKz0gMTtcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLmNvcnJlY3RSVFN1bSArPSB0cmlhbC5ydDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLmVycm9yQ291bnQgKz0gMTtcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLmVycm9yUlRTdW0gKz0gdHJpYWwucnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICducic6XG4gICAgICAgICAgICBhY2N1bXVsYXRvci5uckNvdW50ICs9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gTm8tb3BcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICAgIGVycm9yQ291bnQ6IDAsXG4gICAgICAgIG5yQ291bnQ6IDAsXG5cbiAgICAgICAgY29ycmVjdFJUU3VtOiAwLFxuICAgICAgICBlcnJvclJUU3VtOiAwLFxuICAgICAgfSxcbiAgICApO1xuXG4gICAgLy8gRmlyc3Qtb3JkZXIgc3RhdHNcbiAgICBzdGF0cy5jb3JyZWN0Q291bnQgPSBzdW1zLmNvcnJlY3RDb3VudDtcbiAgICBzdGF0cy5lcnJvckNvdW50ID0gc3Vtcy5lcnJvckNvdW50O1xuICAgIHN0YXRzLm5yQ291bnQgPSBzdW1zLm5yQ291bnQ7XG4gICAgc3RhdHMuYWNjdXJhY3kgPSBzdW1zLmNvcnJlY3RDb3VudCAvIChzdW1zLmNvcnJlY3RDb3VudCArIHN1bXMuZXJyb3JDb3VudCArIHN1bXMubnJDb3VudCk7XG5cbiAgICBzdGF0cy5jb3JyZWN0TWVhblJUID0gc3Vtcy5jb3JyZWN0UlRTdW0gLyBzdW1zLmNvcnJlY3RDb3VudDtcbiAgICBzdGF0cy5lcnJvck1lYW5SVCA9IHN1bXMuZXJyb3JSVFN1bSAvIHN1bXMuZXJyb3JDb3VudDtcbiAgICBzdGF0cy5tZWFuUlQgPSAoc3Vtcy5jb3JyZWN0UlRTdW0gKyBzdW1zLmVycm9yUlRTdW0pIC8gKHN1bXMuY29ycmVjdENvdW50ICsgc3Vtcy5lcnJvckNvdW50KTtcblxuICAgIC8vIFNlY29uZC1vcmRlciBzdW1zXG4gICAgY29uc3Qgc3VtczIgPSB0cmlhbHMucmVkdWNlKFxuICAgICAgKGFjY3VtdWxhdG9yLCB0cmlhbCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKHRyaWFsLm91dGNvbWUpIHtcbiAgICAgICAgICBjYXNlICdjb3JyZWN0JzpcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLnNzICs9ICh0cmlhbC5ydCAtIHN0YXRzLm1lYW5SVCkgKiogMjtcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLmNvcnJlY3RTUyArPSAodHJpYWwucnQgLSBzdGF0cy5jb3JyZWN0TWVhblJUKSAqKiAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgYWNjdW11bGF0b3Iuc3MgKz0gKHRyaWFsLnJ0IC0gc3RhdHMubWVhblJUKSAqKiAyO1xuICAgICAgICAgICAgYWNjdW11bGF0b3IuZXJyb3JTUyArPSAodHJpYWwucnQgLSBzdGF0cy5lcnJvck1lYW5SVCkgKiogMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBOby1vcFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNzOiAwLFxuICAgICAgICBjb3JyZWN0U1M6IDAsXG4gICAgICAgIGVycm9yU1M6IDAsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICAvLyBTZWNvbmQtb3JkZXIgc3RhdHNcbiAgICBzdGF0cy5jb3JyZWN0U0RSVCA9IChzdGF0cy5jb3JyZWN0Q291bnQgPiAxKVxuICAgICAgPyBNYXRoLnNxcnQoc3VtczIuY29ycmVjdFNTIC8gKHN0YXRzLmNvcnJlY3RDb3VudCAtIDEpKVxuICAgICAgOiBOYU47XG4gICAgc3RhdHMuZXJyb3JTRFJUID0gKHN0YXRzLmVycm9yQ291bnQgPiAxKVxuICAgICAgPyBNYXRoLnNxcnQoc3VtczIuZXJyb3JTUyAvIChzdGF0cy5lcnJvckNvdW50IC0gMSkpXG4gICAgICA6IE5hTjtcbiAgICBzdGF0cy5zZFJUID0gKHN0YXRzLmNvcnJlY3RDb3VudCArIHN0YXRzLmVycm9yQ291bnQgPiAxKVxuICAgICAgPyBNYXRoLnNxcnQoc3VtczIuc3MgLyAoc3RhdHMuY29ycmVjdENvdW50ICsgc3RhdHMuZXJyb3JDb3VudCAtIDEpKVxuICAgICAgOiBOYU47XG5cbiAgICByZXR1cm4gc3RhdHM7XG4gIH1cblxuICAvLyBQcm9iYWJpbGl0eSBvZiBhbiBFcnJvciBSZXNwb25zZVxuICBzdGF0aWMgYXp2MnBFKGEsIHosIHYsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkge1xuICAgIGNvbnN0IHpQcmltZSA9IGEgKiB6O1xuXG4gICAgY29uc3QgQSA9IE1hdGguZXhwKCgtMiAqIHYgKiBhKSAvIHMgKiogMik7XG4gICAgY29uc3QgWiA9IE1hdGguZXhwKCgtMiAqIHYgKiB6UHJpbWUpIC8gcyAqKiAyKTtcblxuICAgIHJldHVybiAoQSAtIFopIC8gKEEgLSAxKTtcbiAgfVxuXG4gIC8vIFByb2JhYmlsaXR5IG9mIGEgQ29ycmVjdCBSZXNwb25zZVxuICBzdGF0aWMgYXp2MnBDKGEsIHosIHYsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkge1xuICAgIHJldHVybiBERE1NYXRoLmF6djJwRShhLCAxIC0geiwgLXYsIHMpO1xuICB9XG5cbiAgLy8gTWVhbiBPdmVyYWxsIFJUXG4gIC8vIEVxdWF0aW9uIDUgKEdyYXNtYW4gZXQgYWwuLCAyMDA5KVxuICBzdGF0aWMgYXp2dDAybShhLCB6LCB2LCB0MCwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7XG4gICAgY29uc3QgelByaW1lID0gYSAqIHo7XG4gICAgY29uc3QgQSA9IE1hdGguZXhwKCgtMiAqIHYgKiBhKSAvIHMgKiogMikgLSAxO1xuICAgIGNvbnN0IFogPSBNYXRoLmV4cCgoLTIgKiB2ICogelByaW1lKSAvIHMgKiogMikgLSAxO1xuXG4gICAgY29uc3QgbWVhbiA9IC0oelByaW1lIC8gdikgKyAoYSAvIHYpICogKFogLyBBKTtcbiAgICByZXR1cm4gdDAgKyBtZWFuICogMTAwMDtcbiAgfVxuXG4gIC8vIFNEIE92ZXJhbGwgUlRcbiAgLy8gRXF1YXRpb24gNiAoR3Jhc21hbiBldCBhbC4sIDIwMDkpXG4gIHN0YXRpYyBhenYyc2QoYSwgeiwgdiwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7XG4gICAgY29uc3QgelByaW1lID0gYSAqIHo7XG4gICAgY29uc3QgQSA9IE1hdGguZXhwKCgtMiAqIHYgKiBhKSAvIHMgKiogMikgLSAxO1xuICAgIGNvbnN0IFogPSBNYXRoLmV4cCgoLTIgKiB2ICogelByaW1lKSAvIHMgKiogMikgLSAxO1xuXG4gICAgY29uc3QgdmFyaWFuY2UgPSAoXG4gICAgICAoXG4gICAgICAgICgtdiAqIGEgKiogMiAqIChaICsgNCkgKiBaKSAvIEEgKiogMlxuICAgICAgKSArIChcbiAgICAgICAgKCgtMyAqIHYgKiBhICoqIDIgKyA0ICogdiAqIHpQcmltZSAqIGEgKyBzICoqIDIgKiBhKSAqIFogKyA0ICogdiAqIHpQcmltZSAqIGEpIC8gQVxuICAgICAgKSAtIChcbiAgICAgICAgcyAqKiAyICogelByaW1lXG4gICAgICApXG4gICAgKSAvIHYgKiogMztcblxuICAgIHJldHVybiBNYXRoLnNxcnQodmFyaWFuY2UpICogMTAwMDtcbiAgfVxuXG4gIC8vIE1lYW4gRXJyb3IgUlRcbiAgLy8gRXF1YXRpb24gMTMgKEdyYXNtYW4gZXQgYWwuLCAyMDA5KVxuICBzdGF0aWMgYXp2dDAybUUoYSwgeiwgdiwgdDAsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkge1xuICAgIGZ1bmN0aW9uIHBoaSh4LCB5KSB7XG4gICAgICByZXR1cm4gTWF0aC5leHAoKDIgKiB2ICogeSkgLyAocyAqKiAyKSkgLSBNYXRoLmV4cCgoMiAqIHYgKiB4KSAvIChzICoqIDIpKTtcbiAgICB9XG4gICAgY29uc3QgelByaW1lID0gYSAqIHo7XG5cbiAgICBjb25zdCBtZWFuID0gKHpQcmltZSAqIChwaGkoelByaW1lIC0gYSwgYSkgKyBwaGkoMCwgelByaW1lKSkgKyAyICogYSAqIHBoaSh6UHJpbWUsIDApKVxuICAgICAgLyAodiAqIHBoaSh6UHJpbWUsIGEpICogcGhpKC1hLCAwKSk7XG4gICAgcmV0dXJuIHQwICsgbWVhbiAqIDEwMDA7XG4gIH1cblxuICAvLyBTRCBFcnJvciBSVFxuICAvLyBFcXVhdGlvbiAxNCAoR3Jhc21hbiBldCBhbC4sIDIwMDkpXG4gIHN0YXRpYyBhenYyc2RFKGEsIHosIHYsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkge1xuICAgIGZ1bmN0aW9uIHBoaSh4LCB5KSB7XG4gICAgICByZXR1cm4gTWF0aC5leHAoKDIgKiB2ICogeSkgLyAocyAqKiAyKSkgLSBNYXRoLmV4cCgoMiAqIHYgKiB4KSAvIChzICoqIDIpKTtcbiAgICB9XG4gICAgY29uc3QgelByaW1lID0gYSAqIHo7XG5cbiAgICBjb25zdCB2YXJpYW5jZSA9IChcbiAgICAgIChcbiAgICAgICAgLTIgKiBhICogcGhpKDAsIHpQcmltZSlcbiAgICAgICAgKiAoKDIgKiB2ICogYSAqIHBoaSh6UHJpbWUsIDIgKiBhKSkgKyAocyAqKiAyICogcGhpKDAsIGEpICogcGhpKHpQcmltZSwgYSkpKVxuICAgICAgICAqIE1hdGguZXhwKCgyICogdiAqIGEpIC8gcyAqKiAyKVxuICAgICAgKSAvIChcbiAgICAgICAgdiAqKiAzICogcGhpKDAsIGEpICoqIDIgKiBwaGkoelByaW1lLCBhKSAqKiAyXG4gICAgICApXG4gICAgKSArIChcbiAgICAgIChcbiAgICAgICAgNCAqIHYgKiB6UHJpbWUgKiAoMiAqIGEgLSB6UHJpbWUpICogTWF0aC5leHAoKDIgKiB2ICogKHpQcmltZSArIGEpKSAvIHMgKiogMilcbiAgICAgICAgKyB6UHJpbWUgKiBzICoqIDIgKiBwaGkoMiAqIHpQcmltZSwgMiAqIGEpXG4gICAgICApIC8gKFxuICAgICAgICB2ICoqIDMgKiBwaGkoelByaW1lLCBhKSAqKiAyXG4gICAgICApXG4gICAgKTtcblxuICAgIHJldHVybiBNYXRoLnNxcnQodmFyaWFuY2UpICogMTAwMDtcbiAgfVxuXG4gIC8vIE1lYW4gQ29ycmVjdCBSVFxuICBzdGF0aWMgYXp2dDAybUMoYSwgeiwgdiwgdDAsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkge1xuICAgIHJldHVybiBERE1NYXRoLmF6dnQwMm1FKGEsIDEgLSB6LCAtdiwgdDAsIHMpO1xuICB9XG5cbiAgLy8gU0QgQ29ycmVjdCBSVFxuICBzdGF0aWMgYXp2MnNkQyhhLCB6LCB2LCBzID0gRERNTWF0aC5zLkRFRkFVTFQpIHtcbiAgICByZXR1cm4gRERNTWF0aC5henYyc2RFKGEsIDEgLSB6LCAtdiwgcyk7XG4gIH1cblxuICAvLyBEZW5zaXR5IG9mIEVycm9yIFJUXG4gIHN0YXRpYyB0YXp2MmdFKHQsIGEsIHosIHYsIHMgPSBERE1NYXRoLnMuREVGQVVMVCkge1xuICAgIGlmICghdCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCB6UHJpbWUgPSBhICogejtcbiAgICBjb25zdCBiYXNlID0gKChNYXRoLlBJICogcyAqKiAyKSAvIGEgKiogMikgKiBNYXRoLmV4cCgoLXpQcmltZSAqIHYpIC8gcyAqKiAyKTtcblxuICAgIGxldCBrID0gMDtcbiAgICBsZXQgdGVybSA9IDA7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZG8ge1xuICAgICAgayArPSAxO1xuXG4gICAgICB0ZXJtID0ga1xuICAgICAgICAqIE1hdGguc2luKChNYXRoLlBJICogelByaW1lICogaykgLyBhKVxuICAgICAgICAqIE1hdGguZXhwKC0wLjUgKiAoKHYgKiogMiAvIHMgKiogMikgKyAoKE1hdGguUEkgKiogMiAqIGsgKiogMiAqIHMgKiogMikgLyBhICoqIDIpKSAqIHQpO1xuXG4gICAgICBzdW0gKz0gdGVybTtcbiAgICB9IHdoaWxlIChrIDwgMjAwKTsgLy8gPz8gSEFDS1xuXG4gICAgcmV0dXJuIGJhc2UgKiBzdW07XG4gIH1cblxuICAvLyBEZW5zaXR5IG9mIENvcnJlY3QgUlRcbiAgc3RhdGljIHRhenYyZ0ModCwgYSwgeiwgdiwgcyA9IERETU1hdGgucy5ERUZBVUxUKSB7XG4gICAgcmV0dXJuIERETU1hdGgudGF6djJnRSh0LCBhLCAxIC0geiwgLXYsIHMpO1xuICB9XG5cbiAgLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vcmFvdWwuc29jc2NpLnV2YS5ubC9FWjIvRVoyX25ldy5odG1sXG4gIC8vIEVaLWZ1bmN0aW9uIGZvciBzdGFydGluZyB2YWx1ZXNcbiAgLy8gaW5wdXQ6IG9iaiAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXNcbiAgLy8gICAgcEMgLSBQcm9wb3J0aW9uIGNvcnJlY3RcbiAgLy8gICAgc2QgLSBzYW1wbGUgc3RhbmRhcmQgZGV2aWF0aW9uIG9mIHRoZSBSVCdzIGluIG1zXG4gIC8vICAgIG0gLSBzYW1wbGUgbWVhbiBvZiB0aGUgUlQncyBpbiBtc1xuICAvLyAgICBzIC0gZGlmZnVzaW9uIHN0YW5kYXJkIGRldmlhdGlvblxuICAvLyByZXR1cm5zOiBPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHYsIGEsIGFuZCB0MCwgY29udGFpbmluZyBFWi1lc3RpbWF0ZXMgb2YgdGhlc2UgcGFyYW1ldGVyc1xuICBzdGF0aWMgZGF0YTJleih7XG4gICAgYWNjdXJhY3k6IHBDLFxuICAgIHNkUlQ6IHNkLFxuICAgIG1lYW5SVDogbSxcbiAgICBzLFxuICB9KSB7XG4gICAgZnVuY3Rpb24gc2lnbihyKSB7XG4gICAgICByZXR1cm4gKChyID4gMCkgPyAxIDogKChyID09PSAwKSA/IDAgOiAtMSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvZ2l0KHApIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyhwIC8gKDEgLSBwKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdnJ0ID0gKHNkIC8gMTAwMCkgKiogMjtcbiAgICBjb25zdCBtcnQgPSBtIC8gMTAwMDtcblxuICAgIGNvbnN0IHMyID0gcyAqKiAyO1xuICAgIGNvbnN0IGwgPSBsb2dpdChwQyk7XG4gICAgY29uc3QgeCA9IChsICogKGwgKiBwQyAqKiAyIC0gbCAqIHBDICsgcEMgLSAwLjUpKSAvIHZydDtcbiAgICBjb25zdCB2ID0gc2lnbihwQyAtIDAuNSkgKiBzICogeCAqKiAoMSAvIDQpO1xuICAgIGNvbnN0IGEgPSAoczIgKiBsb2dpdChwQykpIC8gdjtcbiAgICBjb25zdCB5ID0gKC12ICogYSkgLyBzMjtcbiAgICBjb25zdCBtZHQgPSAoKGEgLyAoMiAqIHYpKSAqICgxIC0gTWF0aC5leHAoeSkpKSAvICgxICsgTWF0aC5leHAoeSkpO1xuICAgIGNvbnN0IHQwID0gKG1ydCA/IG1ydCAtIG1kdCA6IG51bGwpOyAvLyBjb21wdXRlIFRlciBvbmx5IGlmIE1SVCB3YXMgcHJvdmlkZWRcblxuICAgIGNvbnN0IHQwUHJpbWUgPSB0MCAqIDEwMDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIHYsXG4gICAgICBhLFxuICAgICAgdDA6IHQwUHJpbWUsXG4gICAgICBzLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGF0YTJlejIoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhMmV6MiBpcyBub3QgaW1wbGVtZW50ZWQhJyk7XG4gIH1cbn1cbiIsIlxuLy8gSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG5pbXBvcnQgRERNTWF0aCBmcm9tICcuL2RkbS1tYXRoJztcblxuZXhwb3J0IGRlZmF1bHQgRERNTWF0aDtcbiIsIi8qIGVzbGludCBuby1yZXN0cmljdGVkLWdsb2JhbHM6IFtcIm9mZlwiLCBcInNlbGZcIl0gKi9cblxuaW1wb3J0IERETU1hdGggZnJvbSAnQGRlY2lkYWJsZXMvYWNjdW11bGFibGUtbWF0aCc7XG5cbnNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHBhcmFtcyA9IERETU1hdGguZGF0YTJleih7Li4uZXZlbnQuZGF0YSwgczogRERNTWF0aC5zLkRFRkFVTFR9KTtcblxuICAvLyAjIyMjIyBBcmJpdHJhcnkgZGVmYXVsdCB2YWx1ZXMhISFcbiAgY29uc3QgYSA9ICFpc05hTihwYXJhbXMuYSkgPyBwYXJhbXMuYSA6IDEuNTtcbiAgY29uc3QgeiA9ICFpc05hTihwYXJhbXMueikgPyBwYXJhbXMueiA6IDAuNTtcbiAgY29uc3QgdiA9ICFpc05hTihwYXJhbXMudikgPyBwYXJhbXMudiA6IDAuMTtcbiAgY29uc3QgdDAgPSAhaXNOYU4ocGFyYW1zLnQwKSA/IHBhcmFtcy50MCA6IDEwMDtcbiAgY29uc3QgcyA9ICFpc05hTihwYXJhbXMucykgPyBwYXJhbXMucyA6IERETU1hdGgucy5ERUZBVUxUO1xuXG4gIGNvbnN0IHByZWRpY3RlZCA9IHtcbiAgICBhY2N1cmFjeTogRERNTWF0aC5henYycEMoYSwgeiwgdiksXG4gICAgY29ycmVjdE1lYW5SVDogRERNTWF0aC5henZ0MDJtQyhhLCB6LCB2LCB0MCksXG4gICAgZXJyb3JNZWFuUlQ6IERETU1hdGguYXp2dDAybUUoYSwgeiwgdiwgdDApLFxuICAgIG1lYW5SVDogRERNTWF0aC5henZ0MDJtKGEsIHosIHYsIHQwKSxcbiAgICBjb3JyZWN0U0RSVDogRERNTWF0aC5henYyc2RDKGEsIHosIHYpLFxuICAgIGVycm9yU0RSVDogRERNTWF0aC5henYyc2RFKGEsIHosIHYpLFxuICAgIHNkUlQ6IERETU1hdGguYXp2MnNkKGEsIHosIHYpLFxuICB9O1xuXG4gIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgIHBhcmFtczoge1xuICAgICAgYSwgeiwgdiwgdDAsIHMsXG4gICAgfSxcbiAgICBwcmVkaWN0ZWQsXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6WyJERE1NYXRoIiwicyIsIkRFRkFVTFQiLCJhIiwiTUlOIiwiTUFYIiwiU1RFUCIsIkpVTVAiLCJ6IiwidiIsInQwIiwidHJpYWxzMnN0YXRzIiwidHJpYWxzIiwic3RhdHMiLCJzdW1zIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJ0cmlhbCIsIm91dGNvbWUiLCJjb3JyZWN0Q291bnQiLCJjb3JyZWN0UlRTdW0iLCJydCIsImVycm9yQ291bnQiLCJlcnJvclJUU3VtIiwibnJDb3VudCIsImFjY3VyYWN5IiwiY29ycmVjdE1lYW5SVCIsImVycm9yTWVhblJUIiwibWVhblJUIiwic3VtczIiLCJzcyIsImNvcnJlY3RTUyIsImVycm9yU1MiLCJjb3JyZWN0U0RSVCIsIk1hdGgiLCJzcXJ0IiwiTmFOIiwiZXJyb3JTRFJUIiwic2RSVCIsImF6djJwRSIsInpQcmltZSIsIkEiLCJleHAiLCJaIiwiYXp2MnBDIiwiYXp2dDAybSIsIm1lYW4iLCJhenYyc2QiLCJ2YXJpYW5jZSIsImF6dnQwMm1FIiwicGhpIiwieCIsInkiLCJhenYyc2RFIiwiYXp2dDAybUMiLCJhenYyc2RDIiwidGF6djJnRSIsInQiLCJiYXNlIiwiUEkiLCJrIiwidGVybSIsInN1bSIsInNpbiIsInRhenYyZ0MiLCJkYXRhMmV6IiwicEMiLCJzZCIsIm0iLCJzaWduIiwiciIsImxvZ2l0IiwicCIsImxvZyIsInZydCIsIm1ydCIsInMyIiwibCIsIm1kdCIsInQwUHJpbWUiLCJkYXRhMmV6MiIsIkVycm9yIiwic2VsZiIsIm9ubWVzc2FnZSIsImV2ZW50IiwicGFyYW1zIiwiZGF0YSIsImlzTmFOIiwicHJlZGljdGVkIiwicG9zdE1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7OztFQUNBO0VBQ0E7O0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztFQUVBOztFQUVBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7RUFFQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNlLE1BQU1BLE9BQU8sQ0FBQztFQUMzQixFQUFBLE9BQU9DLENBQUMsR0FBRztFQUNUQyxJQUFBQSxPQUFPLEVBQUU7S0FDVjtFQUVELEVBQUEsT0FBT0MsQ0FBQyxHQUFHO0VBQ1RELElBQUFBLE9BQU8sRUFBRSxHQUFHO0VBQ1pFLElBQUFBLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLElBQUFBLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLElBQUFBLElBQUksRUFBRSxJQUFJO0VBQ1ZDLElBQUFBLElBQUksRUFBRTtLQUNQO0VBRUQsRUFBQSxPQUFPQyxDQUFDLEdBQUc7RUFDVE4sSUFBQUEsT0FBTyxFQUFFLElBQUk7RUFDYkUsSUFBQUEsR0FBRyxFQUFFLElBQUk7RUFDVEMsSUFBQUEsR0FBRyxFQUFFLElBQUk7RUFDVEMsSUFBQUEsSUFBSSxFQUFFLElBQUk7RUFDVkMsSUFBQUEsSUFBSSxFQUFFO0tBQ1A7RUFFRCxFQUFBLE9BQU9FLENBQUMsR0FBRztFQUNUUCxJQUFBQSxPQUFPLEVBQUUsR0FBRztFQUNaRSxJQUFBQSxHQUFHLEVBQUUsSUFBSTtFQUNUQyxJQUFBQSxHQUFHLEVBQUUs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");class DDMFit extends AccumulableElement{static get properties(){return{}}constructor(){super(),this.a=DDMMath.a.DEFAULT,this.z=DDMMath.z.DEFAULT,this.v=DDMMath.v.DEFAULT,this.t0=DDMMath.t0.DEFAULT,this.observed={},this.predicted={},this.working=!1,this.queued=!1,this.worker=new WorkerFactory,this.worker.onmessage=t=>{this.working=!1,this.predicted=t.data.predicted,this.a=t.data.params.a,this.z=t.data.params.z,this.v=t.data.params.v,this.t0=t.data.params.t0,this.requestUpdate(),this.dispatchEvent(new CustomEvent("ddm-fit-update",{detail:{a:this.a,z:this.z,v:this.v,t0:this.t0},bubbles:!0})),this.queued&&this.fit()},this.fit()}fit(){this.working?this.queued=!0:(this.worker.postMessage(this.observed),this.working=!0,this.queued=!1)}clear(){this.observed={},this.fit()}set(t){this.observed=structuredClone(t),this.fit()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div>
        <div><b>Observed:</b>
          <br/>Accuracy = ${this.observed.accuracy?.toFixed(2)},
          <br/>Correct Mean RT = ${this.observed.correctMeanRT?.toFixed(0)},
          Error Mean RT = ${this.observed.errorMeanRT?.toFixed(0)},
          Mean RT = ${this.observed.meanRT?.toFixed(0)},
          <br/>Correct SD RT = ${this.observed.correctSDRT?.toFixed(0)},
          Error SD RT = ${this.observed.errorSDRT?.toFixed(0)},
          SD RT = ${this.observed.sdRT?.toFixed(0)},
        </div>
        <div><b>Parameters:</b>
          <br/><var class="math-var a">a</var> = ${this.a.toFixed(2)},
          <var class="math-var z">z</var> = ${this.z.toFixed(2)},
          <var class="math-var v">v</var> = ${this.v.toFixed(2)},
          <var class="math-var t0">t0</var> = ${this.t0.toFixed(0)}
        </div>
        <div><b>Predicted:</b>
          <br/>Accuracy = ${this.predicted.accuracy?.toFixed(2)},
          <br/>Correct Mean RT = ${this.predicted.correctMeanRT?.toFixed(0)},
          Error Mean RT = ${this.predicted.errorMeanRT?.toFixed(0)},
          Mean RT = ${this.predicted.meanRT?.toFixed(0)},
          <br/>Correct SD RT = ${this.predicted.correctSDRT?.toFixed(0)},
          Error SD RT = ${this.predicted.errorSDRT?.toFixed(0)},
          SD RT = ${this.predicted.sdRT?.toFixed(0)},
        </div>
      </div>
    `}}customElements.define("ddm-fit",DDMFit);class DDMParameters extends AccumulableElement{static get properties(){return{a:{attribute:"boundary-separation",type:Number,reflect:!0},z:{attribute:"starting-point",type:Number,reflect:!0},v:{attribute:"drift-rate",type:Number,reflect:!0},t0:{attribute:"nondecision-time",type:Number,reflect:!0}}}constructor(){super(),this.a=void 0,this.z=void 0,this.v=void 0,this.t0=void 0}setBoundarySeparation(t){this.a=+t.target.value,this.dispatchEvent(new CustomEvent("ddm-parameters-a",{detail:{a:this.a},bubbles:!0}))}setStartingPoint(t){this.z=+t.target.value,this.dispatchEvent(new CustomEvent("ddm-parameters-z",{detail:{z:this.z},bubbles:!0}))}setDriftRate(t){this.v=+t.target.value,this.dispatchEvent(new CustomEvent("ddm-parameters-v",{detail:{v:this.v},bubbles:!0}))}setNondecisionTime(t){this.t0=+t.target.value,this.dispatchEvent(new CustomEvent("ddm-parameters-t0",{detail:{t0:this.t0},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        decidables-slider {
          line-height: 1;
          text-align: center;
        }

        decidables-slider  div {
          margin-bottom: 0.25rem;
        }

        .a {
          --decidables-slider-background-color: var(---color-a-light);
          --decidables-slider-color: var(---color-a);
        }

        .z {
          --decidables-slider-background-color: var(---color-z-light);
          --decidables-slider-color: var(---color-z);
        }

        .v {
          --decidables-slider-background-color: var(---color-v-light);
          --decidables-slider-color: var(---color-v);
        }

        .t0 {
          --decidables-slider-background-color: var(---color-t0-light);
          --decidables-slider-color: var(---color-t0);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${null!=this.a?x$2`<decidables-slider class="a"
            ?disabled=${!this.interactive}
            scale
            min=${DDMMath.a.MIN}
            max=${DDMMath.a.MAX}
            step=${DDMMath.a.STEP}
            .value=${+this.a.toFixed(2)}
            @change=${this.setBoundarySeparation.bind(this)}
            @input=${this.setBoundarySeparation.bind(this)}
          ><div>Boundary Separation<br><span class="math-var">a</span></div></decidables-slider>`:x$2``}
        ${null!=this.z?x$2`<decidables-slider class="z"
            ?disabled=${!this.interactive}
            scale
            min=${DDMMath.z.MIN}
            max=${DDMMath.z.MAX}
            step=${DDMMath.z.STEP}
            .value=${+this.z.toFixed(2)}
            @change=${this.setStartingPoint.bind(this)}
            @input=${this.setStartingPoint.bind(this)}
          ><div>Starting Point<br><span class="math-var">z</span></div></decidables-slider>`:x$2``}
        ${null!=this.v?x$2`<decidables-slider class="v"
            ?disabled=${!this.interactive}
            scale
            min=${DDMMath.v.MIN}
            max=${DDMMath.v.MAX}
            step=${DDMMath.v.STEP}
            .value=${+this.v.toFixed(2)}
            @change=${this.setDriftRate.bind(this)}
            @input=${this.setDriftRate.bind(this)}
          ><div>Drift Rate<br><span class="math-var">v</span></div></decidables-slider>`:x$2``}
        ${null!=this.t0?x$2`<decidables-slider class="t0" 
            ?disabled=${!this.interactive}
            scale
            min=${DDMMath.t0.MIN}
            max=${DDMMath.t0.MAX}
            step=${DDMMath.t0.STEP}
            .value=${+this.t0.toFixed(0)}
            @change=${this.setNondecisionTime.bind(this)}
            @input=${this.setNondecisionTime.bind(this)}
          ><div>Nondecision Time<br><span class="math-var">tâ</span></div></decidables-slider>`:x$2``}
      </div>`}}customElements.define("ddm-parameters",DDMParameters);class DDMModel extends(DecidablesMixinResizeable(AccumulableElement)){static get properties(){return{measures:{attribute:"measures",type:Boolean,reflect:!0},means:{attribute:"means",type:Boolean,reflect:!0},sds:{attribute:"sds",type:Boolean,reflect:!0},human:{attribute:"human",type:Boolean,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},seed:{attribute:"seed",type:Number,reflect:!0},a:{attribute:"boundary-separation",type:Number,reflect:!0},z:{attribute:"starting-point",type:Number,reflect:!0},v:{attribute:"drift-rate",type:Number,reflect:!0},t0:{attribute:"nondecision-time",type:Number,reflect:!0}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.scale={time:{min:0,max:1e3,step:1,round:Math.round},evidence:{min:-1,max:1,step:.01,round:Math.round},density:{min:0,max:10,step:.01,round:Math.round}},this.measures=!1,this.means=!1,this.sds=!1,this.resample(),this.human=!1,this.trials=10,this.a=DDMMath.a.DEFAULT,this.z=DDMMath.z.DEFAULT,this.v=DDMMath.v.DEFAULT,this.t0=DDMMath.t0.DEFAULT,this.precision=.005,this.random=null,this.bounds=null,this.startingPoint=null,this.data={},this.model={},this.animate=!1,this.paused=!1,this.alignState()}clear(){this.trials=0,this.data.trials=[]}trial(t={}){this.trials+=1,this.human?this.data.trials.push(t):this.animate=!0}pauseTrial(){select$5(this.renderRoot).select(".path[data-new-trial-ease-time]").interrupt("new").select(".curve").interrupt("new"),this.paused=!0}resumeTrial(){this.paused=!1,this.requestUpdate()}resample(){this.seed=uniform(0,1)()}alignPath(t,e,i,r,n){const a=normal.source(lcg(t))(0,this.precision**.5),s=-e/2,o=e/2,l=e*i-e/2,c=r*this.precision,g=[];for(g.push({t:n,e:l});g.at(-1).e>s&&g.at(-1).e<o;)g.push({t:g.at(-1).t+1e3*this.precision,e:g.at(-1).e+c+DDMMath.s.DEFAULT*a()});return g}alignCorrectDistribution(t,e,i,r){const n=DDMMath.azv2pC(t,e,i),a=[{t:0,d:0},{t:this.t0,d:0}];for(let s=this.scale.time.min;s<=this.scale.time.max-r;s+=this.scale.time.step)s>0&&a.push({t:r+s,d:DDMMath.tazv2gC(s/1e3,t,e,i)/n});return a}alignErrorDistribution(t,e,i,r){const n=DDMMath.azv2pE(t,e,i),a=[{t:0,d:0},{t:this.t0,d:0}];for(let s=this.scale.time.min;s<=this.scale.time.max-r;s+=this.scale.time.step)s>0&&a.push({t:r+s,d:DDMMath.tazv2gE(s/1e3,t,e,i)/n});return a}alignState(){this.random=uniform.source(lcg(this.seed))(0,1),this.bounds={lower:-this.a/2,upper:this.a/2},this.startingPoint=this.a*this.z-this.a/2,this.human?this.trials=this.data.trials.length:this.data.trials=Array.from({length:this.trials},(t,e)=>{const i=this.random()/1e3*997,r=this.animate&&e===this.trials-1,n=this.alignPath(i,this.a,this.z,this.v,this.t0),a=n.at(-1).e<=this.bounds.lower?"error":n.at(-1).e>=this.bounds.upper?"correct":"nr",s="error"===a?n.at(-2).t+(this.bounds.lower-n.at(-2).e)/(n.at(-1).e-n.at(-2).e)*(1e3*this.precision):"correct"===a?n.at(-2).t+(this.bounds.upper-n.at(-2).e)/(n.at(-1).e-n.at(-2).e)*(1e3*this.precision):null;return{index:e,seed:i,path:n,rt:s,outcome:a,animate:r}});const t=DDMMath.trials2stats(this.data.trials.filter(t=>!t.animate));this.data={...this.data,...t},this.model.accuracy=DDMMath.azv2pC(this.a,this.z,this.v),this.model.correctMeanRT=DDMMath.azvt02mC(this.a,this.z,this.v,this.t0),this.model.errorMeanRT=DDMMath.azvt02mE(this.a,this.z,this.v,this.t0),this.model.correctSDRT=DDMMath.azv2sdC(this.a,this.z,this.v),this.model.errorSDRT=DDMMath.azv2sdE(this.a,this.z,this.v),this.model.correctDist=this.alignCorrectDistribution(this.a,this.z,this.v,this.t0),this.model.errorDist=this.alignErrorDistribution(this.a,this.z,this.v,this.t0),this.dispatchEvent(new CustomEvent("ddm-model-output",{detail:{data:this.data,model:this.model},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 27rem;
          height: 18rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        /*  
          UNDERLAYER
        */
        .background {
          fill: var(---color-element-background);
          stroke: none;
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title {
          font-weight: 600;

          fill: currentColor;
        }

        .axis path,
        .axis line {
          stroke: var(---color-element-border);
          /* shape-rendering: crispEdges; */
        }

        .tick {
          font-size: 0.75rem;
        }

        /*  
          CONTENT
        */
        .line {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .curve {
          stroke-width: 2;
        }

        .path .curve {
          opacity: 0.5;

          fill: none;

          transition: opacity 0.5s;
        }

        .path.highlight .curve {
          filter: url("#shadow-2");
          opacity: 1;
        }

        .path.correct .curve {
          /* stroke: var(---color-correct); */
        }

        .path.error .curve {
          /* stroke: var(---color-error); */
        }

        .stop-0 {
          stop-color: var(---color-correct);
        }

        .stop-100 {
          stop-color: var(---color-error);
        }

        .path.animate .curve {
          opacity: 1;

          stroke: url("#path-animate");
        }

        .dist.correct .curve {
          fill: var(---color-correct-light);
          stroke: var(---color-correct);
        }

        .dist.error .curve {
          fill: var(---color-error-light);
          stroke: var(---color-error);
        }

        .rt .mark {
          stroke-width: 1;
        }

        .accuracy.model .bar {
          stroke: none;
        }

        .accuracy.model.correct .bar {
          fill: var(---color-correct);
        }

        .accuracy.model.error .bar {
          fill: var(---color-error);
        }

        .accuracy.data .mark {
          stroke-width: 2;
        }

        .accuracy.data.correct .mark {
          stroke: var(---color-correct-light);
        }

        .accuracy.data.error .mark {
          stroke: var(---color-error-light);
        }

        /*
          OVERLAYER
        */
        .interactive {
          filter: url("#shadow-2");
          outline: none;
        }

        .interactive:hover {
          filter: url("#shadow-4");
        }

        .interactive:active {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .interactive:focus {
          filter: url("#shadow-8");
        }

        .boundary {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .boundary.interactive {
          cursor: ns-resize;
        }

        .drift {
          pointer-events: visible;

          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-dasharray: 8 4;
          stroke-width: 2;
        }

        .drift.interactive {
          cursor: ns-resize;
        }

        .drift .arrow {
          stroke-dasharray: none;
        }

        .t0z.interactive {
          cursor: move;
        }

        .t0z .point {
          fill: var(---color-element-emphasis);
          stroke-width: 0;

          r: 6px;
        }

        /* Make larger targets for touch users */
        .interactive .touch {
          stroke: #000000;
          stroke-dasharray: none;
          stroke-opacity: 0;
        }

        @media (pointer: coarse) {
          .interactive .touch {
            stroke-linecap: round;
            stroke-width: 12;
          }
        }

        .measure {
          stroke-width: 2;
        }

        .measure .label {
          font-size: 0.75rem;

          fill: currentColor;
        }

        .measure.a .line {
          stroke: var(---color-a);
        }

        .measure.a .label {
          dominant-baseline: auto;
          text-anchor: end;
        }

        .measure.z .line {
          stroke: var(---color-z);
        }

        .measure.z .label {
          dominant-baseline: hanging;
          text-anchor: start;
        }

        .measure.v .line {
          stroke: var(---color-v);
        }

        .measure.v .label {
          dominant-baseline: auto;
          text-anchor: start;
        }

        .measure.t0 .line {
          stroke: var(---color-t0);
        }

        .measure.t0 .label {
          dominant-baseline: auto;
          text-anchor: middle;
        }

        .sd .indicator,
        .mean .indicator {
          stroke-width: 2;
        }

        .sd.model .indicator,
        .mean.model .indicator {
          stroke-dasharray: 2 2;
        }

        .sd.data .indicator,
        .mean.data .indicator {
          stroke-dasharray: 1 1;
        }

        .sd.correct .indicator,
        .mean.correct .indicator {
          stroke: var(---color-correct-dark);
        }

        .sd.error .indicator,
        .mean.error .indicator {
          stroke: var(---color-error-dark);
        }

        .rt-label rect {
          filter: url("#shadow-2");

          fill: var(--color-background);
          rx: 4;
        }

        .rt-label text {
          font-size: 0.75rem;
          
          text-anchor: middle;
        }

        .rt-label.correct text {
          dominant-baseline: auto;
        }

        .rt-label.error text {
          dominant-baseline: hanging;
        }
      `]}render(){return x$2``}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height;let r,n;e/i>1.5?(n=i,r=1.5*n):(r=e,n=r/1.5);const a=1*this.rem,s=3*this.rem,o=3.75*this.rem,l=3.25*this.rem,c=n-(a+s),g=r-(o+l),d=.75*this.rem,u=.5*c,B=.25*c-d,F=.75*this.rem,h=.9*g,Q=.1*g-F,U=parseInt(this.getComputedStyleValue("---transition-duration"),10),I=linear().domain([this.scale.time.min,this.scale.time.max]).range([0,h]),b=linear().domain([this.scale.evidence.min,this.scale.evidence.max]).range([u,0]),p=linear().domain([this.scale.density.min,this.scale.density.max]).range([B,0]),y=linear().domain([this.scale.density.min,this.scale.density.max]).range([0,B]),m=linear().domain([0,1]).range([0,c]),C=drag().subject((t,e)=>({x:I(e.t0),y:b(e.startingPoint)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",t=>{this.drag=!0;const e=!!t.sourceEvent.shiftKey&&(Math.abs(t.x-t.subject.x)>Math.abs(t.y-t.subject.y)?"t0":"z");let i=I.invert(t.x),r=(b.invert(t.y)+this.a/2)/this.a;i="z"===e?I.invert(t.subject.x):i<DDMMath.t0.MIN?DDMMath.t0.MIN:i>DDMMath.t0.MAX?DDMMath.t0.MAX:i,r="t0"===e?(b.invert(t.subject.y)+this.a/2)/this.a:r<DDMMath.z.MIN?DDMMath.z.MIN:r>DDMMath.z.MAX?DDMMath.z.MAX:r,this.t0=i,this.z=r,this.alignState(),this.dispatchEvent(new CustomEvent("ddm-model-t0",{detail:{t0:this.t0},bubbles:!0})),this.dispatchEvent(new CustomEvent("ddm-model-z",{detail:{z:this.z},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1),this.drag=!1}),f=drag().on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",t=>{this.drag=!0;let e=(b.invert(t.y)-this.startingPoint)/(I.invert(t.x)-this.t0)*1e3;e=e<DDMMath.v.MIN?DDMMath.v.MIN:e>DDMMath.v.MAX?DDMMath.v.MAX:e,this.v=e,this.alignState(),this.dispatchEvent(new CustomEvent("ddm-model-v",{detail:{v:this.v},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1),this.drag=!1}),x=drag().subject((t,e)=>({x:0,y:b(e.value)})).on("start",t=>{select$5(t.currentTarget).classed("dragging",!0)}).on("drag",t=>{this.drag=!0;const e=b.invert(t.y);let i=Math.abs(2*e);i=i<DDMMath.a.MIN?DDMMath.a.MIN:i>DDMMath.a.MAX?DDMMath.a.MAX:i,this.a=i,this.alignState(),this.dispatchEvent(new CustomEvent("ddm-model-a",{detail:{a:this.a},bubbles:!0}))}).on("end",t=>{select$5(t.currentTarget).classed("dragging",!1),this.drag=!1}),A=shapeLine().x(t=>I(t.t)).y(t=>b(t.e)),v=shapeLine().x(t=>I(t.t)).y(t=>p(t.d)),L=shapeLine().x(t=>I(t.t)).y(t=>y(t.d)),R=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),S=R.enter().append("svg").classed("main",!0).html(AccumulableElement.svgDefs),G=S.append("defs");G.append("marker").attr("id","measure-arrow").attr("orient","auto-start-reverse").attr("markerUnits","userSpaceOnUse").attr("viewBox","-5 -5 10 10").attr("refX","2").attr("refY","0").attr("markerWidth","10").attr("markerHeight","10").append("path").attr("stroke","context-stroke").attr("fill","context-stroke").attr("d","M -3 -3 l 6 3 l -6 3 z"),G.append("marker").attr("id","model-sd-cap").attr("orient","auto-start-reverse").attr("markerUnits","userSpaceOnUse").attr("viewBox","-5 -5 10 10").attr("refX","0").attr("refY","0").attr("markerWidth","10").attr("markerHeight","10").append("path").attr("stroke","context-stroke").attr("fill","context-stroke").attr("stroke-width","2").attr("d","M 0 -4 l 0 8"),G.append("marker").attr("id","data-sd-cap").attr("orient","auto-start-reverse").attr("markerUnits","userSpaceOnUse").attr("viewBox","-5 -5 10 10").attr("refX","0").attr("refY","0").attr("markerWidth","10").attr("markerHeight","10").append("path").attr("stroke","context-stroke").attr("fill","context-stroke").attr("stroke-width","2").attr("d","M 0 -3 l 0 6");const E=G.append("linearGradient").attr("id","path-animate").attr("gradientUnits","userSpaceOnUse").attr("color-interpolation","linearRGB").attr("x1","0").attr("x2","0").attr("y1",b(this.bounds.upper)).attr("y2",b(this.bounds.lower));E.append("stop").classed("stop-0",!0).attr("offset","0%"),E.append("stop").classed("stop-100",!0).attr("offset","100%");const V=S.merge(R).attr("viewBox",`0 0 ${r} ${n}`),Z=V.selectAll(".plot.density").data([{outcome:"correct",data:{meanRT:this.data.correctMeanRT,sdRT:this.data.correctSDRT},model:{meanRT:this.model.correctMeanRT,sdRT:this.model.correctSDRT,dist:this.model.correctDist},densityScale:p,densityLine:v,alignDistribution:this.alignCorrectDistribution.bind(this)},{outcome:"error",data:{meanRT:this.data.errorMeanRT,sdRT:this.data.errorSDRT},model:{meanRT:this.model.errorMeanRT,sdRT:this.model.errorSDRT,dist:this.model.errorDist},densityScale:y,densityLine:L,alignDistribution:this.alignErrorDistribution.bind(this)}]),N=S.append("g").classed("plot evidence",!0),D=Z.enter().append("g").attr("class",t=>`plot density ${t.outcome}`),w=S.append("g").classed("plot accuracy",!0),X=V.select(".plot.evidence").attr("transform",`translate(${o}, ${a+B+d})`),W=D.merge(Z).attr("transform",t=>`translate(${o}, ${"correct"===t.outcome?a:a+B+u+2*d})`),H=V.select(".plot.accuracy").attr("transform",`translate(${o+h+F}, ${a})`);N.append("clipPath").attr("id","clip-evidence").append("rect"),X.select("clipPath rect").attr("y",b(this.bounds.upper)).attr("height",b(this.bounds.lower)-b(this.bounds.upper)+1).attr("width",h+1);const T=N.append("g").classed("underlayer",!0),M=D.append("g").classed("underlayer",!0),k=w.append("g").classed("underlayer",!0),Y=X.select(".underlayer"),J=W.select(".underlayer"),$=H.select(".underlayer");N.append("g").classed("content",!0).append("g").classed("paths",!0);const z=D.append("g").classed("content",!0);w.append("g").classed("content",!0);const O=X.select(".content"),K=W.select(".content"),_=H.select(".content");N.append("g").classed("overlayer",!0),D.append("g").classed("overlayer",!0),w.append("g").classed("overlayer",!0);const P=X.select(".overlayer"),j=W.select(".overlayer");T.append("rect").classed("background",!0),M.append("rect").classed("background",!0),Y.select(".background").transition().duration(this.drag?0:U).ease(cubicOut).attr("y",b(this.bounds.upper)).attr("height",b(this.bounds.lower)-b(this.bounds.upper)).attr("width",h),J.select(".background").transition().duration(U).ease(cubicOut).attr("height",B).attr("width",h),M.filter(t=>"error"===t.outcome).append("g").classed("axis time",!0);const q=J.filter(t=>"error"===t.outcome).select(".axis.time").attr("transform",`translate(0, ${B+.25*this.rem})`);q.transition().duration(U).ease(cubicOut).call(axisBottom(I)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const tt=M.filter(t=>"error"===t.outcome).append("text").classed("title time",!0).attr("text-anchor","middle");tt.append("tspan").classed("name",!0).text("Time (ms)"),J.filter(t=>"error"===t.outcome).select(".title.time").transition().duration(U).ease(cubicOut).attr("transform",`translate(${h/2}, ${B+2.5*this.rem})`),T.append("g").classed("axis evidence",!0),M.append("g").attr("class",t=>`axis density ${t.outcome}`),k.append("g").classed("axis accuracy",!0);const et=Y.select(".axis.evidence").attr("transform",`translate(${-.25*this.rem}, 0)`),it=J.select(".axis.density").attr("transform",`translate(${-.25*this.rem}, 0)`),rt=$.select(".axis.accuracy").attr("transform",`translate(${Q+.25*this.rem}, 0)`),nt=et.transition().duration(U).ease(cubicOut).call(axisLeft(b)).attr("font-size",null).attr("font-family",null),at=it.transition().duration(U).ease(cubicOut).each((t,e,i)=>{axisLeft(t.densityScale).ticks(2)(select$5(i[e]))}).attr("font-size",null).attr("font-family",null),st=rt.transition().duration(U).ease(cubicOut).call(axisRight(m)).attr("font-size",null).attr("font-family",null);nt.selectAll("line, path").attr("stroke",null),at.selectAll("line, path").attr("stroke",null),st.selectAll("line, path").attr("stroke",null);const ot=T.append("text").classed("title evidence",!0).attr("text-anchor","middle"),lt=M.append("text").attr("class",t=>`title density ${t.outcome}`).attr("text-anchor","middle"),ct=k.append("text").classed("title accuracy",!0).attr("text-anchor","middle");ot.append("tspan").classed("name",!0).text("Evidence"),lt.append("tspan").classed("name",!0).text("Density"),ct.append("tspan").classed("name",!0).text("Accuracy"),Y.select(".title.evidence").transition().duration(U).ease(cubicOut).attr("transform",`translate(${-2.5*this.rem}, ${u/2})rotate(-90)`),J.select(".title.density").transition().duration(U).ease(cubicOut).attr("transform",`translate(${-2.5*this.rem}, ${B/2})rotate(-90)`),$.select(".title.accuracy").transition().duration(U).ease(cubicOut).attr("transform",`translate(${Q+2.25*this.rem}, ${c/2})rotate(90)`);const gt=O.select(".paths").selectAll(".path").data(this.data.trials.filter(t=>void 0!==t.path)),dt=local(),ut=gt.enter().append("g").classed("path",!0).attr("data-new-trial-ease-time",0).on("pointerenter",(t,e)=>{if(!this.drag){select$5(t.currentTarget).classed("highlight",!0).raise();const i=P.append("g").classed(`rt-label ${e.outcome}`,!0),r=i.append("rect"),n=i.append("text").text(`RT = ${e.rt.toFixed()}`).attr("x",I(e.rt)).attr("y","correct"===e.outcome?b(this.bounds.upper)-.25*this.rem:b(this.bounds.lower)+.125*this.rem).node().getBBox();r.attr("x",n.x-.125*this.rem).attr("y",n.y+.125*this.rem).attr("width",n.width+.25*this.rem).attr("height",n.height-.25*this.rem),dt.set(t.currentTarget,i)}}).on("pointerout",(t,e)=>{this.drag||(select$5(t.currentTarget).classed("highlight",!1).lower(),t.currentTarget.parentNode.insertBefore(t.currentTarget,t.currentTarget.parentNode.children[e.index]),dt.get(t.currentTarget).remove())});ut.append("path").classed("curve",!0).attr("clip-path","url(#clip-evidence)").attr("pathLength",1).attr("stroke-dashoffset",1);const Bt=ut.merge(gt).attr("class",t=>`path ${t.outcome}`);Bt.select(".curve").transition().duration(this.drag?0:U).ease(cubicOut).attr("stroke",t=>this.getComputedStyleValue(`---color-${t.outcome}`)).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:this.a,this.a),a=interpolate$1(void 0!==r.z?r.z:this.z,this.z),s=interpolate$1(void 0!==r.v?r.v:this.v,this.v),o=interpolate$1(void 0!==r.t0?r.t0:this.t0,this.t0);return e=>{r.a=n(e),r.z=a(e),r.v=s(e),r.t0=o(e);const i=this.alignPath(t.seed,r.a,r.z,r.v,r.t0);return A(i)}});const Ft=Bt.filter(t=>t.animate&&!this.paused);if(!Ft.empty()){const t=Ft.attr("data-new-trial-ease-time"),e=e=>linear().domain([0,1]).range([t,1])(e),i=e=>i=>linear().domain([e(t),1]).range([0,1])(e(i));Ft.classed("animate",!0).select(".curve").attr("stroke-dasharray",1),Ft.transition("new").duration(e=>Math.floor(1.5*e.rt*(1-t))).ease(e).attr("data-new-trial-ease-time",1).select(".curve").attrTween("stroke-dashoffset",(t,e,r)=>{const n=interpolate$1(r[e].getAttribute("stroke-dashoffset"),0);return t=>n(i(linear$1)(t))}).on("end",(t,e,i)=>{select$5(i[e].parentElement).classed("animate",!1).attr("data-new-trial-ease-time",null),t.animate=!1,this.animate=!1,this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("accumulable-response",{detail:{outcome:t.outcome,data:this.data,model:this.model},bubbles:!0}))})}const ht=Bt.filter(t=>t.animate&&this.paused);if(!ht.empty()){const t=ht.attr("data-new-trial-ease-time");ht.classed("animate",!0).select(".curve").attr("stroke-dasharray",1).attr("stroke-dashoffset",()=>interpolate$1(1,0)(linear$1(t)))}Bt.filter(t=>!t.animate).attr("data-new-trial-ease-time",null),gt.exit().remove();const Qt=z.append("g").attr("class",t=>`dist ${t.outcome}`);Qt.append("path").classed("curve",!0),K.select(".dist").select(".curve").transition().duration(this.drag?0:U).ease(cubicOut).attrTween("d",(t,e,i)=>{const r=i[e],n=interpolate$1(void 0!==r.a?r.a:this.a,this.a),a=interpolate$1(void 0!==r.z?r.z:this.z,this.z),s=interpolate$1(void 0!==r.v?r.v:this.v,this.v),o=interpolate$1(void 0!==r.t0?r.t0:this.t0,this.t0);return e=>{r.a=n(e),r.z=a(e),r.v=s(e),r.t0=o(e);const i=t.alignDistribution(r.a,r.z,r.v,r.t0);return t.densityLine(i)}});const Ut=O.selectAll(".rt").data(this.data.trials),It=Ut.enter().append("g");It.append("line").classed("mark",!0).attr("x1",t=>I(t.rt)).attr("x2",t=>I(t.rt)).attr("y1",t=>"correct"===t.outcome?b(1)-.125*this.rem:b(-1)+.125*this.rem).attr("y2",t=>"correct"===t.outcome?b(1)-.675*this.rem:b(-1)+.675*this.rem);const bt=It.merge(Ut).attr("class",t=>`rt ${t.outcome}`);bt.filter(t=>!t.animate).select(".mark").transition().duration(this.drag?0:U).ease(cubicOut).attr("stroke",t=>this.getComputedStyleValue(`---color-${t.outcome}`)).attr("x1",t=>I(t.rt)).attr("x2",t=>I(t.rt)).attr("y1",t=>"correct"===t.outcome?b(1)-.125*this.rem:b(-1)+.125*this.rem).attr("y2",t=>"correct"===t.outcome?b(1)-.675*this.rem:b(-1)+.675*this.rem),Ut.exit().remove();const pt=_.selectAll(".accuracy.model").data([this.model.accuracy,1-this.model.accuracy]),yt=pt.enter().append("g").attr("class",(t,e)=>"accuracy model "+(0===e?"correct":"error"));yt.append("rect").classed("bar",!0).attr("x",0),yt.merge(pt).select("rect").transition().duration(this.drag?0:U).ease(cubicOut).attr("y",(t,e)=>m(0===e?0:1-t)).attr("width",Q).attr("height",t=>m(t)),pt.exit().remove();const mt=_.selectAll(".accuracy.data").data(Number.isNaN(this.data.accuracy)?[]:[this.data.accuracy]),Ct=mt.enter().append("g").classed("accuracy data",!0);Ct.append("line").classed("mark",!0);const ft=Ct.merge(mt).attr("class",t=>"accuracy data "+(t<this.model.accuracy.correct?"correct":"error"));ft.select(".mark").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",0+.25*this.rem).attr("x2",Q-.25*this.rem).attr("y1",t=>m(t)-1).attr("y2",t=>m(t)-1),mt.exit().remove();const xt=P.selectAll(".boundary").data([{bound:"upper",value:this.bounds.upper},{bound:"lower",value:this.bounds.lower}]),At=xt.enter().append("g").attr("class",(t,e)=>"boundary "+(0===e?"correct":"error"));At.append("line").classed("line",!0),At.append("line").classed("line touch",!0);const vt=At.merge(xt).attr("tabindex",this.interactive?0:null).classed("interactive",this.interactive).on("keydown",this.interactive?(t,e)=>{if(["ArrowUp","ArrowDown"].includes(t.key)){let{a:i}=this;switch(t.key){case"ArrowUp":i+="upper"===e.bound?t.shiftKey?DDMMath.a.STEP:DDMMath.a.JUMP:t.shiftKey?-.01:-.1;break;case"ArrowDown":i+="upper"===e.bound?t.shiftKey?-.01:-.1:t.shiftKey?DDMMath.a.STEP:DDMMath.a.JUMP}i=i<DDMMath.a.MIN?DDMMath.a.MIN:i>DDMMath.a.MAX?DDMMath.a.MAX:i,this.a=i,this.alignState(),this.dispatchEvent(new CustomEvent("ddm-model-a",{detail:{a:this.a},bubbles:!0})),t.preventDefault()}}:null);(this.firstUpdate||t.has("interactive"))&&(this.interactive?vt.call(x):vt.on(".drag",null)),vt.select(".line").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",I(this.scale.time.min)).attr("x2",I(this.scale.time.max)).attr("y1",t=>b(t.value)).attr("y2",t=>b(t.value)),vt.select(".line.touch").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",I(this.scale.time.min)).attr("x2",I(this.scale.time.max)).attr("y1",t=>b(t.value)).attr("y2",t=>b(t.value)),xt.exit().remove();const Lt=P.selectAll(".drift").data([{v:this.v,t0:this.t0,startingPoint:this.startingPoint}]),Rt=Lt.enter().append("g").classed("drift",!0);Rt.append("line").classed("line",!0),Rt.append("line").classed("line touch",!0),Rt.append("path").classed("arrow",!0),Rt.append("path").classed("arrow touch",!0);const St=Rt.merge(Lt).attr("tabindex",this.interactive?0:null).classed("interactive",this.interactive).on("keydown",this.interactive?t=>{if(["ArrowUp","ArrowDown"].includes(t.key)){let{v:e}=this;switch(t.key){case"ArrowUp":e+=t.shiftKey?DDMMath.v.STEP:DDMMath.v.JUMP;break;case"ArrowDown":e-=t.shiftKey?DDMMath.v.STEP:DDMMath.v.JUMP}e=e<DDMMath.v.MIN?DDMMath.v.MIN:e>DDMMath.v.MAX?DDMMath.v.MAX:e,this.v=e,this.alignState(),this.dispatchEvent(new CustomEvent("ddm-model-v",{detail:{v:this.v},bubbles:!0})),t.preventDefault()}}:null);(this.firstUpdate||t.has("interactive"))&&(this.interactive?St.call(f):St.on(".drag",null));const Gt=(b(0)-b(1))/(I(1)-I(0));St.transition().duration(this.drag?0:U).ease(cubicOut).attr("transform",t=>`translate(${I(t.t0)}, ${b(t.startingPoint)})\n          rotate(${-Math.atan(t.v/1e3*Gt)*(180/Math.PI)})`),St.select(".line").attr("x2",I(200)),St.select(".line.touch").attr("x2",I(200)),St.select(".arrow").attr("d",`\n        M ${I(200)-.5*this.rem},${.5*-this.rem}\n        l ${.5*this.rem},${.5*this.rem}\n        l ${.5*-this.rem},${.5*this.rem}\n      `),St.select(".arrow.touch").attr("d",`\n        M ${I(200)-.5*this.rem},${.5*-this.rem}\n        l ${.5*this.rem},${.5*this.rem}\n        l ${.5*-this.rem},${.5*this.rem}\n      `),Lt.exit().remove();const Et=P.selectAll(".t0z").data([{t0:this.t0,startingPoint:this.startingPoint}]),Vt=Et.enter().append("g").classed("t0z",!0);Vt.append("line").classed("line",!0),Vt.append("line").classed("line touch",!0),Vt.append("circle").classed("point touch",!0);const Zt=Vt.merge(Et).attr("tabindex",this.interactive?0:null).classed("interactive",this.interactive).on("keydown",this.interactive?t=>{if(["ArrowUp","ArrowDown"].includes(t.key)){let{z:e}=this;switch(t.key){case"ArrowUp":e+=t.shiftKey?DDMMath.z.STEP:DDMMath.z.JUMP;break;case"ArrowDown":e-=t.shiftKey?DDMMath.z.STEP:DDMMath.z.JUMP}e=e<DDMMath.z.MIN?DDMMath.z.MIN:e>DDMMath.z.MAX?DDMMath.z.MAX:e,this.z=e,this.alignState(),this.dispatchEvent(new CustomEvent("ddm-model-z",{detail:{z:this.z},bubbles:!0})),t.preventDefault()}if(["ArrowLeft","ArrowRight"].includes(t.key)){let e=this.t0;switch(t.key){case"ArrowRight":e+=t.shiftKey?DDMMath.t0.STEP:DDMMath.t0.JUMP;break;case"ArrowLeft":e-=t.shiftKey?DDMMath.t0.STEP:DDMMath.t0.JUMP}e=e<DDMMath.t0.MIN?DDMMath.t0.MIN:e>DDMMath.t0.MAX?DDMMath.t0.MAX:e,this.t0=e,this.alignState(),this.dispatchEvent(new CustomEvent("ddm-model-t0",{detail:{t0:this.t0},bubbles:!0})),t.preventDefault()}}:null);(this.firstUpdate||t.has("interactive"))&&(this.interactive?Zt.call(C):Zt.on(".drag",null)),Zt.select(".line").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",I(0)).attr("x2",t=>I(t.t0)).attr("y1",t=>b(t.startingPoint)).attr("y2",t=>b(t.startingPoint)),Zt.select(".line.touch").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",I(0)).attr("x2",t=>I(t.t0)).attr("y1",t=>b(t.startingPoint)).attr("y2",t=>b(t.startingPoint)),Zt.select(".point").transition().duration(this.drag?0:U).ease(cubicOut).attr("cx",t=>I(t.t0)).attr("cy",t=>b(t.startingPoint)),Et.exit().remove();const Nt=P.selectAll(".measure.a").data(this.measures?[this.a]:[]),Dt=Nt.enter().append("g").classed("measure a",!0);Dt.append("line").classed("line",!0).attr("marker-start","url(#measure-arrow)").attr("marker-end","url(#measure-arrow)");const wt=Dt.append("text").classed("label",!0);wt.append("tspan").classed("a math-var",!0).text("a"),wt.append("tspan").classed("equals",!0).text(" = "),wt.append("tspan").classed("value",!0);const Xt=Dt.merge(Nt);Xt.select(".line").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",I(this.scale.time.max)-.75*this.rem).attr("y1",b(this.bounds.upper)+2).attr("x2",I(this.scale.time.max)-.75*this.rem).attr("y2",b(this.bounds.lower)-2);Xt.select(".label").transition().duration(this.drag?0:U).ease(cubicOut).attr("x",I(this.scale.time.max)).attr("y",b(this.bounds.upper)-.25*this.rem).select(".value").text(format$4(".2f")(this.a)),Nt.exit().remove();const Wt=P.selectAll(".measure.z").data(this.measures?[this.z]:[]),Ht=Wt.enter().append("g").classed("measure z",!0);Ht.append("line").classed("line",!0).attr("marker-start","url(#measure-arrow)").attr("marker-end","url(#measure-arrow)");const Tt=Ht.append("text").classed("label",!0);Tt.append("tspan").classed("z math-var",!0).text("z"),Tt.append("tspan").classed("equals",!0).text(" = "),Tt.append("tspan").classed("value",!0);const Mt=Ht.merge(Wt);Mt.select(".line").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",I(this.scale.time.min)+.75*this.rem).attr("y1",b(this.startingPoint)+2).attr("x2",I(this.scale.time.min)+.75*this.rem).attr("y2",b(this.bounds.lower)-2);Mt.select(".label").transition().duration(this.drag?0:U).ease(cubicOut).attr("x",I(this.scale.time.min)).attr("y",b(this.bounds.lower)+.125*this.rem).select(".value").text(format$4(".0%")(this.z)),Wt.exit().remove();const kt=P.selectAll(".measure.v").data(this.measures?[this.v]:[]),Yt=kt.enter().append("g").classed("measure v",!0);Yt.append("path").classed("line",!0).attr("marker-start","url(#measure-arrow)").attr("marker-end","url(#measure-arrow)");const Jt=Yt.append("text").classed("label",!0);Jt.append("tspan").classed("v math-var",!0).text("v"),Jt.append("tspan").classed("equals",!0).text(" = "),Jt.append("tspan").classed("value",!0);const $t=Math.atan(this.v/1e3*Gt),zt=I(200)-I(0)+.75*this.rem,Ot=Math.cos($t)*zt,Kt=Math.sin($t)*zt,_t=Yt.merge(kt);_t.select(".line").transition().duration(this.drag?0:U).ease(cubicOut).attr("d",`\n        M ${I(this.t0+200)+.75*this.rem}, ${b(this.startingPoint)}\n        A ${I(200)-I(0)} ${I(200)-I(0)} 0 0 0 ${I(this.t0)+Ot} ${b(this.startingPoint)-Kt}\n      `);_t.select(".label").transition().duration(this.drag?0:U).ease(cubicOut).attr("x",I(this.t0+200)+.5*this.rem).attr("y",b(this.bounds.upper)-.25*this.rem).select(".value").text(format$4(".2f")(this.v)),kt.exit().remove();const Pt=P.selectAll(".measure.t0").data(this.measures?[this.t0]:[]),jt=Pt.enter().append("g").classed("measure t0",!0);jt.append("line").classed("line",!0).attr("marker-start","url(#measure-arrow)").attr("marker-end","url(#measure-arrow)");const qt=jt.append("text").classed("label",!0);qt.append("tspan").classed("t0 math-var",!0).text("tâ"),qt.append("tspan").classed("equals",!0).text(" = "),qt.append("tspan").classed("value",!0);const te=jt.merge(Pt);te.select(".line").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",I(0)+2).attr("y1",b(this.startingPoint)-.75*this.rem).attr("x2",I(this.t0)-2).attr("y2",b(this.startingPoint)-.75*this.rem);te.select(".label").transition().duration(this.drag?0:U).ease(cubicOut).attr("x",I(this.t0)+.25*this.rem).attr("y",b(this.bounds.upper)-.25*this.rem).select(".value").text(format$4("d")(this.t0)),Pt.exit().remove();const ee=j.selectAll(".model.mean").data(t=>this.means?[t]:[]),ie=ee.enter().append("g").attr("class",t=>`model mean ${t.outcome}`);ie.append("line").classed("indicator",!0);ie.merge(ee).select(".indicator").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",t=>I(t.model.meanRT)).attr("x2",t=>I(t.model.meanRT)).attr("y1",t=>t.densityScale(this.scale.density.min)).attr("y2",t=>t.densityScale(this.scale.density.max)),ee.exit().remove();const re=j.selectAll(".data.mean").data(t=>this.means&&!Number.isNaN(t.data.meanRT)?[t]:[]),ne=re.enter().append("g").attr("class",t=>`data mean ${t.outcome}`);ne.append("line").classed("indicator",!0).attr("y1",t=>t.densityScale(0)+("correct"===t.outcome?.125:-.125)*this.rem).attr("y2",t=>t.densityScale(0)+("correct"===t.outcome?.675:-.675)*this.rem);ne.merge(re).select(".indicator").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",t=>I(t.data.meanRT)).attr("x2",t=>I(t.data.meanRT)).attr("y1",t=>t.densityScale(0)+("correct"===t.outcome?.125:-.125)*this.rem).attr("y2",t=>t.densityScale(0)+("correct"===t.outcome?.675:-.675)*this.rem),re.exit().select(".indicator").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",0).attr("x2",0).on("end",(t,e,i)=>{select$5(i[e].parentElement).remove()});const ae=j.selectAll(".model.sd").data(t=>this.sds?[t]:[]),se=ae.enter().append("g").attr("class",t=>`model sd ${t.outcome}`);se.append("line").classed("indicator",!0).attr("marker-start","url(#model-sd-cap)").attr("marker-end","url(#model-sd-cap)");se.merge(ae).select(".indicator").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",t=>I(t.model.meanRT-t.model.sdRT/2)).attr("x2",t=>I(t.model.meanRT+t.model.sdRT/2)).attr("y1",t=>t.densityScale(5)).attr("y2",t=>t.densityScale(5)),ae.exit().remove();const oe=j.selectAll(".data.sd").data(t=>!this.sds||Number.isNaN(t.data.meanRT)||Number.isNaN(t.data.sdRT)?[]:[t]),le=oe.enter().append("g").attr("class",t=>`data sd ${t.outcome}`);le.append("line").classed("indicator",!0).attr("marker-start","url(#data-sd-cap)").attr("marker-end","url(#data-sd-cap)").attr("y1",t=>t.densityScale(0)+("correct"===t.outcome?.375:-.375)*this.rem).attr("y2",t=>t.densityScale(0)+("correct"===t.outcome?.375:-.375)*this.rem);le.merge(oe).select(".indicator").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",t=>I(t.data.meanRT-t.data.sdRT/2)).attr("x2",t=>I(t.data.meanRT+t.data.sdRT/2)).attr("y1",t=>t.densityScale(0)+("correct"===t.outcome?.375:-.375)*this.rem).attr("y2",t=>t.densityScale(0)+("correct"===t.outcome?.375:-.375)*this.rem),oe.exit().select(".indicator").transition().duration(this.drag?0:U).ease(cubicOut).attr("x1",0).attr("x2",0).on("end",(t,e,i)=>{select$5(i[e].parentElement).remove()}),this.firstUpdate=!1}}customElements.define("ddm-model",DDMModel);class RDK2AFCTask extends(DecidablesMixinResizeable(AccumulableElement)){static get properties(){return{coherence:{attribute:"coherence",type:Number,reflect:!0},count:{attribute:"count",type:Number,reflect:!0},probability:{attribute:"probability",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},wait:{attribute:"wait",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},lifetime:{attribute:!1,type:Number,reflect:!1},speed:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.coherence=.5,this.count=100,this.probability=.5,this.duration=2e3,this.wait=2e3,this.iti=2e3,this.trials=5,this.running=!1,this.lifetime=400,this.speed=50,this.firstUpdate=!0,this.COHERENT=0,this.RANDOM=1,this.dots=[[],[]],this.trial=0,this.states=["resetted","iti","stimulus","wait","ended"],this.state="resetted",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.LEFT=180,this.RIGHT=0,this.currentDirection=void 0,this.signals=["left","right"],this.signal=void 0,this.runner=void 0,this.xScale=void 0,this.yScale=void 0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 10rem;
          height: 10rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        .background {
          fill: var(---color-element-disabled);
          stroke: none;
        }

        .outline {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2px;
        }

        .dot {
          r: 2px;
        }

        .dots.coherent {
          fill: var(---color-background);
        }

        .dots.random {
          fill: var(---color-background);
        }

        .fixation {
          stroke: var(---color-text);
          stroke-width: 2px;
        }

        .query {
          font-size: 1.75rem;
          font-weight: 600;
        }
      `]}render(){return x$2``}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height,r=Math.min(e,i),n=.25*this.rem,a=.25*this.rem,s=.25*this.rem,o=r-(n+a),l=r-(s+.25*this.rem);this.xScale=linear().domain([-1,1]).range([0,l]),this.yScale=linear().domain([1,-1]).range([0,o]);const c=select$5(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),g=c.enter().append("svg").classed("main",!0),d=g.merge(c).attr("viewBox",`0 0 ${r} ${r}`);g.append("clipPath").attr("id","clip-rdk-task").append("circle"),d.select("clipPath circle").attr("cx",this.xScale(0)).attr("cy",this.yScale(0)).attr("r",this.xScale(1)-this.xScale(0));const u=g.append("g").classed("plot",!0),B=d.select(".plot").attr("transform",`translate(${s}, ${n})`),F=u.append("g").classed("underlayer",!0),h=B.select(".underlayer");F.append("circle").classed("background",!0),h.select(".background").attr("cx",this.xScale(0)).attr("cy",this.yScale(0)).attr("r",this.xScale(1)-this.xScale(0)),u.append("g").classed("content",!0).attr("clip-path","url(#clip-rdk-task)");B.select(".content").selectAll(".dots").data([[],[]]).enter().append("g").classed("dots",!0).classed("coherent",(t,e)=>e===this.COHERENT).classed("random",(t,e)=>e===this.RANDOM);const Q=u.append("g").classed("overlayer",!0),U=B.select(".overlayer");Q.append("circle").classed("outline",!0),U.select(".outline").attr("cx",this.xScale(0)).attr("cy",this.yScale(0)).attr("r",this.xScale(1)-this.yScale(0)),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=now()-this.pauseTime,this.pauseTime=0),this.runner=interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=now())),this.firstUpdate=!1}reset(){void 0!==this.runner&&this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.signal=void 0,this.currentDirection=void 0;const t=select$5(this.renderRoot).select(".content").selectAll(".dots").data([[],[]]).selectAll(".dot").data(t=>t);t.exit().remove();select$5(this.renderRoot).select(".content").selectAll(".fixation").data([]).exit().remove();select$5(this.renderRoot).select(".content").selectAll(".query").data([]).exit().remove()}run(){const t=now(),e=this.baseTime?t-this.baseTime:0,i=this.baseTime?e-this.startTime:0,r=this.baseTime?e-this.lastTime:0;this.lastTime=e;let n=!1;if("resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("rdk-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&i>=this.iti?(n=!0,this.trial+=1,this.state="stimulus",this.startTime=e,this.signal=Math.random()<this.probability?"left":"right",this.currentDirection="left"===this.signal?this.LEFT:this.RIGHT,this.dispatchEvent(new CustomEvent("rdk-trial-start",{detail:{trials:this.trials,duration:this.duration,wait:this.wait,iti:this.iti,trial:this.trial,signal:this.signal},bubbles:!0}))):"stimulus"===this.state&&i>=this.duration?(this.state="wait",this.startTime=e,this.dispatchEvent(new CustomEvent("rdk-trial-middle",{detail:{trials:this.trials,duration:this.duration,wait:this.wait,iti:this.iti,trial:this.trial,signal:this.signal},bubbles:!0}))):"wait"===this.state&&i>=this.wait&&(this.dispatchEvent(new CustomEvent("rdk-trial-end",{detail:{trials:this.trials,duration:this.duration,wait:this.wait,iti:this.iti,trial:this.trial,signal:this.signal},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.signal=void 0,this.currentDirection=void 0,this.dispatchEvent(new CustomEvent("rdk-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e)),"stimulus"===this.state){this.dots[this.COHERENT].length=Math.round(this.count*this.coherence),this.dots[this.RANDOM].length=this.count-this.dots[this.COHERENT].length;for(let t=0;t<this.dots.length;t+=1)for(let i=0;i<this.dots[t].length;i+=1){const a=void 0===this.dots[t][i];a&&(this.dots[t][i]={});const s=this.dots[t][i];if(n||a){s.direction=t===this.RANDOM?360*Math.random():this.currentDirection,s.birth=e-Math.floor(Math.random()*this.lifetime);const i=2*Math.random()*Math.PI,r=Math.sqrt(Math.random());s.x=this.xScale(r*Math.cos(i)),s.y=this.yScale(r*Math.sin(i))}else if(e>s.birth+this.lifetime){s.birth+=this.lifetime,s.direction=t===this.RANDOM?360*Math.random():this.currentDirection;const e=2*Math.random()*Math.PI,i=Math.sqrt(Math.random());s.x=this.xScale(i*Math.cos(e)),s.y=this.yScale(i*Math.sin(e))}else{t===this.COHERENT&&(s.direction=this.currentDirection);const e=s.direction*(Math.PI/180);s.dx=this.speed*(r/1e3)*Math.cos(e),s.dy=this.speed*(r/1e3)*Math.sin(e),s.x+=s.dx,s.y+=s.dy;(s.x-this.xScale(0))**2+(s.y-this.yScale(0))**2>(this.xScale(1)-this.xScale(0))**2&&(s.x=-(s.x-this.xScale(0))+this.xScale(0),s.y=-(s.y-this.yScale(0))+this.yScale(0))}}}const a=select$5(this.renderRoot).select(".content").selectAll(".fixation").data("iti"===this.state?[!0]:[]),s=a.enter().append("g").classed("fixation",!0);s.append("line").attr("x1",this.xScale(-.1)).attr("y1",this.xScale(0)).attr("x2",this.xScale(.1)).attr("y2",this.xScale(0)),s.append("line").attr("x1",this.xScale(0)).attr("y1",this.xScale(-.1)).attr("x2",this.xScale(0)).attr("y2",this.xScale(.1)),a.exit().remove();const o=select$5(this.renderRoot).select(".content").selectAll(".dots").data("stimulus"===this.state?this.dots:[[],[]]).selectAll(".dot").data(t=>t);o.enter().append("circle").classed("dot",!0).merge(o).attr("cx",t=>t.x).attr("cy",t=>t.y),o.exit().remove();const l=select$5(this.renderRoot).select(".content").selectAll(".query").data("wait"===this.state?[!0]:[]);l.enter().append("g").classed("query",!0).append("text").attr("x",this.xScale(0)).attr("y",this.xScale(0)).attr("text-anchor","middle").attr("alignment-baseline","middle").text("?"),l.exit().remove()}}customElements.define("rdk-2afc-task",RDK2AFCTask);class DDMEquation extends AccumulableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}constructor(){super(),this.numeric=!1}static get styles(){return[super.styles,i$6`
        :host {
          display: block;

          margin: 1rem;
        }

        /* Containing <div> */
        .holder {
          display: flex;

          flex-direction: row;

          justify-content: left;
        }

        /* Overall <table> */
        .equation {
          text-align: center;
          white-space: nowrap;

          border-collapse: collapse;

          border: 0;
        }

        /* Modifies <td> */
        .underline {
          border-bottom: 1px solid var(---color-text);
        }

        /* Basic <span> and <var> w/modifiers */
        span,
        var {
          padding: 0 0.25rem;

          font-style: normal;
        }

        var {
          border-radius: var(---border-radius);
        }

        .tight {
          padding: 0;
        }

        .paren {
          font-size: 150%;
        }

        .bracket {
          font-size: 175%;
        }

        .brace {
          font-size: 200%;
        }

        .addend {
          position: relative;
          display: inline-block;
        }

        .comparison {
          position: relative;
          display: inline-block;

          font-size: 125%;
          font-weight: 600;
        }

        .function {
          display: inline-block;

          border-radius: var(---border-radius);
        }

        :host([numeric]) .function {
          padding: 0.25rem;
        }

        .exp {
          display: inline-block;

          font-size: 0.75rem;
        }

        .subscript {
          display: inline-block;

          font-size: 66.667%;
        }

        .summation {
          display: flex;

          flex-direction: column;

          line-height: 0.8;
        }

        .sigma {
          display: inline-block;

          font-size: 200%;
        }

        /* Input wrapping <label> */
        decidables-spinner {
          --decidables-spinner-input-width: 4rem;

          display: inline-block;

          padding: 0.125rem 0.375rem 0.375rem;

          line-height: 1.5;
          vertical-align: middle;

          border-radius: var(---border-radius);
        }

        .n {
          --decidables-spinner-input-width: 2rem;
        }

        .left {
          text-align: left;
        }

        .right {
          text-align: right;
        }

        .bottom {
          vertical-align: bottom;
        }

        .top {
          vertical-align: top;
        }

        /* Color scheme */
        .a {
          background: var(---color-a-light);
        }

        .z {
          background: var(---color-z-light);
        }

        .v {
          background: var(---color-v-light);
        }

        .t0 {
          background: var(---color-t0-light);
        }

        .s {
          background: var(---color-s-light);
        }
      `]}}class DDMEquationAZV2PC extends DDMEquation{static get properties(){return{a:{attribute:"boundary-separation",type:Number,reflect:!0},z:{attribute:"starting-point",type:Number,reflect:!0},v:{attribute:"drift-rate",type:Number,reflect:!0},accuracy:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.a=DDMMath.a.DEFAULT,this.z=DDMMath.z.DEFAULT,this.v=DDMMath.v.DEFAULT,this.alignState()}alignState(){this.accuracy=DDMMath.azv2pC(this.a,this.z,this.v)}sendEvent(){this.dispatchEvent(new CustomEvent("ddm-equation-azv2pc-change",{detail:{a:this.a,z:this.z,v:this.v,accuracy:this.accuracy},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}zInput(t){this.z=parseFloat(t.target.value),this.alignState(),this.sendEvent()}vInput(t){this.v=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r,n;this.numeric?(t=x$2`<decidables-spinner class="a bottom"
          ?disabled=${!this.interactive}
          min=${DDMMath.a.MIN}
          max=${DDMMath.a.MAX}
          step=${DDMMath.a.STEP}
          .value=${this.a}
          @input=${this.aInput.bind(this)}
        >
          <var class="math-var">a</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="z bottom"
          ?disabled=${!this.interactive}
          min=${DDMMath.z.MIN}
          max=${DDMMath.z.MAX}
          step=${DDMMath.z.STEP}
          .value=${this.z}
          @input=${this.zInput.bind(this)}
        >
          <var class="math-var">z</var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="v bottom"
          ?disabled=${!this.interactive}
          min=${DDMMath.v.MIN}
          max=${DDMMath.v.MAX}
          step=${DDMMath.v.STEP}
          .value=${this.v}
          @input=${this.vInput.bind(this)}
        >
          <var class="math-var">v</var>
        </decidables-spinner>`,r=x$2`<decidables-spinner class="s bottom"
          disabled
          .value=${DDMMath.s.DEFAULT}
        >
          <var class="math-var">s</var>
        </decidables-spinner>`,n=x$2`<decidables-spinner class="accuracy bottom"
          disabled
          .value=${+this.accuracy.toFixed(2)}
        >
          <var>Accuracy</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var a">a</var>`,e=x$2`<var class="math-var z">z</var>`,i=x$2`<var class="math-var v">v</var>`,r=x$2`<var class="math-var s">s</var>`,n=x$2`<var class="accuracy">Accuracy</var>`);const a=x$2`
      <tr>
        <td rowspan="2">
          ${n}<span class="equals">=</span>
        </td>
        <td class="underline">
          <var class="math-greek e tight">e</var><sup class="exp"><span class="minus tight">â</span><span class="paren tight">(</span>2${i}${t} / ${r}<sup class="exp">2</sup><span class="paren tight">)</span></sup>
          <span class="minus">â</span>
          <var class="math-greek e tight">e</var><sup class="exp"><span class="minus tight">â</span><span class="paren tight">(</span>2${i}${e} / ${r}<sup class="exp">2</sup><span class="paren tight">)</span></sup>
        </td>
      </tr>
      <tr>
        <td>
          <var class="math-greek e tight">e</var><sup class="exp"><span class="minus tight">â</span><span class="paren tight">(</span>2${i}${t} / ${r}<sup class="exp">2</sup><span class="paren tight">)</span></sup>
            <span class="minus">â</span>
          1
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${a}
          </tbody>
        </table>
      </div>`}}customElements.define("ddm-equation-azv2pc",DDMEquationAZV2PC);class DDMEquationAZVT02M extends DDMEquation{static get properties(){return{a:{attribute:"boundary-separation",type:Number,reflect:!0},z:{attribute:"starting-point",type:Number,reflect:!0},v:{attribute:"drift-rate",type:Number,reflect:!0},t0:{attribute:"nondecision-time",type:Number,reflect:!0},meanRT:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.a=DDMMath.a.DEFAULT,this.z=DDMMath.z.DEFAULT,this.v=DDMMath.v.DEFAULT,this.t0=DDMMath.t0.DEFAULT,this.alignState()}alignState(){this.meanRT=DDMMath.azvt02m(this.a,this.z,this.v,this.t0)}sendEvent(){this.dispatchEvent(new CustomEvent("ddm-equation-azvt02m-change",{detail:{a:this.a,z:this.z,v:this.v,t0:this.t0,meanRT:this.meanRT},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}zInput(t){this.z=parseFloat(t.target.value),this.alignState(),this.sendEvent()}vInput(t){this.v=parseFloat(t.target.value),this.alignState(),this.sendEvent()}t0Input(t){this.t0=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,r,n,a;this.numeric?(t=x$2`<decidables-spinner class="a bottom"
          ?disabled=${!this.interactive}
          min=${DDMMath.a.MIN}
          max=${DDMMath.a.MAX}
          step=${DDMMath.a.STEP}
          .value=${this.a}
          @input=${this.aInput.bind(this)}
        >
          <var class="math-var">a</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="z bottom"
          ?disabled=${!this.interactive}
          min=${DDMMath.z.MIN}
          max=${DDMMath.z.MAX}
          step=${DDMMath.z.STEP}
          .value=${this.z}
          @input=${this.zInput.bind(this)}
        >
          <var class="math-var">z</var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="v bottom"
          ?disabled=${!this.interactive}
          min=${DDMMath.v.MIN}
          max=${DDMMath.v.MAX}
          step=${DDMMath.v.STEP}
          .value=${this.v}
          @input=${this.vInput.bind(this)}
        >
          <var class="math-var">v</var>
        </decidables-spinner>`,r=x$2`<decidables-spinner class="t0 bottom"
          ?disabled=${!this.interactive}
          min=${DDMMath.t0.MIN}
          max=${DDMMath.t0.MAX}
          step=${DDMMath.t0.STEP}
          .value=${this.t0}
          @input=${this.t0Input.bind(this)}
        >
          <var class="math-var">t<sub>0</sub></var>
        </decidables-spinner>`,n=x$2`<decidables-spinner class="s bottom"
          disabled
          .value=${DDMMath.s.DEFAULT}
        >
          <var class="math-var">s</var>
        </decidables-spinner>`,a=x$2`<decidables-spinner class="mean-rt bottom"
          disabled
          .value=${+this.meanRT.toFixed(0)}
        >
          <var>Mean RT</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var a">a</var>`,e=x$2`<var class="math-var z">z</var>`,i=x$2`<var class="math-var v">v</var>`,r=x$2`<var class="math-var t0">t<sub>0</sub></var>`,n=x$2`<var class="math-var s">s</var>`,a=x$2`<var class="mean-rt">Mean RT</var>`);const s=x$2`
      <tr>
        <td rowspan="2">
          ${a}<span class="equals">=</span>
          ${r}
          <span class="minus">â</span>
        </td>
        <td class="underline">
          ${e}
        </td>
        <td rowspan="2">
          <span class="plus">+</span>
        </td>
        <td class="underline">
          ${t}
        </td>
        <td rowspan="2">&nbsp;</td>
        <td class="underline">
          <var class="math-greek e tight">e</var><sup class="exp"><span class="minus tight">â</span><span class="paren tight">(</span>2${i}${e} / ${n}<sup class="exp">2</sup><span class="paren tight">)</span></sup>
          <span class="minus">â</span>
          1
        </td>
      </tr>
      <tr>
        <td>
          ${i}
        </td>
        <td>
          ${i}
        </td>
        <td>
          <var class="math-greek e tight">e</var><sup class="exp"><span class="minus tight">â</span><span class="paren tight">(</span>2${i}${t} / ${n}<sup class="exp">2</sup><span class="paren tight">)</span></sup>
            <span class="minus">â</span>
          1
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${s}
          </tbody>
        </table>
      </div>`}}customElements.define("ddm-equation-azvt02m",DDMEquationAZVT02M);class DDMExample extends AccumulableElement{static get styles(){return[super.styles,i$6`
        :host {
          ---border: var(--border, 1px solid var(---color-border));
          display: inline-block;

          margin-bottom: 1rem;
        }

        .holder {
          display: flex;
        }

        .body {
          display: flex;

          flex-wrap: wrap;

          align-items: center;
          justify-content: left;

          padding: 0.625rem;

          border: var(---border);
          border-radius: 0.25rem;
        }

        .body ::slotted(*) {
          margin: 0.625rem;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > rdk-task + sdt-response,
        ::slotted(rdk-task) + ::slotted(sdt-response) { */
        /* .body ::slotted(sdt-response) {
          margin-left: 0;
        } */

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > sdt-control + rdk-task,
        ::slotted(sdt-control) + ::slotted(rdk-task) {
          margin-left: 0;
        } */
        /* .body ::slotted(rdk-task) {
          margin-left: 0;
        } */
      `]}render(){return x$2`
      <div class="holder">
        <div class="body">
          <slot>Empty!</slot>
        </div>
      </div>`}}customElements.define("ddm-example",DDMExample);class DDMExampleHuman extends DDMExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},coherence:{attribute:"coherence",type:Number,reflect:!0},color:{attribute:"color",type:String,reflect:!0},a:{attribute:!1,type:Number,reflect:!1},z:{attribute:!1,type:Number,reflect:!1},v:{attribute:!1,type:Number,reflect:!1},t0:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trials=10,this.duration=2e3,this.coherence=.5,this.colors=["none","measure","outcome","all"],this.color="outcome",this.a=DDMMath.a.DEFAULT,this.z=DDMMath.z.DEFAULT,this.v=DDMMath.v.DEFAULT,this.t0=DDMMath.t0.DEFAULT,this.accumulableControl=null,this.rdkTask=null,this.accumulableResponse=null,this.accumulableTable=null,this.ddmParameters=null,this.ddmModel=null,this.ddmFit=null,this.data=void 0}connectedCallback(){super.connectedCallback(),this.accumulableControl=this.querySelector("accumulable-control"),this.rdkTask=this.querySelector("rdk-2afc-task"),this.accumulableResponse=this.querySelector("accumulable-response"),this.accumulableTable=this.querySelector("accumulable-table"),this.ddmParameters=this.querySelector("ddm-parameters"),this.ddmModel=this.querySelector("ddm-model"),this.ddmFit=this.querySelector("ddm-fit"),this.ddmModel.clear(),this.accumulableControl&&(this.accumulableControl.addEventListener("accumulable-control-trials",t=>{this.trials=t.detail.trials}),this.accumulableControl.addEventListener("accumulable-control-duration",t=>{this.duration=t.detail.duration}),this.accumulableControl.addEventListener("accumulable-control-coherence",t=>{this.coherence=t.detail.coherence}),this.accumulableControl.addEventListener("accumulable-control-color",t=>{this.color=t.detail.color}),this.accumulableControl.addEventListener("accumulable-control-run",()=>{this.rdkTask&&(this.rdkTask.running=!0)}),this.accumulableControl.addEventListener("accumulable-control-pause",()=>{this.rdkTask&&(this.rdkTask.running=!1)}),this.accumulableControl.addEventListener("accumulable-control-reset",()=>{this.rdkTask&&this.rdkTask.reset(),this.accumulableResponse&&this.accumulableResponse.reset(),this.accumulableTable&&(this.accumulableTable.correctCount=NaN,this.accumulableTable.errorCount=NaN,this.accumulableTable.nrCount=NaN,this.accumulableTable.accuracy=NaN,this.accumulableTable.correctMeanRT=NaN,this.accumulableTable.errorMeanRT=NaN,this.accumulableTable.meanRT=NaN,this.accumulableTable.correctSDRT=NaN,this.accumulableTable.errorSDRT=NaN,this.accumulableTable.sdRT=NaN),this.ddmModel&&this.ddmModel.clear(),this.ddmFit&&this.ddmFit.clear()})),this.rdkTask&&this.rdkTask.addEventListener("rdk-trial-start",t=>{this.accumulableResponse&&this.accumulableResponse.start(t.detail.signal,t.detail.trial)}),this.rdkTask&&this.rdkTask.addEventListener("rdk-trial-end",()=>{this.accumulableResponse&&this.accumulableResponse.stop()}),this.rdkTask&&this.rdkTask.addEventListener("rdk-block-end",()=>{this.accumulableControl&&this.accumulableControl.complete()}),this.accumulableResponse&&this.accumulableResponse.addEventListener("accumulable-response",t=>{this.data=t.detail.data,this.ddmModel&&this.ddmModel.trial({index:t.detail.trial,rt:t.detail.rt,outcome:t.detail.outcome}),this.ddmFit&&this.ddmFit.set({accuracy:t.detail.data.accuracy,correctMeanRT:t.detail.data.correctMeanRT,errorMeanRT:t.detail.data.errorMeanRT,meanRT:t.detail.data.meanRT,correctSDRT:t.detail.data.correctSDRT,errorSDRT:t.detail.data.errorSDRT,sdRT:t.detail.data.sdRT}),this.requestUpdate()}),this.ddmFit&&this.ddmFit.addEventListener("ddm-fit-update",t=>{this.a=t.detail.a,this.z=.5,this.v=t.detail.v,this.t0=t.detail.t0})}update(t){super.update(t),this.accumulableControl&&(this.accumulableControl.trials=null!=this.accumulableControl.trials?this.trials:void 0,this.accumulableControl.duration=null!=this.accumulableControl.duration?this.duration:void 0,this.accumulableControl.coherence=null!=this.accumulableControl.coherence?this.coherence:void 0,this.accumulableControl.color=null!=this.accumulableControl.color?this.color:void 0),this.rdkTask&&(this.rdkTask.trials=this.trials,this.rdkTask.duration=this.duration,this.rdkTask.wait=this.duration,this.rdkTask.iti=this.duration,this.rdkTask.coherence=this.coherence),this.ddmParameters&&(this.ddmParameters.a=null!=this.ddmParameters.a?this.a:void 0,this.ddmParameters.z=null!=this.ddmParameters.z?this.z:void 0,this.ddmParameters.v=null!=this.ddmParameters.a?this.v:void 0,this.ddmParameters.t0=null!=this.ddmParameters.t0?this.t0:void 0),this.ddmModel&&(this.ddmModel.a=+this.a,this.ddmModel.z=+this.z,this.ddmModel.v=+this.v,this.ddmModel.t0=+this.t0),this.accumulableResponse&&(this.accumulableResponse.trialTotal=this.trials),this.accumulableTable&&(this.accumulableTable.color=this.color),this.accumulableTable&&this.data&&(this.accumulableTable.correctCount=this.data.correctCount,this.accumulableTable.errorCount=this.data.errorCount,this.accumulableTable.nrCount=this.data.nrCount,this.accumulableTable.accuracy=this.data.accuracy,this.accumulableTable.correctMeanRT=this.data.correctMeanRT,this.accumulableTable.errorMeanRT=this.data.errorMeanRT,this.accumulableTable.meanRT=this.data.meanRT,this.accumulableTable.correctSDRT=this.data.correctSDRT,this.accumulableTable.errorSDRT=this.data.errorSDRT,this.accumulableTable.sdRT=this.data.sdRT)}}customElements.define("ddm-example-human",DDMExampleHuman);class DDMExampleInteractive extends DDMExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},color:{attribute:"color",type:String,reflect:!0},a:{attribute:"boundary-separation",type:Number,reflect:!0},z:{attribute:"starting-point",type:Number,reflect:!0},v:{attribute:"drift-rate",type:Number,reflect:!0},t0:{attribute:"nondecision-time",type:Number,reflect:!0}}}constructor(){super(),this.trials=10,this.colors=["none","measure","outcome","all"],this.color="outcome",this.a=DDMMath.a.DEFAULT,this.z=DDMMath.z.DEFAULT,this.v=DDMMath.v.DEFAULT,this.t0=DDMMath.t0.DEFAULT,this.accumulableControl=null,this.accumulableTable=null,this.ddmParameters=null,this.ddmModel=null,this.data=void 0,this.model=void 0}connectedCallback(){super.connectedCallback(),this.accumulableControl=this.querySelector("accumulable-control"),this.accumulableTable=this.querySelector("accumulable-table"),this.ddmParameters=this.querySelector("ddm-parameters"),this.ddmModel=this.querySelector("ddm-model"),this.accumulableControl&&(this.accumulableControl.addEventListener("accumulable-control-resample",()=>{this.ddmModel?.resample(),this.requestUpdate()}),this.accumulableControl.addEventListener("accumulable-control-trials",t=>{this.trials=t.detail.trials}),this.accumulableControl.addEventListener("accumulable-control-color",t=>{this.color=t.detail.color})),this.ddmParameters&&(this.ddmParameters.addEventListener("ddm-parameters-a",t=>{this.a=t.detail.a}),this.ddmParameters.addEventListener("ddm-parameters-z",t=>{this.z=t.detail.z}),this.ddmParameters.addEventListener("ddm-parameters-v",t=>{this.v=t.detail.v}),this.ddmParameters.addEventListener("ddm-parameters-t0",t=>{this.t0=t.detail.t0})),this.ddmModel&&(this.ddmModel.addEventListener("ddm-model-a",t=>{this.a=t.detail.a}),this.ddmModel.addEventListener("ddm-model-z",t=>{this.z=t.detail.z}),this.ddmModel.addEventListener("ddm-model-v",t=>{this.v=t.detail.v}),this.ddmModel.addEventListener("ddm-model-t0",t=>{this.t0=t.detail.t0}),this.ddmModel.addEventListener("ddm-model-output",t=>{this.data=t.detail.data,this.model=t.detail.model,this.requestUpdate()})),this.requestUpdate()}update(t){super.update(t),this.accumulableControl&&(this.accumulableControl.trials=null!=this.accumulableControl.trials?this.trials:void 0,this.accumulableControl.color=null!=this.accumulableControl.color?this.color:void 0),this.accumulableTable&&(this.accumulableTable.color=this.color),this.accumulableTable&&this.data&&(this.accumulableTable.correctCount=this.data.correctCount,this.accumulableTable.errorCount=this.data.errorCount,this.accumulableTable.nrCount=this.data.nrCount,this.accumulableTable.accuracy=this.data.accuracy,this.accumulableTable.correctMeanRT=this.data.correctMeanRT,this.accumulableTable.errorMeanRT=this.data.errorMeanRT,this.accumulableTable.meanRT=this.data.meanRT,this.accumulableTable.correctSDRT=this.data.correctSDRT,this.accumulableTable.errorSDRT=this.data.errorSDRT,this.accumulableTable.sdRT=this.data.sdRT),this.ddmParameters&&(this.ddmParameters.a=null!=this.ddmParameters.a?this.a:void 0,this.ddmParameters.z=null!=this.ddmParameters.z?this.z:void 0,this.ddmParameters.v=null!=this.ddmParameters.a?this.v:void 0,this.ddmParameters.t0=null!=this.ddmParameters.t0?this.t0:void 0),this.ddmModel&&(this.ddmModel.trials=this.trials,this.ddmModel.a=+this.a,this.ddmModel.z=+this.z,this.ddmModel.v=+this.v,this.ddmModel.t0=+this.t0)}}customElements.define("ddm-example-interactive",DDMExampleInteractive);class DDMExampleModel extends DDMExample{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},coherence:{attribute:"coherence",type:Number,reflect:!0},color:{attribute:"color",type:String,reflect:!0},a:{attribute:"boundary-separation",type:Number,reflect:!0},z:{attribute:"starting-point",type:Number,reflect:!0},v:{attribute:"drift-rate",type:Number,reflect:!0},t0:{attribute:"nondecision-time",type:Number,reflect:!0}}}constructor(){super(),this.trials=10,this.duration=2e3,this.coherence=.5,this.colors=["none","measure","outcome","all"],this.color="outcome",this.a=DDMMath.a.DEFAULT,this.z=DDMMath.z.DEFAULT,this.v=DDMMath.v.DEFAULT,this.t0=DDMMath.t0.DEFAULT,this.accumulableControl=null,this.rdkTask=null,this.ddmParameters=null,this.ddmModel=null,this.accumulableResponse=null,this.accumulableTable=null,this.trialCount=0,this.signals=["left","right"],this.signal=void 0,this.data=void 0,this.model=void 0}connectedCallback(){super.connectedCallback(),this.accumulableControl=this.querySelector("accumulable-control"),this.rdkTask=this.querySelector("rdk-2afc-task"),this.ddmParameters=this.querySelector("ddm-parameters"),this.ddmModel=this.querySelector("ddm-model"),this.accumulableResponse=this.querySelector("accumulable-response"),this.accumulableTable=this.querySelector("accumulable-table"),this.accumulableControl&&(this.accumulableControl.addEventListener("accumulable-control-trials",t=>{this.trials=t.detail.trials}),this.accumulableControl.addEventListener("accumulable-control-duration",t=>{this.duration=t.detail.duration}),this.accumulableControl.addEventListener("accumulable-control-color",t=>{this.color=t.detail.color}),this.accumulableControl.addEventListener("accumulable-control-run",()=>{this.rdkTask&&(this.rdkTask.running=!0),this.ddmModel&&this.ddmModel.resumeTrial()}),this.accumulableControl.addEventListener("accumulable-control-pause",()=>{this.rdkTask&&(this.rdkTask.running=!1),this.ddmModel&&this.ddmModel.pauseTrial()}),this.accumulableControl.addEventListener("accumulable-control-reset",()=>{this.trialCount=0,this.signal=void 0,this.rdkTask&&this.rdkTask.reset(),this.ddmModel&&(this.ddmModel.trials=this.trialCount),this.accumulableResponse&&this.accumulableResponse.reset(),this.accumulableTable})),this.rdkTask&&(this.rdkTask.addEventListener("rdk-trial-start",t=>{this.signal=t.detail.signal,this.accumulableResponse&&this.accumulableResponse.start(t.detail.signal,t.detail.trial),this.ddmModel&&(this.trialCount+=1,this.ddmModel.trial())}),this.rdkTask.addEventListener("rdk-trial-end",()=>{this.signal=void 0,this.accumulableResponse&&this.accumulableResponse.stop()}),this.rdkTask.addEventListener("rdk-block-end",()=>{this.accumulableControl&&this.accumulableControl.complete()})),this.ddmParameters&&(this.ddmParameters.addEventListener("ddm-parameters-a",t=>{this.a=t.detail.a}),this.ddmParameters.addEventListener("ddm-parameters-z",t=>{this.z=t.detail.z}),this.ddmParameters.addEventListener("ddm-parameters-v",t=>{this.v=t.detail.v}),this.ddmParameters.addEventListener("ddm-parameters-t0",t=>{this.t0=t.detail.t0})),this.ddmModel&&(this.ddmModel.addEventListener("ddm-model-a",t=>{this.a=t.detail.a}),this.ddmModel.addEventListener("ddm-model-z",t=>{this.z=t.detail.z}),this.ddmModel.addEventListener("ddm-model-v",t=>{this.v=t.detail.v}),this.ddmModel.addEventListener("ddm-model-t0",t=>{this.t0=t.detail.t0}),this.ddmModel.addEventListener("ddm-model-output",t=>{this.data=t.detail.data,this.model=t.detail.model,this.requestUpdate()}),this.ddmModel.addEventListener("accumulable-response",t=>{if(this.accumulableResponse){const e="correct"===t.detail.outcome?this.signal:"left"===this.signal?"right":"left";this.accumulableResponse.responded(e)}this.data=t.detail.data,this.model=t.detail.model,this.requestUpdate()})),this.requestUpdate()}update(t){super.update(t),this.trialCount>this.trials&&(this.trialCount=this.trials),this.accumulableControl&&(this.accumulableControl.trials=null!=this.accumulableControl.trials?this.trials:void 0,this.accumulableControl.duration=null!=this.accumulableControl.duration?this.duration:void 0,this.accumulableControl.coherence=null!=this.accumulableControl.coherence?this.coherence:void 0,this.accumulableControl.color=null!=this.accumulableControl.color?this.color:void 0),this.rdkTask&&(this.rdkTask.trials=this.trials,this.rdkTask.duration=this.duration,this.rdkTask.coherence=this.coherence),this.ddmParameters&&(this.ddmParameters.a=null!=this.ddmParameters.a?this.a:void 0,this.ddmParameters.z=null!=this.ddmParameters.z?this.z:void 0,this.ddmParameters.v=null!=this.ddmParameters.a?this.v:void 0,this.ddmParameters.t0=null!=this.ddmParameters.t0?this.t0:void 0),this.ddmModel&&(this.ddmModel.trials=this.trialCount,this.ddmModel.a=+this.a,this.ddmModel.z=+this.z,this.ddmModel.v=+this.v,this.ddmModel.t0=+this.t0),this.accumulableResponse&&(this.accumulableResponse.trialTotal=this.trials),this.accumulableTable&&(this.accumulableTable.color=this.color),this.accumulableTable&&this.data&&(this.accumulableTable.correctCount=this.data.correctCount,this.accumulableTable.errorCount=this.data.errorCount,this.accumulableTable.nrCount=this.data.nrCount,this.accumulableTable.accuracy=this.data.accuracy,this.accumulableTable.correctMeanRT=this.data.correctMeanRT,this.accumulableTable.errorMeanRT=this.data.errorMeanRT,this.accumulableTable.meanRT=this.data.meanRT,this.accumulableTable.correctSDRT=this.data.correctSDRT,this.accumulableTable.errorSDRT=this.data.errorSDRT,this.accumulableTable.sdRT=this.data.sdRT)}}customElements.define("ddm-example-model",DDMExampleModel);
//# sourceMappingURL=page.js.map